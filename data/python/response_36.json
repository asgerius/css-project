[{"tags": ["python", "csv", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "is_accepted": true, "score": 1, "last_activity_date": 1442448485, "creation_date": 1442448485, "answer_id": 32620671, "question_id": 32620584, "link": "https://stackoverflow.com/questions/32620584/cannot-resample-my-dataframe-properly/32620671#32620671", "title": "Cannot resample my Dataframe properly", "body": "<p>Resample bins the data into the frequency passed, so in this case it's going to group all the times from 1 day together.  It looks like you want to group by just the time part of the date, which would be done like this:</p>\n\n<pre><code>df.groupby(df.index.time).sum()\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5332201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68e458685e21e1c77d6150035bdc064b?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Suzuki", "link": "https://stackoverflow.com/users/5332201/soma-suzuki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 32620671, "answer_count": 1, "score": 0, "last_activity_date": 1442448485, "creation_date": 1442447671, "question_id": 32620584, "link": "https://stackoverflow.com/questions/32620584/cannot-resample-my-dataframe-properly", "title": "Cannot resample my Dataframe properly", "body": "<p>I have a Dataframe where it has 30mins based data.</p>\n\n<pre><code>2013-02-21 00:30:00 693\n2013-02-21 01:00:00 676\n2013-02-21 01:30:00 649\n2013-02-21 02:00:00 571\n2013-02-21 02:30:00 546\n2013-02-21 03:00:00 612\n2013-02-21 03:30:00 594\n...\n2014-11-27 22:30:00 56869\n2014-11-27 23:00:00 56121\n2014-11-27 23:30:00 48772\n2014-11-28 00:00:00 42980\n</code></pre>\n\n<p>I want to resample this dataframe following,</p>\n\n<pre><code>00:30:00    xxxxx\n01:00:00    xxxxx\n01:30:00    xxxxx\n02:00:00    xxxxx\n02:30:00    xxxxx\n03:00:00    xxxxx\n03:30:00    xxxxx\n...\n22:30:00    xxxxx\n23:00:00    xxxxx\n23:30:00    xxxxx\n</code></pre>\n\n<p>I could not implement it with following code.</p>\n\n<pre><code>df_sum_time = df_sum.resample('1D', how='sum')\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 1, "creation_date": 1442447577, "post_id": 32620516, "comment_id": 53091385, "body": "The error is what is says on the box: &quot;&#39;in &#39; requires string as left operand, not _sre.SRE_Pattern&quot;. You need a string for <code>p</code>, not a regular expression. Try <code>p = &quot;|&quot;.join(pattern)</code>."}, {"owner": {"reputation": 157, "user_id": 5221819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153397342591348/picture?type=large", "display_name": "Joohun Lee", "link": "https://stackoverflow.com/users/5221819/joohun-lee"}, "edited": false, "score": 0, "creation_date": 1442448235, "post_id": 32620516, "comment_id": 53091534, "body": "thanks, this works now."}, {"owner": {"reputation": 157, "user_id": 5221819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153397342591348/picture?type=large", "display_name": "Joohun Lee", "link": "https://stackoverflow.com/users/5221819/joohun-lee"}, "edited": false, "score": 0, "creation_date": 1442448533, "post_id": 32620516, "comment_id": 53091601, "body": "BTW, what if there are multiple patterns in P and if I&#39;d like to match &quot;All&quot; from &quot;DOG&quot;, &quot;CAT&quot;, and any from P.  any way I can create in simple way without creating many if loop statement?"}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1442451568, "post_id": 32620516, "comment_id": 53092262, "body": "You should learn what a regular expression is from the documentation. Use re.find(pattern, string) with the search string.  If you compile it, then do pattern.find(string). This will only match from the start though, to search the string, use re.search.  <a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/re.html</a>"}], "owner": {"reputation": 157, "user_id": 5221819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153397342591348/picture?type=large", "display_name": "Joohun Lee", "link": "https://stackoverflow.com/users/5221819/joohun-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1442447144, "creation_date": 1442447144, "question_id": 32620516, "link": "https://stackoverflow.com/questions/32620516/multiple-patterns-search-in-a-line-python", "title": "Multiple patterns search in a line python", "body": "<p>I'm trying to find a way to search multiple patterns in a line. In this case, I already pre-defined a pattern and compiled it as variable \"p\" and want to add this pattern into other array of strings that I'd like to search from line.\nbasically, my routine is to check if all 3 patterns can be found from line then increase a counter. but if I include pattern \"p\" in the search group, it will return the error\n\"'in ' requires string as left operand, not _sre.SRE_Pattern\".\ndoes anyone know how to also add pattern \"p\" in the search group in a neat way?</p>\n\n<p>thanks,</p>\n\n<pre><code> p = re.compile(\"|\".join(pattern))\n for line in myfile:\n      if all(x in line for x in ['DOG','CAT', p]:\n           count += 1\n</code></pre>\n"}, {"tags": ["python", "django", "heroku", "redis", "celery"], "answers": [{"comments": [{"owner": {"reputation": 4645, "user_id": 978676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d119c37b35cff2131c7d8180aa439656?s=128&d=identicon&r=PG", "display_name": "bimsapi", "link": "https://stackoverflow.com/users/978676/bimsapi"}, "reply_to_user": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1442583088, "post_id": 32620730, "comment_id": 53153141, "body": "Hm... totally missed that detail, sorry about that. In any case, the key is figuring out the per-process (and by extension, per-dyno) connection count. E.g., if you are using gunicorn or uwsgi, you will have multiple processes (and thus multiple connection pools) per web dyno, so the number of connections may be adding up faster than expected."}, {"owner": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1442964367, "post_id": 32620730, "comment_id": 53299388, "body": "Yeh this was the issue was the connection pools I set that config and it works now thanks for the help!"}, {"owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "reply_to_user": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1534431688, "post_id": 32620730, "comment_id": 90711652, "body": "@Tyler - do you remember what specifically you set in the config that solved this? I&#39;m facing a similar issue."}, {"owner": {"reputation": 599, "user_id": 4230374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a66822f5b34325e9ebef96a321fc7166?s=128&d=identicon&r=PG&f=1", "display_name": "loic17", "link": "https://stackoverflow.com/users/4230374/loic17"}, "reply_to_user": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1603664734, "post_id": 32620730, "comment_id": 114101269, "body": "@Tyler I am also facing a similar issue - can you please share what config change solved this problem? Thanks"}, {"owner": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1606693964, "post_id": 32620730, "comment_id": 115031223, "body": "If my memory serves correctly this answer was correct. I didn&#39;t change any config just had to upgrade the redis instance in heroku."}], "tags": [], "owner": {"reputation": 4645, "user_id": 978676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d119c37b35cff2131c7d8180aa439656?s=128&d=identicon&r=PG", "display_name": "bimsapi", "link": "https://stackoverflow.com/users/978676/bimsapi"}, "is_accepted": true, "score": 4, "last_activity_date": 1442449006, "creation_date": 1442449006, "answer_id": 32620730, "question_id": 32620416, "link": "https://stackoverflow.com/questions/32620416/max-number-of-clients-reached-celery/32620730#32620730", "title": "max number of clients reached celery", "body": "<p>You are probably hitting a plan limit on the Redis server itself. If you are using the Heroku Redis addon, consult the plan descriptions: <a href=\"https://elements.heroku.com/addons/heroku-redis\" rel=\"nofollow\">https://elements.heroku.com/addons/heroku-redis</a></p>\n\n<p>You should expect a minimum of 1 connection for each dyno - for web dynos to queue stuff up, and the celery workers to pop stuff off. 20 web + 5 celery easily puts you over the for the free tier.</p>\n"}], "owner": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3379, "favorite_count": 0, "accepted_answer_id": 32620730, "answer_count": 1, "score": 1, "last_activity_date": 1442449006, "creation_date": 1442446438, "last_edit_date": 1442447816, "question_id": 32620416, "link": "https://stackoverflow.com/questions/32620416/max-number-of-clients-reached-celery", "title": "max number of clients reached celery", "body": "<p>I am using django with celery and redis.\nI keep getting this error redis.exceptions:ResponseError max number of clients reached\nI am using heroku and my redis backend has max connection of 400. I running 20 dynos for the main app and for celery I am running 5 dynos. How do I set the max number of connections? I've tried putting it in my celery.py like so:</p>\n\n<pre><code>from __future__ import absolute_import\n\nimport os\n\nfrom celery import Celery\n\n# set the default Django settings module for the 'celery' program.\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'imdowntags.settings')\n\nfrom django.conf import settings\napp = Celery('imdowntags',\n             broker=os.environ['REDIS_URL'],\n             backend=os.environ['REDIS_URL'],\n             include=['imdowntags.tasks'])\n\n# Using a string here means the worker will not have to\n# pickle the object when using Windows.\napp.config_from_object('django.conf:settings')\napp.autodiscover_tasks(lambda: settings.INSTALLED_APPS)\napp.conf.update( CELERY_REDIS_MAX_CONNECTIONS = 20,)\n</code></pre>\n\n<p>also have tried putting</p>\n\n<pre><code>CELERY_REDIS_MAX_CONNECTIONS =20\n</code></pre>\n\n<p>inside of my settings.py</p>\n"}, {"tags": ["python", "cron", "crontab"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5150372, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pxSKK8EQU18/AAAAAAAAAAI/AAAAAAAAdGE/pEG1J1yQcsg/photo.jpg?sz=128", "display_name": "adhawan", "link": "https://stackoverflow.com/users/5150372/adhawan"}, "edited": false, "score": 0, "creation_date": 1442510017, "post_id": 32620551, "comment_id": 53120989, "body": "Thanks @heinst But I am trying to run it only once at 6 am and not every morning at 6 am."}], "tags": [], "owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "is_accepted": false, "score": 2, "last_activity_date": 1442447384, "creation_date": 1442447384, "answer_id": 32620551, "question_id": 32620394, "link": "https://stackoverflow.com/questions/32620394/running-a-cronjob-only-one-using-python-crontab/32620551#32620551", "title": "Running a cronjob only one using python-crontab", "body": "<p>The crontab syntax is: <code>mm hh dd mt wd</code>. So to set it to every morning at 6am it would be <code>00 06 * * *</code> meaning 06:00 (24 hr time) of any day, month, weekday. If I'm referring to the <a href=\"https://pypi.python.org/pypi/python-crontab\" rel=\"nofollow\">documentation</a> correctly, this should work:</p>\n\n<pre><code>from crontab import CronTab\n\ntab = CronTab()\ncmd1 = 'actual command'\n\ncron_job = tab.new(cmd)\ncron_job.setall('00 06 * * *')\ncron_job.enable()\ntab.write_to_user(user=True)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5150372, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pxSKK8EQU18/AAAAAAAAAAI/AAAAAAAAdGE/pEG1J1yQcsg/photo.jpg?sz=128", "display_name": "adhawan", "link": "https://stackoverflow.com/users/5150372/adhawan"}, "edited": false, "score": 0, "creation_date": 1442510144, "post_id": 32623210, "comment_id": 53121061, "body": "Thanks @Tris Nefzger. So python-crontab can not do it ... with something like: cron_job.hour.at(24) ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "reply_to_user": {"reputation": 13, "user_id": 5150372, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pxSKK8EQU18/AAAAAAAAAAI/AAAAAAAAdGE/pEG1J1yQcsg/photo.jpg?sz=128", "display_name": "adhawan", "link": "https://stackoverflow.com/users/5150372/adhawan"}, "edited": false, "score": 0, "creation_date": 1442539727, "post_id": 32623210, "comment_id": 53133233, "body": "@adhawan: sure you could setup an at job with a cron job and you could remove a cron job with a cron job but in the end there is still a cron job waiting to do it again.  However, I figured out a way to do what you want - the self-destructing cron job. It&#39;s explained in the second paragraph of my answer."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "is_accepted": false, "score": 0, "last_activity_date": 1442710811, "last_edit_date": 1495535227, "creation_date": 1442468154, "answer_id": 32623210, "question_id": 32620394, "link": "https://stackoverflow.com/questions/32620394/running-a-cronjob-only-one-using-python-crontab/32623210#32623210", "title": "Running a cronjob only one using python-crontab", "body": "<p>The linux cron command is designed especially for running a command periodically, while the at command is for running a job once, although it could be used to run a command repeatedly if that command resubmits itself. I do not know of a normal way to configure a cron entry to execute only once and cannot find any documentation about that being possible. It would be possible to remove the cron entry after it has run by executing 'crontab -e' to edit the crontab file and then deleting the entry for the job in the editor, or by overwriting everything in the crontab file with 'crontab &lt; /dev/null' or by removing the crontab file entirely with 'crontab -r'. </p>\n\n<p>Consideration of this leads me to invent the self-destructing cron job and it goes like this. Lets say you configure a cron job as yourself with user name 'adhawan. All that's needed to make the job self-destructing is to use the following as the last statement in the job's script:</p>\n\n<pre><code>crontab -r\n</code></pre>\n\n<p>This removes your crontab file and should work because your personal cron job runs as you. I tried it with the following job and it worked as expected - ran once and then removed itself!:</p>\n\n<pre><code>* * * * * echo hello &gt; /var/tmp/cron1; crontab -r\n</code></pre>\n\n<p>As already mentioned, the Linux/Unix at utility provides a means to run something once at a scheduled time. The time is specified with something called a timespec (time specificiation). For example, to schedule a job to run only once at 6 am tomorrow, the following timespec could be used</p>\n\n<pre><code>6 am tomorrow\n</code></pre>\n\n<p>or to do it on September 18 at 6 AM the following could be used </p>\n\n<pre><code>6am Sep 18\n</code></pre>\n\n<p>or to also specify the year</p>\n\n<pre><code>6 am 9/18/2015\n</code></pre>\n\n<p>at's timespec grammar is very flexible. Using recent terminology it can be called DSL (domain specific language). It is implemented with YACC (yet another compiler compiler) and a reduced version of its grammar can be seen in its timespec file which is usually installed at /usr/share/doc/at*/timespec and online there is a copy of it at <a href=\"https://gist.github.com/benwilber/9476110\" rel=\"nofollow noreferrer\">Abbreviated version of the yacc grammar used by at(1)</a>.</p>\n\n<p>at can get the job to run from a file provided its executed with the -f option or from stdin. For example from a file named atjob:</p>\n\n<pre><code>at -f atjob 6 am Sep 18\n</code></pre>\n\n<p>or from stdin with redirection from a file:</p>\n\n<pre><code>at 6 am Sep 18 &lt; atjob\n</code></pre>\n\n<p>or from stdin with a pipe:</p>\n\n<pre><code>cat atjob | at 6 am 9/18\n</code></pre>\n\n<p>Try using at from the command line first to schedule a command in the very near future, like now or in a minute, so you can see if it worked, and with a very simple command that produces something observable such as a new file. For example the first test job could be 'echo hello > /tmp/atfile01' and the first test at job could be submitted like this:</p>\n\n<p>echo \"echo hello > /tmp/atfile01\" | at now</p>\n\n<p>After running that, check to see if /tmp/atfile01 exists and if it does that proves the at system is operational.</p>\n\n<p>Then try sheduling a job to run at 6am Sep 18 (or several days from now if today is Sep 18 or using your timespec) with </p>\n\n<p>echo \"echo hello > /tmp/atfile02\" | at 6am Sep 18</p>\n\n<p>If that didn't produce an error, then it worked, which can be confirmed by running atq and see if it lists a job scheduled for YYYY-09-18 06:00, where YYYYY is the current year or next year if this year's 9/18 has already passed.</p>\n\n<p>Now you know how to write and run at jobs and it would be good to remove any test jobs from your at queue with atrm using atq to list the jobs including their ids and then executing atrm on the ids. For example, supposing the ids are 2, 10 and 17 the atrm command would be:</p>\n\n<pre><code>atrm 2 10 17\n</code></pre>\n\n<p>Now modify your working at command to suit your purpose and execute it from Python using <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow noreferrer\">subprocess</a>, <a href=\"https://github.com/amoffat/sh\" rel=\"nofollow noreferrer\">sh</a> or <a href=\"https://github.com/kennethreitz/envoy\" rel=\"nofollow noreferrer\">envoy</a>. Examples of using suprocess are at <a href=\"https://stackoverflow.com/questions/89228/calling-an-external-command-in-python\">Calling an external command in Python</a>.</p>\n\n<p>For more information on at you can see its man page by running \"man at\" and an Ubuntu manpage for it is <a href=\"http://manpages.ubuntu.com/manpages/raring/man1/at.1posix.html\" rel=\"nofollow noreferrer\">at.1posix.html</a>.</p>\n"}], "owner": {"reputation": 13, "user_id": 5150372, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pxSKK8EQU18/AAAAAAAAAAI/AAAAAAAAdGE/pEG1J1yQcsg/photo.jpg?sz=128", "display_name": "adhawan", "link": "https://stackoverflow.com/users/5150372/adhawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2033, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1442710811, "creation_date": 1442446250, "question_id": 32620394, "link": "https://stackoverflow.com/questions/32620394/running-a-cronjob-only-one-using-python-crontab", "title": "Running a cronjob only one using python-crontab", "body": "<pre><code>from crontab import CronTab\n\ntab = CronTab()\ncmd1 = 'actual command'\n\ncron_job = tab.new(cmd)\ncron_job.minute.every(1)\ncron_job.enable()\ntab.write_to_user(user=True)\n</code></pre>\n\n<p>I have tried using minute.at(1) to run at the first minute, but I don't know whats the right way to run the command at a fixed time (6 am), just once.. I know \"every\" ends up repeating it, but I don't want that. The caveat is I need to use python-crontab.</p>\n"}, {"tags": ["python", "django", "django-forms", "django-1.7"], "comments": [{"owner": {"reputation": 1436, "user_id": 5253807, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/m329j.jpg?s=128&g=1", "display_name": "chem1st", "link": "https://stackoverflow.com/users/5253807/chem1st"}, "edited": false, "score": 0, "creation_date": 1442447295, "post_id": 32620362, "comment_id": 53091315, "body": "Both <code>label=False</code> and <code>label=&#39;&#39;</code> should do the trick - there will be no label. What does not suit you?"}, {"owner": {"reputation": 1176, "user_id": 3354539, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/216d91e4017b2e296f3a1b5f76d57b10?s=128&d=identicon&r=PG&f=1", "display_name": "user3354539", "link": "https://stackoverflow.com/users/3354539/user3354539"}, "reply_to_user": {"reputation": 1436, "user_id": 5253807, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/m329j.jpg?s=128&g=1", "display_name": "chem1st", "link": "https://stackoverflow.com/users/5253807/chem1st"}, "edited": false, "score": 0, "creation_date": 1442447580, "post_id": 32620362, "comment_id": 53091386, "body": "chem1st, using <code>label=False</code> renders <b>False</b> as the actual label and <code>label=&#39;&#39;</code> renders a lot of python code as the label."}, {"owner": {"reputation": 1436, "user_id": 5253807, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/m329j.jpg?s=128&g=1", "display_name": "chem1st", "link": "https://stackoverflow.com/users/5253807/chem1st"}, "edited": false, "score": 0, "creation_date": 1442449389, "post_id": 32620362, "comment_id": 53091783, "body": "It&#39;s weird, cause <code>label=&#39;&#39;</code> really <b>should</b> work. Show more code in your forms.py and template. Is it a ModelForm?"}, {"owner": {"reputation": 1176, "user_id": 3354539, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/216d91e4017b2e296f3a1b5f76d57b10?s=128&d=identicon&r=PG&f=1", "display_name": "user3354539", "link": "https://stackoverflow.com/users/3354539/user3354539"}, "reply_to_user": {"reputation": 1436, "user_id": 5253807, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/m329j.jpg?s=128&g=1", "display_name": "chem1st", "link": "https://stackoverflow.com/users/5253807/chem1st"}, "edited": false, "score": 0, "creation_date": 1442449981, "post_id": 32620362, "comment_id": 53091907, "body": "chem1st - I have added the form code and the output as an edit in the OP."}, {"owner": {"reputation": 1436, "user_id": 5253807, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/m329j.jpg?s=128&g=1", "display_name": "chem1st", "link": "https://stackoverflow.com/users/5253807/chem1st"}, "edited": false, "score": 0, "creation_date": 1442452387, "post_id": 32620362, "comment_id": 53092462, "body": "The problem still present if you set an empty label only for email field, but not for recaptcha?"}, {"owner": {"reputation": 1176, "user_id": 3354539, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/216d91e4017b2e296f3a1b5f76d57b10?s=128&d=identicon&r=PG&f=1", "display_name": "user3354539", "link": "https://stackoverflow.com/users/3354539/user3354539"}, "reply_to_user": {"reputation": 1436, "user_id": 5253807, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/m329j.jpg?s=128&g=1", "display_name": "chem1st", "link": "https://stackoverflow.com/users/5253807/chem1st"}, "edited": false, "score": 0, "creation_date": 1442456158, "post_id": 32620362, "comment_id": 53093351, "body": "the problem persists for both fields."}], "owner": {"reputation": 1176, "user_id": 3354539, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/216d91e4017b2e296f3a1b5f76d57b10?s=128&d=identicon&r=PG&f=1", "display_name": "user3354539", "link": "https://stackoverflow.com/users/3354539/user3354539"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1758, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1442449937, "creation_date": 1442446060, "last_edit_date": 1442449937, "question_id": 32620362, "link": "https://stackoverflow.com/questions/32620362/django-form-hide-field-label-in-form-py", "title": "django form - hide field label in form.py", "body": "<p>I am using django 1.7 &amp; python 2.7 and I have a custom form, where I want to hide the labels of specific form fields.</p>\n\n<p><strong>Is it possible to hide the form field labels of specific form fields at the form.py level, rather than using jquery at the presentation level?</strong></p>\n\n<p>I have tried some things, but I cannot seem to hide the form field label at the form.py level. The form field of the label I want to hide is <strong>not</strong> hidden.</p>\n\n<p>I have searched SO &amp; Google and the django docs, but I cannot find anything suitable. </p>\n\n<p>I am not sure this can be done, but I thought I would ask, just in case it is possible to hide the form field labels at the form.py level - it would save me a lot of jquery code at the presentation level.</p>\n\n<p>Here is the code I have:</p>\n\n<pre><code>class CaptchaPasswordResetForm(PasswordResetForm):\n\n    email = forms.EmailField()\n    recaptcha = ReCaptchaField(public_key=settings.RECAPTCHA_PUBLIC_KEY, private_key=settings.RECAPTCHA_PRIVATE_KEY, attrs={'theme' : 'clean'})\n    ....\n</code></pre>\n\n<p>I have tried the following, which do not work:</p>\n\n<pre><code>email = forms.EmailField(label='')\n\nemail = forms.EmailField(label=none)\n\nemail = forms.EmailField(label=False)\n\ndef __init__(self, *args, **kwargs):\n    super(CaptchaPasswordResetForm, self).__init__(*args, **kwargs)\n    self.fields['recaptcha'].label = False\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here is the full code of the form:</p>\n\n<pre><code>class CaptchaPasswordResetForm(PasswordResetForm):\n\n    email = forms.EmailField(label=\"\")\n    recaptcha = ReCaptchaField(public_key=settings.RECAPTCHA_PUBLIC_KEY, private_key=settings.RECAPTCHA_PRIVATE_KEY, attrs={'theme' : 'clean'}, label=\"\")\n</code></pre>\n\n<p>Here is the output when the <code>label=\"\"</code>:</p>\n\n<pre><code>Project-Id-Version: Django Report-Msgid-Bugs-To: POT-Creation-Date: 2014-05-19 15:12+0200 PO-Revision-Date: 2014-07-27 09:17+0000 Last-Translator: Palmux &lt;Palmux@Gmail.Com&gt; Language-Team: Italian (Http://Www.Transifex.Com/Projects/P/Django/Language/It/) MIME-Version: 1.0 Content-Type: Text/Plain; Charset=UTF-8 Content-Transfer-Encoding: 8bit Language: It Plural-Forms: Nplurals=2; Plural=(N != 1); :\n</code></pre>\n"}, {"tags": ["python", "sys"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1442447320, "post_id": 32620350, "comment_id": 53091319, "body": "Do you want to know why your code won&#39;t run? Do you try to run this code in an iPython notebook? Because you can&#39;t/shouldn&#39;t do the latter with this code: it is aimed for command line usage, not notebook usage."}, {"owner": {"reputation": 5668, "user_id": 2023745, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cc8256640c8046280c734a84b4be3f1d?s=128&d=identicon&r=PG", "display_name": "TheRealFakeNews", "link": "https://stackoverflow.com/users/2023745/therealfakenews"}, "edited": false, "score": 0, "creation_date": 1442447388, "post_id": 32620350, "comment_id": 53091333, "body": "@Evert even if I use PyCharm, when I try to run the script, I get exit code 1"}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1442447486, "post_id": 32620350, "comment_id": 53091360, "body": "I don&#39;t know PyCharm, but I&#39;m guessing that, in a similar vein, there are no arguments passed to the script. Put some debugging print statements in that block, like <code>print sys.argv</code>."}], "answers": [{"comments": [{"owner": {"reputation": 8652, "user_id": 418374, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5481f63530b72b21031d1ebcbcc9592f?s=128&d=identicon&r=PG", "display_name": "Cong Ma", "link": "https://stackoverflow.com/users/418374/cong-ma"}, "edited": false, "score": 0, "creation_date": 1442446710, "post_id": 32620391, "comment_id": 53091202, "body": "<code>ipython path&#47;to&#47;script --some=options --and arguments</code>"}, {"owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "reply_to_user": {"reputation": 8652, "user_id": 418374, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5481f63530b72b21031d1ebcbcc9592f?s=128&d=identicon&r=PG", "display_name": "Cong Ma", "link": "https://stackoverflow.com/users/418374/cong-ma"}, "edited": false, "score": 0, "creation_date": 1442446745, "post_id": 32620391, "comment_id": 53091213, "body": "yeah, just edited. For some reason I automatically think of ipython notebooks whenever someone says ipython -_-"}, {"owner": {"reputation": 5668, "user_id": 2023745, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cc8256640c8046280c734a84b4be3f1d?s=128&d=identicon&r=PG", "display_name": "TheRealFakeNews", "link": "https://stackoverflow.com/users/2023745/therealfakenews"}, "edited": false, "score": 0, "creation_date": 1442446881, "post_id": 32620391, "comment_id": 53091232, "body": "@Simon I was using ipython notebook. sorry, i do the same."}, {"owner": {"reputation": 5668, "user_id": 2023745, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cc8256640c8046280c734a84b4be3f1d?s=128&d=identicon&r=PG", "display_name": "TheRealFakeNews", "link": "https://stackoverflow.com/users/2023745/therealfakenews"}, "edited": false, "score": 0, "creation_date": 1442447041, "post_id": 32620391, "comment_id": 53091265, "body": "@Simon if I do this in PyCharm, how do I pass arguments? I don&#39;t understand this bit at all. I have no idea what <code>--summaryfile</code> is, and I don&#39;t know what I&#39;m supposed to do with it. What do the double dashes mean?"}, {"owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "edited": false, "score": 0, "creation_date": 1442447410, "post_id": 32620391, "comment_id": 53091341, "body": "edited the answer for a few extra things you can try. arguments are passed in the command line. Theyre things appended to the end of your command as options for the script you&#39;re running"}, {"owner": {"reputation": 5668, "user_id": 2023745, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cc8256640c8046280c734a84b4be3f1d?s=128&d=identicon&r=PG", "display_name": "TheRealFakeNews", "link": "https://stackoverflow.com/users/2023745/therealfakenews"}, "edited": false, "score": 0, "creation_date": 1442542815, "post_id": 32620391, "comment_id": 53133872, "body": "@Simon I tried to do what you said, but I&#39;m still not clear on how to run the file. I&#39;m trying to run it in PyCharm. Do I run this from the console&#39;s command line? If my file script is called &#39;assignment3.py&#39;, for example, where and what do I enter? Is my only option to run this in iPython?"}, {"owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "edited": false, "score": 0, "creation_date": 1442543649, "post_id": 32620391, "comment_id": 53134047, "body": "I&#39;m not sure about Pycharm or what it&#39;s console is. Try running it from windows command line. Run cmd.exe, use cd to navigate to where your script is. Once you&#39;re in the directory with your script, try <code>ipython assignment3.py --summaryfile</code>"}], "tags": [], "owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "is_accepted": false, "score": 2, "last_activity_date": 1442447326, "last_edit_date": 1495542820, "creation_date": 1442446240, "answer_id": 32620391, "question_id": 32620350, "link": "https://stackoverflow.com/questions/32620350/python-what-does-the-following-code-do/32620391#32620391", "title": "Python: What does the following code do?", "body": "<p>It basically checks to see if --summaryfile has been passed as an argument when you run the script</p>\n\n<p>If no arguments have been passed, then it will print a line telling you how to use the script and then exit. summary is now set to false</p>\n\n<p>If --summaryfile has been passed, then it will set summary = True and continue running the rest of your code</p>\n\n<p>I'm not sure that you can enter arguments like that in ipython, so presumably your code will always exit because it doesnt find any arguments</p>\n\n<p>EDIT:</p>\n\n<p>For some reason I automatically associated ipython with ipython notebook. You can pass arguments with ipython. See here:\n<a href=\"https://stackoverflow.com/questions/22631845/how-to-pass-command-line-arguments-to-ipython\">How to pass command line arguments to ipython</a></p>\n\n<p>In your case, try adding --summaryfile as an argument when you run your script through ipython</p>\n\n<p>If you're running this from ipython notebook, there are a couple of things you can try:</p>\n\n<ol>\n<li><p>Remove that section of code and just set summary = True. The rest of your code should run, but without seeing everything its hard to say what impact this may have on the rest of your code</p></li>\n<li><p>You can save your script as a python .py file, and use ipython magic to run the code from within notebook. You can pass arguments when you're running that script from within notebook. Check this: <a href=\"https://ipython.org/ipython-doc/dev/interactive/magics.html#magic-run\" rel=\"nofollow noreferrer\">https://ipython.org/ipython-doc/dev/interactive/magics.html#magic-run</a></p></li>\n</ol>\n\n<p>If you have all the code in a regular .py file (outside of a notebook) you can run and pass an argument using the command line. Navigate to the directory where the script file is and run <code>ipython filename.py --summaryfile</code></p>\n"}, {"tags": [], "owner": {"reputation": 8652, "user_id": 418374, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5481f63530b72b21031d1ebcbcc9592f?s=128&d=identicon&r=PG", "display_name": "Cong Ma", "link": "https://stackoverflow.com/users/418374/cong-ma"}, "is_accepted": false, "score": 1, "last_activity_date": 1442446336, "creation_date": 1442446336, "answer_id": 32620403, "question_id": 32620350, "link": "https://stackoverflow.com/questions/32620350/python-what-does-the-following-code-do/32620403#32620403", "title": "Python: What does the following code do?", "body": "<p>A very rudimentary command line argument parser.</p>\n\n<p>It checks for the command line except the executable's name itself (<code>sys.argv[1:]</code>).  If it's empty, dump help message and fail.  If the first argument is <code>\"--summaryfile\"</code>, set some flag.</p>\n"}], "owner": {"reputation": 5668, "user_id": 2023745, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cc8256640c8046280c734a84b4be3f1d?s=128&d=identicon&r=PG", "display_name": "TheRealFakeNews", "link": "https://stackoverflow.com/users/2023745/therealfakenews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1442543062, "creation_date": 1442445965, "last_edit_date": 1442543062, "question_id": 32620350, "link": "https://stackoverflow.com/questions/32620350/python-what-does-the-following-code-do", "title": "Python: What does the following code do?", "body": "<p>Can someone please explain to me piece by piece, what the following does? My code won't run and this part was provided. I've tested all of my code in iPython notebook and everything works, so I don't know if the problem is because of this block below. </p>\n\n<pre><code>def main():\n  args = sys.argv[1:]\n  if not args:\n    print 'usage: [--summaryfile] file [file ...]'\n    sys.exit(1)\n  summary = False\n  if args[0] == '--summaryfile':\n    summary = True\n    del args[0]\n\n  # ... my code ....\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong>: I tried to do as Simon suggested. I opened up iPython and typed the following in the command line:</p>\n\n<pre><code>ipython 'assignment.py' --summaryfile\n</code></pre>\n\n<p>I tried variations of this and I keep getting a syntax error.</p>\n\n<ol>\n<li>How do I run this?</li>\n<li>Am I restricted to iPython only?</li>\n</ol>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1442448398, "post_id": 32620292, "comment_id": 53091568, "body": "Haven&#39;t read through your code, but I&#39;m pretty confident you should be able to do something good enough with matplotlib.pyplot.annotate"}, {"owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "reply_to_user": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1442451260, "post_id": 32620292, "comment_id": 53092186, "body": "Hey Julien, I&#39;ll check that out.  Thanks!"}, {"owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "edited": false, "score": 1, "creation_date": 1442481582, "post_id": 32620292, "comment_id": 53103153, "body": "why do you increment <code>i</code> during the <code>enumerate</code>? surely <code>enumerate</code> increments <code>i</code> automatically (not that you&#39;re using is, but still...)?"}], "owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 380, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1442445555, "creation_date": 1442445555, "question_id": 32620292, "link": "https://stackoverflow.com/questions/32620292/matplotlib-animation-plot-a-changing-number-which-corresponds-to-increment", "title": "Matplotlib Animation: Plot a changing number which corresponds to increment", "body": "<p>I created an earthquake animation that plots earthquake epicenter locations over time.  I wish to add a number counter in the bottom left or right corner that changes with each epicenter plot.  So, each time an earthquake plots in the figure, the number increases.  How would I edit my script (attached below), that would allow for this annotation to the plot?  Thanks.</p>\n\n<pre><code>#!/usr/local/bin/python\n\n\n############################################################################################\n#                                                                                          #\n#  This script uses Matplotlib, the Basemap function, Matplotlib's animation function,     #\n#  and numpy to iteratively plot a list of earthquake epicenters with the map centered     #\n#  around Antarctica.                                                                      #\n#  Created By:                                                                #\n#  Date: 09/12/2015                                                                        #\n############################################################################################\n\nfrom mpl_toolkits.basemap import Basemap\nimport matplotlib.pyplot as plt\nfrom matplotlib.animation import FuncAnimation\nimport numpy as np\nimport csv\n\n# Create the Figure Object\nfig = plt.figure()\n\n\n# Build the basemap:  In this case, using  mercator projection\nantmap = Basemap(projection='merc', llcrnrlat=26.729567, llcrnrlon=-127.041952, urcrnrlon=-63.409141, urcrnrlat=48.036699,  resolution='l')\n# Draw the coastlines and color them black.\nantmap.drawcoastlines(color='black', linewidth=0.3)\n\n# Option 1: Fill the continents with gray color, oceans as blue color\nantmap.fillcontinents(color='gray', lake_color='aqua')\nantmap.drawmapboundary(fill_color='aqua')\n\n# Option 2: Fill map background with blue marble earth image\n#antmap.bluemarble()\n\n# Option 3: Fill map background Etopo topography (Figure will take longer to load)\n#antmap.etopo()\n\n\n# Open the earthquake data file using built-in open() function\neq_data = open('usquakes.csv')\n\n# Create empty lists for latitudes, longitudes, and magnitudes\nlats, lons = [], []\nmagnitudes = []\ndepth = []\n\n# Assign variables x and y to longitude/latitude to be able to plot on map.\nx,y = antmap(lons,lats)\n\ndef get_marker_color(magnitudes):\n    if magnitudes &lt; 3.0:\n        return ('go')\n    elif magnitudes &lt; 7.0:\n        return('yo')\n    else:\n        return ('ro')\n# Read each line in comma-separated, 3-column file (Could also use CSV-module).\ni=0\nfor i, line in enumerate(eq_data.readlines()):\n    lats.append(float(line.split(',')[0])) # 0 is first column, split on comma.\n    lons.append(float(line.split(',')[1]))\n    depth.append(line.split(',')[2])\n    magnitudes.append(float(line.split(',')[3]))\n    mag = np.array(magnitudes)*2\n    i = i + 1\n\n\n#mag = np.array(magnitudes)*2  # Scale the magnitudes\n# For scaling the magnitudes in a list, this has to be performed using np.array.\n\n# Close earthquake data file\neq_data.close()\n#antmap.plot(x,y,'ko',markersize=8)[0]\n\n#### Begin Animation Function ######\ndef animate(i):\n    x,y = antmap(lons[i], lats[i])\n    marker_string = get_marker_color(magnitudes)\n    antmap.plot(x,y,marker_string, markersize=mag[i])\n\n# Call FuncAnimation, using an interval of 100 ms, and on Mac OSX, set blit=False\nanimation = FuncAnimation(fig, animate,  interval=10, blit=False)\n\n# Show the figure!\nplt.show()\n\n# Optionally save animation as .mp4 file (must have ffmpeg installed).\n#animation.save('earthquake_animation.mp4', writer=\"ffmpeg\")\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5054, "user_id": 478176, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/59224f86a994baedfcd9e7dc82cc14b9?s=128&d=identicon&r=PG", "display_name": "gsnedders", "link": "https://stackoverflow.com/users/478176/gsnedders"}, "edited": false, "score": 1, "creation_date": 1442445468, "post_id": 32620254, "comment_id": 53090877, "body": "Honestly, the <code>ElementTree</code> API has some really weird decisions at times, and this is one of them."}, {"owner": {"reputation": 3467, "user_id": 171450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a3babaa84012b7ec17726a6d899590b1?s=128&d=identicon&r=PG", "display_name": "Aidan Kane", "link": "https://stackoverflow.com/users/171450/aidan-kane"}, "edited": false, "score": 0, "creation_date": 1442445886, "post_id": 32620254, "comment_id": 53090979, "body": "I work with lxml and the api is the same. I too would like to know the answer to these questions. I tend to keep things at the wrapper level but I don&#39;t know why."}, {"owner": {"reputation": 3589, "user_id": 711380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645d55fac31440e2cd1bc6432690199f?s=128&d=identicon&r=PG", "display_name": "remram", "link": "https://stackoverflow.com/users/711380/remram"}, "edited": false, "score": 1, "creation_date": 1451400896, "post_id": 32620254, "comment_id": 56767726, "body": "ElementTree has more features than Element, notably <code>write()</code>. I&#39;m not saying that these couldn&#39;t be provided for Element, but they are major differences. <code>fromstring()</code> giving you only an Element effectively prevents you from changing and writing the tree."}], "answers": [{"tags": [], "owner": {"reputation": 1322, "user_id": 3225832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/645598558/picture?type=large", "display_name": "Reid Ballard", "link": "https://stackoverflow.com/users/3225832/reid-ballard"}, "is_accepted": false, "score": 0, "last_activity_date": 1466653283, "creation_date": 1466653283, "answer_id": 37981930, "question_id": 32620254, "link": "https://stackoverflow.com/questions/32620254/python-elementtree-elementtree-vs-root-element/37981930#37981930", "title": "Python ElementTree: ElementTree vs root Element", "body": "<p>I'm thinking the same as remram in the comments: <em>parse</em> takes a file location or a file object and preserves that information so that it can provide additional utility, which is really helpful. If <em>parse</em> did not return an ET object, then you would have to keep better track of the sources and whatnot in order to manually feed them back into the helper functions that ET objects have by default. In contrast to files, Strings- by definition- do not have the same kind of information attached from them, so you can't create the same utilities for them (otherwise there very well may be an <em>ET.parsefromstring()</em> method which would return an ET Object).</p>\n\n<p>I suspect this is also the logic behind the method being named <em>parse</em> instead of <em>ET.fromfile()</em>: I would expect the same object type to be returned from <em>fromfile</em> and <em>fromstring</em>, but can't say I would expect the same from <em>parse</em> (it's been a long time since I started using ET, so there's no way to verify that, but that's my feeling).</p>\n\n<p>On the subject Remram raised of placing utility methods on Elements, as I understand the documentation, Elements are extremely uniformed when it comes to implementation. People talk about \"Root Elements,\" but the Element at the root of the tree is literally identical to all other Elements in terms of its class Attributes and Methods. As far as I know, Elements don't even know who their parent is, which is likely to support this uniformity. Otherwise there might be more code to implement the \"root\" Element (which doesn't have a parent) or to re-parent subelements. It seems to me that the simplicity of the Element class works greatly in its favor. So it seems better to me to leave Elements largely agnostic of anything above them (their parent, the file they come from) so there can't be any snags concerning 4 Elements with different output files in the same tree (or the like).</p>\n\n<p>When it comes to implementing the module inside of code, it seems to me that the script would have to recognize the input as a file at some point, one way or another (otherwise it would be trying to pass the file to <em>fromstring</em>). So there shouldn't arise a situation in which the output of <em>parse</em> should be unexpected such that the ElementTree is assumed to be an Element and processed as such (unless, of course, <em>parse</em> was implemented without the programmer checking to see what <em>parse</em> did, which just seems like a poor habit to me).</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3946687"}, "is_accepted": false, "score": 3, "last_activity_date": 1477919178, "creation_date": 1477919178, "answer_id": 40342802, "question_id": 32620254, "link": "https://stackoverflow.com/questions/32620254/python-elementtree-elementtree-vs-root-element/40342802#40342802", "title": "Python ElementTree: ElementTree vs root Element", "body": "<p>A beautiful answer comes from this old <a href=\"https://groups.google.com/forum/#!msg/comp.lang.python/OX9BCwYK_KI/EsoD-Cm-UTwJ\" rel=\"nofollow\">discussion</a>:</p>\n\n<blockquote>\n  <p>Just for the record: Fredrik [the creator of ElementTree] doesn't actually consider it a design\n  \"quirk\". He argues that it's designed for different use cases. While\n  parse() parses a file, which normally contains a complete document\n  (represented in ET as an ElementTree object), fromstring() and\n  especially the 'literal wrapper' XML() are made for parsing strings,\n  which (most?) often only contain XML fragments. With a fragment, you\n  normally want to continue doing things like inserting it into another\n  tree, so you need the top-level element in almost all cases.</p>\n</blockquote>\n\n<p>And:</p>\n\n<blockquote>\n  <blockquote>\n    <p>Why isn't et.parse the only way to do this? Why have XML or fromstring\n    at all?</p>\n  </blockquote>\n  \n  <p>Well, use cases. XML() is an alias for fromstring(), because it's\n  convenient (and well readable) to write</p>\n  \n  <p>section = XML('A to Z') \n  section.append(paragraphs)</p>\n  \n  <p>for XML literals in source code. fromstring() is there because when\n  you want to parse a fragment from a string that you got from whatever\n  source, it's easy to express that with exactly that function, as in</p>\n\n<pre><code>    el = fromstring(some_string)\n</code></pre>\n  \n  <p>If you want to parse a document from a file or file-like object, use\n  parse(). Three use cases, three functions. The fourth use case of\n  parsing a document from a string does not have its own function,\n  because it is trivial to write</p>\n\n<pre><code>    tree = parse(BytesIO(some_byte_string))\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 7675, "user_id": 2923952, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/71908bd318301d831c4b9eb6ca1c13a2?s=128&d=identicon&r=PG&f=1", "display_name": "Siler", "link": "https://stackoverflow.com/users/2923952/siler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1226, "favorite_count": 3, "answer_count": 2, "score": 7, "last_activity_date": 1477919178, "creation_date": 1442445313, "last_edit_date": 1442451791, "question_id": 32620254, "link": "https://stackoverflow.com/questions/32620254/python-elementtree-elementtree-vs-root-element", "title": "Python ElementTree: ElementTree vs root Element", "body": "<p>I'm a bit confused by some of the design decisions in the Python ElementTree API - they seem kind of arbitrary, so I'd like some clarification to see if these decisions have some logic behind them, or if they're just more or less ad hoc.</p>\n\n<p>So, generally there are two ways you might want to generate an <code>ElementTree</code> - one is via some kind of source stream, like a file, or other I/O stream.  This is achieved via the <code>parse()</code> function, or the <code>ElementTree.parse()</code> class method.</p>\n\n<p>Another way is to load the XML directly from a string object.  This can be done via the <code>fromstring()</code> function.  </p>\n\n<p>Okay, great.  Now, I would think these functions would basically be identical in terms of what they return - the difference between the two of them is basically the source of input (one takes a file or stream object, the other takes a plain string.)  Except for some reason the <code>parse()</code> function returns an <code>ElementTree</code> object, but the <code>fromstring()</code> function returns an <code>Element</code> object.  The difference is basically that the <code>Element</code> object is the <em>root</em> element of an XML tree, whereas the <code>ElementTree</code> object is sort of a \"wrapper\" around the root element, which provides some extra features.  You can always get the root element from an <code>ElementTree</code> object by calling <code>getroot()</code>.</p>\n\n<p>Still, I'm confused why we have this distinction.  Why does <code>fromstring()</code> return a root element directly, but <code>parse()</code> returns an <code>ElementTree</code> object?  Is there some logic behind this distinction?</p>\n"}, {"tags": ["python", "python-2.7", "selenium", "selenium-webdriver", "spotify"], "answers": [{"comments": [{"owner": {"reputation": 612, "user_id": 1585161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6959779d32fcad02377024d1ed8f77af?s=128&d=identicon&r=PG", "display_name": "Connor", "link": "https://stackoverflow.com/users/1585161/connor"}, "edited": false, "score": 0, "creation_date": 1452462209, "post_id": 32620257, "comment_id": 57168485, "body": "For some reason, my iframe objects are completely empty inside the WebDriver elements... However the innerHTML shows up just fine in the Firefox browser debugger. Any idea why?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 612, "user_id": 1585161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6959779d32fcad02377024d1ed8f77af?s=128&d=identicon&r=PG", "display_name": "Connor", "link": "https://stackoverflow.com/users/1585161/connor"}, "edited": false, "score": 0, "creation_date": 1452462261, "post_id": 32620257, "comment_id": 57168506, "body": "@Connor please consider creating a new question with details and we&#39;ll take a look. (throw me a link here). Thanks."}, {"owner": {"reputation": 612, "user_id": 1585161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6959779d32fcad02377024d1ed8f77af?s=128&d=identicon&r=PG", "display_name": "Connor", "link": "https://stackoverflow.com/users/1585161/connor"}, "edited": false, "score": 0, "creation_date": 1452462610, "post_id": 32620257, "comment_id": 57168610, "body": "Thanks for the quick response... here is the link: <a href=\"http://stackoverflow.com/questions/34711187/empty-iframe-in-selenium-yet-filled-in-browser-python\" title=\"empty iframe in selenium yet filled in browser python\">stackoverflow.com/questions/34711187/&hellip;</a>"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 2, "last_activity_date": 1442445319, "creation_date": 1442445319, "answer_id": 32620257, "question_id": 32620164, "link": "https://stackoverflow.com/questions/32620164/spotify-webplayer-select-element-play-button-w-selenium/32620257#32620257", "title": "Spotify Webplayer: Select Element &#39;Play&#39; Button w/ Selenium", "body": "<p><em>The \"play\" button is inside an iframe</em>, switch to it before locating the element:</p>\n\n<pre><code>driver.switch_to.frame(\"app-player\")\nplay = driver.find_element_by_id(\"play-pause\")\nplay.click()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 3448848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/555f5fea92de9619568161526203c80d?s=128&d=identicon&r=PG&f=1", "display_name": "user3448848", "link": "https://stackoverflow.com/users/3448848/user3448848"}, "is_accepted": true, "score": 0, "last_activity_date": 1442774035, "creation_date": 1442774035, "answer_id": 32682869, "question_id": 32620164, "link": "https://stackoverflow.com/questions/32620164/spotify-webplayer-select-element-play-button-w-selenium/32682869#32682869", "title": "Spotify Webplayer: Select Element &#39;Play&#39; Button w/ Selenium", "body": "<p><strong>Controlling through Javascript</strong></p>\n\n<p><strong>Is there a JS SDK for the player? Can I send play/pause commands using Javascript?</strong></p>\n\n<p>The Play button doesn\u2019t have any observable events, nor does it listen for any. Playback can only be triggered by the user clicking the button.\nWe\u2019re certainly looking at creating a JS SDK; it\u2019s a bigger project and right now we\u2019re focusing on quickly releasing APIs to open up the general Spotify ecosystem (catalogue, playlists, etc).\nNone of these requests are falling on deaf ears, and we\u2019re working hard to bring out as much functionality as we can.</p>\n\n<p>From Sptotify's Dev Page</p>\n"}], "owner": {"reputation": 23, "user_id": 5286286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41aa5da8b2c40ce9d7f9520f18f50383?s=128&d=identicon&r=PG&f=1", "display_name": "Julien Darmoni", "link": "https://stackoverflow.com/users/5286286/julien-darmoni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1607, "favorite_count": 1, "accepted_answer_id": 32682869, "answer_count": 2, "score": 2, "last_activity_date": 1461611423, "creation_date": 1442444719, "last_edit_date": 1461611423, "question_id": 32620164, "link": "https://stackoverflow.com/questions/32620164/spotify-webplayer-select-element-play-button-w-selenium", "title": "Spotify Webplayer: Select Element &#39;Play&#39; Button w/ Selenium", "body": "<p>I've been trying to select the <strong>Play</strong> button on Spotify's webplayer through selenium for a series of tests, but have been unable to successfully target it. I've tried through <strong>CSS Selector</strong>: </p>\n\n<pre><code>driver.find_element_by_css_selector(\"#header .button-primary\").click()\n</code></pre>\n\n<p>and <strong>xpath</strong>:</p>\n\n<pre><code>driver.find_element_by_xpath(\"//button[@class=\\\"button-primary\\\"]\")\n</code></pre>\n\n<p><strong>This is my error call stack:</strong></p>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File \"Spotify Dumbass.py\", line\n  37, in test_spotify_dumbass\n      driver.find_element_by_css_selector(\"#header .button-primary\").click()   File\n  \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\",\n  line 396, in find_element_by_css_selector\n      return self.find_element(by=By.CSS_SELECTOR, value=css_selector)   File\n  \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\",\n  line 684, in find_element\n      {'using': by, 'value': value})['value']   File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\",\n  line 195, in execute\n      self.error_handler.check_response(response)   File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/selenium/webdriver/remote/errorhandler.py\",\n  line 170, in check_response\n      raise exception_class(message, screen, stacktrace) NoSuchElementException: Message: Unable to locate element:\n  {\"method\":\"css selector\",\"selector\":\"#header .button-primary\"}\n  Stacktrace:\n      at FirefoxDriver.prototype.findElementInternal_ (file:///var/folders/Ne/NepmGbBUFwK7TxfPj5g0gE+++TI/-Tmp-/tmpSLKAhJ/extensions/fxdriver@googlecode.com/components/driver-component.js:10299)\n      at fxdriver.Timer.prototype.setTimeout/&lt;.notify (file:///var/folders/Ne/NepmGbBUFwK7TxfPj5g0gE+++TI/-Tmp-/tmpSLKAhJ/extensions/fxdriver@googlecode.com/components/driver-component.js:603)</p>\n</blockquote>\n"}, {"tags": ["python", "numpy", "matplotlib"], "comments": [{"owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 1, "creation_date": 1442444639, "post_id": 32620138, "comment_id": 53090653, "body": "What have you tried to make an executable? I&#39;m sure you&#39;ll get it running as expected using pyinstaller or cx_Freeze, they&#39;re easy to use and powerful."}, {"owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "edited": false, "score": 0, "creation_date": 1442445276, "post_id": 32620138, "comment_id": 53090827, "body": "try using something like django and import your code, should be pretty easy to get it on the web"}, {"owner": {"reputation": 343, "user_id": 5202842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a97b766b9dc03dad336435957c4869?s=128&d=identicon&r=PG&f=1", "display_name": "Robert E", "link": "https://stackoverflow.com/users/5202842/robert-e"}, "edited": false, "score": 0, "creation_date": 1442447497, "post_id": 32620138, "comment_id": 53091361, "body": "I&#39;d say django is more learning curve than using a simple Python CGI script."}], "answers": [{"tags": [], "owner": {"reputation": 343, "user_id": 5202842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a97b766b9dc03dad336435957c4869?s=128&d=identicon&r=PG&f=1", "display_name": "Robert E", "link": "https://stackoverflow.com/users/5202842/robert-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1442447424, "creation_date": 1442447424, "answer_id": 32620552, "question_id": 32620138, "link": "https://stackoverflow.com/questions/32620138/getting-python-executable-or-running-on-the-web/32620552#32620552", "title": "getting python executable or running on the web", "body": "<p>See using <a href=\"https://docs.python.org/3.3/howto/webservers.html\" rel=\"nofollow\">Python on the web</a>. From your imports it looks complicated enough to warrant doing it on the backend (server side). So I recommend sticking with Python.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 4917502, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/97939cee207c185f294b9525dd14f7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Lefti", "link": "https://stackoverflow.com/users/4917502/lefti"}, "is_accepted": false, "score": 0, "last_activity_date": 1448496102, "creation_date": 1448496102, "answer_id": 33928543, "question_id": 32620138, "link": "https://stackoverflow.com/questions/32620138/getting-python-executable-or-running-on-the-web/33928543#33928543", "title": "getting python executable or running on the web", "body": "<p>I was able to get an executable using cx_Freeze (cx_Freeze-4.3.4-cp27-none-win_amd64). I am using python 2.7.9. I used the following setup.py script </p>\n\n<pre><code>import cx_Freeze\nimport Tkinter as Tk\nimport ctypes\nimport numpy\nimport matplotlib\nimport os, fnmatch\nimport sys\nimport subprocess\nimport reportlab\n\nbase = None\n\nif sys.platform == 'win32':\n    base = \"Win32GUI\"\n\nexecutables = [\n    cx_Freeze.Executable(\"Test.py\", base=base),\n]\n\ncx_Freeze.setup(\n    name = \"Testv1.0\",\n    options = {\"build_exe\":{\"packages\":[\"Tkinter\", \"matplotlib\"], \"includes\":[\"FileDialog\"], \"excludes\":[]}},\n    version = \"0.1\",\n    description = \"MyApp\",\n    executables = executables\n)\n</code></pre>\n\n<p>Now what was key was adding \"matplotlib\" inside \"packages\":[\"Tkinter\", \"matplotlib\"] and also having \"includes\":[\"FileDialog\"], in the options. This resolved any errors I was having while trying to create the .exe. </p>\n"}], "owner": {"reputation": 3, "user_id": 4917502, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/97939cee207c185f294b9525dd14f7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Lefti", "link": "https://stackoverflow.com/users/4917502/lefti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1448496102, "creation_date": 1442444509, "last_edit_date": 1442444682, "question_id": 32620138, "link": "https://stackoverflow.com/questions/32620138/getting-python-executable-or-running-on-the-web", "title": "getting python executable or running on the web", "body": "<p>I currently have a python script that runs on my local machine windows 7. I am using the following</p>\n\n<pre><code>from scipy.optimize import fsolve\nimport ctypes\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport os, fnmatch\nfrom scipy.signal import argrelextrema\nfrom matplotlib.patches import Rectangle\nfrom reportlab.pdfgen import canvas\nfrom reportlab.lib import colors\nfrom reportlab.lib.units import mm, inch\nfrom reportlab.lib.pagesizes import A3, A4,landscape,letter, inch,portrait\nfrom reportlab.platypus import Image\nfrom reportlab.lib.styles import getSampleStyleSheet\nfrom reportlab.platypus import SimpleDocTemplate, Table, TableStyle, Image, Paragraph\nimport subprocess\nimport sys\n</code></pre>\n\n<p>getting an executable is a challenge. Even If I do there are all these .dll files and dependencies. Now I am thinking how difficult it would be to get my code to run on the web? Or do I abandon python and go for something else like java, C#, Delphi or ? A Gui would be nice to have since currently it is console driven. My program goes as follows. A user enters something then the program will calculate something report back to the user. Then the user will enter another parameter and the program will calculate something else. A table and graph is produced but the graph is not necessary.\nThe goal is to make it simple for the user to use.</p>\n\n<p>Any help is much appreciated.</p>\n"}, {"tags": ["python", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 298, "user_id": 5654929, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FyiNvQnQsDA/AAAAAAAAAAI/AAAAAAAAADg/0b8Kpr7UrWY/photo.jpg?sz=128", "display_name": "Douglas - 15 year old Pythoner", "link": "https://stackoverflow.com/users/5654929/douglas-15-year-old-pythoner"}, "edited": false, "score": 0, "creation_date": 1452022301, "post_id": 32620324, "comment_id": 56985070, "body": "Also, you didn&#39;t use .convert_alpha() on all your surfaces."}], "tags": [], "owner": {"reputation": 1716, "user_id": 3757614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56bd133b7feaee7fde836a20e59d9e49?s=128&d=identicon&r=PG&f=1", "display_name": "user3757614", "link": "https://stackoverflow.com/users/3757614/user3757614"}, "is_accepted": true, "score": 5, "last_activity_date": 1442445808, "creation_date": 1442445808, "answer_id": 32620324, "question_id": 32620131, "link": "https://stackoverflow.com/questions/32620131/big-lag-in-pygame-game/32620324#32620324", "title": "Big Lag in Pygame Game", "body": "<p>Every time you click the lights, you load an image. This takes a while, and only needs to be done once. Load the images into a dictionary or something, and just point the (eg) right_win at the loaded image.</p>\n"}], "owner": {"reputation": 191, "user_id": 5244776, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1484982375151840/picture?type=large", "display_name": "Green Plasma", "link": "https://stackoverflow.com/users/5244776/green-plasma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 32620324, "answer_count": 1, "score": 0, "last_activity_date": 1442446097, "creation_date": 1442444480, "last_edit_date": 1442446097, "question_id": 32620131, "link": "https://stackoverflow.com/questions/32620131/big-lag-in-pygame-game", "title": "Big Lag in Pygame Game", "body": "<p>I am making a Five Nights at Freddy's like game, and everything I have everything working as it should.  The problem is that there is a lag when you press the light buttons.  There is also a very slight lag when your moving left or right (I don't notice it in the version before I added the light function).  I appreciate your help.</p>\n\n<p>here is a simplified version of my code:</p>\n\n<pre><code>import pygame, random\npygame.init()\n\nscreen = pygame.display.set_mode((0,0), pygame.FULLSCREEN, 32)\npygame.display.toggle_fullscreen()\nclock = pygame.time.Clock()\n\noffice_closed = pygame.image.load('images/office.png')\nleft_win = pygame.image.load('images/left_win.png')\nright_win = pygame.image.load('images/right_win.png')\n\nbuilding_map = pygame.image.load('images/map.png')\nbuilding_map.convert_alpha()\ncamera_switch = pygame.image.load('images/camera_switch.png')\nturn_left = pygame.image.load('images/turn_left.png')\nturn_right = pygame.image.load('images/turn_right.png')\nturn_left.convert_alpha()\nturn_right.convert_alpha()\nlight_button = pygame.image.load('images/light_button.png')\n\nv = 0\na = 0\nposition = 'door'\n\ndef door_lights(mouse_x, mouse_y, click, position):\n\n    global left_win, right_win\n\n    if position == 'left_win':    \n        if click == (1,0,0) and (mouse_x &gt;= 20) and (mouse_x &lt;= 95) and (mouse_y &gt;= 363) and (mouse_y &lt;= 437):\n            left_win = pygame.image.load('images/left_win_light.png')       \n        else:\n          left_win = pygame.image.load('images/left_win.png')\n\n\n    if position == 'right_win':     \n        if click == (1,0,0) and (mouse_x &gt;= 1185) and (mouse_x &lt;= 1260) and (mouse_y &gt;= 363) and (mouse_y &lt;= 437):\n            right_win = pygame.image.load('images/right_win_light.png')         \n        else:\n            right_win = pygame.image.load('images/right_win.png')\n\n\n\ndef office(mouse_x, mouse_y, click):\n    global position, a\n\n    if position == 'door':\n        if (mouse_x &lt;= 95)   and (mouse_y &gt;= 100) and (mouse_y &lt;= 500) and (a==0):\n            position = 'left_win'\n        if (mouse_x &gt;= 1185) and (mouse_y &gt;= 100) and (mouse_y &lt;= 500) and (a==0):\n            position = 'right_win'\n\n    if a == 1:    #IF THE MOUSE IS NOT OVER A BUTTON\n        if not ((mouse_x &lt;= 95) and (mouse_y &gt;= 100) and (mouse_y &lt;= 500)) and not ((mouse_x &gt;= 1185) and (mouse_y &gt;= 100) and (mouse_y &lt;= 500)):\n            a = 0    #RESET TO 0\n\n    if position == 'left_win':\n        if (mouse_x &gt;= 1185)   and (mouse_y &gt;= 100) and (mouse_y &lt;= 500) and (a==0):\n            position = 'door'\n            a = 1\n\n    if position == 'right_win':\n        if (mouse_x &lt;= 95)  and (mouse_y &gt;= 100)  and (mouse_y &lt;= 500) and (a==0):\n            position = 'door'\n            a = 1\n\n    door_lights(mouse_x, mouse_y, click, position)\n\n\n    if position == 'door':\n        screen.blit(office_closed, (0,0))\n        screen.blit(turn_left, (20,100))\n        screen.blit(turn_right, (1185,100))\n\n    if position == 'left_win':\n        screen.blit(left_win, (0,0))\n        screen.blit(light_button,(20, 363))\n        screen.blit(turn_right, (1185,100))\n\n    if position == 'right_win':\n        screen.blit(right_win, (0,0))\n        screen.blit(light_button,(1185, 363))\n        screen.blit(turn_left, (20,100))\n\n\ndef main():\n\n    global v\n\n    while True:       \n\n        for event in pygame.event.get():\n            if event.type == pygame.KEYDOWN:\n               if event.key == pygame.K_ESCAPE:\n                   pygame.quit()\n                   quit()\n\n        mouse_xy = pygame.mouse.get_pos()\n        mouse_x = mouse_xy[0]\n        mouse_y = mouse_xy[1]\n        click = pygame.mouse.get_pressed()\n\n        office(mouse_x, mouse_y, click)            \n\n        pygame.display.update()\n        clock.tick(40)\n\n\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "turtle-graphics"], "comments": [{"owner": {"reputation": 343, "user_id": 5202842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a97b766b9dc03dad336435957c4869?s=128&d=identicon&r=PG&f=1", "display_name": "Robert E", "link": "https://stackoverflow.com/users/5202842/robert-e"}, "edited": false, "score": 0, "creation_date": 1442444412, "post_id": 32620081, "comment_id": 53090588, "body": "underneath plot() you have a for loop that is probably mis-spaced."}, {"owner": {"reputation": 1266, "user_id": 2185573, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cb703f5977c6c39ec52016be8d3f658c?s=128&d=identicon&r=PG", "display_name": "Arunav Sanyal", "link": "https://stackoverflow.com/users/2185573/arunav-sanyal"}, "reply_to_user": {"reputation": 343, "user_id": 5202842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a97b766b9dc03dad336435957c4869?s=128&d=identicon&r=PG&f=1", "display_name": "Robert E", "link": "https://stackoverflow.com/users/5202842/robert-e"}, "edited": false, "score": 0, "creation_date": 1442444554, "post_id": 32620081, "comment_id": 53090633, "body": "Thanks, that was slightly incorrect formatting while I was posting the code in stackoverflow"}], "answers": [{"comments": [{"owner": {"reputation": 1266, "user_id": 2185573, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cb703f5977c6c39ec52016be8d3f658c?s=128&d=identicon&r=PG", "display_name": "Arunav Sanyal", "link": "https://stackoverflow.com/users/2185573/arunav-sanyal"}, "edited": false, "score": 0, "creation_date": 1442446863, "post_id": 32620286, "comment_id": 53091229, "body": "Hey thanks that did the trick. Cant believe it was something as trivial as that. I should have debugged and checked the input value."}], "tags": [], "owner": {"reputation": 343, "user_id": 5202842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a97b766b9dc03dad336435957c4869?s=128&d=identicon&r=PG&f=1", "display_name": "Robert E", "link": "https://stackoverflow.com/users/5202842/robert-e"}, "is_accepted": true, "score": 2, "last_activity_date": 1442445532, "creation_date": 1442445532, "answer_id": 32620286, "question_id": 32620081, "link": "https://stackoverflow.com/questions/32620081/turtle-parametric-code-working-in-python-3-but-not-in-python2/32620286#32620286", "title": "Turtle parametric code working in Python 3 but not in Python2", "body": "<p>Integer division used truncation in version 2. It yields floating point result in version 3. Try changing</p>\n\n<pre><code>i/1000\n</code></pre>\n\n<p>to</p>\n\n<pre><code>i/1000.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4243, "user_id": 320104, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/afc20be40eeba70286e8de0d49ba3260?s=128&d=identicon&r=PG", "display_name": "WBAR", "link": "https://stackoverflow.com/users/320104/wbar"}, "is_accepted": false, "score": 0, "last_activity_date": 1442445711, "creation_date": 1442445711, "answer_id": 32620314, "question_id": 32620081, "link": "https://stackoverflow.com/questions/32620081/turtle-parametric-code-working-in-python-3-but-not-in-python2/32620314#32620314", "title": "Turtle parametric code working in Python 3 but not in Python2", "body": "<p>Add at begining <a href=\"https://www.python.org/dev/peps/pep-0238/\" rel=\"nofollow\">PEP-0238</a>:</p>\n\n<pre><code>from __future__ import division\n</code></pre>\n"}], "owner": {"reputation": 1266, "user_id": 2185573, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cb703f5977c6c39ec52016be8d3f658c?s=128&d=identicon&r=PG", "display_name": "Arunav Sanyal", "link": "https://stackoverflow.com/users/2185573/arunav-sanyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 32620286, "answer_count": 2, "score": 1, "last_activity_date": 1442445711, "creation_date": 1442444150, "last_edit_date": 1442445467, "question_id": 32620081, "link": "https://stackoverflow.com/questions/32620081/turtle-parametric-code-working-in-python-3-but-not-in-python2", "title": "Turtle parametric code working in Python 3 but not in Python2", "body": "<p>I have the following code to plot a parametric curve in python using the turtle module. I dont understand why this works in python 3 and not in python 2.</p>\n\n<p>The code for both variants</p>\n\n<pre><code>import turtle\nimport math\n\ndef line(x1,y1,x2,y2):\n    turtle.up()\n    turtle.goto(x1,y1)\n    turtle.down()\n    turtle.goto(x2,y2)\n\n\ndef plot():\n    turtle.up()\n    turtle.goto(0,150)\n    turtle.down()\n    for i in range(0, int(2*math.pi*1000),10):\n        turtle.goto(150*math.sin(2*(i/1000)),150*math.cos(5*(i/1000)))\n\n\ndef axes():\n    line(-200,0,200,0)  \n    line(0,-200,0,200)\n\ndef main():\n     turtle.setup()\n     turtle.color(\"blue\")\n     axes()\n\n     turtle.color(\"red\")\n     plot()\n\n     turtle.done()\n\nmain()\n</code></pre>\n\n<p>Output curve in turtle for Python 2 (the wrong one):-</p>\n\n<p><a href=\"https://i.stack.imgur.com/wd6fD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wd6fD.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And the curve in turtle for Python 3 (the right one):-</p>\n\n<p><a href=\"https://i.stack.imgur.com/7TQWV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7TQWV.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Anyone has any idea. I think the math.sin accepts radians and i input radians based on by conversion followed by a scaling factor. </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1442444249, "post_id": 32619998, "comment_id": 53090545, "body": "This is algebra, not programming.  Write the equations with variables for the concepts, rather than specific dollar amounts.  Now solve for the price; substitute one expression for another until the right side consists of the other variables.  If you post your actual equations, I can help walk you through this."}, {"owner": {"reputation": 2305, "user_id": 755875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2306ecaa8a0185642a93f8e15381bc2?s=128&d=identicon&r=PG", "display_name": "mtadd", "link": "https://stackoverflow.com/users/755875/mtadd"}, "edited": false, "score": 1, "creation_date": 1442514416, "post_id": 32619998, "comment_id": 53123507, "body": "The calculation of Total Costs in the question is incorrect, I believe.  Total Costs should be the sum of Item, Marketplace, and Payment Processor costs, and not the Price minus those terms."}, {"owner": {"reputation": 7080, "user_id": 253254, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fccc3b47b2ac7f517d5c035095d21712?s=128&d=identicon&r=PG", "display_name": "Joshua Burns", "link": "https://stackoverflow.com/users/253254/joshua-burns"}, "reply_to_user": {"reputation": 2305, "user_id": 755875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2306ecaa8a0185642a93f8e15381bc2?s=128&d=identicon&r=PG", "display_name": "mtadd", "link": "https://stackoverflow.com/users/755875/mtadd"}, "edited": false, "score": 0, "creation_date": 1442517029, "post_id": 32619998, "comment_id": 53124875, "body": "@mtadd, you&#39;re absolutely right, I flipped the values. Fixed."}], "answers": [{"comments": [{"owner": {"reputation": 7080, "user_id": 253254, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fccc3b47b2ac7f517d5c035095d21712?s=128&d=identicon&r=PG", "display_name": "Joshua Burns", "link": "https://stackoverflow.com/users/253254/joshua-burns"}, "edited": false, "score": 0, "creation_date": 1442509931, "post_id": 32621750, "comment_id": 53120935, "body": "Man, thanks so much for taking the time to lay this out. Algebra isn&#39;t by strong point so this was a HUGE help. I&#39;ve updated my question to include a working example."}], "tags": [], "owner": {"reputation": 2305, "user_id": 755875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2306ecaa8a0185642a93f8e15381bc2?s=128&d=identicon&r=PG", "display_name": "mtadd", "link": "https://stackoverflow.com/users/755875/mtadd"}, "is_accepted": true, "score": 1, "last_activity_date": 1442457378, "creation_date": 1442457378, "answer_id": 32621750, "question_id": 32619998, "link": "https://stackoverflow.com/questions/32619998/calculate-product-price-based-on-multiple-percentage-factors/32621750#32621750", "title": "Calculate product price based on multiple percentage factors", "body": "<p>Here's the basic algebra.  First, define your symbols:</p>\n\n<pre><code>P = Price\nMktFrac = Marketplace Fraction\nPayFrac = Payment Processor Fraction\nC = Cost\nTC = Total Cost \nTP = Total Profits \nPM = Profit Margin Fraction\n</code></pre>\n\n<p>note that instead of doing percentages (0-100), I'm using fractions (0-1). You can convert a fraction to a percentage by multiplying by 100.</p>\n\n<p>And then your basic formulas</p>\n\n<pre><code>TC = C + MktFrac*P + PayFrac*P\nTP = P - TC\nPM = TP / P\n</code></pre>\n\n<p>With some substitution and simplification</p>\n\n<pre><code>TC = P*(MktFrac+PayFrac) + C\nTP = P*(1-MktFrac-PayFrac) - C\nPM = 1-MktFrac-PayFrac - C/P\n</code></pre>\n\n<p>So that's the formula for Profit Margin with everything on the right hand side.  If you want to solve for Price, first isolate the term with Price by itself:</p>\n\n<pre><code>1 - PM - MktFrac - PayFrac = C/P\n</code></pre>\n\n<p>Divide by Cost</p>\n\n<pre><code>1/P = (1 - PM - MktFrac - PayFrac)/C\n</code></pre>\n\n<p>And take reciprocal</p>\n\n<pre><code>P = C/(1 - PM - MktFrac - PayFrac)\n</code></pre>\n\n<p>or in percentages:</p>\n\n<pre><code>P = C/(1 - PM - MktPct/100 - PayPct/100)\n</code></pre>\n"}], "owner": {"reputation": 7080, "user_id": 253254, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fccc3b47b2ac7f517d5c035095d21712?s=128&d=identicon&r=PG", "display_name": "Joshua Burns", "link": "https://stackoverflow.com/users/253254/joshua-burns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1477, "favorite_count": 0, "accepted_answer_id": 32621750, "answer_count": 1, "score": 1, "last_activity_date": 1609063425, "creation_date": 1442443645, "last_edit_date": 1442519302, "question_id": 32619998, "link": "https://stackoverflow.com/questions/32619998/calculate-product-price-based-on-multiple-percentage-factors", "title": "Calculate product price based on multiple percentage factors", "body": "<p>I'm attempting to throw together a Python script which accepts several variables and outputs a price based on a target profit margin (percentage).</p>\n\n<p>If I come up with a price I can calculate the percentage margin on it. For example, let's say I have a product that I am listing for <code>$49.00</code>.</p>\n\n<ul>\n<li>Item cost: <code>$14.00</code></li>\n<li>Marketplace cost: 10% of $49 (<code>$4.90</code>)</li>\n<li>Payment processor cost: 2.9% (<code>$1.42</code>)</li>\n<li>Total costs: <code>$20.32</code> ($14 + $4.90 + $1.42)</li>\n<li>Total profit: <code>$28.68</code> ($49 - $20.32)</li>\n<li>Calculated profit margin: 58.53% ((100 / 49) * 28.68)</li>\n</ul>\n\n<p>However, when attempting to flip the problem and generate a price based on cost, profit margin, marketplace pecentage and payment processor percentage, I'm at a complete loss on how to solve this.</p>\n\n<p>Has anyone else tackled this problem and if so, do you have any pointers or would you provide a solution for me to work from to better understand how to tackle these sorts of challenges in the future?</p>\n\n<p>Examples don't necessarily have to be in Python, that just happens to be the language I'm working in.</p>\n\n<hr>\n\n<p>Huge thanks to <code>@mtadd</code> for laying this out in lehman's terms.</p>\n\n<p>Below is a working example of how this was solved in Python:</p>\n\n<pre><code>import decimal\n\nitem_cost = decimal.Decimal('14.00')\nmarket_multiplier = decimal.Decimal('0.10') # 10% / 100\npayment_processor_multiplier = decimal.Decimal('0.029') # 2.9% / 100\nprofit_margin = decimal.Decimal('0.5853') # 58.53% / 100\n\nprice = costs / (\n    decimal.Decimal('1') -\n    profit_margin -\n    market_fees_multiplier -\n    payment_fees_multiplier\n)\n</code></pre>\n\n<p>Printing <code>price</code> outputs <code>28.68</code>, which is pretty spot on with our 58.53% target margin.</p>\n"}, {"tags": ["python", "google-search-api"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1442444428, "post_id": 32619997, "comment_id": 53090597, "body": "You can use combination of requests and bs4"}, {"owner": {"reputation": 1613, "user_id": 456065, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/49b8a5172d9634e038c69110bfb5e480?s=128&d=identicon&r=PG", "display_name": "Sanich", "link": "https://stackoverflow.com/users/456065/sanich"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1442444852, "post_id": 32619997, "comment_id": 53090727, "body": "@taesu Please explain. What do you mean?"}, {"owner": {"reputation": 343, "user_id": 5202842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a97b766b9dc03dad336435957c4869?s=128&d=identicon&r=PG&f=1", "display_name": "Robert E", "link": "https://stackoverflow.com/users/5202842/robert-e"}, "edited": false, "score": 0, "creation_date": 1442445146, "post_id": 32619997, "comment_id": 53090798, "body": "Look at the ajax interface."}], "answers": [{"comments": [{"owner": {"reputation": 1613, "user_id": 456065, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/49b8a5172d9634e038c69110bfb5e480?s=128&d=identicon&r=PG", "display_name": "Sanich", "link": "https://stackoverflow.com/users/456065/sanich"}, "edited": false, "score": 0, "creation_date": 1442447100, "post_id": 32620282, "comment_id": 53091274, "body": "Interesting idea. What are the other params (<code>output</code> and <code>hl</code>)?"}, {"owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "reply_to_user": {"reputation": 1613, "user_id": 456065, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/49b8a5172d9634e038c69110bfb5e480?s=128&d=identicon&r=PG", "display_name": "Sanich", "link": "https://stackoverflow.com/users/456065/sanich"}, "edited": false, "score": 0, "creation_date": 1442448524, "post_id": 32620282, "comment_id": 53091598, "body": "You can use <code>output=firefox</code> to get suggests as a JSON file. <code>hl</code> determines the language."}], "tags": [], "owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "is_accepted": false, "score": 1, "last_activity_date": 1442445497, "creation_date": 1442445497, "answer_id": 32620282, "question_id": 32619997, "link": "https://stackoverflow.com/questions/32619997/check-if-google-suggests-an-autocomplete-for-some-term/32620282#32620282", "title": "Check if google suggests an autocomplete for some term", "body": "<p>You can use <code>urllib</code> to read suggests in XML format at <a href=\"http://suggestqueries.google.com/complete/search?output=toolbar&amp;hl=en&amp;q=quake%203%20arena\" rel=\"nofollow\"><code>http://suggestqueries.google.com/...q=quake%203%20arena</code></a>. Just replace the <code>q</code> parameter and parse content with <a href=\"https://docs.python.org/2/library/xml.etree.elementtree.html#module-xml.etree.ElementTree\" rel=\"nofollow\"><code>xml.etree.ElementTree</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": false, "score": 0, "last_activity_date": 1442455440, "creation_date": 1442455440, "answer_id": 32621499, "question_id": 32619997, "link": "https://stackoverflow.com/questions/32619997/check-if-google-suggests-an-autocomplete-for-some-term/32621499#32621499", "title": "Check if google suggests an autocomplete for some term", "body": "<p>If you don't have <code>requests</code> lib, install via:</p>\n\n<p><code>pip install requests</code></p>\n\n<p>then the code:</p>\n\n<pre><code>import requests\n\ndef get_suggestions(s):\n        r = requests.get('http://suggestqueries.google.com/complete/search?output=firefox&amp;hl=en&amp;q={}')\n        return r.json()[1]\n\nfor i in get_suggestions('firefo'):\n        print i\n</code></pre>\n"}], "owner": {"reputation": 1613, "user_id": 456065, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/49b8a5172d9634e038c69110bfb5e480?s=128&d=identicon&r=PG", "display_name": "Sanich", "link": "https://stackoverflow.com/users/456065/sanich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1442455440, "creation_date": 1442443643, "last_edit_date": 1442444203, "question_id": 32619997, "link": "https://stackoverflow.com/questions/32619997/check-if-google-suggests-an-autocomplete-for-some-term", "title": "Check if google suggests an autocomplete for some term", "body": "<p>I want to write a python script that when given a term (string), will checks if google suggest an autocomplete for this term. In other words, it should checks if this is a known term. So I found a google API that can return URLs for a search of a term <a href=\"https://code.google.com/p/pygoogle/\" rel=\"nofollow\">https://code.google.com/p/pygoogle/</a>. It looks something like:</p>\n\n<pre><code>from pygoogle import pygoogle\ng = pygoogle('quake 3 arena')\ng.pages = 5\nprint '*Found %s results*'%(g.get_result_count())\ng.get_urls()\n</code></pre>\n\n<p>But actually, I'm not interested in the URLs. I'm interested only if google suggests an autocomplete for the exact term or not.\nAny ideas? Thanks!</p>\n"}, {"tags": ["python", "list", "list-comprehension"], "comments": [{"owner": {"reputation": 1152, "user_id": 1952956, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4d108adaa243fa6c556d4325194ae437?s=128&d=identicon&r=PG", "display_name": "Oni1", "link": "https://stackoverflow.com/users/1952956/oni1"}, "edited": false, "score": 0, "creation_date": 1442443601, "post_id": 32619972, "comment_id": 53090369, "body": "have list A and B same length?"}, {"owner": {"reputation": 873, "user_id": 120517, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/341b6a993ecb13537b2bd35f34fc2340?s=128&d=identicon&r=PG", "display_name": "Ann Addicks", "link": "https://stackoverflow.com/users/120517/ann-addicks"}, "edited": false, "score": 0, "creation_date": 1442443612, "post_id": 32619972, "comment_id": 53090376, "body": "Should the first C be &#39;B&#39; and commas between the false?"}, {"owner": {"reputation": 109, "user_id": 2518484, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/T9lgC.jpg?s=128&g=1", "display_name": "Bayes", "link": "https://stackoverflow.com/users/2518484/bayes"}, "reply_to_user": {"reputation": 873, "user_id": 120517, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/341b6a993ecb13537b2bd35f34fc2340?s=128&d=identicon&r=PG", "display_name": "Ann Addicks", "link": "https://stackoverflow.com/users/120517/ann-addicks"}, "edited": false, "score": 0, "creation_date": 1442444893, "post_id": 32619972, "comment_id": 53090741, "body": "@AnnAddicks Yeah, A and B have the same length, and sorry, I made some mistakes in my question, the first C is really B list, and commas between logic values in list."}], "answers": [{"tags": [], "owner": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "is_accepted": false, "score": 5, "last_activity_date": 1442444061, "last_edit_date": 1442444061, "creation_date": 1442443670, "answer_id": 32620001, "question_id": 32619972, "link": "https://stackoverflow.com/questions/32619972/list-comprenhension-using-two-list/32620001#32620001", "title": "list comprenhension using two list", "body": "<p>You could do something like this:</p>\n\n<pre><code>C = [a for a, b in zip(A, B) if b]\n</code></pre>\n\n<p>Doing something like <code>for i in range(len(lst))</code> is rarely idiomatic in Python, as you'd usually prefer to do <code>for i, value in enumerate(lst)</code>. But in this case, using <code>zip</code> seems both safer and more idiomatic as it manages cases where <code>A</code> and <code>B</code> are of different lengths.</p>\n"}, {"comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1442443771, "post_id": 32620011, "comment_id": 53090410, "body": "Note that &quot;== True&quot; is <i>always</i> redundant.  B[x] is already either True or False."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 109, "user_id": 2518484, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/T9lgC.jpg?s=128&g=1", "display_name": "Bayes", "link": "https://stackoverflow.com/users/2518484/bayes"}, "edited": false, "score": 0, "creation_date": 1442446401, "post_id": 32620011, "comment_id": 53091125, "body": "Glad to hear it.  Please remember to &quot;accept&quot; one of the answers, so your question resolves properly."}, {"owner": {"reputation": 109, "user_id": 2518484, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/T9lgC.jpg?s=128&g=1", "display_name": "Bayes", "link": "https://stackoverflow.com/users/2518484/bayes"}, "edited": false, "score": 0, "creation_date": 1442447369, "post_id": 32620011, "comment_id": 53091330, "body": "Of course, could you remember where I accept the answers? I forgot how to do it."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 0, "last_activity_date": 1442443725, "creation_date": 1442443725, "answer_id": 32620011, "question_id": 32619972, "link": "https://stackoverflow.com/questions/32619972/list-comprenhension-using-two-list/32620011#32620011", "title": "list comprenhension using two list", "body": "<pre><code>C = [ A[x] for x in range(len(A)) if B[x] ]\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 2518484, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/T9lgC.jpg?s=128&g=1", "display_name": "Bayes", "link": "https://stackoverflow.com/users/2518484/bayes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 32620011, "answer_count": 2, "score": 0, "last_activity_date": 1448635659, "creation_date": 1442443492, "last_edit_date": 1448635659, "question_id": 32619972, "link": "https://stackoverflow.com/questions/32619972/list-comprenhension-using-two-list", "title": "list comprenhension using two list", "body": "<p>How can I create a list C based on two list A and B using list comprehension, where C list contains an item from A just when items in B is <code>TRUE</code>. My <code>for loop</code> implementation is here:</p>\n\n<pre><code>A = [\"ID\",\"population\",\"median_age\"]\nB = [False False True]\nC = []\nfor x in range(len(A)):\n    if B[x] == True:\n        C.append(A[x])\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "is_accepted": true, "score": 0, "last_activity_date": 1442447562, "creation_date": 1442447562, "answer_id": 32620569, "question_id": 32619742, "link": "https://stackoverflow.com/questions/32619742/pandas-add-columns-to-transposed-periodindex-obj/32620569#32620569", "title": "Pandas add columns to transposed periodindex obj?", "body": "<p>You could just build up the <code>MultiIndex</code> directly, like this:</p>\n\n<pre><code>In [27]: mi = pd.MultiIndex.from_tuples([('XYZ', 'EDBIT')], \n                                        names=['ID', 'Measure'])\n\nIn [28]: df.index = mi\n\nIn [29]: df\nOut[29]: \nPeriod       2013Q2  2014Q2  2015Q2\nID  Measure                        \nXYZ EDBIT     10000   15000   12500\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5344200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bca122e22b8227ca89aae56c9f80103b?s=128&d=identicon&r=PG&f=1", "display_name": "las", "link": "https://stackoverflow.com/users/5344200/las"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 32620569, "answer_count": 1, "score": 1, "last_activity_date": 1442447562, "creation_date": 1442442076, "question_id": 32619742, "link": "https://stackoverflow.com/questions/32619742/pandas-add-columns-to-transposed-periodindex-obj", "title": "Pandas add columns to transposed periodindex obj?", "body": "<p>New to python and getting up to speed on pandas (0.16.2). I have a df (returned from Quandl) with the observations in rows. I want to transpose the dataframe and then set a 2-column multi-index:</p>\n\n<pre><code>&gt;df\nPeriod    Value\n2013Q2    10000\n2014Q2    15000\n2015Q2    12500\n\n&gt;df.T\nPeriod    2013Q2   2014Q2   2015Q2\nValue     10000    15000    12500\n\nDesired dataframe after reindex (2-column multi-index):\nPeriod           2013Q2   2014Q2   2015Q2\nID    Measure    10000    15000    12500\n</code></pre>\n\n<p>However, df.columns is a periodindex object after I transpose. I can't add the two new columns I wanted to use to set a multi-index:</p>\n\n<pre><code>df['ID'] = 'XYZ'\ndf['Measure'] = 'EBIT'\nDateParseError: unknown string format\n</code></pre>\n\n<p>It makes sense to me that I can't add a non-date column label to a periodindex object. If I instead try to add a column by position, it works, but then I lose the date formatting in my other columns:</p>\n\n<pre><code>&gt;df.insert(loc=5, column='ID', value='XYZ, allow_duplicates=False)\n&gt;df\nPeriod    173      177      181      ID\nValue     10000    15000    12500    XYZ\n</code></pre>\n\n<p>The periodindex was a huge help with my original list - I was able to group by quarter and then filter out the quarters I didn't want. I can probably send this to a dict and then replace the timestamps with labels, but there has to be a better way that I haven't found in the docs yet.</p>\n\n<p>Is there a way I can create two new columns, assign values to my existing observations, and then create a multi-index without losing my column headings? Thanks!</p>\n"}, {"tags": ["python", "concurrency", "named-pipes"], "comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 2, "creation_date": 1442451748, "post_id": 32619715, "comment_id": 53092307, "body": "The argument to <code>read</code> should be the number of characters to read, not a string. I don&#39;t even know how this works at all, let alone &quot;incorrectly&quot;. For that matter, have you actually made a real named pipe using <code>os.mkfifo</code>, or are you just opening a random file named <code>fifo</code>?"}, {"owner": {"reputation": 2548, "user_id": 1745291, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1cb774f2559ce8b8a6f4a5d2e33c4f6?s=128&d=identicon&r=PG", "display_name": "hl037_", "link": "https://stackoverflow.com/users/1745291/hl037"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1442513518, "post_id": 32619715, "comment_id": 53122957, "body": "sorry for the copy-paste fail about the <code>read()</code>. Actually I read to the EOF (-1 default argument to read with this meaning). I am opening a real posix named-pipe, made by mkfifo (or <code>os.mkfifo()</code> in the python script)"}], "answers": [{"comments": [{"owner": {"reputation": 2548, "user_id": 1745291, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1cb774f2559ce8b8a6f4a5d2e33c4f6?s=128&d=identicon&r=PG", "display_name": "hl037_", "link": "https://stackoverflow.com/users/1745291/hl037"}, "edited": false, "score": 0, "creation_date": 1442526753, "post_id": 32637797, "comment_id": 53129768, "body": "Well, using read_line() would be more efficient in this case, but I guess there is no solution for binary files of any size using all char-codes without using another fifo for making a control thanks any way"}], "tags": [], "owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "is_accepted": false, "score": 0, "last_activity_date": 1442515471, "creation_date": 1442515471, "answer_id": 32637797, "question_id": 32619715, "link": "https://stackoverflow.com/questions/32619715/python-and-named-pipes-how-to-wait-before-re-open/32637797#32637797", "title": "Python and named pipes, how to wait before re-open?", "body": "<p>The only reliable way would be to use a terminating character writer side, and read one char at a time until the terminating character reader side.</p>\n\n<p>So it could be something like:</p>\n\n<p>writer.py:</p>\n\n<pre><code>with open(\"fifo\", \"w\") as f:\n   f.write(\"hello\\n\")\nwith open(\"fifo\", \"w\") as f:\n   f.write(\"hello2\\n\")\n</code></pre>\n\n<p>reader.py</p>\n\n<pre><code>def do_readline(f):\n    line = \"\"\n        while True:\n\n        c = f.read(1)\n        line += c\n        if c == '\\n':\n            break\n    return line\n\nwith open(\"fifo\", \"r\") as f:\n   do_readline(f)\nwith open(\"fifo\", \"r\") as f:\n   do_readline(f)\n</code></pre>\n"}], "owner": {"reputation": 2548, "user_id": 1745291, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1cb774f2559ce8b8a6f4a5d2e33c4f6?s=128&d=identicon&r=PG", "display_name": "hl037_", "link": "https://stackoverflow.com/users/1745291/hl037"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 368, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1442515471, "creation_date": 1442441915, "last_edit_date": 1442513387, "question_id": 32619715, "link": "https://stackoverflow.com/questions/32619715/python-and-named-pipes-how-to-wait-before-re-open", "title": "Python and named pipes, how to wait before re-open?", "body": "<p>I'm developing a two ways IPC using named pipes, but I've this concurrency problem :</p>\n\n<p>writer.py:</p>\n\n<pre><code>with open(\"fifo\", \"w\") as f:\n   f.write(\"hello\")\nwith open(\"fifo\", \"w\") as f:\n   f.write(\"hello2\")\n</code></pre>\n\n<p>reader.py:</p>\n\n<pre><code>with open(\"fifo\", \"r\") as f:\n   f.read()\nwith open(\"fifo\", \"r\") as f:\n   f.read()\n</code></pre>\n\n<p>the problem is :</p>\n\n<pre><code>writer opens the fifo\nreader opens the fifo\nwriter writes \"hello\"\nwriter closes the fifo\nwriter opens the fifo\nwriter writes \"hello2\"\nreader reads \"hellohello2\"\nwriter closes the fifo\nreader closes the fifo\nreader opens the fifo\nreader hangs up\n</code></pre>\n\n<p>Is there a way (without using a protocol to control) to synchronize and force writer to wait that reader has closed the fifo too before re-opening ?</p>\n"}, {"tags": ["python", "if-statement", "while-loop"], "comments": [{"owner": {"reputation": 743, "user_id": 2901079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10738251/picture?type=large", "display_name": "misterbear", "link": "https://stackoverflow.com/users/2901079/misterbear"}, "edited": false, "score": 0, "creation_date": 1442442392, "post_id": 32619659, "comment_id": 53090010, "body": "First, thanks for being honest that it&#39;s homework. You could use a condition <code>if</code> statement to test if the variable entered is between 20 and 99 instead of a loop."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1442443579, "post_id": 32619659, "comment_id": 53090360, "body": "You have a loop with an unconditional <code>break</code>. That&#39;s basically just an <code>if</code> statement. If you want to actually keep asking for a new number, you&#39;ll need to do that in the loop. It looks like you need to review your textbook&#39;s section on loops and input checking."}], "answers": [{"tags": [], "owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "is_accepted": true, "score": 0, "last_activity_date": 1442443479, "last_edit_date": 1442443479, "creation_date": 1442442490, "answer_id": 32619809, "question_id": 32619659, "link": "https://stackoverflow.com/questions/32619659/stopping-a-while-statement/32619809#32619809", "title": "Stopping a while statement", "body": "<p>The second conditional you want <code>and</code> not <code>or</code></p>\n\n<pre><code>while a&gt;20 and a&lt;99:\n</code></pre>\n\n<p>also use <code>if</code> because it will infinite loop if you don't</p>\n"}, {"comments": [{"owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "edited": false, "score": 0, "creation_date": 1442443083, "post_id": 32619837, "comment_id": 53090213, "body": "end= isn&#39;t a syntax error in python3. when you have end=&quot; &quot; and use print it puts a space at the end instead of newline"}, {"owner": {"reputation": 3, "user_id": 5340414, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153771781884574/picture?type=large", "display_name": "Austin Eiter", "link": "https://stackoverflow.com/users/5340414/austin-eiter"}, "edited": false, "score": 0, "creation_date": 1442443193, "post_id": 32619837, "comment_id": 53090249, "body": "That does it! Thank you! But the reason for the &quot;end= &quot; is so that the first part of the number and the second part of the number are on one line, and not two."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1442443493, "post_id": 32619837, "comment_id": 53090332, "body": "Thanks; we&#39;re still on Python 2.7 here."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1442442611, "creation_date": 1442442611, "answer_id": 32619837, "question_id": 32619659, "link": "https://stackoverflow.com/questions/32619659/stopping-a-while-statement/32619837#32619837", "title": "Stopping a while statement", "body": "<p>You have confused \"while\" with \"if\".  You need an \"if\" statement here; \"while\" is for things you intend to repeat.</p>\n\n<p>Also, note that a>20 or a&lt;99 is <em>always</em> true; any number is one or the other.  I believe you wanted an \"and\" here, which makes this merely the \"else\" clause of the \"if\" statement.</p>\n\n<p>Finally, I'm not sure what you're trying to do with the \"end=\" in your first bank of print statements.  This is a syntax error.</p>\n"}, {"tags": [], "owner": {"reputation": 84, "user_id": 4335496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228b787c47506de8a5cbf76e688ad3ef?s=128&d=identicon&r=PG&f=1", "display_name": "Toby Hughes", "link": "https://stackoverflow.com/users/4335496/toby-hughes"}, "is_accepted": false, "score": 0, "last_activity_date": 1442443567, "creation_date": 1442443567, "answer_id": 32619980, "question_id": 32619659, "link": "https://stackoverflow.com/questions/32619659/stopping-a-while-statement/32619980#32619980", "title": "Stopping a while statement", "body": "<p>You have put the break statement inside of the while loop. This means that when you reach that statement, you leave the while loop. So no matter what, your function will leave the loop. A good sign that your while loop is not correct or out of place is if you call a break at the end. Here is a better way.</p>\n\n<pre><code>while True:\n    a=int(input('Pick a number between 20 through 99:'))\n    if a &gt; 20 and a &lt; 99:\n        break;\n    else:\n        print(\"Error, enter number between 20 and 99\")\n</code></pre>\n\n<p>What happens is that the loop goes on indefinitely. Once the correct input is entered, it breaks from the loop. If the input is not correct, it just loops again.</p>\n\n<hr>\n\n<p>Even though you didn't ask about it, I'm going to comment on the other half as well. First, your condition doesn't make sense. All numbers are either over 20 or under 99. You need to use an <code>and</code> so that BOTH must be true. However, the other part is that you don't even need this conditional statement. We already know that we are in this limit. That's what we made sure of in our previous while loop. Lastly, as stated before, the while itself isn't need. If you want to use a conditional that you only use one time, just use an <code>if</code> statement. While is mean for looping and forces you to have a break statement at the end if you will only ever use it once. Here is your completed code:</p>\n\n<pre><code>while True:\n    a=int(input('Pick a number between 20 through 99:'))\n    if a &gt; 20 and a &lt; 99:\n        break;\n    else:\n        print(\"Error, enter number between 20 and 99\")\n\nb=a//10\n\nc=a%10\n\nif b==2:\n    print('The number is Twenty',end=' ')\nelif b==3:\n    print('The number is Thirty',end=' ')\nelif b==4:\n    print('The number is Fourty',end=' ')\nelif b==5:\n    print('The number is Fifty',end=' ')\nelif b==6:\n    print('The number is Sixty',end=' ')\nelif b==7:\n    print('The number is Seventy',end=' ')\nelif b==8:\n    print('The number is Eighty',end=' ')\nelse:\n    print('The number is Ninety',end=' ')\nif c==1:\n    print('One')\nelif c==2:\n    print('Two')\nelif c==3:\n    print('Three')\nelif c==4:\n    print('Four')\nelif c==5:\n    print('Five')\nelif c==6:\n    print('Six')\nelif c==7:\n    print('Seven')\nelif c==8:\n    print('Eight')\nelse:\n    print('Nine') `enter code here`\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5340414, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153771781884574/picture?type=large", "display_name": "Austin Eiter", "link": "https://stackoverflow.com/users/5340414/austin-eiter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 32619809, "answer_count": 3, "score": 0, "last_activity_date": 1442443567, "creation_date": 1442441580, "last_edit_date": 1442441622, "question_id": 32619659, "link": "https://stackoverflow.com/questions/32619659/stopping-a-while-statement", "title": "Stopping a while statement", "body": "<p>I have been assigned in my intro to computer science class to write a program that will print out a number that the user is asked to enter (20-99).  I have been able to do that, and have created an error message if the user doesn't enter a number in this range. The issue I am having is when a number out of range is entered, the error message displays, but for some reason the program continues and still prints out a english number. I have been trying to figure out how to get the program to stop at the error message, but I have not been able to figure it out. Here is what I currently have.</p>\n\n<pre><code>a=int(input('Pick a number between 20 through 99:'))\n\nb=a//10\n\nc=a%10\n\nwhile a&lt;20 or a&gt;99:\n\n    print('Error, enter number between 20 and 99:')\n    break\n\nwhile a&gt;20 or a&lt;99:\n\n    if b==2:\n        print('The number is Twenty',end=' ')\n    elif b==3:\n        print('The number is Thirty',end=' ')\n    elif b==4:\n        print('The number is Fourty',end=' ')\n    elif b==5:\n        print('The number is Fifty',end=' ')\n    elif b==6:\n        print('The number is Sixty',end=' ')\n    elif b==7:\n        print('The number is Seventy',end=' ')\n    elif b==8:\n        print('The number is Eighty',end=' ')\n    else:\n        print('The number is Ninety',end=' ')\n    if c==1:\n        print('One')\n    elif c==2:\n        print('Two')\n    elif c==3:\n        print('Three')\n    elif c==4:\n        print('Four')\n    elif c==5:\n        print('Five')\n    elif c==6:\n        print('Six')\n    elif c==7:\n        print('Seven')\n    elif c==8:\n        print('Eight')\n    else:\n        print('Nine')       \n    break\n</code></pre>\n"}, {"tags": ["python", "numpy", "parallel-processing"], "comments": [{"owner": {"reputation": 8652, "user_id": 418374, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5481f63530b72b21031d1ebcbcc9592f?s=128&d=identicon&r=PG", "display_name": "Cong Ma", "link": "https://stackoverflow.com/users/418374/cong-ma"}, "edited": false, "score": 3, "creation_date": 1442443271, "post_id": 32619638, "comment_id": 53090266, "body": "I think it would use SIMD vectorized CPU instructions (such SSE) when possible and compiled with such.  But multi-cores, no, not for the basic reduce-like methods."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 2, "creation_date": 1442446951, "post_id": 32619638, "comment_id": 53091243, "body": "See <a href=\"http://stackoverflow.com/questions/24498178/understanding-the-difference-between-vectorizing-in-numpy-and-multi-threading-of\" title=\"understanding the difference between vectorizing in numpy and multi threading of\">stackoverflow.com/questions/24498178/&hellip;</a>"}], "owner": {"reputation": 49959, "user_id": 866915, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/09242131d6e17cbbe31e8547514da6e5?s=128&d=identicon&r=PG", "display_name": "ErikR", "link": "https://stackoverflow.com/users/866915/erikr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1442441490, "creation_date": 1442441490, "question_id": 32619638, "link": "https://stackoverflow.com/questions/32619638/parallelizing-a-simple-numpy-computation", "title": "parallelizing a simple numpy computation", "body": "<p>I have a very simple numpy expression:</p>\n\n<pre><code>mat.prod(axis=1).max()\n</code></pre>\n\n<p>Will numpy use multiple cores to evaluate this?\nIf not, can I tell numpy to use multiple cores?</p>\n\n<p>Would using <code>numexpr</code> be helpful here?</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 2621, "user_id": 736211, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7e174130c3e5d2a6c7c54418ec149fec?s=128&d=identicon&r=PG", "display_name": "nivniv", "link": "https://stackoverflow.com/users/736211/nivniv"}, "edited": false, "score": 0, "creation_date": 1442514652, "post_id": 32619799, "comment_id": 53123634, "body": "I hoped that a shorter way would be available, like an argument to the plt.subplots function. But that also works. Thanks!"}], "tags": [], "owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "is_accepted": true, "score": 4, "last_activity_date": 1442501430, "last_edit_date": 1442501430, "creation_date": 1442442448, "answer_id": 32619799, "question_id": 32619562, "link": "https://stackoverflow.com/questions/32619562/matplotlib-multiple-plots-show-yticks-for-all-subplots/32619799#32619799", "title": "matplotlib multiple plots - show yticks for all subplots", "body": "<p>You need to set the tick labels for the yaxes on each plot to have the property <code>visible=True</code></p>\n\n<p>A minimal example is below:</p>\n\n<pre><code>fig, axes = plt.subplots(nrows=1, ncols=4, sharex=True, sharey=True)\nfor ax in axes:\n    ax.plot(range(20),range(10,30))\n    plt.setp(ax.get_yticklabels(),visible=True) # set property\n</code></pre>\n\n<p>Note that <code>setp</code> sets the passed in property on the object passed in as the first argument, or (if that object is iterable) each component of that object.  The <code>pyplot.setp()</code> interface is <a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.setp\" rel=\"nofollow noreferrer\">documented here</a> and implemented as part of <code>matplotlib</code>'s <code>Artist</code> object - <a href=\"https://github.com/matplotlib/matplotlib/blob/v1.4.3/lib/matplotlib/artist.py#L1245\" rel=\"nofollow noreferrer\">code here</a>.</p>\n\n<p>This produces:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5rtFP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5rtFP.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2621, "user_id": 736211, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7e174130c3e5d2a6c7c54418ec149fec?s=128&d=identicon&r=PG", "display_name": "nivniv", "link": "https://stackoverflow.com/users/736211/nivniv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 1, "accepted_answer_id": 32619799, "answer_count": 1, "score": 1, "last_activity_date": 1442501430, "creation_date": 1442441085, "question_id": 32619562, "link": "https://stackoverflow.com/questions/32619562/matplotlib-multiple-plots-show-yticks-for-all-subplots", "title": "matplotlib multiple plots - show yticks for all subplots", "body": "<p>I have a multiple plots figure, using this command (all subplots share x and y axes):</p>\n\n<pre><code>fig, axes = plt.subplots(nrows=1, ncols=4, sharex=True, sharey=True)\n</code></pre>\n\n<p>How do I make the yticks to appear on all subplots (shown in red):\n<a href=\"https://i.stack.imgur.com/6SBB5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6SBB5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "edited": false, "score": 2, "creation_date": 1442441399, "post_id": 32619550, "comment_id": 53089696, "body": "There is not enough information here - you&#39;ve put a lot of information in, but almost none of it is useful.  We might be able to guess that <code>A</code> is a <code>set</code>, or what <code>trie_methods.name()</code> evaluates to, or what the 40th line of the file you show is, but it&#39;s not a great way to <a href=\"http://stackoverflow.com/help/how-to-ask\">ask a question</a>."}], "answers": [{"comments": [{"owner": {"reputation": 719, "user_id": 4052200, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/34175b46df03b2defa96c6d0a86fe2d9?s=128&d=identicon&r=PG&f=1", "display_name": "jukhamil", "link": "https://stackoverflow.com/users/4052200/jukhamil"}, "edited": false, "score": 0, "creation_date": 1442445566, "post_id": 32619601, "comment_id": 53090895, "body": "However, a list is not hashable - won&#39;t a set not accept it?"}, {"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "reply_to_user": {"reputation": 719, "user_id": 4052200, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/34175b46df03b2defa96c6d0a86fe2d9?s=128&d=identicon&r=PG&f=1", "display_name": "jukhamil", "link": "https://stackoverflow.com/users/4052200/jukhamil"}, "edited": false, "score": 0, "creation_date": 1442445659, "post_id": 32619601, "comment_id": 53090918, "body": "You can&#39;t nest the array (that is, you can&#39;t have <code>set([[&quot;alpha&quot;]])</code>), but you can use a list just fine.  <code>set([&quot;alpha&quot;])</code> will work."}], "tags": [], "owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "is_accepted": true, "score": 4, "last_activity_date": 1442441271, "creation_date": 1442441271, "answer_id": 32619601, "question_id": 32619550, "link": "https://stackoverflow.com/questions/32619550/why-does-python-split-strings-when-adding-them-to-sets/32619601#32619601", "title": "Why does python split strings when adding them to sets?", "body": "<p><a href=\"https://docs.python.org/2/library/functions.html#str\" rel=\"nofollow\">Strings are iterable</a>, and <code>set</code> <a href=\"https://docs.python.org/2/library/stdtypes.html#set\" rel=\"nofollow\">accepts an iterable</a> as an argument.</p>\n\n<p>As far as <code>set</code> is concerned, you're passing it a collection of some kind that you want represented as a <code>set</code> instead.</p>\n\n<p>A way around this is to wrap what you're passing in as a tuple or list instead.  It will use the wrapping tuple or list as the iterable instead, and place that into the set as opposed to each individual letter.</p>\n\n<pre><code>&gt;&gt;&gt; set(\"words\")\nset(['s', 'r', 'o', 'w', 'd'])\n&gt;&gt;&gt; set((\"words\",))\nset(['words'])\n</code></pre>\n"}], "owner": {"reputation": 719, "user_id": 4052200, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/34175b46df03b2defa96c6d0a86fe2d9?s=128&d=identicon&r=PG&f=1", "display_name": "jukhamil", "link": "https://stackoverflow.com/users/4052200/jukhamil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "accepted_answer_id": 32619601, "answer_count": 1, "score": -1, "last_activity_date": 1442441271, "creation_date": 1442440967, "question_id": 32619550, "link": "https://stackoverflow.com/questions/32619550/why-does-python-split-strings-when-adding-them-to-sets", "title": "Why does python split strings when adding them to sets?", "body": "<p>This is my method:</p>\n\n<pre><code>def edge(self, f, a, b, s):\n        if not (\n         isinstance(f, str) and isinstance(a, str)\n         and isinstance(b, str) and isinstance(s, str)):\n            raise TypeError('ERROR: Edge requires string arguments.')\n\n        elif f in self.A:\n             raise ValueError('ERROR: Edge name already taken.')\n\n        elif not trie_methods.is_gen(s):\n            raise ValueError('ERROR: Edge requires a dna char for symbol.')\n\n        else:\n            self.A.add(f)\n            self.dom[f] = a\n            self.cod[f] = b\n            self.sym[f] = s\n</code></pre>\n\n<p>This is the test and the output:</p>\n\n<pre><code>class test_method_edge(unittest.TestCase):\n...\n    def auto_name(self):\n        trie = graph.Graph()\n        trie.node('A')\n        trie.node('B')\n        f = trie_methods.name()\n        trie.edge(f, 'A', 'B', 't')\n        self.assertIn(f, trie.A)\n        self.assertTrue(trie.dom[f] =='A')\n        self.assertTrue(trie.cod[f] == 'B')\n        self.assertTrue(trie.sym[f] == 't')\n\nFAIL: test_auto (__main__.test_method_node)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"test_graph.py\", line 40, in test_auto\n    self.assertIn(n, trie.O)\nAssertionError: '82Q3C1' not found in {'3', '2', '8', 'Q', '1', 'C'}\n\n----------------------------------------------------------------------\nRan 6 tests in 0.002s\n\nFAILED (failures=1)\n</code></pre>\n\n<p>I've tried it with 'update' and 'add'. I believe strings are hashable, and sets can only take hashable objects. Is there a another restriction on the elements of a set?</p>\n"}, {"tags": ["python", "linux", "error-handling", "subprocess"], "comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 1, "creation_date": 1442459932, "post_id": 32619512, "comment_id": 53094232, "body": "put <code>subprocess.check_call(&#39;exit 1&#39;, shell=True)</code> before any <code>check_call()</code> that you think should fail and update your questions with the results."}, {"owner": {"reputation": 777, "user_id": 3381761, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3yENm.png?s=128&g=1", "display_name": "krayzk", "link": "https://stackoverflow.com/users/3381761/krayzk"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1442503190, "post_id": 32619512, "comment_id": 53116830, "body": "setting shell to True did not seem to work.  I am making these calls from an rpc process... does that make a difference?"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 1, "creation_date": 1442506407, "post_id": 32619512, "comment_id": 53118943, "body": "It is not about <code>shell=True</code>. Put the code <i>exactly</i> as I&#39;ve written it and report the results."}, {"owner": {"reputation": 777, "user_id": 3381761, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3yENm.png?s=128&g=1", "display_name": "krayzk", "link": "https://stackoverflow.com/users/3381761/krayzk"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1442514020, "post_id": 32619512, "comment_id": 53123271, "body": "Fortunately, I was able to solve this by removing the constraint I thought I had of running it within the rpc process.  When I pulled the code out and ran it on the server itself it worked as expected. Unfortunately, after the refactor, I am no longer a position to test the functionality of your comment exactly as written.  Apologies @J.F.Sebastian, Thank you for your help anyway!"}], "owner": {"reputation": 777, "user_id": 3381761, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3yENm.png?s=128&g=1", "display_name": "krayzk", "link": "https://stackoverflow.com/users/3381761/krayzk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1442513893, "creation_date": 1442440811, "last_edit_date": 1442513893, "question_id": 32619512, "link": "https://stackoverflow.com/questions/32619512/python-subprocess-check-call-is-not-raising-exceptions-for-failed-calls-on-linux", "title": "python subprocess.check_call is not raising exceptions for failed calls on linux within RPC process", "body": "<p>EDIT: adding that this problem seems to be strictly related to making these calls from within an RPC process to the title.  I thought I was going to be required to use RPC to do what I was doing but was mistaken.<br>\nAfter pulling my code out of that process and running from the server it works as expected.  I have decided to leave the question rather than delete it in case anyone else might find the comments of use.</p>\n\n<p>Just as the title suggests, CalledProcessError is not triggering my except block when a subprocess check_call fails.</p>\n\n<p>My code is fairly straight forward, I have a UNC path that I want to mount to a local directory.  if it does not exist, we create it and mount it.  we then push export_file to a subdirectory on the mounted share (that we create if needed).  If any of these operations fail we want to log it and fail out.  Finally, we unmount the share.</p>\n\n<p>I attempted making one call using '&amp;&amp;' separators but this only seemed to convolute things when things went wrong.  After separating all the operations into their own calls using subprocess.check_call() I am getting the results I want for known good situations, the problem is that I want to re-use this code as a test for mountability by setting export_file=None</p>\n\n<p>The code is as follows:</p>\n\n<pre><code>def export_backup(local_dir, remote_dir, creds, export_file=None):\n    \"\"\"\n    process for testing UNC path mountability and for exporting file to UNC path\n    :param local_dir: path for local dir to be used as mount point\n    :param remote_dir: UNC for remote path to mount to local dir\n    :param creds: dictionary with keys: 'username', 'domain', and 'password' (set value to None if non-existent)\n    :param export_file: path to file for exporting, set to None to simply test mountability of remote_dir\n    \"\"\"\n    try:\n        # in case we failed to unmount for whatever reason\n        if os.path.ismount(local_dir):\n            # unmount existing mount\n            subprocess.check_call(['sudo', 'umount', '-l', local_dir])\n        elif not os.path.isdir(local_dir):\n            # create new directory\n            subprocess.check_call(['sudo', 'mkdir', local_dir])\n        # mount path\n        cmd = ['sudo', 'mount', '-t', 'cifs']\n        # build creds\n        cred_string = ','.join(['{0}={1}'.format(key, value) for (key, value) in creds.items() if value])\n        if cred_string:\n            cmd.extend(['-o', cred_string])\n        cmd.extend([remote_dir, local_dir])\n        subprocess.check_call(cmd)\n        if export_file:\n            export_dir = os.path.join(local_dir, '{0}-appl-export'.format(gethostname()))\n            new_file_name = os.path.join(export_dir, os.path.basename(export_file))\n            if not os.path.isdir(export_dir):\n                # create subdirectory\n                subprocess.check_call(['sudo', 'mkdir', export_dir])\n            # export file\n            subprocess.check_call(['sudo', 'cp', export_file, new_file_name])\n    except Exception as ex:\n        logger.exception(u'appliance.rpc.export_backup.error', cause=ex)\n        raise ex\n    finally:\n        # unmount\n        subprocess.check_call(['sudo', 'umount', '-l', local_dir])\n</code></pre>\n\n<p>I can make my own checks for if operations have actually succeeded or failed by making calls like:</p>\n\n<pre><code>if not os.path.ismount(local_dir):\n    raise Exception('Failed to mount')\n</code></pre>\n\n<p>After running my subprocess commands... and this works, but this seems broken and backwards.</p>\n\n<p>From everything that I have read (and even tested in python shells), check_call should raise a CalledProcessError if something exits with a non-zero return code, but for some reason I cannot understand they are not triggering for me here.</p>\n\n<p>an example of a 'bad call' I have tried would be</p>\n\n<pre><code>subprocess.check_call(['sudo', 'mount', '-t', 'cifs', '-o', 'username=somethingbad,password=somethingwrong,domain=thisisrightforsomereason', '//destination/doesnt/exist', '/mnt/export'])\n</code></pre>\n\n<p>from the shell this tells me: 'could not resolve address for destination: Unknown error' and then feeds me the CalledProcessError traceback.  But when I feed those same creds into my function it appears to have succeeded.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "google-maps", "google-app-engine"], "comments": [{"owner": {"reputation": 1577, "user_id": 4065182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df3e28abd04df5a6679c79907d42ba91?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisC73", "link": "https://stackoverflow.com/users/4065182/chrisc73"}, "edited": false, "score": 0, "creation_date": 1442443580, "post_id": 32619435, "comment_id": 53090361, "body": "Please post your API call so we can see exactly what your are attempting to do. And what do you mean by &quot;every time I add an address, the address changes&quot;? Is an error reported or are you getting unexpected results?"}, {"owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "edited": false, "score": 0, "creation_date": 1442444933, "post_id": 32619435, "comment_id": 53090752, "body": "i think he means that he&#39;s making a call to google&#39;s REST api and they use DNS load balancing to return a different IP. so there&#39;s not 1 single IP he can allow in the firewall to let his http traffic through. try pinging google.com multiple times, you&#39;ll notice the ip address isn&#39;t the same"}, {"owner": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "reply_to_user": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "edited": false, "score": 0, "creation_date": 1442445584, "post_id": 32619435, "comment_id": 53090900, "body": "Post updated. @JoshAllemon explained it better than I did."}, {"owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "edited": false, "score": 0, "creation_date": 1442445781, "post_id": 32619435, "comment_id": 53090945, "body": "i think you need to put your API key at the end of the request"}, {"owner": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "edited": false, "score": 0, "creation_date": 1442445864, "post_id": 32619435, "comment_id": 53090974, "body": "I do that in mapRequests in the val dictionary as &#39;key&#39;. Not going to show it for obvious reasons but it&#39;s located in another file called config."}, {"owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "edited": false, "score": 0, "creation_date": 1442445973, "post_id": 32619435, "comment_id": 53091006, "body": "gotcha. when you made the key did you put your local ip address as the only one allowed to make requests from that key?"}, {"owner": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "edited": false, "score": 0, "creation_date": 1442446084, "post_id": 32619435, "comment_id": 53091030, "body": "I did, but that&#39;s when I was running a local server. As I mentioned, when I deployed and ran requests, it would give me a different IP each time and I would add that to the credentials. Because of the DNS load balancing it&#39;s going to give a bunch of IP&#39;s and I&#39;m not going to add them all."}, {"owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "edited": false, "score": 0, "creation_date": 1442446156, "post_id": 32619435, "comment_id": 53091055, "body": "got it. you could either change the credential to use the whole subnet, or you could request a static ip under Networking/External IP addresses"}, {"owner": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "edited": false, "score": 0, "creation_date": 1442446202, "post_id": 32619435, "comment_id": 53091066, "body": "Ok, I&#39;ll try that and get back to you"}, {"owner": {"reputation": 1577, "user_id": 4065182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df3e28abd04df5a6679c79907d42ba91?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisC73", "link": "https://stackoverflow.com/users/4065182/chrisc73"}, "edited": false, "score": 0, "creation_date": 1442446433, "post_id": 32619435, "comment_id": 53091133, "body": "Thanks: makes more sense now."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "edited": false, "score": 0, "creation_date": 1442441817, "post_id": 32619641, "comment_id": 53089846, "body": "Looking at this link I found Google Maps Coordinate API, which would be useful if it wasn&#39;t set for deprecation in Jan 2016. I&#39;m guessing Google has an alternative. Does anyone know where or what it is?"}, {"owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "reply_to_user": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "edited": false, "score": 0, "creation_date": 1442441897, "post_id": 32619641, "comment_id": 53089871, "body": "what about Google Maps Engine API. the one below it in the listing. never mind also deprecated. weird."}, {"owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "reply_to_user": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "edited": false, "score": 0, "creation_date": 1442443894, "post_id": 32619641, "comment_id": 53090452, "body": "i signed up for the free trial of app engine to investigate this give me a sec"}, {"owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "reply_to_user": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "edited": false, "score": 0, "creation_date": 1442444857, "post_id": 32619641, "comment_id": 53090730, "body": "ok in the firewall rules part, can&#39;t you just add the subnet (i&#39;m assuming that although the ip add changes, it&#39;s on one subnet) and allow it over tcp port 80? you&#39;ll need to to make outbound REST requests"}, {"owner": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "edited": false, "score": 0, "creation_date": 1442446163, "post_id": 32619641, "comment_id": 53091058, "body": "I see what you described but I&#39;m having a bit difficulty setting it up. Do you know how to set it as a range of IP&#39;s?  Otherwise, I&#39;ll keep playing with the network settings."}, {"owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "reply_to_user": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "edited": false, "score": 0, "creation_date": 1442446250, "post_id": 32619641, "comment_id": 53091078, "body": "right, so now that you updated your post i don&#39;t think it&#39;s a firewall issue. it&#39;s an issue with your key. if you add 107.178.0.0/16 to your credential, it will add that whole subnet"}, {"owner": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "edited": false, "score": 0, "creation_date": 1442446321, "post_id": 32619641, "comment_id": 53091101, "body": "THAT WAS IT! Thanks a bunch"}], "tags": [], "owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "is_accepted": true, "score": 1, "last_activity_date": 1442446406, "last_edit_date": 1442446406, "creation_date": 1442441505, "answer_id": 32619641, "question_id": 32619435, "link": "https://stackoverflow.com/questions/32619435/python-app-running-on-google-app-engine-how-to-make-calls-to-google-maps-api/32619641#32619641", "title": "Python app running on Google app engine. How to make calls to Google Maps API?", "body": "<p>Change your API key to allow the entire subnet of google app engine servers to make requests to the Google APIs</p>\n\n<p>add 107.178.0.0/16 to your credential in this case</p>\n"}], "owner": {"reputation": 157, "user_id": 3150398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80ff0fbcd72cc2c787edc78ee213d85d?s=128&d=identicon&r=PG", "display_name": "Phreakradio", "link": "https://stackoverflow.com/users/3150398/phreakradio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 32619641, "answer_count": 1, "score": 2, "last_activity_date": 1442446406, "creation_date": 1442440522, "last_edit_date": 1442445541, "question_id": 32619435, "link": "https://stackoverflow.com/questions/32619435/python-app-running-on-google-app-engine-how-to-make-calls-to-google-maps-api", "title": "Python app running on Google app engine. How to make calls to Google Maps API?", "body": "<p>I've managed to write a simple Python app using webapp2 to make requests to Google maps. When I run a local server, the requests are valid and everything works. I uploaded my contents to google's app engine and deployed it. Because of the change in environment, when I make a request, the IP address isn't white listed in my app engine configurations. Every time I add an address, the address changes.</p>\n\n<p><strong>Long story short: python app running webapp2 makes calls to google maps locally but can't when deployed on app engine.</strong></p>\n\n<p>Is there a specific module/library I should be using? I've looked everywhere but most solutions are deprecated or ask to use google.appengine.api which doesn't seem like it has what I need.</p>\n\n<p><strong>EDIT</strong> </p>\n\n<p>Here's the code. The API call is made in mapRequests.getMapRequests()\nwhen you run a local server and visit </p>\n\n<p><a href=\"http://localhost:8080/map/nearby/?radius=5000&amp;latitudeUser=40.905451&amp;longitudeUser=-74.838134&amp;query=italian\" rel=\"nofollow\">http://localhost:8080/map/nearby/?radius=5000&amp;latitudeUser=40.905451&amp;longitudeUser=-74.838134&amp;query=italian</a></p>\n\n<p><strong>__init__.py</strong></p>\n\n<pre><code>import webapp2\nimport json\nimport cgi\nimport config\nfrom mapRequests import *\n\n\nclass MainPage(webapp2.RequestHandler):\n    def get(self):\n        self.response.headers['Content-Type'] = 'text/plain'\n        self.response.write('**************************')\n\n\nclass mapHandler(webapp2.RequestHandler):\n    def get(self,requestType,latitudeUser=None,longitudeUser=None,radius=None,query=None,referenceId=None):\n    finder = mapRequests()\n    self.response.headers['Content-Type'] = 'text/plain'\n\n\n    latitudeUser = cgi.escape(self.request.get('latitudeUser'))\n    longitudeUser = cgi.escape(self.request.get('longitudeUser'))\n    radius = cgi.escape(self.request.get('radius'))\n    query = cgi.escape(self.request.get('query'))\n    referenceId = cgi.escape(self.request.get('referenceId'))\n\n    options = {\n        'nearby' : finder.getMapRequest(latitudeUser,longitudeUser,radius,query),\n        'location' : finder.getRestaurantQuery(referenceId)\n    }\n\n    self.response.write(options[requestType])\n\nself.response.write(finder.getMapRequest(latitudeUser,longitudeUser,radius,query))\n\napp = webapp2.WSGIApplication([\n    ('/', MainPage),\n    ('/map/(nearby|location)/',mapHandler)\n], debug=True)\n</code></pre>\n\n<p><strong>mapRequests.py</strong></p>\n\n<pre><code>import json\nimport config\nimport urllib\n\nclass mapRequests():\n    def __init__(self):\n        self.error = {'status': 'FAIL'}\n        return\n\n    # Get nearby locations within specified radius\n    def getMapRequest(self,latitudeUser,longitudeUser,radius,query):\n\n    ....\n        val = {\n            'location': latitudeUser+','+longitudeUser,\n            'radius': radius,\n            'name': query,\n            'type': 'food',\n            'key': config.GOOGLE_PLACES_KEY\n        }\n        params = urllib.urlencode(val)\n        resp = urllib.urlopen(\"https://maps.googleapis.com/maps/api/place/nearbysearch/json?%s\" % params)\n   return resp.read()\n\n    # Get additional details about a particular location\n    def getRestaurantQuery(self,referenceId):\n        if not referenceId:\n            self.error['referenceId'] = 'MISSING'\n            return(json.dumps(self.error))\n        return \"Looking for a place\\n\"\n</code></pre>\n\n<p>This is what Google responds with when this is deployed and run on the app engine</p>\n\n<pre><code>{\n   \"error_message\" : \"This IP, site or mobile application is not authorized to use this API key. Request received from IP address 107.178.195.162, with empty referer\",\n   \"html_attributions\" : [],\n   \"results\" : [],\n   \"status\" : \"REQUEST_DENIED\"\n}\n</code></pre>\n\n<p>When I say the IP changes, what I mean is when I add the IP seen here to the white list in my developer console, and then run the request again, it changes. \nAlthough the only similarity is the 107.178.(<em>).(</em>) subnet so I'll tinker with that as one person mentioned here. I'll get back to you on that.\nAny other suggestions what it might be?</p>\n"}, {"tags": ["python", "mysql", "django", "mysql-python"], "comments": [{"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1442441092, "post_id": 32619434, "comment_id": 53089590, "body": "Hmm, it should work. Did you activate your virtualenv?"}, {"owner": {"reputation": 31, "user_id": 4605242, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/886709498040517/picture?type=large", "display_name": "Syed Yusuf", "link": "https://stackoverflow.com/users/4605242/syed-yusuf"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1442479955, "post_id": 32619434, "comment_id": 53102186, "body": "Shang Wang it is activated."}], "owner": {"reputation": 31, "user_id": 4605242, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/886709498040517/picture?type=large", "display_name": "Syed Yusuf", "link": "https://stackoverflow.com/users/4605242/syed-yusuf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1442443365, "creation_date": 1442440516, "last_edit_date": 1442443365, "question_id": 32619434, "link": "https://stackoverflow.com/questions/32619434/unable-to-sync-database-in-my-django-project", "title": "Unable to sync database in my Django project", "body": "<p>My question is very similar to the questions that have been asked before by others, but those solutions provided have not solved my issue.</p>\n\n<p>I am using Windows 7 OS,  python 2.7(Anaconda),I have installed mysql workbench. \nAfter creating a virtual environment, I created a testproject and also did </p>\n\n<pre><code>    pip install mysql-python\n</code></pre>\n\n<p>and made changes to the settings.py file</p>\n\n<pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': 'testdatabase', # have created a testdatabase in mysqlworkbench\n        'USER': 'root',\n        'PASSWORD':'syusuf125',\n        'HOST':'localhost',\n        'PORT':'3306',\n}\n</code></pre>\n\n<p>however when I do\n       <code>python manage.py migrate</code>\nit says </p>\n\n<pre><code>traceback (most recent call last): File manage.py, line 10 in(module)execute_from_command_line(sys.argv) \nand ImproperlyConfigured: Error Loading MySQLdb module: no module named MySQLdb\n</code></pre>\n\n<p>manage.py</p>\n\n<pre><code>#!/usr/bin/env python\nimport os\nimport sys\n\nif __name__ == \"__main__\":\n    os.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"testproject.settings\")\n\n    from django.core.management import execute_from_command_line\n\n    execute_from_command_line(sys.argv) #line 10\n</code></pre>\n\n<p>One thing I have noticed is, after a make changes to the database entries in settings.py file, that is when i get into trouble after that even </p>\n\n<pre><code>python manage.py runserver \n</code></pre>\n\n<p>command gives me errors but prior to that it works fine.</p>\n"}, {"tags": ["python", "matplotlib", "plot", "timeline"], "comments": [{"owner": {"reputation": 4073, "user_id": 3257992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bcX5Z.png?s=128&g=1", "display_name": "Tim Seed", "link": "https://stackoverflow.com/users/3257992/tim-seed"}, "edited": false, "score": 0, "creation_date": 1541906338, "post_id": 32619424, "comment_id": 93376247, "body": "Please have a look at <a href=\"https://stackoverflow.com/questions/51521917/timeline-in-python\">stackoverflow.com/questions/51521917/timeline-in-python</a> There is a solution for you there."}], "answers": [{"comments": [{"owner": {"reputation": 255, "user_id": 5344203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8285ee56157e53d869d1ba3a2dac18f9?s=128&d=identicon&r=PG&f=1", "display_name": "mr_pen", "link": "https://stackoverflow.com/users/5344203/mr-pen"}, "edited": false, "score": 0, "creation_date": 1442521788, "post_id": 32626852, "comment_id": 53127397, "body": "I added an answer with I was looking for... I still accepted yours because thats a very neat example and i didnt find anything like that for dates in the axis. It would be nice if it could be baked using a library instead of drawing everything myself :)"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 255, "user_id": 5344203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8285ee56157e53d869d1ba3a2dac18f9?s=128&d=identicon&r=PG&f=1", "display_name": "mr_pen", "link": "https://stackoverflow.com/users/5344203/mr-pen"}, "edited": false, "score": 0, "creation_date": 1442545863, "post_id": 32626852, "comment_id": 53134517, "body": "If the libraries had everything anyone could want they&#39;d be confusingly huge, though. If you&#39;re using this kind of plot more than once, make a function -- pass args through to <code>scatter</code> (or the <code>draw</code> functions in your PIL version)."}], "tags": [], "owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "is_accepted": true, "score": 13, "last_activity_date": 1481949086, "last_edit_date": 1481949086, "creation_date": 1442482031, "answer_id": 32626852, "question_id": 32619424, "link": "https://stackoverflow.com/questions/32619424/is-it-possible-to-plot-timelines-with-matplotlib/32626852#32626852", "title": "is it possible to plot timelines with matplotlib?", "body": "<p>E.g., it's qualitative data so you don't want to use a spatial y-axis? </p>\n\n<p><a href=\"https://i.stack.imgur.com/ZAQD8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZAQD8.png\" alt=\"enter image description here\"></a></p>\n\n<p>from: </p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport pandas as pd\n\ndates = [\"Tue  2 Jun 16:55:51 CEST 2015\",\n\"Wed  3 Jun 14:51:49 CEST 2015\",\n\"Fri  5 Jun 10:31:59 CEST 2015\",\n\"Sat  6 Jun 20:47:31 CEST 2015\",\n\"Sun  7 Jun 13:58:23 CEST 2015\",\n\"Mon  8 Jun 14:56:49 CEST 2015\",\n\"Tue  9 Jun 23:39:11 CEST 2015\",\n\"Sat 13 Jun 16:55:26 CEST 2015\",\n\"Sun 14 Jun 15:52:34 CEST 2015\",\n\"Sun 14 Jun 16:17:24 CEST 2015\",\n\"Mon 15 Jun 13:23:18 CEST 2015\"]\n\nvalues = [3,3,3,3,3,2,1,2,3,3,1]\n\nX = pd.to_datetime(dates)\nfig, ax = plt.subplots(figsize=(6,1))\nax.scatter(X, [1]*len(X), c=values,\n           marker='s', s=100)\nfig.autofmt_xdate()\n\n# everything after this is turning off stuff that's plotted by default\n\nax.yaxis.set_visible(False)\nax.spines['right'].set_visible(False)\nax.spines['left'].set_visible(False)\nax.spines['top'].set_visible(False)\nax.xaxis.set_ticks_position('bottom')\n\nax.get_yaxis().set_ticklabels([])\nday = pd.to_timedelta(\"1\", unit='D')\nplt.xlim(X[0] - day, X[-1] + day)\nplt.show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 255, "user_id": 5344203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8285ee56157e53d869d1ba3a2dac18f9?s=128&d=identicon&r=PG&f=1", "display_name": "mr_pen", "link": "https://stackoverflow.com/users/5344203/mr-pen"}, "is_accepted": false, "score": 13, "last_activity_date": 1467629077, "last_edit_date": 1467629077, "creation_date": 1442521614, "answer_id": 32639382, "question_id": 32619424, "link": "https://stackoverflow.com/questions/32619424/is-it-possible-to-plot-timelines-with-matplotlib/32639382#32639382", "title": "is it possible to plot timelines with matplotlib?", "body": "<p>EDIT: Since I didnt like any solution out there, I bake my own with PIL:</p>\n\n<p>This is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/h3bB8.png\"><img src=\"https://i.stack.imgur.com/h3bB8.png\" alt=\"Resulting visualisation\"></a></p>\n\n<p>This is the code:</p>\n\n<pre><code>#!/usr/bin/env python3\nfrom datetime import datetime, timedelta\nfrom dateutil.relativedelta import relativedelta\nimport csv\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as pltdate\nfrom PIL import Image, ImageDraw\n\nlines = []\nwith open('date') as f:\n    lines = list(csv.reader(f))\n    frmt = '%a %d %b %X %Z %Y'\n    dates = [datetime.strptime(line[0], frmt) for line in lines]\n    data = [line[1] for line in lines]\n\n#datesnum = pltdate.date2num(dates)\n#fig, ax = plt.subplots()\n#ax.plot_date(datesnum, data, 'o')\n\n#plt.show()\n\n#generate image\nWIDTH, HEIGHT = 4000, 400\nBORDER = 70\nW = WIDTH - (2 * BORDER)\nH = HEIGHT - (2 * BORDER)\n\n\ncolors = { '0': \"lime\", '1' : (255,200,200), '2' : (255,100,100), '3' : (255,0,0) }\n\nimage = Image.new(\"RGB\", (WIDTH, HEIGHT), \"white\")\nmin_date = dates[0]\nmax_date = datetime.now()\n#print(min_date)\n#print(max_date)\ninterval = max_date - min_date\n#print(interval.days)\n\n#draw frame\ndraw = ImageDraw.Draw(image)\ndraw.rectangle((BORDER, BORDER, WIDTH-BORDER, HEIGHT-BORDER), fill=(128,128,128), outline=(0,0,0))\n\n#draw circles\ncircle_w = 10\nrange_secs = W / interval.total_seconds()\n#print(range_secs)\nfor i in range(len(dates)):\n    wat = dates[i] - min_date\n    offset_sec = (dates[i] - min_date).total_seconds()\n    offset = range_secs * offset_sec\n    x = BORDER + offset\n    draw.ellipse((x, BORDER + 50, x + circle_w, BORDER + 50 + circle_w), outline=colors[data[i]])\n    #draw.text((x, BORDER + 75), str(i), fill=colors[data[i]])\n\n#draw rectangles\nrange_days = W / (interval.days + 1)\n#print(\"range_days\",range_days)\ncurrent_date = min_date\ndate_month = min_date + relativedelta(months=1)\ncurrent_index = 0\nfor i in range(interval.days + 1):\n    max_color = '0'\n    while dates[current_index].date() == current_date.date():\n        if int(data[current_index]) &gt; int(max_color):\n            max_color = data[current_index]\n        current_index += 1\n        if current_index &gt; len(dates) - 1:\n            current_index = 0\n    x = BORDER + range_days * i\n    draw.rectangle((x, BORDER + 100, x+range_days, BORDER + 100 + 50), fill=colors[max_color], outline=(0,0,0))\n    if current_date == date_month:\n        draw.line((x, BORDER + 100 +50, x, H + BORDER + 20), fill=\"black\")\n        draw.text((x, H + BORDER + 20), str(date_month.date()), fill=\"black\")\n        date_month = date_month + relativedelta(months=1)\n    #draw.text((x, BORDER + 175), str(i), fill=colors[max_color])\n    current_date = current_date + timedelta(days=1)\n\n#draw start and end dates\ndraw.text((BORDER, H + BORDER + 20), str(min_date.date()), fill=\"black\")\ndraw.text((BORDER + W, H + BORDER + 20), str(max_date.date()), fill=\"black\")\n\nimage.save(\"date.png\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16607, "user_id": 267482, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd69625825bed998b63fef68a23592aa?s=128&d=identicon&r=PG", "display_name": "bobah", "link": "https://stackoverflow.com/users/267482/bobah"}, "is_accepted": false, "score": 0, "last_activity_date": 1537190268, "creation_date": 1537190268, "answer_id": 52368712, "question_id": 32619424, "link": "https://stackoverflow.com/questions/32619424/is-it-possible-to-plot-timelines-with-matplotlib/52368712#52368712", "title": "is it possible to plot timelines with matplotlib?", "body": "<p>I use the <a href=\"https://matplotlib.org/devdocs/api/_as_gen/matplotlib.axes.Axes.broken_barh.html\" rel=\"nofollow noreferrer\"><code>broken_barh()</code></a> API, something like:</p>\n\n<pre><code>mycolors=deque([\"#d24e32\",\"#6a40c5\",\"#59ba45\",...])        \n\n# for each bar to draw\nax.broken_barh([(x, w), ...], (y, h), color=mycolors, alpha=0.3, antialiased=True)\n\nmycolors.rotate(-1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11564816, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9OeFCzYJS6M/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfi_j-oo_Nvf0wdP6Y1VHZF7jSG_Q/mo/photo.jpg?sz=128", "display_name": "Christopher Hamilton", "link": "https://stackoverflow.com/users/11564816/christopher-hamilton"}, "is_accepted": false, "score": 0, "last_activity_date": 1559005561, "creation_date": 1559005561, "answer_id": 56333904, "question_id": 32619424, "link": "https://stackoverflow.com/questions/32619424/is-it-possible-to-plot-timelines-with-matplotlib/56333904#56333904", "title": "is it possible to plot timelines with matplotlib?", "body": "<p>I wasn't able to find the answer i was looking for so here is my take on it. This function will take in a time series, then plot a random positive and negative point within the range. By giving it a series you will allow for a label on the graph, and a second series will allow you to click on it for more data. </p>\n\n<pre><code>#!/usr/bin/python\n# -*- coding: utf-8 -*-\nimport matplotlib.pyplot as plt\nimport mplcursors\nimport numpy as np\n\n\n    # expects series, annotation, and the annotation data to be shown on click\n\ndef stimeline(timeseries, annotation, onclick):\n\n    neg = np.random.randint(low=-500, high=0, size=len(timeseries))\n    pos = np.random.randint(low=0, high=500, size=len(timeseries))\n    i = 0\n    d = []\n    while i &lt; len(timeseries):\n        if i &lt; len(timeseries):\n            d.append(pos[i])\n            i += 1\n        if i &lt; len(timeseries):\n            d.append(neg[i])\n            i += 1\n    (fig, ax) = plt.subplots(figsize=(8.8, 4), constrained_layout=True)\n    ax.stem(timeseries, d, basefmt=' ')\n    ax.set(title='Timeline')\n    ax.set_ylim(-545, 545)\n\n    levels = np.tile(d, int(np.ceil(len(timeseries)\n                     / 6)))[:len(timeseries)]\n    (markerline, stemline, baseline) = ax.stem(timeseries, levels,\n            linefmt='C3-', basefmt='k-')\n    plt.setp(markerline, mec='k', mfc='w', zorder=3)\n    vert = np.array(['top', 'bottom'])[(levels &gt; 0).astype(int)]\n    for (d, l, r, va) in zip(timeseries, levels, annotation, vert):\n        ax.annotate(\n            r,\n            xy=(d, l),\n            xytext=(-3, np.sign(l) * 3),\n            textcoords='offset points',\n            va=va,\n            ha='right',\n            )\n\n    ax.get_yaxis().set_visible(False)\n    for spine in ['left', 'top', 'right']:\n        ax.spines[spine].set_visible(False)\n\n    mplcursors.cursor(ax).connect('add', lambda sel: \\\n                                  sel.annotation.set_text(onclick[sel.target.index]))\n\n    ax.margins(y=0.1)\n    plt.show()\n\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 5344203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8285ee56157e53d869d1ba3a2dac18f9?s=128&d=identicon&r=PG&f=1", "display_name": "mr_pen", "link": "https://stackoverflow.com/users/5344203/mr-pen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15526, "favorite_count": 9, "accepted_answer_id": 32626852, "answer_count": 4, "score": 12, "last_activity_date": 1559005561, "creation_date": 1442440486, "last_edit_date": 1495541397, "question_id": 32619424, "link": "https://stackoverflow.com/questions/32619424/is-it-possible-to-plot-timelines-with-matplotlib", "title": "is it possible to plot timelines with matplotlib?", "body": "<p>Im trying to plot dates with values like this csv.</p>\n\n<pre><code>Tue  2 Jun 16:55:51 CEST 2015,3\nWed  3 Jun 14:51:49 CEST 2015,3\nFri  5 Jun 10:31:59 CEST 2015,3\nSat  6 Jun 20:47:31 CEST 2015,3\nSun  7 Jun 13:58:23 CEST 2015,3\nMon  8 Jun 14:56:49 CEST 2015,2\nTue  9 Jun 23:39:11 CEST 2015,1\nSat 13 Jun 16:55:26 CEST 2015,2\nSun 14 Jun 15:52:34 CEST 2015,3\nSun 14 Jun 16:17:24 CEST 2015,3\nMon 15 Jun 13:23:18 CEST 2015,1\n...\n</code></pre>\n\n<p>Im doing something very similar to the first answer here: <a href=\"https://stackoverflow.com/questions/25041905/matplotlib-timelines\">Matplotlib timelines</a></p>\n\n<p>But is really hard to get a good grasp of the data looking at that kind of visualization. Then I realize that im trying to plot periods and that I dont need a significant y-axis, only x-axis with the dates and the values can be colors</p>\n\n<p>Something like this:</p>\n\n<pre><code>---===-===---****\nDDDDDDDDDDDDDDDDD\n\n-=* = type of values (using colors for example, but any representation would do)\nD = dates\n</code></pre>\n\n<p>I dont seem to see anything similar looking at the matplotlib examples</p>\n\n<p>colorbars seems like they might work, but not quite, since the axis need to be date intervals\n<a href=\"http://matplotlib.org/examples/api/colorbar_only.html\" rel=\"noreferrer\">http://matplotlib.org/examples/api/colorbar_only.html</a></p>\n"}, {"tags": ["python", "flask", "sqlalchemy", "flask-sqlalchemy"], "comments": [{"owner": {"reputation": 2225, "user_id": 331853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2fdf9babe8ad362fea8ac6d543f9d1?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/331853/boris"}, "edited": false, "score": 0, "creation_date": 1442450393, "post_id": 32619422, "comment_id": 53091980, "body": "Using first() instead of all() should work fine."}, {"owner": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "reply_to_user": {"reputation": 2225, "user_id": 331853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2fdf9babe8ad362fea8ac6d543f9d1?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/331853/boris"}, "edited": false, "score": 0, "creation_date": 1442486349, "post_id": 32619422, "comment_id": 53105920, "body": "First() only selects the first row... I want to select the first scan of every server."}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "edited": false, "score": 0, "creation_date": 1442492116, "post_id": 32619422, "comment_id": 53109158, "body": "Is it only in this query, or also in other cases you need the <i>latest</i> Scan of the server without loading all Scans into memory?"}, {"owner": {"reputation": 2179, "user_id": 2653384, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1dd72e30eaef778f5d7ca2e573b8f9ca?s=128&d=identicon&r=PG", "display_name": "Busturdust", "link": "https://stackoverflow.com/users/2653384/busturdust"}, "edited": false, "score": 0, "creation_date": 1442498605, "post_id": 32619422, "comment_id": 53113547, "body": "loop through the resultset and hold a temp value that says whether or not you did that server yet, so if server has visited, skip it something like ` for u,v in query: `     if u.servername in [visted list]:          pass `"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "edited": false, "score": 0, "creation_date": 1442497310, "post_id": 32629899, "comment_id": 53112610, "body": "Hi @lrnzcig, Thank you for your answer, although I am finding it slightly difficult to understand so I thought I&#39;d provide further information to my problem.  I have modified my question a little to provide a better explanation of what I am trying to achieve."}, {"owner": {"reputation": 3364, "user_id": 3519000, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8UkXR.jpg?s=128&g=1", "display_name": "lrnzcig", "link": "https://stackoverflow.com/users/3519000/lrnzcig"}, "reply_to_user": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "edited": false, "score": 0, "creation_date": 1442498318, "post_id": 32629899, "comment_id": 53113334, "body": "Sorry, I read your update but still I don&#39;t understand. What is the &quot;last&quot; <code>Scan</code> for you? Do you have any criteria for selecting that &quot;last one&quot;, or it is just the last one you get from the ddbb? If you can set some criteria, then you may be able to use my answer (and if it is not well explained, just tell me what is it you&#39;re finding trouble with...) And indeed if you don&#39;t have any criteria to select the &quot;last&quot; then you should use another strategy... Please let me know"}, {"owner": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "edited": false, "score": 0, "creation_date": 1442503543, "post_id": 32629899, "comment_id": 53117048, "body": "Sorry if I&#39;m confusing you a little. Just to note, the DB I am using is sqlite, so the above query does not work. I am using the scan id as the criteria. So when I select a Server, I want to the last Scan associated to that Server."}, {"owner": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "edited": false, "score": 0, "creation_date": 1442503831, "post_id": 32629899, "comment_id": 53117258, "body": "This actually works perfectly!! Super sorry, I was writing the commands in incorrectly. Thank you very much!"}, {"owner": {"reputation": 3364, "user_id": 3519000, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8UkXR.jpg?s=128&g=1", "display_name": "lrnzcig", "link": "https://stackoverflow.com/users/3519000/lrnzcig"}, "reply_to_user": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "edited": false, "score": 0, "creation_date": 1442503854, "post_id": 32629899, "comment_id": 53117283, "body": "So, if you are using <code>sqlite</code>, the solution will work if the <code>scan_id</code> is unique, by using the last 2 queries. If it is unique, please tell me, and I can modify the answer and try to make it more clear."}, {"owner": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "edited": false, "score": 0, "creation_date": 1442509077, "post_id": 32629899, "comment_id": 53120455, "body": "sorry, one more question. How can I output a server if it has no scan associated to it. So there is no scan_id on a server?"}, {"owner": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "edited": false, "score": 0, "creation_date": 1442526673, "post_id": 32629899, "comment_id": 53129742, "body": "Thank you @lrnzcig ... I have spend 3 days on this problem!"}], "tags": [], "owner": {"reputation": 3364, "user_id": 3519000, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8UkXR.jpg?s=128&g=1", "display_name": "lrnzcig", "link": "https://stackoverflow.com/users/3519000/lrnzcig"}, "is_accepted": true, "score": 0, "last_activity_date": 1442510577, "last_edit_date": 1442510577, "creation_date": 1442491488, "answer_id": 32629899, "question_id": 32619422, "link": "https://stackoverflow.com/questions/32619422/sqlalchemy-join-two-models-and-select-top-row/32629899#32629899", "title": "SQLAlchemy join two models and select top row", "body": "<p>You would need to add a subquery in which you select the <code>Scan</code> register you want to show, using some criteria. For the toy example below I assume you want the maximum value of some parameter.</p>\n\n<p>I've created tables <code>A</code> and <code>B</code>; <code>A</code> corresponds to <code>Server</code> and <code>B</code> to <code>Scan</code>.</p>\n\n<pre><code>In [2]:\n\nclass A(Base):\n    __tablename__ = 'A'\n\u200b\n    pk = Column('pk', Integer, primary_key=True)\n    name = Column('name', String)\n\nclass B(Base):\n    __tablename__ = 'B'\n\u200b\n    pk = Column('pk', Integer, primary_key=True)\n    fk = Column('fk', Integer, ForeignKey('A.pk'))\n    attr = Column('attr', Integer)\n\u200b\n    a = relationship(\"A\", backref='B')\n</code></pre>\n\n<p>Inserted some data,</p>\n\n<pre><code>In [10]:\n\nq = session.query(B)\nprint(q)\nfor x in q.all():\n    print(x.pk, x.fk, x.attr)\n\nq = session.query(A)\nprint(q)\nfor x in q.all():\n    print(x.pk, x.name)\n\u200b\nSELECT \"B\".pk AS \"B_pk\", \"B\".fk AS \"B_fk\", \"B\".attr AS \"B_attr\" \nFROM \"B\"\n1 1 1\n2 1 2\n3 2 0\n4 2 4\n5 1 4\nSELECT \"A\".pk AS \"A_pk\", \"A\".name AS \"A_name\" \nFROM \"A\"\n1 one\n2 two\n</code></pre>\n\n<p>And solved your problem adding a subquery that selects the maximum value of <code>B.attr</code> for every <code>B.fk</code>, i.e. for every <code>A.pk</code>. (In your example it would be the maximum <code>Scan.attr</code> for every <code>Server</code>.)</p>\n\n<pre><code>In [13]:\n\n\nfrom sqlalchemy import func\nfrom sqlalchemy import tuple_\n\u200b\ns = session.query(func.max(B.attr), B.fk).group_by(B.fk)\nprint(s)\nq = session.query(A, B).outerjoin(B).filter(tuple_(B.attr, B.fk).in_(s))\nprint(q)\nfor x in q.all():\n    print(x.A.pk, x.A.name, x.B.pk, x.B.attr)\n\nSELECT max(\"B\".attr) AS max_1, \"B\".fk AS \"B_fk\" \nFROM \"B\" GROUP BY \"B\".fk\nSELECT \"A\".pk AS \"A_pk\", \"A\".name AS \"A_name\", \"B\".pk AS \"B_pk\", \"B\".fk AS \"B_fk\", \"B\".attr AS \"B_attr\" \nFROM \"A\" LEFT OUTER JOIN \"B\" ON \"A\".pk = \"B\".fk \nWHERE (\"B\".attr, \"B\".fk) IN (SELECT max(\"B\".attr) AS max_1, \"B\".fk AS \"B_fk\" \nFROM \"B\" GROUP BY \"B\".fk)\n2 two 4 4\n1 one 5 4\n</code></pre>\n\n<p>NOTE: you don't mention which database you are using, but just in case, please note that the <code>in_</code> statement with multiple columns does not work in <code>sqlite</code> (which is quite annoying when you try it). But if you used one column only, something like,</p>\n\n<pre><code>s = session.query(func.max(B.attr)).group_by(B.fk)\nq = session.query(A, B).outerjoin(B).filter(B.attr.in_(s))\n</code></pre>\n\n<p>however depending on your data you could get more than one B for each A (e.g. <code>B.fk</code>=1 has max(<code>B.attr</code>)=3, and <code>B.fk</code>=2 has max(<code>B.attr</code>)=4 but also a <code>B.attr</code>=3, you would get for <code>B.fk</code>=2 both <code>B.attr</code>=3 and <code>B.attr</code>=4.</p>\n\n<p>However if the attribute you are using to select the maximum was unique, it would be fine. Anyway if you are with a database like <code>postgres</code> or <code>oracle</code> you can use the <code>in_</code> with multiple columns.</p>\n\n<p>Hope it helps.</p>\n\n<p><strong>EDIT added after comments:</strong>\nIf you want to get also the <code>Servers</code> without a <code>Scan</code>, you just need to add an <code>or_</code> to your query.</p>\n\n<pre><code>In [18]:\n\nfrom sqlalchemy import func\nfrom sqlalchemy import tuple_\nfrom sqlalchemy import or_\n\u200b\ns = session.query(func.max(B.attr), B.fk).group_by(B.fk)\nq = session.query(A, B).outerjoin(B).filter(or_(tuple_(B.attr, B.fk).in_(s), B.fk==None))\nprint(q)\nfor x in q.all():\n    if x.B:\n        print(x.A.pk, x.A.name, x.B.pk, x.B.attr)\n    else:\n        print(x.A.pk, x.A.name)\n\u200b\nSELECT \"A\".pk AS \"A_pk\", \"A\".name AS \"A_name\", \"B\".pk AS \"B_pk\", \"B\".fk AS \"B_fk\", \"B\".attr AS \"B_attr\" \nFROM \"A\" LEFT OUTER JOIN \"B\" ON \"A\".pk = \"B\".fk \nWHERE (\"B\".attr, \"B\".fk) IN (SELECT max(\"B\".attr) AS max_1, \"B\".fk AS \"B_fk\" \nFROM \"B\" GROUP BY \"B\".fk) OR \"B\".fk IS NULL\n2 two 4 4\n1 one 5 4\n3 three\n</code></pre>\n\n<p>As you see, you have to be careful with nulls. Note that <code>outerjoin</code> already performs a <code>left join</code>, which is what you needed, but because of the <code>filter</code>, you have to explicitly say that you want the null rows also. As usual, <code>A</code> is <code>Server</code> and <code>B</code> is <code>Scan</code>. Sorry for not using your table names, it makes it much more difficult to read.</p>\n"}], "owner": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1387, "favorite_count": 1, "accepted_answer_id": 32629899, "answer_count": 1, "score": 1, "last_activity_date": 1442510577, "creation_date": 1442440481, "last_edit_date": 1442498099, "question_id": 32619422, "link": "https://stackoverflow.com/questions/32619422/sqlalchemy-join-two-models-and-select-top-row", "title": "SQLAlchemy join two models and select top row", "body": "<p>Currently I have two tables: Server and Scan.\n<br> It is possible to have one server to many scans (one to many relationship).</p>\n\n<p>What I am trying to achieve is to select a Server and then only the first Scan associated to that Server. The following query:</p>\n\n<pre><code>query = db.session.query(models.Server, models.Scan).outerjoin(models.Server.scans).all()\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>(&lt;Server u'Testing'&gt;, &lt;Scan u'bbd4f805-3966-d464-b2d1-0079eb89d69708c3a05ec2812bcf'&gt;)\n(&lt;Server u'Testing'&gt;, &lt;Scan u'bbd4f805-3966-d464-b2d1-0079eb89d69708c3a05ec2812bcf'&gt;)\n(&lt;Server u'Testing'&gt;, &lt;Scan u'testscan'&gt;)\n(&lt;Server u'fasd'&gt;, &lt;Scan u'testscan'&gt;)\n(&lt;Server u'fdaafas'&gt;, None)\n</code></pre>\n\n<p>whereas I only want one \"<code>Testing</code>\" Server and the most recent Scan.</p>\n\n<p>ADDITIONAL</p>\n\n<p>When I loop through my query like so:</p>\n\n<pre><code>for a in query:\n    print a, a.scans.all()\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>&lt;Server u'Testing'&gt; [&lt;Scan u'testscan'&gt;, &lt;Scan u'bbd4f805-3966-d464-b2d1-0079eb89d69708c3a05ec2812bcf'&gt;, &lt;Scan u'bbd4f805-3966-d464-b2d1-0079eb89d69708c3a05ec2812bcf'&gt;]\n&lt;Server u'fasd'&gt; [&lt;Scan u'testscan'&gt;]\n&lt;Server u'fdaafas'&gt; []\n</code></pre>\n\n<p>The output I want should equal:</p>\n\n<pre><code>&lt;Server u'Testing'&gt; [&lt;Scan u'bbd4f805-3966-d464-b2d1-0079eb89d69708c3a05ec2812bcf'&gt;]\n&lt;Server u'fasd'&gt; [&lt;Scan u'testscan'&gt;]\n    &lt;Server u'fdaafas'&gt; []\n</code></pre>\n"}, {"tags": ["python", "pyside", "signals-slots"], "comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 1, "creation_date": 1442442310, "post_id": 32619361, "comment_id": 53089995, "body": "<code>self.actionDodaj_Novi.triggered.connect(self.openNewPutnicki&zwnj;&#8203;)</code>."}], "owner": {"reputation": 183, "user_id": 5309764, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/57f739ead1f4a76bb40bca1975d6466d?s=128&d=identicon&r=PG&f=1", "display_name": "Leon Csergity", "link": "https://stackoverflow.com/users/5309764/leon-csergity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1442442387, "creation_date": 1442440166, "last_edit_date": 1442442387, "question_id": 32619361, "link": "https://stackoverflow.com/questions/32619361/opening-a-simple-dialog-in-pyside", "title": "Opening a simple dialog in Pyside", "body": "<p>My problem is simple yet i am blind to the solution. All i wish to do is to open \na simple dialog when the corresponding menu button or sub section is clicked.\nAnd doing so while using the new,newer syntax for connecting.\nThis is the small, short simple code.</p>\n\n<pre><code>from PySide.QtCore import *\nfrom PySide.QtGui import *\nimport sys\n\nimport TheMainWindow\nimport PutnickiVozDialog\n\n\nclass TheApp(QMainWindow, TheMainWindow.Ui_MainWindow):\n    def __init__(self, parent=None):\n        super(TheApp,self).__init__(parent)\n        self.setupUi(self)\n\n        self.actionDodaj_Novi.connect(self.openNewPutnicki)\n\n\n    def openNewPutnicki(self):\n        self.putDialog = QDialog(self)\n        self.putUi = PutnickiVozDialog.Ui_putnickiSearchDialog()\n        self.putUi.setupUi(self.putDialog)\n        self.putDialog.show()\n\n\ntheApp = QApplication(sys.argv)\ntheWindow = TheApp()\ntheWindow.show()\ntheApp.exec_()\n</code></pre>\n\n<p>I have done so following tutorials. But i get the following error report. And i do not know what is it that i am missing.</p>\n\n<pre><code>C:\\Python34\\python.exe \"C:/Projects/Xml Database Project/PyCharm Workspace/TheApplication.py\"\nTraceback (most recent call last):\n  File \"C:/Projects/Xml Database Project/PyCharm Workspace/TheApplication.py\", line 45, in &lt;module&gt;\n    theWindow = TheApp()\n  File \"C:/Projects/Xml Database Project/PyCharm Workspace/TheApplication.py\", line 16, in __init__\n    self.actionDodaj_Novi.connect(self.openNewPutnicki)\nTypeError: PySide.QtCore.QObject.connect(): not enough arguments\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>I am sorry if i'm blind to something really simple here. But it just won't work.\nThank you in advance!</p>\n"}, {"tags": ["python", "apache-spark", "random-forest", "apache-spark-mllib"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 9467089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efb645f0276fdb354c07402d951b2a43?s=128&d=identicon&r=PG", "display_name": "Des0lat0r", "link": "https://stackoverflow.com/users/9467089/des0lat0r"}, "edited": false, "score": 0, "creation_date": 1606932201, "post_id": 32619565, "comment_id": 115115445, "body": "A bit late, but in case you remember, was it only the server IP you changed?Not the server itself? I am getting the same error and I have a spark driver with 235g and 3 worker nodes(1 executor each with 4 cores and 115g)."}], "tags": [], "owner": {"reputation": 1537, "user_id": 1516226, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/77239104ed3ca726fd5fc356772f5010?s=128&d=identicon&r=PG", "display_name": "foboi1122", "link": "https://stackoverflow.com/users/1516226/foboi1122"}, "is_accepted": true, "score": 0, "last_activity_date": 1442441132, "creation_date": 1442441132, "answer_id": 32619565, "question_id": 32619353, "link": "https://stackoverflow.com/questions/32619353/spark-python-mllib-random-forest-out-of-memory-error/32619565#32619565", "title": "Spark python MLlib Random Forest out of memory error", "body": "<p>Turns out my Tachyon server IP was incorrect. Configuring the correct Tachyon server IP solved my problem.</p>\n"}], "owner": {"reputation": 1537, "user_id": 1516226, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/77239104ed3ca726fd5fc356772f5010?s=128&d=identicon&r=PG", "display_name": "foboi1122", "link": "https://stackoverflow.com/users/1516226/foboi1122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 0, "accepted_answer_id": 32619565, "answer_count": 1, "score": 1, "last_activity_date": 1461584873, "creation_date": 1442440152, "last_edit_date": 1461584873, "question_id": 32619353, "link": "https://stackoverflow.com/questions/32619353/spark-python-mllib-random-forest-out-of-memory-error", "title": "Spark python MLlib Random Forest out of memory error", "body": "<p>I am running spark 1.2.1 to train a random forest. I have a master and a worker node setup on AWS EC2 with total 96GB of memory allocated to spark. I played with various parallelism values (32, 64, 6400) and I keep getting the same error. According to the spark UI, my RDD is 277KB, 100% cached in memory, which should be tiny. My spark context is as follows:</p>\n\n<pre><code>spark.executor.memory   100000m\nspark.driver.memory 90000m\nspark.driver.maxResultSize 0\nspark.storage.memoryFraction 0.6\nspark.default.parallelism 6400\nspark.eventLog.enabled true\nspark.executor.extraLibraryPath /root/ephemeral-hdfs/lib/native/\nspark.executor.extraClassPath   /root/ephemeral-hdfs/conf\n\n# for spark version &lt; 1.4.0\nspark.tachyonStore.url tachyon://10.0.29.29:19998\n# for spark version &gt;= 1.4.0\nspark.externalBlockStore.url tachyon://10.0.29.29:19998\n</code></pre>\n\n<p>The error is as follows:</p>\n\n<pre><code>15/09/16 21:32:38 INFO scheduler.TaskSetManager: Finished task 6397.0 in stage 31.0 (TID 51197) in 4 ms on 10.0.29.186 (6398/6400)\n15/09/16 21:32:38 INFO scheduler.TaskSetManager: Finished task 6398.0 in stage 31.0 (TID 51198) in 4 ms on 10.0.29.186 (6399/6400)\n15/09/16 21:32:38 INFO scheduler.TaskSetManager: Finished task 6399.0 in stage 31.0 (TID 51199) in 4 ms on 10.0.29.186 (6400/6400)\n15/09/16 21:32:38 INFO scheduler.TaskSchedulerImpl: Removed TaskSet 31.0, whose tasks have all completed, from pool\n15/09/16 21:32:38 INFO scheduler.DAGScheduler: ResultStage 31 (collect at DecisionTree.scala:977) finished in 1.843 s\n15/09/16 21:32:38 INFO scheduler.DAGScheduler: Job 31 finished: collect at DecisionTree.scala:977, took 1.889432 s\n15/09/16 21:32:46 INFO storage.BlockManagerInfo: Removed broadcast_32_piece0 on 10.0.29.44:60955 in memory (size: 3.9 KB, free: 45.5 GB)\n15/09/16 21:32:46 INFO storage.BlockManagerInfo: Removed broadcast_32_piece0 on 10.0.29.186:43335 in memory (size: 3.9 KB, free: 50.5 GB)\n15/09/16 21:34:24 INFO storage.MemoryStore: ensureFreeSpace(46872) called with curMem=0, maxMem=48837427200\n15/09/16 21:34:24 INFO storage.MemoryStore: Block broadcast_33 stored as values in memory (estimated size 45.8 KB, free 45.5 GB)\n15/09/16 21:34:24 INFO storage.MemoryStore: ensureFreeSpace(46927) called with curMem=46872, maxMem=48837427200\n15/09/16 21:34:24 INFO storage.MemoryStore: Block broadcast_33_piece0 stored as bytes in memory (estimated size 45.8 KB, free 45.5 GB)\n15/09/16 21:34:24 INFO storage.BlockManagerInfo: Added broadcast_33_piece0 in memory on 10.0.29.44:60955 (size: 45.8 KB, free: 45.5 GB)\n15/09/16 21:34:24 INFO spark.SparkContext: Created broadcast 33 from broadcast at DecisionTree.scala:592\n15/09/16 21:35:43 INFO rdd.MapPartitionsRDD: Removing RDD 24 from persistence list\n15/09/16 21:35:43 INFO storage.BlockManager: Removing RDD 24\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"random_forest_spark.py\", line 142, in trainModel\n    impurity='gini', maxDepth=4, maxBins=32)\n  File \"/root/spark/python/pyspark/mllib/tree.py\", line 352, in trainClassifier\n    maxDepth, maxBins, seed)\n  File \"/root/spark/python/pyspark/mllib/tree.py\", line 270, in _train\n    maxDepth, maxBins, seed)\n  File \"/root/spark/python/pyspark/mllib/common.py\", line 128, in callMLlibFunc\n    return callJavaFunc(sc, api, *args)\n  File \"/root/spark/python/pyspark/mllib/common.py\", line 121, in callJavaFunc\n    return _java2py(sc, func(*args))\n  File \"/root/spark/python/lib/py4j-0.8.2.1-src.zip/py4j/java_gateway.py\", line 538, in __call__\n  File \"/root/spark/python/lib/py4j-0.8.2.1-src.zip/py4j/protocol.py\", line 300, in get_return_value\npy4j.protocol.Py4JJavaError: An error occurred while calling o169.trainRandomForestModel.\n: java.lang.OutOfMemoryError\n        at java.io.ByteArrayOutputStream.hugeCapacity(ByteArrayOutputStream.java:123)\n        at java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:117)\n        at java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)\n        at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:153)\n        at java.io.ObjectOutputStream$BlockDataOutputStream.drain(ObjectOutputStream.java:1876)\n        at java.io.ObjectOutputStream$BlockDataOutputStream.setBlockDataMode(ObjectOutputStream.java:1785)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1188)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:347)\n        at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:44)\n        at org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:81)\n        at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:312)\n        at org.apache.spark.util.ClosureCleaner$.org$apache$spark$util$ClosureCleaner$$clean(ClosureCleaner.scala:305)\n        at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:132)\n        at org.apache.spark.SparkContext.clean(SparkContext.scala:1891)\n        at org.apache.spark.rdd.RDD$$anonfun$mapPartitions$1.apply(RDD.scala:683)\n        at org.apache.spark.rdd.RDD$$anonfun$mapPartitions$1.apply(RDD.scala:682)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:148)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:109)\n        at org.apache.spark.rdd.RDD.withScope(RDD.scala:286)\n        at org.apache.spark.rdd.RDD.mapPartitions(RDD.scala:682)\n        at org.apache.spark.mllib.tree.DecisionTree$.findBestSplits(DecisionTree.scala:613)\n        at org.apache.spark.mllib.tree.RandomForest.run(RandomForest.scala:235)\n        at org.apache.spark.mllib.tree.RandomForest$.trainClassifier(RandomForest.scala:289)\n        at org.apache.spark.mllib.api.python.PythonMLLibAPI.trainRandomForestModel(PythonMLLibAPI.scala:666)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:231)\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:379)\n        at py4j.Gateway.invoke(Gateway.java:259)\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:133)\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\n        at py4j.GatewayConnection.run(GatewayConnection.java:207)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>My data is a LabeledPoint type RDD and my training code is fairly straight forward:</p>\n\n<pre><code> (trainingData, testData) = data.randomSplit([0.7, 0.3])\n    model = RandomForest.trainClassifier(trainingData, numClasses=2, categoricalFeaturesInfo={},\n                                     numTrees=3, featureSubsetStrategy=\"auto\",\n                                     impurity='gini', maxDepth=4, maxBins=32)\n</code></pre>\n"}, {"tags": ["python", "gpio", "raspberry-pi2", "led"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 4004340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff06371b67786326b0ed47f12454f7a9?s=128&d=identicon&r=PG&f=1", "display_name": "Karoly Molnar", "link": "https://stackoverflow.com/users/4004340/karoly-molnar"}, "is_accepted": false, "score": 0, "last_activity_date": 1443717453, "creation_date": 1443717453, "answer_id": 32892635, "question_id": 32619301, "link": "https://stackoverflow.com/questions/32619301/raspberry-pi-gpio-keeps-saying-its-low-when-powering-transistor/32892635#32892635", "title": "Raspberry Pi GPIO keeps saying it&#39;s low when powering transistor", "body": "<p>Possibly the resistor between the IO pin and the transistor base is too low. Therefore the base current is too high in the range that makes the IO pin unable to reach the voltage level that would be detected \"High\" by the processor. I suggest you to increase the base resistor value. If this is a generic small signal NPN transistor then a base resistor value in the range of few kOhm may be a good start to experiment with. </p>\n"}], "owner": {"reputation": 25, "user_id": 3745172, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/n1dWN.jpg?s=128&g=1", "display_name": "Maschs", "link": "https://stackoverflow.com/users/3745172/maschs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443717453, "creation_date": 1442439962, "question_id": 32619301, "link": "https://stackoverflow.com/questions/32619301/raspberry-pi-gpio-keeps-saying-its-low-when-powering-transistor", "title": "Raspberry Pi GPIO keeps saying it&#39;s low when powering transistor", "body": "<p>I'm having a problem with reading the state of my gpios on the raspberry pi. I'm using 13 gpios to power and control a 3x3 led cube. 9 of them for the leds, 1 to ground, and 3 for the transistors for the layers. The problem is if I try to read their state with </p>\n\n<pre><code>gpio.input(pin)\n</code></pre>\n\n<p>I'm getting the correct value for the led pins, but if I try the exact same for the transistor ones, it keeps saying they are off / low even when they are clearly powering them. When I disconnect the transistor pins and read again the value is correct.\nSo I  want to know if there is a way to fix this or if I'll have to find another way.</p>\n\n<p>Thanks in advance :)</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1442440023, "post_id": 32619251, "comment_id": 53089132, "body": "<code>s[0]</code> is not added first. It is added <i>last</i>. <code>f(s[1:])</code> is calculated, then the result passed to <code>f()</code> again, and <i>only then</i> is <code>s[0]</code> added."}, {"owner": {"reputation": 27359, "user_id": 1516286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/36f74e0d3318a630af9ce0e356182040?s=128&d=identicon&r=PG", "display_name": "Vor", "link": "https://stackoverflow.com/users/1516286/vor"}, "edited": false, "score": 1, "creation_date": 1442440175, "post_id": 32619251, "comment_id": 53089197, "body": "<code>pdb</code> is your friend. add <code>import pdb; pdb.set_trace()</code> somewhere and check what&#39;s going on in there"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1442442948, "post_id": 32619251, "comment_id": 53090165, "body": "I&#39;ve tried running this on a list of integers and a list of strings.  Both fault on the first call, as we&#39;re trying to add an element to a list.  Please check the code you provided and try again.  Do you have a sample run?"}, {"owner": {"reputation": 5183, "user_id": 3155195, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96fb82a06f0a269039e913211ac44fcd?s=128&d=identicon&r=PG&f=1", "display_name": "zehnpaard", "link": "https://stackoverflow.com/users/3155195/zehnpaard"}, "edited": false, "score": 0, "creation_date": 1442443545, "post_id": 32619251, "comment_id": 53090350, "body": "It looks like the code works on a string, but not on a list"}, {"owner": {"reputation": 1065, "user_id": 2981403, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0lENO.png?s=128&g=1", "display_name": "Hozikimaru", "link": "https://stackoverflow.com/users/2981403/hozikimaru"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1442494971, "post_id": 32619251, "comment_id": 53110943, "body": "@MartijnPieters, thank you for confirming that. I figured that part. I am just  trying to list out the steps a bit more clearly. I do sort of understand the logic, just need a more clean explanation than the one I have in my head to fully understand this subject."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1442495432, "post_id": 32619251, "comment_id": 53111237, "body": "@Prune: it works on strings; try <code>&#39;abc&#39;</code> and <code>&#39;abcd&#39;</code> for example. Odd vs. even number of number characters matter here."}, {"owner": {"reputation": 1390, "user_id": 2427263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59704067f4952d5dd82b49d1bde5f7dc?s=128&d=identicon&r=PG", "display_name": "BrianO", "link": "https://stackoverflow.com/users/2427263/briano"}, "reply_to_user": {"reputation": 5183, "user_id": 3155195, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96fb82a06f0a269039e913211ac44fcd?s=128&d=identicon&r=PG&f=1", "display_name": "zehnpaard", "link": "https://stackoverflow.com/users/3155195/zehnpaard"}, "edited": false, "score": 0, "creation_date": 1442501780, "post_id": 32619251, "comment_id": 53115826, "body": "@zehnpaard: it&#39;s true the function shown doesn&#39;t work with lists, but a tiny change to the return statement fixes that: use <code>+ s[:1]</code> instead of <code>+ s[0]</code>."}, {"owner": {"reputation": 1390, "user_id": 2427263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59704067f4952d5dd82b49d1bde5f7dc?s=128&d=identicon&r=PG", "display_name": "BrianO", "link": "https://stackoverflow.com/users/2427263/briano"}, "edited": false, "score": 0, "creation_date": 1442501902, "post_id": 32619251, "comment_id": 53115924, "body": "Shameless self-promotion, and this is meant as at least a partial answer: my decorator <a href=\"https://pypi.python.org/pypi/log_calls\" rel=\"nofollow noreferrer\">log_calls</a> will show you what&#39;s going on, especially if you use the parameters <code>indent=True</code> and <code>log_retval=True</code>. I&#39;m days away from releasing 0.3.0, which can decorate entire classes &amp; hierarchies too -- it&#39;s done-done except for the docs."}, {"owner": {"reputation": 1390, "user_id": 2427263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59704067f4952d5dd82b49d1bde5f7dc?s=128&d=identicon&r=PG", "display_name": "BrianO", "link": "https://stackoverflow.com/users/2427263/briano"}, "edited": false, "score": 0, "creation_date": 1442524833, "post_id": 32619251, "comment_id": 53128908, "body": "Another hint: when you call <code>f(s)</code> with nonempty <code>s</code>, the total number of calls to <code>f</code> equals <code>2**len(s) - 1</code>, just like Towers of Hanoi. By induction on len(s), using the fact that <code>len(f(s))</code> equals <code>len(s)</code> for all s (obvious, but really a preliminary induction on len(s))."}], "answers": [{"comments": [{"owner": {"reputation": 1390, "user_id": 2427263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59704067f4952d5dd82b49d1bde5f7dc?s=128&d=identicon&r=PG", "display_name": "BrianO", "link": "https://stackoverflow.com/users/2427263/briano"}, "edited": false, "score": 0, "creation_date": 1442529080, "post_id": 32636877, "comment_id": 53130566, "body": "You didn&#39;t have to instrument this by hand: <a href=\"https://pypi.python.org/pypi/log_calls\" rel=\"nofollow noreferrer\">log_calls</a> can do it for you. Yes I am the dev, but it really would have helped!"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 1390, "user_id": 2427263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59704067f4952d5dd82b49d1bde5f7dc?s=128&d=identicon&r=PG", "display_name": "BrianO", "link": "https://stackoverflow.com/users/2427263/briano"}, "edited": false, "score": 0, "creation_date": 1442529658, "post_id": 32636877, "comment_id": 53130761, "body": "I understand; I checked out the link.  When we move to Python 3, we&#39;ll be using this in our testing.  I purposely didn&#39;t use it here to illustrate the principle.  I also grabbed a couple of intermediate values, but log_calls would have saved most of the time."}, {"owner": {"reputation": 1390, "user_id": 2427263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59704067f4952d5dd82b49d1bde5f7dc?s=128&d=identicon&r=PG", "display_name": "BrianO", "link": "https://stackoverflow.com/users/2427263/briano"}, "edited": false, "score": 0, "creation_date": 1442529932, "post_id": 32636877, "comment_id": 53130827, "body": "Understood, and thanks. Of course your answer is better off with no external dependencies. But if you ever have to do this again... and you may... :) Because I&#39;m now updating the package, I had to mention that this is a great example of the kind of boilerplate code it saves you from writing.  Good luck/godspeed with your move to Py3!"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1442512400, "creation_date": 1442512400, "answer_id": 32636877, "question_id": 32619251, "link": "https://stackoverflow.com/questions/32619251/recursive-inside-recursive-and-the-addition/32636877#32636877", "title": "Recursive inside recursive and the addition", "body": "<p>I don't know that there's a succinct way to describe what this is doing.  However, I broke it down into understandable pieces and inserted print statements for a thorough trace.</p>\n\n<pre><code>def f(s):\n    print \"ENTER, s=\", s\n    if len(s) &lt;= 1:\n        return_val = s\n        print \"(1)  len &lt;= 1; return\", return_val\n    else:\n        print \"(2a) len &gt;  1; recur\"\n        first_call = f(s[1:])\n        print \"(2b) len &gt;  1; first_call:\", first_call\n        return_val = f(first_call) + s[0]\n        print \"(2c) len &gt;  1; return\", return_val\n    print \"LEAVE ...\", s\n    return return_val\n\nprint f('abc')\nprint f('abcd')\nprint f('0123456789')\n</code></pre>\n\n<p>Here is the output from the first two strings; the third is quite lengthy.</p>\n\n<pre><code>ENTER, s= abc\n(2a) len &gt;  1; recur\nENTER, s= bc\n(2a) len &gt;  1; recur\nENTER, s= c\n(1)  len &lt;= 1; return c\nLEAVE ... c\n(2b) len &gt;  1; first_call: c\nENTER, s= c\n(1)  len &lt;= 1; return c\nLEAVE ... c\n(2c) len &gt;  1; return cb\nLEAVE ... bc\n(2b) len &gt;  1; first_call: cb\nENTER, s= cb\n(2a) len &gt;  1; recur\nENTER, s= b\n(1)  len &lt;= 1; return b\nLEAVE ... b\n(2b) len &gt;  1; first_call: b\nENTER, s= b\n(1)  len &lt;= 1; return b\nLEAVE ... b\n(2c) len &gt;  1; return bc\nLEAVE ... cb\n(2c) len &gt;  1; return bca\nLEAVE ... abc\nbca\nENTER, s= abcd\n(2a) len &gt;  1; recur\nENTER, s= bcd\n(2a) len &gt;  1; recur\nENTER, s= cd\n(2a) len &gt;  1; recur\nENTER, s= d\n(1)  len &lt;= 1; return d\nLEAVE ... d\n(2b) len &gt;  1; first_call: d\nENTER, s= d\n(1)  len &lt;= 1; return d\nLEAVE ... d\n(2c) len &gt;  1; return dc\nLEAVE ... cd\n(2b) len &gt;  1; first_call: dc\nENTER, s= dc\n(2a) len &gt;  1; recur\nENTER, s= c\n(1)  len &lt;= 1; return c\nLEAVE ... c\n(2b) len &gt;  1; first_call: c\nENTER, s= c\n(1)  len &lt;= 1; return c\nLEAVE ... c\n(2c) len &gt;  1; return cd\nLEAVE ... dc\n(2c) len &gt;  1; return cdb\nLEAVE ... bcd\n(2b) len &gt;  1; first_call: cdb\nENTER, s= cdb\n(2a) len &gt;  1; recur\nENTER, s= db\n(2a) len &gt;  1; recur\nENTER, s= b\n(1)  len &lt;= 1; return b\nLEAVE ... b\n(2b) len &gt;  1; first_call: b\nENTER, s= b\n(1)  len &lt;= 1; return b\nLEAVE ... b\n(2c) len &gt;  1; return bd\nLEAVE ... db\n(2b) len &gt;  1; first_call: bd\nENTER, s= bd\n(2a) len &gt;  1; recur\nENTER, s= d\n(1)  len &lt;= 1; return d\nLEAVE ... d\n(2b) len &gt;  1; first_call: d\nENTER, s= d\n(1)  len &lt;= 1; return d\nLEAVE ... d\n(2c) len &gt;  1; return db\nLEAVE ... bd\n(2c) len &gt;  1; return dbc\nLEAVE ... cdb\n(2c) len &gt;  1; return dbca\nLEAVE ... abcd\ndbca\n</code></pre>\n"}], "owner": {"reputation": 1065, "user_id": 2981403, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0lENO.png?s=128&g=1", "display_name": "Hozikimaru", "link": "https://stackoverflow.com/users/2981403/hozikimaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1442512400, "creation_date": 1442439753, "question_id": 32619251, "link": "https://stackoverflow.com/questions/32619251/recursive-inside-recursive-and-the-addition", "title": "Recursive inside recursive and the addition", "body": "<p>I looked up this question but could not find an answer really. I just cannot wrap my head around the logic in this recursion example;</p>\n\n<pre><code>def f(s):\n if len(s) &lt;= 1:\n    return s\n return f(f(s[1:])) + s[0] #Note double recursion\n</code></pre>\n\n<p>I tried to list the steps but I do not know if we actually do add s[0] first and then pass it to f(s) again. Would someone be able to explain this step by step or in a clean way?</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["python", "windows", "import", "module", "python-idle"], "comments": [{"owner": {"reputation": 378, "user_id": 4001728, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/30e4634bc6682da5aff886511e7f4a61?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/4001728/lucas"}, "edited": false, "score": 0, "creation_date": 1442440130, "post_id": 32619232, "comment_id": 53089179, "body": "You have to run the python shell in the same folder chaos.py file is located. Otherwise it will look for chaos in the package folder."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1442440274, "post_id": 32619232, "comment_id": 53089258, "body": "Would you by any chance have something like &#39;Python 3.4.3...&#39; on line 1 or so of the actual chaos.py pgm, wherever it is.  I.e. looks like it&#39;s finding the file alright, just invalid contents in it."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1442440441, "post_id": 32619232, "comment_id": 53089327, "body": "if something&#39;s similar is the case, open the file in your text editor.  Select all the lines and copy them.  Create a new file, paste all your contents and  indent each line by 4 spaces on the left.  Select all those line again, copy them and paste it in this post.  Then we call tell you how to edit the file."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 5344175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56621bf5d7e3eb7016200edf184dd727?s=128&d=identicon&r=PG&f=1", "display_name": "Arya the Cat", "link": "https://stackoverflow.com/users/5344175/arya-the-cat"}, "edited": false, "score": 0, "creation_date": 1442441764, "post_id": 32619585, "comment_id": 53089824, "body": "Thanks for replying! I followed what you did there but I received the same syntax error result. Also, I copied the code, put it in a text editor, spaced it 4 times, and pasted it in the post as you said up there."}, {"owner": {"reputation": 7, "user_id": 5344175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56621bf5d7e3eb7016200edf184dd727?s=128&d=identicon&r=PG&f=1", "display_name": "Arya the Cat", "link": "https://stackoverflow.com/users/5344175/arya-the-cat"}, "edited": false, "score": 0, "creation_date": 1442443068, "post_id": 32619585, "comment_id": 53090206, "body": "Please help me out when you have the time!"}, {"owner": {"reputation": 7, "user_id": 5344175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56621bf5d7e3eb7016200edf184dd727?s=128&d=identicon&r=PG&f=1", "display_name": "Arya the Cat", "link": "https://stackoverflow.com/users/5344175/arya-the-cat"}, "edited": false, "score": 0, "creation_date": 1442444976, "post_id": 32619585, "comment_id": 53090755, "body": "Nvm. I figured it out thanks to you! Thank you so much!"}], "tags": [], "owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "is_accepted": false, "score": 0, "last_activity_date": 1442444775, "last_edit_date": 1442444775, "creation_date": 1442441198, "answer_id": 32619585, "question_id": 32619232, "link": "https://stackoverflow.com/questions/32619232/why-can-i-not-import-this-module-python/32619585#32619585", "title": "Why can I not import this module? Python", "body": "<p>The actual contents of chaos.py should be something like.  What you did was to copy the actual terminal session prompts, >>> stuff, as well, I think.  </p>\n\n<pre><code>def main():\n    print(\"This program illustrates a chaotic function\")\n    x = eval(input(\"Enter a number between 0 and 1: \"))\n    for i in range(10):\n        x = 3.9 * x * (1 - x)\n        print(x)\n\nmain()\n</code></pre>\n\n<p>Now, though this runs, it still had some errors in syntax about the input line.  I changed it to:</p>\n\n<pre><code>x = input(\"Enter a number between 0 and 1: \")\n</code></pre>\n\n<p>Additional info:</p>\n\n<p>You need to show the actual contents of chaos.py.  Things like <strong>Python 3.4.3 have no business whatsoever being in the file</strong>.  If they are in the file, then I fully expect an error like </p>\n\n<pre><code>File \"C:\\Python34\\lib\\site-packages\\chaos.py\", line 1\n    Python 3.4.3\n</code></pre>\n\n<p>That is a syntax error, not a \"can't find file to import\" error.</p>\n\n<p>Since you are in a Windows prompt anyway, why don't you go to the directory where chaos.py is sitting and just type **python chaos.py\"  What does that do?</p>\n\n<p>Having put the exact following in my chaos.py</p>\n\n<pre><code>Python 3.4.3 (v3.4.3:9b73f1c3e601, Feb 24 2015, 22:43:06) [MSC v.1600 32 bit (Intel)] on win32\nType \"copyright\", \"credits\" or \"license()\" for more information.\n</code></pre>\n\n<p>and typing:</p>\n\n<pre><code>python chaos.py\n</code></pre>\n\n<p>I then get this as an error, which looks pretty much the same as yours:</p>\n\n<pre><code>  File \"chaos.py\", line 1\n    Python 3.4.3 (v3.4.3:9b73f1c3e601, Feb 24 2015, 22:43:06) [MSC v.1600 32 bit (Intel)] on win32\n             ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>i.e. post the contents of chaos.py, not the screenshots of your session and errors.  Post the error separately.  chaos.py should not have Python or >>> anywhere in it.  All of your posts so far contain terminal session stuff or Python stuff, which are not valid python code.</p>\n"}], "owner": {"reputation": 7, "user_id": 5344175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56621bf5d7e3eb7016200edf184dd727?s=128&d=identicon&r=PG&f=1", "display_name": "Arya the Cat", "link": "https://stackoverflow.com/users/5344175/arya-the-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1442444775, "creation_date": 1442439691, "last_edit_date": 1442441340, "question_id": 32619232, "link": "https://stackoverflow.com/questions/32619232/why-can-i-not-import-this-module-python", "title": "Why can I not import this module? Python", "body": "<p>I'm extremely new to programming and I'm trying to self teach myself so sorry if I have some stupid questions. </p>\n\n<p>I've been trying to follow \"Python Programming: An introduction to computer science\" by John Zelle  (2nd edition). Unfortunately, I got stuck on a part in chapter one... I don't understand what I'm doing wrong because I think I'm following his instructions exactly. Basically, he shows us how to make our first module in IDLE and how to import it in a python shell.</p>\n\n<p>I literally typed down what the book had down. I decided to use IDLE because the book says its standard. I named the file chaos.py as instructed. This is the module:</p>\n\n<pre><code>&gt;&gt;&gt; # File: chaos.py\n&gt;&gt;&gt; # A simple program illustrating chaotic behavior.\n&gt;&gt;&gt; def main():\n    print(\"This program illustrates a chaotic function\")\n    x = eval(input(\"Enter a number between 0 and 1: \"))\n    for i in range(10):\n        x = 3.9 * x * (1 - x)\n        print(x)\n\n\n&gt;&gt;&gt; main()\n</code></pre>\n\n<p>I would always get this result when trying to import from a Python shell(the book says this would always work):</p>\n\n<pre><code>&gt;&gt;&gt; import chaos\nTraceback (most recent call last):\n  File \"&lt;pyshell#0&gt;\", line 1, in &lt;module&gt;\n    import chaos\n  File \"C:\\Python34\\lib\\site-packages\\chaos.py\", line 1\n    Python 3.4.3 (v3.4.3:9b73f1c3e601, Feb 24 2015, 22:43:06) [MSC v.1600 32 bit (Intel)] on win32\n             ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>I tried putting the module in site-packages but I would still get the same result. Can anyone tell me what I'm doing wrong? Thanks!</p>\n\n<pre><code>    Python 3.4.3 (v3.4.3:9b73f1c3e601, Feb 24 2015, 22:43:06) [MSC v.1600 32 bit (Intel)] on win32\n    Type \"copyright\", \"credits\" or \"license()\" for more information.\n    &gt;&gt;&gt; # File: chaos.py\n    &gt;&gt;&gt; # A simple program illustrating chaotic behavior.\n    &gt;&gt;&gt; def main():\n    print(\"This program illustrates a chaotic function\")\n    x = eval(input(\"Enter a number between 0 and 1: \"))\n    for i in range(10):\n    x = 3.9 * x * (1 - x)\n    print(x)\n    &gt;&gt;&gt; main()\n</code></pre>\n"}, {"tags": ["python", "image", "python-imaging-library", "affinetransform"], "comments": [{"owner": {"reputation": 185753, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 3, "creation_date": 1442440708, "post_id": 32619184, "comment_id": 53089444, "body": "Mathematically, cropping isn&#39;t an affine transform, although if you consider affine transformations &quot;onto a canvas&quot; of a given size, then any crop can be considered a combination of the destination canvas size and possibly a translation. Resizing is simply scaling, which is an affine transform."}, {"owner": {"reputation": 441, "user_id": 672942, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/269d35707da99f5fd5cfc2e721daa973?s=128&d=identicon&r=PG", "display_name": "snahl", "link": "https://stackoverflow.com/users/672942/snahl"}, "reply_to_user": {"reputation": 185753, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1442444745, "post_id": 32619184, "comment_id": 53090683, "body": "You&#39;re right; cropping isn&#39;t an affine transformation. Shall I rephrase the question? Still, can this code above be trans-coded as an affine_transform function. I hope (and believe) it can. But how?"}, {"owner": {"reputation": 441, "user_id": 672942, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/269d35707da99f5fd5cfc2e721daa973?s=128&d=identicon&r=PG", "display_name": "snahl", "link": "https://stackoverflow.com/users/672942/snahl"}, "reply_to_user": {"reputation": 185753, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1442537986, "post_id": 32619184, "comment_id": 53132898, "body": "It appears to me that this is not possible. Applying a crop and resize to the images works just fine."}], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 6912318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QFu55.jpg?s=128&g=1", "display_name": "Dmitriy R. Starson", "link": "https://stackoverflow.com/users/6912318/dmitriy-r-starson"}, "is_accepted": false, "score": 1, "last_activity_date": 1517178030, "creation_date": 1517178030, "answer_id": 48491969, "question_id": 32619184, "link": "https://stackoverflow.com/questions/32619184/how-can-an-image-crop-resize-be-expressed-as-an-affine-transformation/48491969#48491969", "title": "How can an Image crop, resize be expressed as an affine transformation?", "body": "<p>Here is OpenCV implementation</p>\n\n<pre><code># OpenCV implementation of crop/resize using affine transform\n\nimport numpy as np\nfrom matplotlib import pyplot as plt\n%matplotlib inline\nimport cv2\n\nsrc_rgb = cv2.imread('test_img.jpg')\n\n# Source width and height in pixels\nsrc_w_px = 640 \nsrc_h_px = 480 \n\n# Target width and height in pixels\nres_w_px = 640\nres_h_px = 480\n\n# Scaling parameter\ns = 2.0\n\nAffine_Mat_w = [s, 0, res_w_px/2.0 - s*src_w_px/2.0]\nAffine_Mat_h = [0, s, res_h_px/2.0 - s*src_h_px/2.0]\n\nM = np.c_[ Affine_Mat_w, Affine_Mat_h].T \nres = cv2.warpAffine(src_rgb, M, (res_w_px, res_h_px))\n\n# Showing the result\nplt.figure(figsize=(15,6))\nplt.subplot(121); plt.imshow(src_rgb); plt.title('Original image');\nplt.subplot(122); plt.imshow(res); plt.title('Image warped Affine transform');\n</code></pre>\n"}], "owner": {"reputation": 441, "user_id": 672942, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/269d35707da99f5fd5cfc2e721daa973?s=128&d=identicon&r=PG", "display_name": "snahl", "link": "https://stackoverflow.com/users/672942/snahl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2336, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1517178030, "creation_date": 1442439375, "last_edit_date": 1442446764, "question_id": 32619184, "link": "https://stackoverflow.com/questions/32619184/how-can-an-image-crop-resize-be-expressed-as-an-affine-transformation", "title": "How can an Image crop, resize be expressed as an affine transformation?", "body": "<p>I've got an image that gets cropped and resized to the image input size. \nTo my understanding this is the same as an affine transformation.</p>\n\n<p>I am trying to simplify the code below so it does the same by using the function: (something like the example below at the end).</p>\n\n<pre><code>scipy.ndimage.affine_transform() \n</code></pre>\n\n<p>The trouble is I don't really understand the parameters of that function, hence I am not able to achieve an elegant one-liner with the affine_transform() function.\nProviding and explaining the solution for the code might help me to better understand this affine_transform() function.</p>\n\n<pre><code>import numpy as npy\nimport PIL.Image\nimport scipy.misc as smc\nimport scipy.ndimage as snd\n\n#crop factor\ns = 1.045    \n\n#input image\nimg2crop = npy.float32(PIL.Image.open(\"input_image.jpg)\")\nh, w = img2crop.shape[:2]    #get the dimensions of the input image\n\n#Box-crop values: calculate new crop Dimensions based on 's'\nwcrop =  float(w) / (s)\nhcrop =  float(wcrop) / (float(w) / float(h))\nhcrop = int(round(hcrop))\nwcrop = int(round(wcrop))\n\n#crop applied from top-left to right and bottom\nb_left = 0\nb_top = 0\nb_width = wcrop\nb_height = hcrop\nb_box = (b_left, b_top, b_width, b_height)\n\n#cropped region\nregion = img2crop.crop(b_box)\n\n#resize cropped region back to input size\nresized_region = smc.imresize(region, (h, w), interp='nearest', mode=None)\n#save cropped and resized region as new file in output folder\nPIL.Image.fromarray(np.uint8(resized_newregion)).save(\"output_image.jpg\")\n</code></pre>\n\n<p>Question:\nHow can the code above doing a crop and resize be expressed as an affine transformation?</p>\n\n<p>This example crops evenly on all 4 sides, center oriented</p>\n\n<pre><code>s = 0.0065\ncropped_and_resized_image = snd.affine_transform(input_image.jpg, [1-s,1-s,1], [h*s/2,w*s/2,0], order=1)\nPIL.Image.fromarray(npy.uint8(cropped_and_resized_image)).save(\"output_image_at.jpg\")\n</code></pre>\n\n<p>Thanks in advance for feedback.</p>\n"}, {"tags": ["python", "multithreading", "user-interface", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1442439652, "post_id": 32619127, "comment_id": 53088966, "body": "You don&#39;t need threads for such a program. Plus, tkinter isn&#39;t thread safe. You can&#39;t reliably access GUI elements from any thread other than the one where they were created."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5344185, "user_type": "registered", "profile_image": "https://graph.facebook.com/1012156498804912/picture?type=large", "display_name": "Pythonpsycho1337", "link": "https://stackoverflow.com/users/5344185/pythonpsycho1337"}, "edited": false, "score": 0, "creation_date": 1442496231, "post_id": 32620409, "comment_id": 53111790, "body": "This still doesn&#39;t fix the problem. The program never executes the deplaceWindow functon because it is stuck at the root.mainloop() line."}, {"owner": {"reputation": 432, "user_id": 1985875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYGmH.jpg?s=128&g=1", "display_name": "rask004", "link": "https://stackoverflow.com/users/1985875/rask004"}, "reply_to_user": {"reputation": 3, "user_id": 5344185, "user_type": "registered", "profile_image": "https://graph.facebook.com/1012156498804912/picture?type=large", "display_name": "Pythonpsycho1337", "link": "https://stackoverflow.com/users/5344185/pythonpsycho1337"}, "edited": false, "score": 0, "creation_date": 1442642068, "post_id": 32620409, "comment_id": 53175516, "body": "the root.after(...) call should have been before the root.mainloop() call. The code has been updated."}], "tags": [], "owner": {"reputation": 432, "user_id": 1985875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYGmH.jpg?s=128&g=1", "display_name": "rask004", "link": "https://stackoverflow.com/users/1985875/rask004"}, "is_accepted": true, "score": 0, "last_activity_date": 1442642022, "last_edit_date": 1442642022, "creation_date": 1442446400, "answer_id": 32620409, "question_id": 32619127, "link": "https://stackoverflow.com/questions/32619127/tkinter-and-threads/32620409#32620409", "title": "Tkinter and threads", "body": "<p>It seems what you want is a <em>timer</em> event. TkInter uses the <strong>after</strong> method for this:</p>\n\n<pre><code>root = tk.Tk() # create a Tk root window\nx = -10\n\n...\n\ndef mainloop():\n    global root\n    print (\"Starting loop\")\n    # calls to other root methods must come before call to mainloop().\n    root.after(1000, deplaceWindow)\n    root.mainloop() # starts the mainloop\n\ndef deplaceWindow():\n    global root,x\n    print (x)\n    root.geometry('%dx%d+%d+%d' % (w, h, x, y))\n    x -= 10\n    root.after(1000, deplaceWindow)   # 1000 miliseconds\n\nif __name__==\"__main__\":\n    print (\"starting mainloop\")\n    mainloop()\n</code></pre>\n\n<hr>\n\n<p>Additionally: Any interaction with the GUI thread cannot be from other threads (as @Bryan_Oakley explained). You can have a function in your main script which schedules events using the root.after method, but not a direct call from the foreign thread.</p>\n"}], "owner": {"reputation": 3, "user_id": 5344185, "user_type": "registered", "profile_image": "https://graph.facebook.com/1012156498804912/picture?type=large", "display_name": "Pythonpsycho1337", "link": "https://stackoverflow.com/users/5344185/pythonpsycho1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 32620409, "answer_count": 1, "score": 0, "last_activity_date": 1442642022, "creation_date": 1442439147, "question_id": 32619127, "link": "https://stackoverflow.com/questions/32619127/tkinter-and-threads", "title": "Tkinter and threads", "body": "<p>So, what I am trying to do is to create a tkinter window and then deplace it across the screen without reopening the GUI. The first problem I am facing is that the threading doesn't seem to work. The program chooses to only run the deplacewindow function and ignoring the code below the thread.start line. Is it possible to fix this? Or is there a better way to displace a tkinter window across the screen?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import tkinter as tk\nimport time,threading\n\nroot = tk.Tk() # create a Tk root window\n\nw = 200 # width for the Tk root\nh = 200 # height for the Tk root\n\n# get screen width and height\nsw = root.winfo_screenwidth() # width of the screen\nsh = root.winfo_screenheight() # height of the screen\n\n# calculate x and y coordinates for the Tk root window to appear on the\n# bottom right of the screen\nx = sw - w - 20\ny = sh - h - 80\nprint (sw,\"-\",w,\"    \",sh,\"-\",h)\nprint (x,y)\n\n\n# set the dimensions of the screen \n# and where it is placed\nroot.geometry('%dx%d+%d+%d' % (w, h, x, y))\n\ndef mainloop():\n    global root\n    root.mainloop() # starts the mainloop\ndef deplaceWindow():\n    global root,x\n    print (\"Starting loop\")\n    while 1:\n        time.sleep(1)\n        x-=10\n        print (x)\n        #root.geometry('%dx%d+%d+%d' % (w, h, x, y))\nroot.geometry('%dx%d+%d+%d' % (w, h, x, y))\nprint (\"starting thread\")\nthreading.Thread(target=deplaceWindow()).start()\nprint (\"starting mainloop\")\nmainloop()\n</code></pre>\n"}, {"tags": ["python", "django", "authentication", "django-registration"], "answers": [{"tags": [], "owner": {"reputation": 5001, "user_id": 1971587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafdce836e1f30eaaa42b7238e5a7516?s=128&d=identicon&r=PG", "display_name": "Joey Wilhelm", "link": "https://stackoverflow.com/users/1971587/joey-wilhelm"}, "is_accepted": false, "score": 1, "last_activity_date": 1442440161, "creation_date": 1442440161, "answer_id": 32619359, "question_id": 32619110, "link": "https://stackoverflow.com/questions/32619110/alternative-registration-authentication-for-django-that-doesnt-involve-reinve/32619359#32619359", "title": "Alternative registration / authentication for Django that doesn&#39;t involve reinventing the wheel", "body": "<p>It sounds like you're trying to do email validation, rather than using the email for activation. It appears that django-registration-redux does not support that type of flow. It provides (via the default backend) the flow you are seeing, where a user is put into an activation queue until they click the link in their email, or (via the simple backend), the user is directly signed up and no email is sent out.</p>\n\n<p>From my understanding, email validation in this manner is outside the scope of django-registration-redux. However, you may be able to find the functionality you're looking for in django-allauth. That package includes out-of-band email validation, as well as support for multiple email addresses per account, all validated separately.</p>\n"}], "owner": {"reputation": 1578, "user_id": 1499536, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/J81Cl.jpg?s=128&g=1", "display_name": "mallyvai", "link": "https://stackoverflow.com/users/1499536/mallyvai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1442440161, "creation_date": 1442439082, "question_id": 32619110, "link": "https://stackoverflow.com/questions/32619110/alternative-registration-authentication-for-django-that-doesnt-involve-reinve", "title": "Alternative registration / authentication for Django that doesn&#39;t involve reinventing the wheel", "body": "<p>I'm using <code>django 1.8</code> and <code>django-registration-redux</code> to build a registration/login workflow. Right now, I'm using the default backend that prevents the user from logging in unless they go to their email and click the activation email. This introduces an obvious point of friction in the registration flow.</p>\n\n<p>Basically - I want users to be able to register and start using my site, right after they register, without having to go back to their email and click the activation link.</p>\n\n<p>But, I still want the activation email to be sent - I just don't want users blocked on it per se. My current plan is to write a sweeper that alerts me to unactivated users after some period of time, or just go through the DB manually and see who is unactivated, and take some future action manually.</p>\n\n<p>Another way of looking at it - basically, I want a distinction between <code>email_is_valid</code> and <code>user_is_active</code> - right now the <code>is_active</code> flag sort of conflates the two of them. It's also more complicated than I would like because is_active seems to be used in a lot of places by default to allow login or not (see: <a href=\"https://docs.djangoproject.com/en/1.8/ref/contrib/auth/#django.contrib.auth.models.User.is_active\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.8/ref/contrib/auth/#django.contrib.auth.models.User.is_active</a> ) </p>\n\n<p>Is there a clean way of doing this with django-registration-redux? I'd rather not write my own backend (and the associated tests, technical/management debt, etc) - alternatively if there's a preexisting alternative django-registration-redux backend out there that provides this, I'll happily use it.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "python", "selenium", "selenium-webdriver", "web-scraping"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2691314"}, "edited": false, "score": 0, "creation_date": 1442440185, "post_id": 32619214, "comment_id": 53089202, "body": "Thanks, could you tell how to exit loop since review length varies with other link and thus i do not know the length."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2691314"}, "edited": false, "score": 0, "creation_date": 1442512999, "post_id": 32619214, "comment_id": 53122611, "body": "Can not escape from while loop! I am using counter to exit from loop but with vain...."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1442523201, "post_id": 32619214, "comment_id": 53128117, "body": "@SAZ yeah, it&#39;s kind of tricky, I&#39;ve added this problem to my TODO list. Will get back to you later. Thanks!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2691314"}, "edited": false, "score": 0, "creation_date": 1442530606, "post_id": 32619214, "comment_id": 53131037, "body": "@alecxe- count does not work since it is not true for all url e.g. above link has 124 reviewer (in reality) but 125 is written on the web page. Againg this page <a href=\"https://www.google.com/search?q=Albert+Nahman+Plumbing#lrd=0x80857e798a45fe1d:0x3cc6b3be2874dea2,1\" rel=\"nofollow noreferrer\">google.com/&hellip;</a> has correct count. I think better to try spinning tree presence but how to track a short lived element??"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1442548241, "post_id": 32619214, "comment_id": 53135115, "body": "@SAZ updated with an option to stop scrolling if no new reviews were loaded."}, {"owner": {"reputation": 81, "user_id": 11810873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8HCOv.jpg?s=128&g=1", "display_name": "Super-ilad", "link": "https://stackoverflow.com/users/11810873/super-ilad"}, "edited": false, "score": 0, "creation_date": 1584963834, "post_id": 32619214, "comment_id": 107593555, "body": "A better method to check if page load to bottom is to check if the last elements text or id or href is the same in different scroll .if it is , meaning to the bottom, terminate the scroll!"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 3, "last_activity_date": 1442548192, "last_edit_date": 1442548192, "creation_date": 1442439598, "answer_id": 32619214, "question_id": 32619106, "link": "https://stackoverflow.com/questions/32619106/how-to-scroll-a-div-when-ajax-is-used-to-load-data-in-python-selenium/32619214#32619214", "title": "How to scroll a div when ajax is used to load data in python selenium", "body": "<p>Make a loop, on every iteration <em>scroll into view</em> of the last \"review\" in the list (works for me):</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.wait import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\ndriver = webdriver.Chrome()\ndriver.get(\"https://www.google.com/search?q=a1%20plumbing%20boise&amp;gws_rd=ssl#gws_rd=ssl&amp;lrd=0x54aeff4cb0b24461:0x23720b81e2bed658,1\")\n\n# wait for reviews to appear\nwait = WebDriverWait(driver, 10)\nwait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, \"span.review-snippet\")))\n\nwhile True:\n    reviews = driver.find_elements_by_css_selector(\"div._ju\")\n    driver.execute_script(\"arguments[0].scrollIntoView();\", reviews[-1])\n</code></pre>\n\n<p>Note that the loop is endless here - you need to figure out how to exit the loop. For instance, you can count the reviews before and after scrolling into view and exit the loop if no more reviews were loaded. Or, you can check if the spinning circle is present or not. Once it's not shown on scroll - this means no more reviews to load left.</p>\n\n<p>Here is one of the ideas to detect that no more reviews are there to be loaded - check if after the next scrolling the review dialog's scroll height has not changed - this is close to how human would detect it:</p>\n\n<pre><code>dialog = driver.find_element_by_css_selector(\"div.review-dialog-list\")\nlast_scroll_height = 0\n\nwhile True:\n    reviews = driver.find_elements_by_css_selector(\"div._ju\")\n    driver.execute_script(\"arguments[0].scrollIntoView();\", reviews[-1])\n\n    # adding artificial delay (don't tell anyone I'm using sleep here)\n    time.sleep(1)\n\n    # if scroll height has not changed - exit\n    scroll_height = driver.execute_script(\"return arguments[0].scrollHeight;\", dialog)\n    if scroll_height == last_scroll_height:\n        break\n    else:\n        last_scroll_height = scroll_height\n\nprint(len(reviews)) \n</code></pre>\n\n<p>I don't like having <code>time.sleep()</code> here, hope you'll have a better idea to tackle the problem.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2691314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2009, "favorite_count": 1, "accepted_answer_id": 32619214, "answer_count": 1, "score": 4, "last_activity_date": 1442548192, "creation_date": 1442439063, "last_edit_date": 1495535641, "question_id": 32619106, "link": "https://stackoverflow.com/questions/32619106/how-to-scroll-a-div-when-ajax-is-used-to-load-data-in-python-selenium", "title": "How to scroll a div when ajax is used to load data in python selenium", "body": "<p>I am working on python selenium with chrome webdriver in window 8. I faced a <a href=\"https://www.google.com/search?q=a1%20plumbing%20boise&amp;gws_rd=ssl#gws_rd=ssl&amp;lrd=0x54aeff4cb0b24461:0x23720b81e2bed658,1\" rel=\"nofollow noreferrer\">page</a> that loads data while scrolling using ajax.I tried injecting <a href=\"https://stackoverflow.com/questions/10503606/scroll-to-bottom-of-div-on-page-load-jquery/11551414#11551414\">jquery</a> and the following links do not work for me.\n <a href=\"https://stackoverflow.com/questions/26189431/selenium-firefox-webdrive-using-python-scrolling-in-div\">Link 1</a> <a href=\"https://stackoverflow.com/questions/21753130/scrolling-down-a-page-with-selenium-webdriver\">Link 2</a> <a href=\"https://stackoverflow.com/questions/14583560/selenium-retrieve-data-that-loads-while-scrolling-down/14586679#14586679\">Link 3</a></p>\n\n<p>Can any one give me a right path to follow.</p>\n\n<p>EDIT-------------</p>\n\n<p>This is my partial code after alecxe's answer</p>\n\n<pre><code>    nam = driver.find_element(By.CLASS_NAME ,'_wu')\n\n    #get length of review\n    revcnt = driver.find_element(By.XPATH ,\"//span[@class='_Mnc _yz']\")\n    revcnt = int(revcnt.text.replace(\" reviews\",\"\").strip())\n    print revcnt\n    # wait for reviews to appear\n    wait = WebDriverWait(driver, 10)\n    wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, \"span.review-snippet\")))\n    #reviews=[]\n    while True:\n        reviews = driver.find_elements_by_css_selector(\"div._ju\")\n        if len(reviews)&lt;revcnt:\n            driver.execute_script(\"arguments[0].scrollIntoView();\", reviews[-1])\n        else:\n            driver.quit()\n        print len(reviews)\n</code></pre>\n\n<p>But problem in escaping from while loop!</p>\n\n<p>I tried <a href=\"https://stackoverflow.com/questions/31371460/phantomjs-acts-differently-than-firefox-webdriver/31372604#31372604\">it</a>.</p>\n"}, {"tags": ["python", "django", "django-views"], "comments": [{"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 1, "creation_date": 1442439057, "post_id": 32619021, "comment_id": 53088710, "body": "Please post full stacktrace! We need to see how you call <code>get_file()</code>!"}, {"owner": {"reputation": 437, "user_id": 1320988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/abc503ca290fe7ce135b81bbd7aec9c7?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1320988/michael"}, "reply_to_user": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1442439500, "post_id": 32619021, "comment_id": 53088912, "body": "I&#39;ve updated the post with the traceback."}, {"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1442439563, "post_id": 32619021, "comment_id": 53088933, "body": "how does <code>VirtualDownloadView</code> look like?"}, {"owner": {"reputation": 437, "user_id": 1320988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/abc503ca290fe7ce135b81bbd7aec9c7?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1320988/michael"}, "reply_to_user": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1442439705, "post_id": 32619021, "comment_id": 53088993, "body": "VirtualDownloadView is an installed library. <a href=\"https://github.com/benoitbryon/django-downloadview\" rel=\"nofollow noreferrer\">github.com/benoitbryon/django-downloadview</a>"}], "answers": [{"tags": [], "owner": {"reputation": 437, "user_id": 1320988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/abc503ca290fe7ce135b81bbd7aec9c7?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1320988/michael"}, "is_accepted": true, "score": 0, "last_activity_date": 1442441440, "creation_date": 1442441440, "answer_id": 32619625, "question_id": 32619021, "link": "https://stackoverflow.com/questions/32619021/in-django-how-do-you-pass-parameters-from-the-url-to-get-file-in-virtualdownl/32619625#32619625", "title": "In Django, how do you pass parameters from the URL to get_file() in VirtualDownloadView?", "body": "<p>I've got the problem figured out. Basically, Django puts those named URL parameters in kwargs.</p>\n\n<pre><code>class DownloadJobResults(VirtualDownloadView):\n\n    def get_file(self):\n\n        print \"Job is {}\".format(self.kwargs.get(\"job\",None))\n\n        file = StringIO.StringIO()\n        file.write(\"test 1,2,3,4\\n\")\n        file.write(\"test 5,6,7,8\\n\")\n        file.seek(0)\n        return VirtualFile(file, name='sweet.txt')\n</code></pre>\n"}], "owner": {"reputation": 437, "user_id": 1320988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/abc503ca290fe7ce135b81bbd7aec9c7?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1320988/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 32619625, "answer_count": 1, "score": 0, "last_activity_date": 1442449487, "creation_date": 1442438776, "last_edit_date": 1442449487, "question_id": 32619021, "link": "https://stackoverflow.com/questions/32619021/in-django-how-do-you-pass-parameters-from-the-url-to-get-file-in-virtualdownl", "title": "In Django, how do you pass parameters from the URL to get_file() in VirtualDownloadView?", "body": "<p>The below is parts of my Django project.</p>\n\n<p>I've got the following URL configured.</p>\n\n<pre><code>urlpatterns = patterns(\n    url(r'^download/(?P&lt;job&gt;[0-9]+)/$', DownloadJobResults.as_view(), name='dm_download')\n)\n</code></pre>\n\n<p>And the following is the DownloadJobResults class.</p>\n\n<pre><code>class DownloadJobResults(VirtualDownloadView):\n\n    def get_file(self, job):\n\n        print \"Job is {}\".format(job)\n\n        file = StringIO.StringIO()\n        file.write(\"test 1,2,3,4\\n\")\n        file.write(\"test 5,6,7,8\\n\")\n        file.seek(0)\n        return VirtualFile(file, name='sweet.txt')\n</code></pre>\n\n<p>I'll eventually be using the job parameter to look up job data and return a file with it. But I can't get the parameter passed. When I access that URL, I get:</p>\n\n<blockquote>\n  <p>get_file() takes exactly 2 arguments (1 given)</p>\n</blockquote>\n\n<p>Here is the full stack trace.</p>\n\n<pre><code>Traceback: File \"/Users/michael/app/lib/python2.7/site-packages/django/core/handlers/base.py\" in get_response\n  111.                     response = wrapped_callback(request, *callback_args, **callback_kwargs) File \"/Users/michael/app/lib/python2.7/site-packages/django/views/generic/base.py\" in view\n  69.             return self.dispatch(request, *args, **kwargs) File \"/Users/michael/app/lib/python2.7/site-packages/django/views/generic/base.py\" in dispatch\n  87.         return handler(request, *args, **kwargs) File \"/Users/michael/app/lib/python2.7/site-packages/django_downloadview/views/base.py\" in get\n  170.         return self.render_to_response() File \"/Users/michael/app/lib/python2.7/site-packages/django_downloadview/views/base.py\" in render_to_response\n  154.             self.file_instance = self.get_file()\n\nException Type: TypeError at /dm/download/5/ Exception Value: get_file() takes exactly 2 arguments (1 given)\n</code></pre>\n"}, {"tags": ["python", "linux", "bash", "init"], "answers": [{"tags": [], "owner": {"reputation": 27359, "user_id": 1516286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/36f74e0d3318a630af9ce0e356182040?s=128&d=identicon&r=PG", "display_name": "Vor", "link": "https://stackoverflow.com/users/1516286/vor"}, "is_accepted": true, "score": 5, "last_activity_date": 1442439634, "creation_date": 1442439634, "answer_id": 32619222, "question_id": 32618985, "link": "https://stackoverflow.com/questions/32618985/bash-redirect-stdout-and-stderr-to-files-with-background-process/32619222#32619222", "title": "Bash - redirect stdout and stderr to files with background process", "body": "<blockquote>\n  <p>Anyone know what I'm doing wrong? :)</p>\n</blockquote>\n\n<h3>Short Answer:</h3>\n\n<p>Yes. add <code>-u</code> to the python command and it should work.</p>\n\n<pre><code>python -u run.py  &gt;&gt; \"$stdout_log\" 2&gt;&gt; \"$stderr_log\" &amp;\n</code></pre>\n\n<h3>Long Answer:</h3>\n\n<p>It's a buffering issue (from <code>man python</code>):</p>\n\n<pre><code>   -u     Force stdin, stdout and stderr to be totally unbuffered.  On systems where it matters, also put stdin, stdout\n          and  stderr  in  binary  mode.   Note that there is internal buffering in xreadlines(), readlines() and file-\n          object iterators (\"for line in sys.stdin\") which is not influenced by this option.  To work around this,  you\n          will want to use \"sys.stdin.readline()\" inside a \"while 1:\" loop.\n</code></pre>\n"}], "owner": {"reputation": 5002, "user_id": 2620746, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/xItNy.jpg?s=128&g=1", "display_name": "mickzer", "link": "https://stackoverflow.com/users/2620746/mickzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2354, "favorite_count": 0, "accepted_answer_id": 32619222, "answer_count": 1, "score": 1, "last_activity_date": 1556556405, "creation_date": 1442438629, "question_id": 32618985, "link": "https://stackoverflow.com/questions/32618985/bash-redirect-stdout-and-stderr-to-files-with-background-process", "title": "Bash - redirect stdout and stderr to files with background process", "body": "<p>I've created a simple init script for an application I'm building. The start part of the script looks like this:</p>\n\n<pre><code>user=\"ec2-user\"\n\nname=`basename $0`\npid_file=\"/var/run/python_worker.pid\"\nstdout_log=\"/var/log/worker/worker.log\"\nstderr_log=\"/var/log/worker/worker.err\"\n\nget_pid() {\n    cat \"$pid_file\"\n}\n\nis_running() {\n    [ -f \"$pid_file\" ] &amp;&amp; ps `get_pid` &gt; /dev/null 2&gt;&amp;1\n}\n\ncase \"$1\" in\n    start)\n    if is_running; then\n        echo \"Already started\"\n    else\n        echo \"Starting $name\"\n        cd /var/lib/worker\n        . venv/bin/activate\n        . /etc/profile.d/worker.sh\n        python run.py  &gt;&gt; \"$stdout_log\" 2&gt;&gt; \"$stderr_log\" &amp;\n        echo $! &gt; \"$pid_file\" \n        if ! is_running; then\n            echo \"Unable to start, see $stdout_log and $stderr_log\"\n            exit 1\n        fi\n        echo \"$name running\"\n    fi\n</code></pre>\n\n<p>I'm having trouble with this line:</p>\n\n<pre><code>python run.py  &gt;&gt; \"$stdout_log\" 2&gt;&gt; \"$stderr_log\" &amp;\n</code></pre>\n\n<p>I want to start my application with this code and redirect the outputs to the files specified above. However, when I include the <code>&amp;</code> to make it run in the background, nothing appears in the two log files. BUT, when I remove the <code>&amp;</code> from this line, the log files get data. Why is this happening?</p>\n\n<p>Obviously I need to run the command to make it run as a background process in order to stop the shell waiting. </p>\n\n<p>I am also sure that the process is running when I use the &amp;. I can find it with a <code>ps -aux</code> :</p>\n\n<pre><code>root     11357  7.0  3.1 474832 31828 pts/1    Sl   21:22   0:00 python run.py\n</code></pre>\n\n<p>Anyone know what I'm doing wrong? :)</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 1096, "user_id": 541437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9813c60c9048854d3588fa0a65268da0?s=128&d=identicon&r=PG", "display_name": "Erik Johnson", "link": "https://stackoverflow.com/users/541437/erik-johnson"}, "is_accepted": false, "score": -1, "last_activity_date": 1442443741, "creation_date": 1442443741, "answer_id": 32620016, "question_id": 32618899, "link": "https://stackoverflow.com/questions/32618899/python-megawidgets-tab-widths/32620016#32620016", "title": "Python Megawidgets tab widths", "body": "<p>Annoyingly, while you've correctly set the tab width within the widget (I can see it using <code>cget('width')</code>, the megawidget doesn't appear to honor the width setting.</p>\n\n<p>However, it does resize each tab to ensure that it's wide enough to correctly display the text.  If you're not seeing the full text of each tab, it may be because the root window isn't sized wide enough to allow the full width to be displayed.  Try adding a forced size (e.g., <code>root.geometry('500x200')</code>) and see if that helps.  </p>\n\n<p>I'd love to have a better answer for you, but that's the best I can do.  Good luck!</p>\n"}, {"comments": [{"owner": {"reputation": 1096, "user_id": 541437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9813c60c9048854d3588fa0a65268da0?s=128&d=identicon&r=PG", "display_name": "Erik Johnson", "link": "https://stackoverflow.com/users/541437/erik-johnson"}, "edited": false, "score": 0, "creation_date": 1442610152, "post_id": 32656046, "comment_id": 53168384, "body": "Well found!  That was more time than I had available to dig. :)"}, {"owner": {"reputation": 1944, "user_id": 1761615, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Lv6ZD.jpg?s=128&g=1", "display_name": "Timothy Lawman", "link": "https://stackoverflow.com/users/1761615/timothy-lawman"}, "reply_to_user": {"reputation": 1096, "user_id": 541437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9813c60c9048854d3588fa0a65268da0?s=128&d=identicon&r=PG", "display_name": "Erik Johnson", "link": "https://stackoverflow.com/users/541437/erik-johnson"}, "edited": false, "score": 0, "creation_date": 1442654578, "post_id": 32656046, "comment_id": 53178698, "body": "I have found out where I went wrong initially: Pmw has three kinds of notebook according to the book by Grayson called &quot;Python and Tkinter programming&quot;- notebook, notebookR and notebookS. This has since been replaced by NoteBook but there is backwards compatibility .I should have just used a notebookS page(62) which has tabwidth property that can be set in the initialise() method!"}], "tags": [], "owner": {"reputation": 1944, "user_id": 1761615, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Lv6ZD.jpg?s=128&g=1", "display_name": "Timothy Lawman", "link": "https://stackoverflow.com/users/1761615/timothy-lawman"}, "is_accepted": false, "score": 2, "last_activity_date": 1442591420, "last_edit_date": 1442591420, "creation_date": 1442590986, "answer_id": 32656046, "question_id": 32618899, "link": "https://stackoverflow.com/questions/32618899/python-megawidgets-tab-widths/32656046#32656046", "title": "Python Megawidgets tab widths", "body": "<p>OK , I have got the solution , although ugly. It does manipulate tab widths.</p>\n\n<pre><code>class TextBookGUI:\n\n\n# class constructor\n# populates each note book page\ndef __init__(self, master):\n\n    #place hash tables here\n\n    \"\"\"\n     Create 5 pages on using Pmw notebook widget.\n     Documenation for notebook:\n     http://pmw.sourceforge.net/doc/NoteBook.html\n    \"\"\"\n    Pmw.initialise(master)\n    self.nb = Pmw.NoteBook(master,borderwidth=2,arrownavigation=True,tabpos='n')\n\n\n\n    self.HomeTab = self.nb.add(\"Welcome\")\n    self.nb.tab('Welcome').focus_set()\n    self.StudentTab = self.nb.add(\"Students\")\n    self.BookTab = self.nb.add(\"Books\")\n    self.LoanTab = self.nb.add(\"Loans\")\n    self.HelpTab = self.nb.add(\"Help\")\n\n    *self.nb._pageAttrs['Welcome']['tabreqwidth'] = 200\n    self.nb._pageAttrs[\"Welcome\"]['tabreqheight'] = 100\n    self.nb._pageAttrs[\"Students\"]['tabreqwidth'] = 200\n    self.nb._pageAttrs[\"Students\"]['tabreqheight'] = 100\n\n    self.nb._pageAttrs[\"Books\"]['tabreqwidth'] = 200\n    self.nb._pageAttrs[\"Books\"]['tabreqheight'] = 100\n\n    self.nb._pageAttrs['Loans']['tabreqwidth'] = 200\n    self.nb._pageAttrs[\"Loans\"]['tabreqheight'] = 100\n\n    self.nb._pageAttrs['Help']['tabreqwidth'] = 200\n    self.nb._pageAttrs[\"Help\"]['tabreqheight'] = 100*\n\n\n    #format the house style of tabs: yellow bg and blue text   \n    self.nb.component('Welcome-tab').configure(font= ('Helviticva',20 ,'bold italic'),\n                        fg= \"yellow\",bg=\"blue\",wraplength=150)\n\n    self.nb.component('Students-tab').configure(font= ('Helviticva',20 ,'bold italic'),\n                        fg= \"yellow\",bg=\"blue\",wraplength=150)\n\n    self.nb.component('Books-tab').configure(font= ('Helviticva',20 ,'bold italic'),\n                        fg= \"yellow\",bg=\"blue\",wraplength=150)\n    self.nb.component('Loans-tab').configure(font= ('Helviticva',20 ,'bold italic'),\n                        fg= \"yellow\",bg=\"blue\",wraplength=150)\n\n    self.nb.component('Help-tab').configure(font= ('Helviticva',20,'bold italic'),\n                        fg= \"yellow\",bg=\"blue\",wraplength=150)\n\n    self.nb.pack(fill = 'both', expand = 1, padx = 10, pady = 10)\n\n    self.nb.setnaturalsize()\n</code></pre>\n\n<p>Having searched the net ,someone suggested iterating the page attribute dictionary with iterrkeys(). This  did not work so I took the code out of  the  loop and used  the attributes from the pageAttrs dictionary, which were were [reqtabwidth], [reqtabheight]. It worked!The code has stars around it and was added to the code above.You can see the text size is now 20 and it displays in a nice large tab.That is two evenings wasted for such a simple task.</p>\n"}], "owner": {"reputation": 1944, "user_id": 1761615, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Lv6ZD.jpg?s=128&g=1", "display_name": "Timothy Lawman", "link": "https://stackoverflow.com/users/1761615/timothy-lawman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1442591420, "creation_date": 1442438289, "last_edit_date": 1442566904, "question_id": 32618899, "link": "https://stackoverflow.com/questions/32618899/python-megawidgets-tab-widths", "title": "Python Megawidgets tab widths", "body": "<p>How to I change the default width of the tabs on a notebook page?</p>\n\n<pre><code>import tkinter  #widget library ships with Python \nimport Pmw      #allows access to update tkinter widgets\n\nclass TextBookGUI:\n    # class constructor\n    # populates each note book page\n    def __init__(self, master):\n\n        #place hash tables here\n\n        \"\"\"\n         Create 5 pages on using Pmw notebook widget.\n         Documenation for notebook:\n         http://pmw.sourceforge.net/doc/NoteBook.html\n        \"\"\"\n\n        self.nb = Pmw.NoteBook(master)\n        Pmw.Color.changecolor(self.nb.component('hull'), background='blue')\n\n\n\n        self.HomeTab = self.nb.add(\"Welcome\")\n        self.nb.tab('Welcome').focus_set()\n\n        self.StudentTab = self.nb.add(\"Students\")\n        self.BookTab = self.nb.add(\"Books\")\n        self.LoanTab = self.nb.add(\"Loans\")\n        self.HelpTab = self.nb.add(\"Help\")\n        self.nb.pack(fill = 'both', expand = 1, padx = 10, pady = 10)\n        self.nb.setnaturalsize()\n\n        #format the house style of tabs: yellow bg and blue text   \n        self.nb.component('Welcome-tab').configure(font= ('Helvetica', 7 ,'bold', 'italic'), width= 30,fg= \"yellow\", bg=\"blue\")\n</code></pre>\n\n<p>I need to set the default tab width to be wider to accomodate the tab names. I cannot access the tab width property. The last line I tried using <code>.configure(width=30)</code>, this had no effect on the tab!</p>\n"}, {"tags": ["python", "csv", "dictionary", "pandas", "error-handling"], "answers": [{"comments": [{"owner": {"reputation": 341, "user_id": 2616808, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MbHPw.jpg?s=128&g=1", "display_name": "Daina", "link": "https://stackoverflow.com/users/2616808/daina"}, "edited": false, "score": 0, "creation_date": 1442449961, "post_id": 32618919, "comment_id": 53091903, "body": "Hi! This is great. Way more efficient than what I had been expecting. If I wanted to run this just to check if any of the values returned False, how could I do that? I&#39;m getting errors with: <code>if df[&#39;colours&#39;].isin(valid_colours) == False:     print &quot;Error: invalid colour found&quot;</code>"}, {"owner": {"reputation": 341, "user_id": 2616808, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MbHPw.jpg?s=128&g=1", "display_name": "Daina", "link": "https://stackoverflow.com/users/2616808/daina"}, "edited": false, "score": 0, "creation_date": 1442451519, "post_id": 32618919, "comment_id": 53092244, "body": "Think I just solved my own issue here :) <code>if df[&#39;colours&#39;].isin(valid_colours).all():     print &quot;No errors&quot; else:     print &quot;color error&quot;</code>"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 3, "last_activity_date": 1442438360, "creation_date": 1442438360, "answer_id": 32618919, "question_id": 32618836, "link": "https://stackoverflow.com/questions/32618836/validate-pandas-dataframe-values-against-dictionary/32618919#32618919", "title": "validate pandas dataframe values against dictionary", "body": "<p>I wouldn't bother doing that just load the whole csv in as is and then post-process the column values:</p>\n\n<pre><code>In [32]:\nvalid_colours = ['red','green','blue']\ndf = pd.DataFrame({'colours':['black', 'red', 'purple', 'blue','green']})\ndf\n\nOut[32]:\n  colours\n0   black\n1     red\n2  purple\n3    blue\n4   green\n\nIn [33]:    \ndf['valid'] = df['colours'].isin(valid_colours)\ndf\n\nOut[33]:\n  colours  valid\n0   black  False\n1     red   True\n2  purple  False\n3    blue   True\n4   green   True\n</code></pre>\n\n<p>The reason is because checking row by row when reading in your csv is slow whilst doing the above will be a vectorised approach and much quicker</p>\n"}], "owner": {"reputation": 341, "user_id": 2616808, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MbHPw.jpg?s=128&g=1", "display_name": "Daina", "link": "https://stackoverflow.com/users/2616808/daina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2026, "favorite_count": 0, "accepted_answer_id": 32618919, "answer_count": 1, "score": 1, "last_activity_date": 1442438360, "creation_date": 1442438010, "question_id": 32618836, "link": "https://stackoverflow.com/questions/32618836/validate-pandas-dataframe-values-against-dictionary", "title": "validate pandas dataframe values against dictionary", "body": "<p>I want to convert a csv file to a pandas dataframe, and on input I would like to validate the values of the csv file against a dictionary of sorts. </p>\n\n<p>For example, the only accepted values in the csv file for the column color are 'red', 'yellow', and 'green'. If there's a row in the csv that lists color as 'purple', I'd like to continue processing the csv into a pandas dataframe, but have an error be thrown. I'd like to do this for all columns in a dataframe and still be able to work with the dataframe, just have the errors thrown so I know if there's something that violates the data dictionary I have. Something like this:</p>\n\n<pre><code>df = pd.read_csv(filename)\nerror: \"There's purple in here!\"\n\ncolor_sort = df.sort(columns= \"color\")\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 1432, "user_id": 4088415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d699654ac42582b4569e2d24b183ac91?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelA", "link": "https://stackoverflow.com/users/4088415/michaela"}, "edited": false, "score": 0, "creation_date": 1442438485, "post_id": 32618812, "comment_id": 53088466, "body": "Yes, It is a duplicate. I did not find the above one when searching... ."}], "answers": [{"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 12, "last_activity_date": 1442438004, "creation_date": 1442438004, "answer_id": 32618831, "question_id": 32618812, "link": "https://stackoverflow.com/questions/32618812/filter-pandas-dataframe-for-elements-in-list/32618831#32618831", "title": "Filter Pandas DataFrame for elements in list", "body": "<p>Use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.isin.html#pandas.Series.isin\" rel=\"noreferrer\"><code>isin</code></a> to test membership of a column against the passed in list:</p>\n\n<pre><code>In [30]:\ndf[df['id'].isin(['foo','bar'])]\n\nOut[30]:\n   value   id\n0      1  foo\n1      2  bar\n</code></pre>\n\n<p>Here <code>isin</code> generates a boolean mask, we use this to filter the df:</p>\n\n<pre><code>In [31]:    \ndf['id'].isin(['foo','bar'])\n\nOut[31]:\n0     True\n1     True\n2    False\nName: id, dtype: bool\n</code></pre>\n"}], "owner": {"reputation": 1432, "user_id": 4088415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d699654ac42582b4569e2d24b183ac91?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelA", "link": "https://stackoverflow.com/users/4088415/michaela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12081, "favorite_count": 2, "closed_date": 1442438319, "accepted_answer_id": 32618831, "answer_count": 1, "score": 7, "last_activity_date": 1442501566, "creation_date": 1442437925, "last_edit_date": 1442501566, "question_id": 32618812, "link": "https://stackoverflow.com/questions/32618812/filter-pandas-dataframe-for-elements-in-list", "closed_reason": "Duplicate", "title": "Filter Pandas DataFrame for elements in list", "body": "<p>I have a pandas DataFrame that contains values and additional information. I'd like to be able to extract values that only belong to one sort of information. I don't know upfront which and how many values will be queried. So it would be possible that one time only values with the additional information \"foo\" will be called, sometimes with the additional information 'bar' and 'baz', so with a simplified DataFrame</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame(\n    [[1, 'foo'], [2, 'bar'], [3, 'baz']], columns=['value', 'id'])\n</code></pre>\n\n<p>I tried</p>\n\n<pre><code>result = df[df.id in ['foo', 'bar']]\n</code></pre>\n\n<p>But I just get a ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all(). But I can't geht the any()-Function to give me results... .</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "edited": false, "score": 0, "creation_date": 1442437787, "post_id": 32618712, "comment_id": 53088084, "body": "What are <code>n</code> and <code>parity</code> defined as?"}, {"owner": {"reputation": 381, "user_id": 953042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4aabcbddb30001f6ef03e813b78d6da5?s=128&d=identicon&r=PG", "display_name": "Chris Kinniburgh", "link": "https://stackoverflow.com/users/953042/chris-kinniburgh"}, "edited": false, "score": 0, "creation_date": 1442437824, "post_id": 32618712, "comment_id": 53088103, "body": "Can we get some context for this code?  Do you have a sense of what type of variables n and parity are?"}, {"owner": {"reputation": 21, "user_id": 5290013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7243a07a00706204ea9a777d0eab4433?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Fisher", "link": "https://stackoverflow.com/users/5290013/dan-fisher"}, "edited": false, "score": 0, "creation_date": 1442437831, "post_id": 32618712, "comment_id": 53088106, "body": "both n and parity are integers"}, {"owner": {"reputation": 21, "user_id": 5290013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7243a07a00706204ea9a777d0eab4433?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Fisher", "link": "https://stackoverflow.com/users/5290013/dan-fisher"}, "edited": false, "score": 0, "creation_date": 1442438207, "post_id": 32618712, "comment_id": 53088302, "body": "please let me know if any other details are required"}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 5, "last_activity_date": 1442438930, "last_edit_date": 1442438930, "creation_date": 1442438279, "answer_id": 32618898, "question_id": 32618712, "link": "https://stackoverflow.com/questions/32618712/understanding-python-bitwise-arithmetic-and-boolean-operators/32618898#32618898", "title": "Understanding Python bitwise, arithmetic, and boolean operators", "body": "<p>The expression is evaluated as <code>n += (parity != (n &amp; 1))</code>, and the results are:</p>\n\n<ul>\n<li><p><code>n &amp; 1</code> is a <em>bitmask</em>, it masks the integer <code>n</code> down to the least-significant bit. If <code>n</code> is odd, it will be <code>1</code>, if it is even, that bit will be <code>0</code>.</p></li>\n<li><p><code>parity != 0</code> or <code>parity != 1</code> produces a <em>boolean</em> result, <code>True</code> or <code>False</code>, signalling if <code>parity</code> was not equal to the <code>0</code> or <code>1</code> on the right.</p></li>\n<li><p>The resulting <code>True</code> or <code>False</code> is added up to <code>n</code>, as if you did <code>n = n + True</code> or <code>n = n + False</code>. The Python boolean type is a <em>subclass</em> of <code>int</code> and <code>False</code> has an integer value of <code>0</code> and <code>True</code> a value of <code>1</code>. </p></li>\n</ul>\n\n<p>The code, in essence, is adding <code>0</code> or <code>1</code> to <code>n</code> based on the value of <code>parity</code> and if <code>n</code> is currently even or odd.</p>\n\n<p>A short demo may illustrate this better.</p>\n\n<p>First, <code>n &amp; 1</code> producing <code>0</code> or <code>1</code>:</p>\n\n<pre><code>&gt;&gt;&gt; n = 10  # even\n&gt;&gt;&gt; bin(n)  # the binary representation of 10\n'0b1010'\n&gt;&gt;&gt; n &amp; 1   # should be 0, as the last bit is 0\n0\n&gt;&gt;&gt; n = 11  # odd\n&gt;&gt;&gt; bin(n)  # the binary representation of 11\n'0b1011'\n&gt;&gt;&gt; n &amp; 1   # should be 1, as the last bit is 1\n1\n</code></pre>\n\n<p>Next, the <code>parity != 0</code> or <code>parity != 1</code> part; note that I assume <code>parity</code> is limited to <code>0</code> or <code>1</code>, it really doesn't make sense for it to have other values:</p>\n\n<pre><code>&gt;&gt;&gt; parity = 0\n&gt;&gt;&gt; parity != 1\nTrue\n&gt;&gt;&gt; parity != 0\nFalse\n&gt;&gt;&gt; parity = 1\n&gt;&gt;&gt; parity != 1\nFalse\n&gt;&gt;&gt; parity != 0\nTrue\n</code></pre>\n\n<p>Last, that booleans are integers:</p>\n\n<pre><code>&gt;&gt;&gt; isinstance(True, int)\nTrue\n&gt;&gt;&gt; int(True)\n1\n&gt;&gt;&gt; 10 + True\n11\n&gt;&gt;&gt; 10 + False\n10\n</code></pre>\n\n<p>The formula looks like it is calculating a <a href=\"https://en.wikipedia.org/wiki/Cyclic_redundancy_check\" rel=\"nofollow\"><em>CRC checksum</em></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 895, "user_id": 5120411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9BjfU.png?s=128&g=1", "display_name": "Alea Kootz", "link": "https://stackoverflow.com/users/5120411/alea-kootz"}, "is_accepted": false, "score": 0, "last_activity_date": 1442438663, "creation_date": 1442438663, "answer_id": 32618995, "question_id": 32618712, "link": "https://stackoverflow.com/questions/32618712/understanding-python-bitwise-arithmetic-and-boolean-operators/32618995#32618995", "title": "Understanding Python bitwise, arithmetic, and boolean operators", "body": "<p>Lets break this down:</p>\n\n<pre><code>(n += (parity != (n &amp; 1)))\n</code></pre>\n\n<p><code>(n &amp; 1)</code> this is bitmask, and takes the value of the smallest (least significant bit) of <code>n</code>.</p>\n\n<p><code>parity !=</code> this is true if <code>parity</code> is different from the result of <code>(n &amp; 1)</code></p>\n\n<p><code>n +=</code> this increments <code>n</code> by whatever value the rest of the line returns.</p>\n\n<pre><code>n    parity    output(increment of n)\n0      1         1\n1      1         0\n1      0         1\n0      0         0\n</code></pre>\n\n<p>From the above table you can see that it functions like an XOR of n's LSB and parity.</p>\n\n<p>Notes: Usually parity is the oddness(1) or evenness(0) of a data packet.</p>\n\n<p>Hope this helps! Enjoy.</p>\n"}], "owner": {"reputation": 21, "user_id": 5290013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7243a07a00706204ea9a777d0eab4433?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Fisher", "link": "https://stackoverflow.com/users/5290013/dan-fisher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 32618898, "answer_count": 2, "score": 1, "last_activity_date": 1442438930, "creation_date": 1442437621, "last_edit_date": 1442438301, "question_id": 32618712, "link": "https://stackoverflow.com/questions/32618712/understanding-python-bitwise-arithmetic-and-boolean-operators", "title": "Understanding Python bitwise, arithmetic, and boolean operators", "body": "<p>I'm new to Python and not able to understand this. Can someone help break down the statement for me? </p>\n\n<p>Both n and parity are integers</p>\n\n<pre><code>n += parity != n &amp; 1\n</code></pre>\n"}, {"tags": ["python", "if-statement", "conditional"], "comments": [{"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 4, "creation_date": 1442437925, "post_id": 32618709, "comment_id": 53088147, "body": "That code should work just fine. If you don\u2019t overwrite <code>min</code>, you can also use the built-in function <code>min(x, y, z)</code> to get the minimum value. Also make sure that you check for number equality. All your <code>&lt;</code> should be <code>&lt;=</code> signs so that for <code>x == y == z</code>, you still get a result."}, {"owner": {"reputation": 6465, "user_id": 1182891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64170963e481496b89074f68786f4aeb?s=128&d=identicon&r=PG", "display_name": "Josh J", "link": "https://stackoverflow.com/users/1182891/josh-j"}, "edited": false, "score": 0, "creation_date": 1442437963, "post_id": 32618709, "comment_id": 53088174, "body": "Entering &quot;Given the variables x, y, and z, each associated with an int, write a fragment of code that assigns the smallest of these to variable min&quot; into your favorite search engine yields quite a few verbatim results. You should also disclose that this is a homework assignment so we can help you learn instead of just giving you the answer."}, {"owner": {"reputation": 990, "user_id": 1563909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eac544cc95e988ba5f317c3bac442e3?s=128&d=identicon&r=PG", "display_name": "leroyJr", "link": "https://stackoverflow.com/users/1563909/leroyjr"}, "edited": false, "score": 0, "creation_date": 1442438069, "post_id": 32618709, "comment_id": 53088221, "body": "min = min([x, y, z])"}], "answers": [{"tags": [], "owner": {"reputation": 1224, "user_id": 4889443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AG841.png?s=128&g=1", "display_name": "NendoTaka", "link": "https://stackoverflow.com/users/4889443/nendotaka"}, "is_accepted": false, "score": 1, "last_activity_date": 1442438053, "creation_date": 1442438053, "answer_id": 32618846, "question_id": 32618709, "link": "https://stackoverflow.com/questions/32618709/python-given-the-variables-x-y-and-z-each-associated-with-an-int-write-a-fr/32618846#32618846", "title": "PYTHON: Given the variables x, y, and z, each associated with an int, write a fragment of code that assigns the smallest of these to variable min", "body": "<p>Just use <code>min = min(x, y, z)</code> this should give you the smallest value in min.</p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 5344136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-X5FAA0CQOok/AAAAAAAAAAI/AAAAAAAAAH8/luln8tUF7zc/photo.jpg?sz=128", "display_name": "codybythesea", "link": "https://stackoverflow.com/users/5344136/codybythesea"}, "is_accepted": false, "score": 0, "last_activity_date": 1442438071, "creation_date": 1442438071, "answer_id": 32618850, "question_id": 32618709, "link": "https://stackoverflow.com/questions/32618709/python-given-the-variables-x-y-and-z-each-associated-with-an-int-write-a-fr/32618850#32618850", "title": "PYTHON: Given the variables x, y, and z, each associated with an int, write a fragment of code that assigns the smallest of these to variable min", "body": "<p>give this shorter version a try:</p>\n\n<pre><code>min = min(x,y,z)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6841154, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/5460f4382d1e1e8d109b5b9ea47619a3?s=128&d=identicon&r=PG", "display_name": "Bobby-Joe Bob", "link": "https://stackoverflow.com/users/6841154/bobby-joe-bob"}, "is_accepted": false, "score": 0, "last_activity_date": 1474060855, "creation_date": 1474060855, "answer_id": 39540248, "question_id": 32618709, "link": "https://stackoverflow.com/questions/32618709/python-given-the-variables-x-y-and-z-each-associated-with-an-int-write-a-fr/39540248#39540248", "title": "PYTHON: Given the variables x, y, and z, each associated with an int, write a fragment of code that assigns the smallest of these to variable min", "body": "<pre><code>if x&lt;=y and x&lt;=z:\n    min=x\nif y&lt;=x and y&lt;=z:\n    min=y\nif z&lt;=x and z&lt;=y:\n    min=z\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9388239, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/82be4f18aad397cb0a0c805a4890e01d?s=128&d=identicon&r=PG", "display_name": "austinlover", "link": "https://stackoverflow.com/users/9388239/austinlover"}, "is_accepted": false, "score": 0, "last_activity_date": 1519624104, "creation_date": 1519624104, "answer_id": 48982174, "question_id": 32618709, "link": "https://stackoverflow.com/questions/32618709/python-given-the-variables-x-y-and-z-each-associated-with-an-int-write-a-fr/48982174#48982174", "title": "PYTHON: Given the variables x, y, and z, each associated with an int, write a fragment of code that assigns the smallest of these to variable min", "body": "<pre><code>min=x\nif y&lt;min:\n  min=y\nif z&lt;min:\n  min=z\n</code></pre>\n\n<p>It is the answer accepted by Pearson's online tutorial, which is where the original poster got the question.  The question calls for you to find the min of the three numbers, not which number is the min.  If all three are equal they will all be equal to the min.  </p>\n\n<p>The purpose of the exercise from the book is to understand conditional statements.  Using a function call defeats the purpose of the excercise</p>\n"}], "owner": {"reputation": 159, "user_id": 5082420, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/20d17d2d36798052e4e187f9f144a396?s=128&d=identicon&r=PG&f=1", "display_name": "readytotaste", "link": "https://stackoverflow.com/users/5082420/readytotaste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8521, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1519624104, "creation_date": 1442437612, "question_id": 32618709, "link": "https://stackoverflow.com/questions/32618709/python-given-the-variables-x-y-and-z-each-associated-with-an-int-write-a-fr", "title": "PYTHON: Given the variables x, y, and z, each associated with an int, write a fragment of code that assigns the smallest of these to variable min", "body": "<p>This is what I have so far: (It doesn't seem to work)</p>\n\n<pre><code>if (x &lt; y) and (x &lt; z):\n   min = x\nelif (y &lt; x) and (y &lt; z):\n   min = y\nelif (z &lt; y) and (z &lt; x):\n   min = z\n</code></pre>\n"}, {"tags": ["python", "subprocess", "ping"], "comments": [{"owner": {"reputation": 2553, "user_id": 1903784, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a2eda4e1496650b3cebc58c25f3eae9c?s=128&d=identicon&r=PG", "display_name": "gerosalesc", "link": "https://stackoverflow.com/users/1903784/gerosalesc"}, "edited": false, "score": 0, "creation_date": 1442437573, "post_id": 32618670, "comment_id": 53087968, "body": "why not just do a get request as a heart beat?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4979653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b9ed43bef3df5353cecd1e341fd849?s=128&d=identicon&r=PG&f=1", "display_name": "Deez", "link": "https://stackoverflow.com/users/4979653/deez"}, "edited": false, "score": 0, "creation_date": 1442441344, "post_id": 32619187, "comment_id": 53089679, "body": "Thank you - so Popen is like actually opening the terminal, correct? I notice when I do that, it displays the 3 ping lines for viewing. With check_output, it simply displays the &#39;Yay&#39; or &#39;Boo&#39;. Is there a way for the script to print out the ping lines?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 11, "user_id": 4979653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b9ed43bef3df5353cecd1e341fd849?s=128&d=identicon&r=PG&f=1", "display_name": "Deez", "link": "https://stackoverflow.com/users/4979653/deez"}, "edited": false, "score": 0, "creation_date": 1442441443, "post_id": 32619187, "comment_id": 53089708, "body": "Yes, all of the <code>subprocess</code> family of functions run commands that you might otherwise invoke on the terminal. The text returned by <code>check_output(&quot;ping&quot;)</code> would be identical to the result of typing <code>ping</code> at a command prompt."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 11, "user_id": 4979653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b9ed43bef3df5353cecd1e341fd849?s=128&d=identicon&r=PG&f=1", "display_name": "Deez", "link": "https://stackoverflow.com/users/4979653/deez"}, "edited": false, "score": 0, "creation_date": 1442441496, "post_id": 32619187, "comment_id": 53089730, "body": "If you&#39;d like my sample program to display the entire output of the ping, add <code>print output</code> at the end."}, {"owner": {"reputation": 11, "user_id": 4979653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b9ed43bef3df5353cecd1e341fd849?s=128&d=identicon&r=PG&f=1", "display_name": "Deez", "link": "https://stackoverflow.com/users/4979653/deez"}, "edited": false, "score": 0, "creation_date": 1442442363, "post_id": 32619187, "comment_id": 53090001, "body": "Thank you! I really hate asking these simple questions but I went through a short python course, did nothing with it for two months (so I forgot most) and usually the response to my question(s) is a url to an article that contains so much tech jargon that I&#39;m more confused after reading it than I was before. So thank you so much.. more questions to come I&#39;m sure. :)"}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1442439400, "creation_date": 1442439400, "answer_id": 32619187, "question_id": 32618670, "link": "https://stackoverflow.com/questions/32618670/pinging-in-python-with-feedback/32619187#32619187", "title": "Pinging in Python with Feedback", "body": "<p><code>subprocess.Popen</code> is usually not the one you want. There are convenience functions for all of the simple tasks. In your case, I think you want <code>subprocess.check_output</code>:</p>\n\n<pre><code>output = subprocess.check_output(command, shell=True)\n</code></pre>\n\n<p>There are many ways to parse the resulting output string. I am fond of regular expressions:</p>\n\n<pre><code>matches = re.findall(\" time=([\\d.]+) ms\", output)\n</code></pre>\n\n<p><code>re.findall</code> returns a <code>list</code> of <code>str</code>, but you want to convert that to a single number so that you can do numerical comparisons. Use the <code>float()</code> constructor to convert the <code>str</code>s to <code>float</code>s, and then compute the average:</p>\n\n<pre><code>matches = [float(match) for match in matches]\nms = sum(matches)/len(matches)\n</code></pre>\n\n<p>Sample program:</p>\n\n<pre><code>import subprocess\nimport re\n\n# Run the \"ping\" command\ncommand = \"ping -c 3 www.google.com\"  # the shell command\noutput = subprocess.check_output(command, shell=True)\n\n# And interpret the output\nmatches = re.findall(\" time=([\\d.]+) ms\", output)\nmatches = [float(match) for match in matches]\nms = sum(matches)/len(matches)\n\nif ms &lt; 12:\n     print \"Yay\"\nelse:\n     print \"Boo\"\n</code></pre>\n\n<p>Note that the output of <code>ping</code> is not standardized. On my machine, running Ubuntu 14.04, the above regular expression works. On your machine, running some other OS, it might need to be different.</p>\n"}], "owner": {"reputation": 11, "user_id": 4979653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b9ed43bef3df5353cecd1e341fd849?s=128&d=identicon&r=PG&f=1", "display_name": "Deez", "link": "https://stackoverflow.com/users/4979653/deez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1604, "favorite_count": 1, "closed_date": 1442459625, "answer_count": 1, "score": -1, "last_activity_date": 1442439400, "creation_date": 1442437408, "question_id": 32618670, "link": "https://stackoverflow.com/questions/32618670/pinging-in-python-with-feedback", "closed_reason": "Duplicate", "title": "Pinging in Python with Feedback", "body": "<p>so I'm such a noob in Python it's painful but I'm trying to come up with a way to PING a site, then spit out an 'if/else' clause.</p>\n\n<p>So far I have this:</p>\n\n<pre><code>import subprocess \ncommand = \"ping -c 3 www.google.com\"  # the shell command\nprocess = subprocess.Popen(command, stdout=subprocess.PIPE,     \nstderr=None, shell=True)\n\n#Launch the shell command:\noutput = process.communicate()\n\nprint output[0]\n</code></pre>\n\n<p>Below is where I go awry, here is part two:</p>\n\n<pre><code>if output == 0.00\nprint \"server is good\"\n\nelse\nprint \"server is hosed\"\n</code></pre>\n\n<p>Obviously part 2 is not working out. </p>\n\n<p>My question is, how do I \"read\" the results from the ping (the milliseconds)\n    icmp_seq=0 ttl=44 time=13.384 ms</p>\n\n<p>and say \"if the ping time is faster than 12.000 ms then do THIS\"\nelse\n    \"do THAT\"</p>\n\n<p>Right now I'm just doing a print but soon I'd like to change that so something else. </p>\n"}, {"tags": ["python", "twitter", "emoji"], "answers": [{"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": true, "score": 1, "last_activity_date": 1442437294, "last_edit_date": 1442437294, "creation_date": 1442436877, "answer_id": 32618491, "question_id": 32618466, "link": "https://stackoverflow.com/questions/32618466/how-to-send-emoji-with-twitter-python-lib/32618491#32618491", "title": "How to send emoji with Twitter Python lib", "body": "<p>You need to use a <a href=\"https://docs.python.org/2/howto/unicode.html#unicode-literals-in-python-source-code\" rel=\"nofollow\">wide Unicode escape</a>:</p>\n\n<pre><code>msg += u'\\U0001F684'\n</code></pre>\n\n<p>However, not all Python 2 builds support the wide Unicode characters (have 32-bit wide characters); usually the Windows builds can have 16-bit UCS-2 strings.</p>\n"}, {"tags": [], "owner": {"reputation": 2852, "user_id": 259453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fwt6n.jpg?s=128&g=1", "display_name": "volvox", "link": "https://stackoverflow.com/users/259453/volvox"}, "is_accepted": false, "score": 0, "last_activity_date": 1442437111, "creation_date": 1442437111, "answer_id": 32618578, "question_id": 32618466, "link": "https://stackoverflow.com/questions/32618466/how-to-send-emoji-with-twitter-python-lib/32618578#32618578", "title": "How to send emoji with Twitter Python lib", "body": "<p>OK got it.  </p>\n\n<p><code>msg += u'\\U0001f468'</code> gives me an old (white) man</p>\n\n<p><code>msg += u'\\U0001f468\\U0001f3ff'</code> gives me an old (afro-caribbean) man.</p>\n"}], "owner": {"reputation": 2852, "user_id": 259453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fwt6n.jpg?s=128&g=1", "display_name": "volvox", "link": "https://stackoverflow.com/users/259453/volvox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 941, "favorite_count": 0, "accepted_answer_id": 32618491, "answer_count": 2, "score": 1, "last_activity_date": 1442437294, "creation_date": 1442436815, "question_id": 32618466, "link": "https://stackoverflow.com/questions/32618466/how-to-send-emoji-with-twitter-python-lib", "title": "How to send emoji with Twitter Python lib", "body": "<p>I have a script done which uses the twitter lib to send a twitter DM.\nI've tried a number of ways to include codes which render on iOS 8+ as emoji without luck.  Google has been unkind.</p>\n\n<p>Examples:</p>\n\n<p><code>msg += u'\\xF0\\x9F\\x9A\\x80'</code> gives me no rocket.  I get a d with a line through the top.</p>\n\n<p><code>msg += u'U+1F684'</code> gives me the code not a train</p>\n\n<p>As I can include emoji when I send a twitter DM to a user, the server clearly handles meta data pertaining to emoji.  As emoji is a UTF-8 character set rather than a font, I'm surprised that in the first example I'm getting representation in the font the twitter DM arrives in.  </p>\n\n<p>How can I send such characters from python 2?</p>\n"}, {"tags": ["python", "list", "python-2.7", "split"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1442437015, "post_id": 32618390, "comment_id": 53087699, "body": "So these are buckets. It&#39;s a histogram!"}, {"owner": {"reputation": 13658, "user_id": 1338158, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7b1dd97725ef5d1afb914e159c42c9a2?s=128&d=identicon&r=PG", "display_name": "Maciej Gol", "link": "https://stackoverflow.com/users/1338158/maciej-gol"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1442437558, "post_id": 32618390, "comment_id": 53087962, "body": "@PeterWood or a hash map! Or an interval tree! So many possibilities!"}], "answers": [{"comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1442436972, "post_id": 32618448, "comment_id": 53087672, "body": "wouldn&#39;t this be <code>O(n*m)</code>  like op&#39;s solution? would there be huge performance gain?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1442437032, "post_id": 32618448, "comment_id": 53087705, "body": "@taesu: the OPs is O(N*M)."}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1442437070, "post_id": 32618448, "comment_id": 53087718, "body": "ahhh, you&#39;re right. thanks for that, and also thanks for your participation at SO."}, {"owner": {"reputation": 13658, "user_id": 1338158, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7b1dd97725ef5d1afb914e159c42c9a2?s=128&d=identicon&r=PG", "display_name": "Maciej Gol", "link": "https://stackoverflow.com/users/1338158/maciej-gol"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1442437330, "post_id": 32618448, "comment_id": 53087840, "body": "@taesu, <code>index</code> goes through whole list, giving O(n). Now, while iterating over <code>indices</code>, <code>idx</code> is not decreasing and each iteration of the <code>while</code> loop increments <code>idx</code> by 1. This gives a maximum of <code>len (values)</code> iterations, bumping complexity to <code>O (n + m)</code>. In short, both lists are traversed once."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 6, "last_activity_date": 1442436729, "creation_date": 1442436729, "answer_id": 32618448, "question_id": 32618390, "link": "https://stackoverflow.com/questions/32618390/python-split-list-in-to-sublists-based-on-another-list/32618448#32618448", "title": "Python - split list in to sublists based on another list", "body": "<p>Your lists are sorted, so there is no need to do a double loop here.</p>\n\n<p>The following generates the sublists based on the two lists as inputs:</p>\n\n<pre><code>def partition(values, indices):\n    idx = 0\n    for index in indices:\n        sublist = []\n        while idx &lt; len(values) and values[idx] &lt; index:\n            sublist.append(values[idx])\n            idx += 1\n        if sublist:\n            yield sublist\n</code></pre>\n\n<p>You can then iterate over <code>partition(l1, l2)</code> to get individual sublists, or call <code>list()</code> to produce the whole list-of-lists in one go:</p>\n\n<pre><code>&gt;&gt;&gt; l1 = [0, 0.002, 0.3, 0.5, 0.6, 0.9, 1.3, 1.9] \n&gt;&gt;&gt; l2 = [0.5, 1.0, 1.5, 2.0]\n&gt;&gt;&gt; list(partition(l1, l2))\n[[0, 0.002, 0.3], [0.5, 0.6, 0.9], [1.3], [1.9]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1442441390, "last_edit_date": 1442441390, "creation_date": 1442437536, "answer_id": 32618697, "question_id": 32618390, "link": "https://stackoverflow.com/questions/32618390/python-split-list-in-to-sublists-based-on-another-list/32618697#32618697", "title": "Python - split list in to sublists based on another list", "body": "<pre><code>def split_l(a,b):\n    it = iter(b)\n    start, sub = next(it), []\n    for ele in a:\n        if ele &gt;= start:\n            yield sub\n            sub, start = [], next(it)\n        sub.append(ele)\n    yield sub\n\nprint(list(split_l(l1,l2)))\n[[0, 0.002, 0.3], [0.5, 0.6, 0.9], [1.3], [1.9]]\n</code></pre>\n\n<p>using kasras input this beats both the accepted answer and the numpy solution:</p>\n\n<pre><code>In [14]: l1 = [0, 0.002, 0.3, 0.5, 0.6, 0.9, 1.3, 1.9]*1000\n\nIn [15]: l1.sort()\n\nIn [16]: l2 = [0.5, 1.0, 1.5, 2.0]\n\nIn [17]: timeit list(partition(l1,l2))\n1000 loops, best of 3: 1.53 ms per loop\n\nIn [18]: timeit list(split_l(l1,l2))\n1000 loops, best of 3: 703 \u00b5s per loop\n\nIn [19]: timeit np.split(l1,np.searchsorted(l1,l2))\n1000 loops, best of 3: 802 \u00b5s per loop\n\nIn [20]: list(split_l(l1,l2))  == list(partition(l1,l2))\nOut[20]: True\n</code></pre>\n\n<p>Creating a local reference to append knocks even more off:</p>\n\n<pre><code>def split_l(a, b):\n    it = iter(b)\n    start, sub = next(it), []\n    append = sub.append\n    for ele in a:\n        if start &lt;= ele:\n            yield sub\n            start, sub = next(it), []\n            append = sub.append\n        append(ele)\n    yield sub\n</code></pre>\n\n<p>Runs in just over the time of the numpy solution:</p>\n\n<pre><code>In [47]: l1.sort()\n\nIn [48]: timeit list(split_l(l1,l2))\n1000 loops, best of 3: 498 \u00b5s per loop\n\nIn [49]: timeit list(partition(l1,l2))\n1000 loops, best of 3: 1.73 ms per loop\n\nIn [50]: timeit np.split(l1,np.searchsorted(l1,l2))\n1000 loops, best of 3: 812 \u00b5s per loop\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1442440205, "post_id": 32618765, "comment_id": 53089214, "body": "You should really move the creating of <code>l1</code> and <code>l2</code> <i>out</i> of the timeit tests (as well as defining the <code>partition()</code> function)."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1442440340, "post_id": 32618765, "comment_id": 53089285, "body": "I get 1.43 vs 1.1 for 1000 repetitions. Not bad for a pure-python implementation."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1442440387, "post_id": 32618765, "comment_id": 53089304, "body": "Ah, there is a problem. You cannot just multiply <code>l1</code> by 1000, because my solution <i>requires <code>l1</code> to be sorted</i>. Not that it helps my case if you do sort the list properly as that makes my solution slightly slower as more results are produced."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1442441545, "post_id": 32618765, "comment_id": 53089750, "body": "Answered my own question,  my solution using pure python  is faster"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1442469628, "post_id": 32618765, "comment_id": 53096980, "body": "@MartijnPieters With moving <code>l1</code> and <code>l2</code> out of the timeit test it doesn&#39;t make much difference again numpy performs significantly better on large data.<a href=\"http://stackoverflow.com/questions/31598677/why-list-comprehension-is-much-faster-than-numpy-for-multiplying-arrays\" title=\"why list comprehension is much faster than numpy for multiplying arrays\">stackoverflow.com/questions/31598677/&hellip;</a>"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1442469723, "post_id": 32618765, "comment_id": 53097013, "body": "@PadraicCunningham Yep as well your answer is elegant but still you need to timeit with large list to find out the power of Numpy ;-)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1442483061, "post_id": 32618765, "comment_id": 53103995, "body": "@Kasramvd, I timed it with the same size list as your tests ;)"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1442483685, "post_id": 32618765, "comment_id": 53104374, "body": "@PadraicCunningham I meant very huge!"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1442483861, "post_id": 32618765, "comment_id": 53104493, "body": "@PadraicCunningham 10000000000000000 time larger! :-D"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 3, "last_activity_date": 1442438972, "last_edit_date": 1442438972, "creation_date": 1442437785, "answer_id": 32618765, "question_id": 32618390, "link": "https://stackoverflow.com/questions/32618390/python-split-list-in-to-sublists-based-on-another-list/32618765#32618765", "title": "Python - split list in to sublists based on another list", "body": "<p>As a fast way you can use <code>numpy</code> pretty most efficient way for huge lists :</p>\n\n<pre><code>&gt;&gt;&gt; np.split(l1,np.searchsorted(l1,l2))\n[array([ 0.   ,  0.002,  0.3  ]), array([ 0.5,  0.6,  0.9]), array([ 1.3]), array([ 1.9]), array([], dtype=float64)]\n</code></pre>\n\n<hr>\n\n<p><a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.searchsorted.html\" rel=\"nofollow\"><code>np.searchsorted</code></a> will find the indices of <code>l2</code> items within <code>l1</code> while <code>l1</code> remains sorted (with its default sort) and <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.split.html\" rel=\"nofollow\"><code>np.split</code></a> will split your list based on a list of indices. </p>\n\n<p>A benchmark with accepted answer on a list 1000 time bigger :</p>\n\n<pre><code>from timeit import timeit\n\ns1=\"\"\"\n\ndef partition(values, indices):\n    idx = 0\n    for index in indices:\n        sublist = []\n        while idx &lt; len(values) and values[idx] &lt; index:\n            sublist.append(values[idx])\n            idx += 1\n        if sublist:\n            yield sublist\n\nl1 = [0, 0.002, 0.3, 0.5, 0.6, 0.9, 1.3, 1.9]*1000\nl2 = [0.5, 1.0, 1.5, 2.0]\nlist(partition(l1, l2))\n\n\"\"\"\n\ns2=\"\"\"\nl1 = [0, 0.002, 0.3, 0.5, 0.6, 0.9, 1.3, 1.9]*1000\nl2 = [0.5, 1.0, 1.5, 2.0]\nnp.split(l1,np.searchsorted(l1,l2))\n   \"\"\"\n\nprint '1st: ' ,timeit(stmt=s1, number=10000)\nprint '2nd : ',timeit(stmt=s2, number=10000,setup=\"import numpy as np\")\n</code></pre>\n\n<p>Result :</p>\n\n<pre><code>1st:  17.5872459412\n2nd :  10.3306460381\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1442440513, "post_id": 32619124, "comment_id": 53089358, "body": "This is just as bad as the OP&#39;s solution; you have a O(N*M) quadratic algorithm here."}], "tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 0, "last_activity_date": 1442440470, "last_edit_date": 1442440470, "creation_date": 1442439141, "answer_id": 32619124, "question_id": 32618390, "link": "https://stackoverflow.com/questions/32618390/python-split-list-in-to-sublists-based-on-another-list/32619124#32619124", "title": "Python - split list in to sublists based on another list", "body": "<pre><code>l1 = [0, 0.002, 0.3, 0.5, 0.6, 0.9, 1.3, 1.9]\n\nl2 = [0.5, 1.0, 1.5, 2.0]\n\n\n  def partition(values, indices):\n\n    temp = []\n    p_list = []\n\n\n    for j in range(len(indices)):\n        for i in range(len(values)):\n            if indices[j] &gt; values[i]:\n                temp.append(values[i])\n\n        p_list.append(temp)\n\n        # added to the partition values are truncated from the list\n        values = values[len(temp):]\n\n        temp = []\n\n    print(p_list)\n</code></pre>\n\n<p>partition(l1, l2)</p>\n\n<p>[[0, 0.002, 0.3], [0.5, 0.6, 0.9], [1.3], [1.9]]</p>\n"}], "owner": {"reputation": 91, "user_id": 3987728, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c3db36a19c3cafc340d79414f2b58ac?s=128&d=identicon&r=PG", "display_name": "jaydh", "link": "https://stackoverflow.com/users/3987728/jaydh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3589, "favorite_count": 2, "accepted_answer_id": 32618448, "answer_count": 4, "score": 4, "last_activity_date": 1442441390, "creation_date": 1442436497, "last_edit_date": 1442436542, "question_id": 32618390, "link": "https://stackoverflow.com/questions/32618390/python-split-list-in-to-sublists-based-on-another-list", "title": "Python - split list in to sublists based on another list", "body": "<p>I have two lists: <code>l1 = [0, 0.002, 0.3, 0.5, 0.6, 0.9, 1.3, 1.9]</code> \nand <code>l2 = [0.5, 1.0, 1.5, 2.0]</code>. I want to split <code>l1</code> in to sublists that are defined as the elements between two indexes of <code>l2</code>. So for example <code>l1</code> would be equal to <code>[[0,0.002, 0.3], [0.5, 0.6, 0.9], [1.3], [1.9]]</code>.</p>\n\n<p>Here is my solution:</p>\n\n<pre><code>l3 = []\nb=0\nfor i in l2:\n    temp = []\n    for p in l1:\n        if b &lt;= p &lt; i:\n        temp.append(p)\n    l3.append(temp)\n    b+=0.5\n</code></pre>\n\n<p>This solution is a huge bottleneck in my code. Is there a faster way to do this?</p>\n"}, {"tags": ["python", "email", "gmail", "imap"], "answers": [{"tags": [], "owner": {"reputation": 1719, "user_id": 2619479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127aeef4e048febca4fd6560b465359d?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2619479/marco"}, "is_accepted": false, "score": 1, "last_activity_date": 1442441768, "creation_date": 1442441768, "answer_id": 32619695, "question_id": 32618304, "link": "https://stackoverflow.com/questions/32618304/extract-first-line-of-email-body-using-python/32619695#32619695", "title": "Extract first line of email body using python", "body": "<p>According to docs get_payload() should return a string so this should work.</p>\n\n<pre><code>for part in email_message.walk():\n    # each part is a either non-multipart, or another multipart message\n    # that contains further parts... Message is organized like a tree\n    if part.get_content_type() == 'text/plain':\n        lines=part.get_payload().split(\"\\n\")\n        print lines[0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "is_accepted": true, "score": 3, "last_activity_date": 1443529656, "last_edit_date": 1495541200, "creation_date": 1443529656, "answer_id": 32844028, "question_id": 32618304, "link": "https://stackoverflow.com/questions/32618304/extract-first-line-of-email-body-using-python/32844028#32844028", "title": "Extract first line of email body using python", "body": "<p>There's a method in the string library exactly for this operation - <code>splitlines()</code>, which takes care of the different line endings (\\n, or \\r\\n). <a href=\"https://docs.python.org/2/library/stdtypes.html#string-methods\" rel=\"nofollow noreferrer\">From the doc</a>:</p>\n\n<blockquote>\n  <p>For example, 'ab c\\n\\nde fg\\rkl\\r\\n'.splitlines() returns ['ab c', '', 'de fg', 'kl'], </p>\n</blockquote>\n\n<p>As it returns an array, getting the first element is trivial - [0]. It also doesn't return an extra empty string if the last element ends with a newline character, unlike <code>split('n')</code>.</p>\n\n<p>Plus, you'd better use <code>get_payload(decode=True)</code>, it'll take care of base64 etc decoding for you. Finally, here's your example updated:</p>\n\n<pre><code>for part in email_message.walk():\n# each part is a either non-multipart, or another multipart message\n# that contains further parts... Message is organized like a tree\nif part.get_content_type() == 'text/plain':\n    # you may want to break it out in 2 statements for readability\n    print part.get_payload(decode=True).splitlines()[0] # prints the first line\n</code></pre>\n\n<p>BTW, text attachments are also of 'text/plain' content type and may mess up your expected data; you might want to skip those - <a href=\"https://stackoverflow.com/questions/17874360/python-how-to-parse-the-body-from-a-raw-email-given-that-raw-email-does-not/32840516#32840516\">see my post here</a> (self quoting, xaxax).</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 65, "user_id": 4681756, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-zuiQ3RE91ac/AAAAAAAAAAI/AAAAAAAAB5U/gEirXt2UM3c/photo.jpg?sz=128", "display_name": "StnBnu", "link": "https://stackoverflow.com/users/4681756/stnbnu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1756, "favorite_count": 0, "accepted_answer_id": 32844028, "answer_count": 2, "score": 1, "last_activity_date": 1443529656, "creation_date": 1442436090, "last_edit_date": 1495535220, "question_id": 32618304, "link": "https://stackoverflow.com/questions/32618304/extract-first-line-of-email-body-using-python", "title": "Extract first line of email body using python", "body": "<p>I can open emails using python (imap and mail modules), mostly following the advice here: <a href=\"https://stackoverflow.com/questions/1463074/how-can-i-get-an-email-messages-text-content-using-python\">How can I get an email message&#39;s text content using python?</a></p>\n\n<p>But I need to print only the first line of every email body - how could i do that? </p>\n\n<pre><code>    for part in email_message.walk():\n    # each part is a either non-multipart, or another multipart message\n    # that contains further parts... Message is organized like a tree\n    if part.get_content_type() == 'text/plain':\n        print part.get_payload() # prints the raw text\n</code></pre>\n\n<p>this is what i currently have to print the body, any ideas how I could restrict that to the first line of the email? </p>\n"}, {"tags": ["python", "post", "python-requests", "steam", "bad-request"], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 2796968, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/660e04ccefec04952899bc0aeb01704e?s=128&d=identicon&r=PG&f=1", "display_name": "cbl", "link": "https://stackoverflow.com/users/2796968/cbl"}, "edited": false, "score": 0, "creation_date": 1442441047, "post_id": 32618611, "comment_id": 53089577, "body": "I tried many possible ways to send cookies, headers and post data, so i think there is a different problem. Maybe some data is Missing."}], "tags": [], "owner": {"reputation": 1805, "user_id": 21420, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Jgz9F.png?s=128&g=1", "display_name": "sergiopereira", "link": "https://stackoverflow.com/users/21420/sergiopereira"}, "is_accepted": false, "score": 0, "last_activity_date": 1442460000, "last_edit_date": 1442460000, "creation_date": 1442437201, "answer_id": 32618611, "question_id": 32618302, "link": "https://stackoverflow.com/questions/32618302/getting-a-bad-request-when-im-posting-data-with-requests/32618611#32618611", "title": "Getting a Bad Request when im Posting Data with requests", "body": "<p>I can't speak specifically about the Steam service as I haven't used it yet, but my experience with typical <em>Bad Request</em> responses is that you're either trying an HTTP verb that isn't supported or your request is not formatted correctly.</p>\n\n<p>In your case, I suspect it's the latter.</p>\n\n<p>My first candidate to look at is your cookie formatting. Are you sure you don't have characters that need to be escaped?</p>\n\n<p>I could suggest using something like this instead:</p>\n\n<pre><code>c = { \n    'steamMachineAuthXXXXXXXXXXXXXXXXX': steamMachineAuth,\n    'steamLogin': steamLogin,\n    'steamLoginSecure': steamLoginSecure,\n    'sessionid': sessionid\n}\ncookie = '; ',join('{}=\"{}\"'.format(k, v) for k, v in c.items())\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 2796968, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/660e04ccefec04952899bc0aeb01704e?s=128&d=identicon&r=PG&f=1", "display_name": "cbl", "link": "https://stackoverflow.com/users/2796968/cbl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1442460000, "creation_date": 1442436088, "question_id": 32618302, "link": "https://stackoverflow.com/questions/32618302/getting-a-bad-request-when-im-posting-data-with-requests", "title": "Getting a Bad Request when im Posting Data with requests", "body": "<p>Im always getting the error message \"Bad Request\" when im trying to Post data to steam, i did lot of resears and i dont know how to fix this. </p>\n\n<p>Post Values:</p>\n\n<pre><code># Post Values    \ntotal = int(item['price'])\nfee = int(item['fee'])\nsubtotal = total-fee\n</code></pre>\n\n<p>Cookies:</p>\n\n<pre><code># Cookies\nc = []\nc.append('steamMachineAuthXXXXXXXXXXXXXXXXX='+steamMachineAuth)\nc.append('steamLogin='+steamLogin)\nc.append('steamLoginSecure='+steamLoginSecure)\nc.append('sessionid='+sessionid)\ncookie = ''\nfor value in c:\n    cookie = cookie+''+value+'; '\n</code></pre>\n\n<p>Headers:</p>\n\n<pre><code># Headers\nheaders = {\n    \"Accept\": \"*/*\",\n    \"Accept-Encoding\": \"gzip, deflate\",\n    \"Accept-Language\": \"de-DE,de;q=0.8,en-US;q=0.6,en;q=0.4\",\n    \"Connection\": \"keep-alive\",\n    \"Host\": \"steamcommunity.com\",\n    \"Referer\": hosturl+\"market/listings/\"+appid+\"/\"+item['market_hash_name'],\n    \"Cookie\": cookie,\n    \"Origin\": hosturl,\n    \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.85 Safari/537.36\",\n    \"X-Requested-With\": \"XMLHttpRequest\"\n}\n</code></pre>\n\n<p>Post data:</p>\n\n<pre><code># Post Data\npost = {\n    'sessionid': sessionid,\n    'currency': int(currency),\n    'subtotal': subtotal,\n    'fee': fee,\n    'total': total,\n    'quantity': 1\n}\n</code></pre>\n\n<p>Url:</p>\n\n<pre><code># url\nurl = hosturl+'market/buylisting/'+item['listingid']\n</code></pre>\n\n<p>Sending Request:</p>\n\n<pre><code># Sending Request\nse = requests.Session()\nre = se.post(url, data=post, headers=headers)\nprint re.reason\n</code></pre>\n\n<p>Output: \n    Bad Request</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 8079, "user_id": 1748679, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/afebaed9a11b4b56934add3801429c9c?s=128&d=identicon&r=PG", "display_name": "Kyle Heuton", "link": "https://stackoverflow.com/users/1748679/kyle-heuton"}, "edited": false, "score": 2, "creation_date": 1442436387, "post_id": 32618273, "comment_id": 53087373, "body": "df[&#39;count&#39;] = df.apply(lambda x: 1 if x[&#39;category&#39;] in x[&#39;category_pred&#39;] else 0), might  need axis =1, I forget"}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 3888963, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/21b11c205939c21f1197b1ffe9400c18?s=128&d=identicon&r=PG&f=1", "display_name": "user42361", "link": "https://stackoverflow.com/users/3888963/user42361"}, "edited": false, "score": 0, "creation_date": 1442447979, "post_id": 32618379, "comment_id": 53091482, "body": "Thanks so much, Haleemur!"}], "tags": [], "owner": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "is_accepted": true, "score": 2, "last_activity_date": 1442436466, "creation_date": 1442436466, "answer_id": 32618379, "question_id": 32618273, "link": "https://stackoverflow.com/questions/32618273/for-every-row-in-pandas-dataframe-determine-if-a-column-value-exists-in-another/32618379#32618379", "title": "For every row in Pandas dataframe determine if a column value exists in another column", "body": "<p>You can make use of the <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.apply.html\" rel=\"nofollow\">DataFrame's <code>apply</code></a> method.</p>\n\n<pre><code>df['count'] = df.apply(lambda x: 1 if x.category in x.category_pred else 0, axis = 1)\n</code></pre>\n\n<p>This will add the new column as you want</p>\n"}], "owner": {"reputation": 321, "user_id": 3888963, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/21b11c205939c21f1197b1ffe9400c18?s=128&d=identicon&r=PG&f=1", "display_name": "user42361", "link": "https://stackoverflow.com/users/3888963/user42361"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3859, "favorite_count": 0, "accepted_answer_id": 32618379, "answer_count": 1, "score": 2, "last_activity_date": 1442436466, "creation_date": 1442435995, "question_id": 32618273, "link": "https://stackoverflow.com/questions/32618273/for-every-row-in-pandas-dataframe-determine-if-a-column-value-exists-in-another", "title": "For every row in Pandas dataframe determine if a column value exists in another column", "body": "<p>I have a pandas data frame like this: </p>\n\n<pre><code>df = pd.DataFrame({'category' : ['A', 'B', 'C', 'A'], 'category_pred' : [['A'], ['B','D'], ['A','B','C'], ['D']]})\nprint(df)\n\n  category category_pred\n0        A           [A]\n1        B        [B, D]\n2        C     [A, B, C]\n3        A           [D]\n</code></pre>\n\n<p>I would like to have an output like this: </p>\n\n<pre><code>  category category_pred  count\n0        A           [A]      1\n1        B        [B, D]      1\n2        C     [A, B, C]      1\n3        A           [D]      0\n</code></pre>\n\n<p>That is, for every row, determine if the value in 'category' appears in 'category_pred'. Note that 'category_pred' can contain multiple values. </p>\n\n<p>I can do a for-loop like this one, but it is really slow.</p>\n\n<pre><code>for i in df.index:\n    if df.category[i] in df.category_pred[i]:\n        df['count'][i] = 1\n</code></pre>\n\n<p>I am looking for an efficient way to do this operation. Thanks! </p>\n"}, {"tags": ["python", "amazon-web-services", "boto", "boto3", "botocore"], "comments": [{"owner": {"reputation": 602, "user_id": 438627, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ba4b807fd7c343f284c4bdee66ed69bc?s=128&d=identicon&r=PG", "display_name": "qasimzee", "link": "https://stackoverflow.com/users/438627/qasimzee"}, "edited": false, "score": 0, "creation_date": 1574253022, "post_id": 32618216, "comment_id": 104164531, "body": "May be it&#39;s an update but we can do this if we are using python 2: boto.connect_s3(   aws_access_key_id=[ACCESS KEY],    aws_secret_access_key=[SECRET KEY],    host=&#39;localhost&#39;,    port=4572,    is_secure=True,    calling_format=boto.s3.connection.OrdinaryCallingFormat() )"}], "answers": [{"comments": [{"owner": {"reputation": 941, "user_id": 2034733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a86fc0fe696bda77e18a049f26909450?s=128&d=identicon&r=PG", "display_name": "fatih tekin", "link": "https://stackoverflow.com/users/2034733/fatih-tekin"}, "edited": false, "score": 0, "creation_date": 1512160371, "post_id": 33308291, "comment_id": 82160758, "body": "how can i do that for sns?"}], "tags": [], "owner": {"reputation": 10887, "user_id": 5314382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aj9Lv.jpg?s=128&g=1", "display_name": "Jordon Phillips", "link": "https://stackoverflow.com/users/5314382/jordon-phillips"}, "is_accepted": false, "score": 8, "last_activity_date": 1445621626, "creation_date": 1445621626, "answer_id": 33308291, "question_id": 32618216, "link": "https://stackoverflow.com/questions/32618216/overwrite-s3-endpoint-using-boto3-configuration-file/33308291#33308291", "title": "Overwrite S3 endpoint using Boto3 configuration file", "body": "<p><code>boto3</code> only reads the signature version for s3 from that config file. You may want to open a feature request, but for now here is how you can address a custom endpoint:</p>\n\n<pre><code>import boto3\nfrom botocore.utils import fix_s3_host\nresource = boto3.resource(service_name='s3', endpoint_url='http://localhost')\nresource.meta.client.meta.events.unregister('before-sign.s3', fix_s3_host)\n</code></pre>\n\n<p>That bit about the meta is important because <code>boto3</code> automatically changes the endpoint to <code>your_bucket_name.s3.amazonaws.com</code> when it sees fit <a href=\"https://github.com/boto/botocore/blob/develop/botocore/utils.py#L624\" rel=\"noreferrer\">1</a>. If you'll be working with both your own host and s3, you may wish to override the functionality rather than removing it altogether.</p>\n"}, {"comments": [{"owner": {"reputation": 521, "user_id": 6843149, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-ULAhbzGDNek/AAAAAAAAAAI/AAAAAAAAACk/yNofivWMgxQ/photo.jpg?sz=128", "display_name": "Aniruddha Tekade", "link": "https://stackoverflow.com/users/6843149/aniruddha-tekade"}, "edited": false, "score": 0, "creation_date": 1618222327, "post_id": 41327767, "comment_id": 118528030, "body": "This did not help me and I got error while doing list_buckets().<code>botocore.exceptions.ClientError: An error occurred (InvalidBucketName) when calling the ListBuckets operation: The specified bucket is not valid.</code>"}, {"owner": {"reputation": 22648, "user_id": 2698552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/608fa09693cef8d410834bd55755dbed?s=128&d=identicon&r=PG", "display_name": "ChillarAnand", "link": "https://stackoverflow.com/users/2698552/chillaranand"}, "reply_to_user": {"reputation": 521, "user_id": 6843149, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-ULAhbzGDNek/AAAAAAAAAAI/AAAAAAAAACk/yNofivWMgxQ/photo.jpg?sz=128", "display_name": "Aniruddha Tekade", "link": "https://stackoverflow.com/users/6843149/aniruddha-tekade"}, "edited": false, "score": 0, "creation_date": 1618458605, "post_id": 41327767, "comment_id": 118608860, "body": "Can you please share your boto version? @AniruddhaTekade"}], "tags": [], "owner": {"reputation": 22648, "user_id": 2698552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/608fa09693cef8d410834bd55755dbed?s=128&d=identicon&r=PG", "display_name": "ChillarAnand", "link": "https://stackoverflow.com/users/2698552/chillaranand"}, "is_accepted": true, "score": 51, "last_activity_date": 1485319907, "last_edit_date": 1485319907, "creation_date": 1482736747, "answer_id": 41327767, "question_id": 32618216, "link": "https://stackoverflow.com/questions/32618216/overwrite-s3-endpoint-using-boto3-configuration-file/41327767#41327767", "title": "Overwrite S3 endpoint using Boto3 configuration file", "body": "<p>You cannot set host in config file, however you can override it from your code with boto3.</p>\n\n<pre><code>import boto3\n\nsession = boto3.session.Session()\n\ns3_client = session.client(\n    service_name='s3',\n    aws_access_key_id='aaa',\n    aws_secret_access_key='bbb',\n    endpoint_url='http://localhost',\n)\n</code></pre>\n\n<p>Then you can interact as usual.</p>\n\n<pre><code>print(s3_client.list_buckets())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1813, "user_id": 4497941, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JIhwG.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/4497941/learner"}, "edited": false, "score": 0, "creation_date": 1546475470, "post_id": 42571417, "comment_id": 94866962, "body": "Is the trailing slash and port of the end point url required?"}, {"owner": {"reputation": 2457, "user_id": 1271412, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ghZEr.jpg?s=128&g=1", "display_name": "petertc", "link": "https://stackoverflow.com/users/1271412/petertc"}, "reply_to_user": {"reputation": 1813, "user_id": 4497941, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JIhwG.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/4497941/learner"}, "edited": false, "score": 0, "creation_date": 1546585229, "post_id": 42571417, "comment_id": 94904321, "body": "You do not need specify port if you hit AWS S3."}], "tags": [], "owner": {"reputation": 2457, "user_id": 1271412, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ghZEr.jpg?s=128&g=1", "display_name": "petertc", "link": "https://stackoverflow.com/users/1271412/petertc"}, "is_accepted": false, "score": 2, "last_activity_date": 1488519372, "creation_date": 1488519372, "answer_id": 42571417, "question_id": 32618216, "link": "https://stackoverflow.com/questions/32618216/overwrite-s3-endpoint-using-boto3-configuration-file/42571417#42571417", "title": "Overwrite S3 endpoint using Boto3 configuration file", "body": "<p>Another way:</p>\n\n<pre><code>import boto3\n\ns3client = boto3.client('s3', endpoint_url='http://X.X.x.X:8080/',\n        aws_access_key_id = 'XXXXXXX',\n        aws_secret_access_key = 'XXXXXXXX')\nbucket_name = 'aaaaa'\ns3client.create_bucket(Bucket=bucket_name)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 9391665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/780ef7b79944531cce0b31702c81b1bf?s=128&d=identicon&r=PG", "display_name": "Andi-OTC", "link": "https://stackoverflow.com/users/9391665/andi-otc"}, "is_accepted": false, "score": 5, "last_activity_date": 1519225035, "creation_date": 1519225035, "answer_id": 48909008, "question_id": 32618216, "link": "https://stackoverflow.com/questions/32618216/overwrite-s3-endpoint-using-boto3-configuration-file/48909008#48909008", "title": "Overwrite S3 endpoint using Boto3 configuration file", "body": "<p>using boto3 resource:</p>\n\n<pre><code>import boto3\n\n# use third party object storage\ns3 = boto3.resource('s3', endpoint_url='https://URL:443',\n  aws_access_key_id = 'AccessKey',\n  aws_secret_access_key = 'SecertKey')\n\n# Print out bucket names\nfor bucket in s3.buckets.all():\n print(bucket.name)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2569, "user_id": 224077, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d51d35977ddf23ee9f19e249d986366d?s=128&d=identicon&r=PG", "display_name": "Rachel", "link": "https://stackoverflow.com/users/224077/rachel"}, "is_accepted": false, "score": 0, "last_activity_date": 1612054200, "creation_date": 1612054200, "answer_id": 65974712, "question_id": 32618216, "link": "https://stackoverflow.com/questions/32618216/overwrite-s3-endpoint-using-boto3-configuration-file/65974712#65974712", "title": "Overwrite S3 endpoint using Boto3 configuration file", "body": "<p>I've just submitted a PR to boto3 to add an env var to allow you to override the endpoint_url if you need to use a dependent module which uses boto3 (in which case you may not be able to modify the call to boto3.client directly)</p>\n<p><a href=\"https://github.com/boto/boto3/pull/2746\" rel=\"nofollow noreferrer\">https://github.com/boto/boto3/pull/2746</a></p>\n<p><a href=\"https://github.com/rwillmer/boto3\" rel=\"nofollow noreferrer\">https://github.com/rwillmer/boto3</a></p>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 6142313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f03ba32f39a0d7e3f82b9b661d14a05?s=128&d=identicon&r=PG&f=1", "display_name": "Q. Qiao", "link": "https://stackoverflow.com/users/6142313/q-qiao"}, "is_accepted": false, "score": 0, "last_activity_date": 1612823931, "creation_date": 1612823931, "answer_id": 66110399, "question_id": 32618216, "link": "https://stackoverflow.com/questions/32618216/overwrite-s3-endpoint-using-boto3-configuration-file/66110399#66110399", "title": "Overwrite S3 endpoint using Boto3 configuration file", "body": "<pre><code>s3_client = boto3.client(\n    &quot;s3&quot;,\n    &quot;us-east-1&quot;,\n    aws_access_key_id=&quot;test_id&quot;,\n    aws_secret_access_key=&quot;test_key&quot;,\n    endpoint_url=&quot;https://localhost:7000&quot;,\n    use_ssl=True,\n    verify=False,\n)\n</code></pre>\n"}], "owner": {"reputation": 27359, "user_id": 1516286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/36f74e0d3318a630af9ce0e356182040?s=128&d=identicon&r=PG", "display_name": "Vor", "link": "https://stackoverflow.com/users/1516286/vor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38932, "favorite_count": 15, "accepted_answer_id": 41327767, "answer_count": 6, "score": 37, "last_activity_date": 1612823931, "creation_date": 1442435808, "question_id": 32618216, "link": "https://stackoverflow.com/questions/32618216/overwrite-s3-endpoint-using-boto3-configuration-file", "title": "Overwrite S3 endpoint using Boto3 configuration file", "body": "<h3>OVERVIEW:</h3>\n\n<p>I'm trying to overwrite certain variables in <code>boto3</code> using configuration file (<code>~/aws/confg</code>). \nIn my usecase I want to use <code>fakes3</code> service and send S3 requests to the localhost.</p>\n\n<h3>EXAMPLE:</h3>\n\n<p>In <code>boto</code> (not <code>boto3</code>), I can create a config in <code>~/.boto</code> similar to this one:</p>\n\n<pre><code>[s3]\nhost = localhost\ncalling_format = boto.s3.connection.OrdinaryCallingFormat\n\n[Boto]\nis_secure = False\n</code></pre>\n\n<p>And client can successfully pick up desired changes and instead of sending traffic to real S3 service, it will send it to the localhost.</p>\n\n<pre><code>&gt;&gt;&gt; import boto\n&gt;&gt;&gt; boto.connect_s3()\nS3Connection:localhost\n&gt;&gt;&gt; \n</code></pre>\n\n<h3>WHAT I TRIED:</h3>\n\n<p>Im trying to achieve similar result using <code>boto3</code> library. By looking at the source code I found that I can use <code>~/aws/config</code> location. I've also found an example config in <code>unittests</code> folder of <code>botocore</code>. </p>\n\n<p>I tried to modify config to achieve desired behaviour.  But unfortunately it doesn't work.</p>\n\n<p>Here is the config:</p>\n\n<pre><code>[default]\naws_access_key_id = XXXXXXXXX\naws_secret_access_key = YYYYYYYYYYYYYY\nregion = us-east-1\nis_secure = False\ns3 =\n    host = localhost\n</code></pre>\n\n<h3>QUESTION:</h3>\n\n<ol>\n<li>How to overwrite <code>clients</code> variables using config file?</li>\n<li>Where can I find a complete list of allowed variables for the configuration?</li>\n</ol>\n"}, {"tags": ["python", "arrays", "numpy", "scipy"], "answers": [{"tags": [], "owner": {"reputation": 4111, "user_id": 817766, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eALxl.png?s=128&g=1", "display_name": "Djizeus", "link": "https://stackoverflow.com/users/817766/djizeus"}, "is_accepted": false, "score": 0, "last_activity_date": 1442438713, "last_edit_date": 1442438713, "creation_date": 1442438245, "answer_id": 32618887, "question_id": 32618195, "link": "https://stackoverflow.com/questions/32618195/python-cumulative-insertion-of-values-in-a-sparse-matrix-lil-matrix-due-to-re/32618887#32618887", "title": "Python: Cumulative insertion of values in a sparse matrix (lil_matrix) due to repeated indices", "body": "<p>You could use a <a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"nofollow\">defaultdict</a> that maps the M column indices to their value and use the <code>map</code> function to update this defaultdict, like so:</p>\n\n<pre><code>from collections import defaultdict\n\nd = defaultdict(int) #Use your array type here\ndef f(j, s):\n    d[j] += s\nmap(f, j, S)\nM[-1, d.keys()] = d.values() #keys and values are always in the same order\n</code></pre>\n\n<p>Instead of <code>map</code>, you can use <code>filter</code> if you don't want to create a list of <code>None</code> uselessly:</p>\n\n<pre><code>d = defaultdict(int) #Use your array type here\ndef g(e):\n    d[e[1]] += S[e[0]]\nfilter(g, enumerate(j))\nM[-1, d.keys()] = d.values() #keys and values are always in the same \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5343960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7eb161d25706ab55a47a60286d1d99a?s=128&d=identicon&r=PG&f=1", "display_name": "Nestor van Rijn", "link": "https://stackoverflow.com/users/5343960/nestor-van-rijn"}, "edited": false, "score": 0, "creation_date": 1442440938, "post_id": 32619039, "comment_id": 53089532, "body": "Thanks for the helpful hints! Hopefully the conversion process to csr_matrix is not too expensive."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 13, "user_id": 5343960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7eb161d25706ab55a47a60286d1d99a?s=128&d=identicon&r=PG&f=1", "display_name": "Nestor van Rijn", "link": "https://stackoverflow.com/users/5343960/nestor-van-rijn"}, "edited": false, "score": 0, "creation_date": 1442444256, "post_id": 32619039, "comment_id": 53090547, "body": "I time tested a few variations.  Using <code>coo_matrix</code> is faster than <code>csr_matrix</code>."}, {"owner": {"reputation": 13, "user_id": 5343960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7eb161d25706ab55a47a60286d1d99a?s=128&d=identicon&r=PG&f=1", "display_name": "Nestor van Rijn", "link": "https://stackoverflow.com/users/5343960/nestor-van-rijn"}, "edited": false, "score": 0, "creation_date": 1442454730, "post_id": 32619039, "comment_id": 53093046, "body": "Perfect! In a later stage, I will try to build the matrix at once in csr format by using data, i, and j arrays as you mentioned."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 0, "last_activity_date": 1442444490, "last_edit_date": 1442444490, "creation_date": 1442438834, "answer_id": 32619039, "question_id": 32618195, "link": "https://stackoverflow.com/questions/32618195/python-cumulative-insertion-of-values-in-a-sparse-matrix-lil-matrix-due-to-re/32619039#32619039", "title": "Python: Cumulative insertion of values in a sparse matrix (lil_matrix) due to repeated indices", "body": "<p>That kind of summation is the normal behavior for <code>sparse</code> matrices, especially in the <code>csr</code> format.</p>\n\n<p>define the 3 input arrays:</p>\n\n<pre><code>In [408]: S = np.array([2,3,10,-1,12,1,2,4,4])\nIn [409]: j=np.array([3,4,5,14,15,16,3,4,5])\nIn [410]: i=np.ones(S.shape,int)\n</code></pre>\n\n<p>The <code>coo</code> format takes those 3 arrays, as is, without change</p>\n\n<pre><code>In [411]: c0=sparse.coo_matrix((S,(i,j)))\nIn [412]: c0.data\nOut[412]: array([ 2,  3, 10, -1, 12,  1,  2,  4,  4])\n</code></pre>\n\n<p>But when converted to <code>csr</code> format, it sums repeated indices:</p>\n\n<pre><code>In [413]: c1=c0.tocsr()\nIn [414]: c1.data\nOut[414]: array([ 4,  7, 14, -1, 12,  1], dtype=int32)\nIn [415]: c1.A\nOut[415]: \narray([[ 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],\n       [ 0,  0,  0,  4,  7, 14,  0,  0,  0,  0,  0,  0,  0,  0, -1, 12,  1]], dtype=int32)\n</code></pre>\n\n<p>That summation is also done when converting the <code>coo</code> to dense or array, <code>c0.A</code>.</p>\n\n<p>and when converting to <code>lil</code>:</p>\n\n<pre><code>In [419]: cl=c0.tolil()\nIn [420]: cl.data\nOut[420]: array([[], [4, 7, 14, -1, 12, 1]], dtype=object)\nIn [421]: cl.rows\nOut[421]: array([[], [3, 4, 5, 14, 15, 16]], dtype=object)\n</code></pre>\n\n<p><code>lil_matrix</code> does not accept the <code>(data,(i,j))</code> input directly, so you have to go through <code>coo</code> if that is your target.</p>\n\n<p><a href=\"http://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.sparse.coo_matrix.html\" rel=\"nofollow\">http://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.sparse.coo_matrix.html</a></p>\n\n<blockquote>\n  <p>By default when converting to CSR or CSC format, duplicate (i,j) entries will be summed together. This facilitates efficient construction of finite element matrices and the like. (see example)</p>\n</blockquote>\n\n<p>To do this as an insertion in an existing <code>lil</code> use an intermediate <code>csr</code>:</p>\n\n<pre><code>In [443]: L=sparse.lil_matrix((3,17),dtype=S.dtype)\nIn [444]: L[-1,:]=sparse.csr_matrix((S,(np.zeros(S.shape),j)))\nIn [445]: L.A\nOut[445]: \narray([[ 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],\n       [ 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],\n       [ 0,  0,  0,  4,  7, 14,  0,  0,  0,  0,  0,  0,  0,  0, -1, 12,  1]])\n</code></pre>\n\n<p>This statement is faster than the one using <code>csr_matrix</code>; </p>\n\n<pre><code>L[-1,:]=sparse.coo_matrix((S,(np.zeros(S.shape),j)))\n</code></pre>\n\n<p>Examine <code>L.__setitem__</code> if you are really worried about speed.  Off hand it looks like it normally converts a sparse matrix to array </p>\n\n<pre><code>L[-1,:]=sparse.coo_matrix((S,(np.zeros(S.shape),j))).A\n</code></pre>\n\n<p>takes the same time.  With a small test case like this, the overhead of creating an intermediate matrix can swamp any time spent adding these duplicate indices.</p>\n\n<p>In general, inserting or appending values to an existing sparse matrix is slow, regardless of whether you do this summation or not.  Where possible it is best to create the <code>data</code>, <code>i</code> and <code>j</code> arrays for the whole matrix first, and then make the sparse matrix.</p>\n"}], "owner": {"reputation": 13, "user_id": 5343960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7eb161d25706ab55a47a60286d1d99a?s=128&d=identicon&r=PG&f=1", "display_name": "Nestor van Rijn", "link": "https://stackoverflow.com/users/5343960/nestor-van-rijn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 0, "accepted_answer_id": 32619039, "answer_count": 2, "score": 1, "last_activity_date": 1442444490, "creation_date": 1442435711, "last_edit_date": 1442437453, "question_id": 32618195, "link": "https://stackoverflow.com/questions/32618195/python-cumulative-insertion-of-values-in-a-sparse-matrix-lil-matrix-due-to-re", "title": "Python: Cumulative insertion of values in a sparse matrix (lil_matrix) due to repeated indices", "body": "<p>my situation is as follows: </p>\n\n<p>I have an array of results, say\n<code>S = np.array([2,3,10,-1,12,1,2,4,4])</code>, which I would like to insert in the last row of a <code>scipy.sparse.lil</code>_matrix <code>M</code> according to an array of column indices with possibly repeated elements (with no specific pattern), e.g.:\n<code>j = np.array([3,4,5,14,15,16,3,4,5])</code>.</p>\n\n<p>When column indices are repeated, the sum of their corresponding values in <code>S</code> should be inserted in the matrix <code>M</code>. Thus, in the example above, results <code>[4,7,14]</code> should be placed in columns <code>[3,4,5]</code> of the last row of <code>M</code>. In other words, I would like to achieve something like:</p>\n\n<p><code>M[-1,j] = np.array([2+2,3+4,10+4,-1,12,1])</code>.</p>\n\n<p>Calculation speed is very important for my program, such that I should avoid using loops. Looking forward to your clever solutions! Thanks!</p>\n"}, {"tags": ["python", "bash", "shell"], "comments": [{"owner": {"reputation": 29116, "user_id": 382471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/804ee314e1022f48ddd7d9cebe329afc?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/382471/robert"}, "edited": false, "score": 3, "creation_date": 1442435529, "post_id": 32618116, "comment_id": 53086951, "body": "Invoke <code>ssh pi-address command</code>. You&#39;ll need to set up SSH keys."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 29116, "user_id": 382471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/804ee314e1022f48ddd7d9cebe329afc?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/382471/robert"}, "edited": false, "score": 0, "creation_date": 1442435838, "post_id": 32618116, "comment_id": 53087109, "body": "@robert ... whoah you can do that? I had no idea ... do all ssh clients do that ? or is this a specific client?"}, {"owner": {"reputation": 29116, "user_id": 382471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/804ee314e1022f48ddd7d9cebe329afc?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/382471/robert"}, "edited": false, "score": 0, "creation_date": 1442435955, "post_id": 32618116, "comment_id": 53087164, "body": "OpenSSH supports keys, and if you&#39;re using shell scripts then you&#39;re probably using OpenSSH."}, {"owner": {"reputation": 884, "user_id": 2977080, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1ece87d32bf381fc7990522c5e8986c2?s=128&d=identicon&r=PG", "display_name": "octain", "link": "https://stackoverflow.com/users/2977080/octain"}, "edited": false, "score": 1, "creation_date": 1442436353, "post_id": 32618116, "comment_id": 53087356, "body": "what robert said, generated ssh keys for each machine your using, then copy them over to the <code>authorized_keys</code> in the <code>.ssh</code> directory. If you have 2 machines, generated a key copy that into the <code>.ssh&#47;authoirzed_keys</code>, and vice versa with the other machine or how many others your using. then by running ssh <code>user_name@ip_address command</code> will do the job. Hope that makes sense"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 29116, "user_id": 382471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/804ee314e1022f48ddd7d9cebe329afc?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/382471/robert"}, "edited": false, "score": 0, "creation_date": 1442437045, "post_id": 32618116, "comment_id": 53087712, "body": "@robert oh yeah I know how to make keys and use keys... I just didnt know you could pass a shell command into ssh ... thats awesome"}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 1, "last_activity_date": 1442435756, "creation_date": 1442435756, "answer_id": 32618207, "question_id": 32618116, "link": "https://stackoverflow.com/questions/32618116/is-it-possible-to-run-a-shell-command-onto-a-different-device/32618207#32618207", "title": "Is it possible to run a shell command onto a different device?", "body": "<pre><code>import paramiko\n\nclient = paramiko.SSHClient()\nclient.set_missing_host_key_policy(paramiko.AutoAddPolicy())\nclient.connect(host, port, username=username, password=password)\n\nstdin, stdout, stderr = client.exec_command('ls -l')\nprint stdout.read()\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 3670245, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d7499637a88e668d78893d4d2ea1421e?s=128&d=identicon&r=PG&f=1", "display_name": "user3670245", "link": "https://stackoverflow.com/users/3670245/user3670245"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 1, "accepted_answer_id": 32618207, "answer_count": 1, "score": 0, "last_activity_date": 1442469538, "creation_date": 1442435440, "last_edit_date": 1442469538, "question_id": 32618116, "link": "https://stackoverflow.com/questions/32618116/is-it-possible-to-run-a-shell-command-onto-a-different-device", "title": "Is it possible to run a shell command onto a different device?", "body": "<p>Is it possible to run a shell command onto a different device? For example, I am writing a program in python on my computer. I want this program to call a shell command on a pi that is connected to the computer. I have the IP address of the pi, but I'm not sure if it is possible or not to do this. Does anyone know?</p>\n"}, {"tags": ["python", "css", "html-parsing", "lxml", "lxml.html"], "answers": [{"comments": [{"owner": {"reputation": 768, "user_id": 4789843, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7b0345992a82b453ff9e68376fd3f791?s=128&d=identicon&r=PG&f=1", "display_name": "deseosuho", "link": "https://stackoverflow.com/users/4789843/deseosuho"}, "edited": false, "score": 0, "creation_date": 1442437404, "post_id": 32618206, "comment_id": 53087885, "body": "Thanks!  For others, note the dict items method in alecxe&#39;s first answer is the python 2 .iteritems rather than the python 3 .items"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 768, "user_id": 4789843, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7b0345992a82b453ff9e68376fd3f791?s=128&d=identicon&r=PG&f=1", "display_name": "deseosuho", "link": "https://stackoverflow.com/users/4789843/deseosuho"}, "edited": false, "score": 0, "creation_date": 1442437429, "post_id": 32618206, "comment_id": 53087896, "body": "@deseosuho oops, yeah, fixed. Thanks!"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 3, "last_activity_date": 1442437422, "last_edit_date": 1442437422, "creation_date": 1442435750, "answer_id": 32618206, "question_id": 32617963, "link": "https://stackoverflow.com/questions/32617963/python-lxml-syntax-for-selectively-deleting-inline-style-attributes/32618206#32618206", "title": "python lxml: syntax for selectively deleting inline style attributes?", "body": "<p>You can approach it by splitting the <code>style</code> attribute value by <code>;</code>, create a CSS property name -> value map, remove the <code>border-bottom</code> from the map and reconstruct the <code>style</code> attribute again by joining the elements of the map with <code>;</code>. Sample implementation:</p>\n\n<pre><code>style = selection.attrib['style']\nproperties = dict([item.split(\":\") for item in style.split(\"; \")])\n\ndel properties['border-bottom']\n\nselection.attrib['style'] = \"; \".join([key + \":\" + value for key, value in properties.items()])\n\nprint(lxml.html.tostring(selection))\n</code></pre>\n\n<p>I'm pretty sure you can break this solution easily.</p>\n\n<hr>\n\n<p>Alternatively, here is a rather \"crazy\" option - dump the data into the \"html\" file, open the file in a browser via <a href=\"https://selenium-python.readthedocs.org/api.html\" rel=\"nofollow\"><code>selenium</code></a>, remove the attribute via javascript and print out the HTML representation of the element after:</p>\n\n<pre><code>import os\nfrom selenium import webdriver   \n\ndata = \"\"\"\n&lt;td valign=\"bottom\" colspan=\"10\" align=\"center\" style=\"background-color:azure; border-bottom:1px solid #000000\"&gt;&lt;font style=\"font-family:Times New Roman\" size=\"2\"&gt;Estimated Future Payouts&lt;/font&gt; \\n            &lt;br/&gt;&lt;font style=\"font-family:Times New Roman\" size=\"2\"&gt;Under Non-Equity Incentive&lt;/font&gt; \\n            &lt;br/&gt;&lt;font style=\"font-family:Times New Roman\" size=\"2\"&gt;Plan Awards&lt;/font&gt; \\n        &lt;/td&gt;\n\"\"\"\nwith open(\"index.html\", \"w\") as f:\n    f.write(\"&lt;body&gt;&lt;table&gt;&lt;tr&gt;%s&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;\" % data)\n\ndriver = webdriver.Chrome()\ndriver.get(\"file://\" + os.path.abspath(\"index.html\"))\n\ntd = driver.find_element_by_tag_name(\"td\")\ndriver.execute_script(\"arguments[0].style['border-bottom'] = '';\", td)\n\nprint(td.get_attribute(\"outerHTML\"))\n\ndriver.close()\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>&lt;td valign=\"bottom\" colspan=\"10\" align=\"center\" style=\"background-color: rgb(240, 255, 255);\"&gt;&lt;font\n        style=\"font-family:Times New Roman\" size=\"2\"&gt;Estimated Future Payouts&lt;/font&gt;\n    &lt;br&gt;&lt;font style=\"font-family:Times New Roman\" size=\"2\"&gt;Under Non-Equity Incentive&lt;/font&gt;\n    &lt;br&gt;&lt;font style=\"font-family:Times New Roman\" size=\"2\"&gt;Plan Awards&lt;/font&gt;\n&lt;/td&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1442438041, "post_id": 32618714, "comment_id": 53088209, "body": "Nice find! I think this is an easiest option here at the moment."}], "tags": [], "owner": {"reputation": 2673, "user_id": 4898880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GiiSv.png?s=128&g=1", "display_name": "headuck", "link": "https://stackoverflow.com/users/4898880/headuck"}, "is_accepted": false, "score": 2, "last_activity_date": 1442438130, "last_edit_date": 1442438130, "creation_date": 1442437624, "answer_id": 32618714, "question_id": 32617963, "link": "https://stackoverflow.com/questions/32617963/python-lxml-syntax-for-selectively-deleting-inline-style-attributes/32618714#32618714", "title": "python lxml: syntax for selectively deleting inline style attributes?", "body": "<p>There is a package for that, although overkill in this case.</p>\n\n<pre><code>import cssutils\nsheet = cssutils.parseStyle('background-color: azure;border-bottom:1px solid #000000')\nsheet.removeProperty('border-bottom')  # returns '1px solid #000'\nprint(sheet.cssText)\n</code></pre>\n\n<p>Outputs <code>background-color: azure</code></p>\n"}], "owner": {"reputation": 768, "user_id": 4789843, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7b0345992a82b453ff9e68376fd3f791?s=128&d=identicon&r=PG&f=1", "display_name": "deseosuho", "link": "https://stackoverflow.com/users/4789843/deseosuho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 1, "accepted_answer_id": 32618206, "answer_count": 2, "score": 3, "last_activity_date": 1442438130, "creation_date": 1442434873, "last_edit_date": 1442436031, "question_id": 32617963, "link": "https://stackoverflow.com/questions/32617963/python-lxml-syntax-for-selectively-deleting-inline-style-attributes", "title": "python lxml: syntax for selectively deleting inline style attributes?", "body": "<p><strong>I'm using python 3.4 with the lxml.html library.</strong></p>\n\n<p>I'm trying to remove the <code>border-bottom</code> in-line styling from html elements that I've targeted with a css selector.</p>\n\n<p>Here's a code fragment showing a sample td element and my selector:</p>\n\n<pre><code>html_snippet = lxml.html.fromstring(\"\"\"&lt;td valign=\"bottom\" colspan=\"10\" align=\"center\" style=\"background-color:azure; border-bottom:1px solid #000000\"&gt;&lt;font style=\"font-family:Times New Roman\" size=\"2\"&gt;Estimated Future Payouts&lt;/font&gt; \\n            &lt;br/&gt;&lt;font style=\"font-family:Times New Roman\" size=\"2\"&gt;Under Non-Equity Incentive&lt;/font&gt; \\n            &lt;br/&gt;&lt;font style=\"font-family:Times New Roman\" size=\"2\"&gt;Plan Awards&lt;/font&gt; \\n        &lt;/td&gt;\"\"\")\nselection = html_snippet.cssselect('td[style*=\"border-bottom\"]')\nselection.attrib['style']\n&gt;&gt;&gt;&gt;'background-color: azure;border-bottom:1px solid #000000'\n</code></pre>\n\n<p>What's the proper way to access the in-line style properties so I can remove the <code>border-bottom</code> attribute from any element I target with my selector?</p>\n"}, {"tags": ["python", "ctypes"], "comments": [{"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 0, "creation_date": 1442435105, "post_id": 32617952, "comment_id": 53086734, "body": "Arrays don&#39;t support subtraction.. What are you trying to do?"}, {"owner": {"reputation": 1224, "user_id": 4889443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AG841.png?s=128&g=1", "display_name": "NendoTaka", "link": "https://stackoverflow.com/users/4889443/nendotaka"}, "edited": false, "score": 0, "creation_date": 1442435130, "post_id": 32617952, "comment_id": 53086747, "body": "You can&#39;t subtract an array but you can subtract the values in an array."}, {"owner": {"reputation": 18893, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1442435168, "post_id": 32617952, "comment_id": 53086764, "body": "I am trying to substract value-wise my array. Example: <code>[1,2,3] - [0,1,2]</code> = <code>[1,1,1]</code>."}, {"owner": {"reputation": 1224, "user_id": 4889443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AG841.png?s=128&g=1", "display_name": "NendoTaka", "link": "https://stackoverflow.com/users/4889443/nendotaka"}, "edited": false, "score": 0, "creation_date": 1442435206, "post_id": 32617952, "comment_id": 53086782, "body": "you will probably have to use a loop to loop through the arrays and do the subtractions."}, {"owner": {"reputation": 18893, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1442435240, "post_id": 32617952, "comment_id": 53086800, "body": "Isn&#39;t a better solution using <code>NumPy</code> or something like this?"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1442440040, "post_id": 32617952, "comment_id": 53089141, "body": "Don&#39;t use ctypes for arithmetic! It&#39;s for interop."}], "answers": [{"comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1442437660, "post_id": 32618358, "comment_id": 53088023, "body": "One would probably want <code>diff</code> to be the same array type instead of a list, e.g. <code>diff = type(foo)(*(f - b for f,b in zip(foo, bar)));</code> <code>print(*diff, sep=&#39;, &#39;)</code>. (For Python 2 this requires <code>from __future__ import print_function</code> and for efficiency <code>from future_builtins import zip</code>.)"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1442436350, "creation_date": 1442436350, "answer_id": 32618358, "question_id": 32617952, "link": "https://stackoverflow.com/questions/32617952/how-to-add-substract-with-c-double-array/32618358#32618358", "title": "How to add/substract with c_double_Array?", "body": "<pre><code>import ctypes\nfoo = (ctypes.c_double * 3)(14, 22, 37)\nbar = (ctypes.c_double * 3)(0, 1, 2)\ndiff = [foo[i]-bar[i] for i in range(len(foo))]\nprint diff\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1442441994, "post_id": 32619290, "comment_id": 53089906, "body": "To avoid copying use <code>x = np.frombuffer(a); y = np.frombuffer(b)</code>. Then to go back to a ctypes array without copying you can use <code>result = type(a).from_buffer(x - y)</code>."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1442442872, "post_id": 32619290, "comment_id": 53090146, "body": "In case you&#39;re interested in details, Python&#39;s buffer protocol conveys the correct data type and size in the <code>np.frombuffer</code> call. The ctypes arrays, which actually own the memory, are referenced  as <code>x.base</code> and <code>y.base</code>, and <code>x.flags.owndata == False</code> because it doesn&#39;t own the data. For the ctypes <code>from_buffer</code> call, the <code>x - y</code> NumPy array, which owns the memory of the result array, is referenced in the <code>result._objects</code> dict. Also <code>result._b_needsfree_ == 0</code> because the ctypes object doesn&#39;t own the memory."}], "tags": [], "owner": {"reputation": 18893, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "is_accepted": true, "score": 0, "last_activity_date": 1442439920, "last_edit_date": 1495541744, "creation_date": 1442439920, "answer_id": 32619290, "question_id": 32617952, "link": "https://stackoverflow.com/questions/32617952/how-to-add-substract-with-c-double-array/32619290#32619290", "title": "How to add/substract with c_double_Array?", "body": "<p>As you mentioned <a href=\"https://stackoverflow.com/users/2612235/nowox\">nowox</a>, one way to avoid the loop is to use <code>numpy</code>. </p>\n\n<p>Try this: </p>\n\n<pre><code>import ctypes\nimport numpy as np\na = (ctypes.c_int * 10)(1,2,3,4,5,6,7,8,9,0)\nb = (ctypes.c_int * 10)(5,0,5,0,5,0,5,0,5,0)\n\nx = np.array(a)\ny = np.array(b)\n\nx - y\n</code></pre>\n\n<p>will gives you: </p>\n\n<pre><code>array([ 4, -2,  2, -4,  0, -6, -2, -8, -4,  0])\n</code></pre>\n\n<p>However if you don't want to deal with modules as <a href=\"https://stackoverflow.com/users/4889443/nendotaka\">NendoTaka</a> does. You will need to use a loop and the <a href=\"https://stackoverflow.com/users/4785185/prune\">Prune</a> answer is the right one. </p>\n"}], "owner": {"reputation": 18893, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "accepted_answer_id": 32619290, "answer_count": 2, "score": -1, "last_activity_date": 1442440529, "creation_date": 1442434845, "last_edit_date": 1442440529, "question_id": 32617952, "link": "https://stackoverflow.com/questions/32617952/how-to-add-substract-with-c-double-array", "title": "How to add/substract with c_double_Array?", "body": "<p>I am using <code>ctypes</code> to interface with a DLL written in C and I created an array with this: </p>\n\n<pre><code>foo = (c_double * 1000)()\nbar = (c_double * 1000)()\n</code></pre>\n\n<p>I can get all the values with <code>foo[:]</code> and the type is: </p>\n\n<pre><code>type(foo)\nc_double_array_1000\n</code></pre>\n\n<p>However I cannot subtract foo with bar:</p>\n\n<pre><code>unsupported operand type(s) for -: 'c_double_Array_1000' and 'c_double_Array_1000'\n</code></pre>\n\n<p>What did I miss?</p>\n"}, {"tags": ["python", "numpy", "com", "cython", "pywin32"], "comments": [{"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1442435255, "post_id": 32617904, "comment_id": 53086806, "body": "<a href=\"https://github.com/enthought/comtypes/issues/86\" rel=\"nofollow noreferrer\">github.com/enthought/comtypes/issues/86</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1442438075, "post_id": 32618492, "comment_id": 53088223, "body": "you also mentioned ctypes.c_float"}, {"owner": {"reputation": 156, "user_id": 4433481, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7KAxq0b7mm0/AAAAAAAAAAI/AAAAAAAABfA/KvJNWZfmEe8/photo.jpg?sz=128", "display_name": "Chris Farrow", "link": "https://stackoverflow.com/users/4433481/chris-farrow"}, "reply_to_user": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1443631989, "post_id": 32618492, "comment_id": 53575061, "body": "Thanks for pointing that out. I&#39;ve changed my response to refer to <code>ctypes.c_float</code> instead of <code>cython.float</code>."}], "tags": [], "owner": {"reputation": 156, "user_id": 4433481, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7KAxq0b7mm0/AAAAAAAAAAI/AAAAAAAABfA/KvJNWZfmEe8/photo.jpg?sz=128", "display_name": "Chris Farrow", "link": "https://stackoverflow.com/users/4433481/chris-farrow"}, "is_accepted": true, "score": 2, "last_activity_date": 1443631957, "last_edit_date": 1443631957, "creation_date": 1442436881, "answer_id": 32618492, "question_id": 32617904, "link": "https://stackoverflow.com/questions/32617904/python-comtypes-how-to-pass-numpy-float32-singe-precision-float-as-scalar/32618492#32618492", "title": "python comtypes how to pass numpy float32 (singe-precision float) as scalar?", "body": "<p>Passing <code>ctypes.c_float</code> rather than <code>np.float32</code> will work. e.g. <code>com_obj.Update(\"string_name\", ctypes.c_float(6.6e-6))</code>.</p>\n"}], "owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 32618492, "answer_count": 1, "score": 0, "last_activity_date": 1443631957, "creation_date": 1442434643, "last_edit_date": 1442462514, "question_id": 32617904, "link": "https://stackoverflow.com/questions/32617904/python-comtypes-how-to-pass-numpy-float32-singe-precision-float-as-scalar", "title": "python comtypes how to pass numpy float32 (singe-precision float) as scalar?", "body": "<p>According to comtypes documentation is is possible to pass numpy arrays to comtypes objects, but how to I pass scalar values, e.g. <code>numpy.float32(1.0)</code>?</p>\n\n<p><a href=\"https://pythonhosted.org/comtypes/#numpy-interop\" rel=\"nofollow\">https://pythonhosted.org/comtypes/#numpy-interop</a></p>\n\n<p>I get following error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nArgumentError                             Traceback (most recent call last)\n&lt;ipython-input-67-9e7e5859c6a5&gt; in &lt;module&gt;()\n----&gt; 1 com_obj.Update(\"string_name\",np.float32(6.6e-6))\nArgumentError: argument 2: &lt;type 'exceptions.TypeError'&gt;: Cannot put 6.5999998e-06 in VARIANT\n</code></pre>\n"}, {"tags": ["python", "performance", "linked-list"], "comments": [{"owner": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "edited": false, "score": 3, "creation_date": 1442435167, "post_id": 32617867, "comment_id": 53086763, "body": "If you need a linked list in Python you can simply use <code>collections.deque</code> (to some extent). Since its guts are written in C, it will be faster and more efficient than your stuff in pure Python."}, {"owner": {"reputation": 12969, "user_id": 1394590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7hwje.jpg?s=128&g=1", "display_name": "bgusach", "link": "https://stackoverflow.com/users/1394590/bgusach"}, "edited": false, "score": 0, "creation_date": 1442435992, "post_id": 32617867, "comment_id": 53087180, "body": "I added my two cents already, but I would like to know what are your reasons to use a linked list"}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 4705524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac9b078ba0c0ec39d586a384b031bb76?s=128&d=identicon&r=PG&f=1", "display_name": "Valence", "link": "https://stackoverflow.com/users/4705524/valence"}, "edited": false, "score": 0, "creation_date": 1442435176, "post_id": 32617928, "comment_id": 53086767, "body": "Could you be more explicative and provide a code example, please? I&#39;d appreciate it very much."}, {"owner": {"reputation": 11350, "user_id": 1172714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b9325e81df235c9f3fbadd082ab651?s=128&d=identicon&r=PG", "display_name": "dsh", "link": "https://stackoverflow.com/users/1172714/dsh"}, "reply_to_user": {"reputation": 171, "user_id": 4705524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac9b078ba0c0ec39d586a384b031bb76?s=128&d=identicon&r=PG&f=1", "display_name": "Valence", "link": "https://stackoverflow.com/users/4705524/valence"}, "edited": false, "score": 0, "creation_date": 1442436276, "post_id": 32617928, "comment_id": 53087323, "body": "I didn&#39;t provide a code example because this sounds like a homework assignment.  Other answers show the code using a generator to maintain the state."}], "tags": [], "owner": {"reputation": 11350, "user_id": 1172714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b9325e81df235c9f3fbadd082ab651?s=128&d=identicon&r=PG", "display_name": "dsh", "link": "https://stackoverflow.com/users/1172714/dsh"}, "is_accepted": false, "score": 0, "last_activity_date": 1442434739, "creation_date": 1442434739, "answer_id": 32617928, "question_id": 32617867, "link": "https://stackoverflow.com/questions/32617867/how-would-a-linked-list-be-faster-in-iteration-with-iter-and-next-or-wi/32617928#32617928", "title": "How would a linked list be faster in iteration? with __iter__ and __next__ or with __getitem__?", "body": "<p>Define <code>__iter__</code>: return an iterator that keeps a reference to the current node.  Then it can get the next node in <code>O(1)</code>.  <code>__getitem__</code> traverses to the requested node in <code>O(n)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 12969, "user_id": 1394590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7hwje.jpg?s=128&g=1", "display_name": "bgusach", "link": "https://stackoverflow.com/users/1394590/bgusach"}, "is_accepted": true, "score": 2, "last_activity_date": 1442436271, "last_edit_date": 1442436271, "creation_date": 1442435161, "answer_id": 32618046, "question_id": 32617867, "link": "https://stackoverflow.com/questions/32617867/how-would-a-linked-list-be-faster-in-iteration-with-iter-and-next-or-wi/32618046#32618046", "title": "How would a linked list be faster in iteration? with __iter__ and __next__ or with __getitem__?", "body": "<p>This would be slightly more efficient, since it gets rid of some variable assignments and comparisons. </p>\n\n<pre><code>def __getitem__(self, i):\n    if i &gt;= len(self):\n        raise IndexError(\"Index out of range.\")\n\n    current = self.head\n    for _ in xrange(i):\n        current = current.next\n\n    return current\n</code></pre>\n\n<p>However, random access on a linked list will be always at least <code>O(n)</code>. If you are not looking for random access but pure iteration, <code>__iter__</code> is the way to go, because iterating with the combination of <code>__len__</code> and <code>__getitem__</code>  will be <code>O(n^2)</code>, which is quite horrible. You can do something like this:</p>\n\n<pre><code>def __iter__(self):\n    current = self.head\n\n    while current:\n        yield current\n        current = current.next\n</code></pre>\n\n<p>You don't have to provide any <code>__next__</code> or <code>next</code> method. <code>yield</code>ing from a method is enough.</p>\n"}, {"comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 1, "creation_date": 1442436061, "post_id": 32618128, "comment_id": 53087220, "body": "Just change the loop to <code>while current:</code> and remove the condition. Would also deal with an empty list."}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1442436160, "post_id": 32618128, "comment_id": 53087262, "body": "A linked list always breaks, when it contains two equal objects!"}, {"owner": {"reputation": 12969, "user_id": 1394590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7hwje.jpg?s=128&g=1", "display_name": "bgusach", "link": "https://stackoverflow.com/users/1394590/bgusach"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1442436161, "post_id": 32618128, "comment_id": 53087265, "body": "@achampion, and what if <code>None</code> is contained in the list?"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1442436242, "post_id": 32618128, "comment_id": 53087308, "body": "None as a value in the Node, would be <code>Node.value,</code> which is never referenced. Should work fine as this will only exit when the Node is None (i.e. end of list)."}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1442436244, "last_edit_date": 1442436244, "creation_date": 1442435484, "answer_id": 32618128, "question_id": 32617867, "link": "https://stackoverflow.com/questions/32617867/how-would-a-linked-list-be-faster-in-iteration-with-iter-and-next-or-wi/32618128#32618128", "title": "How would a linked list be faster in iteration? with __iter__ and __next__ or with __getitem__?", "body": "<p>Define a <code>__iter__</code> method:</p>\n\n<pre><code>def __iter__(self):\n    current = self.head\n    while current:\n        yield current\n        current = current.next\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 4705524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac9b078ba0c0ec39d586a384b031bb76?s=128&d=identicon&r=PG&f=1", "display_name": "Valence", "link": "https://stackoverflow.com/users/4705524/valence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 32618046, "answer_count": 3, "score": 0, "last_activity_date": 1442436271, "creation_date": 1442434504, "question_id": 32617867, "link": "https://stackoverflow.com/questions/32617867/how-would-a-linked-list-be-faster-in-iteration-with-iter-and-next-or-wi", "title": "How would a linked list be faster in iteration? with __iter__ and __next__ or with __getitem__?", "body": "<p>I am basically trying to emulate some characteristics of python's lists with the following linked list:</p>\n\n<pre><code>class List:\n\n    def __init__(self):\n        self.head = None\n        self.tail = None\n        self.length = 0\n\n    def append(self, value):\n        node = Node(value)\n        if not self.head:\n            self.head = self.tail = node\n        else:\n            tail = self.tail\n            tail.next = node\n            self.tail = node\n        self.length += 1\n\n    def __len__(self):\n        return self.length\n\n    def __getitem__(self, i):\n        if i &gt;= len(self):\n            raise IndexError(\"Index out of range.\")\n        elif i &lt; len(self):\n            index = 0\n            current = self.head\n            while index &lt;= i:\n                if index == i:\n                    return current\n                current = current.next\n                index += 1\n\n    def __contains__(self, value):\n        for node in self:\n            if value == node.value:\n                return True\n        return False\n\nclass Node:\n\n    def __init__(self, value, n=None):\n        self.next = n\n        self.value = value\n</code></pre>\n\n<p>So I need to make this linked list as efficient as possible, specially when looping through a big instance of it. Is there any way to improve my <strong>getitem</strong> implementation or an alternative use of <strong>iter</strong> and <strong>next</strong> to maximize performance <strong>without using any kind of python's built-in data structures</strong>, such as lists or tuples? If anyone could come up with any code examples, I would be grateful.</p>\n"}, {"tags": ["python", "firefox", "selenium"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1442434897, "post_id": 32617839, "comment_id": 53086625, "body": "<code>application&#47;csv</code> and <code>application&#47;download</code> is usually all you need. Try: <code>profile.set_preference(&#39;browser.helperApps.neverAsk.saveToDi&zwnj;&#8203;sk&#39;, &#39;application&#47;csv,application&#47;download&#39;)</code>. Are you sure you are passing <code>profile</code> to the <code>webdriver.Firefox</code> instance?"}, {"owner": {"reputation": 3719, "user_id": 4765705, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ef22060315fb9245245ffadf43e11c2?s=128&d=identicon&r=PG&f=1", "display_name": "collarblind", "link": "https://stackoverflow.com/users/4765705/collarblind"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1442492391, "post_id": 32617839, "comment_id": 53109324, "body": "I tried that and it still does not work and yea it&#39;s passing the profile in the webdriver. driver = webdriver.Firefox(profile)"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1442862644, "post_id": 32617839, "comment_id": 53248904, "body": "Is this a public site and you can share the link to it (assuming it&#39;s possible to register)?"}, {"owner": {"reputation": 3719, "user_id": 4765705, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ef22060315fb9245245ffadf43e11c2?s=128&d=identicon&r=PG&f=1", "display_name": "collarblind", "link": "https://stackoverflow.com/users/4765705/collarblind"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1442862669, "post_id": 32617839, "comment_id": 53248914, "body": "It&#39;s a private site only available in network"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1442862712, "post_id": 32617839, "comment_id": 53248937, "body": "Can you upload the csv file (empty one) somewhere for us to test?"}, {"owner": {"reputation": 3719, "user_id": 4765705, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ef22060315fb9245245ffadf43e11c2?s=128&d=identicon&r=PG&f=1", "display_name": "collarblind", "link": "https://stackoverflow.com/users/4765705/collarblind"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1442863009, "post_id": 32617839, "comment_id": 53249087, "body": "here you go <a href=\"http://www.filedropper.com/report5\" rel=\"nofollow noreferrer\">filedropper.com/report5</a>"}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 6, "last_activity_date": 1442865057, "last_edit_date": 1495542573, "creation_date": 1442863670, "answer_id": 32703102, "question_id": 32617839, "link": "https://stackoverflow.com/questions/32617839/selenium-firefox-profile-never-ask-not-working/32703102#32703102", "title": "Selenium firefox profile never ask not working", "body": "<p><a href=\"https://stackoverflow.com/a/2753385/771848\"><code>magic</code></a> Python module says it's <code>text/plain</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import magic\n&gt;&gt;&gt; mime = magic.Magic(mime=True)\n&gt;&gt;&gt; mime.from_file(\"report.csv\")\n'text/plain'\n</code></pre>\n\n<p>The final preference (also leaving <code>application/csv</code> and <code>application/download</code> and adding <code>application/octet-stream</code> and <code>text/csv</code> to be safe):</p>\n\n<pre><code>profile.set_preference('browser.helperApps.neverAsk.saveToDisk', 'text/plain,text/csv,application/csv,application/download,application/octet-stream')\n</code></pre>\n"}], "owner": {"reputation": 3719, "user_id": 4765705, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ef22060315fb9245245ffadf43e11c2?s=128&d=identicon&r=PG&f=1", "display_name": "collarblind", "link": "https://stackoverflow.com/users/4765705/collarblind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1367, "favorite_count": 1, "accepted_answer_id": 32703102, "answer_count": 1, "score": 0, "last_activity_date": 1442865057, "creation_date": 1442434428, "last_edit_date": 1442512048, "question_id": 32617839, "link": "https://stackoverflow.com/questions/32617839/selenium-firefox-profile-never-ask-not-working", "title": "Selenium firefox profile never ask not working", "body": "<p>I am trying to save a csv file without the popup box. I followed the following link to figure out my mime:</p>\n\n<p><a href=\"http://watirmelon.com/2011/09/07/determining-file-mime-types-to-autosave-using-firefox-watir-webdriver/\" rel=\"nofollow\">http://watirmelon.com/2011/09/07/determining-file-mime-types-to-autosave-using-firefox-watir-webdriver/</a></p>\n\n<p>I even added all the NC_values from the mimeTypes.rdf file. But, it does not seem to be working.</p>\n\n<pre><code>profile = webdriver.FirefoxProfile()\nprofile.set_preference('browser.download.folderList', 2)\nprofile.set_preference('browser.download.manager.showWhenStarting', False)\nprofile.set_preference('browser.download.dir', os.getcwd())\nprofile.set_preference('browser.helperApps.neverAsk.saveToDisk', 'irc,ircs,webcal,application/csv,application/download,application/pdf')\n</code></pre>\n\n<p>mimeTypes.rdf</p>\n\n<pre><code>&lt;RDF:RDF xmlns:NC=\"http://home.netscape.com/NC-rdf#\"\n         xmlns:RDF=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"&gt;\n  &lt;RDF:Seq RDF:about=\"urn:schemes:root\"&gt;\n    &lt;RDF:li RDF:resource=\"urn:scheme:webcal\"/&gt;\n    &lt;RDF:li RDF:resource=\"urn:scheme:ircs\"/&gt;\n    &lt;RDF:li RDF:resource=\"urn:scheme:mailto\"/&gt;\n    &lt;RDF:li RDF:resource=\"urn:scheme:irc\"/&gt;\n  &lt;/RDF:Seq&gt;\n  &lt;RDF:Description RDF:about=\"urn:scheme:mailto\"\n                   NC:value=\"mailto\"&gt;\n    &lt;NC:handlerProp RDF:resource=\"urn:scheme:handler:mailto\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:handler:web:https://30boxes.com/external/widget?refer=ff&amp;amp;url=%s\"\n                   NC:prettyName=\"30 Boxes\"\n                   NC:uriTemplate=\"https://30boxes.com/external/widget?refer=ff&amp;amp;url=%s\" /&gt;\n  &lt;RDF:Description RDF:about=\"urn:scheme:irc\"\n                   NC:value=\"irc\"&gt;\n    &lt;NC:handlerProp RDF:resource=\"urn:scheme:handler:irc\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:scheme:handler:mailto\"\n                   NC:useSystemDefault=\"true\"\n                   NC:alwaysAsk=\"false\"&gt;\n    &lt;NC:possibleApplication RDF:resource=\"urn:handler:web:https://compose.mail.yahoo.com/?To=%s\"/&gt;\n    &lt;NC:possibleApplication RDF:resource=\"urn:handler:web:https://mail.google.com/mail/?extsrc=mailto&amp;amp;url=%s\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:handler:web:https://mail.google.com/mail/?extsrc=mailto&amp;amp;url=%s\"\n                   NC:prettyName=\"Gmail\"\n                   NC:uriTemplate=\"https://mail.google.com/mail/?extsrc=mailto&amp;amp;url=%s\" /&gt;\n  &lt;RDF:Description RDF:about=\"urn:scheme:handler:webcal\"\n                   NC:useSystemDefault=\"true\"\n                   NC:alwaysAsk=\"true\"&gt;\n    &lt;NC:possibleApplication RDF:resource=\"urn:handler:web:https://30boxes.com/external/widget?refer=ff&amp;amp;url=%s\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:mimetype:application/pdf\"\n                   NC:value=\"application/pdf\"&gt;\n    &lt;NC:handlerProp RDF:resource=\"urn:mimetype:handler:application/pdf\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:scheme:ircs\"\n                   NC:value=\"ircs\"&gt;\n    &lt;NC:handlerProp RDF:resource=\"urn:scheme:handler:ircs\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:scheme:handler:ircs\"\n                   NC:alwaysAsk=\"true\"&gt;\n    &lt;NC:possibleApplication RDF:resource=\"urn:handler:web:https://www.mibbit.com/?url=%s\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:mimetype:handler:application/download\"\n                   NC:alwaysAsk=\"true\" /&gt;\n  &lt;RDF:Description RDF:about=\"urn:mimetype:application/csv\"\n                   NC:value=\"application/csv\"\n                   NC:editable=\"true\"\n                   NC:fileExtensions=\"csv\"\n                   NC:description=\"Microsoft Excel Comma Separated Values File\"&gt;\n    &lt;NC:handlerProp RDF:resource=\"urn:mimetype:handler:application/csv\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:schemes\"&gt;\n    &lt;NC:Protocol-Schemes RDF:resource=\"urn:schemes:root\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:handler:web:https://compose.mail.yahoo.com/?To=%s\"\n                   NC:prettyName=\"Yahoo! Mail\"\n                   NC:uriTemplate=\"https://compose.mail.yahoo.com/?To=%s\" /&gt;\n  &lt;RDF:Description RDF:about=\"urn:handler:web:https://www.mibbit.com/?url=%s\"\n                   NC:prettyName=\"Mibbit\"\n                   NC:uriTemplate=\"https://www.mibbit.com/?url=%s\" /&gt;\n  &lt;RDF:Seq RDF:about=\"urn:mimetypes:root\"&gt;\n    &lt;RDF:li RDF:resource=\"urn:mimetype:application/pdf\"/&gt;\n    &lt;RDF:li RDF:resource=\"urn:mimetype:application/download\"/&gt;\n    &lt;RDF:li RDF:resource=\"urn:mimetype:application/csv\"/&gt;\n  &lt;/RDF:Seq&gt;\n  &lt;RDF:Description RDF:about=\"urn:scheme:handler:irc\"\n                   NC:alwaysAsk=\"true\"&gt;\n    &lt;NC:possibleApplication RDF:resource=\"urn:handler:web:https://www.mibbit.com/?url=%s\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:mimetype:handler:application/csv\"\n                   NC:alwaysAsk=\"true\" /&gt;\n  &lt;RDF:Description RDF:about=\"urn:mimetypes\"&gt;\n    &lt;NC:MIME-types RDF:resource=\"urn:mimetypes:root\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:mimetype:application/download\"\n                   NC:value=\"application/download\"\n                   NC:editable=\"true\"\n                   NC:fileExtensions=\"csv\"\n                   NC:description=\"Microsoft Excel Comma Separated Values File\"&gt;\n    &lt;NC:handlerProp RDF:resource=\"urn:mimetype:handler:application/download\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:scheme:webcal\"\n                   NC:value=\"webcal\"&gt;\n    &lt;NC:handlerProp RDF:resource=\"urn:scheme:handler:webcal\"/&gt;\n  &lt;/RDF:Description&gt;\n  &lt;RDF:Description RDF:about=\"urn:mimetype:handler:application/pdf\"\n                   NC:handleInternal=\"true\"\n                   NC:alwaysAsk=\"false\" /&gt;\n  &lt;RDF:Description RDF:about=\"urn:root\"\n                   NC:en-US_defaultHandlersVersion=\"4\" /&gt;\n&lt;/RDF:RDF&gt;\n</code></pre>\n\n<p>my full code:</p>\n\n<pre><code>profile = webdriver.FirefoxProfile()\nprofile.set_preference('browser.download.folderList', 2)\nprofile.set_preference('browser.download.manager.showWhenStarting', False)\nprofile.set_preference('browser.download.dir', os.getcwd())\nprofile.set_preference('browser.helperApps.neverAsk.saveToDisk', 'application/csv,application/download')\n\ndriver = webdriver.Firefox(profile)\ndriver.get(url)\n\ntime.sleep(5)\n\ndriver.switch_to.frame(\"main\")\nelem = driver.find_element_by_name('username')\nelem.send_keys(username)\nelem = driver.find_element_by_name(\"password\")\nelem.send_keys(password)\nelem.send_keys(Keys.RETURN)\n\ndriver.find_element_by_xpath(\".//*[@id='wrap']/div/div/div/div/div/div/div/div/div/div/div[2]/div/div/div/div[1]/div/span/span[2]/div[2]/table/tbody/tr/td[2]\").click()\ntime.sleep(10)\ndriver.find_element_by_xpath(\".//*[@id='scrollable']/div/div/div[1]/ul/li[1]/ul/li[2]/a[2]\").click()\ntime.sleep(10)\n\n#download report\ntry:\n    driver.switch_to.window(driver.window_handles[1])\n    element = WebDriverWait(driver,30).until(EC.presence_of_element_located((By.XPATH,\".//*[@id='datablock']/div[5]/div[1]/div[10]/div[12]/input\")))\n    driver.find_element_by_xpath(\".//*[@id='datablock']/div[5]/div[1]/div[10]/div[12]/input\").clear()\n    driver.find_element_by_xpath(\".//*[@id='datablock']/div[5]/div[1]/div[10]/div[12]/input\").send_keys(fromDate)\n\n    driver.find_element_by_xpath(\".//*[@id='datablock']/div[5]/div[1]/div[10]/div[13]/input\").clear()\n    driver.find_element_by_xpath(\".//*[@id='datablock']/div[5]/div[1]/div[10]/div[13]/input\").send_keys(toDate)\n\n    driver.find_element_by_xpath(\".//*[@id='datablock']/div[1]/div[2]/a[2]\").click()\n    driver.find_element_by_xpath(\"html/body/div[8]/ul/li/span\").click()\n    driver.find_element_by_xpath(\".//*[@id='datablock']/div[1]/div[2]/a[3]\").click()\nexcept:\n        print 'error'\n</code></pre>\n"}, {"tags": ["python", "json", "pandas"], "comments": [{"owner": {"reputation": 1836, "user_id": 1153897, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6121fb0ca0c4926ba78c444f9c8a6a14?s=128&d=identicon&r=PG", "display_name": "Constantino", "link": "https://stackoverflow.com/users/1153897/constantino"}, "edited": false, "score": 0, "creation_date": 1442434458, "post_id": 32617812, "comment_id": 53086366, "body": "have you tried using the from_dict() function?"}], "answers": [{"tags": [], "owner": {"reputation": 1836, "user_id": 1153897, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6121fb0ca0c4926ba78c444f9c8a6a14?s=128&d=identicon&r=PG", "display_name": "Constantino", "link": "https://stackoverflow.com/users/1153897/constantino"}, "is_accepted": true, "score": 1, "last_activity_date": 1442435261, "creation_date": 1442435261, "answer_id": 32618069, "question_id": 32617812, "link": "https://stackoverflow.com/questions/32617812/how-to-put-flat-json-data-into-python-data-frame/32618069#32618069", "title": "How to put &#39;flat&#39; json data into python data frame?", "body": "<pre><code>df = pd.DataFrame.from_dict(data['value']['data'])\ndf.set_index(['channel_id'], inplace=True)\n</code></pre>\n"}], "owner": {"reputation": 433, "user_id": 4797120, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/b745f046915af86cafebfd87902fa5d0?s=128&d=identicon&r=PG&f=1", "display_name": "bpr", "link": "https://stackoverflow.com/users/4797120/bpr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 32618069, "answer_count": 1, "score": 1, "last_activity_date": 1442435261, "creation_date": 1442434286, "last_edit_date": 1442434341, "question_id": 32617812, "link": "https://stackoverflow.com/questions/32617812/how-to-put-flat-json-data-into-python-data-frame", "title": "How to put &#39;flat&#39; json data into python data frame?", "body": "<p>I'm making an API request and getting data that I'm not sure how to deal with. I would like to have all the data within a pandas dataframe with the 'channel_id' as rows (or index I suppose) and all of the other info as columns. </p>\n\n<p>This is the call I make:</p>\n\n<pre><code>with requests.Session() as s:\n    r1 = s.post(url_post,data=payload)\n    r2 = s.get(url_get)\n\ndata = r2.json()\n</code></pre>\n\n<p>And here is what the data looks like:</p>\n\n<pre><code>{u'value': {u'data': [{u'avg_revenue': u'0.006585714285714286',\nu'avg_revenue_usd': u'0.006585714285714286',\nu'channel_id': u'95622',\nu'channel_name': u'game',\nu'clicks': u'0',\nu'coverage': u'6035',\nu'cpi': u'0.006585714285714286',\nu'cpi_usd': u'0.0066',\nu'cpm': u'6.585714285714286',\nu'cpm_usd': u'6.58570',\nu'ctr': u'0.0000',\nu'currency_code': u'USD',\nu'ecpm': u'0.007598483599802209',\nu'ecpm_usd': u'0.00760',\nu'fill_rate': u'0.0012',\nu'high_revenue': u'0.024',\nu'high_revenue_usd': u'0.024000',\nu'impressions': u'7',\nu'low_revenue': u'0.0221',\nu'low_revenue_usd': u'0.000000',\nu'net_cpm': u'6.3692857142857140',\nu'net_cpm_usd': u'6.36930',\nu'payout': u'0.044585000000',\nu'payout_usd': u'0.044585',\nu'publisher_id': u'#######',\nu'publisher_name': u'Agency',\nu'queries': u'6067',\nu'results': u'17561',\nu'revenue': u'0.0461',\nu'revenue_usd': u'0.0461'},\n....\n{u'avg_revenue': u'7.368266666666667',\nu'avg_revenue_usd': u'7.368266666666667',\nu'channel_id': u'122795',\nu'channel_name': u'BT3',\nu'clicks': u'26',\nu'coverage': u'495022',\nu'cpi': u'0.007470361608651572',\nu'cpi_usd': u'0.0075',\nu'cpm': u'7.470361608651572',\nu'cpm_usd': u'7.47040',\nu'ctr': u'0.0088',\nu'currency_code': u'USD',\nu'ecpm': u'0.01847035191331348',\nu'ecpm_usd': u'0.01850',\nu'fill_rate': u'0.0025',\nu'high_revenue': u'22.1048',\nu'high_revenue_usd': u'5.466700',\nu'impressions': u'2959',\nu'low_revenue': u'22.1048',\nu'low_revenue_usd': u'0.000000',\nu'net_cpm': u'7.0342510983440350',\nu'net_cpm_usd': u'7.03430',\nu'payout': u'20.814349000000',\nu'payout_usd': u'20.814349',\nu'publisher_id': u'#######',\nu'publisher_name': u'Agency',\nu'queries': u'1196772',\nu'results': u'1425193',\nu'revenue': u'22.1048',\nu'revenue_usd': u'22.1048'}]}}\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 12164, "user_id": 1268964, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8O92d.jpg?s=128&g=1", "display_name": "Igor Barinov", "link": "https://stackoverflow.com/users/1268964/igor-barinov"}, "edited": false, "score": 2, "creation_date": 1442444846, "post_id": 32619781, "comment_id": 53090723, "body": "Thanks, it works. I also found that I can do it with numpy <code>np.asscalar((mode(df[&#39;Label&#39;])[0]))</code>"}, {"owner": {"reputation": 324, "user_id": 3187398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60fcbe1cab6d7ea53b06823d766f0f9?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/3187398/james"}, "edited": false, "score": 1, "creation_date": 1442938823, "post_id": 32619781, "comment_id": 53286348, "body": "For the first case, <code>df.fillna</code> takes an <code>inplace</code> keyword that you can set to <code>True</code> that makes for slightly more concise code."}, {"owner": {"reputation": 134, "user_id": 7027147, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cZFtRCipWcU/AAAAAAAAAAI/AAAAAAAAJNc/FwbL02cx4OQ/photo.jpg?sz=128", "display_name": "Bharat Ram Ammu", "link": "https://stackoverflow.com/users/7027147/bharat-ram-ammu"}, "edited": false, "score": 1, "creation_date": 1561474638, "post_id": 32619781, "comment_id": 100071406, "body": "Didn&#39;t think of/know that .iloc[0] would be applicable for even df.mode(). Though df.mode() would work like df.mean(). Thanks for this!"}, {"owner": {"reputation": 91, "user_id": 10683916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BbHcz.png?s=128&g=1", "display_name": "Tejj", "link": "https://stackoverflow.com/users/10683916/tejj"}, "edited": false, "score": 0, "creation_date": 1605594146, "post_id": 32619781, "comment_id": 114690793, "body": "Thanks it worked for me as well, but is there a way to highlight imputed values, just for cross verification."}], "tags": [], "owner": {"reputation": 4515, "user_id": 4016674, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0794ef4d308e37cd2f51a23b25488e13?s=128&d=identicon&r=PG&f=1", "display_name": "hellpanderr", "link": "https://stackoverflow.com/users/4016674/hellpanderr"}, "is_accepted": true, "score": 81, "last_activity_date": 1540476279, "last_edit_date": 1540476279, "creation_date": 1442442327, "answer_id": 32619781, "question_id": 32617811, "link": "https://stackoverflow.com/questions/32617811/imputation-of-missing-values-for-categories-in-pandas/32619781#32619781", "title": "Imputation of missing values for categories in pandas", "body": "<p>You can use <code>df = df.fillna(df['Label'].value_counts().index[0])</code> to fill NaNs with the most frequent value from one column. </p>\n\n<p>If you want to fill every column with its own most frequent value you can use </p>\n\n<p><code>df = df.apply(lambda x:x.fillna(x.value_counts().index[0]))</code></p>\n\n<p><strong>UPDATE 2018-25-10</strong> \u2b07</p>\n\n<p>Starting from <code>0.13.1</code> pandas includes <code>mode</code> method for <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.mode.html?highlight=mode#pandas.Series.mode\" rel=\"noreferrer\">Series</a> and <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.mode.html\" rel=\"noreferrer\">Dataframes</a>.\nYou can use it to fill missing values for each column (using its own most frequent value) like this</p>\n\n<pre><code>df = df.fillna(df.mode().iloc[0])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 5468637, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J8-r1DR7Dv0/AAAAAAAAAAI/AAAAAAAAATw/QUEWsEvDhUo/photo.jpg?sz=128", "display_name": "Pratik Gohil", "link": "https://stackoverflow.com/users/5468637/pratik-gohil"}, "is_accepted": false, "score": 6, "last_activity_date": 1533453436, "creation_date": 1533453436, "answer_id": 51692233, "question_id": 32617811, "link": "https://stackoverflow.com/questions/32617811/imputation-of-missing-values-for-categories-in-pandas/51692233#51692233", "title": "Imputation of missing values for categories in pandas", "body": "<pre><code>def fillna(col):\n    col.fillna(col.value_counts().index[0], inplace=True)\n    return col\ndf=df.apply(lambda col:fillna(col))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1002, "user_id": 10565773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40441b070c35533ffafe21809dfcf787?s=128&d=identicon&r=PG&f=1", "display_name": "kevins_1", "link": "https://stackoverflow.com/users/10565773/kevins-1"}, "is_accepted": false, "score": 0, "last_activity_date": 1565642636, "creation_date": 1565642636, "answer_id": 57468015, "question_id": 32617811, "link": "https://stackoverflow.com/questions/32617811/imputation-of-missing-values-for-categories-in-pandas/57468015#57468015", "title": "Imputation of missing values for categories in pandas", "body": "<p>In more recent versions of scikit-learn up you can use <code>SimpleImputer</code> to impute both numerics and categoricals:</p>\n\n<pre><code>import pandas as pd\nfrom sklearn.impute import SimpleImputer\narr = [[1., 'x'], [np.nan, 'y'], [7., 'z'], [7., 'y'], [4., np.nan]]\ndf1 = pd.DataFrame({'x1': [x[0] for x in arr],\n                    'x2': [x[1] for x in arr]},\n                  index=[l for l in 'abcde'])\nimp = SimpleImputer(missing_values=np.nan, strategy='most_frequent')\nprint(pd.DataFrame(imp.fit_transform(df1),\n                   columns=df1.columns,\n                   index=df1.index))\n#   x1 x2\n# a  1  x\n# b  7  y\n# c  7  z\n# d  7  y\n# e  4  y\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 363, "user_id": 12883297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/009c8691d9d2392c343dec31e504b59c?s=128&d=identicon&r=PG&f=1", "display_name": "Chethan", "link": "https://stackoverflow.com/users/12883297/chethan"}, "edited": false, "score": 0, "creation_date": 1601205246, "post_id": 57619882, "comment_id": 113328057, "body": "If we use inplace=True for categorical columns it is not replacing missing values. Can u plz look into it?"}, {"owner": {"reputation": 1070, "user_id": 9080646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35edfbbb134ea175bd166c5fa7769330?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/9080646/sarah"}, "reply_to_user": {"reputation": 363, "user_id": 12883297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/009c8691d9d2392c343dec31e504b59c?s=128&d=identicon&r=PG&f=1", "display_name": "Chethan", "link": "https://stackoverflow.com/users/12883297/chethan"}, "edited": false, "score": 0, "creation_date": 1601258708, "post_id": 57619882, "comment_id": 113341253, "body": "@Chethan, thanks for bringing this up. You just add <code>inplace=True</code>. I have updated the code."}], "tags": [], "owner": {"reputation": 1070, "user_id": 9080646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35edfbbb134ea175bd166c5fa7769330?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/9080646/sarah"}, "is_accepted": false, "score": 2, "last_activity_date": 1601259030, "last_edit_date": 1601259030, "creation_date": 1566534212, "answer_id": 57619882, "question_id": 32617811, "link": "https://stackoverflow.com/questions/32617811/imputation-of-missing-values-for-categories-in-pandas/57619882#57619882", "title": "Imputation of missing values for categories in pandas", "body": "<p>Most of the time, you wouldn't want the same imputing strategy for all the columns.  For example, you may want column mode for categorical variables and column mean or median for numeric columns.</p>\n<p>For example:</p>\n<pre><code>df = pd.DataFrame({'num': [1.,2.,4.,np.nan],'cate1':['a','a','b',np.nan],'cate2':['a','b','b',np.nan]})\n\n# numeric columns\n&gt;&gt;&gt; df.fillna(df.select_dtypes(include='number').mean().iloc[0], inplace=True)\n\n# categorical columns\n&gt;&gt;&gt; df.fillna(df.select_dtypes(include='object').mode().iloc[0], inplace=True)\n\n&gt;&gt;&gt; print(df)\n\n     num cate1 cate2\n 0 1.000     a     a\n 1 2.000     a     b\n 2 4.000     b     b\n 3 2.333     a     b\n</code></pre>\n"}], "owner": {"reputation": 12164, "user_id": 1268964, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8O92d.jpg?s=128&g=1", "display_name": "Igor Barinov", "link": "https://stackoverflow.com/users/1268964/igor-barinov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57003, "favorite_count": 14, "accepted_answer_id": 32619781, "answer_count": 4, "score": 34, "last_activity_date": 1617085988, "creation_date": 1442434277, "last_edit_date": 1617085988, "question_id": 32617811, "link": "https://stackoverflow.com/questions/32617811/imputation-of-missing-values-for-categories-in-pandas", "title": "Imputation of missing values for categories in pandas", "body": "<p>The question is how to fill NaNs with most frequent levels for category column in pandas dataframe?</p>\n\n<p>In R randomForest package there is \n<a href=\"http://lojze.lugos.si/~darja/software/r/library/randomForest/html/na.roughfix.html\" rel=\"noreferrer\">na.roughfix</a> option : <code>A completed data matrix or data frame. For numeric variables, NAs are replaced with column medians. For factor variables, NAs are replaced with the most frequent levels (breaking ties at random). If object contains no NAs, it is returned unaltered.</code></p>\n\n<p>in Pandas for numeric variables I can fill NaN values with :</p>\n\n<pre><code>df = df.fillna(df.median())\n</code></pre>\n"}, {"tags": ["python", "optimization", "particles", "particle-swarm", "swarm"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5662436, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/0464b3c294673fefa18fe7a241197ef1?s=128&d=identicon&r=PG", "display_name": "pjpaul", "link": "https://stackoverflow.com/users/5662436/pjpaul"}, "is_accepted": false, "score": 2, "last_activity_date": 1449728384, "last_edit_date": 1449728384, "creation_date": 1449725152, "answer_id": 34194304, "question_id": 32617686, "link": "https://stackoverflow.com/questions/32617686/implementing-constraints-in-the-pyswarm-pso-function/34194304#34194304", "title": "Implementing constraints in the Pyswarm PSO function", "body": "<pre><code>pso(Function, lb, ub, ieqcons=[constraints], f_ieqcons=None, args=(),kwargs = argss, swarmsize=100, omega=0.5, phip=0.5, phig=0.5, maxiter=100, minstep=1e-8, minfunc=1e-8, debug=False)\n</code></pre>\n\n<p>Where you define constraints as:</p>\n\n<p>def constraints(x):</p>\n\n<pre><code>return x[0] - x[1], x[1] - x[2] \n</code></pre>\n\n<p>Your <code>x[]</code> has <code>A, B, C</code> in it.</p>\n"}], "owner": {"reputation": 51, "user_id": 4471604, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/sWHmF.jpg?s=128&g=1", "display_name": "peasqueeze", "link": "https://stackoverflow.com/users/4471604/peasqueeze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1666, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449728384, "creation_date": 1442433814, "question_id": 32617686, "link": "https://stackoverflow.com/questions/32617686/implementing-constraints-in-the-pyswarm-pso-function", "title": "Implementing constraints in the Pyswarm PSO function", "body": "<p>I am working on a a spectra fitting program that uses Pyswarm's particle swarm optimization. The fitness function is simply an image similarity score between a base microwave spectrum and a spectrum made by each particle in the PSO. The parameters for the particles are the rotational constants A,B,C. </p>\n\n<p>My issue is that I need A>B>C for each particle. Given the format that Pyswarm implements, how would I set up these parameter constraints?</p>\n\n<p><a href=\"http://pythonhosted.org/pyswarm/\" rel=\"nofollow\">Link to pyswarm site</a></p>\n"}, {"tags": ["python", "sorting", "simplejson"], "owner": {"reputation": 2584, "user_id": 1533046, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5b14bb386f1a297ee75b9a73936fbc94?s=128&d=identicon&r=PG", "display_name": "DrStrangepork", "link": "https://stackoverflow.com/users/1533046/drstrangepork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1442437026, "creation_date": 1442433488, "question_id": 32617592, "link": "https://stackoverflow.com/questions/32617592/how-do-i-utilize-the-item-sort-key-feature-of-simplejson", "title": "How do I utilize the item_sort_key feature of simplejson?", "body": "<p>Consider the following json snippet:</p>\n\n<pre><code>[\n    {\n        \"starts_at\": \"2015-09-14 01:07:52\",\n        \"created_at\": \"2015-09-15 00:03:19\",\n        \"guid\": \"335eccaa689c480a91bff731712250d9\"\n    },\n    {\n        \"guid\": \"13f0e832fd0404170ae7501c288d6708\",\n        \"created_at\": \"2015-09-16 00:03:21\",\n        \"starts_at\": \"2015-09-15 00:03:19\"\n    }\n]\n</code></pre>\n\n<p>that I need to be able to sort by \"guid\", such that in this example, I should get this:</p>\n\n<pre><code>[\n    {\n        \"guid\": \"13f0e832fd0404170ae7501c288d6708\",\n        \"created_at\": \"2015-09-16 00:03:21\",\n        \"starts_at\": \"2015-09-15 00:03:19\"\n    },\n    {\n        \"starts_at\": \"2015-09-14 01:07:52\",\n        \"created_at\": \"2015-09-15 00:03:19\",\n        \"guid\": \"335eccaa689c480a91bff731712250d9\"\n    }\n]\n</code></pre>\n\n<p>I did this using <code>jq 'sort_by(.guid)'</code>, but I need to do it using python. I know this can be done by setting <code>item_sort_key</code> to \"guid\", but I cannot find a single example of how to do this. Can anyone help me out please?</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 9136, "user_id": 688393, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3RXeo.jpg?s=128&g=1", "display_name": "C&#233;sar", "link": "https://stackoverflow.com/users/688393/c%c3%a9sar"}, "edited": false, "score": 4, "creation_date": 1442433486, "post_id": 32617538, "comment_id": 53085810, "body": "Don&#39;t use the same variable in all your loops! There are other letters in the alphabet you know? ;-)"}, {"owner": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 0, "creation_date": 1442434124, "post_id": 32617538, "comment_id": 53086181, "body": "You can&#39;t use <code>for i in i</code>, and yes, there are more letters in the alphabet. I recommend a basic tutorial that explains how object iteration and for loops work in Python before trying to do this"}], "answers": [{"tags": [], "owner": {"reputation": 990, "user_id": 1563909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eac544cc95e988ba5f317c3bac442e3?s=128&d=identicon&r=PG", "display_name": "leroyJr", "link": "https://stackoverflow.com/users/1563909/leroyjr"}, "is_accepted": false, "score": 0, "last_activity_date": 1442437619, "last_edit_date": 1442437619, "creation_date": 1442435231, "answer_id": 32618063, "question_id": 32617538, "link": "https://stackoverflow.com/questions/32617538/matching-json-in-python/32618063#32618063", "title": "matching JSON in Python", "body": "<p>The json returned for the stops appears to be a list of dicts.  If I understand what you're asking, you'd like to be able to find a stop by id instead of asking is \"is this the right object in the array?\".  </p>\n\n<p>Transform the stops to be a dict, keyed on the RouteStopID:</p>\n\n<pre><code>stop_dict = {x['RouteStopID']: x for x in stops}  # Dictionary Comprehension\n</code></pre>\n\n<p>Then you can return the appropriate stop information in a single request, instead of looping through the list asking is this my stop?</p>\n\n<p>For example, get stop ID 2 information:</p>\n\n<pre><code>stop_dict.get(2, 'Stop Id not found')\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 2798178, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e1c1a6d7c3d762d3e3db5df4f8843968?s=128&d=identicon&r=PG&f=1", "display_name": "Spacefigher", "link": "https://stackoverflow.com/users/2798178/spacefigher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1442437619, "creation_date": 1442433320, "question_id": 32617538, "link": "https://stackoverflow.com/questions/32617538/matching-json-in-python", "title": "matching JSON in Python", "body": "<p>I don\u2019t know a lot about programming,I am sure my approach to this is completely wrong, but I am trying to import JSON into python and then search it.  The JSON is coming from a bus tracker website. I mostly understand how to import the data but I don\u2019t really get how to use it.  This is what I have now. </p>\n\n<pre><code>import requests\nr = requests.get('http://bustracker.tulsatransit.org/Services/JSONPRelay.svc/GetRouteVehicleEstimates')\ndata = r.json()\n\nstop = requests.get('http://bustracker.tulsatransit.org/Services/JSONPRelay.svc/GetStops')\nstops = stop.json()\n\n\ndef stopname(id):\n for i in stops:\n    if i['RouteStopID'] == id:\n        return i['Description'], id\n    else:\n        return \"i dont know\", i['RouteStopID'], id        \n\n\nfor i in data:\n for i in i['Vehicles']:\n    print i['Name']\n    for i in i['Estimates']:\n        u = i['RouteStopID']\n        print stopname(i['RouteStopID']) , (i['SecondsToStop']/60)\n</code></pre>\n\n<p>I don\u2019t understand how to go though the objects that are numbered. I used \u2018for I\u2019 but it seems messy and the wrong way? Ultimately I want to be able to list estimate times for a particular route.  Is there a way to assign the objects to a variable? So I could call say i[\u2018Name\u2019] else where without the \u201cfor I\u201d mess? would I make that into a function?</p>\n\n<p>My other problem is that the estimate route JSON doesn\u2019t include the description for the StopID Key.  Again don\u2019t really know how to do this but I came up with the function def stopname to search the stopID and return the description. But it doesn\u2019t seem to step through the different objects correctly.</p>\n\n<p>I searched around but couldn't find any examples like this.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "igraph"], "comments": [{"owner": {"reputation": 8843, "user_id": 349948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e06d0e631af3fe3d713e76f2957fb05f?s=128&d=identicon&r=PG", "display_name": "Corley Brigman", "link": "https://stackoverflow.com/users/349948/corley-brigman"}, "edited": false, "score": 0, "creation_date": 1442437463, "post_id": 32617491, "comment_id": 53087916, "body": "is this a multigraph? otherwise <code>ecount</code> <i>is</i> the number of distinct edges... weighting is just an attribute of each edge."}, {"owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "reply_to_user": {"reputation": 8843, "user_id": 349948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e06d0e631af3fe3d713e76f2957fb05f?s=128&d=identicon&r=PG", "display_name": "Corley Brigman", "link": "https://stackoverflow.com/users/349948/corley-brigman"}, "edited": false, "score": 0, "creation_date": 1442439927, "post_id": 32617491, "comment_id": 53089089, "body": "Then how come it returns different values for weighted vs unweighted versions?"}, {"owner": {"reputation": 8843, "user_id": 349948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e06d0e631af3fe3d713e76f2957fb05f?s=128&d=identicon&r=PG", "display_name": "Corley Brigman", "link": "https://stackoverflow.com/users/349948/corley-brigman"}, "edited": false, "score": 0, "creation_date": 1442459811, "post_id": 32617491, "comment_id": 53094201, "body": "from reading online, igraph supports multigraphs from reading that function, so possibly the weights allow it to detect multiple edges, and they don&#39;t without them, not sure. if so, if you just want to know how many links exist in the graph (i.e. if two nodes have more than one edge between them, you only want that counted once), you could probably flatten <code>g.neighbors</code>..."}], "answers": [{"tags": [], "owner": {"reputation": 43955, "user_id": 156771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2163ccb26148ab885d6d827e7cb270a1?s=128&d=identicon&r=PG", "display_name": "Tam&#225;s", "link": "https://stackoverflow.com/users/156771/tam%c3%a1s"}, "is_accepted": true, "score": 2, "last_activity_date": 1442482737, "creation_date": 1442482737, "answer_id": 32627094, "question_id": 32617491, "link": "https://stackoverflow.com/questions/32617491/python-igraph-count-distinct-edges-in-a-weighted-graph/32627094#32627094", "title": "Python igraph: Count distinct edges in a weighted graph", "body": "<p>I'm not sure why the weights matter at all here - <code>Graph.Read_Ncol</code> will simply store the weights as edge attributes and they are not taken into account by <code>g.ecount()</code>. The only thing that could matter here is that <code>Graph.Read_Ncol</code> creates a multigraph for you for some reason (in which case there could be multiple edges between the same pair of vertices). You can get rid of multiple edges (but keep the loop edges) with <code>g.simplify(loops=False)</code> and then you can call <code>g.ecount()</code>.</p>\n"}], "owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 1, "accepted_answer_id": 32627094, "answer_count": 1, "score": 1, "last_activity_date": 1442482737, "creation_date": 1442433147, "last_edit_date": 1442439885, "question_id": 32617491, "link": "https://stackoverflow.com/questions/32617491/python-igraph-count-distinct-edges-in-a-weighted-graph", "title": "Python igraph: Count distinct edges in a weighted graph", "body": "<p>I am using python igraph to create a weighted graph from input files. The point is that I need the number of distinct edges (since this is a weighted graph). I know that </p>\n\n<pre><code>graph.ecount() \n</code></pre>\n\n<p>does not take this into account. I can do it reading the file itself and count number of distinct edges but I wanted to know if the igraph itself has a function or an attribute I can set for ecount to count distinct number of edges. Note that I use the following line of code to create my graphs:</p>\n\n<pre><code>graph= Graph.Read_Ncol(file, names=True, weights=\"if_present\", directed=True)\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-3.x", "if-statement"], "comments": [{"owner": {"reputation": 3602, "user_id": 812786, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AtQA7.png?s=128&g=1", "display_name": "user812786", "link": "https://stackoverflow.com/users/812786/user812786"}, "edited": false, "score": 1, "creation_date": 1442434233, "post_id": 32617482, "comment_id": 53086241, "body": "Your update for case 4 uses <code>==</code>, not <code>=</code>, so it will compare entity.x instead of assigning a new value to it."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1442433554, "post_id": 32617531, "comment_id": 53085848, "body": "Don&#39;t you also need to convert <code>distance</code> to an integer before adding it?"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 2, "last_activity_date": 1442434031, "last_edit_date": 1442434031, "creation_date": 1442433288, "answer_id": 32617531, "question_id": 32617482, "link": "https://stackoverflow.com/questions/32617482/my-if-elif-else-statement-in-python-is-not-working-properly/32617531#32617531", "title": "My if-elif-else statement in Python is not working properly", "body": "<p>It's because of that <a href=\"https://docs.python.org/3/library/functions.html#input\" rel=\"nofollow\"><code>input</code></a> returns a string, thus you need to convert the input to integer to compare with that numbers or just compare with string numbers, Also note that you need to convert the <code>distance</code> to integer before putting it in calculation :</p>\n\n<pre><code>def moveEntity(entity):\n    print('forward=1')\n    print('backward=2')\n    print('left=3')\n    print('right=4')\n    direction = input('Where would you like to move?')\n while True:\n  try :\n    distance = int(input('How many units?'))\n    if direction == '1':\n        entity.y = entity.y + distance\n    elif direction == '2':\n        entity.y = entity.y - distance\n    elif direction == '3':\n        entity.x = entity.x - distance\n    elif direction == '4':\n        entity.x == entity.x + distance\n    #return value\n  except ValueError::\n    print('please enter a valid digit')\n</code></pre>\n\n<p>Note that when you convert an input to an <code>int</code> it can raise an values error so for handling this issue you can use a try-except expression.</p>\n"}, {"tags": [], "owner": {"reputation": 3602, "user_id": 812786, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AtQA7.png?s=128&g=1", "display_name": "user812786", "link": "https://stackoverflow.com/users/812786/user812786"}, "is_accepted": false, "score": 3, "last_activity_date": 1442434410, "creation_date": 1442434410, "answer_id": 32617837, "question_id": 32617482, "link": "https://stackoverflow.com/questions/32617482/my-if-elif-else-statement-in-python-is-not-working-properly/32617837#32617837", "title": "My if-elif-else statement in Python is not working properly", "body": "<p>Two issues here. The first, as noted by the other answers, is that you're comparing an <code>int</code> to a string. So, wrap your <code>input</code>s with <code>int</code>. The second is that you had <code>==</code> in the last assignment, so even if it got to that case, it would not update the value of <code>entity.x</code>. This code should work:</p>\n\n<pre><code>def moveEntity(entity):\n    print('forward=1')\n    print('backward=2')\n    print('left=3')\n    print('right=4')\n    direction = int(input('Where would you like to move?'))\n    distance = int(input('How many units?'))\n\n    if direction == 1:\n        entity.y = entity.y + distance\n    elif direction == 2:\n        entity.y = entity.y - distance\n    elif direction == 3:\n        entity.x = entity.x - distance\n    elif direction == 4:\n        entity.x = entity.x + distance\n    else:\n        print('invalid input')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 437, "user_id": 9347558, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7xuZd.jpg?s=128&g=1", "display_name": "phyyyl", "link": "https://stackoverflow.com/users/9347558/phyyyl"}, "is_accepted": false, "score": 0, "last_activity_date": 1519494046, "creation_date": 1519494046, "answer_id": 48965751, "question_id": 32617482, "link": "https://stackoverflow.com/questions/32617482/my-if-elif-else-statement-in-python-is-not-working-properly/48965751#48965751", "title": "My if-elif-else statement in Python is not working properly", "body": "<p>That's because the input is a string, but the values in your if loop are integers.</p>\n\n<p>Bad:</p>\n\n<pre><code>a = input()\nif a == 1:\n    print(\"hello world\")\n</code></pre>\n\n<p>Good:</p>\n\n<pre><code>a = input()\nif a == \"1\":\n    print(\"hello world\")\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5343908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec0373d0499d1b61df30e6bb523ca5f?s=128&d=identicon&r=PG&f=1", "display_name": "user1234089213048", "link": "https://stackoverflow.com/users/5343908/user1234089213048"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3758, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1519494046, "creation_date": 1442433115, "question_id": 32617482, "link": "https://stackoverflow.com/questions/32617482/my-if-elif-else-statement-in-python-is-not-working-properly", "title": "My if-elif-else statement in Python is not working properly", "body": "<p>Here is my code:</p>\n\n<pre><code>def moveEntity(entity):\n    print('forward=1')\n    print('backward=2')\n    print('left=3')\n    print('right=4')\n    direction = input('Where would you like to move?')\n    distance = input('How many units?')\n\n    if direction == 1:\n        entity.y = entity.y + distance\n    elif direction == 2:\n        entity.y = entity.y - distance\n    elif direction == 3:\n        entity.x = entity.x - distance\n    elif direction == 4:\n        entity.x == entity.x + distance\n    else:\n        print('invalid input')\n</code></pre>\n\n<p>When I run this function, and input any of the 4 options (1,2,3,4), the function always skips the 4 if/elif statements and executes the else statement. I can't figure out what is wrong with the code that I posted above. I have tried printing the values of the variables \"direction\" and \"distance\" after they have been inputted, and they both printed as the correct values. Directly after that, despite running through the if and elif statements, the else statements was still executed. Any help would be appreciated. </p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 3602, "user_id": 812786, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AtQA7.png?s=128&g=1", "display_name": "user812786", "link": "https://stackoverflow.com/users/812786/user812786"}, "edited": false, "score": 0, "creation_date": 1442433378, "post_id": 32617475, "comment_id": 53085758, "body": "Without seeing how your code is structured, I&#39;m not sure what the issue is? If you load the list of data into some python variable with the json module, then you&#39;ll have a variable in memory with all the data. It won&#39;t be re-reading from the json file each time you access the variable, just when you load the data."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1442433386, "post_id": 32617475, "comment_id": 53085762, "body": "load them once on first-usage, then cache in-memory for later re-use. of course, this&#39;d only be useful if you actually USE the data multiple times in a single script run. if you don&#39;t, then the cache will be pointless - you&#39;d have to load everything each time."}, {"owner": {"reputation": 801, "user_id": 4453925, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5ed3fe82ce8ba7a3a4f72b28c1575372?s=128&d=identicon&r=PG&f=1", "display_name": "carusot42", "link": "https://stackoverflow.com/users/4453925/carusot42"}, "edited": false, "score": 0, "creation_date": 1442433874, "post_id": 32617475, "comment_id": 53086033, "body": "I edited the question with an example and to be more specific."}], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 4453925, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5ed3fe82ce8ba7a3a4f72b28c1575372?s=128&d=identicon&r=PG&f=1", "display_name": "carusot42", "link": "https://stackoverflow.com/users/4453925/carusot42"}, "edited": false, "score": 0, "creation_date": 1442434532, "post_id": 32617721, "comment_id": 53086412, "body": "Awesome, this is perfect. Thanks for your answer!"}], "tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": true, "score": 2, "last_activity_date": 1442434276, "last_edit_date": 1442434276, "creation_date": 1442433964, "answer_id": 32617721, "question_id": 32617475, "link": "https://stackoverflow.com/questions/32617475/writing-set-of-functions-that-will-use-data-stored-elsewhere/32617721#32617721", "title": "Writing set of functions that will use data stored elsewhere", "body": "<p>The code in a module body that is not in the <code>def</code>s or <code>class</code>es will be only once - at the module import time.</p>\n\n<hr>\n\n<p>However if your module can be used without loading all of the data, and importing the data is costly, you can use lazy loading:</p>\n\n<pre><code>towns = None\n\ndef _load_towns():\n    global towns\n    with open('path') as f:\n        towns = json.load(f)\n\ndef address_parser(...):\n    # load if towns is None\n    if towns is None:\n        _load_towns()\n</code></pre>\n\n<p>Now the contents will not be loaded at the start-up time, but at the very first time that <code>address_parser</code> is called</p>\n"}, {"tags": [], "owner": {"reputation": 4072, "user_id": 5246906, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/227935ae79fee841eaea7f6641ebec41?s=128&d=identicon&r=PG&f=1", "display_name": "nigel222", "link": "https://stackoverflow.com/users/5246906/nigel222"}, "is_accepted": false, "score": 1, "last_activity_date": 1442437527, "last_edit_date": 1442437527, "creation_date": 1442437062, "answer_id": 32618555, "question_id": 32617475, "link": "https://stackoverflow.com/questions/32617475/writing-set-of-functions-that-will-use-data-stored-elsewhere/32618555#32618555", "title": "Writing set of functions that will use data stored elsewhere", "body": "<p>If the code block you have posted is in a file that is imported, the data is read only once, when you first import the file. Here's a trivial  example. File convert.py:</p>\n\n<pre><code>def to_euro(pounds):                             # function to use context data\n   return pounds * exchange_rate\n\nexchange_rate = input(\"Today's exchange rate: \") # read the context data\n</code></pre>\n\n<p>And using it:</p>\n\n<pre><code>&gt;&gt;&gt; import convert\nToday's exchange rate: 0.85       # the reading of the context data\n&gt;&gt;&gt; convert.exchange_rate\n0.85                              # which was input when the convert module was loaded\n&gt;&gt;&gt; convert.to_euro( 10)          # uses the context data\n8.5\n&gt;&gt;&gt;\n</code></pre>\n\n<p>the conversion data is stored in the convert module global namespace. The first time you import it, you'll be asked for exchange_rate. The next time, you won't, because the module is already imported and convert.exchange_rate is defined. (next time meaning another <code>import convert</code> in some other part of your Python program)</p>\n\n<p>Realisticaly, you'd quietly read a file of exchange rates or whatever that's maintained by other parts of your system. </p>\n\n<p>Another way would be to make Converter a class, obtain the context data when the constructor <code>__init__</code> is called, and store it as <code>self.context</code>. Use <code>self.context</code> in methods of the class that you call repeatedly. If you only ever create one instance, you'll only read the context data once. For the advanced student: make the context data into a class attribute, not an instance attribute, so it gets read only once even if you create multiple converter instances. </p>\n"}], "owner": {"reputation": 801, "user_id": 4453925, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5ed3fe82ce8ba7a3a4f72b28c1575372?s=128&d=identicon&r=PG&f=1", "display_name": "carusot42", "link": "https://stackoverflow.com/users/4453925/carusot42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 32617721, "answer_count": 2, "score": 1, "last_activity_date": 1442437527, "creation_date": 1442433084, "last_edit_date": 1442433847, "question_id": 32617475, "link": "https://stackoverflow.com/questions/32617475/writing-set-of-functions-that-will-use-data-stored-elsewhere", "title": "Writing set of functions that will use data stored elsewhere", "body": "<p>I'm writing a set of python functions that will parse addresses with the help of contextual data, in this case, lists of all towns and zip codes within my state, loaded using the json module. I know how to open, access, and use these data, however currently I am under the impression that if I were to add the code to access these data at the beginning of the file with these functions, then every time the function is called, it will re-open the data. Example below:</p>\n\n<pre><code>import json\n\nwith open('path') as f:\n    towns = json.load(f)\n\nwith open('otherpath') as f:\n    zips = json.load(f)\n\ndef address_parser(string):\n    \"my code here\"\n</code></pre>\n\n<p>If I import the 'address_parser' function for use in another program, will it only load the data once, or will it re-load every time the function is called?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "ftp", "ftplib"], "comments": [{"owner": {"reputation": 3348, "user_id": 2388906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6935981743ccf71ff0b66d19c4d747?s=128&d=identicon&r=PG", "display_name": "Gnarlywhale", "link": "https://stackoverflow.com/users/2388906/gnarlywhale"}, "edited": false, "score": 0, "creation_date": 1442443605, "post_id": 32617391, "comment_id": 53090374, "body": "What kind of server are you running?"}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1442471689, "post_id": 32617391, "comment_id": 53097796, "body": "When you try to retrieve the listing in parts, the overall time will actually increase. So what&#39;s the point? Do you want to provide a feedback to the user about the progress of the listing?"}], "answers": [{"tags": [], "owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "is_accepted": false, "score": 0, "last_activity_date": 1442471618, "creation_date": 1442471618, "answer_id": 32623881, "question_id": 32617391, "link": "https://stackoverflow.com/questions/32617391/python-ftplib-getting-number-of-files-from-ftp/32623881#32623881", "title": "Python ftplib: Getting number of files from FTP", "body": "<p>No there's no standard way to retrieve directory listing by parts in FTP protocol.</p>\n\n<hr>\n\n<p>Some FTP servers do support wildcards in the listing commands (<code>NLST</code> and alike). So you could get first all file starting with <code>a</code>, then with <code>b</code>, etc. But you have to test this specifically with your server, as it is a non-standard behavior. </p>\n"}], "owner": {"reputation": 49, "user_id": 1122680, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/e85622fc8231a883f52098596c2d44a2?s=128&d=identicon&r=PG", "display_name": "Prasath", "link": "https://stackoverflow.com/users/1122680/prasath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1442471761, "creation_date": 1442432778, "last_edit_date": 1442471761, "question_id": 32617391, "link": "https://stackoverflow.com/questions/32617391/python-ftplib-getting-number-of-files-from-ftp", "title": "Python ftplib: Getting number of files from FTP", "body": "<p>Am new to Python and using FTPLib for some reason.</p>\n\n<p>My aim is, am having a server where files with <code>.txt</code> will be stored by different clients very frequently. With <code>nlst()</code> function I could get the files present in the FTP server. But it returns all the files. Since the server has hell lot of files the response time is slow.</p>\n\n<p>Is there any way to get the first twenty elements from the FTP using some function and then next twenty? This way I could improve the response time from FTP server considerably.</p>\n\n<p>Regards</p>\n"}, {"tags": ["python", "orm", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1442437993, "post_id": 32618394, "comment_id": 53088189, "body": "I don&#39;t want to instantiate any of the model classes.  I want to <i>look</i> at the <i>field</i> attributes to present some schema information to the user.  My example shows one method of forcing the creation of the<code>parent</code> attribute without having to instantiate the model class.  I&#39;m hoping there is a global way to force the creation of these attributes."}, {"owner": {"reputation": 135, "user_id": 5050351, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e9c8f73add3df0e29bd00fc8f7582003?s=128&d=identicon&r=PG", "display_name": "Paul Morris", "link": "https://stackoverflow.com/users/5050351/paul-morris"}, "reply_to_user": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1442516643, "post_id": 32618394, "comment_id": 53124688, "body": "The only way Child.parent will exist is through Parent. The backref &#39;parent&#39; is defined in the Parent class, and you did indeed instantiate a Parent and a Child object simply by calling Parent.children.property and Child.parent. Would you mind going into a little more detail about the context of your project? That might make it a little easier to find a solution."}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1442890960, "post_id": 32618394, "comment_id": 53258673, "body": "I want to show schema information, so a user can query a server and find out what fields <code>Child</code> has.  One way to do this is to look at the attributes on the SQLAlchemy classes, but in the case of backrefs, the relationship attributes aren&#39;t created immediately.  How does accessing a class attribute instantiate a class?  Instantiation requires calling the class, like so -- <code>Parent()</code>"}, {"owner": {"reputation": 135, "user_id": 5050351, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e9c8f73add3df0e29bd00fc8f7582003?s=128&d=identicon&r=PG", "display_name": "Paul Morris", "link": "https://stackoverflow.com/users/5050351/paul-morris"}, "reply_to_user": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1442893376, "post_id": 32618394, "comment_id": 53259213, "body": "I apologize. You are correct, you were not instantiating an object of class <code>Parent</code> by calling the class attribute. I may have a solution. I will edit my answer to illustrate it."}], "tags": [], "owner": {"reputation": 135, "user_id": 5050351, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e9c8f73add3df0e29bd00fc8f7582003?s=128&d=identicon&r=PG", "display_name": "Paul Morris", "link": "https://stackoverflow.com/users/5050351/paul-morris"}, "is_accepted": false, "score": 1, "last_activity_date": 1442894198, "last_edit_date": 1442894198, "creation_date": 1442436510, "answer_id": 32618394, "question_id": 32617371, "link": "https://stackoverflow.com/questions/32617371/how-to-force-creation-of-backref-instrumentedattributes-using-sqlalchemy/32618394#32618394", "title": "How to force creation of backref InstrumentedAttributes using SQLAlchemy", "body": "<p>You want to be able to define the backref to your <code>Parent</code> class <em>in</em> the <code>Child</code> class. SQLAlchemy apparently does not have a very streamlined syntax for accomplishing this, but I believe the following will work:</p>\n\n<pre><code>class Parent(base):\n    __tablename__ = 'parent'\n    id = Column(Integer, primary_key=True)\n    children = relationship(Child, order_by=Child.id, backref='child')\n\nclass Child(Base):\n    __tablename__ = 'child'\n    id = Column(Integer, primary_key=True)\n    parent = relationship(Parent, backref=backref('children', order_by=id))\n</code></pre>\n\n<p>I hope this is helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 37852, "user_id": 95735, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/514d88c606d3a571824fb8f0e7f7f3c8?s=128&d=identicon&r=PG", "display_name": "Piotr Dobrogost", "link": "https://stackoverflow.com/users/95735/piotr-dobrogost"}, "is_accepted": true, "score": 1, "last_activity_date": 1456472870, "creation_date": 1456472870, "answer_id": 35646229, "question_id": 32617371, "link": "https://stackoverflow.com/questions/32617371/how-to-force-creation-of-backref-instrumentedattributes-using-sqlalchemy/35646229#35646229", "title": "How to force creation of backref InstrumentedAttributes using SQLAlchemy", "body": "<p><a href=\"https://groups.google.com/d/msg/sqlalchemy/ck5ruftRM9Y/Qkh4hPbRDwAJ\" rel=\"nofollow\">Citing</a> Simon King:</p>\n\n<blockquote>\n  <p>If you want to trigger the creation of all \"pending\" backref\n  attributes, I think you can call\n  <a href=\"http://docs.sqlalchemy.org/en/rel_1_0/orm/mapping_api.html#sqlalchemy.orm.configure_mappers\" rel=\"nofollow\"><code>sqlalchemy.orm.configure_mappers</code></a>:</p>\n  \n  <p>Normally this gets called automatically when you start querying the\n  database, but in certain instances you may want to call it explicitly.</p>\n</blockquote>\n"}], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 1, "accepted_answer_id": 35646229, "answer_count": 2, "score": 2, "last_activity_date": 1456472870, "creation_date": 1442432710, "question_id": 32617371, "link": "https://stackoverflow.com/questions/32617371/how-to-force-creation-of-backref-instrumentedattributes-using-sqlalchemy", "title": "How to force creation of backref InstrumentedAttributes using SQLAlchemy", "body": "<p>In the example below, I want to be able to force the creation of the <code>parent</code> attribute on the <code>Child</code> class.  Currently, it isn't created until the RelationshipProperty attribute on the <code>Parent</code> class that defines the relationship is accessed.</p>\n\n<pre><code>from sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import Column, Integer, ForeignKey\nfrom sqlalchemy.orm import relationship\n\nBase = declarative_base()\n\nclass Parent(Base):\n    __tablename__ = 'parent'\n    id = Column(Integer, primary_key=True)\n    children = relationship('Child', backref='parent')\n\n\nclass Child(Base):\n    __tablename__ = 'child'\n    id = Column(Integer, primary_key=True)\n    parent_id = Column(Integer, ForeignKey('parent.id'))\n\n\n&gt;&gt;&gt; Child.parent\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: type object 'Child' has no attribute 'parent'\n&gt;&gt;&gt; Parent.children.property\n&lt;RelationshipProperty at 0x3dc3b00; children&gt;\n&gt;&gt;&gt; Child.parent\n&lt;sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x0000000004718F60&gt;\n</code></pre>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1442432160, "post_id": 32617204, "comment_id": 53085067, "body": "it should print the first line, show us more code."}, {"owner": {"reputation": 487, "user_id": 746139, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/HLtX9.png?s=128&g=1", "display_name": "adele dazim", "link": "https://stackoverflow.com/users/746139/adele-dazim"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1442432305, "post_id": 32617204, "comment_id": 53085153, "body": "more code added @taesu"}, {"owner": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "edited": false, "score": 0, "creation_date": 1442432379, "post_id": 32617204, "comment_id": 53085200, "body": "The coma at the end of the first <code>print</code> makes it so stdout is not flushed."}, {"owner": {"reputation": 9765, "user_id": 923794, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/39295680c5745451291043469e408c18?s=128&d=identicon&r=PG", "display_name": "cfi", "link": "https://stackoverflow.com/users/923794/cfi"}, "reply_to_user": {"reputation": 1, "user_id": -1, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=128&d=identicon&r=PG", "display_name": "Community", "link": "https://stackoverflow.com/users/-1/community"}, "edited": false, "score": 0, "creation_date": 1442439641, "post_id": 32617204, "comment_id": 53088962, "body": "@Community: Not a duplicate of <a href=\"http://stackoverflow.com/questions/230751/how-to-flush-output-of-python-print\">How to flush output of Python print</a> because that one is about flushing and this one about having a <code>,</code> at the end of the print in Python2 and no final <code>print</code> with a newline. While flushing would solve the issue here by working on the symptoms, the root cause is different. I&#39;d expect Qs on the topic of that comma already, but couldn&#39;t find any."}], "answers": [{"tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": true, "score": 6, "last_activity_date": 1442432535, "creation_date": 1442432535, "answer_id": 32617328, "question_id": 32617204, "link": "https://stackoverflow.com/questions/32617204/print-only-prints-after-functions-are-finished-executing/32617328#32617328", "title": "Print only prints after functions are finished executing", "body": "<pre><code>print \"Fetching info from New Relic....\",\n</code></pre>\n\n<p>The trailing comma means that the print should not add a line break at the end. Most consoles however do not flush the output when there is no line break, so you do not see the output until a line break is also printed.</p>\n\n<p>If you remove the comma, you can see that it will work.</p>\n\n<p>However, you can manually flush the output without printing a new line character. But you need to do that manually:</p>\n\n<pre><code>import sys\nprint \"Fetching info from New Relic....\",\nsys.stdout.flush()\n\n# do stuff\nprint \"Done\"\n</code></pre>\n"}], "owner": {"reputation": 487, "user_id": 746139, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/HLtX9.png?s=128&g=1", "display_name": "adele dazim", "link": "https://stackoverflow.com/users/746139/adele-dazim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2862, "favorite_count": 1, "closed_date": 1442432528, "accepted_answer_id": 32617328, "answer_count": 1, "score": 6, "last_activity_date": 1442432535, "creation_date": 1442432102, "last_edit_date": 1442432258, "question_id": 32617204, "link": "https://stackoverflow.com/questions/32617204/print-only-prints-after-functions-are-finished-executing", "closed_reason": "Duplicate", "title": "Print only prints after functions are finished executing", "body": "<p>I have this code:</p>\n\n<pre><code>def get_endpoint(type):\n    return \"%s/%s.json\" % (v2_endpoint,type)\n\ndef get_entities(type,endpoint=None,entities=None):\n    if not endpoint:\n        endpoint=get_endpoint(type)\n        entities=[]\n    r=requests.get(endpoint,headers=header)\n    entities.extend(r.json()[type])\n    if not 'next' in r.links:\n        return entities\n    else:\n        return get_entities(type,r.links['next']['url'],entities)\n\nprint \"Fetching info from New Relic....\",\nservers = get_entities('servers')\napplications = get_entities('applications')\nprint \"Done.\"\n</code></pre>\n\n<p>I noticed that it doesn't print the first and last print statements until it has processed those functions. Expected behaviour, I presume.</p>\n\n<p>So, how do I make it print the first line before it starts processing the function?</p>\n"}, {"tags": ["python", "dictionary", "nested-lists", "dictionary-comprehension"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1442432068, "post_id": 32617112, "comment_id": 53085027, "body": "If you show code, you should add a language tag."}, {"owner": {"reputation": 109, "user_id": 2954543, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0866c255e532f6e61944ce17a51aa0b9?s=128&d=identicon&r=PG&f=1", "display_name": "nothisispatrick11", "link": "https://stackoverflow.com/users/2954543/nothisispatrick11"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1442432210, "post_id": 32617112, "comment_id": 53085098, "body": "Just did, forgot since I was writing it all up."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1442433636, "post_id": 32617112, "comment_id": 53085886, "body": "@nothisispatrick11, it is just not possible to do what you are trying, all you can do is take a more efficient approach"}], "answers": [{"tags": [], "owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1442432895, "creation_date": 1442432895, "answer_id": 32617424, "question_id": 32617112, "link": "https://stackoverflow.com/questions/32617112/condenseing-converting-a-nested-list-using-dictionary-comprehension/32617424#32617424", "title": "Condenseing/converting a nested list using dictionary comprehension", "body": "<p>The best way is the most obvious way</p>\n\n<pre><code>from collections import defaultdict\nplayerSum = defaultdict(int)\n\nfor key, value in data:\n   playerSum[key] += int(value)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1442433548, "last_edit_date": 1442433548, "creation_date": 1442432908, "answer_id": 32617431, "question_id": 32617112, "link": "https://stackoverflow.com/questions/32617112/condenseing-converting-a-nested-list-using-dictionary-comprehension/32617431#32617431", "title": "Condenseing/converting a nested list using dictionary comprehension", "body": "<p>It is <strong>not</strong> possible to use a dict comprehension as your values would be overwritten, the dict does not get created until the comprehension is finished so even if you could  there is nothing to +=. \nAs it stands unless you have <code>playerSum = {}</code> somewhere your code will error with a NameError, if you do you are simply rebinding the name to the result of your dict comp so <code>playerSum = {}</code> is basically doing nothing.</p>\n\n<p>The only way to do what you want is to along the lines of your own solution . For more efficient approach You can <em>unpack</em> the sublists and cast the second element to int, summing the value using a <code>collections.defaultdict</code>:</p>\n\n<pre><code>from collections import defaultdict\n\nd = defaultdict(int)\n\nfor a,b  in data:\n    d[a] += int(b)\n\nprint(d)\ndefaultdict(&lt;type 'int'&gt;, {'A': 1, 'C': -1, 'B': 7})\n</code></pre>\n\n<p>Or using a regular dict:</p>\n\n<pre><code>d = {}\n\nfor a, b in data:\n    d[a] = d.get(a,0) + int(b)\n\nprint(d)\n{'A': 1, 'C': -1, 'B': 7}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1442437075, "post_id": 32617874, "comment_id": 53087721, "body": "This is incredibly inefficient, the correct answer is it is not possible to do what the OP wants using a regular dict comprehension"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 2, "creation_date": 1442437115, "post_id": 32617874, "comment_id": 53087736, "body": "Isn&#39;t <code>for key in [id for id in set([...])]</code> just <code>for key in set(...)</code> without an unnecessary list constructions? Or simplified: <code>{key: sum(int(v) for k, v in data if k==key) for key in set(k for k, _ in data)}</code>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1442437856, "post_id": 32617874, "comment_id": 53088121, "body": "@achampion, your solution is much cleaner, not to mention being an actual dictionary comprehension.  Thanks!"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1442438159, "post_id": 32617874, "comment_id": 53088273, "body": "Padraic, I think achampion just did it.  I had the right idea, but the wrong syntactic form."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1442439555, "post_id": 32617874, "comment_id": 53088930, "body": "It is still quadratic, each sum does a pass over the data list"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1442440075, "post_id": 32617874, "comment_id": 53089158, "body": "Indeed, very inefficient and would never recommend it."}, {"owner": {"reputation": 109, "user_id": 2954543, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0866c255e532f6e61944ce17a51aa0b9?s=128&d=identicon&r=PG&f=1", "display_name": "nothisispatrick11", "link": "https://stackoverflow.com/users/2954543/nothisispatrick11"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1442445912, "post_id": 32617874, "comment_id": 53090991, "body": "@achampion I wouldn&#39;t use it either but that challenge is to get the code condensed down to two lines (my first line was an importing the data from a text file). I understand everything except the underscore before &quot;in data&quot;. What does that do?"}, {"owner": {"reputation": 109, "user_id": 2954543, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0866c255e532f6e61944ce17a51aa0b9?s=128&d=identicon&r=PG&f=1", "display_name": "nothisispatrick11", "link": "https://stackoverflow.com/users/2954543/nothisispatrick11"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1442446015, "post_id": 32617874, "comment_id": 53091017, "body": "Jk looked it up. Throwaway variable. Got it. Thank you for your help! @achampion. I added your answer to the OP since I can&#39;t mark it."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1442436662, "last_edit_date": 1442436662, "creation_date": 1442434550, "answer_id": 32617874, "question_id": 32617112, "link": "https://stackoverflow.com/questions/32617112/condenseing-converting-a-nested-list-using-dictionary-comprehension/32617874#32617874", "title": "Condenseing/converting a nested list using dictionary comprehension", "body": "<p>I did it in a single comprehension, as you asked.</p>\n\n<pre><code>dict ([(key, sum(int(elem[1]) for elem in data if elem[0]==key)) for key in [id for id in set([elem[0] for elem in data])] ])\n</code></pre>\n\n<p>From outer to inner:</p>\n\n<ul>\n<li><p>Build a set of the ID's used in the list. </p></li>\n<li><p>For each ID, make a list of the associated values.  </p></li>\n<li><p>Sum the list. </p></li>\n<li><p>Emit (yield) the ID and sum as a pair.</p></li>\n<li><p>Turn this list of tuples into a dictionary.</p></li>\n</ul>\n\n<p>Test:</p>\n\n<pre><code>data = [['A', '1'], ['B', '2'], ['C', '3'],\n        ['A', '-2'], ['B', '4'], ['C', '1'],\n        ['A', '2'], ['B', '1'], ['C', '-5']]\nplayerSum = dict ([(key, sum(int(elem[1]) for elem in data if elem[0]==key))\n                   for key in [id for id in set([elem[0] for elem in data])] ])\nprint data\nprint playerSum\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[['A', '1'], ['B', '2'], ['C', '3'], ['A', '-2'], ['B', '4'], ['C', '1'], ['A', '2'], ['B', '1'], ['C', '-5']]\n{'A': 1, 'C': -1, 'B': 7}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "is_accepted": true, "score": 2, "last_activity_date": 1442523855, "last_edit_date": 1442523855, "creation_date": 1442435096, "answer_id": 32618023, "question_id": 32617112, "link": "https://stackoverflow.com/questions/32617112/condenseing-converting-a-nested-list-using-dictionary-comprehension/32618023#32618023", "title": "Condenseing/converting a nested list using dictionary comprehension", "body": "<p>It is not practical to do it as a comprehension.<br>\nJust as an exercise you can use a coroutine to do the counting for you, but you effectively create the dictionary twice:</p>\n\n<pre><code>from collections import defaultdict\ndef count():\n    cache = defaultdict(int)\n    k, v = yield\n    while True:\n        cache[k] += v\n        k, v = yield cache[k]\n\ncounter = count()  # Create coroutine\nnext(counter)      # Prime coroutine\n\ndata = [['A', '1'], ['B', '2'], ['C', '3'], ['A', '-2'], ['B', '4'],\n        ['C', '1'], ['A', '2'], ['B', '1'], ['C', '-5']]\n\n{k: counter.send((k, int(v))) for k, v in data}  # Meets the challenge :)\n</code></pre>\n\n<p><em>Result:</em></p>\n\n<pre><code>{'A': 1, 'B': 7, 'C': -1}\n</code></pre>\n\n<p>Or a truly ugly one-liner that doesn't need a coroutine and isn't quadratic (not a comprehension):</p>\n\n<pre><code>&gt;&gt;&gt; reduce(lambda d, (k,v): d.__setitem__(k, d.get(k,0)+int(v)) or d, data, {})  # Py2.7\n{'A': 1, 'B': 7, 'C': -1}\n</code></pre>\n\n<p>And finally a very inefficient but true dict comprehension based on @Prune:</p>\n\n<pre><code>&gt;&gt;&gt; {key: sum(int(v) for k, v in data if k==key) for key in set(k for k, _ in data)}\n{'A': 1, 'B': 7, 'C': -1}\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 2954543, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0866c255e532f6e61944ce17a51aa0b9?s=128&d=identicon&r=PG&f=1", "display_name": "nothisispatrick11", "link": "https://stackoverflow.com/users/2954543/nothisispatrick11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 1, "accepted_answer_id": 32618023, "answer_count": 4, "score": 2, "last_activity_date": 1442523855, "creation_date": 1442431815, "last_edit_date": 1442446123, "question_id": 32617112, "link": "https://stackoverflow.com/questions/32617112/condenseing-converting-a-nested-list-using-dictionary-comprehension", "title": "Condenseing/converting a nested list using dictionary comprehension", "body": "<p>So I have data structured in a nested list like so</p>\n\n<pre><code>data = [['A', '1'], ['B', '2'], ['C', '3'], ['A', '-2'], ['B', '4'], ['C', '1'], ['A', '2'], ['B', '1'], ['C', '-5']]\n</code></pre>\n\n<p>and I am trying to convert it into an output that looks like this</p>\n\n<pre><code>{'A': 1, 'C': -1, 'B': 7}\n</code></pre>\n\n<p>Basically sum up all of the A's, B's, and C's, put output as a dictionary.</p>\n\n<p>I wrote this code which gives the correct answer</p>\n\n<pre><code>playerSum = {}\nfor ele in data:\n    if ele[0] not in playerSum:\n        playerSum[ele[0]] = int(ele[1])\n    else:\n        playerSum[ele[0]] += int(ele[1])\n</code></pre>\n\n<p>However, I am trying to convert the code block above into dictionary comprehension. I understand mostly how to do it, but I don't understand how to write the += as a dictionary comprehension. Any guidance on the structure would be great.</p>\n\n<p>So far I have this</p>\n\n<pre><code>playerSum = {ele[0]: int(ele[1]) if ele[0] not in playerSum else playerSum[ele[0]] += int(ele[1]) for ele in data}\n</code></pre>\n\n<p>Edit: So @achampion was able to solve it. Thanks!</p>\n\n<pre><code>{key: sum(int(v) for k, v in data if k==key) for key in set(k for k, _ in data)}\n</code></pre>\n"}, {"tags": ["python", "flask", "flask-sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 0, "last_activity_date": 1442432504, "creation_date": 1442432504, "answer_id": 32617319, "question_id": 32617086, "link": "https://stackoverflow.com/questions/32617086/moving-some-database-logic-to-its-own-helper-module-in-flask-sqlalchemy/32617319#32617319", "title": "Moving some database logic to its own helper module in Flask-Sqlalchemy?", "body": "<p>SQLAlchemy's session scope is not related to Python's variable scope.  So no, importing <code>db</code> in multiple places as you've shown won't cause problems.  Regarding the session scope, Flask-SQLAlchemy takes care of that for you, so you can ignore (or not worry about) the discussion of scope in the SQLAlchemy docs.</p>\n"}], "owner": {"reputation": 1733, "user_id": 4775902, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f84c51c41e176a4a86ccbe2fb05a59ea?s=128&d=identicon&r=PG&f=1", "display_name": "rublex", "link": "https://stackoverflow.com/users/4775902/rublex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 32617319, "answer_count": 1, "score": 0, "last_activity_date": 1442432504, "creation_date": 1442431737, "question_id": 32617086, "link": "https://stackoverflow.com/questions/32617086/moving-some-database-logic-to-its-own-helper-module-in-flask-sqlalchemy", "title": "Moving some database logic to its own helper module in Flask-Sqlalchemy?", "body": "<p>I am trying to separate some of my database logic into its own helper module. This is because I have several routes that perform the same database functions, and I don't want to keep repeating the same code. I'm a bit confused on the db session scopes.</p>\n\n<p>From the <a href=\"http://docs.sqlalchemy.org/en/rel_0_9/orm/session_basics.html\" rel=\"nofollow\">SQLAlchemy</a> docs:</p>\n\n<blockquote>\n  <p>Some web frameworks include infrastructure to assist in the task of aligning the lifespan of a Session with that of a web request. This includes products such as Flask-SQLAlchemy, for usage in conjunction with the Flask web framework...</p>\n</blockquote>\n\n<p>I think this means my db session scope is contained within a particular route since I'm using Flask and Flask-SQLAlchemy, so I came up with the following:</p>\n\n<p><strong>init.py</strong></p>\n\n<pre><code>app = Flask(__name__)\ndb = SQLAlchemy(app)\n</code></pre>\n\n<p><strong>routes.py</strong></p>\n\n<pre><code>from init import db\n\n@app.route('/one')\ndef one():\n    form = MyForm()\n    if form.validate_on_submit():\n        myhelper.saveStuff1(form.stuff1.data)\n        myhelper.saveStuff2(form.stuff2.data)\n\n        db.session.commit()\n    return render_template(...)\n\n@app.route('/two')\ndef two():\n    form = MyForm()\n    if form.validate_on_submit():\n        myhelper.saveStuff1(form.stuff1.data)\n        myhelper.saveStuff2(form.stuff2.data)\n        myhelper.saveStuff3(form.stuff3.data)\n\n        db.session.commit()\n    return render_template(...)\n</code></pre>\n\n<p><strong>myhelper.py</strong></p>\n\n<pre><code>from init import db\n\n# Add new Item\ndef saveStuff1(formdata):\n    db.session.add(Item(name=formdata))\n\n# Update Item\ndef saveStuff2(formdata):\n    item = Item.query.filter_by(name=formdata).first()\n    item.description = 'default'\n    db.session.add(item)\n\n# etc...\n</code></pre>\n\n<p>Would this be the correct way for structuring my helpers? I'm worried that <code>from init import db</code> will cause problems with scoping since it's imported in both files, or if this overall code pattern will cause other problems.</p>\n"}, {"tags": ["python", "excel", "pandas", "xlwt"], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 2, "last_activity_date": 1442431869, "creation_date": 1442431869, "answer_id": 32617137, "question_id": 32617067, "link": "https://stackoverflow.com/questions/32617067/using-pandas-to-write-a-certain-df-to-the-next-empty-column/32617137#32617137", "title": "Using Pandas to write a certain df to the next empty column", "body": "<p><code>df_total</code> is a Series -- the <code>total</code> column of <code>df</code>:</p>\n\n<pre><code>df_total = df[\"total\"]\n</code></pre>\n\n<p>If you want to save the DataFrame, <code>df</code>, then</p>\n\n<pre><code>df_total.to_excel(writer,'Sheet1',index=False)\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>df.to_excel(writer,'Sheet1',index=False)\n</code></pre>\n"}], "owner": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 690, "favorite_count": 0, "accepted_answer_id": 32617137, "answer_count": 1, "score": 2, "last_activity_date": 1442432997, "creation_date": 1442431703, "question_id": 32617067, "link": "https://stackoverflow.com/questions/32617067/using-pandas-to-write-a-certain-df-to-the-next-empty-column", "title": "Using Pandas to write a certain df to the next empty column", "body": "<p>I am trying to write a certain df which pertains total values calculated from two cells and then write a new column \"total\" with the values written on the next empty column.</p>\n\n<p>Excel sheet consists of :</p>\n\n<pre><code>Jan |Feb\n\n10000   |62000\n\n95000   |45000\n\n91000   |120000\n\n45000   |120000\n\n162000  |120000\n</code></pre>\n\n<p>What I would like is:</p>\n\n<pre><code>Jan |Feb  |Total\n\n10000   |62000| 72000\n\n95000   |45000|140000\n\n91000   |120000 |211000\n\n45000   |120000 | 165000\n\n162000  |120000 | 282000\n</code></pre>\n\n<p>Instead of the totals column being written to the next column like I would like, it just overwrites the whole entire file with just the totals column being show. How would I go about writing my df_totals to the next empty column like I would like?</p>\n\n<p>Code:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom pandas import ExcelWriter\n\ndf = pd.read_excel(\"samplesheet.xlsx\")\ndf[\"total\"] = df[\"Jan\"] + df[\"Feb\"] + df[\"Mar\"]\ndf.head()\n\ndf_total = df[\"total\"]\nprint(df_total)\nprint(\"\")\n\n\ndf_total = pd.DataFrame(df_total)\nwriter = ExcelWriter('samplesheet.xlsx')\ndf_total.to_excel(writer,'Sheet1',index=False)\nwriter.save()\n</code></pre>\n\n<p>contents inside xlsx after running the code: </p>\n\n<pre><code>Total\n72000\n140000\n211000\n165000\n282000\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "nginx", "flask", "gunicorn", "supervisord"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1442652648, "post_id": 32617061, "comment_id": 53178169, "body": "Does your python skript run in your new structure? Does it find all needed modules?"}, {"owner": {"reputation": 4474, "user_id": 706838, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4abe0d67f6fb9681b93767246037c271?s=128&d=identicon&r=PG&f=1", "display_name": "user706838", "link": "https://stackoverflow.com/users/706838/user706838"}, "reply_to_user": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1442655741, "post_id": 32617061, "comment_id": 53179033, "body": "Yes, it does run in the new structure, that&#39;s the point anyway. I guess it does find all the modules because I am able to run it locally."}], "owner": {"reputation": 4474, "user_id": 706838, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4abe0d67f6fb9681b93767246037c271?s=128&d=identicon&r=PG&f=1", "display_name": "user706838", "link": "https://stackoverflow.com/users/706838/user706838"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1442527899, "creation_date": 1442431678, "last_edit_date": 1442527899, "question_id": 32617061, "link": "https://stackoverflow.com/questions/32617061/how-to-deploy-flask-with-nginx-gunicorn-and-supervisord", "title": "How to deploy Flask with nginx, gunicorn, and supervisord?", "body": "<p>I have managed to deploy a simple Flask app based on the nice tutorial <a href=\"https://realpython.com/blog/python/kickstarting-flask-on-ubuntu-setup-and-deployment/\" rel=\"nofollow\">here</a>.</p>\n\n<p>As you will see, the project has the following structure:</p>\n\n<pre><code>|___README.md\n|___fabfile.py\n|___config\n| |___post-receive\n| |___flask_project.conf\n| |___flask_project\n|___flask_project\n| |___static\n| | |___index.html\n| |___app.py\n|___requirements.txt\n</code></pre>\n\n<p>My problem is that, when I change the structure a little bit and deploy again, everything stops working and the <code>nginx</code> throws the following error: <code>502 Bad Gateway</code>. Note that, I am supposed to have made the correct changes in corresponding files before deployment (but apparently, this is not the case here).</p>\n\n<p>So, I would really appreciate it if you could help me find all necessary changes according to the following (new) structure so as to make my project work again!</p>\n\n<pre><code>|___web\n| |___README.md\n| |___TODO.md\n| |___run.py\n| |___application\n|___deployment\n| |___README.md\n| |___web\n| |___web.conf\n| |___TODO.md\n| |___post-receive\n| |___fabfile.py\n| |___requirements.txt\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1442431701, "post_id": 32617033, "comment_id": 53084842, "body": "Why do you need this? you could just store the unique locations and use these to filter the df"}, {"owner": {"reputation": 165, "user_id": 4818693, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7b424b93dfb988c5212e394917880505?s=128&d=identicon&r=PG&f=1", "display_name": "carlo", "link": "https://stackoverflow.com/users/4818693/carlo"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1442432190, "post_id": 32617033, "comment_id": 53085089, "body": "@EdChum i failed to mention that my first fix for it was to store them in individual CSVs. (agb.csv, fmq.csv) and then access them later for my second part. was that what you&#39;re trying to propose?    edit, adding this: and that i was trying not to create any additional files so i posted the question."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1442432249, "post_id": 32617033, "comment_id": 53085122, "body": "for instance <code>locations = df[&#39;LOC&#39;].unique()</code> will return an array of unique locations you can then use this to filter the df like <code>df[df[&#39;LOC&#39;]==locations[1]]</code>...etc"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1442432302, "post_id": 32617033, "comment_id": 53085150, "body": "No I&#39;m suggesting that it seems unnecessary to split the df based on location when you can easily filter the df like I&#39;ve shown above"}, {"owner": {"reputation": 165, "user_id": 4818693, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7b424b93dfb988c5212e394917880505?s=128&d=identicon&r=PG&f=1", "display_name": "carlo", "link": "https://stackoverflow.com/users/4818693/carlo"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1442432581, "post_id": 32617033, "comment_id": 53085318, "body": "@EdChum oh okay. thanks, i&#39;ll try doing that. how about the second part though? the part where i need to get the difference in measurements of the features."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1442432656, "post_id": 32617033, "comment_id": 53085360, "body": "Use <code>diff</code> so <code>df[&#39;MEAS&#39;].diff()</code> will give you what you want"}], "owner": {"reputation": 165, "user_id": 4818693, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7b424b93dfb988c5212e394917880505?s=128&d=identicon&r=PG&f=1", "display_name": "carlo", "link": "https://stackoverflow.com/users/4818693/carlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1442431965, "creation_date": 1442431589, "last_edit_date": 1442431965, "question_id": 32617033, "link": "https://stackoverflow.com/questions/32617033/creating-or-naming-dataframes-from-list-and-performing-delta-measurements", "title": "creating or naming dataframes from list and performing &quot;delta&quot; measurements", "body": "<p>i have a dataframe that has this kind of format:</p>\n\n<pre><code>[timestamp][location code] [feature code][measurement]\n</code></pre>\n\n<p>meaning i can have something like:</p>\n\n<pre><code>TS                  LOC FEAT MEAS\n2015-01-24 03:45:00 agb feat1 26\n2015-01-25 04:00:00 agb feat1 27\n2015-01-25 04:30:00 agb feat2 47\n2015-01-17 12:00:00 fmq feat1 16\n2015-01-18 12:00:00 fmq feat1 22\n</code></pre>\n\n<p>what i've done is use <code>pd.unique</code> and <code>tolist()</code> to get the names of the locations and store them on a list, but what i can't seem to figure out how to dynamically separate them into dataframes with the location code as the name of that dataframe.</p>\n\n<p>i'd want to have for example a variable <code>agb</code> which is a dataframe like this:</p>\n\n<pre><code>2015-01-24 03:45:00 agb feat1 26\n2015-01-25 04:00:00 agb feat1 27\n2015-01-25 04:30:00 agb feat2 47\n</code></pre>\n\n<p>and a variable <code>fmq</code> which is a dataframe like this:</p>\n\n<pre><code>2015-01-17 12:00:00 fmq feat1 16\n2015-01-18 12:00:00 fmq feat1 22\n</code></pre>\n\n<p>that i could create from iterating over the list of <code>LOC</code> and doing a <code>groupby</code> and <code>get_group</code></p>\n\n<p>and as a second part, i also can't seem to figure out (and unable to phrase the question well to look for answers here in stack overflow) how to produce the change in measurements. </p>\n\n<p>for example in <code>fmq</code> i'd like to have another column <code>DEL</code> that is the difference between the measurements of the various features. something like:</p>\n\n<pre><code>TS                  LOC FEAT MEAS DEL\n2015-01-17 12:00:00 fmq feat1 16  \n2015-01-18 12:00:00 fmq feat1 22  6\n</code></pre>\n\n<p>would appreciate any help. thanks.</p>\n"}, {"tags": ["python", "for-loop"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 4, "creation_date": 1442431602, "post_id": 32616979, "comment_id": 53084791, "body": "Strings are immutable. If you want to change it, transform it into a list, manipulate the list, then jon it back to a string."}, {"owner": {"reputation": 41, "user_id": 3776740, "user_type": "registered", "profile_image": "https://graph.facebook.com/1586783401/picture?type=large", "display_name": "user3776740", "link": "https://stackoverflow.com/users/3776740/user3776740"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1442431816, "post_id": 32616979, "comment_id": 53084896, "body": "how would i do that?"}], "answers": [{"tags": [], "owner": {"reputation": 6934, "user_id": 692410, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7d20c86fcc483e625eb179ca2bbfa0cb?s=128&d=identicon&r=PG", "display_name": "Will Richardson", "link": "https://stackoverflow.com/users/692410/will-richardson"}, "is_accepted": false, "score": 1, "last_activity_date": 1442431782, "creation_date": 1442431782, "answer_id": 32617102, "question_id": 32616979, "link": "https://stackoverflow.com/questions/32616979/typeerror-str-object-does-not-support-item-assignment-python/32617102#32617102", "title": "TypeError: &#39;str&#39; object does not support item assignment (Python)", "body": "<p>In Python, strings are immutable - once they're created they can't be changed. That means that unlike a list you cannot assign to an index to change the string.</p>\n\n<pre><code>string = \"Hello World\"\nstring[0] # =&gt; \"H\" - getting is OK\nstring[0] = \"J\" # !!! ERROR !!! Can't assign to the string\n</code></pre>\n\n<p>In your case, I would make <code>output</code> a list: <code>output = list(input)</code> and then turn it back into a string when you're finished: <code>return \"\".join(output)</code></p>\n"}, {"comments": [{"owner": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "edited": false, "score": 1, "creation_date": 1442431997, "post_id": 32617144, "comment_id": 53084992, "body": "<code>output = input[:input]</code> should be <code>output = input[:index]</code>"}], "tags": [], "owner": {"reputation": 198, "user_id": 2630892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhOzF.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/2630892/michael"}, "is_accepted": false, "score": 1, "last_activity_date": 1442432038, "last_edit_date": 1442432038, "creation_date": 1442431900, "answer_id": 32617144, "question_id": 32616979, "link": "https://stackoverflow.com/questions/32616979/typeerror-str-object-does-not-support-item-assignment-python/32617144#32617144", "title": "TypeError: &#39;str&#39; object does not support item assignment (Python)", "body": "<p>In python you can't assign values to specific indexes in a string array, you instead will probably want to you concatenation. Something like:</p>\n\n<pre><code>for index in range(0, len(input)-3):\n    output = input[:index]\n    output += \"***\"\n    output += input[index+4:]\n</code></pre>\n\n<p>You're going to want to watch the bounds though. Right now at the end of the loop index+4 will be too large and cause an error.</p>\n"}, {"tags": [], "owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1442432018, "creation_date": 1442432018, "answer_id": 32617178, "question_id": 32616979, "link": "https://stackoverflow.com/questions/32616979/typeerror-str-object-does-not-support-item-assignment-python/32617178#32617178", "title": "TypeError: &#39;str&#39; object does not support item assignment (Python)", "body": "<p>You cannot modify the contents of a string, you can only create a new string with the changes. So instead of the function above you'd want something like this</p>\n\n<pre><code>def loop(input):\n    for index in range(0, len(input)-3):              #column length\n        output = input[:index] + '***' + input[index+4:]\n        print output\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 2, "last_activity_date": 1442432122, "creation_date": 1442432122, "answer_id": 32617213, "question_id": 32616979, "link": "https://stackoverflow.com/questions/32616979/typeerror-str-object-does-not-support-item-assignment-python/32617213#32617213", "title": "TypeError: &#39;str&#39; object does not support item assignment (Python)", "body": "<p>Strings are immutable. You can not change the characters in a string, but have to create a new string. If you want to use item assignment, you can transform it into a list, manipulate the list, then join it back to a string.</p>\n\n<pre><code>def loop(s):\n    for index in range(0, len(s) - 2):\n        output = list(s)                    # create list from string\n        output[index:index+3] = list('***') # replace sublist\n        print(''.join(output))              # join list to string and print\n</code></pre>\n\n<p>Or, just create a new string from slices of the old string combined with <code>'***'</code>:</p>\n\n<pre><code>        output = s[:index] + \"***\" + s[index+3:] # create new string directly\n        print(output)                            # print string\n</code></pre>\n\n<p>Also note that there seemed to be a few off-by-one errors in your code, and you should not use <code>input</code> as a variable name, as it shadows the builtin function of the same name.</p>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1442432714, "last_edit_date": 1442432714, "creation_date": 1442432347, "answer_id": 32617281, "question_id": 32616979, "link": "https://stackoverflow.com/questions/32616979/typeerror-str-object-does-not-support-item-assignment-python/32617281#32617281", "title": "TypeError: &#39;str&#39; object does not support item assignment (Python)", "body": "<p>strings are immutable so don't support assignment like a list, you could use <code>str.join</code> <em>concatenating</em> slices of your string together creating a new string each iteration:</p>\n\n<pre><code>def loop(inp):\n    return \"\\n\".join([inp[:i]+\"***\"+inp[i+3:] for i in range(len(inp)-2)])\n</code></pre>\n\n<p><code>inp[:i]</code> will get the first slice which for the first iteration will be an empty string then moving another character across your string each iteration, the <code>inp[i+3:]</code> will get a slice starting from the current index <code>i</code> plus three indexes over also moving across the string one char at a time, you then just need to concat both slices to your <code>***</code> string.</p>\n\n<pre><code>In [3]: print(loop(\"ABCDEFG\"))\n***DEFG\nA***EFG\nAB***FG\nABC***G\nABCD***\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3776740, "user_type": "registered", "profile_image": "https://graph.facebook.com/1586783401/picture?type=large", "display_name": "user3776740", "link": "https://stackoverflow.com/users/3776740/user3776740"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16397, "favorite_count": 0, "answer_count": 5, "score": 4, "last_activity_date": 1442432714, "creation_date": 1442431419, "last_edit_date": 1442431560, "question_id": 32616979, "link": "https://stackoverflow.com/questions/32616979/typeerror-str-object-does-not-support-item-assignment-python", "title": "TypeError: &#39;str&#39; object does not support item assignment (Python)", "body": "<p>So this is what I'm trying to do:</p>\n\n<p>input = ABCDEFG</p>\n\n<pre><code>***DEFG\nA***EFG\nAB***FG\nABC***G\nABCD***\n</code></pre>\n\n<p>and this is the code I wrote</p>\n\n<pre><code>def loop(input):\n    output = input\n    for index in range(0, len(input)-3):              #column length\n        output[index:index +2] = '***'\n        output[:index] = input[:index]\n        output[index+4:] = input[index+4:]\n        print output + '\\n'\n</code></pre>\n\n<p>But I get the error: TypeError: 'str' object does not support item assignment</p>\n\n<p>Help?</p>\n"}, {"tags": ["python", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 701, "user_id": 4168136, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3b49b71c414932db54dcf272e8c7075d?s=128&d=identicon&r=PG&f=1", "display_name": "AK9309", "link": "https://stackoverflow.com/users/4168136/ak9309"}, "edited": false, "score": 0, "creation_date": 1442431627, "post_id": 32616981, "comment_id": 53084801, "body": "Same here, was overthinking it. Thank you!"}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 1, "last_activity_date": 1442431427, "creation_date": 1442431427, "answer_id": 32616981, "question_id": 32616936, "link": "https://stackoverflow.com/questions/32616936/joining-dictionaries-in-a-for-loop/32616981#32616981", "title": "Joining dictionaries in a for loop", "body": "<p>Why are you creating separate dictionaries in the first place? Just set the key in an existing dict on each iteration.</p>\n\n<pre><code>my_dictionary = {}\nfor m in my_list:\n    x = my_function(m)\n    my_dictionary[m] = x\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 701, "user_id": 4168136, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3b49b71c414932db54dcf272e8c7075d?s=128&d=identicon&r=PG&f=1", "display_name": "AK9309", "link": "https://stackoverflow.com/users/4168136/ak9309"}, "edited": false, "score": 0, "creation_date": 1442431607, "post_id": 32616985, "comment_id": 53084792, "body": "I guess I was overthinking it. Thank you!"}], "tags": [], "owner": {"reputation": 21720, "user_id": 1520841, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PXzxR.jpg?s=128&g=1", "display_name": "Joel Hinz", "link": "https://stackoverflow.com/users/1520841/joel-hinz"}, "is_accepted": false, "score": 1, "last_activity_date": 1442431438, "creation_date": 1442431438, "answer_id": 32616985, "question_id": 32616936, "link": "https://stackoverflow.com/questions/32616936/joining-dictionaries-in-a-for-loop/32616985#32616985", "title": "Joining dictionaries in a for loop", "body": "<p>Maybe I'm missing something, but isn't your problem just that you want a simple, non-nested dictionary, and you keep overwriting it within the loop? In that case, this small change should suffice:</p>\n\n<pre><code>my_dictionary = {}\nfor m in my_list:\n    x = my_function(m)\n    my_dictionary[m] = x\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1543, "user_id": 2696275, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Ku4yB.jpg?s=128&g=1", "display_name": "Sahil M", "link": "https://stackoverflow.com/users/2696275/sahil-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1442431504, "creation_date": 1442431504, "answer_id": 32617011, "question_id": 32616936, "link": "https://stackoverflow.com/questions/32616936/joining-dictionaries-in-a-for-loop/32617011#32617011", "title": "Joining dictionaries in a for loop", "body": "<p>You can update the dictionary as opposed to overwrite it each time.</p>\n\n<pre><code>my_dictionary = {}\nfor m in my_list:\n    x = my_function(m)\n    my_dictionary.update({m:x})\nprint my_dictionary\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 3, "last_activity_date": 1442431950, "last_edit_date": 1495541653, "creation_date": 1442431513, "answer_id": 32617014, "question_id": 32616936, "link": "https://stackoverflow.com/questions/32616936/joining-dictionaries-in-a-for-loop/32617014#32617014", "title": "Joining dictionaries in a for loop", "body": "<p>You can use a <a href=\"https://stackoverflow.com/questions/1747817/python-create-a-dictionary-with-list-comprehension\">dict comprehension</a> to create your main dict:</p>\n\n<pre><code>dic = {m : my_function(m) for m in my_list}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "is_accepted": false, "score": 1, "last_activity_date": 1442431610, "creation_date": 1442431610, "answer_id": 32617041, "question_id": 32616936, "link": "https://stackoverflow.com/questions/32616936/joining-dictionaries-in-a-for-loop/32617041#32617041", "title": "Joining dictionaries in a for loop", "body": "<p>There is no need to recreate a new dictionnary at each loop iteration.</p>\n\n<p>You can either create the dictionnary before and add items to it as you iterate:</p>\n\n<pre><code>my_dict = {}\nfor m in my_list:\n    my_dict[m] = my_function(m)\n</code></pre>\n\n<p>or you can use a dict comprehension:</p>\n\n<pre><code>my_dict = {m:my_function(m) for m in my_list}\n</code></pre>\n\n<p>or, in python 2:</p>\n\n<pre><code>my_dict = dict((m,my_function(m)) for m in my_list)\n</code></pre>\n"}], "owner": {"reputation": 701, "user_id": 4168136, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3b49b71c414932db54dcf272e8c7075d?s=128&d=identicon&r=PG&f=1", "display_name": "AK9309", "link": "https://stackoverflow.com/users/4168136/ak9309"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 1, "accepted_answer_id": 32617014, "answer_count": 5, "score": 1, "last_activity_date": 1442431950, "creation_date": 1442431234, "question_id": 32616936, "link": "https://stackoverflow.com/questions/32616936/joining-dictionaries-in-a-for-loop", "title": "Joining dictionaries in a for loop", "body": "<p>I have a simple for loop</p>\n\n<pre><code>    for m in my_list:\n        x = my_function(m)\n        my_dictionary = {m:x}\n</code></pre>\n\n<p><code>my_function()</code> gives me a string. And if I use <code>print my_dictionary</code> at the end i get</p>\n\n<pre><code>   {m1: string1}\n   {m2: string2}\n</code></pre>\n\n<p>I want to be able to have one dictionary at the end.\nI have tried several methods that I found in other threads.\n<code>dic = dict(my_dictionary, **my_dictionary)</code></p>\n\n<pre><code>dic = my_dictionary.copy()\ndic.update(my_dictionary)\n</code></pre>\n\n<p>But overtime I just get the last dictionary instead of all dictionaries.\nI wish I could just add them with <code>+</code>, but you can't do that in python</p>\n"}, {"tags": ["python", "optimization"], "comments": [{"owner": {"reputation": 21720, "user_id": 1520841, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PXzxR.jpg?s=128&g=1", "display_name": "Joel Hinz", "link": "https://stackoverflow.com/users/1520841/joel-hinz"}, "edited": false, "score": 1, "creation_date": 1442431204, "post_id": 32616901, "comment_id": 53084585, "body": "Won&#39;t that depend entirely upon how often each of the three expressions will evaluated to True/1/2?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user177800"}, "edited": false, "score": 3, "creation_date": 1442431225, "post_id": 32616901, "comment_id": 53084601, "body": "have you <b>profiled</b> this? if not that is <b>work you can do!</b> this is not a valid question unless you have profiled this, <b>pin pointed</b> a bottleneck and have a specific question about that bottleneck. as it is, this is a <b>do my work for me</b> question."}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 1, "creation_date": 1442431401, "post_id": 32616901, "comment_id": 53084683, "body": "<a href=\"https://docs.python.org/2/library/profile.html\" rel=\"nofollow noreferrer\">learn</a> how to profile"}, {"owner": {"reputation": 2712, "user_id": 1548472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/1Xbe4.png?s=128&g=1", "display_name": "holroy", "link": "https://stackoverflow.com/users/1548472/holroy"}, "edited": false, "score": 1, "creation_date": 1442431436, "post_id": 32616901, "comment_id": 53084701, "body": "You could do <code>f_a = f(a)</code> and <code>g_b = g(b)</code> in front of the tests to avoid doing it twice, but that would/could limit the usefullness of boolean circuit operations. But the main question is <i>why do you want to optimize it</i>?  No need to optimize it, if is not a major time consumer in your program..."}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 1, "creation_date": 1442431637, "post_id": 32616901, "comment_id": 53084803, "body": "first block of code will run <code>f()</code> twice and <code>g()</code> twice at most, where as second block of code will do so once each at most."}, {"owner": {"reputation": 8918, "user_id": 1742777, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ff60602db4c570ec0e48b22eb13f6956?s=128&d=identicon&r=PG", "display_name": "Saqib Ali", "link": "https://stackoverflow.com/users/1742777/saqib-ali"}, "edited": false, "score": 0, "creation_date": 1442432331, "post_id": 32616901, "comment_id": 53085171, "body": "Gimme break Jarrod Roberson. It&#39;s a valid question. How am I supposed to know that I should profile it without asking? Do I have ESP? Taesu&#39;s answer was much more helpful."}, {"owner": {"reputation": 8918, "user_id": 1742777, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ff60602db4c570ec0e48b22eb13f6956?s=128&d=identicon&r=PG", "display_name": "Saqib Ali", "link": "https://stackoverflow.com/users/1742777/saqib-ali"}, "edited": false, "score": 0, "creation_date": 1442432454, "post_id": 32616901, "comment_id": 53085246, "body": "C++ compiler would optimize such things for me. I&#39;m wondering if there is any kind of automated code-optimization tool that would go through my entire python code-base and find all such cases where it can squeeze out increased efficiencies."}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 1, "creation_date": 1442432561, "post_id": 32616901, "comment_id": 53085309, "body": "A C++ compiler would not do that optimization for you because there&#39;s no assurance that f() and g() are side-effect free or consistent"}, {"owner": {"reputation": 8918, "user_id": 1742777, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ff60602db4c570ec0e48b22eb13f6956?s=128&d=identicon&r=PG", "display_name": "Saqib Ali", "link": "https://stackoverflow.com/users/1742777/saqib-ali"}, "edited": false, "score": 0, "creation_date": 1442435292, "post_id": 32616901, "comment_id": 53086824, "body": "Slightly updated the question."}, {"owner": {"reputation": 4072, "user_id": 5246906, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/227935ae79fee841eaea7f6641ebec41?s=128&d=identicon&r=PG&f=1", "display_name": "nigel222", "link": "https://stackoverflow.com/users/5246906/nigel222"}, "edited": false, "score": 1, "creation_date": 1442438109, "post_id": 32616901, "comment_id": 53088245, "body": "Disagree about profiling. The answer to the question is surely &quot;yes&quot;. In this case the optimised code is no harder to read than the original, so if f and g are anything but the most trivial of deterministic functions, then write it the optimized way."}], "answers": [{"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": false, "score": 4, "last_activity_date": 1442436745, "last_edit_date": 1442436745, "creation_date": 1442435591, "answer_id": 32618161, "question_id": 32616901, "link": "https://stackoverflow.com/questions/32616901/how-should-i-optimize-these-if-elseif-branches-for-speed/32618161#32618161", "title": "How should I optimize these if/elseif branches for speed?", "body": "<p>Using a single if for the <code>f(a)</code> is definitely more efficient. For optimal efficiency you should store the result of expensive common sub-expressions in a variable:</p>\n\n<pre><code>if f(a):\n    gb = g(b)\n    if gb == 1:\n        ...\n    if gb == 2:\n        ...\n</code></pre>\n\n<p>This will execute these functions as seldom as possible </p>\n\n<hr>\n\n<p>If <code>g(b)</code> can also return a value that does not match any <code>if</code>, then you should profile - it could be beneficial to calculate <code>g(b)</code> first and see if it returned any valid value, and only then calculate <code>f(a)</code> (if these are not dependent of course):</p>\n\n<pre><code>gb = g(b)\nif gb in (1, 2) and f(a):\n    if gb == 1:\n        ...\n    if gb == 2:\n</code></pre>\n\n<hr>\n\n<p>There is no way that any standard Python compiler could statically optimize these unlike in C/C++ where the function contents can be inlined.</p>\n"}], "owner": {"reputation": 8918, "user_id": 1742777, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ff60602db4c570ec0e48b22eb13f6956?s=128&d=identicon&r=PG", "display_name": "Saqib Ali", "link": "https://stackoverflow.com/users/1742777/saqib-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1442436745, "creation_date": 1442431054, "last_edit_date": 1442435395, "question_id": 32616901, "link": "https://stackoverflow.com/questions/32616901/how-should-i-optimize-these-if-elseif-branches-for-speed", "title": "How should I optimize these if/elseif branches for speed?", "body": "<p>Suppose I have the following python code:</p>\n\n<pre><code>a = b = 0\n\nif f(a) and (g(b) == 1):\n    # Do Something #1\n    pass\n\nelif f(a) and (g(b) == 2):\n    # Do Something #1\n    pass\n</code></pre>\n\n<p>You can assume that the functions <code>f()</code> and <code>g()</code> take up some non-negligible amount of CPU resource.</p>\n\n<p>I want to optimize this code for computational efficiency. Should I change it to the following?</p>\n\n<pre><code>a = b = 0\n\nif f(a):\n    x = g(b)\n    if x == 1:\n        # Do Something #1\n        pass\n    elif x == 2:\n        # Do Something #2\n        pass\n</code></pre>\n\n<p>Is there any way to automate this optimization? I hate doing it by hand throughout my entire codebase.</p>\n\n<p><strong>EDIT:</strong>\nThe functions <code>f()</code> and <code>g()</code> are completely deterministic. IE: they always return the same results if given the same input parameters. And they have no side effects outside their own stack context.</p>\n"}, {"tags": ["python", "database", "web2py"], "answers": [{"comments": [{"owner": {"reputation": 1220, "user_id": 1878036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Ikuv8.jpg?s=128&g=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/1878036/john-doe"}, "edited": false, "score": 0, "creation_date": 1442474852, "post_id": 32618356, "comment_id": 53099348, "body": "So it&#39;s actually a yes.. Thanks ! :)"}], "tags": [], "owner": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "is_accepted": true, "score": 2, "last_activity_date": 1442436349, "creation_date": 1442436349, "answer_id": 32618356, "question_id": 32616625, "link": "https://stackoverflow.com/questions/32616625/web2py-database-configuration/32618356#32618356", "title": "web2py database configuration", "body": "<p>Files in the /models folder are executed in alphabetical order, so just put the <code>DAL</code> definition at the top of the first model file that needs to use it (it will then be available globally in all subsequent model files as well as all controllers and views).</p>\n"}, {"tags": [], "owner": {"reputation": 1220, "user_id": 1878036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Ikuv8.jpg?s=128&g=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/1878036/john-doe"}, "is_accepted": false, "score": 1, "last_activity_date": 1442491290, "last_edit_date": 1442491290, "creation_date": 1442487959, "answer_id": 32628836, "question_id": 32616625, "link": "https://stackoverflow.com/questions/32616625/web2py-database-configuration/32628836#32628836", "title": "web2py database configuration", "body": "<p>Actually, I found another way : </p>\n\n<pre><code>private/appconfig.ini\n</code></pre>\n\n<p>which does not prevent to define how you want it in db.py as :</p>\n\n<pre><code>db = DAL(myconf.take('db.uri'))\n</code></pre>\n\n<p>Thanks anyway ;)</p>\n"}], "owner": {"reputation": 1220, "user_id": 1878036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Ikuv8.jpg?s=128&g=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/1878036/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 32618356, "answer_count": 2, "score": 0, "last_activity_date": 1442491290, "creation_date": 1442430017, "question_id": 32616625, "link": "https://stackoverflow.com/questions/32616625/web2py-database-configuration", "title": "web2py database configuration", "body": "<p>I found this line to help configure Postgresql in web2py but I can't seem to find a good place where to put it :</p>\n\n<p><code>db = DAL(\"postgres://myuser:mypassword@localhost:5432/mydb\")</code></p>\n\n<p>Do I really have to write it in all db.py ?</p>\n"}, {"tags": ["python", "python-2.7", "xpath", "selenium-webdriver"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1442430176, "post_id": 32616558, "comment_id": 53083986, "body": "Presumably one of <code>find_element</code> or <code>XPATH</code> or <code>click</code> is a string, so you can&#39;t call it."}, {"owner": {"reputation": 1, "user_id": 5343722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767716c4dbfc645acfbb20aea8394bcd?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5343722/kumar"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1442431015, "post_id": 32616558, "comment_id": 53084483, "body": "@kevin: I know one of them is causing problem, but how do i rectify/correct it???"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1442431293, "post_id": 32616558, "comment_id": 53084632, "body": "Iit seems it should be <code>self.driver.find_element(By.XPATH,&#39;&#47;&#47;*[@id=&quot;datepicker&quot;]&#39;).c&zwnj;&#8203;lick()</code>, pass By.XPATH as an argument, don&#39;t try to call it"}, {"owner": {"reputation": 1, "user_id": 5343722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767716c4dbfc645acfbb20aea8394bcd?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5343722/kumar"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1442431733, "post_id": 32616558, "comment_id": 53084856, "body": "@PadraicCunningham I tried self.driver.find_element(By.XPATH,(&#39;//*[@id=&quot;datepicker&quot;]&#39;))&zwnj;&#8203;.click() but i get this &quot;No Such Element&quot; error"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1442431811, "post_id": 32616558, "comment_id": 53084893, "body": "Then your xpath is probably wrong"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5343722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767716c4dbfc645acfbb20aea8394bcd?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5343722/kumar"}, "edited": false, "score": 0, "creation_date": 1442431831, "post_id": 32616963, "comment_id": 53084902, "body": "I tried self.driver.find_element(By.XPATH,(&#39;//*[@id=&quot;datepicker&quot;]&#39;))&zwnj;&#8203;.click() but i get this &quot;NoSuchElementException: Message: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@id=&quot;datepicker&quot;]&quot;}&quot;"}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "reply_to_user": {"reputation": 1, "user_id": 5343722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767716c4dbfc645acfbb20aea8394bcd?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5343722/kumar"}, "edited": false, "score": 0, "creation_date": 1442431936, "post_id": 32616963, "comment_id": 53084963, "body": "Then you\u2019re closer to the truth. It works now, but there is no element that matches that XPath string."}], "tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": false, "score": 4, "last_activity_date": 1442431870, "last_edit_date": 1495539868, "creation_date": 1442431327, "answer_id": 32616963, "question_id": 32616558, "link": "https://stackoverflow.com/questions/32616558/typeerror-str-object-is-not-callable-when-trying-to-click-datepicker/32616963#32616963", "title": "TypeError: &#39;str&#39; object is not callable when trying to click &quot;datepicker&quot;", "body": "<p>According to the <a href=\"http://selenium-python.readthedocs.org/en/latest/locating-elements.html\" rel=\"nofollow noreferrer\">\u201cLocation elements\u201d section</a> of the manual, <code>By.XPATH</code> seems to be a string, and the correct usage would be this:</p>\n\n<pre><code>self.driver.find_element(By.XPATH, '//*[@id=\"datepicker\"]')\n</code></pre>\n\n<p>That also makes sense from the error message, since you are calling <code>By.XPATH</code>. And the <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/py/selenium/webdriver/common/by.py\" rel=\"nofollow noreferrer\">current source</a> also confirms this.</p>\n\n<p>Unfortunately, the Selenium API is not really consistent across different platforms. The syntax you are using, calling <code>By.xpath()</code> is used by Java, and in C#, you also have to call <code>By.Xpath()</code>. So it\u2019s just naturally that you get confused when you see other examples where it\u2019s being called and in Python, you suddenly need to pass it. So you shouldn\u2019t blindly trust examples you find on the internet (like <a href=\"https://stackoverflow.com/questions/16952514/selenium-webdriver-findelementby-xpath-not-working-for-me\">this one</a>) but always check for which language they are. And check the documentation and/or the source in doubt.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5343722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767716c4dbfc645acfbb20aea8394bcd?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5343722/kumar"}, "edited": false, "score": 0, "creation_date": 1442432285, "post_id": 32617050, "comment_id": 53085143, "body": "I have tried all the above suggested ways and i ended up here"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 1, "user_id": 5343722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767716c4dbfc645acfbb20aea8394bcd?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5343722/kumar"}, "edited": false, "score": 0, "creation_date": 1442432412, "post_id": 32617050, "comment_id": 53085221, "body": "@kumar are there any <code>iframe</code> elements on the page?"}, {"owner": {"reputation": 1, "user_id": 5343722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767716c4dbfc645acfbb20aea8394bcd?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5343722/kumar"}, "edited": false, "score": 0, "creation_date": 1442432593, "post_id": 32617050, "comment_id": 53085324, "body": "there is no iframes in this web page"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 1, "user_id": 5343722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767716c4dbfc645acfbb20aea8394bcd?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5343722/kumar"}, "edited": false, "score": 0, "creation_date": 1442432691, "post_id": 32617050, "comment_id": 53085373, "body": "@kumar then, you might need to wait for the datepicker to become present assuming that your locator is correct. See <a href=\"http://selenium-python.readthedocs.org/en/latest/waits.html#explicit-waits\" rel=\"nofollow noreferrer\">selenium-python.readthedocs.org/en/latest/&hellip;</a>."}, {"owner": {"reputation": 1, "user_id": 5343722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767716c4dbfc645acfbb20aea8394bcd?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5343722/kumar"}, "edited": false, "score": 0, "creation_date": 1442433369, "post_id": 32617050, "comment_id": 53085750, "body": "i tried this: self.driver.implicitly_wait(&quot;20&quot;)         self.driver.find_element_by_xpath((&#39;//*[@id=&quot;datepicker&quot;]&#39;))&zwnj;&#8203;.click()         still no luck"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 3, "last_activity_date": 1442431641, "creation_date": 1442431641, "answer_id": 32617050, "question_id": 32616558, "link": "https://stackoverflow.com/questions/32616558/typeerror-str-object-is-not-callable-when-trying-to-click-datepicker/32617050#32617050", "title": "TypeError: &#39;str&#39; object is not callable when trying to click &quot;datepicker&quot;", "body": "<p>If you want to use the generic <code>find_element()</code> method - pass two arguments - the <code>By</code> locator type and the locator value:</p>\n\n<pre><code>self.driver.find_element(By.XPATH, '//*[@id=\"datepicker\"]')\n</code></pre>\n\n<p>Though, it would be cleaner to use the specific <code>find_element_by_xpath()</code> method:</p>\n\n<pre><code>self.driver.find_element_by_xpath('//*[@id=\"datepicker\"]')\n</code></pre>\n\n<p>And, even cleaner in this case would be to use \"by id\" locator:</p>\n\n<pre><code>self.driver.find_element_by_id(\"datepicker\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9006574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dcc193305f12814d36e33978acb8900?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Hickam", "link": "https://stackoverflow.com/users/9006574/nicholas-hickam"}, "is_accepted": false, "score": 0, "last_activity_date": 1512714788, "last_edit_date": 1512714788, "creation_date": 1512612160, "answer_id": 47686411, "question_id": 32616558, "link": "https://stackoverflow.com/questions/32616558/typeerror-str-object-is-not-callable-when-trying-to-click-datepicker/47686411#47686411", "title": "TypeError: &#39;str&#39; object is not callable when trying to click &quot;datepicker&quot;", "body": "<p>So what I've found out from this error, is that sometimes a website will load a frame, which by printing the html -> <code>print(driver.page_source)</code> will give you what the driver can \"see\". If you can't find your element in page source, then there's your problem.</p>\n\n<p>I fixed this by finding a .php link inside of the frame element and then adding that link to the current url, here's an example: Given <code>www.site.com/login</code> print the page source, and, <em>if this is the issue</em>, there will be a .php link that's inside the frame (ex. <code>/loginPage.php</code>. Click the link, copy it and execute the <code>.get([new url])</code>. This took me to an identical page, but you're able to access your html elements like normal!</p>\n\n<p>Edit: Thank you Stephen for showing me the ropes to adding <code>code</code> for the first time!</p>\n"}], "owner": {"reputation": 1, "user_id": 5343722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767716c4dbfc645acfbb20aea8394bcd?s=128&d=identicon&r=PG&f=1", "display_name": "kumar", "link": "https://stackoverflow.com/users/5343722/kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6929, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1512714788, "creation_date": 1442429782, "last_edit_date": 1442443337, "question_id": 32616558, "link": "https://stackoverflow.com/questions/32616558/typeerror-str-object-is-not-callable-when-trying-to-click-datepicker", "title": "TypeError: &#39;str&#39; object is not callable when trying to click &quot;datepicker&quot;", "body": "<p>The relevant HTML</p>\n\n<pre><code>&lt;div id=\"datepickerbox\" class=\"ym-gbox-left\"&gt;\n &lt;div class=\"datepick_label\"&gt;\n  &lt;div id=\"datepicker\" class=\"hasDatepicker\"&gt;\n   &lt;div class=\"ui-datepicker-inline ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\" style=\"display: block;\"&gt;\n</code></pre>\n\n<p>My code</p>\n\n<pre><code>self.driver.find_element(By.XPATH('//*[@id=\"datepicker\"]')).click()\ndateWidget = self.driver.find_element(By.ID(\"ui-datepicker-div\"))\nrows = dateWidget.find_element_by_tag_name(\"tr\")\ncolumns = dateWidget.find_element_by_tag_name(\"td\")\nfor cell in columns: self.driver.findElement(By.LINK_TEXT(\"20\")).click()\n</code></pre>\n\n<p>The error I'm getting</p>\n\n<pre><code>self.driver.find_element(By.XPATH('//*[@id=\"datepicker\"]')).click()\nTypeError: 'str' object is not callable\n</code></pre>\n\n<p>How can I make this work?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1442429798, "post_id": 32616548, "comment_id": 53083768, "body": "... And what if the user inputs something other than &quot;True&quot; or &quot;false&quot;?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1442429967, "post_id": 32616548, "comment_id": 53083868, "body": "and why is one capitalized and one not?"}, {"owner": {"reputation": 12054, "user_id": 1695680, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/407d4b68afe5b3a71e84a1a3d5811cff?s=128&d=identicon&r=PG", "display_name": "ThorSummoner", "link": "https://stackoverflow.com/users/1695680/thorsummoner"}, "edited": false, "score": 0, "creation_date": 1502305617, "post_id": 32616548, "comment_id": 78157079, "body": "this isn&#39;t totally comprehensive, but there is a handy lib for reading true false strings to booleans: <a href=\"https://stackoverflow.com/questions/715417/converting-from-a-string-to-boolean-in-python\" title=\"converting from a string to boolean in python\">stackoverflow.com/questions/715417/&hellip;</a> -- a yaml parser can also be used, Not sure I&#39;d recommend that myself."}], "answers": [{"comments": [{"owner": {"reputation": 6788, "user_id": 1748754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jjk7p.jpg?s=128&g=1", "display_name": "erewok", "link": "https://stackoverflow.com/users/1748754/erewok"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1442430305, "post_id": 32616629, "comment_id": 53084063, "body": "Thank you. I thought yours was good as well but it could be a bit tough for a brand new Pythoner."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1442433874, "post_id": 32616629, "comment_id": 53086032, "body": "although it would probably be better to <code>if answer == &quot;true&quot;:...elif answer == &quot;false&quot;:... else:print &quot;ERROR&quot;</code>"}], "tags": [], "owner": {"reputation": 6788, "user_id": 1748754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jjk7p.jpg?s=128&g=1", "display_name": "erewok", "link": "https://stackoverflow.com/users/1748754/erewok"}, "is_accepted": false, "score": 9, "last_activity_date": 1442434005, "last_edit_date": 1442434005, "creation_date": 1442430034, "answer_id": 32616629, "question_id": 32616548, "link": "https://stackoverflow.com/questions/32616548/how-to-have-user-true-false-input-in-python/32616629#32616629", "title": "How to have user true/false input in python?", "body": "<p>You can turn something <em>into</em> <code>True</code> or <code>False</code> using <code>bool</code>:</p>\n\n<pre><code>&gt;&gt;&gt; bool(0)\nFalse\n&gt;&gt;&gt; bool(\"True\")\nTrue\n&gt;&gt;&gt; bool(\"\")\nFalse\n</code></pre>\n\n<p>But there is a problem with a user entering \"True\" or \"False\" and assuming we can turn that <code>string</code> into a bool:</p>\n\n<pre><code>&gt;&gt;&gt; bool(\"False\")\nTrue\n</code></pre>\n\n<p>This is because a <code>string</code> is considered <em>truthy</em> if it's not empty.</p>\n\n<p>Typically, what we do instead is allow a user to enter a certain subset of possible inputs and then we tell the user that <em>only</em> these values are allowed if the user enters something else:</p>\n\n<pre><code>user_answer = input(\"Is johnny hungry \").lower().strip()\nif user_answer == \"true\":\n    # do something\nelif user_answer == \"false\":\n    # do something else\nelse:\n    print(\"Error: Answer must be True or False\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1442430855, "post_id": 32616641, "comment_id": 53084390, "body": "good answer for a python beginner even if it is not super robust :P +1"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 2, "last_activity_date": 1442430067, "creation_date": 1442430067, "answer_id": 32616641, "question_id": 32616548, "link": "https://stackoverflow.com/questions/32616548/how-to-have-user-true-false-input-in-python/32616641#32616641", "title": "How to have user true/false input in python?", "body": "<pre><code>johnnyHungry = input(\"Is johnny hungry \")\nif johnnyHungry == \"True\":\n...\n</code></pre>\n\n<p>I expect that you can take it from there?</p>\n"}, {"tags": [], "owner": {"reputation": 285, "user_id": 478335, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91c06cf2de1833032415e817dd6495c8?s=128&d=identicon&r=PG", "display_name": "newDelete", "link": "https://stackoverflow.com/users/478335/newdelete"}, "is_accepted": false, "score": -3, "last_activity_date": 1442430103, "creation_date": 1442430103, "answer_id": 32616649, "question_id": 32616548, "link": "https://stackoverflow.com/questions/32616548/how-to-have-user-true-false-input-in-python/32616649#32616649", "title": "How to have user true/false input in python?", "body": "<p>You could just try bool(input(\"...\")) but you would get into trouble if the user doesn't input a bool. You could just wrap it in a try statement.</p>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1442430566, "post_id": 32616663, "comment_id": 53084220, "body": "but then it can return something other than T/F ... I think OP wants the return to be forced (but I thought about something like that too :P good suggestion all the same)"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 12, "last_activity_date": 1442430153, "creation_date": 1442430153, "answer_id": 32616663, "question_id": 32616548, "link": "https://stackoverflow.com/questions/32616548/how-to-have-user-true-false-input-in-python/32616663#32616663", "title": "How to have user true/false input in python?", "body": "<p>you can use a simple helper that will force whatever input you want</p>\n\n<pre><code>def get_bool(prompt):\n    while True:\n        try:\n           return {\"true\":True,\"false\":False}[input(prompt).lower()]\n        except KeyError:\n           print \"Invalid input please enter True or False!\"\n\nprint get_bool(\"Is Jonny Hungry?\")\n</code></pre>\n\n<p>you can apply this to anything</p>\n\n<pre><code>def get_int(prompt):\n    while True:\n        try:\n           return int(input(prompt))\n        except ValueError:\n           print \"Thats not an integer silly!\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7975588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a9bc0b299f23344659936c706d0d004?s=128&d=identicon&r=PG", "display_name": "ljlizarraga", "link": "https://stackoverflow.com/users/7975588/ljlizarraga"}, "is_accepted": false, "score": 0, "last_activity_date": 1494145585, "creation_date": 1494145585, "answer_id": 43829379, "question_id": 32616548, "link": "https://stackoverflow.com/questions/32616548/how-to-have-user-true-false-input-in-python/43829379#43829379", "title": "How to have user true/false input in python?", "body": "<pre><code>def get_bool(prompt):\nwhile True:\n    try:\n        return {\"si\": True, \"no\": False}[input(prompt).lower()]\n    except KeyError:\n        print (\"Invalido ingresa por favor si o no!\")\n\n    respuesta = get_bool(\"Quieres correr este programa: si o no\")\n\nif (respuesta == True):\n    x = 0\nelse:\n    x = 2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 12211953, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwvNAUh4S6VYSHlSXGh1KKz1DzcJquDuIqJnBguw=k-s128", "display_name": "MS_092420", "link": "https://stackoverflow.com/users/12211953/ms-092420"}, "edited": false, "score": 0, "creation_date": 1577590709, "post_id": 59516651, "comment_id": 105204815, "body": "Actually newDelete&#39;s answer is not wrong and it&#39;s almost the same as mine."}], "tags": [], "owner": {"reputation": 5, "user_id": 12211953, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwvNAUh4S6VYSHlSXGh1KKz1DzcJquDuIqJnBguw=k-s128", "display_name": "MS_092420", "link": "https://stackoverflow.com/users/12211953/ms-092420"}, "is_accepted": false, "score": 0, "last_activity_date": 1577672578, "last_edit_date": 1577672578, "creation_date": 1577590058, "answer_id": 59516651, "question_id": 32616548, "link": "https://stackoverflow.com/questions/32616548/how-to-have-user-true-false-input-in-python/59516651#59516651", "title": "How to have user true/false input in python?", "body": "<p>I hope this code works for you. Because I already tried this code and it worked fine.</p>\n\n<pre><code>johnnyHungry = str(input(\"Is johnny hungry \")) \n\ndef checking(x):\n    return 'yes' == True\n    return 'no' == False\n\nif checking(johnnyHungry) == True:\n    print(\"Johnny needs to eat.\")\nelif checking(johnnyHungry) == False:\n    print(\"Johnny is full.\")\n</code></pre>\n\n<p>I'm sorry if it's long, I'm new to programming either.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13099239, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gh6el74zAGT8wMJxAb42NP1GdWR5LdDCFVxcg-7=k-s128", "display_name": "Lord Amazing", "link": "https://stackoverflow.com/users/13099239/lord-amazing"}, "is_accepted": false, "score": 0, "last_activity_date": 1584788224, "creation_date": 1584788224, "answer_id": 60786947, "question_id": 32616548, "link": "https://stackoverflow.com/questions/32616548/how-to-have-user-true-false-input-in-python/60786947#60786947", "title": "How to have user true/false input in python?", "body": "<p><strong><em>Code:</em></strong></p>\n\n<pre><code>question = str(input(\"Is Johnny hungry?  Response: \"))\n\nif question == \"yes\":\n\n    print(\"Johnny needs to eat food!\")\n\nif question == \"no\":\n\n    print(\"Johnny is full!\")\n</code></pre>\n\n<p><strong><em>Run:</em></strong></p>\n\n<ol>\n<li><p>Is Johnny hungry?    Response: yes</p>\n\n<p>Johnny needs to eat food!</p></li>\n<li><p>Is Johnny hungry?    Response: no</p>\n\n<p>Johnny is full!</p></li>\n<li><p><strong>This is if you type something other than yes and no</strong></p>\n\n<p>Is Johnny hungry?    Response: lkjdahkjehlhd</p></li>\n</ol>\n\n<p><strong><em>Nothing pops up/ there is no response</em></strong></p>\n"}], "owner": {"reputation": 51, "user_id": 5343763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6276c85b6fa2c2737f273c7a456fd80a?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5343763/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36075, "favorite_count": 0, "answer_count": 7, "score": 4, "last_activity_date": 1584788224, "creation_date": 1442429722, "last_edit_date": 1442429823, "question_id": 32616548, "link": "https://stackoverflow.com/questions/32616548/how-to-have-user-true-false-input-in-python", "title": "How to have user true/false input in python?", "body": "<p>I'm new to python. </p>\n\n<p>I want the program to ask </p>\n\n<pre><code>\"is Johnny hungry? True or false?\"\n</code></pre>\n\n<p><em>user inputs True</em> \n  then print is <code>\"Johnny needs to eat.\"</code> </p>\n\n<p><em>user inputs false</em>\n  then print <code>\"Johnny is full.\"</code> </p>\n\n<p>I know to add an int I type in </p>\n\n<pre><code>johnnyHungry = int(input(\"Is johnny hungry \")) \n</code></pre>\n\n<p>but I want them to enter True/false, not an int. </p>\n"}, {"tags": ["python", "python-2.7", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1442431008, "post_id": 32616490, "comment_id": 53084480, "body": "That&#39;s a completely different issue. That means that <code>r[2].find(&quot;a&quot;)</code> isn&#39;t finding anything, so you can&#39;t call <code>.get(&quot;href&quot;)</code> on it. Please update your question with the updated code/error, also, add the main [python] tag."}], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 3352823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f244879612c5efe8b8bdfd00da875a?s=128&d=identicon&r=PG&f=1", "display_name": "cchahadoop", "link": "https://stackoverflow.com/users/3352823/cchahadoop"}, "is_accepted": false, "score": 0, "last_activity_date": 1442513161, "last_edit_date": 1495541033, "creation_date": 1442513161, "answer_id": 32637118, "question_id": 32616490, "link": "https://stackoverflow.com/questions/32616490/python-webscraping-billboard-top-100-list/32637118#32637118", "title": "Python Webscraping Billboard Top 100 List", "body": "<p>As you said, Get an if-else check on the cleaner function</p>\n\n<pre><code>cleaner = lambda r: [int(r[0].get_text()), r[1].get_text(), r[2].get_text(), r[2].find(\"a\").get(\"href\") if r[2].find(\"a\") else \"Couldn't Find A Link\"]\n</code></pre>\n\n<p>The general syntax of the if-else is (<a href=\"https://stackoverflow.com/questions/2802726/putting-a-simple-if-then-statement-on-one-line\">Putting a simple if-then statement on one line</a>)</p>\n\n<pre><code>value_when_true if condition else value_when_false\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4689725, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/17fd8087dfbf19bc29ba4aaaeca7f3aa?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4689725/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 993, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1442670559, "creation_date": 1442429529, "last_edit_date": 1442670559, "question_id": 32616490, "link": "https://stackoverflow.com/questions/32616490/python-webscraping-billboard-top-100-list", "title": "Python Webscraping Billboard Top 100 List", "body": "<p>This is an updated based on the generous feedback that I've received from the Stackoverflow community.  I'm still having some problems and need additional help:</p>\n\n<p>I am using an iPython notebook version 2.7 on a Windows 10 system to try to web scrape the tables found in Wikipedia's Billboard Top 100 for the years 1992 through 2015.  Full disclosure, that this is a class assignment but I am not getting the right support on the school forums.</p>\n\n<p>Here is the code that I am trying to use:</p>\n\n<pre><code>yearstext = {}\nfor year in range(1992, 2015, 1):\n    url=requests.get(\"http://en.wikipedia.org/wiki/Billboard_Year-End_Hot_100_singles_of_\"+str(year))\n    soup = BeautifulSoup(url.text, \"html.parser\")\n    yearstext[year] = soup\n</code></pre>\n\n<p>This works (thanks to your help).  However, it only gives me 2014 data.  I need it to loop through the years and give me a dictionary as it's keys the years (1992 through 2014) and as values corresponding to these keys the text of the page being fetched.  Do I need an append statement?  I keep trying to implement one and I haven't gotten it to work.</p>\n\n<p>Any help would be greatly appreciated. </p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 2417277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e713234820d52a59d34a0a05225c047e?s=128&d=identicon&r=PG", "display_name": "Parin Porecha", "link": "https://stackoverflow.com/users/2417277/parin-porecha"}, "edited": false, "score": 0, "creation_date": 1442431008, "post_id": 32616691, "comment_id": 53084481, "body": "I&#39;d like to have a setup where you can just write the plugin file conforming to certain specs, put it in plugins/ dir and forget about it. Hard-coding plugin names in <b>init</b>.py or manager.py would require modifying the file everytime a plugin is added/removed."}, {"owner": {"reputation": 553, "user_id": 2417277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e713234820d52a59d34a0a05225c047e?s=128&d=identicon&r=PG", "display_name": "Parin Porecha", "link": "https://stackoverflow.com/users/2417277/parin-porecha"}, "edited": false, "score": 0, "creation_date": 1442431213, "post_id": 32616691, "comment_id": 53084595, "body": "Also not sure about importing all the .py files. What happens when there is a folder for a plugin and multiple .py files exist in it? All will be imported unnecessarily. That&#39;s why the specs require that plugins just register a main function somewhere."}, {"owner": {"reputation": 1905, "user_id": 794627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f0faa9b905f0eeff93547ec33fc59b?s=128&d=identicon&r=PG", "display_name": "Aldehir", "link": "https://stackoverflow.com/users/794627/aldehir"}, "reply_to_user": {"reputation": 553, "user_id": 2417277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e713234820d52a59d34a0a05225c047e?s=128&d=identicon&r=PG", "display_name": "Parin Porecha", "link": "https://stackoverflow.com/users/2417277/parin-porecha"}, "edited": false, "score": 0, "creation_date": 1442431725, "post_id": 32616691, "comment_id": 53084850, "body": "@ParinPorecha That&#39;s why I suggested you use <code>os.listdir</code> to identify plugin files, and then import the module (file name without the <code>.py</code> extension). Also, you would only search 1 level deep in the plugins directory. A directory can also be a python module if it contains a <code>__init__.py</code> file, you would put the <code>register_plugin()</code> call in that file."}, {"owner": {"reputation": 553, "user_id": 2417277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e713234820d52a59d34a0a05225c047e?s=128&d=identicon&r=PG", "display_name": "Parin Porecha", "link": "https://stackoverflow.com/users/2417277/parin-porecha"}, "edited": false, "score": 0, "creation_date": 1442432359, "post_id": 32616691, "comment_id": 53085188, "body": "how do I identify the plugin files ;) ? The names of the folders can be anything, file names can be anything, the only requirement from my side is that they register themselves somewhere in the code."}, {"owner": {"reputation": 1905, "user_id": 794627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f0faa9b905f0eeff93547ec33fc59b?s=128&d=identicon&r=PG", "display_name": "Aldehir", "link": "https://stackoverflow.com/users/794627/aldehir"}, "reply_to_user": {"reputation": 553, "user_id": 2417277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e713234820d52a59d34a0a05225c047e?s=128&d=identicon&r=PG", "display_name": "Parin Porecha", "link": "https://stackoverflow.com/users/2417277/parin-porecha"}, "edited": false, "score": 0, "creation_date": 1442432792, "post_id": 32616691, "comment_id": 53085433, "body": "@ParinPorecha I have updated my answer with a more complete example. Unless you package each file with a configuration of some sort to identify an entry point, I am assuming each <code>*.py</code> file or directories containing a <code>__init__.py</code> under <code>plugins&#47;</code> to be a plugin."}, {"owner": {"reputation": 553, "user_id": 2417277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e713234820d52a59d34a0a05225c047e?s=128&d=identicon&r=PG", "display_name": "Parin Porecha", "link": "https://stackoverflow.com/users/2417277/parin-porecha"}, "edited": false, "score": 0, "creation_date": 1442433241, "post_id": 32616691, "comment_id": 53085694, "body": "Fair assumption. Thanks for showing the detailed steps :) Although it would put a constraint, the overhead on my end wouldn&#39;t be much. Feasible."}], "tags": [], "owner": {"reputation": 1905, "user_id": 794627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f0faa9b905f0eeff93547ec33fc59b?s=128&d=identicon&r=PG", "display_name": "Aldehir", "link": "https://stackoverflow.com/users/794627/aldehir"}, "is_accepted": false, "score": 2, "last_activity_date": 1442432983, "last_edit_date": 1442432983, "creation_date": 1442430254, "answer_id": 32616691, "question_id": 32616406, "link": "https://stackoverflow.com/questions/32616406/how-do-i-run-global-code-without-calling-the-file/32616691#32616691", "title": "How do I run global code without calling the file", "body": "<p>You can use the <code>__import__()</code> builtin to import the plugins, and then include the <code>register_plugin()</code> call in either the plugin file <code>example_plugin.py</code> or in <code>__init__.py</code> if it's a directory.</p>\n\n<p>For example, let's say this is your project structure:</p>\n\n<pre><code>./\napplication.py\nplugins_manager.py\nplugins/\n    __init__.py\n    plugin1.py\n    plugin2.py\n    plugin3/\n        __init__.py\n</code></pre>\n\n<p>Plugins have these contents:</p>\n\n<pre><code>$ cat plugins/plugin1.py\nprint 'Plugin 1'\n\n$ cat plugins/plugin2.py\nprint 'Plugin 2'\n\n$ cat plugins/plugin3/__init__.py\nprint 'Plugin 3'\n</code></pre>\n\n<p>In <code>plugins_manager.py</code>, identify the plugins and import them in:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from os import listdir\nfrom os.path import exists, isdir, basename, join, splitext\n\ndef is_plugin(filename):\n  filepath = join('plugins', filename)\n  _, ext = splitext(filepath)\n\n  # Ignore plugins/__init__.py\n  if filename == '__init__.py':\n    return False\n\n  # Find single file plugins\n  if ext == '.py':\n    return True\n\n  # Find plugins packaged in directories\n  if isdir(filepath) and exists(join(filepath, '__init__.py')):\n    return True\n\n  return False\n\nplugin_names = [ splitext(p)[0] for p in listdir('plugins/') if is_plugin(p) ]\nplugins = [ __import__('plugins.' + p) for p in plugin_names ]\n</code></pre>\n\n<p>Should get output similar to:</p>\n\n<pre><code>Plugin 1\nPlugin 2\nPlugin 3\n</code></pre>\n\n<p>Note that in this case the <code>plugins</code> variable contains a list of the module objects imported.</p>\n"}, {"tags": [], "owner": {"reputation": 343, "user_id": 5202842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a97b766b9dc03dad336435957c4869?s=128&d=identicon&r=PG&f=1", "display_name": "Robert E", "link": "https://stackoverflow.com/users/5202842/robert-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1442433755, "creation_date": 1442433755, "answer_id": 32617666, "question_id": 32616406, "link": "https://stackoverflow.com/questions/32616406/how-do-i-run-global-code-without-calling-the-file/32617666#32617666", "title": "How do I run global code without calling the file", "body": "<p>Strictly speaking I'd say there is no way to run code without it being invoked somehow. To do this, the running program can use</p>\n\n<pre><code>import importlib\n</code></pre>\n\n<p>so that once you've found the file you can import it with:</p>\n\n<pre><code>mod = importlib.import_module(import_name, pkg_name)\n</code></pre>\n\n<p>and if that file provides a known function (Run in this case) you can call it with:</p>\n\n<pre><code>mod.Run(your_args)\n</code></pre>\n\n<p>This works for Python 2.7. Version 3 might be different.</p>\n"}], "owner": {"reputation": 553, "user_id": 2417277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e713234820d52a59d34a0a05225c047e?s=128&d=identicon&r=PG", "display_name": "Parin Porecha", "link": "https://stackoverflow.com/users/2417277/parin-porecha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1442433755, "creation_date": 1442429200, "last_edit_date": 1442432694, "question_id": 32616406, "link": "https://stackoverflow.com/questions/32616406/how-do-i-run-global-code-without-calling-the-file", "title": "How do I run global code without calling the file", "body": "<p>I'm writing a python application that allows users to write their own plugins and extend the core functionality I provide -</p>\n\n<pre><code>$ tree project_dir/\n.\n\u251c\u2500\u2500 application.py\n\u251c\u2500\u2500 plugins\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 example_plugin.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 plugin1.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 plugin2.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 plugin3\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 sounds\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 test.wav\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 player.py\n\u2514\u2500\u2500 plugins_manager.py\n</code></pre>\n\n<p>plugins_manager.py -</p>\n\n<pre><code>class Manager(object):\n\n    def __init__(self):\n        self.plugins = {}\n\n    def register_plugin(self, name, plugin_func):\n        self.plugins[name] = plugin_func\n</code></pre>\n\n<p>application.py initializes <code>Manager</code> instance globally -</p>\n\n<pre><code>manager = Manager()\n\ndef main():\n    print manager.plugins\n\nmain()\n</code></pre>\n\n<p>Each plugin is required to import the <code>Manager</code> instance from <code>application.py</code> and register itself like, plugin1.py -</p>\n\n<pre><code>from application import manager\n\nPLUGIN_NAME = \"AAC_Player\"\n\ndef plugin_function(options):\n    # do something\n\nmanager.register_plugin(PLUGIN_NAME, plugin_function)\n</code></pre>\n\n<p>Now when I run application.py, obviously nothing gets printed. How do I make the plugins register themselves (call <code>.register_plugin()</code>) at program startup?</p>\n\n<p>So on that lines, a more generalised question would be - How can I make python execute a line of code that's global in a file without actually running the file?</p>\n\n<p>Suggestions on improving the plugin architecture welcome!</p>\n"}, {"tags": ["python", "lambda"], "answers": [{"comments": [{"owner": {"reputation": 1252, "user_id": 5166790, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/301276c92cba36a9987a5bcaa26becbd?s=128&d=identicon&r=PG&f=1", "display_name": "Zion", "link": "https://stackoverflow.com/users/5166790/zion"}, "edited": false, "score": 0, "creation_date": 1442429861, "post_id": 32616466, "comment_id": 53083815, "body": "so the moment you assign a value to <code>a</code> the <code>hi</code> function directly gets called?"}, {"owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "reply_to_user": {"reputation": 1252, "user_id": 5166790, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/301276c92cba36a9987a5bcaa26becbd?s=128&d=identicon&r=PG&f=1", "display_name": "Zion", "link": "https://stackoverflow.com/users/5166790/zion"}, "edited": false, "score": 0, "creation_date": 1442430429, "post_id": 32616466, "comment_id": 53084138, "body": "When you write <code>a[&quot;hello&quot;]</code> on the right side of a <code>=</code> or without an <code>=</code> at all, that&#39;s not an assignment, but simply an access. But yes, upon accessing <code>a[&quot;hello&quot;]</code> a defaultdict looks whether it finds <code>&quot;hello&quot;</code>. If it does not, it calls the <code>hi</code> function."}, {"owner": {"reputation": 1252, "user_id": 5166790, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/301276c92cba36a9987a5bcaa26becbd?s=128&d=identicon&r=PG&f=1", "display_name": "Zion", "link": "https://stackoverflow.com/users/5166790/zion"}, "edited": false, "score": 0, "creation_date": 1442430738, "post_id": 32616466, "comment_id": 53084325, "body": "I get why the lambda works now. your <code>make_hi</code> function nailed it.  basically when you say <code>a[&quot;hello&quot;]</code> the <code>hi</code> function automatically gets called but if you use a <code>lambda</code>. like <b>Example 3</b> when you say a[&quot;hello&quot;] the lambda gets called and doing <code>(jane)</code> is calling the <code>hi</code> function with jane as an argument. am I understanding that right?"}], "tags": [], "owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "is_accepted": true, "score": 6, "last_activity_date": 1442429456, "creation_date": 1442429456, "answer_id": 32616466, "question_id": 32616388, "link": "https://stackoverflow.com/questions/32616388/defaultdict-functions-and-lambdas/32616466#32616466", "title": "defaultdict, functions and lambdas", "body": "<p>When a defaultdict doesn't find a key, it calls the function without any parameters. With</p>\n\n<pre><code>def hi(name):\n    return \"hi \" + name\n\na = defaultdict(hi)\na[\"hello\"]\n</code></pre>\n\n<p>, <code>hi</code> gets called already, although you wanted it to be called only later. Since <code>hi</code> gets called without any parameters by the defaultdict, you're seeing the same error you'd see when manually running <code>hi()</code>, i.e. a <code>TypeError</code> complaining about the incorrect argument count.</p>\n\n<p>Another way of writing out the lambda (for didactic purposes only) would be</p>\n\n<pre><code>def hi(name):\n    return \"hi \" + name\n\ndef make_hi():\n    return hi\n\na = defaultdict(make_hi)\nprint(a[\"hello\"](\"jane\"))\n</code></pre>\n\n<p>Here, the access to <code>a[\"hello\"]</code> calls <code>make_hi</code>, which then returns <code>hi</code>, which then gets called with the parameters <code>(\"jane\")</code>.</p>\n"}], "owner": {"reputation": 1252, "user_id": 5166790, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/301276c92cba36a9987a5bcaa26becbd?s=128&d=identicon&r=PG&f=1", "display_name": "Zion", "link": "https://stackoverflow.com/users/5166790/zion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 32616466, "answer_count": 1, "score": 4, "last_activity_date": 1442430284, "creation_date": 1442429142, "last_edit_date": 1442430284, "question_id": 32616388, "link": "https://stackoverflow.com/questions/32616388/defaultdict-functions-and-lambdas", "title": "defaultdict, functions and lambdas", "body": "<p>I've been playing around with default dict and I'm confused</p>\n\n<p>Why does this not work:</p>\n\n<p><strong>Example 1</strong></p>\n\n<pre><code>def hi(name):\n    return \"hi \" + name\n\na = defaultdict(hi)\nprint(a[\"hello\"](\"jane\"))\n</code></pre>\n\n<p><strong>Output Example 1</strong></p>\n\n<pre><code>TypeError: hi() missing 1 required positional argument: 'name'\n</code></pre>\n\n<hr>\n\n<p>but this does:</p>\n\n<p><strong>Example 2</strong> </p>\n\n<pre><code>def hi(name):\n        return \"hi \" + name\n\na = {\"hello\":hi}\nprint(a[\"hello\"](\"jane\"))\n</code></pre>\n\n<p><strong>Output Example 2</strong></p>\n\n<pre><code>hi jane\n</code></pre>\n\n<hr>\n\n<p>also using a lambda would make it work</p>\n\n<p><strong>Example 3</strong> </p>\n\n<pre><code>def hi(name):\n    return \"hi \" + name\n\na = defaultdict(lambda: hi)\nprint(a[\"hello\"](\"jane\"))\n</code></pre>\n\n<p><strong>Output Example</strong> 3</p>\n\n<pre><code>hi jane\n</code></pre>\n\n<p>Why does <strong>Example 1</strong> return an error while <strong>Example 3</strong> doesn't?</p>\n\n<p>What's going on?</p>\n"}, {"tags": ["python", "class", "python-2.7", "multiple-inheritance", "super"], "answers": [{"tags": [], "owner": {"reputation": 312, "user_id": 3719883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19557e5e38eae03e2fc22a3fa3bafa49?s=128&d=identicon&r=PG", "display_name": "ugursogukpinar", "link": "https://stackoverflow.com/users/3719883/ugursogukpinar"}, "is_accepted": true, "score": 1, "last_activity_date": 1442429488, "creation_date": 1442429488, "answer_id": 32616473, "question_id": 32616367, "link": "https://stackoverflow.com/questions/32616367/python-multiple-inheritance-example/32616473#32616473", "title": "Python Multiple Inheritance Example", "body": "<p>When you create a D object , it will never call method that named 'method'. \nIt will just call parent's '<strong>init</strong>' method. So x or y will not change. </p>\n"}, {"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 2, "last_activity_date": 1442429582, "creation_date": 1442429582, "answer_id": 32616509, "question_id": 32616367, "link": "https://stackoverflow.com/questions/32616367/python-multiple-inheritance-example/32616509#32616509", "title": "Python Multiple Inheritance Example", "body": "<p>If you override a method like <code>method</code> in your example, but still want to get the behavior of the base class as well as your own, you need to use <code>super</code> to call the version of the method you're overriding.</p>\n\n<pre><code>class A(object):\n    def __init__(self):\n        self.x = 0\n        self.y = 0\n\n    def method(self):  # we need a verion of method() to end the super() calls at\n        pass\n\nclass B(A):\n    def method(self):\n        super(B, self).method() # call overridden version of method()\n        self.x += 1\n\nclass C(A):\n    def method(self):\n        super(C, self).method() # here too\n        self.y += 1\n\nclass D(B, C):\n    def method(self):\n        super(D, self).method() # and here\n        print self.x\n        print self.y\n</code></pre>\n\n<p>I've removed the unnecessary <code>__init__</code> methods in your child classes. There's no need to override a method unless you're changing its behavior, and none of the later <code>__init__</code> methods did anything other than call their predecessor.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10503784, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c3abae250838bcd337266bfb3380cef3?s=128&d=identicon&r=PG", "display_name": "user10503784", "link": "https://stackoverflow.com/users/10503784/user10503784"}, "is_accepted": false, "score": 0, "last_activity_date": 1539540894, "creation_date": 1539540894, "answer_id": 52805677, "question_id": 32616367, "link": "https://stackoverflow.com/questions/32616367/python-multiple-inheritance-example/52805677#52805677", "title": "Python Multiple Inheritance Example", "body": "<p>You can also call the method for the inherited classes within your D subclass\nclass D(B, C):</p>\n\n<pre><code>def __init__(self):\n    B.__init__(self)\n    C.__init__(self)\n\ndef method(self):\n    B.method(self)\n    C.method(self)\n    print(self.x)\n    print(self.y)\n</code></pre>\n"}], "owner": {"reputation": 2481, "user_id": 1484072, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bff4f8af836bfa4c9f62ccbc190edba1?s=128&d=identicon&r=PG", "display_name": "Lemonio", "link": "https://stackoverflow.com/users/1484072/lemonio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 718, "favorite_count": 0, "accepted_answer_id": 32616473, "answer_count": 3, "score": 0, "last_activity_date": 1539540894, "creation_date": 1442429078, "question_id": 32616367, "link": "https://stackoverflow.com/questions/32616367/python-multiple-inheritance-example", "title": "Python Multiple Inheritance Example", "body": "<p>I have this situation</p>\n\n<pre><code>class A(object):\n\n    def __init__(self):\n        self.x = 0\n        self.y = 0\n\nclass B(A):\n    def __init__(self):\n        super(B, self).__init__()\n\n    def method(self):\n        self.x += 1\n\nclass C(A):\n\n    def __init__(self):\n        super(C, self).__init__()\n\n    def method(self):\n        self.y += 1\n\nclass D(B, C):\n\n    def __init__(self):\n        super(D, self).__init__()\n\n    def method(self):\n        print self.x\n        print self.y\n</code></pre>\n\n<p>I want D to print 1 for both x and y, but it is printing 0.<br>\nI don't fully understand multiple inheritance/super/etc... and while I have been trying to read the docs, an explanation on the example would be very helpful to me.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "nltk"], "comments": [{"owner": {"reputation": 1543, "user_id": 2696275, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Ku4yB.jpg?s=128&g=1", "display_name": "Sahil M", "link": "https://stackoverflow.com/users/2696275/sahil-m"}, "edited": false, "score": 0, "creation_date": 1442430349, "post_id": 32616359, "comment_id": 53084084, "body": "Is there more to your code than this? You haven&#39;t initialized k anywhere before using it."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1442430364, "post_id": 32616359, "comment_id": 53084094, "body": "Something here is inconsistent.  Line 8 in your stack trace differs from the similar line in your source code -- and in the original, it&#39;s line 11.  Can you resolve these?  Also, I ran your given text and code, and they complete without error."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1442430700, "post_id": 32616359, "comment_id": 53084302, "body": "Additionally, what have you done to debug this?  I can almost guarantee that you haven&#39;t applied the basic, brute-force technique of sticking in print statements to trace execution.  If you had, I think you&#39;d have noticed that your &quot;if&quot; condition is always false: text[i] is a single character, but you search for it in a list of names.  A single character cannot match either &quot;JOHN&quot; or &quot;ROGER&quot; (... PRUNE comments, passing up the obvious theatrical puns)."}, {"owner": {"reputation": 1711, "user_id": 4309943, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XaN80.jpg?s=128&g=1", "display_name": "scrollex", "link": "https://stackoverflow.com/users/4309943/scrollex"}, "reply_to_user": {"reputation": 1543, "user_id": 2696275, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Ku4yB.jpg?s=128&g=1", "display_name": "Sahil M", "link": "https://stackoverflow.com/users/2696275/sahil-m"}, "edited": false, "score": 0, "creation_date": 1442452709, "post_id": 32616359, "comment_id": 53092558, "body": "@SahilM yup, just pasted that in. There&#39;s some more, but it&#39;s largely importing libraries."}, {"owner": {"reputation": 1711, "user_id": 4309943, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XaN80.jpg?s=128&g=1", "display_name": "scrollex", "link": "https://stackoverflow.com/users/4309943/scrollex"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1442452926, "post_id": 32616359, "comment_id": 53092607, "body": "@Prune I&#39;d had to change the text since I was working with text I couldn&#39;t post publicly, but the gist \u2014 name, punctuation, bracketed responses \u2014 are the same. Re: single character for text[i]: that would usually be right, but I don&#39;t think I was as clear as I should&#39;ve been \u2014 I&#39;d tokenized everything using NLTK, so text[i] yielded the first word. I&#39;ve figured out an answer, albeit an inelegant one; about to post it."}, {"owner": {"reputation": 1711, "user_id": 4309943, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XaN80.jpg?s=128&g=1", "display_name": "scrollex", "link": "https://stackoverflow.com/users/4309943/scrollex"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1442517145, "post_id": 32616359, "comment_id": 53124934, "body": "@Prune I just re-read that last sentence in a non sleep-deprived state, and got it a whole lot better. (SROLLEX appreciates the humour, and is grateful for the debugging suggestion, which helped with figuring out why the initial loop was such a mess)."}], "answers": [{"comments": [{"owner": {"reputation": 1711, "user_id": 4309943, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XaN80.jpg?s=128&g=1", "display_name": "scrollex", "link": "https://stackoverflow.com/users/4309943/scrollex"}, "edited": false, "score": 0, "creation_date": 1442454688, "post_id": 32619354, "comment_id": 53093034, "body": "This would&#39;ve been good, but not every new line has a new speaker \u2014 sometimes the crowd reactions interspersed one speaker&#39;s phrases. Sorry, should&#39;ve included that as one of the original examples above!"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 1711, "user_id": 4309943, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XaN80.jpg?s=128&g=1", "display_name": "scrollex", "link": "https://stackoverflow.com/users/4309943/scrollex"}, "edited": false, "score": 0, "creation_date": 1442501610, "post_id": 32619354, "comment_id": 53115701, "body": "That was already clear from your example. I could have been more specific, but I considered it obvious: You can see what kind of paragraph it is (<i>including</i> who is speaking) by examining the first word of each paragraph."}, {"owner": {"reputation": 1711, "user_id": 4309943, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XaN80.jpg?s=128&g=1", "display_name": "scrollex", "link": "https://stackoverflow.com/users/4309943/scrollex"}, "edited": false, "score": 0, "creation_date": 1442516998, "post_id": 32619354, "comment_id": 53124860, "body": "Yeah, I get that. I like the idea, but if I split on newline, there&#39;s still the question of  figuring out if each subsequent line is a non-name crowd reaction, adding that to that speaker&#39;s speech, and then add the following remainder of the speaker&#39;s speech to that particular item in the speech list, after which I can resume looking for more names."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 1711, "user_id": 4309943, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XaN80.jpg?s=128&g=1", "display_name": "scrollex", "link": "https://stackoverflow.com/users/4309943/scrollex"}, "edited": false, "score": 0, "creation_date": 1442608711, "post_id": 32619354, "comment_id": 53167733, "body": "Yeah, that&#39;s pretty much how it would go. And it&#39;s a lot simpler than you think, and more reliable than the hoops you&#39;re jumping through in your self-answer. But hey, it&#39;s your program, you get to choose."}], "tags": [], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "is_accepted": false, "score": 0, "last_activity_date": 1442440153, "creation_date": 1442440153, "answer_id": 32619354, "question_id": 32616359, "link": "https://stackoverflow.com/questions/32616359/index-error-in-loop-to-separate-body-of-text-by-speaker-in-python/32619354#32619354", "title": "Index error in loop to separate body of text by speaker in python", "body": "<p>Break the text into paragraphs with <code>re.split(r\"\\n\\s*\\n\", text)</code>, then examine the first word of each paragraph to see who is speaking. And don't worry about the nltk-- you haven't used it yet, and you don't need to.</p>\n"}, {"comments": [{"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 1, "creation_date": 1442501792, "post_id": 32621322, "comment_id": 53115837, "body": "You&#39;re getting the whole file because your <code>while</code> test is always false; <code>j</code> is never incremented, so you&#39;re effectively copying <code>text[i:-1]</code>. But you&#39;re making it too hard, use the paragraph breaks as I suggested."}], "tags": [], "owner": {"reputation": 1711, "user_id": 4309943, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XaN80.jpg?s=128&g=1", "display_name": "scrollex", "link": "https://stackoverflow.com/users/4309943/scrollex"}, "is_accepted": true, "score": 0, "last_activity_date": 1442454533, "last_edit_date": 1442454533, "creation_date": 1442454018, "answer_id": 32621322, "question_id": 32616359, "link": "https://stackoverflow.com/questions/32616359/index-error-in-loop-to-separate-body-of-text-by-speaker-in-python/32621322#32621322", "title": "Index error in loop to separate body of text by speaker in python", "body": "<p>Ok, figured this out after a bit of digging around. The initial loop mentioned in the question had a whole bunch of extraneous content, so I simplified it to:</p>\n\n<pre><code>names =[\"JOHN\",\"ROGER\"]\nglobal_list = []\ni = 0\n\nfor i in range(len(text)):\n    if (text[i].isupper()) and (text[i] in names):\n        j=0\n        while (text[i+j].islower()) and (text[i+j] not in names):\n            j+=1\n        global_list.append(text[i:(j-1)])\n</code></pre>\n\n<p>This generated a list, although, problematically, each item in this list was made up of words starting from the name through to the end of the document. Because each item began at the appropriate name while ending at the last word of the text corpus, it was easy to derive the length of each segment by subtracting the length of the following segment from it:</p>\n\n<pre><code>x=1\nnew_list = range(len(global_list)-1)\nfor x in range(len(global_list)):\n    if x == len(global_list):\n        new_list[x-1] = global_list[x]\n    else:\n        new_list[x-1] = global_list[x][:(len(global_list[x])-len(global_list[x+1]))]\n</code></pre>\n\n<p>(x was set to 1 because the original code gave me the first speaker's content twice).</p>\n\n<p>This wasn't in the least bit pretty, but it ended up working. If anyone's got a prettier way of doing it \u2014\u00a0and I'm sure it exists, since I think I've messed up the initial loop \u2014 I'd love to see it.</p>\n"}], "owner": {"reputation": 1711, "user_id": 4309943, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XaN80.jpg?s=128&g=1", "display_name": "scrollex", "link": "https://stackoverflow.com/users/4309943/scrollex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 32621322, "answer_count": 2, "score": 1, "last_activity_date": 1442454533, "creation_date": 1442429054, "last_edit_date": 1592644375, "question_id": 32616359, "link": "https://stackoverflow.com/questions/32616359/index-error-in-loop-to-separate-body-of-text-by-speaker-in-python", "title": "Index error in loop to separate body of text by speaker in python", "body": "<p>I've got a corpus of text which takes the following form:</p>\n<blockquote>\n<p>JOHN: Thanks for coming, everyone!</p>\n<p>(EVERYONE GRUMBLES)</p>\n<p>ROGER: They're really glad to see you, huh?</p>\n<p>DAVIS: They're glad to see the both of you.</p>\n</blockquote>\n<p>In order to analyze the text, I want to divide it into chunks, by speaker. I want to retain John and Roger, but not Davis. I also want to find the number of times the certain phrases like (EVERYONE GRUMBLES) occur during each person's speech.</p>\n<p>My first thought was to use NLTK, so I imported it and used the following code to remove all the punctuation and tokenize the text, so that each word within the corpus becomes an individual token:</p>\n<pre><code>f = open(&quot;text.txt&quot;)\nraw_t = f.read()\ntokenizer = RegexpTokenizer(r'\\w+')\ntokens = tokenizer.tokenize(raw_t.decode('utf-8'))\ntext = nltk.Text(tokens)\n</code></pre>\n<p>Then, I thought that I could create a global list, within which I would include all of the instances of John and Roger speaking.</p>\n<p>I figured that I'd first see if each word in the text corpus was upper case and in the list of acceptable names, and if it was, I'd examine every subsequent word until the next incidence of a term that was both upper case and was found in the list of acceptable names. I'd then add all the words from the initial instance of a speaker's name, through to one word less than the next speaker's name, and add this series of tokens/words to my global list.</p>\n<p>I've written:</p>\n<pre><code>k = 0\ni = 0\nj = 1\n\nnames =[&quot;JOHN&quot;,&quot;ROGER&quot;]\nglobal_list =[]\n\nfor i in range(len(text)):\n    if (text[i].isupper() and text[i] in names):\n        for j in range(len(text)-i):\n            if (text[i+j].isupper() and text[i+j] in names):\n                global_list[k] = text[i:(j-1)]\n                k+=1\n            else: j+=1\n    else: i+=1\n</code></pre>\n<p>Unfortunately, this doesn't work, and I get the following index error:</p>\n<pre><code>IndexError                                Traceback (most recent call last)\n&lt;ipython-input-49-97de0c68b674&gt; in &lt;module&gt;()\n      6         for j in range(len(text)-i):\n      7             if (text[i+j].isupper() and text[i+j] in names):\n----&gt; 8                 list_speeches[k] = text[i:(j-1)]\n      9                 k+=1\n     10             else: j+=1\n\nIndexError: list assignment index out of range\n    \n        \n</code></pre>\n<p>I feel like I'm screwing up something really basic here, but am not exactly why I'm getting this index error. Can anyone shed some light on this?</p>\n"}, {"tags": ["python", "widget", "ipython-notebook"], "answers": [{"comments": [{"owner": {"reputation": 12549, "user_id": 2005869, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1353059e4a8c3d6d0d009edda168a77e?s=128&d=identicon&r=PG", "display_name": "Rich Signell", "link": "https://stackoverflow.com/users/2005869/rich-signell"}, "edited": false, "score": 0, "creation_date": 1442436187, "post_id": 32616992, "comment_id": 53087280, "body": "Cool.  I did not know about <code>functools.partial</code>."}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "reply_to_user": {"reputation": 12549, "user_id": 2005869, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1353059e4a8c3d6d0d009edda168a77e?s=128&d=identicon&r=PG", "display_name": "Rich Signell", "link": "https://stackoverflow.com/users/2005869/rich-signell"}, "edited": false, "score": 0, "creation_date": 1442436291, "post_id": 32616992, "comment_id": 53087331, "body": "Yep, it&#39;s super effective!"}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "reply_to_user": {"reputation": 12549, "user_id": 2005869, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1353059e4a8c3d6d0d009edda168a77e?s=128&d=identicon&r=PG", "display_name": "Rich Signell", "link": "https://stackoverflow.com/users/2005869/rich-signell"}, "edited": false, "score": 0, "creation_date": 1442436585, "post_id": 32616992, "comment_id": 53087477, "body": "If that answer works for you, don&#39;t forget to mark it"}, {"owner": {"reputation": 12549, "user_id": 2005869, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1353059e4a8c3d6d0d009edda168a77e?s=128&d=identicon&r=PG", "display_name": "Rich Signell", "link": "https://stackoverflow.com/users/2005869/rich-signell"}, "edited": false, "score": 0, "creation_date": 1442439515, "post_id": 32616992, "comment_id": 53088919, "body": "is that Counter iterator method really necessary here?"}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "reply_to_user": {"reputation": 12549, "user_id": 2005869, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1353059e4a8c3d6d0d009edda168a77e?s=128&d=identicon&r=PG", "display_name": "Rich Signell", "link": "https://stackoverflow.com/users/2005869/rich-signell"}, "edited": false, "score": 0, "creation_date": 1442439568, "post_id": 32616992, "comment_id": 53088938, "body": "Not really, but I included it to make it more similar to itertools.count"}], "tags": [], "owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "is_accepted": true, "score": 4, "last_activity_date": 1442431459, "creation_date": 1442431459, "answer_id": 32616992, "question_id": 32616321, "link": "https://stackoverflow.com/questions/32616321/incrementing-a-counter-using-ipython-widgets/32616992#32616992", "title": "Incrementing a counter using ipython widgets", "body": "<p>Make your counter an object and have your callback take the counter object as an argument.</p>\n\n<pre><code>class Counter:\n   def __init__(self, initial=0):\n      self.value = initial\n\n   def increment(self, amount=1):\n      self.value += amount\n      return self.value\n\n   def __iter__(self, sentinal=False):\n      return iter(self.increment, sentinal)\n</code></pre>\n\n<p>Then you can just pass instances of this object around..</p>\n\n<pre><code>import ipywidgets as widgets\nfrom functools import partial\nfrom IPython.display import display\n\ndef button_callback(counter, w):\n    counter.increment()    \n\ncounter = Counter()\nw = widgets.Button(description='Click me')\nw.on_click(partial(button_callback, counter))\ndisplay(w)\n\n#... sometime later\n\nif counter.value &gt; SOME_AMOUNT:\n    do_stuff()\n</code></pre>\n"}], "owner": {"reputation": 12549, "user_id": 2005869, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1353059e4a8c3d6d0d009edda168a77e?s=128&d=identicon&r=PG", "display_name": "Rich Signell", "link": "https://stackoverflow.com/users/2005869/rich-signell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1228, "favorite_count": 0, "accepted_answer_id": 32616992, "answer_count": 1, "score": 2, "last_activity_date": 1442436003, "creation_date": 1442428963, "last_edit_date": 1442436003, "question_id": 32616321, "link": "https://stackoverflow.com/questions/32616321/incrementing-a-counter-using-ipython-widgets", "title": "Incrementing a counter using ipython widgets", "body": "<p>I would like to increment a counter when an ipython widget button is pressed.  I was able to get this to work using <code>global</code> in the code below, but what is a better way to do it?</p>\n\n<pre><code>import ipywidgets as widgets\nfrom IPython.display import display\n\ncount = 0\nw = widgets.Button(description='Click me')\nw.on_click(plusone)\ndisplay(w)\n\ndef plusone(w):\n    global count\n    count +=1\n</code></pre>\n"}, {"tags": ["python", "linux", "printing", "background", "message"], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 4824795, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/StH6E.jpg?s=128&g=1", "display_name": "Giovanni Bauermeister", "link": "https://stackoverflow.com/users/4824795/giovanni-bauermeister"}, "edited": false, "score": 0, "creation_date": 1442592759, "post_id": 32616991, "comment_id": 53159644, "body": "Hello Brian! I tried what you suggested but had no luck. It does log the messages and I could then use tail to show them but this doesnt seem to work from background. I will actually give up because the messages dont matter so much for the end user, so its more for a developer to check if everything is working fine. Anyway thank you. greetings from Brazil!"}], "tags": [], "owner": {"reputation": 2381, "user_id": 2574937, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/feedcf155189fa4c0e6f0f5ef99e6201?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Malehorn", "link": "https://stackoverflow.com/users/2574937/brian-malehorn"}, "is_accepted": true, "score": 0, "last_activity_date": 1442431457, "creation_date": 1442431457, "answer_id": 32616991, "question_id": 32616306, "link": "https://stackoverflow.com/questions/32616306/print-message-from-python-program-that-started-in-background/32616991#32616991", "title": "print message from python program that started in background", "body": "<p>The simplest to do this is to make the output go to a file in <code>noip.sh</code>:</p>\n\n<p><code>python myapp.py &gt; /tmp/myapp.out</code></p>\n\n<p>Then when you want to see the output,</p>\n\n<p><code>tail -f /tmp/myapp.out</code></p>\n"}], "owner": {"reputation": 176, "user_id": 4824795, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/StH6E.jpg?s=128&g=1", "display_name": "Giovanni Bauermeister", "link": "https://stackoverflow.com/users/4824795/giovanni-bauermeister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1863, "favorite_count": 0, "accepted_answer_id": 32616991, "answer_count": 1, "score": 0, "last_activity_date": 1442431457, "creation_date": 1442428922, "question_id": 32616306, "link": "https://stackoverflow.com/questions/32616306/print-message-from-python-program-that-started-in-background", "title": "print message from python program that started in background", "body": "<p>I made a python program thats is called when I connect to a ppp network.The app requests <a href=\"http://www.noip.com\" rel=\"nofollow\">www.noip.com</a> to link any new IP to a Host I created in their website.</p>\n\n<pre><code>/etc/ppp/ip-up.d/noip.sh  #this script calls my python app \n</code></pre>\n\n<p>The script runs fine when I connect to ppp, the python app is triggered and does change my IP addr on www.noip.com, but I'm not able to print messages to the console using just <code>print</code>. I have a few <code>print</code> statements in my app that only work if I run the app from the command line like <code>./myapp.py</code></p>\n\n<p>How to show messages if my python app is called from background? </p>\n\n<p>here is my Python code:</p>\n\n<pre><code>#!/usr/bin/python     \n\nimport requests                                                                 \nimport netifaces as ni\n\nuser = 'xxxxxxx'                                                          \npswd = 'xxxxxxx'                      \n\nni.ifaddresses('ppp0')                        \nip = ni.ifaddresses('ppp0')[2][0]['addr']        \nmyhostname = 'xxxxxxx'                                                  \n\npayload = {'hostname' : myhostname , 'myip' : ip}\nr = requests.get(\"http://dynupdate.no-ip.com/nic/update\", params=payload, auth=(user,pswd))\n\nprint \" \"                                                                       \nif \"good\" in r.text:                                                            \n        print \"Hello \", user, \"!\"        \n        print \"your IP was successfully updated to:\", ip        \n        print myhostname, \"is up and running!\"                                  \nif \"nochg\" in r.text:                                                           \n        print \"Hello\", user, \"!\"                                                \n        print \"Your IP\", ip, \"is still active, no change needed\"                \nif \"nohost\" in r.text:                                                          \n        print \"The given Host name\", myhostname, \"does not exist under specified account\"\n        print \"Please review your Host name and try again\"                      \nif \"badauth\" in r.text:                                                 \n        print \"Login and/or Username incorrect\"                                 \n        print \"Please correct your credentials and try again\"           \nif \"911\" in r.text:                                                     \n        print \"Sorry for the incovenience but we are experiencing some problems right now\"\n        print \"Please try again later\"                                          \nprint \"noip.com says:\", r.text                                                  \nprint \" \"  \n</code></pre>\n"}, {"tags": ["python", "global-variables", "pylint"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1442429899, "post_id": 32616286, "comment_id": 53083838, "body": "because pep8 specifies that module-level globals should be prefixed with an underscore ...   so its probably following that recommendation ... maybe ... not sure ... ive sledgehammered my pycharm up so i cant really verify atm :P"}], "answers": [{"tags": [], "owner": {"reputation": 966, "user_id": 2559785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/l6bkQ.png?s=128&g=1", "display_name": "studioj", "link": "https://stackoverflow.com/users/2559785/studioj"}, "is_accepted": false, "score": 0, "last_activity_date": 1554126540, "last_edit_date": 1554126540, "creation_date": 1554105015, "answer_id": 55450299, "question_id": 32616286, "link": "https://stackoverflow.com/questions/32616286/why-does-pylint-assume-module-level-variables-are-constants/55450299#55450299", "title": "Why does pylint assume module-level variables are constants?", "body": "<p>In answer <a href=\"https://softwareengineering.stackexchange.com/questions/148108/why-is-global-state-so-evil\">Why is Global State so Evil?</a> it is clarified that using global variables adds complexity and uncertainty since you don't know who accesses this global variable.</p>\n\n<p>As stated in the answer it would also make your code less (unit)testable.</p>\n\n<p>Declaring it as a constant is in linting terms more acceptable because when the variable/constant doesnt change you wouldn't have this uncertainty.</p>\n"}], "owner": {"reputation": 1251, "user_id": 93190, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3aaeaf7d29d09e618c63bd80491d3cc5?s=128&d=identicon&r=PG", "display_name": "talkaboutquality", "link": "https://stackoverflow.com/users/93190/talkaboutquality"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1495, "favorite_count": 2, "answer_count": 1, "score": 10, "last_activity_date": 1554126540, "creation_date": 1442428881, "last_edit_date": 1495542798, "question_id": 32616286, "link": "https://stackoverflow.com/questions/32616286/why-does-pylint-assume-module-level-variables-are-constants", "title": "Why does pylint assume module-level variables are constants?", "body": "<p>In the answer to <a href=\"https://stackoverflow.com/questions/1885251/how-do-i-tell-pylint-its-a-variable-not-a-constant-to-stop-message-c0103\">how to stop Pylint message C0103</a>, @ChristopheD accurately mentioned that \"pylint interprets all module-level variables as being 'constants'.\"</p>\n\n<p>I like Pylint, and suppose that the authors have code-quality-encouraging reasons for its default behavior. So, can anyone tell me: <strong>why</strong> does pylint interpret all module-level variables as being 'constants'?</p>\n\n<p>Is this perhaps pylint's way of highlighting implicit <a href=\"http://c2.com/cgi/wiki?GlobalVariablesAreBad\" rel=\"noreferrer\">global variables, which are considered bad</a>?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 204954, "user_id": 1903116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w6Ffg.jpg?s=128&g=1", "display_name": "thefourtheye", "link": "https://stackoverflow.com/users/1903116/thefourtheye"}, "edited": false, "score": 0, "creation_date": 1442428976, "post_id": 32616269, "comment_id": 53083324, "body": "You should return the recursive call&#39;s return value, <code>return fact(num - 1)</code>. You might also want to look at <a href=\"http://stackoverflow.com/a/30214677/1903116\">this answer</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1442429476, "post_id": 32616269, "comment_id": 53083602, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/27691547/recursive-function-does-not-return-specified-value\">Recursive function does not return specified value</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2679, "user_id": 1812322, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ab68ec41682314f87def370d3ddbac1f?s=128&d=identicon&r=PG", "display_name": "Bonifacio2", "link": "https://stackoverflow.com/users/1812322/bonifacio2"}, "is_accepted": true, "score": 2, "last_activity_date": 1442428915, "creation_date": 1442428915, "answer_id": 32616302, "question_id": 32616269, "link": "https://stackoverflow.com/questions/32616269/whats-wrong-with-my-code-in-python-2-7-9/32616302#32616302", "title": "What&#39;s wrong with my code in Python 2.7.9?", "body": "<p>You should change</p>\n\n<pre><code>if num-1 &gt; 1 :\n    fact(num - 1)\nelse:\n    return factorial\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>if num-1 &gt; 1 :\n    return fact(num - 1)\nelse :\n    return factorial\n</code></pre>\n\n<p>The problem was you were not returning anything except for the base case.</p>\n"}], "owner": {"reputation": 85, "user_id": 5334314, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/728ebf624731d35b2b3494a3826aaa73?s=128&d=identicon&r=PG&f=1", "display_name": "Saumya", "link": "https://stackoverflow.com/users/5334314/saumya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 32616302, "answer_count": 1, "score": 0, "last_activity_date": 1442430152, "creation_date": 1442428838, "last_edit_date": 1442430152, "question_id": 32616269, "link": "https://stackoverflow.com/questions/32616269/whats-wrong-with-my-code-in-python-2-7-9", "title": "What&#39;s wrong with my code in Python 2.7.9?", "body": "<p>I have just started learning python and written a procedure to calculate factorial of a number. I am getting a logical error. The value returned by <code>fact</code> function is <code>None</code> and the value of <code>factorial</code> after execution is 24.</p>\n\n<pre><code>factorial = 1\n\ndef fact(num) :\n    if num == 0 :\n        return 1\n    global factorial\n    print factorial\n    factorial *= num\n    if num-1 &gt; 1 :\n        fact(num - 1)\n    else :\n        return factorial\n\nprint fact(4)\nprint factorial\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>1\n4\n12\nNone\n24\n</code></pre>\n"}, {"tags": ["python", "pyramid"], "comments": [{"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1442490169, "post_id": 32616268, "comment_id": 53108031, "body": "Instead of <code>raise</code>  can you do <code>return</code> where you construct the full HTTP response, including a rendered template in the response body?"}, {"owner": {"reputation": 21, "user_id": 5343680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad11963068e65a3cf387f11226c60821?s=128&d=identicon&r=PG&f=1", "display_name": "Eldon", "link": "https://stackoverflow.com/users/5343680/eldon"}, "reply_to_user": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1442593067, "post_id": 32616268, "comment_id": 53159796, "body": "@MikkoOhtamaa I would receive an error like &quot;no such renderer factory: jinja2&quot;, although I&#39;m sure I correctly import the jinja2 factory in my config. I&#39;m able to render other views&#39; jinja2 templates just fine."}, {"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1442599550, "post_id": 32616268, "comment_id": 53163067, "body": "If there is an error can you post a full traceback for the error? Also related configuration Python code."}, {"owner": {"reputation": 15310, "user_id": 13986, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9de7d27799eccd891d898b9b2b3c2949?s=128&d=identicon&r=PG", "display_name": "X-Istence", "link": "https://stackoverflow.com/users/13986/x-istence"}, "edited": false, "score": 0, "creation_date": 1442692208, "post_id": 32616268, "comment_id": 53190718, "body": "That last one where you set the response.status code yourself is the way that Pyramid developers use.  <code>exc</code> in your <code>please_wait()</code> view is a full Response and thus can be set as <code>request.response</code> or you could even <code>return exc</code> to get the same effect."}], "owner": {"reputation": 21, "user_id": 5343680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad11963068e65a3cf387f11226c60821?s=128&d=identicon&r=PG&f=1", "display_name": "Eldon", "link": "https://stackoverflow.com/users/5343680/eldon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1442509719, "creation_date": 1442428838, "last_edit_date": 1442509719, "question_id": 32616268, "link": "https://stackoverflow.com/questions/32616268/pyramid-view-for-503-subclass", "title": "pyramid view for 503 subclass", "body": "<p>I'd like to serve some templated html along with a 503 status code when I hit a particular case in my app. Subclassing the pyramid 503 exception represents this handily:</p>\n\n<pre><code>from pyramid.httpexceptions import HTTPServiceUnavailable\nclass PleaseWait(HTTPServiceUnavailable):\n    pass\n\ndef business_logic():\n    if not_ready():\n        raise PleaseWait()\n</code></pre>\n\n<p>What I can't figure out is a clean way to hook up a template to <code>PleaseWait</code>. This nearly works, but gives code 200:</p>\n\n<pre><code>config.add_view(\n    renderer='templates/please_wait.jinja2',\n    context='my_app.PleaseWait',\n)\n</code></pre>\n\n<p>This completely works, but seems messy:</p>\n\n<pre><code>@view_config(context=PleaseWait, renderer='templates/please_wait.jinja2')\ndef please_wait(exc, request):\n    request.response.status = 503\n    return {}\n</code></pre>\n\n<hr>\n\n<p>This also works, but seems maybe bizarre: <code>request.response = exc</code>.</p>\n"}, {"tags": ["python", "string", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1114, "user_id": 5329510, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d06d0b1394239c14527b7d30940eff24?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5329510/david"}, "edited": false, "score": 0, "creation_date": 1442429387, "post_id": 32616409, "comment_id": 53083555, "body": "Amazing.  I was close to chaining <code>str</code> events.  I didn&#39;t know <code>str.contains</code> has a <code>case=False</code> option.  That&#39;s great.  One more follow up: I&#39;ve gotten the dreaded SettingWithCopy Warning that you referred to.  Would you mind elaborating on it a little?  My goal is to create a new dataframe of just the rows that contain &#39;ball&#39;"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "reply_to_user": {"reputation": 1114, "user_id": 5329510, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d06d0b1394239c14527b7d30940eff24?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5329510/david"}, "edited": false, "score": 2, "creation_date": 1442429808, "post_id": 32616409, "comment_id": 53083775, "body": "That&#39;s a bit too long of a story to write here in the comments.  You can read <a href=\"http://pandas-docs.github.io/pandas-docs-travis/indexing.html?highlight=settingwithcopywarning#returning-a-view-versus-a-copy\" rel=\"nofollow noreferrer\">this section</a> of the documentation for an explanation."}, {"owner": {"reputation": 4949, "user_id": 7657180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c0ee64d62bb9980080e6881a20a15fc?s=128&d=identicon&r=PG", "display_name": "YasserKhalil", "link": "https://stackoverflow.com/users/7657180/yasserkhalil"}, "edited": false, "score": 0, "creation_date": 1607200048, "post_id": 32616409, "comment_id": 115199414, "body": "Thanks a lot. How can I add multiple strings for the filtering?"}], "tags": [], "owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "is_accepted": true, "score": 54, "last_activity_date": 1442429214, "creation_date": 1442429214, "answer_id": 32616409, "question_id": 32616261, "link": "https://stackoverflow.com/questions/32616261/filtering-pandas-dataframe-rows-by-contains-str/32616409#32616409", "title": "Filtering pandas dataframe rows by contains str", "body": "<p>You could either use <code>.str</code> again to get access to the string methods, or (better, IMHO) use <code>case=False</code> to guarantee case insensitivity:</p>\n\n<pre><code>&gt;&gt;&gt; df = pd.DataFrame({\"body\": [\"ball\", \"red BALL\", \"round sphere\"]})\n&gt;&gt;&gt; df[df[\"body\"].str.contains(\"ball\")]\n   body\n0  ball\n&gt;&gt;&gt; df[df[\"body\"].str.lower().str.contains(\"ball\")]\n       body\n0      ball\n1  red BALL\n&gt;&gt;&gt; df[df[\"body\"].str.contains(\"ball\", case=False)]\n       body\n0      ball\n1  red BALL\n&gt;&gt;&gt; df[df[\"body\"].str.contains(\"ball\", case=True)]\n   body\n0  ball\n</code></pre>\n\n<p>(Note that if you're going to be doing assignments, it's a better habit to use <code>df.loc</code>, to avoid the dreaded SettingWithCopyWarning, but if we're just selecting here it doesn't matter.)</p>\n\n<p>(Note #2: guess I really didn't need to specify 'round' there..)</p>\n"}], "owner": {"reputation": 1114, "user_id": 5329510, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d06d0b1394239c14527b7d30940eff24?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5329510/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32791, "favorite_count": 8, "accepted_answer_id": 32616409, "answer_count": 1, "score": 28, "last_activity_date": 1442429214, "creation_date": 1442428821, "question_id": 32616261, "link": "https://stackoverflow.com/questions/32616261/filtering-pandas-dataframe-rows-by-contains-str", "title": "Filtering pandas dataframe rows by contains str", "body": "<p>I have a python pandas dataframe <code>df</code> with a lot of rows.  From those rows, I want to slice out and only use the rows that contain the word 'ball' in the 'body' column.  To do that, I can do:</p>\n\n<p><code>df[df['body'].str.contains('ball')]</code></p>\n\n<p>The issue is, I want it to be case insensitive, meaning that if the word Ball or bAll showed up, I'll want those as well.  One way to do case insensitive search is to turn the string to lowercase and then search that way.  I'm wondering how to go about doing that. I tried</p>\n\n<p><code>df[df['body'].str.lower().contains('ball')]</code></p>\n\n<p>But that doesn't work.  I'm not sure if I'm supposed to use a lambda function on this or something of that nature.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "edited": false, "score": 1, "creation_date": 1442428835, "post_id": 32616219, "comment_id": 53083251, "body": "Do you have something like <code>def foo(): m = 4; global m</code>? If so the <code>global m</code> should come before the assignment."}], "answers": [{"tags": [], "owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "is_accepted": false, "score": 0, "last_activity_date": 1442428904, "creation_date": 1442428904, "answer_id": 32616298, "question_id": 32616219, "link": "https://stackoverflow.com/questions/32616219/python-getting-syntaxwarnings-how-do-i-stop-them/32616298#32616298", "title": "Python - Getting SyntaxWarnings - how do i stop them?", "body": "<p>I suspect you have something like this:</p>\n\n<pre><code>&gt;&gt; m = 10\n&gt;&gt; def foo():\n    m = 55\n    global m\n\n&lt;stdin&gt;:3: SyntaxWarning: name 'm' is assigned to before global declaration\n&gt;&gt; foo()\n&gt;&gt; m\n55\n</code></pre>\n\n<p>If so, simply put the <code>global m</code> declaration first:</p>\n\n<pre><code>&gt;&gt; m = 10\n&gt;&gt; def foo():\n    global m\n    m = 55\n&gt;&gt; foo()\n&gt;&gt; m\n55\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": false, "score": 0, "last_activity_date": 1442436420, "creation_date": 1442436420, "answer_id": 32618371, "question_id": 32616219, "link": "https://stackoverflow.com/questions/32616219/python-getting-syntaxwarnings-how-do-i-stop-them/32618371#32618371", "title": "Python - Getting SyntaxWarnings - how do i stop them?", "body": "<p>Claudiu's answer is correct as to what <em>you</em> should do: move your global statement.</p>\n\n<p>Even though Python works with <code>global</code> anywhere in a function, I believe experience showed that 'out of order' code was sometimes buggy, due to someone thinking that the order is significant. When a change was made, it was decided to avoid breaking existing correctly working code by raising SyntaxError and warn with SyntaxWarning instead.</p>\n\n<p>If one imports code that one cannot fix, the warning can be suppressed at the command line.  I believe \"-W ignore::SyntaxWarning\" would be the appropriate incantation, but I have not tested.  One can wrap an import as follows.</p>\n\n<pre><code>import warnings\n\nwith warnings.catch_warnings():\n    warnings.simplefilter('ignore', SyntaxWarning)\n    # simulate import of module giving SyntaxWarning\n    warnings.warn('bad', SyntaxWarning)\n</code></pre>\n\n<p>No warning is printed. Comment out the simplefilter line and one is.</p>\n"}], "owner": {"reputation": 91, "user_id": 5339375, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/KUkEl.png?s=128&g=1", "display_name": "finlx", "link": "https://stackoverflow.com/users/5339375/finlx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1442436420, "creation_date": 1442428697, "last_edit_date": 1442433790, "question_id": 32616219, "link": "https://stackoverflow.com/questions/32616219/python-getting-syntaxwarnings-how-do-i-stop-them", "title": "Python - Getting SyntaxWarnings - how do i stop them?", "body": "<p>I keep on getting this warning:</p>\n\n<pre><code>    Warning (from warnings module):\n  File \"C:\\Users\\finlx\\Desktop\\file.py\", line 49\n    global m\nSyntaxWarning: name 'm' is assigned to before global declaration\n</code></pre>\n\n<p>I have looked through the code, the program works perfectly but it gives me about 10 of those warnings (each for the same problem but a different variable) is there either a way to disable this or am i typing something wrong?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "edited": false, "score": 0, "creation_date": 1442441807, "post_id": 32616579, "comment_id": 53089844, "body": "I don&#39;t understand, that&#39;s what the first part of my answer demonstrates"}, {"owner": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "edited": false, "score": 0, "creation_date": 1442496588, "post_id": 32616579, "comment_id": 53112044, "body": "all good thanks EdChum! Also, can you point me in the direction on anything that will explain shift() in detail? I have a hard time finding detailed info on it, as it looks so simple but it works great. appreciate it"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "edited": false, "score": 0, "creation_date": 1442496725, "post_id": 32616579, "comment_id": 53112147, "body": "The api <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.shift.html#pandas.Series.shift\" rel=\"nofollow noreferrer\">docs</a> has a little information"}, {"owner": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "edited": false, "score": 0, "creation_date": 1442496972, "post_id": 32616579, "comment_id": 53112346, "body": "correct me if im wrong, but is the logic here that the code runs through the Roll series by looking at True or False for Roll = 1, and then based on an outcome being False it shifts down the entire row, therefore eliminating it? I guess I am trying to wrap my head around how such a simple piece of code can do all that."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "edited": false, "score": 0, "creation_date": 1442497074, "post_id": 32616579, "comment_id": 53112428, "body": "It shifts the the series by a single row, there is no rolling as it will introduce a <code>NaN</code> value at the first row"}, {"owner": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "edited": false, "score": 0, "creation_date": 1442499078, "post_id": 32616579, "comment_id": 53113869, "body": "sorry for the million questions but I just want to make sure I understand something before I blindly use it. How does the code know where to shift, it doesn&#39;t look intuitive when we have &quot;...shift() != 1&quot;"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "edited": false, "score": 0, "creation_date": 1442499504, "post_id": 32616579, "comment_id": 53114190, "body": "I call <code>shift</code> on the column so <code>df[&#39;Roll&#39;].shift()</code> will move the rows down by one, you can see this when you try it yourself"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 3, "last_activity_date": 1442429836, "creation_date": 1442429836, "answer_id": 32616579, "question_id": 32616208, "link": "https://stackoverflow.com/questions/32616208/pandas-dataframe-removing-following-row-based-on-value-in-column/32616579#32616579", "title": "pandas dataframe removing following row based on value in column", "body": "<p>Create a boolean mask using <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.shift.html#pandas.Series.shift\" rel=\"nofollow\"><code>shift</code></a> that tests whether the previous row contains 1 or not:</p>\n\n<pre><code>In [24]:\ndf[df['Roll'].shift() != 1]\n\nOut[24]:\n   Date  Close  Open  Roll\n0     1    500   499     0\n1     2    502   502     0\n2     3    500   499     0\n3     4    500   499     1\n5     6    506   506     0\n6     7    509   508     0\n</code></pre>\n\n<p>the boolean mask looks like this:</p>\n\n<pre><code>In [25]:\ndf['Roll'].shift() != 1\n\nOut[25]:\n0     True\n1     True\n2     True\n3     True\n4    False\n5     True\n6     True\nName: Roll, dtype: bool\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 32616579, "answer_count": 1, "score": 1, "last_activity_date": 1442429836, "creation_date": 1442428660, "question_id": 32616208, "link": "https://stackoverflow.com/questions/32616208/pandas-dataframe-removing-following-row-based-on-value-in-column", "title": "pandas dataframe removing following row based on value in column", "body": "<p>simple question but I have not been able to find anything on this. I have the following dataframe, and hope to accomplish the following:</p>\n\n<p>where Roll = 1 in our dataframe, I want to delete the next row, and only that one row. Keep in mind that many rows for Roll will be 0 but only a few need to be removed specifically rows where the preceding row for Roll = 1</p>\n\n<pre><code>Date    Close    Open    Roll\n1       500      499     0\n2       502      502     0\n3       500      499     0\n4       500      499     1\n5       501      502     0 (delete this row)\n6       506      506     0\n7       509      508     0\n</code></pre>\n"}, {"tags": ["python", "nltk"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1442429753, "post_id": 32616185, "comment_id": 53083750, "body": "It definitely looks like a <code>PATH</code> issue. Use the absolute path to the script."}, {"owner": {"reputation": 564, "user_id": 3456798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f7e1d6dd992ca7048ec8cf05f1d559?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3456798/david"}, "edited": false, "score": 0, "creation_date": 1442430005, "post_id": 32616185, "comment_id": 53083890, "body": "Don&#39;t you need &quot;<b>python</b> pdf2text.py -o paper.txt -t text paper.pdf&quot;"}, {"owner": {"reputation": 378, "user_id": 4001728, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/30e4634bc6682da5aff886511e7f4a61?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/4001728/lucas"}, "edited": false, "score": 0, "creation_date": 1442430044, "post_id": 32616185, "comment_id": 53083917, "body": "aren&#39;t you missing the call to python? <code>&quot;python pdf2text.py -o paper.txt -t text paper.pdf&quot; </code>"}, {"owner": {"reputation": 718, "user_id": 1090302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b244c68831dba831572c951530814?s=128&d=identicon&r=PG", "display_name": "Zev Chonoles", "link": "https://stackoverflow.com/users/1090302/zev-chonoles"}, "reply_to_user": {"reputation": 564, "user_id": 3456798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f7e1d6dd992ca7048ec8cf05f1d559?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3456798/david"}, "edited": false, "score": 0, "creation_date": 1442430165, "post_id": 32616185, "comment_id": 53083981, "body": "@David, @Lucas:  I know it seems like it would need the python call, but the installation script of <code>pdf2txt</code> creates a program <code>&#47;usr&#47;bin&#47;pdf2txt.py</code>."}], "answers": [{"comments": [{"owner": {"reputation": 465, "user_id": 3045872, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/hbv4x.jpg?s=128&g=1", "display_name": "goblin-esque", "link": "https://stackoverflow.com/users/3045872/goblin-esque"}, "edited": false, "score": 0, "creation_date": 1442430260, "post_id": 32616623, "comment_id": 53084030, "body": "Oh my Lord, I hang my head in shame."}, {"owner": {"reputation": 718, "user_id": 1090302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b244c68831dba831572c951530814?s=128&d=identicon&r=PG", "display_name": "Zev Chonoles", "link": "https://stackoverflow.com/users/1090302/zev-chonoles"}, "reply_to_user": {"reputation": 465, "user_id": 3045872, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/hbv4x.jpg?s=128&g=1", "display_name": "goblin-esque", "link": "https://stackoverflow.com/users/3045872/goblin-esque"}, "edited": false, "score": 0, "creation_date": 1442430283, "post_id": 32616623, "comment_id": 53084046, "body": "No worries, happens to all of us sometimes :)"}], "tags": [], "owner": {"reputation": 718, "user_id": 1090302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b244c68831dba831572c951530814?s=128&d=identicon&r=PG", "display_name": "Zev Chonoles", "link": "https://stackoverflow.com/users/1090302/zev-chonoles"}, "is_accepted": true, "score": 3, "last_activity_date": 1442430010, "creation_date": 1442430010, "answer_id": 32616623, "question_id": 32616185, "link": "https://stackoverflow.com/questions/32616185/python-command-works-in-terminal-not-os-system/32616623#32616623", "title": "Python: Command works in Terminal, not os.system()", "body": "<p>The problem is that the program name is <code>pdf2txt.py</code>, not <code>pdf2text.py</code>.</p>\n"}], "owner": {"reputation": 465, "user_id": 3045872, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/hbv4x.jpg?s=128&g=1", "display_name": "goblin-esque", "link": "https://stackoverflow.com/users/3045872/goblin-esque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 32616623, "answer_count": 1, "score": 1, "last_activity_date": 1442430010, "creation_date": 1442428609, "question_id": 32616185, "link": "https://stackoverflow.com/questions/32616185/python-command-works-in-terminal-not-os-system", "title": "Python: Command works in Terminal, not os.system()", "body": "<p>I'm writing a Python script to pull PDFs from a website, loop over them, scrape their text, and then perform basic natural language processing on them. </p>\n\n<p>I'm running into a strange problem: if I use <a href=\"http://www.unixuser.org/~euske/python/pdfminer/\" rel=\"nofollow\">PDFMiner</a>'s <code>pdf2txt.py</code> command in Terminal, it works fine. If instead I try to loop over my files in the script itself, like so:</p>\n\n<pre><code>for url in papers:\n     urllib.urlretrieve(url, DIR + \"paper.pdf\")\n     os.system(\"pdf2text.py -o paper.txt -t text paper.pdf\")\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>sh: pdf2text.py: command not found</p>\n</blockquote>\n\n<p>Is it something to do with PATH, env vars? I don't even know where to begin.</p>\n\n<p>I'd really prefer <code>pdf2txt</code> than, say, <a href=\"https://pypi.python.org/pypi/slate\" rel=\"nofollow\"><code>slate</code></a>, since the latter's causing <code>nltk</code> to bug out (whole other SO post, I guess).</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2712, "user_id": 1548472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/1Xbe4.png?s=128&g=1", "display_name": "holroy", "link": "https://stackoverflow.com/users/1548472/holroy"}, "edited": false, "score": 0, "creation_date": 1442430655, "post_id": 32616182, "comment_id": 53084275, "body": "You are mixing lists and dictionary here, and it is somewhat unclear what you actually want to achieve. Could you please extend your code example, and give a full example with expected input and output?"}], "answers": [{"tags": [], "owner": {"reputation": 3866, "user_id": 3364618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9fbbb284e1a7ec696af1a7ddea4a4290?s=128&d=identicon&r=PG", "display_name": "Juxhin", "link": "https://stackoverflow.com/users/3364618/juxhin"}, "is_accepted": true, "score": 0, "last_activity_date": 1442429131, "last_edit_date": 1442429131, "creation_date": 1442428802, "answer_id": 32616254, "question_id": 32616182, "link": "https://stackoverflow.com/questions/32616182/could-someone-solve-the-following-syntax-error-please/32616254#32616254", "title": "Could someone solve the following syntax error, please?", "body": "<p>You are trying to iterate over a single <code>int</code> element rather than a list or dictionary. The following should give you a better idea.</p>\n\n<pre><code>vars = {'key':'value'}\nfor key, value in vars.iteritems():\n    print key, value\n</code></pre>\n\n<p>This may suit you better (even though it's counter intuitive really):</p>\n\n<pre><code>vars = [1, 2, 3]\nd = {'key':'value'}\nfor value in vars:\n    d['key'] = value\nprint d\n</code></pre>\n\n<p>Output: <code>{'key': 3}</code></p>\n\n<p>From the <a href=\"https://docs.python.org/2/library/exceptions.html\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>exception TypeError\n  Raised when an operation or function is applied to an object of inappropriate type. The associated value is a string giving details about the type mismatch.</p>\n</blockquote>\n"}], "owner": {"reputation": 3, "user_id": 5343283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b116e25bf90c057bc75b0bbd594ae1aa?s=128&d=identicon&r=PG&f=1", "display_name": "kgahnlhdVCWB", "link": "https://stackoverflow.com/users/5343283/kgahnlhdvcwb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 32616254, "answer_count": 1, "score": 0, "last_activity_date": 1442429131, "creation_date": 1442428604, "question_id": 32616182, "link": "https://stackoverflow.com/questions/32616182/could-someone-solve-the-following-syntax-error-please", "title": "Could someone solve the following syntax error, please?", "body": "<p>Note: I am not a regular user of Python.</p>\n\n<p>The following has been identified as a syntax error, and while it may seem somewhat basic or trivial, I cannot for the life of me solve the error.</p>\n\n<pre><code>{'key': value for (key, value) in vars()[x]}\n</code></pre>\n\n<p>I also entered it into the IDLE shell, and the following is the received response.</p>\n\n<pre><code>&gt;&gt;&gt; x = input('')\n1\n&gt;&gt;&gt; vars()[x]=[1,2,3]\n&gt;&gt;&gt; myDict = {'key': value for (key, value) in vars()[x]}\nTraceback (most recent call last):\n  File \"&lt;pyshell#2&gt;\", line 1, in &lt;module&gt;\n    myDict = {'key': value for (key, value) in vars()[x]}\n  File \"&lt;pyshell#2&gt;\", line 1, in &lt;dictcomp&gt;\n    myDict = {'key': value for (key, value) in vars()[x]}\nTypeError: 'int' object is not iterable\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "math", "text", "text-files", "conditional"], "comments": [{"owner": {"reputation": 1190, "user_id": 1879042, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Vul6p.jpg?s=128&g=1", "display_name": "Anton Samsonov", "link": "https://stackoverflow.com/users/1879042/anton-samsonov"}, "edited": false, "score": 2, "creation_date": 1442428678, "post_id": 32616162, "comment_id": 53083172, "body": "What code have you already tried?"}, {"owner": {"reputation": 9, "user_id": 5343639, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/50716dca02450aec688f6274769d8343?s=128&d=identicon&r=PG&f=1", "display_name": "A Grimm", "link": "https://stackoverflow.com/users/5343639/a-grimm"}, "reply_to_user": {"reputation": 1190, "user_id": 1879042, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Vul6p.jpg?s=128&g=1", "display_name": "Anton Samsonov", "link": "https://stackoverflow.com/users/1879042/anton-samsonov"}, "edited": false, "score": 0, "creation_date": 1442429829, "post_id": 32616162, "comment_id": 53083797, "body": "Just updated post with current code. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5343639, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/50716dca02450aec688f6274769d8343?s=128&d=identicon&r=PG&f=1", "display_name": "A Grimm", "link": "https://stackoverflow.com/users/5343639/a-grimm"}, "edited": false, "score": 0, "creation_date": 1442440158, "post_id": 32616930, "comment_id": 53089192, "body": "Now I&#39;m running into another problem. There is actually more data in my text file but the Run and Idle values are the only ones I care about. When I compile and run the program, I get the following error. IdleNum = int(line.split(&quot;Idle=&quot;)[1]) ValueError: invalid literal for int () with base 10: &#39;0"}, {"owner": {"reputation": 1543, "user_id": 2696275, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Ku4yB.jpg?s=128&g=1", "display_name": "Sahil M", "link": "https://stackoverflow.com/users/2696275/sahil-m"}, "reply_to_user": {"reputation": 9, "user_id": 5343639, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/50716dca02450aec688f6274769d8343?s=128&d=identicon&r=PG&f=1", "display_name": "A Grimm", "link": "https://stackoverflow.com/users/5343639/a-grimm"}, "edited": false, "score": 0, "creation_date": 1442473565, "post_id": 32616930, "comment_id": 53098679, "body": "Changed according to what you said. I have assumed that your columns are separated by whitespace. If that is true, this should work now."}], "tags": [], "owner": {"reputation": 1543, "user_id": 2696275, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Ku4yB.jpg?s=128&g=1", "display_name": "Sahil M", "link": "https://stackoverflow.com/users/2696275/sahil-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1442476387, "last_edit_date": 1442476387, "creation_date": 1442431191, "answer_id": 32616930, "question_id": 32616162, "link": "https://stackoverflow.com/questions/32616162/searching-for-numeric-values-and-conditions-in-text-file-python/32616930#32616930", "title": "Searching for numeric values and conditions in text file (Python)", "body": "<p>This should do:</p>\n\n<pre><code>def main():\n  with open('data.txt', 'r') as searchfile:\n    for line in searchfile:\n      line = line.strip()\n      # This works because Python checks this substring in the line\n      if (\"Run=true\") in line:\n        firstSplit = line.split(\"Idle=\")[1]\n        # Splitting again to get the first element before the whitespace\n        idleNum = int(firstSplit.split('\\s')[0])\n        # This had to be changed as you are comparing integers while\n        # the data is still of type string\n        if (idleNum &gt;=10):\n          print line\n\nif __name__ == '__main__':\n  main()\n</code></pre>\n\n<p>Result using data above:</p>\n\n<pre><code>Name=A     Run=true     Idle=15\nName=B     Run=true     Idle=10\nName=D     Run=true     Idle=92\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 5343639, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/50716dca02450aec688f6274769d8343?s=128&d=identicon&r=PG&f=1", "display_name": "A Grimm", "link": "https://stackoverflow.com/users/5343639/a-grimm"}, "edited": false, "score": 0, "creation_date": 1442431498, "post_id": 32616941, "comment_id": 53084735, "body": "Thanks! This makes sense now."}, {"owner": {"reputation": 9, "user_id": 5343639, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/50716dca02450aec688f6274769d8343?s=128&d=identicon&r=PG&f=1", "display_name": "A Grimm", "link": "https://stackoverflow.com/users/5343639/a-grimm"}, "edited": false, "score": 0, "creation_date": 1442440061, "post_id": 32616941, "comment_id": 53089148, "body": "@Sahil M Now I&#39;m running into another problem. There is actually more data in my text file but the Run and Idle values are the only ones I care about. When I compile and run the program, I get the following error. IdleNum = int(line.split(&quot;Idle=&quot;)[1]) ValueError: invalid literal for int () with base 10: &#39;0"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1442431255, "creation_date": 1442431255, "answer_id": 32616941, "question_id": 32616162, "link": "https://stackoverflow.com/questions/32616162/searching-for-numeric-values-and-conditions-in-text-file-python/32616941#32616941", "title": "Searching for numeric values and conditions in text file (Python)", "body": "<p>Almost ... let's get to that innermost if ...\nAt this point, you need to extract the value:</p>\n\n<pre><code>field_list = line.split(' ')\n</code></pre>\n\n<p>field list is now a list of three strings, the space-separated fields.  Now, grab the last one and split on the equals sign:</p>\n\n<pre><code>idle_field = field_list[-1].split('=')\n</code></pre>\n\n<p>idle_field now contains two strings: \"Idle\" and the number.  Finally:</p>\n\n<pre><code>if int(idle_field) &gt;= 10:\n    print \"\\n\", line\n</code></pre>\n\n<p>There's your required condition.</p>\n\n<p>It is possible to fold all that processing into the if condition, but I recommend keeping the program readable.  :-)</p>\n"}, {"tags": [], "owner": {"reputation": 195, "user_id": 5183008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d176b7dd822a87bb87ba7a852bc4075a?s=128&d=identicon&r=PG&f=1", "display_name": "Maurits van Altvorst", "link": "https://stackoverflow.com/users/5183008/maurits-van-altvorst"}, "is_accepted": false, "score": 0, "last_activity_date": 1442431277, "creation_date": 1442431277, "answer_id": 32616948, "question_id": 32616162, "link": "https://stackoverflow.com/questions/32616162/searching-for-numeric-values-and-conditions-in-text-file-python/32616948#32616948", "title": "Searching for numeric values and conditions in text file (Python)", "body": "<p>You are trying to compare an integer by searching for it in a string. Try this</p>\n\n<pre><code>import re\n\ndef main():   \n    with open('data.txt', 'r') as searchfile:\n            for line in searchfile:\n                if (\"Run=true\") in line:\n                    if int(re.findall(r\"Idle=(.+)\", line)[0]) &gt;= 10:\n                        print line\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5343639, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/50716dca02450aec688f6274769d8343?s=128&d=identicon&r=PG&f=1", "display_name": "A Grimm", "link": "https://stackoverflow.com/users/5343639/a-grimm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 781, "favorite_count": 0, "accepted_answer_id": 32616930, "answer_count": 3, "score": 0, "last_activity_date": 1442476387, "creation_date": 1442428531, "last_edit_date": 1442474460, "question_id": 32616162, "link": "https://stackoverflow.com/questions/32616162/searching-for-numeric-values-and-conditions-in-text-file-python", "title": "Searching for numeric values and conditions in text file (Python)", "body": "<p>I have a text file with the following format:</p>\n\n<pre><code>------------------------------------------------------------\nName=A     Run=true     Idle=15     \nName=B     Run=true     Idle=10\nName=C     Run=false    Idle=75\nName=D     Run=true     Idle=92\nName=E     Run=false    Idle=6\nName=F     Run=false    Idle=21\n\n-------------------------------------------------------------\n</code></pre>\n\n<p>I want to search this text file for a run condition of \"true\" AND an idle of greater than a set value (lets say 10 for example). Once this condition is met, I want to print the whole line. How can I obtain this? The current code is:</p>\n\n<pre><code>def main():\n  with open('data.txt', 'r') as searchfile:\n    for line in searchfile:\n      if (\"Run=true\") in line:\n        if (\"Idle&gt;=10\") in line:\n          print \"\\n\"\n          print line\n\nif __name__ == '__main__':\n  main()\n</code></pre>\n"}, {"tags": ["python", "logging", "elasticsearch"], "owner": {"reputation": 2886, "user_id": 2081835, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4741683a91497af9910946e555ebfe0e?s=128&d=identicon&r=PG", "display_name": "TheHerk", "link": "https://stackoverflow.com/users/2081835/theherk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1442428456, "creation_date": 1442428456, "question_id": 32616144, "link": "https://stackoverflow.com/questions/32616144/send-python-graypy-messages-directly-to-elasticsearch-with-gelf-input", "title": "Send python/graypy messages directly to Elasticsearch with GELF input?", "body": "<p>I can send GELF messages from Python logging using <a href=\"https://github.com/severb/graypy\" rel=\"nofollow\">graypy</a>. I can receive messages in Elasticsearch using the <a href=\"https://www.elastic.co/guide/en/logstash/current/plugins-inputs-gelf.html\" rel=\"nofollow\">GELF input plugin</a>. But graypy sends over UPD and Elasticsearch receives over TCP. How does one send logging messages directly from Python to Elasticsearch?</p>\n"}, {"tags": ["python", "list", "file", "elements"], "comments": [{"owner": {"reputation": 6465, "user_id": 1182891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64170963e481496b89074f68786f4aeb?s=128&d=identicon&r=PG", "display_name": "Josh J", "link": "https://stackoverflow.com/users/1182891/josh-j"}, "edited": false, "score": 0, "creation_date": 1442428434, "post_id": 32616111, "comment_id": 53083029, "body": "It looks like you are reading csv data. You can use the <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\">csv</a> module for that."}, {"owner": {"reputation": 30567, "user_id": 151019, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ab97924548209ed725801c0a08c40d1e?s=128&d=identicon&r=PG", "display_name": "mmmmmm", "link": "https://stackoverflow.com/users/151019/mmmmmm"}, "edited": false, "score": 0, "creation_date": 1442428437, "post_id": 32616111, "comment_id": 53083032, "body": "You have a CSV file not just a text on e look at libraries to parse those"}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1442428438, "post_id": 32616111, "comment_id": 53083034, "body": "What&#39;s the input file look like?"}], "answers": [{"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 2, "last_activity_date": 1442428515, "creation_date": 1442428515, "answer_id": 32616155, "question_id": 32616111, "link": "https://stackoverflow.com/questions/32616111/read-txt-file-into-list-python/32616155#32616155", "title": "Read txt file into list Python", "body": "<p>You can use a nested list comprehension :</p>\n\n<pre><code>with open(\"products.txt\", \"r\") as f:\n    test=[i for line in f for i in line.split(',')]\n</code></pre>\n\n<p>Or use <code>csv</code> module to refuse of splitting the lines :</p>\n\n<pre><code>&gt;&gt;&gt; import csv\n&gt;&gt;&gt; with open('products.txt') as csvfile:\n...     spamreader = csv.reader(csvfile, delimiter=',')\n        test=[i for row in spamreader for i in row]\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 4059311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ce994f3be2f6617aa0e4678a66f7c235?s=128&d=identicon&r=PG&f=1", "display_name": "learningpython", "link": "https://stackoverflow.com/users/4059311/learningpython"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5474, "favorite_count": 0, "accepted_answer_id": 32616155, "answer_count": 1, "score": 4, "last_activity_date": 1442428515, "creation_date": 1442428353, "question_id": 32616111, "link": "https://stackoverflow.com/questions/32616111/read-txt-file-into-list-python", "title": "Read txt file into list Python", "body": "<p>I am using this code to read a text file into a list.</p>\n\n<pre><code>with open(\"products.txt\", \"r\") as f:\n    test=f.read().splitlines()\n\nprint(test)\n</code></pre>\n\n<p>The resulting output is:</p>\n\n<pre><code>['88888888,apple,0.50', '99999999,pear,0.20', '90673412,orange,1.20']\n</code></pre>\n\n<p>I need the output to look like below so I can reference the individual elements.</p>\n\n<pre><code>['88888888', 'apple', '0.50', '99999999', 'pear', '0.20', '90673412', 'orange', '1.20']\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 1, "creation_date": 1442430498, "post_id": 32616096, "comment_id": 53084178, "body": "Actually, I&#39;m not sure this is a particularly strong code smell, given the constraints (mainly that you can&#39;t use <code>sort</code> or <code>sorted</code>, which would be the <i>truly</i> Pythonic thing to do, and next-best would be to use an already-implemented mergesort from PyPI). I find manually futzing with the indices more readable and more understandable than (for example) introducing <code>yield</code>. I will say, for &quot;classic algorithm&quot; exercises like this, it is acceptable to use shorter names, like <code>i</code> and <code>j</code>, or <code>x</code> and <code>y</code>, etc., which actually <i>help</i> readability."}, {"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 1, "creation_date": 1442431449, "post_id": 32616096, "comment_id": 53084709, "body": "<a href=\"https://hg.python.org/cpython/file/2.7/Lib/heapq.py#l357\" rel=\"nofollow noreferrer\">Here</a>&#39;s how <code>heapq.merge</code> does it. (Side note: <code>_len = len</code> is probably something they had to do for performance reasons, and shouldn&#39;t be done unless that little bit of extra performance actually matters)"}], "answers": [{"comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 1, "creation_date": 1442430141, "post_id": 32616543, "comment_id": 53083967, "body": "I realize this is probably a much-less well-written <a href=\"https://docs.python.org/2/library/heapq.html#heapq.merge\" rel=\"nofollow noreferrer\"><code>heapq.merge</code></a>, but <i>mumble</i> practice <i>mumble</i>"}, {"owner": {"reputation": 31791, "user_id": 529630, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2c2dd297abe572bd192b1f01322dec83?s=128&d=identicon&r=PG", "display_name": "Dunes", "link": "https://stackoverflow.com/users/529630/dunes"}, "edited": false, "score": 0, "creation_date": 1442434272, "post_id": 32616543, "comment_id": 53086270, "body": "I would say forcing the user to provide an iterator is unpythonic. Since <code>it = iter([]); it is iter(it)</code>, then you can just call <code>iter</code> on the arguments inside the function, and let the method throw an exception if the arguments are not iterable."}, {"owner": {"reputation": 16571, "user_id": 2647279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2598d68697fa2e519ee900ccfdffedd7?s=128&d=identicon&r=PG", "display_name": "Bas Swinckels", "link": "https://stackoverflow.com/users/2647279/bas-swinckels"}, "edited": false, "score": 0, "creation_date": 1442434488, "post_id": 32616543, "comment_id": 53086384, "body": "I would just do <code>left = iter(left)</code>, so that you can also pass lists or other iterable objects to the function. This is not unpythonic, and <code>iter(generator)</code> will just return the generator. The code looks mostly ok to me, but I guess it does not correctly handle the edge case when one of the generators is empty, since then it should probably still iterate over the other one."}], "tags": [], "owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "is_accepted": true, "score": 3, "last_activity_date": 1442498344, "last_edit_date": 1442498344, "creation_date": 1442429702, "answer_id": 32616543, "question_id": 32616096, "link": "https://stackoverflow.com/questions/32616096/pythonic-style-for-stepping-through-two-lists-and-avoiding-idx/32616543#32616543", "title": "Pythonic style for stepping through two lists and avoiding idx?", "body": "<p>Uh, for a first guess, I'd start out by trying to use generators instead. And I'm using yield instead of constructing a list because a) generators can be infinite and b) hey, once you start using a generator, might as well use generators all the way down.</p>\n\n<pre><code>def merge(left,right): \n    left = iter(left)\n    right = iter(right)\n    left_val = next(left)\n    right_val = next(right)\n    try:\n        while True:\n            if left_val &lt;= right_val:\n                yield left_val\n                left_val = next(left) #left.next() in python2\n            else:\n                yield right_val\n                right_val = next(right)\n    except StopIteration: #I have exhausted one of the iterators\n        if left_val &lt;= right_val:\n            #left list depleted\n            yield right_val\n            for i in right: yield i #or use yield from right, if your python is fancy enough\n        else:\n            #right list depleted\n            yield left_val\n            for i in left: yield i \n</code></pre>\n\n\n\n<pre><code>In [2]: f = merge([0,4,17],[2,4,5,6,6,6])\nIn [3]: list(f)\nOut[3]: [0, 2, 4, 4, 5, 6, 6, 6, 17]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16571, "user_id": 2647279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2598d68697fa2e519ee900ccfdffedd7?s=128&d=identicon&r=PG", "display_name": "Bas Swinckels", "link": "https://stackoverflow.com/users/2647279/bas-swinckels"}, "edited": false, "score": 0, "creation_date": 1442434078, "post_id": 32616652, "comment_id": 53086157, "body": "<code>rlist = [1:]</code> is illegal syntax, I guess you mean <code>rlist = rlist[1:]</code> instead. But this is bad coding practice, since for a list of length <code>n</code>, you are creating <code>n</code> new lists of average length <code>n&#47;2</code>, so overall an <code>O(n^2)</code> algorithm. Merging 2 sorted lists can be done in <code>O(n)</code> by using iterators, as shown by NightShadeQueen."}], "tags": [], "owner": {"reputation": 924, "user_id": 2267742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0caddb15f038adccd80c198832c3680a?s=128&d=identicon&r=PG", "display_name": "Marandil", "link": "https://stackoverflow.com/users/2267742/marandil"}, "is_accepted": false, "score": 0, "last_activity_date": 1442430127, "creation_date": 1442430127, "answer_id": 32616652, "question_id": 32616096, "link": "https://stackoverflow.com/questions/32616096/pythonic-style-for-stepping-through-two-lists-and-avoiding-idx/32616652#32616652", "title": "Pythonic style for stepping through two lists and avoiding idx?", "body": "<p>I'd maybe create a merge generator for that:</p>\n\n<pre><code>def merge_generator(llist, rlist):\n    while len(llist) + len(rlist) &gt; 0:\n        if len(llist) == 0:\n            yield rlist[0]\n            rlist = [1:]\n        elif len(rlist) == 0:\n            yield llist[0]\n            llist = [1:]\n        else:\n            if llist[0] &lt; rlist[0]:\n                yield rlist[0]\n                rlist = rlist[1:]\n            else:\n                yield llist[0]\n                llist = llist[1:]\n</code></pre>\n\n<p>It's just a skeleton though, you could probably make it much nicer, e.g. by separating the loops etc.</p>\n"}, {"comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 2, "creation_date": 1442543788, "post_id": 32617458, "comment_id": 53134075, "body": "Small clarification comment for anyone who, like me, thought &quot;why sort again? that must be super slow.&quot; Well, it&#39;s (probably) not, because <a href=\"https://en.wikipedia.org/wiki/Timsort\" rel=\"nofollow noreferrer\">timsort</a> can take advantage of natural runs."}], "tags": [], "owner": {"reputation": 173, "user_id": 2174561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c59410bae2c632b89bfed239800c2723?s=128&d=identicon&r=PG", "display_name": "David C", "link": "https://stackoverflow.com/users/2174561/david-c"}, "is_accepted": false, "score": 2, "last_activity_date": 1442433019, "creation_date": 1442433019, "answer_id": 32617458, "question_id": 32616096, "link": "https://stackoverflow.com/questions/32616096/pythonic-style-for-stepping-through-two-lists-and-avoiding-idx/32617458#32617458", "title": "Pythonic style for stepping through two lists and avoiding idx?", "body": "<p>I understand that you would like to avoid using \"sorted\" because you want a solution that better describes the algorithm, but I honestly think that the pythonic solution requires it.</p>\n\n<pre><code>def merge_sorted_lists(left,right):\n    return sorted(left+right)\n</code></pre>\n\n<p>For a non-pythonic solution that exposes a reasonable algorithm without tracking indices, you could try this recursive solution:</p>\n\n<pre><code>def merge_sorted_lists(left,right,acc=[]):\n    if not left:\n        return acc + right\n    if not right:\n        return acc + left\n    if left[0] &lt; right[0]:\n        return merge_sorted_lists(left[1:],right,acc=acc+[left[0]])\n    else:\n        return merge_sorted_lists(left,right[1:],acc=acc+[right[0]])\n</code></pre>\n\n<p>This one is quite a few lines longer than my other solution and long inputs could overwhelm the stack.</p>\n"}], "owner": {"reputation": 43, "user_id": 5343597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BDHgT.jpg?s=128&g=1", "display_name": "ddubois", "link": "https://stackoverflow.com/users/5343597/ddubois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 32616543, "answer_count": 3, "score": 3, "last_activity_date": 1442498344, "creation_date": 1442428312, "question_id": 32616096, "link": "https://stackoverflow.com/questions/32616096/pythonic-style-for-stepping-through-two-lists-and-avoiding-idx", "title": "Pythonic style for stepping through two lists and avoiding idx?", "body": "<p>(Before I begin, let us presuppose this is an interview question, and I am intended to avoid merely calling sorted.)</p>\n\n<p>I have this working Python code:</p>\n\n<pre><code>def merge_sorted_lists(left, right):\n    leftlen = len(left)\n    rightlen = len(right)\n    leftidx = 0\n    rightidx = 0\n    newlist = []\n    while leftidx &lt; leftlen or rightidx &lt; rightlen:\n        if rightidx == rightlen or left[leftidx] &lt;= right[rightidx]:\n            newlist.append(left[leftidx])\n            leftidx += 1\n        elif leftidx == leftlen or right[rightidx] &lt; left[leftidx]:\n            newlist.append(right[rightidx])\n            rightidx += 1\n    return newlist\n</code></pre>\n\n<p>I'm a long time C++ programmer who has recently learned enough Python to know that this \"smells\" very un-Pythonic with the prolific usage of idx.  Is there a more elegant way to iterate through two lists when the advancement of the iterator needs this fine-tuned control?</p>\n"}, {"tags": ["python", "boolean"], "comments": [{"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 0, "creation_date": 1442428281, "post_id": 32616030, "comment_id": 53082942, "body": "because 0.02 is not equal to <code>True</code>, but implements <code>__nonzero__</code> interface, which returns <code>True</code> (because 0.02 is not zero)."}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 0, "creation_date": 1442428398, "post_id": 32616030, "comment_id": 53083006, "body": "<code>float</code> is <code>&lt;type &#39;float&#39;&gt;</code>, and of course that it&#39;s different than <code>True</code>"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1442428785, "post_id": 32616030, "comment_id": 53083222, "body": "<a href=\"https://docs.python.org/3/reference/expressions.html#boolean-operations\" rel=\"nofollow noreferrer\">docs.python.org/3/reference/expressions.html#boolean-operati&zwnj;&#8203;ons</a>.  <code>==</code> always consider objects of different types to be unequal - from <a href=\"https://docs.python.org/3/reference/expressions.html#not-in\" rel=\"nofollow noreferrer\">docs.python.org/3/reference/expressions.html#not-in</a>"}, {"owner": {"reputation": 737, "user_id": 2407334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4acb5ca13fd1fdedeea0fc8d6f6bc95e?s=128&d=identicon&r=PG", "display_name": "user2407334", "link": "https://stackoverflow.com/users/2407334/user2407334"}, "edited": false, "score": 0, "creation_date": 1442431677, "post_id": 32616030, "comment_id": 53084827, "body": "oh ok.. i understand.."}], "answers": [{"tags": [], "owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "is_accepted": false, "score": 1, "last_activity_date": 1442428444, "last_edit_date": 1592644375, "creation_date": 1442428444, "answer_id": 32616138, "question_id": 32616030, "link": "https://stackoverflow.com/questions/32616030/is-there-any-difference-between-bool-vs-in-python-truth-testing/32616138#32616138", "title": "Is there any difference between bool() vs == in python truth testing?", "body": "<ol>\n<li>Yes. <a href=\"https://docs.python.org/2/library/functions.html#bool\" rel=\"nofollow noreferrer\">The docs for bool() say</a>:</li>\n</ol>\n<blockquote>\n<p><em>class</em> <strong>bool</strong>([<em>x</em>])</p>\n<p>Return a Boolean value, i.e. one of True or False. <em>x</em> is converted using the standard truth testing procedure.</p>\n</blockquote>\n<p>The <a href=\"https://docs.python.org/2/library/stdtypes.html#truth-value-testing\" rel=\"nofollow noreferrer\">standard truth testing procedure</a> works on any object:</p>\n<blockquote>\n<p>Any object can be tested for truth value, for use in an if or while condition or as operand of the Boolean operations below. The following values are considered false: [...] All other values are considered true \u2014 so objects of many types are always true.</p>\n</blockquote>\n<ol start=\"2\">\n<li><code>float</code> is not equal to True. However, when asking &quot;is <code>float</code> a truthy value&quot;, i.e. would <code>if float:</code> evaluate the true branch or the false branch, the answer is &quot;yes, it would evaluate the true branch&quot;.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "edited": false, "score": 0, "creation_date": 1442428531, "post_id": 32616151, "comment_id": 53083082, "body": "Actually it doesn&#39;t always call <code>__nonzero__</code>. Consider: <code>a = object(); a.__nonzero__()</code> yields an <code>AttributeError</code>, yet <code>bool(a)</code> is <code>True</code>."}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1442428486, "creation_date": 1442428486, "answer_id": 32616151, "question_id": 32616030, "link": "https://stackoverflow.com/questions/32616030/is-there-any-difference-between-bool-vs-in-python-truth-testing/32616151#32616151", "title": "Is there any difference between bool() vs == in python truth testing?", "body": "<ol>\n<li><p>Yes every object in Python returns a boolean value, when used with <code>bool</code> which calls the <code>__nonzero__</code>-method of this object</p></li>\n<li><p>because the first <code>print</code> does not call the <code>__nonzero__</code> method.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 737, "user_id": 2407334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4acb5ca13fd1fdedeea0fc8d6f6bc95e?s=128&d=identicon&r=PG", "display_name": "user2407334", "link": "https://stackoverflow.com/users/2407334/user2407334"}, "edited": false, "score": 0, "creation_date": 1442431529, "post_id": 32616154, "comment_id": 53084753, "body": "thanks.. I have another question.. so i understand that &quot;float&quot; is a type. But what would I classify  &quot;True&quot; as?"}, {"owner": {"reputation": 4072, "user_id": 5246906, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/227935ae79fee841eaea7f6641ebec41?s=128&d=identicon&r=PG&f=1", "display_name": "nigel222", "link": "https://stackoverflow.com/users/5246906/nigel222"}, "edited": false, "score": 0, "creation_date": 1442438827, "post_id": 32616154, "comment_id": 53088617, "body": "A singleton immutable object? Or a bool: <code>&gt;&gt;&gt; type(False)</code> says <code>&lt;type &#39;bool&#39;&gt;</code>."}], "tags": [], "owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "is_accepted": true, "score": 3, "last_activity_date": 1468535134, "last_edit_date": 1592644375, "creation_date": 1442428496, "answer_id": 32616154, "question_id": 32616030, "link": "https://stackoverflow.com/questions/32616030/is-there-any-difference-between-bool-vs-in-python-truth-testing/32616154#32616154", "title": "Is there any difference between bool() vs == in python truth testing?", "body": "<p>The two, <code>==</code> and <code>bool()</code>, are different. <code>==</code> is for equality testing, whereas <code>bool()</code> returns the result of truth value testing for the object passed to it as parameter.</p>\n<p>According to documentation of <code>bool()</code> -</p>\n<blockquote>\n<p><strong>class bool([x])</strong></p>\n<p>Return a Boolean value, i.e. one of True or False. x is converted using the standard truth testing procedure. If x is false or omitted, this returns False; otherwise it returns True.</p>\n</blockquote>\n<p>The standard truth testing procedure can be found in <a href=\"https://docs.python.org/2/library/stdtypes.html#truth-value-testing\" rel=\"nofollow noreferrer\">the documentation -</a></p>\n<blockquote>\n<p>Any object can be tested for truth value, for use in an if or while condition or as operand of the Boolean operations below. The following values are considered false:</p>\n<ol>\n<li><p><code>None</code></p>\n</li>\n<li><p><code>False</code></p>\n</li>\n<li><p>zero of any numeric type, for example, <code>0</code>, <code>0L</code>, <code>0.0</code>, <code>0j</code>.</p>\n</li>\n<li><p>any empty sequence, for example, <code>''</code>, <code>()</code>, <code>[]</code>.</p>\n</li>\n<li><p>any empty mapping, for example, <code>{}</code>.</p>\n</li>\n<li><p>instances of user-defined classes, if the class defines a <code>__nonzero__()</code> or <code>__len__()</code> method, when that method returns the integer zero or bool value False.</p>\n</li>\n</ol>\n<p>All other values are considered <code>True</code> \u2014 so objects of many types are always true.</p>\n</blockquote>\n<p>When you do <code>bool(float)</code>, you are checking the truth value for <code>float</code>, which is True.</p>\n<p>But when you do <code>float == True</code>, you are doing equality (please note this is not truth value testing, it is equality). In this case <code>float</code> and <code>True</code> are not equal so that results in <code>False</code>.</p>\n"}], "owner": {"reputation": 737, "user_id": 2407334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4acb5ca13fd1fdedeea0fc8d6f6bc95e?s=128&d=identicon&r=PG", "display_name": "user2407334", "link": "https://stackoverflow.com/users/2407334/user2407334"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 1, "accepted_answer_id": 32616154, "answer_count": 3, "score": 2, "last_activity_date": 1468535134, "creation_date": 1442428058, "last_edit_date": 1442428158, "question_id": 32616030, "link": "https://stackoverflow.com/questions/32616030/is-there-any-difference-between-bool-vs-in-python-truth-testing", "title": "Is there any difference between bool() vs == in python truth testing?", "body": "<p>I have two questions.</p>\n\n<ol>\n<li><p>Can ANYTHING (objects, types, operations, functions..) in python return a boolean value when it is called upon by the bool() method?</p></li>\n<li><p>Why dont the following two lines of code return the same answer?</p>\n\n<pre><code>print (float == True)  #prints False\nprint bool(float)      #prints True\n</code></pre></li>\n</ol>\n"}, {"tags": ["python", "robotframework"], "answers": [{"tags": [], "owner": {"reputation": 944, "user_id": 4704335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wUujs.png?s=128&g=1", "display_name": "Kenneth E. Bellock", "link": "https://stackoverflow.com/users/4704335/kenneth-e-bellock"}, "is_accepted": false, "score": 7, "last_activity_date": 1442431906, "last_edit_date": 1442431906, "creation_date": 1442430460, "answer_id": 32616750, "question_id": 32616011, "link": "https://stackoverflow.com/questions/32616011/robot-framework-do-print-statements-actually-get-output-anywhere/32616750#32616750", "title": "Robot framework: do print statements actually get output anywhere?", "body": "<p>Yes, they are captured and entered as LOG entries into the output.</p>\n\n<p>After you run your test, open the log.html, go to the entry where your libraries keyword is called, and you will see a LOG entry with the output of your print statement in it.</p>\n\n<p><a href=\"http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#logging-information\" rel=\"noreferrer\">RobotFramework Library Logging Information</a></p>\n\n<blockquote>\n  <p>Logging information</p>\n  \n  <p>Exception messages are not the only way to give information to the\n  users. In addition to them, methods can also send messages to log\n  files simply by writing to the standard output stream (stdout) or to\n  the standard error stream (stderr), and they can even use different\n  log levels. Another, and often better, logging possibility is using\n  the programmatic logging APIs.</p>\n</blockquote>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3744, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1442431906, "creation_date": 1442427950, "question_id": 32616011, "link": "https://stackoverflow.com/questions/32616011/robot-framework-do-print-statements-actually-get-output-anywhere", "title": "Robot framework: do print statements actually get output anywhere?", "body": "<p>When a keyword has a <code>print</code> statements, does that output actually go anywhere when the test is run?  for example:</p>\n\n<p><strong>Lib.py</strong></p>\n\n<pre><code>def message(msg):\n  print 'your message is ' + msg\n  return True\n</code></pre>\n\n<p><strong>Tests.robot</strong></p>\n\n<pre><code>*** Settings ***\nLibrary    Lib\n\n*** Test Cases ***\nCase1\n    message    \"hello\"\n</code></pre>\n\n<p>If I run <code>pybot Tests.robot</code>, is there anywhere I can see the <code>'your message is hello'</code> get printed, or does that output just go nowhere?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "edited": false, "score": 0, "creation_date": 1442428062, "post_id": 32615954, "comment_id": 53082825, "body": "Are you looking for command line arguments?"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1442428530, "post_id": 32615995, "comment_id": 53083081, "body": "he wants to be able to enter all the input values on one line, not do it in one line of Python code."}], "tags": [], "owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "is_accepted": false, "score": -1, "last_activity_date": 1442427922, "creation_date": 1442427922, "answer_id": 32615995, "question_id": 32615954, "link": "https://stackoverflow.com/questions/32615954/how-to-input-command-into-python-script/32615995#32615995", "title": "How to input command into python script", "body": "<pre><code>import webbrowser\n\nwebbrowser.open('http://genius.com/{0}-{1}-lyrics'.format(raw_input('Enter artist name: ').replace(' ', '_'), raw_input('Enter song name: ').replace(' ', '_')))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 312, "user_id": 3719883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19557e5e38eae03e2fc22a3fa3bafa49?s=128&d=identicon&r=PG", "display_name": "ugursogukpinar", "link": "https://stackoverflow.com/users/3719883/ugursogukpinar"}, "is_accepted": false, "score": 0, "last_activity_date": 1442428616, "creation_date": 1442428616, "answer_id": 32616190, "question_id": 32615954, "link": "https://stackoverflow.com/questions/32615954/how-to-input-command-into-python-script/32616190#32616190", "title": "How to input command into python script", "body": "<p>You can use sys module;</p>\n\n<pre><code>import sys\nprint sys.argv\n</code></pre>\n\n<p>Or you can use more professional module like <a href=\"https://docs.python.org/3/library/argparse.html\" rel=\"nofollow\">argparse</a></p>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1442428921, "creation_date": 1442428921, "answer_id": 32616305, "question_id": 32615954, "link": "https://stackoverflow.com/questions/32615954/how-to-input-command-into-python-script/32616305#32616305", "title": "How to input command into python script", "body": "<p>Command line arguments are in the <code>sys.argv</code> array.</p>\n\n<pre><code>import sys\nartist = sys.argv[1]\nsong = sys.argv[2]\n</code></pre>\n\n<p>You'll need to quote names that contain spaces:</p>\n\n<pre><code>genius.py \"the beatles\" \"a day in the life\"\n</code></pre>\n\n<p>Otherwise there's no way to tell where the artist ends and the song begins.</p>\n"}], "owner": {"reputation": 31, "user_id": 4871367, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-j30dBPk-V9o/AAAAAAAAAAI/AAAAAAAAAHI/nXDEA7anK7o/photo.jpg?sz=128", "display_name": "Hisham Mohammed", "link": "https://stackoverflow.com/users/4871367/hisham-mohammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 32616305, "answer_count": 3, "score": 0, "last_activity_date": 1442428921, "creation_date": 1442427780, "last_edit_date": 1442428495, "question_id": 32615954, "link": "https://stackoverflow.com/questions/32615954/how-to-input-command-into-python-script", "title": "How to input command into python script", "body": "<p>My current script is designed so that I am having to input 3 lines before I manage to open a certain website. </p>\n\n<p>my code is named genius.py</p>\n\n<p>I would like to know how to do it in one line \ne.g. </p>\n\n<pre><code>genius.py eminem lose yourself\n</code></pre>\n\n<p>My current code is :</p>\n\n<pre><code>#!/usr/bin/python\n\nimport webbrowser\n\nartist = raw_input(\"Enter artist name: \")\nsong = raw_input(\"Enter song name: \")\n\nartist = artist.replace(\" \", \"-\")\nsong = song.replace(\" \", \"-\")\n\nwebbrowser.open(\"http://genius.com/\"+artist+\"-\"+song+\"-lyrics\")\n</code></pre>\n"}]