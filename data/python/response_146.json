[{"tags": ["python", "regex", "python-3.x"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1508975913, "post_id": 46943779, "comment_id": 80835017, "body": "Try <code>pip3 install regex</code>."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1508976299, "post_id": 46943779, "comment_id": 80835123, "body": "Make sure you&#39;re using the correct <code>pip</code> command for your python. Easiest way to ensure that is to run <code>python -m pip</code> instead."}, {"owner": {"reputation": 1716, "user_id": 4900991, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-Pxb-7FHAJJ4/AAAAAAAAAAI/AAAAAAAAE1w/j9Ar40NGygE/photo.jpg?sz=128", "display_name": "Sandeep Lade", "link": "https://stackoverflow.com/users/4900991/sandeep-lade"}, "edited": false, "score": 0, "creation_date": 1508976317, "post_id": 46943779, "comment_id": 80835129, "body": "Does it shows installation successful ?"}], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1508976457, "last_edit_date": 1508976457, "creation_date": 1508976069, "answer_id": 46943811, "question_id": 46943779, "link": "https://stackoverflow.com/questions/46943779/installing-the-regex-module-for-mac/46943811#46943811", "title": "Installing the REGEX module for Mac", "body": "<p>I use a mac and have had the same issue in the past. Try this:</p>\n\n<pre><code>sudo python3 -m pip3 install --upgrade regex\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 3143210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/082178e237859a762df71928c531a741?s=128&d=identicon&r=PG&f=1", "display_name": "GeekyGeek", "link": "https://stackoverflow.com/users/3143210/geekygeek"}, "is_accepted": false, "score": 0, "last_activity_date": 1575390109, "creation_date": 1575390109, "answer_id": 59161323, "question_id": 46943779, "link": "https://stackoverflow.com/questions/46943779/installing-the-regex-module-for-mac/59161323#59161323", "title": "Installing the REGEX module for Mac", "body": "<p>I guess you are facing this problem on mac, you might have not installed the appropriate version of the Command Line Tools - XCode for your Mac OS. Install it using: </p>\n\n<pre><code>xcode-select --install\n</code></pre>\n\n<p>After this, you can install regex by:</p>\n\n<pre><code>sudo python3 -m pip install --upgrade regex\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 8834589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4e2caff0073f6bc564c92e521dde9c8?s=128&d=identicon&r=PG&f=1", "display_name": "DarkLocks", "link": "https://stackoverflow.com/users/8834589/darklocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2825, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1575390109, "creation_date": 1508975826, "question_id": 46943779, "link": "https://stackoverflow.com/questions/46943779/installing-the-regex-module-for-mac", "title": "Installing the REGEX module for Mac", "body": "<p>I am trying to install Regex for Python3 using pip install regex  but when I try to import the package into my python programs it cannot find the package.\nPlease can someone help me with installing regex for python3?</p>\n"}, {"tags": ["python", "instagram-api"], "answers": [{"tags": [], "owner": {"reputation": 532, "user_id": 7291234, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1IlO3lOVNgA/AAAAAAAAAAI/AAAAAAAAWRI/_qv585esq6g/photo.jpg?sz=128", "display_name": "Ekrem Gurdal", "link": "https://stackoverflow.com/users/7291234/ekrem-gurdal"}, "is_accepted": true, "score": 1, "last_activity_date": 1520499424, "creation_date": 1520499424, "answer_id": 49169083, "question_id": 46943746, "link": "https://stackoverflow.com/questions/46943746/instabot-bot-searchusers-returns-true-instead-of-value/49169083#49169083", "title": "instabot bot.searchUsers() returns True instead of value", "body": "<p>bot.searchUsers() returns boolean. </p>\n\n<p>your function must like this: </p>\n\n<pre><code>bot.searchUsers('your_query_to_search_usernames')\njsondata = bot.LastJson\nfor username in jsondata['users']:\n      print(username['username']\n</code></pre>\n\n<p>It will work.</p>\n"}], "owner": {"reputation": 373, "user_id": 2723021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JxFg0.jpg?s=128&g=1", "display_name": "Masoud Motallebipour", "link": "https://stackoverflow.com/users/2723021/masoud-motallebipour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 49169083, "answer_count": 1, "score": 1, "last_activity_date": 1520499424, "creation_date": 1508975578, "question_id": 46943746, "link": "https://stackoverflow.com/questions/46943746/instabot-bot-searchusers-returns-true-instead-of-value", "title": "instabot bot.searchUsers() returns True instead of value", "body": "<p>I'm using <a href=\"https://github.com/instagrambot/instabot\" rel=\"nofollow noreferrer\">instabot</a> python module to work with instagram API, I'm trying to search a username but when I try It always returns True instead of result value, this is my code:</p>\n\n<pre><code>bot = Bot()    \nbot.login(username=\"mytest_user\", password=\"my_pass\")\nusers = bot.searchUsers(query=\"test\")\nprint \"==========%s\" % users\n</code></pre>\n\n<p>and it returns:</p>\n\n<pre><code>2017-10-26 01:23:48,153 - INFO - Login success as mytest_user!\n========== True\n</code></pre>\n\n<p>am I missing something?</p>\n"}, {"tags": ["python", "ubuntu", "ubuntu-16.04", "gtk3", "appindicator"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1508975632, "post_id": 46943743, "comment_id": 80834942, "body": "What is the weird behavior?"}, {"owner": {"reputation": 65, "user_id": 3326114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b805dfa99704a43967e1189984c12ea?s=128&d=identicon&r=PG", "display_name": "logileifs", "link": "https://stackoverflow.com/users/3326114/logileifs"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1508975908, "post_id": 46943743, "comment_id": 80835013, "body": "Menu events don&#39;t get fired and the application sometimes doesn&#39;t respond when I&#39;m trying to change the icon"}, {"owner": {"reputation": 65, "user_id": 3326114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b805dfa99704a43967e1189984c12ea?s=128&d=identicon&r=PG", "display_name": "logileifs", "link": "https://stackoverflow.com/users/3326114/logileifs"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1508975991, "post_id": 46943743, "comment_id": 80835034, "body": "Just clicking the Quit menu item in the code I posted above has no effect. Most of the time it actually works but like 25% of the time when I run the app the indicator and its menus are just completely unresponsive"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1508976076, "post_id": 46943743, "comment_id": 80835057, "body": "Put that explanation in the question, not a comment."}, {"owner": {"reputation": 65, "user_id": 3326114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b805dfa99704a43967e1189984c12ea?s=128&d=identicon&r=PG", "display_name": "logileifs", "link": "https://stackoverflow.com/users/3326114/logileifs"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1508976213, "post_id": 46943743, "comment_id": 80835096, "body": "@Barmar It&#39;s actually in the question"}, {"owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1509018000, "post_id": 46943743, "comment_id": 80853608, "body": "It works well on Mint 18. This problem comes up regularly on Ubuntu 16.04 &#39;my Gtk program does not work properly&#39;. You might need to switch to a different window manager / distro."}, {"owner": {"reputation": 65, "user_id": 3326114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b805dfa99704a43967e1189984c12ea?s=128&d=identicon&r=PG", "display_name": "logileifs", "link": "https://stackoverflow.com/users/3326114/logileifs"}, "reply_to_user": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1509031883, "post_id": 46943743, "comment_id": 80863994, "body": "@theGtknerd do you have any references or links where I can read about such problems? If anyone can point me to something that might help I would be very grateful"}, {"owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1509035397, "post_id": 46943743, "comment_id": 80866177, "body": "<a href=\"https://www.google.com/search?ei=Ng3yWd6dHebGjwTg4KP4CQ&amp;q=ubuntu+16.04+gtk+not+working+stackoverflow&amp;oq=ubuntu+16.04+gtk+not+working+stackoverflow&amp;gs_l=psy-ab.3...23690.27718.0.27998.14.14.0.0.0.0.263.2233.0j7j5.12.0....0...1.1.64.psy-ab..2.8.1504...33i160k1j33i21k1.0.n8U0Y31PLwQ\" rel=\"nofollow noreferrer\">google.com/&hellip;</a>"}, {"owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1509035498, "post_id": 46943743, "comment_id": 80866232, "body": "<a href=\"https://www.google.com/search?ei=qA3yWcyjNqvIjwT3o4uwDg&amp;q=ubuntu+16.04+gtk+app+not+working&amp;oq=ubuntu+16.04+gtk+app+not+working&amp;gs_l=psy-ab.3...6285.7013.0.7301.4.4.0.0.0.0.234.567.0j1j2.3.0....0...1.1.64.psy-ab..1.1.233...35i39k1.0.JTV4lGHT9ro\" rel=\"nofollow noreferrer\">google.com/&hellip;</a>"}, {"owner": {"reputation": 65, "user_id": 3326114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b805dfa99704a43967e1189984c12ea?s=128&d=identicon&r=PG", "display_name": "logileifs", "link": "https://stackoverflow.com/users/3326114/logileifs"}, "reply_to_user": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1509045351, "post_id": 46943743, "comment_id": 80871775, "body": "@theGtknerd Okay so gtk3 is broken on Ubuntu 16, that&#39;s good to know. Do you happen to know how I can create a panel indicator without it? with gtk2 perhaps?"}, {"owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "reply_to_user": {"reputation": 65, "user_id": 3326114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b805dfa99704a43967e1189984c12ea?s=128&d=identicon&r=PG", "display_name": "logileifs", "link": "https://stackoverflow.com/users/3326114/logileifs"}, "edited": false, "score": 0, "creation_date": 1509049771, "post_id": 46943743, "comment_id": 80874237, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/157618/discussion-between-thegtknerd-and-logileifs\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1509053943, "creation_date": 1509053943, "answer_id": 46964256, "question_id": 46943743, "link": "https://stackoverflow.com/questions/46943743/indicator-broken-on-ubuntu-16-04/46964256#46964256", "title": "Indicator broken on Ubuntu 16.04", "body": "<p>As we discussed:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport gi\ngi.require_version('Gtk', '3.0')\ngi.require_version('Notify', '0.7')\ngi.require_version('AppIndicator3', '0.1')\nfrom gi.repository import Gtk, GdkPixbuf, Gdk, Gio, GLib, AppIndicator3, Notify\nimport os, sys\n\nAPPINDICATOR_ID = 'Resource phone logger'\n\nclass GUI:\n    def __init__(self, menu):\n\n        menuitem_quit = Gtk.MenuItem('Quit')\n        menuitem_quit.connect('activate', Gtk.main_quit)\n        menu.append(menuitem_quit)\n        menu.show_all()\n        menu.connect('button-release-event', self.menu_button_release_event)\n\n\n    def menu_button_release_event (self, menu, event):\n        #code to only show left click\n        if event.button == 3:\n            menu.show()\n        else:\n            print (\"show\")\n            menu.hide()\n\ndef main():\n    Notify.init(APPINDICATOR_ID)\n    image = os.path.abspath('posting.svg')\n    indicator = AppIndicator3.Indicator.new(APPINDICATOR_ID, image, AppIndicator3.IndicatorCategory.APPLICATION_STATUS)\n    indicator.set_status(AppIndicator3.IndicatorStatus.ACTIVE)  \n    menu = Gtk.Menu()\n    indicator.set_menu(menu)\n    app = GUI(menu)\n    Gtk.main()\n    Notify.uninit()\n\nif __name__ == \"__main__\":\n    sys.exit(main())\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 3326114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b805dfa99704a43967e1189984c12ea?s=128&d=identicon&r=PG", "display_name": "logileifs", "link": "https://stackoverflow.com/users/3326114/logileifs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1609741981, "creation_date": 1508975531, "last_edit_date": 1509016640, "question_id": 46943743, "link": "https://stackoverflow.com/questions/46943743/indicator-broken-on-ubuntu-16-04", "title": "Indicator broken on Ubuntu 16.04", "body": "<p>I have written a simple indicator applet for Ubuntu in python with gi.repository which I had been running successfully on my Ubuntu 14.04 for a long time without any problems. After I updated to Ubuntu 16.04 I started seeing some weird behavior. I tried it on Ubuntu 14.04 again just to be sure and it works fine but on Ubuntu 16.04 my menu events don't get fired and the application sometimes doesn't respond when I'm trying to change the icon.</p>\n\n<p>Some basic code indicator that works on Ubuntu 14.04 but not on Ubuntu 16.04</p>\n\n<pre><code>import gi\ngi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk as gtk\ngi.require_version('AppIndicator3', '0.1')\nfrom gi.repository import AppIndicator3 as appindicator\n\ndef main():\n    indicator = appindicator.Indicator.new(\n        'mytestindicator',\n        gtk.STOCK_INFO,\n        appindicator.IndicatorCategory.SYSTEM_SERVICES\n    )\n    indicator.set_status(appindicator.IndicatorStatus.ACTIVE)\n    indicator.set_menu(build_menu())\n    gtk.main()\n\ndef quit(source):\n    gtk.main_quit()\n\ndef build_menu():\n    menu = gtk.Menu()\n    item_quit = gtk.MenuItem('Quit')\n    item_quit.connect('activate', quit)\n    menu.append(item_quit)\n    menu.show_all()\n    return menu\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>So my question is what changed between Ubuntu 14.04 and 16.04 and how can I create a reliable indicator applet that runs smoothly on both systems?</p>\n\n<p>One thing I noticed though, on Ubuntu 14 I have gi.repository version 3.12.0 but on Ubuntu 16 it's 3.20.0, not sure that matters though.</p>\n"}, {"tags": ["python", "string", "dictionary", "operations"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8834529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5296467a7d960eb35def75a320d8012d?s=128&d=identicon&r=PG&f=1", "display_name": "DAA", "link": "https://stackoverflow.com/users/8834529/daa"}, "edited": false, "score": 0, "creation_date": 1508975740, "post_id": 46943714, "comment_id": 80834966, "body": "Thank you for comment.  I want you to give this output:  isim giriniz: ab &#231;\u0131kt\u0131: Ankara Bursa  Or;  isim giriniz: ac &#231;\u0131kt\u0131: Ankara Ceyhan"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1508975320, "creation_date": 1508975320, "answer_id": 46943714, "question_id": 46943685, "link": "https://stackoverflow.com/questions/46943685/python-dictionary-string-operations/46943714#46943714", "title": "python dictionary string operations", "body": "<ul>\n<li>Iterate through the individual letters of the input string. </li>\n<li>Look up each item in the dictionary. </li>\n<li>Concatenate the results as you go.</li>\n</ul>\n\n<p>Can you handle each of those capabilities?  If not, please post your best attempt and a description of the problem.</p>\n"}, {"comments": [{"owner": {"reputation": 102, "user_id": 3987895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad42b52ba79ce5641de33fa24e25b08b?s=128&d=identicon&r=PG", "display_name": "gblomqvist", "link": "https://stackoverflow.com/users/3987895/gblomqvist"}, "edited": false, "score": 0, "creation_date": 1508975416, "post_id": 46943715, "comment_id": 80834884, "body": "I think you misunderstood the question, what if <code>isim</code> is equal to <code>&#39;abc&#39;</code>? Your code doesn&#39;t handle multiple keys."}, {"owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "reply_to_user": {"reputation": 102, "user_id": 3987895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad42b52ba79ce5641de33fa24e25b08b?s=128&d=identicon&r=PG", "display_name": "gblomqvist", "link": "https://stackoverflow.com/users/3987895/gblomqvist"}, "edited": false, "score": 0, "creation_date": 1508975639, "post_id": 46943715, "comment_id": 80834944, "body": "@GBlomqvist oh that was embarassing. Thank you for pointing it out. Modified the code now."}], "tags": [], "owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "is_accepted": false, "score": 1, "last_activity_date": 1508975600, "last_edit_date": 1508975600, "creation_date": 1508975333, "answer_id": 46943715, "question_id": 46943685, "link": "https://stackoverflow.com/questions/46943685/python-dictionary-string-operations/46943715#46943715", "title": "python dictionary string operations", "body": "<p><code>isim</code> is not a function, and all you need to do is access that key in the dictionary</p>\n\n<pre><code>def girdi_al():\n    isim = input(\"isim giriniz: \")\n    return isim\n\ndef isim_donustur(isim):\n    cikti = isim\n\n    donusum = {'a':'Ankara','b':'Bursa','c':'Ceyhan'}\n\n    #How can I do?\n    result = []\n    for letter in cikti:\n        result.append(donusum[cikti])\n    print(' '.join(result))\n\n\ndef main():\n    isim_donustur(girdi_al)\n\n# === main ===\nmain() \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 515, "user_id": 3155133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c4efba1a90fc9f42757774709a3b6c?s=128&d=identicon&r=PG&f=1", "display_name": "Abend", "link": "https://stackoverflow.com/users/3155133/abend"}, "is_accepted": true, "score": 1, "last_activity_date": 1508975416, "creation_date": 1508975416, "answer_id": 46943725, "question_id": 46943685, "link": "https://stackoverflow.com/questions/46943685/python-dictionary-string-operations/46943725#46943725", "title": "python dictionary string operations", "body": "<pre><code>def girdi_al():\n    isim = input(\"isim giriniz: \")\n    return isim\n\ndef isim_donustur(isim):\n    cikti = isim()\n\n    donusum = {'a':'Ankara','b':'Bursa','c':'Ceyhan'}\n\n    string = ''\n\n    for char in cikti:\n        string += donusum[char] + ' '\n\n    print(string )\n\ndef main():\n    isim_donustur(girdi_al)\n\n# === main ===\nmain() \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 1802534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/043a64c35a5977224a5304cfaa241b88?s=128&d=identicon&r=PG&f=1", "display_name": "Serg Anuke", "link": "https://stackoverflow.com/users/1802534/serg-anuke"}, "is_accepted": false, "score": 0, "last_activity_date": 1508975672, "creation_date": 1508975672, "answer_id": 46943760, "question_id": 46943685, "link": "https://stackoverflow.com/questions/46943685/python-dictionary-string-operations/46943760#46943760", "title": "python dictionary string operations", "body": "<p>somthing like this</p>\n\n<pre><code>myDict = {'a':'Andy','b':'Bill','c':'Carly' }\ninput_str = \"abc\"\n\n\" \".join([v for k,v in myDict.items() if k in list(input_str)])\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8834529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5296467a7d960eb35def75a320d8012d?s=128&d=identicon&r=PG&f=1", "display_name": "DAA", "link": "https://stackoverflow.com/users/8834529/daa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 46943725, "answer_count": 4, "score": -3, "last_activity_date": 1508981257, "creation_date": 1508975101, "last_edit_date": 1508981257, "question_id": 46943685, "link": "https://stackoverflow.com/questions/46943685/python-dictionary-string-operations", "title": "python dictionary string operations", "body": "<p>Currently I have my data in a directory</p>\n\n<pre><code>myDict = {'a':'Andy','b':'Bill','c':'Carly' }\n</code></pre>\n\n<p>I want to achieve something like </p>\n\n<pre><code>input = a --&gt; output = Andy\n\ninput = ab --&gt; output = Andy Bill\n\ninput = abc --&gt; output = Andy Bill Carly\n</code></pre>\n\n<p>How can I do that ? Please help me</p>\n"}, {"tags": ["python", "scikit-learn", "xgboost"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 8834521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f10a5430e3ebf5985c695c6d38bda195?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph E", "link": "https://stackoverflow.com/users/8834521/joseph-e"}, "edited": false, "score": 0, "creation_date": 1508999770, "post_id": 46947191, "comment_id": 80841776, "body": "Thank you so much!  I reran the code with the first set of changes you suggested and now the arrays (predictions and predictions2) match perfectly."}, {"owner": {"reputation": 818, "user_id": 4218755, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b269171dcca1217dd755cf999d65a254?s=128&d=identicon&r=PG&f=1", "display_name": "Ando Jurai", "link": "https://stackoverflow.com/users/4218755/ando-jurai"}, "edited": false, "score": 0, "creation_date": 1527860816, "post_id": 46947191, "comment_id": 88300120, "body": "@VivekKumar: Please, how do you reproduce num_boost_round=500 from xgb.train in XGBRepressor? Same, how to you specify the fact in  xgb.train that you will use either a classifier or regressor? the objective function might do that, but as you can specify any combination such as binary:logistic in XGBregressor, i guess this is not the parameter used for this. Thanks."}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "reply_to_user": {"reputation": 818, "user_id": 4218755, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b269171dcca1217dd755cf999d65a254?s=128&d=identicon&r=PG&f=1", "display_name": "Ando Jurai", "link": "https://stackoverflow.com/users/4218755/ando-jurai"}, "edited": false, "score": 1, "creation_date": 1527861000, "post_id": 46947191, "comment_id": 88300249, "body": "@AndoJurai You need to use n_estimators = 500 for that. But I am not  getting the second part of your question. Please explain in more detail what you want?"}, {"owner": {"reputation": 818, "user_id": 4218755, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b269171dcca1217dd755cf999d65a254?s=128&d=identicon&r=PG&f=1", "display_name": "Ando Jurai", "link": "https://stackoverflow.com/users/4218755/ando-jurai"}, "edited": false, "score": 0, "creation_date": 1527861850, "post_id": 46947191, "comment_id": 88300821, "body": "Thanks. Well, I want to know which parameter to set in xgb.train so that it knows it is training a classifier or a regressor and not the other way around? Does it infer from the labels? I ask because if there are XGBregressor and XGB classifier wrappers, there must be some important difference between these. So how does it work at xgb.train level?"}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "reply_to_user": {"reputation": 818, "user_id": 4218755, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b269171dcca1217dd755cf999d65a254?s=128&d=identicon&r=PG&f=1", "display_name": "Ando Jurai", "link": "https://stackoverflow.com/users/4218755/ando-jurai"}, "edited": false, "score": 1, "creation_date": 1527862284, "post_id": 46947191, "comment_id": 88301090, "body": "@AndoJurai Check here:<a href=\"http://xgboost.readthedocs.io/en/latest/parameter.html#learning-task-parameters\" rel=\"nofollow noreferrer\">xgboost.readthedocs.io/en/latest/&hellip;</a>. If still not satisfied, start a new question with relevant info."}, {"owner": {"reputation": 818, "user_id": 4218755, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b269171dcca1217dd755cf999d65a254?s=128&d=identicon&r=PG&f=1", "display_name": "Ando Jurai", "link": "https://stackoverflow.com/users/4218755/ando-jurai"}, "edited": false, "score": 0, "creation_date": 1527862689, "post_id": 46947191, "comment_id": 88301363, "body": "Well, actually there is nothing about this in the linked page. I also read this but still don&#39;t understand as you seem to be able to pass either &quot;reg:logistic&quot; or &quot;binary:logistic&quot; to a XGBRegressor/Classifier and it is thus not clear how &quot;train&quot; would distinguish between both."}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "reply_to_user": {"reputation": 818, "user_id": 4218755, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b269171dcca1217dd755cf999d65a254?s=128&d=identicon&r=PG&f=1", "display_name": "Ando Jurai", "link": "https://stackoverflow.com/users/4218755/ando-jurai"}, "edited": false, "score": 1, "creation_date": 1527863250, "post_id": 46947191, "comment_id": 88301713, "body": "@AndoJurai DId you look the objective parameter on linked page. All the options there are valid. <code>&quot;reg:linear&quot;</code> is for regression. See the heading: &quot;Learning Task Parameters&quot;"}, {"owner": {"reputation": 818, "user_id": 4218755, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b269171dcca1217dd755cf999d65a254?s=128&d=identicon&r=PG&f=1", "display_name": "Ando Jurai", "link": "https://stackoverflow.com/users/4218755/ando-jurai"}, "reply_to_user": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1527864139, "post_id": 46947191, "comment_id": 88302269, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/172252/discussion-between-ando-jurai-and-vivek-kumar\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "is_accepted": true, "score": 16, "last_activity_date": 1508999121, "creation_date": 1508999121, "answer_id": 46947191, "question_id": 46943674, "link": "https://stackoverflow.com/questions/46943674/how-to-get-predictions-with-xgboost-and-xgboost-using-scikit-learn-wrapper-to-ma/46947191#46947191", "title": "How to get Predictions with XGBoost and XGBoost using Scikit-Learn Wrapper to match?", "body": "<p>Please look at <a href=\"https://datascience.stackexchange.com/questions/17282/xgbregressor-vs-xgboost-train-huge-speed-difference\">this answer here</a></p>\n\n<blockquote>\n  <p><code>xgboost.train</code> will ignore parameter n_estimators, while\n  <code>xgboost.XGBRegressor</code> accepts. In xgboost.train, boosting iterations\n  (i.e. n_estimators) is controlled by num_boost_round(default: 10)</p>\n</blockquote>\n\n<p>It suggests to remove <code>n_estimators</code> from params supplied to <code>xgb.train</code> and replace it with <code>num_boost_round</code>.</p>\n\n<p>So change your params like this:</p>\n\n<pre><code>params = {'objective': 'reg:linear', \n      'max_depth': 2, 'learning_rate': .1,    \n      'min_child_weight': 3, 'colsample_bytree': .7,\n      'subsample': .8, 'gamma': 0, 'alpha': 1}\n</code></pre>\n\n<p>And train xgb.train like this:</p>\n\n<pre><code>model = xgb.train(dtrain=xgtrain, params=params,num_boost_round=500)\n</code></pre>\n\n<p>And you will get same results.</p>\n\n<p>Alternatively, keep the xgb.train as it is and change the XGBRegressor like this:</p>\n\n<pre><code>model = XGBRegressor(learning_rate =.1, n_estimators=10,\n                     max_depth=2, min_child_weight=3, gamma=0, \n                     subsample=.8, colsample_bytree=.7, reg_alpha=1, \n                     objective= 'reg:linear')\n</code></pre>\n\n<p>Then also you will get same results.</p>\n"}], "owner": {"reputation": 113, "user_id": 8834521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f10a5430e3ebf5985c695c6d38bda195?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph E", "link": "https://stackoverflow.com/users/8834521/joseph-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7383, "favorite_count": 7, "accepted_answer_id": 46947191, "answer_count": 1, "score": 11, "last_activity_date": 1508999121, "creation_date": 1508975007, "question_id": 46943674, "link": "https://stackoverflow.com/questions/46943674/how-to-get-predictions-with-xgboost-and-xgboost-using-scikit-learn-wrapper-to-ma", "title": "How to get Predictions with XGBoost and XGBoost using Scikit-Learn Wrapper to match?", "body": "<p>I am new to XGBoost in Python so I apologize if the answer here is obvious, but I am trying to take a panda dataframe and get XGBoost in Python to give me the same predictions I get when I use the Scikit-Learn wrapper for the same exercise.  So far I've been unable to do so.  Just to give an example, here I take the boston dataset, convert to a panda dataframe, train on the first 500 observations of the dataset and then predict the last 6.  I do it with XGBoost first and then with the Scikit-Learn wrapper and I get different predictions even though I've set the parameters of the model to be the same.  Specifically the array predictions looks very different from the array predictions2 (see code below).  Any help would be much appreciated!</p>\n\n<pre><code>from sklearn import datasets\nimport pandas as pd\nimport xgboost as xgb\nfrom xgboost.sklearn import XGBClassifier\nfrom xgboost.sklearn import XGBRegressor\n\n### Use the boston data as an example, train on first 500, predict last 6 \nboston_data = datasets.load_boston()\ndf_boston = pd.DataFrame(boston_data.data,columns=boston_data.feature_names)\ndf_boston['target'] = pd.Series(boston_data.target)\n\n\n#### Code using XGBoost\nSub_train = df_boston.head(500)\ntarget = Sub_train[\"target\"]\nSub_train = Sub_train.drop('target', axis=1) \n\nSub_predict = df_boston.tail(6)\nSub_predict = Sub_predict.drop('target', axis=1)  \n\nxgtrain = xgb.DMatrix(Sub_train.as_matrix(), label=target.tolist())\nxgtest = xgb.DMatrix(Sub_predict.as_matrix())\n\nparams = {'booster': 'gblinear', 'objective': 'reg:linear', \n      'max_depth': 2, 'learning_rate': .1, 'n_estimators': 500,    'min_child_weight': 3, 'colsample_bytree': .7,\n      'subsample': .8, 'gamma': 0, 'reg_alpha': 1}\n\nmodel = xgb.train(dtrain=xgtrain, params=params)\n\npredictions = model.predict(xgtest)\n\n#### Code using Sk learn Wrapper for XGBoost\nmodel = XGBRegressor(learning_rate =.1, n_estimators=500,\nmax_depth=2, min_child_weight=3, gamma=0, \nsubsample=.8, colsample_bytree=.7, reg_alpha=1, \nobjective= 'reg:linear')\n\ntarget = \"target\"\n\nSub_train = df_boston.head(500)\nSub_predict = df_boston.tail(6)\nSub_predict = Sub_predict.drop('target', axis=1)\n\nEx_List = ['target']\n\npredictors = [i for i in Sub_train.columns if i not in Ex_List]\n\nmodel = model.fit(Sub_train[predictors],Sub_train[target])\n\npredictions2 = model.predict(Sub_predict)\n</code></pre>\n"}, {"tags": ["python", "selenium", "web-scraping", "beautifulsoup", "urllib"], "comments": [{"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508978135, "post_id": 46943648, "comment_id": 80835533, "body": "IIUC, You can use selemium to enter text and submit the credentials. Use PhantomJS to mask opening and logging into the page. A related question is here: <a href=\"https://stackoverflow.com/questions/21186327/fill-username-and-password-using-selenium-in-python\">SO</a>"}, {"owner": {"reputation": 31, "user_id": 5030117, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/28b8f0191ff14f3cedf00e5193c0b649?s=128&d=identicon&r=PG&f=1", "display_name": "JCodder", "link": "https://stackoverflow.com/users/5030117/jcodder"}, "reply_to_user": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508986516, "post_id": 46943648, "comment_id": 80837502, "body": "@Mokshyam I am not having an issue loginning on with selenium by entering credentials. The issue is with the captcha requests that I get every so often. There&#39;s not easy way to bypass the puzzles. I&#39;m looking for a route where I can login via browser manually and then use the open browser to navigate webpages since I&#39;ll be logged in during my session."}, {"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508986675, "post_id": 46943648, "comment_id": 80837537, "body": "I see what element holds the captcha. An iframe?"}], "owner": {"reputation": 31, "user_id": 5030117, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/28b8f0191ff14f3cedf00e5193c0b649?s=128&d=identicon&r=PG&f=1", "display_name": "JCodder", "link": "https://stackoverflow.com/users/5030117/jcodder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 522, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508974827, "creation_date": 1508974827, "question_id": 46943648, "link": "https://stackoverflow.com/questions/46943648/use-existing-google-chrome-window-to-web-scrape-python", "title": "Use Existing Google Chrome Window To Web Scrape Python", "body": "<p>Running Python 3.6 and I'm having a whole lot of issues logging to a site primarily due to captcha. I really only need to search up URLs and retrieve the html on the page but I need to be logged in for certain additional information to appear on the accessible URLs.</p>\n\n<p>I was using urllib to read the URLs but now I was looking for a solution to login and then request information. The automatic route won't seem to work due to those issues, so I'm looking for a method by which I am already logged in on an open browser and python opens up new tabs to search for URLs (the searches can be hidden, they don't have to literally open up new tabs). It appears that when I open new tabs manually on the site it still shows i'm logged in so If i can manually log in each time i want to run the script and then work based off that, it would actually work just fine.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-3.x", "loops"], "answers": [{"tags": [], "owner": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "is_accepted": true, "score": 1, "last_activity_date": 1508974813, "creation_date": 1508974813, "answer_id": 46943643, "question_id": 46943618, "link": "https://stackoverflow.com/questions/46943618/how-to-make-the-input-loop-if-requirements-arent-met/46943643#46943643", "title": "How to make the input loop if requirements aren&#39;t met?", "body": "<p>Ask for the Tip_Percentage input again:</p>\n\n<pre><code>Tip_Percentage = int(input(\"Tip %: \"))\n\nwhile Tip_Percentage &lt;= 15:\n    print(\"Please give a higher tip than that.\")\n    Tip_Percentage = int(input(\"Tip %: \"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "is_accepted": false, "score": 0, "last_activity_date": 1508974904, "creation_date": 1508974904, "answer_id": 46943664, "question_id": 46943618, "link": "https://stackoverflow.com/questions/46943618/how-to-make-the-input-loop-if-requirements-arent-met/46943664#46943664", "title": "How to make the input loop if requirements aren&#39;t met?", "body": "<p>You need to ask for the tip until it has been greater than or equal to 15.</p>\n\n<pre><code>Meal_Cost = int(input(\"Meal Cost: $\"))\nPatrons = int(input(\"Number of Patrons: \"))\nTip_Percentage = int(input(\"Tip %: \"))\n\nwhile Tip_Percentage &lt;= 15:\n    Tip_Percentage = int(input(\"Please give a higher tip than that : \"))\n\nPrice_of_Meal = Meal_Cost / Patrons\nprint(\"Price of Meal: $\", Price_of_Meal,)\n\n\nTip_Amount = (Tip_Percentage / 100 * Meal_Cost)\nprint(\"Tip: $\", Tip_Amount)\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8025649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/603d72cfe26e787a846c164bddf0c770?s=128&d=identicon&r=PG&f=1", "display_name": "Brody Jeanson", "link": "https://stackoverflow.com/users/8025649/brody-jeanson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "closed_date": 1508974841, "accepted_answer_id": 46943643, "answer_count": 2, "score": 0, "last_activity_date": 1508974904, "creation_date": 1508974599, "question_id": 46943618, "link": "https://stackoverflow.com/questions/46943618/how-to-make-the-input-loop-if-requirements-arent-met", "closed_reason": "Duplicate", "title": "How to make the input loop if requirements aren&#39;t met?", "body": "<p>So, the Tip_Percentage must be higher than 15, and I want the input to loop if the requirement for it to be over 15 isn't met, how I make that happen?</p>\n\n<pre><code>Meal_Cost = int(input(\"Meal Cost: $\"))\nPatrons = int(input(\"Number of Patrons: \"))\nTip_Percentage = int(input(\"Tip %: \"))\n\nwhile Tip_Percentage &lt;= 15:\n    print(\"Please give a higher tip than that.\")\n    break\n\nelse:\n  if Tip_Percentage &gt;= 15:\n    print('\\n')\n\n\n  Price_of_Meal = Meal_Cost / Patrons\n  print(\"Price of Meal: $\", Price_of_Meal,)\n\n\n  Tip_Amount = (Tip_Percentage / 100 * Meal_Cost)\n  print(\"Tip: $\", Tip_Amount)\n</code></pre>\n"}, {"tags": ["python", "pandas", "lambda", "apply"], "comments": [{"owner": {"reputation": 2610, "user_id": 1743931, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6741221714b17c376fdcf31340029f26?s=128&d=identicon&r=PG", "display_name": "unlockme", "link": "https://stackoverflow.com/users/1743931/unlockme"}, "edited": false, "score": 0, "creation_date": 1605871834, "post_id": 46943617, "comment_id": 114791861, "body": "I got this error when I tried to assign a subset of the frame instead of a series <code>df[&#39;new_col&#39;] = df[df[&#39;some_col&#39;]==&#39;SomeValue&#39;]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 8600236, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-zlwvfklDN1w/AAAAAAAAAAI/AAAAAAAAABs/snfETpVvP-0/photo.jpg?sz=128", "display_name": "David Bear", "link": "https://stackoverflow.com/users/8600236/david-bear"}, "edited": false, "score": 0, "creation_date": 1509050914, "post_id": 46943683, "comment_id": 80874878, "body": "piRSquare: THANK you. the df.eval syntax is new to me. I guess I may have been looking at older pandas documentation. The old slow way at the end of the list still through the keyerror. I am guessing now that there is a different exception that is being through and the keyerror is obscuring it. I realized after looking at the apply lambda syntax that I don&#39;t need the lambda.. I think my brain was stuck in an r-data frame like paradigm - the third syntax you gave above worked exactly as I needed it."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 2, "last_activity_date": 1508975093, "creation_date": 1508975093, "answer_id": 46943683, "question_id": 46943617, "link": "https://stackoverflow.com/questions/46943617/python-3-pandas-and-creating-new-columns-fail-with-keyerror/46943683#46943683", "title": "python 3, pandas and creating new columns fail with keyerror", "body": "<pre><code>stdf['truSpeed'] = stdf['nSpeed'].apply(lambda x: x * .1 * stdf[\"truAcc\"])\n</code></pre>\n\n<p>Should be</p>\n\n<pre><code>stdf['truSpeed'] = stdf.eval('nSpeed * truAcc * .1')\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>stdf['truSpeed'] = stdf['nSpeed'] * stdf['truAcc'] * .1\n</code></pre>\n\n<p>Or the slow way with </p>\n\n<pre><code>stdf['truSpeed'] = stdf.apply(lambda x: x['nSpeed'] * x['truAcc'] * .1, axis=1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 8600236, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-zlwvfklDN1w/AAAAAAAAAAI/AAAAAAAAABs/snfETpVvP-0/photo.jpg?sz=128", "display_name": "David Bear", "link": "https://stackoverflow.com/users/8600236/david-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1509051358, "creation_date": 1509051358, "answer_id": 46963656, "question_id": 46943617, "link": "https://stackoverflow.com/questions/46943617/python-3-pandas-and-creating-new-columns-fail-with-keyerror/46963656#46963656", "title": "python 3, pandas and creating new columns fail with keyerror", "body": "<p>Thanks to piRSquared there is an easier syntax. As mentioned in the comment, the df.eval syntax is new and it worked. However, the syntax that seems to 'fit' the paradigm that excel spreadsheets use is the third syntax</p>\n\n<pre><code>stdf['truSpeed'] = stdf['nSpeed'] * stdf['truAcc'] * .1\n</code></pre>\n\n<p>I think the keyerror originally generated must have been caused by some other error since using the identifier 'truSpeed' works just find to create the new column in the data frame. </p>\n"}], "owner": {"reputation": 81, "user_id": 8600236, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-zlwvfklDN1w/AAAAAAAAAAI/AAAAAAAAABs/snfETpVvP-0/photo.jpg?sz=128", "display_name": "David Bear", "link": "https://stackoverflow.com/users/8600236/david-bear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4146, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1528809256, "creation_date": 1508974580, "question_id": 46943617, "link": "https://stackoverflow.com/questions/46943617/python-3-pandas-and-creating-new-columns-fail-with-keyerror", "title": "python 3, pandas and creating new columns fail with keyerror", "body": "<p>I've been using the apply method on a dataframe to create new columns. So, if I have a df that looks like this:</p>\n\n<pre><code>stdf.columns\nIndex(['Username', 'First Name', 'Last Name', 'Class', 'Screens Typed','Time Spent', 'Avg Speed', 'Avg Acc'],  dtype='object')\n</code></pre>\n\n<p>I've be using syntax like this to create new columns</p>\n\n<pre><code>stdf['uid'] = stdf['Username'].apply(lambda x: x[0:6]) + \"-\" + stdf['First Name'] + \"-\" + stdf['Last Name']\n</code></pre>\n\n<p>Today when using that same method to create a new column I get a keyerror on the new column name</p>\n\n<pre><code>stdf['truSpeed'] = stdf['nSpeed'].apply(lambda x: x * .1 * stdf[\"truAcc\"])\n</code></pre>\n\n<p>yes, 'nSpeed' and 'truAcc' do exist as columns. </p>\n\n<pre><code>Index(['Username', 'First Name', 'Last Name', 'Class', 'Screens Typed', 'Time Spent', 'Avg Speed', 'Avg Acc', 'truTime', 'uid', 'truAcc',\n</code></pre>\n\n<p>'nSpeed'], dtype='object')</p>\n\n<p>The keyerror points to the 'truSpeed identifier.\nSo my question is why is pandas now telling me I have a keyerror when trying to create a new column when it has always created the new column in the past? </p>\n\n<p>There must be some other error that I'm not seeing. </p>\n\n<p>Here's the almost full traceback</p>\n\n<pre><code>KeyError                                  Traceback (most recent call last)\n/home/david/dev/msc/lib/python3.5/site-packages/pandas/indexes/base.py in get_loc(self, key, method, tolerance)\n   2133             try:\n-&gt; 2134                 return self._engine.get_loc(key)\n   2135             except KeyError:\n\npandas/index.pyx in pandas.index.IndexEngine.get_loc (pandas/index.c:4433)()\n\npandas/index.pyx in pandas.index.IndexEngine.get_loc (pandas/index.c:4279)()\n\npandas/src/hashtable_class_helper.pxi in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:13742)()\n\npandas/src/hashtable_class_helper.pxi in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:13696)()\n\nKeyError: 'truSpeed'\n\nDuring handling of the above exception, another exception occurred:\n\nKeyError                                  Traceback (most recent call last)\n/home/david/dev/msc/lib/python3.5/site-packages/pandas/core/internals.py in set(self, item, value, check)\n   3667         try:\n-&gt; 3668             loc = self.items.get_loc(item)\n   3669         except KeyError:\n\n/home/david/dev/msc/lib/python3.5/site-packages/pandas/indexes/base.py in get_loc(self, key, method, tolerance)\n   2135             except KeyError:\n-&gt; 2136                 return self._engine.get_loc(self._maybe_cast_indexer(key))\n   2137 \n\npandas/index.pyx in pandas.index.IndexEngine.get_loc (pandas/index.c:4433)()\n\npandas/index.pyx in pandas.index.IndexEngine.get_loc (pandas/index.c:4279)()\n\npandas/src/hashtable_class_helper.pxi in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:13742)()\n\npandas/src/hashtable_class_helper.pxi in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:13696)()\n\nKeyError: 'truSpeed'\n\nDuring handling of the above exception, another exception occurred:\n\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-18-35d20ff4edf0&gt; in &lt;module&gt;()\n      4 stdf['nSpeed'] = stdf['Avg Speed'].apply(lambda x: int(x.split(\" \")[0]))\n      5 print(stdf.columns)\n----&gt; 6 stdf['truSpeed'] = stdf['nSpeed'].apply(lambda x: x * .1 * stdf[\"truAcc\"])\n      7 # stdf['truSpeed']\n      8 # print(stdf.columns)\n\n/home/david/dev/msc/lib/python3.5/site-packages/pandas/core/frame.py in __setitem__(self, key, value)\n   2417         else:\n   2418             # set column\n-&gt; 2419             self._set_item(key, value)\n   2420 \n   2421     def _setitem_slice(self, key, value):\n\n/home/david/dev/msc/lib/python3.5/site-packages/pandas/core/frame.py in _set_item(self, key, value)\n   2484         self._ensure_valid_index(value)\n   2485         value = self._sanitize_column(key, value)\n-&gt; 2486         NDFrame._set_item(self, key, value)\n   2487 \n   2488         # check if we are modifying a copy\n\n/home/david/dev/msc/lib/python3.5/site-packages/pandas/core/generic.py in _set_item(self, key, value)\n   1498 \n   1499     def _set_item(self, key, value):\n-&gt; 1500         self._data.set(key, value)\n   1501         self._clear_item_cache()\n   1502 \n\n/home/david/dev/msc/lib/python3.5/site-packages/pandas/core/internals.py in set(self, item, value, check)\n   3669         except KeyError:\n   3670             # This item wasn't present, just insert at end\n-&gt; 3671             self.insert(len(self.items), item, value)\n   3672             return\n   3673 \n\n/home/david/dev/msc/lib/python3.5/site-packages/pandas/core/internals.py in insert(self, loc, item, value, allow_duplicates)\n   3770 \n   3771         block = make_block(values=value, ndim=self.ndim,\n-&gt; 3772                            placement=slice(loc, loc + 1))\n   3773 \n   3774         for blkno, count in _fast_count_smallints(self._blknos[loc:]):\n\n/home/david/dev/msc/lib/python3.5/site-packages/pandas/core/internals.py in make_block(values, placement, klass, ndim, dtype, fastpath)\n   2683                      placement=placement, dtype=dtype)\n   2684 \n-&gt; 2685     return klass(values, ndim=ndim, fastpath=fastpath, placement=placement)\n   2686 \n   2687 # TODO: flexible with index=None and/or items=None\n\n/home/david/dev/msc/lib/python3.5/site-packages/pandas/core/internals.py in __init__(self, values, placement, ndim, fastpath)\n    107             raise ValueError('Wrong number of items passed %d, placement '\n    108                              'implies %d' % (len(self.values),\n--&gt; 109                                              len(self.mgr_locs)))\n    110 \n    111     @property\n\nValueError: Wrong number of items passed 58, placement implies 1\n</code></pre>\n"}, {"tags": ["python", "dictionary", "for-loop", "twitter"], "comments": [{"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 1, "creation_date": 1508974352, "post_id": 46943569, "comment_id": 80834591, "body": "Try printing <code>item</code>. You&#39;ll notice that <code>enumerate</code> is not the right tool for the job :)"}], "answers": [{"comments": [{"owner": {"reputation": 530, "user_id": 1298833, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/77bcef13f4903d7a438b57d5fd23474a?s=128&d=identicon&r=PG", "display_name": "TJE", "link": "https://stackoverflow.com/users/1298833/tje"}, "edited": false, "score": 0, "creation_date": 1508974662, "post_id": 46943602, "comment_id": 80834684, "body": "Yes, that did it. Thank you!"}, {"owner": {"reputation": 530, "user_id": 1298833, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/77bcef13f4903d7a438b57d5fd23474a?s=128&d=identicon&r=PG", "display_name": "TJE", "link": "https://stackoverflow.com/users/1298833/tje"}, "edited": false, "score": 0, "creation_date": 1508975106, "post_id": 46943602, "comment_id": 80834803, "body": "Yep, I&#39;m just waiting for the time limit to pass -- I guess I have to wait about 10 minutes after the question is asked to mark your response as accepted."}], "tags": [], "owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "is_accepted": true, "score": 2, "last_activity_date": 1508974507, "creation_date": 1508974507, "answer_id": 46943602, "question_id": 46943569, "link": "https://stackoverflow.com/questions/46943569/replace-a-string-inside-a-dictionary-thats-inside-a-list-of-dictionaries-tweet/46943602#46943602", "title": "Replace a string inside a dictionary that&#39;s inside a list of dictionaries (Tweets from Twitter)", "body": "<p>You can replace them by iterating through the list</p>\n\n<pre><code>for d in twitter_cumulative_datascience_tweets:\n    if d['user']['lang'] == 'en-gb':\n        d['user']['lang'] = 'en'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1508974927, "last_edit_date": 1508974927, "creation_date": 1508974611, "answer_id": 46943620, "question_id": 46943569, "link": "https://stackoverflow.com/questions/46943569/replace-a-string-inside-a-dictionary-thats-inside-a-list-of-dictionaries-tweet/46943620#46943620", "title": "Replace a string inside a dictionary that&#39;s inside a list of dictionaries (Tweets from Twitter)", "body": "<p>You can try this:</p>\n\n<pre><code>tweets = [{'created_at': 'Wed Oct 18 22:20:30 +0000 2017', 'id': 920776631102214144, 'user': {'id': 119116331, 'statuses_count': 32796, 'verified': False, 'lang': 'en-'}, 'retweet_count': 0, 'favorite_count': 0}, {'created_at': 'Wed Oct 17 12:20:36 +0000 2017', 'id': 920776631106514144, 'user': {'id': 119159331, 'statuses_count': 32796, 'verified': False, 'lang': 'en-gb'}, 'retweet_count': 1, 'favorite_count': 2}]\nfinal_tweets = [{\"created_at\":i[\"created_at\"], \"id\":i[\"id\"], \"user\":{a:\"en\" if b == \"en-gb\" else b for a, b in i[\"user\"].items()}} for i in tweets]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[{'created_at': 'Wed Oct 18 22:20:30 +0000 2017', 'id': 920776631102214144, 'user': {'lang': 'en-', 'statuses_count': 32796, 'verified': False, 'id': 119116331}}, {'created_at': 'Wed Oct 17 12:20:36 +0000 2017', 'id': 920776631106514144, 'user': {'lang': 'en', 'statuses_count': 32796, 'verified': False, 'id': 119159331}}]\n</code></pre>\n"}], "owner": {"reputation": 530, "user_id": 1298833, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/77bcef13f4903d7a438b57d5fd23474a?s=128&d=identicon&r=PG", "display_name": "TJE", "link": "https://stackoverflow.com/users/1298833/tje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 46943602, "answer_count": 2, "score": -1, "last_activity_date": 1508974927, "creation_date": 1508974206, "last_edit_date": 1508974520, "question_id": 46943569, "link": "https://stackoverflow.com/questions/46943569/replace-a-string-inside-a-dictionary-thats-inside-a-list-of-dictionaries-tweet", "title": "Replace a string inside a dictionary that&#39;s inside a list of dictionaries (Tweets from Twitter)", "body": "<p>I have a list of tweets I collected from the Twitter API.</p>\n\n<p>Each tweet in the list is in the form of a dictionary.</p>\n\n<p><strong>I want to change all of the strings 'en-gb' within this file to 'en'.</strong></p>\n\n<p>Here is a list of two of the tweets:</p>\n\n<pre><code>twitter_tweets =  \n[{'created_at': 'Wed Oct 18 22:20:30 +0000 2017', 'id': 920776631102214144, 'user': {'id': 119116331, 'statuses_count': 32796, 'verified': False, 'lang': 'en-'}, 'retweet_count': 0, 'favorite_count': 0}\n{'created_at': 'Wed Oct 17 12:20:36 +0000 2017', 'id': 920776631106514144, 'user': {'id': 119159331, 'statuses_count': 32796, 'verified': False, 'lang': 'en-gb'}, 'retweet_count': 1, 'favorite_count': 2}]\n</code></pre>\n\n<p>Note the location of the \"en-gb\" string: </p>\n\n<p>While each tweet is a dictionary, the key 'user' has a secondary dictionary as its value. One of the keys inside that secondary dictionary is 'lang' (Language) and, its value is sometimes 'en-gb' (\"British English\").</p>\n\n<p>I want to change all of the values 'en-gb' to 'en'.</p>\n\n<p>I tried this, but to no avail:</p>\n\n<pre><code>for item in enumerate(twitter_tweets):\n    for item == 'en-gb':\n        item = 'en'\n</code></pre>\n"}, {"tags": ["python", "directory", "zipfile"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1508974697, "post_id": 46943567, "comment_id": 80834690, "body": "Just iterate over them split on <code>&#47;</code> and take only the first string (as long as there are more than one). To exclude the &#39;__MACOSX&#39; directory simply define a list of names that you will exclude from your results and a check to ensure they are not included in the results."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1508974822, "post_id": 46943567, "comment_id": 80834724, "body": "I am a little confused by your question. A zip file can contain any number of directories and files, and may have an arbitrary layout within it. <code>namelist()</code> just returns the full path within the archive of every directory and file it contains. What folder name are you trying to determine and on what basis?"}, {"owner": {"reputation": 155, "user_id": 8787119, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/17c9cc19a5c36b9861f8a690d8cf8a31?s=128&d=identicon&r=PG&f=1", "display_name": "Flora", "link": "https://stackoverflow.com/users/8787119/flora"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1508974856, "post_id": 46943567, "comment_id": 80834733, "body": "Thanks @Paul Rooney, I want it so that all platform and all kind of folders can be used for my code though, I was trying to just keep the one that end with &quot;/&quot; and doesn&#39;t contain &quot;__&quot; but I don&#39;t know if I use another platform (eg. Windows) it will drop some that I need."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1508974890, "post_id": 46943567, "comment_id": 80834742, "body": "Yeah if for some reason you expect to be OSX hidden file cruft in the archive you&#39;ll have to ignore that explicitly."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1508975192, "post_id": 46943567, "comment_id": 80834825, "body": "Yes you may also look to exclude the files based on a <code>__</code> prefix or by hidden status. It will be tricky to provide a bulletproof solution for detecting the files you don&#39;t want, you will have to experiment to find a solution that meets your needs."}, {"owner": {"reputation": 155, "user_id": 8787119, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/17c9cc19a5c36b9861f8a690d8cf8a31?s=128&d=identicon&r=PG&f=1", "display_name": "Flora", "link": "https://stackoverflow.com/users/8787119/flora"}, "reply_to_user": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1508975208, "post_id": 46943567, "comment_id": 80834831, "body": "Thank you @Iguananaut for your reply. I updated my question, hopefully it&#39;s a bit more understandable."}, {"owner": {"reputation": 155, "user_id": 8787119, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/17c9cc19a5c36b9861f8a690d8cf8a31?s=128&d=identicon&r=PG&f=1", "display_name": "Flora", "link": "https://stackoverflow.com/users/8787119/flora"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1508975414, "post_id": 46943567, "comment_id": 80834881, "body": "@kindall, thank you for your explanation. Helped a lot"}, {"owner": {"reputation": 155, "user_id": 8787119, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/17c9cc19a5c36b9861f8a690d8cf8a31?s=128&d=identicon&r=PG&f=1", "display_name": "Flora", "link": "https://stackoverflow.com/users/8787119/flora"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1508975478, "post_id": 46943567, "comment_id": 80834899, "body": "@Paul Rooney, thanks for your response. I will dig more into it !"}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1508975569, "post_id": 46943567, "comment_id": 80834926, "body": "The question is do you mean top-level folders (i.e. without any other path components in front of them) or the nested folders of any depth? In any case anything ending with <i>just</i> <code>&#47;</code> is a folder name. The archive contents are the same on any platform so there&#39;s nothing to be concerned with about that."}], "answers": [{"comments": [{"owner": {"reputation": 1486, "user_id": 3097518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e45170bc0bbce4e287aebfa97ce723f9?s=128&d=identicon&r=PG", "display_name": "joslarson", "link": "https://stackoverflow.com/users/3097518/joslarson"}, "edited": false, "score": 0, "creation_date": 1508975781, "post_id": 46943752, "comment_id": 80834978, "body": "Looks like <code>is_dir</code> was added in Python 3.6, but under the hood all it&#39;s doing is checking if the filename ends in a &#39;/&#39;"}], "tags": [], "owner": {"reputation": 1486, "user_id": 3097518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e45170bc0bbce4e287aebfa97ce723f9?s=128&d=identicon&r=PG", "display_name": "joslarson", "link": "https://stackoverflow.com/users/3097518/joslarson"}, "is_accepted": false, "score": 5, "last_activity_date": 1508975612, "creation_date": 1508975612, "answer_id": 46943752, "question_id": 46943567, "link": "https://stackoverflow.com/questions/46943567/get-name-of-folders-in-zip-files-python/46943752#46943752", "title": "Get name of folders in zip files - Python", "body": "<p>I haven't tested this, but the following might be what you're looking for:</p>\n\n<pre><code>with ZipFile(root.filename, 'r') as f:\n    names = [info.filename for info in f.infolist() if info.is_dir()]\n</code></pre>\n\n<p>For reference, look at <a href=\"https://docs.python.org/3.6/library/zipfile.html#zipfile.ZipFile.infolist\" rel=\"noreferrer\">https://docs.python.org/3.6/library/zipfile.html#zipfile.ZipFile.infolist</a> and <a href=\"https://docs.python.org/3.6/library/zipfile.html#zipfile.ZipInfo.is_dir\" rel=\"noreferrer\">https://docs.python.org/3.6/library/zipfile.html#zipfile.ZipInfo.is_dir</a></p>\n"}], "owner": {"reputation": 155, "user_id": 8787119, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/17c9cc19a5c36b9861f8a690d8cf8a31?s=128&d=identicon&r=PG&f=1", "display_name": "Flora", "link": "https://stackoverflow.com/users/8787119/flora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3840, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1508976961, "creation_date": 1508974167, "last_edit_date": 1508976961, "question_id": 46943567, "link": "https://stackoverflow.com/questions/46943567/get-name-of-folders-in-zip-files-python", "title": "Get name of folders in zip files - Python", "body": "<p>I have been searching the whole stackoverflow to get an idea on how to extract only names of subfolders from a zip file path.</p>\n\n<p>I tried using tkinter to get the zip path:</p>\n\n<pre><code>Import os\nfrom tkinter import filedialog\nimport tkinter as tk\nfrom zipfile import ZipFile\n\nroot = tk.Tk()\nroot.withdraw()\nroot.filename = filedialog.askopenfilename(initialdir=os.getcwd(), title=\"Select file\", filetypes=[(\"zip\", \"*.zip\")])\n</code></pre>\n\n<p>And used the ZipFile and namelist to hopefully get the names of all subfolders.</p>\n\n<pre><code>with ZipFile(root.filename, 'r') as f:\n    names = f.namelist()\n</code></pre>\n\n<p>However, I get that:</p>\n\n<pre><code>['CS10/', 'CS10/.DS_Store', '__MACOSX/', '__MACOSX/CS10/', '__MACOSX/CS10/._.DS_Store', etc........\n</code></pre>\n\n<p>I want to know if there is a way to just get the folder name which is in this case CS10 and so on.</p>\n\n<p>Example:\nIf I have 3 folders named: \"Apple\" \"Orange\" \"Pear\" in a zip file path(Users/Kiona/fruits.zip)\nI want to print ['Apple','Orange','Pear']</p>\n\n<p>I am pretty new with Python so I hope this doesn't sound like a very stupid problem.</p>\n\n<p>Cheers ! </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "edited": false, "score": 0, "creation_date": 1508974227, "post_id": 46943563, "comment_id": 80834565, "body": "you can use <code>min(list_name)</code> to get the lowest number in the list"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1508975115, "post_id": 46943563, "comment_id": 80834808, "body": "Please supply a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a>.  You posted a lot of code that does not relate to your problem."}, {"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1508975290, "post_id": 46943563, "comment_id": 80834847, "body": "Instead of <code>total = 0</code>, say <code>total = -min(number_list)</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8834471"}, "edited": false, "score": 0, "creation_date": 1508975723, "post_id": 46943563, "comment_id": 80834962, "body": "i changed total = 0 to that. than when i enter 90 90 80 it gave me average of 60"}, {"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1508976396, "post_id": 46943563, "comment_id": 80835155, "body": "Cool. now <code>average = total &#47; (len(number_list) - 1)</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8834471"}, "edited": false, "score": 0, "creation_date": 1508976565, "post_id": 46943563, "comment_id": 80835190, "body": "Thankssss John my code works now."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8834471"}, "edited": false, "score": 0, "creation_date": 1508976612, "post_id": 46943563, "comment_id": 80835205, "body": "thankssss Now i understood how to drop lower num."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1508975005, "creation_date": 1508975005, "answer_id": 46943673, "question_id": 46943563, "link": "https://stackoverflow.com/questions/46943563/drop-lowest-numbers-from-list-in-python/46943673#46943673", "title": "drop lowest numbers from list in python", "body": "<p>Simply call the <code>min</code> and <code>remove</code> methods, in that order:</p>\n\n<pre><code>seq = [2, 5, 3, -2, 7, 0, 19]\nseq.remove(min(seq))\nprint seq\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[2, 5, 3, 7, 0, 19]\n</code></pre>\n\n<p><code>min</code> identifies the lowest element (-2).  <code>remove</code> then deletes the first occurrence of that value from the list.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8834471"}, "edited": false, "score": 0, "creation_date": 1508976278, "post_id": 46943688, "comment_id": 80835117, "body": "what did i do wronge. when  i  run the code it says get_average() takes exactly 1 arguments (2 given) on line 32 in main.py"}, {"owner": {"reputation": 7733, "user_id": 2335675, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/W1Gqm.jpg?s=128&g=1", "display_name": "Marcus Lind", "link": "https://stackoverflow.com/users/2335675/marcus-lind"}, "edited": false, "score": 0, "creation_date": 1508978390, "post_id": 46943688, "comment_id": 80835585, "body": "@Programmer1120 as you can see, David changed your method from accepting 2 arguments to a single argument."}, {"owner": {"reputation": 952, "user_id": 7530245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf0b6f35f2d3b413a9108112e97deea3?s=128&d=identicon&r=PG&f=1", "display_name": "David Rosenman", "link": "https://stackoverflow.com/users/7530245/david-rosenman"}, "edited": false, "score": 0, "creation_date": 1509036184, "post_id": 46943688, "comment_id": 80866618, "body": "yeah you only need one argument. You have for number in number_list:... you don&#39;t need &quot;number&quot; as an argument to your function. for number is number_list works without having number as an argument... it basically says &quot;for each number in number_list, add that number to total&quot;.  Try get_average([0,1,2,15]). With 0 dropped... you&#39;re left with the list [1,2,15]. The sum of those number of 18. There are 3 numbers in the list so the average is 18/3 = 6. So get_average([0,1,2,15]) should return 6."}], "tags": [], "owner": {"reputation": 952, "user_id": 7530245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf0b6f35f2d3b413a9108112e97deea3?s=128&d=identicon&r=PG&f=1", "display_name": "David Rosenman", "link": "https://stackoverflow.com/users/7530245/david-rosenman"}, "is_accepted": false, "score": 0, "last_activity_date": 1508975577, "last_edit_date": 1508975577, "creation_date": 1508975128, "answer_id": 46943688, "question_id": 46943563, "link": "https://stackoverflow.com/questions/46943563/drop-lowest-numbers-from-list-in-python/46943688#46943688", "title": "drop lowest numbers from list in python", "body": "<pre><code>def get_average(number_list):\n    numbers = list(number_list)\n    #remove smallest number\n    numbers.remove(min(numbers))\n    total = 0\n    for number in numbers:\n        total += number\n    average = total/len(numbers)\n    return average\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8834471"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3087, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1508975577, "creation_date": 1508974152, "question_id": 46943563, "link": "https://stackoverflow.com/questions/46943563/drop-lowest-numbers-from-list-in-python", "title": "drop lowest numbers from list in python", "body": "<p>I want my  get_average function  to  take number list as the parameter, drops the lowest number from the list, and calculates the average number. The function returns the average number. I'm a begainner in python. I don't understand how can i Drop lowest number from the list. i'm really stuck.</p>\n\n<p>my program so far - </p>\n\n<pre><code>def get_numbers():\n    numbers = []\n    num_to_get = int(input('How many numbers do you want to enter?'))\n    while num_to_get &gt; 0:\n            num_to_get -= 1\n            number = int(input('Enter a number: '))\n            numbers.append(number)\n\n    return numbers\n\ndef get_average(number_list, number):\n    total = 0\n    for number in number_list:\n        total += number\n    average = total/len(number_list)\n\n    for i in range(len(number_list)):\n        number_list[i] = 0\n    number = 0\n\n    return average\n\ndef show_average(value):\n    print('Average:', value)\n\ndef main():\n    numbers = get_numbers()\n    print('Number List:', numbers)\n    number = 123\n    average = get_average(numbers, number)\n    show_average(average)\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "google-app-engine", "google-cloud-datastore"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 1037971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc0859c9e2c930b9e11b37625ff9f1c?s=128&d=identicon&r=PG", "display_name": "Charles", "link": "https://stackoverflow.com/users/1037971/charles"}, "edited": false, "score": 0, "creation_date": 1509012507, "post_id": 46951236, "comment_id": 80849993, "body": "Definitely haven&#39;t seen anything like that in the docs, thanks for explaining!"}, {"owner": {"reputation": 5174, "user_id": 1975086, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e01df0a60ee2c34233ce48e32c21a3b8?s=128&d=identicon&r=PG", "display_name": "Alexander Trakhimenok", "link": "https://stackoverflow.com/users/1975086/alexander-trakhimenok"}, "reply_to_user": {"reputation": 307, "user_id": 1037971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc0859c9e2c930b9e11b37625ff9f1c?s=128&d=identicon&r=PG", "display_name": "Charles", "link": "https://stackoverflow.com/users/1037971/charles"}, "edited": false, "score": 1, "creation_date": 1509013822, "post_id": 46951236, "comment_id": 80850890, "body": "Yearh, a bit tricky. The comment on the method is kinda assuring though: &quot;&quot;&quot;Set the default namespace for the current HTTP request.&quot;&quot;&quot;"}], "tags": [], "owner": {"reputation": 5174, "user_id": 1975086, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e01df0a60ee2c34233ce48e32c21a3b8?s=128&d=identicon&r=PG", "display_name": "Alexander Trakhimenok", "link": "https://stackoverflow.com/users/1975086/alexander-trakhimenok"}, "is_accepted": true, "score": 1, "last_activity_date": 1509013922, "last_edit_date": 1509013922, "creation_date": 1509011627, "answer_id": 46951236, "question_id": 46943545, "link": "https://stackoverflow.com/questions/46943545/what-is-the-scope-of-the-google-app-engine-apis-namespace-manager/46951236#46951236", "title": "What is the scope of the Google App Engine api&#39;s namespace manager?", "body": "<p>If you look to the <a href=\"https://github.com/optimizely/python-appengine/blob/master/google/appengine/api/namespace_manager/namespace_manager.py\" rel=\"nofollow noreferrer\">source code</a> of <code>namespace_manager.set_namespace(...)</code> you'll see it does it by settings the namespace to an environment variable:</p>\n\n<pre><code>def set_namespace(namespace):\n  \"\"\"Set the default namespace for the current HTTP request.\n  Args:\n    namespace: A string naming the new namespace to use. A value of None\n      will unset the default namespace value.\n  \"\"\"\n  if namespace is None:\n    os.environ.pop(_ENV_CURRENT_NAMESPACE, None)\n  else:\n    validate_namespace(namespace)\n    os.environ[_ENV_CURRENT_NAMESPACE] = namespace\n</code></pre>\n\n<p>When a thread switches context the AppEngine backups &amp; restores the environment variables as needed. They are guaranteed to be request bounded so it is opaque to user's code. I don't remember if there is docs for this, I think I've learned this at some forum thread.</p>\n\n<p>The comment <code>Set the default namespace for the current HTTP request</code> is implicitly confirms this.</p>\n\n<p>We use it at <a href=\"https://www.myclasses.org\" rel=\"nofollow noreferrer\">www.myclasses.org</a> for few years and it's never been a problem.</p>\n\n<p>So relax, you are safe to use it in multi-threaded environment!</p>\n"}], "owner": {"reputation": 307, "user_id": 1037971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc0859c9e2c930b9e11b37625ff9f1c?s=128&d=identicon&r=PG", "display_name": "Charles", "link": "https://stackoverflow.com/users/1037971/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 46951236, "answer_count": 1, "score": 2, "last_activity_date": 1509013922, "creation_date": 1508974048, "question_id": 46943545, "link": "https://stackoverflow.com/questions/46943545/what-is-the-scope-of-the-google-app-engine-apis-namespace-manager", "title": "What is the scope of the Google App Engine api&#39;s namespace manager?", "body": "<p>I'm building an API with Flask in Google App Engine Python Standard Environment that is served through multiple domains.</p>\n\n<p>The API can be used to store data and fetch data.</p>\n\n<p>I want to use cloud datastore's multitenancy to store or fetch data only in a namespace determined by the domain from which the API is accessed.</p>\n\n<p>The only way I can see to do this is to use <code>google.appengine.api.namespace_manager</code> to set the namespace either at request time or in a context manager at I/O time.</p>\n\n<p>I wrote this context manager:</p>\n\n<pre><code>@contextmanager\ndef multitenancy_namespace(namespace):\n    original_namespace = namespace_manager.get_namespace()\n    if namespace:\n        new_namespace = to_namespace_safe_url(namespace)\n        namespace_manager.set_namespace(new_namespace)\n\n    yield\n\n    namespace_manager.set_namespace(original_namespace)\n</code></pre>\n\n<p>And it works as expected.</p>\n\n<p>My worry is the scope of <code>namespace_manager</code>. I have not been able to find any documentation about this.</p>\n\n<p>If my API is threaded and used simultaneously by >1000 users, assuming that the namespace as set by <code>namespace_manager.set_namespace(...)</code> is global, I would expect some collisions - data being stored in the wrong namespace because another request called <code>set_namespace</code> after the first request, but before the first request did its I/O.</p>\n\n<p>I wrote a threaded test <a href=\"https://gist.github.com/Checkroth/5ff2cc9f47a62f78fe295c76dd14eab2\" rel=\"nofollow noreferrer\">here</a> that passes, which tells me that the scope of <code>namespace</code> is at least confined to individual threads (which is good enough for my Flask application).</p>\n\n<p>But what <em>is</em> the context of <code>namespace_manager</code>? What does <code>set_namespace</code> actually do? Where is the namespace setting saved? Is there a use case where a namespace collision <em>could</em> happen?</p>\n"}, {"tags": ["python", "python-3.x", "scikit-learn"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1508974381, "post_id": 46943536, "comment_id": 80834603, "body": "From your <code>site-packages</code> path, it appears you have the 32-bit version of Python.  Is your installation of sklearn also the 32-bit version?"}, {"owner": {"reputation": 3, "user_id": 6753188, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-af0I_htzQ18/AAAAAAAAAAI/AAAAAAAAABE/rG1uneKHefw/photo.jpg?sz=128", "display_name": "Leo Foster", "link": "https://stackoverflow.com/users/6753188/leo-foster"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1508975175, "post_id": 46943536, "comment_id": 80834822, "body": "yes i have made sure that i have the 32 bit version"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1508975414, "post_id": 46943536, "comment_id": 80834882, "body": "Then are you sure your Python is 32-bit?"}, {"owner": {"reputation": 3, "user_id": 6753188, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-af0I_htzQ18/AAAAAAAAAAI/AAAAAAAAABE/rG1uneKHefw/photo.jpg?sz=128", "display_name": "Leo Foster", "link": "https://stackoverflow.com/users/6753188/leo-foster"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1508975816, "post_id": 46943536, "comment_id": 80834986, "body": "yes i am 100% certain"}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1508976144, "post_id": 46943536, "comment_id": 80835081, "body": "Do you have the correct version of Numpy installed? FWIW you might find it easier to use Anaconda if possible, especially on Windows."}, {"owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "edited": false, "score": 0, "creation_date": 1509004997, "post_id": 46943536, "comment_id": 80844801, "body": "@LeoFoster can you try this: from sklearn import linear_model  ??"}, {"owner": {"reputation": 3, "user_id": 6753188, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-af0I_htzQ18/AAAAAAAAAAI/AAAAAAAAABE/rG1uneKHefw/photo.jpg?sz=128", "display_name": "Leo Foster", "link": "https://stackoverflow.com/users/6753188/leo-foster"}, "edited": false, "score": 0, "creation_date": 1509024207, "post_id": 46943536, "comment_id": 80858207, "body": "Yes sorry I typed that wrong but no that isn&#39;t the problem"}], "owner": {"reputation": 3, "user_id": 6753188, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-af0I_htzQ18/AAAAAAAAAAI/AAAAAAAAABE/rG1uneKHefw/photo.jpg?sz=128", "display_name": "Leo Foster", "link": "https://stackoverflow.com/users/6753188/leo-foster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508974621, "creation_date": 1508973992, "last_edit_date": 1508974621, "question_id": 46943536, "link": "https://stackoverflow.com/questions/46943536/import-modules-from-sklearn-i-get-importerror-dll-load-failed-the-specified-mo", "title": "Import modules from sklearn I get ImportError: DLL load failed: The specified module could not be found", "body": "<p>recently I have been trying to get into machine learning, AI, ect and the tutorial i was following told me to import linear_model from sklearn what i  used to import that is as follows:</p>\n\n<pre><code>from sklearn import linear_models\n</code></pre>\n\n<p>if I run this code alone I get the error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;pyshell#0&gt;\", line 1, in &lt;module&gt;\nfrom sklearn import linear_model\nFile \"C:\\Users\\Leo\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\sklearn\\linear_model\\__init__.py\", line 15, in &lt;module&gt;\nfrom .least_angle import (Lars, LassoLars, lars_path, LarsCV, LassoLarsCV,\nFile \"C:\\Users\\Leo\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\sklearn\\linear_model\\least_angle.py\", line 23, in &lt;module&gt;\nfrom ..utils import arrayfuncs, as_float_array, check_X_y, deprecated\nImportError: DLL load failed: The specified module could not be found.\n</code></pre>\n"}, {"tags": ["python", "os.path"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1508974346, "post_id": 46943527, "comment_id": 80834589, "body": "You are calling <code>abspath()</code> on the literal string <code>\\1</code>, which seems unlikely to accomplish anything useful.  You probably want to apply it to the result of <code>re.sub()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 65, "user_id": 5988329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d931a0ef69855c67014443803aa42eb2?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/5988329/ivan"}, "edited": false, "score": 0, "creation_date": 1509038225, "post_id": 46943744, "comment_id": 80867771, "body": "@Ivan, glad to hear -- consider clicking the checkbox next to the answer to mark your question solved."}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 2, "last_activity_date": 1508977793, "last_edit_date": 1508977793, "creation_date": 1508975573, "answer_id": 46943744, "question_id": 46943527, "link": "https://stackoverflow.com/questions/46943527/python-re-sub-with-os-path-abspath/46943744#46943744", "title": "Python: re.sub with os.path.abspath", "body": "<p>If you pass a function as the replacement to <code>re.sub</code>, that function will be called with the match object as an argument:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport os, re\n\nos.chdir('/tmp/')\nline='some text .'\n\nprint(re.sub('some text (.*)',\n             lambda match: 'some text {}'.format(os.path.abspath(match.group(1))),\n             line))\n</code></pre>\n\n<p>...properly emits as output (on MacOS, where <code>/tmp</code> is a symlink to <code>/private/tmp</code>):</p>\n\n<pre><code>some text /private/tmp\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5988329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d931a0ef69855c67014443803aa42eb2?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/5988329/ivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 46943744, "answer_count": 1, "score": 0, "last_activity_date": 1508977793, "creation_date": 1508973928, "question_id": 46943527, "link": "https://stackoverflow.com/questions/46943527/python-re-sub-with-os-path-abspath", "title": "Python: re.sub with os.path.abspath", "body": "<p>I have a line in the file:\n'some text /some/path'\nwhere path can be both relative or absolute. I would like to replace it by an absolute path.\nI tried this:</p>\n\n<pre><code>re.sub('some text (.*)','some text {}'.format(os.path.abspath(r'\\1')),line)\n</code></pre>\n\n<p>However, the matched string is seen as a filename without any path and the resulting string is \n/path/to/the/file//some/path</p>\n\n<p>Basically it is 'path/to/the/file/'+'matched_string' both for relative and absolute paths.\nIf I use os.path.abspath outside of re.sub it gives the correct path.</p>\n\n<p>How can I fix this?</p>\n\n<p>Thanks,\nIvan</p>\n"}, {"tags": ["python", "nlp", "nltk", "stemming", "lemmatization"], "comments": [{"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508979228, "post_id": 46943409, "comment_id": 80835761, "body": "Am not sure what you mean by stemming a lemma? A stem often is a non-sensical root like <code>PorterStemmer().stem(&#39;maximum&#39;) = maxim</code>. Whereas lemmatization is much more precise with a pos parameter of course: <code>WordNetLemmatizer().lemmatize(&quot;studying&quot;, pos=&quot;v&quot;) = study</code>. Now how can you stem study; didn&#39;t check but it may give studi."}, {"owner": {"reputation": 11, "user_id": 8834440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b21e43318038571506a7d0d1763abc?s=128&d=identicon&r=PG&f=1", "display_name": "DangitDrBob", "link": "https://stackoverflow.com/users/8834440/dangitdrbob"}, "reply_to_user": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508980861, "post_id": 46943409, "comment_id": 80836154, "body": "You are correct, stemming the lemma of studying (study) returns the stem studi. This is essentially what was done to the data for the model. I was asking would doing this hurt results? I understand these are two methods to achieve similar outcomes with lemmatizing being the better option. But what is the outcome of doing both as far as results go? (in a general sense, I don&#39;t expect people to tell me how it will affect my specific model)"}, {"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508981106, "post_id": 46943409, "comment_id": 80836208, "body": "I don&#39;t see any linguistic use. Have you tried lemmatizing the stem?"}, {"owner": {"reputation": 11, "user_id": 8834440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b21e43318038571506a7d0d1763abc?s=128&d=identicon&r=PG&f=1", "display_name": "DangitDrBob", "link": "https://stackoverflow.com/users/8834440/dangitdrbob"}, "reply_to_user": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 1, "creation_date": 1508981423, "post_id": 46943409, "comment_id": 80836284, "body": "I can&#39;t think of any linguistic use off the top of my head, but in this case the number of  unique words was reduced. This must have some effect then? Lemmatizing a stem often doesn&#39;t work as a stem is often a non-word, and lemmatizers cannot find the lemma of a non-word <i>it seems</i> and just returns the original non-word."}, {"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508981521, "post_id": 46943409, "comment_id": 80836310, "body": "there you go. So, I think lemmatization makes sense as you can indicate what the pos tag is and get better results."}, {"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1508998879, "post_id": 46943409, "comment_id": 80841300, "body": "I wouldn&#39;t say stemming a lemma makes no sense a priori, it depends on the application and/or the way how the model exploits linguistic information. Reducing the unique count might be helpful, as this approach might collapse words like &quot;maximizing&quot; and &quot;maximum&quot;. However, there might be collisions of words that don&#39;t belong together (can&#39;t think of an example, though); if you have too many of the latter kind, it might hurt performance."}], "owner": {"reputation": 11, "user_id": 8834440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b21e43318038571506a7d0d1763abc?s=128&d=identicon&r=PG&f=1", "display_name": "DangitDrBob", "link": "https://stackoverflow.com/users/8834440/dangitdrbob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508973127, "creation_date": 1508973127, "question_id": 46943409, "link": "https://stackoverflow.com/questions/46943409/does-stemming-a-lemma-provide-any-useful-output", "title": "Does stemming a lemma provide any useful output?", "body": "<p>I am currently working with a neural network model that take words and phrases as features in a bag of words style model (i.e. a vector filled with ones and zeros depending if a word or phrase appears in the input data). </p>\n\n<p>To clean some of the words and reduce the number of unique words or phrases that will be input to the model a colleague and I used stemming AND lemmatization with the nltk python module. After I thought about it, this did not seem to make sense, but stemming the lemmas seemed to reduce the number of unique inputs the most, so we ran with it.</p>\n\n<p>My question is, is it harmful to stem a lemma? Would it harm the results? Is there a point to doing this?</p>\n\n<p>I have not found anyone asking a question like this <em>anywhere</em> so I am assuming it simply does not make sense.</p>\n"}, {"tags": ["python", "scikit-learn", "knn", "kdtree"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1508973602, "post_id": 46943389, "comment_id": 80834389, "body": "That looks like it could be working perfectly fine. Setting the X and Y axes to the same scale might make things clearer - it&#39;s hard to judge distance when the axes are on such different scales."}, {"owner": {"reputation": 28, "user_id": 7479770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3856d539a083fb84b199468538a80335?s=128&d=identicon&r=PG", "display_name": "Artur D", "link": "https://stackoverflow.com/users/7479770/artur-d"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1509010517, "post_id": 46943389, "comment_id": 80848573, "body": "Added plt.axis(&#39;equal&#39;) to fix my intuition."}], "answers": [{"comments": [{"owner": {"reputation": 28, "user_id": 7479770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3856d539a083fb84b199468538a80335?s=128&d=identicon&r=PG", "display_name": "Artur D", "link": "https://stackoverflow.com/users/7479770/artur-d"}, "edited": false, "score": 0, "creation_date": 1509010060, "post_id": 46943532, "comment_id": 80848271, "body": "You&#39;re totally right, seems as I have deceived myself, thanks!"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1508973969, "creation_date": 1508973969, "answer_id": 46943532, "question_id": 46943389, "link": "https://stackoverflow.com/questions/46943389/did-i-just-find-a-bug-in-sklearn-knn-classifier-or-does-everything-work-as-inten/46943532#46943532", "title": "Did I just find a bug in sklearn KNN classifier or does everything work as intended?", "body": "<p>Your output seems to be fine.</p>\n\n<p>Something that might not be obvious from your graph is that the horizontal distances between points are actually <strong>shorter</strong> than the vertical distances. Even the furthest horizontal separation between two adjacent columns is 4.something, while the vertical separation between any two adjacent rows is 5.</p>\n\n<p>For the points classified as red, a majority of their 3 nearest neighbors in the training set <strong>really are red</strong>. It doesn't matter whether they're super-close to a blue point if the next two neighbors are red. Same for the points classified as blue near red points.</p>\n"}], "owner": {"reputation": 28, "user_id": 7479770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3856d539a083fb84b199468538a80335?s=128&d=identicon&r=PG", "display_name": "Artur D", "link": "https://stackoverflow.com/users/7479770/artur-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 46943532, "answer_count": 1, "score": 1, "last_activity_date": 1508973969, "creation_date": 1508973002, "last_edit_date": 1508973120, "question_id": 46943389, "link": "https://stackoverflow.com/questions/46943389/did-i-just-find-a-bug-in-sklearn-knn-classifier-or-does-everything-work-as-inten", "title": "Did I just find a bug in sklearn KNN classifier or does everything work as intended?", "body": "<p>I have been toying with python sklearn k nearest neighbours classifier and I believe it does not work right - results with k above 1 are wrong. I've tried to visualise how different k-nn methods vary with my sample code.</p>\n\n<p>Code is a bit long but not very complicated. Go ahead and run it yourself to get the pictures. I generate sample 2D data in form of columns of around 10 points. Most of the code is about plotting it nicely on the graph in animated fashion. All classification happens after calling constructing library object KNeighborsClassifier in \"<strong>main</strong>\" in for loop.</p>\n\n<p>I tried different methods of algorithm suspecting it's kd-trees issue, but I got the same results (swap algorithm=\"kdtree\" for \"brute\" or ball trees)</p>\n\n<p>Here is the illustration of results I got:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4Hyhh.png\" rel=\"nofollow noreferrer\">result of classifier with k=3 and uniform weights, kdtrees</a></p>\n\n<p><strong>Picture comment</strong>:\nAs you can see in the 3rd column around x=2 all area around red points should be red for example, and around x=-4  the area should be blue, because next nearest red points are in neighbour column. I believe it's not how the classifier should behave and I'm not sure whether I'm not doing something right or it's the library methods error. I've tried to review it's code but decided to ask the question in the mean time. Also I'm not familiar with C-Python it's written in.</p>\n\n<p><strong>Sources and version</strong>: I made the code using <a href=\"http://scikit-learn.org/stable/modules/neighbors.html\" rel=\"nofollow noreferrer\">scikit-learn documentation</a>, and mathplotlib examples. I run python 3.6.1 and version 0.18.1 of sklearn.</p>\n\n<p><strong>Bonus question</strong>: Is k-neighbours answer using kd-trees approximate or definite? From my understanding it can easily work perfectly for k=1 but you I'm not sure if the answer is always correct with k above 1.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib.colors import ListedColormap\nfrom sklearn import neighbors\nimport random\n\n\nrandom.seed(905) # 905\n# interesting seed 2293\ndef generate_points(sizex, sizey):\n    # sizex = 4\n    # sizey = 10\n    apart = 5\n    # generating at which X coordinate my data column will be\n    columns_x = [random.normalvariate(0, 5) for i in range(sizex)]\n    columns_y = list()\n    # randomising for each column the Y coordinate at which it starts\n    for i in range(sizex):\n        y_column = [random.normalvariate(-50, 100) for j in range(sizey)]\n        y_column.sort()\n        columns_y.append(y_column)\n\n    # preparing lists of datapoints with classification\n    datapoints = np.ndarray((sizex * sizey, 2))\n    dataclass = list()\n\n    # genenerating random split for each column\n    for i in range(sizex):\n        division = random.randint(0, sizey)\n        for j in range(sizey):\n            datapoints[i * sizey + j][0] = columns_x[i]\n            datapoints[i * sizey + j][1] = -j * apart\n            dataclass.append(j &lt; division)\n\n    return datapoints, dataclass\n\n\nif __name__ == \"__main__\":\n    datapoints, dataclass = generate_points(4, 10)\n\n    #### VISUALISATION PART ####\n    x_min, y_min = np.argmin(datapoints, axis=0)\n    x_min, y_min = datapoints[x_min][0], datapoints[y_min][1]\n    x_max, y_max = np.argmax(datapoints, axis=0)\n    x_max, y_max = datapoints[x_max][0], datapoints[y_max][1]\n    x_range = x_max - x_min\n    y_range = y_max - y_min\n    x_min -= 0.15*x_range\n    x_max += 0.15*x_range\n    y_min -= 0.15*y_range\n    y_max += 0.15*y_range\n\n    mesh_step_size = .1\n\n    # Create color maps\n    cmap_light = ListedColormap(['#FFAAAA', '#AAFFAA', '#AAAAFF']) # for meshgrid\n    cmap_bold = ListedColormap(['#FF0000', '#00FF00', '#0000FF']) # for points\n\n    plt.ion() # plot interactive mode\n    for weights in ['uniform', 'distance']: # two types of algorithm\n        for k in range(1, 13, 2): # few k choices\n            # we create an instance of Neighbours Classifier and fit the data.\n            clf = neighbors.KNeighborsClassifier(k, weights=weights, algorithm=\"kd_tree\")\n            clf.fit(datapoints, dataclass)\n\n            # Plot the decision boundary. For that, we will assign a color to each\n            # point in the mesh [x_min, x_max]x[y_min, y_max].\n            xx, yy = np.meshgrid(np.arange(x_min, x_max, mesh_step_size),\n                                 np.arange(y_min, y_max, mesh_step_size))\n            Z = clf.predict(np.c_[xx.ravel(), yy.ravel()])\n\n            # Put the result into a color plot\n            Z = Z.reshape(xx.shape)\n\n            plt.figure(1)\n            plt.pcolormesh(xx, yy, Z, cmap=cmap_light)\n\n            # Plot also the training points\n            plt.scatter(datapoints[:, 0], datapoints[:, 1], c=dataclass, cmap=cmap_bold, marker='.')\n            plt.xlim(xx.min(), xx.max())\n            plt.ylim(yy.min(), yy.max())\n            plt.title(\"K-NN classifier (k = %i, weights = '%s')\"\n                      % (k, weights))\n\n            plt.draw()\n            input(\"Press Enter to continue...\")\n            plt.clf()\n</code></pre>\n\n<p>Also I've decided to set seed before posting so we all get the same result, feel free to set random seed.</p>\n"}, {"tags": ["python", "pdb"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1508973577, "post_id": 46943340, "comment_id": 80834378, "body": "In fact pdb has nothing to do with this. You can introspect Python objects the same way in any context. All pdb gets you (for the most part), is an easy way to move up and down the call stack, as well as set breakpoints. But everything you can inspect in pdb you can inspect without it too. It doesn&#39;t make most introspection patterns any different."}], "answers": [{"tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": false, "score": 1, "last_activity_date": 1508973326, "creation_date": 1508973326, "answer_id": 46943443, "question_id": 46943340, "link": "https://stackoverflow.com/questions/46943340/can-pdb-print-from-which-base-class-did-the-derived-class-inherit-a-particular-m/46943443#46943443", "title": "Can pdb print from which base class did the derived class inherit a particular method from", "body": "<p>You have to instropect that yourself.</p>\n\n<p>You can put the snipped bellow in a utility function, but the idea is: retrieve the class, from the class, iterate over the <code>__mro__</code> attribute, and in each class there, check if the desired function or attribute is on its <code>__dict__</code>:</p>\n\n<pre><code>print(list(cls for cls in b.__class__.__mro__ if \"funct\" in cls.__dict__))\n</code></pre>\n\n<p>(You know \"pdb\" has nothing to do with that - and that Python usually can work in an interactive mode, right? PDB is just one way of getting into the interacitive mode, albeit one with poor resources if compared with  Python shells like ipython.)</p>\n\n<p>As a second note: I don't know what you are doing, but you really should be trying to do that in Python 3.x, not Python 2.</p>\n"}], "owner": {"reputation": 21, "user_id": 8834425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/216d64dbe2d5f32029d2762f1f897272?s=128&d=identicon&r=PG&f=1", "display_name": "rickest rick c132", "link": "https://stackoverflow.com/users/8834425/rickest-rick-c132"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "closed_date": 1509141529, "answer_count": 1, "score": 0, "last_activity_date": 1508973326, "creation_date": 1508972691, "question_id": 46943340, "link": "https://stackoverflow.com/questions/46943340/can-pdb-print-from-which-base-class-did-the-derived-class-inherit-a-particular-m", "closed_reason": "Duplicate", "title": "Can pdb print from which base class did the derived class inherit a particular method from", "body": "<p>Can pdb print from which base class did the derived class inherit a particular method from?</p>\n\n<pre><code>import pdb\nclass A():\n    def funct(self):\n         print 3\n\nclass B():\n    def funct(self):\n         print 6\n\nclass C(A, B):\n    pass\n\nb = B();\nprint b.funct()\n</code></pre>\n\n<p>===================================</p>\n\n<pre><code>\u263a python a.py\n3\nNone\n</code></pre>\n\n<p>======================================</p>\n\n<pre><code>python -m pdb a.py\n(Pdb) p c.funct\n&lt;bound method C.funct of &lt;__main__.C instance at 0x102154440&gt;&gt;\n</code></pre>\n\n<p>Is there a way to get from which base class, the derived class C inherited the funct method?</p>\n"}, {"tags": ["python", "csv", "export-to-csv"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 3, "creation_date": 1508972727, "post_id": 46943337, "comment_id": 80834142, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "edited": false, "score": 0, "creation_date": 1508972814, "post_id": 46943337, "comment_id": 80834169, "body": "please provide the csv file and code"}], "answers": [{"tags": [], "owner": {"reputation": 426, "user_id": 6729833, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Hazx2EOEXsE/AAAAAAAAAAI/AAAAAAAAEZw/vwXeElhYziY/photo.jpg?sz=128", "display_name": "Samarth Juneja", "link": "https://stackoverflow.com/users/6729833/samarth-juneja"}, "is_accepted": true, "score": 1, "last_activity_date": 1508973379, "creation_date": 1508973379, "answer_id": 46943450, "question_id": 46943337, "link": "https://stackoverflow.com/questions/46943337/append-a-list-into-a-csv-file-python/46943450#46943450", "title": "Append a list into a csv file python", "body": "<p>I found the answer. I had to change the    writerows to writerow and change the open file method from 'ab' to 'a'</p>\n"}], "owner": {"reputation": 426, "user_id": 6729833, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Hazx2EOEXsE/AAAAAAAAAAI/AAAAAAAAEZw/vwXeElhYziY/photo.jpg?sz=128", "display_name": "Samarth Juneja", "link": "https://stackoverflow.com/users/6729833/samarth-juneja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1330, "favorite_count": 1, "accepted_answer_id": 46943450, "answer_count": 1, "score": 0, "last_activity_date": 1508973379, "creation_date": 1508972675, "question_id": 46943337, "link": "https://stackoverflow.com/questions/46943337/append-a-list-into-a-csv-file-python", "title": "Append a list into a csv file python", "body": "<p>I want to append a list into a csv file in python</p>\n\n<pre><code>listoflist = [rhyme_cnt[row],gaali_cnt,diversity[row]]\n</code></pre>\n\n<p>This list contains three variables and the code I'm using to write this is</p>\n\n<pre><code>with open('C:/Users/Samarth/Desktop/Minor/songlyrics/final.csv',\"ab\") as output:\n    writer = csv.writer(output,lineterminator = '\\n')\n    writer.writerows(listoflist)\n    writer.writerows([])\n</code></pre>\n\n<p>But I'm getting the following error</p>\n\n<pre><code>_csv.Error: iterable expected, not int\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "python-3.x", "heroku", "flask"], "comments": [{"owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "edited": false, "score": 0, "creation_date": 1508972687, "post_id": 46943316, "comment_id": 80834122, "body": "did you check whether any dynos are running?"}, {"owner": {"reputation": 4368, "user_id": 1185897, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2f6bb48192130bd997f2665a5868220f?s=128&d=identicon&r=PG", "display_name": "achi", "link": "https://stackoverflow.com/users/1185897/achi"}, "reply_to_user": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "edited": false, "score": 0, "creation_date": 1508972819, "post_id": 46943316, "comment_id": 80834171, "body": "I do try checking but isn&#39;t that part of the problem? I start the dyno, wait for a bit and then read in the logs <code>Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 60 seconds of launch</code>"}, {"owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "edited": false, "score": 0, "creation_date": 1508972943, "post_id": 46943316, "comment_id": 80834206, "body": "try <code>port = int(os.environ.get(&#39;PORT&#39;, 5000))</code> . refer to <a href=\"https://stackoverflow.com/a/13714363/4410922\">stackoverflow.com/a/13714363/4410922</a>"}, {"owner": {"reputation": 4368, "user_id": 1185897, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2f6bb48192130bd997f2665a5868220f?s=128&d=identicon&r=PG", "display_name": "achi", "link": "https://stackoverflow.com/users/1185897/achi"}, "reply_to_user": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "edited": false, "score": 0, "creation_date": 1508973005, "post_id": 46943316, "comment_id": 80834233, "body": "that has been tried with no success"}, {"owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "edited": false, "score": 0, "creation_date": 1508973069, "post_id": 46943316, "comment_id": 80834260, "body": "replace the Procfile with <code>web: python .&#47;run.py</code>"}, {"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1508973302, "post_id": 46943316, "comment_id": 80834314, "body": "I believe there might be a way to specify the port to assume by your web process. e.g In some languages or frameworks, you&#39;d do: <code>PORT=5000 node server.js</code> or <code>rails s -p $PORT</code>. So, I&#39;d probably say in your Procfile try <code>web: PORT=$PORT python run.py runserver</code>"}, {"owner": {"reputation": 4368, "user_id": 1185897, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2f6bb48192130bd997f2665a5868220f?s=128&d=identicon&r=PG", "display_name": "achi", "link": "https://stackoverflow.com/users/1185897/achi"}, "edited": false, "score": 0, "creation_date": 1508973762, "post_id": 46943316, "comment_id": 80834441, "body": "Neither of these techniques work. Might it be something else? Why does the console log: <code>2017-10-25T23:20:57.992995+00:00 app[web.1]:  * Running on http:&#47;&#47;127.0.0.1:5000&#47; (Press CTRL+C to quit)</code> when I have specified it to be otherwise? (not 5000)"}, {"owner": {"reputation": 5118, "user_id": 3893710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YaxSL.jpg?s=128&g=1", "display_name": "oreoluwa", "link": "https://stackoverflow.com/users/3893710/oreoluwa"}, "edited": false, "score": 0, "creation_date": 1508997903, "post_id": 46943316, "comment_id": 80840882, "body": "I don&#39;t believe you can statically assign a port to your heroku processes, that&#39;s dynamically assigned by Heroku and the contract is for you to bind to the <code>$PORT</code> variable provided. Common causes of the R10(according to this is: <a href=\"https://devcenter.heroku.com/articles/error-codes#r10-boot-timeout\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/error-codes#r10-boot-timeout</a>) is long startup time. How long does it take the app to startup locally? try to startup your app locally with the Procfile provided, since Heroku uses that and try to access it. You can try foreman(<a href=\"https://github.com/ddollar/foreman\" rel=\"nofollow noreferrer\">github.com/ddollar/foreman</a>) or honcho(<a href=\"https://github.com/nickstenning/honcho\" rel=\"nofollow noreferrer\">github.com/nickstenning/honcho</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 128, "user_id": 13224997, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gh5b8qMpbK7A7eEv4VUOnYLax5BokEKURFRydwN=k-s128", "display_name": "FBI Surveillance Van", "link": "https://stackoverflow.com/users/13224997/fbi-surveillance-van"}, "edited": false, "score": 0, "creation_date": 1602965982, "post_id": 52506073, "comment_id": 113888608, "body": "the <code>-w 3</code> fixed it for me. could you explain what the <code>-w 3</code> does?"}, {"owner": {"reputation": 128, "user_id": 13224997, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gh5b8qMpbK7A7eEv4VUOnYLax5BokEKURFRydwN=k-s128", "display_name": "FBI Surveillance Van", "link": "https://stackoverflow.com/users/13224997/fbi-surveillance-van"}, "edited": false, "score": 0, "creation_date": 1616283094, "post_id": 52506073, "comment_id": 117954193, "body": "just realized the <code>-w 3</code> means 3 workers. I wonder why that fixed it."}], "tags": [], "owner": {"reputation": 35, "user_id": 7502503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340167805d6b32a72e7f04595e1d73e6?s=128&d=identicon&r=PG", "display_name": "Bavya", "link": "https://stackoverflow.com/users/7502503/bavya"}, "is_accepted": false, "score": 2, "last_activity_date": 1602981037, "last_edit_date": 1602981037, "creation_date": 1537906690, "answer_id": 52506073, "question_id": 46943316, "link": "https://stackoverflow.com/questions/46943316/deploy-python-flask-app-to-heroku-r10-error/52506073#52506073", "title": "Deploy Python Flask App to Heroku R10 Error", "body": "<p>Try changing your <code>Procfile</code> content like this:</p>\n<p><code>web: gunicorn run:app -b &quot;0.0.0.0:$PORT&quot; -w 3</code></p>\n<p>Where <code>run</code> is the name of the main application file denoting <code>run.py</code></p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 9159870, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DodyWdO3C4E/AAAAAAAAAAI/AAAAAAAAAGA/wX_ylNtG_bU/photo.jpg?sz=128", "display_name": "Shubham Shah", "link": "https://stackoverflow.com/users/9159870/shubham-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1537924523, "last_edit_date": 1537924523, "creation_date": 1537923097, "answer_id": 52508442, "question_id": 46943316, "link": "https://stackoverflow.com/questions/46943316/deploy-python-flask-app-to-heroku-r10-error/52508442#52508442", "title": "Deploy Python Flask App to Heroku R10 Error", "body": "<p>Try changing:</p>\n\n<ul>\n<li><p>Procfile content should be:</p>\n\n<pre><code>web: python run.py\n</code></pre></li>\n<li><p>Port Number from 33507 to 8080</p></li>\n<li>debug = True.</li>\n</ul>\n"}], "owner": {"reputation": 4368, "user_id": 1185897, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2f6bb48192130bd997f2665a5868220f?s=128&d=identicon&r=PG", "display_name": "achi", "link": "https://stackoverflow.com/users/1185897/achi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1602981037, "creation_date": 1508972478, "question_id": 46943316, "link": "https://stackoverflow.com/questions/46943316/deploy-python-flask-app-to-heroku-r10-error", "title": "Deploy Python Flask App to Heroku R10 Error", "body": "<p>I\u2019m hoping to deploy a flask app to Heroku using a free dyno and it seems to build successfully:</p>\n\n<pre><code>remote: Git submodules detected, installing:\nremote: \nremote: Compressing source files... done.\nremote: Building source:\nremote: \nremote: -----&gt; Python app detected\nremote: -----&gt; Installing requirements with pip\nremote: \nremote: -----&gt; Discovering process types\nremote:        Procfile declares types -&gt; web\nremote: \nremote: -----&gt; Compressing...\nremote:        Done: 83.2M\nremote: -----&gt; Launching...\nremote:        Released v94\nremote:        https://MYAPP.herokuapp.com/ deployed to Heroku\nremote: \nremote: Verifying deploy... done.\n</code></pre>\n\n<p>then checking the Heroku logs after accessing the URL i\u2019m thrown this error:</p>\n\n<pre><code>2017-10-25T22:33:09.264449+00:00 heroku[web.1]: Starting process with command `python run.py runserver`\n2017-10-25T22:33:15.514250+00:00 app[web.1]:  * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n2017-10-25T22:33:15.519730+00:00 app[web.1]:  * Restarting with stat\n2017-10-25T22:33:17.300082+00:00 app[web.1]:  * Debugger is active!\n2017-10-25T22:33:17.305442+00:00 app[web.1]:  * Debugger pin code: 146-142-273\n2017-10-25T22:34:09.286891+00:00 heroku[web.1]: Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 60 seconds of launch\n2017-10-25T22:34:09.286934+00:00 heroku[web.1]: Stopping process with SIGKILL\n2017-10-25T22:34:09.469418+00:00 heroku[web.1]: Process exited with status 137\n2017-10-25T22:34:09.484569+00:00 heroku[web.1]: State changed from starting to crashed\n</code></pre>\n\n<p>All others who have encountered this in various help sites solve their problem when binding to the Heroku <code>$PORT</code>, the same as how I do it:</p>\n\n<pre><code>#!venv/bin/python\nimport os\nfrom app import app\nport = int(os.environ.get('PORT', 33507))\napp.run(host='0.0.0.0', port=port, debug=False)\n</code></pre>\n\n<p>And my <code>Procfile</code>:</p>\n\n<pre><code>web: python run.py runserver\n</code></pre>\n\n<p>Could it be that i\u2019m running a virtual environment? Perhaps my app at 83.2M is too large? I\u2019m kind of stuck here. Thanks in advance for your help!</p>\n"}, {"tags": ["python", "pandas", "machine-learning", "xgboost"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 24, "last_activity_date": 1508973186, "creation_date": 1508973186, "answer_id": 46943417, "question_id": 46943314, "link": "https://stackoverflow.com/questions/46943314/xgboost-plot-importance-doesnt-show-feature-names/46943417#46943417", "title": "XGBoost plot_importance doesn&#39;t show feature names", "body": "<p>You want to use the <code>feature_names</code> parameter when creating your <code>xgb.DMatrix</code></p>\n\n<pre><code>dtrain = xgb.DMatrix(Xtrain, label=ytrain, feature_names=feature_names)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "is_accepted": false, "score": 7, "last_activity_date": 1509025694, "creation_date": 1509025694, "answer_id": 46956125, "question_id": 46943314, "link": "https://stackoverflow.com/questions/46943314/xgboost-plot-importance-doesnt-show-feature-names/46956125#46956125", "title": "XGBoost plot_importance doesn&#39;t show feature names", "body": "<p><code>train_test_split</code> will convert the dataframe to numpy array which dont have columns information anymore.</p>\n\n<p>Either you can do what @piRSquared suggested and pass the features as a parameter to DMatrix constructor. Or else, you can convert the numpy array returned from the <code>train_test_split</code> to a Dataframe and then use your code.</p>\n\n<pre><code>Xtrain, Xval, ytrain, yval = train_test_split(df[feature_names], y, \\\n                                    test_size=0.2, random_state=42)\n\n# See below two lines\nX_train = pd.DataFrame(data=Xtrain, columns=feature_names)\nXval = pd.DataFrame(data=Xval, columns=feature_names)\n\ndtrain = xgb.DMatrix(Xtrain, label=ytrain)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 5323600, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AOqqkXHhlsI/AAAAAAAAAAI/AAAAAAAAE-U/j57Jt5MRtOk/photo.jpg?sz=128", "display_name": "Peter VanderMeer", "link": "https://stackoverflow.com/users/5323600/peter-vandermeer"}, "is_accepted": false, "score": 3, "last_activity_date": 1545149066, "creation_date": 1545149066, "answer_id": 53836895, "question_id": 46943314, "link": "https://stackoverflow.com/questions/46943314/xgboost-plot-importance-doesnt-show-feature-names/53836895#53836895", "title": "XGBoost plot_importance doesn&#39;t show feature names", "body": "<p>An alternate way I found whiles playing around with <code>feature_names</code>. While playing around with it, I wrote this which works on XGBoost v0.80 which I'm currently running.</p>\n\n<pre><code>## Saving the model to disk\nmodel.save_model('foo.model')\nwith open('foo_fnames.txt', 'w') as f:\n    f.write('\\n'.join(model.feature_names))\n\n## Later, when you want to retrieve the model...\nmodel2 = xgb.Booster({\"nthread\": nThreads})\nmodel2.load_model(\"foo.model\")\n\nwith open(\"foo_fnames.txt\", \"r\") as f:\n    feature_names2 = f.read().split(\"\\n\")\n\nmodel2.feature_names = feature_names2\nmodel2.feature_types = None\nfig, ax = plt.subplots(1,1,figsize=(10,10))\nxgb.plot_importance(model2, max_num_features = 5, ax=ax)\n</code></pre>\n\n<p>So this is saving <code>feature_names</code> separately and adding it back in later. For some reason <code>feature_types</code> also needs to be initialized, even if the value is <code>None</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 681, "user_id": 3555498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gtojy.jpg?s=128&g=1", "display_name": "Athar", "link": "https://stackoverflow.com/users/3555498/athar"}, "edited": false, "score": 0, "creation_date": 1559632012, "post_id": 55121759, "comment_id": 99471417, "body": "great help buddy"}, {"owner": {"reputation": 1272, "user_id": 5730203, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh3.googleusercontent.com/-1FWbhuaEBiQ/AAAAAAAAAAI/AAAAAAAAAIA/tLM_mEb-8MY/photo.jpg?sz=128", "display_name": "Asif Ali", "link": "https://stackoverflow.com/users/5730203/asif-ali"}, "edited": false, "score": 0, "creation_date": 1611252255, "post_id": 55121759, "comment_id": 116397958, "body": "This should be the answer"}], "tags": [], "owner": {"reputation": 5278, "user_id": 962674, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0d99ac3322a360423831cc90d72f2927?s=128&d=identicon&r=PG", "display_name": "Darrrrrren", "link": "https://stackoverflow.com/users/962674/darrrrrren"}, "is_accepted": false, "score": 30, "last_activity_date": 1552394551, "creation_date": 1552394551, "answer_id": 55121759, "question_id": 46943314, "link": "https://stackoverflow.com/questions/46943314/xgboost-plot-importance-doesnt-show-feature-names/55121759#55121759", "title": "XGBoost plot_importance doesn&#39;t show feature names", "body": "<p>If you're using the scikit-learn wrapper you'll need to access the underlying XGBoost Booster and set the feature names on it, instead of the scikit model, like so:</p>\n\n<pre><code>model = joblib.load(\"your_saved.model\")\nmodel.get_booster().feature_names = [\"your\", \"feature\", \"name\", \"list\"]\nxgboost.plot_importance(model.get_booster())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 9546978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vincent M.K", "link": "https://stackoverflow.com/users/9546978/vincent-m-k"}, "is_accepted": false, "score": 5, "last_activity_date": 1562644708, "creation_date": 1562644708, "answer_id": 56945135, "question_id": 46943314, "link": "https://stackoverflow.com/questions/46943314/xgboost-plot-importance-doesnt-show-feature-names/56945135#56945135", "title": "XGBoost plot_importance doesn&#39;t show feature names", "body": "<p>With Scikit-Learn Wrapper interface \"XGBClassifier\",plot_importance reuturns class \"matplotlib Axes\". So we can employ axes.set_yticklabels.</p>\n\n<p><code>plot_importance(model).set_yticklabels(['feature1','feature2'])</code></p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 4754681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IiLySQ735rE/AAAAAAAAAAI/AAAAAAAAACw/fTCqrlBF6NQ/photo.jpg?sz=128", "display_name": "Kattia", "link": "https://stackoverflow.com/users/4754681/kattia"}, "edited": false, "score": 0, "creation_date": 1586204470, "post_id": 59505751, "comment_id": 108038270, "body": "xgb.plot_importance() works with using XGBClassifier as well :)"}], "tags": [], "owner": {"reputation": 391, "user_id": 8922129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c4f0674d5f47788abfa825286d8e88c?s=128&d=identicon&r=PG&f=1", "display_name": "Badger Titan", "link": "https://stackoverflow.com/users/8922129/badger-titan"}, "is_accepted": false, "score": 0, "last_activity_date": 1577478698, "creation_date": 1577478698, "answer_id": 59505751, "question_id": 46943314, "link": "https://stackoverflow.com/questions/46943314/xgboost-plot-importance-doesnt-show-feature-names/59505751#59505751", "title": "XGBoost plot_importance doesn&#39;t show feature names", "body": "<p>If trained with</p>\n\n<pre><code>model = XGBClassifier(\n    max_depth = 8, \n    learning_rate = 0.25, \n    n_estimators = 50, \n    objective = \"binary:logistic\",\n    n_jobs = 4\n)\n\n# x, y are pandas DataFrame\nmodel.fit(train_data_x, train_data_y)\n</code></pre>\n\n<p>you can do <code>model.get_booster().get_fscore()</code> to get feature names and feature importance as a python dict</p>\n"}, {"tags": [], "owner": {"reputation": 1080, "user_id": 2919826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I06B2.jpg?s=128&g=1", "display_name": "Gianmario Spacagna", "link": "https://stackoverflow.com/users/2919826/gianmario-spacagna"}, "is_accepted": false, "score": 0, "last_activity_date": 1588939932, "creation_date": 1588939932, "answer_id": 61678888, "question_id": 46943314, "link": "https://stackoverflow.com/questions/46943314/xgboost-plot-importance-doesnt-show-feature-names/61678888#61678888", "title": "XGBoost plot_importance doesn&#39;t show feature names", "body": "<p>You should specify the feature_names when instantiating the XGBoost Classifier:</p>\n\n<pre><code>xgb = xgb.XGBClassifier(feature_names=feature_names)\n</code></pre>\n\n<p>Be careful that if you wrap the xgb classifier in a sklearn pipeline that performs any selection on the columns (e.g. VarianceThreshold) the xgb classifier will fail when trying to fit or transform.</p>\n"}], "owner": {"reputation": 28720, "user_id": 4561314, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6ad3771ba6e8e823dbcae710c1cde4da?s=128&d=identicon&r=PG", "display_name": "stackoverflowuser2010", "link": "https://stackoverflow.com/users/4561314/stackoverflowuser2010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25663, "favorite_count": 7, "accepted_answer_id": 46943417, "answer_count": 7, "score": 25, "last_activity_date": 1588939932, "creation_date": 1508972474, "question_id": 46943314, "link": "https://stackoverflow.com/questions/46943314/xgboost-plot-importance-doesnt-show-feature-names", "title": "XGBoost plot_importance doesn&#39;t show feature names", "body": "<p>I'm using XGBoost with Python and have successfully trained a model using the XGBoost <code>train()</code> function called on <code>DMatrix</code> data. The matrix was created from a Pandas dataframe, which has feature names for the columns.</p>\n\n<pre><code>Xtrain, Xval, ytrain, yval = train_test_split(df[feature_names], y, \\\n                                    test_size=0.2, random_state=42)\ndtrain = xgb.DMatrix(Xtrain, label=ytrain)\n\nmodel = xgb.train(xgb_params, dtrain, num_boost_round=60, \\\n                  early_stopping_rounds=50, maximize=False, verbose_eval=10)\n\nfig, ax = plt.subplots(1,1,figsize=(10,10))\nxgb.plot_importance(model, max_num_features=5, ax=ax)\n</code></pre>\n\n<p>I want to now see the feature importance using the <code>xgboost.plot_importance()</code> function, but the resulting plot doesn't show the feature names. Instead, the features are listed as <code>f1</code>, <code>f2</code>, <code>f3</code>, etc. as shown below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zhehV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zhehV.png\" alt=\"enter image description here\"></a></p>\n\n<p>I think the problem is that I converted my original Pandas data frame into a DMatrix. How can I associate feature names properly so that the feature importance plot shows them?</p>\n"}, {"tags": ["python", "swift", "opencv"], "comments": [{"owner": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 1, "creation_date": 1508973644, "post_id": 46943261, "comment_id": 80834394, "body": "Do you want all of the code for your app on their phone? Or are you open to setting up a python RESTFUL api on a server to do the computation?"}, {"owner": {"reputation": 1012, "user_id": 8834423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bb6267e56aab214e70e18fc17fce9aea?s=128&d=identicon&r=PG&f=1", "display_name": "Nader Besada", "link": "https://stackoverflow.com/users/8834423/nader-besada"}, "reply_to_user": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 1, "creation_date": 1508974912, "post_id": 46943261, "comment_id": 80834753, "body": "I was thinking REST api at first but the app has to be offline @PeterH"}, {"owner": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 1, "creation_date": 1508976458, "post_id": 46943261, "comment_id": 80835164, "body": "Ah. Yeah. I am not sure how computationally heavy your IR is, but if it takes a little while on a computer your best bet would probably get to rewrite your python code in c++ and port that into the swift app. Running the IR in c++ could save you a lot of overhead (Having the python interpreter running on the IOS device) and should be a lot faster and more efficient than the code written in Python. On the flip side writing good, stable, fast code in c++ is a lot harder than in a lot of other languages. But if you do have time to learn c++ it will change the way you program (in a good way)."}], "answers": [{"tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": false, "score": 1, "last_activity_date": 1508973781, "creation_date": 1508973781, "answer_id": 46943505, "question_id": 46943261, "link": "https://stackoverflow.com/questions/46943261/running-python-in-swift/46943505#46943505", "title": "Running Python in Swift", "body": "<p>You have not only to \"call Python from swift\", but to make it on the client, you have to embedd all the Python runtime and the OpenCV library with your application, run the Python app in a different application, and then work on making this call - which will  be an interprocess call. Unless you can, from swift, instantiate an internal Python interpreter in native code (which is possible from C/C++ code, but I am not sure if it can done from Swift) - then you are spared from the separate process, but still will need to bundle everything.</p>\n\n<p>However, if you can afford for the Python app to be run server side, then it should be trivial: you can use a microframework (like <a href=\"http://flask.pocoo.org/\" rel=\"nofollow noreferrer\">Flask</a>), for example, to wrap your app functionality into a simple view. Your app would them just make an HTTP post request, send the image, and get the resulting text as a response. </p>\n"}], "owner": {"reputation": 1012, "user_id": 8834423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bb6267e56aab214e70e18fc17fce9aea?s=128&d=identicon&r=PG&f=1", "display_name": "Nader Besada", "link": "https://stackoverflow.com/users/8834423/nader-besada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2286, "favorite_count": 1, "closed_date": 1508973918, "answer_count": 1, "score": 3, "last_activity_date": 1508973781, "creation_date": 1508972116, "question_id": 46943261, "link": "https://stackoverflow.com/questions/46943261/running-python-in-swift", "closed_reason": "Duplicate", "title": "Running Python in Swift", "body": "<p>I created a license plate detection program with Python using OpenCv, the program takes in a picture of a license plate and it returns its numbers/letters. I wanted to incorporate my Python program into an iOS app using Swift. Is there a way I can provide an image from Swift and call the python script and get the returned value of the license plate?</p>\n\n<p>Basically is there a way I can call python scripts from Swift?</p>\n\n<p>Thanks</p>\n\n<p>(I know I can translate the code over to C++ and create a bridge to Swift but I am not very familiar with C++)</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 958, "user_id": 6845743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TRlcE.jpg?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/6845743/mahdi"}, "reply_to_user": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1508974425, "post_id": 46943244, "comment_id": 80834615, "body": "no i dont want to someone else do it for me , i try solve this problem again and again but i cant , I&#39;m struggling for learn how to solve. this problem , tanx"}, {"owner": {"reputation": 958, "user_id": 6845743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TRlcE.jpg?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/6845743/mahdi"}, "edited": false, "score": 0, "creation_date": 1508975040, "post_id": 46943244, "comment_id": 80834789, "body": "eddited ... i realy appreciate this help  cuase i am a begginer , i dont think this is a problem , you started this way same me , from zero"}], "answers": [{"comments": [{"owner": {"reputation": 958, "user_id": 6845743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TRlcE.jpg?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/6845743/mahdi"}, "edited": false, "score": 0, "creation_date": 1508972994, "post_id": 46943339, "comment_id": 80834228, "body": "hi man  tanx for it but i suggest you to test it  here is the error i gave after write your code : . selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {&quot;method&quot;:&quot;id&quot;,&quot;selector&quot;:&quot;F80351&quot;}  .  this site is Spellbound you have never seen something like this :))"}], "tags": [], "owner": {"reputation": 542, "user_id": 7880461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11d6f2ae864d2bddcf26aadc9fbc45b1?s=128&d=identicon&r=PG&f=1", "display_name": "Dean W.", "link": "https://stackoverflow.com/users/7880461/dean-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1508972685, "creation_date": 1508972685, "answer_id": 46943339, "question_id": 46943244, "link": "https://stackoverflow.com/questions/46943244/login-to-page-with-selenium-and-python/46943339#46943339", "title": "Login to page with Selenium and Python", "body": "<p>Your problem is that you're not doing anything with the elements that you've found.</p>\n\n<p>Change:</p>\n\n<pre><code>username = driver.find_element_by_id(\"F80351\")\npassword = driver.find_element_by_id(\"F80401\")\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>driver.find_element_by_id(\"F80351\").send_keys('your username')\ndriver.find_element_by_id(\"F80401\").send_keys('your password')\ndriver.find_element_by_id(\"btnLog\").click()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 958, "user_id": 6845743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TRlcE.jpg?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/6845743/mahdi"}, "edited": false, "score": 0, "creation_date": 1508978449, "post_id": 46943939, "comment_id": 80835596, "body": "thanks  , very very nice answer , it works beautiful  , thanks a lot"}], "tags": [], "owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "is_accepted": true, "score": 1, "last_activity_date": 1508977669, "last_edit_date": 1508977669, "creation_date": 1508977176, "answer_id": 46943939, "question_id": 46943244, "link": "https://stackoverflow.com/questions/46943244/login-to-page-with-selenium-and-python/46943939#46943939", "title": "Login to page with Selenium and Python", "body": "<p>If you look closely at the document, you'll see it's comprised of several frames stacked upon each other.</p>\n\n<pre><code>&lt;body ...&gt;\n    ...\n    &lt;div id=\"FacArea\" style=\"top: 48px; position: absolute; overflow: hidden; width: 672px; height: 572px;\"&gt;\n        &lt;div style=\"overflow: auto; position: absolute; z-index: 2; width: 672px; height: 572px;\"&gt;\n            &lt;iframe src=\"nav.htm?fid=0;1&amp;amp;tck=&amp;amp;\" id=\"Faci1\" name=\"Faci1\" width=\"672\" height=\"572\" style=\"z-index: 2;\"&gt;\n                #document\n                &lt;html&gt;\n                    ...\n                &lt;/html&gt;\n            &lt;/iframe&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    ...\n&lt;/body&gt;\n</code></pre>\n\n<p>Your username and password input are located in a document 3 frames deep, which is why you can't find them. You need to iteratively find those frames and switch to them.</p>\n\n<pre><code>driver = webdriver.Chrome('chromedriver.exe')\ndriver.get(url)\n\nframe_names = ('Faci1', 'Master', 'Form_Body')\nfor name in frame_names:\n    frame = driver.find_element_by_name(name)\n    driver.switch_to_frame(frame)\n\nusername = driver.find_element_by_id('F80351')\npassword = driver.find_element_by_id('F80401')\n</code></pre>\n"}], "owner": {"reputation": 958, "user_id": 6845743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TRlcE.jpg?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/6845743/mahdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 46943939, "answer_count": 2, "score": 0, "last_activity_date": 1509538372, "creation_date": 1508972040, "last_edit_date": 1509538372, "question_id": 46943244, "link": "https://stackoverflow.com/questions/46943244/login-to-page-with-selenium-and-python", "title": "Login to page with Selenium and Python", "body": "<p>I have a website and I promise no one can log in to it with selenium \nhere you are: <a href=\"https://edu.usc.ac.ir/Forms/AuthenticateUser/main.htm\" rel=\"nofollow noreferrer\">https://edu.usc.ac.ir/Forms/AuthenticateUser/main.htm</a></p>\n\n<p>This page has a different code from what you see, and I would like to crawl it with Selenium.</p>\n\n<p>I write the below code : </p>\n\n<pre><code>from selenium import webdriver\nimport time\nurl = \"https://edu.usc.ac.ir/Forms/AuthenticateUser/main.htm\"\ndriver = webdriver.Chrome('chromedriver.exe')\ndriver.get(url)\ntime.sleep(5)\nusername = driver.find_element_by_id(\"F80351\")\npassword = driver.find_element_by_id(\"F80401\")\n</code></pre>\n\n<p>When I use this code I get this error: </p>\n\n<pre><code>selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {\"method\":\"id\",\"selector\":\"F80351\"}``\n</code></pre>\n\n<p>I can't figure out why it can't find the element that exists in this page.</p>\n"}, {"tags": ["python", "metaprogramming", "yield"], "comments": [{"owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "edited": false, "score": 1, "creation_date": 1508972487, "post_id": 46943233, "comment_id": 80834073, "body": "please indent your code"}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1508974461, "post_id": 46943233, "comment_id": 80834628, "body": "Have a look at <code>sys.settrace()</code>. I&#39;ve done all kinds of wild stuff with that."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 0, "last_activity_date": 1508972939, "creation_date": 1508972939, "answer_id": 46943378, "question_id": 46943233, "link": "https://stackoverflow.com/questions/46943233/how-to-get-program-counter-for-functions-on-the-stack/46943378#46943378", "title": "How to get &quot;program counter&quot; for functions on the stack?", "body": "<p>A frame's <code>f_lasti</code> is the closest thing to a \"program counter\" it has, but it's not enough. You can't set <code>f_lasti</code> from Python-level code, and even if you could (maybe you're using the \"screw the rules\" button that is <code>ctypes</code>), you still wouldn't be able to suspend and resume frames by messing with <code>f_lasti</code>.</p>\n"}], "owner": {"reputation": 1240, "user_id": 4192366, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b6bf1ce902b1530a88a47e781d3c3bdc?s=128&d=identicon&r=PG&f=1", "display_name": "ZisIsNotZis", "link": "https://stackoverflow.com/users/4192366/zisisnotzis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 1, "accepted_answer_id": 46943378, "answer_count": 1, "score": 2, "last_activity_date": 1508972977, "creation_date": 1508971986, "last_edit_date": 1508972977, "question_id": 46943233, "link": "https://stackoverflow.com/questions/46943233/how-to-get-program-counter-for-functions-on-the-stack", "title": "How to get &quot;program counter&quot; for functions on the stack?", "body": "<p>I was tring to roll up my own version of <code>yield</code> for fun. Like this:</p>\n\n<pre><code>class YieldJump(BaseException):\n    ...\ndef Yield(returnVal):\n    state = getCallerState()\n    raise YieldJump(returnVal, state) \nclass YieldWrap:\n    def __init__(self, func, *vararg, **kwarg):\n        # record function and argument\n    def __call__(self):\n        try: \n            ...\n        except YieldJump as e:\n            # record state and return value\ndef totalArbitraryFunction(...):\n    ...\n    Yield(i)\n    ...\n    Yield(i)\n    ...\n    Yield(i)\n    ...\nfor i in YieldWrap(totalArbitraryFunction, arg1, arg2, ...):\n    print(i)\n</code></pre>\n\n<p>In order to get/apply caller state, I found I can use <code>sys</code> and <code>inspect</code> to get <code>Frame</code> objects on the running stack (so that I can do something with the caller). From that I can extract all the details including <code>function</code> object, stored local variables, and line number that function is running on.</p>\n\n<p>But line number is not detailed enough since there can be nested function calls in one line. <strong>Is there any way to get the return \"address\" and force python to jump there? Or is there a way to call/continue <code>Frame</code>/<code>FrameInfo</code> object?</strong> </p>\n"}, {"tags": ["python", "numpy", "optimization", "boolean"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1508972315, "post_id": 46943226, "comment_id": 80834020, "body": "If you want to know whether it works the same way, don&#39;t ask us: ask Python.  Run a set of tests.  The Python run-time system is the ultimate authority, after all, and we&#39;re not a testing service."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1508972951, "post_id": 46943226, "comment_id": 80834209, "body": "Are you looking for something like <a href=\"http://numexpr.readthedocs.io/en/latest/intro.html\" rel=\"nofollow noreferrer\">numexpr</a>? You could always write a C-extension to do it memory-efficiently..."}, {"owner": {"reputation": 1167, "user_id": 7613404, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/af19ec64033a8acc6891f60f02cd7543?s=128&d=identicon&r=PG&f=1", "display_name": "kinder chen", "link": "https://stackoverflow.com/users/7613404/kinder-chen"}, "edited": false, "score": 0, "creation_date": 1509080296, "post_id": 46943226, "comment_id": 80882815, "body": "C-extension? Can I control how much the memory can be used?"}], "answers": [{"comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1508974427, "post_id": 46943290, "comment_id": 80834616, "body": "Whoops!  You&#39;re working in NumPy, not Python.  No, this won&#39;t work for you."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1508974605, "last_edit_date": 1508974605, "creation_date": 1508972262, "answer_id": 46943290, "question_id": 46943226, "link": "https://stackoverflow.com/questions/46943226/how-to-speed-up-the-algorithm-about-boolean/46943290#46943290", "title": "how to speed up the algorithm about boolean", "body": "<p>Yes, the expression works the same.  Check it with</p>\n\n<pre><code>jmult = ((0.3&lt;i)*(i&lt;0.4))*1\njand  = ((0.3&lt;i)&amp;(i&lt;0.4))*1\njand == jmult\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1167, "user_id": 7613404, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/af19ec64033a8acc6891f60f02cd7543?s=128&d=identicon&r=PG&f=1", "display_name": "kinder chen", "link": "https://stackoverflow.com/users/7613404/kinder-chen"}, "edited": false, "score": 0, "creation_date": 1509080673, "post_id": 46944047, "comment_id": 80882932, "body": "will it be more efficient if I do <code>j=(i&lt;0.4)*1-(i&lt;0.3)*1</code>? Can the additional libraries (numba, numexpr, cython) vectorize an array to make it more efficient like numpy does?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 1167, "user_id": 7613404, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/af19ec64033a8acc6891f60f02cd7543?s=128&d=identicon&r=PG&f=1", "display_name": "kinder chen", "link": "https://stackoverflow.com/users/7613404/kinder-chen"}, "edited": false, "score": 0, "creation_date": 1509100629, "post_id": 46944047, "comment_id": 80893504, "body": "It will probably be less efficent because you have 5 temporary arrays then and 3 of them are integers (taking up more space than bools). However, you need to time it or use a memory profiler to find out which optimizations kick in on your system. Numba and cython are more like Python -&gt; C converters, both are capable (as far as I know) of using hardware vectorization but you need to code the loops yourself. Numexpr on the other hand is just a different (more optimized and parallel) backend for NumPy operations, so it uses vectorization and broadcasting by default."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 3, "last_activity_date": 1508978127, "creation_date": 1508978127, "answer_id": 46944047, "question_id": 46943226, "link": "https://stackoverflow.com/questions/46943226/how-to-speed-up-the-algorithm-about-boolean/46944047#46944047", "title": "how to speed up the algorithm about boolean", "body": "<p>Yes, for boolean arrays <code>&amp;</code> and <code>*</code> are identical because both are only <code>True</code> if both operands are <code>True</code>, otherwise <code>False</code>.</p>\n\n<p>You already found out that each operation creates a temporary array (although newer NumPy versions might be optimized in that respect), so you have one temporary boolean array for each <code>&lt;</code>, one for the <code>*</code> or the <code>&amp;</code> and then you create an integer array with the <code>* 1</code>. Without using additional libraries you can't avoid that. NumPy is fast because it does the loops in C but that means you have to deal with temporary arrays.</p>\n\n<p>But with additional libraries you actually can speed that up and make it more memory-efficient.</p>\n\n<h2>Numba:</h2>\n\n<pre><code>import numba as nb\nimport numpy as np\n\n@nb.njit\ndef numba_func(arr, lower, upper):\n    res = np.zeros(arr.size, dtype=np.int8)\n    arr_raveled = arr.ravel()\n    for idx in range(arr.size):\n        res[idx] = lower &lt; arr_raveled[idx] &lt; upper\n    return res.reshape(arr.shape)\n\n&gt;&gt;&gt; numba_func(i, 0.3, 0.4)  # sample call\n</code></pre>\n\n<h2>Numexpr</h2>\n\n<pre><code>import numexpr as ne\n\nne.evaluate('((0.3&lt;i)&amp;(i&lt;0.4))*1')\n</code></pre>\n\n<p>However numexpr is more of a black-box, you don't control how much memory it needs, but in most cases where you deal with multiple element-wise NumPy operations it's <strong>very fast and much more memory efficient</strong> than NumPy.</p>\n\n<h2>Cython</h2>\n\n<p>I'm using IPython magic here. If you don't use IPython or Jupyter you probably need to <code>cythonize</code> it yourself.</p>\n\n<pre><code>%load_ext cython\n\n%%cython\n\nimport numpy as np\ncimport numpy as cnp\n\ncpdef cnp.int8_t[:] cython_func(double[:] arr, double lower, double upper):\n    cdef Py_ssize_t idx\n    cdef cnp.int8_t[:] res = np.empty(len(arr), dtype=np.int8)\n    for idx in range(len(arr)):\n        res[idx] = lower &lt; arr[idx] &lt; upper\n    return res\n</code></pre>\n\n<p>Given that I used 1D-memoryviews here, you need to cast it to an array and reshape it afterwards:</p>\n\n<pre><code>np.asarray(cython_func(i.ravel(), 0.3, 0.4)).reshape(i.shape)  # sample call\n</code></pre>\n\n<p>There are probably better ways to get around the <code>ravel</code>, <code>asarray</code> and <code>reshape</code> but those require that you know the dimension of your array.</p>\n\n<h2>Timing</h2>\n\n<p>I use a smaller array because I don't have much RAM but you can easily change the numbers:</p>\n\n<pre><code>i = np.random.random((1000, 1000, 10))\n\n%timeit numba_func(i, 0.3, 0.4)\n52.1 ms \u00b1 3.08 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n%timeit ne.evaluate('((0.3&lt;i)&amp;(i&lt;0.4))*1')\n77.1 ms \u00b1 6.59 ms per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n%timeit np.asarray(cython_func(i.ravel(), 0.3, 0.4)).reshape(i.shape)\n146 ms \u00b1 3.12 ms per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n%timeit ((0.3&lt;i)&amp;(i&lt;0.4))*1\n180 ms \u00b1 2.8 ms per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n</code></pre>\n"}], "owner": {"reputation": 1167, "user_id": 7613404, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/af19ec64033a8acc6891f60f02cd7543?s=128&d=identicon&r=PG&f=1", "display_name": "kinder chen", "link": "https://stackoverflow.com/users/7613404/kinder-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1508978127, "creation_date": 1508971953, "last_edit_date": 1508972225, "question_id": 46943226, "link": "https://stackoverflow.com/questions/46943226/how-to-speed-up-the-algorithm-about-boolean", "title": "how to speed up the algorithm about boolean", "body": "<p>If I have a very large piece of data, and I want to find out some specific elements and convert them from bool to number. For example, I want to find whether the element is in the interval (0.3,0.4), and convert <code>True</code> to <code>1</code> and <code>False</code> to <code>0</code>.</p>\n\n<pre><code>i=np.random.rand(1000,1000,1000)\nj=((0.3&lt;i)*(i&lt;0.4))*1\n</code></pre>\n\n<p>Does <code>j=((0.3&lt;i)&amp;(i&lt;0.4))*1</code> work the same as the expression above?</p>\n\n<p>I know bool*bool is time-consuming and exploit a huge memory, and so is bool convert to number. Then how can I seed up the algorithm and save memory? Is there a way to evaluate <code>0.3&lt;i&lt;0.4</code> quickly?</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"comments": [{"owner": {"reputation": 1034, "user_id": 2168245, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/LrOaG.jpg?s=128&g=1", "display_name": "mhaghighat", "link": "https://stackoverflow.com/users/2168245/mhaghighat"}, "edited": false, "score": 0, "creation_date": 1509036341, "post_id": 46943999, "comment_id": 80866712, "body": "Thank you for your reply. What I meant was not using a tf.Variable, but just the numpy.ndarray, z, which is the input argument in the function definition. Since the function definition does not need the data, can&#39;t it be used at the time of building the graph?"}, {"owner": {"reputation": 15373, "user_id": 1667256, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a9deb943177413468eb294d4a3b3e16?s=128&d=identicon&r=PG", "display_name": "greeness", "link": "https://stackoverflow.com/users/1667256/greeness"}, "reply_to_user": {"reputation": 1034, "user_id": 2168245, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/LrOaG.jpg?s=128&g=1", "display_name": "mhaghighat", "link": "https://stackoverflow.com/users/2168245/mhaghighat"}, "edited": false, "score": 0, "creation_date": 1509037622, "post_id": 46943999, "comment_id": 80867434, "body": "No actually each tensor is a tensor node in the  graph. When we are building the graph, imaging that you have some building blocks and one of them is this placeholder. Numpy array cannot be used at that time. After execution, a tensor node outputs a numpy array though."}], "tags": [], "owner": {"reputation": 15373, "user_id": 1667256, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a9deb943177413468eb294d4a3b3e16?s=128&d=identicon&r=PG", "display_name": "greeness", "link": "https://stackoverflow.com/users/1667256/greeness"}, "is_accepted": true, "score": 2, "last_activity_date": 1508980862, "last_edit_date": 1508980862, "creation_date": 1508977670, "answer_id": 46943999, "question_id": 46943173, "link": "https://stackoverflow.com/questions/46943173/why-using-placeholders-for-the-input-data-of-the-tensorflow-functions/46943999#46943999", "title": "Why using placeholders for the input data of the TensorFlow functions", "body": "<p>In your example method <code>sigmoid</code>, you basically built a small computation graph (see below) and run it with <code>session.run</code> (in the same method). Yes, it does not add any benefit to use a place-holder in your case.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uHL8H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uHL8H.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, usually people just built the computation graph (and execute the graph with data later). But at the time of building the graph, the data is not needed. That's why we use a place-holder to hold the place of data. Or in other words, it allows us to create our computing operations without needing any data.</p>\n\n<p>Also <a href=\"https://stackoverflow.com/questions/36693740/whats-the-difference-between-tf-placeholder-and-tf-variable\">this</a> should explain why we want to use <code>tf.placehoder</code> instead of <code>tf.Variable</code> for holding training data. In short:</p>\n\n<ul>\n<li><code>tf.Variable</code> is for trainable parameters of the model.</li>\n<li><code>tf.placeholder</code> is for training data which does not change as model trains.</li>\n<li>No initial values are needed for placeholders.</li>\n<li>The first dimension of data through feeding could be <code>None</code> thus supporting any batch_size.</li>\n</ul>\n"}], "owner": {"reputation": 1034, "user_id": 2168245, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/LrOaG.jpg?s=128&g=1", "display_name": "mhaghighat", "link": "https://stackoverflow.com/users/2168245/mhaghighat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1679, "favorite_count": 1, "accepted_answer_id": 46943999, "answer_count": 1, "score": 3, "last_activity_date": 1509075183, "creation_date": 1508971613, "question_id": 46943173, "link": "https://stackoverflow.com/questions/46943173/why-using-placeholders-for-the-input-data-of-the-tensorflow-functions", "title": "Why using placeholders for the input data of the TensorFlow functions", "body": "<p>When I read TensorFlow codes, I see people specify placeholders for the input arguments of the functions and then feed the input data in a <code>session.run</code>. A trivial example can be like:</p>\n\n<pre><code>def sigmoid(z):\n\n    x = tf.placeholder(tf.float32, name='x')\n\n    sigmoid = tf.sigmoid(x)\n\n    with tf.Session() as session:\n        result = session.run(sigmoid, feed_dict={x:z})\n\n    return result\n</code></pre>\n\n<p>I wonder why don't they directly feed the <code>z</code> into the <code>tf.sigmoid(z)</code> and get rid of the placeholder <code>x</code>? </p>\n\n<p>If this is a best practice, what is the reason behind it?</p>\n"}, {"tags": ["python", "csv", "amazon-s3"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1508974153, "post_id": 46943166, "comment_id": 80834538, "body": "You can read the CSV data with something like <code>response[&#39;Body&#39;].read()</code> and then pass the result into <code>csv.reader()</code> (although you may have to decode it first and split it into lines)."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 500943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27646c1a3e076512eaa3eb301ac77ef1?s=128&d=identicon&r=PG", "display_name": "shanesolo", "link": "https://stackoverflow.com/users/500943/shanesolo"}, "edited": false, "score": 4, "creation_date": 1526285910, "post_id": 46944121, "comment_id": 87667316, "body": "You may also need to decode the bytestream, depending on your encoding - <code>response[&#39;Body&#39;].read().decode(&#39;utf-8&#39;).splitlines(True)</code>"}, {"owner": {"reputation": 1113, "user_id": 5656533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/829d758998db1e4a910de7b8c7dfd0ac?s=128&d=identicon&r=PG", "display_name": "Aaron Bentley", "link": "https://stackoverflow.com/users/5656533/aaron-bentley"}, "reply_to_user": {"reputation": 141, "user_id": 500943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27646c1a3e076512eaa3eb301ac77ef1?s=128&d=identicon&r=PG", "display_name": "shanesolo", "link": "https://stackoverflow.com/users/500943/shanesolo"}, "edited": false, "score": 0, "creation_date": 1526300852, "post_id": 46944121, "comment_id": 87676486, "body": "This appears to vary between python 2 and 3.  The 2.7 docs say &quot;The csv module doesn\u2019t directly support reading and writing Unicode&quot; and recommend feeding it utf-8."}, {"owner": {"reputation": 353, "user_id": 6645147, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abd430c28d5723dbd5062d845c9742d5?s=128&d=identicon&r=PG&f=1", "display_name": "Hyder Tom", "link": "https://stackoverflow.com/users/6645147/hyder-tom"}, "edited": false, "score": 0, "creation_date": 1533140935, "post_id": 46944121, "comment_id": 90240708, "body": "I see that the CSV is being used by Lambda. Problem is when I try to do any ETL transformations I am finding it difficult. How do I perform ETL jobs in Lambda, as I am not able to open CSV as a file, but only reading it. Is there a way to open it as CSV and start working on it."}], "tags": [], "owner": {"reputation": 1113, "user_id": 5656533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/829d758998db1e4a910de7b8c7dfd0ac?s=128&d=identicon&r=PG", "display_name": "Aaron Bentley", "link": "https://stackoverflow.com/users/5656533/aaron-bentley"}, "is_accepted": true, "score": 14, "last_activity_date": 1508978840, "creation_date": 1508978840, "answer_id": 46944121, "question_id": 46943166, "link": "https://stackoverflow.com/questions/46943166/python-how-to-read-csv-file-retrieved-from-s3-bucket/46944121#46944121", "title": "Python - How to read CSV file retrieved from S3 bucket?", "body": "<p>csv.reader does not require a file.  It can use anything that iterates through lines, including files and lists.</p>\n\n<p>So you don't need a filename.  Just pass the lines from response['Body'] directly into the reader.  One way to do that is</p>\n\n<pre><code>lines = response['Body'].read().splitlines(True)\nreader = csv.reader(lines)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 438, "user_id": 10512327, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-N6kBJkL-OzE/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbC0Ac2aWX7OyjQu-B8XZoX-FHvrlw/mo/photo.jpg?sz=128", "display_name": "Chirag Kalal", "link": "https://stackoverflow.com/users/10512327/chirag-kalal"}, "is_accepted": false, "score": 2, "last_activity_date": 1599041465, "creation_date": 1599041465, "answer_id": 63703348, "question_id": 46943166, "link": "https://stackoverflow.com/questions/46943166/python-how-to-read-csv-file-retrieved-from-s3-bucket/63703348#63703348", "title": "Python - How to read CSV file retrieved from S3 bucket?", "body": "<p>To retrieve and read CSV file from s3 bucket, you can use the following code:</p>\n<pre><code>import csv\nimport boto3\nfrom django.conf import settings\n\nbucket_name = &quot;your-bucket-name&quot;\nfile_name = &quot;your-file-name-exists-in-that-bucket.csv&quot;\n\ns3 = boto3.resource('s3', aws_access_key_id=settings.AWS_ACCESS_KEY_ID,\n                    aws_secret_access_key=settings.AWS_SECRET_ACCESS_KEY)\n\nbucket = s3.Bucket(bucket_name)\n\nobj = bucket.Object(key=file_name)\n\nresponse = obj.get()\nlines = response['Body'].read().decode('utf-8').splitlines(True)\n\nreader = csv.DictReader(lines)\nfor row in reader:\n    # csv_header_key is the header keys which you have defined in your csv header\n    print(row['csv_header_key1'], row['csv_header_key2')\n</code></pre>\n"}], "owner": {"reputation": 593, "user_id": 8834415, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/7afeb1ea0ccbe5331bb4cd7bd37a14af?s=128&d=identicon&r=PG&f=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/8834415/louis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13191, "favorite_count": 4, "accepted_answer_id": 46944121, "answer_count": 2, "score": 6, "last_activity_date": 1599041465, "creation_date": 1508971552, "last_edit_date": 1508972122, "question_id": 46943166, "link": "https://stackoverflow.com/questions/46943166/python-how-to-read-csv-file-retrieved-from-s3-bucket", "title": "Python - How to read CSV file retrieved from S3 bucket?", "body": "<p>There's a CSV file in a S3 bucket that I want to parse and turn into a dictionary in Python. Using Boto3, I called the <code>s3.get_object(&lt;bucket_name&gt;, &lt;key&gt;)</code> function and that returns a dictionary which includes a <code>\"Body\" : StreamingBody()</code> key-value pair that apparently contains the data I want.</p>\n\n<p>In my python file, I've added <code>import csv</code> and the examples I see online on how to read a csv file, you pass the file name such as:</p>\n\n<pre><code>with open(&lt;csv_file_name&gt;, mode='r') as file:\nreader = csv.reader(file)\n</code></pre>\n\n<p>However, I'm not sure how to retrieve the csv file name from StreamBody, if that's even possible. If not, is there a better way for me to read the csv file in Python? Thanks!</p>\n\n<p>Edit: Wanted to add that I'm doing this in AWS Lambda and there are documented issues with using pandas in Lambda, so this is why I wanted to use the csv library and not pandas.</p>\n"}, {"tags": ["python", "nested-loops"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1508971746, "post_id": 46943161, "comment_id": 80833820, "body": "Do you mean the last <code>line</code> in <code>lines</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1508971861, "post_id": 46943161, "comment_id": 80833860, "body": "Try printing <code>root_src_dir</code> and making sure it contains files to copy."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1508971911, "post_id": 46943161, "comment_id": 80833876, "body": "Why do this with Python when you can just do a recursive directory copy from the command prompt?"}, {"owner": {"reputation": 13, "user_id": 8834367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0824ace61651999e15fbcb2196b8b6c9?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/8834367/will"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1508972808, "post_id": 46943161, "comment_id": 80834166, "body": "@Barmar yes that is correct, the code only works fully for the last <code>line</code> in <code>lines</code> . If i print  <code>root_src_dir</code> inside the first for loop it prints the directory for each line, but if i do it inside the second for loop it prints only the directory for the last <code>line</code> in <code>lines</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1508973025, "post_id": 46943161, "comment_id": 80834241, "body": "That means that <code>os.walk()</code> isn&#39;t finding anything to process."}, {"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1508973834, "post_id": 46943161, "comment_id": 80834468, "body": "Side note, don\u2019t check equality of strings using <code>is</code>, use <code>==</code> instead. Please it\u2019s not always reliable for bigger strings as they\u2019re not always stored in the same memory location."}, {"owner": {"reputation": 13, "user_id": 8834367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0824ace61651999e15fbcb2196b8b6c9?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/8834367/will"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1508978907, "post_id": 46943161, "comment_id": 80835701, "body": "Thanks @Barmar and @abccd, I really appreciate your help. I have noticed that if i manually remove the last <code>line</code> of <code>lines</code> from the text file, then the code again works for the directory that is now the &quot;new&quot; last <code>line</code> of <code>lines</code>. This shows that it is able to find things to process for the other directories, but i still cant work out why it does not complete it for the other directories contained earlier in the text file."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 2, "last_activity_date": 1508979108, "creation_date": 1508979108, "answer_id": 46944155, "question_id": 46943161, "link": "https://stackoverflow.com/questions/46943161/nested-for-loop-only-executing-for-last-item-of-list/46944155#46944155", "title": "Nested for loop only executing for last item of list", "body": "<p>The lines returned by <code>readlines()</code> include the trailing newlines, but you're not removing this when you create the filename from it. The reason it works for the last line is because your file doesn't end with a newline.</p>\n\n<p>Use <code>rstrip()</code> to remove trailing whitespace.</p>\n\n<pre><code>for line in lines:\n    line = line.rstrip()\n    ...\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8834367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0824ace61651999e15fbcb2196b8b6c9?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/8834367/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 46944155, "answer_count": 1, "score": 1, "last_activity_date": 1508979108, "creation_date": 1508971513, "last_edit_date": 1508971595, "question_id": 46943161, "link": "https://stackoverflow.com/questions/46943161/nested-for-loop-only-executing-for-last-item-of-list", "title": "Nested for loop only executing for last item of list", "body": "<p>I am trying to read a list of directories from a text file, and use that to copy the directories to a new location. My code below seems to only complete the \"#Perform copy or move files\" loop for the last item of the list. Can someone please point me in the direction as to why?</p>\n\n<pre><code>import os\nimport shutil\n\noperation = 'copy' # 'copy' or 'move'\n\ntext_file = open('C:\\User\\Desktop\\CopyTrial.txt', \"r\")\nlines = text_file.readlines()\n\nfor line in lines: \n    new_file_name = line[47:]\n    root_src_dir = os.path.join('.',line)\n    root_target_dir = os.path.join('.','C:\\User\\Desktop' + new_file_name)\n\n    # Perform copy or move files. \n    for src_dir, dirs, files in os.walk(root_src_dir):\n        dst_dir = src_dir.replace(root_src_dir, root_target_dir)\n\n        if not os.path.exists(dst_dir):\n            os.mkdir(dst_dir)\n\n        for file_ in files:\n            src_file = os.path.join(src_dir, file_)\n            dst_file = os.path.join(dst_dir, file_)\n            if os.path.exists(dst_file):\n                os.remove(dst_file)\n            if operation is 'copy':\n                shutil.copy(src_file, dst_dir)\n            elif operation is 'move':\n                shutil.move(src_file, dst_dir)\n\ntext_file.close()\n</code></pre>\n"}, {"tags": ["python", "django", "exception-handling", "structured-data"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1508971897, "post_id": 46943130, "comment_id": 80833874, "body": "So, you are talking about storing the stack trace (traceback)? It is usually printed with the exception but not part of it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1508972205, "post_id": 46943130, "comment_id": 80833978, "body": "This seems to me like an atypical thing to do. I did a search for &quot;django log exceptions to database&quot; and a few interesting things popped up. At a glance, it doesn&#39;t look like any of the existing libraries are mature, widely used, or even maintained."}], "answers": [{"tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": false, "score": 0, "last_activity_date": 1508972709, "creation_date": 1508972709, "answer_id": 46943343, "question_id": 46943130, "link": "https://stackoverflow.com/questions/46943130/store-a-python-exception-in-a-django-model/46943343#46943343", "title": "Store a Python exception in a Django model", "body": "<p>I am not that sure that many people had sought a custom way of storing exception data</p>\n\n<p>Ultimately, you have to know what you need. In all projects I had worked so far, the traceback text had contained enough information to dig to the error source. (sometimes, even naively, so that the TB was escaped multipletimes, still it had been enough to \"reverse escape\" it, and fix the source with only one instance of the error).</p>\n\n<p>Some debugging tools offer live interactive instrospection in each execution frame when an exception happens - but that has to be \"live\", because you can't ordinarily serialize Python execution frames and store it on the DB.</p>\n\n<p>That said, if the traceback text is not enough for you, you can have the traceback object by calling <code>sys.exc_info()[2]</code>. That allows you to introspect each frame and know for yourself the file, line number, local and global variables as dictionaries.  If you want the variable values to be available on the database, you have to serialize them, but not all values on variables will be easily serializable. So, it is your call to know 'when enough is enough' in this process.</p>\n\n<p>Most modern databases allow for JSON fields, and serializing the exception info to a JSON field restricting data to strings, numbers, bool and None is probably enough. </p>\n\n<p>One way is to run manually each key on the f_globals and f_locals dict for each fame, and try to json.dumps that key's value, and on an exception on the JSON serializtion, use the object's <code>repr</code> instead.  Or you can customize a JSON serializer that could store customized relevant data for datetime and dates, open files, sockets and so on - only you can know your needs.</p>\n\n<p>TL;DR: Use a JSON field, at the except clause get hold of the traceback object by calling <code>sys.last_traceback()</code>,  and have a custom function to serialize what you want from it into the JSON field.</p>\n\n<p>Or, just use <code>traceback.format_tb</code> to save the traceback text - it probably will be enough anyway.</p>\n"}, {"tags": [], "owner": {"reputation": 3887, "user_id": 379798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1f99bcafaaa0813da9091d4409910626?s=128&d=identicon&r=PG&f=1", "display_name": "goodside", "link": "https://stackoverflow.com/users/379798/goodside"}, "is_accepted": false, "score": 0, "last_activity_date": 1549830630, "last_edit_date": 1549830630, "creation_date": 1549830323, "answer_id": 54620671, "question_id": 46943130, "link": "https://stackoverflow.com/questions/46943130/store-a-python-exception-in-a-django-model/54620671#54620671", "title": "Store a Python exception in a Django model", "body": "<p>Most people delegate tasks like this to third-party services like RollBar or LogEntries, or to middleware services running in a VPC like Elastic LogStash.</p>\n\n<p>I'd suggest that the Django ORM is not well suited for this type of storage. Most of the advantage of the ORM is letting you join on relational tables without elaborate SQL and manage schema changes and referential integrity with migrations. These are the problems encountered by the \"CRUD\" applications Django is designed for \u2014 web applications with user accounts, preferences, notification inboxes, etc. The ORM is intended to manage <em>mutable</em> data with more reads than writes.</p>\n\n<p>Your problem, storing Python exceptions that happened in production, is quite different. Your schema needs will almost never change. The data you want to store is never modified at all once written, and all writes are strictly appends. Your data does not contain foreign keys or other fields that would change in a migration. You will almost always query recent data over historical, which will rarely be read outside of offline/bulk analytics.</p>\n\n<p>If you really want to store this information in Django, I'd suggest storing only a rolling window that you periodically rotate into compressed logs on disk. Otherwise you will be maintaining costly indexes in data that is almost never needed. In this case, you should consider constructing your own custom Django model that extracts the Exception metadata you need. You could also put this information into a JSON field that you store as a string as @jsbueno suggests, but this sacrifices indexed selection.</p>\n\n<p>(Note Python exceptions cannot be directly serialized to JSON or pickled. There is a project called <a href=\"https://github.com/ionelmc/python-tblib\" rel=\"nofollow noreferrer\">tblib</a> that enables pickling, which in turn could be stored as BLOB fields in Django, but I have no idea if the performance would be reasonable. My guess is it would not be worth it.)</p>\n\n<p>In recent years there are many alternative DBMS products for log-like, append-only storage with analytic query patterns. But most of this progress is too recent and too \"web-scale\" to have off-the-shelf integration with Django, which focuses on smaller, more traditional CRUD applications. You should look for solutions that can be integrated with Python more generally, as complex logging/event storage is mostly out-of-scope for Django.</p>\n"}], "owner": {"reputation": 24687, "user_id": 70157, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/da0a70a59c1e428c7780aa1cdc7a26d2?s=128&d=identicon&r=PG", "display_name": "bignose", "link": "https://stackoverflow.com/users/70157/bignose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 548, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1549830630, "creation_date": 1508971364, "last_edit_date": 1509160450, "question_id": 46943130, "link": "https://stackoverflow.com/questions/46943130/store-a-python-exception-in-a-django-model", "title": "Store a Python exception in a Django model", "body": "<p>What is the <strong>recommended way</strong> to <strong>store a Python exception</strong> \u2013 in a structured way that allows access to the different parts of that exception \u2013 <strong>in a Django model</strong>?</p>\n\n<p>It is common to design a Django model that records \u201can event\u201d or \u201can attempt to do foo\u201d; part of the information to be recorded is \u201c\u2026 and the result was this error\u201d. That then becomes a field on the model.</p>\n\n<p>An important aspect of recording the error in the database is to query it in various structured ways: What was the exception type? What was the specific message? What were the other arguments to the exception instance? What was the full traceback?</p>\n\n<p>(I'm aware of services that will let me stream logging or errors to them across the network; that is <em>not</em> what this question asks. I need the structured exception data in the project's own database, for reference directly from other models in the same database.)</p>\n\n<p>The <a href=\"https://docs.python.org/3/library/exceptions.html\" rel=\"nofollow noreferrer\">Python exception object</a> is a data structure that has all of these parts \u2013 the exception type, the arguments to the exception instance, the \u201ccause\u201d and \u201ccontext\u201d, the traceback \u2013 available separately, as attributes of the object. The objective of this question is to have the Python exception information stored in the database model, such that they can be queried in an equivalent structured manner.</p>\n\n<p>So it isn't enough to have a free-form TextField to record a string representation of the exception. A structured field or set of fields is needed; perhaps even an entire separate model for storing exception instances.</p>\n\n<p>Of course I could design such a thing myself, and spend time making the same mistakes countless people before me have undoubtedly made in trying to implement something like this. Instead, I want to learn from existing art in solving this problem.</p>\n\n<p>What is a general pattern to <strong>store structured Python exception data in a Django model, preferably in an existing mature general-purpose library</strong> at PyPI that my project can use for its models?</p>\n"}, {"tags": ["python", "csv", "dictionary"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1599838620, "post_id": 46943126, "comment_id": 112908556, "body": "Expected result looks like a list of dicts but the attempt shows an outer dict. What should the keys be in this dict?"}], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 6074722, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/EPZeh.jpg?s=128&g=1", "display_name": "ThatRiddimGuy", "link": "https://stackoverflow.com/users/6074722/thatriddimguy"}, "edited": false, "score": 0, "creation_date": 1508972438, "post_id": 46943202, "comment_id": 80834059, "body": "thank you for your reply. This seems to work but for my task, I need it in the format mentioned in the question. Is there a way to turn it into that format?"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 361, "user_id": 6074722, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/EPZeh.jpg?s=128&g=1", "display_name": "ThatRiddimGuy", "link": "https://stackoverflow.com/users/6074722/thatriddimguy"}, "edited": false, "score": 0, "creation_date": 1508972807, "post_id": 46943202, "comment_id": 80834165, "body": "@kage77 I update my answer to address your concerns."}, {"owner": {"reputation": 361, "user_id": 6074722, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/EPZeh.jpg?s=128&g=1", "display_name": "ThatRiddimGuy", "link": "https://stackoverflow.com/users/6074722/thatriddimguy"}, "edited": false, "score": 0, "creation_date": 1508976223, "post_id": 46943202, "comment_id": 80835099, "body": "Thank you @ChristianDean I\u2019ll keep your advice in mind and modify my code!"}], "tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": true, "score": 7, "last_activity_date": 1508972793, "last_edit_date": 1508972793, "creation_date": 1508971779, "answer_id": 46943202, "question_id": 46943126, "link": "https://stackoverflow.com/questions/46943126/creating-a-dictionary-from-csv-using-python/46943202#46943202", "title": "Creating a dictionary from CSV using python", "body": "<p>The extra code you have is unnecessary. <code>csv</code> already does the heavy-lifting for you. Just use <code>csv.DictReader</code> as is:</p>\n\n<pre><code>import csv\n\nwith open('e.txt') as file:\n    reader = csv.DictReader(file)\n    for row in reader:\n        print(row)\n</code></pre>\n\n<p>The above outputs:</p>\n\n<pre><code>OrderedDict([('A', '1'), (' B', ' 4'), (' C', ' 7')])\nOrderedDict([('A', '2'), (' B', ' 5'), (' C', ' 8')])\nOrderedDict([('A', '3'), (' B', ' 6'), (' C', ' 9')])    \n</code></pre>\n\n<p>You may think you want a <code>dict</code> rather than an <code>OrderedDict</code>, but I'm fairly sure you don't. Using an <code>OrderedDict</code> object will ensure that your rows stay ordered correctly.</p>\n\n<blockquote>\n  <p>thank you for your reply. This seems to work but for my task, I need it in the format mentioned in the question. Is there a way to turn it into that format?</p>\n</blockquote>\n\n<p>Why exactly? Don't be fooled by the format. <code>OrderedDict</code> <em>behaves the <strong>exact</strong></em> same as a normally dictionary. The only difference is that <code>OrderedDict</code> will maintain its order. If all you need is to print your rows in a certain format, you can convert each row to a <code>dict</code> and use it's <code>__repr__</code>:</p>\n\n<pre><code>for row in reader:\n    print(dict(row))\n</code></pre>\n"}], "owner": {"reputation": 361, "user_id": 6074722, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/EPZeh.jpg?s=128&g=1", "display_name": "ThatRiddimGuy", "link": "https://stackoverflow.com/users/6074722/thatriddimguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9968, "favorite_count": 3, "accepted_answer_id": 46943202, "answer_count": 1, "score": 1, "last_activity_date": 1508972793, "creation_date": 1508971362, "question_id": 46943126, "link": "https://stackoverflow.com/questions/46943126/creating-a-dictionary-from-csv-using-python", "title": "Creating a dictionary from CSV using python", "body": "<p>I have a CSV of the format</p>\n\n<p><a href=\"https://i.stack.imgur.com/KqVTq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KqVTq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>where A, B &amp; C are the headers.</p>\n\n<p>How do I pythonically convert this CSV into a dictionary of the following form</p>\n\n<pre><code>{'A': '1', 'B': '4','C': '7'},\n{'A': '2', 'B': '5','C': '8'},\n{'A': '3', 'B': '6','C': '9'}\n</code></pre>\n\n<p>So far I'm trying the following code:</p>\n\n<pre><code>import csv\nreader = csv.DictReader(open('file.csv'))\n\nresult = {}\nfor row in reader:\n    for column, value in row.items():\n        result.setdefault(column, []).append(value)\n</code></pre>\n\n<p>This is not giving me the intended output. Any suggestions?</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1508971451, "post_id": 46943100, "comment_id": 80833749, "body": "A syntax error is often above the marked line."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 8834352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WnKAR.png?s=128&g=1", "display_name": "Slashlinux", "link": "https://stackoverflow.com/users/8834352/slashlinux"}, "edited": false, "score": 0, "creation_date": 1509026845, "post_id": 46944068, "comment_id": 80860296, "body": "Hi there,  It works, thank you so much for your help, I have python 2.7 install on my server."}, {"owner": {"reputation": 47, "user_id": 8834352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WnKAR.png?s=128&g=1", "display_name": "Slashlinux", "link": "https://stackoverflow.com/users/8834352/slashlinux"}, "edited": false, "score": 0, "creation_date": 1509031686, "post_id": 46944068, "comment_id": 80863860, "body": "if I have &quot;03:30:20&quot; instead of &quot;Down&quot; status how can I do to print red color?"}, {"owner": {"reputation": 47, "user_id": 8834352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WnKAR.png?s=128&g=1", "display_name": "Slashlinux", "link": "https://stackoverflow.com/users/8834352/slashlinux"}, "edited": false, "score": 0, "creation_date": 1509032503, "post_id": 46944068, "comment_id": 80864359, "body": "Nevermind, I got it : if (re.match(&#39;[0-9]{1,2}:\\d[0-9]{1,2}:\\d[0-9]{1,2}&#39;,new_line.sp&zwnj;&#8203;lit()[4])):"}], "tags": [], "owner": {"reputation": 347, "user_id": 8667016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3612318f34c7ac23fb49b50735308b?s=128&d=identicon&r=PG&f=1", "display_name": "Felipe D.", "link": "https://stackoverflow.com/users/8667016/felipe-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1508979376, "last_edit_date": 1508979376, "creation_date": 1508978350, "answer_id": 46944068, "question_id": 46943100, "link": "https://stackoverflow.com/questions/46943100/match-find-row-and-color-all-line-with-python/46944068#46944068", "title": "Match/find row and color all line with python", "body": "<p>If you're using Python 3, this should work:</p>\n\n<pre><code>filename = open('output_cisco')\nfor test in filename:\n    new_line = test.replace(\"\\n\",\"\")\n    if (re.match('[\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}]',new_line)):\n        print(new_line.split()[0], end=\" \")\n        print(new_line.split()[1], end=\" \")\n        print(new_line.split()[2], end=\" \")\n        print(new_line.split()[3], end=\" \")\n        if new_line.split()[4] == 'Down':\n            print(\"\\033[0;31;47m {} \".format(new_line.split()[4]), end=\"\")\n        else:\n            print(\"\\033[0;32;47m {} \".format(new_line.split()[4]), end=\"\")\n        print('\\033[0;0;0m')\n</code></pre>\n\n<p>If you're using Python 2, this other version should work:</p>\n\n<pre><code>filename = open('output_cisco')\nfor test in filename:\n    new_line = test.replace(\"\\n\",\"\")\n    if (re.match('[\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}]',new_line)):\n        print(new_line.split()[0]),\n        print(new_line.split()[1]),\n        print(new_line.split()[2]),\n        print(new_line.split()[3]),\n        if new_line.split()[4] == 'Down':\n            print(\"\\033[0;31;47m %s\") % (new_line.split()[4]),\n        else:\n            print(\"\\033[0;32;47m %s\") % (new_line.split()[4]),\n        print('\\033[0;0;0m')\n</code></pre>\n\n<p>Also, you might need to tweak the last print statement a bit to get the colors back to \"normal\".</p>\n"}], "owner": {"reputation": 47, "user_id": 8834352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WnKAR.png?s=128&g=1", "display_name": "Slashlinux", "link": "https://stackoverflow.com/users/8834352/slashlinux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508979376, "creation_date": 1508971210, "question_id": 46943100, "link": "https://stackoverflow.com/questions/46943100/match-find-row-and-color-all-line-with-python", "title": "Match/find row and color all line with python", "body": "<p>I am trying to parse csv output and find the row \"Down\" and change that line in red.I am n00b in Python and  I want to keep just Python code and not mix up with bash, awk or something else.I will provide you below my entire \"project\".</p>\n\n<p><strong>1. My csv file - output_cisco</strong> looks like:</p>\n\n<pre><code>198.22.21.2  interface Ethernet 47 Up 0\n198.22.21.44 interface Ethernet 48 Up 0\n198.22.21.21 interface Ethernet 49 Up 0\n198.22.21.23 interface Ethernet 50 Up 0\n198.22.21.22 interface Ethernet 51 Up 0\n198.22.21.33 interface Ethernet 52 Down 0\n198.22.21.17 interface Ethernet 55 Up 0\n198.22.21.19 interface Ethernet 56 Up 0\n198.22.21.20 interface Ethernet 57 Up 0\n198.22.21.45 interface Ethernet 60 Up 0\n198.22.21.66 interface Ethernet 61 Down 0\n198.22.21.27 interface Ethernet 72 Up 0\n198.22.21.26 interface Ethernet 73 Up 0\n</code></pre>\n\n<ol start=\"2\">\n<li><strong>My simple python code</strong> looks like:</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>#!/bin/env python\r\nimport re\r\nimport csv\r\n\r\nfilename = open('output_cisco')\r\nfor test in filename:\r\n        new_line = test.replace(\"\\n\",\"\")\r\n        if (re.match('[\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}]',new_line)):\r\n                print new_line.split()[0], \\\r\n                      new_line.split()[1], \\\r\n                      new_line.split()[2], \\\r\n                      new_line.split()[3], \\\r\n                      if new_line.split()[4] == Down:\r\n                                print(\"\\033[0;31;47m %s \") % (new_line.split()[4])\r\n                      else:\r\n                                print(\"\\033[0;32;47m %s\") % (new_line.split()[4])</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But I am stuck into red color condition, I tried many solutions and paths and still not working, and I have the following error:</p>\n\n<pre><code>root@vagrant-ubuntu-trusty-64:/home/python# python python_parsing.py\n  File \"python_parsing.py\", line 13\n    if new_line.split()[4] == Down:\n     ^\nSyntaxError: invalid syntax\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 8492663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f104501432eaba72d7657e29afd2fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Permittivity", "link": "https://stackoverflow.com/users/8492663/permittivity"}, "edited": false, "score": 0, "creation_date": 1508975577, "post_id": 46943338, "comment_id": 80834929, "body": "If I&#39;m understanding what you&#39;re saying correctly, you&#39;re saying that it isn&#39;t drawing a point and it just looks like a point from far away. However, I&#39;m fairly certain this isn&#39;t the case. Attached is a figure of many vectors all of length 1 unit with the axis scaling I was using before. However, the ones closer to vertical are dots and the others are vectors. ( I accidentally posted this before learning how to add images so please bear with me)"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 69, "user_id": 8492663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f104501432eaba72d7657e29afd2fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Permittivity", "link": "https://stackoverflow.com/users/8492663/permittivity"}, "edited": false, "score": 0, "creation_date": 1508975987, "post_id": 46943338, "comment_id": 80835032, "body": "@JustinRoberts it&#39;s OK, you can&#39;t directly insert pictures into comments. Open the editor for your question, insert the image, copy the link, discard your edit, and post the image link here instead. And yes, the arrow probably becomes a small dot, but that&#39;s because matplotlib probably doesn&#39;t do arbitrary-precision arithmetic under the hood, and rounds values to some small precision before plotting."}, {"owner": {"reputation": 69, "user_id": 8492663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f104501432eaba72d7657e29afd2fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Permittivity", "link": "https://stackoverflow.com/users/8492663/permittivity"}, "edited": false, "score": 0, "creation_date": 1508975988, "post_id": 46943338, "comment_id": 80835033, "body": "Evidently I cannot edit my comment after 5 minutes. A link is attached to this post with an image of the figure I previously referenced. My apologies if there is a standard for submitting images that I have missed. <a href=\"https://imgur.com/a/Nzcsh\" rel=\"nofollow noreferrer\">imgur.com/a/Nzcsh</a> It&#39;s somewhat &quot;zoomed out&quot; but you can see from that image that some vectors appear as actual vectors while others appear as larger &quot;dots&quot;. Thank you by the way for the help. I&#39;ve been stumped by this for quite awhile."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 69, "user_id": 8492663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f104501432eaba72d7657e29afd2fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Permittivity", "link": "https://stackoverflow.com/users/8492663/permittivity"}, "edited": false, "score": 0, "creation_date": 1508976055, "post_id": 46943338, "comment_id": 80835054, "body": "@JustinRoberts I think you should add your figure to your question, since this clearly describes your issue (which your current question doesn&#39;t, since it contains only a single vector). Edit: are you positive that all the vectors are of unit length?"}, {"owner": {"reputation": 69, "user_id": 8492663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f104501432eaba72d7657e29afd2fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Permittivity", "link": "https://stackoverflow.com/users/8492663/permittivity"}, "edited": false, "score": 0, "creation_date": 1508976353, "post_id": 46943338, "comment_id": 80835139, "body": "Although for some reason they appear to be slightly different length in the figure, I am fairly certain that they are the same length as I have printed the lists I am using for the coordinates to the console to check."}, {"owner": {"reputation": 69, "user_id": 8492663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f104501432eaba72d7657e29afd2fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Permittivity", "link": "https://stackoverflow.com/users/8492663/permittivity"}, "edited": false, "score": 0, "creation_date": 1508976859, "post_id": 46943338, "comment_id": 80835260, "body": "I just iterated through all of my data and the maximum deviation in length is about 2.3%. However, it is just from a small, nonzero z-component which i neglected for purposes of simplicity."}, {"owner": {"reputation": 69, "user_id": 8492663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f104501432eaba72d7657e29afd2fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Permittivity", "link": "https://stackoverflow.com/users/8492663/permittivity"}, "edited": false, "score": 1, "creation_date": 1508977850, "post_id": 46943338, "comment_id": 80835468, "body": "It worked! Thank you again for taking the time to help me with this. I&#39;m not sure I would have ever guessed to do that."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 69, "user_id": 8492663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f104501432eaba72d7657e29afd2fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Permittivity", "link": "https://stackoverflow.com/users/8492663/permittivity"}, "edited": false, "score": 0, "creation_date": 1508978019, "post_id": 46943338, "comment_id": 80835511, "body": "@JustinRoberts I&#39;m glad it did:) Since this is your first question on the site: in case you find the answer satisfactory to your question, please consider <a href=\"https://stackoverflow.com/help/accepted-answer\">marking it as accepted</a>. This will indicate that the question no longer needs an answer, and it will also give some reputation to the both of us."}], "tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": true, "score": 1, "last_activity_date": 1508977400, "last_edit_date": 1508977400, "creation_date": 1508972678, "answer_id": 46943338, "question_id": 46943073, "link": "https://stackoverflow.com/questions/46943073/plt-quiver-plotting-dots-instead-of-vectors-in-some-places/46943338#46943338", "title": "plt.quiver() plotting dots instead of vectors in some places", "body": "<p>There are two components to your problem, and both have to do with how you chose to represent your data.</p>\n\n<p>The default behaviour of <code>quiver</code> is to auto-scale your vectors to a reasonable size for a pretty result. <a href=\"https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.quiver.html#matplotlib.axes.Axes.quiver\" rel=\"nofollow noreferrer\">The documentation</a> says as much:</p>\n\n<blockquote>\n  <p>The default settings auto-scales the length of the arrows to a reasonable size. To change this behavior see the <code>scale</code> and <code>scale_units</code> kwargs.</p>\n</blockquote>\n\n<p>And then</p>\n\n<blockquote>\n  <p>scale_units : [ \u2018width\u2019 | \u2018height\u2019 | \u2018dots\u2019 | \u2018inches\u2019 | \u2018x\u2019 | \u2018y\u2019 | \u2018xy\u2019 ], None, optional</p>\n  \n  <p>[...]</p>\n  \n  <p>If scale_units is \u2018x\u2019 then the vector will be 0.5 x-axis units. To plot vectors in the x-y plane, with u and v having the same units as x and y, use angles='xy', scale_units='xy', scale=1.</p>\n</blockquote>\n\n<p>So in your case, you're telling <code>quiver</code> to plot the arrow in <code>xy</code> data units. Since your arrow is of unit length, it is drawn as a 1-length arrow. Your data limits, on the other hand, are huge: 40 units wide, 150 units tall. On this scale a length-1 arrow is just too small, and matplotlib decides to truncate the arrow and plot a dot instead.</p>\n\n<p>If you zoom in, as you said yourself, the arrow appears. If we remove the parameters that turn your arrow into a toothpick, it turns out that the arrow you plot is perfectly fine if you look close enough (not the axes):</p>\n\n<p><a href=\"https://i.stack.imgur.com/IQvnF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IQvnF.png\" alt=\"result: single arrow zoomed in\"></a></p>\n\n<p>Now, the question is why this behaviour depends on the orientation of your vectors. The reason for this behaviour is that the x and y limits are different in your plot, so a unit-length horizontal line and a unit-length vertical line contain a different number of pixels (since your data is scaled in <em>xy</em> units). This implies that while horizontal arrows are long enough to be represented accurately, vertical ones become so short that matplotlib decides to truncate them to dots, which shouldn't be <em>too</em> obvious with the default arrow format, but it is pretty bad with your custom arrows. Your use case is such that the rendering cut-off used by matplotlib happens to fall between the length of your horizontal vectors and the length of your vertical ones.</p>\n\n<p>You have two straightforward choices. One is to increase the scaling for your arrows to the point where every orientation is represented accurately. This would probably be the solution to Y in a small XY problem here. What you should <em>really</em> do, is represent your data accurately. Since you're plotting your vector field in <em>xy</em> data units, you presumably want your <code>x</code> and <code>y</code> axes to have equal sizes, and you want your arrows to have visually unit length (i.e. a length that's independent from their orientation).</p>\n\n<p>So I suggest that you force your plot to have equal units on both axes, at the cost of ending up with a rectangular figure:</p>\n\n<pre><code>fig = plt.figure()\nax = fig.add_subplot(111)\nax.axis('scaled') # &lt;-- key addition\nax.axis([-24, 24, 0, 150])\nax.quiver([-19.1038], [96.5851], [-19.1001+19.1038], [97.5832-96.5851],\n          angles='xy', scale_units='xy', scale=1, headwidth=1,\n          headlength=10, minshaft=5)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/SPzx6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SPzx6.png\" alt=\"result with equal axes scaling\"></a></p>\n\n<p>Trust me: there's a tiny arrow in there. The main point is that this way either all of your vectors will be dots (if you're zoomed out too much), or neither of them will. Then you have a sane situation, and can choose the overall scaling of your vectors accordingly.</p>\n"}], "owner": {"reputation": 69, "user_id": 8492663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f104501432eaba72d7657e29afd2fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Permittivity", "link": "https://stackoverflow.com/users/8492663/permittivity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1334, "favorite_count": 0, "accepted_answer_id": 46943338, "answer_count": 1, "score": 1, "last_activity_date": 1508977400, "creation_date": 1508971000, "last_edit_date": 1508976431, "question_id": 46943073, "link": "https://stackoverflow.com/questions/46943073/plt-quiver-plotting-dots-instead-of-vectors-in-some-places", "title": "plt.quiver() plotting dots instead of vectors in some places", "body": "<p>I'm currently analyzing some data by creating a vector plot. All the vectors have length 1 unit. Most show up fine, but certain vectors such as:</p>\n\n<pre><code>fig = plt.figure()\nplt.axes(xlim=(-24, 24), ylim=(0, 150))\nplt.quiver([-19.1038], [96.5851], [-19.1001+19.1038], [97.5832-96.5851],angles='xy', scale_units='xy', scale=1, headwidth=1, headlength=10, minshaft=5)\nplt.show()\n</code></pre>\n\n<p>show up as a point. (Please note that I am not drawing my vectors individually like this; I only drew this particular one to try to debug my code.) This appears to only be occurring for nearly vertical vectors. I've also noticed that this issue is resolved if I \"zoom in\" on the vector (i.e. change the axis scaling). However, I cannot do that as many other vectors in my plot will be outside of the domain/range. Is there another way to fix this? </p>\n\n<p>The problem is demonstrated in the below figure:</p>\n\n<p><a href=\"https://i.imgur.com/78SsGhS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/78SsGhS.png\" alt=\"demonstration of the problem: only vertical arrows are rendered as dots\"></a></p>\n"}, {"tags": ["python", "function", "dataframe", "null", "apply"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1508971237, "post_id": 46943072, "comment_id": 80833677, "body": "<code>nan</code> is still a value"}, {"owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "edited": false, "score": 1, "creation_date": 1508972079, "post_id": 46943072, "comment_id": 80833936, "body": "Why not simply <code>proc</code> instead of <code>lambda x: proc(x)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2661, "user_id": 3768495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/085b9585d2608c6356c01e6342ad43be?s=128&d=identicon&r=PG&f=1", "display_name": "user3768495", "link": "https://stackoverflow.com/users/3768495/user3768495"}, "edited": false, "score": 0, "creation_date": 1508972748, "post_id": 46943218, "comment_id": 80834145, "body": "Thanks @Mokshyam. It seems that the <code>apply</code> is not carried out as what I have (mistakenly) understood. I thought for each <code>x</code> in <code>df2[&#39;a&#39;]</code>, the function returns three lists, and I can just assign them to the three new columns - so no matter how many elements are in &#39;df2[&#39;a&#39;]`, the code could work. Apparently that is not the case....But how can I do that?"}], "tags": [], "owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "is_accepted": true, "score": 2, "last_activity_date": 1508977483, "last_edit_date": 1508977483, "creation_date": 1508971890, "answer_id": 46943218, "question_id": 46943072, "link": "https://stackoverflow.com/questions/46943072/python-too-many-to-unpack-when-unpacking-a-tuple-returned-by-a-function/46943218#46943218", "title": "python &quot;too many to unpack&quot; when unpacking a tuple returned by a function", "body": "<ol>\n<li><p>Use <code>zip</code> to pack the values:</p>\n\n<pre><code>def proc(x):\n    return ([x,1,2], [x+1,3,4], [x+2,5,6])\n\ndf2 = pd.DataFrame({'a':[1,2,4, float('nan')]})\ndf2['new1'], df2['new2'], df2['new3'] = zip(*df2['a'].apply(proc))\n\n     a      new1         new2        new3\n  0 1.0 [1.0, 1, 2] [2.0, 3, 4] [3.0, 5, 6]\n  1 2.0 [2.0, 1, 2] [3.0, 3, 4] [4.0, 5, 6]\n  2 4.0 [4.0, 1, 2] [5.0, 3, 4] [6.0, 5, 6]\n  3 NaN [nan, 1, 2] [nan, 3, 4] [nan, 5, 6]\n</code></pre></li>\n<li><p>Use the right number of list elements to unpack and equal number to return in proc:</p>\n\n<pre><code>def proc(x):\n    return ([x,1,2], [x+1,3,4], [x+2,5,6])\n\ndf2 = pd.DataFrame({'a':[1,2,4, float('nan')]})\ndf2['new1'], df2['new2'], df2['new3'] = zip(*df2['a'].apply(proc))\n\n     a  new1         new2        new3        new4\n0   1.0 [1.0, 1, 2] [2.0, 1, 2] [4.0, 1, 2] [nan, 1, 2]\n1   2.0 [2.0, 3, 4] [3.0, 3, 4] [5.0, 3, 4] [nan, 3, 4]\n2   4.0 [3.0, 5, 6] [4.0, 5, 6] [6.0, 5, 6] [nan, 5, 6]\n3   NaN [4.0, 7, 8] [5.0, 7, 8] [7.0, 7, 8] [nan, 7, 8]\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 2661, "user_id": 3768495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/085b9585d2608c6356c01e6342ad43be?s=128&d=identicon&r=PG&f=1", "display_name": "user3768495", "link": "https://stackoverflow.com/users/3768495/user3768495"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 46943218, "answer_count": 1, "score": -1, "last_activity_date": 1508977483, "creation_date": 1508970999, "question_id": 46943072, "link": "https://stackoverflow.com/questions/46943072/python-too-many-to-unpack-when-unpacking-a-tuple-returned-by-a-function", "title": "python &quot;too many to unpack&quot; when unpacking a tuple returned by a function", "body": "<p>I was trying to apply a function to one of the columns in a dataframe, and the function returns three items. For some cases, it works but for other cases it doesn't work. Then I realized it's probably because of the existent of the NULL values. So here's the simplified version of my code:</p>\n\n<pre><code>import pandas as pd\ndef proc(x):\n    return ([x,1,2], [x+1,3,4], [x+2,5,6])\n\n## This works fine.\ndf = pd.DataFrame({'a':[1,2,3]})\ndf['new1'],df['new2'], df['new3'] = df.a.apply(lambda x:proc(x))\n\n## But this throws the 'too many values to unpack' error.\ndf2 = pd.DataFrame({'a':[1,2,3, float('nan')]})\ndf2['new1'],df2['new2'], df2['new3'] = df2.a.apply(lambda x:proc(x))\n</code></pre>\n\n<p>Why adding the float('nan') into the column of <code>df['a']</code> can cause this error?</p>\n"}, {"tags": ["python", "python-3.x", "google-earth-engine", "landsat"], "answers": [{"comments": [{"owner": {"reputation": 7076, "user_id": 1610428, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e6gnk.jpg?s=128&g=1", "display_name": "krishnab", "link": "https://stackoverflow.com/users/1610428/krishnab"}, "edited": false, "score": 0, "creation_date": 1508988593, "post_id": 46945368, "comment_id": 80837968, "body": "Yeah, I saw a mention about the <code>iterate</code> method. I will give that a shot. Thanks so much for the suggestion."}, {"owner": {"reputation": 777, "user_id": 8304172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2np0-4VbRAg/AAAAAAAAAAI/AAAAAAAAAN4/SwtM6nn_-_Y/photo.jpg?sz=128", "display_name": "Nicholas Clinton", "link": "https://stackoverflow.com/users/8304172/nicholas-clinton"}, "edited": false, "score": 0, "creation_date": 1509041642, "post_id": 46945368, "comment_id": 80869638, "body": "You should avoid this method for two reasons.  One, it&#39;s good practice to avoid mixing client (<code>getDownloadURL()</code> ) and server (<code>iterate()</code>) functions (<a href=\"https://developers.google.com/earth-engine/debugging#avoid-mixing-client-functions-and-objects-with-server-functions-and-objects\" rel=\"nofollow noreferrer\">reference</a>).  Two, <code>getDownloadURL()</code> is flaky and sometimes results in corrupted downloads."}, {"owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "reply_to_user": {"reputation": 777, "user_id": 8304172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2np0-4VbRAg/AAAAAAAAAAI/AAAAAAAAAN4/SwtM6nn_-_Y/photo.jpg?sz=128", "display_name": "Nicholas Clinton", "link": "https://stackoverflow.com/users/8304172/nicholas-clinton"}, "edited": false, "score": 0, "creation_date": 1509070734, "post_id": 46945368, "comment_id": 80880502, "body": "@NicholasClinton: thanks. According to your reference <code>getDownloadURL()</code> is a <i>server</i> function as it is a method on an <code>ee.Image()</code> object. Did you mean the Python list that is being passed to <code>iterate()</code> and the call to <code>list.append()</code>?"}, {"owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "reply_to_user": {"reputation": 777, "user_id": 8304172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2np0-4VbRAg/AAAAAAAAAAI/AAAAAAAAAN4/SwtM6nn_-_Y/photo.jpg?sz=128", "display_name": "Nicholas Clinton", "link": "https://stackoverflow.com/users/8304172/nicholas-clinton"}, "edited": false, "score": 0, "creation_date": 1509070861, "post_id": 46945368, "comment_id": 80880528, "body": "@NicholasClinton: regarding your second point, the API and its functionality is experimental and subject to change. Can we assume that the flakiness of that method might be due to that?"}, {"owner": {"reputation": 777, "user_id": 8304172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2np0-4VbRAg/AAAAAAAAAAI/AAAAAAAAAN4/SwtM6nn_-_Y/photo.jpg?sz=128", "display_name": "Nicholas Clinton", "link": "https://stackoverflow.com/users/8304172/nicholas-clinton"}, "edited": false, "score": 1, "creation_date": 1509132598, "post_id": 46945368, "comment_id": 80911733, "body": "The best explanation of <code>getDownloadURL()</code> flakiness is <a href=\"https://groups.google.com/d/msg/google-earth-engine-developers/zoAViiTCrGk/Qo9yovkRCAAJ\" rel=\"nofollow noreferrer\">here</a>.  Note that <code>getDownloadURL()</code> <a href=\"https://github.com/google/earthengine-api/blob/e89ddd5382d81971c8f1ddfbbfce9a4552cd5953/python/ee/image.py#L133\" rel=\"nofollow noreferrer\">sends a request to the server</a> while &#39;iterate()` <a href=\"https://github.com/google/earthengine-api/blob/645969797a997dc87591752b8b12d89b958b171f/python/ee/collection.py#L224\" rel=\"nofollow noreferrer\">runs on the server</a>"}], "tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": false, "score": 0, "last_activity_date": 1509097572, "last_edit_date": 1509097572, "creation_date": 1508988195, "answer_id": 46945368, "question_id": 46943061, "link": "https://stackoverflow.com/questions/46943061/how-to-iterate-over-and-download-each-image-in-an-image-collection-from-the-goog/46945368#46945368", "title": "How to iterate over and download each image in an image collection from the Google Earth Engine python api", "body": "<p>You could possibly use <a href=\"https://developers.google.com/earth-engine/ic_iterating\" rel=\"nofollow noreferrer\"><code>ee.ImageCollection.iterate()</code></a> with a function that gets the image and adds it to a list.</p>\n\n<pre><code>import ee\n\ndef accumluate_images(image, images):\n    images.append(image)\n    return images\n\nfor img in col.iterate(accumulate_images, []):\n    url = img.getDownloadURL(dict(scale=30, crs='EPSG:4326', region=region))\n</code></pre>\n\n<p>Unfortunately I am not able to test this code as I do not have access to the API, but it might help you arrive at a solution.</p>\n"}, {"comments": [{"owner": {"reputation": 7076, "user_id": 1610428, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e6gnk.jpg?s=128&g=1", "display_name": "krishnab", "link": "https://stackoverflow.com/users/1610428/krishnab"}, "edited": false, "score": 0, "creation_date": 1509043610, "post_id": 46961005, "comment_id": 80870786, "body": "Good call. Yeah, I will take a look at this method. I had not seen it before."}], "tags": [], "owner": {"reputation": 777, "user_id": 8304172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2np0-4VbRAg/AAAAAAAAAAI/AAAAAAAAAN4/SwtM6nn_-_Y/photo.jpg?sz=128", "display_name": "Nicholas Clinton", "link": "https://stackoverflow.com/users/8304172/nicholas-clinton"}, "is_accepted": false, "score": 7, "last_activity_date": 1509041133, "creation_date": 1509041133, "answer_id": 46961005, "question_id": 46943061, "link": "https://stackoverflow.com/questions/46943061/how-to-iterate-over-and-download-each-image-in-an-image-collection-from-the-goog/46961005#46961005", "title": "How to iterate over and download each image in an image collection from the Google Earth Engine python api", "body": "<p>It's a good idea to use <a href=\"https://github.com/google/earthengine-api/blob/master/python/ee/batch.py#L130\" rel=\"noreferrer\"><code>ee.batch.Export</code></a> for this.  Also, it's good practice to avoid mixing client and server functions (<a href=\"https://developers.google.com/earth-engine/debugging#avoid-mixing-client-functions-and-objects-with-server-functions-and-objects\" rel=\"noreferrer\">reference</a>).  For that reason, a for-loop can be used, since <code>Export</code> is a client function.  Here's a simple example to get you started:</p>\n\n<pre><code>import ee\nee.Initialize()\n\nrectangle = ee.Geometry.Rectangle([-1, -1, 1, 1])\nsillyCollection = ee.ImageCollection([ee.Image(1), ee.Image(2), ee.Image(3)])\n\n# This is OK for small collections\ncollectionList = sillyCollection.toList(sillyCollection.size())\ncollectionSize = collectionList.size().getInfo()\nfor i in xrange(collectionSize):\n    ee.batch.Export.image.toDrive(\n        image = ee.Image(collectionList.get(i)).clip(rectangle), \n        fileNamePrefix = 'foo' + str(i + 1), \n        dimensions = '128x128').start()\n</code></pre>\n\n<p>Note that converting a collection to a list in this manner is also dangerous for large collections (<a href=\"https://developers.google.com/earth-engine/debugging#avoid-converting-type-unnecessarily\" rel=\"noreferrer\">reference</a>).  However, this is probably the most scalable method if you really need to download.</p>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 10117932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QlIcF.png?s=128&g=1", "display_name": "csaybar", "link": "https://stackoverflow.com/users/10117932/csaybar"}, "is_accepted": false, "score": 1, "last_activity_date": 1541796538, "creation_date": 1541796538, "answer_id": 53233065, "question_id": 46943061, "link": "https://stackoverflow.com/questions/46943061/how-to-iterate-over-and-download-each-image-in-an-image-collection-from-the-goog/53233065#53233065", "title": "How to iterate over and download each image in an image collection from the Google Earth Engine python api", "body": "<p>Here is my solution:</p>\n\n<pre><code>import ee\nee.Initialize()\npt = ee.Geometry.Point([-2.40986111110000012, 26.76033333330000019])\nregion = pt.buffer(10)\n\ncol = ee.ImageCollection('LANDSAT/LC08/C01/T1')\\\n        .filterDate('2015-01-01','2015-04-30')\\\n        .filterBounds(region)\n\nbands = ['B4','B5'] #Change it!\n\ndef accumulate(image,img):\n  name_image = image.get('system:index')\n  image = image.select([0],[name_image])\n  cumm = ee.Image(img).addBands(image)\n  return cumm\n\nfor band in bands:\n  col_band = col.map(lambda img: img.select(band)\\\n                               .set('system:time_start', img.get('system:time_start'))\\\n                               .set('system:index', img.get('system:index')))\n  #  ImageCollection to List           \n  col_list = col_band.toList(col_band.size())\n\n  #  Define the initial value for iterate.\n  base = ee.Image(col_list.get(0))\n  base_name = base.get('system:index')\n  base = base.select([0], [base_name])\n\n  #  Eliminate the image 'base'.\n  new_col = ee.ImageCollection(col_list.splice(0,1))\n\n  img_cummulative = ee.Image(new_col.iterate(accumulate,base))\n\n  task = ee.batch.Export.image.toDrive(\n      image = img_cummulative.clip(region),\n      folder = 'landsat',\n      fileNamePrefix = band,\n      scale = 30).start()  \n\n  print('Export Image '+ band+ ' was submitted, please wait ...')\n\nimg_cummulative.bandNames().getInfo()\n</code></pre>\n\n<p>A reproducible example can you found it here: <a href=\"https://colab.research.google.com/drive/1Nv8-l20l82nIQ946WR1iOkr-4b_QhISu\" rel=\"nofollow noreferrer\">https://colab.research.google.com/drive/1Nv8-l20l82nIQ946WR1iOkr-4b_QhISu</a></p>\n"}], "owner": {"reputation": 7076, "user_id": 1610428, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e6gnk.jpg?s=128&g=1", "display_name": "krishnab", "link": "https://stackoverflow.com/users/1610428/krishnab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7276, "favorite_count": 2, "answer_count": 3, "score": 3, "last_activity_date": 1541796538, "creation_date": 1508970891, "question_id": 46943061, "link": "https://stackoverflow.com/questions/46943061/how-to-iterate-over-and-download-each-image-in-an-image-collection-from-the-goog", "title": "How to iterate over and download each image in an image collection from the Google Earth Engine python api", "body": "<p>I am new to google earth engine and was trying to understand how to use the Google Earth Engine python api. I can create an image collection, but apparently the <code>getdownloadurl()</code> method operates only on individual images. So I am trying to understand how to iterate over and download all of the images in the collection.</p>\n\n<p>Here is my basic code. I broke it out in great detail for some other work I am doing. </p>\n\n<pre><code>import ee\nee.Initialize()\ncol = ee.ImageCollection('LANDSAT/LC08/C01/T1')\ncol.filterDate('1/1/2015', '4/30/2015')\npt = ee.Geometry.Point([-2.40986111110000012, 26.76033333330000019])\nbuff = pt.buffer(300)\nregion = ee.Feature.bounds(buff)\ncol.filterBounds(region)\n</code></pre>\n\n<p>So I pulled the Landsat collection, filtered by date and a buffer geometry. So I should have something like 7-8 images in the collection (with all bands). </p>\n\n<p>However, I could not seem to get iteration to work over the collection. </p>\n\n<p>for example:</p>\n\n<pre><code>for i in col:\n    print(i)\n</code></pre>\n\n<p>The error indicates <code>TypeError: 'ImageCollection' object is not iterable</code></p>\n\n<p>So if the collection is not iterable, how can I access the individual images?</p>\n\n<p>Once I have an image, I should be able to use the usual </p>\n\n<pre><code>path = col[i].getDownloadUrl({\n    'scale': 30,\n    'crs': 'EPSG:4326',\n    'region': region\n})\n</code></pre>\n"}, {"tags": ["python", "list", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 2337, "user_id": 8399399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab615d520e7a74d4faf66f663ce66ec0?s=128&d=identicon&r=PG&f=1", "display_name": "SP SP", "link": "https://stackoverflow.com/users/8399399/sp-sp"}, "is_accepted": true, "score": 1, "last_activity_date": 1508972812, "creation_date": 1508972812, "answer_id": 46943361, "question_id": 46943051, "link": "https://stackoverflow.com/questions/46943051/how-to-categorise-a-list-by-elements-in-python/46943361#46943361", "title": "How to categorise a list by elements in Python", "body": "<p>try this:</p>\n\n<pre><code>lst = ['1,2,3', '1,2,3', '1,3,2', '2,1,3', '2,3,1']\ndict = {'A': [], 'B': [], 'C': []}\nfor item in lst:\n   l = item.replace(',', '')\n   if l[0] == '1':\n      dict['A'].append(item)\n   elif l[1] == '1':\n      dict['B'].append(item)\n   elif l[2] == '1':\n      dict['C'].append(item)\nprint(dict)\n</code></pre>\n\n<p>I hope this helps !</p>\n"}, {"tags": [], "owner": {"reputation": 102, "user_id": 3987895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad42b52ba79ce5641de33fa24e25b08b?s=128&d=identicon&r=PG", "display_name": "gblomqvist", "link": "https://stackoverflow.com/users/3987895/gblomqvist"}, "is_accepted": false, "score": 0, "last_activity_date": 1508973880, "last_edit_date": 1508973880, "creation_date": 1508973418, "answer_id": 46943457, "question_id": 46943051, "link": "https://stackoverflow.com/questions/46943051/how-to-categorise-a-list-by-elements-in-python/46943457#46943457", "title": "How to categorise a list by elements in Python", "body": "<p>I think you meant to use <code>item.split(',')</code> instead of <code>item.strip(',')</code> which only removes any commas at the start and end of the string <code>item</code>. <code>item.split(',')</code> splits the string <code>item</code> into a list using a comma as the delimiter. Also, you need to save the result of the method call, none of the aforementioned method calls modifies the string.</p>\n\n<p>What you probably want to do is something like:</p>\n\n<pre><code>lst = ['1,2,3', '1,2,3', '1,3,2', '2,1,3', '2,3,1']\ndict = {'A': [], 'B': [], 'C': []}\n\nfor item in lst:\n    item_arr = item.split(',')\n    key = 'ABC'[item_arr.index('1')]\n    dict[key].append(item)\n\nprint(dict)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "is_accepted": false, "score": 0, "last_activity_date": 1508974029, "creation_date": 1508974029, "answer_id": 46943539, "question_id": 46943051, "link": "https://stackoverflow.com/questions/46943051/how-to-categorise-a-list-by-elements-in-python/46943539#46943539", "title": "How to categorise a list by elements in Python", "body": "<p>It's less efficient and not very readable but here is a one-liner using dictionary and list comprehensions:</p>\n\n<pre><code>lst = ['1,2,3', '1,2,3', '1,3,2', '2,1,3', '2,3,1']\nkeys = ['A', 'B', 'C']\ndic = {key: [x for x in lst if x.split(',')[j] == '1'] for j, key in enumerate(keys)}\n# {'A': ['1,2,3', '1,2,3', '1,3,2'], 'B': ['2,1,3'], 'C': ['2,3,1']}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8834356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725286be43b891950661c07d7b9dd901?s=128&d=identicon&r=PG&f=1", "display_name": "R. Hast", "link": "https://stackoverflow.com/users/8834356/r-hast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 0, "accepted_answer_id": 46943361, "answer_count": 3, "score": 0, "last_activity_date": 1508977344, "creation_date": 1508970831, "last_edit_date": 1508977344, "question_id": 46943051, "link": "https://stackoverflow.com/questions/46943051/how-to-categorise-a-list-by-elements-in-python", "title": "How to categorise a list by elements in Python", "body": "<p>Say I have a list:</p>\n\n<pre><code>['1,2,3', '1,2,3', '1,3,2', '2,1,3', '2,3,1']\n</code></pre>\n\n<p>How can I categorise the items into specific keys of a dictionary according to where a specific number is in an item? If 1 is the first number, the item should be added to the value of the first key, if it's the second, it should be added to the value of the second etc.</p>\n\n<p>So if I have a dictionary with keys A, B, C:</p>\n\n<pre><code>{'A': [], 'B': [], 'C': []}\n</code></pre>\n\n<p>The resulting dictionary should look like:</p>\n\n<pre><code>{'A': ['1,2,3', '1,2,3', '1,3,2'], 'B': ['2,1,3'], 'C':['2,3,1']\n</code></pre>\n\n<p>At the moment I have the following code: </p>\n\n<pre><code>lst = ['1,2,3', '1,2,3', '1,3,2', '2,1,3', '2,3,1']\ndict = {'A': [], 'B': [], 'C': []}\nfor item in list\n    item.strip(',')\n    if item[0] == 1:\n       dict['A'].append(item)\n    elif item[1] == 1:\n       dict['B'].append(item)\n    elif item[2] == 1:\n       dict['C'].append(item)\nprint(dict)\n</code></pre>\n\n<p>However, this just returns the original dictionary.</p>\n"}, {"tags": ["python", "sql", "apache-spark", "databricks"], "comments": [{"owner": {"reputation": 8656, "user_id": 7224597, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gzrFM.jpg?s=128&g=1", "display_name": "philantrovert", "link": "https://stackoverflow.com/users/7224597/philantrovert"}, "edited": false, "score": 0, "creation_date": 1509000704, "post_id": 46943015, "comment_id": 80842324, "body": "Use <code>where ZIPCODE IN (94122, 10583, 91411)</code> in your query to make it more readable and easier to change."}], "answers": [{"tags": [], "owner": {"reputation": 22506, "user_id": 7579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e064cb6036830f4883abb0450f6afd7e?s=128&d=identicon&r=PG", "display_name": "Shaido", "link": "https://stackoverflow.com/users/7579547/shaido"}, "is_accepted": false, "score": 0, "last_activity_date": 1509017690, "last_edit_date": 1509017690, "creation_date": 1508988128, "answer_id": 46945361, "question_id": 46943015, "link": "https://stackoverflow.com/questions/46943015/how-can-i-combine-rows-from-spark-databricks/46945361#46945361", "title": "How can I combine rows from spark databricks", "body": "<p>If I understand the question correctly, you want to add the condition <code>Year &gt;= 2000</code> to the current SQL statement. Your <code>\"</code> seems a bit misplaced and you need to surround the <code>ZipCode or ZipCode or ZipCode</code> part with parenthesis. A working statement can look like this:</p>\n\n<pre><code>val df6 = spark.sql(\"\"\"select ZipCode, Year, HPI_with_2000_base from df1 \n                         where ZipCode IN(94122, 10583, 91411) and Year &gt;= 2000\"\"\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8834310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b463b9073b4e298cf70f36c75f36829?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/8834310/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1509017690, "creation_date": 1508970549, "last_edit_date": 1508987460, "question_id": 46943015, "link": "https://stackoverflow.com/questions/46943015/how-can-i-combine-rows-from-spark-databricks", "title": "How can I combine rows from spark databricks", "body": "<p>I'm trying to combine rows in Spark.</p>\n\n<p>The dataset has rows of Year, Zip code, HPI_with_2000_based, etc. I selected three zip codes and their information of HPI_with_2000_based. What I want to do is I want to combine these rows(three zip codes and their HPI_with_2000_based) and Year after 2000. </p>\n\n<p>When I typed like this and it worked:</p>\n\n<pre><code>df6 = spark.sql(\"select ZipCode,Year, HPI_with_2000_base from df1 where ZipCode = 94122 or ZipCode = 10583 or ZipCode = 91411\")\n</code></pre>\n\n<p>Resulting dataframe:</p>\n\n<pre><code>+-------+----+------------------+\n|ZipCode|Year|HPI_with_2000_base|\n+-------+----+------------------+\n|  10583|1976|             16.66|\n|  10583|1977|             16.81|\n|  10583|1978|             18.37|\n|  10583|1979|             23.06|\n|  10583|1980|             24.37|\n|  10583|1981|             30.82|\n|  10583|1982|             32.46|\n|  10583|1983|             35.25|\n|  10583|1984|             42.15|\n|  10583|1985|             48.94|\n|  10583|1986|             57.22|\n|  10583|1987|             66.24|\n|  10583|1988|             76.98|\n|  10583|1989|             77.28|\n|  10583|1990|             74.44|\n|  10583|1991|             69.85|\n|  10583|1992|             70.86|\n|  10583|1993|             70.98|\n|  10583|1994|             71.39|\n|  10583|1995|             71.27|\n+-------+----+------------------+\nonly showing top 20 rows\n</code></pre>\n\n<p>However, when I typed like this, it failed:</p>\n\n<pre><code>df6 = spark.sql(\"select ZipCode,Year, HPI_with_2000_base from df1 where ZipCode = 94122 or ZipCode = 10583 or ZipCode = 91411\" or Year &gt;= '2000'\").show()\n</code></pre>\n\n<p>Can you advise that what should I do to get a result?\nThank you.</p>\n"}, {"tags": ["python", "python-3.x", "zip", "shutil"], "comments": [{"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1569896135, "post_id": 46943014, "comment_id": 102735062, "body": "@ekhumoro Isn&#39;t the linked duplicate newer than my question ? Why would this thread be closed and not the other one ?"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1569928214, "post_id": 46943014, "comment_id": 102746781, "body": "Your question didn&#39;t have any answers when the other one was asked, so neither could be marked as a duplicate at the time. There isn&#39;t much to choose between the two questions now, except that the other one has had a little more activity (i.e. the comments). Both questions still have value, so the important thing was to link them together so that others can find them more easily,"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user267817"}, "is_accepted": false, "score": -1, "last_activity_date": 1536778232, "creation_date": 1536778232, "answer_id": 52301644, "question_id": 46943014, "link": "https://stackoverflow.com/questions/46943014/shutil-make-archive-resulting-in-nested-zip-files/52301644#52301644", "title": "shutil make_archive resulting in nested .zip files", "body": "<p>I also encountered this problem. Here's a simple trick to solve the issue: use a relative path as the <code>base_name</code>:</p>\n\n<pre><code>from shutil import make_archive\nmake_archive(\n  '../zipfile_name', \n  'zip',           # archive format\n  root_dir=None,   # current working dir if None\n  base_dir=None)   # cwd if None \n</code></pre>\n\n<p>The archive will be created in the parent directory, not interfering with the directory that is being archived.</p>\n"}], "owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 745, "favorite_count": 1, "closed_date": 1536939340, "answer_count": 1, "score": 3, "last_activity_date": 1536778232, "creation_date": 1508970547, "question_id": 46943014, "link": "https://stackoverflow.com/questions/46943014/shutil-make-archive-resulting-in-nested-zip-files", "closed_reason": "Duplicate", "title": "shutil make_archive resulting in nested .zip files", "body": "<p>I've been trying to use <a href=\"https://docs.python.org/3/library/shutil.html#shutil.make_archive\" rel=\"nofollow noreferrer\"><code>make_archive</code></a> from <code>shutil</code> library.</p>\n\n<p>Here is the code (with comprehensive comments):</p>\n\n<pre><code>from shutil import make_archive\nmake_archive(\n  'zipfile_name', \n  'zip',           # archive format\n  root_dir=None,   # current working dir if None\n  base_dir=None)   # cwd if None \n</code></pre>\n\n<p>Here is an example of directory tree:</p>\n\n<pre><code>folder\n\u2502   script.py\n\u2514\u2500\u2500\u2500subfolder1\n\u2502   \u2502   file011.txt\n\u2502   \u2502   file012.txt\n\u2502   \u2502\n\u2514\u2500\u2500\u2500subfolder2\n\u2502   \u2502   file011.txt\n\u2502   \u2502   file012.txt\n\u2502   \u2502\n...\n</code></pre>\n\n<p>If I run my script (with code above), the result is:</p>\n\n<pre><code>folder\n\u2502   script.py\n\u2514\u2500\u2500\u2500subfolder1\n\u2502   \u2502   file011.txt\n\u2502   \u2502   file012.txt\n\u2502   \u2502\n\u2514\u2500\u2500\u2500subfolder2\n\u2502   \u2502   file011.txt\n\u2502   \u2502   file012.txt\n\u2502   \u2502\n\u2514\u2500\u2500\u2500zipfile_name.zip\n\u2502   \u2502   same content as above (like expected)\n\u2502   \u2502   zipfile_name.zip\n\n...\n</code></pre>\n\n<p>Why is an additional <code>zipfile_name.zip</code> is created? Also, note that the second archive can't be open since it is invalid. I understand if no one has ever faced this issue before, but maybe my parameters are wrong and this is why I'm asking.</p>\n"}, {"tags": ["python", "python-2.7", "pandas", "for-loop"], "answers": [{"comments": [{"owner": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 0, "creation_date": 1508970516, "post_id": 46942983, "comment_id": 80833434, "body": "Oh, Great. Why <code>* 2</code>?"}, {"owner": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 0, "creation_date": 1508970963, "post_id": 46942983, "comment_id": 80833590, "body": "I&#39;m referring to [np.arange(n)]*2] ;-) by the way"}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1508971190, "post_id": 46942983, "comment_id": 80833663, "body": "Note: fill_diagonal won&#39;t always works, as sometimes df.values will be a copy. In fact same is true in both your examples. E.g. this happens for mixed data types."}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1508971246, "post_id": 46942983, "comment_id": 80833681, "body": "For example, do <code>df.iloc[0, 2] = &#39;a&#39;</code> before trying."}], "tags": [], "owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "is_accepted": false, "score": 0, "last_activity_date": 1508970373, "creation_date": 1508970373, "answer_id": 46942983, "question_id": 46942950, "link": "https://stackoverflow.com/questions/46942950/removing-matching-index-values-from-dataframe/46942983#46942983", "title": "Removing matching index values from dataframe", "body": "<p>n is number of rows/columns</p>\n\n<pre><code>df.values[[np.arange(n)]*2] = np.nan\n</code></pre>\n\n<p>or</p>\n\n<pre><code>np.fill_diagonal(df.values, np.nan)\n</code></pre>\n\n<p>see <a href=\"https://stackoverflow.com/a/24475214/\">https://stackoverflow.com/a/24475214/</a> </p>\n"}, {"comments": [{"owner": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 0, "creation_date": 1508970551, "post_id": 46942991, "comment_id": 80833443, "body": "Thank You. Why <code>* 2</code>? :)"}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 1, "creation_date": 1508970996, "post_id": 46942991, "comment_id": 80833596, "body": "@LearningToPython the * 2 is because what you really want is <code>df.iloc[[np.arange(3), np.arange(3)]]</code> and this saves a little bit of typing!"}, {"owner": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 0, "creation_date": 1508971292, "post_id": 46942991, "comment_id": 80833698, "body": "Okay, Thanks! I&#39;m a newbie, how would <code>[np.arange(3), np.arange(3)]</code> work? ;/ Sorry"}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 0, "creation_date": 1508971384, "post_id": 46942991, "comment_id": 80833727, "body": "@LearningToPython it&#39;s fancy indexing, and one of the great things in pandas/numpy see <a href=\"https://pandas.pydata.org/pandas-docs/stable/indexing.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/indexing.html</a>"}, {"owner": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 0, "creation_date": 1508971441, "post_id": 46942991, "comment_id": 80833747, "body": "Seems complicated ;-) I&#39;ll try understand. Thanks again !"}], "tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": true, "score": 4, "last_activity_date": 1508970420, "creation_date": 1508970420, "answer_id": 46942991, "question_id": 46942950, "link": "https://stackoverflow.com/questions/46942950/removing-matching-index-values-from-dataframe/46942991#46942991", "title": "Removing matching index values from dataframe", "body": "<p>You can set the diagonal:</p>\n\n<pre><code>In [11]: df.iloc[[np.arange(len(df))] * 2] = np.nan\n\nIn [12]: df\nOut[12]:\n          0         1         2\n0       NaN  0.105425  0.115308\n1  0.040726       NaN  0.097438\n2  0.017207  0.037640       NaN\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1508981526, "post_id": 46943635, "comment_id": 80836312, "body": "I am surprised that this <code>df.loc[[(df.index &amp; df.columns)] * 2]</code> or a variant doesn&#39;t work :/"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 2, "last_activity_date": 1508974757, "creation_date": 1508974757, "answer_id": 46943635, "question_id": 46942950, "link": "https://stackoverflow.com/questions/46942950/removing-matching-index-values-from-dataframe/46943635#46943635", "title": "Removing matching index values from dataframe", "body": "<p>@AndyHayden's answer is really cool and taught me something.  However, it depends on <code>iloc</code> and that the array is square and that everything is in the same order.  </p>\n\n<p>I generalized the concept here  </p>\n\n<p>Consider the data frame <code>df</code></p>\n\n<pre><code>df = pd.DataFrame(1, list('abcd'), list('xcya'))\n\ndf\n\n   x  c  y  a\na  1  1  1  1\nb  1  1  1  1\nc  1  1  1  1\nd  1  1  1  1\n</code></pre>\n\n<p>Then we use numpy broadcasting and <code>np.where</code> to perform the same fancy index assignment:  </p>\n\n<pre><code>ij = np.where(df.index.values[:, None] == df.columns.values)\n\ndf.iloc[list(map(list, ij))] = 0\n\ndf\n\n   x  c  y  a\na  1  1  1  0\nb  1  1  1  1\nc  1  0  1  1\nd  1  1  1  1\n</code></pre>\n"}], "owner": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 46942991, "answer_count": 3, "score": 2, "last_activity_date": 1508974757, "creation_date": 1508970121, "question_id": 46942950, "link": "https://stackoverflow.com/questions/46942950/removing-matching-index-values-from-dataframe", "title": "Removing matching index values from dataframe", "body": "<p><code>df</code>: </p>\n\n<pre><code>         0         1         2 \n0 0.0481948 0.1054251 0.1153076 \n1 0.0407258 0.0890868 0.0974378 \n2 0.0172071 0.0376403 0.0411687\netc.\n</code></pre>\n\n<p>I would like to remove all values in which the x and y titles/values of the dataframe are equal, therefore, my expected output would be something like:</p>\n\n<pre><code>         0         1         2 \n0 NaN       0.1054251 0.1153076 \n1 0.0407258 NaN       0.0974378 \n2 0.0172071 0.0376403 NaN\netc.\n</code></pre>\n\n<p>As shown, the values of (0,0), (1,1), (2,2) and so on, have been removed/replaced. </p>\n\n<p>I thought of looping through the index as followed:</p>\n\n<pre><code>for (idx, row) in df.iterrows():\n    if (row.index) == ???\n</code></pre>\n\n<p>But don't know where to carry on or whether it's even the right approach</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1508970868, "post_id": 46942901, "comment_id": 80833553, "body": "You seem to be asking multiple questions, i.e., why doesn&#39;t function A doesn&#39;t work, why doesn&#39;t function B doesn&#39;t work, etc. Each question should focus at one problem at a time. Your bigger picture might be to get your code running, but deep down, there are multiple and different problems you&#39;re dealing with."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1508971016, "post_id": 46942901, "comment_id": 80833603, "body": "When I run the code I get <code>in add_grade     print (grade, &quot;occurs&quot;, number, &quot;times.&quot;) NameError: global name &#39;number&#39; is not defined</code>; <code>number</code> variable isn&#39;t within this function&#39;s scope."}, {"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 0, "creation_date": 1508972132, "post_id": 46942901, "comment_id": 80833955, "body": "Are you using Python 2.x or Python 3.x?"}, {"owner": {"reputation": 45, "user_id": 8799892, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/10a7027dcee8f1bbf31b21299259dfa9?s=128&d=identicon&r=PG&f=1", "display_name": "tabi", "link": "https://stackoverflow.com/users/8799892/tabi"}, "reply_to_user": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 0, "creation_date": 1508977337, "post_id": 46942901, "comment_id": 80835348, "body": "Python 2.x @DavidG"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 8799892, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/10a7027dcee8f1bbf31b21299259dfa9?s=128&d=identicon&r=PG&f=1", "display_name": "tabi", "link": "https://stackoverflow.com/users/8799892/tabi"}, "edited": false, "score": 0, "creation_date": 1509000306, "post_id": 46943380, "comment_id": 80842091, "body": "thank you for your help :)  and for a program like python 3.5, we would print the &#39;i&#39; in &#39;print_rows&#39; by using end = &quot; &quot; right?"}, {"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "reply_to_user": {"reputation": 45, "user_id": 8799892, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/10a7027dcee8f1bbf31b21299259dfa9?s=128&d=identicon&r=PG&f=1", "display_name": "tabi", "link": "https://stackoverflow.com/users/8799892/tabi"}, "edited": false, "score": 0, "creation_date": 1509000396, "post_id": 46943380, "comment_id": 80842151, "body": "@tabi No problem. Don\u2019t forget to upvote and accept this answer if this answers your question"}], "tags": [], "owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "is_accepted": true, "score": 0, "last_activity_date": 1508972943, "creation_date": 1508972943, "answer_id": 46943380, "question_id": 46942901, "link": "https://stackoverflow.com/questions/46942901/unable-to-fix-my-helper-functions/46943380#46943380", "title": "Unable to fix my helper functions", "body": "<p>I'm going to assume you are using Python 2.7 as that is what you have tagged. This task is easier to do if you break it up into parts to get each of them working individually.</p>\n\n<p><code>print_rows</code> can be modified to print on a new line if count is equal to 3 (python indexing starts at 0). Printing on the same line in python 2.x is don by adding a comma at the end of the print statement:</p>\n\n<pre><code>def print_rows(grade_list):\n    count = 0\n    for i in grade_list:\n        if count == 3:\n            print i\n            count = 0\n        else:\n            print i,\n            count += 1\n</code></pre>\n\n<p>In <code>add_grade</code> you need to work out how many time <code>grade</code> appears in <code>grade_list</code>. This can be done using <code>grade_list.count(grade)</code></p>\n\n<pre><code>def add_grade(grade_list):    \n    grade = int(input(\"\\nEnter a grade between 0 and 100: \"))    \n    print grade, \"occurs\", list(grade_list).count(grade), \"time(s).\"\n</code></pre>\n\n<p>In <code>count_grade</code> you need to filter out the results in the list you don't want then calculate the length of the list using the built-in function <code>len()</code>:</p>\n\n<pre><code>def count_grades(grade_list):\n    two_digit_grades = grade_list[(grade_list &gt; 9) &amp; (grade_list &lt;= 100)]\n    return len(two_digit_grades)\n</code></pre>\n\n<p>Also, simplifying your <code>create_grades</code> with the use of <code>numpy</code>:</p>\n\n<pre><code>def create_grades(amount):\n    import numpy as np\n    return np.random.randint(0, 100, amount)\n</code></pre>\n\n<p>Calling these functions</p>\n\n<pre><code>def test_grades():  \n    grade_list = create_grades(11)\n    print_rows(grade_list)\n    add_grade(grade_list)   \n    print \"Amount of 2-digit values =\", count_grades(grade_list)\n\ntest_grades()\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>25 88 93 16\n27 53 62 46\n28 6 85\nEnter a grade between 0 and 100: 88\n88 occurs 1 time(s).\nAmount of 2-digit values = 10\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8799892, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/10a7027dcee8f1bbf31b21299259dfa9?s=128&d=identicon&r=PG&f=1", "display_name": "tabi", "link": "https://stackoverflow.com/users/8799892/tabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 46943380, "answer_count": 1, "score": 0, "last_activity_date": 1508973237, "creation_date": 1508969792, "last_edit_date": 1508973237, "question_id": 46942901, "link": "https://stackoverflow.com/questions/46942901/unable-to-fix-my-helper-functions", "title": "Unable to fix my helper functions", "body": "<p>I'm having a hard time getting my helper functions to work in running the program. This is what I have so far in my program:</p>\n\n<pre><code># create_grades - A function that will create and return a list of\n# 'amount' randomly selected between 0 and 100. 0 and 100 are included.\ndef create_grades(amount):\n    import random\n    grade_list = []\n    for i in range (amount):\n        number = random.randint (0, 100)\n        grade_list.append (number)\n    return grade_list\n\n# print_rows - A function that prints all of grade_list displaying 4 space\n# separated values in each row. Last row may have fewer than 4 values in it.\ndef print_rows(grade_list):\n    count = 0\n    for i in range (len(grade_list)):\n        print(grade_list[i], end = \" \")\n        if (grade_list[i] % 2 == 0):\n            count += 1\n\n# add_grade - A function that gets user input from 0 to 100, and counts how \n# many times the grade occurs in 'grade_list'. Result is printed out.\ndef add_grade(grade_list):\n\n    grade = int(input(\"\\nEnter a grade between 0 and 100: \"))\n\n    print (grade, \"occurs\", number, \"times.\")\n\n# count_grades - A function that calculates and returns amount of 2-digit grades\n# in grade_list. grade_list is assumed to have at least one value. \ndef count_grades(grade_list):\n    count = 0\n    if (grade_list &gt; 9 and grade_list &lt;= 100):\n        count +=1\n\n\n# Main function - Test all of the helper functions\ndef test_grades():\n\n    grade_list = create_grades (11)\n    print_rows (grade_list)\n\n    add_grade (grade_list)\n    print_rows (grade_list)\n\n    print (\"Amount of 2-digit values =\", count_grades (grade_list))\n</code></pre>\n\n<p>The program has missing pieces here and there because I cant seem to get past my issue with the remaining helper functions. I'm struggling with getting print_rows, add_grade, and count_grades to yield this type of result:</p>\n\n<pre><code>test_grades()\n\n47 7 43 90\n7 39 97 41\n36 100 64\n\nEnter a grade between 0 and 100: 7\n7 occurs 3 times\n\n47 7 43 90\n7 39 97 41\n36 100 64\n\nAmount of 2-digit values = 8\n</code></pre>\n"}, {"tags": ["python", "json", "python-3.x", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 16757, "user_id": 2799941, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/260db848f0eb7e3cd55998969a7a43a4?s=128&d=identicon&r=PG&f=1", "display_name": "andrew_reece", "link": "https://stackoverflow.com/users/2799941/andrew-reece"}, "is_accepted": true, "score": 2, "last_activity_date": 1508970090, "creation_date": 1508970090, "answer_id": 46942946, "question_id": 46942853, "link": "https://stackoverflow.com/questions/46942853/how-to-create-a-pandas-dataframe-of-a-json-with-values-in-a-list-with-no-key-in/46942946#46942946", "title": "how to create a pandas.dataframe of a json with values in a list with no key in Python", "body": "<pre><code>import pandas as pd\n\n# data = dict provided in OP\ncolnames = [x[\"name\"] for x in data[\"columns\"]]\npd.DataFrame(data[\"data\"], columns=colnames)\n\n         Date Ad set start time Ad set end time    Campaign ID  Amount spent\n0  2017-10-21        2017-10-02      2017-11-01  6076466058814         81.32\n1  2017-10-21        2017-10-04      2017-11-01  6076547852614         47.46\n2  2017-10-21        2017-10-04      2017-11-01  6076549546014        128.58\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 8021550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e91560c7a5347e174dce3636a9da87f?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan H", "link": "https://stackoverflow.com/users/8021550/nathan-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1508970148, "creation_date": 1508970148, "answer_id": 46942954, "question_id": 46942853, "link": "https://stackoverflow.com/questions/46942853/how-to-create-a-pandas-dataframe-of-a-json-with-values-in-a-list-with-no-key-in/46942954#46942954", "title": "how to create a pandas.dataframe of a json with values in a list with no key in Python", "body": "<p>First read the json object, extract the columns, and then use the data and columns within a DataFrame constructor.</p>\n\n<pre><code>import json\n\nwith open('jsonfile.json') as f:\n    data = json.loads(f)\n\ncolumns = [field['name'] for field in data['columns']]\n\npd.DataFrame(data['data'], columns=columns)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 2397153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tB2nL.jpg?s=128&g=1", "display_name": "Bruno Basanta", "link": "https://stackoverflow.com/users/2397153/bruno-basanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "accepted_answer_id": 46942946, "answer_count": 2, "score": 0, "last_activity_date": 1508970322, "creation_date": 1508969512, "last_edit_date": 1508970322, "question_id": 46942853, "link": "https://stackoverflow.com/questions/46942853/how-to-create-a-pandas-dataframe-of-a-json-with-values-in-a-list-with-no-key-in", "title": "how to create a pandas.dataframe of a json with values in a list with no key in Python", "body": "<p>I have this json:</p>\n\n<pre><code>{\n\"columns\": [\n    {\n        \"field\": \"date\",\n        \"name\": \"Date\",\n        \"type\": \"dim\"\n    },\n    {\n        \"field\": \"adsetstart_time\",\n        \"name\": \"Ad set start time\",\n        \"type\": \"dim\"\n    },\n    {\n        \"field\": \"adsetend_time\",\n        \"name\": \"Ad set end time\",\n        \"type\": \"dim\"\n    },\n    {\n        \"field\": \"adcampaign_id\",\n        \"name\": \"Campaign ID\",\n        \"type\": \"dim\"\n    },\n    {\n        \"field\": \"cost\",\n        \"name\": \"Amount spent\",\n        \"type\": \"met\"\n    }\n],\n\"data\": [\n    [\n        \"2017-10-21\",\n        \"2017-10-02\",\n        \"2017-11-01\",\n        \"6076466058814\",\n        81.32\n    ],\n    [\n        \"2017-10-21\",\n        \"2017-10-04\",\n        \"2017-11-01\",\n        \"6076547852614\",\n        47.46\n    ],\n    [\n        \"2017-10-21\",\n        \"2017-10-04\",\n        \"2017-11-01\",\n        \"6076549546014\",\n        128.58\n    ]\n],\n\"notes\": {\n    \"datasource\": \"FA\",\n    \"numeric_format_columns_start\": 4,\n    \"numeric_format_rows_start\": 0,\n    \"result_rows\": 50,\n    \"result_values\": 250,\n    \"runtime_sec\": 3,\n    \"status\": \"success\"\n}\n}\n</code></pre>\n\n<p>and I want this table:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1PFWS.png\" rel=\"nofollow noreferrer\">table</a></p>\n\n<p>I'm new to programming, I tried to modify the <code>dictionary</code> structure by creating a new one with the keys-value inside <code>data</code> like this:</p>\n\n<pre><code>{\"data\": [\"Date\": \"2017-10-24\", \"Ad set start time\": \"2017-10-16\", \"Ad set end time\": \"2017-10-27\", \"Campaign ID\": \"6076811156014\", \"Amount spent\": 106.84],...\n</code></pre>\n\n<p>I managed to extract the columns in a list but I can not iterate <code>data</code> to assign each value its corresponding key.</p>\n\n<p>What is the best way to create the dataframe from this json structure?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 3, "creation_date": 1508969265, "post_id": 46942799, "comment_id": 80833011, "body": "<code>df.drop_duplicates([&quot;address&quot;,&quot;business_id&quot;])</code>"}, {"owner": {"reputation": 7436, "user_id": 5514476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP6t0.jpg?s=128&g=1", "display_name": "DJK", "link": "https://stackoverflow.com/users/5514476/djk"}, "edited": false, "score": 0, "creation_date": 1509077588, "post_id": 46942799, "comment_id": 80882073, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23667369/drop-all-duplicate-rows-in-python-pandas\">Drop all duplicate rows in Python Pandas</a>"}], "answers": [{"tags": [], "owner": {"reputation": 42, "user_id": 5770064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f38a04b53db75732f1b65d9f3d9389?s=128&d=identicon&r=PG&f=1", "display_name": "Mikell-S", "link": "https://stackoverflow.com/users/5770064/mikell-s"}, "is_accepted": false, "score": -1, "last_activity_date": 1508973808, "creation_date": 1508973808, "answer_id": 46943512, "question_id": 46942799, "link": "https://stackoverflow.com/questions/46942799/remove-duplicates-from-dataframe/46943512#46943512", "title": "remove duplicates from dataframe", "body": "<p>Along with removing the duplicate, you want to use df.set_index</p>\n\n<pre><code>df.set_index(keys=[\"address\",\"business_id\"])\n</code></pre>\n"}], "owner": {"reputation": 2571, "user_id": 3476463, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/102f066d7cd421c7bf6d5611a7d6f161?s=128&d=identicon&r=PG&f=1", "display_name": "user3476463", "link": "https://stackoverflow.com/users/3476463/user3476463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 644, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508973808, "creation_date": 1508969207, "question_id": 46942799, "link": "https://stackoverflow.com/questions/46942799/remove-duplicates-from-dataframe", "title": "remove duplicates from dataframe", "body": "<p>I have a dataframe \"df\" like the sample below.  I would like to use address and business_id as a unique key, and filter the dataframe so it only has unique records based on the combination of address and business_id.  Can anyone suggest how to do that?</p>\n\n<p>Code:</p>\n\n<pre><code>print df[[\"address\",\"business_id\",\"city\"]][1:3]\n</code></pre>\n\n<p>Sample Data:</p>\n\n<pre><code>               address             business_id       city\n1       2824 Milton Rd  mLwM-h2YhXl2NCgdS84_Bw  Charlotte\n2  337 Danforth Avenue  v2WhjAB3PIBA8J8VxG3wEg    Toronto\n</code></pre>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup", "urllib", "mechanicalsoup"], "comments": [{"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508969549, "post_id": 46942778, "comment_id": 80833107, "body": "That regex is wrong by the looks of it - have you tried looking at your <code>token</code> and checking it&#39;s correct. Also - doesn&#39;t that library support getting the value from the form for you instead of using that approach?"}, {"owner": {"reputation": 31, "user_id": 5030117, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/28b8f0191ff14f3cedf00e5193c0b649?s=128&d=identicon&r=PG&f=1", "display_name": "JCodder", "link": "https://stackoverflow.com/users/5030117/jcodder"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508969792, "post_id": 46942778, "comment_id": 80833194, "body": "@JonClements The Regex does work, that&#39;s not the issue, it extracts the value inside the quotes just fine. I can&#39;t use robobrowser because it gets a form and then allows you to enter values by the names of elements (this one doesn&#39;t have a name and is omiited)."}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508969907, "post_id": 46942778, "comment_id": 80833231, "body": "Looks like it&#39;s extract everything to the next quote it can find, not the most immediate one..."}, {"owner": {"reputation": 31, "user_id": 5030117, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/28b8f0191ff14f3cedf00e5193c0b649?s=128&d=identicon&r=PG&f=1", "display_name": "JCodder", "link": "https://stackoverflow.com/users/5030117/jcodder"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508970290, "post_id": 46942778, "comment_id": 80833349, "body": "I checked the value during a couple runs and it looks right. I think the issue I&#39;m having is I&#39;m not even sure if i&#39;m submitting to the right element or if this is the right way to go about it"}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508970368, "post_id": 46942778, "comment_id": 80833383, "body": "Just had a very quick look at the library (literally a 2 minute quick read) - aren&#39;t you supposed to use <code>mechanicalsoup.Form</code> on the form element to create a form instance that you then populate and submit? That also looks like it&#39;ll also take into account fields you don&#39;t override such as hidden fields and send them along with your request as well... Not sure though - haven&#39;t tried... but looks like that&#39;s the way it&#39;s supposed to be used. (If so - you don&#39;t even need to worry about that field anymore)"}, {"owner": {"reputation": 31, "user_id": 5030117, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/28b8f0191ff14f3cedf00e5193c0b649?s=128&d=identicon&r=PG&f=1", "display_name": "JCodder", "link": "https://stackoverflow.com/users/5030117/jcodder"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508971792, "post_id": 46942778, "comment_id": 80833837, "body": "hmmm, Is there any way you know of where I can login manually in google chrome for example and then use the open window (already logged in) to browser and export html. I really only need to login and then go to a url and extract the data on the page. If i can avoid the logging in part and just do it once manually that would be fine."}], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 8834658, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VKdzFNNZBfY/AAAAAAAAAAI/AAAAAAAAFaM/FhX5DSypiBs/photo.jpg?sz=128", "display_name": "Daniel Hemberger", "link": "https://stackoverflow.com/users/8834658/daniel-hemberger"}, "is_accepted": false, "score": 1, "last_activity_date": 1508981719, "creation_date": 1508981719, "answer_id": 46944509, "question_id": 46942778, "link": "https://stackoverflow.com/questions/46942778/python-web-scraping-csrf-token-issue/46944509#46944509", "title": "Python Web-Scraping CSRF Token Issue", "body": "<p>I believe the issue here is that <code>&lt;input&gt;</code> elements must have <code>name</code> attributes for them to be submitted via POST or GET. Since your token is in a <code>name</code>-less <code>&lt;input&gt;</code> element, it is not processed by MechanicalSoup because that's what the browser would do.</p>\n\n<p>From the <a href=\"https://www.w3.org/TR/html401/interact/forms.html#successful-controls\" rel=\"nofollow noreferrer\">W3C specification</a>:</p>\n\n<blockquote>\n  <p>Every successful control has its control name paired with its current value as part of the submitted form data set. A successful control must be defined within a FORM element and must have a control name.</p>\n  \n  <p>...</p>\n  \n  <p>A control's \"control name\" is given by its name attribute.</p>\n</blockquote>\n\n<p>Perhaps there is some JavaScript that is handling the CSRF token.</p>\n\n<p>For a similar discussion, see <a href=\"https://stackoverflow.com/questions/12543848/does-form-data-still-transfer-if-the-input-tag-has-no-name\">Does form data still transfer if the input tag has no name?</a></p>\n\n<hr>\n\n<p>Regarding your usage of <a href=\"https://github.com/MechanicalSoup/MechanicalSoup\" rel=\"nofollow noreferrer\">MechanicalSoup</a>, the classes <code>StatefulBrowser</code> and <code>Form</code> would simplify your script. For example, if you just had to open the page and input a username and password:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import mechanicalsoup\n\n# These values are filled by the user\nurl = \"\"\nusername = \"\"\npassword = \"\"\n\n# Open the page\nbrowser = mechanicalsoup.StatefulBrowser(raise_on_404=True)\nbrowser.open(url)\n\n# Fill in the form values\nform = browser.select_form('form[id=loginForm]')\nform['username'] = username\nform['password'] = password\n\n# Submit the form and print the resulting page text\nresponse = browser.submit_selected()\nprint(response.text)\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5030117, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/28b8f0191ff14f3cedf00e5193c0b649?s=128&d=identicon&r=PG&f=1", "display_name": "JCodder", "link": "https://stackoverflow.com/users/5030117/jcodder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3310, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508981719, "creation_date": 1508969112, "question_id": 46942778, "link": "https://stackoverflow.com/questions/46942778/python-web-scraping-csrf-token-issue", "title": "Python Web-Scraping CSRF Token Issue", "body": "<p>I am using MechanicalSoup to login to a website via Python 3.6 and I'm having issues with the CSRF token.</p>\n\n<p>Every time i request the html back i read \"Invalid CSRF token: Forbidden\". Searching the html on the login page, the closest match for a element id that looks like the token is \"autheticity_token\" which appears to be already filled in with the token.</p>\n\n<p>I was able to use \"re\" module to extract the token and resubmit it to the element with the id i talked about above but no luck. Note, i had to find the element by id since a name is not provided for it (this is why my Robobrowser way of doing it didn't work).</p>\n\n<p>This is the element that I think corresponds to the CSRF:</p>\n\n<pre><code>&lt;input id=\"authenticity_token\" type=\"hidden\" value=\"b+csp/9zR/a1yfuPPIYJSiR0v8jJUTaJaGqJmJPmLmivSn4GtLgvek0nyPvcJ0aOgeo0coHpl94MuH/r1OK5UA==\"&gt;\n</code></pre>\n\n<p>I would extract, in this case \"b+csp/9zR/a1yfuPPIYJSiR0v8jJUTaJaGqJmJPmLmivSn4GtLgvek0nyPvcJ0aOgeo0coHpl94MuH/r1OK5UA==\" and resubmit it to that element </p>\n\n<p>Here is my code with dummy values for user,pass, and url</p>\n\n<pre><code>import mechanicalsoup\nimport re\n\ndef return_token(str1):\n    match1 = \"authenticity_token\"\n    match2 = \".*value\\=\\\"(.*)\\\".*\"\n    for x in range(len(str1)):\n        line = str1[x]\n        if re.findall(match1,line):\n            token = re.findall(match2,line)[0]\n            return token\n\nurl1 = \"\"\nusername = \"\"\npassword = \"\"\n\nbrowser = mechanicalsoup.Browser()\npage = browser.get(url1)\nstr0 = page.text\ntoken = return_token(str0.split('\\n'))\n#print(str0)\nform = page.soup.find(\"form\",{\"id\":\"loginForm\"})\n\nform.find('input', {'name': 'username'})['value'] = username\nform.find('input', {'name': 'password'})['value'] = password\nform.find('input', {'id': 'authenticity_token'})['value'] = str(token)\n\nresponse = browser.submit(form, page.url)\nprint(response.text)\n</code></pre>\n"}, {"tags": ["python", "character-encoding"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 2, "creation_date": 1508969113, "post_id": 46942721, "comment_id": 80832959, "body": "The translation table provided by unicode seems to disagree with wikipedia: <a href=\"ftp://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/PC/CP437.TXT\" rel=\"nofollow noreferrer\">unicode.org/Public/MAPPINGS/VENDORS/MICSFT/PC/CP437.TXT</a>"}], "answers": [{"comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 0, "creation_date": 1508969397, "post_id": 46942819, "comment_id": 80833055, "body": "Thats what I thought, didn&#39;t find a reference yet though. Windows codepages are weird.."}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1508969613, "post_id": 46942819, "comment_id": 80833121, "body": "Fantastic reference, thanks. Is there any way to get those graphics characters other than making your own conversion table?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1508970298, "post_id": 46942819, "comment_id": 80833355, "body": "@MarkRansom: The closest I&#39;ve found is <a href=\"ftp://ftp.software.ibm.com/software/globalization/gcoc/attachments/CP00437.txt\" rel=\"nofollow noreferrer\">IBM&#39;s table</a>, which gives CP437 mappings in terms of IBM&#39;s GCGID system, but not in terms of Unicode."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 4, "last_activity_date": 1508970524, "last_edit_date": 1508970524, "creation_date": 1508969345, "answer_id": 46942819, "question_id": 46942721, "link": "https://stackoverflow.com/questions/46942721/is-cp437-decoding-broken-for-control-characters/46942819#46942819", "title": "Is CP437 decoding broken for control characters?", "body": "<p>While there were graphics associated with the byte range <code>\\x01</code> through <code>\\x1f</code>, those graphics were only used in some contexts. In other contexts, those code points would be interpreted as control characters, as in ASCII. Quoting an <a href=\"http://www-01.ibm.com/software/globalization/cp/cp00437.html\" rel=\"nofollow noreferrer\">IBM page on CP437</a>:</p>\n\n<blockquote>\n  <p>Code points X'01' through X'1F' and X'7F' may be controls or graphics depending on context. For displays the hexadecimal code in a memory-mapped \n  video display buffer is a graphic. For printers the graphics context is established by a preceding control sequence in the data stream. There are two \n  such control sequences: ESC X'5C' and ESC X'5E' named Print All Characters and Print Single Character respectively. In other situations the code \n  points in question are used as controls.</p>\n</blockquote>\n\n<p>Python's CP437 decoding is based on the <a href=\"ftp://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/PC/CP437.TXT\" rel=\"nofollow noreferrer\">Unicode mappings on Unicode.org</a>, which use the control character interpretation.</p>\n\n<p>The <a href=\"http://unicode.org/faq/char_combmark.html#5\" rel=\"nofollow noreferrer\">Unicode FAQ implies</a> that \"The correct Unicode mappings for the special graphic characters (01-1F, 7F) of CP437 and other DOS-type code pages\" should be available at <a href=\"https://www.unicode.org/Public/MAPPINGS\" rel=\"nofollow noreferrer\">https://www.unicode.org/Public/MAPPINGS</a>, but digging down there only turns up the mappings with the control characters, and a <a href=\"http://www.unicode.org/Public/MAPPINGS/VENDORS/IBM/IBM_conversions.html\" rel=\"nofollow noreferrer\">page</a> linking to several IBM websites. Digging through IBM's sites turns up <a href=\"ftp://ftp.software.ibm.com/software/globalization/gcoc/attachments/CP00437.txt\" rel=\"nofollow noreferrer\">ftp://ftp.software.ibm.com/software/globalization/gcoc/attachments/CP00437.txt</a>, which gives graphical mappings for <code>\\x01</code>-<code>\\x1f</code> in terms of IBM's <a href=\"https://www-01.ibm.com/software/globalization/gcgid/gcgid.html\" rel=\"nofollow noreferrer\">GCGID system</a>, but not in terms of Unicode.</p>\n\n<p>I don't know if there actually <em>is</em> an official mapping, from either IBM or Unicode, that gives canonical Unicode mappings for <code>\\x01</code>-<code>\\x1f</code> in terms of the graphical interpretation of CP437.</p>\n"}, {"tags": [], "owner": {"reputation": 172, "user_id": 1095030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edf34d3e5f08ef15c8017c5cef523baa?s=128&d=identicon&r=PG", "display_name": "Tynach", "link": "https://stackoverflow.com/users/1095030/tynach"}, "is_accepted": false, "score": 0, "last_activity_date": 1557634599, "creation_date": 1557634599, "answer_id": 56096186, "question_id": 46942721, "link": "https://stackoverflow.com/questions/46942721/is-cp437-decoding-broken-for-control-characters/56096186#56096186", "title": "Is CP437 decoding broken for control characters?", "body": "<p>I managed to find this file in there:<br>\n<a href=\"https://unicode.org/Public/MAPPINGS/VENDORS/MISC/IBMGRAPH.TXT\" rel=\"nofollow noreferrer\">https://unicode.org/Public/MAPPINGS/VENDORS/MISC/IBMGRAPH.TXT</a></p>\n\n<p>It includes a mapping of the Unicode characters (0x01-0x1f) to IBM CP437, as well as IBM CP864 (Arabic).</p>\n"}], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1557634599, "creation_date": 1508968745, "question_id": 46942721, "link": "https://stackoverflow.com/questions/46942721/is-cp437-decoding-broken-for-control-characters", "title": "Is CP437 decoding broken for control characters?", "body": "<p>According to the <a href=\"https://en.wikipedia.org/wiki/Code_page_437\" rel=\"nofollow noreferrer\">Wikipedia page for Code Page 437</a> the byte values <code>\\x01</code> through <code>\\x1f</code> should decode to graphic characters, e.g. <code>b'\\x01'</code> equates to \u263a <code>'\\u263A'</code>. But that's not what <code>decode</code> produces:</p>\n\n<pre><code>&gt;&gt;&gt; b'\\x01'.decode('cp437')\n'\\x01'\n</code></pre>\n\n<p>That was Python 3.6 but 2.7 does the same, for all 31 byte values.</p>\n"}, {"tags": ["python", "python-3.x", "file", "csv"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1508969765, "post_id": 46942717, "comment_id": 80833181, "body": "Please read <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question\"><b>Why not upload images of code on SO when asking a question?</b></a> which applies to text format data like csv files, too."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 8810961, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GVk8Uo5laBY/AAAAAAAAAAI/AAAAAAAAB-A/HZmxDS7Evl0/photo.jpg?sz=128", "display_name": "Alexander Kiverin", "link": "https://stackoverflow.com/users/8810961/alexander-kiverin"}, "is_accepted": false, "score": 0, "last_activity_date": 1508971282, "creation_date": 1508971282, "answer_id": 46943111, "question_id": 46942717, "link": "https://stackoverflow.com/questions/46942717/csv-rewriter-keeps-creating-new-headers/46943111#46943111", "title": "CSV rewriter keeps creating new headers", "body": "<p>There are different problems in your code:</p>\n\n<p>1) Empty line between lines with data in csv file, it happens because of the nonbinary type of opening and can be fixed by adding that arg in open function:</p>\n\n<pre><code>w=csv.writer(Details,delimiter=\",\",lineterminator='\\n')\n</code></pre>\n\n<p>2) In your case Details.readlines() method was returning [], because of the a+ type of opening, it's supposed to add lines in the end of file, so pointer is in the end already and we need to return it at the beginning by using that code:</p>\n\n<pre><code>line=Details.seek(0)\n</code></pre>\n\n<p>3) Also, we need only first line, so just use readline() method. And after all, your condition should look that way, because of the return type and the fact that there's \\n in the end of every line:</p>\n\n<pre><code>if line!=\"Name,Age,Year Group\\n\":\n</code></pre>\n\n<p>And the full code of that part. Let me know if it works well for you:</p>\n\n<pre><code>w=csv.writer(Details,delimiter=\",\",lineterminator='\\n')\nheaders1=[\"Name\",\"Age\",\"Year Group\"]\nline=Details.seek(0)\nline=Details.readlines()[0]\nprint(line)\nif line!=\"Name,Age,Year Group\\n\":\n    w.writerow(headers1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8821259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-gL3XLjf882g/AAAAAAAAAAI/AAAAAAAAAoQ/ykCckrHOYrM/photo.jpg?sz=128", "display_name": "SRD1707", "link": "https://stackoverflow.com/users/8821259/srd1707"}, "edited": false, "score": 0, "creation_date": 1509031455, "post_id": 46943153, "comment_id": 80863728, "body": "Outstanding job! I can see you&#39;ve put some great effort into helping. Although just one tiny issue, my OCD kind off in this case. In the text file there&#39;s a gap between each user and the other stuff, could it be due to me \\n at each input line?"}], "tags": [], "owner": {"reputation": 548, "user_id": 2304156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50a64d0764c2ad3ec6a9cb6c1ac59e1?s=128&d=identicon&r=PG", "display_name": "PerunSS", "link": "https://stackoverflow.com/users/2304156/perunss"}, "is_accepted": true, "score": 0, "last_activity_date": 1509044928, "last_edit_date": 1509044928, "creation_date": 1508971475, "answer_id": 46943153, "question_id": 46942717, "link": "https://stackoverflow.com/questions/46942717/csv-rewriter-keeps-creating-new-headers/46943153#46943153", "title": "CSV rewriter keeps creating new headers", "body": "<p>You are opening file in appending mode (<a href=\"https://docs.python.org/3/library/functions.html#open\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/functions.html#open</a>), so this <code>line=Details.readlines()</code> will always be empty line and your headers will be written every time (code will always get into <strong>if</strong>).</p>\n\n<p>It is similar with other file. So I suggest you first check if file exist, and if not create it and add headers, and remove headers part from <code>with</code>:</p>\n\n<pre><code>import csv\n\nimport os.path\nif not os.path.isfile(\"Details.csv\"):\n    with open(\"Details.csv\", \"a+\") as Details:\n        w = csv.writer(Details, delimiter=\",\")\n        headers1 = [\"Name\", \"Age\", \"Year Group\"]\n        w.writerow(headers1)\n        Details.close()\n\nif not os.path.isfile(\"UserPass.csv\"):\n    with open(\"UserPass.csv\", \"a+\") as Userpass:\n        w = csv.writer(Userpass, delimiter=\",\")\n        headers2 = [\"Username\", \"Password\"]\n        w.writerow(headers2)\n        Userpass.close()\n\nwith open(\"Details.csv\", \"a+\") as Details:\n    w = csv.writer(Details, delimiter=\",\")\n    print(\"Welcome User, to my Topics Quiz!\\n-------------------------------\"\n          \"--------\\nYou can choose from 3 different topics:\\n  \u2022 History\\n  \u2022 \"\n          \"Music\\n \u2022  Computer Science\\n---------------------------------------\")\n    print(\"Before we start, we need to register an account.\")\n    User = input(\"Enter your name:\\n\")\n    Age = input(\"Enter your age:\\n\")\n    Year = input(\"Enter your year group:\\n\")\n\n    details = [User, Age, Year]\n    w.writerow(details)\n    Details.close()\n\nwith open(\"UserPass.csv\", \"a+\") as Userpass:\n    w = csv.writer(Userpass, delimiter=\",\")\n    NewUser = (User[:3] + Age)\n    print(\"Great! Your username is set to: {}\".format(NewUser))\n    Pass = input(\"Enter a password for your account:\\n\")\n    userpass = [NewUser, Pass]\n    w.writerow(userpass)\n    Userpass.close()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8821259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-gL3XLjf882g/AAAAAAAAAAI/AAAAAAAAAoQ/ykCckrHOYrM/photo.jpg?sz=128", "display_name": "SRD1707", "link": "https://stackoverflow.com/users/8821259/srd1707"}, "edited": false, "score": 0, "creation_date": 1509030652, "post_id": 46943421, "comment_id": 80863191, "body": "Thank you, I&#39;ve read through the PEP 8  also used youtube and i find it very useful also i see from your perspective how hard my terrible code can read, about your code, I run it but now there&#39;s not headers appearing. Where i just want one when the csv is created."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 13, "user_id": 8821259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-gL3XLjf882g/AAAAAAAAAAI/AAAAAAAAAoQ/ykCckrHOYrM/photo.jpg?sz=128", "display_name": "SRD1707", "link": "https://stackoverflow.com/users/8821259/srd1707"}, "edited": false, "score": 0, "creation_date": 1509030966, "post_id": 46943421, "comment_id": 80863394, "body": "When I tested it on an existing file that already had a header and several rows of data in it, the code simply added a new row to the end of the file. If the file didn&#39;t already exist, then a file would be created and it wouldn&#39;t have a header, so perhaps that&#39;s what happened."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 13, "user_id": 8821259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-gL3XLjf882g/AAAAAAAAAAI/AAAAAAAAAoQ/ykCckrHOYrM/photo.jpg?sz=128", "display_name": "SRD1707", "link": "https://stackoverflow.com/users/8821259/srd1707"}, "edited": false, "score": 0, "creation_date": 1509045158, "post_id": 46943421, "comment_id": 80871656, "body": "SRD1707: Sorry I don&#39;t understand your follow-on question. Which code are you talking about, yours or what&#39;s in my answer? What \\n in each input ine? Which text file? When do these gaps appear?"}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1509045119, "last_edit_date": 1509045119, "creation_date": 1508973221, "answer_id": 46943421, "question_id": 46942717, "link": "https://stackoverflow.com/questions/46942717/csv-rewriter-keeps-creating-new-headers/46943421#46943421", "title": "CSV rewriter keeps creating new headers", "body": "<p>I don't understand everything your code is trying to accomplish, but the following will add a row to the <code>Details.csv</code> without creating any new headers:</p>\n\n<pre><code>import csv\nimport os\n\ncsv_fileheader = \"Name\", \"Age\", \"Year Group\"\ncsv_filename = \"Details.csv\"\n\nprint(\"Welcome User, to my Topics Quiz!\\n\"\n      \"---------------------------------------\\n\"\n      \"You can choose from 3 different topics:\\n\"\n      \" \u2022 History\\n \u2022 Music\\n \u2022 Computer Science\\n\"\n      \"---------------------------------------\")\nprint(\"Before we start, we need to register an account.\")\nuser = input(\"Enter your name:\\n\")\nage = input(\"Enter your age:\\n\")\nyear = input(\"Enter your year group:\\n\")\n\nif not os.path.isfile(csv_filename):  # Create file if it doesn't exist.\n    with open(csv_filename, \"w\", newline='') as csv_file:\n        csv.writer(csv_file).writerow(csv_fileheader)  # Put header row in it.\n\nwith open(csv_filename, \"a+\", newline='') as details2:\n    writer = csv.writer(details2, delimiter=\",\")\n    writer.writerow((user, age, year))\n</code></pre>\n\n<p>You should consider following the <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8 - Style Guide for Python Code</a> recommendations as it will make your code easier for both you and others to read.</p>\n"}], "owner": {"reputation": 13, "user_id": 8821259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-gL3XLjf882g/AAAAAAAAAAI/AAAAAAAAAoQ/ykCckrHOYrM/photo.jpg?sz=128", "display_name": "SRD1707", "link": "https://stackoverflow.com/users/8821259/srd1707"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 46943153, "answer_count": 3, "score": -1, "last_activity_date": 1509045119, "creation_date": 1508968740, "last_edit_date": 1508973278, "question_id": 46942717, "link": "https://stackoverflow.com/questions/46942717/csv-rewriter-keeps-creating-new-headers", "title": "CSV rewriter keeps creating new headers", "body": "<p>My code is creating the same headers each time, I want it to create one and append the data to a CSV without creating a new header.</p>\n\n<p><a href=\"https://gyazo.com/5e760afb5ed8408195d1139755269121\" rel=\"nofollow noreferrer\">What it looks like in the CSV</a></p>\n\n<p><a href=\"https://gyazo.com/52f08e5fad73d38e82171b189867048b\" rel=\"nofollow noreferrer\">What I want it to look like</a></p>\n\n<pre><code>import csv\n\nwith open(\"Details.csv\",\"a+\") as Details:\n    w=csv.writer(Details,delimiter=\",\")\n\n    headers1=[\"Name\",\"Age\",\"Year Group\"]\n    line=Details.readlines()\n    if line!=[\"Name\",\"Age\",\"Year Group\"]:\n        w.writerow(headers1)\n    print(\"Welcome User, to my Topics Quiz!\\n-------------------------------\n    --------\\nYou can choose from 3 different topics:\\n  \u2022 History\\n  \u2022\n    Music\\n \u2022  Computer Science\\n---------------------------------------\")\n    print(\"Before we start, we need to register an account.\")\n    User=input(\"Enter your name:\\n\")\n    Age=input(\"Enter your age:\\n\")\n    Year=input(\"Enter your year group:\\n\")\n\n    details=[User,Age,Year]\n    w.writerow(details)\n    Details.close()\n\nwith open(\"UserPass.csv\",\"a+\") as Userpass:\n    w=csv.writer(Userpass,delimiter=\",\")\n    headers2=[\"Username\",\"Password\"]\n    if headers2 not in Userpass:\n       w.writerow(headers2)\n\nNewUser=(User[:3]+Age)\nprint(\"Great! Your username is set to: {}\".format(NewUser))\nPass=input(\"Enter a password for your account:\\n\")\nuserpass=[NewUser,Pass]\nw.writerow(userpass)\nUserpass.close()\n</code></pre>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1508968790, "post_id": 46942687, "comment_id": 80832843, "body": "ok sure ... just set the context..."}, {"owner": {"reputation": 123, "user_id": 8699975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDCMy.jpg?s=128&g=1", "display_name": "DrumBongo", "link": "https://stackoverflow.com/users/8699975/drumbongo"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1508968852, "post_id": 46942687, "comment_id": 80832868, "body": "please can you elaborate?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1508969015, "post_id": 46942687, "comment_id": 80832923, "body": "<code>renter_template(&#39;my_template.html&#39;,url_for=&#39;funding&#39;)</code>"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1508969387, "post_id": 46942687, "comment_id": 80833053, "body": "Neither Python nor Djinja templates have a <code>===</code> operator."}, {"owner": {"reputation": 123, "user_id": 8699975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDCMy.jpg?s=128&g=1", "display_name": "DrumBongo", "link": "https://stackoverflow.com/users/8699975/drumbongo"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1508969468, "post_id": 46942687, "comment_id": 80833079, "body": "@KlausD I have edited the template to change operator to <code>==</code> but it still doesn&#39;t work"}, {"owner": {"reputation": 123, "user_id": 8699975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDCMy.jpg?s=128&g=1", "display_name": "DrumBongo", "link": "https://stackoverflow.com/users/8699975/drumbongo"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1508969533, "post_id": 46942687, "comment_id": 80833099, "body": "@JoranBeasley I have edited the first post to show error thrown when context is set"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1508972951, "post_id": 46942687, "comment_id": 80834208, "body": "dont name it <code>url_for</code> ... just pass it <code>is_funding=True</code> or whatever ... you are gonna have to connect these dots on your own"}], "answers": [{"tags": [], "owner": {"reputation": 9518, "user_id": 3129414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0k8zH.png?s=128&g=1", "display_name": "arsho", "link": "https://stackoverflow.com/users/3129414/arsho"}, "is_accepted": false, "score": 2, "last_activity_date": 1509022005, "creation_date": 1509022005, "answer_id": 46954755, "question_id": 46942687, "link": "https://stackoverflow.com/questions/46942687/flask-conditional-inserting-of-script-based-on-url/46954755#46954755", "title": "flask conditional inserting of script based on url", "body": "<p>You can obviously do that. I assume that you are using the same template in multiple routes and want to load a JS file in a specific route. You can do this like following:</p>\n\n<p><code>application.py</code>:</p>\n\n<pre><code>from flask import Flask\nfrom flask import request\nfrom flask import render_template\n\napp = Flask(__name__)\n\n@app.route('/')\ndef show_index():\n    return render_template('funding.html')\n\n@app.route('/funding')\ndef show_funding():\n    return render_template('funding.html')\n\nif __name__ == '__main__':\n    app.run(debug = True) \n</code></pre>\n\n<p>We can use <code>{{ request.path }}</code> in template which returns the relative path of the current request. The template <code>funding.html</code> contains:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Template&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h3&gt;You are here: {{ request.path }}&lt;/h3&gt;\n    {% if request.path == url_for('show_funding') %}\n        &lt;script src=\"{{ url_for ('static', filename='js/funding.js')}}\"&gt;&lt;/script&gt;\n    {% endif %}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The JS file (<code>funding.js</code>) located in <code>js</code> which is in <code>static</code> folder. It contains a single alert message:</p>\n\n<pre><code>alert(\"Hello from funding page\");\n</code></pre>\n\n<p>Now when we visit the root path the JS file is not loaded but when we visit the <code>funding</code> path it is being loaded like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QwwXL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QwwXL.png\" alt=\"load js dynamically in template\"></a></p>\n"}], "owner": {"reputation": 123, "user_id": 8699975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDCMy.jpg?s=128&g=1", "display_name": "DrumBongo", "link": "https://stackoverflow.com/users/8699975/drumbongo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1304, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1509022005, "creation_date": 1508968607, "last_edit_date": 1508969487, "question_id": 46942687, "link": "https://stackoverflow.com/questions/46942687/flask-conditional-inserting-of-script-based-on-url", "title": "flask conditional inserting of script based on url", "body": "<p>I want to conditionally add a script using flask's built if else template tags</p>\n\n<p>If i'm on my funding page I would like to insert my funding script</p>\n\n<p>for example:</p>\n\n<pre><code>{% if url == '/funding' %}\n    &lt;script src=\"{{ url_for ('static', filename='js/funding.js')}}\"&gt;&lt;/script&gt;\n{% endif %}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{% if url_for == 'funding' %}\n        &lt;script src=\"{{ url_for ('static', filename='js/funding.js')}}\"&gt;&lt;/script&gt;\n{% endif %}\n</code></pre>\n\n<p>setting the context throws an error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/flask/app.py\", line 1994, in __call__\n    return self.wsgi_app(environ, start_response)\n  File \"/usr/local/lib/python2.7/site-packages/flask/app.py\", line 1985, in wsgi_app\n    response = self.handle_exception(e)\n  File \"/usr/local/lib/python2.7/site-packages/flask/app.py\", line 1540, in handle_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/usr/local/lib/python2.7/site-packages/flask/app.py\", line 1982, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/usr/local/lib/python2.7/site-packages/flask/app.py\", line 1614, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/usr/local/lib/python2.7/site-packages/flask/app.py\", line 1517, in handle_user_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/usr/local/lib/python2.7/site-packages/flask/app.py\", line 1612, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/usr/local/lib/python2.7/site-packages/flask/app.py\", line 1598, in dispatch_request\n    return self.view_functions[rule.endpoint](**req.view_args)\n  File \"/Users/darren/PycharmProjects/schoolDonations/schoolDonations.py\", line 22, in funding\n    return render_template(\"funding.html\", url_for='funding')\n  File \"/usr/local/lib/python2.7/site-packages/flask/templating.py\", line 134, in render_template\n    context, ctx.app)\n  File \"/usr/local/lib/python2.7/site-packages/flask/templating.py\", line 116, in _render\n    rv = template.render(context)\n  File \"/usr/local/lib/python2.7/site-packages/jinja2/environment.py\", line 1008, in render\n    return self.environment.handle_exception(exc_info, True)\n  File \"/usr/local/lib/python2.7/site-packages/jinja2/environment.py\", line 780, in handle_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/Users/darren/PycharmProjects/schoolDonations/templates/funding.html\", line 1, in top-level template code\n    {% extends \"index.html\" %}\n  File \"/Users/darren/PycharmProjects/schoolDonations/templates/index.html\", line 5, in top-level template code\n    &lt;link rel=\"stylesheet\" href=\"{{ url_for ('static',\nAttributeError: 'str' object has no attribute '__call__'\n</code></pre>\n"}, {"tags": ["python", "algorithm", "matlab", "combinations"], "comments": [{"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "edited": false, "score": 2, "creation_date": 1508969065, "post_id": 46942681, "comment_id": 80832942, "body": "2,3... 2+3 = 5 &gt; 4 also"}, {"owner": {"reputation": 527, "user_id": 3745674, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/262522005fcd7199f9d7bb88a87a4c80?s=128&d=identicon&r=PG&f=1", "display_name": "Ribz", "link": "https://stackoverflow.com/users/3745674/ribz"}, "reply_to_user": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "edited": false, "score": 0, "creation_date": 1508969368, "post_id": 46942681, "comment_id": 80833045, "body": "@scharette The combination <code>2, 3</code> means that <code>P[2] + P[3] &lt;= 4</code> which is the case."}, {"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "edited": false, "score": 0, "creation_date": 1508969716, "post_id": 46942681, "comment_id": 80833159, "body": "@Ribz I&#39;m sorry but if <code>P = [1,2,3]</code> how can you even access <code>P[3]</code>. Am I crazy?"}, {"owner": {"reputation": 527, "user_id": 3745674, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/262522005fcd7199f9d7bb88a87a4c80?s=128&d=identicon&r=PG&f=1", "display_name": "Ribz", "link": "https://stackoverflow.com/users/3745674/ribz"}, "edited": false, "score": 0, "creation_date": 1508969816, "post_id": 46942681, "comment_id": 80833203, "body": "You are not. I just started the array at <code>1</code> not at <code>0</code>."}], "answers": [{"comments": [{"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "edited": false, "score": 0, "creation_date": 1508970059, "post_id": 46942808, "comment_id": 80833279, "body": "I think this is still a duplicate, maybe I&#39;m wrong."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 3, "last_activity_date": 1508969247, "creation_date": 1508969247, "answer_id": 46942808, "question_id": 46942681, "link": "https://stackoverflow.com/questions/46942681/how-to-find-all-combinations-that-sum-up-to-at-most-a-constant/46942808#46942808", "title": "How to find all combinations that sum up to at most a constant?", "body": "<p>This is like the subset sum problem (mentioned in the comments), except that's about finding numbers summing <em>equal</em> to a target.  You want to find numbers summing to a total <em>less-than-or-equal</em> to the target.  </p>\n\n<p>Nonetheless, a similar approach with dynamic programming can be used:</p>\n\n<pre><code>def subset_sum(vals, target=0):\n    sums = {0: [()]}  # key=sum, value=list of subsets for the sum\n    if target in sums:\n        yield from sums[target]  # annoying base case\n    for val in vals:\n        items = sums.items()  # don't change dict size during iteration\n        sums = dict(items)\n        for prev_sum, prev_subsets in items:\n            sum_ = prev_sum + val\n            subsets = [s + (val,) for s in prev_subsets]\n            sums[sum_] = sums.get(sum_, []) + subsets\n            if sum_ &lt;= target:\n                yield from subsets\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; for subset in subset_sum([1, 2, 3], target=4):\n...     print(*subset, sep='+')\n...     \n1\n2\n1+2\n3\n1+3\n</code></pre>\n"}], "owner": {"reputation": 527, "user_id": 3745674, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/262522005fcd7199f9d7bb88a87a4c80?s=128&d=identicon&r=PG&f=1", "display_name": "Ribz", "link": "https://stackoverflow.com/users/3745674/ribz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1497, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546820719, "creation_date": 1508968570, "last_edit_date": 1508969483, "question_id": 46942681, "link": "https://stackoverflow.com/questions/46942681/how-to-find-all-combinations-that-sum-up-to-at-most-a-constant", "title": "How to find all combinations that sum up to at most a constant?", "body": "<p>Let <code>P=[P1, P2, ..., Pk]</code> be <code>k</code> positive integers and let <code>T</code> be a positive integer. I would like to generate all combinations that sum up to at most <code>T</code>. That is, <code>sum(x[i] * P[i] for i in 1:k) &lt;= T</code> where <code>x[i] = 1</code> iff <code>i</code> is chosen in the combination.</p>\n\n<p>Example.</p>\n\n<p>Let <code>P=[1, 2, 3]</code> and <code>T=4</code>. The combinations should be: </p>\n\n<pre><code>1\n2\n3\n1, 2\n1, 3\n2, 3\n</code></pre>\n\n<p>So only the combination <code>1, 2, 3</code> cannot be there because <code>1 + 1 + 3 = 5 &gt; 4</code>.</p>\n\n<p>I thought of generating all combinations first and then start verifying the constraint <code>sum(x[i] * P[i] for i in 1:k) &lt;= T</code>. But this approach could be more time consuming than other clever approaches. How can we generate such combinations?</p>\n\n<p>NB. If you know any function in Python or Matlab that can be used to generate such combinations, you can provide it.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "csv", "tensorflow", "dask"], "comments": [{"owner": {"reputation": 141, "user_id": 7660234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6463bf5bed2a2a41d4cf5a66598bb0d0?s=128&d=identicon&r=PG&f=1", "display_name": "Rookie", "link": "https://stackoverflow.com/users/7660234/rookie"}, "edited": false, "score": 0, "creation_date": 1508975674, "post_id": 46942622, "comment_id": 80834952, "body": "The hyphen between &#39;feat&#39; and &#39;*&#39; will throw an error in Python.  Underscore will not. Have tried renaming a file to test?  You may even be able to delete the hyphen and let the wildcard take care of the hyphen though I can&#39;t I don&#39;t know (and can&#39;t test) if that is the behavior."}, {"owner": {"reputation": 832, "user_id": 492162, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/wDr1Y.jpg?s=128&g=1", "display_name": "nikitautiu", "link": "https://stackoverflow.com/users/492162/nikitautiu"}, "reply_to_user": {"reputation": 141, "user_id": 7660234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6463bf5bed2a2a41d4cf5a66598bb0d0?s=128&d=identicon&r=PG&f=1", "display_name": "Rookie", "link": "https://stackoverflow.com/users/7660234/rookie"}, "edited": false, "score": 0, "creation_date": 1509004591, "post_id": 46942622, "comment_id": 80844571, "body": "@Rookie This is not the case here, the <code>Dataframe</code> is built ok. Also I&#39;m pretty sure hyphens are not a problem when opening files in general in Python."}], "answers": [{"tags": [], "owner": {"reputation": 832, "user_id": 492162, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/wDr1Y.jpg?s=128&g=1", "display_name": "nikitautiu", "link": "https://stackoverflow.com/users/492162/nikitautiu"}, "is_accepted": true, "score": 0, "last_activity_date": 1511351690, "last_edit_date": 1511351690, "creation_date": 1509120759, "answer_id": 46979376, "question_id": 46942622, "link": "https://stackoverflow.com/questions/46942622/tensorflow-partitioned-csv-input-fn/46979376#46979376", "title": "Tensorflow partitioned csv input_fn", "body": "<p><strong>UPDATE:</strong> After trying fruitlessly to implement it via <code>dask</code> I gave up on the idea both from frustration and because the overhead might be a little to much.</p>\n\n<p>I implemented an input function using tf's queues with pretty good results. Here is <a href=\"https://gist.github.com/nikitautiu/3aea0e8ce77f0cd9da9a89ab0b30a48f\" rel=\"nofollow noreferrer\">the code</a>. Although slightly more complicated than what I had in mind with simply passing dataframes to the the estimator, but doing all the work inside tensorflow seems the most elegant approach.</p>\n\n<p><strong>FINAL UPDATE:</strong>\nShortly after I posted this question tensorlfow 1.4 was released, and with it the dataset API was officially supported and better documented. If anyone is still interested in this question, I advise you to check out <a href=\"https://www.tensorflow.org/programmers_guide/datasets#consuming_text_data\" rel=\"nofollow noreferrer\">this paragraph</a> from the TF documentation.</p>\n"}], "owner": {"reputation": 832, "user_id": 492162, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/wDr1Y.jpg?s=128&g=1", "display_name": "nikitautiu", "link": "https://stackoverflow.com/users/492162/nikitautiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 46979376, "answer_count": 1, "score": 1, "last_activity_date": 1511351690, "creation_date": 1508968303, "last_edit_date": 1508969836, "question_id": 46942622, "link": "https://stackoverflow.com/questions/46942622/tensorflow-partitioned-csv-input-fn", "title": "Tensorflow partitioned csv input_fn", "body": "<p>The problem, to sum it up, is that I have the data I want to use for training split into a lot of smaller csvs(<code>feat-01.csv</code>, <code>feat-02.csv</code>, etc). I am trying to feed these to an <code>Estimator</code>, more exactly to do this via some sort of <code>input_fn</code>.</p>\n\n<p>My ideal solution would've been to have some sort of input function that takes a <code>dask.Dataframe</code>(which is pretty much how I generated my data until now) and batch it to the estimator. I tried something along these lines:</p>\n\n<pre><code>import tensorflow as tf\nimport dask.dataframe as dd\n\nddf = dd.read_csv('feat-*.csv')\ntf.contrib.learn.extract_dask_data(ddf)\n</code></pre>\n\n<p>However this fails with:</p>\n\n<pre><code>TypeError: Expected `meta` to specify type DataFrame, got type Index\n</code></pre>\n\n<p>I kinda gave up on this idea due to the lack of documentation about using dask directly, although some docstrings seem to point out that it should be possible. I was thinking about making an <code>input_fn</code> to feed it directly from the csv files, but I found no specific examples about this usecase either.</p>\n\n<p>Being a bit of TF noob, I was wondering what the cleanest method to accomplish is.</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 660, "user_id": 2003487, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/738c28142129a64eb33d3579bcb570fe?s=128&d=identicon&r=PG", "display_name": "Wojciech Migda", "link": "https://stackoverflow.com/users/2003487/wojciech-migda"}, "edited": false, "score": 0, "creation_date": 1509014921, "post_id": 46942772, "comment_id": 80851603, "body": "Thank you, with that I am able to combine regular line plot with scatter plot in one."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1508969079, "creation_date": 1508969079, "answer_id": 46942772, "question_id": 46942610, "link": "https://stackoverflow.com/questions/46942610/how-to-parametrize-markers-color-alpha-radius-with-matplotlibs-plot-date/46942772#46942772", "title": "How to parametrize markers&#39; color/alpha/radius with matplotlib&#39;s plot_date", "body": "<p>There is no reason to use <code>plot_date</code> here. Instead use a <code>scatter</code> plot. Use the <code>scatter</code>'s <code>c</code> argument to produce the coloring.\nA minimal example:</p>\n\n<pre><code>import numpy as np\nimport datetime\nimport matplotlib.pyplot as plt\n\nbase = datetime.datetime.today()\nx = [base - datetime.timedelta(days=x) for x in np.random.randint(0,60, size=36)]\ny = np.random.rand(36)\nz = np.random.rand(36)\nplt.scatter(x,y, c=z)\n\nplt.gcf().autofmt_xdate()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/uBjM6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uBjM6.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 660, "user_id": 2003487, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/738c28142129a64eb33d3579bcb570fe?s=128&d=identicon&r=PG", "display_name": "Wojciech Migda", "link": "https://stackoverflow.com/users/2003487/wojciech-migda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 46942772, "answer_count": 1, "score": 1, "last_activity_date": 1508969089, "creation_date": 1508968244, "last_edit_date": 1508969089, "question_id": 46942610, "link": "https://stackoverflow.com/questions/46942610/how-to-parametrize-markers-color-alpha-radius-with-matplotlibs-plot-date", "title": "How to parametrize markers&#39; color/alpha/radius with matplotlib&#39;s plot_date", "body": "<p>I am trying to create a timeseries plot with matplotlib's plot_date(). One of the series I want to overlay has two scalar values per single time point. I would like to map one of these scalars to y axis, and the other one to some property of the marker, such as alpha value, color, or size (radius in case of circular markers).\nThere are examples of similar effects but with scatter plots.\nIs there a clever way to achieve such effect with plot_date?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 3, "last_activity_date": 1508968597, "creation_date": 1508968597, "answer_id": 46942684, "question_id": 46942587, "link": "https://stackoverflow.com/questions/46942587/create-new-column-from-specific-rows-in-pandas-dataframe/46942684#46942684", "title": "Create new column from specific rows in pandas dataframe", "body": "<p>IIUC</p>\n\n<pre><code>df1=df[df['floor_area'].isnull()]\n\ndf1['gross_floor_area']=df.groupby(df['floor_area'].isnull().cumsum())['floor_area'].sum().values\n\ndf1\nOut[463]: \n   id  ba    store_desc  floor_area  gross_floor_area\n0   0   1       ToyShop         NaN             60.71\n3   3   1  GroceryStore         NaN            158.80\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 8021550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e91560c7a5347e174dce3636a9da87f?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan H", "link": "https://stackoverflow.com/users/8021550/nathan-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1508969171, "creation_date": 1508969171, "answer_id": 46942791, "question_id": 46942587, "link": "https://stackoverflow.com/questions/46942587/create-new-column-from-specific-rows-in-pandas-dataframe/46942791#46942791", "title": "Create new column from specific rows in pandas dataframe", "body": "<p>First made a temporary column named category which I then forward filled, grouped by that column to get the sum,  and then mapped that back to the relevant store_desc values.</p>\n\n<pre><code>df['category'] = df[df.floor_area.isnull()]['store_desc']\n\ndf['category'].fillna(method='ffill',inplace=True)\n\ndf['gross_floor_area'] = df.store_desc.map(df.groupby('category').sum().floor_area)\n\ndf.drop('category',axis=1,inplace=True)\n\ndf[df.gross_floor_area.notnull()]\n</code></pre>\n"}], "owner": {"reputation": 841, "user_id": 6067528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c8f36aaa3e05af864eb5e19187f1db9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Comber", "link": "https://stackoverflow.com/users/6067528/sam-comber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1081, "favorite_count": 0, "accepted_answer_id": 46942684, "answer_count": 2, "score": 0, "last_activity_date": 1508969171, "creation_date": 1508968114, "question_id": 46942587, "link": "https://stackoverflow.com/questions/46942587/create-new-column-from-specific-rows-in-pandas-dataframe", "title": "Create new column from specific rows in pandas dataframe", "body": "<p>I have a csv file where each row represents a property followed by a variable number of subsequent rows that reflect rooms in the property. I want to create a column that, for each property, summates the gross floor area of each room. The unstructured nature of the data is making this difficult to achieve in <code>pandas</code>. Here is an example of the table I have at the moment:</p>\n\n<pre><code>id  ba  store_desc      floor_area\n0   1   Toy Shop        NaN\n1   2   Retail Zone A   29.42\n2   2   Retail Zone B   31.29\n3   1   Grocery Store   NaN\n4   2   Retail Zone A   68.00\n5   2   Outside Garden  83.50\n6   2   Office          7.30\n</code></pre>\n\n<p>Here is the table I am trying to create:</p>\n\n<pre><code>id  ba  store_desc      floor_area   gross_floor_area\n0   1   Toy Shop        NaN          60.71\n3   1   Grocery Store   NaN          158.8\n</code></pre>\n\n<p>Does anybody have any pointers on how to achieve this result? I'm totally lost.</p>\n\n<p>Sam</p>\n"}, {"tags": ["python", "pip", "python-3.6"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1508977053, "post_id": 46942585, "comment_id": 80835293, "body": "It looks like it might be a temporary issue with PyPI (which is undergoing a lot of transition at the moment)."}, {"owner": {"reputation": 319, "user_id": 3750550, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bd61f3d9a3ad2f965e093346560c488?s=128&d=identicon&r=PG&f=1", "display_name": "mrks_", "link": "https://stackoverflow.com/users/3750550/mrks"}, "reply_to_user": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1508978034, "post_id": 46942585, "comment_id": 80835515, "body": "Perhaps, but I&#39;m only experiencing this issue on one of my machines."}], "answers": [{"comments": [{"owner": {"reputation": 3981, "user_id": 525342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uAZd7.png?s=128&g=1", "display_name": "codeomnitrix", "link": "https://stackoverflow.com/users/525342/codeomnitrix"}, "edited": false, "score": 0, "creation_date": 1525279404, "post_id": 48547474, "comment_id": 87297571, "body": "I am facing the same issue with Python 2.7 and pip on mac osx 10.13.4. Above solution doesn&#39;t seem to resolve the issue, any other alternatives?"}], "tags": [], "owner": {"reputation": 319, "user_id": 3750550, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bd61f3d9a3ad2f965e093346560c488?s=128&d=identicon&r=PG&f=1", "display_name": "mrks_", "link": "https://stackoverflow.com/users/3750550/mrks"}, "is_accepted": true, "score": 4, "last_activity_date": 1525315249, "last_edit_date": 1525315249, "creation_date": 1517417764, "answer_id": 48547474, "question_id": 46942585, "link": "https://stackoverflow.com/questions/46942585/pip-error-oserror-errno-22-invalid-argument/48547474#48547474", "title": "Pip error, OSError Errno 22 invalid argument", "body": "<p>In my case, this was an issue with IPv6 on macOS High Sierra. To resolve, open your network preferences, select Wi-Fi from the list, and click \"Advanced...\". Click on the TCP/IP tab, then change Configure IPv6 to Link-local only.</p>\n"}], "owner": {"reputation": 319, "user_id": 3750550, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bd61f3d9a3ad2f965e093346560c488?s=128&d=identicon&r=PG&f=1", "display_name": "mrks_", "link": "https://stackoverflow.com/users/3750550/mrks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3036, "favorite_count": 2, "accepted_answer_id": 48547474, "answer_count": 1, "score": 3, "last_activity_date": 1525315249, "creation_date": 1508968113, "question_id": 46942585, "link": "https://stackoverflow.com/questions/46942585/pip-error-oserror-errno-22-invalid-argument", "title": "Pip error, OSError Errno 22 invalid argument", "body": "<p>When searching for or install packages with pip, I get the following error:</p>\n\n<pre><code>pip3 search validate\nRetrying (Retry(total=4, connect=None, read=None, redirect=None)) after connection broken by 'ProtocolError('Connection aborted.', OSError(22, 'Invalid argument'))': /pypi\nRetrying (Retry(total=3, connect=None, read=None, redirect=None)) after connection broken by 'ProtocolError('Connection aborted.', OSError(22, 'Invalid argument'))': /pypi\nRetrying (Retry(total=2, connect=None, read=None, redirect=None)) after connection broken by 'ProtocolError('Connection aborted.', OSError(22, 'Invalid argument'))': /pypi\nRetrying (Retry(total=1, connect=None, read=None, redirect=None)) after connection broken by 'ProtocolError('Connection aborted.', OSError(22, 'Invalid argument'))': /pypi\nRetrying (Retry(total=0, connect=None, read=None, redirect=None)) after connection broken by 'ProtocolError('Connection aborted.', OSError(22, 'Invalid argument'))': /pypi\nException:\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/connectionpool.py\", line 595, in urlopen\n    chunked=chunked)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/connectionpool.py\", line 352, in _make_request\n    self._validate_conn(conn)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/connectionpool.py\", line 831, in _validate_conn\n    conn.connect()\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/connection.py\", line 289, in connect\n    ssl_version=resolved_ssl_version)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py\", line 308, in ssl_wrap_socket\n    return context.wrap_socket(sock, server_hostname=server_hostname)\n  File \"/usr/local/Cellar/python3/3.6.3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 407, in wrap_socket\n    _context=self, _session=session)\n  File \"/usr/local/Cellar/python3/3.6.3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 791, in __init__\n    self.getpeername()\nOSError: [Errno 22] Invalid argument\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/adapters.py\", line 423, in send\n    timeout=timeout\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/connectionpool.py\", line 668, in urlopen\n    release_conn=release_conn, **response_kw)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/connectionpool.py\", line 668, in urlopen\n    release_conn=release_conn, **response_kw)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/connectionpool.py\", line 668, in urlopen\n    release_conn=release_conn, **response_kw)\n  [Previous line repeated 1 more times]\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/connectionpool.py\", line 640, in urlopen\n    _stacktrace=sys.exc_info()[2])\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/util/retry.py\", line 287, in increment\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\npip._vendor.requests.packages.urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='pypi.python.org', port=443): Max retries exceeded with url: /pypi (Caused by ProtocolError('Connection aborted.', OSError(22, 'Invalid argument')))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/commands/search.py\", line 45, in run\n    pypi_hits = self.search(query, options)\n  File \"/usr/local/lib/python3.6/site-packages/pip/commands/search.py\", line 62, in search\n    hits = pypi.search({'name': query, 'summary': query}, 'or')\n  File \"/usr/local/Cellar/python3/3.6.3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/xmlrpc/client.py\", line 1112, in __call__\n    return self.__send(self.__name, args)\n  File \"/usr/local/Cellar/python3/3.6.3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/xmlrpc/client.py\", line 1452, in __request\n    verbose=self.__verbose\n  File \"/usr/local/lib/python3.6/site-packages/pip/download.py\", line 775, in request\n    headers=headers, stream=True)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/sessions.py\", line 522, in post\n    return self.request('POST', url, data=data, json=json, **kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/pip/download.py\", line 386, in request\n    return super(PipSession, self).request(method, url, *args, **kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/sessions.py\", line 475, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/sessions.py\", line 596, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/cachecontrol/adapter.py\", line 47, in send\n    resp = super(CacheControlAdapter, self).send(request, **kw)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/adapters.py\", line 487, in send\n    raise ConnectionError(e, request=request)\npip._vendor.requests.exceptions.ConnectionError: HTTPSConnectionPool(host='pypi.python.org', port=443): Max retries exceeded with url: /pypi (Caused by ProtocolError('Connection aborted.', OSError(22, 'Invalid argument')))\n</code></pre>\n\n<p>Pip version: pip 9.0.1 from /usr/local/lib/python3.6/site-packages (python 3.6)<br>\nPython version: 3.6.3<br>\nOS: macOS High Sierra 10.13 </p>\n\n<p>I've tried reinstalling python and pip. I don't believe I'm using any proxies, and it's probably not firewall (I can ping/dig pypi.python.org).</p>\n\n<p>After some additional digging, running <code>curl pypi.python.org</code> emits the same error: <code>curl: (55) getpeername() failed with errno 22: Invalid argument</code>.</p>\n"}, {"tags": ["python", "postgresql", "flask", "celery"], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 7052279, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1tcOesFGtyc/AAAAAAAAAAI/AAAAAAAAAgs/M_fhVsB9Pz4/photo.jpg?sz=128", "display_name": "Dimitris Filippou", "link": "https://stackoverflow.com/users/7052279/dimitris-filippou"}, "edited": false, "score": 0, "creation_date": 1509003238, "post_id": 46942831, "comment_id": 80843754, "body": "I think you are right, maybe I used url instead of redis url, I will check it and let you know, thanks for answering and providing those links"}], "tags": [], "owner": {"reputation": 739, "user_id": 4163768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JKXht4IxpzU/AAAAAAAAAAI/AAAAAAAAA94/82XKnW1fGZo/photo.jpg?sz=128", "display_name": "Lingster", "link": "https://stackoverflow.com/users/4163768/lingster"}, "is_accepted": true, "score": 4, "last_activity_date": 1508969391, "creation_date": 1508969391, "answer_id": 46942831, "question_id": 46942584, "link": "https://stackoverflow.com/questions/46942584/celery-tries-to-import-the-broker-url-as-a-module/46942831#46942831", "title": "Celery tries to import the broker URL as a module?", "body": "<p>can you confirm what the values of CELERY_BROKER_PROD and CELERY_RESULTS_BACKEND are? \nIt seems that you have defined this as myredisserverip.com, however according to the celery docs, redis server should be defined as: </p>\n\n<pre><code>CELERY_RESULT_BACKEND = 'redis://:password@host:port/db'\n</code></pre>\n\n<p>as per the documentation here: <a href=\"http://docs.celeryproject.org/en/3.1/configuration.html#redis-backend-settings\" rel=\"nofollow noreferrer\">http://docs.celeryproject.org/en/3.1/configuration.html#redis-backend-settings</a></p>\n\n<p>For the broker_url you need to define the transport, documentation on this can be found here:\n<a href=\"http://docs.celeryproject.org/en/3.1/configuration.html#broker-url\" rel=\"nofollow noreferrer\">http://docs.celeryproject.org/en/3.1/configuration.html#broker-url</a></p>\n\n<p>Is the issue that you are missing the transport, ie the redis:// prefix in your environment variables?</p>\n"}], "owner": {"reputation": 405, "user_id": 7052279, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1tcOesFGtyc/AAAAAAAAAAI/AAAAAAAAAgs/M_fhVsB9Pz4/photo.jpg?sz=128", "display_name": "Dimitris Filippou", "link": "https://stackoverflow.com/users/7052279/dimitris-filippou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 1, "accepted_answer_id": 46942831, "answer_count": 1, "score": 3, "last_activity_date": 1508969391, "creation_date": 1508968109, "question_id": 46942584, "link": "https://stackoverflow.com/questions/46942584/celery-tries-to-import-the-broker-url-as-a-module", "title": "Celery tries to import the broker URL as a module?", "body": "<p>I recently added Celery to my back end but i got this weird error below</p>\n\n<pre><code>[2017-10-25 21:41:37,142: CRITICAL/MainProcess] Unrecoverable error: ImportError('No module named myredisserverip.com',)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/celery/worker/worker.py\", line 203, in start\n    self.blueprint.start(self)\n  File \"/usr/local/lib/python2.7/dist-packages/celery/bootsteps.py\", line 115, in start\n    self.on_start()\n  File \"/usr/local/lib/python2.7/dist-packages/celery/apps/worker.py\", line 143, in on_start\n    self.emit_banner()\n  File \"/usr/local/lib/python2.7/dist-packages/celery/apps/worker.py\", line 158, in emit_banner\n    ' \\n', self.startup_info(artlines=not use_image))),\n  File \"/usr/local/lib/python2.7/dist-packages/celery/apps/worker.py\", line 221, in startup_info\n    results=self.app.backend.as_uri(),\n  File \"/usr/local/lib/python2.7/dist-packages/kombu/utils/objects.py\", line 44, in __get__\n    value = obj.__dict__[self.__name__] = self.__get(obj)\n  File \"/usr/local/lib/python2.7/dist-packages/celery/app/base.py\", line 1183, in backend\n    return self._get_backend()\n  File \"/usr/local/lib/python2.7/dist-packages/celery/app/base.py\", line 901, in _get_backend\n    self.loader)\n  File \"/usr/local/lib/python2.7/dist-packages/celery/app/backends.py\", line 66, in by_url\n    return by_name(backend, loader), url\n  File \"/usr/local/lib/python2.7/dist-packages/celery/app/backends.py\", line 46, in by_name\n    cls = symbol_by_name(backend, aliases)\n  File \"/usr/local/lib/python2.7/dist-packages/kombu/utils/imports.py\", line 56, in symbol_by_name\n    module = imp(module_name, package=package, **kwargs)\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\nImportError: No module named myredisserverip.com\n</code></pre>\n\n<p>My config.py looks like this</p>\n\n<pre><code>class BaseConfig(object):\n    \"\"\" A base configuration of the app \"\"\"\n\n    DEBUG = False\n    SERVER_NAME = \"my-production-ip\"\n    SECRET_KEY = os.environ['SECRET']\n    BASE_DIR = os.path.abspath(os.path.dirname(__file__))\n    SQLALCHEMY_DATABASE_URI = os.environ['SQL_PRODUCTION']\n    SQLALCHEMY_TRACK_MODIFICATIONS = True\n    CELERY_BROKER_URL = os.environ['CELERY_BROKER_PROD']\n    CELERY_RESULT_BACKEND = os.environ['CELERY_RESULT_BACKEND_PROD']\n    DATABASE_CONNECT_OPTIONS = {}\n    THREADS_PER_PAGE = 2\n    CSRF_ENABLED = True\n    CSRF_SESSION_KEY = \"secret\"\n    MAIL_SERVER = \"smtp.gmail.com\"\n    MAIL_PORT = 465\n    MAIL_USE_SSL = True\n    MAIL_USE_TSL = False\n    MAIL_USERNAME = \"blabla\"\n    MAIL_PASSWORD = \"pwd\"\n</code></pre>\n\n<p>CELERY_BROKER_PROD and CELERY_RESULT_BACKEND are both the same and they contain the URL of the redis instance im running on amazon AWS. When i try to run </p>\n\n<pre><code>celery worker -A app.celery\n</code></pre>\n\n<p>from within my project directory i get this error, what is happening?</p>\n\n<p>The way i setup celery is this</p>\n\n<pre><code>celery = Celery(app.name, broker=app.config['CELERY_BROKER_URL'])\ncelery.conf.update(app.config)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "python-import"], "comments": [{"owner": {"reputation": 1798, "user_id": 2280890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e409f9d13ce2d82edcb84b3f9cfb879?s=128&d=identicon&r=PG", "display_name": "import random", "link": "https://stackoverflow.com/users/2280890/import-random"}, "edited": false, "score": 1, "creation_date": 1508968222, "post_id": 46942566, "comment_id": 80832636, "body": "Can you run your other script as a subprocess?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 2, "creation_date": 1508968246, "post_id": 46942566, "comment_id": 80832646, "body": "You can execute it using the <a href=\"https://docs.python.org/3/library/subprocess.html#module-subprocess\" rel=\"nofollow noreferrer\"><code>subprocess</code></a> module. Just specify the interpreter you want along with the 2.7 .py file name as an argument. You can&#39;t do it through <code>import</code>."}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 1, "creation_date": 1508968283, "post_id": 46942566, "comment_id": 80832665, "body": "Directly - the short answer is &quot;no&quot;. <code>import</code> loads and compiles the module into the current interpreter... you&#39;ll have to find another way if you can&#39;t just easily port the other module."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1508968415, "post_id": 46942566, "comment_id": 80832721, "body": "It <i>sounds</i> like you may just want to use a <code>subprocess</code>. You&#39;ll just need to use the right interpreter (easily by providing the full path to the binary)."}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508968825, "post_id": 46942566, "comment_id": 80832856, "body": "Although, while <code>subprocess</code> and picking up the files after is a very general and workable solution - depends what you&#39;re doing in the other script, it might well be wasteful. For instance, if you&#39;re generating large CSV files that haven&#39;t had to have complicated processing/grouping applied to them and you only need to read them row by row, writing them to just read them again seems a little wasteful."}, {"owner": {"reputation": 15, "user_id": 7910406, "user_type": "registered", "profile_image": "https://graph.facebook.com/669084563228295/picture?type=large", "display_name": "Yule Wang", "link": "https://stackoverflow.com/users/7910406/yule-wang"}, "edited": false, "score": 0, "creation_date": 1508969438, "post_id": 46942566, "comment_id": 80833067, "body": "Thank you for the suggestion of subprocess! Is it possible to be more specific? I am not familiar with subprocess, so when I searched it and looked up into the documentation, it was still very confusing to me. Did not see where I can specify a different version of python when running another script."}], "answers": [{"tags": [], "owner": {"reputation": 1798, "user_id": 2280890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e409f9d13ce2d82edcb84b3f9cfb879?s=128&d=identicon&r=PG", "display_name": "import random", "link": "https://stackoverflow.com/users/2280890/import-random"}, "is_accepted": true, "score": 0, "last_activity_date": 1508982431, "creation_date": 1508982431, "answer_id": 46944591, "question_id": 46942566, "link": "https://stackoverflow.com/questions/46942566/in-a-script-using-python-3-x-importing-other-script-using-python-2-7-how-to-ma/46944591#46944591", "title": "In a script using Python 3.x, importing other script using Python 2.7, how to make that specific script running with 2.7 separately when importing it?", "body": "<p>Here's a basic example:</p>\n\n<pre><code>import subprocess\nimport platform\n\nprint(\"Running \", platform.python_version())\nold_version = subprocess.check_output(\"python2 --version\", encoding=\"utf-8\")\nprint(\"Old version\", old_version)\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7910406, "user_type": "registered", "profile_image": "https://graph.facebook.com/669084563228295/picture?type=large", "display_name": "Yule Wang", "link": "https://stackoverflow.com/users/7910406/yule-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 46944591, "answer_count": 1, "score": 0, "last_activity_date": 1508982431, "creation_date": 1508968030, "question_id": 46942566, "link": "https://stackoverflow.com/questions/46942566/in-a-script-using-python-3-x-importing-other-script-using-python-2-7-how-to-ma", "title": "In a script using Python 3.x, importing other script using Python 2.7, how to make that specific script running with 2.7 separately when importing it?", "body": "<p>In a python script running with Python 3.x, importing another python script running with Python 2.7, is it possible to tell the program to use Python 2.7 interpreter when importing that specific script?</p>\n\n<p>In this \"mainfile.py\" running with Python 3.x</p>\n\n<pre>\nimport anotherfile27\n</pre>\n\n<p>As soon as \"anotherfile27.py\" is importing, everything will automatically run, no functions in \"anotherfile27.py\" need to be reused in \"mainfile.py\". Only several .csv scripts will be generated in order to be used later.</p>\n\n<p>Is it possible to write a line of code within \"anotherfile27.py\" or within \"mainfile.py\" to tell the program to change the interpreter from Python 3 to Python 2.7 only when running \"anotherfile27.py\"? </p>\n"}, {"tags": ["python", "tensorflow", "conv-neural-network", "text-classification"], "answers": [{"comments": [{"owner": {"reputation": 6350, "user_id": 2399935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0dba94ea111afa694c3615b18bea3589?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2399935/brian"}, "edited": false, "score": 0, "creation_date": 1509038845, "post_id": 46943377, "comment_id": 80868107, "body": "Thanks for this explanation. It clicked when I read <code>Since the filter size in the embedding dimension covers the input entirely</code>."}], "tags": [], "owner": {"reputation": 831, "user_id": 3932212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lw2KX.jpg?s=128&g=1", "display_name": "amirbar", "link": "https://stackoverflow.com/users/3932212/amirbar"}, "is_accepted": true, "score": 1, "last_activity_date": 1508972936, "last_edit_date": 1592644375, "creation_date": 1508972936, "answer_id": 46943377, "question_id": 46942526, "link": "https://stackoverflow.com/questions/46942526/tensorflow-understanding-filter-and-stride-shapes-for-cnn-text-classification/46943377#46943377", "title": "TensorFlow - Understanding filter and stride shapes for CNN text classification", "body": "<blockquote>\n<p>Filters</p>\n<p>Have I interpreted this correctly?</p>\n</blockquote>\n<p>Yes, exactly.</p>\n<blockquote>\n<p>Strides</p>\n<p>Does this shape's dimensions correspond to the dimensions of the\nfilter_shape?</p>\n</blockquote>\n<p>Yes, it corresponds to the strides in which you convolve the filter on the input embedding.</p>\n<blockquote>\n<p>It would seem that the nature of word vector representations\nmeans that the stride length should be [1, embedding_size, 1, 1]\nmeaning I want to move the window one full word at-a-time over one\nchannel for each filter.</p>\n</blockquote>\n<p>Pay attention to the padding strategy - the padding in <code>conv2d</code> is set to be <code>VALID</code>. This means there will be no padding. Since the filter size in the embedding dimension covers the input entirely, it can fit only once without any consideration of the stride along this dimension.</p>\n<p>Put differently - you can convolve along the embedding dimension only once independently of the stride.</p>\n"}], "owner": {"reputation": 6350, "user_id": 2399935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0dba94ea111afa694c3615b18bea3589?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2399935/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1073, "favorite_count": 0, "accepted_answer_id": 46943377, "answer_count": 1, "score": 0, "last_activity_date": 1508972936, "creation_date": 1508967863, "question_id": 46942526, "link": "https://stackoverflow.com/questions/46942526/tensorflow-understanding-filter-and-stride-shapes-for-cnn-text-classification", "title": "TensorFlow - Understanding filter and stride shapes for CNN text classification", "body": "<p>I am reviewing Denny Britz's <a href=\"http://www.wildml.com/2015/12/implementing-a-cnn-for-text-classification-in-tensorflow/\" rel=\"nofollow noreferrer\">tutorial</a> on <strong>text</strong> classification using <code>CNNs</code> in <code>TensorFlow</code>. Filter and stride shapes make perfect sense in the image domain. However, when it comes to text, I am confused on how to correctly define the stride and filter shapes. Consider the following two layers from Denny's code:</p>\n\n<pre><code># Create a convolution + maxpool layer for each filter size\npooled_outputs = []\nfor i, filter_size in enumerate(filter_sizes):\n    with tf.name_scope(\"conv-maxpool-%s\" % filter_size):\n        # Convolution Layer\n        filter_shape = [filter_size, embedding_size, 1, num_filters]\n        W = tf.Variable(tf.truncated_normal(filter_shape, stddev=0.1), name=\"W\")\n        b = tf.Variable(tf.constant(0.1, shape=[num_filters]), name=\"b\")\n        conv = tf.nn.conv2d(\n            self.embedded_chars_expanded,\n                W,\n                strides=[1, 1, 1, 1],\n                padding=\"VALID\",\n                name=\"conv\")\n        # Apply nonlinearity\n        h = tf.nn.relu(tf.nn.bias_add(conv, b), name=\"relu\")\n        # Maxpooling over the outputs\n        pooled = tf.nn.max_pool(\n            h,\n            ksize=[1, sequence_length - filter_size + 1, 1, 1],\n            strides=[1, 1, 1, 1],\n            padding='VALID',\n            name=\"pool\")\n        pooled_outputs.append(pooled)\n</code></pre>\n\n<p>The shape of <code>self.embedded_chars_expanded</code> is <code>[batch_size, max_sentence_length, embedding_size, 1]</code> which means each batch member is a single channel matrix of <code>max_sentence_length x embedding_size</code></p>\n\n<p><strong>Filters</strong></p>\n\n<p>Suppose my filter_shape is <code>[3, 50, 1, 16]</code>. I interpret this as the filter will slide over <code>3</code> word vectors at a time which has dimensionality <code>50</code>. This is text, so the <code>1</code> corresponds to a single channel of input (as opposed to <code>3</code> with <code>RGB</code>). Lastly, the <code>16</code> implies I will have <code>16</code> filters in the <code>conv layer</code>.</p>\n\n<p>Have I interpreted this correctly?</p>\n\n<p><strong>Strides</strong></p>\n\n<p>Similarly, stride shapes, in both the conv and pooling layers are defined as <code>[1, 1, 1, 1]</code>. </p>\n\n<p>Does this shape's dimensions correspond to the dimensions of the <code>filter_shape</code>? </p>\n\n<p>If so, this is why I am confused. It would seem that the nature of word vector representations means that the stride length should be <code>[1, embedding_size, 1, 1]</code> meaning I want to move the window one full word at-a-time over one channel for each filter.</p>\n"}, {"tags": ["python", "mongodb", "pymongo"], "comments": [{"owner": {"reputation": 500, "user_id": 5800952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/162124b3c0b78ad6e3c947e7bbaa001c?s=128&d=identicon&r=PG&f=1", "display_name": "patito", "link": "https://stackoverflow.com/users/5800952/patito"}, "edited": false, "score": 0, "creation_date": 1508967850, "post_id": 46942450, "comment_id": 80832480, "body": "You are trying to find two dictionaries, try merging them and you should see the result."}, {"owner": {"reputation": 65, "user_id": 8826786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Aydjxrtaq1E/AAAAAAAAAAI/AAAAAAAAAFc/7YOrjyZJ6sQ/photo.jpg?sz=128", "display_name": "plusvictoria", "link": "https://stackoverflow.com/users/8826786/plusvictoria"}, "reply_to_user": {"reputation": 500, "user_id": 5800952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/162124b3c0b78ad6e3c947e7bbaa001c?s=128&d=identicon&r=PG&f=1", "display_name": "patito", "link": "https://stackoverflow.com/users/5800952/patito"}, "edited": false, "score": 0, "creation_date": 1508968247, "post_id": 46942450, "comment_id": 80832647, "body": "I have tried doing <code>if db.rooms.find({&#39;username&#39;: username}).count() &gt; 0:         return 1     else:         return 0</code> but it does not provide the correct results."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 8826786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Aydjxrtaq1E/AAAAAAAAAAI/AAAAAAAAAFc/7YOrjyZJ6sQ/photo.jpg?sz=128", "display_name": "plusvictoria", "link": "https://stackoverflow.com/users/8826786/plusvictoria"}, "edited": false, "score": 0, "creation_date": 1508970350, "post_id": 46942762, "comment_id": 80833374, "body": "I adapted this to work with my &quot;user_exists&quot; function! Thank you!"}, {"owner": {"reputation": 745, "user_id": 4608319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UpOMw.jpg?s=128&g=1", "display_name": "cbartosiak", "link": "https://stackoverflow.com/users/4608319/cbartosiak"}, "reply_to_user": {"reputation": 65, "user_id": 8826786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Aydjxrtaq1E/AAAAAAAAAAI/AAAAAAAAAFc/7YOrjyZJ6sQ/photo.jpg?sz=128", "display_name": "plusvictoria", "link": "https://stackoverflow.com/users/8826786/plusvictoria"}, "edited": false, "score": 0, "creation_date": 1508971721, "post_id": 46942762, "comment_id": 80833816, "body": "Would you mind accepting my answer if it solved your issue?"}], "tags": [], "owner": {"reputation": 745, "user_id": 4608319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UpOMw.jpg?s=128&g=1", "display_name": "cbartosiak", "link": "https://stackoverflow.com/users/4608319/cbartosiak"}, "is_accepted": true, "score": 0, "last_activity_date": 1508969009, "creation_date": 1508969009, "answer_id": 46942762, "question_id": 46942450, "link": "https://stackoverflow.com/questions/46942450/check-if-entry-exists-in-mongodb-using-python-flask/46942762#46942762", "title": "Check if entry exists in MongoDB using Python Flask", "body": "<p>The following Mongo shell code will do the job:</p>\n\n<pre><code>db.yourColl.update(\n    { \"users.username\": \"Valeri\" },\n    {\n        \"$set\": { \"users.$.user_ip\": \"1.1.0.0\" }\n    }\n)\n</code></pre>\n\n<p>I'm pretty sure you can easily adapt this to your code.</p>\n"}], "owner": {"reputation": 65, "user_id": 8826786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Aydjxrtaq1E/AAAAAAAAAAI/AAAAAAAAAFc/7YOrjyZJ6sQ/photo.jpg?sz=128", "display_name": "plusvictoria", "link": "https://stackoverflow.com/users/8826786/plusvictoria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "accepted_answer_id": 46942762, "answer_count": 1, "score": 0, "last_activity_date": 1508987190, "creation_date": 1508967401, "last_edit_date": 1508987190, "question_id": 46942450, "link": "https://stackoverflow.com/questions/46942450/check-if-entry-exists-in-mongodb-using-python-flask", "title": "Check if entry exists in MongoDB using Python Flask", "body": "<p>I have a collection of \"rooms\" which contains a collection of \"users.\" I am trying to search the \"rooms\" collection to see if a username already exists, and if it does, update the \"user_ip\" field. The collection looks like:</p>\n\n<pre><code>{\n    '_id': ObjectId('59eea13a2728d50a5edefe0z'), \n    'name': 'RH-0', \n    'room_key': 'test123', \n    'users': \n        [{'username': 'Pablo', 'user_ip': '127.0.0.1', 'user_port':0}, \n         {'username': 'Franco', 'user_ip': '127.0.0.1', 'user_port':1}, \n         {'username': 'Valeri', 'user_ip': '127.0.0.1', 'user_port':2}, \n         {'username': 'Sarah', 'user_ip': '127.0.0.1', 'user_port':3}\n        ], \n    'workshop_unit': 'wsu0'\n}\n</code></pre>\n\n<p>My current solution attempts to use the roomname and username, but I would prefer to use just the \"username\" to search.</p>\n\n<pre><code>def user_exists(roomname, username):\nif db.rooms.find({\"name\": roomname},{'username': username}).count() &gt; 0:\n    return 1\nelse:\n    return 0\n</code></pre>\n\n<p>**Note: The username will be a unique one throughout all the collections.</p>\n"}, {"tags": ["python", "mysql", "django", "python-2.7", "mysql-python"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1508967373, "post_id": 46942429, "comment_id": 80832285, "body": "That error message is pretty clear. You&#39;re not giving it enough arguments. What&#39;s your question?"}, {"owner": {"reputation": 381, "user_id": 5604375, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-0PltMu-n_As/AAAAAAAAAAI/AAAAAAAAAOw/BnWSJelvk2k/photo.jpg?sz=128", "display_name": "Tarun Khaneja", "link": "https://stackoverflow.com/users/5604375/tarun-khaneja"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1508967812, "post_id": 46942429, "comment_id": 80832470, "body": "then just tell me how to insert multiple rows in mysql using python"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1508967856, "post_id": 46942429, "comment_id": 80832483, "body": "Have you read the documentation for the <code>executemany</code> function?"}], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 1, "last_activity_date": 1508968419, "creation_date": 1508968419, "answer_id": 46942655, "question_id": 46942429, "link": "https://stackoverflow.com/questions/46942429/executemany-takes-exactly-3-arguments-2-given-mysql-with-python/46942655#46942655", "title": "executemany() takes exactly 3 arguments (2 given) -- mysql with Python", "body": "<p>The sql query and parameters should be passed as single arguments. You are currently passing a tuple instead. I would change it to:</p>\n\n<pre><code>cursor = connection.cursor()\nquery = \"\"\"INSERT INTO messages (\"\"\" + \",\".join(fields) + \"\"\") VALUES (%s, %s, %s, %s, %s, %s, %s) \"\"\"\n\ncursor.executemany(query, dataList)\n</code></pre>\n\n<p>Note that <code>query</code> is now a string, and I have used <code>join</code> to convert the list of fields to a comma separated string. If you use <code>str(tuple(fields))</code> you may end up with unwanted <code>u''</code> prefixes.</p>\n"}], "owner": {"reputation": 381, "user_id": 5604375, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-0PltMu-n_As/AAAAAAAAAAI/AAAAAAAAAOw/BnWSJelvk2k/photo.jpg?sz=128", "display_name": "Tarun Khaneja", "link": "https://stackoverflow.com/users/5604375/tarun-khaneja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "closed_date": 1508971655, "accepted_answer_id": 46942655, "answer_count": 1, "score": -2, "last_activity_date": 1508968419, "creation_date": 1508967329, "question_id": 46942429, "link": "https://stackoverflow.com/questions/46942429/executemany-takes-exactly-3-arguments-2-given-mysql-with-python", "closed_reason": "Needs details or clarity", "title": "executemany() takes exactly 3 arguments (2 given) -- mysql with Python", "body": "<p>fields is => [u'sender', u'timestamp', u'number', u'mms', u'datetime', u'text', u'id']</p>\n\n<p>dataList is  => [(False, 1475565742761L, u'VM-449100', False, u'2016-10-04 12:52:22 GMT+05:30', u'Some text here', 1276)]</p>\n\n<pre><code>    cursor = connection.cursor()\n    query = \"\"\"INSERT INTO messages \"\"\"+str(tuple(fields))+\"\"\" VALUES (%s, %s, %s, %s, %s, %s, %s) \"\"\",dataList\n\n    cursor.executemany(query)\n</code></pre>\n\n<p>On executing the above code i am getting error => executemany() takes exactly 3 arguments (2 given)</p>\n"}, {"tags": ["python", "r", "classification", "document"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1508967116, "post_id": 46942336, "comment_id": 80832170, "body": "When you read in data to your data-frames, you should be able to select exactly the columns you want, why can&#39;t you just do that? Also, there&#39;s a lot going on in your code, maybe try to remove extraneous stuff? Check out how to make an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You could provide a small example, maybe, of text, instead of providing a bunch of code that walks through a directory... something we could actually <i>run</i> to see the type of results you are seeing."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1508967610, "post_id": 46942336, "comment_id": 80832381, "body": "As a complete aside, I&#39;ve had a go at formatting your code a bit to make it more readable for most people working with Python. Unless you need to use otherwise, see <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP8</a> for guidance on formatting (I didn&#39;t go all the way, but to make it legible). Beforehand all I saw was a wall of text; it&#39;ll help you in any future coding project."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1508967647, "post_id": 46942336, "comment_id": 80832397, "body": "As an aside, you <i>really</i> don&#39;t want to be using a <code>pd.DataFrame</code> for your <code>listofpredprobs</code> and then <code>.append</code>ing to it. If the number of files is small, it won&#39;t be a big issue, but this will scale horrifically. You should just use a regular python list, <code>[]</code>, which has <i>excellent</i> <code>.append</code> efficiency."}, {"owner": {"reputation": 33, "user_id": 8834130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TncnywkD6s4/AAAAAAAAAAI/AAAAAAAATAg/Lj58zJrMcBw/photo.jpg?sz=128", "display_name": "Heather Ba", "link": "https://stackoverflow.com/users/8834130/heather-ba"}, "edited": false, "score": 0, "creation_date": 1508968271, "post_id": 46942336, "comment_id": 80832659, "body": "Thanks for the comments on the code. When I tried to simply &quot;extract the column I want&quot; I get the error code: TypeError: &#39;file&#39; object has no attribute &#39;<b>getitem</b>&#39;"}, {"owner": {"reputation": 33, "user_id": 8834130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TncnywkD6s4/AAAAAAAAAAI/AAAAAAAATAg/Lj58zJrMcBw/photo.jpg?sz=128", "display_name": "Heather Ba", "link": "https://stackoverflow.com/users/8834130/heather-ba"}, "edited": false, "score": 0, "creation_date": 1508968361, "post_id": 46942336, "comment_id": 80832703, "body": "I have about 700 documents to classify, so the dataframe  appending works fine. I tried simply appending to a list at first, but when the ndarrays have 3 dimensions, this makes for a mess of an object to unravel. If I can figure out how to stop it from classifying the doc_id, I can simply append in list form."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1508973594, "post_id": 46942336, "comment_id": 80834384, "body": "What do these files look like? <code>TfidfVectorizer</code> just takes a sequence of strings. You could probably just parse your text-files instead of using <code>CategorizedPlaintextCorpusReader</code>, which I&#39;ve never seen much of a need for."}, {"owner": {"reputation": 33, "user_id": 8834130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TncnywkD6s4/AAAAAAAAAAI/AAAAAAAATAg/Lj58zJrMcBw/photo.jpg?sz=128", "display_name": "Heather Ba", "link": "https://stackoverflow.com/users/8834130/heather-ba"}, "edited": false, "score": 0, "creation_date": 1509015626, "post_id": 46942336, "comment_id": 80852045, "body": "The files are just line of words separated by white space:  or\tassez\tassidu\tassign\tassissin\tassist\tassistance&#195;\tassiz\tass&zwnj;&#8203;oci\tassociation&#195;\tass&zwnj;&#8203;oupi\tassuag\tassum\tas&zwnj;&#8203;sumpt\tassur\tasta\tast&zwnj;&#8203;ano\tastir\tastonish\ta&zwnj;&#8203;stor\tastound\tastut\ta&zwnj;&#8203;sund\tasylum\tathen\tat&zwnj;&#8203;henaeum\tathenaum\tath&zwnj;&#8203;en&#195;\tathlet\tathl&#195;\tatk&zwnj;&#8203;inson\tatlant\tatlanti&zwnj;&#8203;c&#195;\tatlas\tatom\taton\ta&zwnj;&#8203;troc\tatroci\tatrocity&zwnj;&#8203;&#195;\tattach\tattack\tatta&zwnj;&#8203;h\tattain\tatteignai\ta&zwnj;&#8203;tteignait\tattemp\tatt&zwnj;&#8203;empt\tattempt&#195;\tattend&zwnj;&#8203;\tattendanceth\tattent&zwnj;&#8203;\tattention&#195;\tatter&#195;\ta&zwnj;&#8203;ttest\tattila"}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 8834130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TncnywkD6s4/AAAAAAAAAAI/AAAAAAAATAg/Lj58zJrMcBw/photo.jpg?sz=128", "display_name": "Heather Ba", "link": "https://stackoverflow.com/users/8834130/heather-ba"}, "is_accepted": false, "score": 0, "last_activity_date": 1509034826, "creation_date": 1509034826, "answer_id": 46959247, "question_id": 46942336, "link": "https://stackoverflow.com/questions/46942336/categorizing-r-corpuses-using-nltk-and-sklearn/46959247#46959247", "title": "Categorizing R Corpuses using NLTK and SKLEARN", "body": "<p>Well, to solve it, I ended up re-processing the docs to classify using python. That did the trick! It took a couple of hours to process them all, but its done now. Thanks for your help. </p>\n"}], "owner": {"reputation": 33, "user_id": 8834130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TncnywkD6s4/AAAAAAAAAAI/AAAAAAAATAg/Lj58zJrMcBw/photo.jpg?sz=128", "display_name": "Heather Ba", "link": "https://stackoverflow.com/users/8834130/heather-ba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509034826, "creation_date": 1508966886, "last_edit_date": 1508967304, "question_id": 46942336, "link": "https://stackoverflow.com/questions/46942336/categorizing-r-corpuses-using-nltk-and-sklearn", "title": "Categorizing R Corpuses using NLTK and SKLEARN", "body": "<p>I have a set of documents that have been cleaned in R using the tm package. Ultimately they were converted to a dataframe and saved as .txt files using the write.table function. </p>\n\n<p>I then wrote python code using sklearn and ntlk to classify these documents using a pipeline with a Naive Bayes Classifier (this isn't important) and to dump the predicted outcomes into data frame. The classification works. However, when I recover the predicted labels and the predicted probabilities (using sklearn.pred_proba), I get 2 sets of probabilities for each document. The reason I believe this is happening is because the files that were processed in R have a \"doc_id\" associated with them, and I believe that the Python classification code I wrote tries to classify the text in the \"doc_id\" as well as the actual text in the file, so that instead of an ndarray with dimensions [1,3] when classifying a single document into the 3 categories I recover an ndarray with dimensions [2,3]. I have read the documentation on tm, sklearn, and ntlk, and I have read all of the stack exchange blogposts that came up under my search terms, but I cannot figure out how to either:</p>\n\n<p>1) remove the doc_id from the R files\n2) have sklearn model.predict and model.predict_proba classify only the text and not the doc_id.</p>\n\n<p>Any help you could offer would be great. This seems like it should be an easy fix, but none of the solutions I have tried so far have fixed it, including using the CategorizedPlaintextCorpusReader function in python to extract the raw text using reader.raw because the model.predict function won't accept a series of strings, which is the object reader.raw produces.</p>\n\n<p>My python code that might be useful:</p>\n\n<pre><code>import nltk\nfrom nltk.corpus.reader import CategorizedPlaintextCorpusReader\nfrom sklearn.naive_bayes import MultinomialNB\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.feature_extraction.text import TfidfTransformerCleaned_For_Classification_USStateDepartment_Volumes\nfrom sklearn.naive_bayes import MultinomialNB\nfrom sklearn.pipeline import make_pipeline\nfrom nltk.stem import PorterStemmer\nfrom nltk import word_tokenize\nfrom nltk.corpus import stopwords\nimport os\nimport pandas as pd\nimport numpy as np\n\nreader = CategorizedPlaintextCorpusReader('file', r'file_.*\\.txt', cat_pattern =r'file_(\\w+)\\.txt')\nliberaltext = reader.raw(fileids='file_liberal.txt')\nrealisttext = reader.raw(fileids='file_realist.txt')\natheoretictext = reader.raw(fileids='file_atheoretic.txt')\ndocuments = [liberaltext, realisttext, atheoretictext]\ncategories= ['liberal','realist', 'neither']\nlistofpredprobs = pd.DataFrame({\"liberal\": [0], \"realist\": [0], \"neither\":[0]})\n\ndef stemming_tokenizer(text):\n    stemmer = PorterStemmer()\n    return [stemmer.stem(w) for w in word_tokenize(text)]\n\nmodel = make_pipeline(TfidfVectorizer(tokenizer=stemming_tokenizer, stop_words = stopwords.words('english'), encoding=u'UTF-8'), MultinomialNB())\nmodel.fit(documents, categories)\nfor root, dirs, files in os.walk('file'):\n    for file in files:\n        test = open(os.path.join(\"file\", file), 'r')\n        labels = model.predict(test)\n        test = open(os.path.join(\"file\", file), 'r')\n        predprobs = model.predict_proba(test)\n        dfpp = pd.DataFrame(predprobs, columns=categories)\n        listofpredprobs = listofpredprobs.append(dfpp)\n</code></pre>\n"}, {"tags": ["python", "sql", "sql-server", "database", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1508967300, "post_id": 46942301, "comment_id": 80832252, "body": "are you sure <b>all</b> tables from the source DB will fit into RAM on the machine where you are going to run your Python script?"}, {"owner": {"reputation": 573, "user_id": 6206509, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6739791c50d96f50bc815047f3483a2a?s=128&d=identicon&r=PG", "display_name": "Albatross", "link": "https://stackoverflow.com/users/6206509/albatross"}, "edited": false, "score": 0, "creation_date": 1508967348, "post_id": 46942301, "comment_id": 80832272, "body": "store table names in a simple text file. Read the table name one at a time and then use the above script to copy one by one. You can print some info in between to log the progress. Even better, there can be a central machine which holds the list. You can have other worker machines which will read each table name individually and copy it that way you will distribute the work. But destination DB should be able to handle the incoming load as well."}, {"owner": {"reputation": 543, "user_id": 6365890, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/31daf263132d23aa8360e371896fefc0?s=128&d=identicon&r=PG&f=1", "display_name": "pynewbee", "link": "https://stackoverflow.com/users/6365890/pynewbee"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1508967423, "post_id": 46942301, "comment_id": 80832304, "body": "@MaxU yes, we will be dedicating a database for this"}, {"owner": {"reputation": 543, "user_id": 6365890, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/31daf263132d23aa8360e371896fefc0?s=128&d=identicon&r=PG&f=1", "display_name": "pynewbee", "link": "https://stackoverflow.com/users/6365890/pynewbee"}, "reply_to_user": {"reputation": 573, "user_id": 6206509, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6739791c50d96f50bc815047f3483a2a?s=128&d=identicon&r=PG", "display_name": "Albatross", "link": "https://stackoverflow.com/users/6206509/albatross"}, "edited": false, "score": 0, "creation_date": 1508967517, "post_id": 46942301, "comment_id": 80832348, "body": "@Confused can you show me a sample code or tell me how python would read in a text file? thank you so much!!! im seriously new to python"}, {"owner": {"reputation": 573, "user_id": 6206509, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6739791c50d96f50bc815047f3483a2a?s=128&d=identicon&r=PG", "display_name": "Albatross", "link": "https://stackoverflow.com/users/6206509/albatross"}, "edited": false, "score": 0, "creation_date": 1509043132, "post_id": 46942301, "comment_id": 80870513, "body": "Please refer (<a href=\"https://stackoverflow.com/questions/3277503/how-do-i-read-a-file-line-by-line-into-a-list\" title=\"how do i read a file line by line into a list\">stackoverflow.com/questions/3277503/&hellip;</a>). You can ignore the list part."}], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 1, "last_activity_date": 1508967861, "creation_date": 1508967861, "answer_id": 46942524, "question_id": 46942301, "link": "https://stackoverflow.com/questions/46942301/copy-tables-from-one-database-to-another-in-sql-server-using-python/46942524#46942524", "title": "Copy tables from one database to another in SQL Server, using Python", "body": "<p>You can do something like this:</p>\n\n<pre><code>tabs = pd.read_sql(\"SELECT table_name FROM INFORMATION_SCHEMA.TABLES\", db1)\n\nfor tab in tabs['table_name']:\n    pd.read_sql(\"select * from {}\".format(tab), db1).to_sql(tab, db2, index=False)\n</code></pre>\n\n<p>But it might be be awfully slow. Use SQL Server tools to do this job.</p>\n\n<p>Consider using <a href=\"https://docs.microsoft.com/en-us/sql/relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql\" rel=\"nofollow noreferrer\">sp_addlinkedserver</a> procedure to link one SQL Server from another. After that you can execute:</p>\n\n<pre><code>SELECT * INTO server_name...table_name FROM table_name\n</code></pre>\n\n<p>for all tables from the <code>db1</code> database.</p>\n\n<p>PS this might be done in Python + SQLAlchemy as well...</p>\n"}, {"comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 2, "creation_date": 1508968205, "post_id": 46942598, "comment_id": 80832626, "body": "<code>&quot;This method will also produce correct keys, indexes, foreign keys.&quot;</code> +1"}, {"owner": {"reputation": 896, "user_id": 3055725, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7736250e7eae9435540a34c6299dbd7b?s=128&d=identicon&r=PG", "display_name": "Mateus Felipe", "link": "https://stackoverflow.com/users/3055725/mateus-felipe"}, "edited": false, "score": 0, "creation_date": 1516880589, "post_id": 46942598, "comment_id": 83875202, "body": "I ditn&#39;t get the part of select/insert. How can I do this succintly with SQLAlchemy?"}, {"owner": {"reputation": 1137, "user_id": 3395374, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/285a4a5200f609969d811d471ae2c846?s=128&d=identicon&r=PG&f=1", "display_name": "Muposat", "link": "https://stackoverflow.com/users/3395374/muposat"}, "reply_to_user": {"reputation": 896, "user_id": 3055725, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7736250e7eae9435540a34c6299dbd7b?s=128&d=identicon&r=PG", "display_name": "Mateus Felipe", "link": "https://stackoverflow.com/users/3055725/mateus-felipe"}, "edited": false, "score": 0, "creation_date": 1516924817, "post_id": 46942598, "comment_id": 83900727, "body": "@Mateus Felipe: something like this: <code>for rec in select(table1): table2.insert(rec)</code>. This is best if discussed as a separate question. Make sure to post a code sample if you do."}, {"owner": {"reputation": 896, "user_id": 3055725, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7736250e7eae9435540a34c6299dbd7b?s=128&d=identicon&r=PG", "display_name": "Mateus Felipe", "link": "https://stackoverflow.com/users/3055725/mateus-felipe"}, "edited": false, "score": 0, "creation_date": 1516965985, "post_id": 46942598, "comment_id": 83913643, "body": "@Muposat Thanks for your answer! I actually searched a little more and found this: <a href=\"https://stackoverflow.com/questions/21770829/sqlalchemy-copy-schema-and-data-of-subquery-to-another-database\" title=\"sqlalchemy copy schema and data of subquery to another database\">stackoverflow.com/questions/21770829/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1137, "user_id": 3395374, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/285a4a5200f609969d811d471ae2c846?s=128&d=identicon&r=PG&f=1", "display_name": "Muposat", "link": "https://stackoverflow.com/users/3395374/muposat"}, "is_accepted": false, "score": 7, "last_activity_date": 1508968155, "creation_date": 1508968155, "answer_id": 46942598, "question_id": 46942301, "link": "https://stackoverflow.com/questions/46942301/copy-tables-from-one-database-to-another-in-sql-server-using-python/46942598#46942598", "title": "Copy tables from one database to another in SQL Server, using Python", "body": "<p>SQLAlchemy is actually a good tool to use to create identical tables in the second db:</p>\n\n<pre><code>table = Table('test_table', metadata, autoload=True, autoload_with=db1)\ntable.create(engine=db2)\n</code></pre>\n\n<p>This method will also produce correct keys, indexes, foreign keys. Once the needed tables are created, you can move the data by either select/insert if the tables are relatively small or use bcp utility to dump table to disk and then load it into the second database (much faster but more work to get it to work correctly)</p>\n\n<p>If using select/insert then it is better to insert in batches of 500 records or so.</p>\n"}], "owner": {"reputation": 543, "user_id": 6365890, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/31daf263132d23aa8360e371896fefc0?s=128&d=identicon&r=PG&f=1", "display_name": "pynewbee", "link": "https://stackoverflow.com/users/6365890/pynewbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16992, "favorite_count": 4, "answer_count": 2, "score": 5, "last_activity_date": 1533138106, "creation_date": 1508966763, "last_edit_date": 1533138106, "question_id": 46942301, "link": "https://stackoverflow.com/questions/46942301/copy-tables-from-one-database-to-another-in-sql-server-using-python", "title": "Copy tables from one database to another in SQL Server, using Python", "body": "<p>Does anybody know of a good Python code that can copy large number of tables (around 100 tables) from one database to another in SQL Server? </p>\n\n<p>I ask if there is a way to do it in Python, because due to restrictions at my place of employment, I cannot copy tables across databases inside SQL Server alone. </p>\n\n<p>Here is a simple Python code that copies one table from one database to another. I am wondering if there is a better way to write it if I want to copy 100 tables.</p>\n\n<pre><code>print('Initializing...')\n\nimport pandas as pd\nimport sqlalchemy\nimport pyodbc\n\ndb1 = sqlalchemy.create_engine(\"mssql+pyodbc://user:password@db_one\")\ndb2 = sqlalchemy.create_engine(\"mssql+pyodbc://user:password@db_two\")\n\nprint('Writing...')\n\nquery = '''SELECT * FROM [dbo].[test_table]'''\ndf = pd.read_sql(query, db1)\ndf.to_sql('test_table', db2, schema='dbo', index=False, if_exists='replace')\n\nprint('(1) [test_table] copied.')\n</code></pre>\n"}, {"tags": ["python", "string", "python-3.x"], "comments": [{"owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "edited": false, "score": 0, "creation_date": 1508966636, "post_id": 46942263, "comment_id": 80831955, "body": "<code>&#39; &#39;.join([&#39;hello&#39;,&#39;world&#39;])</code>"}], "answers": [{"comments": [{"owner": {"reputation": 82, "user_id": 8008681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d621f78a0d8ed7bea73984d7e4360c95?s=128&d=identicon&r=PG&f=1", "display_name": "A Viper", "link": "https://stackoverflow.com/users/8008681/a-viper"}, "edited": false, "score": 0, "creation_date": 1508978591, "post_id": 46942283, "comment_id": 80835640, "body": "Thanks for the help"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 3, "last_activity_date": 1508966644, "creation_date": 1508966644, "answer_id": 46942283, "question_id": 46942263, "link": "https://stackoverflow.com/questions/46942263/how-to-change-a-split-str-into-a-normal-str/46942283#46942283", "title": "How to change a split str into a normal str", "body": "<p>Given a list, you can use <code>' '.join</code>:</p>\n\n<pre><code>s = ['hello','world']\nnew_s = ' '.join(s)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>'hello world'\n</code></pre>\n"}], "owner": {"reputation": 82, "user_id": 8008681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d621f78a0d8ed7bea73984d7e4360c95?s=128&d=identicon&r=PG&f=1", "display_name": "A Viper", "link": "https://stackoverflow.com/users/8008681/a-viper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1508967030, "accepted_answer_id": 46942283, "answer_count": 1, "score": -7, "last_activity_date": 1508966644, "creation_date": 1508966541, "question_id": 46942263, "link": "https://stackoverflow.com/questions/46942263/how-to-change-a-split-str-into-a-normal-str", "closed_reason": "Duplicate", "title": "How to change a split str into a normal str", "body": "<p>I have a code that does </p>\n\n<pre><code> a = \"hello world\"\n a.split(' ')\n</code></pre>\n\n<p>then it does other things and after that when it prints it prints like this </p>\n\n<pre><code> ['hello','world']\n</code></pre>\n\n<p>how would i make it change back to printing</p>\n\n<pre><code> hello word\n</code></pre>\n\n<p>Thanks for the help in advance!</p>\n"}, {"tags": ["python", "google-bigquery", "jupyter-notebook"], "comments": [{"owner": {"reputation": 4534, "user_id": 3064736, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wuMUa.jpg?s=128&g=1", "display_name": "Maximilian", "link": "https://stackoverflow.com/users/3064736/maximilian"}, "edited": false, "score": 1, "creation_date": 1508987193, "post_id": 46942237, "comment_id": 80837675, "body": "Why would you want to execute the query in a loop, rather than pass all the variables into a single query?"}, {"owner": {"reputation": 41, "user_id": 7486991, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210879918901337/picture?type=large", "display_name": "Matt Migdal", "link": "https://stackoverflow.com/users/7486991/matt-migdal"}, "reply_to_user": {"reputation": 4534, "user_id": 3064736, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wuMUa.jpg?s=128&g=1", "display_name": "Maximilian", "link": "https://stackoverflow.com/users/3064736/maximilian"}, "edited": false, "score": 0, "creation_date": 1509020028, "post_id": 46942237, "comment_id": 80854996, "body": "I need say, 500, different sql statement executions. When one variable is true, then print results, then a different variable true, etc"}, {"owner": {"reputation": 4534, "user_id": 3064736, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wuMUa.jpg?s=128&g=1", "display_name": "Maximilian", "link": "https://stackoverflow.com/users/3064736/maximilian"}, "edited": false, "score": 0, "creation_date": 1509023206, "post_id": 46942237, "comment_id": 80857423, "body": "Can you pull all the data in one query, and then iterate through the result?"}, {"owner": {"reputation": 41, "user_id": 7486991, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210879918901337/picture?type=large", "display_name": "Matt Migdal", "link": "https://stackoverflow.com/users/7486991/matt-migdal"}, "reply_to_user": {"reputation": 4534, "user_id": 3064736, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wuMUa.jpg?s=128&g=1", "display_name": "Maximilian", "link": "https://stackoverflow.com/users/3064736/maximilian"}, "edited": false, "score": 0, "creation_date": 1509059156, "post_id": 46942237, "comment_id": 80877999, "body": "No, because each query needs to be filtered a certain way. I figured out a good solution and will edit my question"}], "answers": [{"tags": [], "owner": {"reputation": 26236, "user_id": 8841057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4796c297c2b726df149e486e7d1fbb20?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Smith", "link": "https://stackoverflow.com/users/8841057/bob-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1509122669, "creation_date": 1509122669, "answer_id": 46979882, "question_id": 46942237, "link": "https://stackoverflow.com/questions/46942237/how-to-pass-variables-into-sql-query-using-jupyter-notebooks-python/46979882#46979882", "title": "How to pass variables into SQL query using Jupyter Notebooks Python", "body": "<p>Here's a complete example showing Python variable substitution.\n<a href=\"https://colab.research.google.com/notebook#fileId=0B7I8C_4vGdF6Mk1RMm1Fdm9EQVU\" rel=\"nofollow noreferrer\">https://colab.research.google.com/notebook#fileId=0B7I8C_4vGdF6Mk1RMm1Fdm9EQVU</a></p>\n\n<p>The notebook shows the following:</p>\n\n<ol>\n<li>Create a BigQuery table from some random CSV data.</li>\n<li>Query that table using the Pandas GBQ connector.</li>\n<li>Construct and execute a query against that table using Python variable substitution.</li>\n</ol>\n"}], "owner": {"reputation": 41, "user_id": 7486991, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210879918901337/picture?type=large", "display_name": "Matt Migdal", "link": "https://stackoverflow.com/users/7486991/matt-migdal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2528, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509122669, "creation_date": 1508966426, "last_edit_date": 1509059471, "question_id": 46942237, "link": "https://stackoverflow.com/questions/46942237/how-to-pass-variables-into-sql-query-using-jupyter-notebooks-python", "title": "How to pass variables into SQL query using Jupyter Notebooks Python", "body": "<p>For Example:</p>\n\n<pre><code>%bq query -n qu\n\nSELECT \n\n    *\n\nFROM\n\n    Table\n\nWHERE \n\n    [passed in variable (column)] = true\n</code></pre>\n\n<p>Then i want to execute the query in a loop</p>\n\n<pre><code>for row in data:\n\n  bq.execute qu(row[1])\n</code></pre>\n\n<p>Does something along these lines exist?</p>\n\n<p>EDIT: I figured out a solution for anyone who comes across this question</p>\n\n<pre><code>For row in [dataset with your variables]:\n\n   query = \"SELECT * FROM DATASET WHERE {} = TRUE\".format(variableData[0])\n\n   tab = bq.Query(query)\n\n   df = tab.execute(output_options=bq.QueryOutput.dataframe()).result()\n\n   qu = [list(x) for x in df.as_matrix()]\n\n   print(qu)\n</code></pre>\n"}, {"tags": ["python", "sockets", "security", "tcp", "python-sockets"], "comments": [{"owner": {"reputation": 3756, "user_id": 169406, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa156cbe6013a776c34466629ab92dc6?s=128&d=identicon&r=PG", "display_name": "bluszcz", "link": "https://stackoverflow.com/users/169406/bluszcz"}, "edited": false, "score": 0, "creation_date": 1508966652, "post_id": 46942162, "comment_id": 80831962, "body": "<a href=\"https://stackoverflow.com/questions/27287306/sending-encrypted-strings-using-socket-in-python\" title=\"sending encrypted strings using socket in python\">stackoverflow.com/questions/27287306/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 1318135, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/51e920c12a7cd864f476c9863b7d1354?s=128&d=identicon&r=PG", "display_name": "user1318135", "link": "https://stackoverflow.com/users/1318135/user1318135"}, "edited": false, "score": 0, "creation_date": 1509029346, "post_id": 46942304, "comment_id": 80862216, "body": "Thanks, this is very helpful to know! To clarify, does this risk exceed whatever risk would come from <code>multiprocessing.Pipe</code> for the same purpose? Does it exceed the risk of using Jupyter notebook (which deploys through localhost)? Just trying to understand amount of risk a bit better."}, {"owner": {"reputation": 3756, "user_id": 169406, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa156cbe6013a776c34466629ab92dc6?s=128&d=identicon&r=PG", "display_name": "bluszcz", "link": "https://stackoverflow.com/users/169406/bluszcz"}, "reply_to_user": {"reputation": 637, "user_id": 1318135, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/51e920c12a7cd864f476c9863b7d1354?s=128&d=identicon&r=PG", "display_name": "user1318135", "link": "https://stackoverflow.com/users/1318135/user1318135"}, "edited": false, "score": 0, "creation_date": 1509099736, "post_id": 46942304, "comment_id": 80893001, "body": "I am not sure how Jupyter is exchanging data, you can check it via: * netstats -tapdn  |grep jupyter -i Later when you have number of the ports use: * tcpdump -xxxxvvvv -i any &#39;port ZZZ&#39; # where ZZZ is a port number"}], "tags": [], "owner": {"reputation": 3756, "user_id": 169406, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa156cbe6013a776c34466629ab92dc6?s=128&d=identicon&r=PG", "display_name": "bluszcz", "link": "https://stackoverflow.com/users/169406/bluszcz"}, "is_accepted": false, "score": 1, "last_activity_date": 1508966777, "creation_date": 1508966777, "answer_id": 46942304, "question_id": 46942162, "link": "https://stackoverflow.com/questions/46942162/if-using-sockets-to-pass-sensitive-data-between-two-scripts-in-the-same-tkinter/46942304#46942304", "title": "If using sockets to pass sensitive data between two scripts in the same Tkinter app, over localhost, are there any security concerns?", "body": "<p>Yes, passing the data between scripts in this way may raise a security concerns. If the attacker has an access to the same machine - he can easily sniff the traffic using the tool like tcpdump for example. </p>\n\n<p>To avoid this you should encrypted your traffic - I have posted a comment below your question with an example solution.</p>\n"}], "owner": {"reputation": 637, "user_id": 1318135, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/51e920c12a7cd864f476c9863b7d1354?s=128&d=identicon&r=PG", "display_name": "user1318135", "link": "https://stackoverflow.com/users/1318135/user1318135"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508966777, "creation_date": 1508966028, "question_id": 46942162, "link": "https://stackoverflow.com/questions/46942162/if-using-sockets-to-pass-sensitive-data-between-two-scripts-in-the-same-tkinter", "title": "If using sockets to pass sensitive data between two scripts in the same Tkinter app, over localhost, are there any security concerns?", "body": "<p>I am implementing a <code>socket</code> in Python to pass data back and forth between two scripts running on the same machine as part of a single Tkinter application.</p>\n\n<p>This data, in many cases, will be highly sensitive (i.e. personal credit card numbers).</p>\n\n<p><strong>Does passing the data between scripts in this way open me up to any security concerns?</strong></p>\n\n<p>Server side:</p>\n\n<pre><code>import socket\n\nserversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nserversocket.bind(('localhost', 8089))\nserversocket.listen(5) # become a server socket, maximum 5 connections\n\nwhile True:\n    connection, address = serversocket.accept()\n    buf = connection.recv(64)\n    if len(buf) &gt; 0:\n        print buf\n        break\n</code></pre>\n\n<p>Client side:</p>\n\n<pre><code>import socket\n\nclientsocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nclientsocket.connect(('localhost', 8089))\nclientsocket.send('hello')\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/18297623/1318135\">Code source.</a></p>\n\n<p>Additional considerations:</p>\n\n<ul>\n<li>This will only ever function as part of a single Tkinter application, on a single machine. Localhost will always be specified.</li>\n<li>I am unable to use <code>multiprocessing</code> or <code>threading</code>; please no suggestions for using one of those or an alternative, other than varieties of <code>socket</code>. For more info as to why, see this <a href=\"https://stackoverflow.com/questions/46797770/tkinter-application-freezes-while-continually-polling-pipe-for-contents-multi/46802154?noredirect=1#comment80748400_46802154\">SO question, answers, and comments</a>. It has to do with this needing to function on Windows 7 and *nix, as well as my desired set-up.</li>\n</ul>\n"}, {"tags": ["python", "python-3.5"], "comments": [{"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 1, "creation_date": 1508966504, "post_id": 46942147, "comment_id": 80831897, "body": "Why not just <code>.strip()</code>? We are unable to reproduce your problem unless you post the actual bytes (<code>[ord(b) for b in self.byteArray]</code>). You should probably use ascii encoding instead of utf-8."}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 2, "creation_date": 1508966587, "post_id": 46942147, "comment_id": 80831926, "body": "Or, if working with bytes - stick with them... byte string&#39;s <code>.strip</code> works fine... or if being explicit, then using <code>.strip(b&#39;xyz&#39;)</code> is fine"}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508966700, "post_id": 46942147, "comment_id": 80831981, "body": "Surely though, you&#39;d have either a length or a known delimiter? That way you can tell whether the extra data is start of something else or a &quot;break&quot;..."}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1508966743, "post_id": 46942147, "comment_id": 80831997, "body": "FWIW, OP did post the bytes: <code>39 30 30 30 30 42 34 20 20 20 20 20 09</code>. In UTF-8, that&#39;s five spaces and a tab at the end."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1508966870, "post_id": 46942147, "comment_id": 80832054, "body": "The fundamental issue is that <code>strip</code> doesn&#39;t work in-place. <code>str</code> objects are immutable, thus, they return new string objects. So you have to assign the result of <code>my_string.strip</code>, but fundamentally, there doesn&#39;t seem to be any need to convert to <code>str</code>, just use the <code>.strip</code> method on <code>bytearray</code> objects..."}, {"owner": {"reputation": 25, "user_id": 8833925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec69040d4db2b965ebb785d32bed058a?s=128&d=identicon&r=PG&f=1", "display_name": "lynnejohn", "link": "https://stackoverflow.com/users/8833925/lynnejohn"}, "edited": false, "score": 0, "creation_date": 1509021737, "post_id": 46942147, "comment_id": 80856261, "body": "Tried &quot;.strip()&quot; before and it did not work. Also tried Jon C&#39;s suggestion of stripping the bytes, but self.&quot;byteArray.strip(b&#39;\\x40\\x09&#39;)&quot; does not work."}, {"owner": {"reputation": 25, "user_id": 8833925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec69040d4db2b965ebb785d32bed058a?s=128&d=identicon&r=PG&f=1", "display_name": "lynnejohn", "link": "https://stackoverflow.com/users/8833925/lynnejohn"}, "edited": false, "score": 0, "creation_date": 1509022972, "post_id": 46942147, "comment_id": 80857215, "body": "Taking juanpa&#39;s information I tried to work strictly on the bytearray by removing the spaces(0x40) and the tab(0x09): &quot;self.byteArray = self.byteArray.strip(b&#39;\\x40\\x09&#39;)&quot;, had no effect."}, {"owner": {"reputation": 25, "user_id": 8833925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec69040d4db2b965ebb785d32bed058a?s=128&d=identicon&r=PG&f=1", "display_name": "lynnejohn", "link": "https://stackoverflow.com/users/8833925/lynnejohn"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1509023319, "post_id": 46942147, "comment_id": 80857502, "body": "@Jon C. Normally after pulling data directly off the serial port you would go into some type of protocol handler. The barcode reader is configured to just spit data at you so I needed to just grab all of it and remove what I don&#39;t want."}, {"owner": {"reputation": 25, "user_id": 8833925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec69040d4db2b965ebb785d32bed058a?s=128&d=identicon&r=PG&f=1", "display_name": "lynnejohn", "link": "https://stackoverflow.com/users/8833925/lynnejohn"}, "reply_to_user": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1509025336, "post_id": 46942147, "comment_id": 80859102, "body": "@Paulo. Running the loop &quot;for b in self.byteArray: print (b)&quot; You get the output &quot;57 48 48 48 48 66 52 32 32 32 32 32 9&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8833925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec69040d4db2b965ebb785d32bed058a?s=128&d=identicon&r=PG&f=1", "display_name": "lynnejohn", "link": "https://stackoverflow.com/users/8833925/lynnejohn"}, "edited": false, "score": 0, "creation_date": 1509022446, "post_id": 46942298, "comment_id": 80856806, "body": "This worked as advertised. I also tried the same method &quot;self.byteArray = self.byteArray.strip(b&#39;\\x40\\x09&#39;)&quot; on the byte array suggestion above, but it did not work on that. Thanks..."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1509026220, "post_id": 46942298, "comment_id": 80859809, "body": "Good catch. Strings are immutable in Python, so no string method mutates the string object itself, all methods return a new string or other object - you almost always want to assign the result of <code>str.method(...)</code> to some variable."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1509030548, "post_id": 46942298, "comment_id": 80863126, "body": "Where is <code>&#39;\\x40&#39;</code> coming from? I don&#39;t see that in the byte string. Maybe it&#39;s supposed to be <code>&#39;\\x14&#39;</code>? It might be easier to just use <code>byteArray.rstrip()</code>, which will remove all trailing whitespace."}, {"owner": {"reputation": 25, "user_id": 8833925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec69040d4db2b965ebb785d32bed058a?s=128&d=identicon&r=PG&f=1", "display_name": "lynnejohn", "link": "https://stackoverflow.com/users/8833925/lynnejohn"}, "edited": false, "score": 0, "creation_date": 1509032460, "post_id": 46942298, "comment_id": 80864340, "body": "Thanks Wyatt, that was it. &quot;self.byteArray = self.byteArray.strip(b&#39;\\x20\\x09&#39;)&quot; works. So I&#39;m guessing byte arrays are immutable as well."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1509032703, "post_id": 46942298, "comment_id": 80864487, "body": "According to the <a href=\"https://docs.python.org/3.6/library/stdtypes.html#binary-sequence-types-bytes-bytearray-memoryview\" rel=\"nofollow noreferrer\">Python docs</a>, <code>bytes</code> objects are immutable and <code>bytearray</code> objects are mutable."}, {"owner": {"reputation": 25, "user_id": 8833925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec69040d4db2b965ebb785d32bed058a?s=128&d=identicon&r=PG&f=1", "display_name": "lynnejohn", "link": "https://stackoverflow.com/users/8833925/lynnejohn"}, "edited": false, "score": 0, "creation_date": 1509038435, "post_id": 46942298, "comment_id": 80867890, "body": "Using &quot;self.byteArray.strip(b&#39;\\x20\\x09&#39;)&quot; alone did not work which is why I thought bytearray&#39;s were not changeable."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "is_accepted": true, "score": 3, "last_activity_date": 1508966876, "last_edit_date": 1508966876, "creation_date": 1508966750, "answer_id": 46942298, "question_id": 46942147, "link": "https://stackoverflow.com/questions/46942147/string-strip-not-working/46942298#46942298", "title": "String strip() not working", "body": "<p>You need to assign the result of <code>modelString.strip(' \\t\\n\\r')</code> back to <code>modelString</code> like so:</p>\n\n<pre><code>modelString = modelString.strip(' \\t\\n\\r')\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8833925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec69040d4db2b965ebb785d32bed058a?s=128&d=identicon&r=PG&f=1", "display_name": "lynnejohn", "link": "https://stackoverflow.com/users/8833925/lynnejohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 931, "favorite_count": 0, "accepted_answer_id": 46942298, "answer_count": 1, "score": 0, "last_activity_date": 1508968826, "creation_date": 1508965985, "last_edit_date": 1508968826, "question_id": 46942147, "link": "https://stackoverflow.com/questions/46942147/string-strip-not-working", "title": "String strip() not working", "body": "<p>I'm new to Python and am having issues stripping excess material off a string that has been converted from a byte array. The code is reading data from a barcode reader and then comparing it to a lookup table read in from a file(the code stores lookup table as an array of lists). The barcode data is kept in a byte array read in from pyserial that I am trying to convert to a string so it can be compared.</p>\n\n<p>File read:</p>\n\n<pre><code>with open('LUT.csv', 'rt') as csvfile:\nlutFile = csv.reader(csvfile, delimiter=',')\nfor line in lutFile:\n    # the line is a list, append it to our lutTable list so that\n    # when we are done scanning the file we will have the\n    # complete list in memory.\n    self.lutTable.append(line)\n</code></pre>\n\n<p>Barcode conversion:</p>\n\n<pre><code>if gotBarcode:\n    # We have received a barcode, see if we recognize it.\n    #model               = self.byteArray.decode(\"utf8\") &lt;&lt;-- This does not work either...\n    modelString         = str(self.byteArray, encoding='utf-8', errors='strict')\n    modelString.strip(' \\t\\n\\r')\n    self.modelNumber.config(text=\"%s\" % modelString)\n    self.serialCount    = 0\n    searchIndex         = 0\n    for i in self.lutTable:\n        if (modelString == self.lutTable[searchIndex][0]):\n            fileName = self.lutTable[i][0]\n            break;\n        else:\n            print(\"Lut check:%d: model:%s---, table:%s---\" %(searchIndex, modelString, self.lutTable[searchIndex][0]))\n            fileName = 0;\n\n        searchIndex += 1\n\n    del self.byteArray[:]\n    print(\"%s\" % searchIndex)\n\n    if fileName:\n        self.FileName.config(text=\"%s\" % fileName)\n</code></pre>\n\n<p>Barcode as seen on the serial port:</p>\n\n<hr>\n\n<pre class=\"lang-none prettyprint-override\"><code>Transfers data from a COM port to a client (COM30) - 13 bytes of 13\n    STATUS_SUCCESS\n            39 30 30 30 30 42 34 20 20 20 20 20 09            90000B4\n</code></pre>\n\n<hr>\n\n<p>Barcode data as seen from the print in the code which also shows the data from the lookup table:\nRead port...</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Lut check:0: model:90000B4      ---, table:90000B1---\nLut check:1: model:90000B4      ---, table:90000B10---\nLut check:2: model:90000B4      ---, table:90000B2---\n</code></pre>\n\n<p>The barcode data coming in from the serial port is 13 bytes long and it appears that after the conversion from a byte array and attempted strip of spaces, the printed string is still 13 characters wide(it is hard to tell on this post but there are 6 extra characters after the \"model:90000B4\".) I can't really tell what the extra 6 characters are but they are causing the compare to fail.</p>\n\n<p>Platform specifics: Windows 7, Python 3.5.4</p>\n\n<p>So what is incorrect/missing about the <code>modelString.strip(' \\t\\n\\r')</code> line?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "sqlite"], "comments": [{"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 2, "creation_date": 1508965781, "post_id": 46942094, "comment_id": 80831556, "body": "Table is reserved word in SQL. You need to give the real name of the table or rename otherwise."}, {"owner": {"reputation": 35, "user_id": 8812615, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/142a877c6c8c2cfaff46942f554921d7?s=128&d=identicon&r=PG&f=1", "display_name": "subash707", "link": "https://stackoverflow.com/users/8812615/subash707"}, "reply_to_user": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508966423, "post_id": 46942094, "comment_id": 80831859, "body": "@Mokshyam Thanks that worked. I have making silly mistake"}, {"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 1, "creation_date": 1508966496, "post_id": 46942094, "comment_id": 80831892, "body": "No worries. All of us do. Tick the answer below."}], "answers": [{"tags": [], "owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "is_accepted": true, "score": 1, "last_activity_date": 1508966464, "creation_date": 1508966464, "answer_id": 46942247, "question_id": 46942094, "link": "https://stackoverflow.com/questions/46942094/error-during-saving-query-data-into-dataframe/46942247#46942247", "title": "Error during saving query data into dataframe", "body": "<p><strong>Table</strong> is a reserved keyword. Replace it with the real name of the table. </p>\n"}], "owner": {"reputation": 35, "user_id": 8812615, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/142a877c6c8c2cfaff46942f554921d7?s=128&d=identicon&r=PG&f=1", "display_name": "subash707", "link": "https://stackoverflow.com/users/8812615/subash707"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "accepted_answer_id": 46942247, "answer_count": 1, "score": 1, "last_activity_date": 1508968191, "creation_date": 1508965704, "last_edit_date": 1508968191, "question_id": 46942094, "link": "https://stackoverflow.com/questions/46942094/error-during-saving-query-data-into-dataframe", "title": "Error during saving query data into dataframe", "body": "<p>I am trying to access sqlite db - test.db and running simple query <code>\"SELECT * FROM TABLE\"</code>  and trying to save it in dataframe. It seems the code is fine as I searched and found similar codes that seem to work for others. \n<strong>NOTE:</strong> I am running the code in Jupyter iNotebook.</p>\n\n<pre><code>import sqlite3\nimport pandas as pd\ncon = sqlite3.connect('test.db')\nmyFrames = pd.read_sql_query(\"SELECT * FROM TABLE\", con)\n</code></pre>\n\n<p>I get error </p>\n\n<blockquote>\n  <p>Error OperationalError: near \"TABLE\": syntax error</p>\n  \n  <p><em>(lots of lines in between)</em></p>\n  \n  <p>DatabaseError: Execution failed on sql 'SELECT * FROM TABLE': near \"TABLE\": syntax error</p>\n</blockquote>\n\n<p>Also, This piece prints out rows very well. So connection is working</p>\n\n<pre><code>conn = sqlite3.connect(\"test.db\")\ncur = conn.cursor()\nfor row in cur.execute(\"SELECT * FROM test_rank\"):\n    print(row)\n</code></pre>\n"}, {"tags": ["python", "django", "pagination"], "comments": [{"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 0, "creation_date": 1509390426, "post_id": 46942056, "comment_id": 80992047, "body": "how did you get your search value? from get request"}, {"owner": {"reputation": 171, "user_id": 3834562, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/557b5eaa93c086d95b538b1c9e0687e3?s=128&d=identicon&r=PG&f=1", "display_name": "jdv12", "link": "https://stackoverflow.com/users/3834562/jdv12"}, "reply_to_user": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 0, "creation_date": 1509391330, "post_id": 46942056, "comment_id": 80992496, "body": "yes I get the search value with instanceValuesString = request.POST.get(u&quot;q&quot;).encode(&#39;utf-8&#39;).strip()"}, {"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 0, "creation_date": 1509391711, "post_id": 46942056, "comment_id": 80992677, "body": "when you click to the next page, you done <code>GET</code> request, so <code>request.POST.get(u&quot;q&quot;)</code> will empty any way, best solution for search value  request it by <code>GET</code> method, please add your search form to the question"}, {"owner": {"reputation": 126, "user_id": 8778044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b382743135578c2582d87156b6ea6e3e?s=128&d=identicon&r=PG", "display_name": "noes1s", "link": "https://stackoverflow.com/users/8778044/noes1s"}, "edited": false, "score": 0, "creation_date": 1509399494, "post_id": 46942056, "comment_id": 80996244, "body": "Pass the results as a JSON library, then sort the content by page, on-page, instead of having to reload the view each time. I had a similar issue when using the Google Maps API and wanting to filter the results and reload the map with the uploaded filter without hitting the database again each time I reloaded the map."}, {"owner": {"reputation": 9742, "user_id": 3848833, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/21958c044f4221396b316a0bdb70de4d?s=128&d=identicon&r=PG&f=1", "display_name": "cezar", "link": "https://stackoverflow.com/users/3848833/cezar"}, "edited": false, "score": 0, "creation_date": 1509456660, "post_id": 46942056, "comment_id": 81019609, "body": "<i>this is first time using pagination with Django</i> Then stick with tutorials and best practices, and don&#39;t experiment with some overcomplicated cases for the first time. Or with other words: Don&#39;t break the rules if you don&#39;t master them!"}, {"owner": {"reputation": 171, "user_id": 3834562, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/557b5eaa93c086d95b538b1c9e0687e3?s=128&d=identicon&r=PG&f=1", "display_name": "jdv12", "link": "https://stackoverflow.com/users/3834562/jdv12"}, "reply_to_user": {"reputation": 126, "user_id": 8778044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b382743135578c2582d87156b6ea6e3e?s=128&d=identicon&r=PG", "display_name": "noes1s", "link": "https://stackoverflow.com/users/8778044/noes1s"}, "edited": false, "score": 0, "creation_date": 1509457495, "post_id": 46942056, "comment_id": 81020191, "body": "@noes1s is there any reference on how to implement your solution?"}, {"owner": {"reputation": 171, "user_id": 3834562, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/557b5eaa93c086d95b538b1c9e0687e3?s=128&d=identicon&r=PG&f=1", "display_name": "jdv12", "link": "https://stackoverflow.com/users/3834562/jdv12"}, "edited": false, "score": 0, "creation_date": 1509457785, "post_id": 46942056, "comment_id": 81020394, "body": "Bear Brown my search form code has been added"}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 3834562, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/557b5eaa93c086d95b538b1c9e0687e3?s=128&d=identicon&r=PG&f=1", "display_name": "jdv12", "link": "https://stackoverflow.com/users/3834562/jdv12"}, "edited": false, "score": 0, "creation_date": 1509457366, "post_id": 47028814, "comment_id": 81020101, "body": "Hmm this doesn&#39;t really solve the problem.  I have tried both simple pagination and El pagination but it seems the call still needs to be handled differently"}], "tags": [], "owner": {"reputation": 7694, "user_id": 4859910, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-juTEf22w0kM/AAAAAAAAAAI/AAAAAAAAAM4/flPY0PSE0z4/photo.jpg?sz=128", "display_name": "anjaneyulubatta505", "link": "https://stackoverflow.com/users/4859910/anjaneyulubatta505"}, "is_accepted": false, "score": 0, "last_activity_date": 1509429736, "creation_date": 1509429736, "answer_id": 47028814, "question_id": 46942056, "link": "https://stackoverflow.com/questions/46942056/dynamic-pagination-with-django/47028814#47028814", "title": "dynamic pagination with django", "body": "<p>This is very much simplified with below package</p>\n\n<p><a href=\"http://django-simple-pagination.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">http://django-simple-pagination.readthedocs.io/en/latest/</a></p>\n"}, {"tags": [], "owner": {"reputation": 3147, "user_id": 3500094, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/60e56d19071e326c8ff64bd50719d4b8?s=128&d=identicon&r=PG", "display_name": "souldeux", "link": "https://stackoverflow.com/users/3500094/souldeux"}, "is_accepted": false, "score": 2, "last_activity_date": 1509459932, "creation_date": 1509459932, "answer_id": 47037764, "question_id": 46942056, "link": "https://stackoverflow.com/questions/46942056/dynamic-pagination-with-django/47037764#47037764", "title": "dynamic pagination with django", "body": "<p>You noted in a comment that you get your search value with <code>instanceValuesString = request.POST.get(u\"q\").encode('utf-8').strip()</code>. As one commenter correctly pointed out, this means that when you click your \"next page\" links (making a <code>GET</code> request), your view doesn't receive the information it needs to return search results. </p>\n\n<p>One way to fix this would be to get your <code>instanceValuesString</code> from a <code>GET</code> request instead of a <code>POST</code> request. For instance, perhaps your list view is at</p>\n\n<pre><code>http://example.com/StuffList\n</code></pre>\n\n<p>You could look for URLs that provide a <code>search</code> querystring:</p>\n\n<pre><code>http://example.com/StuffList?search=goodstuff\n</code></pre>\n\n<p>And then grab that in your view:</p>\n\n<pre><code>instanceValuesString = request.GET.get('search', None)\nif instanceValuesString is not None:\n    #you have detected a search query; filter results, process request, etc.\n</code></pre>\n\n<p>One side effect here is that the way you currently construct your next/previous page URLs will break. Consider the example search URL; your current template would construct a link for page 2 like so:</p>\n\n<pre><code>http://example.com/StuffList?search=goodstuff?page=2\n</code></pre>\n\n<p>This won't work; it should be <code>&amp;page=2</code>. Fortunately there's an easy fix; check out the second answer to this question: <a href=\"https://stackoverflow.com/questions/5755150/altering-one-query-parameter-in-a-url-django\">Altering one query parameter in a url (Django)</a>. Using that <code>url_replace</code> instead of constructing those links with the basic <code>url</code> template tag will solve this part of the issue.</p>\n"}], "owner": {"reputation": 171, "user_id": 3834562, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/557b5eaa93c086d95b538b1c9e0687e3?s=128&d=identicon&r=PG&f=1", "display_name": "jdv12", "link": "https://stackoverflow.com/users/3834562/jdv12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1908, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1509530212, "creation_date": 1508965532, "last_edit_date": 1509530212, "question_id": 46942056, "link": "https://stackoverflow.com/questions/46942056/dynamic-pagination-with-django", "title": "dynamic pagination with django", "body": "<p>Okay so this is first time using pagination with Django and I am trying to prevent it from reloading my view on each page turn.</p>\n\n<p>I'm handling the pagination in the view like this:</p>\n\n<pre><code>page = request.GET.get('page', 1)\nprint page\npaginator = Paginator(list(od.iteritems())[:24], 12)\n\ntry:\n    data = paginator.page(page)\nexcept PageNotAnInteger:\n    data = paginator.page(1)\nexcept EmptyPage:\n    data = paginator.page(paginator.num_pages)\n\nprint data\n\nsave_query_form = SaveQueryForm(request.POST or None)\n#if request.method == 'POST':\nif save_query_form.is_valid():\n    profile = save_query_form.save(commit=False)\n    profile.user = request.user\n    profile.save()\n\ncontext = {\n    \"title\":\"Search\",\n    'data': data,#list(od.iteritems()),\n    'tools': od_tools.iteritems(),\n    'methods': od_methods.iteritems(),\n    'data4': od_data.iteritems(),\n    'search_phrase': \" \".join(instanceValuesString),\n    'json_dump': js_data,\n    'form': save_query_form,\n}\nreturn render(request, 'results.html', context)\n</code></pre>\n\n<p>and the pagination is handled in the html:</p>\n\n<pre><code>{% if data.has_other_pages %}\n    &lt;div id='page-slide'&gt;\n        &lt;ul class=\"pagination\" start='$offset'&gt;\n            {% if data.has_previous %}\n                &lt;li&gt;&lt;a href=\"?page={{ data.previous_page_number }}\"&gt;&amp;laquo;&lt;/a&gt;&lt;/li&gt;\n            {% else %}\n                &lt;li class=\"disabled\"&gt;&lt;span&gt;&amp;laquo;&lt;/span&gt;&lt;/li&gt;\n            {% endif %}\n            {% for i in data.paginator.page_range %}\n                {% if data.number == i %}\n                    &lt;li class=\"active\"&gt;&lt;span&gt;{{ i }} &lt;span class=\"sr-only\"&gt;(current)&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;\n                {% else %}\n                    &lt;li&gt;&lt;a href=\"?page={{ i }}\"&gt;{{ i }}&lt;/a&gt;&lt;/li&gt;\n                {% endif %}\n            {% endfor %}\n            {% if data.has_next %}\n                &lt;li&gt;&lt;a href=\"?page={{ data.next_page_number }}\"&gt;&amp;raquo;&lt;/a&gt;&lt;/li&gt;\n            {% else %}\n                &lt;li class=\"disabled\"&gt;&lt;span&gt;&amp;raquo;&lt;/span&gt;&lt;/li&gt;\n            {% endif %}\n        &lt;/ul&gt;\n    &lt;/div&gt;\n{% endif %} \n</code></pre>\n\n<p>The issue that I am having is that whenever I switch to another page my entire view will run again and the data will does not reflect the original search query and instead defaults to an empty query.  </p>\n\n<p>I was wondering if there is a simple way to either handle pagination dynamically or prevent the page reload when toggling between pages?</p>\n\n<p>Any help is appreciated, thanks.</p>\n\n<p>Update Search Form:</p>\n\n<pre><code>&lt;form action=\"{% url 'results-view' %}\" method=\"POST\" class=\"autocomplete-me ui-widget\" id=\"myform\" &gt;\n    {% csrf_token %}\n\n    &lt;div class=\"ui-widget\" style=\"text-align:center;\"&gt;\n        &lt;input type=\"text\" id=\"id_q\" name=\"q\" placeholder=\"{{ search_phrase }}\"&gt;\n        &lt;br&gt;&lt;/br&gt;\n        &lt;div style=\"text-align:center;\" id='adjust-button'&gt;\n            &lt;input type='submit' class='btn btn-secondary btn-lg' id ='search-btn' value='Search'/&gt;         \n            &lt;a class='btn btn-secondary btn-lg' id ='clear-btn' href=\"{% url 'inital' %}\"&gt;Clear&lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 7, "creation_date": 1508965381, "post_id": 46941992, "comment_id": 80831350, "body": "Dictionaries can&#39;t have duplicate keys. Every time you assign something to key <code>&#39;A&#39;</code>, for example, you overwrite whatever existed before."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1508965590, "post_id": 46941992, "comment_id": 80831461, "body": "You can&#39;t have duplicate keys, so you are going to have to think about what you want. Anyway, what would you expect <code>recuritment_dict[&#39;A&#39;]</code> to return??"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6089877"}, "edited": false, "score": 0, "creation_date": 1508965966, "post_id": 46941992, "comment_id": 80831649, "body": "Ok I understand."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6089877"}, "edited": false, "score": 0, "creation_date": 1509004783, "post_id": 46941992, "comment_id": 80844697, "body": "I tried with a diferent way. Now my dictionary key is unique and it&#39;s quite better ! Thanks"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6089877"}, "edited": false, "score": 0, "creation_date": 1509002585, "post_id": 46942119, "comment_id": 80843339, "body": "My dictionary returns this : {&#39;A&#39;: [&#39;b&#39;, True,  [&#39;c&#39;, True]], &#39;B&#39;: [&#39;b&#39;, True], &#39;C&#39;: [&#39;b&#39;, True]}. Is it ok for dealing datas ?"}, {"owner": {"reputation": 2728, "user_id": 1996842, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4b2d8d038befbed92f3df1eef9da821d?s=128&d=identicon&r=PG&f=1", "display_name": "utengr", "link": "https://stackoverflow.com/users/1996842/utengr"}, "edited": false, "score": 0, "creation_date": 1509007669, "post_id": 46942119, "comment_id": 80846574, "body": "@see my updated answer. You can create a list of lists in the values if a key exist. For example it will look like this:  {&#39;A&#39;: [[&#39;b&#39;, True], [&#39;c&#39;, True]], &#39;B&#39;: [&#39;b&#39;, True], &#39;C&#39;: [&#39;b&#39;, True]}.  if you want to access each elemenet of that key, you can do recruitment_dict[key][0] or  recruitment_dict[key][1]. It really depends on how you want your dictionary to look like."}], "tags": [], "owner": {"reputation": 2728, "user_id": 1996842, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4b2d8d038befbed92f3df1eef9da821d?s=128&d=identicon&r=PG&f=1", "display_name": "utengr", "link": "https://stackoverflow.com/users/1996842/utengr"}, "is_accepted": true, "score": 0, "last_activity_date": 1509007750, "last_edit_date": 1509007750, "creation_date": 1508965848, "answer_id": 46942119, "question_id": 46941992, "link": "https://stackoverflow.com/questions/46941992/about-dictionary-list/46942119#46942119", "title": "About dictionary list", "body": "<p>Add this to your code: </p>\n\n<pre><code>if key in recruitment_dict.keys(): \n       recruitment_dict[key].append(value)\nelse:\n       recruitment_dict[key] = value\n</code></pre>\n\n<p>The reason has already been explained in the comments of your questions by others. </p>\n\n<p>If you want to your dictionary to look like this: </p>\n\n<pre><code>{'A': [['b', True],['c', True]], 'B': ['b', True], 'C': ['b', True]}\n</code></pre>\n\n<p>then you can use the following. </p>\n\n<pre><code>if key in recruitment_dict.keys(): \n           recruitment_dict[key] = [recruitment_dict[key], value]\nelse:\n           recruitment_dict[key] = value\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6089877"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1508974721, "accepted_answer_id": 46942119, "answer_count": 1, "score": 0, "last_activity_date": 1509007750, "creation_date": 1508965278, "question_id": 46941992, "link": "https://stackoverflow.com/questions/46941992/about-dictionary-list", "closed_reason": "Needs details or clarity", "title": "About dictionary list", "body": "<p>I want to fill a dictionary :</p>\n\n<pre><code>    recruitment_dict = {}\n    for relation in Relation.objects.filter(on_team=Team.objects.get(owner=request.user)):\n        if relation.recruitment is True:\n            key = relation.on_game.guid\n            value = [relation.on_plateform.guid, relation.recruitment]\n            recruitment_dict[key] = value\n</code></pre>\n\n<p><code>recruitment_dict</code> returns this dictionary :</p>\n\n<pre><code>{'A': ['b', True], 'B': ['b', True], 'C': ['b', True]}\n</code></pre>\n\n<p>But some values are missing. Sometimes, I should have something like this :</p>\n\n<pre><code>{'A': ['b', True], 'A': ['c', True], 'B': ['b', True], 'C': ['b', True]}\n</code></pre>\n\n<p>I think the problem is because I use :</p>\n\n<pre><code>recruitment_dict[key] = value\n</code></pre>\n\n<p>And so, only the last object at the end of the boucle \"for\" is saved.</p>\n\n<p>But I don't know the right synthax to adopt.</p>\n"}, {"tags": ["python", "python-2.7", "go", "python-asyncio", "concurrent.futures"], "comments": [{"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1508965563, "post_id": 46941985, "comment_id": 80831447, "body": "Possibly a dupe of <a href=\"https://stackoverflow.com/questions/5568646/usleep-in-python\">stackoverflow.com/questions/5568646/usleep-in-python</a>"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1508965868, "post_id": 46941985, "comment_id": 80831600, "body": "Also interesting (with charts for some operational systems): <a href=\"https://stackoverflow.com/questions/1133857/how-accurate-is-pythons-time-sleep\" title=\"how accurate is pythons time sleep\">stackoverflow.com/questions/1133857/&hellip;</a>"}, {"owner": {"reputation": 1015, "user_id": 1773216, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/cvbyd.jpg?s=128&g=1", "display_name": "nmurthy", "link": "https://stackoverflow.com/users/1773216/nmurthy"}, "reply_to_user": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1508970576, "post_id": 46941985, "comment_id": 80833449, "body": "Not, a dupe. Although this is telling <a href=\"https://stackoverflow.com/a/34366451/1773216\">stackoverflow.com/a/34366451/1773216</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1508977443, "post_id": 46941985, "comment_id": 80835372, "body": "@nmurthy: I think the information there is out of date for Python 3, though I don&#39;t know about Python 2, and I haven&#39;t actually run the experiment on either Python 2 or 3 - I just checked the source code and found that Python 3 is using <code>_PyTime_GetMonotonicClock()</code> to get the time. Unfortunately, whether or not Python 2 <code>time.sleep</code> is monotonic, I don&#39;t think Python 2 exposes a platform-independent monotonic clock anywhere. (Python 3 has <code>time.monotonic</code>.)"}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 5, "last_activity_date": 1508967531, "last_edit_date": 1508967531, "creation_date": 1508966652, "answer_id": 46942284, "question_id": 46941985, "link": "https://stackoverflow.com/questions/46941985/is-there-anything-in-python-2-7-akin-to-gos-time-tick-or-nettys-hashedwheel/46942284#46942284", "title": "Is there anything in Python 2.7 akin to Go&#39;s `time.Tick` or Netty&#39;s `HashedWheelTimer`?", "body": "<p>Nothing like that comes with Python. You'd need to manually adjust your sleep times to account for time spent working.</p>\n\n<p>You could fold that into an iterator, much like the channel of Go's <code>time.Tick</code>:</p>\n\n<pre><code>import itertools\nimport time\nimport timeit\n\ndef tick(interval, initial_wait=False):\n    # time.perf_counter would probably be more appropriate on Python 3\n    start = timeit.default_timer()\n\n    if not initial_wait:\n        # yield immediately instead of sleeping\n        yield\n\n    for i in itertools.count(1):\n        time.sleep(start + i*interval - timeit.default_timer())\n        yield\n\nfor _ in tick(300):\n    # Will execute every 5 minutes, accounting for time spent in the loop body.\n    do_stuff()\n</code></pre>\n\n<p>Note that the above ticker starts ticking when you start iterating, rather than when you call <code>tick</code>, which matters if you try to start a ticker and save it for later. Also, it doesn't send the time, and it won't drop ticks if the receiver is slow. You can adjust all that on your own if you want.</p>\n"}], "owner": {"reputation": 1015, "user_id": 1773216, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/cvbyd.jpg?s=128&g=1", "display_name": "nmurthy", "link": "https://stackoverflow.com/users/1773216/nmurthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1520379730, "creation_date": 1508965264, "last_edit_date": 1520379730, "question_id": 46941985, "link": "https://stackoverflow.com/questions/46941985/is-there-anything-in-python-2-7-akin-to-gos-time-tick-or-nettys-hashedwheel", "title": "Is there anything in Python 2.7 akin to Go&#39;s `time.Tick` or Netty&#39;s `HashedWheelTimer`?", "body": "<p>I write a lot of code that relies on precise periodic method calls. I've been using Python's <code>futures</code> library to submit calls onto the runtime's thread pool and sleeping between calls in a loop:</p>\n\n<pre><code>executor = ThreadPoolExecutor(max_workers=cpu_count())\n\ndef remote_call():\n    # make a synchronous bunch of HTTP requests\n\ndef loop():\n    while True:\n        # do work here\n        executor.submit(remote_call)\n        time.sleep(60*5)\n</code></pre>\n\n<p>However, I've noticed that this implementation introduces some drift after a long duration of running (e.g. I've run this code for about 10 hours and noticed about 7 seconds of drift). For my work I need this to run on the exact second, and millisecond would be even better. Some folks have pointed me to <code>asyncio</code> (<a href=\"https://stackoverflow.com/questions/37278647/fire-and-forget-python-async-await/37345564#37345564\">&quot;Fire and forget&quot; python async/await</a>), but I have not been able to get this working in Python 2.7.</p>\n\n<p>I'm not looking for a hack. What I really want is something akin to Go's <code>time.Tick</code> or Netty's <code>HashedWheelTimer</code>. </p>\n"}, {"tags": ["python", "audio", "matplotlib", "wave"], "comments": [{"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 1, "creation_date": 1508967142, "post_id": 46941972, "comment_id": 80832183, "body": "Just because you can&#39;t hear anything doesn&#39;t mean it is <i>complete</i> silence?"}], "answers": [{"comments": [{"owner": {"reputation": 1453, "user_id": 4932791, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/P5G5H.jpg?s=128&g=1", "display_name": "kRazzy R", "link": "https://stackoverflow.com/users/4932791/krazzy-r"}, "edited": false, "score": 0, "creation_date": 1508965815, "post_id": 46942084, "comment_id": 80831572, "body": "Sorry, I don&#39;t understand. What is meant by plotting at <code>high frequency</code>. I want to know why there are multi color peaks in the plot. Also if you take a look at the files on dropbox, they are also generating a waveform. any hints as to why that could be happening."}, {"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 1, "creation_date": 1508967454, "post_id": 46942084, "comment_id": 80832314, "body": "Nice use of the histogram to show the distrubution, +1. You should probably delete the ---old answer --- part though"}, {"owner": {"reputation": 416, "user_id": 8083313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Yccj8411fq4/AAAAAAAAAAI/AAAAAAAAABQ/_spgDPt7188/photo.jpg?sz=128", "display_name": "shouldsee", "link": "https://stackoverflow.com/users/8083313/shouldsee"}, "reply_to_user": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 0, "creation_date": 1508967624, "post_id": 46942084, "comment_id": 80832385, "body": "Advice adopted @DavidG"}], "tags": [], "owner": {"reputation": 416, "user_id": 8083313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Yccj8411fq4/AAAAAAAAAAI/AAAAAAAAABQ/_spgDPt7188/photo.jpg?sz=128", "display_name": "shouldsee", "link": "https://stackoverflow.com/users/8083313/shouldsee"}, "is_accepted": true, "score": 3, "last_activity_date": 1508968144, "last_edit_date": 1508968144, "creation_date": 1508965645, "answer_id": 46942084, "question_id": 46941972, "link": "https://stackoverflow.com/questions/46941972/how-to-interpret-various-colors-in-matplotlib-plot-of-a-mp3-wav-file/46942084#46942084", "title": "How to interpret various colors in matplotlib plot of a mp3/wav file", "body": "<p>First, always check the shape of your data before plotting.</p>\n\n<pre><code>x.shape\n## (3479040, 2)\n</code></pre>\n\n<p>So the 2 here means you have two channel in your .wav file, matplotlib by default plot them in different colors. You will need to slice the matrix by row in this situation.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nind = int(fs * 0.5) ## plot first 500ms\n### plot as time series\nplt.plot(x[:ind,:])\nplt.figure()\n\n#### Visualise distribution\nplt.hist(x[:ind,0],bins = 10)\nplt.gca().set_yscale('log')\n\n##### \nprint x.min(),x.max()\n#### -3 3\n</code></pre>\n\n<p>As can be seen from the graph, the signal is of very low absolute value (-3,3). Depending on the encoding of .wav file (integer or float), it will be translated to amplitude (but probably a very low amplitude, that's why it's silent).</p>\n\n<p>I my self is not familiar with the precise encoding. But this page might help: <a href=\"http://www-mmsp.ece.mcgill.ca/Documents/AudioFormats/WAVE/WAVE.html\" rel=\"nofollow noreferrer\">http://www-mmsp.ece.mcgill.ca/Documents/AudioFormats/WAVE/WAVE.html</a></p>\n\n<blockquote>\n  <ol>\n  <li>For all formats other than PCM, the Format chunk must have an extended portion. The extension can be of zero length, but the size\n  field (with value 0) must be present.</li>\n  <li>For float data, full scale is 1. The bits/sample would normally be 32 or 64.</li>\n  <li>For the log-PCM formats (\u00b5-law and A-law), the Rev. 3 documentation indicates that the bits/sample field (wBitsPerSample)\n  should be set to 8 bits.</li>\n  <li>The non-PCM formats must have a fact chunk.</li>\n  </ol>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/qpZFC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qpZFC.png\" alt=\"time_series\"></a>\n<a href=\"https://i.stack.imgur.com/6Dog8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Dog8.png\" alt=\"histogram\"></a></p>\n\n<p>PS: if you want to start some more advanced audio analysis, do check this <a href=\"http://musicinformationretrieval.com/index.html\" rel=\"nofollow noreferrer\">workshop</a> which I found super practical, especially the Energy part and FFT part.</p>\n"}, {"comments": [{"owner": {"reputation": 1453, "user_id": 4932791, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/P5G5H.jpg?s=128&g=1", "display_name": "kRazzy R", "link": "https://stackoverflow.com/users/4932791/krazzy-r"}, "edited": false, "score": 0, "creation_date": 1512498999, "post_id": 46968045, "comment_id": 82279886, "body": "so what is being saved in <code>audData</code> ?"}, {"owner": {"reputation": 8602, "user_id": 5936628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67edb9182ec767573ef95539c533b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anil_M", "link": "https://stackoverflow.com/users/5936628/anil-m"}, "reply_to_user": {"reputation": 1453, "user_id": 4932791, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/P5G5H.jpg?s=128&g=1", "display_name": "kRazzy R", "link": "https://stackoverflow.com/users/4932791/krazzy-r"}, "edited": false, "score": 0, "creation_date": 1512532151, "post_id": 46968045, "comment_id": 82292089, "body": "audio samples are saved in <code>audData</code> as numpy array. You can check as  <code>type(audData)</code> -&gt; &lt;type &#39;numpy.ndarray&#39; ,  audData -&gt; array([[ 0,  0],        [ 0,  0],        [ 0,  0],        ...,         [-1,  0],        [ 0,  0],        [ 0,  0]], dtype=int16)"}, {"owner": {"reputation": 1453, "user_id": 4932791, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/P5G5H.jpg?s=128&g=1", "display_name": "kRazzy R", "link": "https://stackoverflow.com/users/4932791/krazzy-r"}, "edited": false, "score": 0, "creation_date": 1512536230, "post_id": 46968045, "comment_id": 82293121, "body": "Sir, I meant is it amplitude or decibel or power .. what is&quot;feature&quot; being stored in audData?"}, {"owner": {"reputation": 8602, "user_id": 5936628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67edb9182ec767573ef95539c533b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anil_M", "link": "https://stackoverflow.com/users/5936628/anil-m"}, "reply_to_user": {"reputation": 1453, "user_id": 4932791, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/P5G5H.jpg?s=128&g=1", "display_name": "kRazzy R", "link": "https://stackoverflow.com/users/4932791/krazzy-r"}, "edited": false, "score": 0, "creation_date": 1512536680, "post_id": 46968045, "comment_id": 82293269, "body": "None of the above. Wav file stores data in  linear pulse-code modulation (LPCM) format. Their  data-type as indicated by numpy array is &#39;int16&#39; which denotes &#39;16-bit PCM&#39;. Chck out <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.io.wavfile.write.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/scipy/reference/generated/&hellip;</a> and also WIKI on wav <a href=\"https://en.wikipedia.org/wiki/WAV\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/WAV</a>"}], "tags": [], "owner": {"reputation": 8602, "user_id": 5936628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67edb9182ec767573ef95539c533b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anil_M", "link": "https://stackoverflow.com/users/5936628/anil-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1509081914, "creation_date": 1509081914, "answer_id": 46968045, "question_id": 46941972, "link": "https://stackoverflow.com/questions/46941972/how-to-interpret-various-colors-in-matplotlib-plot-of-a-mp3-wav-file/46968045#46968045", "title": "How to interpret various colors in matplotlib plot of a mp3/wav file", "body": "<p>I had a suspicion that your <code>silence.mp3</code> file had audio which was very low (below human hearing) since I couldn't hear it even when I played at maximum speaker sound.</p>\n\n<p>So, I came across plotting audio frequency from <code>mp3</code> from <a href=\"http://myinspirationinformation.com/uncategorized/audio-signals-in-python/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>first we convert <code>mp3</code> audio to <code>wav</code>. As parent file is stero, converted <code>wav</code> file is stereo as well. In order to demonstrate that there are audio frequencies , we just need single channel.\nOnce we have single channel <code>wav</code> audio, we then simply plot <code>frequency</code> against <code>time</code> index with a color-bar of <code>dB</code> power level.</p>\n\n<pre><code>import scipy.io.wavfile\nfrom pydub import AudioSegment\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom numpy import fft as fft\n\n#read mp3 file\nmp3 = AudioSegment.from_mp3(\"silence.mp3\")\n#convert to wav\nmp3.export(\"silence.wav\", format=\"wav\")\n#read wav file\nrate,audData=scipy.io.wavfile.read(\"silence.wav\")\n\n\n#if stereo grab both channels\nchannel1=audData[:,0] #left\n#channel2=audData[:,1] #right channel, we dont need here\n\n\n#create a time variable in seconds\ntime = np.arange(0, float(audData.shape[0]), 1) / rate\n\n#Plot spectrogram of frequency vs time\nplt.figure(1, figsize=(8,6))\nplt.subplot(211)\nPxx, freqs, bins, im = plt.specgram(channel1, Fs=rate, NFFT=1024, cmap=plt.get_cmap('autumn_r'))\ncbar=plt.colorbar(im)\nplt.xlabel('Time (s)')\nplt.ylabel('Frequency (Hz)')\ncbar.set_label('Intensity dB')\nplt.show()\n</code></pre>\n\n<p>As you can see in the image , the <code>silence.mp3</code> does contain audio frequencies possible with power level of -30 to -45 dB.\n<a href=\"https://i.stack.imgur.com/Q5q52.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5q52.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1453, "user_id": 4932791, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/P5G5H.jpg?s=128&g=1", "display_name": "kRazzy R", "link": "https://stackoverflow.com/users/4932791/krazzy-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 910, "favorite_count": 2, "accepted_answer_id": 46942084, "answer_count": 2, "score": 1, "last_activity_date": 1509081914, "creation_date": 1508965217, "last_edit_date": 1508965639, "question_id": 46941972, "link": "https://stackoverflow.com/questions/46941972/how-to-interpret-various-colors-in-matplotlib-plot-of-a-mp3-wav-file", "title": "How to interpret various colors in matplotlib plot of a mp3/wav file", "body": "<p>I'm a python newbie and audio analysis newbie. If this is not the right place for this question, please point me to right place. </p>\n\n<p>I have an mp3 audio file which has just silence. \nConverted to .wav using sox \n<code>sox input.mp3 output.wav</code></p>\n\n<pre><code>from scipy.io.wavfile import read\nimport matplotlib.pyplot as plt\n(fs,x)=read('/home/vivek/Documents/VivekProjects/Silence/silence.wav')\n##plt.rcParams['agg.path.chunksize'] = 5000 # for preventing overflow error. \nfs\nx.size/float(fs)\nplt.plot(x) \n</code></pre>\n\n<p>Which generates this image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/r0MY7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r0MY7.png\" alt=\"enter image description here\"></a></p>\n\n<p>I also used solution to this question: <a href=\"https://stackoverflow.com/questions/18625085/how-to-plot-a-wav-file\">How to plot a wav file</a> </p>\n\n<pre><code>    from scipy.io.wavfile import read\n    import matplotlib.pyplot as plt\n\n    # read audio samples\n    from scipy.io.wavfile import read\nimport matplotlib.pyplot as plt\n\n# read audio samples\ninput_data = read(\"/home/vivek/Documents/VivekProjects/Silence/silence.wav\")\naudio = input_data[1]\n# plot the first 1024 samples\nplt.plot(audio)\n# label the axes\nplt.ylabel(\"Amplitude\")\nplt.xlabel(\"Time\")\n# set the title  \nplt.title(\"Sample Wav\")\n# display the plot\nplt.show()\n</code></pre>\n\n<p>Which generated this image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4PY8U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4PY8U.png\" alt=\"enter image description here\"></a></p>\n\n<p>Question:\nI want to know how to interpret the different color bars(blue green,yellow) in the chart.   If you listen to the file it is only silence, and I expected to see just a flat line if anything.  </p>\n\n<p>My mp3 file can be downloaded from <a href=\"https://www.dropbox.com/s/yzrlbg0llwoy5yi/silence.mp3?dl=0\" rel=\"nofollow noreferrer\">here</a>.<br>\nThe sox converted wav file can be found <a href=\"https://www.dropbox.com/s/qtg8yj983w3d3gq/silence.wav?dl=0\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Even though the file is silent, even dropbox is generating a waveform. I can't seem to figure out why. </p>\n"}, {"tags": ["python", "sap"], "comments": [{"owner": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "edited": false, "score": 0, "creation_date": 1508965541, "post_id": 46941875, "comment_id": 80831432, "body": "Can you paste it into e.g. notepad? What if you double click on an Excel cell first?"}, {"owner": {"reputation": 306, "user_id": 6272169, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10156870110820287/picture?type=large", "display_name": "mickNeill", "link": "https://stackoverflow.com/users/6272169/mickneill"}, "reply_to_user": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "edited": false, "score": 0, "creation_date": 1509019083, "post_id": 46941875, "comment_id": 80854354, "body": "still no dice, it seems like the clipboard is empty.  But again if I run the second script, it works fine."}], "answers": [{"comments": [{"owner": {"reputation": 306, "user_id": 6272169, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10156870110820287/picture?type=large", "display_name": "mickNeill", "link": "https://stackoverflow.com/users/6272169/mickneill"}, "edited": false, "score": 0, "creation_date": 1509043347, "post_id": 46959018, "comment_id": 80870642, "body": "That could work... I will try that. Right now, I just used pyautogui to press Ctrl+C when the window opens."}], "tags": [], "owner": {"reputation": 1391, "user_id": 2458597, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CmYNR.jpg?s=128&g=1", "display_name": "Arthur Va&#239;sse", "link": "https://stackoverflow.com/users/2458597/arthur-va%c3%afsse"}, "is_accepted": false, "score": 0, "last_activity_date": 1509034106, "creation_date": 1509034106, "answer_id": 46959018, "question_id": 46941875, "link": "https://stackoverflow.com/questions/46941875/copying-data-from-python-list-to-clipboard/46959018#46959018", "title": "Copying data from python list to clipboard", "body": "<p>Why don't you just print the second arguments to then pipe the params ?</p>\n\n<pre><code>print(saleOrders)\n</code></pre>\n\n<p>And from the command line : </p>\n\n<pre><code>python firstscript.py whateverparamineed | secondscript\n</code></pre>\n"}], "owner": {"reputation": 306, "user_id": 6272169, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10156870110820287/picture?type=large", "display_name": "mickNeill", "link": "https://stackoverflow.com/users/6272169/mickneill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1816, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570905395, "creation_date": 1508964817, "question_id": 46941875, "link": "https://stackoverflow.com/questions/46941875/copying-data-from-python-list-to-clipboard", "title": "Copying data from python list to clipboard", "body": "<p>I am beating my head against a wall. I have a python script that calls an SAP script through a shell command.  That part works great, once the \"returns.xlsx\" is generated, I use openpyxl to create a list from the values in column A. From there I try to append the list to the clipboard so I can paste it via a second SAP script.  For some reason when I try to paste in excel after the script completes, Excel throws an error window, \"Microsoft Excel cannot paste data\". </p>\n\n<p>Full script below:</p>\n\n<pre><code>from subprocess import call\nimport warnings\nimport win32gui\nimport os\nimport time\nfrom openpyxl import load_workbook\nfrom Tkinter import Tk\nimport wx\nimport pyautogui\n\n\nwarnings.filterwarnings('ignore')\nfilePath = os.path.expanduser(\"~\\Desktop\\\\\")\napp = wx.App() \nframe = wx.Frame(None, -1)\n\n\n############## Start and stop dates\ndlg = wx.TextEntryDialog(frame, 'Enter Start Date','Start Date')\ndlg.SetValue(\"mm/dd/YYYY\")\nif dlg.ShowModal() == wx.ID_OK:             \n    startDate = dlg.GetValue()\ndlg.Destroy()\n\ndlg2 = wx.TextEntryDialog(frame, 'Enter End Date','End Date')\ndlg2.SetValue(\"mm/dd/YYYY\")\nif dlg2.ShowModal() == wx.ID_OK:\n    endDate = dlg2.GetValue()\ndlg2.Destroy()\n#############\n\n\n############################Functions for getting the window names and copying data to the clip board\ndef GetWindowName():\n    winName=win32gui.GetWindowText (win32gui.GetForegroundWindow())\n    return winName\n\ndef CopytoClip(clipList):\n\n    r = Tk()\n    r.withdraw()\n    r.clipboard_clear()\n    for item in clipList:           \n\n        r.clipboard_append(item)\n        r.clipboard_append(\"\\n\")\n    r.update()\n    r.destroy()\n\n############################\n\n\n###################SAP GUI Shell Commands\ncommand =  'guixt.exe \"Input=V[MYDATE]:%s;V[END_DATE]:%s;OK: process=C:\\guixt\\scripts\\\\RetReport2.txt\"' %(startDate, endDate)\ncall(command, shell = True, cwd = 'C:\\Program Files (x86)\\SAP\\FrontEnd\\SAPgui\\\\')\n###################\n\n\n\n################################Waiting for the save as window and saving the file as retuns.xlsx on the desktop\nwinName = \"nothing\"\nwhile winName != \"Save As\":\n    winName = GetWindowName()\n    time.sleep(1)\nretFile = filePath + 'returns.XLSX'\npyautogui.typewrite(retFile)\npyautogui.press('enter')\n################################\n\n###############Waiting for the file to auto open\nwinName = \"nothing\"\nwhile winName != \"returns.XLSX - Excel\":\n    winName = GetWindowName()\n    time.sleep(2)\n################################\n\n##############################Create the list from column A and append to clipboard\nsalesOrders = []\nwbSales = load_workbook(filename = retFile)\nwsSales = wbSales['Sheet1']\nfor row in wsSales.iter_rows('A:A', row_offset = 1):\n    for cell in row:\n        try:\n            salesOrders.append(int(cell.value))\n        except TypeError:\n            pass\n\nCopytoClip(salesOrders)\n#################################\n</code></pre>\n\n<p>Now if I use the \"returns.xlsx\" created above in the following short script that I cut from the above script... the clipboard is full. Can anyone help figure out why the clipboard will not work in the full script?</p>\n\n<pre><code>from openpyxl import load_workbook\nfrom tkinter import *\nimport time\nimport os\n\n\nfilePath = os.path.expanduser(\"~\\Desktop\\\\\")\nretFile = filePath + 'returns.XLSX'\n\n\ndef CopytoClip(clipList):\n\n    r = Tk()\n    r.withdraw()\n    r.clipboard_clear()\n    for item in clipList:\n\n        r.clipboard_append(item)\n        r.clipboard_append(\"\\n\")\n    r.update()\n    r.destroy()\n\n\nsalesOrders = []\nwbSales = load_workbook(filename = retFile)\nwsSales = wbSales['Sheet1']\nfor row in wsSales.iter_rows('A:A', row_offset = 1):\n    for cell in row:\n        try:\n            salesOrders.append(int(cell.value))\n        except TypeError:\n            pass\n\nCopytoClip(salesOrders)\n</code></pre>\n"}, {"tags": ["python", "pandas", "scipy", "analytics", "pandas-groupby"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4457341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ce644d2cbb58c3022e778fd78563f7f1?s=128&d=identicon&r=PG&f=1", "display_name": "Techflu", "link": "https://stackoverflow.com/users/4457341/techflu"}, "edited": false, "score": 0, "creation_date": 1509014689, "post_id": 46941982, "comment_id": 80851469, "body": "It don&#39;t work. Maybe my question needs to be more clear."}, {"owner": {"reputation": 55, "user_id": 4457341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ce644d2cbb58c3022e778fd78563f7f1?s=128&d=identicon&r=PG&f=1", "display_name": "Techflu", "link": "https://stackoverflow.com/users/4457341/techflu"}, "edited": false, "score": 0, "creation_date": 1509015058, "post_id": 46941982, "comment_id": 80851671, "body": "It don&#39;t work. Maybe my question needs to be more clear. Sample Data: Tier1\tSedan Tier2\tSUV Tier3\tHatchback Tier1\tSedan Tier2\tSUV Tier3\tHatchback Tier1\t Tier2\tHatchback Tier3\t Tier1\tSedan Tier2\t Tier3\tSedan Tier1\tHatchback Tier2\tSUV Tier3\tSUV  I need to fill the missing values with the Mode with respect to City_Type"}], "tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 1, "last_activity_date": 1508965253, "creation_date": 1508965253, "answer_id": 46941982, "question_id": 46941874, "link": "https://stackoverflow.com/questions/46941874/filling-missing-values-with-mode-of-column-relative-to-another-column-in-python/46941982#46941982", "title": "Filling missing values with mode of column relative to another column in Python", "body": "<p>You would use groupby and fillna with mode</p>\n\n<pre><code>df.groupby('City_Type').Vehicle_Type.transform(lambda x: x.fillna(x.mode()[0]))\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4457341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ce644d2cbb58c3022e778fd78563f7f1?s=128&d=identicon&r=PG&f=1", "display_name": "Techflu", "link": "https://stackoverflow.com/users/4457341/techflu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 46941982, "answer_count": 1, "score": 1, "last_activity_date": 1508969164, "creation_date": 1508964812, "last_edit_date": 1508969164, "question_id": 46941874, "link": "https://stackoverflow.com/questions/46941874/filling-missing-values-with-mode-of-column-relative-to-another-column-in-python", "title": "Filling missing values with mode of column relative to another column in Python", "body": "<p>I have a dataframe with 2 columnns City_Type and Vehicle_Type among many other columns. Now i have some missing values in Vehicle_Type columns which i need to impute with mode of Vehicle_Type based on City_Type. \nFirst i need to write a python program to get the below output. Then i need to fill the missing values in Vehicle_Type field based on the below output.</p>\n\n<pre><code>City_Type    Vehicle_Type\nTier1        Sedans\nTier2        Hatchback\nTier3        SUV\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1508964886, "post_id": 46941871, "comment_id": 80831066, "body": "Why do you <i>think</i> that would work? <code>dt</code> is a <code>module</code> object, do you have a bunch of references to the <code>dt</code> module -object in your <code>group</code> column?"}], "answers": [{"comments": [{"owner": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "edited": false, "score": 0, "creation_date": 1508965240, "post_id": 46941898, "comment_id": 80831273, "body": "Works great, that was it! There are still many lessons ahead of me :) Thanks!"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "edited": false, "score": 0, "creation_date": 1508965293, "post_id": 46941898, "comment_id": 80831305, "body": "@TomaszPrzemski, glad i could help :)"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "edited": false, "score": 2, "creation_date": 1508967881, "post_id": 46941898, "comment_id": 80832496, "body": "@TomaszPrzemski I will suggested you <b><i>accept</i></b> MaxU&#39;s answer instead of mine  ,since it is well documented by pandas API , if you like my answer you can <b><i>upvote</i></b> . We need to consider the future visitors and bring them to the 100% right answer."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1508969531, "post_id": 46941898, "comment_id": 80833097, "body": "@Wen, thank you! I think it&#39;s up to OP to chose the best answer. :) PS you have my upvote already..."}, {"owner": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1508969673, "post_id": 46941898, "comment_id": 80833141, "body": "@Wen ok zrobione :)"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "edited": false, "score": 0, "creation_date": 1508969736, "post_id": 46941898, "comment_id": 80833167, "body": "@TomaszPrzemski, it&#39;s not necessarry! If you think Wen&#39;s answer is better for - please accept his answer. :)"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1508969811, "post_id": 46941898, "comment_id": 80833201, "body": "@MaxU Man, you are using safety way , mine just a source code ,definitely your is better ~ :-)"}, {"owner": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "edited": false, "score": 1, "creation_date": 1508969899, "post_id": 46941898, "comment_id": 80833227, "body": "@MaxU Only justice, because in my project I used your solution :)"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1508969911, "post_id": 46941898, "comment_id": 80833233, "body": "@Wen, OK, i&#39;m going to bed now. I wish you happy answering! :)"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 5, "last_activity_date": 1508964915, "creation_date": 1508964915, "answer_id": 46941898, "question_id": 46941871, "link": "https://stackoverflow.com/questions/46941871/replace-does-not-find-dates-and-does-not-convert-to-another-string/46941898#46941898", "title": "Replace() does not find dates and does not convert to another string", "body": "<p>we can update those rows where we could convert <code>group</code> to <code>datetime</code>:</p>\n\n<pre><code>In [40]: df.loc[pd.to_datetime(df['group'], errors='coerce').notnull(), 'group'] = 'sum'\n\nIn [41]: df\nOut[41]:\n         date  group\n0  2015-01-02  WODKA\n1  2015-01-02   PIWO\n2  2015-01-02    sum\n3  2015-01-03  WODKA\n4  2015-01-03   PIWO\n5  2015-01-03    sum\n6  2015-01-03  WODKA\n7  2015-01-03   PIWO\n</code></pre>\n\n<p>or using RegEx (NOTE: first solution is much more flexible as it'll support different date formats):</p>\n\n<pre><code>In [46]: df['sum'] = df['group'].str.replace(r'^\\d{4}-\\d{2}-\\d{2}', 'sum')\n\nIn [47]: df\nOut[47]:\n         date       group    sum\n0  2015-01-02       WODKA  WODKA\n1  2015-01-02        PIWO   PIWO\n2  2015-01-02  2015-01-02    sum\n3  2015-01-03       WODKA  WODKA\n4  2015-01-03        PIWO   PIWO\n5  2015-01-03  2015-01-03    sum\n6  2015-01-03       WODKA  WODKA\n7  2015-01-03        PIWO   PIWO\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1508965311, "post_id": 46941937, "comment_id": 80831317, "body": "This reminds me of our last discussion that prompted a question in itself :). Where <i>are</i> you learning these tricks, I&#39;ve not seen anything like them when I&#39;m searching for my own problems?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1508965579, "post_id": 46941937, "comment_id": 80831458, "body": "Source code, not docs, then? Do they explicitly state as comments in the source code that such approaches will give the desired results, or do you identify these approaches yourself from understanding the code?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1508965729, "post_id": 46941937, "comment_id": 80831532, "body": "@roganjosh <a href=\"https://github.com/pandas-dev/pandas/blob/v0.20.3/pandas/core/generic.py#L3678-L3926\" rel=\"nofollow noreferrer\">github.com/pandas-dev/pandas/blob/v0.20.3/pandas/core/&hellip;</a>"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1508965835, "post_id": 46941937, "comment_id": 80831584, "body": "I&#39;ve found both examples really cool in that they make me question the inner workings, but I have to be honest that I would find the intended function of both very ambiguous if I ever inherited the code base. The answer by MaxU is, in terms of the API to me, explicit in what it wants to achieve."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1508969653, "post_id": 46941937, "comment_id": 80833136, "body": "@roganjosh BTw see the comment I left under MaxU&#39;s answer :-)"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1508969830, "post_id": 46941937, "comment_id": 80833207, "body": "I did and upvoted it :) I didn&#39;t want to get involved but I did think that was the answer to be accepted. I do find your answer interesting though, it gives me something to read up on, if nothing else but to spot a &quot;gotya&quot; when my code does something unusual :)"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1508969916, "post_id": 46941937, "comment_id": 80833235, "body": "@roganjosh Man , if you know me more, you will find I never ever fight for any point(reputation) related thing in SO. :-)"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1508983368, "post_id": 46941937, "comment_id": 80836741, "body": "@roganjosh I am asking it as an question :-) <a href=\"https://stackoverflow.com/questions/46944650/replace-value-by-using-regex-to-np-nan\" title=\"replace value by using regex to np nan\">stackoverflow.com/questions/46944650/&hellip;</a>"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 4, "last_activity_date": 1508970340, "last_edit_date": 1508970340, "creation_date": 1508965091, "answer_id": 46941937, "question_id": 46941871, "link": "https://stackoverflow.com/questions/46941871/replace-does-not-find-dates-and-does-not-convert-to-another-string/46941937#46941937", "title": "Replace() does not find dates and does not convert to another string", "body": "<p>Or do some trick with special mark <code>-</code>( Notice , I will recommend MaxU's answer) </p>\n\n<pre><code>df.group.replace({'-':np.nan},regex=True).fillna('sum')\nOut[449]: \n0    WODKA\n1     PIWO\n2      sum\n3    WODKA\n4     PIWO\n5      sum\n6    WODKA\n7     PIWO\nName: group, dtype: object\n</code></pre>\n"}], "owner": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 46941898, "answer_count": 2, "score": 2, "last_activity_date": 1508970340, "creation_date": 1508964794, "question_id": 46941871, "link": "https://stackoverflow.com/questions/46941871/replace-does-not-find-dates-and-does-not-convert-to-another-string", "title": "Replace() does not find dates and does not convert to another string", "body": "<p>I have an array in csv:</p>\n\n<pre><code>    date        group\n0   2015-01-02  WODKA\n1   2015-01-02  PIWO\n2   2015-01-02  2015-01-02\n3   2015-01-03  WODKA\n4   2015-01-03  PIWO\n5   2015-01-03  2015-01-03\n6   2015-01-03  WODKA\n7   2015-01-03  PIWO\n</code></pre>\n\n<p>And I would like to convert all the dates from the column \"group\" to the word \"sum\". But my code does not work...</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom datetime import datetime as dt\n\nx = pd.read_csv(\"C:\\\\Users\\dell\\\\Desktop\\\\list_1.csv\", sep=';')\nx.group = x.group.replace(dt, 'sum')\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 477, "user_id": 3831618, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/030bacb6300ae28d45e08c660c1b8c96?s=128&d=identicon&r=PG&f=1", "display_name": "thatrockbottomprogrammer", "link": "https://stackoverflow.com/users/3831618/thatrockbottomprogrammer"}, "edited": false, "score": 0, "creation_date": 1508964828, "post_id": 46941850, "comment_id": 80831038, "body": "Can you show what you&#39;ve tried so far?"}, {"owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "edited": false, "score": 0, "creation_date": 1508965014, "post_id": 46941850, "comment_id": 80831136, "body": "What&#39;s the criteria for fetching those channels?"}, {"owner": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "reply_to_user": {"reputation": 477, "user_id": 3831618, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/030bacb6300ae28d45e08c660c1b8c96?s=128&d=identicon&r=PG&f=1", "display_name": "thatrockbottomprogrammer", "link": "https://stackoverflow.com/users/3831618/thatrockbottomprogrammer"}, "edited": false, "score": 0, "creation_date": 1508965400, "post_id": 46941850, "comment_id": 80831362, "body": "@thatrockbottomprogrammer I havent try anything so far as I dont know how to find the matched element from the list to start from there and fetchings 7 elements from the list. Can you please show me an example how I could do that?"}, {"owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "edited": false, "score": 0, "creation_date": 1508965627, "post_id": 46941850, "comment_id": 80831478, "body": "But you got to know the criteria for matching. Is this a homework or a task?"}, {"owner": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "edited": false, "score": 0, "creation_date": 1508966152, "post_id": 46941850, "comment_id": 80831723, "body": "This is my homework but I am sorry I dont know how to criteria for matching so you would have to help me how to criteria for matching in the list."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1508966164, "post_id": 46941850, "comment_id": 80831730, "body": "Please refer to your educational materials for examples on how to locate a value in a list.  I expect that you want the <code>index</code> method or the <code>in</code> operator."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1508966303, "post_id": 46941850, "comment_id": 80831800, "body": "You seem to be confusing &quot;criteria&quot; with some other word.  Once you&#39;ve found <code>channel</code> in the list, what determines the channels you return?  There are many in the list, but you seem to have some selection criterion that reduces the list to 7 elements."}, {"owner": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1508967089, "post_id": 46941850, "comment_id": 80832163, "body": "@Prune yes of course I want the <code>index</code> method but I don&#39;t know how to find the next 6 elements after the <code>102 BBC Two</code>. Do you know how I can fetch the next 6 elements from the list that come with <code>102 BBC Two</code> when I use <code>index</code> method?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1508967231, "post_id": 46941850, "comment_id": 80832219, "body": "The index returns the position of the element; call it <code>n</code>.  Your seven elements are at indices <code>n</code> through <code>n+6</code>.  This would be the sequence <i>slice</i> <code>channel[n:n+7]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "edited": false, "score": 0, "creation_date": 1508986128, "post_id": 46942459, "comment_id": 80837411, "body": "this is what I am looking for. Thank you very much for this. Problem are now solved!!!"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1508967437, "creation_date": 1508967437, "answer_id": 46942459, "question_id": 46941850, "link": "https://stackoverflow.com/questions/46941850/search-the-string-from-list-to-store-in-the-list/46942459#46942459", "title": "Search the string from list to store in the list", "body": "<p>Use <code>enumerate</code> to keep track of the index, then just compare the position.</p>\n\n<pre><code>for i, start_ch in enumerate(self.channel):\n    if start_ch == channel:\n        return self.channel[i:i+7]\n</code></pre>\n\n<p>Once you've found the right starting point, return a slice from the starting index to the starting index+7.</p>\n"}], "owner": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 46942459, "answer_count": 1, "score": -1, "last_activity_date": 1508967437, "creation_date": 1508964738, "question_id": 46941850, "link": "https://stackoverflow.com/questions/46941850/search-the-string-from-list-to-store-in-the-list", "title": "Search the string from list to store in the list", "body": "<p>I am stored the list of channels in the list. I would like to search for the channel in the list with the matched string to see if I can fetching up to 7 channels.</p>\n\n<p>Example: When my variable <code>channel</code> show <code>102 BBC Two</code>, I want to fetch <code>102 BBC Two</code>, <code>103 ITV</code>, <code>104 Channel</code>, <code>105 Channel</code>, <code>106 Sky One</code>, <code>107 Sky Living</code> and <code>108 Sky Atlantic</code> from the list so I can do something to store in the <code>channels_list</code> list.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>self.channel = ['101 BBC One S East', '102 BBC Two', '103 ITV', '104 Channel 4', '105 Channel 5', '106 Sky One', '107 Sky Living', '108 Sky Atlantic', '401 Sky Sports 1 UK', '402 SKY Sports 2 UK', '403 Sky Sports 3 UK', '404 Sky Sports 4 UK', '405 Sky Sports 5 UK', '406 Sky Sports News HQ', '407 Sky Sports F1', '408 Sky Sports 1 HD', '409 Sky Sports 2 HD', '410 Sky Sports 3 HD', '411 Sky Sports 4 HD', '412 Sky Sports 5 HD', '413 Eurosport 1 UK', '414 Eurosport 2 UK', '415 BT Sport 1', '416 BT Sport 2', '417 At the Races', '418 BT Sport ESPN', '419 MUTV', '420 Chelsea TV', '421 Eir Sport 1', '422 Eir Sport 2']\n\nchannel = \"102 BBC Two\"\nchannels_list = list()\n#Store the 7 selected channels in the channels_list\n</code></pre>\n\n<p>Here is the list of elements:</p>\n\n<pre><code>['101 BBC One S East', '102 BBC Two', '103 ITV', '104 Channel 4', '105 Channel 5', '106 Sky One', '107 Sky Living', '108 Sky Atlantic', '401 Sky Sports 1 UK', '402 SKY Sports 2 UK', '403 Sky Sports 3 UK', '404 Sky Sports 4 UK', '405 Sky Sports 5 UK', '406 Sky Sports News HQ', '407 Sky Sports F1', '408 Sky Sports 1 HD', '409 Sky Sports 2 HD', '410 Sky Sports 3 HD', '411 Sky Sports 4 HD', '412 Sky Sports 5 HD', '413 Eurosport 1 UK', '414 Eurosport 2 UK', '415 BT Sport 1', '416 BT Sport 2', '417 At the Races', '418 BT Sport ESPN', '419 MUTV', '420 Chelsea TV', '421 Eir Sport 1', '422 Eir Sport 2']\n</code></pre>\n\n<p>Can you please show me an example how I can find the matched channel in the list with the string so I can fetch the 7 channels to store in the <code>channels_list</code> list?</p>\n"}, {"tags": ["python", "pytest", "fixtures"], "answers": [{"tags": [], "owner": {"reputation": 3191, "user_id": 857383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5139c6c6a8c445c07d7baeca5c5a14b?s=128&d=identicon&r=PG", "display_name": "Sergey Vasilyev", "link": "https://stackoverflow.com/users/857383/sergey-vasilyev"}, "is_accepted": false, "score": 6, "last_activity_date": 1508966400, "creation_date": 1508966400, "answer_id": 46942231, "question_id": 46941838, "link": "https://stackoverflow.com/questions/46941838/can-i-parameterize-a-pytest-fixture-with-other-fixtures/46942231#46942231", "title": "Can I parameterize a pytest fixture with other fixtures?", "body": "<p>Indirect parametrization is the answer. So, the parameters to the fixtures CAN be other fixtures (by their name/code).</p>\n\n<pre><code>import pytest\n\nall_credentials = {\n    'staging': ('user1', 'pass1'),\n    'prod': ('user2', 'pass2'),\n}\n\n@pytest.fixture\ndef credentials(request):\n    return all_credentials[request.param]\n\n@pytest.mark.parametrize('credentials', ['staging', 'prod'], indirect=True)\ndef test_me(credentials):\n    pass\n</code></pre>\n\n<p>Technically, you can not only get a dict value by its key, but generate the <code>credentials</code> result based on <code>request.param</code>, and this param will be the value passed to the same-name parameter of the test.</p>\n\n<p>If you want other fixtures to be used (probably because of the setup/teardown stages, as this is the only reason to do so):</p>\n\n<pre><code>import pytest\n\n@pytest.fixture\ndef credentials(request):\n    return request.getfuncargvalue(request.param)\n\n@pytest.fixture()\ndef staging_credentials():\n   return (\"staging_userid\", \"staging_password\")\n\n@pytest.fixture()\ndef production_credentials():\n   return (\"prod_userid\", \"prod_password\")\n\n@pytest.mark.parametrize('credentials', ['staging_credentials', 'production_credentials'], indirect=True)\ndef test_me(credentials):\n    pass\n</code></pre>\n\n<p>Here, <code>request.getfuncargvalue(...)</code> will return a fixture value by the fixture name, dynamically.</p>\n"}], "owner": {"reputation": 111, "user_id": 642029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8c8b257e9b7440231505f7d93a0cc8d6?s=128&d=identicon&r=PG", "display_name": "Steve Heyman", "link": "https://stackoverflow.com/users/642029/steve-heyman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3167, "favorite_count": 4, "answer_count": 1, "score": 6, "last_activity_date": 1508966400, "creation_date": 1508964695, "question_id": 46941838, "link": "https://stackoverflow.com/questions/46941838/can-i-parameterize-a-pytest-fixture-with-other-fixtures", "title": "Can I parameterize a pytest fixture with other fixtures?", "body": "<p>I have a python test that uses a fixture for credentials (a tuple of userid and password)</p>\n\n<pre><code>def test_something(credentials)\n   (userid, password) = credentials\n   print(\"Hello {0}, welcome to my test\".format(userid))\n</code></pre>\n\n<p>and I have pytest fixture for credentials:</p>\n\n<pre><code>@pytest.fixture()\ndef credentials():\n   return (\"my_userid\", \"my_password\")\n</code></pre>\n\n<p>It works great</p>\n\n<p>Now I want to extend this for multiple credentials (say staging and production) so that my test will run twice (once each for staging and production).</p>\n\n<p>I thought that parameterization was the answer, but it seems I can't parameterize with fixtures.</p>\n\n<p>I would love to do something like this:</p>\n\n<pre><code>@pytest.fixture(params=[staging_credentials, production_credentials])\ndef credentials(request):\n    return request.param\n</code></pre>\n\n<p>where staging_credentials and production_credentials are all fixtures:</p>\n\n<pre><code>@pytest.fixture()\ndef staging_credentials():\n   return (\"staging_userid\", \"staging_password\")\n\n@pytest.fixture()\ndef production_credentials():\n   return (\"prod_userid\", \"prod_password\")\n</code></pre>\n\n<p>but apparently parameters to the fixture can't be other fixtures.</p>\n\n<p>Any suggestions on how to elegantly handle this?  I've looked at <a href=\"https://docs.pytest.org/en/latest/proposals/parametrize_with_fixtures.html\" rel=\"noreferrer\">https://docs.pytest.org/en/latest/proposals/parametrize_with_fixtures.html</a> but that seems a but too brute force.</p>\n\n<p>Thanks!\nSteve</p>\n"}, {"tags": ["javascript", "jquery", "python", "ajax", "django"], "answers": [{"tags": [], "owner": {"reputation": 433, "user_id": 8374992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aih2I.jpg?s=128&g=1", "display_name": "montudor", "link": "https://stackoverflow.com/users/8374992/montudor"}, "is_accepted": true, "score": 0, "last_activity_date": 1508965247, "creation_date": 1508965247, "answer_id": 46941981, "question_id": 46941794, "link": "https://stackoverflow.com/questions/46941794/django-ajax-cant-find-variableajaxpost/46941981#46941981", "title": "Django + Ajax . Can&#39;t find variable:ajaxPost", "body": "<p>To perform ajax client side use JQuery:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: \"/authfb/\",\n    data: {'username': fb_name , 'fb_id': fb_id, 'csrfmiddlewaretoken': getCookie('csrftoken')},\n    success: function(){}\n});\n</code></pre>\n"}], "owner": {"reputation": 417, "user_id": 2945579, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kuv2x.jpg?s=128&g=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/2945579/frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 46941981, "answer_count": 1, "score": 0, "last_activity_date": 1508965247, "creation_date": 1508964497, "question_id": 46941794, "link": "https://stackoverflow.com/questions/46941794/django-ajax-cant-find-variableajaxpost", "title": "Django + Ajax . Can&#39;t find variable:ajaxPost", "body": "<p>I downloaded a bit old project from repo(didn't updated it for few months) and it appeared ajax doesn't work somehow. In <code>pip freeze</code> I checked library I used <code>djangoajax==2.4</code></p>\n\n<p>In templates js code it looks like this:</p>\n\n<pre><code>ajaxPost('/authfb/', {'username': fb_name , 'fb_id': fb_id, 'csrfmiddlewaretoken': getCookie('csrftoken')}, function(){ });\n</code></pre>\n\n<p>And issue in browser logs is that <code>Can't find variable:ajaxPost</code></p>\n\n<p>I just don't know what that library was and maybe it's outdated? How to check?</p>\n\n<p>Or can be problem connected with something else? I am sure it worked before. All ajax, js, jQuery links and etc is correct</p>\n"}, {"tags": ["python", "tensorflow", "deep-learning", "conv-neural-network"], "comments": [{"owner": {"reputation": 975, "user_id": 4400904, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1e1cc89cb94ef29c646a07ed8da499c3?s=128&d=identicon&r=PG&f=1", "display_name": "hockeybro", "link": "https://stackoverflow.com/users/4400904/hockeybro"}, "edited": false, "score": 1, "creation_date": 1508998706, "post_id": 46941747, "comment_id": 80841222, "body": "Looks like it is unable to initialize the variables. Maybe there is some tensor variable of type float that it can&#39;t understand? Double check your variables."}], "answers": [{"tags": [], "owner": {"reputation": 660, "user_id": 8015346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e0bb6957a1c191e66203e5d111851564?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Haslam", "link": "https://stackoverflow.com/users/8015346/devin-haslam"}, "is_accepted": false, "score": 0, "last_activity_date": 1509393551, "last_edit_date": 1509393551, "creation_date": 1509024657, "answer_id": 46955730, "question_id": 46941747, "link": "https://stackoverflow.com/questions/46941747/tensorflow-error-cannot-parse-tensor-from-proto/46955730#46955730", "title": "Tensorflow Error: &quot;Cannot parse tensor from proto&quot;", "body": "<p>This was the code that produced my error:</p>\n\n<pre><code>w = tf.Variable(tf.constant(1.,shape=[16,16,7,1154,1154]))\nwith tf.Session() as sess:\n    sess.run(tf.global_variables_initializer())\n</code></pre>\n\n<p>I'm still not sure why this is wrong. It must be that a tf.Variable cannot be this large. </p>\n"}, {"comments": [{"owner": {"reputation": 660, "user_id": 8015346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e0bb6957a1c191e66203e5d111851564?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Haslam", "link": "https://stackoverflow.com/users/8015346/devin-haslam"}, "edited": false, "score": 1, "creation_date": 1509026015, "post_id": 46956183, "comment_id": 80859649, "body": "This is the next line of code that I want to execute. Is this possible if I split the Tensor into smaller ones?                                                                                                               DeConnv4 = tf.nn.conv3d_transpose(layer6, filter = w, output_shape = [1,32,32,7,3298], strides = [1,16,16,16,1], padding = &#39;SAME&#39;)"}, {"owner": {"reputation": 727, "user_id": 5708247, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1663046660602177/picture?type=large", "display_name": "Tarun Wadhwa", "link": "https://stackoverflow.com/users/5708247/tarun-wadhwa"}, "reply_to_user": {"reputation": 660, "user_id": 8015346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e0bb6957a1c191e66203e5d111851564?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Haslam", "link": "https://stackoverflow.com/users/8015346/devin-haslam"}, "edited": false, "score": 1, "creation_date": 1509033673, "post_id": 46956183, "comment_id": 80865101, "body": "I am not sure about that. First of all your weight variable is around 19 GB. Even if you split it, I am not sure whether you will be able to fit that into RAM(considering it will create tensors while performing conv operations)."}, {"owner": {"reputation": 727, "user_id": 5708247, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1663046660602177/picture?type=large", "display_name": "Tarun Wadhwa", "link": "https://stackoverflow.com/users/5708247/tarun-wadhwa"}, "reply_to_user": {"reputation": 660, "user_id": 8015346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e0bb6957a1c191e66203e5d111851564?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Haslam", "link": "https://stackoverflow.com/users/8015346/devin-haslam"}, "edited": false, "score": 1, "creation_date": 1509033864, "post_id": 46956183, "comment_id": 80865223, "body": "One thing you can do is create 3298 w = tf.Variable(tf.constant(1.,shape=[16,16,7,3298,1])) variables and perform conv operations individually(maybe you will have to use external memory since you can&#39;t fit 19gbs into main memory) and then combine the result."}, {"owner": {"reputation": 660, "user_id": 8015346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e0bb6957a1c191e66203e5d111851564?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Haslam", "link": "https://stackoverflow.com/users/8015346/devin-haslam"}, "edited": false, "score": 1, "creation_date": 1509041441, "post_id": 46956183, "comment_id": 80869531, "body": "Now that you have indicated that this tensor is abnormally large, it makes me wonderif my architecture is correct. This is the architecture that I am replicating: <a href=\"https://i.stack.imgur.com/1qLP2.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/1qLP2.png</a> As you can see there are many layers and several indications of concatenation (the orange arrows are shortcuts for residual learning). The reason that there are a large amount of channels is due to the concatenation I am doing. I use tf.concat, I concatenate along the axis of the channels. Does this sound correct? Is there another way to concatenate that wouldnt make my channels so large? Thanks!"}], "tags": [], "owner": {"reputation": 727, "user_id": 5708247, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1663046660602177/picture?type=large", "display_name": "Tarun Wadhwa", "link": "https://stackoverflow.com/users/5708247/tarun-wadhwa"}, "is_accepted": false, "score": 4, "last_activity_date": 1509025839, "creation_date": 1509025839, "answer_id": 46956183, "question_id": 46941747, "link": "https://stackoverflow.com/questions/46941747/tensorflow-error-cannot-parse-tensor-from-proto/46956183#46956183", "title": "Tensorflow Error: &quot;Cannot parse tensor from proto&quot;", "body": "<p>You can't create Tensors of size > 2GB. This is not a Tensorflow limit but a Google's protobuf limit. One way to solve this problem is to break a large tensor into smaller tensors. </p>\n"}, {"comments": [{"owner": {"reputation": 660, "user_id": 8015346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e0bb6957a1c191e66203e5d111851564?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Haslam", "link": "https://stackoverflow.com/users/8015346/devin-haslam"}, "edited": false, "score": 1, "creation_date": 1509393917, "post_id": 47021736, "comment_id": 80993679, "body": "This is the architecture I am attempting to replicate: <a href=\"http://i.stack.imgur.com/1qLP2.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/1qLP2.png</a> At the end of inception C, I have a tensor of the shape [?,2,2,1,1154]. Because MxNxP is 32x32x7, I assumed I would need a filter size of the shape [16,16,7,1154,1154] for my last deconvolution. Does the image have enough information to tell me that 1154 is too large for my input and output channels?"}], "tags": [], "owner": {"reputation": 313, "user_id": 8375012, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ooec243H_Sg/AAAAAAAAAAI/AAAAAAAAAHM/9UOLVNj_sJ8/photo.jpg?sz=128", "display_name": "Safak Ozkan", "link": "https://stackoverflow.com/users/8375012/safak-ozkan"}, "is_accepted": true, "score": 11, "last_activity_date": 1509387304, "creation_date": 1509387304, "answer_id": 47021736, "question_id": 46941747, "link": "https://stackoverflow.com/questions/46941747/tensorflow-error-cannot-parse-tensor-from-proto/47021736#47021736", "title": "Tensorflow Error: &quot;Cannot parse tensor from proto&quot;", "body": "<p>As @Tarun Wadhwa said, tensorflow doesn't allow tensors of size > 2 GB on a single device. Your tensor is of size (19 x 10^9 entries) x 4 bytes = <strong>78 GB</strong> if you're using <code>dtype='tf.float32'</code>.</p>\n\n<p>Firstly, you can try using 'tf.float16'. This would halve the size of your tensor on RAM. (It will also add some noise to the weights which will provide a regularizing effect--which is a good thing). You can also try upping your <code>stride</code> parameter in convolutional layers.</p>\n\n<p>But you still won't meet the 2 GB allowable limit. In which case, you should distribute your computational graph across multiple GPUs and train the model there. You'll have to re-structure your code by using <code>with tf.device</code> statements which is a whole new ballgame. AWS provides 8 and 16 GPU p2 instances on its EC2.</p>\n\n<p>Why do you need to work with such humongous tensors?</p>\n"}], "owner": {"reputation": 660, "user_id": 8015346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e0bb6957a1c191e66203e5d111851564?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Haslam", "link": "https://stackoverflow.com/users/8015346/devin-haslam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5710, "favorite_count": 1, "accepted_answer_id": 47021736, "answer_count": 3, "score": 5, "last_activity_date": 1509393551, "creation_date": 1508964288, "question_id": 46941747, "link": "https://stackoverflow.com/questions/46941747/tensorflow-error-cannot-parse-tensor-from-proto", "title": "Tensorflow Error: &quot;Cannot parse tensor from proto&quot;", "body": "<p>I am creating a deep CNN with tensorflow. I have already created the architecture, and now I am in the process of training. When I begin to train the model, I use the command:</p>\n\n<pre><code>sess.run(tf.global_variables_initializer())\n</code></pre>\n\n<p>When this command is called, I get the error located below. My intuition tells me that maybe the tensor shape is too large to parse/initialize. I have researched this error and there seems to be little documentation online. <strong>Does this error give enough information to tell what the problem is?</strong> Thank you.</p>\n\n<pre><code>2017-10-25 15:07:54.252194: W C:\\tf_jenkins\\home\\workspace\\rel-\nwin\\M\\windows\\PY\\35\\tensorflow\\core\\framework\\op_kernel.cc:1182] Invalid \nargument: Cannot parse tensor from proto: dtype: DT_FLOAT\ntensor_shape {\n  dim {\n    size: 16\n  }\n  dim {\n    size: 16\n  }\n  dim {\n    size: 7\n  }\n  dim {\n    size: 3298\n  }\n  dim {\n    size: 3298\n  }\n}\nfloat_val: 0\n\n2017-10-25 15:07:54.252767: E C:\\tf_jenkins\\home\\workspace\\rel-\nwin\\M\\windows\\PY\\35\\tensorflow\\core\\common_runtime\\executor.cc:644] Executor \nfailed to create kernel. Invalid argument: Cannot parse tensor from proto: \ndtype: DT_FLOAT\ntensor_shape {\n  dim {\n    size: 16\n  }\n  dim {\n    size: 16\n  }\n  dim {\n    size: 7\n  }\n  dim {\n    size: 3298\n  }\n  dim {\n    size: 3298\n  }\n}\nfloat_val: 0\n\n         [[Node: Variable_737/Adam_1/Initializer/zeros = Const[_class=\n[\"loc:@Variable_737\"], dtype=DT_FLOAT, value=&lt;Invalid TensorProto: dtype: \nDT_FLOAT tensor_shape { dim { size: 16 } dim { size: 16 } dim { size: 7 } \ndim { size: 3298 } dim { size: 3298 } } float_val: 0&gt;, \n_device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\n2017-10-25 15:07:54.320979: W C:\\tf_jenkins\\home\\workspace\\rel-\nwin\\M\\windows\\PY\\35\\tensorflow\\core\\framework\\op_kernel.cc:1182] Invalid \nargument: Cannot parse tensor from proto: dtype: DT_FLOAT\ntensor_shape {\n  dim {\n    size: 16\n  }\n  dim {\n    size: 16\n  }\n  dim {\n    size: 7\n  }\n  dim {\n    size: 3298\n  }\n  dim {\n    size: 3298\n  }\n}\nfloat_val: 0\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "for-loop", "combinatorics", "itertools"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1508964298, "post_id": 46941719, "comment_id": 80830725, "body": "Whatever source taught you to write iterables like that, stop using it."}, {"owner": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "edited": false, "score": 0, "creation_date": 1508964596, "post_id": 46941719, "comment_id": 80830888, "body": "Is your object indexable? Does it have a <code>__len__</code> method?"}, {"owner": {"reputation": 6211, "user_id": 2846766, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/36e89f13bb210e355ae8bddd1df28077?s=128&d=identicon&r=PG", "display_name": "mightypile", "link": "https://stackoverflow.com/users/2846766/mightypile"}, "edited": false, "score": 0, "creation_date": 1508964677, "post_id": 46941719, "comment_id": 80830936, "body": "It&#39;s essentially a representation of a nested directory and file structure, so with the multiple levels, I don&#39;t have a single index into it all. I do have an overall count of nodes, however, so I could write a <b>len</b> easily."}, {"owner": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "edited": false, "score": 0, "creation_date": 1508964775, "post_id": 46941719, "comment_id": 80831001, "body": "How deeply is it nested? Are there always only two levels?"}, {"owner": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "edited": false, "score": 0, "creation_date": 1508964885, "post_id": 46941719, "comment_id": 80831063, "body": "Are the number of children always consistent to each parent or does it vary? or can that number be found dynamically?"}, {"owner": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "edited": false, "score": 0, "creation_date": 1508965240, "post_id": 46941719, "comment_id": 80831272, "body": "To sum up my previous questions, is there any way to use nested <code>for</code> loops over <code>range</code>s and use the resulting numbers as an index? Something like <code>for x in range(len(obj)): for y in range(len(obj)): print(obj[x] == obj[y])</code>"}, {"owner": {"reputation": 6211, "user_id": 2846766, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/36e89f13bb210e355ae8bddd1df28077?s=128&d=identicon&r=PG", "display_name": "mightypile", "link": "https://stackoverflow.com/users/2846766/mightypile"}, "reply_to_user": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "edited": false, "score": 0, "creation_date": 1508966311, "post_id": 46941719, "comment_id": 80831805, "body": "@EricEdLohmar I&#39;ve edited the question to clarify the varying depths, varying lengths of lists at each depth, that make this difficult to solve with indices. I fear my simplified reproducible example may be too simplified. But the core is there, as suggested by user2357112, that my single custom internal iterator is insufficient to the task."}], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1508966275, "post_id": 46941827, "comment_id": 80831790, "body": "General rule: If you define <code>__next__</code>, then <code>__iter__</code> <i>must</i> be the identity function (doing <i>nothing</i> but <code>return self</code>). If it isn&#39;t, the code is <i>wrong</i>. And usually, you don&#39;t really want to hand-implement an iterator class, so you&#39;d just make <code>__iter__</code> a generator function as demonstrated here and avoid implementing <code>__next__</code> entirely. The generator function approach is faster (letting Python manage generator state lets it do it much more efficiently) and simpler than defining a separate iterator class for your type."}, {"owner": {"reputation": 6211, "user_id": 2846766, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/36e89f13bb210e355ae8bddd1df28077?s=128&d=identicon&r=PG", "display_name": "mightypile", "link": "https://stackoverflow.com/users/2846766/mightypile"}, "edited": false, "score": 0, "creation_date": 1508966476, "post_id": 46941827, "comment_id": 80831884, "body": "The yield direction is helpful, as is the general rule. I need to figure out if they&#39;ll work for my use-case of iterating through multiple levels of a hierarchy within the object.Thanks!"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1508964632, "creation_date": 1508964632, "answer_id": 46941827, "question_id": 46941719, "link": "https://stackoverflow.com/questions/46941719/how-can-i-have-multiple-iterators-over-a-single-python-iterable-at-the-same-time/46941827#46941827", "title": "How can I have multiple iterators over a single python iterable at the same time?", "body": "<p>Your <code>__iter__</code> is completely broken. Instead of actually making a fresh iterator on every call, it just resets some state on <code>self</code> and returns <code>self</code>. That means you can't actually have more than one iterator at a time over your object, and any call to <code>__iter__</code> while another loop over the object is active will interfere with the existing loop.</p>\n\n<p>You need to actually make a new object. The simplest way to do that is to use <code>yield</code> syntax to write a generator function. The generator function will automatically return a new iterator object every time:</p>\n\n<pre><code>class C(object):\n    def __init__(self):\n        self.stuff = ['A', 'B', 'C', 'D']\n    def __iter__(self):\n        for thing in self.stuff:\n            yield thing\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6211, "user_id": 2846766, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/36e89f13bb210e355ae8bddd1df28077?s=128&d=identicon&r=PG", "display_name": "mightypile", "link": "https://stackoverflow.com/users/2846766/mightypile"}, "edited": false, "score": 0, "creation_date": 1509022966, "post_id": 46951166, "comment_id": 80857213, "body": "I&#39;m almost certain I&#39;ll need to implement my own iterator, as my real-world class needs to iterate over multiple lists one after the other, opaque to the caller. I&#39;m still learning, but I&#39;ll be surprised if a generator like yield will handle my case. This answer covers a lot of ground in getting me where I need to be. Cheers!"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 6211, "user_id": 2846766, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/36e89f13bb210e355ae8bddd1df28077?s=128&d=identicon&r=PG", "display_name": "mightypile", "link": "https://stackoverflow.com/users/2846766/mightypile"}, "edited": false, "score": 1, "creation_date": 1509153016, "post_id": 46951166, "comment_id": 80917927, "body": "@mightypile: Iterate over multiple lists one after the other you say? <a href=\"https://docs.python.org/3/library/itertools.html#itertools.chain\" rel=\"nofollow noreferrer\">Hmm...</a>"}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 2, "last_activity_date": 1509011812, "last_edit_date": 1509011812, "creation_date": 1509011452, "answer_id": 46951166, "question_id": 46941719, "link": "https://stackoverflow.com/questions/46941719/how-can-i-have-multiple-iterators-over-a-single-python-iterable-at-the-same-time/46951166#46951166", "title": "How can I have multiple iterators over a single python iterable at the same time?", "body": "<p>It's actually impossible to make a container class that is it's own iterator. The container shouldn't know about the state of the iterator and the iterator doesn't need to know the contents of the container, it just needs to know which object is the corresponding container and \"where\" it is. If you mix iterator and container different iterators will share state with each other (in your case the <code>self.idx</code>) which will not give the correct results (they read and modify the same variable).</p>\n\n<p>That's the reason why all built-in types have a seperate iterator class (and even some have an reverse-iterator class):</p>\n\n<pre><code>&gt;&gt;&gt; l = [1, 2, 3]\n&gt;&gt;&gt; iter(l)\n&lt;list_iterator at 0x15e360c86d8&gt;\n&gt;&gt;&gt; reversed(l)\n&lt;list_reverseiterator at 0x15e360a5940&gt;\n\n&gt;&gt;&gt; t = (1, 2, 3)\n&gt;&gt;&gt; iter(t)\n&lt;tuple_iterator at 0x15e363fb320&gt;\n\n&gt;&gt;&gt; s = '123'\n&gt;&gt;&gt; iter(s)\n&lt;str_iterator at 0x15e363fb438&gt;\n</code></pre>\n\n<p>So, basically you could just return <code>iter(self.stuff)</code> in <code>__iter__</code> and drop the <code>__next__</code> altogether because <code>list_iterator</code> knows how to iterate over the list:</p>\n\n<pre><code>class C:\n    def __init__(self):\n        self.stuff = [\"A\",\"B\",\"C\",\"D\"]\n    def __iter__(self):\n        return iter(self.stuff)\n\nthing = C()\nfor x in thing:\n    for y in thing:\n        print(x, y, x==y)\n</code></pre>\n\n<p>prints 16 lines, like expected.</p>\n\n<p>If your goal is to make your own iterator class, you need two classes (or 3 if you want to implement the reversed-iterator yourself).</p>\n\n<pre><code>class C:\n    def __init__(self):\n        self.stuff = [\"A\",\"B\",\"C\",\"D\"]\n    def __iter__(self):\n        return C_iterator(self)\n    def __reversed__(self):\n        return C_reversed_iterator(self)\n\nclass C_iterator:\n    def __init__(self, parent):\n        self.idx = 0\n        self.parent = parent\n    def __iter__(self):\n        return self\n    def __next__(self):\n        self.idx += 1\n        if self.idx &gt; len(self.parent.stuff):\n            raise StopIteration\n        else:\n            return self.parent.stuff[self.idx - 1]\n\nthing = C()\nfor x in thing:\n    for y in thing:\n        print(x, y, x==y)\n</code></pre>\n\n<p>works as well. </p>\n\n<p>For completeness, here's one possible implementation of the reversed-iterator:</p>\n\n<pre><code>class C_reversed_iterator:\n    def __init__(self, parent):\n        self.parent = parent\n        self.idx = len(parent.stuff) + 1\n    def __iter__(self):\n        return self\n    def __next__(self):\n        self.idx -= 1\n        if self.idx &lt;= 0:\n            raise StopIteration\n        else:\n            return self.parent.stuff[self.idx - 1]\n\nthing = C()\nfor x in reversed(thing):\n    for y in reversed(thing):\n        print(x, y, x==y)\n</code></pre>\n\n<p>Instead of defining your own iterators you could use generators. One way was already shown in the other answer:</p>\n\n<pre><code>class C:\n    def __init__(self):\n        self.stuff = [\"A\",\"B\",\"C\",\"D\"]\n    def __iter__(self):\n        yield from self.stuff\n    def __reversed__(self):\n        yield from self.stuff[::-1]\n</code></pre>\n\n<p>or explicitly delegate to a generator function (that's actually equivalent to the above but maybe more clear that it's a new object that is produced):</p>\n\n<pre><code>def C_iterator(obj):\n    for item in obj.stuff:\n        yield item\n\ndef C_reverse_iterator(obj):\n    for item in obj.stuff[::-1]:\n        yield item\n\nclass C:\n    def __init__(self):\n        self.stuff = [\"A\",\"B\",\"C\",\"D\"]\n    def __iter__(self):\n        return C_iterator(self)\n    def __reversed__(self):\n        return C_reverse_iterator(self)\n</code></pre>\n\n<p>Note: You don't have to implement the <code>__reversed__</code> iterator. That was just meant as additional \"feature\" of the answer.</p>\n"}], "owner": {"reputation": 6211, "user_id": 2846766, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/36e89f13bb210e355ae8bddd1df28077?s=128&d=identicon&r=PG", "display_name": "mightypile", "link": "https://stackoverflow.com/users/2846766/mightypile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3356, "favorite_count": 4, "accepted_answer_id": 46951166, "answer_count": 2, "score": 3, "last_activity_date": 1509023890, "creation_date": 1508964192, "last_edit_date": 1509023890, "question_id": 46941719, "link": "https://stackoverflow.com/questions/46941719/how-can-i-have-multiple-iterators-over-a-single-python-iterable-at-the-same-time", "title": "How can I have multiple iterators over a single python iterable at the same time?", "body": "<p>I would like to compare all elements in my iterable object combinatorically with each other. The following reproducible example just mimics the functionality of a plain list, but demonstrates my problem. In this example with a list of [\"A\",\"B\",\"C\",\"D\"], I would like to get the following 16 lines of output, every combination of each item with each other. A list of 100 items should generate 100*100=10,000 lines.</p>\n\n<pre><code>A A True\nA B False\nA C False\n... 10 more lines ...\nD B False\nD C False\nD D True\n</code></pre>\n\n<p>The following code seemed like it should do the job.</p>\n\n<pre><code>class C():\n    def __init__(self):\n        self.stuff = [\"A\",\"B\",\"C\",\"D\"]\n    def __iter__(self):\n        self.idx = 0\n        return self\n    def __next__(self):\n        self.idx += 1\n        if self.idx &gt; len(self.stuff):\n            raise StopIteration\n        else:\n            return self.stuff[self.idx - 1]\n\nthing = C()\nfor x in thing:\n    for y in thing:\n        print(x, y, x==y)\n</code></pre>\n\n<p>But after finishing the y-loop, the x-loop seems done, too, even though it's only used the first item in the iterable.</p>\n\n<pre><code>A A True\nA B False\nA C False\nA D False\n</code></pre>\n\n<p>After much searching, I eventually tried the following code, hoping that itertools.tee would allow me two independent iterators over the same data:</p>\n\n<pre><code>import itertools\nthing = C()\nthing_one, thing_two = itertools.tee(thing)\nfor x in thing_one:\n    for y in thing_two:\n        print(x, y, x==y)\n</code></pre>\n\n<p>But I got the same output as before.</p>\n\n<p>The real-world object this represents is a model of a directory and file structure with varying numbers of files and subdirectories, at varying depths into the tree. It has nested links to thousands of members and iterates correctly over them once, just like this example. But it also does expensive processing within its many internal objects on-the-fly as needed for comparisons, which would end up doubling the workload if I had to make a complete copy of it prior to iterating. I would really like to use multiple iterators, pointing into a single object with all the data, if possible.</p>\n\n<hr>\n\n<p>Edit on answers: The critical flaw in the question code, pointed out in all answers, is the single internal self.idx variable being unable to handle multiple callers independently. The accepted answer is the best for my real class (oversimplified in this reproducible example), another answer presents a simple, elegant solution for simpler data structures like the list presented here.</p>\n"}, {"tags": ["python", "python-3.x", "unicode", "locale"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1508964258, "post_id": 46941712, "comment_id": 80830703, "body": "<code>print(&quot;\\u203e&quot;)</code>?"}, {"owner": {"reputation": 171, "user_id": 8676340, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-GGdXUgQ46AQ/AAAAAAAAAAI/AAAAAAAAA7I/Hqj8KDrHJhE/photo.jpg?sz=128", "display_name": "Hylke", "link": "https://stackoverflow.com/users/8676340/hylke"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1508964349, "post_id": 46941712, "comment_id": 80830761, "body": "@juanpa.arrivillaga that gives me a UnicodeEncodeError. I will edit my question for clarification"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1508964410, "post_id": 46941712, "comment_id": 80830795, "body": "Yeah, that means your terminal doesn&#39;t support unicode, or doesn&#39;t have unicode support enabled (i.e. it&#39;s set to decoding things using some other codec)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1508964516, "post_id": 46941712, "comment_id": 80830846, "body": "What error are you getting <i>exactly</i>? But yes, the problem is likely with your terminal, not with Python."}, {"owner": {"reputation": 171, "user_id": 8676340, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-GGdXUgQ46AQ/AAAAAAAAAAI/AAAAAAAAA7I/Hqj8KDrHJhE/photo.jpg?sz=128", "display_name": "Hylke", "link": "https://stackoverflow.com/users/8676340/hylke"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1508964662, "post_id": 46941712, "comment_id": 80830922, "body": "This is the exact error I get: UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode character &#39;\\u203e&#39; in position 0: ordinal not in range(128)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1508964713, "post_id": 46941712, "comment_id": 80830957, "body": "Yes, either your terminal doesn&#39;t accept unicode characters, or Python is under the impression that it doesn&#39;t. Try changing your terminal setttings."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1508964822, "post_id": 46941712, "comment_id": 80831031, "body": "Try something like the solution <a href=\"https://stackoverflow.com/questions/41408791/python-3-unicodeencodeerror-ascii-codec-cant-encode-characters\">here</a>"}, {"owner": {"reputation": 856, "user_id": 8786820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c686012938b3042116cbb6b2a96ae9c4?s=128&d=identicon&r=PG&f=1", "display_name": "MaximTitarenko", "link": "https://stackoverflow.com/users/8786820/maximtitarenko"}, "edited": false, "score": 0, "creation_date": 1509511204, "post_id": 46941712, "comment_id": 81043731, "body": "@HylkevanderVeen, have you solved the problem?"}, {"owner": {"reputation": 171, "user_id": 8676340, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-GGdXUgQ46AQ/AAAAAAAAAAI/AAAAAAAAA7I/Hqj8KDrHJhE/photo.jpg?sz=128", "display_name": "Hylke", "link": "https://stackoverflow.com/users/8676340/hylke"}, "edited": false, "score": 0, "creation_date": 1511211452, "post_id": 46941712, "comment_id": 81755424, "body": "<a href=\"https://stackoverflow.com/questions/41408791/python-3-unicodeencodeerror-ascii-codec-cant-encode-characters\" title=\"python 3 unicodeencodeerror ascii codec cant encode characters\">stackoverflow.com/questions/41408791/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2072, "user_id": 4456243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACLxDQfrvA/AAAAAAAAAAI/AAAAAAAAAAA/soJzmYcJ1FE/photo.jpg?sz=128", "display_name": "Zachary Cross", "link": "https://stackoverflow.com/users/4456243/zachary-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1508964297, "creation_date": 1508964297, "answer_id": 46941752, "question_id": 46941712, "link": "https://stackoverflow.com/questions/46941712/how-to-print-overline-character-in-python-3/46941752#46941752", "title": "How to print overline character in python 3?", "body": "<p>Use <code>\\u</code> to indicate a unicode character: <code>print(\"\\u203e\")</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 8676340, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-GGdXUgQ46AQ/AAAAAAAAAAI/AAAAAAAAA7I/Hqj8KDrHJhE/photo.jpg?sz=128", "display_name": "Hylke", "link": "https://stackoverflow.com/users/8676340/hylke"}, "edited": false, "score": 0, "creation_date": 1508964603, "post_id": 46941788, "comment_id": 80830891, "body": "I just want the plain overline character, without any characters underneath it, so I need \\u203e. My problem is I don&#39;t know how to fix the UnicodeEncodeError"}, {"owner": {"reputation": 171, "user_id": 8676340, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-GGdXUgQ46AQ/AAAAAAAAAAI/AAAAAAAAA7I/Hqj8KDrHJhE/photo.jpg?sz=128", "display_name": "Hylke", "link": "https://stackoverflow.com/users/8676340/hylke"}, "edited": false, "score": 0, "creation_date": 1508965231, "post_id": 46941788, "comment_id": 80831260, "body": "I really don&#39;t have any code. This is all I have: &#39;print (u&quot;\\u203e&quot;)&#39;"}, {"owner": {"reputation": 28, "user_id": 8795898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6HwU7.jpg?s=128&g=1", "display_name": "Edwin Cubillos", "link": "https://stackoverflow.com/users/8795898/edwin-cubillos"}, "reply_to_user": {"reputation": 171, "user_id": 8676340, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-GGdXUgQ46AQ/AAAAAAAAAAI/AAAAAAAAA7I/Hqj8KDrHJhE/photo.jpg?sz=128", "display_name": "Hylke", "link": "https://stackoverflow.com/users/8676340/hylke"}, "edited": false, "score": 0, "creation_date": 1508965466, "post_id": 46941788, "comment_id": 80831400, "body": "humm, try with python -c &#39;print (u&quot;\\u203e&quot;)&#39;  and python3 -c &#39;print (u&quot;\\u203e&quot;)&#39;, the same answers?"}], "tags": [], "owner": {"reputation": 28, "user_id": 8795898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6HwU7.jpg?s=128&g=1", "display_name": "Edwin Cubillos", "link": "https://stackoverflow.com/users/8795898/edwin-cubillos"}, "is_accepted": false, "score": 1, "last_activity_date": 1508964471, "creation_date": 1508964471, "answer_id": 46941788, "question_id": 46941712, "link": "https://stackoverflow.com/questions/46941712/how-to-print-overline-character-in-python-3/46941788#46941788", "title": "How to print overline character in python 3?", "body": "<p>You need to use the combining character U+0304 instead.</p>\n\n<pre><code>print(u'a\\u0304')\n</code></pre>\n\n<p>\u0101\nU+0305 is probably a better choice (as viraptor suggests). You can also use the Unicode Roman numerals (U+2160 through U+217f) instead of regular uppercase Latin letters, although (at least in my terminal) they don't render as well with the overline.</p>\n\n<pre><code> print(u'\\u2163\\u0305')\n</code></pre>\n\n<p>\u2163\u0305</p>\n\n<pre><code> print u'I\\u0305V\\u0305'\n</code></pre>\n\n<p>I\u0305V\u0305</p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 8676340, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-GGdXUgQ46AQ/AAAAAAAAAAI/AAAAAAAAA7I/Hqj8KDrHJhE/photo.jpg?sz=128", "display_name": "Hylke", "link": "https://stackoverflow.com/users/8676340/hylke"}, "edited": false, "score": 0, "creation_date": 1508966234, "post_id": 46942105, "comment_id": 80831759, "body": "If I try that, this is my result: \ufffd\ufffd\ufffd"}], "tags": [], "owner": {"reputation": 856, "user_id": 8786820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c686012938b3042116cbb6b2a96ae9c4?s=128&d=identicon&r=PG&f=1", "display_name": "MaximTitarenko", "link": "https://stackoverflow.com/users/8786820/maximtitarenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1508965772, "creation_date": 1508965772, "answer_id": 46942105, "question_id": 46941712, "link": "https://stackoverflow.com/questions/46941712/how-to-print-overline-character-in-python-3/46942105#46942105", "title": "How to print overline character in python 3?", "body": "<p>It seems like your <code>sys.stdout.encoding</code> is <code>'ascii'</code>.<br>\nTry to set it to <code>'utf-8'</code>:</p>\n\n<pre><code>import sys, codecs\nsys.stdout = codecs.getwriter('utf-8')(sys.stdout.detach())\n\nprint ('\\u203e')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50872, "user_id": 523612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ae512dd708a619496d36b1f681f95e0?s=128&d=identicon&r=PG", "display_name": "Karl Knechtel", "link": "https://stackoverflow.com/users/523612/karl-knechtel"}, "edited": false, "score": 1, "creation_date": 1594801389, "post_id": 62909160, "comment_id": 111250349, "body": "This completely misses the point of the question, and also it was adequately answered years ago."}], "tags": [], "owner": {"reputation": 1, "user_id": 13933704, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/9cfa9bd476ccd5c5a4090a525ffe4c41?s=128&d=identicon&r=PG", "display_name": "NtPhase", "link": "https://stackoverflow.com/users/13933704/ntphase"}, "is_accepted": false, "score": -2, "last_activity_date": 1594801122, "last_edit_date": 1594801122, "creation_date": 1594796130, "answer_id": 62909160, "question_id": 46941712, "link": "https://stackoverflow.com/questions/46941712/how-to-print-overline-character-in-python-3/62909160#62909160", "title": "How to print overline character in python 3?", "body": "<pre><code>print(u' \\u0305'*k)\n</code></pre>\n<p>with <code>k</code> as the length of the line in characters.</p>\n<p>e.g.</p>\n<pre><code>print(u' \\u0305'*5)\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 8676340, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-GGdXUgQ46AQ/AAAAAAAAAAI/AAAAAAAAA7I/Hqj8KDrHJhE/photo.jpg?sz=128", "display_name": "Hylke", "link": "https://stackoverflow.com/users/8676340/hylke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1654, "favorite_count": 1, "answer_count": 4, "score": 1, "last_activity_date": 1594801122, "creation_date": 1508964167, "last_edit_date": 1511218287, "question_id": 46941712, "link": "https://stackoverflow.com/questions/46941712/how-to-print-overline-character-in-python-3", "title": "How to print overline character in python 3?", "body": "<p>Please don't mark my question as already answered, because in all of the questions on stackoverflow or in the Unicode HOWTO I can't figure out how to print the overline or U+203E character in Python 3. Can someone please explain in baby programmer language how to print unicode characters like this one? I have tried some things, but to be honest I had no idea what I was doing.</p>\n\n<p>I am working Kubuntu xenial (16.04).</p>\n\n<p>When I try to print the character I get a UnicodeEncodeError. My question would be, how to work around this error?</p>\n\n<p><strong>EDIT 1: Problem located</strong></p>\n\n<p>I have now figured out my locale is set to POSIX, which would be ASCII encoding. I will try to set it to UTF-8 encoding.</p>\n\n<p><strong>EDIT 2: Still no solution</strong></p>\n\n<p>I have found out what I need to change, I just haven't found out how to. For anyone with the same issue, there's a comment with a link to a post where a similar problem is solved. </p>\n\n<p><strong>EDIT 3: Final answer</strong></p>\n\n<p><a href=\"https://askubuntu.com/questions/978559/can-and-should-i-become-owner-of-etc-default-locale\">Here</a> is a link to an askubuntu forum where I asked how to edit my <code>/etc/default/locale</code> file. Turns out one command in the Linux shell was enough. For me a lot of stuff doesn't work, but this command allowed me to set my locale to en_US.UTF-8: <code>sudo /usr/sbin/update-locale LANG=en_US.UTF-8</code>. After rebooting my OS, the settings had applied and my locale was changed. </p>\n\n<p>Now I don't need the overline character anymore, because I have learned to work with graphics libraries, but I have had multiple problems because of my locale. Thanks to everyone for the advice!</p>\n"}, {"tags": ["python", "django", "forms"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1508964360, "post_id": 46941694, "comment_id": 80830770, "body": "Why make it required at all?"}, {"owner": {"reputation": 1348, "user_id": 6735573, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/026a164e58778bbe4f8c778cb1980e14?s=128&d=identicon&r=PG&f=1", "display_name": "DeA", "link": "https://stackoverflow.com/users/6735573/dea"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1508964427, "post_id": 46941694, "comment_id": 80830805, "body": "Because the user in an other place should be able to choose what Queue he/she wants to put the form info into, only in this place do we hide it and make it go directly to Queue with ID 9"}], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 0, "last_activity_date": 1508964824, "creation_date": 1508964824, "answer_id": 46941880, "question_id": 46941694, "link": "https://stackoverflow.com/questions/46941694/how-do-i-populate-a-hidden-required-field-in-django-forms/46941880#46941880", "title": "How do I populate a hidden required field in django forms?", "body": "<p>Don\u2019t make a hidden field. Create another form class that doesn\u2019t contain the field (subclassing will prevent repetition), then set the value in the view.</p>\n\n<pre><code>instance = form.save(commit=False)\ninstance.queue = 9\ninstance.save()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8822217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fdd07592b191b7a5249d33b8645f6fd?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Melnikov", "link": "https://stackoverflow.com/users/8822217/sergey-melnikov"}, "is_accepted": false, "score": 1, "last_activity_date": 1508970427, "creation_date": 1508970427, "answer_id": 46942992, "question_id": 46941694, "link": "https://stackoverflow.com/questions/46941694/how-do-i-populate-a-hidden-required-field-in-django-forms/46942992#46942992", "title": "How do I populate a hidden required field in django forms?", "body": "<p>You can override POST data.</p>\n\n<pre><code>if request.method in ('POST', 'PUT'):\n    data = request.POST.copy()\n    data['queue'] = 9\n    form = PublicTicketForm(data, request.FILES)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1348, "user_id": 6735573, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/026a164e58778bbe4f8c778cb1980e14?s=128&d=identicon&r=PG&f=1", "display_name": "DeA", "link": "https://stackoverflow.com/users/6735573/dea"}, "is_accepted": false, "score": 0, "last_activity_date": 1508992207, "creation_date": 1508992207, "answer_id": 46945883, "question_id": 46941694, "link": "https://stackoverflow.com/questions/46941694/how-do-i-populate-a-hidden-required-field-in-django-forms/46945883#46945883", "title": "How do I populate a hidden required field in django forms?", "body": "<p>I was able to do something like this in the template and that worked!</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"queue\" value=\"9\" /&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1348, "user_id": 6735573, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/026a164e58778bbe4f8c778cb1980e14?s=128&d=identicon&r=PG&f=1", "display_name": "DeA", "link": "https://stackoverflow.com/users/6735573/dea"}, "edited": false, "score": 0, "creation_date": 1509028978, "post_id": 46954453, "comment_id": 80861958, "body": "I can&#39;t hide it in the form because that form is used else where as well, so I was able to do <code>&lt;input type=&quot;hidden&quot; name=&quot;queue&quot; value=&quot;9&quot; &#47;&gt;</code> and that worked for me"}, {"owner": {"reputation": 627, "user_id": 1283695, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/39a60574a6cd45da648848e95c2a2b97?s=128&d=identicon&r=PG", "display_name": "Dashdrum", "link": "https://stackoverflow.com/users/1283695/dashdrum"}, "reply_to_user": {"reputation": 1348, "user_id": 6735573, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/026a164e58778bbe4f8c778cb1980e14?s=128&d=identicon&r=PG&f=1", "display_name": "DeA", "link": "https://stackoverflow.com/users/6735573/dea"}, "edited": false, "score": 0, "creation_date": 1509035824, "post_id": 46954453, "comment_id": 80866411, "body": "Glad that it&#39;s working.  Something else I didn&#39;t think of earlier would be too subclass the Form and make changes there.  We have many options with Django."}], "tags": [], "owner": {"reputation": 627, "user_id": 1283695, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/39a60574a6cd45da648848e95c2a2b97?s=128&d=identicon&r=PG", "display_name": "Dashdrum", "link": "https://stackoverflow.com/users/1283695/dashdrum"}, "is_accepted": false, "score": 0, "last_activity_date": 1509021173, "creation_date": 1509021173, "answer_id": 46954453, "question_id": 46941694, "link": "https://stackoverflow.com/questions/46941694/how-do-i-populate-a-hidden-required-field-in-django-forms/46954453#46954453", "title": "How do I populate a hidden required field in django forms?", "body": "<p>I just did this last night!</p>\n\n<p>In forms.py declare the field with the HiddenInput widget (be sure to render it):</p>\n\n<p><code>scope = CharField(max_length=60,widget=HiddenInput())</code></p>\n\n<p>Then, in views.py you can apply the initial value:</p>\n\n<p><code>form = MyForm(initial={'scope': 'public'})</code></p>\n\n<p>Or using a CBV:</p>\n\n<p><code>initial = {'scope':'public'}</code></p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 14518773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u7qcY.jpg?s=128&g=1", "display_name": "Ahmed Yasser", "link": "https://stackoverflow.com/users/14518773/ahmed-yasser"}, "is_accepted": false, "score": 1, "last_activity_date": 1618249997, "creation_date": 1618249997, "answer_id": 67063302, "question_id": 46941694, "link": "https://stackoverflow.com/questions/46941694/how-do-i-populate-a-hidden-required-field-in-django-forms/67063302#67063302", "title": "How do I populate a hidden required field in django forms?", "body": "<p>You can use formsets to be able to assign a specific value and show specific inputs to the user like <a href=\"https://youtu.be/MRWFg30FmZQ?list=PL-51WBLyFTg2vW-_6XBoUpE7vpmoR3ztO\" rel=\"nofollow noreferrer\">this</a></p>\n"}], "owner": {"reputation": 1348, "user_id": 6735573, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/026a164e58778bbe4f8c778cb1980e14?s=128&d=identicon&r=PG&f=1", "display_name": "DeA", "link": "https://stackoverflow.com/users/6735573/dea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4678, "favorite_count": 1, "answer_count": 5, "score": 3, "last_activity_date": 1618249997, "creation_date": 1508964074, "last_edit_date": 1508964304, "question_id": 46941694, "link": "https://stackoverflow.com/questions/46941694/how-do-i-populate-a-hidden-required-field-in-django-forms", "title": "How do I populate a hidden required field in django forms?", "body": "<p>I looked at other similar questions on Stackoverflow, but those situations do not apply to me. </p>\n\n<p>I have a form with a <code>Queue</code> field that is a required field. This form is used in multiple places and in one such instance, I don't want the <code>Queue</code> field to be shown to the user. So, I simply did not render it on the template. But because this a required field, the form won't submit. How do I pre-populate this field while at the same time hiding it from the user?</p>\n\n<p>I cannot make changes to the model or the form's save methods because this form is also used at other places.</p>\n\n<p>forms.py</p>\n\n<pre><code>class PublicTicketForm(CustomFieldMixin, forms.Form):\n\n    queue = forms.ChoiceField(\n        widget=forms.Select(attrs={'class': 'form-control'}),\n        label=_('Queue'),\n        required=True,\n        choices=()\n    )\n</code></pre>\n\n<p>views.py:</p>\n\n<pre><code>def no_queue(request):\n\n    if request.method == 'POST':\n        form = PublicTicketForm(request.POST, request.FILES)\n        form['queue'] = 9 # Tried to assign queue value to field, did not work\n\n        if form.is_valid():\n            if text_is_spam(form.cleaned_data['body'], request):\n                # This submission is spam. Let's not save it.\n                return render(request, template_name='helpdesk/public_spam.html')\n\n            else:\n                form.save()\n    else:\n        form = PublicTicketForm(initial={'queue': 9})  # tried this one too, did not work either\n    return render(request, 'helpdesk/no_queue.html', {'form': form})\n</code></pre>\n\n<p>The <code>choices</code> for this form were populated in the views, but because I'm not rendering it in the template, I did not do it. </p>\n"}, {"tags": ["python", "dataframe"], "comments": [{"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 4, "creation_date": 1508964155, "post_id": 46941683, "comment_id": 80830643, "body": "Are you able to narrow down the &quot;some files worked well but others didn&#39;t&quot;? What differences can you see between them that&#39;d give a hint as to what&#39;s going on?"}, {"owner": {"reputation": 479, "user_id": 6060707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/04b71eedc00413936f9a84722af23b2f?s=128&d=identicon&r=PG&f=1", "display_name": "BingbongKim", "link": "https://stackoverflow.com/users/6060707/bingbongkim"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508966318, "post_id": 46941683, "comment_id": 80831809, "body": "@JonClements I found it!! If the comment has any comma, it is not removed!! why this happened??"}, {"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508966406, "post_id": 46941683, "comment_id": 80831849, "body": "I reproduced it with a comma in the comments:  <code># user id , userid </code>. It works. Is this your use case?"}, {"owner": {"reputation": 479, "user_id": 6060707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/04b71eedc00413936f9a84722af23b2f?s=128&d=identicon&r=PG&f=1", "display_name": "BingbongKim", "link": "https://stackoverflow.com/users/6060707/bingbongkim"}, "reply_to_user": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508966650, "post_id": 46941683, "comment_id": 80831960, "body": "@Mokshyam I tried with &#39;# user id , userid.&#39; and it didn&#39;t work. I am still testing with comma and without comma and it is the only problem."}, {"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508966743, "post_id": 46941683, "comment_id": 80831996, "body": "Edit the question with the exact csv that is not parsing."}, {"owner": {"reputation": 1250, "user_id": 5382796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNY1n.jpg?s=128&g=1", "display_name": "GSazheniuk", "link": "https://stackoverflow.com/users/5382796/gsazheniuk"}, "edited": false, "score": 0, "creation_date": 1508967474, "post_id": 46941683, "comment_id": 80832323, "body": "I suggest you read this: <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}, {"owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "reply_to_user": {"reputation": 1250, "user_id": 5382796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNY1n.jpg?s=128&g=1", "display_name": "GSazheniuk", "link": "https://stackoverflow.com/users/5382796/gsazheniuk"}, "edited": false, "score": 0, "creation_date": 1508967830, "post_id": 46941683, "comment_id": 80832476, "body": "Are you sure without giving a separator, you were able to parse this csv. Your separator is definitely not a comma. Try this:  <code>dataframe = pd.read_csv(file, header = None, comment=&#39;#&#39;, sep=&#39;\\s+&#39;)</code> Look at @GSazheniuk doc link."}, {"owner": {"reputation": 479, "user_id": 6060707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/04b71eedc00413936f9a84722af23b2f?s=128&d=identicon&r=PG&f=1", "display_name": "BingbongKim", "link": "https://stackoverflow.com/users/6060707/bingbongkim"}, "reply_to_user": {"reputation": 1250, "user_id": 5382796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNY1n.jpg?s=128&g=1", "display_name": "GSazheniuk", "link": "https://stackoverflow.com/users/5382796/gsazheniuk"}, "edited": false, "score": 0, "creation_date": 1508968012, "post_id": 46941683, "comment_id": 80832561, "body": "@GSazheniuk Thank you for the information. I am reading it."}, {"owner": {"reputation": 479, "user_id": 6060707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/04b71eedc00413936f9a84722af23b2f?s=128&d=identicon&r=PG&f=1", "display_name": "BingbongKim", "link": "https://stackoverflow.com/users/6060707/bingbongkim"}, "reply_to_user": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508968102, "post_id": 46941683, "comment_id": 80832596, "body": "@Mokshyam Oop. I am really sorry. Actually, the separator is comma. I will edit the question right now."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1508968542, "post_id": 46941683, "comment_id": 80832764, "body": "@BingbongKim, what is your Pandas version? I can&#39;t reproduce it using <code>Pandas 0.20.3</code>. <code>pd.read_csv(filename, comment=&#39;#&#39;)</code> - works just fine"}, {"owner": {"reputation": 479, "user_id": 6060707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/04b71eedc00413936f9a84722af23b2f?s=128&d=identicon&r=PG&f=1", "display_name": "BingbongKim", "link": "https://stackoverflow.com/users/6060707/bingbongkim"}, "reply_to_user": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "edited": false, "score": 0, "creation_date": 1508968780, "post_id": 46941683, "comment_id": 80832838, "body": "@Mokshyam I solved my problem. All comments that is containing the comma has Quotes... I couldn&#39;t see it in python prompt and LibreOffice. I don&#39;t know why but only comma containg comments has quotes. Please forgive my stupidity."}, {"owner": {"reputation": 479, "user_id": 6060707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/04b71eedc00413936f9a84722af23b2f?s=128&d=identicon&r=PG&f=1", "display_name": "BingbongKim", "link": "https://stackoverflow.com/users/6060707/bingbongkim"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1508968921, "post_id": 46941683, "comment_id": 80832891, "body": "@MaxU Thank you for commenting. It was just my fault."}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 1, "creation_date": 1508969073, "post_id": 46941683, "comment_id": 80832947, "body": "@BingbongKim because it was a single column, and since it contained commas, you enclose the column itself in quotes when it&#39;s saved as CSV so the field isn&#39;t seen as multiple columns eg: a row of <code>1,2,3</code> is three columns and <code>&quot;1,2,3&quot;</code> is a single column.... ergo, a column of <code># 1</code> is fine, but a column of <code># 1, 2</code> becomes <code>&quot;# 1, 2&quot;</code> to preserve the comma and ensure it&#39;s considered a single column"}, {"owner": {"reputation": 479, "user_id": 6060707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/04b71eedc00413936f9a84722af23b2f?s=128&d=identicon&r=PG&f=1", "display_name": "BingbongKim", "link": "https://stackoverflow.com/users/6060707/bingbongkim"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508969447, "post_id": 46941683, "comment_id": 80833071, "body": "@JonClements That is the point. How can I keep the comma containg comment without the quotes?"}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508969617, "post_id": 46941683, "comment_id": 80833124, "body": "Well, it depends, have you loaded it into something, then saved back over it and let it do what it wants in regards to that? Do you have CSV files that are properly formatted you can use? Can you read from the document directly using <code>read_excel</code> instead of <code>read_csv</code> etc..."}, {"owner": {"reputation": 479, "user_id": 6060707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/04b71eedc00413936f9a84722af23b2f?s=128&d=identicon&r=PG&f=1", "display_name": "BingbongKim", "link": "https://stackoverflow.com/users/6060707/bingbongkim"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508970587, "post_id": 46941683, "comment_id": 80833455, "body": "@JonClements Actually, the csv file is a customer&#39;s private file and I receive it from the customer. All data columns of the each csv files are same but the comments part are different. Each file has different rows of comment. I think the csv file must have been opend at least once before I receive it."}, {"owner": {"reputation": 479, "user_id": 6060707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/04b71eedc00413936f9a84722af23b2f?s=128&d=identicon&r=PG&f=1", "display_name": "BingbongKim", "link": "https://stackoverflow.com/users/6060707/bingbongkim"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508970737, "post_id": 46941683, "comment_id": 80833514, "body": "@JonClements And I have never used read_excel. Can it be helpful?"}], "answers": [{"tags": [], "owner": {"reputation": 479, "user_id": 6060707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/04b71eedc00413936f9a84722af23b2f?s=128&d=identicon&r=PG&f=1", "display_name": "BingbongKim", "link": "https://stackoverflow.com/users/6060707/bingbongkim"}, "is_accepted": false, "score": 0, "last_activity_date": 1508968869, "creation_date": 1508968869, "answer_id": 46942740, "question_id": 46941683, "link": "https://stackoverflow.com/questions/46941683/python-read-csv-does-not-remove-the-comment/46942740#46942740", "title": "Python - read_csv() does not remove the comment", "body": "<p>I solved my problem.</p>\n\n<p>All comments that is containing the comma has Quotes...</p>\n\n<p>I couldn't see it in python prompt and LibreOffice. I don't know why but only comma containg comments has quotes.</p>\n\n<p>Please forgive my stupidity.</p>\n"}], "owner": {"reputation": 479, "user_id": 6060707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/04b71eedc00413936f9a84722af23b2f?s=128&d=identicon&r=PG&f=1", "display_name": "BingbongKim", "link": "https://stackoverflow.com/users/6060707/bingbongkim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508968869, "creation_date": 1508964020, "last_edit_date": 1508968228, "question_id": 46941683, "link": "https://stackoverflow.com/questions/46941683/python-read-csv-does-not-remove-the-comment", "title": "Python - read_csv() does not remove the comment", "body": "<p>I'm not sure that this question is available but I have a big problem.</p>\n\n<p>I have several .csv files and they have some comments line on the top with '#'.</p>\n\n<p>To handle the data files, I am trying to do this:</p>\n\n<pre><code>dataframe = pd.read_csv(file, header = None, comment='#')\n</code></pre>\n\n<p>Some files worked well but others didn't</p>\n\n<p>Some comments are removed but others are not. So the dataframe is messy.</p>\n\n<p>I don't know why this happen.\nHow can I solve it?  Should I upload the weird files?</p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>I found the difference between the removable comment and unremovable comment.</p>\n\n<p>If the comment has any comma, it is not removed. Why this happened?</p>\n\n<pre><code># This comment is removed\n# This comment is removed.\n# This comment is not removed,\n# ,This comment is not removed\n# This comment is, not removed\nUser,Age,Gender\nuser1,22,female\nuser2,30,male\nuser3,25,male\nuser4,23,female\n</code></pre>\n\n<p>And the data frame is :</p>\n\n<pre><code>0  # This comment is not removed,  NaN     NaN\n1  # ,This comment is not removed  NaN     NaN\n2  # This comment is, not removed  NaN     NaN\n3                            User  Age  Gender\n4                           user1   22  female\n5                           user2   30    male\n6                           user3   25    male\n7                           user4   23  female\n</code></pre>\n"}, {"tags": ["python", "json", "jsonschema"], "owner": {"reputation": 671, "user_id": 852854, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/325c35b35a27848ca0425f168e89d9c6?s=128&d=identicon&r=PG", "display_name": "plditallo", "link": "https://stackoverflow.com/users/852854/plditallo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508965250, "creation_date": 1508963568, "last_edit_date": 1508965250, "question_id": 46941571, "link": "https://stackoverflow.com/questions/46941571/python-code-errors-out-on-different-elements-in-response-from-url", "title": "Python: Code errors out on different elements in response from URL", "body": "<p>Techies,</p>\n\n<p>I have a python script that uses the requests library to get/capture the JSON responses back from a 3rd party API. The code I have expects the element lanIp. In most cases, the element is there, however, it is possible for the element to not exist and for other elements to exist instead. Basically I have two valid possibilities for the result set. How do I manage this? I see that under the requests.exceptions there's a concept of invalid schemas and missing schemas. Should I use the jsonschema library; create 2 separate schemas then on exception for invalid schema retry with the second schema (as shown in code) or does anyone have any more eloquent suggestions? </p>\n\n<pre><code>  import jsonschema \n  from jsonschema import validate\n\n  try:\n   validate(responseDataJson, schemaA)            \n   print 'version 1 json'\n  except jsonschema.exceptions.ValidationError as ve:\n   print 'probably version 2 json'\n   try:\n    validate(responseDataJson, schemaB)\n    print 'version 2 json'\n  except jsonschema.exceptions.ValidationError as ve:\n    print 'really a bad version'\n</code></pre>\n"}, {"tags": ["python", "xml", "django", "lxml"], "answers": [{"comments": [{"owner": {"reputation": 701, "user_id": 5681562, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MqPRa.png?s=128&g=1", "display_name": "drew", "link": "https://stackoverflow.com/users/5681562/drew"}, "edited": false, "score": 0, "creation_date": 1508964747, "post_id": 46941722, "comment_id": 80830976, "body": "I am trying this and I get the error - &#39;NoneType&#39; object has no attribute &#39;attrib&#39; -"}, {"owner": {"reputation": 3756, "user_id": 169406, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa156cbe6013a776c34466629ab92dc6?s=128&d=identicon&r=PG", "display_name": "bluszcz", "link": "https://stackoverflow.com/users/169406/bluszcz"}, "reply_to_user": {"reputation": 701, "user_id": 5681562, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MqPRa.png?s=128&g=1", "display_name": "drew", "link": "https://stackoverflow.com/users/5681562/drew"}, "edited": false, "score": 0, "creation_date": 1508964879, "post_id": 46941722, "comment_id": 80831058, "body": "Right, I made mistake - fixed the code how to get attributes for tag &quot;to&quot;."}, {"owner": {"reputation": 3756, "user_id": 169406, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa156cbe6013a776c34466629ab92dc6?s=128&d=identicon&r=PG", "display_name": "bluszcz", "link": "https://stackoverflow.com/users/169406/bluszcz"}, "reply_to_user": {"reputation": 701, "user_id": 5681562, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MqPRa.png?s=128&g=1", "display_name": "drew", "link": "https://stackoverflow.com/users/5681562/drew"}, "edited": false, "score": 0, "creation_date": 1508965032, "post_id": 46941722, "comment_id": 80831143, "body": "Actually I have made another edit - you can iterate over children using getchildren and then get attributes."}, {"owner": {"reputation": 701, "user_id": 5681562, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MqPRa.png?s=128&g=1", "display_name": "drew", "link": "https://stackoverflow.com/users/5681562/drew"}, "edited": false, "score": 0, "creation_date": 1508965214, "post_id": 46941722, "comment_id": 80831249, "body": "Ah brilliant that has worked - You should leave the original edit to your answer as well for anyone that may stumble upon this post as that was ver helpful. as is this edit with the getchildren function. +1"}], "tags": [], "owner": {"reputation": 3756, "user_id": 169406, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa156cbe6013a776c34466629ab92dc6?s=128&d=identicon&r=PG", "display_name": "bluszcz", "link": "https://stackoverflow.com/users/169406/bluszcz"}, "is_accepted": true, "score": 1, "last_activity_date": 1508964856, "last_edit_date": 1508964856, "creation_date": 1508964206, "answer_id": 46941722, "question_id": 46941548, "link": "https://stackoverflow.com/questions/46941548/processing-data-from-xml-tags-in-python/46941722#46941722", "title": "Processing data from XML tags in python", "body": "<p>To access the attributes you should use an <strong>attrib</strong>:</p>\n\n<pre><code>xml_file = lxml.etree.parse(\"test.xml\")\n\nnotes = xml_file.xpath(\"//note\")\n\nfor note in notes:\n    print [ x.attrib for x in note.getchildren() ]\n</code></pre>\n\n<p>More reading: <a href=\"http://lxml.de/tutorial.html#elements-carry-attributes-as-a-dict\" rel=\"nofollow noreferrer\">http://lxml.de/tutorial.html#elements-carry-attributes-as-a-dict</a></p>\n"}], "owner": {"reputation": 701, "user_id": 5681562, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MqPRa.png?s=128&g=1", "display_name": "drew", "link": "https://stackoverflow.com/users/5681562/drew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "accepted_answer_id": 46941722, "answer_count": 1, "score": 0, "last_activity_date": 1508964856, "creation_date": 1508963465, "question_id": 46941548, "link": "https://stackoverflow.com/questions/46941548/processing-data-from-xml-tags-in-python", "title": "Processing data from XML tags in python", "body": "<p>I am trying to extract data from an XML document using python.</p>\n\n<p>The tool I'm currently trying with and seems like it is a stable choice is <a href=\"http://lxml.de/\" rel=\"nofollow noreferrer\">lxml</a>.</p>\n\n<p>The issue I'm having is that the tutorials and questions I have came across all assume the format of the XML document is as follows:</p>\n\n<pre><code>&lt;note&gt; \n   &lt;to&gt;Tove&lt;/to&gt; \n   &lt;from&gt;Jani&lt;/from&gt; \n   &lt;heading&gt;Reminder&lt;/heading&gt; \n   &lt;body&gt;Don't forget me this weekend!&lt;/body&gt; \n&lt;/note&gt;\n</code></pre>\n\n<p>With the values inside the XML tags.</p>\n\n<p>However - the document I am trying to extract from has values inside elements of the tags, like so:</p>\n\n<pre><code>&lt;note&gt; \n   &lt;to id=\"16\" name=\"Tove\"/&gt;\n   &lt;from id=\"341\" name\"Jani\"/&gt; \n   &lt;heading id=\"1\" name=\"Reminder\"/&gt; \n   &lt;body id=\"2\" name=\"Don't forget me this weekend!\"/&gt; \n&lt;/note&gt;\n</code></pre>\n\n<p>The way I have tried doing this in LXML is this:</p>\n\n<pre><code>xml_file = lxml.etree.parse(\"test.xml\")\n\nnotes = xml_file.xpath(\"//note\")\n\nfor note in notes:\n    note_id = note.find(\"id\").text\n    print note_id\n</code></pre>\n\n<p>This just returns \"None\" </p>\n\n<p>I have now found that the <code>.text</code> is what gets data from inside the XML tags - However I simply can't find how to get the data from the elements shown above.</p>\n\n<p>Could anyone point me in the right direction?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 1113, "user_id": 5656533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/829d758998db1e4a910de7b8c7dfd0ac?s=128&d=identicon&r=PG", "display_name": "Aaron Bentley", "link": "https://stackoverflow.com/users/5656533/aaron-bentley"}, "is_accepted": true, "score": 1, "last_activity_date": 1508986682, "creation_date": 1508986682, "answer_id": 46945157, "question_id": 46941509, "link": "https://stackoverflow.com/questions/46941509/how-to-test-a-decorator/46945157#46945157", "title": "How to test a decorator?", "body": "<p>You can test decorators by applying them to a test function.  You then run the decorated function and check the behavior.</p>\n\n<p>In this case, the decorated function is an inner function, so it has access to the test method's self etc, if needed.</p>\n\n<pre><code>class TestFetchEntityFromES(TestCase):\n\n    def test_fetch_entity_from_ES(self):\n\n        @fetch_entity_from_ES\n        def foo(entity_type, entity_id):\n            return 'bar'\n\n        with patch.object(ElasticSearchUtilities, 'fetch_entity_from_ES',\n                          return_value=None):\n            self.assertEqual(foo('type1', 'id1'), 'bar')\n        with patch.object(ElasticSearchUtilities, 'fetch_entity_from_ES',\n                          return_value='baz'):\n            self.assertEqual(foo('type1', 'id1'), 'baz')\n</code></pre>\n\n<p>BTW, fetch_entity_from_ES looks like a method because it has a self parameter, but I've treated it as a function.</p>\n"}], "owner": {"reputation": 35, "user_id": 8820765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24bb4cdc9075eda2d8afa1628145ca8f?s=128&d=identicon&r=PG&f=1", "display_name": "princesingh", "link": "https://stackoverflow.com/users/8820765/princesingh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 46945157, "answer_count": 1, "score": 1, "last_activity_date": 1508986682, "creation_date": 1508963298, "question_id": 46941509, "link": "https://stackoverflow.com/questions/46941509/how-to-test-a-decorator", "title": "How to test a decorator?", "body": "<p>I am new to unit testing. can anyone guide me to test this decorator with mock and patch</p>\n\n<pre><code> def fetch_entity_from_ES(self,func):\n    @wraps(func)\n    def ES_wrapper(*args):\n        entity_type = args[0]\n        entity_id = args[1]\n        search_service_utility = ElasticSearchUtilities(self.config)\n        entity = search_service_utility.fetch_entity_from_ES(entity_type, entity_id)\n        if not entity:\n            return func(*args)\n        return entity\n    return ES_wrapper\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1508965895, "post_id": 46941568, "comment_id": 80831614, "body": "BTW, at least on my CPython 3.5 install, the listcomp is faster (only 2%ish) for the example input (length 8 <code>list</code>), but scales <i>slightly</i> worse as the input grows (for a length 100 <code>list</code>, it&#39;s ~5% slower than the &quot;push to C&quot; <code>map</code> based solution). That said, the listcomp is <i>much</i> more readable to my mind, so I&#39;d prefer it in general. I leave the other one there just as an alternate example for fun."}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 0, "creation_date": 1508984194, "post_id": 46941568, "comment_id": 80836950, "body": "Does this include slices where the start is greater than or equal to the end?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 0, "creation_date": 1508985151, "post_id": 46941568, "comment_id": 80837191, "body": "@jpmc26: No, because that would produce a bunch of empty <code>list</code>s in the output. <code>combinations</code> returns lexicographically ordered combinations (without replacement) of the input, so it produces <code>0</code> with <code>1</code> through <code>len(x)</code> (inclusive, thanks to +1), then <code>1</code> with <code>2</code> through <code>len(x)</code>, etc. Unlike nested loops over <code>range</code>s, it doesn&#39;t have to create a bunch of <code>range</code> objects (in the inner loop) with varying bounds to do it either, which saves more Python level work and avoids temporaries (the two-<code>tuple</code>s it&#39;s returning are cached and reused, so they effectively cost nothing)."}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 0, "creation_date": 1508987026, "post_id": 46941568, "comment_id": 80837634, "body": "Okay. I understand. Was confusing permutations and combinations. ;) But your explanation isn&#39;t quite on target, I don&#39;t think. The only reason they&#39;re sorted is because <code>range</code>&#39;s output is. Try, for example, using <code>combinations(sorted(range(8+1), reverse=True), 2)</code>. Then all the tuples will start with the larger value. <code>combinations</code> seems to go by the input&#39;s order, so this depends on that detail of <code>range</code>."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 0, "creation_date": 1508987622, "post_id": 46941568, "comment_id": 80837768, "body": "@jpmc26: The terminology is confusing (two orderings are involved, order of tuples and order within tuples), but to be clear: The <code>tuple</code>s are emitted in lexicographic ordering, but they themselves are only internally in sorted order if the input was as well. Per the docs: &quot;Combinations are emitted in lexicographic sort order. So, if the input iterable is sorted, the combination tuples will be produced in sorted order.&quot; So yes, <code>range</code> being in order is important, but that&#39;s a property of standard <code>range</code>s I didn&#39;t feel required explanation."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 14, "last_activity_date": 1508966017, "last_edit_date": 1508966017, "creation_date": 1508963550, "answer_id": 46941568, "question_id": 46941498, "link": "https://stackoverflow.com/questions/46941498/getting-every-slice-of-a-list/46941568#46941568", "title": "Getting every slice of a list", "body": "<p>Use <code>combinations</code> not of <code>x</code>, but of the <code>range</code> of possible slice indices (including one past the end, thus <code>len(x)+1</code>, since slices are exclusive on the end) to make the slice end points, then use them to slice <code>x</code>:</p>\n\n<pre><code>from itertools import combinations\n\ny = [x[s:e] for s, e in combinations(range(len(x)+1), 2)]\n</code></pre>\n\n<p>That gets exactly what you're going for as straightforwardly as possible. If you want (possibly) faster <code>map</code> based code, you can rephrase it as (<code>list</code> wrapper unnecessary on Python 2):</p>\n\n<pre><code>from itertools import combinations, starmap\n\ny = list(map(x.__getitem__, starmap(slice, combinations(range(len(x)+1), 2))))\n</code></pre>\n\n<p>which gets the same result, but without any Python bytecode execution per-item, which <em>might</em> run faster (implementation dependent).</p>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1508963822, "post_id": 46941600, "comment_id": 80830494, "body": "That&#39;s not valid code; your <code>for</code>s are backwards (you use <code>i</code> before it exists). Even flipping them, it doesn&#39;t produce the output you claim."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1508963958, "post_id": 46941600, "comment_id": 80830556, "body": "Try it again, but run <code>del i</code> before you do. Trust me, it&#39;s wrong. You can&#39;t use <code>i</code> to make a <code>range</code> before you&#39;ve defined <code>i</code>, and you&#39;re accidentally relying on a previous definition of <code>i</code> here. Also, side-note: <code>filter(lambda x: x, ...)</code> is a (much) slower way to write <code>filter(None, ...)</code>; <code>filter</code> is documented to use the identity test when the predicate is <code>None</code>."}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1508964167, "post_id": 46941600, "comment_id": 80830651, "body": "@ShadowRanger my apologies, there was an <code>i</code> variable defined 100 lines above in my terminal! Please see my recent edit. It works now."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1508964366, "post_id": 46941600, "comment_id": 80830772, "body": "@Ajax1234. Your output does not match what the OP is looking for."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1508964472, "post_id": 46941600, "comment_id": 80830824, "body": "@Ajax1234: Still <i>slightly</i> off; the OP&#39;s requested ordering differs. Fixable by reversing your chosen slice indices (to <code>x[b:i+1]</code>), though it&#39;s still suboptimal since it needs to perform <code>n**2</code> loops and slices and then filter out all the empty ones, rather than produce the correct ones in a single pass without making and filtering garbage. You could avoid the excess loops/slices and secondary filter by narrowing the second range: <code>x[b:i+1] for b in range(len(x)) for i in range(b, len(x))]</code> though at that point, you&#39;ve basically just reinvented <code>itertools.combinations</code> poorly."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1508964967, "post_id": 46941600, "comment_id": 80831112, "body": "@ShadowRanger. Or you could just use the <a href=\"https://stackoverflow.com/a/46941638/984421\">solution given by Eugene Sh</a>."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1508965280, "post_id": 46941600, "comment_id": 80831296, "body": "@ekhumoro: Yar. Though until recently, his had a filtering condition rather than using a computed start on the second <code>range</code>, so it was <code>n**2</code> loops rather than <code>n+1 choose 2</code> (asymptotically, that doubles the loop count). Either way, a lot of reinventing of <code>itertools.combinations</code> is going on."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1508967023, "post_id": 46941600, "comment_id": 80832116, "body": "@ShadowRanger. I don&#39;t think that&#39;s completely fair, given that <code>itertools.combinations</code> was only added in python-2.6. Anyway, I think his answer is worth an upvote, even if it doesn&#39;t give the most efficient solution possible. It certainly seems to offer the most <i>readable</i> solution."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1508970106, "post_id": 46941600, "comment_id": 80833293, "body": "@ekhumoro: &quot;Only added in Python 2.6&quot;? It&#39;s been <i>nine</i> years since 2.6 released and code written for earlier Python 2.x generally runs unmodified on 2.6/2.7, so upgrading shouldn&#39;t be a major issue; even if you&#39;re not on 3.x, I feel confident relying on features from 2.6. I&#39;d argue that using <code>combinations</code> is equally readable, though Eugene&#39;s answer is perfectly fine (though it&#39;s a little uglier on Py2, since using nested <code>range</code> instead of <code>combinations</code> involves many temporary <code>list</code>s of various sizes; thankfully, the overall scaling here is bad enough that it has to be small temporaries)."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1508972705, "post_id": 46941600, "comment_id": 80834128, "body": "@ShadowRanger. That wasn&#39;t really my point: it&#39;s not <i>completely</i> fair to complain about reinventing <code>combinations</code> when python didn&#39;t have it <i>until</i> 2.6. Especially since python&#39;s had list comprehensions since 2.0 and itertools didn&#39;t arrive until 2.3."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1508977558, "post_id": 46941600, "comment_id": 80835394, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/157521/discussion-between-shadowranger-and-ekhumoro\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1508964727, "last_edit_date": 1508964727, "creation_date": 1508963697, "answer_id": 46941600, "question_id": 46941498, "link": "https://stackoverflow.com/questions/46941498/getting-every-slice-of-a-list/46941600#46941600", "title": "Getting every slice of a list", "body": "<p>You can try this:</p>\n\n<pre><code>x = [1,2,3,4,5,6,7,8]\ny = [x[b:i+1] for b in range(len(x)) for i in range(len(x))]\nfinal_list = list(filter(lambda x:x, y))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[1], [1, 2], [1, 2, 3], [1, 2, 3, 4], [1, 2, 3, 4, 5], [1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5, 6, 7], [1, 2, 3, 4, 5, 6, 7, 8], [2], [2, 3], [2, 3, 4], [2, 3, 4, 5], [2, 3, 4, 5, 6], [2, 3, 4, 5, 6, 7], [2, 3, 4, 5, 6, 7, 8], [3], [3, 4], [3, 4, 5], [3, 4, 5, 6], [3, 4, 5, 6, 7], [3, 4, 5, 6, 7, 8], [4], [4, 5], [4, 5, 6], [4, 5, 6, 7], [4, 5, 6, 7, 8], [5], [5, 6], [5, 6, 7], [5, 6, 7, 8], [6], [6, 7], [6, 7, 8], [7], [7, 8], [8]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "is_accepted": false, "score": 5, "last_activity_date": 1508964730, "last_edit_date": 1508964730, "creation_date": 1508963858, "answer_id": 46941638, "question_id": 46941498, "link": "https://stackoverflow.com/questions/46941498/getting-every-slice-of-a-list/46941638#46941638", "title": "Getting every slice of a list", "body": "<p>You can utilize list comprehension if you insist on a one-liner:</p>\n\n<pre><code>&gt; x=[1,2,3,4]\n&gt; [x[a:b+1] for a in range(len(x)) for b in range(len(x)) if a&lt;=b]\n</code></pre>\n\n<blockquote>\n  <p>[[1], [1, 2], [1, 2, 3], [1, 2, 3, 4], [2], [2, 3], [2, 3, 4], [3], [3, 4], [4]]</p>\n</blockquote>\n\n<p>Or you can even get rid of that <code>if</code>:</p>\n\n<pre><code>&gt; [x[a:b+1] for a in range(len(x)) for b in range(a, len(x))]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1508964988, "post_id": 46941649, "comment_id": 80831122, "body": "You can limit the loops and avoid the empty test by changing the ranges to <code>range(len(lst))</code> (outer <code>range</code>) since the start index should always be between 0 and len(lst) - 1, and <code>range(n+1, len(lst)+1)</code> (inner <code>range</code>) since the end must always be at least one larger than the start and must stop just past the end of the <code>list</code> to slice to the end. Then you don&#39;t need the <code>if</code> test at all."}, {"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1508965499, "post_id": 46941649, "comment_id": 80831413, "body": "@ShadowRanger aaaaaah, I see now! thanks, I was just editing when you finish the edit, thanks so much, I tryed here <a href=\"https://repl.it/NO6k/0\" rel=\"nofollow noreferrer\">repl.it/NO6k/0</a>"}], "tags": [], "owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "is_accepted": false, "score": 0, "last_activity_date": 1510520398, "last_edit_date": 1510520398, "creation_date": 1508963898, "answer_id": 46941649, "question_id": 46941498, "link": "https://stackoverflow.com/questions/46941498/getting-every-slice-of-a-list/46941649#46941649", "title": "Getting every slice of a list", "body": "<p>I think this is a good aproach, an iterative way, I could understand it well:</p>\n\n<pre><code>lst = [1,2,3,4,5,6,7,8]\n\nres = []\nln= len(lst)\n\n\nfor n in range(ln):\n  for ind in range(n+1, ln+1):\n    res.append(lst[n:ind])\n</code></pre>\n"}], "owner": {"reputation": 663, "user_id": 2843275, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/90f66c4ae9513776e570d9ff3d68cfda?s=128&d=identicon&r=PG&f=1", "display_name": "T.J.", "link": "https://stackoverflow.com/users/2843275/t-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1591, "favorite_count": 2, "accepted_answer_id": 46941568, "answer_count": 4, "score": 15, "last_activity_date": 1510520398, "creation_date": 1508963242, "question_id": 46941498, "link": "https://stackoverflow.com/questions/46941498/getting-every-slice-of-a-list", "title": "Getting every slice of a list", "body": "<p>I've been through itertools inside and out and I cannot figure out how to do the following. I want to take a list.</p>\n\n<p><code>x = [1,2,3,4,5,6,7,8]</code> and I want to get a new list:</p>\n\n<pre><code>y = [[1],[1,2],[1,2,3],.......[2],[2,3],[2,3,4].....[8]]\n</code></pre>\n\n<p>I need a list of all slices, but not combinations or permutations.</p>\n\n<p><code>x = list(zip(x[::2], x[1::2]))</code> is close, but doesn't do exactly what I'm hoping</p>\n"}, {"tags": ["python", "pandas", "date", "datetime"], "comments": [{"owner": {"reputation": 15724, "user_id": 5754656, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7jfX3.png?s=128&g=1", "display_name": "Artyer", "link": "https://stackoverflow.com/users/5754656/artyer"}, "edited": false, "score": 0, "creation_date": 1508963368, "post_id": 46941452, "comment_id": 80830289, "body": "Maybe <code>apply</code> just calls the function, but doesn&#39;t change the sequence. Look for some sort of <code>map</code> function."}, {"owner": {"reputation": 1985, "user_id": 1136400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6MCZ.png?s=128&g=1", "display_name": "Doncho Gunchev", "link": "https://stackoverflow.com/users/1136400/doncho-gunchev"}, "edited": false, "score": 0, "creation_date": 1508963462, "post_id": 46941452, "comment_id": 80830342, "body": "What is this column and dataframe? SQL? Framework? The lambda works."}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "reply_to_user": {"reputation": 1985, "user_id": 1136400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6MCZ.png?s=128&g=1", "display_name": "Doncho Gunchev", "link": "https://stackoverflow.com/users/1136400/doncho-gunchev"}, "edited": false, "score": 1, "creation_date": 1508963635, "post_id": 46941452, "comment_id": 80830413, "body": "@DonchoGunchev it&#39;s &quot;pandas&quot; - the OP appears to have missed applying the tag to their question."}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 2831637, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ebc0179a0bf564819688f8998866eb49?s=128&d=identicon&r=PG&f=1", "display_name": "Korzak", "link": "https://stackoverflow.com/users/2831637/korzak"}, "edited": false, "score": 0, "creation_date": 1508963503, "post_id": 46941514, "comment_id": 80830355, "body": "Yep.  That was the next thing I tried, I thought of it when I was typing this up. I ought to write more questions and then not post them :)  Actually I need to learn when to assign and when to just apply."}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 3, "creation_date": 1508963539, "post_id": 46941514, "comment_id": 80830373, "body": "Yes, <code>.apply</code> returns a <i>new</i> <code>Series</code>... However, <code>df_combined[&#39;VisitDate&#39;] = pd.to_datetime(df_combined.VisitDate).dt.strftime(&#39;%d-%B-%Y&#39;&zwnj;&#8203;)</code> would be preferable when using pandas."}, {"owner": {"reputation": 2823, "user_id": 6202039, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8cVei5pidZQ/AAAAAAAAAAI/AAAAAAAAAJo/ShhF34Rlg2s/photo.jpg?sz=128", "display_name": "Jay Patel", "link": "https://stackoverflow.com/users/6202039/jay-patel"}, "edited": false, "score": 0, "creation_date": 1537447426, "post_id": 46941514, "comment_id": 91793716, "body": "How to convert date from <code>20-09-2018</code> to <code>20th September 2018</code>? More specifically I want to know is there any way to add postfix like <code>th</code> with date?"}], "tags": [], "owner": {"reputation": 2072, "user_id": 4456243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACLxDQfrvA/AAAAAAAAAAI/AAAAAAAAAAA/soJzmYcJ1FE/photo.jpg?sz=128", "display_name": "Zachary Cross", "link": "https://stackoverflow.com/users/4456243/zachary-cross"}, "is_accepted": false, "score": 5, "last_activity_date": 1508963344, "creation_date": 1508963344, "answer_id": 46941514, "question_id": 46941452, "link": "https://stackoverflow.com/questions/46941452/python-convert-date-string-from-yyyy-mm-dd-to-dd-mmm-yyyy-using-datetime/46941514#46941514", "title": "Python - convert date string from YYYY-MM-DD to DD-MMM-YYYY using datetime?", "body": "<p>You probably just need to assign the result back to the column itself:</p>\n\n<pre><code>df_combined['VisitDate'] = df_combined['VisitDate'].apply(lambda x: datetime.datetime.strptime(x, '%Y-%m-%d').strftime('%d-%b-%Y') if x != \"\" else \"\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1508964563, "creation_date": 1508964563, "answer_id": 46941813, "question_id": 46941452, "link": "https://stackoverflow.com/questions/46941452/python-convert-date-string-from-yyyy-mm-dd-to-dd-mmm-yyyy-using-datetime/46941813#46941813", "title": "Python - convert date string from YYYY-MM-DD to DD-MMM-YYYY using datetime?", "body": "<p>No need <code>apply</code> by using <code>pd.to_datetime</code></p>\n\n<pre><code>pd.to_datetime(df_combined['VisitDate'],errors='coerce',format='%d-%b-%Y').fillna('')\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 2831637, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ebc0179a0bf564819688f8998866eb49?s=128&d=identicon&r=PG&f=1", "display_name": "Korzak", "link": "https://stackoverflow.com/users/2831637/korzak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3711, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1508964563, "creation_date": 1508963058, "last_edit_date": 1508963611, "question_id": 46941452, "link": "https://stackoverflow.com/questions/46941452/python-convert-date-string-from-yyyy-mm-dd-to-dd-mmm-yyyy-using-datetime", "title": "Python - convert date string from YYYY-MM-DD to DD-MMM-YYYY using datetime?", "body": "<p>So I have read a number of threads on this, and am still stumped. Any help would be sincerely appreciated.</p>\n\n<p>I have a column in a dataframe that contains strings of dates, or nothing.  Strings are in this format: <code>2017-10-17</code>, i.e. <code>YYYY-MM-DD</code>.</p>\n\n<p>I want to convert these to <code>DD-MMM-YYYY</code>, so the above would read <code>17-Oct-2017</code>.</p>\n\n<p>Here is the code that I have, which seems to do nothing.  It doesn't error out, but it doesn't actually modify the dates; they are the same as before. I'm calling this in the beginning: <code>import datetime</code></p>\n\n<pre><code>df_combined['VisitDate'].apply(lambda x: datetime.datetime.strptime(x, '%Y-%m-%d').strftime('%d-%b-%Y') if x != \"\" else \"\")\n</code></pre>\n\n<p>I expected this to return a string in a different format than the format the original string was in when it's read from the column.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1167, "user_id": 1622858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/546a8ffbb68c044b68b1e8ce99b0fe0b?s=128&d=identicon&r=PG", "display_name": "Michael Platt", "link": "https://stackoverflow.com/users/1622858/michael-platt"}, "edited": false, "score": 0, "creation_date": 1508963161, "post_id": 46941428, "comment_id": 80830208, "body": "I&#39;m confused about your problem.  Is the issue that you are rendering something like <code>location</code> even though you don&#39;t want to?"}], "answers": [{"tags": [], "owner": {"reputation": 1285, "user_id": 3491275, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/571855393/picture?type=large", "display_name": "oowowaee", "link": "https://stackoverflow.com/users/3491275/oowowaee"}, "is_accepted": false, "score": 0, "last_activity_date": 1508963382, "creation_date": 1508963382, "answer_id": 46941526, "question_id": 46941428, "link": "https://stackoverflow.com/questions/46941428/django-form-field-in-if-statement-fail/46941526#46941526", "title": "Django form field in if statement fail", "body": "<p>Should </p>\n\n<pre><code>{% if field.name == 'user_name' or 'phone' or 'email' or 'password1' %}\n</code></pre>\n\n<p>not be </p>\n\n<pre><code>{% if field.name in ['user_name', 'phone', 'email', 'password1'] %}\n</code></pre>\n\n<p>Off the top of my head I would assume </p>\n\n<pre><code>or 'phone'\n</code></pre>\n\n<p>to evaluate to true.</p>\n"}, {"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 2, "last_activity_date": 1508963478, "creation_date": 1508963478, "answer_id": 46941552, "question_id": 46941428, "link": "https://stackoverflow.com/questions/46941428/django-form-field-in-if-statement-fail/46941552#46941552", "title": "Django form field in if statement fail", "body": "<p>In Python you could do:</p>\n\n<pre><code>if field.name in ['user_name', 'phone', 'email', 'password1']:\n</code></pre>\n\n<p>However you can\u2019t define a list in the Django template, so you would have to do the more verbose:</p>\n\n<pre><code>{% if field.name == 'user_name' or field.name == 'phone' or field.name == 'email' or field.name == 'password1' %}\n</code></pre>\n"}], "owner": {"reputation": 431, "user_id": 7804233, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/5b5929c53b9068c3889f69dd7e2734f7?s=128&d=identicon&r=PG&f=1", "display_name": "P. Rodoreda", "link": "https://stackoverflow.com/users/7804233/p-rodoreda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1203, "favorite_count": 0, "accepted_answer_id": 46941552, "answer_count": 2, "score": 0, "last_activity_date": 1508963478, "creation_date": 1508962976, "question_id": 46941428, "link": "https://stackoverflow.com/questions/46941428/django-form-field-in-if-statement-fail", "title": "Django form field in if statement fail", "body": "<p>I'm rendering a Django form using an if statement to construct the html template:</p>\n\n<pre><code>{% for field in form %}\n  {% if field.name == 'user_name' or 'phone' or 'email' or 'password1' %}\n    &lt;div class=\"col-12 col-md-6 col-lg-3\"&gt;\n      &lt;p class=\"text-left m-0 fs-13\"&gt;{{ field.label_tag }}&lt;/p&gt;\n      {% render_field field class=\"form-control is-invalid\" %}\n    &lt;/div&gt;\n  {% else %}\n    bla bla\n  {% endif %}\n{% endfor %}\n</code></pre>\n\n<p>But when I call the template, all fields are constructed using the if statement code, but I have fields like: location, birth_date... that are True in the else statement.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1508962961, "post_id": 46941383, "comment_id": 80830110, "body": "Manually maintaining an index while iterating is usually the wrong (and slow, and verbose) approach. Just use <code>enumerate</code>: <code>for line_num, line in enumerate(infile):</code> (add a second argument of <code>1</code> [or <code>start=1</code>] to the <code>enumerate</code> call to start from <code>1</code> instead of <code>0</code>)."}, {"owner": {"reputation": 33, "user_id": 8238450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6019ad4a33e572e13c73f12bb21a56d?s=128&d=identicon&r=PG&f=1", "display_name": "SAM", "link": "https://stackoverflow.com/users/8238450/sam"}, "edited": false, "score": 0, "creation_date": 1508963061, "post_id": 46941383, "comment_id": 80830156, "body": "This works! Thank you!!! I&#39;ve spent hours on this. I really appreciate your help."}, {"owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1508963099, "post_id": 46941383, "comment_id": 80830171, "body": "@ShadowRanger Did not know that. Thank you. Noted!"}, {"owner": {"reputation": 33, "user_id": 8238450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6019ad4a33e572e13c73f12bb21a56d?s=128&d=identicon&r=PG&f=1", "display_name": "SAM", "link": "https://stackoverflow.com/users/8238450/sam"}, "edited": false, "score": 0, "creation_date": 1508969439, "post_id": 46941383, "comment_id": 80833068, "body": "@yklsga Just did. Thanks again."}], "tags": [], "owner": {"reputation": 1167, "user_id": 4410922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DI6E9.jpg?s=128&g=1", "display_name": "yash", "link": "https://stackoverflow.com/users/4410922/yash"}, "is_accepted": true, "score": 1, "last_activity_date": 1508962803, "creation_date": 1508962803, "answer_id": 46941383, "question_id": 46941312, "link": "https://stackoverflow.com/questions/46941312/python-create-dictionary-from-lines-of-txt-file/46941383#46941383", "title": "python: create dictionary from lines of txt file", "body": "<p>You can define a new variable <code>line_num</code> that keeps track of line numbers</p>\n\n<pre><code>def getFile():\n    prose = str(input('Please enter the file path for your text file: '))\n\n    dictionary = {}\n\n    infile = open(prose, 'r')\n    line_num = 1\n    for line in infile:\n        dictionary[line_num] = line\n        line_num += 1\n    print(dictionary)\n    infile.close()\n\ngetFile()\n</code></pre>\n\n<p>You can view the dictionary with line numbers as keys and each line as their values</p>\n\n<p>Output:</p>\n\n<pre><code>{1: 'roses are red\\n', 2: 'violets are blue'}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 3, "creation_date": 1508962967, "post_id": 46941389, "comment_id": 80830118, "body": "And you can use <code>enumerate(infile, 1)</code> to start counting from one as the OP appears to want to do... or just do it in one go: <code>dictionary = dict(enumerate(infile, 1))</code>"}], "tags": [], "owner": {"reputation": 2072, "user_id": 4456243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACLxDQfrvA/AAAAAAAAAAI/AAAAAAAAAAA/soJzmYcJ1FE/photo.jpg?sz=128", "display_name": "Zachary Cross", "link": "https://stackoverflow.com/users/4456243/zachary-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1508962827, "creation_date": 1508962827, "answer_id": 46941389, "question_id": 46941312, "link": "https://stackoverflow.com/questions/46941312/python-create-dictionary-from-lines-of-txt-file/46941389#46941389", "title": "python: create dictionary from lines of txt file", "body": "<p>Your issue is here:</p>\n\n<pre><code>for line in infile:  # iterate over each line of text\n    dictionary[line] += 1  # this tries to use the text as a dict key instead of value\n    print(dictionary)  # I assume this is just here to display the current state of the dictionary eacy loop\n</code></pre>\n\n<p>You need a way to track which line you are on. Thankfully, <code>enumerate()</code> can help:</p>\n\n<pre><code>for line_number, line in enumerate(infile):\n    dictionary[line_number] = line\n    print(dictionary)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1508963139, "post_id": 46941429, "comment_id": 80830197, "body": "Drop the <code>.readlines()</code> part; files are already iterables of their lines, so all this does is force the whole file to be slurped before you can begin processing (and in other cases, where you&#39;re not storing the whole file, just processing lines and throwing them away, it means storing the whole file in memory even when you only need a line at a time). <code>enumerate(f)</code> would work fine, and get going faster (it might even give the OS time to prefetch the next part of the file as you&#39;re doing the work for the current lines, though that&#39;s not the reason you&#39;re doing it)."}], "tags": [], "owner": {"reputation": 1285, "user_id": 3491275, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/571855393/picture?type=large", "display_name": "oowowaee", "link": "https://stackoverflow.com/users/3491275/oowowaee"}, "is_accepted": false, "score": 1, "last_activity_date": 1508962977, "creation_date": 1508962977, "answer_id": 46941429, "question_id": 46941312, "link": "https://stackoverflow.com/questions/46941312/python-create-dictionary-from-lines-of-txt-file/46941429#46941429", "title": "python: create dictionary from lines of txt file", "body": "<pre><code>dictionary = {}\nf = open(myfile, 'rb')\nfor index, line in enumerate(f.readlines()):\n   dictionary[index] = line\nf.close()\n</code></pre>\n\n<p>There are several issues with your code - first</p>\n\n<pre><code>for line in infile:\n    dictionary[line] += 1\n</code></pre>\n\n<p>Line here will be the dictionary key, but you want it to be the value:</p>\n\n<pre><code>dictionary[index] = line\n</code></pre>\n\n<p>You also are not presently tracking the index - either use enumerate as above, or create a variable and increment it every time through the loop.\nYour present code will I believe just throw an error, as you're trying to increment dictionary[line] which does not yet exist.</p>\n"}, {"tags": [], "owner": {"reputation": 508, "user_id": 7488315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c77f02af8cefbe630b492a7bdf3f6aa?s=128&d=identicon&r=PG&f=1", "display_name": "Chun-Yen Wang", "link": "https://stackoverflow.com/users/7488315/chun-yen-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1508963687, "creation_date": 1508963687, "answer_id": 46941597, "question_id": 46941312, "link": "https://stackoverflow.com/questions/46941312/python-create-dictionary-from-lines-of-txt-file/46941597#46941597", "title": "python: create dictionary from lines of txt file", "body": "<p>I'll do a little different</p>\n\n<pre><code>def getFile(infile):\n    prose = str(input('Please enter the file path for your text file: '))\n\n    dictionary = {}\n\n    infilelines = list(open(prose, 'r'))\n    for line in enumerate(infilelines):\n        dictionary[line[0]] = line[1]\n    infile.close()\n    return dictionary\n\nprint(getfile('someInput.txt'))\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8238450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6019ad4a33e572e13c73f12bb21a56d?s=128&d=identicon&r=PG&f=1", "display_name": "SAM", "link": "https://stackoverflow.com/users/8238450/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6580, "favorite_count": 1, "accepted_answer_id": 46941383, "answer_count": 4, "score": 1, "last_activity_date": 1508963687, "creation_date": 1508962491, "last_edit_date": 1508962674, "question_id": 46941312, "link": "https://stackoverflow.com/questions/46941312/python-create-dictionary-from-lines-of-txt-file", "title": "python: create dictionary from lines of txt file", "body": "<p>Very new to this, appreciate your patience. </p>\n\n<p>I have a txt file of a poem. Ultimately I want create a dictionary such that my key is the line# and the value is the text on that line. For instance, if my poem is this: </p>\n\n<p>Roses are red,</p>\n\n<p>Violets are blue.</p>\n\n<p>I would like my dictionary to be:</p>\n\n<pre><code>dictionary = {1: 'Roses are red', 2: 'Violets are blue'} \n</code></pre>\n\n<p>Ultimately I want my program to allow me to search for a line of the poem by entering the line number (the key). </p>\n\n<p>I've started off by doing this-- </p>\n\n<pre><code>def getFile():\n    prose = str(input('Please enter the file path for your text file: '))\n\n    dictionary = {}\n\n    infile = open(prose, 'r')\n    for line in infile:\n        dictionary[line] += 1\n        print(dictionary)\n    infile.close()\n\ngetFile()\n</code></pre>\n\n<p>But I'm lost and don't know what to do next. I've tried looking this up, I'm not understanding this. Any help would be much appreciated. </p>\n"}, {"tags": ["python", "jupyter", "google-colaboratory"], "answers": [{"comments": [{"owner": {"reputation": 620, "user_id": 8788960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDlT2.png?s=128&g=1", "display_name": "hans", "link": "https://stackoverflow.com/users/8788960/hans"}, "edited": false, "score": 2, "creation_date": 1519071391, "post_id": 46941325, "comment_id": 84750922, "body": "Is it possible to use an exact version, for example 3.6.4? The default now is 3.6.3."}, {"owner": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 2, "creation_date": 1549070501, "post_id": 46941325, "comment_id": 95784746, "body": "Sometimes, especially when uploading a notebook, I am not able to choose the python version when I click &quot;Change Runtime&quot; - the python version doesn&#39;t even show up. And syntax highlighting is broken. The cells still run fine, I even have GPU access. Any idea what&#39;s going on?"}, {"owner": {"reputation": 6016, "user_id": 364150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f71dbe573abe6b5b6b607088255bc9ec?s=128&d=identicon&r=PG", "display_name": "Craig Citro", "link": "https://stackoverflow.com/users/364150/craig-citro"}, "reply_to_user": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 0, "creation_date": 1549169212, "post_id": 46941325, "comment_id": 95804861, "body": "@SamH. any chance you could file a <a href=\"https://github.com/googlecolab/colabtools/issues\" rel=\"nofollow noreferrer\">github issue</a> with a link to a misbehaving notebook?"}, {"owner": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 0, "creation_date": 1549405520, "post_id": 46941325, "comment_id": 95889023, "body": "of course I can&#39;t reproduce now. Thanks for the link, will use it if it comes back..."}], "tags": [], "owner": {"reputation": 6016, "user_id": 364150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f71dbe573abe6b5b6b607088255bc9ec?s=128&d=identicon&r=PG", "display_name": "Craig Citro", "link": "https://stackoverflow.com/users/364150/craig-citro"}, "is_accepted": true, "score": 24, "last_activity_date": 1584032506, "last_edit_date": 1584032506, "creation_date": 1508962559, "answer_id": 46941325, "question_id": 46941308, "link": "https://stackoverflow.com/questions/46941308/python-3-support-in-googles-colab/46941325#46941325", "title": "Python 3 support in Google&#39;s CoLab", "body": "<p>Yes! Python3 support is now live in Colab. </p>\n\n<ul>\n<li><p>When creating a new notebook, there's now an option for Python2 or Python3.\n<a href=\"https://i.stack.imgur.com/JHO2n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JHO2n.png\" alt=\"py3colab\"></a></p></li>\n<li><p>For an existing notebook, <code>Runtime</code> -> <code>Change runtime type</code> will let you switch.</p></li>\n</ul>\n\n<p>We write the language info into the <code>kernelspec</code> in the notebook metadata, so switching runtime type isn't just per-session.</p>\n"}], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9274, "favorite_count": 1, "accepted_answer_id": 46941325, "answer_count": 1, "score": 17, "last_activity_date": 1584032506, "creation_date": 1508962472, "last_edit_date": 1509197115, "question_id": 46941308, "link": "https://stackoverflow.com/questions/46941308/python-3-support-in-googles-colab", "title": "Python 3 support in Google&#39;s CoLab", "body": "<p>I have been experimenting with the Jupyter notebooks at <a href=\"https://colab.research.google.com\" rel=\"noreferrer\">https://colab.research.google.com</a>, and it seems that by default they run Python 2.7.</p>\n\n<p>Is there any way to enable Python 3 support on CoLab?</p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1508964667, "post_id": 46941260, "comment_id": 80830928, "body": "you can&#39;t use both <code>grid</code> and <code>pack</code> for widgets that share a common parent."}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1508964766, "post_id": 46941260, "comment_id": 80830995, "body": "All children of the same container (<code>root</code>, in your case) ABSOLUTELY MUST use the same geometry manager - you cannot use <code>.grid()</code> for some and <code>.pack()</code> for others."}, {"owner": {"reputation": 49, "user_id": 7906440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hvgC8.jpg?s=128&g=1", "display_name": "HeLlOwOrLd", "link": "https://stackoverflow.com/users/7906440/helloworld"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1508964850, "post_id": 46941260, "comment_id": 80831048, "body": "@BryanOakley k Ty"}], "owner": {"reputation": 49, "user_id": 7906440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hvgC8.jpg?s=128&g=1", "display_name": "HeLlOwOrLd", "link": "https://stackoverflow.com/users/7906440/helloworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1508965126, "answer_count": 0, "score": 0, "last_activity_date": 1508964136, "creation_date": 1508962309, "last_edit_date": 1508964136, "question_id": 46941260, "link": "https://stackoverflow.com/questions/46941260/my-python-gui-does-not-open", "closed_reason": "Duplicate", "title": "My Python GUI does not open", "body": "<p>I just have a short question about my rather simple Python Code. I wanted to create a GUI as you can see, but every time I use the built-in </p>\n\n<pre><code>.grid()\n</code></pre>\n\n<p>function, the GUI window does not open and I dont know why.\nThank you for the answers</p>\n\n<pre><code>root = Tk()\n\nroot.title(\"Hello World\")\n\nlabel = Label(root, text=\"Label 1\")\nlabel2 = Label(root, text=\"Label 2\")\n\n\nb = Button(root, text=\"Hallo\")\nb1 = Button(root, text=\"o\")\nb2 = Button(root, text=\"k\")\nb3 = Button(root, text=\"w\")\nb4 = Button(root, text=\"e\")\nb5 = Button(root, text=\"l\")\nb6 = Button(root, text=\"t\")\nb7 = Button(root, text=\"d\")\nb8 = Button(root, text=\"u\")\n\n\nlabel.grid(row=0, column=0)\nlabel2.grid(row=0, column=1)\nb.pack()\nb1.pack()\nb2.pack()\nb3.pack()\nb4.pack()\nb5.pack()\nb6.pack()\nb7.pack()\n\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "markdown", "pelican"], "comments": [{"owner": {"reputation": 24616, "user_id": 866026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fae8527632d33d7bf929fada83e8d1?s=128&d=identicon&r=PG", "display_name": "Waylan", "link": "https://stackoverflow.com/users/866026/waylan"}, "edited": false, "score": 0, "creation_date": 1508970661, "post_id": 46941244, "comment_id": 80833484, "body": "Markdown doesn&#39;t support anything like that. Such a feature would need to be a custom add-on. Pelican supports <a href=\"https://github.com/getpelican/pelican-plugins\" rel=\"nofollow noreferrer\">plugins</a> and Python-Markdown (the Markdown parser used by Pelican) supports <a href=\"https://pythonhosted.org/Markdown/extensions/index.html\" rel=\"nofollow noreferrer\">extensions</a>. Perhaps there is a solution that works, but tool recommendations are off-topic here."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1509061156, "post_id": 46941244, "comment_id": 80878435, "body": "This would generally be done in the <i>theme</i>, not the <i>content</i>. Could you give some more context around what you&#39;re trying to do?"}, {"owner": {"reputation": 946, "user_id": 6709630, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cxitI.png?s=128&g=1", "display_name": "freezed", "link": "https://stackoverflow.com/users/6709630/freezed"}, "edited": false, "score": 0, "creation_date": 1548174257, "post_id": 46941244, "comment_id": 95444997, "body": "For example in legal notice reusing <code>AUTHOR</code>, <code>SITEURL</code>,  <code>SITENAME</code>\u2026"}], "owner": {"reputation": 376, "user_id": 6260918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBatJ.jpg?s=128&g=1", "display_name": "iamcryptoki", "link": "https://stackoverflow.com/users/6260918/iamcryptoki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1508978088, "creation_date": 1508962233, "question_id": 46941244, "link": "https://stackoverflow.com/questions/46941244/pass-variables-from-pelicanconf-py-to-markdown-in-pelican", "title": "Pass variables from pelicanconf.py to markdown in Pelican", "body": "<p>Is there a way to pass Python variables from pelicanconf.py to markdown page in <a href=\"https://blog.getpelican.com/\" rel=\"nofollow noreferrer\">Pelican</a>?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "list", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 1271632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6edd5589b2bd74ec5c73e9e955d5c44b?s=128&d=identicon&r=PG", "display_name": "matrim_c", "link": "https://stackoverflow.com/users/1271632/matrim-c"}, "edited": false, "score": 1, "creation_date": 1508965278, "post_id": 46941208, "comment_id": 80831294, "body": "Thanks for the clear explanation for others - ran into this issue today (got pointed to this solution before this question was posted) much more elegant / pythonic solution than what I was planning using multiple map / filters"}, {"owner": {"reputation": 451, "user_id": 6693076, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7fb115b9c2f4b9d0803e29d22bbd10da?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime", "link": "https://stackoverflow.com/users/6693076/maxime"}, "edited": false, "score": 0, "creation_date": 1509127401, "post_id": 46941208, "comment_id": 80909446, "body": "Thanks Willem! And what about this syntax data[&#39;key1&#39; == &#39;value1&#39;][&#39;key2&#39;]? I find it quite sexy, is there any way to make it return all the lines that answer to this criteria?"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 451, "user_id": 6693076, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7fb115b9c2f4b9d0803e29d22bbd10da?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime", "link": "https://stackoverflow.com/users/6693076/maxime"}, "edited": false, "score": 0, "creation_date": 1509178538, "post_id": 46941208, "comment_id": 80922021, "body": "@Maxime: not with vanilla lists and dictionaries, since <code>&#39;key1&#39; == &#39;value1&#39;</code> is evaluated first. But you have quite similar syntax in Pandas. Will update."}, {"owner": {"reputation": 451, "user_id": 6693076, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7fb115b9c2f4b9d0803e29d22bbd10da?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime", "link": "https://stackoverflow.com/users/6693076/maxime"}, "edited": false, "score": 0, "creation_date": 1509184355, "post_id": 46941208, "comment_id": 80923375, "body": "Perfect, it seams powerfull. Thanks!"}], "tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": true, "score": 5, "last_activity_date": 1509179062, "last_edit_date": 1509179062, "creation_date": 1508962088, "answer_id": 46941208, "question_id": 46941189, "link": "https://stackoverflow.com/questions/46941189/find-all-the-lines-where-a-specific-dict-key-has-a-certain-value/46941208#46941208", "title": "Find all the lines where a specific dict key has a certain value", "body": "<h1><em>Vanilla</em> lists and dictionaries</h1>\n\n<p>You can use <em>list comprehension</em> for this:</p>\n\n<pre><code>   [d['key2'] for d in data if d['key1'] == 'value1']\n#   \\___ ___/ \\_____ _____/ \\___________ __________/\n#       v           v                   v\n#     yield      iterator              filter\n</code></pre>\n\n<p>(comments are only used to make it easier to understand the syntax)</p>\n\n<p>So we iterate over <code>data</code> with <code>d</code> is iterator. We check if <code>d['key1'] == 'value1'</code>, if that is the case, we add <code>d['key2']</code> to the resulting list.</p>\n\n<h1>Pandas</h1>\n\n<p>Pandas is a package that allows to process (large) <em>dataframes</em>. Although a dataframe can be very flexible, a basic (and thus not completely correct) definition, is to see it as a 2d table where each row has the same named columns. You can install pandas with:</p>\n\n<pre><code>pip3 install pandas\n</code></pre>\n\n<p>(or for <a href=\"/questions/tagged/python-2.7\" class=\"post-tag\" title=\"show questions tagged &#39;python-2.7&#39;\" rel=\"tag\">python-2.7</a>, <code>pip install pandas</code>)</p>\n\n<p>Next we can use pandas by importing it:</p>\n\n<pre><code>import pandas as pd\n</code></pre>\n\n<p>Next we can make a dataframe with:</p>\n\n<pre><code>df = pd.DataFrame(data)\n</code></pre>\n\n<p>this will look like:</p>\n\n<pre><code>&gt;&gt;&gt; df\n     key1    key2\n0  value1  value2\n1  value3  value4\n2  value1  value5\n</code></pre>\n\n<p>Now we can obtain a <code>Series</code> of <code>key2</code> values where <code>key1</code> is <code>'value1'</code> with:</p>\n\n<pre><code>df[df['key1'] == 'value1']['key2']\n</code></pre>\n\n<p>this produces:</p>\n\n<pre><code>&gt;&gt;&gt; df[df['key1'] == 'value1']['key2']\n0    value2\n2    value5\nName: key2, dtype: object\n</code></pre>\n\n<p>Here it is of course much work for a simple result, but pandas can be used to do complex queries in reasonable time over large datasets.</p>\n"}], "owner": {"reputation": 451, "user_id": 6693076, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7fb115b9c2f4b9d0803e29d22bbd10da?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime", "link": "https://stackoverflow.com/users/6693076/maxime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 46941208, "answer_count": 1, "score": 2, "last_activity_date": 1509179062, "creation_date": 1508961950, "last_edit_date": 1508962095, "question_id": 46941189, "link": "https://stackoverflow.com/questions/46941189/find-all-the-lines-where-a-specific-dict-key-has-a-certain-value", "title": "Find all the lines where a specific dict key has a certain value", "body": "<p>I would like to find all the lines where a specific dict key has a certain value.\nNot really clear said like that, so here is a example :</p>\n\n<pre><code>data = [\n    {'key1' : 'value1', 'key2' : 'value2'},\n    {'key1' : 'value3', 'key2' : 'value4'},\n    {'key1' : 'value1', 'key2' : 'value5'}\n]\n\nout = data['key1' == 'value1']['key2']\n</code></pre>\n\n<p>I would like <code>out</code> to be equal to <code>['value2', 'value5']</code>, but in fact it returns only the first result, i.e. <code>'value2'</code></p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 3325, "user_id": 4941166, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c2c1101a15e12b67c110510ec6641128?s=128&d=identicon&r=PG&f=1", "display_name": "WNG", "link": "https://stackoverflow.com/users/4941166/wng"}, "edited": false, "score": 0, "creation_date": 1508961870, "post_id": 46941152, "comment_id": 80829561, "body": "What is the formula you want to implement ? Interest rate calculation has finesses. What have you already tried?"}], "answers": [{"tags": [], "owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "is_accepted": true, "score": 8, "last_activity_date": 1508963636, "last_edit_date": 1508963636, "creation_date": 1508963008, "answer_id": 46941441, "question_id": 46941152, "link": "https://stackoverflow.com/questions/46941152/calculating-interest-rates-in-numpy/46941441#46941441", "title": "Calculating interest rates in numpy", "body": "<p>You want <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.rate.html#numpy.rate\" rel=\"noreferrer\"><code>numpy.rate</code></a>.</p>\n\n<p>An example usage: suppose I'm making 10 monthly payments of $200 to pay off an initial loan of $1500. Then the monthly interest rate is approximately 5.6%:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; monthly_payment = 200.0\n&gt;&gt;&gt; number_of_payments = 10\n&gt;&gt;&gt; initial_loan_amount = 1500.0\n&gt;&gt;&gt; np.rate(number_of_payments, -monthly_payment, initial_loan_amount, 0.0)\n0.056044636451588969\n</code></pre>\n\n<p>Note the sign convention here: the payment is negative (it's money leaving my account), while the initial loan amount is positive.</p>\n\n<p>You should also take a look at the <code>when</code> parameter: depending on whether interest is accrued after each payment or before, you'll want to select the value of <code>when</code> accordingly. The above example models the situation where the first round of interest is added <em>before</em> the first payment is made (<code>when='end'</code>). If instead the payment is made at the beginning of each month, and interest accrued at the end of the month (<code>when='begin'</code>), the effective interest rate ends up higher, a touch over 7%.</p>\n\n<pre><code>&gt;&gt;&gt; np.rate(number_of_payments, -monthly_payment, initial_loan_amount, 0.0, when='begin')\n0.070550580696092852\n</code></pre>\n"}], "owner": {"reputation": 651, "user_id": 4556186, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a53870933b7adcf9ab382f4c3425acfa?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Klevs", "link": "https://stackoverflow.com/users/4556186/justin-klevs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2231, "favorite_count": 2, "accepted_answer_id": 46941441, "answer_count": 1, "score": 3, "last_activity_date": 1508963636, "creation_date": 1508961771, "question_id": 46941152, "link": "https://stackoverflow.com/questions/46941152/calculating-interest-rates-in-numpy", "title": "Calculating interest rates in numpy", "body": "<p>Hopefully this is a quick and easy question that is not a repeat. I am looking for a built in numpy function (though it could also be a part of another library) which, given an original loan amount, monthly payment amount, and number of payments, can calculate the interest rate. I see numpy has the following function:</p>\n\n<pre><code>np.pmt(Interest_Rate/Payments_Year, Years*Payments_Year, Principal)\n</code></pre>\n\n<p>This is close to what I am looking for but would instead prefer a function which would provide the interest rate when given the three parameters I listed above. Thank you. </p>\n"}, {"tags": ["python", "python-3.x", "numpy", "scipy"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "edited": false, "score": 1, "creation_date": 1508971186, "post_id": 46941646, "comment_id": 80833661, "body": "Better to use <code>np.expm1</code> instead of <code>np.exp(...)-1</code>, it is designed to compute exp(x)-1 without losing precision when x is close to 0. Compare <code>np.exp(-1e-20) - 1</code> and <code>np.expm1(-1e-20)</code>."}, {"owner": {"reputation": 408, "user_id": 7265880, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f04e089ed566198b3fe021f5a295f9fb?s=128&d=identicon&r=PG&f=1", "display_name": "J.Do", "link": "https://stackoverflow.com/users/7265880/j-do"}, "edited": false, "score": 0, "creation_date": 1508976953, "post_id": 46941646, "comment_id": 80835269, "body": "can you provide an example?"}, {"owner": {"reputation": 408, "user_id": 7265880, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f04e089ed566198b3fe021f5a295f9fb?s=128&d=identicon&r=PG&f=1", "display_name": "J.Do", "link": "https://stackoverflow.com/users/7265880/j-do"}, "edited": false, "score": 0, "creation_date": 1508976985, "post_id": 46941646, "comment_id": 80835278, "body": "Its not working... what about the derivative of the function?"}, {"owner": {"reputation": 3364, "user_id": 1525423, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/xkRry.png?s=128&g=1", "display_name": "Finwood", "link": "https://stackoverflow.com/users/1525423/finwood"}, "edited": false, "score": 1, "creation_date": 1509009601, "post_id": 46941646, "comment_id": 80847961, "body": "<code>f_deriv = lambda x: b*exp(x) if x &lt; 0 else 1 if x &gt; 0 else None</code>. Something like that. For any <code>beta != 1</code> your function is not derivable in 0."}], "tags": [], "owner": {"reputation": 51, "user_id": 8804050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77333cd27c9ee34f3f7e090d59a4a50c?s=128&d=identicon&r=PG&f=1", "display_name": "Lumen", "link": "https://stackoverflow.com/users/8804050/lumen"}, "is_accepted": false, "score": 2, "last_activity_date": 1508964656, "last_edit_date": 1508964656, "creation_date": 1508963888, "answer_id": 46941646, "question_id": 46941149, "link": "https://stackoverflow.com/questions/46941149/how-to-implement-this-activation-function-in-numpy/46941646#46941646", "title": "How to implement this activation function in numpy?", "body": "<p>How about:</p>\n\n<pre><code>def func (x, beta):\n    y = np.empty_like(x)\n    mask = x &lt;= 0\n    y[mask] = beta * (np.exp(x[mask])-1)\n    y[~mask] = x[~mask]\n   return y\n</code></pre>\n\n<p>mask contains the indizes for elements that are &lt;= 0, so that you can seperate the two cases.</p>\n"}], "owner": {"reputation": 408, "user_id": 7265880, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f04e089ed566198b3fe021f5a295f9fb?s=128&d=identicon&r=PG&f=1", "display_name": "J.Do", "link": "https://stackoverflow.com/users/7265880/j-do"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508970610, "creation_date": 1508961766, "last_edit_date": 1508970610, "question_id": 46941149, "link": "https://stackoverflow.com/questions/46941149/how-to-implement-this-activation-function-in-numpy", "title": "How to implement this activation function in numpy?", "body": "<p>How can I implement with numpy:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AILyc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AILyc.png\" alt=\"enter image description here\"></a></p>\n\n<p>and its derivative <code>f'(x)</code>? I tried to:</p>\n\n<pre><code>    def func (x,y):\n        if x.all() &lt;= 0:\n           y = beta (np.exp(x)-1)\n           return y\n        elif x&gt;0:\n            y = x\n            return y\n</code></pre>\n\n<p>However they're not working. Note that <code>x</code> and <code>y</code> are arrays.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 2241, "user_id": 541277, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d95828bc0d38637e2e0ec53dca21a2a5?s=128&d=identicon&r=PG", "display_name": "themanatuf", "link": "https://stackoverflow.com/users/541277/themanatuf"}, "edited": false, "score": 1, "creation_date": 1508962053, "post_id": 46941115, "comment_id": 80829653, "body": "<a href=\"https://www.djangoproject.com/start/\" rel=\"nofollow noreferrer\">djangoproject.com/start</a>"}, {"owner": {"reputation": 9722, "user_id": 991572, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32c3a43c2f79abe038e8ec5d9f306b29?s=128&d=identicon&r=PG", "display_name": "allcaps", "link": "https://stackoverflow.com/users/991572/allcaps"}, "edited": false, "score": 0, "creation_date": 1508962208, "post_id": 46941115, "comment_id": 80829727, "body": "Most people use the admin because it fits their requirements. If you need something else, don&#39;t use it. It isn&#39;t that hard to create CRUD views in Django. So I think you are best off creating your own views."}], "answers": [{"tags": [], "owner": {"reputation": 5730, "user_id": 8805315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391c509601d010c0ae3b15ca9197547b?s=128&d=identicon&r=PG", "display_name": "pissall", "link": "https://stackoverflow.com/users/8805315/pissall"}, "is_accepted": false, "score": 0, "last_activity_date": 1508962362, "creation_date": 1508962362, "answer_id": 46941275, "question_id": 46941115, "link": "https://stackoverflow.com/questions/46941115/overriding-django-admin-vs-creating-new-templates-views/46941275#46941275", "title": "Overriding Django admin vs creating new templates/views", "body": "<p>Yes. The admin pages is actually for administering the webpage. For user login and registration you create the templates. However, if you want your backend to look different then you can tweak the template for the admin page, admin login page as well. And you can also have permission based admin views. It's okay to over ride the defaults as long as you know what you're doing. Hope that helped. </p>\n"}, {"tags": [], "owner": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "is_accepted": true, "score": 1, "last_activity_date": 1508963211, "creation_date": 1508963211, "answer_id": 46941490, "question_id": 46941115, "link": "https://stackoverflow.com/questions/46941115/overriding-django-admin-vs-creating-new-templates-views/46941490#46941490", "title": "Overriding Django admin vs creating new templates/views", "body": "<p>Django admin is intended for administration purposes. For all intents and purposes it is a direct interface to your database. While I have seen some people building customer facing interfaces using admin, this is most definitely not the way to make a general Django web application.</p>\n\n<p>You should define views for your models. You can use built-in APIs to login and authenticate users. You should most likely restrict access to admin to internal users only.</p>\n\n<p>As for templates, the modern way of doing things is to dynamically fetch data using an API and do all the UI logic in Javascript. Django can be used very well to provide an API to a frontend. Look into Django REST Framework. The basic idea is to write serializers for your models and have view functions serve the serialized data to the front end.</p>\n\n<p>You could go the old school way and render your pages using templates of course. In that case your views would render templates using data provided by your models.</p>\n"}], "owner": {"reputation": 1662, "user_id": 5800158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DrD3B.jpg?s=128&g=1", "display_name": "Sasa Blagojevic", "link": "https://stackoverflow.com/users/5800158/sasa-blagojevic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 46941490, "answer_count": 2, "score": 0, "last_activity_date": 1508963211, "creation_date": 1508961643, "question_id": 46941115, "link": "https://stackoverflow.com/questions/46941115/overriding-django-admin-vs-creating-new-templates-views", "title": "Overriding Django admin vs creating new templates/views", "body": "<p>I am a total noob with Django, I come from the PHP world and I am used to doing things differently.</p>\n\n<p>I'm building an app and I want to change the way the backend looks, I want to use Bootstrap 4 and add a lot of custom stuff e.g. permission based admin views, and I was wondering what is the best practice, or how do more experienced django devs go about it?</p>\n\n<p>Do they override all the <code>django.contrib.admin</code> templates, or do they build custom templates and login/register next to it, and use the <code>django.contrib.admin</code> only for the superuser?</p>\n\n<p>What is the django way?</p>\n"}, {"tags": ["python", "pandas", "date-range", "pandas-groupby", "cumsum"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 2, "creation_date": 1508961655, "post_id": 46941106, "comment_id": 80829447, "body": "filter before <code>groupby</code>"}, {"owner": {"reputation": 67, "user_id": 7757209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57bbefe5ffd3374a55e5a7c64847f2b?s=128&d=identicon&r=PG&f=1", "display_name": "Quasar", "link": "https://stackoverflow.com/users/7757209/quasar"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1508962924, "post_id": 46941106, "comment_id": 80830089, "body": "I&#39;m back to receiving the key exclusion error I was having prior to this problem:"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1508963432, "post_id": 46941106, "comment_id": 80830325, "body": "<code>df.loc[( df[&#39;sale_date&#39;] &gt;= df[&#39;static_date_col&#39;])&amp;( df[&#39;sale_date&#39;] &lt;= pd.datetime.now()),:].groupby(by = [&#39;album_name&#39;,&#39;song_name&#39;]).cumsum()</code>"}, {"owner": {"reputation": 67, "user_id": 7757209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57bbefe5ffd3374a55e5a7c64847f2b?s=128&d=identicon&r=PG&f=1", "display_name": "Quasar", "link": "https://stackoverflow.com/users/7757209/quasar"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1508963857, "post_id": 46941106, "comment_id": 80830510, "body": "Thank you Wen. That got me what I needed. Using .loc in that way never occurred to me. I learned something new."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1508964272, "post_id": 46941106, "comment_id": 80830710, "body": "YW ~  :-) Nice day"}], "owner": {"reputation": 67, "user_id": 7757209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57bbefe5ffd3374a55e5a7c64847f2b?s=128&d=identicon&r=PG&f=1", "display_name": "Quasar", "link": "https://stackoverflow.com/users/7757209/quasar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 737, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508963476, "creation_date": 1508961591, "last_edit_date": 1508963476, "question_id": 46941106, "link": "https://stackoverflow.com/questions/46941106/pandas-cumsum-groupby-between-dates", "title": "Pandas cumsum groupby between dates", "body": "<p>I am trying to get a cumulative sum, grouped by album, where my sales date is between two dates.</p>\n\n<p>This works fine with no date range used:</p>\n\n<pre><code>df[\u2018cum_sales\u2019] = df.groupby(by = ['album_name','song_name']) ['sales'].cumsum()\n</code></pre>\n\n<p>This is where its not working for me, When trying to start a new cum sum for only between the dates filtered:</p>\n\n<pre><code>df[\u2018filtered_sales'] = df.groupby(by = [\u2018album_name\u2019,'song_name\u2019]) ['sales']\n[( df['sale_date'] &gt;= df['static_date_col'] ) &amp; \n ( df['sale_date'] &lt;= pd.datetime.now() ) ].cumsum()\n</code></pre>\n\n<blockquote>\n  <p><strong>Exception error</strong>: Column(s) sales already selected.</p>\n</blockquote>\n\n<p>Maybe I should be using a mask instead? At a loss and need some guidance.</p>\n\n<p>Per Wen's suggestion I tried the following:</p>\n\n<pre><code>df[\u2018filtered_sales'] = df[\u2018sales\u2019] \n[( df['sale_date'] &gt;= ['static_date_col'] ) &amp; \n( df['sale_date'] &lt;= pd.datetime.now() ) ].groupby(by = \n[\u2018album_name\u2019,'song_name\u2019]).cumsum()\n</code></pre>\n\n<blockquote>\n  <p><strong>Key error</strong>: 'album_name'</p>\n</blockquote>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 1, "creation_date": 1508961574, "post_id": 46941070, "comment_id": 80829409, "body": "Can you demonstrate <i>any</i> effort at solving this yourself?"}, {"owner": {"reputation": 12074, "user_id": 5626112, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7c4f02b1ae7b6e7f262d67e428a35fa8?s=128&d=identicon&r=PG&f=1", "display_name": "Steven G", "link": "https://stackoverflow.com/users/5626112/steven-g"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1508961771, "post_id": 46941070, "comment_id": 80829507, "body": "@ScottHunter added where I am right now"}], "answers": [{"comments": [{"owner": {"reputation": 12074, "user_id": 5626112, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7c4f02b1ae7b6e7f262d67e428a35fa8?s=128&d=identicon&r=PG&f=1", "display_name": "Steven G", "link": "https://stackoverflow.com/users/5626112/steven-g"}, "edited": false, "score": 0, "creation_date": 1508962565, "post_id": 46941238, "comment_id": 80829913, "body": "interesting approach, works fine if its starts with a positive number, but doesnt work the other way around! checking for modification"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 12074, "user_id": 5626112, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7c4f02b1ae7b6e7f262d67e428a35fa8?s=128&d=identicon&r=PG&f=1", "display_name": "Steven G", "link": "https://stackoverflow.com/users/5626112/steven-g"}, "edited": false, "score": 0, "creation_date": 1508963294, "post_id": 46941238, "comment_id": 80830259, "body": "@StevenG Please see my recent edit. It now works for both."}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 2, "last_activity_date": 1508963278, "last_edit_date": 1508963278, "creation_date": 1508962210, "answer_id": 46941238, "question_id": 46941070, "link": "https://stackoverflow.com/questions/46941070/first-in-first-out-pairing-in-list-when-cumulative-sum-cross-0/46941238#46941238", "title": "first in first out pairing in list when cumulative sum cross 0", "body": "<p>You can try this:</p>\n\n<pre><code>x = [-100.0, 100.0, -100.0, -100.0, 200.0, -200.0, 100.0, 100.0, -100.0,100.0]\ncurrent_sum = 0\ncurrent_sub = 0\nt1 = []\nt2 = []\nt3 = []\nfor i, a in enumerate(x):\n   if a &gt;= 0:\n      if (current_sum + a)+current_sub == 0:\n          t1.append(i)\n          t2.append([t1, t3])\n          t1 = []\n          t3 = []\n          current_sum = 0\n          current_sub = 0\n       else:\n          current_sum += a\n          t1.append(i)\n   else:\n       if current_sum + (current_sub + a) == 0:\n           t3.append(i)\n           t2.append([t1, t3])\n           t1 = []\n           t3 = []\n           current_sum = 0\n           current_sub = 0\n       else:\n           current_sub += a\n           t3.append(i)\n\nprint(t2)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[[0], [1]], [[2, 3], [4]], [[5], [6, 7]], [[8], [9]]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1014, "user_id": 8795073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5C5J.jpg?s=128&g=1", "display_name": "mportes", "link": "https://stackoverflow.com/users/8795073/mportes"}, "is_accepted": false, "score": 0, "last_activity_date": 1509023889, "last_edit_date": 1509023889, "creation_date": 1508964245, "answer_id": 46941734, "question_id": 46941070, "link": "https://stackoverflow.com/questions/46941070/first-in-first-out-pairing-in-list-when-cumulative-sum-cross-0/46941734#46941734", "title": "first in first out pairing in list when cumulative sum cross 0", "body": "<p>My attempt (Python 2.7):</p>\n\n<pre><code>x = [100.0, -100.0, 100.0, 100.0, -200.0, 200.0, -100.0, -100.0, 100.0,-100.0]\nMasterList, Pos, Neg = [], [], []\n\nfor i in range(len(x)):\n    if x[i] &gt;= 0:\n        Pos.append(i)\n    else:\n        Neg.append(i)\n    if sum([x[n] for n in Pos]) + sum([x[n] for n in Neg]) == 0:\n        if Pos[0] &lt; Neg[0]:\n            MasterList.append([Pos, Neg])\n        else:\n            MasterList.append([Neg, Pos])           \n        Pos, Neg = [], []\n\nprint MasterList\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[[0], [1]], [[2, 3], [4]], [[5], [6, 7]], [[8], [9]]]\n</code></pre>\n\n<p>Output for <code>x = [-1, -1, -1, 2, 1, -3, 1, 2]</code>:</p>\n\n<pre><code>[[[0, 1, 2], [3, 4]], [[5], [6, 7]]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 1, "last_activity_date": 1509022632, "creation_date": 1509022632, "answer_id": 46954974, "question_id": 46941070, "link": "https://stackoverflow.com/questions/46941070/first-in-first-out-pairing-in-list-when-cumulative-sum-cross-0/46954974#46954974", "title": "first in first out pairing in list when cumulative sum cross 0", "body": "<p>Something a bit more compact:</p>\n\n<pre><code>def split_seq( seq ):\n    result = []\n    sum = 0\n    subseq = [[],[]]\n    for i,a in enumerate(seq):\n        sum += a\n        subseq[ 0 if a&gt;=0 else 1 ].append( i )\n        if sum == 0:\n            result.append( subseq )\n            subseq = [[],[]]\n    return result\n</code></pre>\n"}], "owner": {"reputation": 12074, "user_id": 5626112, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7c4f02b1ae7b6e7f262d67e428a35fa8?s=128&d=identicon&r=PG&f=1", "display_name": "Steven G", "link": "https://stackoverflow.com/users/5626112/steven-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 46941238, "answer_count": 3, "score": 3, "last_activity_date": 1509023889, "creation_date": 1508961486, "last_edit_date": 1508961749, "question_id": 46941070, "link": "https://stackoverflow.com/questions/46941070/first-in-first-out-pairing-in-list-when-cumulative-sum-cross-0", "title": "first in first out pairing in list when cumulative sum cross 0", "body": "<p>I am trying to achieve a FIFO pairing</p>\n\n<p>assuming that I have a list such has BUY/SHORT quantities and SELL/COVER quantities in a list such as:</p>\n\n<pre><code>x = [100.0, -100.0, 100.0, 100.0, -200.0, 200.0, -100.0, -100.0, 100.0,-100.0]\n</code></pre>\n\n<p>I am trying to isolate buys and sell such has the sum of them equal 0.</p>\n\n<pre><code>i.e. x[0] is offset with x[1]\nx[2] and x[3] is offset with x[4]\n</code></pre>\n\n<p>I am trying to get a nested list of index position of the list x that look like this:</p>\n\n<pre><code>[[[0], [1]], [[2, 3], [4]], [[5], [6, 7]], [[8], [9]]]\n</code></pre>\n\n<p>I would expect the exact same result if the initial list was reverse like :</p>\n\n<pre><code>x = [-100.0, 100.0, -100.0, -100.0, 200.0, -200.0, 100.0, 100.0, -100.0,100.0]\n</code></pre>\n\n<p>So pretty much, every time the cumulative sum cross 0, I reset the pairing.</p>\n\n<p>Any help is appreciated!</p>\n\n<p>I have achieve a partial solution where a list has perfect offset size such has:</p>\n\n<pre><code>def find_matching_position(trade_list):\n    solutions = list(zip([i for i, x2 in enumerate(trade_list) if x2 == trade_list[0]],\n                         [i for i, x2 in enumerate(trade_list) if x2 == trade_list[0] * -1]))\n\n    return [sorted(x) for x in solutions]\n\nx = [100, 100, -100 , 100, -100, -100]\n\n    find_matching_position(x)\n    [[0, 2], [1, 4], [3, 5]]\n</code></pre>\n"}, {"tags": ["python", "linux"], "comments": [{"owner": {"reputation": 137, "user_id": 5849995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38be8d9cc496cf62df8ce3a892530a5f?s=128&d=identicon&r=PG&f=1", "display_name": "jonatan", "link": "https://stackoverflow.com/users/5849995/jonatan"}, "edited": false, "score": 0, "creation_date": 1508962241, "post_id": 46941060, "comment_id": 80829746, "body": "Sounds like something else is sending a TERM signal to your program"}, {"owner": {"reputation": 3895, "user_id": 446464, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3da4ed7ea16825fead6120d70dc7da43?s=128&d=identicon&r=PG", "display_name": "JESii", "link": "https://stackoverflow.com/users/446464/jesii"}, "reply_to_user": {"reputation": 137, "user_id": 5849995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38be8d9cc496cf62df8ce3a892530a5f?s=128&d=identicon&r=PG&f=1", "display_name": "jonatan", "link": "https://stackoverflow.com/users/5849995/jonatan"}, "edited": false, "score": 0, "creation_date": 1509023408, "post_id": 46941060, "comment_id": 80857558, "body": "For sure; the question is how to track that down :=)"}], "owner": {"reputation": 3895, "user_id": 446464, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3da4ed7ea16825fead6120d70dc7da43?s=128&d=identicon&r=PG", "display_name": "JESii", "link": "https://stackoverflow.com/users/446464/jesii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508961456, "creation_date": 1508961456, "question_id": 46941060, "link": "https://stackoverflow.com/questions/46941060/command-line-python-simplehttpserver-gets-quickly-terminate", "title": "command-line python SimpleHTTPServer gets quickly terminate", "body": "<p>I'm trying to demo a simple website using the python SimpleHTTPServer module. However, the server almost immediately is terminated. I'm ssh'd into the box, type:</p>\n\n<p><code>python -m SimpleHTTPServer 8000</code></p>\n\n<p>the webserver starts:</p>\n\n<p><code>Serving HTTP on 0.0.0.0 port 8000 ...</code></p>\n\n<p>and then displays <code>Terminated</code> and shuts down within a few seconds.</p>\n\n<p>I'm at a loss as to what to look for. I'm using this same command on macOS with no problems; this is on a Linux box running python V2.7.9.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 664, "user_id": 2771301, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CFLQl.jpg?s=128&g=1", "display_name": "Dinesh.hmn", "link": "https://stackoverflow.com/users/2771301/dinesh-hmn"}, "edited": false, "score": 0, "creation_date": 1508961571, "post_id": 46941058, "comment_id": 80829406, "body": "Do you have python2 installed?"}, {"owner": {"reputation": 137, "user_id": 5849995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38be8d9cc496cf62df8ce3a892530a5f?s=128&d=identicon&r=PG&f=1", "display_name": "jonatan", "link": "https://stackoverflow.com/users/5849995/jonatan"}, "edited": false, "score": 0, "creation_date": 1508963827, "post_id": 46941058, "comment_id": 80830499, "body": "Make sure that pip is using the right python install (or keep using python -m pip) and see if there aren&#39;t any more zlib packages (some dev package or something? zlib1g-dev?)"}, {"owner": {"reputation": 101, "user_id": 7853796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e786fda2f3e273f28fc4340ab31bd5?s=128&d=identicon&r=PG&f=1", "display_name": "user7853796", "link": "https://stackoverflow.com/users/7853796/user7853796"}, "edited": false, "score": 0, "creation_date": 1508981433, "post_id": 46941058, "comment_id": 80836291, "body": "I installed zlib1g-dev; I definitely have python 2.7.14 installed but when i test it in shell it wont let me import anything. I think it might be because Ubuntu comes with it preinstalled and I tried to download it from the website too when i just got it idk"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 7853796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e786fda2f3e273f28fc4340ab31bd5?s=128&d=identicon&r=PG&f=1", "display_name": "user7853796", "link": "https://stackoverflow.com/users/7853796/user7853796"}, "edited": false, "score": 0, "creation_date": 1509142701, "post_id": 46980797, "comment_id": 80915654, "body": "yes i know the installs work on python3.6, the problem is i want to install them on python 2.7 and it doesnt work. when i do python2.7 -m pip install it throws some zlib error and if i do pip install or pip2 install it works but when i run python it says cannot import, not installed"}], "tags": [], "owner": {"reputation": 1323, "user_id": 1698509, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/edf0ad119c6130a8f08ce129c3d67f1c?s=128&d=identicon&r=PG", "display_name": "Guilherme", "link": "https://stackoverflow.com/users/1698509/guilherme"}, "is_accepted": false, "score": 1, "last_activity_date": 1509126446, "creation_date": 1509126446, "answer_id": 46980797, "question_id": 46941058, "link": "https://stackoverflow.com/questions/46941058/pip-install-not-working/46980797#46980797", "title": "Pip install not working?", "body": "<p>You can specify which version of python you want to use</p>\n\n<p>Try this</p>\n\n<pre><code>    python3.6 -m pip install &lt;package&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>    python3 -m pip install &lt;package&gt;\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 7853796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e786fda2f3e273f28fc4340ab31bd5?s=128&d=identicon&r=PG&f=1", "display_name": "user7853796", "link": "https://stackoverflow.com/users/7853796/user7853796"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509126446, "creation_date": 1508961454, "question_id": 46941058, "link": "https://stackoverflow.com/questions/46941058/pip-install-not-working", "title": "Pip install not working?", "body": "<p>I've been using Ubuntu 17.04 but my pip install is not working. Pip3 works fine and I've been getting by using python3 but I want to use volatility plugins with vol.py and I need python2 for that. </p>\n\n<p>pip install just runs normally and installs everything fine but when I import it it says it's not installed. And yes I've tried using pip2, python -m pip, etc-- python -m pip just gives some error about no zlib when I've already installed it (zlib package thing). Help?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1508962130, "post_id": 46941029, "comment_id": 80829687, "body": "It looks like you are upgrading to a new version of Django. The release notes and deprecation timeline will help explain changes you have to make. If you\u2019re still stuck, searching the error message, e.g. <code>__init__() got an unexpected keyword argument &#39;mimetype&#39;</code> will often show you the change you have to make. Since it\u2019s such old code, you may find it easier to get it working on 1.8 LTS (which is currently still supported) instead of jumping straight to 1.11."}], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 2, "last_activity_date": 1508961935, "creation_date": 1508961935, "answer_id": 46941184, "question_id": 46941029, "link": "https://stackoverflow.com/questions/46941029/django-mimetype-error/46941184#46941184", "title": "Django MimeType error", "body": "<p>The <code>mimetype</code> argument was removed in Django 1.7. Use <code>content_type</code> instead.</p>\n\n<pre><code>return HttpResponse(txt, content_type=kwds.get('mimetype','text/html'))\n</code></pre>\n"}], "owner": {"reputation": 156, "user_id": 7600265, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0534064a00399a7f6abaa762c0fba1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Baxter", "link": "https://stackoverflow.com/users/7600265/ethan-baxter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1188, "favorite_count": 0, "accepted_answer_id": 46941184, "answer_count": 1, "score": 0, "last_activity_date": 1602997027, "creation_date": 1508961341, "question_id": 46941029, "link": "https://stackoverflow.com/questions/46941029/django-mimetype-error", "title": "Django MimeType error", "body": "<p>guys, I have no idea what is wrong with this error. The code is not something that I wrote so I don't know much about it. Any help is greatly appreciated. I will update the question with any other information that you ask for when it is needed. The code is very hard to read an upload to stack overflow so code posts may take a long time to reply.</p>\n\n<pre><code>Environment:\n\n\nRequest Method: GET\nRequest URL: http://192.168.2.214/accounts/login/?next=/\n\nDjango Version: 1.11.6\nPython Version: 2.7.12\n Installed Applications:\n ('django.contrib.auth',\n 'django.contrib.admin',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'tsa.events')\n Installed Middleware:\n ('django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'tsa.settings.ChapterMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware')\n\n\n\nTraceback:\n\nFile \"/usr/local/lib/python2.7/dist-\npackages/django/core/handlers/exception.py\" \nin inner\n41.             response = get_response(request)\n\nFile \"/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py\" \nin \n_legacy_get_response\n249.             response = self._get_response(request)\n\nFile \"/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py\" \nin \n_get_response\n187.                 response = self.process_exception_by_middleware(e, \nrequest)\n\nFile \"/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py\" \nin \n_get_response\n185.                 response = wrapped_callback(request, *callback_args, \n**callback_kwargs)\n\nFile \" \n/home/serverad/django14_project/my_django15_project/tsa/events/views.py\" \n in login_view\n 185.             next=request.GET.get('next', '/'), \nchapters=Chapter.objects.all(), error_msg=error_msg)\n\nFile \n\"/home/serverad/django14_project/my_django15_project/tsa/events/views.py\" \nin render_template\n71.     return HttpResponse(txt, mimetype=kwds.get('mimetype','text/html'))\n\nFile \"/usr/local/lib/python2.7/dist-packages/django/http/response.py\" in \n__init__\n301.         super(HttpResponse, self).__init__(*args, **kwargs)\n\nException Type: TypeError at /accounts/login/\nException Value: __init__() got an unexpected keyword argument 'mimetype'\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "method-resolution-order"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5847829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hRLIKx3-QZs/AAAAAAAAAAI/AAAAAAAAAjs/disscrC-qXc/photo.jpg?sz=128", "display_name": "Prashant Singh", "link": "https://stackoverflow.com/users/5847829/prashant-singh"}, "edited": false, "score": 0, "creation_date": 1508964886, "post_id": 46941433, "comment_id": 80831067, "body": "can you tell me why b.name = name works? i am confused by this"}, {"owner": {"reputation": 33, "user_id": 5847829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hRLIKx3-QZs/AAAAAAAAAAI/AAAAAAAAAjs/disscrC-qXc/photo.jpg?sz=128", "display_name": "Prashant Singh", "link": "https://stackoverflow.com/users/5847829/prashant-singh"}, "edited": false, "score": 0, "creation_date": 1508991665, "post_id": 46941433, "comment_id": 80838742, "body": "but Is&#39;nt ClassName__init__(), is an old method of calling constructors? i have heard a term called &quot;co-operative subclassing&quot; in which we have to declare superclass in each class, but my question is still intact ! i cannot initiate class b&#39;s constructor by c class object"}, {"owner": {"reputation": 33, "user_id": 5847829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hRLIKx3-QZs/AAAAAAAAAAI/AAAAAAAAAjs/disscrC-qXc/photo.jpg?sz=128", "display_name": "Prashant Singh", "link": "https://stackoverflow.com/users/5847829/prashant-singh"}, "edited": false, "score": 0, "creation_date": 1509012857, "post_id": 46941433, "comment_id": 80850225, "body": "all I wanted was to initialise the superclass constructors (class a &amp; b) from the subclass contructor (class c) with the help of super(), but all i could find is, it only initialised the first class contructor (i.e class a) not the second class (class b). what you are doing is totally fine and i can understand the code you&#39;ve written. I want to ask is, is initialising like the way you did is still in practice (i have read somewhere that it is an older method to do)? or there is any other way of doing the same thing with super()? @Michal Zaborowski"}, {"owner": {"reputation": 3513, "user_id": 6103001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a874dcd5632319daf12801f77659d63?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Zaborowski", "link": "https://stackoverflow.com/users/6103001/micha%c5%82-zaborowski"}, "reply_to_user": {"reputation": 33, "user_id": 5847829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hRLIKx3-QZs/AAAAAAAAAAI/AAAAAAAAAjs/disscrC-qXc/photo.jpg?sz=128", "display_name": "Prashant Singh", "link": "https://stackoverflow.com/users/5847829/prashant-singh"}, "edited": false, "score": 0, "creation_date": 1509016305, "post_id": 46941433, "comment_id": 80852482, "body": "<code>super()</code> gives more flexibility, since you are not instrumenting it all manually. However here there are different set of parameters, and it would not work..."}, {"owner": {"reputation": 33, "user_id": 5847829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hRLIKx3-QZs/AAAAAAAAAAI/AAAAAAAAAjs/disscrC-qXc/photo.jpg?sz=128", "display_name": "Prashant Singh", "link": "https://stackoverflow.com/users/5847829/prashant-singh"}, "edited": false, "score": 0, "creation_date": 1509016727, "post_id": 46941433, "comment_id": 80852787, "body": "what you are saying is, the only way to do it is, doing the way you did?"}, {"owner": {"reputation": 3513, "user_id": 6103001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a874dcd5632319daf12801f77659d63?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Zaborowski", "link": "https://stackoverflow.com/users/6103001/micha%c5%82-zaborowski"}, "reply_to_user": {"reputation": 33, "user_id": 5847829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hRLIKx3-QZs/AAAAAAAAAAI/AAAAAAAAAjs/disscrC-qXc/photo.jpg?sz=128", "display_name": "Prashant Singh", "link": "https://stackoverflow.com/users/5847829/prashant-singh"}, "edited": false, "score": 0, "creation_date": 1509022466, "post_id": 46941433, "comment_id": 80856826, "body": "other option is to skip constructor(s) of parent&#39;s class(es) and copy that code to <code>c.__init__</code>. That is object with fields, so if you use <code>self.name</code> instead of <code>b.name</code> - should work as well."}], "tags": [], "owner": {"reputation": 3513, "user_id": 6103001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a874dcd5632319daf12801f77659d63?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Zaborowski", "link": "https://stackoverflow.com/users/6103001/micha%c5%82-zaborowski"}, "is_accepted": true, "score": -1, "last_activity_date": 1509003312, "last_edit_date": 1509003312, "creation_date": 1508962990, "answer_id": 46941433, "question_id": 46941003, "link": "https://stackoverflow.com/questions/46941003/i-am-not-able-to-initiialise-data-members-of-different-classes-in-multiple-inher/46941433#46941433", "title": "i am not able to initiialise data members of different classes in multiple inheritance in python2.X", "body": "<p>Try:</p>\n\n<pre><code>    a.__init__(self,x,y)\n    b.__init__(self,name)\n</code></pre>\n\n<h2>Edit:</h2>\n\n<p>OK, missed question about <code>b.name</code>. Remove that line. In this context b is class. <code>b.__init__</code> is special convention to show which parent constructor you are willing to call. </p>\n\n<p>And that is not duplicate. Hope, now it helps.</p>\n\n<h2>Edit2:</h2>\n\n<pre><code>class a(object):\n    def __init__(self, x, y):\n        self.x=x\n        self.y=y\n        print(\"a \" + str(x) + \" - \" + str(y) )\n\n    def displayA(self):\n        print self.x\n        print self.y\n\nclass b(object):\n    def __init__(self, name):\n        self.name=name\n        print(\"b \" + name )\n\n    def displayB(self):\n        print self.name\n\n\nclass c(a,b):\n    def __init__(self, p,x,y,name):\n        self.p = p\n        a.__init__(self,x,y)\n        b.__init__(self,name)\n\n    def displayC(self):\n        print self.p\n\nv = c(10, 12, 78, 'abc')\nv.displayC()\nv.displayA()\nv.displayB()\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>a 12 - 78\nb abc\n10\n12\n78\nabc\n</code></pre>\n\n<p>Can you edit, your initial post, and show me what is the problem? For me that is the answer, and that was from starting point...</p>\n"}], "owner": {"reputation": 33, "user_id": 5847829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hRLIKx3-QZs/AAAAAAAAAAI/AAAAAAAAAjs/disscrC-qXc/photo.jpg?sz=128", "display_name": "Prashant Singh", "link": "https://stackoverflow.com/users/5847829/prashant-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 46941433, "answer_count": 1, "score": 0, "last_activity_date": 1509003312, "creation_date": 1508961173, "last_edit_date": 1508961266, "question_id": 46941003, "link": "https://stackoverflow.com/questions/46941003/i-am-not-able-to-initiialise-data-members-of-different-classes-in-multiple-inher", "title": "i am not able to initiialise data members of different classes in multiple inheritance in python2.X", "body": "<p>I have a code that goes like this</p>\n\n<pre><code>class a(object):\n    def __init__(self, x, y):\n        self.x=x\n        self.y=y\n        super(a, self).__init__()\n\n    def displayA(self):\n        print self.x\n        print self.y\n\nclass b(object):\n    def __init__(self, name):\n        self.name=name\n        super(b, self).__init__()\n\n    def displayB(self):\n        print self.name\n\n\nclass c(a,b):\n    def __init__(self, p,x,y,name):\n        self.p = p\n        b.name=name     #**this line confuses me**\n        super(c,self).__init__(x,y)\n\n    def displayC(self):\n        print self.p\n\nv = c(10, 12, 78, 'abc')\nv.displayC()\nv.displayA()\nv.displayB()\n</code></pre>\n\n<p>I want to initialise the data members of different classes (a &amp; b) through the subclass c, but the super() visits only class a, but somehow I can initialise class b data members like <code>b.name=name</code> in the <strong>init</strong>() of c and then I can pass the parameters in the object. \nMy question is, if I dont do it like this, I cannot pass arguments in the c's object.\nHelp me!</p>\n"}, {"tags": ["python", "string", "list", "sorting"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 10, "creation_date": 1508961214, "post_id": 46940998, "comment_id": 80829222, "body": "I do not see any sorting. I only notice &quot;rotating&quot; a string (so to speak). Furthermore: what have you tried?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1508961289, "post_id": 46940998, "comment_id": 80829259, "body": "<code>&gt;&gt;&gt; m=&quot;message&quot;; m[-1]+m[:-1]</code>"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 2, "creation_date": 1508961385, "post_id": 46940998, "comment_id": 80829310, "body": "It&#39;s not rotation either, #1 stays the same... The criteria to modify the string is unclear!"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1508961422, "post_id": 46940998, "comment_id": 80829328, "body": "Welcome to Stackoverflow, please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How To Ask</a>. Pay special attention to <a href=\"https://stackoverflow.com/help/mcve\">How To Create MCVE</a>. The more effort you&#39;ll put into posting a good question: one which is easy to read, understand and which is <a href=\"https://stackoverflow.com/help/on-topic\">on topic</a> - the chances are higher that it will attract the relevant people and you&#39;ll get help even faster. Good luck!"}, {"owner": {"reputation": 113, "user_id": 6148688, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd90c65ca178155b2d51aeb094f34ca3?s=128&d=identicon&r=PG&f=1", "display_name": "empty lungs", "link": "https://stackoverflow.com/users/6148688/empty-lungs"}, "edited": false, "score": 0, "creation_date": 1508961651, "post_id": 46940998, "comment_id": 80829445, "body": "this two columns - two lists. 1st one is unsorted(it&#39;s a list of left shifts) so I need to sort it, 2nd one is sorted(look at penultimate characters). thanks for -1 btw"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1508961968, "post_id": 46940998, "comment_id": 80829619, "body": "@emptylungs I&#39;ve edited the question to appear more clear, since a whole heap of us didn&#39;t understand as originally phrased."}], "answers": [{"tags": [], "owner": {"reputation": 3763, "user_id": 8653690, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ukq3.jpg?s=128&g=1", "display_name": "Miraj50", "link": "https://stackoverflow.com/users/8653690/miraj50"}, "is_accepted": true, "score": 7, "last_activity_date": 1508961706, "creation_date": 1508961706, "answer_id": 46941132, "question_id": 46940998, "link": "https://stackoverflow.com/questions/46940998/sort-a-list-of-strings-by-second-to-last-character/46941132#46941132", "title": "Sort a list of strings by second-to-last character", "body": "<p>Is this what you want? If yes, make that penultimate letter the key for the <code>sort()</code> function.</p>\n\n<pre><code>a = ['message', 'essagem', 'ssageme', 'sagemes', 'agemess', 'gemessa', 'emessag']\na.sort(key=lambda x:x[-2])\nprint(a)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['emessag', 'essagem', 'sagemes', 'message', 'ssageme', 'agemess', 'gemessa']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2728, "user_id": 1996842, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4b2d8d038befbed92f3df1eef9da821d?s=128&d=identicon&r=PG&f=1", "display_name": "utengr", "link": "https://stackoverflow.com/users/1996842/utengr"}, "is_accepted": false, "score": 3, "last_activity_date": 1508969494, "last_edit_date": 1508969494, "creation_date": 1508969009, "answer_id": 46942761, "question_id": 46940998, "link": "https://stackoverflow.com/questions/46940998/sort-a-list-of-strings-by-second-to-last-character/46942761#46942761", "title": "Sort a list of strings by second-to-last character", "body": "<p>Just to add something alternative to Miraj50's answer: You can do it using <code>itemgetter</code> too in a bit <a href=\"https://docs.python.org/3/howto/sorting.html\" rel=\"nofollow noreferrer\">cleaner/faster way</a>. </p>\n\n<pre><code>from operator import itemgetter\n\nin_list = ['message', 'essagem', 'ssageme', 'sagemes', 'agemess', 'gemessa', 'emessag']\nresult = sorted(in_list, key=itemgetter(-2))\nprint(result)\n</code></pre>\n\n<p>output: </p>\n\n<pre><code>['emessag', 'essagem', 'sagemes', 'message', 'ssageme', 'agemess', 'gemessa']\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 6148688, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd90c65ca178155b2d51aeb094f34ca3?s=128&d=identicon&r=PG&f=1", "display_name": "empty lungs", "link": "https://stackoverflow.com/users/6148688/empty-lungs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5071, "favorite_count": 0, "accepted_answer_id": 46941132, "answer_count": 2, "score": 4, "last_activity_date": 1581512080, "creation_date": 1508961156, "last_edit_date": 1581512080, "question_id": 46940998, "link": "https://stackoverflow.com/questions/46940998/sort-a-list-of-strings-by-second-to-last-character", "title": "Sort a list of strings by second-to-last character", "body": "<p>I need to sort a list of strings using character comparison starting with penultimate element moving down to the beginning of string (for equal characters). so basically I need to get this</p>\n\n<pre><code>in_ = ['message', 'essagem', 'ssageme', 'sagemes', 'agemess', 'gemessa', 'emessag']\n\nresult = ['emessag', 'essagem', 'sagemes', 'message', 'ssageme', 'agemess', 'gemessa']\n# sorted on second to last character in each string\n</code></pre>\n"}, {"tags": ["python", "events", "pyside", "mask"], "answers": [{"tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 1, "last_activity_date": 1508962410, "creation_date": 1508962410, "answer_id": 46941292, "question_id": 46940966, "link": "https://stackoverflow.com/questions/46940966/pyqt-how-to-set-a-mask-over-a-qwidget-to-ignore-mouse-events-but-get-the-childr/46941292#46941292", "title": "PyQt: How to set a mask over a QWidget to ignore mouse events but get the children events", "body": "<p>You need to use the <code>QRegion</code> class to get this to work:</p>\n\n<pre><code>def settingMask(self):\n    region = qg.QRegion(self._mainWidget.frameGeometry())\n    region -= qg.QRegion(self._mainWidget.geometry())\n    region += self._mainWidget.childrenRegion()\n    self._mainWidget.setMask(region)\n</code></pre>\n\n<p>Also, on my system (Linux), I found I had to call this <em>after</em> the window is shown:</p>\n\n<pre><code>def main():\n    ...\n    myWinPos.show()\n    myWinPos.settingMask()\n    sys.exit(qtApp.exec_())\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 8021320, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-XFcaBmk1Um8/AAAAAAAAAAI/AAAAAAAAADE/alC0LXe5xmk/photo.jpg?sz=128", "display_name": "Nestor Colt", "link": "https://stackoverflow.com/users/8021320/nestor-colt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1180, "favorite_count": 0, "accepted_answer_id": 46941292, "answer_count": 1, "score": 1, "last_activity_date": 1508962744, "creation_date": 1508961009, "last_edit_date": 1508962744, "question_id": 46940966, "link": "https://stackoverflow.com/questions/46940966/pyqt-how-to-set-a-mask-over-a-qwidget-to-ignore-mouse-events-but-get-the-childr", "title": "PyQt: How to set a mask over a QWidget to ignore mouse events but get the children events", "body": "<p>I want to <strong>overlap</strong> widgets and make them all functional, but I can't get this done through simple layout management. I found an example applying a mask over the widget, but is in <strong>C++</strong> and I am having a hard time trying to port it to <strong>python</strong>.</p>\n\n<p>The example is in this article:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/27855137/how-to-disable-the-delivery-of-mouse-events-to-the-widget-but-not-its-children-i\">How to disable the delivery of mouse events to the widget but not its children in Qt?</a></li>\n</ul>\n\n<p>That's exactly what I need, and I'm trying to implement it in my code. But I get the error: </p>\n\n<pre><code>NotImplementedError: reverse operator not implemented\n</code></pre>\n\n<p>How could I solve this?</p>\n\n<p>A very simple example of what I'm doing in the code:</p>\n\n<pre><code>from PySide import QtCore as qc\nfrom PySide import QtGui as qg\nimport operator\n###############################################################\nclass WinDin(qg.QDialog):\n    def __init__(self):\n        super(WinDin, self).__init__()\n        self.setLayout(qg.QVBoxLayout())\n        self.setFixedSize(500,500)\n\n        button_00 = qg.QPushButton('death')\n        self.layout().addWidget(button_00)\n\n        ##################################################\n        # IM USING A QLABEL FOR EASY LOOK THROUGH ...\n        #\n        self._mainWidget = qg.QLabel(self)\n        self._mainWidget.setFixedSize(500,500)\n        self._mainWidget.setStyleSheet(\"background-color: rgba(255,0,0,5)\")\n\n        lay_out = qg.QHBoxLayout(self._mainWidget)\n        button_01 = qg.QPushButton('trick')\n\n        lay_out.setAlignment(qc.Qt.AlignBottom)\n        lay_out.addWidget(button_01)\n\n        self.settingMask()\n    ############################################################################################################################################\n    def settingMask(self):\n        ### SAW THIS EXAMPLE IN OTHER FORO IN C++\n\n        frame_geometry = self._mainWidget.frameGeometry()\n        wd_geo = self._mainWidget.geometry()\n        child_reg = self._mainWidget.childrenRegion()\n\n\n        ##############################\n        # TESTING WITH OPERATOR MODULE I GET AND ERRROR . 'PySide.QtCore.QRect' is not iterable\n        #\n        #this = operator.__contains__(wd_geo,wd_geo)\n        #self._mainWidget.setMask(this)\n\n        self._mainWidget.setMask(frame_geometry - child_reg)\n\n        ###\n        ###\n        ###  THIS WAY I GET : NotImplementedError: reverse operator not implemented.\n\n##########################################\ndef main():\n    import sys\n    qtApp=qg.QApplication(sys.argv)\n    myWinPos=WinDin()\n    myWinPos.show()\n    sys.exit(qtApp.exec_())\n\nif __name__==\"__main__\":\n    main()\n</code></pre>\n\n<p>How can I subtract the <strong>children</strong> geometry from the <strong>parent</strong> and make it work?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 4921, "user_id": 7366928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2zR.jpg?s=128&g=1", "display_name": "pansen", "link": "https://stackoverflow.com/users/7366928/pansen"}, "edited": false, "score": 0, "creation_date": 1508961450, "post_id": 46940960, "comment_id": 80829347, "body": "Have you checked <code>get_dummies</code>: <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.get_dummies.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 421, "user_id": 5978130, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/15928fe569914865c091787cdfc87f51?s=128&d=identicon&r=PG", "display_name": "modLmakur", "link": "https://stackoverflow.com/users/5978130/modlmakur"}, "edited": false, "score": 0, "creation_date": 1508980608, "post_id": 46941129, "comment_id": 80836087, "body": "Thank you for the tip.  I tried get_dummies.  I updated the original post with the code I tried and the error I got.  Do you see what I&#39;m doing wrong?"}, {"owner": {"reputation": 4921, "user_id": 7366928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2zR.jpg?s=128&g=1", "display_name": "pansen", "link": "https://stackoverflow.com/users/7366928/pansen"}, "reply_to_user": {"reputation": 421, "user_id": 5978130, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/15928fe569914865c091787cdfc87f51?s=128&d=identicon&r=PG", "display_name": "modLmakur", "link": "https://stackoverflow.com/users/5978130/modlmakur"}, "edited": false, "score": 0, "creation_date": 1509018259, "post_id": 46941129, "comment_id": 80853779, "body": "@modLmakur You need to put your objects you want to concatenate into a list in order to make it work. I updated my example accordingly using <code>concat</code>."}, {"owner": {"reputation": 2571, "user_id": 3476463, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/102f066d7cd421c7bf6d5611a7d6f161?s=128&d=identicon&r=PG&f=1", "display_name": "user3476463", "link": "https://stackoverflow.com/users/3476463/user3476463"}, "edited": false, "score": 0, "creation_date": 1509310617, "post_id": 46941129, "comment_id": 80956787, "body": "@pansen  I added an update above with sample data from the code I ran creating dummy variables.  I&#39;m wondering why there are numbers added to the beginning of the dummy variable names.  It seems like sometimes there&#39;s multiple versions of the dummy variable like 6_bar, 15_bar, does this have to do with the original form of the &quot;categories&quot; column?  Can you suggest how I could fix it so there aren&#39;t multiple versions of the dummy variable?  Thanks."}], "tags": [], "owner": {"reputation": 4921, "user_id": 7366928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2zR.jpg?s=128&g=1", "display_name": "pansen", "link": "https://stackoverflow.com/users/7366928/pansen"}, "is_accepted": false, "score": 1, "last_activity_date": 1509018204, "last_edit_date": 1509018204, "creation_date": 1508961701, "answer_id": 46941129, "question_id": 46940960, "link": "https://stackoverflow.com/questions/46940960/create-binary-indicator-variable-for-column-values/46941129#46941129", "title": "Create Binary Indicator variable for column values", "body": "<p>You can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.get_dummies.html\" rel=\"nofollow noreferrer\"><code>get_dummies</code></a> which does exactly what you want:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame({\"Categorical\": [\"a\", \"b\", \"c\", \"a\"]})\ndf\n\n&gt;&gt;&gt;     Categorical\n    0   a\n    1   b\n    2   c\n    3   a\n\n\npd.concat([df, pd.get_dummies(df[\"Categorical\"])], axis=1)\n\n&gt;&gt;&gt;     Categorical     a   b   c\n    0   a               1   0   0\n    1   b               0   1   0\n    2   c               0   0   1\n    3   a               1   0   0\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 5978130, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/15928fe569914865c091787cdfc87f51?s=128&d=identicon&r=PG", "display_name": "modLmakur", "link": "https://stackoverflow.com/users/5978130/modlmakur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509317619, "creation_date": 1508960970, "last_edit_date": 1509317619, "question_id": 46940960, "link": "https://stackoverflow.com/questions/46940960/create-binary-indicator-variable-for-column-values", "title": "Create Binary Indicator variable for column values", "body": "<p>I have the dataframe below.  I would like to create a column for every value in the categories column, (example: Sandwhiches, Restaurants...)  The column would have a 0 or 1 indicating whether the record had the value.  Is this something I could do with getdummies or is there another way someone could suggest?</p>\n\n<p>Code:</p>\n\n<pre><code>print df1[1:3]\n</code></pre>\n\n<p>Sample Data:</p>\n\n<pre><code>                    address  \\\n4             4719 N 20Th St   \n14  9616 E Independence Blvd   \n\n                                           attributes             business_id  \\\n4   {u'GoodForMeal': {u'dessert': False, u'latenig...  duHFBe87uNSXImQmvBh87Q   \n14  {u'Alcohol': u'full_bar', u'HasTV': True, u'No...  SDMRxmcKPNt1AHPBKqO64Q   \n\n                                           categories      city  \\\n4                           [Sandwiches, Restaurants]   Phoenix   \n14  [Burgers, Bars, Restaurants, Sports Bars, Nigh...  Matthews   \n\n                                                hours  is_open   latitude  \\\n4                                                  {}        0  33.505928   \n14  {u'Monday': u'11:00-0:00', u'Tuesday': u'11:00...        1  35.135196   \n\n     longitude        name neighborhood postal_code  review_count  stars state  \n4  -112.038847     Blimpie                    85016            10    4.5    AZ  \n14  -80.714683  Applebee's                    28105            21    2.0    NC  \n</code></pre>\n\n<p>Update:</p>\n\n<pre><code>testdummies = pd.concat(df1[\"categories\"],pd.get_dummies(df1[\"categories\"]))\ntestdummies.head()\n\nError:\n\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-13-1dae1382c2ba&gt; in &lt;module&gt;()\n      1 # 13) create dummy variables for Categories\n      2 \n----&gt; 3 testdummies = pd.concat(df1[\"categories\"],pd.get_dummies(df1[\"categories\"]))\n      4 testdummies.head()\n\n/Users/anaconda/lib/python2.7/site-packages/pandas/core/reshape.pyc in get_dummies(data, prefix, prefix_sep, dummy_na, columns, sparse, drop_first)\n   1102     else:\n   1103         result = _get_dummies_1d(data, prefix, prefix_sep, dummy_na,\n-&gt; 1104                                  sparse=sparse, drop_first=drop_first)\n   1105     return result\n   1106 \n\n/Users/anaconda/lib/python2.7/site-packages/pandas/core/reshape.pyc in _get_dummies_1d(data, prefix, prefix_sep, dummy_na, sparse, drop_first)\n   1109                     sparse=False, drop_first=False):\n   1110     # Series avoids inconsistent NaN handling\n-&gt; 1111     codes, levels = _factorize_from_iterable(Series(data))\n   1112 \n   1113     def get_empty_Frame(data, sparse):\n\n/Users/anaconda/lib/python2.7/site-packages/pandas/core/categorical.pyc in _factorize_from_iterable(values)\n   2038         codes = values.codes\n   2039     else:\n-&gt; 2040         cat = Categorical(values, ordered=True)\n   2041         categories = cat.categories\n   2042         codes = cat.codes\n\n/Users/anaconda/lib/python2.7/site-packages/pandas/core/categorical.pyc in __init__(self, values, categories, ordered, name, fastpath)\n    288                 codes, categories = factorize(values, sort=True)\n    289             except TypeError:\n--&gt; 290                 codes, categories = factorize(values, sort=False)\n    291                 if ordered:\n    292                     # raise, as we don't have a sortable data structure and so\n\n/Users/anaconda/lib/python2.7/site-packages/pandas/core/algorithms.pyc in factorize(values, sort, order, na_sentinel, size_hint)\n    311     table = hash_klass(size_hint or len(vals))\n    312     uniques = vec_klass()\n--&gt; 313     labels = table.get_labels(vals, uniques, 0, na_sentinel, True)\n    314 \n    315     labels = _ensure_platform_int(labels)\n\npandas/src/hashtable_class_helper.pxi in pandas.hashtable.PyObjectHashTable.get_labels (pandas/hashtable.c:15447)()\n\nTypeError: unhashable type: 'list'\n</code></pre>\n\n<p>Update:</p>\n\n<p>Code:</p>\n\n<pre><code>bus_rev_cat = pd.get_dummies(bus_rev['categories'].apply(pd.Series))\nbus_rev2 = pd.concat([bus_rev,bus_rev_cat],axis=1)\nprint(bus_rev2[1:10])\n\nSample Data:\n\n                  user_id             business_id  stars_x  \\\n1  CxDOIDnH8gp9KXzpBHJYXw  XSiqtcVEsP6dLOL7ZA9OxA        4   \n2  CxDOIDnH8gp9KXzpBHJYXw  v95ot_TNwTk1iJ5n56dR0g        3   \n3  CxDOIDnH8gp9KXzpBHJYXw  uloYxyRAMesZzI99mfNInA        2   \n4  CxDOIDnH8gp9KXzpBHJYXw  gtcsOodbmk4E0TulYHnlHA        4   \n5  CxDOIDnH8gp9KXzpBHJYXw  lOd50CiDJeNWmN_KsvR2rg        3   \n6  CxDOIDnH8gp9KXzpBHJYXw  7hUp4XxmUCGqvPFAM8IJww        3   \n7  CxDOIDnH8gp9KXzpBHJYXw  Ze4VPogvcD7inc3QuvY_yg        2   \n8  CxDOIDnH8gp9KXzpBHJYXw  txAKid34IUd9spo6MLF_Sw        3   \n9  CxDOIDnH8gp9KXzpBHJYXw  oiknQaNH9cGC6UBWC8S_Zg        3   \n\n                  address                                         attributes  \\\n1        522 Yonge Street  {u'BusinessParking': {u'garage': False, u'stre...   \n2     1661 Denison Street  {u'BusinessParking': {u'garage': False, u'stre...   \n3    4101 Rutherford Road  {u'BusinessParking': {u'garage': False, u'stre...   \n4      815 W Bloor Street  {u'Alcohol': u'full_bar', u'HasTV': False, u'N...   \n5         114 Laird Drive  {u'GoodForMeal': {u'dessert': False, u'latenig...   \n6     300 Borough Dr, 215  {u'BusinessParking': {u'garage': False, u'stre...   \n7  5117 Sheppard Avenue E  {u'BusinessParking': {u'garage': False, u'stre...   \n8             205 Main St  {u'BusinessParking': {u'garage': False, u'stre...   \n9       6347 Yonge Street  {u'GoodForMeal': {u'dessert': False, u'latenig...   \n\n                                          categories         city  \\\n1                     [Restaurants, Ramen, Japanese]      Toronto   \n2                    [Chinese, Seafood, Restaurants]      Markham   \n3                             [Italian, Restaurants]   Woodbridge   \n4  [Food, Coffee &amp; Tea, Sandwiches, Cafes, Cockta...      Toronto   \n5                [Japanese, Sushi Bars, Restaurants]    East York   \n6  [Restaurants, Canadian (New), Steakhouses, Ame...  Scarborough   \n7  [Canadian (New), Restaurants, Breakfast &amp; Brunch]      Toronto   \n8             [Italian, Restaurants, Canadian (New)]      Markham   \n9                              [Restaurants, Korean]      Toronto   \n\n                                               hours  is_open   latitude  \\\n1  {u'Monday': u'11:00-22:00', u'Tuesday': u'11:0...        1  43.663689   \n2                                                 {}        0  43.834295   \n3  {u'Monday': u'12:00-22:00', u'Tuesday': u'12:0...        1  43.823486   \n4  {u'Monday': u'12:00-2:00', u'Tuesday': u'12:00...        1  43.662726   \n5  {u'Tuesday': u'17:00-22:00', u'Friday': u'17:0...        0  43.706665   \n6  {u'Monday': u'11:00-0:00', u'Tuesday': u'11:00...        1  43.776146   \n7  {u'Monday': u'0:00-0:00', u'Tuesday': u'0:00-0...        1  43.793599   \n8                                                 {}        1  43.868463   \n9                                                 {}        0  43.796237   \n\n         ...         6_Pizza 6_Restaurants 7_Bars 7_Canadian (New)  7_French  \\\n1        ...               0             0      0                0         0   \n2        ...               0             0      0                0         0   \n3        ...               0             0      0                0         0   \n4        ...               0             0      1                0         0   \n5        ...               0             0      0                0         0   \n6        ...               0             0      0                0         0   \n7        ...               0             0      0                0         0   \n8        ...               0             0      0                0         0   \n9        ...               0             0      0                0         0   \n\n   7_Restaurants 8_Mediterranean 8_Nightlife  8_Southern  8_Specialty Food  \n1              0               0           0           0                 0  \n2              0               0           0           0                 0  \n3              0               0           0           0                 0  \n4              0               0           1           0                 0  \n5              0               0           0           0                 0  \n6              0               0           0           0                 0  \n7              0               0           0           0                 0  \n8              0               0           0           0                 0  \n9              0               0           0           0                 0  \n\n[9 rows x 149 columns]\n</code></pre>\n"}, {"tags": ["python", "itertools"], "comments": [{"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 1, "creation_date": 1508960935, "post_id": 46940868, "comment_id": 80829072, "body": "You mean like <code>first_item = next(g)</code> ?"}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 1, "creation_date": 1508961116, "post_id": 46940868, "comment_id": 80829179, "body": "As a note - since you&#39;re importing <code>itemgetter</code> anyway for use in the <code>groupby</code> you may as well use it in the sort. You can replace <code>key=lambda x: (x[2], x[0])</code> with <code>key=itemgetter(2, 0)</code>."}, {"owner": {"reputation": 12178, "user_id": 1388292, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mfJ7p.jpg?s=128&g=1", "display_name": "Jacques Gaudin", "link": "https://stackoverflow.com/users/1388292/jacques-gaudin"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1508961606, "post_id": 46940868, "comment_id": 80829424, "body": "@JonClements Sure, in the real code I have <code>x[0].lower()</code>, that&#39;s why."}], "answers": [{"comments": [{"owner": {"reputation": 12178, "user_id": 1388292, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mfJ7p.jpg?s=128&g=1", "display_name": "Jacques Gaudin", "link": "https://stackoverflow.com/users/1388292/jacques-gaudin"}, "edited": false, "score": 0, "creation_date": 1508961237, "post_id": 46940938, "comment_id": 80829233, "body": "Gosh, that&#39;s what I tried first but for some reason I had another bug that made me think it was more complicated than that! Thanks for saving my time!"}], "tags": [], "owner": {"reputation": 15724, "user_id": 5754656, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7jfX3.png?s=128&g=1", "display_name": "Artyer", "link": "https://stackoverflow.com/users/5754656/artyer"}, "is_accepted": true, "score": 1, "last_activity_date": 1508960887, "creation_date": 1508960887, "answer_id": 46940938, "question_id": 46940868, "link": "https://stackoverflow.com/questions/46940868/how-do-i-treat-the-first-item-in-a-group-created-by-groupby-separately/46940938#46940938", "title": "How do I treat the first item in a group created by groupby separately?", "body": "<p>Since it's just an iterator, use <code>next</code> to get the next value, and then the first item is consumed (So it won't show up in the for loop.)</p>\n\n<pre><code>for k, g in groupby(documents, itemgetter(2)):\n    first_item = next(g)\n    print(first_item[0], 'came first.')\n    for doc in g:\n        print(doc[0], 'came after')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 416, "user_id": 8083313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Yccj8411fq4/AAAAAAAAAAI/AAAAAAAAABQ/_spgDPt7188/photo.jpg?sz=128", "display_name": "shouldsee", "link": "https://stackoverflow.com/users/8083313/shouldsee"}, "is_accepted": false, "score": 1, "last_activity_date": 1508961013, "creation_date": 1508961013, "answer_id": 46940967, "question_id": 46940868, "link": "https://stackoverflow.com/questions/46940868/how-do-i-treat-the-first-item-in-a-group-created-by-groupby-separately/46940967#46940967", "title": "How do I treat the first item in a group created by groupby separately?", "body": "<p>g is an iterator, and python iterator by default has an <code>.__next__()</code> method. This can be viewed using help(g).</p>\n\n<p>Anyway, the code will be like:</p>\n\n<pre><code>for k, g in groupby(documents, itemgetter(2)):\n    first_item = next(g)  ###  = g.__next__()  will do the same job.\n    print(first_item[0], 'came first.')\n    for doc in g:\n        print(doc[0], 'came after')\n</code></pre>\n\n<p>General guide on iterator/generator: <a href=\"http://anandology.com/python-practice-book/iterators.html\" rel=\"nofollow noreferrer\">http://anandology.com/python-practice-book/iterators.html</a></p>\n"}], "owner": {"reputation": 12178, "user_id": 1388292, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mfJ7p.jpg?s=128&g=1", "display_name": "Jacques Gaudin", "link": "https://stackoverflow.com/users/1388292/jacques-gaudin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 1, "accepted_answer_id": 46940938, "answer_count": 2, "score": 1, "last_activity_date": 1508961709, "creation_date": 1508960634, "last_edit_date": 1508961709, "question_id": 46940868, "link": "https://stackoverflow.com/questions/46940868/how-do-i-treat-the-first-item-in-a-group-created-by-groupby-separately", "title": "How do I treat the first item in a group created by groupby separately?", "body": "<p>I have a list of tuples <code>(name, path, ref)</code> which is sorted and I am using <code>itertools.groupby</code> to group them by <code>ref</code>. </p>\n\n<p>I am trying to do something different for the first item of each group. </p>\n\n<p>The code goes like this:</p>\n\n<pre><code>from itertools import groupby\nfrom operator import itemgetter\n\ndocs = [('foo', '.', 'ref2'), ('bar', '.', 'ref2'), ('baz', '.', 'ref1')]\ndocs = sorted(docs, key=lambda x: (x[2], x[0]))\nfor k, g in groupby(documents, itemgetter(2)):\n    grouped_docs = list(g)\n    print(grouped_docs[0][0], 'came first.')\n    for doc in grouped_docs[1:]:\n        print(doc[0], 'came after')\n</code></pre>\n\n<p>This works but I have to convert <code>g</code> to a list and then slice it. </p>\n\n<p>Is there a way to get the first item of <code>g</code> and then iterate through the rest of the generator without using a list?</p>\n\n<p>Something like: </p>\n\n<pre><code>for k, g in groupby(docs, itemgetter(2)):\n    first_item = &lt;*magic*&gt;(g)\n    print(first_item[0], 'came first.')\n    for doc in g:\n        print(doc[0], 'came after')\n</code></pre>\n"}]