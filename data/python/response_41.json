[{"tags": ["python", "tree", "nodes"], "comments": [{"owner": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "edited": false, "score": 0, "creation_date": 1445472096, "post_id": 33271259, "comment_id": 54343554, "body": "This should be obvious from your error, but you are taking the <code>max</code> of an empty list. You should check whether <code>heights</code> is empty and return 0 if it is."}, {"owner": {"reputation": 773, "user_id": 5407287, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49bdb5440d34f0cb4b0ad6c117e8a04e?s=128&d=identicon&r=PG&f=1", "display_name": "LivingRobot", "link": "https://stackoverflow.com/users/5407287/livingrobot"}, "reply_to_user": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "edited": false, "score": 0, "creation_date": 1445472288, "post_id": 33271259, "comment_id": 54343612, "body": "I&#39;m really wondering why heights is empty. Why isn&#39;t it adding the given things to heights? I know for certain that Children() and OrdRoot() work, and that I&#39;m using a valid node and tree."}, {"owner": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "edited": false, "score": 0, "creation_date": 1445473050, "post_id": 33271259, "comment_id": 54343796, "body": "If your node is a leaf node, it has no children."}], "answers": [{"comments": [{"owner": {"reputation": 773, "user_id": 5407287, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49bdb5440d34f0cb4b0ad6c117e8a04e?s=128&d=identicon&r=PG&f=1", "display_name": "LivingRobot", "link": "https://stackoverflow.com/users/5407287/livingrobot"}, "edited": false, "score": 0, "creation_date": 1445472495, "post_id": 33271286, "comment_id": 54343662, "body": "It isn&#39;t a binary tree. Therefore, I don&#39;t really have a left or a right."}], "tags": [], "owner": {"reputation": 2406, "user_id": 4089859, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fad1d93d6c12fcf85e212af3eab0de99?s=128&d=identicon&r=PG&f=1", "display_name": "user 12321", "link": "https://stackoverflow.com/users/4089859/user-12321"}, "is_accepted": false, "score": 0, "last_activity_date": 1445472883, "last_edit_date": 1445472883, "creation_date": 1445472222, "answer_id": 33271286, "question_id": 33271259, "link": "https://stackoverflow.com/questions/33271259/returning-the-height-of-a-node-in-an-ordered-tree-in-python/33271286#33271286", "title": "Returning the height of a node in an ordered tree in Python", "body": "<pre><code>heights = []\n\ndef height(t, level=0):\n    if not t.children:\n        heights.append(level)\n    else:\n        for c in t.children:\n            height(c, level+1) \n    return max(heights)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1445472828, "creation_date": 1445472828, "answer_id": 33271369, "question_id": 33271259, "link": "https://stackoverflow.com/questions/33271259/returning-the-height-of-a-node-in-an-ordered-tree-in-python/33271369#33271369", "title": "Returning the height of a node in an ordered tree in Python", "body": "<p>I'd love to test this for you, but you've omitted the tree class.  Is it a standard package of some sort?</p>\n\n<pre><code>else:\n    return max([Height(x, T) for x in Children(node, T)])\n</code></pre>\n\n<p>If you have a large tree, it might work even better to replace the list with a generator comprehension (change the brackets to parentheses).</p>\n"}], "owner": {"reputation": 773, "user_id": 5407287, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49bdb5440d34f0cb4b0ad6c117e8a04e?s=128&d=identicon&r=PG&f=1", "display_name": "LivingRobot", "link": "https://stackoverflow.com/users/5407287/livingrobot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1445472883, "creation_date": 1445471987, "last_edit_date": 1445472212, "question_id": 33271259, "link": "https://stackoverflow.com/questions/33271259/returning-the-height-of-a-node-in-an-ordered-tree-in-python", "title": "Returning the height of a node in an ordered tree in Python", "body": "<p>I'm new to Python and am trying to return the height of a node in an ordered tree in python. Here is the code I have:</p>\n\n<pre><code>def Height(node, T):\n    if Is_OrdLeaf(T) and node == OrdRoot(T):\n        return 0\n    else:\n        heights = []\n        for x in Children(node, T):\n            heights += [Height(x, T) + 1]\n        return max(heights)\n</code></pre>\n\n<p>But, when I run this code with a tree I get </p>\n\n<blockquote>\n  <p>ValueError: max() arg is an empty sequence</p>\n</blockquote>\n\n<p>All of the called functions work and therefore, heights shouldn't be empty. What's wrong?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1445471660, "post_id": 33271212, "comment_id": 54343435, "body": "You&#39;ll need to test the value of each variable, then call <code>.format()</code>."}, {"owner": {"reputation": 11378, "user_id": 701435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f482e288611253fec37cd19645b9006b?s=128&d=identicon&r=PG", "display_name": "Dan H", "link": "https://stackoverflow.com/users/701435/dan-h"}, "edited": false, "score": 0, "creation_date": 1445513147, "post_id": 33271212, "comment_id": 54360111, "body": "What Python &quot;should&quot; do is print the string representation of each value.  Since <code>str{None)</code> is <code>&quot;None&quot;</code>... Python is doing what it &quot;should&quot;!"}, {"owner": {"reputation": 7268, "user_id": 1807569, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kv1x6.jpg?s=128&g=1", "display_name": "elad silver", "link": "https://stackoverflow.com/users/1807569/elad-silver"}, "edited": false, "score": 0, "creation_date": 1548865977, "post_id": 33271212, "comment_id": 95699677, "body": "I was hoping for a solution that looks like this <code>&quot;number {default:4}&quot;.format(number)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 1, "last_activity_date": 1445513614, "last_edit_date": 1445513614, "creation_date": 1445471833, "answer_id": 33271233, "question_id": 33271212, "link": "https://stackoverflow.com/questions/33271212/make-string-format-ignore-none/33271233#33271233", "title": "Make string format ignore &#39;None&#39;", "body": "<pre><code>def none_to_empty(s):\n    return \"\" if s is None else s\n\ndef format_without_nones(format_string, *args):\n    return format_string.format(*map(none_to_empty, args))\n\nformat_without_nones(\"{} {}\", foo, bar)\n</code></pre>\n\n<p>Look up varargs and the map function if you don't understand how <code>format_without_nones</code> works. It's just equivalent to saying</p>\n\n<pre><code>\"{} {}\".format(none_to_empty(foo), none_to_empty(bar))\n</code></pre>\n\n<p>which doesn't look as pretty since you might have to repeat <code>none_to_empty</code> a lot of time. But <code>none_to_empty</code> can also be used directly if you only want to apply it to some arguments but let <code>None</code> appear for others, e.g.:</p>\n\n<pre><code>\"{} {}\".format(foo, none_to_empty(bar))\n</code></pre>\n\n<p>which is still nicer than having <code>\"\" if bar is None else bar</code> for every single <code>bar</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "is_accepted": false, "score": 10, "last_activity_date": 1445513853, "last_edit_date": 1445513853, "creation_date": 1445471868, "answer_id": 33271237, "question_id": 33271212, "link": "https://stackoverflow.com/questions/33271212/make-string-format-ignore-none/33271237#33271237", "title": "Make string format ignore &#39;None&#39;", "body": "<p>If you are assigning <code>None</code> to your variable, you will have to set some kind of condition around controlling what output you want. Here is a simple example: </p>\n\n<pre><code>\"{} {}\".format(foo, \"\" if bar is None else bar)\n</code></pre>\n\n<p>Another way of looking at the above that behaves the same way, is writing it this way as well: </p>\n\n<pre><code>\"{} {}\".format(foo, bar if bar is not None else \"\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 1, "creation_date": 1445471991, "post_id": 33271249, "comment_id": 54343524, "body": "Fails if <code>bar is False</code>"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1445471991, "post_id": 33271249, "comment_id": 54343525, "body": "I don&#39;t think you can monkey patch the <code>__str__</code> of python&#39;s builtin string class..."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1445475770, "post_id": 33271249, "comment_id": 54344491, "body": "@mgilson Indeed you can&#39;t.  My mistake."}], "tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": -6, "last_activity_date": 1445511648, "last_edit_date": 1445511648, "creation_date": 1445471945, "answer_id": 33271249, "question_id": 33271212, "link": "https://stackoverflow.com/questions/33271212/make-string-format-ignore-none/33271249#33271249", "title": "Make string format ignore &#39;None&#39;", "body": "<p>I don't think there's a way to do it automatically, you could do this:</p>\n\n<pre><code>\"{} {}\".format(foo, bar or \"\")\n</code></pre>\n"}], "owner": {"reputation": 1548, "user_id": 1122229, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cea79f9c2f47da1d19a38f028318821a?s=128&d=identicon&r=PG&f=1", "display_name": "Algorithmatic", "link": "https://stackoverflow.com/users/1122229/algorithmatic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3510, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1445513853, "creation_date": 1445471566, "last_edit_date": 1445511852, "question_id": 33271212, "link": "https://stackoverflow.com/questions/33271212/make-string-format-ignore-none", "title": "Make string format ignore &#39;None&#39;", "body": "<p>Is there a way in python such that when you do</p>\n\n<pre><code>foo = \"foo\"\nbar = None\n\"{} {}\".format(foo, bar)\n</code></pre>\n\n<p>it doesn't print None as the value of bar?</p>\n\n<p>ie. It should result in <code>\"foo \"</code> and not <code>\"foo None\"</code></p>\n"}, {"tags": ["python", "algorithm", "numpy", "random", "graph-theory"], "comments": [{"owner": {"reputation": 11908, "user_id": 586880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773332bfee8105f9738c50c0f89c9242?s=128&d=identicon&r=PG", "display_name": "Diego Basch", "link": "https://stackoverflow.com/users/586880/diego-basch"}, "edited": false, "score": 0, "creation_date": 1445471776, "post_id": 33271172, "comment_id": 54343462, "body": "What you want is mathematically impossible. You have 36 numbers and only 35 &quot;followings.&quot;"}, {"owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "reply_to_user": {"reputation": 11908, "user_id": 586880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773332bfee8105f9738c50c0f89c9242?s=128&d=identicon&r=PG", "display_name": "Diego Basch", "link": "https://stackoverflow.com/users/586880/diego-basch"}, "edited": false, "score": 0, "creation_date": 1445471877, "post_id": 33271172, "comment_id": 54343489, "body": "Is there a minimum array length that will allow this? Or will we always be 1 short?"}, {"owner": {"reputation": 11908, "user_id": 586880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773332bfee8105f9738c50c0f89c9242?s=128&d=identicon&r=PG", "display_name": "Diego Basch", "link": "https://stackoverflow.com/users/586880/diego-basch"}, "edited": false, "score": 1, "creation_date": 1445471947, "post_id": 33271172, "comment_id": 54343514, "body": "The first number follows nothing, so you are one short by definition of following. If you consider your list to be circular then it&#39;s possible."}, {"owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "reply_to_user": {"reputation": 11908, "user_id": 586880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773332bfee8105f9738c50c0f89c9242?s=128&d=identicon&r=PG", "display_name": "Diego Basch", "link": "https://stackoverflow.com/users/586880/diego-basch"}, "edited": false, "score": 0, "creation_date": 1445472531, "post_id": 33271172, "comment_id": 54343678, "body": "makes sense, Im OK making the circular assumption for the purposes of this question"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1445473070, "post_id": 33271172, "comment_id": 54343802, "body": "Use the permutations operator to generate all 36 possibilities?  Do you need them to still be in a random order?  If so, then you&#39;ll have to write the &quot;shuffle&quot; function; this isn&#39;t a built-in capabilit."}, {"owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "edited": false, "score": 0, "creation_date": 1445474444, "post_id": 33271172, "comment_id": 54344125, "body": "The primary constraint is the equality. After ensuring equality, I would like the order to be as random as possible yes, assuming there is more than 1 unique solution to this problem"}], "answers": [{"tags": [], "owner": {"reputation": 1304, "user_id": 3892542, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53edd158f1ce6e6d46a987793dbd7342?s=128&d=identicon&r=PG&f=1", "display_name": "clwainwright", "link": "https://stackoverflow.com/users/3892542/clwainwright"}, "is_accepted": true, "score": 3, "last_activity_date": 1445487875, "last_edit_date": 1445487875, "creation_date": 1445487439, "answer_id": 33273337, "question_id": 33271172, "link": "https://stackoverflow.com/questions/33271172/numpy-array-item-order-equal-distribution-of-sequences/33273337#33273337", "title": "Numpy array item order - equal distribution of sequences", "body": "<p>Here's the best that I can come up with. Note that with 36 numbers each number must follow each other number exactly once.</p>\n\n<pre><code>while True:\n    x = {i: set(range(1,7)) for i in range(1,7)}\n\n    a = [random.choice(range(1,7))]  # start with a random number\n    last = a[-1]\n    while x[last]:\n        next = random.choice(list(x[last]))\n        x[last].remove(next)\n        a.append(next)\n        last = next\n\n    if len(a) == 37:\n        # We get to length 37 if and only if each set above is exhausted.\n        # In this case, the first item will always equal the last item\n        # (proof left as an exercise for the reader), so remove it.\n        a = a[:-1]\n        break\n\nprint(''.join(str(i) for i in a))\n</code></pre>\n\n<p>which for me, produces <code>221164425231355145433465615366263241</code> which seems to satisfy the criteria.</p>\n"}], "owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 2, "accepted_answer_id": 33273337, "answer_count": 1, "score": 4, "last_activity_date": 1445515762, "creation_date": 1445471221, "last_edit_date": 1445515762, "question_id": 33271172, "link": "https://stackoverflow.com/questions/33271172/numpy-array-item-order-equal-distribution-of-sequences", "title": "Numpy array item order - equal distribution of sequences", "body": "<p>Lets say I have a shuffled numpy array:</p>\n\n<pre><code>a = np.array([1,2,3,4,5,6]*6)\nnp.random.shuffle(a)\n</code></pre>\n\n<p>How do I ensure that each item in the shuffled array follows each other item an equal number of times?</p>\n\n<p>For example, I want to ensure that the number 1 follows the number 2 in the array the same number of times as it follows the number 4. Likewise for all other numbers</p>\n\n<p>We can assume that the list is circular for this problem, i.e., the first item follows the last</p>\n\n<p>Normally I'd post some code of what I've tried but I'm at a loss when it comes to this.</p>\n\n<p>The most inefficient way I can think of is to write a function that counts how many times a number follows another number, and then to check that all counts are equal. If not, reshuffle. </p>\n\n<p>But this doesn't guarantee that I'll ever end up with a list that meets the equal distribution criteria.</p>\n"}, {"tags": ["python", "pandas", "group-by", "dataframe"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 1, "creation_date": 1529935347, "post_id": 33271098, "comment_id": 89043093, "body": "Note on performance, including alternatives: <a href=\"https://stackoverflow.com/questions/50328246/pandas-groupby-size-vs-series-value-counts-vs-collections-counter-with-multiple\">Pandas groupby.size vs series.value_counts vs collections.Counter with multiple series</a>"}], "answers": [{"comments": [{"owner": {"reputation": 653, "user_id": 3339201, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6e4d0d427033af267ad7e3b3cc3799ff?s=128&d=identicon&r=PG&f=1", "display_name": "Dileep Kumar Patchigolla", "link": "https://stackoverflow.com/users/3339201/dileep-kumar-patchigolla"}, "edited": false, "score": 7, "creation_date": 1513600840, "post_id": 33271634, "comment_id": 82702412, "body": "Thanks. One minor addition to pick the top k (=20) values based on the frequency (&quot;Time&quot;):      df.groupby([&quot;Group&quot;, &quot;Size&quot;]).size().reset_index(name=&quot;Time&quot;).sort_values(by=&#39;Tim&zwnj;&#8203;e&#39;,ascending=False).&zwnj;&#8203;head(20);"}, {"owner": {"reputation": 6274, "user_id": 1668293, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/ypdRN.jpg?s=128&g=1", "display_name": "alemol", "link": "https://stackoverflow.com/users/1668293/alemol"}, "edited": false, "score": 1, "creation_date": 1574529258, "post_id": 33271634, "comment_id": 104268292, "body": "Just notice that using <code>.size()</code> will returns Series while <code>.size().reset_index(name=&quot;Time&quot;)</code> is a DataFrame. Thanks Andy."}, {"owner": {"reputation": 865, "user_id": 11814996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e60d3ffd14f3dcf31b1e2e94ca84572?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Kumar", "link": "https://stackoverflow.com/users/11814996/naveen-kumar"}, "edited": false, "score": 0, "creation_date": 1587788285, "post_id": 33271634, "comment_id": 108653395, "body": "or you could also do <code>df.groupby(by=[&quot;Group&quot;, &quot;Size&quot;], as_index=False).size()</code> simply"}], "tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": true, "score": 155, "last_activity_date": 1445474690, "creation_date": 1445474690, "answer_id": 33271634, "question_id": 33271098, "link": "https://stackoverflow.com/questions/33271098/python-get-a-frequency-count-based-on-two-columns-variables-in-pandas-datafra/33271634#33271634", "title": "Python: get a frequency count based on two columns (variables) in pandas dataframe some row appers", "body": "<p>You can use groupby's <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.size.html\"><code>size</code></a>:</p>\n\n<pre><code>In [11]: df.groupby([\"Group\", \"Size\"]).size()\nOut[11]:\nGroup     Size\nModerate  Medium    1\n          Small     1\nShort     Small     2\nTall      Large     1\ndtype: int64\n\nIn [12]: df.groupby([\"Group\", \"Size\"]).size().reset_index(name=\"Time\")\nOut[12]:\n      Group    Size  Time\n0  Moderate  Medium     1\n1  Moderate   Small     1\n2     Short   Small     2\n3      Tall   Large     1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3051, "user_id": 1430829, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ea83bfdd65dd51af719ed212887b25e3?s=128&d=identicon&r=PG", "display_name": "Matt Hancock", "link": "https://stackoverflow.com/users/1430829/matt-hancock"}, "edited": false, "score": 7, "creation_date": 1498592597, "post_id": 43814116, "comment_id": 76557985, "body": "nice. you can even add <code>margins=True</code> to get the marginal counts!"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 59, "last_activity_date": 1602681310, "last_edit_date": 1602681310, "creation_date": 1494020399, "answer_id": 43814116, "question_id": 33271098, "link": "https://stackoverflow.com/questions/33271098/python-get-a-frequency-count-based-on-two-columns-variables-in-pandas-datafra/43814116#43814116", "title": "Python: get a frequency count based on two columns (variables) in pandas dataframe some row appers", "body": "<p><em><strong>Update</strong></em> after pandas 1.1 <code>value_counts</code> now accept multiple columns</p>\n<pre><code>df.value_counts([&quot;Group&quot;, &quot;Size&quot;])\n</code></pre>\n<hr />\n<p>You can also try <code>pd.crosstab()</code></p>\n<pre><code>Group           Size\n\nShort          Small\nShort          Small\nModerate       Medium\nModerate       Small\nTall           Large\n\npd.crosstab(df.Group,df.Size)\n\n\nSize      Large  Medium  Small\nGroup                         \nModerate      0       1      1\nShort         0       0      2\nTall          1       0      0\n</code></pre>\n<hr />\n<p>EDIT: In order to get your out put</p>\n<pre><code>pd.crosstab(df.Group,df.Size).replace(0,np.nan).\\\n     stack().reset_index().rename(columns={0:'Time'})\nOut[591]: \n      Group    Size  Time\n0  Moderate  Medium   1.0\n1  Moderate   Small   1.0\n2     Short   Small   2.0\n3      Tall   Large   1.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 509, "user_id": 13103923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fvn4j.jpg?s=128&g=1", "display_name": "asantz96", "link": "https://stackoverflow.com/users/13103923/asantz96"}, "is_accepted": false, "score": 2, "last_activity_date": 1596733400, "creation_date": 1596733400, "answer_id": 63288494, "question_id": 33271098, "link": "https://stackoverflow.com/questions/33271098/python-get-a-frequency-count-based-on-two-columns-variables-in-pandas-datafra/63288494#63288494", "title": "Python: get a frequency count based on two columns (variables) in pandas dataframe some row appers", "body": "<p>Other posibbility is using <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.pivot_table.html\" rel=\"nofollow noreferrer\"><code>.pivot_table()</code></a> and <code>aggfunc='size'</code></p>\n<pre><code>df_solution = df.pivot_table(index=['Group','Size'], aggfunc='size')\n</code></pre>\n"}], "owner": {"reputation": 4457, "user_id": 3590067, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100003877435114/picture?type=large", "display_name": "emax", "link": "https://stackoverflow.com/users/3590067/emax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105049, "favorite_count": 34, "accepted_answer_id": 33271634, "answer_count": 3, "score": 102, "last_activity_date": 1615227892, "creation_date": 1445470883, "last_edit_date": 1551944929, "question_id": 33271098, "link": "https://stackoverflow.com/questions/33271098/python-get-a-frequency-count-based-on-two-columns-variables-in-pandas-datafra", "title": "Python: get a frequency count based on two columns (variables) in pandas dataframe some row appers", "body": "<p>Hello I have the following dataframe.   </p>\n\n<pre><code>    Group           Size\n\n    Short          Small\n    Short          Small\n    Moderate       Medium\n    Moderate       Small\n    Tall           Large\n</code></pre>\n\n<p>I want to count the frequency of how many time the same row appears in the dataframe.</p>\n\n<pre><code>    Group           Size      Time\n\n    Short          Small        2\n    Moderate       Medium       1 \n    Moderate       Small        1\n    Tall           Large        1\n</code></pre>\n"}, {"tags": ["python", "static-methods", "python-decorators"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 1884882, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9483688b34afbc823e9fdc837875f20?s=128&d=identicon&r=PG", "display_name": "tywtyw2002", "link": "https://stackoverflow.com/users/1884882/tywtyw2002"}, "edited": false, "score": 0, "creation_date": 1445496210, "post_id": 33272070, "comment_id": 54350237, "body": "plz see this code <a href=\"https://gist.github.com/tywtyw2002/c885bd917430e0563288\" rel=\"nofollow noreferrer\">gist.github.com/tywtyw2002/c885bd917430e0563288</a>, why <code>C</code> print <code>do_p2do2 do</code> instead of <code>s do</code>. I want to the code like this if have decorator change the string with the argument in decorator, without decorator the string should remind the default value."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 157, "user_id": 1884882, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9483688b34afbc823e9fdc837875f20?s=128&d=identicon&r=PG", "display_name": "tywtyw2002", "link": "https://stackoverflow.com/users/1884882/tywtyw2002"}, "edited": false, "score": 0, "creation_date": 1445540173, "post_id": 33272070, "comment_id": 54377063, "body": "The problem is the class along with its static method are effectively global variables, and when you change the latter with <code>functools.partial()</code>, the last value assigned is used by all subsequent calls to it. If I come up with a solution I will update my answer."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 157, "user_id": 1884882, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9483688b34afbc823e9fdc837875f20?s=128&d=identicon&r=PG", "display_name": "tywtyw2002", "link": "https://stackoverflow.com/users/1884882/tywtyw2002"}, "edited": false, "score": 0, "creation_date": 1445711852, "post_id": 33272070, "comment_id": 54441574, "body": "See latest update which I think may accomplish what you want to do."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 1, "last_activity_date": 1445711767, "last_edit_date": 1445711767, "creation_date": 1445477971, "answer_id": 33272070, "question_id": 33271062, "link": "https://stackoverflow.com/questions/33271062/how-to-use-decorator-to-bind-a-argument-to-a-staticmethod-function/33272070#33272070", "title": "How to use decorator to bind a argument to a staticmethod function?", "body": "<p><em></em></p>\n\n<p>Here's an slightly different answer based on the <a href=\"https://gist.github.com/tywtyw2002/c885bd917430e0563288\" rel=\"nofollow\">gist.github.com code</a> linked to in your comment (which appears to be based on the first version of my answer).</p>\n\n<p>As I said initially, it sounds to me like what you need to do is make <code>wrapper()</code> a <em>decorator factory</em> function rather than a decorator itself \u2014 in other words make it a function that creates and returns a decorator based on its argument(s). </p>\n\n<p>As mentioned in my response to your comment, the problem is that <code>Prof.do</code> staticmethod is essentially a global variable, and if the wrapped function changes it, this will affect all subsequent calls to it \u2014 which is the root cause of your problem.</p>\n\n<p>A workaround is to make the <code>wrapped()</code> function the decorator creates save the value of <code>Prof.do</code> before calling the decorated function, and then restore it afterward, so the changes only affect calls to the function made though it. This prevents what it does to <code>Prof.do</code> from messing up other calls to it in other wrapped functions that may be created. It also prevents the accumulation of their effects.</p>\n\n<p>I've encapsulated the changing and restoring the staticmethod by putting it in a <a href=\"https://docs.python.org/2/library/contextlib.html?highlight=contextmanager#contextlib.contextmanager\" rel=\"nofollow\">contextmanager</a> helper function. One downside of needing to do this is that it increases the amount of overhead involved to make calls to the wrapped function.</p>\n\n<pre><code>import contextlib\nimport functools\n\nclass Prof(object):\n    def __init__(self, p='s'):\n        self.p = p\n\n    @staticmethod\n    def do(x, obj=None):\n        if obj is None:\n            obj = Prof()\n        obj.dprint(x)\n        print\n\n    def dprint(self, x):\n        print self.p, x\n        self.p += x\n\ndef wrapper(st):\n    @contextlib.contextmanager\n    def prof_context(obj):  # could also be defined outside of wrapper function\n        # save current staticmethod and replace it with partial below\n        saved_method, Prof.do = Prof.do, functools.partial(Prof.do, obj=obj)\n        yield\n        # undo staticmethod modification\n        Prof.do = staticmethod(saved_method)\n\n    def decorator(fn):\n        @functools.wraps(fn)\n        def wrapped():\n            obj = Prof(st)\n            print 'current: obj.p is %r' % obj.p\n            with prof_context(obj):\n                fn()\n\n        return wrapped\n\n    return decorator\n\ndef do_p():\n    Prof.do('do')\n\n@wrapper('do_p2')\ndef do_p2():\n    Prof.do('do2')\n\nprint '#A do_p():'\ndo_p()\nprint '#B do_p2():'\ndo_p2()\nprint '#C do_p():'\ndo_p()\nprint '#D do_p2():'\ndo_p2()\nprint '#E do_p():'\ndo_p()\nprint '#F do_p():'\ndo_p()\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#A do_p():\ns do\n\n#B do_p2():\ncurrent: obj.p is 'do_p2'\ndo_p2 do2\n\n#C do_p():\ns do\n\n#D do_p2():\ncurrent: obj.p is 'do_p2'\ndo_p2 do2\n\n#E do_p():\ns do\n\n#F do_p():\ns do\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 1884882, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9483688b34afbc823e9fdc837875f20?s=128&d=identicon&r=PG", "display_name": "tywtyw2002", "link": "https://stackoverflow.com/users/1884882/tywtyw2002"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 33272070, "answer_count": 1, "score": 1, "last_activity_date": 1445711767, "creation_date": 1445470655, "question_id": 33271062, "link": "https://stackoverflow.com/questions/33271062/how-to-use-decorator-to-bind-a-argument-to-a-staticmethod-function", "title": "How to use decorator to bind a argument to a staticmethod function?", "body": "<p>My problem is look like below:</p>\n\n<pre><code>class foo(obj):\n\n    def __init__(self, st='123'):\n       self.st = st\n\n    def process(self, x):\n       self.st += x\n\n    @staticmethod\n    def do_foo(x, myfoo=None):\n        if myfoo is None:\n           myfoo = foo()\n        myfoo.process(x)\n\ndef wrapper(fn, st):\n\n    foo_func = foo(st)\n    foo.do_foo = functools.partial(foo.do_foo, myfoo=foo_func)\n    fn()\n    print foo_func.st\n\n    return wrap\n\n@wrapper('stst')\ndef pro():\n    foo.do_foo('double')\n\ndef pro2():\n    foo.do_foo('double')\n\npro2()   # &lt;--- normal foo.do_foo\npro()    # &lt;--- partialed foo.do_foo\npro2()   # &lt;--- partialed foo.do_foo\n</code></pre>\n\n<p>I want to create <code>wrapper</code> decorator to wrapper the staticmethod <code>foo.do_foo</code> with customize <code>foo</code> class, and after the <code>pro()</code> executed, this decorator be able to across the foo object to do some job. ie save the variable value. </p>\n\n<p>How every, in upper code, the wrapper change the <code>foo.do_foo</code> forever globally, not just change it in the decorator scope. </p>\n\n<p>So how to just let <code>foo.do_foo</code> only changed in the decorator scope not global?</p>\n"}, {"tags": ["python", "mongodb", "datetime", "mongodb-query", "pymongo"], "answers": [{"tags": [], "owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "is_accepted": true, "score": 2, "last_activity_date": 1568904104, "last_edit_date": 1568904104, "creation_date": 1445481608, "answer_id": 33272517, "question_id": 33271060, "link": "https://stackoverflow.com/questions/33271060/select-based-on-timestamp-and-update-timestamp-with-zero/33272517#33272517", "title": "Select based on timestamp and update timestamp with zero", "body": "<p>The best way to update your documents and <a href=\"https://docs.mongodb.org/manual/reference/operator/update/set/\" rel=\"nofollow noreferrer\"><code>set</code></a> the time to <code>00:00:00</code> is using the <a href=\"https://docs.python.org/3.5/library/datetime.html#module-datetime\" rel=\"nofollow noreferrer\">datetime</a> module, because <code>createdDate</code> is a <a href=\"https://docs.python.org/3.5/library/datetime.html#datetime-objects\" rel=\"nofollow noreferrer\">datetime object</a> in Python, so you can use the <code>datetime</code> instance attributes <a href=\"https://docs.python.org/3.5/library/datetime.html#datetime.datetime.day\" rel=\"nofollow noreferrer\"><code>day</code></a>, <a href=\"https://docs.python.org/3.5/library/datetime.html#datetime.datetime.year\" rel=\"nofollow noreferrer\"><code>year</code></a>, and <a href=\"https://docs.python.org/3.5/library/datetime.html#module-datetime\" rel=\"nofollow noreferrer\"><code>month</code></a>.</p>\n\n<pre><code>from datetime import datetime\n\nfrom pymongo import MongoClient\n\nclient = MongoClient()\ndb = client.test\ncollection = db.collection\nbulkOp = collection.initialize_ordered_bulk_op()\ncount = 0\nfor doc in collection.find():\n    year = doc['createdDate'].year\n    month = doc['createdDate'].month\n    day = doc['createdDate'].day\n    new_date = datetime(year, month, day)\n    bulkOp.find({'_id': doc['_id']}).update({'$set': {'createdDate': new_date}})\n    count = count + 1\n    if count == 125:\n        bulkOp.execute()\n        bulkOp = collection.initialize_ordered_bulk_op()\n\nif count % 125 != 0:\n   bulkOp.execute()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 4, "last_activity_date": 1446409471, "last_edit_date": 1446409471, "creation_date": 1445502324, "answer_id": 33276464, "question_id": 33271060, "link": "https://stackoverflow.com/questions/33271060/select-based-on-timestamp-and-update-timestamp-with-zero/33276464#33276464", "title": "Select based on timestamp and update timestamp with zero", "body": "<p><code>ISODate()</code> is represented as a <code>datetime</code> object by PyMongo.  MongoDB assumes that dates and times are in UTC. There are several ways to get midnight (start of a day) for a given UTC time <code>d</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from datetime import datetime, time, timedelta\n&gt;&gt;&gt; d = datetime(2015, 10, 13, 1, 4, 30, 515000)\n&gt;&gt;&gt; datetime(d.year, d.month, d.day) # @user3100115' answer\ndatetime.datetime(2015, 10, 13, 0, 0)   # 369 ns\n&gt;&gt;&gt; datetime.fromordinal(d.toordinal()) # 451 ns\ndatetime.datetime(2015, 10, 13, 0, 0)\n&gt;&gt;&gt; datetime.combine(d, time.min)       # 609 ns\ndatetime.datetime(2015, 10, 13, 0, 0)\n&gt;&gt;&gt; d - (d - d.min) % timedelta(days=1) # Python 3\ndatetime.datetime(2015, 10, 13, 0, 0)   # 1.87 \u00b5s\n&gt;&gt;&gt; datetime(*d.timetuple()[:3])\ndatetime.datetime(2015, 10, 13, 0, 0)   # 2.34 \u00b5s\n&gt;&gt;&gt; from calendar import timegm\n&gt;&gt;&gt; datetime.utcfromtimestamp((timegm(d.timetuple()) // 86400) * 86400) # POSIX\ndatetime.datetime(2015, 10, 13, 0, 0)   # 4.72 \u00b5s\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5473649, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/4d8714c204b23b17ab75ed428568e3bd?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/5473649/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1145, "favorite_count": 1, "accepted_answer_id": 33272517, "answer_count": 2, "score": 1, "last_activity_date": 1568904104, "creation_date": 1445470638, "last_edit_date": 1568903950, "question_id": 33271060, "link": "https://stackoverflow.com/questions/33271060/select-based-on-timestamp-and-update-timestamp-with-zero", "title": "Select based on timestamp and update timestamp with zero", "body": "<p>How do I select records from a date field which has a time (HH:MM:SS.Milisecond) value greater than zero from a MongoDB collection and update it with a time (HH:MM:SS) value as zero by keeping the date value the same as the existing value in a Python script?</p>\n\n<p>The current data would look like as below -</p>\n\n<pre><code>1) \"createdDate\" : ISODate(\"2015-10-10T00:00:00Z\")\n2) \"createdDate\" : ISODate(\"2015-10-11T00:00:00Z\")\n3) \"createdDate\" : ISODate(\"2015-10-12T00:00:00Z\")\n4) \"createdDate\" : ISODate(\"2015-10-13T01:04:30.515Z\")\n5) \"createdDate\" : ISODate(\"2015-10-14T02:05:50.516Z\")\n6) \"createdDate\" : ISODate(\"2015-10-15T03:06:60.517Z\")\n7) \"createdDate\" : ISODate(\"2015-10-16T04:07:80.518Z\")\n</code></pre>\n\n<p>How do I select only rows 4, 5, 6, and 7 using <code>mongodbsql</code> and update it with the timestamp as zero in a Python script?</p>\n\n<p>After an update, the data would look like as below -</p>\n\n<pre><code>1) \"createdDate\" : ISODate(\"2015-10-10T00:00:00Z\")\n2) \"createdDate\" : ISODate(\"2015-10-11T00:00:00Z\")\n3) \"createdDate\" : ISODate(\"2015-10-12T00:00:00Z\")\n4) \"createdDate\" : ISODate(\"2015-10-13T00:00:00Z\")\n5) \"createdDate\" : ISODate(\"2015-10-14T00:00:00Z\")\n6) \"createdDate\" : ISODate(\"2015-10-15T00:00:00Z\")\n7) \"createdDate\" : ISODate(\"2015-10-16T00:00:00Z\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "ncurses", "python-curses"], "answers": [{"comments": [{"owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "reply_to_user": {"reputation": 133, "user_id": 4539391, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8d1b27db93d837ab98351b9019b8162b?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon", "link": "https://stackoverflow.com/users/4539391/solomon"}, "edited": false, "score": 0, "creation_date": 1445471114, "post_id": 33271105, "comment_id": 54343258, "body": "What version of ubuntu are you using?"}, {"owner": {"reputation": 133, "user_id": 4539391, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8d1b27db93d837ab98351b9019b8162b?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon", "link": "https://stackoverflow.com/users/4539391/solomon"}, "edited": false, "score": 0, "creation_date": 1445471209, "post_id": 33271105, "comment_id": 54343290, "body": "I&#39;m using Ubuntu 14.04.3 LTS"}, {"owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "reply_to_user": {"reputation": 133, "user_id": 4539391, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8d1b27db93d837ab98351b9019b8162b?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon", "link": "https://stackoverflow.com/users/4539391/solomon"}, "edited": false, "score": 0, "creation_date": 1445471290, "post_id": 33271105, "comment_id": 54343314, "body": "Is there anything here: <code>&#47;usr&#47;lib&#47;python3.4&#47;curses</code>?"}, {"owner": {"reputation": 133, "user_id": 4539391, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8d1b27db93d837ab98351b9019b8162b?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon", "link": "https://stackoverflow.com/users/4539391/solomon"}, "edited": false, "score": 1, "creation_date": 1445471311, "post_id": 33271105, "comment_id": 54343320, "body": "I just tried typing what you did and when I did &quot;import curses&quot;, it says No module named &#39;_curses&#39;. Yes, I do have stuff in there. Though it&#39;s weird that I have a python3 and python3.4 folder in there."}, {"owner": {"reputation": 133, "user_id": 4539391, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8d1b27db93d837ab98351b9019b8162b?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon", "link": "https://stackoverflow.com/users/4539391/solomon"}, "edited": false, "score": 0, "creation_date": 1445471666, "post_id": 33271105, "comment_id": 54343436, "body": "I think i found the issue... Python is automatically running 3.5 so it isn&#39;t picking up the curses library in 3.4. I don&#39;t know how to fix it to default in 3.4 but I can just run &quot;python3.4 main.py&quot; to run my script."}, {"owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "reply_to_user": {"reputation": 133, "user_id": 4539391, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8d1b27db93d837ab98351b9019b8162b?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon", "link": "https://stackoverflow.com/users/4539391/solomon"}, "edited": false, "score": 0, "creation_date": 1445471813, "post_id": 33271105, "comment_id": 54343475, "body": "How did you install python3.5?"}, {"owner": {"reputation": 133, "user_id": 4539391, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8d1b27db93d837ab98351b9019b8162b?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon", "link": "https://stackoverflow.com/users/4539391/solomon"}, "edited": false, "score": 0, "creation_date": 1445471974, "post_id": 33271105, "comment_id": 54343520, "body": "I went to the python website cause I didn&#39;t know that python3.4 was automatically installed already."}, {"owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "reply_to_user": {"reputation": 133, "user_id": 4539391, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8d1b27db93d837ab98351b9019b8162b?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon", "link": "https://stackoverflow.com/users/4539391/solomon"}, "edited": false, "score": 0, "creation_date": 1445472138, "post_id": 33271105, "comment_id": 54343568, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/93018/discussion-between-jgritty-and-solomon\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "is_accepted": false, "score": 2, "last_activity_date": 1445471201, "last_edit_date": 1445471201, "creation_date": 1445470903, "answer_id": 33271105, "question_id": 33271000, "link": "https://stackoverflow.com/questions/33271000/install-ncurses-on-python3-for-ubuntu/33271105#33271105", "title": "Install NCurses on python3 for Ubuntu", "body": "<p>Try this:</p>\n\n<pre><code>import curses\n</code></pre>\n\n<p>curses is ncurses. It's also built in to python, there's nothing to install.</p>\n\n<pre><code>Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.13.0-65-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com/\nLast login: Mon Oct 19 19:06:03 2015 from xxx.xxx.xxx.xxx\nme@ubuntu:~$ python3\nPython 3.4.0 (default, Jun 19 2015, 14:20:21) \n[GCC 4.8.2] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import curses\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4930, "user_id": 428803, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb49155433fce665a2cea7d66b229b06?s=128&d=identicon&r=PG", "display_name": "Joshua", "link": "https://stackoverflow.com/users/428803/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1580687025, "creation_date": 1580687025, "answer_id": 60031669, "question_id": 33271000, "link": "https://stackoverflow.com/questions/33271000/install-ncurses-on-python3-for-ubuntu/60031669#60031669", "title": "Install NCurses on python3 for Ubuntu", "body": "<p>I had this same problem. The issue was that ncurses was not installed on my Ubuntu installation. To fix it, I ran:</p>\n\n<pre><code>sudo apt-get install libncurses-dev\n</code></pre>\n\n<p>and then reinstalled Python. In my case with:</p>\n\n<pre><code>pyenv install 3.8.1\n</code></pre>\n\n<p>Answering y when asked <strong>continue with installation? (y/N)</strong> </p>\n\n<p>This fixed the problem.</p>\n"}], "owner": {"reputation": 133, "user_id": 4539391, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8d1b27db93d837ab98351b9019b8162b?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon", "link": "https://stackoverflow.com/users/4539391/solomon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6575, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1580687025, "creation_date": 1445470281, "last_edit_date": 1445473544, "question_id": 33271000, "link": "https://stackoverflow.com/questions/33271000/install-ncurses-on-python3-for-ubuntu", "title": "Install NCurses on python3 for Ubuntu", "body": "<p>I'm having issues installing <code>ncurses</code> for <code>Python3</code>. When I did the normal <code>sudo apt-get install ncurses-dev</code>, it appeared to install for <code>Python2</code> but when I try to run my script for <code>Python3</code>, it says.</p>\n\n<pre><code>ImportError: No module named curses\n</code></pre>\n\n<p>How would you get <code>ncurses</code> to work for <code>Python3</code>?</p>\n"}, {"tags": ["python", "eventlet"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1445470044, "post_id": 33270916, "comment_id": 54342928, "body": "Please post the stack trace."}, {"owner": {"reputation": 2353, "user_id": 440732, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/ec3c8b76a17c17cb8f9eafa5af50bfa0?s=128&d=identicon&r=PG", "display_name": "nishant", "link": "https://stackoverflow.com/users/440732/nishant"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1445471093, "post_id": 33270916, "comment_id": 54343249, "body": "@AdamSmith added the stack trace"}, {"owner": {"reputation": 4852, "user_id": 73957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03d48d595e8b576703ed01c55b1c44ea?s=128&d=identicon&r=PG", "display_name": "temoto", "link": "https://stackoverflow.com/users/73957/temoto"}, "edited": false, "score": 0, "creation_date": 1445609799, "post_id": 33270916, "comment_id": 54407863, "body": "This code works for me with eventlet master (0.18), Python 3.4, OSX. What versions do you use?"}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 4848323, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/81f574d6d0a090c6136f902334005bc4?s=128&d=identicon&r=PG&f=1", "display_name": "Talesseed", "link": "https://stackoverflow.com/users/4848323/talesseed"}, "is_accepted": false, "score": 0, "last_activity_date": 1445471428, "last_edit_date": 1445471428, "creation_date": 1445470393, "answer_id": 33271022, "question_id": 33270916, "link": "https://stackoverflow.com/questions/33270916/error-init-called-too-many-times-while-monkey-patching/33271022#33271022", "title": "Error &#39;__init__ called too many times&#39; while monkey patching", "body": "<p>Try to run it without <code>all=True</code>:</p>\n\n<pre><code>patcher.monkey_patch() \n</code></pre>\n\n<p>(you basically have called a class several times) </p>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 1265659, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0d9ac4333c636a131082265cb3dcb153?s=128&d=identicon&r=PG", "display_name": "meajmal", "link": "https://stackoverflow.com/users/1265659/meajmal"}, "is_accepted": false, "score": 0, "last_activity_date": 1447195618, "creation_date": 1447195618, "answer_id": 33641114, "question_id": 33270916, "link": "https://stackoverflow.com/questions/33270916/error-init-called-too-many-times-while-monkey-patching/33641114#33641114", "title": "Error &#39;__init__ called too many times&#39; while monkey patching", "body": "<p>This is an issue with Windows machines in particular.. patcher.monkey_patch() is working perfectly fine for me in OSX, while the same code returns with - \nSystemError: <strong>init</strong> called too many times for my colleagues using wondows machines ..</p>\n\n<p>I am still searching for a solution for this issue.</p>\n"}], "owner": {"reputation": 2353, "user_id": 440732, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/ec3c8b76a17c17cb8f9eafa5af50bfa0?s=128&d=identicon&r=PG", "display_name": "nishant", "link": "https://stackoverflow.com/users/440732/nishant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1447195618, "creation_date": 1445469768, "last_edit_date": 1445474408, "question_id": 33270916, "link": "https://stackoverflow.com/questions/33270916/error-init-called-too-many-times-while-monkey-patching", "title": "Error &#39;__init__ called too many times&#39; while monkey patching", "body": "<p>I am using <em>eventlet</em> module. When I try to <code>monkey_patch</code> the code exits with <em>error</em>:</p>\n\n<pre><code>'__init__ called too many times'\n</code></pre>\n\n<p>Here's the code that's causing problem:</p>\n\n<pre><code>from eventlet import *\npatcher.monkey_patch(all=True)\n\nimport os, glob, pandas, logging\nimport numpy as np\nimport boto3\nimport datetime\n</code></pre>\n\n<p>The <code>import</code> works fine, but <code>monkey</code> patching is the step where I see <em>error</em>.</p>\n\n<p>EDIT:</p>\n\n<p>Here's the stack trace:</p>\n\n<p></p>\n\n<pre><code>Traceback (most recent call last):\n  File \"check.py\", line 4, in &lt;module&gt;\n    import os, glob, pandas, logging\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\pandas\\__init__.py\", line 45, in &lt;module&gt;\n    from pandas.core.api import *\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\pandas\\core\\api.py\", line 9, in &lt;module&gt;\n    from pandas.core.groupby import Grouper\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\pandas\\core\\groupby.py\", line 15, in &lt;module&gt;\n    from pandas.core.frame import DataFrame\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\pandas\\core\\frame.py\", line 32, in &lt;module&gt;\n    from pandas.core.generic import NDFrame, _shared_docs\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\pandas\\core\\generic.py\", line 16, in &lt;module&gt;\n    from pandas.core.internals import BlockManager\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\pandas\\core\\internals.py\", line 22, in &lt;module&gt;\n    from pandas.sparse.array import _maybe_to_sparse, SparseArray\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\pandas\\sparse\\array.py\", line 19, in &lt;module&gt;\n    import pandas.core.ops as ops\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\pandas\\core\\ops.py\", line 15, in &lt;module&gt;\n    import pandas.computation.expressions as expressions\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\pandas\\computation\\expressions.py\", line 15, in &lt;module&gt;\n    import numexpr as ne\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\numexpr\\__init__.py\", line 40, in &lt;module&gt;\n    from numexpr.expressions import E\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\numexpr\\expressions.py\", line 81, in &lt;module&gt;\n    _context = Context({})\n  File \"d:\\Python\\Anaconda\\lib\\site-packages\\numexpr\\expressions.py\", line 67, in __init__\n    raise SystemError('__init__ called too many times')\nSystemError: __init__ called too many times\n</code></pre>\n\n<p></p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 5145, "user_id": 2955312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1249951c24840c64d8c32951e967170a?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Weinstein", "link": "https://stackoverflow.com/users/2955312/ryan-weinstein"}, "is_accepted": false, "score": 3, "last_activity_date": 1445470212, "last_edit_date": 1445470212, "creation_date": 1445470044, "answer_id": 33270958, "question_id": 33270896, "link": "https://stackoverflow.com/questions/33270896/reading-numbers-in-text-file/33270958#33270958", "title": "Reading numbers in text file", "body": "<p>You can use <code>line.split(' ')</code> to return a list of grades where the weight is <code>list[0]</code>. </p>\n\n<p>Then you can get rid of the weight, and cycle through the list in a for loop. </p>\n\n<p>You add all the grades, then divide by the length of the list of grades.<br>\nDon't accidentally include the weight!</p>\n"}, {"comments": [{"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 1, "creation_date": 1445470986, "post_id": 33271041, "comment_id": 54343212, "body": "I&#39;d be cheap and do <code>... = map(float, line.split())</code>."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 3, "last_activity_date": 1445473625, "last_edit_date": 1445473625, "creation_date": 1445470527, "answer_id": 33271041, "question_id": 33270896, "link": "https://stackoverflow.com/questions/33270896/reading-numbers-in-text-file/33271041#33271041", "title": "Reading numbers in text file", "body": "<p>After splitting the string, use <code>map()</code> to turn each item into a <code>float</code>. Use <code>*</code> unpacking to assign the first item to <code>weight</code>, and the rest to a <code>list</code> called <code>grades</code>.</p>\n\n<pre><code>def main():\n    file = open(\"grades.txt\", \"r\")\n    for line in file:\n        weight, *grades = map(float, line.split())\n        print(weight * sum(grades)/len(grades))\n\nmain()\n</code></pre>\n\n<p>You can then use handy functions like <code>sum()</code> and <code>len()</code> to find the average. <code>map()</code>, <code>float()</code>, <code>sum()</code>, and <code>len()</code> are all <a href=\"https://docs.python.org/3/library/functions.html\" rel=\"nofollow\">Python built-in functions</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 343, "user_id": 5202842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a97b766b9dc03dad336435957c4869?s=128&d=identicon&r=PG&f=1", "display_name": "Robert E", "link": "https://stackoverflow.com/users/5202842/robert-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1445472310, "creation_date": 1445472310, "answer_id": 33271298, "question_id": 33270896, "link": "https://stackoverflow.com/questions/33270896/reading-numbers-in-text-file/33271298#33271298", "title": "Reading numbers in text file", "body": "<p>This will work in Python 2.7 as well as 3.x.</p>\n\n<pre><code>def main():\n    total_grade = 0\n    with open('grades.txt', 'r') as file:\n        for line in file:\n            split = line.split(' ')\n            grades = map(int, split[1:])\n            line_grade = (sum(grades) / len(grades)) * float(split[0])\n            print line_grade\n            total_grade += line_grade\n    print total_grade\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5420909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9424549355f915248f68be5fcd8af3?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/5420909/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1445473625, "creation_date": 1445469702, "last_edit_date": 1445470305, "question_id": 33270896, "link": "https://stackoverflow.com/questions/33270896/reading-numbers-in-text-file", "title": "Reading numbers in text file", "body": "<p>I am a beginner in python learning how to read and manipulate data in text files. </p>\n\n<p>Lets say I have a text file <em>grades.txt</em> :</p>\n\n<pre><code>.25 45 67 89\n.75 23 45\n</code></pre>\n\n<p>I want to create a program that averages the grades for each line and multiplies that by the weight which is always the first number in each line. </p>\n\n<p>It then should add the weighted total for all of the lines and print a the final grade. </p>\n\n<p>How would I do this if I didn't know the number of grades in a text file or if I had different weights? </p>\n\n<p>Currently I can only do it if I already know how many grades there are going to be.</p>\n\n<p>Code so far:</p>\n\n<pre><code>def main():\n    file = open(\"grades.txt\", \"r\")\n    for line in file:\n        weight, gradeOne, gradeTwo, gradeThree = line.split()\n        grade = (int(gradeOne) + int(gradeTwo) + int(gradeThree)/3\n\n        print(float(weight) * grade)\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "winapi"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 1, "creation_date": 1445469109, "post_id": 33270694, "comment_id": 54342674, "body": "You&#39;ll need to use <a href=\"http://sourceforge.net/projects/pywin32/files/\" rel=\"nofollow noreferrer\"><code>pywin32</code></a> to interface with the appropriate Windows subsystem to find out what Windows Explorer windows are open, if any, and what directories they&#39;re currently focused on."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1445490594, "post_id": 33270694, "comment_id": 54348247, "body": "The shell API offers such functionality. No need for any hacking."}], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 8229329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/kFfqq.jpg?s=128&g=1", "display_name": "Juan Carlos Asuncion", "link": "https://stackoverflow.com/users/8229329/juan-carlos-asuncion"}, "is_accepted": true, "score": 0, "last_activity_date": 1542783396, "creation_date": 1542783396, "answer_id": 53406732, "question_id": 33270694, "link": "https://stackoverflow.com/questions/33270694/open-file-explorer-in-python-or-focus-if-already-open-and-in-same-directory/53406732#53406732", "title": "Open File Explorer in Python, or focus if already open and in same directory", "body": "<p>Stumbled upon this question looking for the exact opposite of what you want, to open the explorer multiple times on the same directory.</p>\n\n<p>Coming from the documentation</p>\n\n<p><a href=\"https://docs.python.org/3/library/os.html#os.startfile\" rel=\"nofollow noreferrer\">os.startfile</a></p>\n\n<blockquote>\n  <p>When operation is not specified or 'open', this acts like double-clicking the file in Windows Explorer, or giving the file name as an argument to the start command from the interactive command shell: the file is opened with whatever application (if any) its extension is associated.</p>\n</blockquote>\n\n<p>so just doing </p>\n\n<p><code>os.startfile(path)</code> </p>\n\n<p>or </p>\n\n<p><code>os.startfile(path, 'open')</code> </p>\n\n<p>would do exactly what you want as long as the opened explorer is still in the directory you started with. I don't know if I am correct though as my answer assumes you are on win7 os and using python 2.7.</p>\n"}], "owner": {"reputation": 10441, "user_id": 42897, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oDPxy.png?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/42897/rich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1953, "favorite_count": 0, "accepted_answer_id": 53406732, "answer_count": 1, "score": 3, "last_activity_date": 1542783396, "creation_date": 1445468529, "question_id": 33270694, "link": "https://stackoverflow.com/questions/33270694/open-file-explorer-in-python-or-focus-if-already-open-and-in-same-directory", "title": "Open File Explorer in Python, or focus if already open and in same directory", "body": "<p>In Python I'd like to open a file explorer to a specific directory, or if it is already open in another window, bring focus to that window.  Currently I'm doing this:</p>\n\n<pre><code>os.startfile(path, 'explore')\n</code></pre>\n\n<p>But it opens as many File Explorers as calls to <code>os.startfile</code>.  Is it possible in Python to focus on an existing one?</p>\n"}, {"tags": ["python", "string", "python-3.x", "file-io", "split"], "comments": [{"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1445469414, "post_id": 33270693, "comment_id": 54342753, "body": "If all the items are on a single line, just use <code>s = next(f).split()</code>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1445469645, "post_id": 33270693, "comment_id": 54342822, "body": "You should just drop the <code>f.read()</code> line and do <code>for line in f</code>"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1445469685, "post_id": 33270693, "comment_id": 54342834, "body": "For the double printing: Are you 100% certain you&#39;re not running that code twice, because of code around it that you&#39;re not showing us?"}], "answers": [{"comments": [{"owner": {"reputation": 1215, "user_id": 4081647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/31e29b70920f6bc0952ed800b4e28261?s=128&d=identicon&r=PG&f=1", "display_name": "AlwaysQuestioning", "link": "https://stackoverflow.com/users/4081647/alwaysquestioning"}, "edited": false, "score": 0, "creation_date": 1445469095, "post_id": 33270732, "comment_id": 54342667, "body": "Hmm. I need to create a looping construct for the entire file, though. So how could I go about splitting lines? And what about the printing double?"}, {"owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "edited": false, "score": 0, "creation_date": 1445469227, "post_id": 33270732, "comment_id": 54342704, "body": "So why don&#39;t just <code>f.readlines()</code> if you need split the file by lines?"}, {"owner": {"reputation": 19398, "user_id": 775345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/c6jtG.jpg?s=128&g=1", "display_name": "Robert Moskal", "link": "https://stackoverflow.com/users/775345/robert-moskal"}, "edited": false, "score": 1, "creation_date": 1445469468, "post_id": 33270732, "comment_id": 54342765, "body": "I first assumed it was a multiline file :)"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1445470062, "post_id": 33270732, "comment_id": 54342935, "body": "Actually, <code>controls = splitlines().splitlines()</code> is just errors: you weren&#39;t calling <code>splitlines()</code> <i>on</i> anything (instead of on a string as required), and then you were calling it on what would have been a <code>list</code>. Oh, and you now have an extra <code>.</code> at the end."}], "tags": [], "owner": {"reputation": 19398, "user_id": 775345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/c6jtG.jpg?s=128&g=1", "display_name": "Robert Moskal", "link": "https://stackoverflow.com/users/775345/robert-moskal"}, "is_accepted": false, "score": 0, "last_activity_date": 1445469417, "last_edit_date": 1445469417, "creation_date": 1445468732, "answer_id": 33270732, "question_id": 33270693, "link": "https://stackoverflow.com/questions/33270693/why-is-my-string-split-function-producing-unexpected-results/33270732#33270732", "title": "Why is my string.split() function producing unexpected results?", "body": "<p>Your for loop is looping through the entire file contents as a single string one character at a time. You can keep most of your code by doing something like this when you read the file:</p>\n\n<pre><code>controls = f.read().splitlines().\n</code></pre>\n\n<p>from there you can loop as you already do.</p>\n\n<p>If your file is only one line, then you can just do:</p>\n\n<pre><code>f.read().split()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11908, "user_id": 586880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773332bfee8105f9738c50c0f89c9242?s=128&d=identicon&r=PG", "display_name": "Diego Basch", "link": "https://stackoverflow.com/users/586880/diego-basch"}, "is_accepted": false, "score": 0, "last_activity_date": 1445469069, "creation_date": 1445469069, "answer_id": 33270788, "question_id": 33270693, "link": "https://stackoverflow.com/questions/33270693/why-is-my-string-split-function-producing-unexpected-results/33270788#33270788", "title": "Why is my string.split() function producing unexpected results?", "body": "<p>If you want a list of lines, use <code>readlines</code> instead of <code>read</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1445508229, "post_id": 33270790, "comment_id": 54357210, "body": "For the love of everything, would you learn to correctly format a post?"}], "tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 0, "last_activity_date": 1445508240, "last_edit_date": 1445508240, "creation_date": 1445469085, "answer_id": 33270790, "question_id": 33270693, "link": "https://stackoverflow.com/questions/33270693/why-is-my-string-split-function-producing-unexpected-results/33270790#33270790", "title": "Why is my string.split() function producing unexpected results?", "body": "<p>You may use readlines()</p>\n\n<pre><code>with open('data','r') as f:\n    controls = f.readlines()\n\nfor line in controls:\n    s = line.split()\n    print(s, end=\" \"),\n\n['1a', '2a', '2b', '2c', '2d', '3a', '3b', '3c', '3d'] \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "is_accepted": false, "score": 0, "last_activity_date": 1445469588, "last_edit_date": 1445469588, "creation_date": 1445469093, "answer_id": 33270791, "question_id": 33270693, "link": "https://stackoverflow.com/questions/33270693/why-is-my-string-split-function-producing-unexpected-results/33270791#33270791", "title": "Why is my string.split() function producing unexpected results?", "body": "<p>Because you're trying to use <code>for</code> on a string. Let's see:</p>\n\n<pre><code>f = open('access.txt', 'r')\ncontrols = f.read()\n</code></pre>\n\n<p>Now what happened?  <code>controls</code> is a string because you're using <code>f.read()</code>.<br>\nSo using <code>for</code> loop on a string will give something like...you can try it in Python Shell.</p>\n\n<hr>\n\n<p>Actually you don't need <code>f.read()</code> here, the following code can works fine:</p>\n\n<pre><code>with open('access.txt', 'r') as f: # with can auto close the file, it's safe.    \n    for line in f:\n        s = line.split()\n        print(s, end='')\n</code></pre>\n\n<hr>\n\n<p>Also, here is a simpler way that use <em>list comprehension</em> :</p>\n\n<pre><code>with open('access.txt', 'r') as f:\n    print(*[s.split() for s in f])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1215, "user_id": 4081647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/31e29b70920f6bc0952ed800b4e28261?s=128&d=identicon&r=PG&f=1", "display_name": "AlwaysQuestioning", "link": "https://stackoverflow.com/users/4081647/alwaysquestioning"}, "edited": false, "score": 0, "creation_date": 1445469397, "post_id": 33270799, "comment_id": 54342748, "body": "Excellent, this works. I must have been iterating character by character as others mentioned. But what of the printing twice problem?  <code>[&#39;1a&#39;, &#39;2a&#39;, &#39;2b&#39;, &#39;2c&#39;, &#39;2d&#39;, &#39;3a&#39;, &#39;3b&#39;, &#39;3c&#39;, &#39;3d&#39;] [&#39;1a&#39;, &#39;2a&#39;, &#39;2b&#39;, &#39;2c&#39;, &#39;2d&#39;, &#39;3a&#39;, &#39;3b&#39;, &#39;3c&#39;, &#39;3d&#39;]</code>"}, {"owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "reply_to_user": {"reputation": 1215, "user_id": 4081647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/31e29b70920f6bc0952ed800b4e28261?s=128&d=identicon&r=PG&f=1", "display_name": "AlwaysQuestioning", "link": "https://stackoverflow.com/users/4081647/alwaysquestioning"}, "edited": false, "score": 0, "creation_date": 1445469729, "post_id": 33270799, "comment_id": 54342846, "body": "To be honest, I&#39;m not sure. Maybe it&#39;s because it&#39;s the end of the day but I can&#39;t find a reason why it would be printing twice."}, {"owner": {"reputation": 1215, "user_id": 4081647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/31e29b70920f6bc0952ed800b4e28261?s=128&d=identicon&r=PG&f=1", "display_name": "AlwaysQuestioning", "link": "https://stackoverflow.com/users/4081647/alwaysquestioning"}, "edited": false, "score": 0, "creation_date": 1445470283, "post_id": 33270799, "comment_id": 54343003, "body": "It&#39;s got to be some other part of the code. All I&#39;m doing, though, is importing other classes. And I&#39;m executing the code in terminal."}, {"owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "reply_to_user": {"reputation": 1215, "user_id": 4081647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/31e29b70920f6bc0952ed800b4e28261?s=128&d=identicon&r=PG&f=1", "display_name": "AlwaysQuestioning", "link": "https://stackoverflow.com/users/4081647/alwaysquestioning"}, "edited": false, "score": 0, "creation_date": 1445478717, "post_id": 33270799, "comment_id": 54345274, "body": "I agree. Is there any code around it that you could add to the question?"}], "tags": [], "owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "is_accepted": true, "score": 1, "last_activity_date": 1445469139, "creation_date": 1445469139, "answer_id": 33270799, "question_id": 33270693, "link": "https://stackoverflow.com/questions/33270693/why-is-my-string-split-function-producing-unexpected-results/33270799#33270799", "title": "Why is my string.split() function producing unexpected results?", "body": "<p>You could try this:</p>\n\n<pre><code># automatically closes file when done\nwith open('access.txt', 'r') as f:\n    for line in f.readlines():\n        s = line.split()\n        print(s),\n</code></pre>\n\n<p>This way you are looping through line by line, and splitting each line individually.</p>\n"}], "owner": {"reputation": 1215, "user_id": 4081647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/31e29b70920f6bc0952ed800b4e28261?s=128&d=identicon&r=PG&f=1", "display_name": "AlwaysQuestioning", "link": "https://stackoverflow.com/users/4081647/alwaysquestioning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 33270799, "answer_count": 5, "score": -3, "last_activity_date": 1484836269, "creation_date": 1445468527, "last_edit_date": 1484836269, "question_id": 33270693, "link": "https://stackoverflow.com/questions/33270693/why-is-my-string-split-function-producing-unexpected-results", "title": "Why is my string.split() function producing unexpected results?", "body": "<p>I have an input file consisting of: </p>\n\n<pre><code>1a 2a 2b 2c 2d 3a 3b 3c 3d\n</code></pre>\n\n<p>My Python code looks like:</p>\n\n<pre><code>f = open('access.txt', 'r')\ncontrols = f.read()\n\nfor line in controls:\n    s = line.split()\n    print(s),\n</code></pre>\n\n<p>I expected an array in the format <code>['1a','2a','2b'b, ...]</code>. But what I get is a different format, and everything <code>print</code> twice:</p>\n\n<pre><code>['1'] ['a'] [] ['2'] ['a'] [] ['2'] ['b'] [] ['2'] ['c'] [] ['2'] ['d'] [] ['3'] ['a'] [] ['3'] ['b'] [] ['3'] ['c'] [] ['3'] ['d'] [] [] ['1'] ['a'] [] ['2'] ['a'] [] ['2'] ['b'] [] ['2'] ['c'] [] ['2'] ['d'] [] ['3'] ['a'] [] ['3'] ['b'] [] ['3'] ['c'] [] ['3'] ['d'] [] []\n</code></pre>\n\n<p>I can't seem to identify either problem. </p>\n\n<p><strong>EDIT:</strong> It looks like I was iterating character by character, which I've fixed. </p>\n"}, {"tags": ["python", "python-3.x", "tkinter", "python-3.5"], "answers": [{"tags": [], "owner": {"reputation": 1594, "user_id": 2512078, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NDKib.png?s=128&g=1", "display_name": "spikespaz", "link": "https://stackoverflow.com/users/2512078/spikespaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1445482481, "creation_date": 1445482481, "answer_id": 33272643, "question_id": 33270673, "link": "https://stackoverflow.com/questions/33270673/properly-print-entry-widget-input-python3-5/33272643#33272643", "title": "Properly print entry widget input Python3.5", "body": "<p>And now... To answer my own question!</p>\n\n<p>Instead of:</p>\n\n<pre><code>userName = StringVar()\nEntry(options, width = \"30\", textvariable = userName).pack()\n</code></pre>\n\n<p>Define the Entry widget like so:</p>\n\n<pre><code>userName = StringVar()\nuserName = Entry(options, width = \"30\")\nuserName.pack()\n</code></pre>\n\n<p>Move the <code>.pack()</code> down to it's own line as <code>userName.pack()</code>\nand then print it like so:</p>\n\n<pre><code>print(userName.get())\n</code></pre>\n\n<p>For all of the Entry widgets you want.</p>\n"}], "owner": {"reputation": 1594, "user_id": 2512078, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NDKib.png?s=128&g=1", "display_name": "spikespaz", "link": "https://stackoverflow.com/users/2512078/spikespaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 33272643, "answer_count": 1, "score": 0, "last_activity_date": 1445482481, "creation_date": 1445468438, "last_edit_date": 1445480845, "question_id": 33270673, "link": "https://stackoverflow.com/questions/33270673/properly-print-entry-widget-input-python3-5", "title": "Properly print entry widget input Python3.5", "body": "<p>Ok, so here's my problem:</p>\n\n<p>The code below, when called upon by a button, prints <em>NOTHING</em>. Why? (Yes, of course I'm typing in input to the entry boxes.)</p>\n\n<pre><code>options = Tk()\noptions.geometry(\"218x156\")\noptions.iconbitmap('original.ico')\noptions.title(\"Options\")\n\nLabel(options, text = \"GitHub Username:\").pack()\nuserName = StringVar()\nEntry(options, width = \"30\", textvariable = userName).pack()\n\nLabel(options, text = \"GitHub Email:\").pack()\nuserEmail = StringVar()\nEntry(options, width = \"30\", textvariable = userEmail).pack()\n\nLabel(options, text = \"GitHub Password:\").pack()\nuserPassword = StringVar()\nEntry(options, show = \"\u2022\", width = \"30\", textvariable = userPassword).pack()\n\ndef optionSave():\n    print(userName.get())\n    print(userEmail.get())\n    print(userPassword.get())\n    options.destroy()\n</code></pre>\n\n<p><strong>works, and</strong></p>\n\n<pre><code>def fileOptions():\n    options = Tk()\n    options.geometry(\"218x156\")\n    options.iconbitmap('original.ico')\n    options.title(\"Options\")\n\n    Label(options, text = \"GitHub Username:\").pack()\n    userName = StringVar()\n    Entry(options, width = \"30\", textvariable = userName).pack()\n\n    Label(options, text = \"GitHub Email:\").pack()\n    userEmail = StringVar()\n    Entry(options, width = \"30\", textvariable = userEmail).pack()\n\n    Label(options, text = \"GitHub Password:\").pack()\n    userPassword = StringVar()\n    Entry(options, show = \"\u2022\", width = \"30\", textvariable = userPassword).pack()\n\n    def optionSave():\n        print(userName.get())\n        print(userEmail.get())\n        print(userPassword.get())\n        options.destroy()\n</code></pre>\n\n<p><strong>does not</strong></p>\n\n<p><em>Please note:</em> the only noticeable difference is that the code on</p>\n\n<p>the bottom is not encased it <code>def fileOptions():</code></p>\n\n<p>The output is blank. As in it prints <em>zilch</em> to the console. Is this because it is in a separate Window? If so, how can I fix it?</p>\n"}, {"tags": ["python", "sorting", "tuples"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 1, "creation_date": 1445468688, "post_id": 33270669, "comment_id": 54342537, "body": "Do you mean (blah,) instead of (blah) to create a length 1 tuple?"}, {"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 3, "creation_date": 1445468741, "post_id": 33270669, "comment_id": 54342556, "body": "Please properly indent your code."}, {"owner": {"reputation": 5183, "user_id": 3155195, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96fb82a06f0a269039e913211ac44fcd?s=128&d=identicon&r=PG&f=1", "display_name": "zehnpaard", "link": "https://stackoverflow.com/users/3155195/zehnpaard"}, "edited": false, "score": 0, "creation_date": 1445512209, "post_id": 33270669, "comment_id": 54359543, "body": "you should post the error message that you get, which I assume is <code>TypeError: can only concatenate tuple (not &quot;int&quot;) to tuple</code> (and once you fix that one, you&#39;ll get <code>TypeError: unsupported operand type(s) for -: &#39;list&#39; and &#39;int&#39;</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5473624, "user_type": "registered", "profile_image": "https://graph.facebook.com/1099450963422619/picture?type=large", "display_name": "Daniel Calado", "link": "https://stackoverflow.com/users/5473624/daniel-calado"}, "edited": false, "score": 0, "creation_date": 1445472463, "post_id": 33270728, "comment_id": 54343653, "body": "I was thinking in removing the minimum number of t and put him in the position 0 of a and repeat and in the end get everything together with a +"}, {"owner": {"reputation": 1331, "user_id": 356274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b1d99a4017bdcfd438e1d433abcc8a4?s=128&d=identicon&r=PG", "display_name": "Zart", "link": "https://stackoverflow.com/users/356274/zart"}, "edited": false, "score": 0, "creation_date": 1445513300, "post_id": 33270728, "comment_id": 54360192, "body": "Tuple is created by comma, not parenthesis, except for a special case of empty tuple ()."}], "tags": [], "owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "is_accepted": false, "score": 0, "last_activity_date": 1445503981, "last_edit_date": 1445503981, "creation_date": 1445468721, "answer_id": 33270728, "question_id": 33270669, "link": "https://stackoverflow.com/questions/33270669/sort-tuples-without-using-pythons-built-in-sort/33270728#33270728", "title": "Sort Tuples without using Python&#39;s built-in Sort", "body": "<p>The parenthesis operator has two conflicting meanings: one of them is as a grouping operator. The other one is a tuple creation. <code>(minimo)</code> in your code means evaluate minimo with higher precedence. You want<code>(minimo,)</code> to create a 1-length tuple.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5473624, "user_type": "registered", "profile_image": "https://graph.facebook.com/1099450963422619/picture?type=large", "display_name": "Daniel Calado", "link": "https://stackoverflow.com/users/5473624/daniel-calado"}, "is_accepted": true, "score": 0, "last_activity_date": 1445619203, "creation_date": 1445619203, "answer_id": 33307676, "question_id": 33270669, "link": "https://stackoverflow.com/questions/33270669/sort-tuples-without-using-pythons-built-in-sort/33307676#33307676", "title": "Sort Tuples without using Python&#39;s built-in Sort", "body": "<p>thanks to your answers, i got to a solotion:</p>\n\n<pre><code>def junta(t,n):\na = ()\nb = ()\nd =()\nwhile len(t)&gt;0: \n    minimo = t[0]  \n    for x in t: \n        if x &lt; minimo:\n            minimo = x\n    a = a + (minimo,)\n    minimo_index = t.index(minimo)\n    t = t[:minimo_index] + t[minimo_index+1:]\nwhile len(n)&gt;0:\n    minimo2 = n[0]  \n    for y in n: \n        if y &lt; minimo2:\n            minimo2 = y\n    b = b + (minimo2,)\n    minimo2_index = n.index(minimo2)\n    n = n[:minimo2_index] + n[minimo2_index+1:]\nc = a + b\nwhile len(c)&gt;0:\n    minimo3 = c[0]  \n    for z in c: \n        if z &lt; minimo3:\n            minimo3 = z\n    d = d + (minimo3,)\n    minimo3_index = c.index(minimo3)\n    c = c[:minimo3_index] + c[minimo3_index+1:]\nreturn d\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5473624, "user_type": "registered", "profile_image": "https://graph.facebook.com/1099450963422619/picture?type=large", "display_name": "Daniel Calado", "link": "https://stackoverflow.com/users/5473624/daniel-calado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 0, "accepted_answer_id": 33307676, "answer_count": 2, "score": 0, "last_activity_date": 1445619203, "creation_date": 1445468417, "last_edit_date": 1445512505, "question_id": 33270669, "link": "https://stackoverflow.com/questions/33270669/sort-tuples-without-using-pythons-built-in-sort", "title": "Sort Tuples without using Python&#39;s built-in Sort", "body": "<p>I'm trying to merge this 2 tuples (t,n), so it returns a tuple that is the sorted combination of t and n. </p>\n\n<p>Can't find what's wrong with this:</p>\n\n<pre><code>def junta(t,n):\n    a = ()\n    b = () \n    minimo = t[0]  \n    for x in t: \n        if x &lt; minimo:\n            minimo = x\n    a = a + (minimo)\n    t = t - (minimo)\n    minimo2 = n[0]  \n    for y in n: \n        if y &lt; minimo2:\n            minimo2 = y\n    b = b + (minimo2)\n    n = n - (minimo2)\n    c = a + b\n    return c\n</code></pre>\n\n<p>This should do the same as this:</p>\n\n<pre><code>def  juntas(a,b):\n    return tuple(sorted(a+b))\n</code></pre>\n"}, {"tags": ["python", "facebook-graph-api", "curl"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3478832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65aa9b27b5c4fd1961718410300b1feb?s=128&d=identicon&r=PG&f=1", "display_name": "user3478832", "link": "https://stackoverflow.com/users/3478832/user3478832"}, "edited": false, "score": 0, "creation_date": 1445473339, "post_id": 33270800, "comment_id": 54343872, "body": "Thanks! Yes everything I have read basically tells me to put the form and the data in the dictionary and pass it through requests using the &#39;file&#39; attribute. However, this doesn&#39;t work and I&#39;m still getting a 400 error. I was wondering if anyone here had more insight."}, {"owner": {"reputation": 161, "user_id": 5047277, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/898bef799dcfa41fc95f5aab340c2c5d?s=128&d=identicon&r=PG", "display_name": "Thrynn", "link": "https://stackoverflow.com/users/5047277/thrynn"}, "reply_to_user": {"reputation": 1, "user_id": 3478832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65aa9b27b5c4fd1961718410300b1feb?s=128&d=identicon&r=PG&f=1", "display_name": "user3478832", "link": "https://stackoverflow.com/users/3478832/user3478832"}, "edited": false, "score": 0, "creation_date": 1445474016, "post_id": 33270800, "comment_id": 54344021, "body": "Oh, okay. In that case, you should definitely post your code in the question area. Then people can look it over for you and pinpoint what you&#39;re doing correct/incorrectly. Every time you update your question, your question will be &quot;bumped&quot; to the top of the questions queue. (:"}, {"owner": {"reputation": 1, "user_id": 3478832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65aa9b27b5c4fd1961718410300b1feb?s=128&d=identicon&r=PG&f=1", "display_name": "user3478832", "link": "https://stackoverflow.com/users/3478832/user3478832"}, "edited": false, "score": 0, "creation_date": 1445474633, "post_id": 33270800, "comment_id": 54344175, "body": "I thought I did post it in the question area? Sorry - new user!"}, {"owner": {"reputation": 161, "user_id": 5047277, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/898bef799dcfa41fc95f5aab340c2c5d?s=128&d=identicon&r=PG", "display_name": "Thrynn", "link": "https://stackoverflow.com/users/5047277/thrynn"}, "reply_to_user": {"reputation": 1, "user_id": 3478832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65aa9b27b5c4fd1961718410300b1feb?s=128&d=identicon&r=PG&f=1", "display_name": "user3478832", "link": "https://stackoverflow.com/users/3478832/user3478832"}, "edited": false, "score": 0, "creation_date": 1445474834, "post_id": 33270800, "comment_id": 54344247, "body": "It&#39;s okay. I only see the curl code but not your work in python. Please give an upvote if this has been helpful."}, {"owner": {"reputation": 1, "user_id": 3478832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65aa9b27b5c4fd1961718410300b1feb?s=128&d=identicon&r=PG&f=1", "display_name": "user3478832", "link": "https://stackoverflow.com/users/3478832/user3478832"}, "edited": false, "score": 0, "creation_date": 1445475260, "post_id": 33270800, "comment_id": 54344375, "body": "Thanks - updated with code! This has been helpful - but can&#39;t upvoted since I am new - need reputation I think"}, {"owner": {"reputation": 161, "user_id": 5047277, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/898bef799dcfa41fc95f5aab340c2c5d?s=128&d=identicon&r=PG", "display_name": "Thrynn", "link": "https://stackoverflow.com/users/5047277/thrynn"}, "reply_to_user": {"reputation": 1, "user_id": 3478832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65aa9b27b5c4fd1961718410300b1feb?s=128&d=identicon&r=PG&f=1", "display_name": "user3478832", "link": "https://stackoverflow.com/users/3478832/user3478832"}, "edited": false, "score": 0, "creation_date": 1445486321, "post_id": 33270800, "comment_id": 54347122, "body": "No problem. Now that you&#39;ve updated the post, checkout the Related Questions in the lower right area. They should better address your problem."}], "tags": [], "owner": {"reputation": 161, "user_id": 5047277, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/898bef799dcfa41fc95f5aab340c2c5d?s=128&d=identicon&r=PG", "display_name": "Thrynn", "link": "https://stackoverflow.com/users/5047277/thrynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1445469143, "last_edit_date": 1495541297, "creation_date": 1445469143, "answer_id": 33270800, "question_id": 33270656, "link": "https://stackoverflow.com/questions/33270656/convert-curl-to-requests-in-python/33270800#33270800", "title": "Convert curl to Requests in Python", "body": "<p>You are looking to submit form data using Python's request or requests module. \nMaybe these would be helpful:</p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/12385179/how-to-send-a-multipart-form-data-with-requests-in-python\">How to send a &quot;multipart/form-data&quot; with requests in python?</a></p></li>\n<li><p><a href=\"http://curl.haxx.se/docs/manpage.html\" rel=\"nofollow noreferrer\">http://curl.haxx.se/docs/manpage.html</a></p></li>\n</ol>\n\n<p>Otherwise, just search up \"POST\", \"form data\", \"python request(s)\". There are lots of people out there with similar questions. </p>\n"}], "owner": {"reputation": 1, "user_id": 3478832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65aa9b27b5c4fd1961718410300b1feb?s=128&d=identicon&r=PG&f=1", "display_name": "user3478832", "link": "https://stackoverflow.com/users/3478832/user3478832"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 411, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469010313, "creation_date": 1445468362, "last_edit_date": 1445475194, "question_id": 33270656, "link": "https://stackoverflow.com/questions/33270656/convert-curl-to-requests-in-python", "title": "Convert curl to Requests in Python", "body": "<p>How do you convert a -F curl command to requests in python.\nSpecifically, how would you convert the code below to python. I know Facebook has an sdk for this - but I'm curious if this can be done using the requests library</p>\n\n<pre><code>curl\n-F 'name=my new ca'\n-F 'access_token=&lt;ACCESS_TOKEN&gt;'         HTTPS://graph.Facebook.com/&lt;api_version&gt;/act/customaudiences\n</code></pre>\n\n<p>Converting to Python using requests - I can't figure out where I am making the error:</p>\n\n<pre><code>import requests\nurl = 'HTTPS://graph.Facebook.com/&lt;api_version&gt;/act/customaudiences'\nparam: {'name':'my new ca', 'access_token' = '&lt;ACCESS_TOKEN'}\nx = requests.post(url, files = param)\n</code></pre>\n"}, {"tags": ["python", "sqlite"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 17, "last_activity_date": 1445468171, "creation_date": 1445468171, "answer_id": 33270625, "question_id": 33270534, "link": "https://stackoverflow.com/questions/33270534/sqlite3-programmingerror-incorrect-number-of-bindings-supplied-the-current-sta/33270625#33270625", "title": "sqlite3.ProgrammingError: Incorrect number of bindings supplied. The current statement uses 1, and there are 5 supplied", "body": "<p>Pass the argument to <code>execute()</code> as a tuple. Replace:</p>\n\n<pre><code>c.execute(\"SELECT * FROM logins WHERE usernames=(?)\", (self.user))\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>c.execute(\"SELECT * FROM logins WHERE usernames=(?)\", (self.user, ))\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5473605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5622d932bf8c0ae239e8853583a3cf05?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Kelbie", "link": "https://stackoverflow.com/users/5473605/sam-kelbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7722, "favorite_count": 3, "accepted_answer_id": 33270625, "answer_count": 1, "score": 3, "last_activity_date": 1445471852, "creation_date": 1445467598, "last_edit_date": 1445471852, "question_id": 33270534, "link": "https://stackoverflow.com/questions/33270534/sqlite3-programmingerror-incorrect-number-of-bindings-supplied-the-current-sta", "title": "sqlite3.ProgrammingError: Incorrect number of bindings supplied. The current statement uses 1, and there are 5 supplied", "body": "<p>I can not for the life of me figure why this is failing, ugly code I know but I just need to put it out for a school project.</p>\n\n<pre><code>def changeusername(self,i):\n    user=\"self.user=self.username\"+str(i)+\".get()\"\n    exec(user)\n    print(self.user)\n    record1=list(c.execute(\"SELECT * FROM logins WHERE usernames=(?)\",(self.user)))\n    print(record1)\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>line 428, in changeusername\nrecord1=list(c.execute(\"SELECT * FROM logins WHERE usernames=(?)\",(self.user)))\nsqlite3.ProgrammingError: Incorrect number of bindings supplied. The current statement uses 1, and there are 5 supplied.\n</code></pre>\n\n<p>I have probably missed something really simple but hey :P</p>\n\n<p>EDIT: It seems to work for my single char usernames but it fails when I try the ADMIN username hence the 5 bindings</p>\n"}, {"tags": ["python", "except"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5424482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07515e220ed838c1c24befd38dd6b3f8?s=128&d=identicon&r=PG&f=1", "display_name": "poop", "link": "https://stackoverflow.com/users/5424482/poop"}, "edited": false, "score": 0, "creation_date": 1445468273, "post_id": 33270554, "comment_id": 54342402, "body": "Actually what would the command be for it? NameError or ValueError?"}], "tags": [], "owner": {"reputation": 15340, "user_id": 1560035, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fe3aa4a1766a44d8f27db8a95cb573ed?s=128&d=identicon&r=PG", "display_name": "TheoretiCAL", "link": "https://stackoverflow.com/users/1560035/theoretical"}, "is_accepted": false, "score": 1, "last_activity_date": 1445467683, "creation_date": 1445467683, "answer_id": 33270554, "question_id": 33270510, "link": "https://stackoverflow.com/questions/33270510/how-to-make-it-so-an-error-happens-when-user-inputs-number-over-100-or-less-than/33270554#33270554", "title": "How to make it so an error happens when user inputs number over 100 or less than 0", "body": "<p>You can manually throw an error with <code>raise</code> which will be caught be a general <code>except</code> statement (with no exception type specified).</p>\n"}, {"tags": [], "owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "is_accepted": false, "score": 1, "last_activity_date": 1445470066, "last_edit_date": 1495541681, "creation_date": 1445470066, "answer_id": 33270962, "question_id": 33270510, "link": "https://stackoverflow.com/questions/33270510/how-to-make-it-so-an-error-happens-when-user-inputs-number-over-100-or-less-than/33270962#33270962", "title": "How to make it so an error happens when user inputs number over 100 or less than 0", "body": "<p>You can implement it something like this:</p>\n\n<pre><code>n = int(input(\"What is it?\\n\"))\n\nif 100 &gt; n and n &gt; 0:\n    print(\"you did good\")\nelse:\n    raise ValueError('it must be between 0 and 100')\n</code></pre>\n\n<p>If the answer is above 100 or less than 0, it will raise the <code>ValueError</code> execption as such:</p>\n\n<pre><code>What is it?\n101\nTraceback (most recent call last):\n  File \"C:/Users/Leb/Desktop/Python/test2.py\", line 6, in &lt;module&gt;\n    raise ValueError('it must be between 0 and 100')\nValueError: it must be between 0 and 100\n</code></pre>\n\n<p>For more detailed information check out this answer: <a href=\"https://stackoverflow.com/questions/2052390/manually-raising-throwing-an-exception-in-python\">Manually raising (throwing) an exception in Python</a></p>\n"}], "owner": {"reputation": 3, "user_id": 5424482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07515e220ed838c1c24befd38dd6b3f8?s=128&d=identicon&r=PG&f=1", "display_name": "poop", "link": "https://stackoverflow.com/users/5424482/poop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1445470462, "creation_date": 1445467436, "last_edit_date": 1445470462, "question_id": 33270510, "link": "https://stackoverflow.com/questions/33270510/how-to-make-it-so-an-error-happens-when-user-inputs-number-over-100-or-less-than", "title": "How to make it so an error happens when user inputs number over 100 or less than 0", "body": "<p>Hey does anyone know what <em>error</em> handling I would need to use using the <em>Except</em> <em>command</em>? Thanks and this is the code I am trying to put it to.</p>\n\n<pre><code>try:\n    #Get average, amount earned\n    school_average = input(\"Enter your average in school:\")\n    money_earned = input(\"How much money did you earn before summer: \")\n\n#determine the resulting vacation\nif school_average &gt;= 80 and money_earned &gt;= 500:\n    print \"You get to go to Europe!\"\nelif school_average &gt;= 80:\n    print \"You get to go to California.\"\nelse:\n    print \"You do not get to go away.\"\nexcept NameError:\n    print \"Please input a number for your average and amount of money earned.\"\nexcept:\n    print \"An error has occurred\"\n</code></pre>\n"}, {"tags": ["python", "audio", "signals", "frequency"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1445468349, "post_id": 33270493, "comment_id": 54342425, "body": "Is your signal pure (simulated) or is it a real (noisy) measurement?"}, {"owner": {"reputation": 9, "user_id": 4246491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280c0cecf600fd157acb2f5f92b48ddc?s=128&d=identicon&r=PG&f=1", "display_name": "lux", "link": "https://stackoverflow.com/users/4246491/lux"}, "reply_to_user": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1445469608, "post_id": 33270493, "comment_id": 54342810, "body": "The signals are pure. I use the Python wave module to write the signals. @JulienBernu"}, {"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 1, "creation_date": 1445470404, "post_id": 33270493, "comment_id": 54343035, "body": "I&#39;ve never heard of this technique (but I&#39;m not an expert) and a quick search seems to indicate it is mostly used to uncover the &#39;hidden&#39; fundamental frequency of composite waves, which could somehow explain how you could go from 840 to 420? If I had the same goal, working with pure sinewaves, I&#39;d simply take the fft of the signal itself and look for the peak..."}, {"owner": {"reputation": 9, "user_id": 4246491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280c0cecf600fd157acb2f5f92b48ddc?s=128&d=identicon&r=PG&f=1", "display_name": "lux", "link": "https://stackoverflow.com/users/4246491/lux"}, "reply_to_user": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1445479505, "post_id": 33270493, "comment_id": 54345459, "body": "I&#39;m no expert either. I&#39;ve read about FFT on wolfram alpha and wiki but still do not have a firm understanding of what happens. Could you explain the approach you&#39;ve mentioned? @JulienBernu"}, {"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1445481838, "post_id": 33270493, "comment_id": 54346084, "body": "FFT stands for Fast Fourier Transform. The Fast part just refers to a clever computing trick to make things... fast. If you search for FFT you&#39;ll mostly get results for that computing trick, which is irrelevant to you (as a start). Just search for Fourier Transform to see how it is linked to spectrum analysis. It is reasonably advance math and not to be answered shortly here... For a 2 word answer: the FT of a sinewave exhibits a clear peak at the frequency of your sine (within sampling rate scaling)."}, {"owner": {"reputation": 9, "user_id": 4246491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280c0cecf600fd157acb2f5f92b48ddc?s=128&d=identicon&r=PG&f=1", "display_name": "lux", "link": "https://stackoverflow.com/users/4246491/lux"}, "reply_to_user": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1445487376, "post_id": 33270493, "comment_id": 54347387, "body": "Interesting maths. I found an implementation that uses the algorithm you&#39;ve described. From what I understand, the peak of the Fourier Transform is the frequency? @JulienBernu"}], "answers": [{"tags": [], "owner": {"reputation": 3278, "user_id": 2812618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f8b8cee3bc4770b1de4921f5192acd?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Zalkow", "link": "https://stackoverflow.com/users/2812618/frank-zalkow"}, "is_accepted": false, "score": 0, "last_activity_date": 1447249920, "creation_date": 1447249920, "answer_id": 33652007, "question_id": 33270493, "link": "https://stackoverflow.com/questions/33270493/partially-correct-frequency-detection-in-python/33652007#33652007", "title": "Partially Correct Frequency Detection in Python", "body": "<p>If you want to  estimate the frequency of a pure, simulated signal, the Fourier Transform perfectly fits your needs.</p>\n\n<pre><code>import numpy as np\n\nSAMPLE_RATE = 48000\nFREQUENCY = 840.0\n\n# simulated pure signal\nt = np.linspace(0, 1, SAMPLE_RATE)\nsignal = np.sin(2 * np.pi * FREQUENCY * t)\n\n# compute the magnitude of the Fourier Transform and its corresponding frequency values\nfreq_magnitudes = np.abs(np.fft.fft(signal))\nfreq_values = np.fft.fftfreq(SAMPLE_RATE, 1/SAMPLE_RATE)\n\n# find the max. magnitude\nmax_positive_freq_idx = np.argmax(freq_magnitudes[:SAMPLE_RATE//2 + 1])\n\nprint(freq_values[max_positive_freq_idx]) # 840.0\n</code></pre>\n\n<p>If you are not familiar with the Fourier Transform, e.g. have a look at chapter 8 of Steven Smiths <a href=\"http://www.dspguide.com/ch8.htm\" rel=\"nofollow\"><em>The Scientist and Engineer's Guide to Digital Signal Processing</em></a>.</p>\n"}], "owner": {"reputation": 9, "user_id": 4246491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280c0cecf600fd157acb2f5f92b48ddc?s=128&d=identicon&r=PG&f=1", "display_name": "lux", "link": "https://stackoverflow.com/users/4246491/lux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447249920, "creation_date": 1445467325, "last_edit_date": 1445467562, "question_id": 33270493, "link": "https://stackoverflow.com/questions/33270493/partially-correct-frequency-detection-in-python", "title": "Partially Correct Frequency Detection in Python", "body": "<p>I have found an algorithm that uses auto correlation and parabolic interpolation to estimate the frequency of an audio signal. </p>\n\n<pre><code># correct the signal.\nauto = scipy.signal.fftconvolve(signal, signal[::-1], mode='full')\nauto = auto[len(auto)/2:]\n\n# find the first minimum point in the signal.\ndifference = numpy.diff(auto)\nstart = matplotlib.mlab.find(difference &gt; 0)[0]\n\n# find the peak from that position.\npeak = numpy.argmax(auto[start:]) + start\n# calculate the period using parabolic interpolation.\nperiod = 1/2.0 * (auto[peak-1] - auto[peak+1]) / (auto[peak-1] - 2 * auto[peak] + auto[peak+1]) + peak\nfrequency = sample_rate / period\n</code></pre>\n\n<p>I know the range of human hearing is <em>20Hz</em> to <em>20kHz</em>. With a sample rate <em>44100Hz</em>, I can write and read <em>22049Hz</em> accurately. However, the algorithm mistakes some of the frequencies. </p>\n\n<p>Given a signal of <em>840Hz</em>, it reads <em>420Hz</em>. At <em>20000Hz</em>, the algorithm calculates <em>512Hz</em>. The algorithm oscillates between accurate estimations and returning the incorrect frequency. </p>\n\n<p>I do not have much knowledge about signal processing.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "is_accepted": true, "score": 1, "last_activity_date": 1445467443, "creation_date": 1445467443, "answer_id": 33270512, "question_id": 33270486, "link": "https://stackoverflow.com/questions/33270486/how-can-i-call-data-in-a-pandas-dataframe-according-to-lower-and-upper-bound/33270512#33270512", "title": "How can I call data in a pandas DataFrame according to lower and upper bound?", "body": "<p>If you have numexpr installed, you can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.query.html\" rel=\"nofollow\"><code>query()</code></a>:</p>\n\n<pre><code>DataFrame2 = DataFrame.query('Age &lt; 40 &amp; Age &gt; 10')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": false, "score": 1, "last_activity_date": 1445467785, "creation_date": 1445467785, "answer_id": 33270570, "question_id": 33270486, "link": "https://stackoverflow.com/questions/33270486/how-can-i-call-data-in-a-pandas-dataframe-according-to-lower-and-upper-bound/33270570#33270570", "title": "How can I call data in a pandas DataFrame according to lower and upper bound?", "body": "<p>You can use &amp;:</p>\n\n<pre><code>df2 = df[(10 &lt; df['Age']) &amp; (df['Age'] &lt; 40)]\n</code></pre>\n\n<p><em>Note: query/numexp will be more efficient as it won't create as many temporary arrays.</em></p>\n"}], "owner": {"reputation": 315, "user_id": 4167503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4cbc03afb985aeae9c896affec5e95bf?s=128&d=identicon&r=PG&f=1", "display_name": "stollenm", "link": "https://stackoverflow.com/users/4167503/stollenm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 33270512, "answer_count": 2, "score": 1, "last_activity_date": 1445468822, "creation_date": 1445467290, "last_edit_date": 1445468822, "question_id": 33270486, "link": "https://stackoverflow.com/questions/33270486/how-can-i-call-data-in-a-pandas-dataframe-according-to-lower-and-upper-bound", "title": "How can I call data in a pandas DataFrame according to lower and upper bound?", "body": "<p>Is there an easier way to write the following?\n<code>DataFrame2</code> should include all rows from <code>DataFrame</code> which have a value in the <code>Age</code> column between 10 and 40.</p>\n\n<pre><code>DataFrame2=DataFrame[DataFrame['Age']&lt;40]\nDataFrame2=DataFrame2[DataFrame2['Age']&gt;10]\n</code></pre>\n"}, {"tags": ["python", "list", "python-2.7", "loops", "indexing"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1445467058, "post_id": 33270413, "comment_id": 54342029, "body": "instead of using <code>print</code>, use <code>raw_input</code> if you want it to wait for user input each time. also, what are you using index for...?"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "edited": false, "score": 0, "creation_date": 1445467193, "post_id": 33270413, "comment_id": 54342064, "body": "You might want to end up with a dictionary of {city: country} entries, and then you can <code>locations[city] = raw_input(&quot;Where is &quot;+str(city)+&quot; located?&quot;</code>"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1445467362, "post_id": 33270413, "comment_id": 54342121, "body": "Why are you using indices at all? Why not a <code>for ... in</code> loop?"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1445467455, "post_id": 33270413, "comment_id": 54342154, "body": "@MalikBrahimi Not sure why they&#39;re using an index, but they ARE using a <code>for</code> loop."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1445468561, "post_id": 33270413, "comment_id": 54342492, "body": "Wouldn&#39;t this code already do what the OP wants? I don&#39;t understand what this question is asking for."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 5451516, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fOM5W.jpg?s=128&g=1", "display_name": "Stanley Wilkins", "link": "https://stackoverflow.com/users/5451516/stanley-wilkins"}, "edited": false, "score": 0, "creation_date": 1445470744, "post_id": 33270498, "comment_id": 54343140, "body": "Thank you very much, that&#39;s exactly what I needed. Also thanks to other commentators. I thought I needed index, but looks like what I need are dictionary, enumerate and append. No wonder I couldn&#39;t find the solution using indices."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 125, "user_id": 5451516, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fOM5W.jpg?s=128&g=1", "display_name": "Stanley Wilkins", "link": "https://stackoverflow.com/users/5451516/stanley-wilkins"}, "edited": false, "score": 0, "creation_date": 1445474758, "post_id": 33270498, "comment_id": 54344219, "body": "@StanleyWilkins I&#39;m sure you could do it with indices too, but it&#39;s not immediately apparent what your &quot;final result&quot; should be so it&#39;s hard for me to give you direct guidance as to how to get there. <code>enumerate</code> just gives you access to the index WHILE you iterate, so..."}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 2, "last_activity_date": 1445467350, "creation_date": 1445467350, "answer_id": 33270498, "question_id": 33270413, "link": "https://stackoverflow.com/questions/33270413/how-to-index-a-user-input-list-in-python-2-x/33270498#33270498", "title": "How to index a user input list in Python 2.x?", "body": "<p>You could use an infinite loop with some sort of sentinel for the user to indicate \"Okay no more.\" How about:</p>\n\n<pre><code>cities = []\nwhile True:\n    city = raw_input(\"Enter a city you've been to (or press enter to exit): \")\n    if city == '':  # no input -- this is your sentinel\n        break  # leave the loop\n    else:\n        cities.append(city)\n</code></pre>\n\n<p>Then you can prompt for the countries if you wanted to do that separately for some reason.</p>\n\n<pre><code>countries = []\nfor idx, city in enumerate(cities):\n    country = raw_input(\"Where is \" + city + \" located? \")\n    countries.append(country)\n    # why did you need the index? enumerate is the way to go now....\n</code></pre>\n\n<p>Maybe you need a dictionary then?</p>\n\n<pre><code>cities_to_countries = dict(zip(cities, countries))\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 5451516, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fOM5W.jpg?s=128&g=1", "display_name": "Stanley Wilkins", "link": "https://stackoverflow.com/users/5451516/stanley-wilkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 784, "favorite_count": 0, "accepted_answer_id": 33270498, "answer_count": 1, "score": 1, "last_activity_date": 1445467350, "creation_date": 1445466880, "last_edit_date": 1592644375, "question_id": 33270413, "link": "https://stackoverflow.com/questions/33270413/how-to-index-a-user-input-list-in-python-2-x", "title": "How to index a user input list in Python 2.x?", "body": "<p>want user to input the names of the cities he has been, and I want the script to store each of them individually.</p>\n<p>I made this part working all right.</p>\n<p>Then, for the sake of the project, the script should ask where each city is located at. But now, it works like this:</p>\n<p>input:</p>\n<pre><code>Paris, Hamburg, London...\n</code></pre>\n<p>output:</p>\n<pre><code>Where is Paris located?\nWhere is Hamburg located?\nWhere is London located?\n...\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre><code>user_cities = raw_input(&quot;What cities have you visited so far?&quot;).split(&quot;, &quot;)\nif len(user_cities) &gt; 0:\n    index = 0\n    for city in user_cities:\n        print &quot;Where is &quot;+str(city)+&quot; located?&quot;, \n        index+=1\n</code></pre>\n<p>There one thing missing from the expected output:</p>\n<blockquote>\n<p><strong>How do we index and/or iterate a user input list?</strong> I tried every piece of code in similar situations but none of them worked for me.</p>\n<p>We don't know how many cities he has been to. He can write just 1 city or 20 cities. I can hardcode, writing dozens of unnecessary lines, but I know there is a right way to do it. I can't remember how.</p>\n</blockquote>\n<p>In the expected result, I want it to take turns to ask user where the city is located one by one.</p>\n<p>input:</p>\n<pre><code>Paris, Hamburg, London...\n</code></pre>\n<p>output 1:</p>\n<pre><code>Where is Paris located?\n</code></pre>\n<p>input 1:</p>\n<pre><code>France\n</code></pre>\n<p>output 2:</p>\n<pre><code>Where is Hamburg located?\n</code></pre>\n<p>input 2:</p>\n<pre><code>Germany\n</code></pre>\n<p>etc.</p>\n"}, {"tags": ["python", "flask", "docker", "gunicorn", "supervisord"], "comments": [{"owner": {"reputation": 1406, "user_id": 1134445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f67e98e52709b4a815541838887e636?s=128&d=identicon&r=PG", "display_name": "dopstar", "link": "https://stackoverflow.com/users/1134445/dopstar"}, "edited": false, "score": 0, "creation_date": 1445468014, "post_id": 33270392, "comment_id": 54342326, "body": "When it works fine, what is the user do you use?, what is your working directory? Do you activate any virtualenv? Do you export any environment variables?"}, {"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1445477855, "post_id": 33270392, "comment_id": 54345077, "body": "<code>docker</code> typically requires sudo Unless you give a user or group access to it without sudo. Does the user running your app have that?"}, {"owner": {"reputation": 26749, "user_id": 1057639, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dca512d496c5909a8efbd3a25a2b98f4?s=128&d=identicon&r=PG", "display_name": "ganaraj", "link": "https://stackoverflow.com/users/1057639/ganaraj"}, "reply_to_user": {"reputation": 1406, "user_id": 1134445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f67e98e52709b4a815541838887e636?s=128&d=identicon&r=PG", "display_name": "dopstar", "link": "https://stackoverflow.com/users/1134445/dopstar"}, "edited": false, "score": 0, "creation_date": 1445503425, "post_id": 33270392, "comment_id": 54354119, "body": "@dopstar:I do activate virtual env. No environment variables are exported."}, {"owner": {"reputation": 26749, "user_id": 1057639, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dca512d496c5909a8efbd3a25a2b98f4?s=128&d=identicon&r=PG", "display_name": "ganaraj", "link": "https://stackoverflow.com/users/1057639/ganaraj"}, "reply_to_user": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1445503495, "post_id": 33270392, "comment_id": 54354165, "body": "@dirn: supervisor is started with root user <code>user=root</code> - am I right ?"}, {"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1445526592, "post_id": 33270392, "comment_id": 54368999, "body": "While <code>root</code> has permission to sudo, I&#39;m asking if it has permission to run Docker commands without sudo."}, {"owner": {"reputation": 26749, "user_id": 1057639, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dca512d496c5909a8efbd3a25a2b98f4?s=128&d=identicon&r=PG", "display_name": "ganaraj", "link": "https://stackoverflow.com/users/1057639/ganaraj"}, "reply_to_user": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1445527039, "post_id": 33270392, "comment_id": 54369307, "body": "@dirn Yeah. I do ssh into that box as root and when I directly run the docker command it works fine."}], "owner": {"reputation": 26749, "user_id": 1057639, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dca512d496c5909a8efbd3a25a2b98f4?s=128&d=identicon&r=PG", "display_name": "ganaraj", "link": "https://stackoverflow.com/users/1057639/ganaraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1445466748, "creation_date": 1445466748, "question_id": 33270392, "link": "https://stackoverflow.com/questions/33270392/supervisord-running-flask-app-calling-docker-app", "title": "Supervisord running flask app calling docker app", "body": "<p>I have a flask app that calls my dockerized app using <code>subprocess</code>.</p>\n\n<pre><code>@app.route('/detect', methods=['POST'])\ndef detect_file():\n    file = request.files['wireframe']\n    if file and allowed_file(file.filename):\n        filename = str(uuid.uuid4()) + getFileExtension(file.filename)\n        file.save(os.path.join(app.config['UPLOAD_FOLDER'],\n                    filename))\n    p = subprocess.Popen([\"docker\",\"run\",\"-v\",\"/home/ganaraj/contours/upload:/detect\",\"-w\",\n            \"/detect\",\"-it\",\"--rm\",\"opecv3\", \"./prediction\",\n                   filename ], stdout=subprocess.PIPE)\n    output, err = p.communicate()\n    return jsonify(result=output.rstrip())\n    return jsonify(error='Mismatch file type')\n</code></pre>\n\n<p>When I run the flask app on its own <code>python app.py</code> it works just fine. I get back a result from the dockerized app. \nWhen I run the flask app using gunicorn directly <code>gunicorn wsgi.py</code> it works fine too.</p>\n\n<p>When I run the flask app through gunicorn and use supervisor to keep it going - the app launches - api's work normally <strong>EXCEPT THE DOCKERIZED</strong> part.\nI am guessing this has something to do with the <strong>permissions</strong> of some sort but I cant figure out what exactly I need to do to solve this. </p>\n\n<p>Here is my <code>supervisord.conf</code> for reference.</p>\n\n<pre><code>[program:cvupload]\ncommand = /root/anaconda/envs/cvuload/bin/gunicorn -b 0.0.0.0:9000 --debug --log-level debug wsgi:app\ndirectory = /home/ganaraj/contours\nuser=root\n</code></pre>\n\n<p>Is there any changes I need to do to any part of this whole tool chain so that I cna get it working fine ? </p>\n"}, {"tags": ["python", "path"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1445466719, "post_id": 33270325, "comment_id": 54341906, "body": "use <code>r&quot;string&quot;</code> or escape all your backslashes with <code>&#39;\\\\&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "is_accepted": true, "score": 3, "last_activity_date": 1445466723, "creation_date": 1445466723, "answer_id": 33270385, "question_id": 33270325, "link": "https://stackoverflow.com/questions/33270325/numbers-value-changes-when-directly-after-the-backslash-os-path-normpathstring/33270385#33270385", "title": "Numbers Value Changes When Directly After the Backslash os.path.normpath(string)", "body": "<p>The easiest way to solve this is to use a raw string literal:</p>\n\n<pre><code>fileString = os.path.normpath(r\"server:\\Projects\\05 Project Name\\Data\\20151021\\Master.xlsx\")\n#                             ^\n</code></pre>\n\n<p>The backslash character denotes an escape sequence in regular strings.</p>\n\n<p>The other way around this is to either use forward slashes as path delimiters, or double backslashes:</p>\n\n<pre><code>\"server:/Projects/05 Project Name/Data/20151021/Master.xlsx\"\n</code></pre>\n\n<p>or </p>\n\n<pre><code>\"server:\\\\Projects\\\\05 Project Name\\\\Data\\\\20151021\\\\Master.xlsx\"\n</code></pre>\n"}], "owner": {"reputation": 492, "user_id": 3358407, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/8628963/picture?type=large", "display_name": "Jason Melo Hall", "link": "https://stackoverflow.com/users/3358407/jason-melo-hall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 33270385, "answer_count": 1, "score": 2, "last_activity_date": 1445466723, "creation_date": 1445466423, "question_id": 33270325, "link": "https://stackoverflow.com/questions/33270325/numbers-value-changes-when-directly-after-the-backslash-os-path-normpathstring", "title": "Numbers Value Changes When Directly After the Backslash os.path.normpath(string)", "body": "<p>I am using os.path.normpath and the values change when there are numbers directly after a backslash. </p>\n\n<pre><code>fileString = os.path.normpath(\"server:\\Projects\\05 Project Name\\Data\\20151021\\Master.xlsx\")\nprint fileString\n</code></pre>\n\n<p>Returns: server:\\Projects\\Project\\Data\ufffd51021\\MASTER_LIST.XLSX</p>\n\n<p>Notice the '\\05' disappeared and the '\\20' turned into \ufffd.</p>\n\n<p>Why is this happening and how can I fix it?</p>\n"}, {"tags": ["python", "django", "python-2.7", "django-models"], "comments": [{"owner": {"reputation": 4904, "user_id": 192390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/vHSfV.gif?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/192390/ivan"}, "edited": false, "score": 0, "creation_date": 1445466660, "post_id": 33270297, "comment_id": 54341887, "body": "This is an error in generated SQL. Can you add SQL logs?"}, {"owner": {"reputation": 4904, "user_id": 192390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/vHSfV.gif?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/192390/ivan"}, "edited": false, "score": 0, "creation_date": 1445467151, "post_id": 33270297, "comment_id": 54342052, "body": "Also, try running <code>.&#47;manage.py sqlmigrate</code> and looking at the output."}, {"owner": {"reputation": 16356, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/MqCvM.jpg?s=128&g=1", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "edited": false, "score": 0, "creation_date": 1445468617, "post_id": 33270297, "comment_id": 54342511, "body": "<code>DEFAULT_DB_ALIAS</code> is most likely your problem. Check here for a syntax error / typo."}, {"owner": {"reputation": 794, "user_id": 2665391, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1468977014/picture?type=large", "display_name": "Amal Ts", "link": "https://stackoverflow.com/users/2665391/amal-ts"}, "edited": false, "score": 0, "creation_date": 1445468629, "post_id": 33270297, "comment_id": 54342514, "body": "I use sqlite, how do i get the logs?"}, {"owner": {"reputation": 794, "user_id": 2665391, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1468977014/picture?type=large", "display_name": "Amal Ts", "link": "https://stackoverflow.com/users/2665391/amal-ts"}, "edited": false, "score": 0, "creation_date": 1445468649, "post_id": 33270297, "comment_id": 54342524, "body": "I can run the same code in a different host and it works perfectly"}, {"owner": {"reputation": 4904, "user_id": 192390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/vHSfV.gif?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/192390/ivan"}, "edited": false, "score": 0, "creation_date": 1445469732, "post_id": 33270297, "comment_id": 54342850, "body": "@AmalTs I think this is a DB encoding issue. Can you check it with <code>PRAGMA encoding;</code> in your sqlite shell?"}], "answers": [{"tags": [], "owner": {"reputation": 216, "user_id": 1244579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wxoL9.jpg?s=128&g=1", "display_name": "dingyuchi", "link": "https://stackoverflow.com/users/1244579/dingyuchi"}, "is_accepted": true, "score": 1, "last_activity_date": 1447223245, "creation_date": 1447223245, "answer_id": 33645319, "question_id": 33270297, "link": "https://stackoverflow.com/questions/33270297/django-db-utils-operationalerror-near-n-syntax-error/33645319#33645319", "title": "django.db.utils.OperationalError: near &quot;&#327746;&#589895;N&quot;: syntax error", "body": "<p>The problem is python build with ucs-2, so rebuild with <strong>ucs-4</strong> should be work.</p>\n\n<p>Python 2.7.6</p>\n\n<pre><code>wget http://python.org/ftp/python/2.7.6/Python-2.7.6.tar.xz\ntar xf Python-2.7.6.tar.xz\ncd Python-2.7.6\n./configure --prefix=/usr/local --enable-unicode=ucs4 --enable-shared LDFLAGS=\"-Wl,-rpath /usr/local/lib\"\nmake &amp;&amp; make altinstall\n</code></pre>\n"}], "owner": {"reputation": 794, "user_id": 2665391, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1468977014/picture?type=large", "display_name": "Amal Ts", "link": "https://stackoverflow.com/users/2665391/amal-ts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1649, "favorite_count": 0, "accepted_answer_id": 33645319, "answer_count": 1, "score": 1, "last_activity_date": 1447223245, "creation_date": 1445466283, "question_id": 33270297, "link": "https://stackoverflow.com/questions/33270297/django-db-utils-operationalerror-near-n-syntax-error", "title": "django.db.utils.OperationalError: near &quot;&#327746;&#589895;N&quot;: syntax error", "body": "<p>I'm getting some weird error when i run ./manage.py runserver or migrate command.\nI checked the files from where the exception is thrown, but no idea</p>\n\n<pre><code>Unhandled exception in thread started by &lt;function wrapper at 0x7fd4c73df488&gt;\nTraceback (most recent call last):\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/utils/autoreload.py\", line 225, in wrapper\n    fn(*args, **kwargs)\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/core/management/commands/runserver.py\", line 112, in inner_run\n    self.check_migrations()\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/core/management/commands/runserver.py\", line 164, in check_migrations\n    executor = MigrationExecutor(connections[DEFAULT_DB_ALIAS])\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/migrations/executor.py\", line 19, in __init__\n    self.loader = MigrationLoader(self.connection)\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/migrations/loader.py\", line 47, in __init__\n    self.build_graph()\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/migrations/loader.py\", line 182, in build_graph\n    self.applied_migrations = recorder.applied_migrations()\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/migrations/recorder.py\", line 59, in applied_migrations\n    self.ensure_schema()\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/migrations/recorder.py\", line 52, in ensure_schema\n    with self.connection.schema_editor() as editor:\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/backends/base/schema.py\", line 85, in __enter__\n    self.atomic.__enter__()\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/transaction.py\", line 190, in __enter__\n    connection._start_transaction_under_autocommit()\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py\", line 299, in _start_transaction_under_autocommit\n    self.cursor().execute(\"BEGIN\")\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/backends/utils.py\", line 79, in execute\n    return super(CursorDebugWrapper, self).execute(sql, params)\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/utils.py\", line 97, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/backends/utils.py\", line 62, in execute\n    return self.cursor.execute(sql)\n  File \"/home/dummy/RobocopEnv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py\", line 316, in execute\n    return Database.Cursor.execute(self, query)\ndjango.db.utils.OperationalError: near \"\ud900\udc42\uda00\udc47N\": syntax error\n</code></pre>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 5145, "user_id": 2955312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1249951c24840c64d8c32951e967170a?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Weinstein", "link": "https://stackoverflow.com/users/2955312/ryan-weinstein"}, "edited": false, "score": 0, "creation_date": 1445468895, "post_id": 33270276, "comment_id": 54342603, "body": "Do you mean save them to the disk, or save them in the memory?"}, {"owner": {"reputation": 41, "user_id": 5400974, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92a8ccd79a3834fe17322de657279477?s=128&d=identicon&r=PG&f=1", "display_name": "Beginner1111", "link": "https://stackoverflow.com/users/5400974/beginner1111"}, "reply_to_user": {"reputation": 5145, "user_id": 2955312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1249951c24840c64d8c32951e967170a?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Weinstein", "link": "https://stackoverflow.com/users/2955312/ryan-weinstein"}, "edited": false, "score": 0, "creation_date": 1445506004, "post_id": 33270276, "comment_id": 54355779, "body": "saving them in memory to access them later on"}, {"owner": {"reputation": 41, "user_id": 5400974, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92a8ccd79a3834fe17322de657279477?s=128&d=identicon&r=PG&f=1", "display_name": "Beginner1111", "link": "https://stackoverflow.com/users/5400974/beginner1111"}, "reply_to_user": {"reputation": 5145, "user_id": 2955312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1249951c24840c64d8c32951e967170a?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Weinstein", "link": "https://stackoverflow.com/users/2955312/ryan-weinstein"}, "edited": false, "score": 0, "creation_date": 1445506176, "post_id": 33270276, "comment_id": 54355893, "body": "like when i want to use surface1 i can go like this name[0]"}], "answers": [{"tags": [], "owner": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "is_accepted": false, "score": 0, "last_activity_date": 1445525345, "creation_date": 1445525345, "answer_id": 33283952, "question_id": 33270276, "link": "https://stackoverflow.com/questions/33270276/storing-pygame-surface-objects/33283952#33283952", "title": "Storing pygame surface objects", "body": "<p>Just create a list, like</p>\n\n<pre><code>images = [surface1, surface2, surface3, surface4 ...etc... ]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 5400974, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92a8ccd79a3834fe17322de657279477?s=128&d=identicon&r=PG&f=1", "display_name": "Beginner1111", "link": "https://stackoverflow.com/users/5400974/beginner1111"}, "edited": false, "score": 0, "creation_date": 1445535172, "post_id": 33284603, "comment_id": 54374246, "body": "That&#39;s been helpful. Thank you."}], "tags": [], "owner": {"reputation": 700, "user_id": 529731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/529d936732b42eb98a0d4706a7085f18?s=128&d=identicon&r=PG", "display_name": "cemper93", "link": "https://stackoverflow.com/users/529731/cemper93"}, "is_accepted": false, "score": 0, "last_activity_date": 1445527134, "creation_date": 1445527134, "answer_id": 33284603, "question_id": 33270276, "link": "https://stackoverflow.com/questions/33270276/storing-pygame-surface-objects/33284603#33284603", "title": "Storing pygame surface objects", "body": "<p>To expand on sloth's answer, you can do this:</p>\n\n<pre><code>names = \"image1.jpg\", \"image2.jpg\", \"image3.jpg\"\nsurfaces = []\nfor name in names:\n    surfaces.append(pygame.image.load(name).convert())\n</code></pre>\n\n<p>Then you can access them as surface[0], surface[1] and so on. </p>\n\n<p>You may want to read up on lists and for loops. (Really just repeat the first few chapters of whatever introductory book you're reading.)</p>\n"}], "owner": {"reputation": 41, "user_id": 5400974, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92a8ccd79a3834fe17322de657279477?s=128&d=identicon&r=PG&f=1", "display_name": "Beginner1111", "link": "https://stackoverflow.com/users/5400974/beginner1111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1445527134, "creation_date": 1445466149, "last_edit_date": 1445473683, "question_id": 33270276, "link": "https://stackoverflow.com/questions/33270276/storing-pygame-surface-objects", "title": "Storing pygame surface objects", "body": "<p>I have created 10 <code>surface</code> objects in pygame using <code>subsurface</code>. I am using them to save as <code>jpg</code>'s. </p>\n\n<p>How can use an <code>array</code> or a list to store them and using the <code>array</code> or <code>list</code> later with indexing? It would be easy way to access.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445466789, "post_id": 33270310, "comment_id": 54341937, "body": "Sorry for the nuisance, but using them 3 results how will I find the average? The format of the outputted results has confused me."}, {"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445468073, "post_id": 33270310, "comment_id": 54342343, "body": "Could you please? Give me any insight im really stuck!"}, {"owner": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "edited": false, "score": 0, "creation_date": 1445471365, "post_id": 33270310, "comment_id": 54343338, "body": "By calling your list <code>list</code>, you&#39;re taking over the <a href=\"https://docs.python.org/2/library/functions.html#list\" rel=\"nofollow noreferrer\">builtin function list()</a> and making your code more confusing."}, {"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445634401, "post_id": 33270310, "comment_id": 54421762, "body": "One question, when the program outputs the average it outputs it after each results for example -                                                                                              John = 1          Your average is 1.0                                                                                                       John = 3                                                                                                          Your average is 2.0   my question is how do i get it to output the average after it outputs the last score. Instead of after each consecutive score?"}, {"owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1445876108, "post_id": 33270310, "comment_id": 54496381, "body": "Where did you put the average calculator? Put it after the &quot;with open&quot; block."}], "tags": [], "owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "is_accepted": true, "score": 0, "last_activity_date": 1445529108, "last_edit_date": 1445529108, "creation_date": 1445466353, "answer_id": 33270310, "question_id": 33270274, "link": "https://stackoverflow.com/questions/33270274/python-help-create-averages-from-a-list-from-txt-file/33270310#33270310", "title": "Python HELP | Create averages from a list from .txt file?", "body": "<p>If the <em>format</em> of each <em>line</em> is the same, you can use <code>string.split</code> and cast to <code>int</code>:</p>\n\n<pre><code>classs = input(\"Class [1, 2 or 3] -  \")\nl = []\n\nif classs =='1':\n    name = input(\"What is your name? -  \")\n\n    datafile = '1.txt'\n    found = False\n\n    with open(datafile, 'r') as f:\n        data = f.readlines()\n        for line in data:\n            if name in line:\n                print(line)\n                l.append(int(line.split()[2]))\n                found = True\n        if found == False:\n            print(\"False\")\n</code></pre>\n\n<p>Then go through the list of numbers and get the average, something like:</p>\n\n<pre><code>total = 0\nnum = 0\nfor x in l:\n    total = total + x\n    num = num + 1\nprint(total/num)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445468273, "post_id": 33270546, "comment_id": 54342401, "body": "How do you extract the numbers within the list? Could you possibly put then into a variable which you can then easily make an average?"}], "tags": [], "owner": {"reputation": 133, "user_id": 4880347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac072a839d9fa3aff6a3f05e190b4f1f?s=128&d=identicon&r=PG&f=1", "display_name": "callumbous", "link": "https://stackoverflow.com/users/4880347/callumbous"}, "is_accepted": false, "score": 0, "last_activity_date": 1445467649, "creation_date": 1445467649, "answer_id": 33270546, "question_id": 33270274, "link": "https://stackoverflow.com/questions/33270274/python-help-create-averages-from-a-list-from-txt-file/33270546#33270546", "title": "Python HELP | Create averages from a list from .txt file?", "body": "<p>one way would be to extract the last 3 numbers for each player from your list (i'm assuming you only need 3, if not this code can be altered for more)</p>\n\n<pre><code>Class = input(\"Class: \")\ndataList = []\nfile = open('class ' + str(Class) + '.txt', \"r\")\nfor line in file:\n    count = 0 \n    record = line\n    studentList = record.split(': ')\n    score = studentList[1].strip('\\n')\n    studentList = [studentList[0], score]\n    if len(dataList) == 0:\n        dataList.append(studentList)\n    else:\n        while count &lt; len(dataList):\n            if studentList[0] == dataList[count][0]:\n                if len(dataList[count]) == 4:\n                    dataList[count][3] = dataList[count][2]\n                    dataList[count][2] = dataList[count][1]\n                    dataList[count][1] = score\n                    break\n                dataList[count].append(score)\n                break\n            elif count == len(dataList) - 1:\n                dataList.append(studentList)\n                break\n            count = count + 1\n</code></pre>\n\n<p>this will give you a 2D array. each smaller array within will conatin the persons name at index 0 and there three numbers at indecies 1,2 and 3. now that you have these, you can simply work out the average.</p>\n\n<pre><code>AverageScore = []\n# this is the array where the student' record (name and highest score) is saved\n# in a list\ncount = 0\nwhile count &lt; len(dataList):\n    entry = []\n# this is whre each student name and score will be temporarily held\n    entry.append(dataList[count][0])\n# this makes it so the array 'entry' contains the name of every student\n    Sum = 0\n    frequency = len(dataList[count])\n    incount = 1\n    while incount &lt; frequency:\n        Sum = Sum + int(dataList[count][incount])\n        incount = incount + 1 \n    average = Sum / (frequency-1)\n    entry.append(average)\n    AverageScore.append(entry)\n# this appends the name and average score of the student to the larger array\n# 'AverageScore'\n    count= count + 1\n# the count is increased so the process is repeated for the next student\nAverageSorted = sorted(AverageScore,key=lambda l:l[1], reverse=True)\n# http://stackoverflow.com/questions/18563680/sorting-2d-list-python\n# this is code i obtained through someone else's post which arranges the array in descending\n# order of scores\ncount2 = 0\nwhile count2 &lt; len(AverageSorted):\n    print(AverageSorted[count2][0], ':', AverageSorted[count2][1])\n    count2 = count2 + 1\n# this formats the array so it prints the elements in a list of each student's\n# name and score\n</code></pre>\n\n<p>Long winded and inefficient, but its the best i can do with my small knowledge of python :)</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445470057, "post_id": 33270887, "comment_id": 54342934, "body": "How would i repeated this for the other 2 classes? (2.txt) and (3.txt) as in total there are 3 classes."}, {"owner": {"reputation": 455, "user_id": 2643470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NvItC.png?s=128&g=1", "display_name": "tlovely", "link": "https://stackoverflow.com/users/2643470/tlovely"}, "reply_to_user": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445518072, "post_id": 33270887, "comment_id": 54363137, "body": "You would format the class number into the filename like so on line three: <code>with open(&quot;%s.txt&quot; % class, &quot;r&quot;) as out:</code>."}, {"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445549794, "post_id": 33270887, "comment_id": 54382587, "body": "Sorry i don&#39;t understand, could you possibly encrypt it within the code. So for class 2 + 3."}, {"owner": {"reputation": 455, "user_id": 2643470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NvItC.png?s=128&g=1", "display_name": "tlovely", "link": "https://stackoverflow.com/users/2643470/tlovely"}, "reply_to_user": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445615056, "post_id": 33270887, "comment_id": 54411639, "body": "I added the code you requested to my original response."}], "tags": [], "owner": {"reputation": 455, "user_id": 2643470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NvItC.png?s=128&g=1", "display_name": "tlovely", "link": "https://stackoverflow.com/users/2643470/tlovely"}, "is_accepted": false, "score": 0, "last_activity_date": 1445615026, "last_edit_date": 1445615026, "creation_date": 1445469662, "answer_id": 33270887, "question_id": 33270274, "link": "https://stackoverflow.com/questions/33270274/python-help-create-averages-from-a-list-from-txt-file/33270887#33270887", "title": "Python HELP | Create averages from a list from .txt file?", "body": "<p>If this is the content of <code>1.txt</code>:</p>\n\n<pre><code>John = 1\nJoe = 3\nJohn = 7\nJoe = 9\nBob = 3\nJoe = 8\nJohn = 2\nBob = 9\nRoger = 13\n</code></pre>\n\n<p>Replace your \"with\" statement with this: </p>\n\n<pre><code>name = \"John\"\n_class = 1\n\nwith open(\"%s.txt\" % _class, \"r\") as out:\n    lines = out.readlines()\n\n    scores = []\n\n    for line in lines:\n        if name in line:\n            # \"strip\" without arguments strips out all beginning\n            # and trailing white-space (i.e. \" \", \"\\n\", \"\\r\").\n            line = line.strip()\n\n            score = int(line.split(\" = \")[1])\n\n            scores.append(score)\n\n    # If there isn't any scores in this list, then there was no user\n    # data.\n    if scores:\n        # Use python built-in sum to sum the list of scores and\n        # divide the result by the number of scores gives you the average.\n        average = sum(scores) / len(scores)\n\n        print \"%s's average score is %.1f out of %d game(s).\" % (\n            name, average, len(scores))\n\n    else:\n        print \"User %s not found.\" % name\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 33270310, "answer_count": 3, "score": 0, "last_activity_date": 1445635324, "creation_date": 1445466126, "last_edit_date": 1445635324, "question_id": 33270274, "link": "https://stackoverflow.com/questions/33270274/python-help-create-averages-from-a-list-from-txt-file", "title": "Python HELP | Create averages from a list from .txt file?", "body": "<pre><code>classs = input(\"Class [1, 2 or 3] -  \")\n\nif clas\n        data = f.readlines()\n        for le:\n                print(line)\n                found = True\n        if found == False:\n            print(\"False\")\n</code></pre>\n\n<p>Here is a typical printed output:</p>\n\n<pre><code>John = 10\nJohn = 6\nJohn = 4\n</code></pre>\n\n<p>I need to be able to create an average just by using the <code>10, 4, 6</code> as I need to know a way to isolate the rest and allow the numbers to proceed inorder to create the average score. </p>\n\n<p>Hopefully someone does understand this and is able to help!</p>\n\n<p>Thanks in advanced!</p>\n"}, {"tags": ["python", "list", "global"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 1, "creation_date": 1445466850, "post_id": 33270265, "comment_id": 54341961, "body": "<a href=\"http://stackoverflow.com/questions/4693120/use-of-global-keyword-in-python\" title=\"use of global keyword in python\">stackoverflow.com/questions/4693120/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 1, "creation_date": 1445466957, "post_id": 33270265, "comment_id": 54341993, "body": "You don&#39;t call list_comprehension() in the code posted so pairs is never created.  When you do call it, remember to catch the return, --&gt; pairs= list_comprehension(in2)"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1445469306, "post_id": 33270265, "comment_id": 54342721, "body": "You don&#39;t have a <code>global pairs</code> declaration in <code>isolate</code>, only in <code>list_comprehension</code>."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 5473542, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b1cd1048cd768acbd3a9b615177053b?s=128&d=identicon&r=PG&f=1", "display_name": "mmb_rach", "link": "https://stackoverflow.com/users/5473542/mmb-rach"}, "edited": false, "score": 0, "creation_date": 1445467989, "post_id": 33270430, "comment_id": 54342321, "body": "Thank you, I am going to define it in the main and do as you said and I think it will work. And I realize the problem, the problem is I never actually call the function list_comprehension in my print function. Pairs never needs to be printed, it only is used for the remainder of the program. Due to this I think your method will be the right way to go about it"}, {"owner": {"reputation": 161, "user_id": 5473542, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b1cd1048cd768acbd3a9b615177053b?s=128&d=identicon&r=PG&f=1", "display_name": "mmb_rach", "link": "https://stackoverflow.com/users/5473542/mmb-rach"}, "edited": false, "score": 0, "creation_date": 1445469291, "post_id": 33270430, "comment_id": 54342717, "body": "When I set pairs = list_comprehension(...), we can print pairs in the main function and we get the values needed. However, it also tacks onto the end, [(0.28, 6.62), (0.5, 5.93), (0.67, 4.46), (0.93, 4.25), (1.15, 3.3), (1.38, 3.15), (1.6, 2.43), (1.98, 1.46), &lt;generator object &lt;genexpr&gt; at 0x02F9C800&gt;]. I am not sure what this is, if i use list_comprhension(in2) it says in2 not defined"}, {"owner": {"reputation": 661, "user_id": 2258040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N2um3.jpg?s=128&g=1", "display_name": "Almog", "link": "https://stackoverflow.com/users/2258040/almog"}, "reply_to_user": {"reputation": 161, "user_id": 5473542, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b1cd1048cd768acbd3a9b615177053b?s=128&d=identicon&r=PG&f=1", "display_name": "mmb_rach", "link": "https://stackoverflow.com/users/5473542/mmb-rach"}, "edited": false, "score": 0, "creation_date": 1445469489, "post_id": 33270430, "comment_id": 54342769, "body": "by (...) i mean to pass in whatever values of in2 you inteded to use. it seems that you&#39;ve hardcoded the value of in2 to be &quot;in2&quot; so you can completely remove the argument in2 from the method signature.  As far as a generator object goes - you should see <a href=\"https://wiki.python.org/moin/Generators\" rel=\"nofollow noreferrer\">wiki.python.org/moin/Generators</a> which explains why &lt;generator object&gt; is tacked on at the end (in short its a reference to the generator object)"}, {"owner": {"reputation": 661, "user_id": 2258040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N2um3.jpg?s=128&g=1", "display_name": "Almog", "link": "https://stackoverflow.com/users/2258040/almog"}, "reply_to_user": {"reputation": 161, "user_id": 5473542, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b1cd1048cd768acbd3a9b615177053b?s=128&d=identicon&r=PG&f=1", "display_name": "mmb_rach", "link": "https://stackoverflow.com/users/5473542/mmb-rach"}, "edited": false, "score": 0, "creation_date": 1445469706, "post_id": 33270430, "comment_id": 54342838, "body": "Also you should not have <code>.append(coordinates)</code> as it is already being done in your list comprehension the line above. That&#39;s why you&#39;re getting the generator object."}], "tags": [], "owner": {"reputation": 661, "user_id": 2258040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N2um3.jpg?s=128&g=1", "display_name": "Almog", "link": "https://stackoverflow.com/users/2258040/almog"}, "is_accepted": false, "score": 1, "last_activity_date": 1445467549, "last_edit_date": 1495540718, "creation_date": 1445466975, "answer_id": 33270430, "question_id": 33270265, "link": "https://stackoverflow.com/questions/33270265/list-defined-as-global-in-function-yet-continually-get-error-that-the-list-is-no/33270430#33270430", "title": "List defined as global in function yet continually get error that the list is not defined-python", "body": "<p>My guess is that <code>isolate</code> is called at some point in time before <code>list_comprehension</code>, meaning that the global name <code>pairs</code> has not yet been defined.</p>\n\n<pre><code>&gt;&gt;&gt; def init():\n...    global z\n...    z = 2\n... \n&gt;&gt;&gt; z\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'z' is not defined\n&gt;&gt;&gt; init()\n&gt;&gt;&gt; z\n2\n</code></pre>\n\n<p><strong>PRECAUTIONARY NOTE</strong></p>\n\n<p>It isn't recommended to use the <code>global</code> keyword because it makes it difficult to track where all the global variables are. Instead, I recommend declaring <code>pairs</code> in your main function and then set <code>pairs = list_comprehension(...)</code> and passing it into <code>isolate(X,Y,pairs)</code>. See <a href=\"https://stackoverflow.com/questions/4693120/use-of-global-keyword-in-python\">Use of &quot;global&quot; keyword in Python</a> as mentioned by @r-nar in the comments.</p>\n"}, {"tags": [], "owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1445467140, "creation_date": 1445467140, "answer_id": 33270462, "question_id": 33270265, "link": "https://stackoverflow.com/questions/33270265/list-defined-as-global-in-function-yet-continually-get-error-that-the-list-is-no/33270462#33270462", "title": "List defined as global in function yet continually get error that the list is not defined-python", "body": "<p>The <code>global</code> keyword is used when you are declaring global scope for a variable within a function. It is required when you wish to modify a global variable. Check to make sure you have declared <code>pairs</code> outside of the function.</p>\n\n<p><a href=\"https://docs.python.org/2/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python\" rel=\"nofollow\">https://docs.python.org/2/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python</a></p>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1445469452, "creation_date": 1445469452, "answer_id": 33270845, "question_id": 33270265, "link": "https://stackoverflow.com/questions/33270265/list-defined-as-global-in-function-yet-continually-get-error-that-the-list-is-no/33270845#33270845", "title": "List defined as global in function yet continually get error that the list is not defined-python", "body": "<p>The error message says the problem is in <code>pairs</code>. The <code>global</code> declaration in <code>list_comprehension</code> has no effect on <code>pairs</code>, it needs its own global declaration.</p>\n\n<pre><code>def isolate(X,Y):\n    global pairs\n    for (x,y) in pairs:\n        X.append(x)\n        Y.append(y)\n\n    return X, Y\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 5473542, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b1cd1048cd768acbd3a9b615177053b?s=128&d=identicon&r=PG&f=1", "display_name": "mmb_rach", "link": "https://stackoverflow.com/users/5473542/mmb-rach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1445469452, "creation_date": 1445466105, "last_edit_date": 1445467677, "question_id": 33270265, "link": "https://stackoverflow.com/questions/33270265/list-defined-as-global-in-function-yet-continually-get-error-that-the-list-is-no", "title": "List defined as global in function yet continually get error that the list is not defined-python", "body": "<p>I am in an introductory <code>Python</code> class which is my first exposure to programming. Any help much appreciated. I am creating a piece of code that is to determine a linear regression function for a given set of inputs from a text file. I have defined the variable which contains the list of ordered pairs <code>(x,y)</code>, as global pairs. However, I keep getting the error that pairs is not defined. I can't tweak any other parts of my code because this list is empty, causing the other lists I derived from this one to also be empty. I am genuinely stuck on this, I have looked for the answer on this site and others but I have not yet found the solution. </p>\n\n<p>This is some of the code I have:</p>\n\n<pre><code>#read values into tuple to seperate the spaces from X and Y values from the text file\n#convert the tuple to a list containing (x,y) paris\n    #the values are stored if we call the funciton\n    #but the list of pairs doesn't seem to be global, it is empty when i just print(pairs)\ndef list_comprehension(in2):\n\n    infile = open(\"in2\",'r')\n    global coordinates\n    coordinates = (line.split() for line in infile)\n    infile.close()\n    global pairs\n    pairs = [(float(x),float(y)) for x,y in coordinates]\n    pairs.append(coordinates)\n\n    return pairs \n\n#isolate x and y variables into seperate lists\n    #same problem, the funciton operates fine\n    #but the lists have nothing in them because pairs has nothing in it\nX=[]\nY=[]\ndef isolate(X,Y):\n    for (x,y) in pairs:\n        X.append(x)\n        Y.append(y)\n\n    return X, Y\n</code></pre>\n\n<p>And the error is this:</p>\n\n<pre><code> File \"C:/Python34/python/Program 5/p5 draft function and values.py\", line 47, in isolate\n    for (x,y) in pairs:\nNameError: name 'pairs' is not defined\n</code></pre>\n"}, {"tags": ["python", "pyside", "maya"], "comments": [{"owner": {"reputation": 143, "user_id": 5416347, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a524d7500c19e0ac62d6cc9b3d97842b?s=128&d=identicon&r=PG&f=1", "display_name": "Zak44", "link": "https://stackoverflow.com/users/5416347/zak44"}, "edited": false, "score": 0, "creation_date": 1445467463, "post_id": 33270247, "comment_id": 54342156, "body": "Just to add, I&#39;ve done some some research and the app.exec() should be holding the window.  Why does it not hold it when I move the if <b>main</b> portion into it&#39;s own function and call it there, as opposed to it running fine when it is left as is?"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 5416347, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a524d7500c19e0ac62d6cc9b3d97842b?s=128&d=identicon&r=PG&f=1", "display_name": "Zak44", "link": "https://stackoverflow.com/users/5416347/zak44"}, "edited": false, "score": 0, "creation_date": 1445474605, "post_id": 33271511, "comment_id": 54344168, "body": "Thank you!  This sort of makes sense.  I wasn&#39;t returning the Dialog window.  Are you sure the app.exec isn&#39;t necessary?  It does work without it, I guess I am not understanding that since I thought that is what would hold the window for interaction."}, {"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "reply_to_user": {"reputation": 143, "user_id": 5416347, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a524d7500c19e0ac62d6cc9b3d97842b?s=128&d=identicon&r=PG&f=1", "display_name": "Zak44", "link": "https://stackoverflow.com/users/5416347/zak44"}, "edited": false, "score": 0, "creation_date": 1445508792, "post_id": 33271511, "comment_id": 54357516, "body": "@sz200 I think maya will have called <code>app.exec_()</code> itself. There is no reason for it to have created an instance of <code>QApplication</code> but not call <code>app.exec_()</code>"}], "tags": [], "owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "is_accepted": true, "score": 1, "last_activity_date": 1445473785, "creation_date": 1445473785, "answer_id": 33271511, "question_id": 33270247, "link": "https://stackoverflow.com/questions/33270247/qt-gui-window-appears-then-disappears-in-maya/33271511#33271511", "title": "QT Gui Window appears then disappears in Maya", "body": "<p>I don't think you need to call <code>app.exec_()</code> if there was already an instance of the <code>QApplication</code> created by Maya. I suspect that probably that call does nothing in that case, which is why your function returns (which is good or else it would block the rest of maya). </p>\n\n<p>Your issue with the dialog disappearing is then because you are not saving a reference to the <code>Dialog</code> variable and so it is garbage collected when the <code>main</code> function finishes. You should return <code>Dialog</code> from your function and store it somewhere permanent to prevent garbage collection. I suspect doing <code>dialog = swap.main()</code> will suffice (don't forget to add the <code>return Dialog</code> line too)</p>\n"}], "owner": {"reputation": 143, "user_id": 5416347, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a524d7500c19e0ac62d6cc9b3d97842b?s=128&d=identicon&r=PG&f=1", "display_name": "Zak44", "link": "https://stackoverflow.com/users/5416347/zak44"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1243, "favorite_count": 0, "accepted_answer_id": 33271511, "answer_count": 1, "score": 0, "last_activity_date": 1445473785, "creation_date": 1445466032, "question_id": 33270247, "link": "https://stackoverflow.com/questions/33270247/qt-gui-window-appears-then-disappears-in-maya", "title": "QT Gui Window appears then disappears in Maya", "body": "<p>Two issues here.  I am not understanding how to get my GUI code to work as a Maya shelf button as opposed to running in the script editor. My first issue is whether there is any easy way to call my code in the if --main-- portion?  Right now I am having to throw the few lines I have there into it's own function and call that way.  Here is what I have:</p>\n\n<pre><code>from PySide import QtCore, QtGui, QtUiTools\nimport maya.cmds as cmds\n\ntry:\n    _fromUtf8 = QtCore.QString.fromUtf8\nexcept AttributeError:\n    def _fromUtf8(s):\n        return s\n\ntry:\n    _encoding = QtGui.QApplication.UnicodeUTF8\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig, _encoding)\nexcept AttributeError:\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig)\n\nclass Ui_Dialog(object):\n    def setupUi(self, Dialog):\n        Dialog.setObjectName(_fromUtf8(\"Dialog\"))\n        Dialog.resize(400, 300)\n\n        GUI STUFF HERE\n\n\n    def retranslateUi(self, Dialog):\n        SET TEXT STUFF\n\n    def closeBtn_clicked(self):\n        DO SOMETHING\n\n    def swapRefBtn_clicked(self):\n        DO SOMETHING\n\n\nif __name__ == \"__main__\":\n    import sys\n    app = QtGui.QApplication.instance()\n    if app is None:\n        app = QtGui.QApplication(sys.argv)       \n    Dialog = QtGui.QDialog()\n    ui = Ui_Dialog()\n    ui.setupUi(Dialog)\n    Dialog.show()\n    app.exec_()\n</code></pre>\n\n<p>I am doing this as the shelf button, which obviously will not work (is there anyway to access the snippet in the if \"--main--\"?):</p>\n\n<pre><code>import swapRef as swap\nswap.main()\n</code></pre>\n\n<p>The only fix I have found is throwing all of this into it's own function and then just calling it:</p>\n\n<pre><code>def main():\n    import sys\n    app = QtGui.QApplication.instance()\n    if app is None:\n        app = QtGui.QApplication(sys.argv)       \n    Dialog = QtGui.QDialog()\n    ui = Ui_Dialog()\n    ui.setupUi(Dialog)\n    Dialog.show()\n    app.exec_()\n</code></pre>\n\n<p>HOWEVER...issue #2 when I make this change, my GUI Window now pops open and quickly poofs/disappears.  I am not sure why throwing this code into a function and calling it would cause that change?  Please help, I've been sitting on this with no clue as to why.</p>\n"}, {"tags": ["python", "csv", "random"], "answers": [{"tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": false, "score": 0, "last_activity_date": 1445466269, "creation_date": 1445466269, "answer_id": 33270293, "question_id": 33270239, "link": "https://stackoverflow.com/questions/33270239/how-do-i-create-a-csv-file-with-100-000-random-pairs-in-python/33270293#33270293", "title": "How do I create a csv file with 100,000 random pairs in python?", "body": "<pre><code>import random\n\nwith open(\"Random.csv\", \"w\" ) as outf:\n    outfile = csv.writer(outf)\n    for i in range(100000):\n        num1 = str(random.randint(1, 100))\n        num2 = str(random.randint(1, 100))\n        row = (num1,num2)\n        outfile.writerow(row)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "is_accepted": false, "score": 3, "last_activity_date": 1445468239, "last_edit_date": 1445468239, "creation_date": 1445466278, "answer_id": 33270295, "question_id": 33270239, "link": "https://stackoverflow.com/questions/33270239/how-do-i-create-a-csv-file-with-100-000-random-pairs-in-python/33270295#33270295", "title": "How do I create a csv file with 100,000 random pairs in python?", "body": "<p>You are on the right track actually. You can use <code>csv.writer</code> to easily write to a csv file:</p>\n\n<pre><code>&gt;&gt;&gt; import csv\n&gt;&gt;&gt; import random\n&gt;&gt;&gt; randfile = open(\"Random.csv\", \"w\")\n&gt;&gt;&gt; writer = csv.writer(randfile, delimiter=\",\")\n&gt;&gt;&gt; for i in range(100000):\n...     pair = random.randint(1, 100), random.randint(1, 100)\n...     writer.writerow(pair)\n...\n&gt;&gt;&gt; randfile.close()\n</code></pre>\n\n<p>You don't need to have <code>pairs</code> and <code>pairs.append(pair)</code>, you can throw them away your code.</p>\n"}, {"tags": [], "owner": {"reputation": 4789, "user_id": 1354439, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/39d9f2c1402ebfa17e74258b5039c64d?s=128&d=identicon&r=PG", "display_name": "Piotr Dabkowski", "link": "https://stackoverflow.com/users/1354439/piotr-dabkowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1445466348, "creation_date": 1445466348, "answer_id": 33270308, "question_id": 33270239, "link": "https://stackoverflow.com/questions/33270239/how-do-i-create-a-csv-file-with-100-000-random-pairs-in-python/33270308#33270308", "title": "How do I create a csv file with 100,000 random pairs in python?", "body": "<p>Your logic is correct, but you did not write anything to your file you just opened and closed it.</p>\n\n<p>Just add this line before closing and it will work fine:</p>\n\n<pre><code>randfile.write('\\n'.join('%d,%d' % (a,b) for a, b in pairs))\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5253731, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/517c881c473b4b5ae27b3837911796fc?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/5253731/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 760, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1445468239, "creation_date": 1445465979, "last_edit_date": 1445466121, "question_id": 33270239, "link": "https://stackoverflow.com/questions/33270239/how-do-i-create-a-csv-file-with-100-000-random-pairs-in-python", "title": "How do I create a csv file with 100,000 random pairs in python?", "body": "<p>I need to create a <code>csv</code> file with 100,000 random pairs.</p>\n\n<p>So far I have:</p>\n\n<pre><code>import random\n\nrandfile = open(\"Random.csv\", \"w\" )\npairs = []\nfor i in range(100000):\n    line1 = str(random.randint(1, 100))\n    line2 = str(random.randint(1, 100))\n    pair = line1, line2\n    pairs.append(pair)\n\nrandfile.close()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "simpy"], "comments": [{"owner": {"reputation": 2378, "user_id": 3564517, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uRAlt.jpg?s=128&g=1", "display_name": "Stefan Scherfke", "link": "https://stackoverflow.com/users/3564517/stefan-scherfke"}, "edited": false, "score": 0, "creation_date": 1445504964, "post_id": 33270232, "comment_id": 54355065, "body": "Which OS do you use? Have you taken a look into the site-packages folder if nothing from SimPy remains there after an uninstall?"}, {"owner": {"reputation": 2378, "user_id": 3564517, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uRAlt.jpg?s=128&g=1", "display_name": "Stefan Scherfke", "link": "https://stackoverflow.com/users/3564517/stefan-scherfke"}, "edited": false, "score": 0, "creation_date": 1445505398, "post_id": 33270232, "comment_id": 54355353, "body": "Or does one of the dirs in sys.path (e.g., your current working dir) contain a file called simpy.py?  You can also try &quot;print(simpy.__file__)&quot;."}], "owner": {"reputation": 234, "user_id": 3928018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b318efeb62c94bd4a3d3fd37062e03c0?s=128&d=identicon&r=PG&f=1", "display_name": "plr", "link": "https://stackoverflow.com/users/3928018/plr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1129, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1445519940, "creation_date": 1445465951, "last_edit_date": 1445519940, "question_id": 33270232, "link": "https://stackoverflow.com/questions/33270232/simpy-error-with-environment", "title": "Simpy Error with environment", "body": "<p>I have installed Simpy, and I use Python 3.5. I have the same error:</p>\n\n<pre><code>&gt;&gt;&gt; env = simpy.Environment()\nTraceback (most recent call last):\n  File \"&lt;pyshell#1&gt;\", line 1, in &lt;module&gt;\n    env = simpy.Environment()\nAttributeError: module 'simpy' has no attribute 'Environment'\n</code></pre>\n\n<p>It lets me import simpy, but when I do <code>env = simpy.Environment()</code> it prints this error. </p>\n\n<p>I have tried uninstalling it, reinstalling, using in the terminal, in the Python's IDLE, in other IDLEs...</p>\n\n<p>The whole code is (from the tutorial):</p>\n\n<pre><code>&gt;&gt;&gt; def car(env):\n...     while True:\n...         print('Start parking at %d' % env.now)\n...         parking_duration = 5\n...         yield env.timeout(parking_duration)\n...\n...         print('Start driving at %d' % env.now)\n...         trip_duration = 2\n...         yield env.timeout(trip_duration)\n\n&gt;&gt;&gt; import simpy\n&gt;&gt;&gt; env = simpy.Environment()\n</code></pre>\n\n<p>And then the error pops-up.</p>\n\n<p><strong>EDIT (solved):</strong></p>\n\n<p>I had a file named simpy.py in the same folder. I removed it, and now works perfectly. The code now is:</p>\n\n<pre><code>&gt;&gt;&gt; def car(env):\n...    while True:\n...        print('Start parking at %d' % env.now)\n...        parking_duration = 5\n...        yield env.timeout(parking_duration)\n...\n...        print('Start driving at %d' % env.now)\n...        trip_duration = 2\n...        yield env.timeout(trip_duration)\n\n&gt;&gt;&gt; import simpy\n&gt;&gt;&gt; env = simpy.Environment()\n&gt;&gt;&gt; env.process(car(env))\n&gt;&gt;&gt; env.run(until=15)\n</code></pre>\n\n<p>And the output:</p>\n\n<pre><code>Start parking at 0\nStart driving at 5\nStart parking at 7\nStart driving at 12\nStart parking at 14\n</code></pre>\n"}, {"tags": ["python", "bots"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1445465861, "post_id": 33270192, "comment_id": 54341571, "body": "do `string == comment_text&#39; instead. unless comment_text is a string of multiple words. in that case, make your string have a space on both sides"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1445465862, "post_id": 33270192, "comment_id": 54341572, "body": "So if a comment says <i>&quot;I love America! I&#39;m proud to be an American!&quot;</i> you <b>don&#39;t</b> want it to match?"}, {"owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1445465947, "post_id": 33270192, "comment_id": 54341602, "body": "You could use a regular expression. re.search(r&#39;\\bamerica\\b&#39;, comment_text)"}, {"owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "edited": false, "score": 0, "creation_date": 1445466344, "post_id": 33270192, "comment_id": 54341750, "body": "do you want to find only america, but not american is that correct?"}, {"owner": {"reputation": 3046, "user_id": 3600300, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yNBLF.jpg?s=128&g=1", "display_name": "GShocked", "link": "https://stackoverflow.com/users/3600300/gshocked"}, "edited": false, "score": 0, "creation_date": 1445466568, "post_id": 33270192, "comment_id": 54341842, "body": "For specifying the word America, you could make it look for <code>america</code> in any arrangement of capitalization, and have it so it ignores the word if it is followed by or begun with any letter - I say letter because <code>america</code> could be <code>?america?</code> and you&#39;d want that. I&#39;m not very fluent in Python so I am not able to contribute code, sadly."}, {"owner": {"reputation": 19, "user_id": 5473490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6120c030b5332c450ff58ac2a5250d6?s=128&d=identicon&r=PG&f=1", "display_name": "Krist&#243;fer", "link": "https://stackoverflow.com/users/5473490/krist%c3%b3fer"}, "reply_to_user": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "edited": false, "score": 0, "creation_date": 1445467536, "post_id": 33270192, "comment_id": 54342179, "body": "@LetzerWille yeah, since i&#39;m only looking for one word, do you think just making a list of words such as &#39;american&#39; and changing &quot;if isMatch:&quot; to &quot;if comment_text not in words_to_ignore and isMatch:&quot; would fix it?"}, {"owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "edited": false, "score": 0, "creation_date": 1445468307, "post_id": 33270192, "comment_id": 54342415, "body": "I have changed the code into a function. So it will test if a standalone word &#39;America&#39; regardless of case, appears in the text. You can then tailor your actions according to the output of the function. Just run the function against some of your sample texts and see if it does what you want."}], "answers": [{"comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1445466220, "post_id": 33270262, "comment_id": 54341709, "body": "From what I understand of the OP&#39;s question, this is incorrect. The text contains the word <code>american</code>, so it shouldn&#39;t be a positive match..."}, {"owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1445466279, "post_id": 33270262, "comment_id": 54341728, "body": "@MattDMo \\b is a word boundary that is why american is not in the list."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1445466390, "post_id": 33270262, "comment_id": 54341770, "body": "I know that. But the OP <b>doesn&#39;t</b> want it to match if a word like <code>american</code> is present."}, {"owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1445466530, "post_id": 33270262, "comment_id": 54341825, "body": "@MattDMo, what do you think OP wants to match? OP wrote - &#39;i only want it to find america as a standalone word &#39; ....."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1445466812, "post_id": 33270262, "comment_id": 54341945, "body": "The last sentence before the code block: <i>If someone says &quot;american&quot; i want the bot to ignore it.</i>"}, {"owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1445467196, "post_id": 33270262, "comment_id": 54342065, "body": "@MattDMo OP wants to ignore &#39;american&#39;? &#39;american&#39; gets ignored by findall. let&#39;s wait I have asked OP directly."}], "tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 1, "last_activity_date": 1445468796, "last_edit_date": 1445468796, "creation_date": 1445466097, "answer_id": 33270262, "question_id": 33270192, "link": "https://stackoverflow.com/questions/33270192/python-bot-trying-to-scan-for-specific-standalone-words/33270262#33270262", "title": "Python bot, trying to scan for specific standalone words", "body": "<p>You  want search just for that word you can use re.findall()</p>\n\n<pre><code>data = '''\nI'm creating a reddit bot that searches for a specific word in comments.\nLets say i scan for the word \"america\", i only want it to find america as\n a standalone word (I'm not sure what the word for this is). If someone says\n  \"american\" i want the bot to ignore it.\n  '''\ndef is_match(st):\n   # checks if word America, regardless of case, appears in\n   # text as a standalone word\n   import re\n   if re.findall(r'\\bamerica\\b', st, flags=re.IGNORECASE):\n     return True\n  else:\n     return False\n\n  print(is_match(data))\n\n  True\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5473490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6120c030b5332c450ff58ac2a5250d6?s=128&d=identicon&r=PG&f=1", "display_name": "Krist&#243;fer", "link": "https://stackoverflow.com/users/5473490/krist%c3%b3fer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445468796, "creation_date": 1445465708, "last_edit_date": 1445467188, "question_id": 33270192, "link": "https://stackoverflow.com/questions/33270192/python-bot-trying-to-scan-for-specific-standalone-words", "title": "Python bot, trying to scan for specific standalone words", "body": "<p>I'm creating a reddit bot that searches for a specific word in comments. Lets say i scan for the word \"america\", i only want it to find america as a standalone word (I'm not sure what the word for this is). If someone says \"american\" i want the bot to ignore it.</p>\n\n<pre><code>words_to_match = ['america']\n\nfor comment in comments:\n    comment_text = comment.body.lower()\n    isMatch = any(string in comment_text for string in words_to_match)\n</code></pre>\n\n<p>This is what i have so far.</p>\n\n<p>EDIT: Actually, i just realized i could just make a new list of words to ignore, at least for this specific bot.</p>\n\n<pre><code>words_to_ignore = ['american']\n</code></pre>\n"}, {"tags": ["python", "algorithm", "sorting", "ipython", "big-o"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1445465783, "post_id": 33270174, "comment_id": 54341528, "body": "try with large data, you cannot get  proper read using small amounts of data.  <code>s1 = s2 =  &quot;zwvuxabcdefg&quot;  * 1000</code> <code>anagram_solution2(s1,s2)</code> `"}, {"owner": {"reputation": 14111, "user_id": 1126943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yeuHw.png?s=128&g=1", "display_name": "zch", "link": "https://stackoverflow.com/users/1126943/zch"}, "edited": false, "score": 1, "creation_date": 1445465961, "post_id": 33270174, "comment_id": 54341608, "body": "You would probably need much bigger data size to see difference between linear and <code>n log n </code> solution (it might be even impractically large input depending on constant factors)."}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1445466011, "post_id": 33270174, "comment_id": 54341627, "body": "Yeah.  I tried using longer words from the original anagram (&#39; apple&#39; , &#39; pleap&#39;). I&#39;m still surprised it&#39;s giving an unexpected answer."}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 0, "creation_date": 1445466044, "post_id": 33270174, "comment_id": 54341643, "body": "They are a different order, but for small numbers the constants hidden by the asymptotic behavior are significant."}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 1, "creation_date": 1445466164, "post_id": 33270174, "comment_id": 54341689, "body": "The difference is in 10&#39;s of microseconds.. That&#39;s not really any difference at all. At that scale it&#39;s hard to detect any difference because it could just be noise from OS scheduling."}], "answers": [{"comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 1, "creation_date": 1445467807, "post_id": 33270266, "comment_id": 54342260, "body": "You are <i>very</i> correct.  Many times in my professional coding, I&#39;ve implemented a trivial O(n^2) algorithm instead of a sophisticated O(n log n) algorithm -- such as a bubble sort instead of a merge sort.  The trivial one is easier to adapt or maintain, easy for new teammates to understand, and the time savings for small lists (we often work in the 10-100 range) were insignificant, if any."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1445467899, "post_id": 33270266, "comment_id": 54342292, "body": "Do remember to choose your favourite answer; it closes the question properly.  You have three good candidates from which to choose."}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1445467955, "post_id": 33270266, "comment_id": 54342312, "body": "Thanks for the test results.  My tests show improvements around 1000 tokens.  Since 500-1000 words are impractical, is it safe to say a &quot;better&quot; O algorithm is not always the most practical one?"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 3, "last_activity_date": 1445467178, "last_edit_date": 1445467178, "creation_date": 1445466109, "answer_id": 33270266, "question_id": 33270174, "link": "https://stackoverflow.com/questions/33270174/why-does-ipython-timeit-yield-a-slower-time-for-an-on-solution/33270266#33270266", "title": "Why does IPython `%timeit` yield a slower time for an O(n) solution?", "body": "<p>Keep in mind that O() notation refers to <em>only</em> the dominating term of the overall time equation.  For instance, O(n) may refer to a process that takes 1000*n + 7000 seconds; a competing O(n^2) process may be 0.5*n^2 + .10 seconds.  N has to be very large for the n^2 process to run in less time.</p>\n\n<p>In this case, the O(n) algorithm goes through three individual n-length loops, with a couple of operations thrown in.  This will make it slower for small values of N.  I'll go run a couple of tests ...</p>\n\n<hr>\n\n<p>I tried this with two letters, then one copy of the alphabet, then 30 copies:</p>\n\n<pre><code>length 2    O(n^2) 1.00135803223e-05    O(n) 1.50203704834e-05\nlength 26   O(n^2) 1.69277191162e-05    O(n) 2.59876251221e-05\nlength 780  O(n^2) 0.000540971755981    O(n) 0.00049901008606\n</code></pre>\n\n<p>In my environment, the O(n) algorithm doesn't catch up until maybe 500 characters, but it will be the faster algorithm from then on.</p>\n"}, {"tags": [], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "is_accepted": false, "score": 2, "last_activity_date": 1445466125, "creation_date": 1445466125, "answer_id": 33270273, "question_id": 33270174, "link": "https://stackoverflow.com/questions/33270174/why-does-ipython-timeit-yield-a-slower-time-for-an-on-solution/33270273#33270273", "title": "Why does IPython `%timeit` yield a slower time for an O(n) solution?", "body": "<p><code>O[N]</code> and <code>O[N^2]</code> are about scaling, not about absolute time. For example, an <code>O[N]</code> algorithm might take 10 seconds for 10 points, 100 seconds for 100 points, 1000 seconds for 1000 points, etc.</p>\n\n<p>An <code>O[N^2]</code> algorithm might take 10ms for 10 points, 1sec for 100 points, and 100sec for 1000 points, etc.</p>\n\n<p>Notice here the <code>O[N^2]</code> algorithm is faster than the <code>O[N]</code> in the sense of how much clock time it takes, but that the scaling is different.</p>\n\n<p><code>O[N]</code> measures how time scales with increasing N, not the amount of time the algorithm takes.</p>\n"}, {"tags": [], "owner": {"reputation": 4252, "user_id": 10562, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/89f032bea7ea14c8157aaa72a243bd06?s=128&d=identicon&r=PG", "display_name": "Paddy3118", "link": "https://stackoverflow.com/users/10562/paddy3118"}, "is_accepted": false, "score": 1, "last_activity_date": 1445468387, "last_edit_date": 1445468387, "creation_date": 1445467236, "answer_id": 33270476, "question_id": 33270174, "link": "https://stackoverflow.com/questions/33270174/why-does-ipython-timeit-yield-a-slower-time-for-an-on-solution/33270476#33270476", "title": "Why does IPython `%timeit` yield a slower time for an O(n) solution?", "body": "<p>Constants!</p>\n\n<p>The linear solution could be something like</p>\n\n<pre><code>t_linear = c0 + c1 * N\n</code></pre>\n\n<p>The other could be something like</p>\n\n<pre><code>t_square = d0 + d1 * N + d2 * N**2\n</code></pre>\n\n<p>Where the c's and d's are constants.</p>\n\n<p>Lets set <code>c0 = 100, c1 = 1; d0 = 1, d1 = 0 and d2 = 1</code></p>\n\n<p>Then for small N, say <code>N = 4</code> we get t_linear = 104 and t_square = 17, i.e. <code>t_linear &gt; t_square</code></p>\n\n<p>As N increases then t_square approaches then exceeds t_linear, i.e. for <code>N = 11</code> we get t_linear = 111 and t_square = 122, i.e. <code>t_linear &lt; t_square</code></p>\n\n<p>I guess modern CPU architectures could also foul timings if cache limits are hit; Operating systems could be rigged to recognise benchmarks and favour one example over another; ...  <strong>but Constants are the more likely reason.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 3918, "user_id": 1608226, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f75e2877a53e9cd06009cce727235e4?s=128&d=identicon&r=PG&f=1", "display_name": "Nuclearman", "link": "https://stackoverflow.com/users/1608226/nuclearman"}, "is_accepted": false, "score": 2, "last_activity_date": 1445473125, "last_edit_date": 1445473125, "creation_date": 1445469295, "answer_id": 33270822, "question_id": 33270174, "link": "https://stackoverflow.com/questions/33270174/why-does-ipython-timeit-yield-a-slower-time-for-an-on-solution/33270822#33270822", "title": "Why does IPython `%timeit` yield a slower time for an O(n) solution?", "body": "<p>There's already 3 good answers, but I think this adds a slightly different perspective.</p>\n\n<p>In general terms big notation really only states that <strong>a lower order algorithm will be faster than a higher order algorithm <em>at some point</em></strong>. Big O by itself gives absolutely no information as to when that point is. It could be <code>N=3</code> or <code>N=10^1000</code>. </p>\n\n<p>That being said, for practical algorithms, it tends to happen before N=1 million or so and often before N exceeds 10,000 or so. In the case of smaller inputs (N &lt; 10 or so) it's quite often the case that the simplest algorithm is the fastest regardless of the big O, as long the algorithm is realistic, unlike say <a href=\"https://en.wikipedia.org/wiki/Bogosort\" rel=\"nofollow\">Bogosort</a>.</p>\n\n<p>An analogy can be driven with different means of transport. For increasing distances to travel, the most effective means, in turn, are: on foot - bicycle - car - train - airplane. Each one starts worse than the previous for smaller distances, but eventually starts outperforming it.</p>\n\n<p>This leads to another conclusion: <strong>simpler but \"slower\" algorithms have full rights to exist and be chosen over \"faster\" ones if your data size is in the segment where they are more effective.</strong> It's another issue that you cannot possibly predict how large your data will ever be, especially if it's a software library. That's why the \"latest and greatest\" are typically chosen anyway or the code alternates between a few methods if the tradeoffs of choosing a single one are big enough.</p>\n"}], "owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 33270266, "answer_count": 4, "score": 2, "last_activity_date": 1445473125, "creation_date": 1445465634, "last_edit_date": 1445467132, "question_id": 33270174, "link": "https://stackoverflow.com/questions/33270174/why-does-ipython-timeit-yield-a-slower-time-for-an-on-solution", "title": "Why does IPython `%timeit` yield a slower time for an O(n) solution?", "body": "<p>I am studying orders of magnitude by comparing anagram algorithms provided at <a href=\"http://interactivepython.org/\" rel=\"nofollow noreferrer\">interactivepython.org</a>.  I'm using IPython's <code>%timeit</code> magic to test these functions.  The solutions are as follows.  The first algorithm:</p>\n\n<pre><code># Sort and Compare\ndef anagram_solution2(s1,s2):\n    a_list1 = list(s1)\n    a_list2 = list(s2)\n\n    a_list1.sort()\n    a_list2.sort()\n\n    pos = 0\n    matches = True\n\n    while pos &lt; len(s1) and matches:\n        if a_list1[pos] == a_list2[pos]:\n            pos = pos + 1\n        else:\n            matches = False\n    return matches\n</code></pre>\n\n<p>The second alogorithm:</p>\n\n<pre><code># Count and Compare\ndef anagram_solution4(s1, s2):\n    c1 = [0] * 26\n    c2 = [0] * 26\n\n    for i in range(len(s1)):\n        pos = ord(s1[i]) - ord('a')\n        c1[pos] = c1[pos] + 1\n\n    for i in range(len(s2)):\n        pos = ord(s2[i]) - ord('a')\n        c2[pos] = c2[pos] + 1\n\n    j = 0\n    still_ok = True\n    while j &lt; 26 and still_ok:\n        if c1[j] == c2[j]:\n            j = j + 1\n        else:\n            still_ok = False\n    return still_ok\n</code></pre>\n\n<p>The <em>sort and compare</em> function (solution 2) is stated to be higher order, either an O(n^2) or O(nlogn) solution.  The <em>count and compare</em> function (solution 4) is stated to be an O(n) solution, so I expect a shorter time if tested with <code>%timeit</code>.  However, I get the following results: </p>\n\n<pre><code>%timeit anagram_solution2('conversationalists', 'conservationalists')\n# 100000 loops, best of 3: 13 \u00b5s per loop\n\n%timeit anagram_solution4('conversationalists', 'conservationalists')\n# 10000 loops, best of 3: 21 \u00b5s per loop\n</code></pre>\n\n<p>Perhaps I am missing something fundamental, but why is the linear solution taking longer than the quadratic/log-linear solution? </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>For completeness, I'm including a graph of <a href=\"http://interactivepython.org/runestone/static/pythonds/AlgorithmAnalysis/BigONotation.html\" rel=\"nofollow noreferrer\">common Big-O functions</a>.  There appears to be an intersection for log-liner and liner curves at lower \"x\" values.<br>\n<a href=\"https://i.stack.imgur.com/eYV6x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eYV6x.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "html", "ajax", "cgi"], "comments": [{"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1445465541, "post_id": 33270113, "comment_id": 54341437, "body": "So your script returns a large dataset? Is that why it takes so long? Or it just takes a while and you want an asynchronous notification of completion?"}, {"owner": {"reputation": 279, "user_id": 4244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c37c4660825267e7f9a9b41e5330d06?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/4244893/dave"}, "reply_to_user": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1445524840, "post_id": 33270113, "comment_id": 54367627, "body": "It takes a while and returns a good deal of data but its not beyond the order of megabytes"}, {"owner": {"reputation": 279, "user_id": 4244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c37c4660825267e7f9a9b41e5330d06?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/4244893/dave"}, "reply_to_user": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1445659055, "post_id": 33270113, "comment_id": 54427422, "body": "No answers? Anyone? :("}, {"owner": {"reputation": 342, "user_id": 2038089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b63f7e356acc7018e0c5c57bbf632532?s=128&d=identicon&r=PG", "display_name": "Ahmad Bilal", "link": "https://stackoverflow.com/users/2038089/ahmad-bilal"}, "edited": false, "score": 0, "creation_date": 1445866760, "post_id": 33270113, "comment_id": 54489644, "body": "Why not put the returned data into a .zip archive, and email it to the the user. Ofcourse, you will need a html form to accept the email address, if you don&#39;t already have it."}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1445877743, "post_id": 33270113, "comment_id": 54497475, "body": "This is a very general problem and not entirely suitable for SO. It sounds like you want to create 3 services on the backend. One to kick off some sort of script, one to poll for its completeness and another to download the results. You could design the download service to download in chunks rather than all in one go. On the front end, use Javascript (AJAX) to call the services."}], "owner": {"reputation": 279, "user_id": 4244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c37c4660825267e7f9a9b41e5330d06?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/4244893/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445468502, "creation_date": 1445465301, "last_edit_date": 1445468502, "question_id": 33270113, "link": "https://stackoverflow.com/questions/33270113/submit-a-python-script-in-the-background-via-html", "title": "Submit a python script in the background via html", "body": "<p>As of now, I have a python script which is fully functional and is run via an <code>HTML</code> page with a form input, which then is submitted to the python script using <code>CGI</code>. </p>\n\n<p>The problem is that if there is a lot of data, the script can take a long time to finish.</p>\n\n<p>I have changed the apache timeout to be much longer than normal as a temporary workaround, but ultimately what I want to do is have the user submit their data but this time with their email address. Then instead of staring at a white screen for what may potentially be hours, they are directed to a page which informs them that their job has been submitted and the server is crunching the numbers and will email the user back with a url to download their results once their job is completed.</p>\n\n<p>In my scouring of the internet I read that doing this via <code>CGI</code> is impossible. The only way that I can think of, though I'm not sure if it's possible/correct, is to try to submit the user's input to the python script via an <code>AJAX</code> request, and have the python script run and output to some temporary file. I am not so sure how to check if the job completed successfully/unsuccessfully.</p>\n\n<p>Does anyone know a good way of doing what I described or what it is called?</p>\n"}, {"tags": ["python", "string", "pandas", "int"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1445465191, "post_id": 33270038, "comment_id": 54341299, "body": "it is because of the comma. remove the comma with something like <code>replace(&#39;,&#39;,&#39;&#39;)</code> and it should work"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1445465264, "post_id": 33270038, "comment_id": 54341330, "body": "how did you create the df?"}, {"owner": {"reputation": 1282, "user_id": 1732820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/866d5e4394db086e540acb115c681d99?s=128&d=identicon&r=PG", "display_name": "Hypaethral", "link": "https://stackoverflow.com/users/1732820/hypaethral"}, "edited": false, "score": 0, "creation_date": 1445465293, "post_id": 33270038, "comment_id": 54341344, "body": "casting a string with commas to a number in Python has been discussed here:  <a href=\"http://stackoverflow.com/questions/1779288/how-do-i-use-python-to-convert-a-string-to-a-number-if-it-has-commas-in-it-as-th\" title=\"how do i use python to convert a string to a number if it has commas in it as th\">stackoverflow.com/questions/1779288/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5438421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33c01dff3150e94cdd88679ab6d07c91?s=128&d=identicon&r=PG&f=1", "display_name": "Shaoqing Zhang", "link": "https://stackoverflow.com/users/5438421/shaoqing-zhang"}, "edited": false, "score": 0, "creation_date": 1445571629, "post_id": 33270105, "comment_id": 54388581, "body": "Thanks for your answer and edit! I appreciate your help. But my key problem is that the &quot;-&quot; is still there. The error says: &quot;could not convert string to float: -&quot;. Do you know what I can do if I want to keep the &quot;-&quot; in this number?"}, {"owner": {"reputation": 4833, "user_id": 4413307, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000550702123/picture?type=large", "display_name": "Andre", "link": "https://stackoverflow.com/users/4413307/andre"}, "reply_to_user": {"reputation": 11, "user_id": 5438421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33c01dff3150e94cdd88679ab6d07c91?s=128&d=identicon&r=PG&f=1", "display_name": "Shaoqing Zhang", "link": "https://stackoverflow.com/users/5438421/shaoqing-zhang"}, "edited": false, "score": 0, "creation_date": 1445589267, "post_id": 33270105, "comment_id": 54395176, "body": "have you tryed <code>print type(float(&#39;-1650.00&#39;.replace(&#39;,&#39;,&#39;&#39;)))</code> ? it returns <code>&lt;type &#39;float&#39;&gt;</code>. @ShaoqingZhang"}], "tags": [], "owner": {"reputation": 4833, "user_id": 4413307, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000550702123/picture?type=large", "display_name": "Andre", "link": "https://stackoverflow.com/users/4413307/andre"}, "is_accepted": false, "score": 1, "last_activity_date": 1445465287, "creation_date": 1445465287, "answer_id": 33270105, "question_id": 33270038, "link": "https://stackoverflow.com/questions/33270038/how-to-convert-negative-string-to-integer-in-pandashow-to-handle/33270105#33270105", "title": "How to convert negative string to integer in pandas?(how to handle &quot;-&quot;)", "body": "<p>Try this:</p>\n\n<pre><code>df['columnname'].replace(',','').astype(float) \n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>float(df['columnname'].replace(',',''))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 435, "user_id": 5451820, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3Me0j.jpg?s=128&g=1", "display_name": "Kira", "link": "https://stackoverflow.com/users/5451820/kira"}, "is_accepted": false, "score": 1, "last_activity_date": 1445465329, "creation_date": 1445465329, "answer_id": 33270117, "question_id": 33270038, "link": "https://stackoverflow.com/questions/33270038/how-to-convert-negative-string-to-integer-in-pandashow-to-handle/33270117#33270117", "title": "How to convert negative string to integer in pandas?(how to handle &quot;-&quot;)", "body": "<p>Float numbers use a dot to separate the integral part from the decimal part, not commas. Your vector should look something like this:</p>\n\n<pre><code>[1,\n-1650.00,\n-3,\n]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5438421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33c01dff3150e94cdd88679ab6d07c91?s=128&d=identicon&r=PG&f=1", "display_name": "Shaoqing Zhang", "link": "https://stackoverflow.com/users/5438421/shaoqing-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1766, "favorite_count": 0, "closed_date": 1445471005, "answer_count": 2, "score": -2, "last_activity_date": 1445571700, "creation_date": 1445464888, "last_edit_date": 1445571700, "question_id": 33270038, "link": "https://stackoverflow.com/questions/33270038/how-to-convert-negative-string-to-integer-in-pandashow-to-handle", "closed_reason": "Duplicate", "title": "How to convert negative string to integer in pandas?(how to handle &quot;-&quot;)", "body": "<p><strong>Here's my problem:</strong> I have a column of numbers in <code>pandas.dataFrame</code>. But there are certain numbers that need to be converted because they might be <code>string</code>'s.</p>\n\n<p>Here's how the column currently looks:</p>\n\n<pre><code>[1\n -1,650.00\n -3\n ...]\n</code></pre>\n\n<p>I want it all to be integers. My code was:</p>\n\n<pre><code>df['columnname'].astype(int)\n</code></pre>\n\n<p>However, when I convert <code>-1,650.00</code> to <code>integer</code> I'm getting an error. Even  when the code is </p>\n\n<pre><code>df['columnname'].astype(float)\ndf['columnname'].astype(int)\n</code></pre>\n\n<p>It still doesn't solve the problem. It says <code>could not convert string to float: -</code> and the \"-\" is still not handled.</p>\n"}, {"tags": ["python", "string", "list", "python-3.x"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 2, "creation_date": 1445464894, "post_id": 33270019, "comment_id": 54341172, "body": "<code>output_string = &quot;.&quot;.join(data)</code>"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1445465372, "post_id": 33270019, "comment_id": 54341371, "body": "The title is confusing.  How is this different from how <code>str.join</code> is normally used?"}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 0, "creation_date": 1445465534, "post_id": 33270019, "comment_id": 54341432, "body": "I don&#39;t see &quot;multiple iterables interleaving&quot; here"}, {"owner": {"reputation": 1093, "user_id": 3642914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/034a47abb43659aba14fef3ff0eff17c?s=128&d=identicon&r=PG", "display_name": "Leonora Tindall", "link": "https://stackoverflow.com/users/3642914/leonora-tindall"}, "edited": false, "score": 0, "creation_date": 1445467092, "post_id": 33270019, "comment_id": 54342038, "body": "Yep, I was confused about str.join(). Sorry."}], "answers": [{"tags": [], "owner": {"reputation": 2320, "user_id": 5133552, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4b0fa0904231000f4532039d03f1617f?s=128&d=identicon&r=PG&f=1", "display_name": "labheshr", "link": "https://stackoverflow.com/users/5133552/labheshr"}, "is_accepted": false, "score": 0, "last_activity_date": 1445465139, "creation_date": 1445465139, "answer_id": 33270082, "question_id": 33270019, "link": "https://stackoverflow.com/questions/33270019/python-3-str-join-with-seperator/33270082#33270082", "title": "Python 3: str.join() with seperator", "body": "<pre><code>output_string = \".\".join(data)\n</code></pre>\n\n<p>if you have integers or non-strings in data, then</p>\n\n<pre><code>output_string = \".\".join( str(x) for x in data )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 14, "last_activity_date": 1445465399, "creation_date": 1445465399, "answer_id": 33270132, "question_id": 33270019, "link": "https://stackoverflow.com/questions/33270019/python-3-str-join-with-seperator/33270132#33270132", "title": "Python 3: str.join() with seperator", "body": "<p>If the separator is a variable you can just use  <code>variable.join(iterable)</code>:</p>\n\n<pre><code>data = [\"some\", \"data\", \"lots\", \"of\", \"strings\"]\nseparator = \".\"\n\n\nprint(separator.join(data))\nsome.data.lots.of.strings\n</code></pre>\n"}], "owner": {"reputation": 1093, "user_id": 3642914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/034a47abb43659aba14fef3ff0eff17c?s=128&d=identicon&r=PG", "display_name": "Leonora Tindall", "link": "https://stackoverflow.com/users/3642914/leonora-tindall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9801, "favorite_count": 1, "accepted_answer_id": 33270132, "answer_count": 2, "score": 5, "last_activity_date": 1617128026, "creation_date": 1445464805, "last_edit_date": 1445467077, "question_id": 33270019, "link": "https://stackoverflow.com/questions/33270019/python-3-str-join-with-seperator", "title": "Python 3: str.join() with seperator", "body": "<p>I have some code which is essentially this:</p>\n\n<pre><code>data = [\"some\", \"data\", \"lots\", \"of\", \"strings\"]\nseparator = \".\"\n\noutput_string = \"\"\nfor datum in data:\n    output_string += datum + separator\n</code></pre>\n\n<p>How can I do this with <code>str.join()</code> or a similar <code>built-in</code> <em>function</em>? (or  is it not possible?)</p>\n"}, {"tags": ["python", "django", "sqlalchemy", "celery", "pyramid"], "comments": [{"owner": {"reputation": 12908, "user_id": 1201324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hkRLn.jpg?s=128&g=1", "display_name": "Tim Hoffman", "link": "https://stackoverflow.com/users/1201324/tim-hoffman"}, "edited": false, "score": 0, "creation_date": 1447484464, "post_id": 33270001, "comment_id": 55184025, "body": "Rather than looking at a sqlaclhemy scheduler, you say you use Pyramid why not perform scheduling there - <a href=\"https://github.com/cadithealth/pyramid_scheduler\" rel=\"nofollow noreferrer\">github.com/cadithealth/pyramid_scheduler</a>  .  I am not sure how a SQLAlchemy scheduler could function."}], "answers": [{"comments": [{"owner": {"reputation": 32238, "user_id": 273637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/89b9c456e8b6945d1e5fd87addf4f739?s=128&d=identicon&r=PG", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/273637/chris-w"}, "edited": false, "score": 0, "creation_date": 1445620338, "post_id": 33271063, "comment_id": 54414663, "body": "I appreciate the response, but my requirements are that from <i>within my application</i> users be able to <i>dynamically create</i> new scheduled tasks. I suppose it would be possible to store a newly created task by writing to my crontab file, but that is a rather cludgey solution I think."}], "tags": [], "owner": {"reputation": 16356, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/MqCvM.jpg?s=128&g=1", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "is_accepted": false, "score": 0, "last_activity_date": 1445470655, "creation_date": 1445470655, "answer_id": 33271063, "question_id": 33270001, "link": "https://stackoverflow.com/questions/33270001/is-there-a-generic-sqlalchemy-based-periodic-task-scheduler-for-celery/33271063#33271063", "title": "Is there a generic SQLAlchemy based periodic task scheduler for Celery?", "body": "<p>You can just use <a href=\"https://help.ubuntu.com/community/CronHowto\" rel=\"nofollow\">cron</a> to schedule tasks.  Here is some example code to get you going:</p>\n\n<p>Terminal commands:</p>\n\n<pre><code># open \"crontab\" in vim\nenv EDITOR=vi crontab -e\n\n# will run every minute\n* * * * * /path/to/task.py\n\n# cron mail location\nvi /var/mail/me\n</code></pre>\n\n<p>Create a <code>./manage.py</code> custom task (where Celery will be called), and schedule it.</p>\n\n<pre><code># cron w/ virtualenv\n# . $HOME/.bash_profile; # necessary for cron to access ENV VARs\n* * * * * . $HOME/.bash_profile; \\\n    cd /Users/aaron/Documents/djcode/my_project/project &amp;&amp; \\\n    /Users/aaron/Documents/virtualenvs/django18_py2/bin/python \\\n    /Users/aaron/Documents/djcode/my_project/project/manage.py\n</code></pre>\n"}], "owner": {"reputation": 32238, "user_id": 273637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/89b9c456e8b6945d1e5fd87addf4f739?s=128&d=identicon&r=PG", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/273637/chris-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 945, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1562667300, "creation_date": 1445464724, "question_id": 33270001, "link": "https://stackoverflow.com/questions/33270001/is-there-a-generic-sqlalchemy-based-periodic-task-scheduler-for-celery", "title": "Is there a generic SQLAlchemy based periodic task scheduler for Celery?", "body": "<p>I would like to create periodic tasks in celery with run-time defined schedules.</p>\n\n<p>If your project is Django-based you can use <code>djcelery</code>'s <code>DatabaseScheduler</code> class to dynamically create periodic tasks. You would run your celerybeat like so...</p>\n\n<pre><code>celery -A proj beat -S djcelery.schedulers.DatabaseScheduler\n</code></pre>\n\n<p>However the <code>djcelery.schedulers.DatabaseScheduler</code> is quite tightly coupled to Django.</p>\n\n<p>Does there exist a more-generic Database Scheduler? Even better, does there exist a Database Scheduler which is intended for use with Pyramids + SQLAlchemy, which is what my project is based on?</p>\n"}, {"tags": ["python", "error-handling", "ftp", "timeout", "ftplib"], "answers": [{"comments": [{"owner": {"reputation": 348, "user_id": 5429525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-f5XyRojgP18/AAAAAAAAAAI/AAAAAAAAAMY/9jgQ8wOp_QQ/photo.jpg?sz=128", "display_name": "Maxim Lott", "link": "https://stackoverflow.com/users/5429525/maxim-lott"}, "edited": false, "score": 1, "creation_date": 1445521007, "post_id": 33270675, "comment_id": 54365002, "body": "Thank you. In case it helps anyone else, I was able to catch the timeout error with the following, which enables me to re-try the connection until it works:"}, {"owner": {"reputation": 348, "user_id": 5429525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-f5XyRojgP18/AAAAAAAAAAI/AAAAAAAAAMY/9jgQ8wOp_QQ/photo.jpg?sz=128", "display_name": "Maxim Lott", "link": "https://stackoverflow.com/users/5429525/maxim-lott"}, "edited": false, "score": 1, "creation_date": 1445521124, "post_id": 33270675, "comment_id": 54365093, "body": "import socket   [paragraph here]       except socket.timeout, e:"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 348, "user_id": 5429525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-f5XyRojgP18/AAAAAAAAAAI/AAAAAAAAAMY/9jgQ8wOp_QQ/photo.jpg?sz=128", "display_name": "Maxim Lott", "link": "https://stackoverflow.com/users/5429525/maxim-lott"}, "edited": false, "score": 0, "creation_date": 1445533368, "post_id": 33270675, "comment_id": 54373259, "body": "I&#39;m adding your explanation to this answer, to give it greater visibility."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 4, "last_activity_date": 1445533530, "last_edit_date": 1445533530, "creation_date": 1445468439, "answer_id": 33270675, "question_id": 33269971, "link": "https://stackoverflow.com/questions/33269971/python-error-handling-for-ftp-hang-421-timeout/33270675#33270675", "title": "Python error handling for FTP hang / 421 timeout", "body": "<p>The channel timeout is set on the ftp server.  Some interfaces (such as FileZilla) allow you to configure your channel timeout.  Fortunately, Python's FTP package is one of these.  See the <a href=\"https://docs.python.org/2/library/ftplib.html\" rel=\"nofollow\">documentation</a> for further details.\nIn the meantime, just try the timeout parameter:</p>\n\n<pre><code>ftp = FTP('[FTP ADDRESS HERE]', timeout=30)\n</code></pre>\n\n<hr>\n\n<p>Maxim Lott (OP) was able to catch the timeout error with the following, which re-tries the connection until it works:</p>\n\n<pre><code>import socket \nexcept socket.timeout, e:\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 7853455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCGI1.jpg?s=128&g=1", "display_name": "MTS", "link": "https://stackoverflow.com/users/7853455/mts"}, "is_accepted": false, "score": 2, "last_activity_date": 1494173649, "creation_date": 1494173649, "answer_id": 43833730, "question_id": 33269971, "link": "https://stackoverflow.com/questions/33269971/python-error-handling-for-ftp-hang-421-timeout/43833730#43833730", "title": "Python error handling for FTP hang / 421 timeout", "body": "<p>This error had me thinking fo a while.</p>\n\n<p>I made an exception in an infinite loop while True</p>\n\n<ul>\n<li><p>so when it happens it still True</p></li>\n<li><p>then I call my function ftp_connect_to_site() that is inside a class named RemoteTar</p></li>\n</ul>\n\n<p>This function is going to reconnect you if this exception happens Not the best Idea.</p>\n\n<p>am a beginner in python that all I could think of</p>\n\n<pre><code>          except ftplib.error_temp  as e:\n               print('Time run out reconnect: ',e)\n               RemoteTar.ftp_connect_to_site()       \n</code></pre>\n"}], "owner": {"reputation": 348, "user_id": 5429525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-f5XyRojgP18/AAAAAAAAAAI/AAAAAAAAAMY/9jgQ8wOp_QQ/photo.jpg?sz=128", "display_name": "Maxim Lott", "link": "https://stackoverflow.com/users/5429525/maxim-lott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4626, "favorite_count": 1, "accepted_answer_id": 33270675, "answer_count": 2, "score": 1, "last_activity_date": 1494173649, "creation_date": 1445464585, "question_id": 33269971, "link": "https://stackoverflow.com/questions/33269971/python-error-handling-for-ftp-hang-421-timeout", "title": "Python error handling for FTP hang / 421 timeout", "body": "<p>I have a script (below) that pushes an html file to a server. It WORKS 95% of the time. However, about 5% of the time, the server fails and the attempt to connect hangs. It stalls for 15 minutes (900 seconds) and then fails. </p>\n\n<pre><code>    ftp = FTP('[FTP ADDRESS HERE]')\n    ftp.login('[USERNAME]','[PASSWORD]')\n    converted_HTML_string = io.BytesIO(HTML_string)\n    ftp.storbinary('STOR public_html/home.html', converted_HTML_string)\n</code></pre>\n\n<p>Again, this works 95% of the time. In the 5% when it doesn't, if I manually interrupt it when it hangs and simply re-run the request again -- then it works. It seems to be caused by temporary server glitches. I have no control over the server quality.</p>\n\n<p>The real problem is that the hang is too long. What I want to be able to set a time limit (like 30 seconds) on how long it hangs, and then have code that says \"re-run this ftp command until it succeeds.\"</p>\n\n<p>Is that possible? Is there another way I should handle this?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "fabric"], "answers": [{"tags": [], "owner": {"reputation": 4253, "user_id": 5449364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843d0aabb84a3b312d08384834c0f26d?s=128&d=identicon&r=PG", "display_name": "Javier Buzzi", "link": "https://stackoverflow.com/users/5449364/javier-buzzi"}, "is_accepted": true, "score": 2, "last_activity_date": 1445465678, "creation_date": 1445465678, "answer_id": 33270186, "question_id": 33269967, "link": "https://stackoverflow.com/questions/33269967/how-do-i-iteratively-develop-a-fabfile/33270186#33270186", "title": "How do I iteratively develop a fabfile?", "body": "<p>Personally speaking (ive been writing fabfiles for about 2 years) i tend to make it so that i check if it exist before launching the code that does it. Example:</p>\n\n<pre><code>@task\ndef provision():\n    sudo('apt-get update')\n    sudo('apt-get install -y {}'.format(' '.join(SERVER_PACKAGES)))\n\n    # always do this so it never crashes\n    sudo('mkdir -p {}'.format(ROOT_PATH)) \n\n    if files.exists(os.path.join(path, 'nginx')):\n        print 'NGINX {} installed. Skipping.'.format(version)\n        return\n\n    do_instalation_here()\n</code></pre>\n\n<p>That way when you run it nothing crashes and jigs you out.</p>\n"}], "owner": {"reputation": 13749, "user_id": 1741868, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/68d7630296c9aa9d1adb4776c11daab7?s=128&d=identicon&r=PG", "display_name": "Greg B", "link": "https://stackoverflow.com/users/1741868/greg-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 33270186, "answer_count": 1, "score": 0, "last_activity_date": 1445465678, "creation_date": 1445464562, "last_edit_date": 1445464735, "question_id": 33269967, "link": "https://stackoverflow.com/questions/33269967/how-do-i-iteratively-develop-a-fabfile", "title": "How do I iteratively develop a fabfile?", "body": "<p>I'm reading up on <a href=\"http://www.fabfile.org/\" rel=\"nofollow\">fabric</a> and running my script against a test VM but after an fixing an error in it I can no longer run it as it fails at an earlier line because it already successfully created a group with <code>addgroup</code>. My question is  </p>\n\n<p><strong>What is a good development strategy for writing a fabfile?</strong></p>\n\n<p>Are there best practices that can make fabfiles re-runnable or more robust so that you can run it several times as you're writing it, or do people snapshot their VM and roll back after every run?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 331062, "user_id": 139010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0df2f3c2d3b43605889eb90231fb6884?s=128&d=identicon&r=PG", "display_name": "Matt Ball", "link": "https://stackoverflow.com/users/139010/matt-ball"}, "edited": false, "score": 1, "creation_date": 1445464699, "post_id": 33269949, "comment_id": 54341108, "body": "Which line is line 98?"}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 1, "creation_date": 1445464705, "post_id": 33269949, "comment_id": 54341110, "body": "<code>f</code> is a file pointer. This line is wrong: <code>passwrd = f[search]</code>. Not sure what you are trying to do but you can&#39;t index &quot;f&quot; like that."}, {"owner": {"reputation": 997, "user_id": 2085282, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7f3c60909c612ccd978a2e381c4ac45?s=128&d=identicon&r=PG", "display_name": "user2085282", "link": "https://stackoverflow.com/users/2085282/user2085282"}, "reply_to_user": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 1, "creation_date": 1445464845, "post_id": 33269949, "comment_id": 54341156, "body": "@RobertB  f is a <a href=\"https://docs.python.org/2/library/shelve.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/shelve.html</a>, not a file pointer"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "reply_to_user": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1445464905, "post_id": 33269949, "comment_id": 54341180, "body": "@RobertB This was the first way I wrote it and the correct accounts worked, but it would end the program if wrong anser now it only lets me input wrong answers. Heres the first try: <a href=\"http://stackoverflow.com/questions/33268274/how-do-i-check-if-the-account-is-saved\">try1</a>"}], "answers": [{"comments": [{"owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "edited": false, "score": 1, "creation_date": 1445465500, "post_id": 33270089, "comment_id": 54341420, "body": "Seems like it&#39;s. But is put <code>f.close()</code> inside the <code>for</code> loop correct?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "edited": false, "score": 0, "creation_date": 1445465571, "post_id": 33270089, "comment_id": 54341451, "body": "@RobertB After changing it I get this: <code>Traceback (most recent call last):   File &quot;E:\\password.py&quot;, line 103, in ?     program_start()   File &quot;E:\\password.py&quot;, line 98, in program_start     find_account()   File &quot;E:\\password.py&quot;, line 37, in find_account     passwrd = line[search] TypeError: string indices must be integers</code>"}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 1, "creation_date": 1445465624, "post_id": 33270089, "comment_id": 54341472, "body": "No. Don&#39;t close <code>f</code> until you are done processing all the lines. So outside of the for loop. Otherwise, the program will attempt to loop again, attempt to read from a closed file, and throw another error"}, {"owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "edited": false, "score": 1, "creation_date": 1445465822, "post_id": 33270089, "comment_id": 54341548, "body": "@RobertB Actually I recommend use <code>with</code> here. And about OP said that his problem, maybe <code>search = int(raw_input(&quot;For which account are you searching: &quot;))</code> or <code>password = passwords[int(search)]</code>?"}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 1, "creation_date": 1445466056, "post_id": 33270089, "comment_id": 54341649, "body": "Read up on the <code>with</code> statement."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "edited": false, "score": 0, "creation_date": 1445466200, "post_id": 33270089, "comment_id": 54341700, "body": "@RobertB I&#39;m getting syntac error on shelve in <code>with shelve.open(...</code>"}, {"owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "edited": false, "score": 1, "creation_date": 1445466326, "post_id": 33270089, "comment_id": 54341746, "body": "<code>if search in passwords:</code> is not correct because <code>passwords</code> is a <code>_io.TextIOWrapper</code>. You should read it like <code>for password in passwords</code> or <code>password = passwords.read()</code> before use it."}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 1, "creation_date": 1445466481, "post_id": 33270089, "comment_id": 54341803, "body": "Ok I figured it out. The 3.5 shelve is much different than 2.7."}, {"owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "edited": false, "score": 1, "creation_date": 1445466700, "post_id": 33270089, "comment_id": 54341901, "body": "@RobertB No problem, I&#39;ve just edited your answer, maybe this can work now."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "edited": false, "score": 0, "creation_date": 1445466705, "post_id": 33270089, "comment_id": 54341902, "body": "I&#39;m actually using 2.4.4 only because I need this version for class"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "edited": false, "score": 0, "creation_date": 1445466733, "post_id": 33270089, "comment_id": 54341912, "body": "And it works thank you so much it has been frustrating me for the past 4 gours"}, {"owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "edited": false, "score": 1, "creation_date": 1445466804, "post_id": 33270089, "comment_id": 54341941, "body": "@DeliriousMistakes Really? Python 2.4.4 was released on October 18, 2006. That&#39;s almost ten years ago. :P"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "edited": false, "score": 0, "creation_date": 1445466915, "post_id": 33270089, "comment_id": 54341980, "body": "Yeah, if it wasn&#39;t for the class I wouldn&#39;t be using it. I have python 3.x on my desktop on a virtual machine, but im not at home :/"}], "tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": true, "score": 2, "last_activity_date": 1445466632, "last_edit_date": 1445466632, "creation_date": 1445465183, "answer_id": 33270089, "question_id": 33269949, "link": "https://stackoverflow.com/questions/33269949/what-is-causing-int-object-has-no-attribute-has-key/33270089#33270089", "title": "What is causing &#39;int&#39; object has no attribute &#39;has_key&#39;?", "body": "<p>Shelve returns a single dict.<br>\nSo it doesn't make sense to read multiple lines from it from what I can tell.</p>\n\n<p>I think this should work:</p>\n\n<pre><code>print '\\n'\nsearch = raw_input(\"For which account are you searching: \")\nwith shelve.open(\"passwords.dat\") as f:\n    for passwords in f:\n        if search in passwords:\n            password = passwords[int(search)]\n            entry = passwrd[0]\n            print passwords\n            print '\\n'\n        else:\n            print \"I'm sorry we could not find any account related to \" + search\nprint '\\n'\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 980, "favorite_count": 0, "accepted_answer_id": 33270089, "answer_count": 1, "score": 1, "last_activity_date": 1445466632, "creation_date": 1445464464, "last_edit_date": 1445465408, "question_id": 33269949, "link": "https://stackoverflow.com/questions/33269949/what-is-causing-int-object-has-no-attribute-has-key", "title": "What is causing &#39;int&#39; object has no attribute &#39;has_key&#39;?", "body": "<p>I have changed my code to:</p>\n\n<pre><code>print '\\n'\nsearch = raw_input(\"For which account are you searching: \")\nf = shelve.open(\"passwords.dat\")\nfor line in f:\n    if search in f:\n        passwrd = f[search]\n        entry = passwrd[0]\n        f.close()\n        print line\n        print '\\n'\nprint \"I'm sorry we could not find any account related to \" + search\nprint '\\n'\nf.close()\n</code></pre>\n\n<p>And now it won't accept any correct accounts and gives off this error:</p>\n\n<pre><code>'int' object has no attribute 'has_key'\n</code></pre>\n\n<p>Why am I now getting this message?</p>\n\n<pre><code>  File \"E:\\password.py\", line 98, in program_start\n    find_account()\n  File \"E:\\password.py\", line 36, in find_account\n    if search in f:\n  File \"C:\\Python24\\lib\\shelve.py\", line 107, in __contains__\n    return self.dict.has_key(key)\nAttributeError: 'int' object has no attribute 'has_key'\n</code></pre>\n"}, {"tags": ["python", "sms", "twilio"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1445468593, "post_id": 33269905, "comment_id": 54342505, "body": "Try it and see what happens?  I hate to state the obvious to an experienced SO citizen, but that <i>is</i> our usual standard: show the output of the given code.  :-)"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1445469260, "post_id": 33269905, "comment_id": 54342713, "body": "I went through the documentation.  Although there are a couple of references to letters allowed in phone number fields, I can&#39;t find a specific reference to a string alias."}], "answers": [{"tags": [], "owner": {"reputation": 9892, "user_id": 687572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea8bc1c3f3bb3c7cca875aa585f7bb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/687572/jim"}, "is_accepted": false, "score": 0, "last_activity_date": 1445480596, "creation_date": 1445480596, "answer_id": 33272396, "question_id": 33269905, "link": "https://stackoverflow.com/questions/33269905/can-i-specify-the-friendly-name-in-place-of-the-phone-number-when-sending-sms/33272396#33272396", "title": "Can I specify the &quot;friendly name&quot; in place of the phone number when sending SMS via Twilio?", "body": "<p>SMS generally does not have a \"friendly name\" or  \"string alias\" or anything like that. The names that you see on a device come from the device owner's contact list, not the message. Here is a protocol reference: <a href=\"https://en.wikipedia.org/wiki/GSM_03.40\" rel=\"nofollow\">https://en.wikipedia.org/wiki/GSM_03.40</a></p>\n\n<p>Although the protocol has evolved quite a bit, I don't think there are any plans to add this type of data, as the message is intended to be very compact.</p>\n"}, {"tags": [], "owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "is_accepted": true, "score": 2, "last_activity_date": 1445507136, "creation_date": 1445507136, "answer_id": 33278045, "question_id": 33269905, "link": "https://stackoverflow.com/questions/33269905/can-i-specify-the-friendly-name-in-place-of-the-phone-number-when-sending-sms/33278045#33278045", "title": "Can I specify the &quot;friendly name&quot; in place of the phone number when sending SMS via Twilio?", "body": "<p>Twilio developer evangelist here.</p>\n\n<p>You can do this... sometimes.</p>\n\n<p>Twilio allows you to use an alphanumeric string as the sender ID for SMS messages. And you would do it exactly as you have shown, by setting the from parameter as the string. You do need to have an upgraded Twilio account, you can't use this on the free accounts.</p>\n\n<p>However, it is only <a href=\"https://www.twilio.com/help/faq/sms/what-countries-does-twilio-support-alphanumeric-sender-id\" rel=\"nofollow\">supported in about 145 countries</a> and sadly, the US is not one of those countries.</p>\n\n<p>I wrote up a <a href=\"https://www.twilio.com/blog/2015/08/send-branded-sms-messages-using-twilio-alphanumeric-sender-id.html\" rel=\"nofollow\">blog post</a> with more detail on how you do this. It is in Ruby, but I've not doubt you can follow along.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>And re-reading the post shows that maybe I misunderstood here.</p>\n\n<p>If you are trying to refer to the actual number to send by its friendly name, then that will not work. As I say above, using a string as the from argument will try to send the SMS using that string as an alphanumeric sender ID. It will not send the message from the number. If you are trying to send a message in the US this will then fail as you cannot send from an alphanumeric ID there.</p>\n\n<p>To send a message from your Twilio number, you need to use the number itself as the from argument.</p>\n"}], "owner": {"reputation": 12698, "user_id": 487992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/892d686b537ccfe617ca15df32192670?s=128&d=identicon&r=PG", "display_name": "JohnMudd", "link": "https://stackoverflow.com/users/487992/johnmudd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1430, "favorite_count": 0, "accepted_answer_id": 33278045, "answer_count": 2, "score": 1, "last_activity_date": 1445507136, "creation_date": 1445464266, "question_id": 33269905, "link": "https://stackoverflow.com/questions/33269905/can-i-specify-the-friendly-name-in-place-of-the-phone-number-when-sending-sms", "title": "Can I specify the &quot;friendly name&quot; in place of the phone number when sending SMS via Twilio?", "body": "<p>Instead of </p>\n\n<pre><code>client = TwilioRestClient(account_sid, auth_token)\nmessage = client.messages.create(to=\"+12316851234\", from_=\"+15555555555\",\n                                 body=\"Hello there!\")\n</code></pre>\n\n<p>I'd like to use the \"friendly name\", such as \"twilio 1\".</p>\n\n<pre><code>message = client.messages.create(to=\"+12316851234\", from_=\"twilio 1\",\n                                 body=\"Hello there!\")\n</code></pre>\n"}, {"tags": ["python", "arrays", "python-3.x", "django-templates"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1445464384, "post_id": 33269901, "comment_id": 54340978, "body": "instead of <code>{{instance}}</code>, output <code>{{name}}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 3757208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5f93b1c3fd0fa9b0e13ddce715f8ff2a?s=128&d=identicon&r=PG&f=1", "display_name": "GoldenEagle", "link": "https://stackoverflow.com/users/3757208/goldeneagle"}, "edited": false, "score": 0, "creation_date": 1445526492, "post_id": 33269963, "comment_id": 54368937, "body": "Thank you! Now I have a new use case. How can I have  a for loop print out values from 2 different arrays? Like { for name in instance}      {{name}} {{Last_name}}"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "reply_to_user": {"reputation": 105, "user_id": 3757208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5f93b1c3fd0fa9b0e13ddce715f8ff2a?s=128&d=identicon&r=PG&f=1", "display_name": "GoldenEagle", "link": "https://stackoverflow.com/users/3757208/goldeneagle"}, "edited": false, "score": 0, "creation_date": 1445540015, "post_id": 33269963, "comment_id": 54376976, "body": "to iterate over two different sequences pairing the elements form each, you can use <a href=\"https://docs.python.org/3/library/functions.html#zip\" rel=\"nofollow noreferrer\">zip</a>. e.g. <code>{% for name, last_name in zip(arr1, arr2) %}</code> <code>{{ name }}</code> <code>{{ last_name }}</code> <code>{% endfor %}</code>"}, {"owner": {"reputation": 105, "user_id": 3757208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5f93b1c3fd0fa9b0e13ddce715f8ff2a?s=128&d=identicon&r=PG&f=1", "display_name": "GoldenEagle", "link": "https://stackoverflow.com/users/3757208/goldeneagle"}, "edited": false, "score": 0, "creation_date": 1445541707, "post_id": 33269963, "comment_id": 54377903, "body": "I don&#39;t think it&#39;s possible to access zip from within the for loop.All computations have to be done outside the template. Also I think this is my question asked in a better way.   <a href=\"http://stackoverflow.com/questions/33286510/displaying-2-values-in-a-record-array-using-django-template-for-loop\" title=\"displaying 2 values in a record array using django template for loop\">stackoverflow.com/questions/33286510/&hellip;</a>"}, {"owner": {"reputation": 105, "user_id": 3757208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5f93b1c3fd0fa9b0e13ddce715f8ff2a?s=128&d=identicon&r=PG&f=1", "display_name": "GoldenEagle", "link": "https://stackoverflow.com/users/3757208/goldeneagle"}, "edited": false, "score": 0, "creation_date": 1445544042, "post_id": 33269963, "comment_id": 54379332, "body": "Ok, but then how do I use the Context() method with the combined arrays?"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "reply_to_user": {"reputation": 105, "user_id": 3757208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5f93b1c3fd0fa9b0e13ddce715f8ff2a?s=128&d=identicon&r=PG&f=1", "display_name": "GoldenEagle", "link": "https://stackoverflow.com/users/3757208/goldeneagle"}, "edited": false, "score": 0, "creation_date": 1445544149, "post_id": 33269963, "comment_id": 54379393, "body": "I am looking at your new question. Maybe you there is no need to change much. See my comment there"}], "tags": [], "owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "is_accepted": true, "score": 1, "last_activity_date": 1445547523, "last_edit_date": 1445547523, "creation_date": 1445464542, "answer_id": 33269963, "question_id": 33269901, "link": "https://stackoverflow.com/questions/33269901/how-iterate-over-all-the-values-in-an-array-in-django/33269963#33269963", "title": "How iterate over all the values in an array in Django", "body": "<p>You are outputting the queryset/iterable, i.e. <code>instance</code>.</p>\n\n<p>Instead, you need to output each element of it, which is <code>name</code>, as you correctly state in the <code>for</code> loop.</p>\n\n<p>The syntax of the <code>for</code> is the same as python's (see if <a href=\"https://wiki.python.org/moin/ForLoop\" rel=\"nofollow\">this helps</a>)</p>\n\n<p>so just replace</p>\n\n<pre><code>{{instance}}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>{{name}}\n</code></pre>\n\n<p>in the template and you should get the desired output</p>\n\n<p>That means the template should be</p>\n\n<pre><code>(:,\n\n{% for name  in instance  %}\n       {{name}}\n{% endfor %}\n\n My name is {{my_name}}.\n(:,\n</code></pre>\n\n<p>By the way, I can see the queryset has five elements (the same line was repeated five times because the loop ran on five elements), but the last two lack a name since only John, Tim and Sarah appear.</p>\n"}], "owner": {"reputation": 105, "user_id": 3757208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5f93b1c3fd0fa9b0e13ddce715f8ff2a?s=128&d=identicon&r=PG&f=1", "display_name": "GoldenEagle", "link": "https://stackoverflow.com/users/3757208/goldeneagle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2920, "favorite_count": 0, "accepted_answer_id": 33269963, "answer_count": 1, "score": 2, "last_activity_date": 1445547523, "creation_date": 1445464246, "question_id": 33269901, "link": "https://stackoverflow.com/questions/33269901/how-iterate-over-all-the-values-in-an-array-in-django", "title": "How iterate over all the values in an array in Django", "body": "<p>I have an array of names in python, which I would like to display using Django templates. I know that tags can be used that support for loops, but they have a unique syntax which I am unfamiliar with.</p>\n\n<p>Also I do not want to use instance.0, instance.1 and so on. I need to be scalable for any size array</p>\n\n<p>Django Template code</p>\n\n<pre><code>(:,\n\n{% for name  in instance  %}\n       {{instance}}         \n{%endfor%}\n\n My name is {{my_name}}.\n(:,\n</code></pre>\n\n<p>Python code</p>\n\n<pre><code>from django.template import Template, Context\nfrom django.conf import settings\n\nsettings.configure()\n\n\nt=Template(The above section)\ndtype={'names': ['name','offset'],\n       'formats':['U20,U20']\n       }\n\ninstance = np.zeros(5,dtype='U20')\ninstance[0]=('John')\ninstance[1]=('Tim')\ninstance[2]=('Sarah')\n\nname=\"adrian\"\n\n\nc=Context({\"instance\":instance, \"my_name\":name})\nprint(t.render(c))\n</code></pre>\n\n<p>Current output</p>\n\n<p>(:,</p>\n\n<pre><code>                [&amp;#39;John&amp;#39; &amp;#39;Tim&amp;#39; &amp;#39;Sarah&amp;#39; &amp;#39;&amp;#39; &amp;#39;&amp;#39;]\n\n\n                [&amp;#39;John&amp;#39; &amp;#39;Tim&amp;#39; &amp;#39;Sarah&amp;#39; &amp;#39;&amp;#39; &amp;#39;&amp;#39;]\n\n\n                [&amp;#39;John&amp;#39; &amp;#39;Tim&amp;#39; &amp;#39;Sarah&amp;#39; &amp;#39;&amp;#39; &amp;#39;&amp;#39;]\n\n\n                [&amp;#39;John&amp;#39; &amp;#39;Tim&amp;#39; &amp;#39;Sarah&amp;#39; &amp;#39;&amp;#39; &amp;#39;&amp;#39;]\n\n\n                [&amp;#39;John&amp;#39; &amp;#39;Tim&amp;#39; &amp;#39;Sarah&amp;#39; &amp;#39;&amp;#39; &amp;#39;&amp;#39;]\n\n\n       My name is adrian.\n       ).\n</code></pre>\n\n<p>Desired output</p>\n\n<pre><code>(:,\n        i=0\n\n               [John]\n\n\n               [Tim]\n\n\n               [Sarah]\n\n\n\n\n       My name is adrian.\n       ).\n</code></pre>\n"}, {"tags": ["python", "indentation"], "answers": [{"tags": [], "owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1445466179, "creation_date": 1445466179, "answer_id": 33270281, "question_id": 33269864, "link": "https://stackoverflow.com/questions/33269864/unexpected-indentation/33270281#33270281", "title": "Unexpected indentation", "body": "<p>There's an extra space in that last line for the same reason there's an extra space in <strong>every</strong> line. Join visibly to see it, for example with \"X\" instead of \" \":</p>\n\n<pre><code>1X2X3X4X5X6 \n2X3X4X5X6 1\n3X4X5X6 1X2\n4X5X6 1X2X3\n5X6 1X2X3X4\n6 1X2X3X4X5\n 1X2X3X4X5X6\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2712, "user_id": 1548472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/1Xbe4.png?s=128&g=1", "display_name": "holroy", "link": "https://stackoverflow.com/users/1548472/holroy"}, "is_accepted": false, "score": 0, "last_activity_date": 1445472156, "last_edit_date": 1445472156, "creation_date": 1445469541, "answer_id": 33270866, "question_id": 33269864, "link": "https://stackoverflow.com/questions/33269864/unexpected-indentation/33270866#33270866", "title": "Unexpected indentation", "body": "<p>This was kind of interesting, but it seems like you've stumbled upon an automated space insertion when printing multiple variables/strings. Combined with a tuple print issue, if using Python version 2.x. </p>\n\n<pre><code>print('hi', 'there')\nprint 'what', 'now?'\nprint('nothing')\n</code></pre>\n\n<p>In my Python v.2.7.10 this outputs:</p>\n\n<pre><code>('hi', 'there')\nwhat now?\nnothing\n</code></pre>\n\n<p>Notice how the first includes parens, and shows that this is actually a tuple of two strings, not a print function? Using <code>from __future__ import print_function</code> we would disallow the version without parens, but space will still be inserted between elements.</p>\n\n<h2>Alternative versions</h2>\n\n<p>To remove the space you could use <code>print('{}{}'.format(\" \".join(... [x:]), \" \".join(... [:x])))</code>. But this would remove the wanted space between the two parts. Inserting it in the format string would reintroduce the unwanted space in the last line.</p>\n\n<p>A better option is to sum up the two slices before joining and printing them:</p>\n\n<pre><code>for x in range(n):\n    print(\" \".join(str(e) for e in (list1[x:] + list1[:x])))\n</code></pre>\n\n<p>Another version using itertools instead of summing the slices:</p>\n\n<pre><code>import itertools\nfor x in range(n):\n    print(\" \".join(str(e) for e in itertools.chain(list1[x:], list1[:x])))\n</code></pre>\n\n<p>Both these versions produce the intended output, and I think it's a matter of preferences which to use. The first does however not require any imports, and is quite concise.</p>\n"}], "owner": {"reputation": 27, "user_id": 5459451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831120226a312caa20d78daca700f46a?s=128&d=identicon&r=PG&f=1", "display_name": "Javed Hakim", "link": "https://stackoverflow.com/users/5459451/javed-hakim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1445472156, "creation_date": 1445464117, "last_edit_date": 1445464263, "question_id": 33269864, "link": "https://stackoverflow.com/questions/33269864/unexpected-indentation", "title": "Unexpected indentation", "body": "<p>I'm not sure as to why the last line printed is indented, any help will be much appreciated.</p>\n\n<pre><code>    def Task9():\n        list1 = []\n        n = int(input(\"Enter width of latin square: \"))\n        for x in range(1,n):\n            list1.append(x)\n\n        for x in range(n):\n                print(\" \".join( str(e)for e in list1[x:]) ,\" \".join( str(e) for e in list1[:x]))\n\n    Task9()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 3, "creation_date": 1445464114, "post_id": 33269853, "comment_id": 54340836, "body": "Couldn&#39;t you just read a row and then iterate through it, field by field?"}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 1, "creation_date": 1445464238, "post_id": 33269853, "comment_id": 54340897, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/16503560/read-specific-columns-from-csv-file-with-python-csv\">Read Specific Columns from csv file with Python csv</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5949, "user_id": 280650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04706f1acb130da6bf87f68c0e4d5dc8?s=128&d=identicon&r=PG", "display_name": "h0tw1r3", "link": "https://stackoverflow.com/users/280650/h0tw1r3"}, "edited": false, "score": 1, "creation_date": 1445464697, "post_id": 33269933, "comment_id": 54341106, "body": "This will not work on a &quot;real&quot; csv file that may have quoted fields."}, {"owner": {"reputation": 13, "user_id": 5473480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e8ba13dfa37e6e27f1709795d34ed4?s=128&d=identicon&r=PG&f=1", "display_name": "Xaples", "link": "https://stackoverflow.com/users/5473480/xaples"}, "edited": false, "score": 0, "creation_date": 1445465148, "post_id": 33269933, "comment_id": 54341279, "body": "This will work for my scenario.  My input will not be an actual csv file.  I was just using one to mimic the data I will receive from a piece of measurement equipment."}], "tags": [], "owner": {"reputation": 1311, "user_id": 4421975, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-pkyT-D0ZdA0/AAAAAAAAAAI/AAAAAAAAAHs/f_1n2vHZkEM/photo.jpg?sz=128", "display_name": "OMRY VOLK", "link": "https://stackoverflow.com/users/4421975/omry-volk"}, "is_accepted": true, "score": 1, "last_activity_date": 1445464407, "creation_date": 1445464407, "answer_id": 33269933, "question_id": 33269853, "link": "https://stackoverflow.com/questions/33269853/python-2-7-reading-csv-fields-rather-than-rows/33269933#33269933", "title": "Python 2.7 reading csv fields rather than rows", "body": "<p>read the row and then use split</p>\n\n<pre><code>f=open(filename,'r')\nfields=f.readline().split(',')\n</code></pre>\n\n<p>now fields[i] is the i-th field</p>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1445464613, "creation_date": 1445464613, "answer_id": 33269977, "question_id": 33269853, "link": "https://stackoverflow.com/questions/33269853/python-2-7-reading-csv-fields-rather-than-rows/33269977#33269977", "title": "Python 2.7 reading csv fields rather than rows", "body": "<p>Assuming that you're using a csv reader my_reader ...</p>\n\n<pre><code>row_stream = (row for row in my_reader)\nfield_stream = (field for field in row)\nfor field in field_stream:\n    ....\n</code></pre>\n\n<p>This gives you a stream of fields instead of a sequence of csv rows.  If you replace the \"for\" expression with a generator comprehension, you can continue the pipeline.</p>\n"}, {"tags": [], "owner": {"reputation": 597, "user_id": 5203702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pArvU.png?s=128&g=1", "display_name": "H. U.", "link": "https://stackoverflow.com/users/5203702/h-u"}, "is_accepted": false, "score": 2, "last_activity_date": 1445464922, "creation_date": 1445464922, "answer_id": 33270046, "question_id": 33269853, "link": "https://stackoverflow.com/questions/33269853/python-2-7-reading-csv-fields-rather-than-rows/33270046#33270046", "title": "Python 2.7 reading csv fields rather than rows", "body": "<p>You may get the csv data in the List and then iterate the list:  </p>\n\n<pre><code>import csv\nf1=\"filename.csv\"\nwith open(f1, 'rU') as csvfile1:\n\n    csvreader1 = csv.reader(csvfile1)\n    for line1 in csvreader1:\n        print \"List of Values from File=\", line1\n\n    #Iterate List to get seperate items.\n    for idx,item in enumerate(line1):\n        print idx , \": \", item\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 5473480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e8ba13dfa37e6e27f1709795d34ed4?s=128&d=identicon&r=PG&f=1", "display_name": "Xaples", "link": "https://stackoverflow.com/users/5473480/xaples"}, "is_accepted": false, "score": 0, "last_activity_date": 1445465515, "creation_date": 1445465515, "answer_id": 33270149, "question_id": 33269853, "link": "https://stackoverflow.com/questions/33269853/python-2-7-reading-csv-fields-rather-than-rows/33270149#33270149", "title": "Python 2.7 reading csv fields rather than rows", "body": "<p>Answer from user4421975 works well for me.  I also found that this works:</p>\n\n<pre><code>f=open(filename,'r')\nreader = csv.reader(f)\nrow = reader.next()\n</code></pre>\n\n<p>Now row[i] has the different fields.</p>\n"}], "owner": {"reputation": 13, "user_id": 5473480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e8ba13dfa37e6e27f1709795d34ed4?s=128&d=identicon&r=PG&f=1", "display_name": "Xaples", "link": "https://stackoverflow.com/users/5473480/xaples"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 33269933, "answer_count": 4, "score": 0, "last_activity_date": 1445465515, "creation_date": 1445464033, "last_edit_date": 1445464998, "question_id": 33269853, "link": "https://stackoverflow.com/questions/33269853/python-2-7-reading-csv-fields-rather-than-rows", "title": "Python 2.7 reading csv fields rather than rows", "body": "<p>Is it possible to read in a CSV file in Python one field at a time rather than an entire row?  I have an input that is a single row with a large amount of comma separated values.  I need to progress through the file one value at a time.</p>\n"}, {"tags": ["python", "file", "loops"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1445464071, "post_id": 33269815, "comment_id": 54340808, "body": "it&#39;d be great to see some of your output or what you are expecting vs what is actually happening"}, {"owner": {"reputation": 6881, "user_id": 1112503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PVM67.jpg?s=128&g=1", "display_name": "Ivan Mushketyk", "link": "https://stackoverflow.com/users/1112503/ivan-mushketyk"}, "edited": false, "score": 0, "creation_date": 1445464210, "post_id": 33269815, "comment_id": 54340883, "body": "Could you also provide input for your code that you running you code with?"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1445465444, "post_id": 33269815, "comment_id": 54341397, "body": "How big are these files?"}, {"owner": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1445465475, "post_id": 33269815, "comment_id": 54341408, "body": "@RNar hopefully that have provided you with enough information."}, {"owner": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "reply_to_user": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1445465604, "post_id": 33269815, "comment_id": 54341463, "body": "@skrrgwasme currently working on small file but will be scaling it up to a 400M file for file A about 30M file for file B. I can trim up file A a touch to remove irrelevant information. Are you thinking size may be an issue?"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1445465672, "post_id": 33269815, "comment_id": 54341487, "body": "No, I&#39;m just thinking of a simpler approach that may not be a good way to go if the file is going to get large."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1445465678, "post_id": 33269815, "comment_id": 54341492, "body": "yeah. a major problem you have is the nested for loop for iterating through f2. since the for loop is nested, it will go through each line of f2 before going to the second line of f. you could instead read both files as a list then iterate through those instead"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1445465762, "post_id": 33269815, "comment_id": 54341520, "body": "also, do you have file A and B switched?"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1445465826, "post_id": 33269815, "comment_id": 54341550, "body": "@RNar I was thinking the same thing. George: You&#39;re looking at element 1 of a split line from file one, which should be &quot;processed_transcript&quot;, not a number"}, {"owner": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "edited": false, "score": 0, "creation_date": 1445465864, "post_id": 33269815, "comment_id": 54341573, "body": "Indeed I do have those files switched. What are the advantages of iterating through a list over through the file? Speed?"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1445465921, "post_id": 33269815, "comment_id": 54341593, "body": "well if you iterate through a list, you can just use a single for loop <code>for i in range(len(list))</code> and then use list[i] to access the members. this way, you can have the indices match up. in terms of speed, it might actually be slower, but the nested for loop is eliminated"}, {"owner": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "edited": false, "score": 0, "creation_date": 1445466584, "post_id": 33269815, "comment_id": 54341851, "body": "If I was to switch to a list, would I read each line <code>content=f.readLines()</code> or would you suggest splitting by \\t first?"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1445467395, "post_id": 33269815, "comment_id": 54342132, "body": "@George - There wouldn&#39;t really be any benefit to using <code>readlines</code> before iterating over it, so I would avoid it. My answer below shows an example."}], "answers": [{"comments": [{"owner": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "edited": false, "score": 0, "creation_date": 1445465359, "post_id": 33269896, "comment_id": 54341363, "body": "I had noticed that, It still only return the first line. I have adjusted my question to include more information as request"}], "tags": [], "owner": {"reputation": 468, "user_id": 5152519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CmdH3.png?s=128&g=1", "display_name": "Danny", "link": "https://stackoverflow.com/users/5152519/danny"}, "is_accepted": false, "score": 2, "last_activity_date": 1445464226, "creation_date": 1445464226, "answer_id": 33269896, "question_id": 33269815, "link": "https://stackoverflow.com/questions/33269815/python-comparing-numbers-in-two-files/33269896#33269896", "title": "Python: Comparing numbers in two files", "body": "<p>Maybe the problem is here:</p>\n\n<pre><code>splitLine2=line.split(\"\\t\")\n</code></pre>\n\n<p>If you are using file 2, it would be</p>\n\n<pre><code>splitLine2=line2.split(\"\\t\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "edited": false, "score": 0, "creation_date": 1445467598, "post_id": 33270306, "comment_id": 54342199, "body": "Does zip not make it so that line 1 of file A is only compared with line 1 of file B? You get the correct output because with the truncated data it happen that line 1 matches line1 and line3 matches line 3."}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "reply_to_user": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "edited": false, "score": 0, "creation_date": 1445467736, "post_id": 33270306, "comment_id": 54342240, "body": "That&#39;s absolutely correct. Isn&#39;t that what you were looking for? I didn&#39;t quite fully understand your written explanation of what you are looking for, so I focused on your example output and tried to match that."}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "reply_to_user": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "edited": false, "score": 0, "creation_date": 1445467817, "post_id": 33270306, "comment_id": 54342266, "body": "@George Are you looking for <i>all</i> matches from the second file for every line in the first file?"}, {"owner": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "edited": false, "score": 0, "creation_date": 1445467929, "post_id": 33270306, "comment_id": 54342303, "body": "I was just writing an explanation to you for you comment of on Roberts solution. I think I may have mislead you along the way. I am trying to find the line in file B that match my arguments for every line in file A. So take line 1 from file A search file B for matches print them. Then do line 2 for file A search file B etc. So yes I am. Sorry to have confused you, I need to learn to write more clearly my questions."}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "reply_to_user": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "edited": false, "score": 0, "creation_date": 1445468407, "post_id": 33270306, "comment_id": 54342444, "body": "The question itself wasn&#39;t bad. You had the key points: Your code, your expected results, and your observed results. The example in the expected results part just could have been more complete, to include an example line demonstrating that a line from file A could have multiple matches in file B. Also, I would dump the last part you have about your future plans - that verges on making the question too broad since it&#39;s mainly a question about debugging your existing code. It&#39;s hard to address that part without the an answer that would be unreasonably long, or writing code for you."}, {"owner": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "edited": false, "score": 0, "creation_date": 1445468501, "post_id": 33270306, "comment_id": 54342475, "body": "Thanks for the advice. I will remove the extra information now."}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "reply_to_user": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "edited": false, "score": 0, "creation_date": 1445469801, "post_id": 33270306, "comment_id": 54342863, "body": "@George Take a look at my updated answer. It explains your original issue, and should be closer to what you&#39;re looking for, but I think your example output is still incomplete. 14821 &lt; 14830 &lt;  14899, so that line should be included in your output (unless your code had more things wrong with it than just the file pointer)."}, {"owner": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "reply_to_user": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1445471709, "post_id": 33270306, "comment_id": 54343446, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/93017/discussion-between-george-and-skrrgwasme\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "is_accepted": false, "score": 2, "last_activity_date": 1445469619, "last_edit_date": 1445469619, "creation_date": 1445466339, "answer_id": 33270306, "question_id": 33269815, "link": "https://stackoverflow.com/questions/33269815/python-comparing-numbers-in-two-files/33270306#33270306", "title": "Python: Comparing numbers in two files", "body": "<p>The problem is your file pointer. You open file B at the top of your code, then iterate all the way through it while handling the first line from file A. That means that at the end of the first iteration of your outer loop, your file pointer is now pointed at <em>the end</em> of file B. On the next iteration, there are no more lines to read from file B because the pointer is at the end of the file, so the inner loop is skipped.</p>\n\n<p>One option is to use the <a href=\"https://docs.python.org/2/tutorial/inputoutput.html#methods-of-file-objects\" rel=\"nofollow\">seek</a> function on file B at the end of the outer loop to reset the file pointer to the top of the file:</p>\n\n<pre><code>f2.seek(0)\n</code></pre>\n\n<p>However, I would advocate you change your approach and read file B into memory instead, so you're not reading a file over and over again:</p>\n\n<pre><code># use context managers to open your files instead of file pointers for\n# cleaner exception handling\nwith open('f2.txt') as f2:\n\n    exon_points = []\n\n    for line in f2:\n        split_line = line.split() # notice that the split function will split on\n                                  # whitespace by default, so \"\\t\" is not necessary\n\n        # append a tuple of the information we care about to the list\n        exon_points.append(((int(split_line[3]), int(split_line[4]))))\n\nwith open('f1.txt') as f1:\n\n    for line in f1:\n        read_start = int(line.split()[1])  \n\n        for exon_start, exon_stop in zip(exon_starts, exon_stops):\n\n            if read_start &lt; exon_stop and read_start &gt; exon_start:\n                print(\"{} {} {}\".format(read_start, exon_start, exon_stop))\n\n             else:\n                 print(\"BOO\")\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>10678 10000 12000<br>\n  10678 10500 12000<br>\n  BOO<br>\n  BOO<br>\n  BOO<br>\n  BOO<br>\n  BOO<br>\n  14830 14821 14899<br>\n  BOO<br>\n  BOO<br>\n  BOO<br>\n  14870 14821 14899  </p>\n</blockquote>\n"}], "owner": {"reputation": 773, "user_id": 4476233, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/70811df7be87ccc492d77f4c18b22a37?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4476233/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1445471687, "creation_date": 1445463891, "last_edit_date": 1445471687, "question_id": 33269815, "link": "https://stackoverflow.com/questions/33269815/python-comparing-numbers-in-two-files", "title": "Python: Comparing numbers in two files", "body": "<p>I have come back to python after a far too long of a break from it and now am struggling to do a simple task of comparing number from file A to all numbers in file B, looping through file A to do each number on each line. The number is file A are in column 2 (split by \\t) and these number to be returned must be greater then the exonStart (column 4 of file B) and less then exonStop (column 5 of file B). Eventually I want to write the lines (complete line of file A appended to the lines is File B that match that argument) to a  new file.</p>\n\n<pre><code>fileA (trimmed for relevant info and truncated):\n    1       10678   12641\n    1       14810   14929 \n    1       14870   14969  \n\nfileB (trimmed for relevant info and truncated):\n    1       processed_transcript    exon    10000   12000  2\n    1       processed_transcript    exon    10500   12000  2\n    1       processed_transcript    exon    12613   12721  3     \n    1       processed_transcript    exon    14821   14899  4\n</code></pre>\n\n<p>My code attempt at the code my explain it in more detail. </p>\n\n<pre><code>f = open('fileA')\nf2 =open('fileB')\n\nfor line in f:\n    splitLine= line.split(\"\\t\")\n    ReadStart= int(splitLine[1])\n    print ReadStart\n    for line2 in f2:\n        splitLine2=line2.split(\"\\t\")\n        ExonStart = int(splitLine2[3])\n        ExonStop = int(splitLine2[4])\n        if ReadStart &lt; ExonStop and ReadStart &gt; ExonStart:\n            print ReadStart, ExonStart, ExonStop\n        else:\n            print \"BOO\"   \nf.close()\n</code></pre>\n\n<p>What I expect is (from my code):\nWhere the first col is ReadStart from file B and the next two are from file A</p>\n\n<pre><code>    10678   10000   12000\n    10678   10500   12000\n    14870   14821   14899\n</code></pre>\n\n<p>My code will only return the first line.</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "edited": false, "score": 0, "creation_date": 1445464131, "post_id": 33269809, "comment_id": 54340844, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4172131/create-random-list-of-integers-in-python\">Create random list of integers in Python</a> ... or maybe <a href=\"http://stackoverflow.com/questions/13555956/making-a-random-list-in-scheme\">Making a random list in Scheme</a> or maybe <a href=\"http://stackoverflow.com/questions/15675242/generating-a-list-of-random-numbers-in-java\">Generating a list of random numbers in Java</a>, who knows."}, {"owner": {"reputation": 691, "user_id": 3553447, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dm7Ia.jpg?s=128&g=1", "display_name": "Ahmad Hammoud", "link": "https://stackoverflow.com/users/3553447/ahmad-hammoud"}, "edited": false, "score": 0, "creation_date": 1445464230, "post_id": 33269809, "comment_id": 54340893, "body": "Please precise what is the language you&#39;re using, and more clarifications about your problem would be great."}], "answers": [{"tags": [], "owner": {"reputation": 37468, "user_id": 2734189, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bdd4c02158892b034c80f00eff30e6d5?s=128&d=identicon&r=PG&f=1", "display_name": "Don&#39;t Panic", "link": "https://stackoverflow.com/users/2734189/dont-panic"}, "is_accepted": true, "score": 0, "last_activity_date": 1445465924, "last_edit_date": 1445465924, "creation_date": 1445465036, "answer_id": 33270063, "question_id": 33269809, "link": "https://stackoverflow.com/questions/33269809/how-should-i-go-about-making-rows-in-a-list/33270063#33270063", "title": "How should i go about making rows in a list?", "body": "<p>If you can get it to print out one row of random numbers, you are almost there. The piece that you are missing is this: as you are running the loop that prints out the numbers, keep track of a counter (starting from 1). After each time a number is printed, check <code>counter % 6</code>. If the result is zero, print a newline. My Python is a bit rusty, and I don't want to write all your code for you, but something like this pseudocode:</p>\n\n<pre><code>get the user input number\n\nstart i at 1, increment i up to 23\n    print a random number\n    if i % 6 == 0 print a newline\n\nprint the user input number\n</code></pre>\n\n<p>Based on your question, you're probably already doing most of this, and just don't know how to determine when to start a new line. Hope this helps.</p>\n"}], "owner": {"reputation": 3, "user_id": 5468928, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PRZxzZD-SJ0/AAAAAAAAAAI/AAAAAAAADxE/3dkICSrCldQ/photo.jpg?sz=128", "display_name": "Dylan Woluschuk", "link": "https://stackoverflow.com/users/5468928/dylan-woluschuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 33270063, "answer_count": 1, "score": -5, "last_activity_date": 1445465924, "creation_date": 1445463869, "last_edit_date": 1445464426, "question_id": 33269809, "link": "https://stackoverflow.com/questions/33269809/how-should-i-go-about-making-rows-in-a-list", "title": "How should i go about making rows in a list?", "body": "<p>I am looking at making rows in a list. it needs to have 23 randomly generated numbers in said list, 6 numbers in each row, the last row only has 5 numbers, the last will be a user inputted number. \nex.</p>\n\n<p><code>47 90 43 8 41 39\n    97 18 36 35 64 45\n    56 47 25 100 27 66\n    97 45 18 57 8</code></p>\n\n<p>I have no idea how to do this, I can get it to print one row and I can add a number to that one row. but to make 4 separate rows I am just totally confused. I think its the fact that there are 4 rows? I'm not sure.  </p>\n"}, {"tags": ["python", "numpy", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1445464833, "post_id": 33269942, "comment_id": 54341149, "body": "Perfect - I knew that there was some way to use broadcasting, I&#39;ll have to do a little research to understand how you&#39;re combining those, but this works perfectly.  Thanks!"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1445464933, "post_id": 33269942, "comment_id": 54341201, "body": "@flyingmeatball Broadcasting is the best thing that has happened with NumPy, if you ask me:) So, do do explore it!"}, {"owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1445464941, "post_id": 33269942, "comment_id": 54341203, "body": "Quick random aside, how do you format your output from ipython notebook so nicely to fit into a SO response?  It always takes me forever to format mine before posting."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1445465046, "post_id": 33269942, "comment_id": 54341241, "body": "@flyingmeatball You mean the sample run or the code itself?"}, {"owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1445465077, "post_id": 33269942, "comment_id": 54341252, "body": "The sample run, sorry."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1445465158, "post_id": 33269942, "comment_id": 54341283, "body": "@flyingmeatball Well I am on Spyder, so it&#39;s as good as right click and then for copying it has two options - 1) Simple Copy and 2) Copy raw text. I do the raw copy text thing, it&#39;s just super-handy!"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1445464779, "last_edit_date": 1445464779, "creation_date": 1445464430, "answer_id": 33269942, "question_id": 33269777, "link": "https://stackoverflow.com/questions/33269777/pandas-build-matrix-of-row-by-row-comparisons/33269942#33269942", "title": "pandas build matrix of row by row comparisons", "body": "<p>You can convert <code>x</code>, <code>y</code> to NumPy arrays and then extend dimensions with <a href=\"http://docs.scipy.org/doc/numpy/reference/arrays.indexing.html#numpy.newaxis\" rel=\"nofollow\"><code>np.newaxis/None</code></a>, which would bring in <a href=\"http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html\" rel=\"nofollow\"><code>NumPy's broadcasting</code></a> when performing the same operations. Thus, all those comparisons and the output boolean array would be created in a vectorized fashion. The implementation would look like this -</p>\n\n<pre><code>X = np.asarray(x) \nY = np.asarray(y)\narr = (X[:,None,1] &gt;= Y[:,0]) &amp; (X[:,None,0] &lt;= Y[:,1])\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [207]: x = pd.DataFrame([range(10),range(2,12)])\n     ...: x = x.transpose()\n     ...: y = pd.DataFrame([[5,8],[2,3],[5,5]])\n     ...: \n\nIn [208]: X = np.asarray(x) \n     ...: Y = np.asarray(y)\n     ...: arr = (X[:,None,1] &gt;= Y[:,0]) &amp; (X[:,None,0] &lt;= Y[:,1])\n     ...: \n\nIn [209]: arr\nOut[209]: \narray([[False,  True, False],\n       [False,  True, False],\n       [False,  True, False],\n       [ True,  True,  True],\n       [ True, False,  True],\n       [ True, False,  True],\n       [ True, False, False],\n       [ True, False, False],\n       [ True, False, False],\n       [False, False, False]], dtype=bool)\n</code></pre>\n"}], "owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 593, "favorite_count": 0, "accepted_answer_id": 33269942, "answer_count": 1, "score": 1, "last_activity_date": 1445464779, "creation_date": 1445463681, "last_edit_date": 1445464027, "question_id": 33269777, "link": "https://stackoverflow.com/questions/33269777/pandas-build-matrix-of-row-by-row-comparisons", "title": "pandas build matrix of row by row comparisons", "body": "<p>I have two dataframes, a (10,2) and a (4,2) and I am looking for a faster/more pythonic way to compare them row by row.</p>\n\n<pre><code>x = pd.DataFrame([range(10),range(2,12)])\nx = x.transpose()\ny = pd.DataFrame([[5,8],[2,3],[5,5]])\n</code></pre>\n\n<p>I'd like to build a comparison matrix (10,3) that shows which of the rows in the first dataframe fit the following requirements in the second dataframe. the x<a href=\"https://i.stack.imgur.com/5MFd9.jpg\" rel=\"nofollow noreferrer\">1</a> value must be >= the y[0] value and the x[0] value must be &lt;= the y<a href=\"https://i.stack.imgur.com/5MFd9.jpg\" rel=\"nofollow noreferrer\">1</a> value.  In reality, the data are dates, but for simplicity I have just used integers to make this example easier to follow.  We're testing for overlap in time periods, so the logic shows that there must be some overlap in the periods of the respective tables. </p>\n\n<pre><code>arr = np.zeros((len(x),len(y)), dtype=bool)\nfor xrow in x.index:\n    for yrow in y.index:\n        if x.loc[xrow,1] &gt;= y.loc[yrow,0] and x.loc[xrow,0] &lt;= y.loc[yrow,1]:\n            arr[xrow,yrow] = True\narr\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5MFd9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5MFd9.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The brute force approach above is too slow.  Any suggestions for how I could vectorize this or do some sort of transposed matrix comparisons?</p>\n"}, {"tags": ["python", "tornado"], "answers": [{"comments": [{"owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "edited": false, "score": 0, "creation_date": 1445478786, "post_id": 33272079, "comment_id": 54345290, "body": "Indeed.  This results in a timeout error after one second.  I&#39;m quite happy to rely on futures, so this resolves my issue.  Thanks!"}], "tags": [], "owner": {"reputation": 20703, "user_id": 2805033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TasHL.jpg?s=128&g=1", "display_name": "Ben Darnell", "link": "https://stackoverflow.com/users/2805033/ben-darnell"}, "is_accepted": true, "score": 2, "last_activity_date": 1445478025, "creation_date": 1445478025, "answer_id": 33272079, "question_id": 33269717, "link": "https://stackoverflow.com/questions/33269717/add-timeout-to-connection-with-tornado-tcpclient/33272079#33272079", "title": "Add timeout to connection with Tornado TCPClient", "body": "<p>My guess is that the problem has to do with blocking DNS resolution. The default <code>Resolver</code> in Tornado is blocking, which means that timeouts can't fire during the resolution process. Try configuring one of the alternate resolvers listed in <a href=\"http://www.tornadoweb.org/en/stable/netutil.html#tornado.netutil.Resolver\" rel=\"nofollow\">http://www.tornadoweb.org/en/stable/netutil.html#tornado.netutil.Resolver</a>:</p>\n\n<pre><code>tornado.netutil.Resolver.configure('tornado.netutil.ThreadedResolver')\n</code></pre>\n\n<p>The reason these are not the default is that they all require non-standard dependencies: <code>ThreadedResolver</code> needs the <code>futures</code> package (on Python 2), <code>TwistedResolver</code> needs <code>twisted</code>, and <code>CaresResolver</code> needs <code>pycares</code>. I think <code>ThreadedResolver</code> works better than the other two in mixed IPv4/IPv6 environments.</p>\n"}], "owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 1, "accepted_answer_id": 33272079, "answer_count": 1, "score": 1, "last_activity_date": 1445478025, "creation_date": 1445463432, "question_id": 33269717, "link": "https://stackoverflow.com/questions/33269717/add-timeout-to-connection-with-tornado-tcpclient", "title": "Add timeout to connection with Tornado TCPClient", "body": "<p>How can I add a timeout to connecting to a remote server with <code>tornado.tcpclient.TCPClient.connect</code>?</p>\n\n<h3>What I've tried</h3>\n\n<pre><code>In [1]: from tornado import gen\n\nIn [2]: from tornado.tcpclient import TCPClient\n\nIn [3]: from tornado.ioloop import IOLoop\n\nIn [4]: from datetime import timedelta\nIn [5]: client = TCPClient()\nIn [6]: IOLoop.current().run_sync(\n           lambda: gen.with_timeout(timedelta(seconds=1), \n                                    client.connect('bad-host', 8382)))\ngaierror: [Errno -2] Name or service not known\n</code></pre>\n\n<p>This takes well over a second to terminate.  Perhaps I'm using <code>gen.with_timeout</code> improperly?  Perhaps something special happenss in the <code>connect</code> method?</p>\n"}, {"tags": ["python", "opencv", "parameters", "face-recognition", "eigenvector"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1445469917, "post_id": 33269705, "comment_id": 54342891, "body": "See <a href=\"http://stackoverflow.com/a/33262964/5008845\">this</a> answer"}], "answers": [{"comments": [{"owner": {"reputation": 1893, "user_id": 7550928, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xXWWKVune_w/AAAAAAAAAAI/AAAAAAAAACE/UFNJWpLS_Ao/photo.jpg?sz=128", "display_name": "FooBar167", "link": "https://stackoverflow.com/users/7550928/foobar167"}, "edited": false, "score": 0, "creation_date": 1493991641, "post_id": 35858054, "comment_id": 74651897, "body": "Thank you! It&#39;s not too late cause other people are trying to use this code."}], "tags": [], "owner": {"reputation": 31, "user_id": 3133139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40aea888a3b21dfacb9a8b8985fde103?s=128&d=identicon&r=PG", "display_name": "yesidays", "link": "https://stackoverflow.com/users/3133139/yesidays"}, "is_accepted": false, "score": 1, "last_activity_date": 1457406941, "last_edit_date": 1457406941, "creation_date": 1457405629, "answer_id": 35858054, "question_id": 33269705, "link": "https://stackoverflow.com/questions/33269705/cv2-face-basicfacerecognizer-object-has-no-attribute-getparams-python/35858054#35858054", "title": "&#39;cv2.face_BasicFaceRecognizer&#39; object has no attribute &#39;getParams&#39; Python", "body": "<p>Maybe it's too late but this what I did.</p>\n\n<p>First, to see the list of methods that supports your cv2.face</p>\n\n<pre><code>model = cv2.face.createEigenFaceRecognizer ()\nhelp (model)\n</code></pre>\n\n<p>And as you'll notice, there are some changes no longer used: <code>model.getMat (\"mean\")</code> now only used <code>mean = model.getMean()</code>.</p>\n\n<p>I hope it helps you :)</p>\n"}], "owner": {"reputation": 21, "user_id": 4784004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc97e4f93259c8a8ceb70922349dd625?s=128&d=identicon&r=PG&f=1", "display_name": "pfs", "link": "https://stackoverflow.com/users/4784004/pfs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1905, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1457406941, "creation_date": 1445463380, "last_edit_date": 1445464150, "question_id": 33269705, "link": "https://stackoverflow.com/questions/33269705/cv2-face-basicfacerecognizer-object-has-no-attribute-getparams-python", "title": "&#39;cv2.face_BasicFaceRecognizer&#39; object has no attribute &#39;getParams&#39; Python", "body": "<p>I'm having some trouble creating a face recognition system with OpenCV and Python. I was trying to use the documentation given by Philipp Wagner, and I have the following code: </p>\n\n<pre><code>import os\nimport sys\nimport cv2\nimport numpy as np\n\ndef normalize(X, low, high, dtype=None):\n    \"\"\"Normalizes a given array in X to a value between low and high.\"\"\"\n    X = np.asarray(X)\n    minX, maxX = np.min(X), np.max(X)\n    # normalize to [0...1].\n    X = X - float(minX)\n    X = X / float((maxX - minX))\n    # scale to [low...high].\n    X = X * (high-low)\n    X = X + low\n    if dtype is None:\n        return np.asarray(X)\n    return np.asarray(X, dtype=dtype)\n\n\ndef read_images(path, sz=None):\n    \"\"\"Reads the images in a given folder, resizes images on the fly if size is given.\n    Args:\n        path: Path to a folder with subfolders representing the subjects (persons).\n        sz: A tuple with the size Resizes\n    Returns:\n        A list [X,y]\n\n            X: The images, which is a Python list of numpy arrays.\n            y: The corresponding labels (the unique number of the subject, person) in a Python list.\n    \"\"\"\n    c = 0\n    X,y = [], []\n    for dirname, dirnames, filenames in os.walk(path):\n        for subdirname in dirnames:\n            subject_path = os.path.join(dirname, subdirname)\n            for filename in os.listdir(subject_path):\n                try:\n                    im = cv2.imread(os.path.join(subject_path, filename), cv2.IMREAD_GRAYSCALE)\n                # resize to given size (if given)\n                    if (sz is not None):\n                        im = cv2.resize(im, sz)\n                    X.append(np.asarray(im, dtype=np.uint8))\n                    y.append(c)\n                except IOError, (errno, strerror):\n                    print \"I/O error({0}): {1}\".format(errno, strerror)\n                except:\n                    print \"Unexpected error:\", sys.exc_info()[0]\n                    raise\n            c = c+1\n    return [X,y]\n\nif __name__ == \"__main__\":\n    out_dir = None\n\n    if len(sys.argv) &lt; 2:\n        print \"USAGE: facerec_demo.py &lt;/path/to/images&gt; [&lt;/path/to/store/images/at&gt;]\"\n        sys.exit()\n\n    [X,y] = read_images(sys.argv[1])\n\n    y = np.asarray(y, dtype=np.int32)\n    # If a out_dir is given, set it:\n    if len(sys.argv) == 3:\n        out_dir = sys.argv[2]\n\n    model = cv2.face.createEigenFaceRecognizer()\n    model.train(np.asarray(X), np.asarray(y))\n    model.save('individual.xml')\n\n    [p_label, p_confidence] = model.predict(np.asarray(X[0]))\n    # Print it:\n    print \"Predicted label = %d (confidence=%.2f)\" % (p_label, p_confidence)\n\n    print model.getParams()\n    # Now let's get some data:\n    mean = model.getMat(\"mean\")\n    eigenvectors = model.getMat(\"eigenvectors\")\n    # We'll save the mean, by first normalizing it:\n    mean_norm = normalize(mean, 0, 255, dtype=np.uint8)\n    mean_resized = mean_norm.reshape(X[0].shape)\n    if out_dir is None:\n        cv2.imshow(\"mean\", mean_resized)\n    else:\n        cv2.imwrite(\"%s/mean.png\" % (out_dir), mean_resized)\n    for i in xrange(min(len(X), 16)):\n        eigenvector_i = eigenvectors[:,i].reshape(X[0].shape)\n        eigenvector_i_norm = normalize(eigenvector_i, 0, 255, dtype=np.uint8)\n        if out_dir is None:\n            cv2.imshow(\"%s/eigenface_%d\" % (out_dir,i), eigenvector_i_norm)\n        else:\n            cv2.imwrite(\"%s/eigenface_%d.png\" % (out_dir,i), eigenvector_i_norm)\n\n    if out_dir is None:\n        cv2.waitKey(0)\n</code></pre>\n\n<p>But it keeps me getting the following error: </p>\n\n<pre><code>print model.getParams()\nAttributeError: 'cv2.face_BasicFaceRecognizer' object has no attribute   'getParams'\n</code></pre>\n\n<p>Any idea why I can't get the any parameters? I thought that maybe it is because of the incorporation of the submodule cv2.face,and therefore it might be some alternative to model.getParams() as well as getMat() but I'm just guessing... \nThanks in advance. </p>\n"}, {"tags": ["python", "try-catch"], "comments": [{"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 2, "creation_date": 1445463627, "post_id": 33269688, "comment_id": 54340622, "body": "Is it because the exception is called <a href=\"https://github.com/thom-nic/python-xbee/blob/master/xbee/base.py#L24\" rel=\"nofollow noreferrer\"><code>TimeoutException</code></a>?"}, {"owner": {"reputation": 325, "user_id": 5099642, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9c717dfb3523a82f908d7cd815c2fa76?s=128&d=identicon&r=PG&f=1", "display_name": "LPS", "link": "https://stackoverflow.com/users/5099642/lps"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1445464155, "post_id": 33269688, "comment_id": 54340857, "body": "I took a closer look at what you said @wflynny, shouldnt that TimeoutException be caught inside the Xbee module?"}, {"owner": {"reputation": 325, "user_id": 5099642, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9c717dfb3523a82f908d7cd815c2fa76?s=128&d=identicon&r=PG&f=1", "display_name": "LPS", "link": "https://stackoverflow.com/users/5099642/lps"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1445468273, "post_id": 33269688, "comment_id": 54342403, "body": "@wflynny i am importing the Xbee module. The TimedOutError class i am talking about is defined by me in my own module, and that is the exception i am not cathcing. I am waiting to be able to repeat the error to paste it here."}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1445475536, "post_id": 33269688, "comment_id": 54344430, "body": "your question before the edits (and still now) is hard to interpret because in the text you claim the error is <code>TimeOutError</code> but in the code I only see <code>TimedOutError</code> (with a <b>d</b>).  And originally, the way the question was written, it was unclear where the exception was defined -- it was perfectly reasonable to assume you did something like <code>from xbee import *</code>."}, {"owner": {"reputation": 325, "user_id": 5099642, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9c717dfb3523a82f908d7cd815c2fa76?s=128&d=identicon&r=PG&f=1", "display_name": "LPS", "link": "https://stackoverflow.com/users/5099642/lps"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1445506031, "post_id": 33269688, "comment_id": 54355797, "body": "@wflynny do you think i should use the <code>TimeOutException</code> from the xbee module instead of using my own alarm with the <code>TimedOutError</code> attached to solve the, non-block while reading,  issue?"}, {"owner": {"reputation": 23800, "user_id": 882918, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fIjw9.jpg?s=128&g=1", "display_name": "J0HN", "link": "https://stackoverflow.com/users/882918/j0hn"}, "edited": false, "score": 0, "creation_date": 1445594069, "post_id": 33269688, "comment_id": 54397935, "body": "Looks like the <code>signal_handler</code> is run in a different thread than your <code>try..catch</code> block. I&#39;m not familiar with <code>serial</code>, so this might be wildly wrong, but the fact that exception is not caught and the traceback you posted are consistent with the theory."}, {"owner": {"reputation": 325, "user_id": 5099642, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9c717dfb3523a82f908d7cd815c2fa76?s=128&d=identicon&r=PG&f=1", "display_name": "LPS", "link": "https://stackoverflow.com/users/5099642/lps"}, "reply_to_user": {"reputation": 23800, "user_id": 882918, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fIjw9.jpg?s=128&g=1", "display_name": "J0HN", "link": "https://stackoverflow.com/users/882918/j0hn"}, "edited": false, "score": 0, "creation_date": 1445607898, "post_id": 33269688, "comment_id": 54406487, "body": "@J0HN The <code>signal_handler</code> and the <code>signal.signal(signal.SIGALRM, signal_handler) </code> are being called inside the same class that contains the method <code>flush_serial_buffer</code>. Do you think that they should be referenced in the root of the module instead of inside the class ? Do you think that could create an issue ?"}, {"owner": {"reputation": 325, "user_id": 5099642, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9c717dfb3523a82f908d7cd815c2fa76?s=128&d=identicon&r=PG&f=1", "display_name": "LPS", "link": "https://stackoverflow.com/users/5099642/lps"}, "reply_to_user": {"reputation": 23800, "user_id": 882918, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fIjw9.jpg?s=128&g=1", "display_name": "J0HN", "link": "https://stackoverflow.com/users/882918/j0hn"}, "edited": false, "score": 0, "creation_date": 1445608268, "post_id": 33269688, "comment_id": 54406726, "body": "@J0HN Relatively to the Thread issue they say that if the <a href=\"https://docs.python.org/2/library/signal.html\" rel=\"nofollow noreferrer\">signal</a> is used in the same thread where it is created, there should be no problem."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5623439"}, "is_accepted": false, "score": 0, "last_activity_date": 1453684399, "creation_date": 1453684399, "answer_id": 34983686, "question_id": 33269688, "link": "https://stackoverflow.com/questions/33269688/time-out-error-not-being-caught/34983686#34983686", "title": "Time Out error not being caught", "body": "<p>I would recommend in this case replacing the try and except code to this</p>\n\n<pre><code>    try:\n        signal.alarm(1)  # seconds\n        while True:\n            answer = xbee.wait_read_frame()\n            signal.alarm(1)\n            logging.error(\"    Mixed messages in buffer\")\n    except:\n        signal.alarm(0)  # seconds\n        logging.error(\"    No more messages in buffer\")\n</code></pre>\n\n<p>Ps: you don't need to include try (whatever error) in your try and except statments.</p>\n"}], "owner": {"reputation": 325, "user_id": 5099642, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9c717dfb3523a82f908d7cd815c2fa76?s=128&d=identicon&r=PG&f=1", "display_name": "LPS", "link": "https://stackoverflow.com/users/5099642/lps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1453684399, "creation_date": 1445463291, "last_edit_date": 1445593764, "question_id": 33269688, "link": "https://stackoverflow.com/questions/33269688/time-out-error-not-being-caught", "title": "Time Out error not being caught", "body": "<p>Hi my problem is the following, I cannot understand why sometimes I cannot catch the <code>TimeOutError</code> inside my <code>flash_serial_buffer</code> method.</p>\n\n<p>When running my program I sometimes get a <code>TimeOutError</code> that is not caught and I cannot understand why. I indicate the code of the signal handlers and the methods where the <code>TimeOutError</code> is not caught. Does anyone have any idea this could be happening?</p>\n\n<p>This is the code for my signal handler definition and callback function.\nBasically if the time ends, the signal handler is called and raises a timeout error.</p>\n\n<pre><code>def signal_handler(signum, frame):\n    print \"PUM\"\n    raise TimedOutError(\"Time out Error\")\n\nsignal.signal(signal.SIGALRM, signal_handler)\n</code></pre>\n\n<p>The flush serial buffer blocks if there is no answer to </p>\n\n<blockquote>\n  <p>answer = xbee.wait_read_frame()</p>\n</blockquote>\n\n<p>The idea is to clean everything in the buffer until there are no more messages. When there are no more messages, it just waits for the <code>SIGALRM</code> to explode and raise the timeout error.</p>\n\n<pre><code>def flush_serial_buffer(xbee):\n\n    #Flush coordinators serial buffer if problem happened before\n    logging.info(\"     Flashing serial buffer\")\n    try:\n        signal.alarm(1)  # seconds\n        while True:\n            answer = xbee.wait_read_frame()\n            signal.alarm(1)\n            logging.error(\"    Mixed messages in buffer\")\n    except TimedOutError:\n        signal.alarm(0)  # seconds\n        logging.error(\"    No more messages in buffer\")\n\n    signal.alarm(0) #Supposedly never leaves without using Except but...\n</code></pre>\n\n<p>Can anyone see any case where the <code>TimeOutError</code> might be raised, but not caught by the <code>try:</code> statement?</p>\n\n<p>I Forgot to put here my error class definition:</p>\n\n<pre><code>class TimedOutError(Exception):\npass\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>I was able to repeat the error again, i really cannot understand why the <code>try</code> does not catch the error it.</p>\n\n<pre><code>INFO:root:     Flashing serial buffer\nPUM\nTraceback (most recent call last):\n  File \"/home/ls/bin/pycharm-community-4.0.6/helpers/pydev/pydevd.py\", line 1458, in trace_dispatch\n    if self._finishDebuggingSession and not self._terminationEventSent:\n  File \"/home/ls/PiProjects/Deployeth/HW-RPI-API/devices.py\", line 42, in signal_handler\n    raise TimedOutError(\"Time out Error\")\nTimedOutError: Time out Error  \n</code></pre>\n"}, {"tags": ["python", "pandas", "time-series"], "answers": [{"tags": [], "owner": {"reputation": 197, "user_id": 5314321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff1eea9d4635e596241f927562fd9e5?s=128&d=identicon&r=PG&f=1", "display_name": "Mamath", "link": "https://stackoverflow.com/users/5314321/mamath"}, "is_accepted": false, "score": 1, "last_activity_date": 1445463919, "creation_date": 1445463919, "answer_id": 33269824, "question_id": 33269685, "link": "https://stackoverflow.com/questions/33269685/transform-pandas-timeseries-into-timeseries-with-non-date-index/33269824#33269824", "title": "Transform pandas timeseries into timeseries with non-date index", "body": "<p>Try this:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame([[0,1,1], [0,2,1], [0,3,2], [1,1,3], [1,2,2], [1,3,1]], columns=('key', 'ID', 'Var_1'))\n</code></pre>\n\n<p>Use the pivot function:</p>\n\n<pre><code>df2 = df.pivot('ID', 'key', 'Var_1')\n</code></pre>\n\n<p>You can rename the columns by:</p>\n\n<pre><code>df2.columns = ('Var_1_0', 'Var_2_0')\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Out: \nVar_1_0  Var_2_0\nID                  \n1         1        3\n2         1        2\n3         2        1\n</code></pre>\n"}], "owner": {"reputation": 813, "user_id": 3435649, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/57ce3cb60ad0cc77babe1e339df008c9?s=128&d=identicon&r=PG&f=1", "display_name": "xv70", "link": "https://stackoverflow.com/users/3435649/xv70"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445463919, "creation_date": 1445463288, "question_id": 33269685, "link": "https://stackoverflow.com/questions/33269685/transform-pandas-timeseries-into-timeseries-with-non-date-index", "title": "Transform pandas timeseries into timeseries with non-date index", "body": "<p>I'm trying to generate a timeseries from a dataframe, but the solutions I've found here don't really address my specific problem. I have a dataframe which is a series of id's which iterate from 1 to n, then repeat, like this:</p>\n\n<pre><code>   key                   ID           Var_1  \n    0                 1            1\n    0                 2            1\n    0                 3            2\n    1                 1            3\n    1                 2            2\n    1                 3            1\n</code></pre>\n\n<p>I want to reshape it into a timeseries in which the index </p>\n\n<pre><code>                  ID           Var_1_0       Var_2_0\n                   1            1             3\n                   2            1             2\n                   3            2             1\n</code></pre>\n\n<p>I have tried the stack() method but it doesn't generate the result I want. Generating an index from ID seems to be the right ID is not a proper date so I'm not sure how to proceed. Pointers much appreciated.</p>\n"}, {"tags": ["python", "gdal"], "comments": [{"owner": {"reputation": 1910, "user_id": 2142228, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac67bc0f4a64f7102fffe2f3bd45211d?s=128&d=identicon&r=PG", "display_name": "msmith81886", "link": "https://stackoverflow.com/users/2142228/msmith81886"}, "edited": false, "score": 1, "creation_date": 1445563990, "post_id": 33269681, "comment_id": 54386827, "body": "Where did you install GDAL 2.0?  From source, MacPorts, etc?  This will result in different installation locations."}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 7540484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea11b965e855e03a62baa20016f02976?s=128&d=identicon&r=PG&f=1", "display_name": "bucricket", "link": "https://stackoverflow.com/users/7540484/bucricket"}, "is_accepted": false, "score": 1, "last_activity_date": 1486651753, "last_edit_date": 1486651753, "creation_date": 1486647783, "answer_id": 42138323, "question_id": 33269681, "link": "https://stackoverflow.com/questions/33269681/uninstalling-gdal-2-0-mac/42138323#42138323", "title": "Uninstalling GDAL 2.0 (Mac)", "body": "<p>I battled with gdal for years until I found conda.  First, make sure you install the anaconda distribution: <a href=\"https://www.continuum.io/downloads\" rel=\"nofollow noreferrer\">https://www.continuum.io/downloads</a>.  Then just use the following command:</p>\n\n<pre><code>conda install gdal\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5473434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e45f4d800516d0c80ba8fd342bd333c?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Nathanael", "link": "https://stackoverflow.com/users/5473434/caleb-nathanael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2544, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1486651753, "creation_date": 1445463275, "last_edit_date": 1445463603, "question_id": 33269681, "link": "https://stackoverflow.com/questions/33269681/uninstalling-gdal-2-0-mac", "title": "Uninstalling GDAL 2.0 (Mac)", "body": "<p>I installed GDAL 2.0 a while ago, but it does not seem to support GEOS for Python.  I'm looking to downgrade to GDAL 1.11 (from kyngchaos), but when I try to uninstall GDAL 2.0, it doesn't seem to fully uninstall.  So when I go to install 1.11, It still tells me that I'm running 2.0 and I get the \"GEOS support not enabled\". How can I uninstall GDAL 2.0 and/or downgrade to 1.11?</p>\n\n<p>I apologize if I am not providing enough information, I'm doing this for a class and I'm not well-versed in this kind of thing.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "macos", "homebrew"], "comments": [{"owner": {"reputation": 116848, "user_id": 55075, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/8bbc94977312d285045b2412257b6cb8?s=128&d=identicon&r=PG", "display_name": "kenorb", "link": "https://stackoverflow.com/users/55075/kenorb"}, "edited": false, "score": 0, "creation_date": 1445463333, "post_id": 33269674, "comment_id": 54340481, "body": "Recommended in which case? Usually you use system one (P2), unless you need upgraded version, such as Python 3 or extra libraries, then you use brewed one."}], "answers": [{"tags": [], "owner": {"reputation": 198, "user_id": 5469289, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dPb95zlOjhc/AAAAAAAAAAI/AAAAAAAAACE/ybNeH0QVRco/photo.jpg?sz=128", "display_name": "Colby Gallup", "link": "https://stackoverflow.com/users/5469289/colby-gallup"}, "is_accepted": false, "score": 2, "last_activity_date": 1445463621, "creation_date": 1445463621, "answer_id": 33269759, "question_id": 33269674, "link": "https://stackoverflow.com/questions/33269674/what-is-the-difference-between-brewed-python-and-system-python-on-os-x/33269759#33269759", "title": "what is the difference between brewed python and system python on OS X", "body": "<p>System python is only as up-to-date as the OS itself, so there is no guarantee that you have the most recent version of Python. Additionally, system python is only Python 2.</p>\n\n<p>Brewed python has two advantages:</p>\n\n<ol>\n<li>More up to date</li>\n<li>Python 3 instead of 2</li>\n</ol>\n"}], "owner": {"reputation": 157, "user_id": 2869350, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1125501669/picture?type=large", "display_name": "Bolor", "link": "https://stackoverflow.com/users/2869350/bolor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "closed_date": 1445510001, "answer_count": 1, "score": -2, "last_activity_date": 1447075437, "creation_date": 1445463241, "last_edit_date": 1447075437, "question_id": 33269674, "link": "https://stackoverflow.com/questions/33269674/what-is-the-difference-between-brewed-python-and-system-python-on-os-x", "closed_reason": "Needs more focus", "title": "what is the difference between brewed python and system python on OS X", "body": "<p>what is the difference between brewed python and system python? Which one of them is recommended in which case? I use often brew package manager.</p>\n"}, {"tags": ["python", "pyhook"], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 5391293, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bc141e1e4aa85ee92e7a21edb744d2c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremiah Crowell", "link": "https://stackoverflow.com/users/5391293/jeremiah-crowell"}, "is_accepted": false, "score": 0, "last_activity_date": 1445465170, "creation_date": 1445465170, "answer_id": 33270086, "question_id": 33269661, "link": "https://stackoverflow.com/questions/33269661/python-how-can-i-have-a-script-write-to-a-file-when-its-run-then-stay-open-to/33270086#33270086", "title": "Python: How can I have a script write to a file when it&#39;s run then stay open to write on a keypress?", "body": "<p>I got it. I just had to close the file after writing to it in the startup section.</p>\n\n<pre><code>file = open('time.txt', 'w')\nfile.write('Jeremiah got on at ' + str(h) + ':' + str(m))\nfile.close()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8396806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/676ffa42a29329aece9518130ea882cb?s=128&d=identicon&r=PG&f=1", "display_name": "gerj", "link": "https://stackoverflow.com/users/8396806/gerj"}, "is_accepted": false, "score": 0, "last_activity_date": 1513261367, "creation_date": 1513261367, "answer_id": 47815616, "question_id": 33269661, "link": "https://stackoverflow.com/questions/33269661/python-how-can-i-have-a-script-write-to-a-file-when-its-run-then-stay-open-to/47815616#47815616", "title": "Python: How can I have a script write to a file when it&#39;s run then stay open to write on a keypress?", "body": "<p>To make things easier you can do this so you don't have to bother about closing the file because it will just close on it's own.</p>\n\n<pre><code>With open ('time.txt', 'w') as file:\n    file.write('Jeremiah got on at ' + str(h) + ':' + str(m))\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 5391293, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bc141e1e4aa85ee92e7a21edb744d2c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremiah Crowell", "link": "https://stackoverflow.com/users/5391293/jeremiah-crowell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1513261367, "creation_date": 1445463200, "question_id": 33269661, "link": "https://stackoverflow.com/questions/33269661/python-how-can-i-have-a-script-write-to-a-file-when-its-run-then-stay-open-to", "title": "Python: How can I have a script write to a file when it&#39;s run then stay open to write on a keypress?", "body": "<p>I'm trying to write a script that when I run it, it will write the current time to a file, then I want it to stay open running in the background so that any time I press the Insert key it will write the current time to the file minus 7 minutes. </p>\n\n<p>I have both these functions working as I want, however they only work individually. As in, it will only write the time it is when I run it if I mark out the block that keeps it open searching for a keypress (I'm using pyhook for that). And it will only stay open looking for a keypress if I mark out the part that would write the time it was when I first ran it. Here's my code</p>\n\n<pre><code>import pyHook, pythoncom\nfrom datetime import datetime\n\n#writes the time when it starts bit\nt = datetime.now()\nh = t.hour\nm = t.minute\ns = t.second\n\nif h &gt; 12:\n    h = h - 12\n\nif m &lt; 10:\n    m = str(m).zfill(2)\n\nfile = open('time.txt', 'w')\nfile.write('Jeremiah got on at ' + str(h) + ':' + str(m))\n\n\n#stays open and looks for a keypress bit\nhookManager = pyHook.HookManager()\n\ndef OnKeyboardEvent(event):\n    keyPressed = event.KeyID\n    if keyPressed == 45:\n        t = datetime.now()\n        h = t.hour\n        m = t.minute\n        s = t.second\n\n        if h &gt; 12:\n            h = h - 12\n\n        if m &lt; 10:\n            m = int(str(m).zfill(2))\n\n        if m - 7 &lt; 0:\n            h = h - 1\n            sub = m - 7\n            m = 60 + sub\n        else:\n            m = m - 7\n\n        file = open('time.txt', 'w')\n        file.write('Jeremiah got on at ' + str(h) + ':' + str(m))\n    return True\n\n\nhookManager.KeyDown = OnKeyboardEvent\nhookManager.HookKeyboard()\npythoncom.PumpMessages()\n</code></pre>\n\n<p>If I mark out neither sections, it will clear the text file when it starts and then stay open to look for the keypress. Marking out just the startup time section will keep it open looking for the key properly, and it won't clear the text file. So I'm pretty certain it's some problem that once it starts looking for a key it clears the file, but I'm not exactly sure why, especially since it shouldn't even run any code to do with the text file until the key is pressed, setting off my <code>if</code> statement. </p>\n\n<p>Is it possible to have these two in the same script, or do I have to separate them and call them both with a .bat or something?</p>\n\n<p>Thanks in advance.</p>\n\n<p>(also if you're wondering why in the world I would want a program that would do this, I'm supposed to share the desktop computer with my siblings, and we keep track of how long we've been on by writing down the time we got on. This way I should be able to automate it, as well as have a way to discreetly set my time forward when asked to get off.)</p>\n"}, {"tags": ["python", "ssl", "gunicorn"], "comments": [{"owner": {"reputation": 541, "user_id": 3248821, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/82968bfd02e71f93475d4a41e290abae?s=128&d=identicon&r=PG", "display_name": "yaqwsx", "link": "https://stackoverflow.com/users/3248821/yaqwsx"}, "edited": false, "score": 1, "creation_date": 1445968041, "post_id": 33269617, "comment_id": 54544119, "body": "I haven&#39;t found out the python solution, however I stopped using gunicorn with SSL and setup Apache proxy instead."}], "owner": {"reputation": 541, "user_id": 3248821, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/82968bfd02e71f93475d4a41e290abae?s=128&d=identicon&r=PG", "display_name": "yaqwsx", "link": "https://stackoverflow.com/users/3248821/yaqwsx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 516, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1445463041, "creation_date": 1445463041, "question_id": 33269617, "link": "https://stackoverflow.com/questions/33269617/python-gunicorn-using-ssl-cerficate-error", "title": "Python: Gunicorn - using SSL cerficate error", "body": "<p>I have written Gunicorn REST backend for my webpage. I want to use HTTPS, since I am sending sensitive informations. I have added all the certs to the starup of gunicorn. However sometimes I get this error:</p>\n\n<pre><code>[SSL: TLSV1_ALERT_UNKNOWN_CA] tlsv1 alert unknown ca (_ssl.c:1750)\n[2015-10-21 21:44:33 +0000] [20490] [ERROR] Error handling request\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/gunicorn/workers/sync.py\", line 129, in handle\n    req = six.next(parser)\n  File \"/usr/local/lib/python2.7/dist-packages/gunicorn/http/parser.py\", line 41, in __next__\n    self.mesg = self.mesg_class(self.cfg, self.unreader, self.req_count)\n  File \"/usr/local/lib/python2.7/dist-packages/gunicorn/http/message.py\", line 153, in __init__\n    super(Request, self).__init__(cfg, unreader)\n  File \"/usr/local/lib/python2.7/dist-packages/gunicorn/http/message.py\", line 53, in __init__\n    unused = self.parse(self.unreader)\n  File \"/usr/local/lib/python2.7/dist-packages/gunicorn/http/message.py\", line 165, in parse\n    self.get_data(unreader, buf, stop=True)\n  File \"/usr/local/lib/python2.7/dist-packages/gunicorn/http/message.py\", line 156, in get_data\n    data = unreader.read()\n  File \"/usr/local/lib/python2.7/dist-packages/gunicorn/http/unreader.py\", line 38, in read\n    d = self.chunk()\n  File \"/usr/local/lib/python2.7/dist-packages/gunicorn/http/unreader.py\", line 65, in chunk\n    return self.sock.recv(self.mxchunk)\n  File \"/usr/lib/python2.7/ssl.py\", line 714, in recv\n    return self.read(buflen)\n  File \"/usr/lib/python2.7/ssl.py\", line 608, in read\n    v = self._sslobj.read(len or 1024)\nSSLError: [SSL: SSL_HANDSHAKE_FAILURE] ssl handshake failure (_ssl.c:1750)\n</code></pre>\n\n<p>I have no idea what to do about it. I also tried to google the problem, however no solution was helpful. The error is weird. Apache is running fine with the exactly same certificates and error occurs randomly.</p>\n\n<p>Could you help me?</p>\n"}, {"tags": ["python", "visual-studio-2015", "pyside", "intellisense"], "answers": [{"comments": [{"owner": {"reputation": 2713, "user_id": 121165, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/076a3973712c7e84aa7ae13e2f15e082?s=128&d=identicon&r=PG", "display_name": "Fit Dev", "link": "https://stackoverflow.com/users/121165/fit-dev"}, "edited": false, "score": 0, "creation_date": 1468479245, "post_id": 37861039, "comment_id": 64146121, "body": "Thank you for the question and the answer! I use VS 2015 too and do have PySide properly installed and referenced in packages, however Intellisense does not display method signatures for PySide properly - it only lists their names and that&#39;s it. So I was wondering if you got the method signatures to work as well?"}, {"owner": {"reputation": 396, "user_id": 4991204, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/814554174786/picture?type=large", "display_name": "Mike Bourbeau", "link": "https://stackoverflow.com/users/4991204/mike-bourbeau"}, "reply_to_user": {"reputation": 2713, "user_id": 121165, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/076a3973712c7e84aa7ae13e2f15e082?s=128&d=identicon&r=PG", "display_name": "Fit Dev", "link": "https://stackoverflow.com/users/121165/fit-dev"}, "edited": false, "score": 0, "creation_date": 1506713350, "post_id": 37861039, "comment_id": 79945977, "body": "Sorry for the late reply. I have yet to discover how to get the method signatures working"}], "tags": [], "owner": {"reputation": 396, "user_id": 4991204, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/814554174786/picture?type=large", "display_name": "Mike Bourbeau", "link": "https://stackoverflow.com/users/4991204/mike-bourbeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1466084505, "creation_date": 1466084505, "answer_id": 37861039, "question_id": 33269586, "link": "https://stackoverflow.com/questions/33269586/pyside-how-to-get-visual-studios-intellisense-to-pick-up-pyside-library-for-au/37861039#37861039", "title": "PySide: How to get Visual Studio&#39;s Intellisense to pick up PySide library for auto completion?", "body": "<p>Stumbled upon this last week.  I'm using Visual Studio 2015 (VS), so I'm not sure if this works for earlier versions.  Everything you need to know about getting Python up and running in VS is <a href=\"https://github.com/Microsoft/PTVS/wiki/PTVS-Installation\" rel=\"nofollow noreferrer\">here</a>.  </p>\n\n<p>To answer my question:\n1) Go to your project's Python Environments> expand> right click on the desired environment> click Install Python Package...\n<a href=\"https://i.stack.imgur.com/51KP3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/51KP3.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>2) Now, just search for the package you want to install and it should be all set!\n<a href=\"https://i.stack.imgur.com/5ON4Q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ON4Q.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 396, "user_id": 4991204, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/814554174786/picture?type=large", "display_name": "Mike Bourbeau", "link": "https://stackoverflow.com/users/4991204/mike-bourbeau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 864, "favorite_count": 2, "accepted_answer_id": 37861039, "answer_count": 1, "score": 2, "last_activity_date": 1468484308, "creation_date": 1445462915, "last_edit_date": 1468484308, "question_id": 33269586, "link": "https://stackoverflow.com/questions/33269586/pyside-how-to-get-visual-studios-intellisense-to-pick-up-pyside-library-for-au", "title": "PySide: How to get Visual Studio&#39;s Intellisense to pick up PySide library for auto completion?", "body": "<p>I thought I could add the PySide libraries by appending the \\PySide folder to my environment's 'Search Paths' but intellisense doesn't seem to be picking anything up. It's picking up my other libraries though.  Any suggestions?</p>\n\n<p>Note: I have PTVS already installed.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/BUaSa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BUaSa.png\" alt=\"example\"></a></p>\n"}, {"tags": ["python", "flask", "flask-restful"], "answers": [{"comments": [{"owner": {"reputation": 57635, "user_id": 92153, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ea496ad1627458ccfad06c94842b7624?s=128&d=identicon&r=PG", "display_name": "Houman", "link": "https://stackoverflow.com/users/92153/houman"}, "edited": false, "score": 0, "creation_date": 1445463548, "post_id": 33269623, "comment_id": 54340580, "body": "Thanks, but now I get <code>[u&quot;[&#39;GRD&#39;, &#39;IND&#39;]&quot;]</code>.  A list inside a list.  I also extended the question with more details."}, {"owner": {"reputation": 57635, "user_id": 92153, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ea496ad1627458ccfad06c94842b7624?s=128&d=identicon&r=PG", "display_name": "Houman", "link": "https://stackoverflow.com/users/92153/houman"}, "edited": false, "score": 0, "creation_date": 1445463951, "post_id": 33269623, "comment_id": 54340763, "body": "I get now: <code>None</code> for media.  Did you see the update on my question? thanks"}, {"owner": {"reputation": 283746, "user_id": 298479, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc66db28aa7c3fa8e4ce4238b696dee9?s=128&d=identicon&r=PG", "display_name": "ThiefMaster", "link": "https://stackoverflow.com/users/298479/thiefmaster"}, "edited": false, "score": 0, "creation_date": 1445464449, "post_id": 33269623, "comment_id": 54341008, "body": "I doubt there&#39;s any need to put <code>[]</code> in the param names. Usually structures holding request data have a <code>getlist()</code> method (e.g. <code>request.form.getlist(&#39;some_key&#39;)</code>) which always return a list of all values passed for that key."}], "tags": [], "owner": {"reputation": 1158, "user_id": 5394981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc5b4002ea2221d26b83f57a432d6005?s=128&d=identicon&r=PG&f=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/5394981/victor"}, "is_accepted": false, "score": 0, "last_activity_date": 1445464141, "last_edit_date": 1445464141, "creation_date": 1445463068, "answer_id": 33269623, "question_id": 33269583, "link": "https://stackoverflow.com/questions/33269583/flask-restful-how-to-pass-multi-value-params-to-a-get-request/33269623#33269623", "title": "Flask-restful: how to pass multi value params to a GET request?", "body": "<p>You should use an array:</p>\n\n<pre><code> param = {'date': rss_date_time, 'media[]': ['GRD', 'IND']}\n</code></pre>\n\n<p>In Python they are actually called a <code>list</code>.</p>\n\n<p>EDIT:</p>\n\n<p>Likewise, you should use</p>\n\n<pre><code>media = args['media[]']\n</code></pre>\n\n<p>instead in the receiver side.</p>\n"}, {"tags": [], "owner": {"reputation": 57635, "user_id": 92153, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ea496ad1627458ccfad06c94842b7624?s=128&d=identicon&r=PG", "display_name": "Houman", "link": "https://stackoverflow.com/users/92153/houman"}, "is_accepted": true, "score": 0, "last_activity_date": 1445498805, "creation_date": 1445498805, "answer_id": 33275466, "question_id": 33269583, "link": "https://stackoverflow.com/questions/33269583/flask-restful-how-to-pass-multi-value-params-to-a-get-request/33275466#33275466", "title": "Flask-restful: how to pass multi value params to a GET request?", "body": "<p>It's actually an urllib problem in this case:</p>\n\n<p>All I had to add was <code>doseq=True</code></p>\n\n<pre><code>url = '/api/v1.0/latest_news/?{0}'.format(urllib.urlencode(param, doseq=True))\n</code></pre>\n\n<p>and change params to a list:</p>\n\n<pre><code>param = {'date': rss_date_time, 'media': ['GRD', 'IND']}\n</code></pre>\n\n<p>Now I get <code>[u'GRD', u'IND']</code></p>\n"}], "owner": {"reputation": 57635, "user_id": 92153, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ea496ad1627458ccfad06c94842b7624?s=128&d=identicon&r=PG", "display_name": "Houman", "link": "https://stackoverflow.com/users/92153/houman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1164, "favorite_count": 0, "accepted_answer_id": 33275466, "answer_count": 2, "score": 1, "last_activity_date": 1445498805, "creation_date": 1445462895, "last_edit_date": 1445463596, "question_id": 33269583, "link": "https://stackoverflow.com/questions/33269583/flask-restful-how-to-pass-multi-value-params-to-a-get-request", "title": "Flask-restful: how to pass multi value params to a GET request?", "body": "<p>According to the <a href=\"http://flask-restful-cn.readthedocs.org/en/latest/reqparse.html#multiple-values-lists\" rel=\"nofollow\">documentation</a> this is enough to pass in a multi value.</p>\n\n<pre><code>def __init__(self):\n        super(LatestNewsAPI, self).__init__()\n        self.req_parser = reqparse.RequestParser()\n        self.req_parser.add_argument('date', type=str)\n        self.req_parser.add_argument('media', action='append')\n</code></pre>\n\n<p>I'm passing trying to append two media into a list:</p>\n\n<pre><code>    rss_date_time = parser.parse('Tue, 15 Jan 2015 18:13:00 GMT')\n    param = {'date': rss_date_time, 'media': 'GRD', 'media': 'IND'}\n    url = '/api/v1.0/latest_news/?{0}'.format(urllib.urlencode(param))\n    rv = self.client.get(url, headers={},\n                         environ_base={'REMOTE_ADDR': '127.0.0.1'})\n</code></pre>\n\n<p>However once I get there:</p>\n\n<pre><code>def get(self):\n    args = self.req_parser.parse_args()\n    date_str = args['date']\n    date_time = parser.parse(date_str)\n    media = args['media']\n</code></pre>\n\n<p>media contains only <code>[u'IND']</code>.</p>\n\n<p>What am I missing please?</p>\n"}, {"tags": ["python", "list", "function", "python-2.7", "max"], "answers": [{"comments": [{"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1445463083, "post_id": 33269601, "comment_id": 54340354, "body": "Why use <code>sorted()[0]</code> instead of <code>max()</code>?  That&#39;s a huge performance hit to sort the list only to get the biggest value."}, {"owner": {"reputation": 1598, "user_id": 1397712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/88b3dc3c49d5d964faa2e9af88939548?s=128&d=identicon&r=PG&f=1", "display_name": "coneyhelixlake", "link": "https://stackoverflow.com/users/1397712/coneyhelixlake"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1445463241, "post_id": 33269601, "comment_id": 54340432, "body": "@wflynny I edited my answer because you actually posted your comment, haha."}], "tags": [], "owner": {"reputation": 1598, "user_id": 1397712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/88b3dc3c49d5d964faa2e9af88939548?s=128&d=identicon&r=PG&f=1", "display_name": "coneyhelixlake", "link": "https://stackoverflow.com/users/1397712/coneyhelixlake"}, "is_accepted": false, "score": 2, "last_activity_date": 1445463174, "last_edit_date": 1445463174, "creation_date": 1445462972, "answer_id": 33269601, "question_id": 33269530, "link": "https://stackoverflow.com/questions/33269530/get-max-value-from-a-list-with-lists/33269601#33269601", "title": "Get max value from a list with lists?", "body": "<p>Are you trying to just get the maximum number from the floats (the last index in your list)? If so, here's a solution. </p>\n\n<pre><code>last_indices = [x[3] for x in resultlist]\nreturn max(last_indices)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 7520273, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/c4cf785a75139b217711f0037f819bce?s=128&d=identicon&r=PG&f=1", "display_name": "EmiliOrtega", "link": "https://stackoverflow.com/users/7520273/emiliortega"}, "edited": false, "score": 1, "creation_date": 1595279108, "post_id": 33269602, "comment_id": 111414523, "body": "you get the last element because you know that lists are ordered and the last element is always the bigger in each list ??"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "reply_to_user": {"reputation": 99, "user_id": 7520273, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/c4cf785a75139b217711f0037f819bce?s=128&d=identicon&r=PG&f=1", "display_name": "EmiliOrtega", "link": "https://stackoverflow.com/users/7520273/emiliortega"}, "edited": false, "score": 0, "creation_date": 1595339555, "post_id": 33269602, "comment_id": 111436048, "body": "@EmiliOrtega This answer is very specific to the question---&quot;I have a list that contains several list which all have three strings first, then one float number&quot;---so this solution gets the last element because that&#39;s where the number is."}, {"owner": {"reputation": 99, "user_id": 7520273, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/c4cf785a75139b217711f0037f819bce?s=128&d=identicon&r=PG&f=1", "display_name": "EmiliOrtega", "link": "https://stackoverflow.com/users/7520273/emiliortega"}, "edited": false, "score": 1, "creation_date": 1595350617, "post_id": 33269602, "comment_id": 111441981, "body": "yess what I mean is that if you would have a list [[&quot;1&quot;, &quot;1&quot;, &quot;a&quot;, 10, 8.3931], ....] like that one, it would still return 8.3 instead of 10 right ?"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "reply_to_user": {"reputation": 99, "user_id": 7520273, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/c4cf785a75139b217711f0037f819bce?s=128&d=identicon&r=PG&f=1", "display_name": "EmiliOrtega", "link": "https://stackoverflow.com/users/7520273/emiliortega"}, "edited": false, "score": 1, "creation_date": 1595367172, "post_id": 33269602, "comment_id": 111449001, "body": "Correct.  <code>sublist[-1]</code> returns the last value in each sublist.  It has nothing to do with sortedness."}], "tags": [], "owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "is_accepted": true, "score": 15, "last_activity_date": 1445462977, "creation_date": 1445462977, "answer_id": 33269602, "question_id": 33269530, "link": "https://stackoverflow.com/questions/33269530/get-max-value-from-a-list-with-lists/33269602#33269602", "title": "Get max value from a list with lists?", "body": "<p>Loop through your outer list and select the last element of each sublist:</p>\n\n<pre><code>def max_value(inputlist):\n    return max([sublist[-1] for sublist in inputlist])\n\nprint max_value(resultlist)\n# 9.1931\n</code></pre>\n\n<p>It's also best if you keep all function related variables in-scope (pass the list as an argument and don't confuse the namespace by reusing variable names).</p>\n"}, {"tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 3, "last_activity_date": 1445472475, "last_edit_date": 1445472475, "creation_date": 1445463043, "answer_id": 33269618, "question_id": 33269530, "link": "https://stackoverflow.com/questions/33269530/get-max-value-from-a-list-with-lists/33269618#33269618", "title": "Get max value from a list with lists?", "body": "<pre><code>resultlist = [[\"1\", \"1\", \"a\", 8.3931], [\"1\", \"2\", \"b\", 6.3231], [\"2\", \"1\", \"c\", 9.1931]]\nprint(max(map(lambda x: x[-1],resultlist)))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>9.1931\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 661, "user_id": 2258040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N2um3.jpg?s=128&g=1", "display_name": "Almog", "link": "https://stackoverflow.com/users/2258040/almog"}, "is_accepted": false, "score": 13, "last_activity_date": 1445463055, "creation_date": 1445463055, "answer_id": 33269620, "question_id": 33269530, "link": "https://stackoverflow.com/questions/33269530/get-max-value-from-a-list-with-lists/33269620#33269620", "title": "Get max value from a list with lists?", "body": "<p>In perhaps a more functional than pythonic manner:</p>\n\n<pre><code>&gt;&gt;&gt; max(map(lambda x: x[3], resultlist))\n9.1931\n</code></pre>\n\n<p>It begins by mapping each element of result list to the number value and then finds the max.</p>\n\n<p>The intermediate array is:</p>\n\n<pre><code>&gt;&gt;&gt; map(lambda x: x[3], resultlist)\n[8.3931000000000004, 6.3231000000000002, 9.1930999999999994]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "edited": false, "score": 1, "creation_date": 1445465849, "post_id": 33269912, "comment_id": 54341561, "body": "+1 for &quot;itemgetter&quot;. However, I think there is something wrong with the first definition of the function &quot;max_val&quot;, at least I receive a SyntaxError - I guess there is something wrong with the parantheses."}, {"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "edited": false, "score": 0, "creation_date": 1445466368, "post_id": 33269912, "comment_id": 54341758, "body": "Could you remove it - I do not have enough reputation to edit it!? ;)"}, {"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "edited": false, "score": 1, "creation_date": 1445469871, "post_id": 33269912, "comment_id": 54342878, "body": "Ok, well, it will appear at some point. But nice solution! I now incorporated the itemgetter in my solution below as well."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 4, "last_activity_date": 1445464291, "creation_date": 1445464291, "answer_id": 33269912, "question_id": 33269530, "link": "https://stackoverflow.com/questions/33269530/get-max-value-from-a-list-with-lists/33269912#33269912", "title": "Get max value from a list with lists?", "body": "<p>If you want the index too you can use <code>enumerate</code> with <code>operator.itemgetter</code> using <code>map</code>:</p>\n\n<pre><code>from operator import itemgetter\ndef max_val(l, i):\n    return max(enumerate(map(itemgetter(i), l)),key=itemgetter(1)))\n</code></pre>\n\n<p>Which will return a tuple of the max with the index:</p>\n\n<pre><code>In [7]: resultlist = [[\"1\", \"1\", \"a\", 8.3931], [\"1\", \"2\", \"b\", 6.3231], [\"2\", \"1\", \"c\", 9.1931]]\n\nIn [8]: max_val(resultlist, -1)\nOut[8]: (2, 9.1931)\n</code></pre>\n\n<p>Or just a regular gen exp:</p>\n\n<pre><code>from operator import itemgetter\ndef max_val(l, i):\n    return max(enumerate(sub[i] for sub in l), key=itemgetter(1))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "is_accepted": false, "score": 1, "last_activity_date": 1445512111, "last_edit_date": 1445512111, "creation_date": 1445464629, "answer_id": 33269984, "question_id": 33269530, "link": "https://stackoverflow.com/questions/33269530/get-max-value-from-a-list-with-lists/33269984#33269984", "title": "Get max value from a list with lists?", "body": "<p>Here is an answer just in case you get a list of list where the number is not always on the 3rd position:</p>\n\n<pre><code>from itertools import chain\nmax(filter(lambda x: isinstance(x, (int, long, float)), chain.from_iterable(resultlist)))\n</code></pre>\n\n<p>What is going on? <code>itertools.chain</code> flattens the list of lists, the <code>filter</code> then selects all the numeric values of which the maximal value is then determined using the <code>max</code> function.\nAdvantage here is that it also works for arbitrary lists of lists where the numeric value can be found anywhere in the list. </p>\n\n<p>For your example:</p>\n\n<pre><code>resultlist = [['1', '1', 'a', 8.3931], ['1', '2', 'b', 6.3231], ['2', '1', 'c', 9.1931]]\nmax(filter(lambda x: isinstance(x, (int, long, float)), chain.from_iterable(resultlist))) \n#prints 9.1931\n</code></pre>\n\n<p>One more general example:</p>\n\n<pre><code>myList = [[23, 34, 'a'],['b'],['t', 100]]\nmax(filter(lambda x: isinstance(x, (int, long, float)), chain.from_iterable(myList)))\n#prints 100\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>If you also want to get the index of the maximal value, you can do the following (using @Padraic Cunningham approach):</p>\n\n<pre><code>from itertools import chain\nimport operator\nresultlist = [['1', '1', 'a', 8.3931], ['1', '2', 'b', 6.3231], ['2', '1', 'c', 9.1931]]\nl = filter(lambda x: isinstance(x, (int, long, float)), chain.from_iterable(resultlist))\n# l: [8.3931, 6.3231, 9.1931]\nmax(enumerate(l), key = operator.itemgetter(1))\n#(2, 9.1931)\n</code></pre>\n\n<p>This approach assumes that there is exactly one numeric value per list!</p>\n\n<p>One more example using a list where the numeric value is on an arbitrary position:</p>\n\n<pre><code>from itertools import chain\nimport operator\nmyList = [[23, '34', 'a'],['b', 1000],['t', 'xyz', 100]]\nl=filter(lambda x: isinstance(x, (int, long, float)), chain.from_iterable(myList))\nmax(enumerate(l), key = operator.itemgetter(1))\n#prints (1, 1000)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 1536092, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1aa393012c8c6f8f1863d599e2a76b69?s=128&d=identicon&r=PG", "display_name": "Jona", "link": "https://stackoverflow.com/users/1536092/jona"}, "edited": false, "score": 1, "creation_date": 1608402473, "post_id": 55341965, "comment_id": 115575446, "body": "This absolutely should be the accepted answer - it provides a general solution, not the super-specific-to-the-current-list-setup solution offered by the accepted answer."}], "tags": [], "owner": {"reputation": 131, "user_id": 7806092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AhUW.jpg?s=128&g=1", "display_name": "Guillermo Luijk", "link": "https://stackoverflow.com/users/7806092/guillermo-luijk"}, "is_accepted": false, "score": 8, "last_activity_date": 1554476012, "last_edit_date": 1554476012, "creation_date": 1553530051, "answer_id": 55341965, "question_id": 33269530, "link": "https://stackoverflow.com/questions/33269530/get-max-value-from-a-list-with-lists/55341965#55341965", "title": "Get max value from a list with lists?", "body": "<p>Numpy helps with numerical nested lists. Try this:</p>\n\n<pre><code>resultlist = [[3, 2, 4, 4], [1, 6, 7, -6], [5, 4, 3, 2]]\nmax(resultlist)  # yields [5, 4, 3, 2] because 5 is the max in: 3, 1, 5\nnp.max(resultlist)  # yields 7 because it's the absolute max\n</code></pre>\n\n<p><code>max()</code> returns the list which first element is the maximum of all lists' first element, while <code>np.max()</code> returns the highest value from all the nested lists.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 15286598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b13b080ac3a090355fb1dfca5cb51cd?s=128&d=identicon&r=PG&f=1", "display_name": "LampoonBonanza", "link": "https://stackoverflow.com/users/15286598/lampoonbonanza"}, "is_accepted": false, "score": 0, "last_activity_date": 1614630127, "creation_date": 1614630127, "answer_id": 66429114, "question_id": 33269530, "link": "https://stackoverflow.com/questions/33269530/get-max-value-from-a-list-with-lists/66429114#66429114", "title": "Get max value from a list with lists?", "body": "<p>As others have mentioned, you can answer this inquiry in more general terms (even without additional libraries).</p>\n<pre><code>maxval = max(map(max, resultlist))\nprint(maxval)\n</code></pre>\n<p>This takes the inner list with the maximum value, then maps the max function on that inner list to find the maximum value and stores it in maxval.</p>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 5879530, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7JfRkTzEH-w/AAAAAAAAAAI/AAAAAAAAIiU/ISBwpYuquuo/photo.jpg?sz=128", "display_name": "Sergio", "link": "https://stackoverflow.com/users/5879530/sergio"}, "is_accepted": false, "score": 0, "last_activity_date": 1617206551, "creation_date": 1617206551, "answer_id": 66891287, "question_id": 33269530, "link": "https://stackoverflow.com/questions/33269530/get-max-value-from-a-list-with-lists/66891287#66891287", "title": "Get max value from a list with lists?", "body": "<p>Another way to get the answer is using list comprehensions:</p>\n<pre><code>&gt;&gt;&gt; max([x[3] for x in resultlist])\n9.1931\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 5473395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f85b0b58d1c14482cf0a9a8f779ac8f8?s=128&d=identicon&r=PG&f=1", "display_name": "FeatherMarauder", "link": "https://stackoverflow.com/users/5473395/feathermarauder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57506, "favorite_count": 5, "accepted_answer_id": 33269602, "answer_count": 9, "score": 14, "last_activity_date": 1617206551, "creation_date": 1445462667, "last_edit_date": 1445465357, "question_id": 33269530, "link": "https://stackoverflow.com/questions/33269530/get-max-value-from-a-list-with-lists", "title": "Get max value from a list with lists?", "body": "<p>So I have a list that contains several list which all have three strings first, then one float number, like: </p>\n\n<pre><code>resultlist = [[\"1\", \"1\", \"a\", 8.3931], [\"1\", \"2\", \"b\", 6.3231], [\"2\", \"1\", \"c\", 9.1931]]\n</code></pre>\n\n<p>How do I make a function that returns the maximum value (which here would be 9.1931)? I tried </p>\n\n<pre><code>def MaxValue():\n    max_value = max(resultlist)\n    return max_value\n</code></pre>\n\n<p>but that just gives me a list.</p>\n\n<p>EDIT: Also, any way I could get the index for where the value comes from? Like, from which sublist?</p>\n"}, {"tags": ["python", "numpy", "pandas", "dataframe", "ipython-notebook"], "answers": [{"tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": false, "score": 0, "last_activity_date": 1445463072, "creation_date": 1445463072, "answer_id": 33269624, "question_id": 33269505, "link": "https://stackoverflow.com/questions/33269505/pandas-groupby-first-column-shifted-down/33269624#33269624", "title": "pandas groupby first column shifted down", "body": "<p>Year is the name of the index.</p>\n\n<pre><code>In [11]: df = pd.DataFrame([[1, 2], [3, 4]], columns=[\"A\", \"B\"])\n\nIn [12]: df\nOut[12]:\n   A  B\n0  1  2\n1  3  4\n\nIn [13]: df.index.name = \"foo\"\n\nIn [14]: df\nOut[14]:\n     A  B\nfoo\n0    1  2\n1    3  4\n</code></pre>\n\n<p>Pull out the index with .index:</p>\n\n<pre><code>In [15]: df.index\nOut[15]: Int64Index([0, 1], dtype='int64', name='foo')\n\nIn [16]: df.index.values\nOut[16]: array([0, 1])\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5473403, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207864333704050/picture?type=large", "display_name": "Scott", "link": "https://stackoverflow.com/users/5473403/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1465620070, "creation_date": 1445462574, "last_edit_date": 1465620070, "question_id": 33269505, "link": "https://stackoverflow.com/questions/33269505/pandas-groupby-first-column-shifted-down", "title": "pandas groupby first column shifted down", "body": "<p>So I have read in a csv file as a pandas dataframe:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zd4Ce.jpg\" alt=\"\"></p>\n\n<p>But when I group it, the year column is shifted down by one:</p>\n\n<p><img src=\"https://i.stack.imgur.com/s4TdB.jpg\" alt=\"\"></p>\n\n<p>So when I try to pull out Years into a numpy array, it gives an error saying <code>\"KeyError:'Year'\"</code>.</p>\n\n<p>Is there a way to get the array to find the years, or a way to shift that first column up by one?</p>\n\n<p>I have found a way to shift a dataframe column up by one, but I need to shift the grouping, not the dataframe.</p>\n\n<p>I also tried turning the new grouping into a new dataframe so that I can shift the year column up, but haven't been successful.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1445463273, "creation_date": 1445463273, "answer_id": 33269680, "question_id": 33269460, "link": "https://stackoverflow.com/questions/33269460/python-input-validation-return/33269680#33269680", "title": "python: input validation return", "body": "<p>There are a few problems with your code.</p>\n\n<ul>\n<li>you <em>could</em> just use <code>input</code> to evaluate whatever the unser entered, but that's dangerous; better use <code>raw_input</code> to get a string and try to cast that string to <code>int</code> explicitly</li>\n<li>also, <em>if</em> you are using <code>input</code>, then you'd have to catch <code>NameError</code> and <code>SyntaxError</code> (and maybe some more) instead of <code>ValueError</code></li>\n<li>currently, your <code>if</code> condition would allow a 7-digit number (1000000) to be entered; also, you can simplify the condition using comparison chaining</li>\n<li>no need for the boolean variable; just <code>break</code> or <code>return</code> from the loop</li>\n<li>you call your function twice, and print only the result of the second call</li>\n</ul>\n\n<p>You could try something like this:</p>\n\n<pre><code>def get_number():\n    while True:\n        try:\n            n = int(raw_input('Please enter a 6 digit number '))\n            if 100000 &lt;= n &lt; 1000000:\n                return n\n        except ValueError:\n            continue\n\nif __name__ == '__main__':\n    print get_number()\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4359892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71bdb111a28ea134842e3900d5cb9cad?s=128&d=identicon&r=PG&f=1", "display_name": "bbaayy", "link": "https://stackoverflow.com/users/4359892/bbaayy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 33269680, "answer_count": 1, "score": 0, "last_activity_date": 1445463977, "creation_date": 1445462390, "last_edit_date": 1445463119, "question_id": 33269460, "link": "https://stackoverflow.com/questions/33269460/python-input-validation-return", "title": "python: input validation return", "body": "<p>I am trying to return the number if it is an INT and between numbers, an error occurs when you enter a letter . also you have to input the correct value twice to get an input:</p>\n\n<pre><code>  def get_number():\n\nb = False\n\nwhile b == False:\n    try:\n        n = (input('Please enter a 6 digit number'))\n    except ValueError:\n        continue\n    if n &gt;= 100000 and n &lt;= 1000000:\n        b = True\n        break\nreturn n\n\nif __name__ == '__main__':\n    get_number()\n    print get_number()\n</code></pre>\n\n<p>`</p>\n\n<p>Changed input to raw_input , it now work if someone enters a letter. however when i enter the correct input ,it will keep on looping:</p>\n\n<pre><code>def get_number():\n\nb = False\n\nwhile b == False:\n    try:\n        n = (raw_input('Please enter a 6 digit number'))\n    except ValueError:\n        continue\n    if n &gt;= 100000 and n &lt;= 1000000:\n        b = True\n        break\nreturn n\n\nif __name__ == '__main__':\n    get_number()\n    print get_number()\n</code></pre>\n"}, {"tags": ["python", "file", "memory", "save"], "answers": [{"comments": [{"owner": {"reputation": 344, "user_id": 3104326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d255caf38262eb1396652e5074bcd7aa?s=128&d=identicon&r=PG&f=1", "display_name": "Uber", "link": "https://stackoverflow.com/users/3104326/uber"}, "edited": false, "score": 0, "creation_date": 1445462580, "post_id": 33269479, "comment_id": 54340061, "body": "Ahh, great, I just checked it and it was at 18MB and raising so that&#39;s why I thought that. Will look into flush, thank you sir!"}, {"owner": {"reputation": 661, "user_id": 2258040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N2um3.jpg?s=128&g=1", "display_name": "Almog", "link": "https://stackoverflow.com/users/2258040/almog"}, "reply_to_user": {"reputation": 344, "user_id": 3104326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d255caf38262eb1396652e5074bcd7aa?s=128&d=identicon&r=PG&f=1", "display_name": "Uber", "link": "https://stackoverflow.com/users/3104326/uber"}, "edited": false, "score": 1, "creation_date": 1445462724, "post_id": 33269479, "comment_id": 54340149, "body": "Note that to have it flush to actual disk you may also have to call <code>os.fysnc()</code> <a href=\"http://stackoverflow.com/questions/7127075/what-exactly-the-pythons-file-flush-is-doing\" title=\"what exactly the pythons file flush is doing\">stackoverflow.com/questions/7127075/&hellip;</a>"}], "tags": [], "owner": {"reputation": 661, "user_id": 2258040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N2um3.jpg?s=128&g=1", "display_name": "Almog", "link": "https://stackoverflow.com/users/2258040/almog"}, "is_accepted": true, "score": 6, "last_activity_date": 1445462482, "last_edit_date": 1495535229, "creation_date": 1445462482, "answer_id": 33269479, "question_id": 33269392, "link": "https://stackoverflow.com/questions/33269392/python-saving-data-inside-memory-ram/33269479#33269479", "title": "Python saving data inside Memory? (ram)", "body": "<p>Python does not write to file until you call <code>.close()</code> or <code>.flush()</code> or until it hits a specified buffer size. This question might help you: <a href=\"https://stackoverflow.com/questions/3167494/how-often-does-python-flush-to-a-file\">How often does python flush to a file?</a></p>\n"}, {"comments": [{"owner": {"reputation": 344, "user_id": 3104326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d255caf38262eb1396652e5074bcd7aa?s=128&d=identicon&r=PG&f=1", "display_name": "Uber", "link": "https://stackoverflow.com/users/3104326/uber"}, "edited": false, "score": 0, "creation_date": 1445464030, "post_id": 33269666, "comment_id": 54340793, "body": "Great example, I love it, it looks like it is steady at 18mb so it&#39;s not that big of a deal. Through I don&#39;t understand why there is a buffer, it it because ram is much faster then a hdd so that it can write it all at once vs 1 by 1. Or is it because some files run really fast thus not allowing the hdd to keep up with the speed of the program?"}, {"owner": {"reputation": 198, "user_id": 5469289, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dPb95zlOjhc/AAAAAAAAAAI/AAAAAAAAACE/ybNeH0QVRco/photo.jpg?sz=128", "display_name": "Colby Gallup", "link": "https://stackoverflow.com/users/5469289/colby-gallup"}, "reply_to_user": {"reputation": 344, "user_id": 3104326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d255caf38262eb1396652e5074bcd7aa?s=128&d=identicon&r=PG&f=1", "display_name": "Uber", "link": "https://stackoverflow.com/users/3104326/uber"}, "edited": false, "score": 1, "creation_date": 1445478548, "post_id": 33269666, "comment_id": 54345234, "body": "@Uber - It&#39;s very inefficient to write to the disk every time you add a line. In all, it&#39;s better for the computer to wait and write everything at once."}, {"owner": {"reputation": 344, "user_id": 3104326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d255caf38262eb1396652e5074bcd7aa?s=128&d=identicon&r=PG&f=1", "display_name": "Uber", "link": "https://stackoverflow.com/users/3104326/uber"}, "edited": false, "score": 0, "creation_date": 1445535991, "post_id": 33269666, "comment_id": 54374733, "body": "Yeah I looked into it. I will keep it as-is as it doesn&#39;t go above 18.5mb. Thanks for the help!"}], "tags": [], "owner": {"reputation": 198, "user_id": 5469289, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dPb95zlOjhc/AAAAAAAAAAI/AAAAAAAAACE/ybNeH0QVRco/photo.jpg?sz=128", "display_name": "Colby Gallup", "link": "https://stackoverflow.com/users/5469289/colby-gallup"}, "is_accepted": false, "score": 3, "last_activity_date": 1445463228, "creation_date": 1445463228, "answer_id": 33269666, "question_id": 33269392, "link": "https://stackoverflow.com/questions/33269392/python-saving-data-inside-memory-ram/33269666#33269666", "title": "Python saving data inside Memory? (ram)", "body": "<p>As @Almog said, Python does not write to the file immediately. Because of this, every line you write to the file gets stored into RAM until you use <code>savefile.close()</code>, which flushes the internal buffer and writes everything to the file. This would explain the extra memory usage.</p>\n\n<p>Try changing the loop to this:</p>\n\n<pre><code>savefile = open('file.txt', 'r+')\nfor i in savefile:\n    savefile.write(i)\n    savefile.flush() #flushes buffer, saving RAM\nsavefile.close()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10175474, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ojb0Za8f6Sk/AAAAAAAAAAI/AAAAAAAAABo/lEzR5_U-_dc/photo.jpg?sz=128", "display_name": "Developer Richtofen", "link": "https://stackoverflow.com/users/10175474/developer-richtofen"}, "is_accepted": false, "score": 2, "last_activity_date": 1536227075, "creation_date": 1536227075, "answer_id": 52201220, "question_id": 33269392, "link": "https://stackoverflow.com/questions/33269392/python-saving-data-inside-memory-ram/52201220#52201220", "title": "Python saving data inside Memory? (ram)", "body": "<p>There is a better Solution, in pythonic way, to this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>with open(\"your_file.txt\", \"write_mode\") as file_variable_name:\n    for line in file_name:\n        file_name.write(line)\n        file_name.flush()\n</code></pre>\n\n<p>This code flushes the File for each line and after it's execution it closes the File thanks to the with-Statement</p>\n"}], "owner": {"reputation": 344, "user_id": 3104326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d255caf38262eb1396652e5074bcd7aa?s=128&d=identicon&r=PG&f=1", "display_name": "Uber", "link": "https://stackoverflow.com/users/3104326/uber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11807, "favorite_count": 1, "accepted_answer_id": 33269479, "answer_count": 3, "score": 2, "last_activity_date": 1536227075, "creation_date": 1445462160, "last_edit_date": 1445462275, "question_id": 33269392, "link": "https://stackoverflow.com/questions/33269392/python-saving-data-inside-memory-ram", "title": "Python saving data inside Memory? (ram)", "body": "<p>I am new to Python, but I didn't know this til yet.\nI have a basic program inside a for loop, that requests data from a site and saves it to a text file\nBut when I checked inside my task manager I saw that the memory usage only increase? This might be a problem for me when running this for a long time.\nIs it standard for Python to do this or can you change it?\nHere is a what the program basically is</p>\n\n<pre><code>savefile = open(\"file.txt\", \"r+\")\nfor i in savefile:\n     #My code goes here\n     savefile.write(i)\n#end of loop\nsavefile.close()\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "nan"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 1, "creation_date": 1445462207, "post_id": 33269369, "comment_id": 54339864, "body": "What does &quot;missing value&quot; signify in adding?"}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1445462328, "post_id": 33269369, "comment_id": 54339932, "body": "thanks @Divakar, the missing value should be ignored. Not sure what numpy does if one array has a missing value and the other does not."}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 1, "creation_date": 1445462359, "post_id": 33269369, "comment_id": 54339949, "body": "@user308827 Have you tried it?"}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "edited": false, "score": 0, "creation_date": 1445462408, "post_id": 33269369, "comment_id": 54339974, "body": "I have, a + b seems to be working in one case. However, in another case, it ends up in all values being nan"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 2, "creation_date": 1445462650, "post_id": 33269369, "comment_id": 54340105, "body": "Please provide sample input and expected output. It&#39;s unclear what you are asking."}, {"owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1445462903, "post_id": 33269369, "comment_id": 54340253, "body": "Also, what does &quot;the right way&quot; mean? For now it seems terribly unclear and opinion-based."}], "answers": [{"comments": [{"owner": {"reputation": 2169, "user_id": 3017048, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76fa741c85da64717bf8d8d5b2fc5e75?s=128&d=identicon&r=PG&f=1", "display_name": "user3017048", "link": "https://stackoverflow.com/users/3017048/user3017048"}, "edited": false, "score": 2, "creation_date": 1537357135, "post_id": 33269803, "comment_id": 91753714, "body": "The behavior that <code>NaN</code> is returned when both inputs are <code>NaN</code> changed for NumPy version &gt;1.9.0. In the newer versions, zero is returned!"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 10, "last_activity_date": 1445463822, "creation_date": 1445463822, "answer_id": 33269803, "question_id": 33269369, "link": "https://stackoverflow.com/questions/33269369/adding-two-2d-numpy-arrays-ignoring-nans-in-them/33269803#33269803", "title": "Adding two 2D NumPy arrays ignoring NaNs in them", "body": "<p>Since the inputs are 2D arrays, you can stack them along the third axis with <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.dstack.html\" rel=\"noreferrer\"><code>np.dstack</code></a> and then use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.nansum.html\" rel=\"noreferrer\"><code>np.nansum</code></a> which would ensure <code>NaNs</code> are ignored, unless there are <code>NaNs</code> in both input arrays, in which case output would also have <code>NaN</code>. Thus, the implementation would look something like this -</p>\n\n<pre><code>np.nansum(np.dstack((A,B)),2)\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [157]: A\nOut[157]: \narray([[ 0.77552455,  0.89241629,         nan,  0.61187474],\n       [ 0.62777982,  0.80245533,         nan,  0.66320306],\n       [ 0.41578442,  0.26144272,  0.90260667,         nan],\n       [ 0.65122428,  0.3211213 ,  0.81634856,         nan],\n       [ 0.52957704,  0.73460363,  0.16484994,  0.20701344]])\n\nIn [158]: B\nOut[158]: \narray([[ 0.55809925,  0.1339353 ,         nan,  0.35154039],\n       [ 0.94484722,  0.23814073,  0.36048809,  0.20412318],\n       [ 0.25191484,         nan,  0.43721322,  0.95810905],\n       [ 0.69115038,  0.51490958,         nan,  0.44613473],\n       [ 0.01709308,  0.81771896,  0.3229837 ,  0.64013882]])\n\nIn [159]: np.nansum(np.dstack((A,B)),2)\nOut[159]: \narray([[ 1.3336238 ,  1.02635159,         nan,  0.96341512],\n       [ 1.57262704,  1.04059606,  0.36048809,  0.86732624],\n       [ 0.66769925,  0.26144272,  1.33981989,  0.95810905],\n       [ 1.34237466,  0.83603089,  0.81634856,  0.44613473],\n       [ 0.54667013,  1.55232259,  0.48783363,  0.84715226]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 6, "last_activity_date": 1480888071, "last_edit_date": 1480888071, "creation_date": 1480885848, "answer_id": 40963691, "question_id": 33269369, "link": "https://stackoverflow.com/questions/33269369/adding-two-2d-numpy-arrays-ignoring-nans-in-them/40963691#40963691", "title": "Adding two 2D NumPy arrays ignoring NaNs in them", "body": "<p>Just replace the <code>NaN</code>s with zeros in both arrays:</p>\n\n<pre><code>a[np.isnan(a)] = 0  # replace all nan in a with 0\nb[np.isnan(b)] = 0  # replace all nan in b with 0\n</code></pre>\n\n<p>And then perform the addition:</p>\n\n<pre><code>a + b\n</code></pre>\n\n<p>This relies on the fact that <code>0</code> is the <a href=\"https://en.wikipedia.org/wiki/Identity_element\" rel=\"noreferrer\">\"identity element\"</a> for addition.</p>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6187, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1480888071, "creation_date": 1445462085, "last_edit_date": 1480880174, "question_id": 33269369, "link": "https://stackoverflow.com/questions/33269369/adding-two-2d-numpy-arrays-ignoring-nans-in-them", "title": "Adding two 2D NumPy arrays ignoring NaNs in them", "body": "<p>What is the right way to add 2 numpy arrays a and b (both 2D) with numpy.nan as missing value?</p>\n\n<ol>\n<li><code>a + b</code></li>\n</ol>\n\n<p>or</p>\n\n<ol start=\"2\">\n<li><code>numpy.ma.sum(a,b)</code></li>\n</ol>\n"}, {"tags": ["python", "string", "reverse"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 3, "creation_date": 1445462216, "post_id": 33269363, "comment_id": 54339869, "body": "You can&#39;t. The question requires that the string be reversed in place, which isn&#39;t possible in Python because strings are immutable. The slicing suggestion above creates a new string, which requires additional memory."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 1, "creation_date": 1445462230, "post_id": 33269363, "comment_id": 54339877, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/931092/reverse-a-string-in-python\">Reverse a string in Python</a>"}, {"owner": {"reputation": 8973, "user_id": 3367144, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LZ7Af.png?s=128&g=1", "display_name": "kdbanman", "link": "https://stackoverflow.com/users/3367144/kdbanman"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 1, "creation_date": 1445462232, "post_id": 33269363, "comment_id": 54339878, "body": "@MattDMo, that doubles memory consumption from the original string."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 2, "creation_date": 1445462239, "post_id": 33269363, "comment_id": 54339885, "body": "<i>Why</i>? Why can&#39;t you use more memory? Not even 1 byte? <i>Why</i> can&#39;t you use the built-in reverse functions?"}, {"owner": {"reputation": 8973, "user_id": 3367144, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LZ7Af.png?s=128&g=1", "display_name": "kdbanman", "link": "https://stackoverflow.com/users/3367144/kdbanman"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1445462281, "post_id": 33269363, "comment_id": 54339904, "body": "@Two-BitAlchemist, probably because it&#39;s a homework question that either A) gets the student to realize that python strings are immutable, or B) doesn&#39;t actually require python usage, or C) is written by someone who doesn&#39;t know python."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "reply_to_user": {"reputation": 8973, "user_id": 3367144, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LZ7Af.png?s=128&g=1", "display_name": "kdbanman", "link": "https://stackoverflow.com/users/3367144/kdbanman"}, "edited": false, "score": 2, "creation_date": 1445462340, "post_id": 33269363, "comment_id": 54339938, "body": "@kdbanman This is why I wish we had a close reason for something like: &quot;Your question appears to have absurd or contradictory requirements and offers no explanation why.&quot; I really dislike when it seems like a game because there&#39;s nonsense parameters that are not obvious from the question itself."}], "answers": [{"tags": [], "owner": {"reputation": 8973, "user_id": 3367144, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/LZ7Af.png?s=128&g=1", "display_name": "kdbanman", "link": "https://stackoverflow.com/users/3367144/kdbanman"}, "is_accepted": false, "score": 5, "last_activity_date": 1445462516, "creation_date": 1445462516, "answer_id": 33269489, "question_id": 33269363, "link": "https://stackoverflow.com/questions/33269363/python-string-reversal-without-additional-memory/33269489#33269489", "title": "Python string reversal without additional memory", "body": "<p>You can't do this.  Whoever is asking you to do this is</p>\n\n<ol>\n<li>trying to get you to realize that python strings are immutable, or</li>\n<li>doesn't actually require you to use python, or</li>\n<li>doesn't know python at all.</li>\n</ol>\n\n<p>Python strings are immutable, which means they <strong>cannot</strong> be changed in-place.</p>\n"}], "owner": {"reputation": 433, "user_id": 5378920, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/91414844268f59bdce808dca91506a16?s=128&d=identicon&r=PG&f=1", "display_name": "akira", "link": "https://stackoverflow.com/users/5378920/akira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1445464753, "creation_date": 1445462060, "last_edit_date": 1445464753, "question_id": 33269363, "link": "https://stackoverflow.com/questions/33269363/python-string-reversal-without-additional-memory", "title": "Python string reversal without additional memory", "body": "<p>I want to reverse a string without using any additional memory (<code>O(1)</code> space complexity) in <code>O(N)</code> time complexity, where <code>N</code> is the length of the string.</p>\n\n<p>I can\u2019t use the string reverse in built function.</p>\n"}, {"tags": ["python", "python-2.7", "datetime", "epoch"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 5410800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u6bom.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5410800/rob"}, "edited": false, "score": 0, "creation_date": 1445462741, "post_id": 33269529, "comment_id": 54340159, "body": "Based upon this working, trial and error to get the proper format."}, {"owner": {"reputation": 79, "user_id": 4460213, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ccbbce79101b0af1271b85cd48c4bb76?s=128&d=identicon&r=PG&f=1", "display_name": "user73383", "link": "https://stackoverflow.com/users/4460213/user73383"}, "edited": false, "score": 0, "creation_date": 1445467861, "post_id": 33269529, "comment_id": 54342283, "body": "Thanks for the reply, but that&#39;s not the issue... my code works, but it doesn&#39;t include the DST / offset."}], "tags": [], "owner": {"reputation": 117, "user_id": 5410800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u6bom.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5410800/rob"}, "is_accepted": false, "score": -1, "last_activity_date": 1445462667, "creation_date": 1445462667, "answer_id": 33269529, "question_id": 33269352, "link": "https://stackoverflow.com/questions/33269352/python-2-7-converting-standard-unix-timestamps-to-epoch-time/33269529#33269529", "title": "Python 2.7 Converting standard unix timestamps to epoch time", "body": "<p>First off you are identifying the numbers as a string. What I did was identify the string as an integer and then use datatime to convert into epoche time. </p>\n\n<p>You'll need to remove the symbols not identified as an integer to have the following number listed above but the code below works for me on python 2.7</p>\n\n<p><code>\nimport datetime\nconversion = datetime.datetime.fromtimestamp(int(\"20151021\")).strftime('%Y-%m-%d %H:%M:%S')\nprint (conversion)\n</code></p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 4460213, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ccbbce79101b0af1271b85cd48c4bb76?s=128&d=identicon&r=PG&f=1", "display_name": "user73383", "link": "https://stackoverflow.com/users/4460213/user73383"}, "edited": false, "score": 0, "creation_date": 1445468123, "post_id": 33269699, "comment_id": 54342356, "body": "Thanks for the reply I was running Python 2.7.9 which is the latest 2.7 branch.  Don&#39;t want to move to 3.x since so many important libraries are still 2.7.x as are many small systems."}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": -1, "last_activity_date": 1445463340, "creation_date": 1445463340, "answer_id": 33269699, "question_id": 33269352, "link": "https://stackoverflow.com/questions/33269352/python-2-7-converting-standard-unix-timestamps-to-epoch-time/33269699#33269699", "title": "Python 2.7 Converting standard unix timestamps to epoch time", "body": "<p>Weird. Works in Python3, but not Python2</p>\n\n<pre><code>&gt;&gt;&gt; time.mktime(time.strptime('20151021|133102-0400', '%Y%m%d|%H%M%S%z'))\n1445452262.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 0, "last_activity_date": 1445493865, "last_edit_date": 1495535335, "creation_date": 1445493865, "answer_id": 33274349, "question_id": 33269352, "link": "https://stackoverflow.com/questions/33269352/python-2-7-converting-standard-unix-timestamps-to-epoch-time/33274349#33274349", "title": "Python 2.7 Converting standard unix timestamps to epoch time", "body": "<p>There are two steps:</p>\n\n<ul>\n<li><p>parse the time string into a date/time object e.g., <a href=\"https://stackoverflow.com/q/1101508/4279\">How to parse dates with -0400 timezone string in python?</a> and\n<a href=\"https://stackoverflow.com/q/1790795/4279\">Parsing date with timezone from an email?</a></p>\n\n<pre><code>import time\n\ntime_string = \"20151021|133102-0400\"\ntt = time.strptime(time_string[:15], \"%Y%m%d|%H%M%S\")\nhours, minutes = divmod(int(time_string[16:]), 100)\nutc_offset = (hours * 60 + minutes) * 60\nif time_string[15] == '-':\n    utc_offset = -utc_offset\n</code></pre></li>\n<li><p>get \"seconds since the Epoch\" that corresponds to the date/time object: <a href=\"https://stackoverflow.com/q/8777753/4279\">Converting datetime.date to UTC timestamp in Python</a></p>\n\n<pre><code>from calendar import timegm\n\nposix_timestamp = timegm(tt) - utc_offset\n</code></pre></li>\n</ul>\n\n<blockquote>\n  <p>I want the code to run regardless of the native timezone of the machine it is running on</p>\n</blockquote>\n\n<p><code>time.mktime()</code> expects local time as an input. Don't use it if the input time string does not represent local time. You also shouldn't use it if the time string has the utc offset (<code>mktime()</code> may produce a wrong result for ambiguous times or past/future dates).</p>\n"}], "owner": {"reputation": 79, "user_id": 4460213, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ccbbce79101b0af1271b85cd48c4bb76?s=128&d=identicon&r=PG&f=1", "display_name": "user73383", "link": "https://stackoverflow.com/users/4460213/user73383"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1038, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1445493865, "creation_date": 1445461983, "last_edit_date": 1445462038, "question_id": 33269352, "link": "https://stackoverflow.com/questions/33269352/python-2-7-converting-standard-unix-timestamps-to-epoch-time", "title": "Python 2.7 Converting standard unix timestamps to epoch time", "body": "<p>I am trying to convert a time stamp of the format <em>20151021|133102[-0400/1]</em> into an epoch time.  </p>\n\n<p>I want the code to run regardless of the native timezone of the machine it is running on, and be DST aware so the code will run over the switch to/from DST. I need the code to run under Python 2.7.x (ideally using only standard library modules so the code is portable.)</p>\n\n<p>After wasting the afternoon googling, the best I have been able to do is:</p>\n\n<pre><code>time.mktime(time.strptime('20151021|133102','%Y%m%d|%H%M%S'))`\n</code></pre>\n\n<p>which does not allow me to incorporate either the offset, or the daylight savings flag.  </p>\n\n<p>I also tried the following:</p>\n\n<pre><code>time.mktime(time.strptime('20151021|133102-4000','%Y%m%d|%H%M%S%z'))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/lib/python2.7/_strptime.py\", line 467, in _strptime_time\n    return _strptime(data_string, format)[0]\n  File \"/usr/lib/python2.7/_strptime.py\", line 317, in _strptime\n(bad_directive, format))\nValueError: 'z' is a bad directive in format '%Y%m%d|%H%M%S%z'\n</code></pre>\n\n<p>but it seems that strptime does not allow the offset.  </p>\n\n<p>strptime does support: </p>\n\n<pre><code>time.mktime(time.strptime('20151021|133102EDT','%Y%m%d|%H%M%S%Z'))\n</code></pre>\n\n<p>but this means that I need to somehow convert the offset into a timezone abbreviation which seems sort of stupid--and might create an error depending on where the code is run. </p>\n\n<p>I can't believe this isn't more straight forward given routine this problem should be.  Any assistance would be much appreciated.</p>\n"}, {"tags": ["python", "matplotlib", "imshow", "astropy"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1445552506, "post_id": 33269328, "comment_id": 54383782, "body": "Is there anything more to that warning?  Seems odd that it would be so unspecific.  It sounds like maybe there&#39;s something wrong with your matplotlib and/or IPython configuration.  Instead of calling <code>plt.show()</code> what happens if you call <code>plt.savefig(&#39;img.png&#39;)</code> and write the image out to a PNG, then open that?  From the code sample you gave above there&#39;s nothing wrong or unusual about anything you&#39;re doing."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1445552729, "post_id": 33269328, "comment_id": 54383860, "body": "In particular, this <i>probably</i> has nothing to do with astropy.  You can rule this out by just doing something like <code>plt.imshow(numpy.arange(10000).reshape(100, 100)); plt.show()</code>.  Should give you a rainbow.  If the image simply isn&#39;t displaying there&#39;s probably something wrong with communication between IPython and matplotlib on your system."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1445575663, "post_id": 33269328, "comment_id": 54389553, "body": "Is there any chance you can make the FITS image available, so other people can try and see if they can recreate the problem?"}, {"owner": {"reputation": 313, "user_id": 5473359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7eb085bfaeef832c44dba9d0e345d1?s=128&d=identicon&r=PG&f=1", "display_name": "BlackyTheCat", "link": "https://stackoverflow.com/users/5473359/blackythecat"}, "edited": false, "score": 0, "creation_date": 1445847516, "post_id": 33269328, "comment_id": 54478103, "body": "After the formatting error, I sometimes get a &quot;matplot.figure() at...&quot;and then some numbers. If I use savefig I get a memory error. I have over 4 Gb available though (8 in total, but 4 should not be in use). Could the application use more than 4 Gb? The rainbow color picture display works, so I think it might be that the file actually uses up more than 4 Gb."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7316067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wfcGq.jpg?s=128&g=1", "display_name": "erltoichi", "link": "https://stackoverflow.com/users/7316067/erltoichi"}, "is_accepted": false, "score": 0, "last_activity_date": 1482933767, "creation_date": 1482933767, "answer_id": 41363669, "question_id": 33269328, "link": "https://stackoverflow.com/questions/33269328/imshow-doesnt-display-image-when-used-with-astropy/41363669#41363669", "title": "Imshow doesn&#39;t display image when used with astropy", "body": "<p>Maybe too late to be a useful solution for you, but mayb someone else can profit.\nI recently ran into the same issue on Ubuntu 16.04, python 3.5 and Astropy 1.1.1 using the sample code from the astropy website (first and last line added by me), which is:</p>\n\n<pre><code>#!/usr/bin/python3\nimport matplotlib.pyplot as plt\nfrom astropy.wcs import WCS\nfrom astropy.io import fits\nfrom astropy.utils.data import get_pkg_data_filename\n\nfilename = get_pkg_data_filename('galactic_center/gc_msx_e.fits')\n\nhdu = fits.open(filename)[0]\nwcs = WCS(hdu.header)\nplt.subplot(projection=wcs)\nplt.imshow(hdu.data, vmin=-2.e-5, vmax=2.e-4, origin='lower')\nplt.grid(color='white', ls='solid')\nplt.xlabel('Galactic Longitude')\nplt.ylabel('Galactic Latitude')\nplt.show()\n</code></pre>\n\n<p>It did open the figure window, but did not display any image data. \nUpdating the astropy version to 1.3 (which also updated numpy to 1.11.3) fixed the issue. Now it works fine.</p>\n"}], "owner": {"reputation": 313, "user_id": 5473359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7eb085bfaeef832c44dba9d0e345d1?s=128&d=identicon&r=PG&f=1", "display_name": "BlackyTheCat", "link": "https://stackoverflow.com/users/5473359/blackythecat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1024, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483238245, "creation_date": 1445461863, "last_edit_date": 1483238245, "question_id": 33269328, "link": "https://stackoverflow.com/questions/33269328/imshow-doesnt-display-image-when-used-with-astropy", "title": "Imshow doesn&#39;t display image when used with astropy", "body": "<p>I am running into a problem viewing images with astropy. Here is my code:</p>\n\n<pre><code>from astropy.io import fits\nimport matplotlib.pyplot as plt\nhdu_list=fits.open(\"500m2deep.fit\")\nimage_data=hdu_list[0].data\nhdu_list.close()\nplt.imshow(image_data,cmap='gray')\nplt.show()\n</code></pre>\n\n<p>Opening the file works fine, I can display the entries of <code>image_data</code> and alike. But the picture doesn't show if I use <code>imshow</code>. It displays the following error:</p>\n\n<blockquote>\n  <p>C:\\Python27\\lib\\site-packages\\IPython\\core\\formatters.py:239: FormatterWarning: Exception in image/png formatter: \n    FormatterWarning,\n  </p>\n</blockquote>\n\n<p>If I use, as suggested on some sites, <code>%matplotlib</code> inline, or something similar, this error disappears, but no image shows at all, the program runs, terminates, no picture pops up. I also tried adding something like <code>plt.figure(</code>) before <code>imshow()</code> but that doesn't help either. </p>\n\n<p>This happens if I use Spyder, Ipython, or Ipython Notebook.  I am using the newest version of python(x,y) for all of this.</p>\n\n<p>How can I display the pictures?</p>\n"}, {"tags": ["python", "multithreading"], "answers": [{"tags": [], "owner": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "is_accepted": false, "score": 0, "last_activity_date": 1445462214, "creation_date": 1445462214, "answer_id": 33269406, "question_id": 33269247, "link": "https://stackoverflow.com/questions/33269247/thread-wait-communication/33269406#33269406", "title": "Thread wait communication", "body": "<p>The main problem seems to be here:</p>\n\n<pre><code>threading.Thread(name = \"block\", target=plugin.run(e)).start()\n</code></pre>\n\n<p><code>plugin.run(e)</code> will directly call the run method of the plugin and block, therefore deadlocking your program. This probably should be:</p>\n\n<pre><code>threading.Thread(name = \"block\", target=plugin.run, args=(e,)).start()\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 5248736, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b7f6b031e1bb0cba1f9f81ce6398358f?s=128&d=identicon&r=PG&f=1", "display_name": "HighonH", "link": "https://stackoverflow.com/users/5248736/highonh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445462214, "creation_date": 1445461526, "last_edit_date": 1445461626, "question_id": 33269247, "link": "https://stackoverflow.com/questions/33269247/thread-wait-communication", "title": "Thread wait communication", "body": "<p>I have a python script which calls plugins on a separate thread. The plugins must execute some commands and wait for a signal from the main script before they can proceed. </p>\n\n<p>I used wait() in the plugin and set and clear in the calling script but I guess that once the plugin thread is called the main script waits for the thread to complete before continuing. Thus the set and wait are never called and the program hangs.  I have attached a simplified version of code. </p>\n\n<pre><code> #!/usr/bin/python\n\nimport threading, os, sys, re, imp\n\ne = threading.Event()\n\nclass PluginLoader():\n\n#    atexit.register(detective.terminate())\n    ## getPlugins - Locate all plugins with plugin directory\n    #  @param self          Class object pointer\n    #  @param moduleName    Name of module\n\n    def getPlugins(self, moduleName):        \n        try: \n            # Folder in which the plugins are stored\n            self.pluginFolder = \"/tmp/plugins\"\n\n            # Give the value of the main module in json file. (This is the name omitting the .py extension)\n            self.mainModule = moduleName[0].strip(\" \")\n\n            # Load plugin array \n            plugins = []\n            possibleplugins = os.listdir(self.pluginFolder)        \n\n            # Iterate over plugins to determine applicable plugin\n            for i in possibleplugins:              \n                location=os.path.join(self.pluginFolder, i)\n\n                # Skip if not directory or plugin not in directory\n                if not os.path.isdir(location) or not self.mainModule + \".py\" in os.listdir(location): \n                    continue\n\n                # Otherwise, find the module\n                info = imp.find_module(self.mainModule, [location])        \n                plugins.append({\"name\": i, \"info\": info})    \n\n            return plugins            \n        except OSError:\n            print \"File or folder  not found\"            \n\n\n    ## loadPlugin - Load plugin into script\n    #  @param self      Class object pointer\n    #  @param plugin    Plugin object pointer\n    #  @return Plugin object\n\n    def loadPlugin(self, plugin):\n        return imp.load_module(self.mainModule, *plugin[\"info\"])\n\n\nclass Threads:\n\n    def run(self):\n        self.tuck()\n        raw_input(\"press entr\")            \n        e.set()\n\n    def tuck(self):\n        moduleName= [\"hello\"]\n        for i in pluginLoader.getPlugins(moduleName):\n            plugin = pluginLoader.loadPlugin(i)            \n            threading.Thread(name = \"block\", target=plugin.run(e)).start() \n            e.set()\n            e.clear()       \n\npluginLoader=PluginLoader()    \nt= Threads()\nt.run()            \n</code></pre>\n\n<p>the following script must be copied into a /tmp/plugins directory and named hello.py</p>\n\n<pre><code>#!/usr/bin/python\n\nfrom thre import *\n\nclass wait:\n    flag = \"\"\n    def run(self,e):\n        self.flag = e\n        print \"in main thread\"\n        self.prints(e)\n        e.wait()\n        threading.Thread(target=self.prints12).start() \n\n    def prints(self,e):\n        for i in xrange(10):\n            print \"world\"\n\n    def prints12(self):\n        for i in xrange(10):\n            print \"Hey\"\n\n\nw = wait()\n\ndef run (e)            :\n    w.run(e)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "prime-factoring"], "comments": [{"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1445461605, "post_id": 33269193, "comment_id": 54339568, "body": "You might find this interesting: <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"nofollow noreferrer\">Sieve of Erastosthenes</a>."}, {"owner": {"reputation": 482, "user_id": 3148185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed373bc90497a8da7feb326541f291f?s=128&d=identicon&r=PG&f=1", "display_name": "user3148185", "link": "https://stackoverflow.com/users/3148185/user3148185"}, "edited": false, "score": 0, "creation_date": 1445462157, "post_id": 33269193, "comment_id": 54339843, "body": "You might want to consider starting your loop back at 2. The current for loop will not work for factoring smoothing like 8 = 2 * 2 * 2"}, {"owner": {"reputation": 806, "user_id": 5402249, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-g-9VJ8L0HoQ/AAAAAAAAAAI/AAAAAAAAABc/TCQXMP4ByKw/photo.jpg?sz=128", "display_name": "Kyle", "link": "https://stackoverflow.com/users/5402249/kyle"}, "edited": false, "score": 0, "creation_date": 1445462298, "post_id": 33269193, "comment_id": 54339913, "body": "Just divide out the factor you find. If you find x is a factor of n, then n divided by x will still have all other prime factors but not x (unless x divides it more than once)."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1445462861, "post_id": 33269193, "comment_id": 54340225, "body": "You can make that range smaller by going up to only the square root of the number. So it will be <code>divisors = [2] + [ d for d in xrange(3,int(n**2+1), 2) if n % d == 0 ]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 15340, "user_id": 1560035, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fe3aa4a1766a44d8f27db8a95cb573ed?s=128&d=identicon&r=PG", "display_name": "TheoretiCAL", "link": "https://stackoverflow.com/users/1560035/theoretical"}, "is_accepted": false, "score": 1, "last_activity_date": 1445462378, "creation_date": 1445462378, "answer_id": 33269458, "question_id": 33269193, "link": "https://stackoverflow.com/questions/33269193/python-find-prime-factors/33269458#33269458", "title": "Python find Prime Factors", "body": "<p>Divisors gets all of the possible divisors, same as you have done in your code. The value returned by </p>\n\n<pre><code>[ d for d in divisors if \\\n         all( d % od != 0 for od in divisors if od != d ) ]\n</code></pre>\n\n<p>Keeps a divisor <code>d</code> if for all other possible divisors <code>d</code> is not divisible by any other divisor. <code>all</code> returns true if all values passed to it are true, and the expression inside <code>all</code> simply checks if a given divisor <code>d</code> is not a divisor of any other divisor <code>od</code> in your list. In this way the final list of values returned only includes the divisors that are not a multiple of the factors already present.</p>\n"}, {"tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": false, "score": 0, "last_activity_date": 1445464011, "creation_date": 1445464011, "answer_id": 33269846, "question_id": 33269193, "link": "https://stackoverflow.com/questions/33269193/python-find-prime-factors/33269846#33269846", "title": "Python find Prime Factors", "body": "<pre><code>def primes(n):\n    divisors = [ d for d in range(2,n//2+1) if n % d == 0 ]\n    return [ d for d in divisors if \\\n         all( d % od != 0 for od in divisors if od != d ) ]\n</code></pre>\n\n<p>Use an example, say n = 12\ndivisors will be the following list [2, 3, 4, 6]</p>\n\n<p>Now the <code>return</code> part is a bit tricky and for good reason, one shouldn't be abusing list comprehension in such a way.</p>\n\n<p>So lets turn this part into an actual loop:</p>\n\n<pre><code>ans = []\nfor d in divisors:\n    for od in divisors:\n        if od != d:\n            if d % od == 0:\n                break\n    else: ans.append(d)\nreturn ans\n</code></pre>\n\n<p><strong>Yes the else is in the right spot</strong></p>\n\n<p>Continuing with the example, what this part does is to search through the list of divisors and to see if any of them is divisible by any of the others. If this is so, we ignore that one, otherwise we keep it.</p>\n\n<p>The end result is a list of prime factors.</p>\n\n<hr>\n\n<p>I also mentioned in my comment that the divisors list can also be generated using:</p>\n\n<pre><code>divisors = [2] + [ d for d in xrange(3,int(n**2+1), 2) if n % d == 0]\n</code></pre>\n\n<p>This method is useful because it avoids including even numbers except 2, which is the only even prime. Also the size of divisors is smaller because we only check up to the square root of a number which is most times smaller than the number divided by 2</p>\n"}], "owner": {"reputation": 47, "user_id": 5473307, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9781ab1da0d74c884a13a8c2c88ba38f?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/5473307/student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2962, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1445464063, "creation_date": 1445461324, "last_edit_date": 1445464063, "question_id": 33269193, "link": "https://stackoverflow.com/questions/33269193/python-find-prime-factors", "title": "Python find Prime Factors", "body": "<p>So I need to find the prime factors of a number using a python program and I am able to find all the factors using:</p>\n\n<pre><code>def primeFactors(n):\n    list = []\n    for x in range(2,n//2):\n       if n % x == 0:\n           list.append(x)\nreturn list\n</code></pre>\n\n<p>But I don't understand how I'm suppose to make the program ignore factors that are a multiple of the prime factors. </p>\n\n<p>I found the following code:</p>\n\n<pre><code>def primes(n):\ndivisors = [ d for d in range(2,n//2+1) if n % d == 0 ]\nreturn [ d for d in divisors if \\\n         all( d % od != 0 for od in divisors if od != d ) ]\n</code></pre>\n\n<p>But I don't actually understand what it does, and this is for an assignment, so I can't just copy and paste.</p>\n\n<p>So I was wondering if someone could lead me in the right direction of what I'm suppose to do. Also I can't use any fancy functions it has to be done mainly using the built in stuff like loops and lists and basic math. And I'm using python 2.7 not 3.0.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 1, "creation_date": 1445461415, "post_id": 33269141, "comment_id": 54339452, "body": "Please create an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> that is runnable <i>on its own</i>, meaning all imports are included and all variables are defined. We have no idea where your functions are coming from or what your data looks like."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1445461678, "post_id": 33269141, "comment_id": 54339603, "body": "What are <code>polyfit</code>, <code>polyval</code>, and <code>plot</code>?"}, {"owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "edited": false, "score": 0, "creation_date": 1445462297, "post_id": 33269141, "comment_id": 54339911, "body": "Yes, sorry - I deserve that. I have updated to a working example."}], "answers": [{"tags": [], "owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "is_accepted": true, "score": 1, "last_activity_date": 1445465675, "last_edit_date": 1445465675, "creation_date": 1445465002, "answer_id": 33270059, "question_id": 33269141, "link": "https://stackoverflow.com/questions/33269141/intersecting-lines-in-python/33270059#33270059", "title": "Intersecting lines in Python", "body": "<p>This is a simple mathematical problem and is not really specific to Python. </p>\n\n<p>You have 2 equations and two unknowns (the ordinate, <code>xs</code> and coordinate <code>ys</code> of the point where both lines intersect).</p>\n\n<pre><code>ys = m1 * xs + b1 \nys = m2 * xs + b2\n</code></pre>\n\n<p>You can put that in matrix form, to get a system of equations, which you can then solve for easily with <code>numpy.linalg.solve</code>.</p>\n\n<p>The transformation involves reordering the terms of these equations, e.g. like this:</p>\n\n<pre><code>m1 * xs - 1 * ys = - b1\nm2 * xs - 1 * ys = - b2\n</code></pre>\n\n<p>The matrix formulation should now become apparent:</p>\n\n<pre><code>\u23a7m1 -1\u23ab   \u23a7xs\u23ab    \u23a7 -b1 \u23ab\n|     | . |  |  = |     |\n\u23a9m2 -1\u23ad   \u23a9ys\u23ad    \u23a9 -b2 \u23ad\n</code></pre>\n\n<p>This is easily solved with libraries that perform linear algebra, such as <code>numpy.linalg</code> (a subset of what you're importing).</p>\n\n<pre><code>import numpy # part of pylab but I prefer loading specific modules, not a whole blob\n# matrix form: A * X = B\nA = numpy.array([[m1, -1], [m2, -1]])\nB = numpy.array([[-b1], [-b2]])\n# notice that X is simply a column vector: array([[xs],[ ys]])\nxs,ys = numpy.linalg.solve(A,B)\n\n# final step, plot the point of intersection with e.g. a black single dot:\nplt.plot(xs, ys, 'ko ')\n</code></pre>\n\n<p>For more information on solving systems of linear equations, I suggest refreshing your knowledge by reading any basic maths book. <a href=\"https://en.wikipedia.org/wiki/System_of_linear_equations\" rel=\"nofollow\">A primer</a> is also given on wikipedia, of course.</p>\n"}], "owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 33270059, "answer_count": 1, "score": -3, "last_activity_date": 1445467060, "creation_date": 1445461211, "last_edit_date": 1445467060, "question_id": 33269141, "link": "https://stackoverflow.com/questions/33269141/intersecting-lines-in-python", "title": "Intersecting lines in Python", "body": "<pre><code>from pylab import polyfit, polyval, plot, grid, xlabel, ylabel, show\n\nx1 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\ny1 = [2, 3, 1, 5, 4, 3, 2, 4, 5, 9]\nx2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\ny2 = [8, 7, 8, 5, 4, 3, 4, 3, 2, 1]\n\nm1, b1 = polyfit(x1, y1, 1)\nyp1 = polyval([m1, b1], x1)\nplot(x1, yp1)\n\nm2, b2 = polyfit(x2, y2, 1)\nyp2 = polyval([m2, b2], x2)\nplot(x2, yp2)\n\nplot(x1, yp1)\nplot(x2, yp2)\ngrid(True)\nxlabel('x')\nylabel('y')\nshow()\n</code></pre>\n\n<p>I am trying to do two linear fits for some data on the same graph with the above code. The lines of best fit happen to intersect and I am interested in that intersection point. How can I get that point from python and then plot it on the graph? </p>\n\n<p>In other words I want to put a big fat circle where <code>yp1</code> and <code>yp2</code> intersect and print that value.</p>\n"}, {"tags": ["python", "json", "dictionary"], "comments": [{"owner": {"reputation": 576, "user_id": 3736354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ATOom.jpg?s=128&g=1", "display_name": "Steve Zelaznik", "link": "https://stackoverflow.com/users/3736354/steve-zelaznik"}, "edited": false, "score": 0, "creation_date": 1445461257, "post_id": 33269105, "comment_id": 54339364, "body": "Can you give us a copy of the original dictionary from which you&#39;re creating the JSON file? Then I might be able to help you more."}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 1, "last_activity_date": 1445461250, "creation_date": 1445461250, "answer_id": 33269157, "question_id": 33269105, "link": "https://stackoverflow.com/questions/33269105/iterate-over-a-dictionary-to-create-a-single-json/33269157#33269157", "title": "iterate over a dictionary to create a single json", "body": "<p>Build a <em>Python object</em> containing all the parts, then convert that object to JSON. Don't concatenate different JSON objects:</p>\n\n<pre><code>def generateFieldJsonForSchema(d, query, db=\"defaultDb\", dataset=\"dataset\", tableId=\"table\"):\n    objects = []\n\n    for name, type in d.iteritems():\n        objects.append({\"name\": name, \"type\": type, \"mode\": \"NULLABLE\"})\n\n    return objects\n</code></pre>\n\n<p>The function returns a <em>Python list</em> containing dictionaries. Add other objects to that list (your header and footer), then convert that list to JSON at the last possible moment:</p>\n\n<pre><code>fields = generateFieldJsonForSchema(input_dictionary, query)\nfinal_results = [header_object] + fields + [footer_object]\njson_result = json.dumps(final_results)\n</code></pre>\n"}], "owner": {"reputation": 879, "user_id": 1873403, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/665435b01862e900d658687a0b516ab2?s=128&d=identicon&r=PG", "display_name": "Brad Davis", "link": "https://stackoverflow.com/users/1873403/brad-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1180, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445461250, "creation_date": 1445461074, "last_edit_date": 1445461160, "question_id": 33269105, "link": "https://stackoverflow.com/questions/33269105/iterate-over-a-dictionary-to-create-a-single-json", "title": "iterate over a dictionary to create a single json", "body": "<p>I'm trying to generate the resource representation for the bigquery API to insert a new table(/view) into one of our databases.  My overall approach to doing this was to create the header of the json (everything prior to the schema elements, i.e. things that don't need to be iterated over), the footer of the json (everything after the schema elements), and the middle part of the json.  So my overall question is how do I combine a bunch of individual JSONs together to create a single JSON? (e.g. output json = headerJson + bodyJson + footerJson)</p>\n\n<p>And as a sub-question within that, how do I create the body section of the json.  My approach was to iterate over the list of items in the dict, use the key and value in the dict to populate the json, and then append each of these individual elements into a dictionary that I could then convert into a string. </p>\n\n<p>e.g.</p>\n\n<pre><code>def generateFieldJsonForSchema(d, query, db=\"defaultDb\", dataset=\"dataset\", tableId=\"table\"):\n    jsonDict=[]\n\n    for name, type in d.iteritems():\n\n        jsonDict.append(str(json.dumps({\"name\":name, \"type\":type, \"mode\":\"NULLABLE\"})))\n\n    return jsonDict\n</code></pre>\n\n<p>However when I do this and try to convert the resulting output back into a string and then dump it back into a json (e.g. json.dumps(str(','.join(outputtedJson))) ), I get each of the elements in the json double escaped.  So I understand (or maybe I don't...) that you get that result when you try to dump a json that's already a json, but in this case I have a list of individual jsons, instead of a single json.</p>\n\n<p>Unless a list of jsons is a json.  Sorry if I'm a moron.</p>\n"}, {"tags": ["python", "pandas", "merge"], "comments": [{"owner": {"reputation": 6217, "user_id": 1257953, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/afb18b489df58f20beabaa5dc268a8cb?s=128&d=identicon&r=PG", "display_name": "nitin", "link": "https://stackoverflow.com/users/1257953/nitin"}, "edited": false, "score": 0, "creation_date": 1445462426, "post_id": 33269089, "comment_id": 54339985, "body": "In the example you are showing, it seems that you want to eliminate rows with partial matches. Is that correct?"}, {"owner": {"reputation": 3022, "user_id": 3128336, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da43d8bffd22132c457e8ac6e55322b6?s=128&d=identicon&r=PG&f=1", "display_name": "E.K.", "link": "https://stackoverflow.com/users/3128336/e-k"}, "reply_to_user": {"reputation": 6217, "user_id": 1257953, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/afb18b489df58f20beabaa5dc268a8cb?s=128&d=identicon&r=PG", "display_name": "nitin", "link": "https://stackoverflow.com/users/1257953/nitin"}, "edited": false, "score": 0, "creation_date": 1445462485, "post_id": 33269089, "comment_id": 54340010, "body": "yes that is exactly correct"}], "answers": [{"tags": [], "owner": {"reputation": 3124, "user_id": 2861681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/E130t.png?s=128&g=1", "display_name": "vmg", "link": "https://stackoverflow.com/users/2861681/vmg"}, "is_accepted": true, "score": 1, "last_activity_date": 1445462608, "last_edit_date": 1495540922, "creation_date": 1445462608, "answer_id": 33269511, "question_id": 33269089, "link": "https://stackoverflow.com/questions/33269089/eliminate-pandas-dataframe-rows-with-partial-matches/33269511#33269511", "title": "Eliminate pandas dataframe rows with partial matches", "body": "<p>Based on <a href=\"https://stackoverflow.com/questions/20225110/comparing-two-dataframes-and-getting-the-differences\">this approach</a>:</p>\n\n<pre><code>import pandas as pd\n\ndf1 = pd.DataFrame([[1,11, 111], [2,22, 222], [3, 33, 333]], columns=['A', 'B', 'C'])\ndf2 = pd.DataFrame([[1, 11]], columns=['A', 'B'])\n</code></pre>\n\n<p>Concatenate the dataframes:</p>\n\n<pre><code>df = pd.concat([df1, df2])\ndf.reset_index(drop=True)\n</code></pre>\n\n<p>Groupby your desired comparison columns - in your case, <code>A</code> and <code>B</code>:</p>\n\n<pre><code>df_gpby = df.groupby(['A','B'])\n</code></pre>\n\n<p>Get the indexes for the groups with only one value - i.e. unique <code>A</code>,<code>B</code> pairs:</p>\n\n<pre><code>idx = [x[0] for x in df_gpby.groups.values() if len(x) == 1]\n</code></pre>\n\n<p>Subset the concatenated dataframe by the indexes:</p>\n\n<pre><code>df.iloc[idx]\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>    A   B   C\n1   2   22  222\n2   3   33  333\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23077, "user_id": 492620, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23e8d9c545b0a9d603765abaadc3f499?s=128&d=identicon&r=PG", "display_name": "oz123", "link": "https://stackoverflow.com/users/492620/oz123"}, "is_accepted": false, "score": 1, "last_activity_date": 1445463893, "last_edit_date": 1445463893, "creation_date": 1445463527, "answer_id": 33269736, "question_id": 33269089, "link": "https://stackoverflow.com/questions/33269089/eliminate-pandas-dataframe-rows-with-partial-matches/33269736#33269736", "title": "Eliminate pandas dataframe rows with partial matches", "body": "<p>While vmg's solution is neat, it requires you to know which columns you need to group by. A more generic approach is this:</p>\n\n<p>First subtract one data frame from another:</p>\n\n<pre><code>In [46]: df3 = df1.subtract(df2)\n\nIn [47]: df3\nOut[47]: \n    A   B   C\n0   0   0 NaN\n1 NaN NaN NaN\n2 NaN NaN NaN\n</code></pre>\n\n<p>You see that the interesting rows, are those who don't exist in <code>df2</code>, so they are all NaN. Using numpy method you can find those rows:</p>\n\n<pre><code>In [50]: np.isnan(df3.iloc[0])\nOut[50]: \nA    False\nB    False\nC     True\nName: 0, dtype: bool\n\nIn [51]: np.isnan(df3.iloc[1])\nOut[51]: \nA    True\nB    True\nC    True\nName: 1, dtype: bool\n</code></pre>\n\n<p>Now, that you know how to locate those rows, you can do a crazy one liner:</p>\n\n<pre><code>In [52]: df1.iloc[[idx for idx, row in df3.iterrows() if \n                  all(np.isnan(df3.iloc[idx]))]]\nOut[52]: \n   A   B    C\n1  2  22  222\n2  3  33  333\n</code></pre>\n\n<h3>update, let's add a generic function</h3>\n\n<pre><code>def substract_dataframe(df1, df2):\n    for i in [df1, df2]:\n        if not isinstance(i, pd.DataFrame):\n            raise ValueError((\"Wrong argument given! \n                             All arguments must be DataFrame instances\"))\n    df = df1.subtract(df2)\n    return df1.iloc[[idx for idx, row in df.iterrows() if      \n                    all(np.isnan(df.iloc[idx]))]]\n</code></pre>\n\n<p>testing ... </p>\n\n<pre><code>In [54]: substract_dataframe(df1, df2)\nOut[54]: \n   A   B    C\n1  2  22  222\n2  3  33  333\n\nIn [55]: substract_dataframe(df1, 'sdf')\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-55-6ce801e88ce4&gt; in &lt;module&gt;()\n----&gt; 1 substract_dataframe(df1, 'sdf')\n\n&lt;ipython-input-53-e5d7db966311&gt; in substract_dataframe(df1, df2)\n      2     for i in [df1, df2]:\n      3         if not isinstance(i, pd.DataFrame):\n----&gt; 4             raise ValueError(\"Wrong argument given! All arguments must be DataFrame instances\")\n      5     df = df1.subtract(df2)\n      6     return df1.iloc[[idx for idx, row in df.iterrows() if all(np.isnan(df.iloc[idx]))]]\n\nValueError: Wrong argument given! All arguments must be DataFrame instances\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 58812, "user_id": 2137255, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zzmt4.png?s=128&g=1", "display_name": "Zero", "link": "https://stackoverflow.com/users/2137255/zero"}, "is_accepted": false, "score": 1, "last_activity_date": 1508253017, "creation_date": 1508253017, "answer_id": 46793460, "question_id": 33269089, "link": "https://stackoverflow.com/questions/33269089/eliminate-pandas-dataframe-rows-with-partial-matches/46793460#46793460", "title": "Eliminate pandas dataframe rows with partial matches", "body": "<p>Use <code>merge</code> with <code>indicator</code>, was added in <code>0.17.0</code> version</p>\n\n<pre><code>In [3544]: df1.merge(df2, how='left', indicator='_b').query('_b != \"both\"').drop('_b', 1)\nOut[3544]:\n   A   B    C\n1  2  22  222\n2  3  33  333\n</code></pre>\n\n<p>Details</p>\n\n<pre><code>In [3545]: df1.merge(df2, how='left', indicator='_b')\nOut[3545]:\n   A   B    C         _b\n0  1  11  111       both\n1  2  22  222  left_only\n2  3  33  333  left_only\n\nIn [3546]: df1.merge(df2, how='left', indicator='_b').query('_b != \"both\"')\nOut[3546]:\n   A   B    C         _b\n1  2  22  222  left_only\n2  3  33  333  left_only\n</code></pre>\n"}], "owner": {"reputation": 3022, "user_id": 3128336, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da43d8bffd22132c457e8ac6e55322b6?s=128&d=identicon&r=PG&f=1", "display_name": "E.K.", "link": "https://stackoverflow.com/users/3128336/e-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 1, "accepted_answer_id": 33269511, "answer_count": 3, "score": 5, "last_activity_date": 1508253017, "creation_date": 1445461028, "last_edit_date": 1445462718, "question_id": 33269089, "link": "https://stackoverflow.com/questions/33269089/eliminate-pandas-dataframe-rows-with-partial-matches", "title": "Eliminate pandas dataframe rows with partial matches", "body": "<p>I want to compare two pandas dataframes and find out the rows that are only in df1, by comparing the values in column A and B. I feel like I could somehow perform this by using merge but cannot figure out..</p>\n\n<pre><code>import pandas as pd\n\ndf1 = pd.DataFrame([[1,11, 111], [2,22, 222], [3, 33, 333]], columns=['A', 'B', 'C'])\ndf2 = pd.DataFrame([[1, 11]], columns=['A', 'B'])\n</code></pre>\n\n<p>df1</p>\n\n<pre><code>    A   B   C\n0   1   11  111\n1   2   22  222\n2   3   33  333\n</code></pre>\n\n<p>df2</p>\n\n<pre><code>    A   B\n0   1   11\n</code></pre>\n\n<p>Dataframe I want to see</p>\n\n<pre><code>    A   B   C\n1   2   22  222\n2   3   33  333\n</code></pre>\n"}, {"tags": ["python", "sorting", "dictionary"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1445461098, "post_id": 33269060, "comment_id": 54339284, "body": "I don&#39;t know what your &#39;matrix&#39; is other than that it&#39;s some ordered data structure to take you at your word, but if you loop over <code>[&#39;b&#39;, &#39;c&#39;, &#39;a&#39;]</code> (normal <code>for</code>) and add to your matrix in that order, mission accomplished presumably."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1445461110, "post_id": 33269060, "comment_id": 54339290, "body": "<code>[d[key] for key in [&#39;b&#39;, &#39;c&#39;, &#39;a&#39;]]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 997, "user_id": 2085282, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7f3c60909c612ccd978a2e381c4ac45?s=128&d=identicon&r=PG", "display_name": "user2085282", "link": "https://stackoverflow.com/users/2085282/user2085282"}, "is_accepted": false, "score": 1, "last_activity_date": 1445461171, "creation_date": 1445461171, "answer_id": 33269130, "question_id": 33269060, "link": "https://stackoverflow.com/questions/33269060/sorting-data-pulled-from-python-dictionary-by-key/33269130#33269130", "title": "Sorting data pulled from python dictionary by key", "body": "<p>I'm not sure what you are doing with that comprehension, but consider:</p>\n\n<pre><code>In [1]: dict = {'a': 1, 'b': 2, 'c': 3 } \n\nIn [2]: keys = ['b', 'c', 'a']\n\nIn [3]: [dict[key] for key in keys]\nOut[3]: [2, 3, 1]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1445461448, "post_id": 33269160, "comment_id": 54339479, "body": "I think list comprehensions are more efficient (and of course clearer), e.g. <code>[d[k] for k in keys]</code>"}, {"owner": {"reputation": 661, "user_id": 2258040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N2um3.jpg?s=128&g=1", "display_name": "Almog", "link": "https://stackoverflow.com/users/2258040/almog"}, "reply_to_user": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1445461727, "post_id": 33269160, "comment_id": 54339633, "body": "Actually I think @TomKarzes is right: <a href=\"http://stackoverflow.com/questions/1247486/python-list-comprehension-vs-map\" title=\"python list comprehension vs map\">stackoverflow.com/questions/1247486/&hellip;</a> but only because my answer has a lambda in it :)"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "reply_to_user": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "edited": false, "score": 0, "creation_date": 1445461769, "post_id": 33269160, "comment_id": 54339654, "body": "@LetzerWille I&#39;m highly skeptical at least in the general case. Comprehensions are built-in syntax and can be optimized by the &#39;compiler&#39;. The map there at least is less efficient if only because it has to create an anonymous function."}], "tags": [], "owner": {"reputation": 661, "user_id": 2258040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N2um3.jpg?s=128&g=1", "display_name": "Almog", "link": "https://stackoverflow.com/users/2258040/almog"}, "is_accepted": false, "score": 1, "last_activity_date": 1445461266, "creation_date": 1445461266, "answer_id": 33269160, "question_id": 33269060, "link": "https://stackoverflow.com/questions/33269060/sorting-data-pulled-from-python-dictionary-by-key/33269160#33269160", "title": "Sorting data pulled from python dictionary by key", "body": "<p>I'm a big fan of python's functional abilities. Here would be one cool way to use them:</p>\n\n<pre><code>d = {'a': 1, 'b': 2, 'c': 3 }\nprint map(lambda x: d[x], ['b', 'c', 'a'])\n</code></pre>\n\n<p>This should give you your solution. What it does is takes each element of the array that you wanted and maps it to the corresponding value in the dictionary. (Basically it does what you mentioned in a functional manner)</p>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 91, "user_id": 4142251, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/147f01c6d73554a5e2856aa48c39262d?s=128&d=identicon&r=PG&f=1", "display_name": "Felipe Rios", "link": "https://stackoverflow.com/users/4142251/felipe-rios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1445461266, "creation_date": 1445460920, "last_edit_date": 1445461159, "question_id": 33269060, "link": "https://stackoverflow.com/questions/33269060/sorting-data-pulled-from-python-dictionary-by-key", "title": "Sorting data pulled from python dictionary by key", "body": "<p>I'm trying to build a matrix that will contains the values from a dictionary, I know dictionaries are unordered but I'd like to sort the values in the matrix (which can be sorted) in a certain order based off the key names in the dictionary.</p>\n\n<p>Let's say I have a dictionary like so:</p>\n\n<pre><code>{'a': 1, 'b': 2, 'c': 3 } \n</code></pre>\n\n<p>And a list with the key names in the order that I'd like the data from the matrix to be arranged:</p>\n\n<pre><code>['b', 'c'. 'a']\n</code></pre>\n\n<p>How can I use the list above to sort the values from the dictonary in a way that gives me a list like so:</p>\n\n<pre><code>[2, 3, 1]\n</code></pre>\n\n<p>Without explicitly mentioning each key during list comprehension, like so:</p>\n\n<pre><code>data = [ data['b'], data['c'], data['a'] for data in dict ] \n</code></pre>\n\n<p>The dictionary that I'm pulling data from has many keys and I'd rather not use the above method to pull 10-15 data points from this dictionary.</p>\n"}, {"tags": ["python", "windows", "anaconda"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1445467410, "post_id": 33269040, "comment_id": 54342140, "body": "<a href=\"http://www.howtogeek.com/118594/how-to-edit-your-system-path-for-easy-command-line-access/\" rel=\"nofollow noreferrer\">howtogeek.com/118594/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1235, "user_id": 3210363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2220cfcaca8f6f7a8df26242062941d?s=128&d=identicon&r=PG&f=1", "display_name": "faph", "link": "https://stackoverflow.com/users/3210363/faph"}, "is_accepted": false, "score": 0, "last_activity_date": 1445472434, "creation_date": 1445472434, "answer_id": 33271313, "question_id": 33269040, "link": "https://stackoverflow.com/questions/33269040/run-python-and-anaconda-python-in-cmd/33271313#33271313", "title": "Run python and anaconda python in cmd", "body": "<p>Forget about your non-Anaconda Python. With (Ana)conda you can very easily manage multiple full blown isolated Python environments. Then you can switch between them by \"activating\" them, see <a href=\"http://conda.pydata.org/docs/using/envs.html#change-environments-activate-deactivate\" rel=\"nofollow\">http://conda.pydata.org/docs/using/envs.html#change-environments-activate-deactivate</a>. It's like the clever way of @R-Nar's comment.</p>\n"}], "owner": {"reputation": 3286, "user_id": 3604473, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/fa8dd78a6ea77dda19be0c93f095ec6c?s=128&d=identicon&r=PG&f=1", "display_name": "blaz", "link": "https://stackoverflow.com/users/3604473/blaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2427, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445472434, "creation_date": 1445460849, "last_edit_date": 1445461215, "question_id": 33269040, "link": "https://stackoverflow.com/questions/33269040/run-python-and-anaconda-python-in-cmd", "title": "Run python and anaconda python in cmd", "body": "<p>On Windows I have two Python distributions installed:</p>\n\n<ul>\n<li>Anaconda Python 3.4 and</li>\n<li>Python 3.4.</li>\n</ul>\n\n<p>I would like to access both distributions from command prompt (cmd), in example,<code>anaconda34</code> for Anaconda Python 3.4 and <code>python34</code> for Python 3.4. Similarilly I would like to access the other features, such as <code>pip</code>, <code>ipython</code>, <code>jupyter notebook</code> with one or the other version.  How can I do this?</p>\n"}, {"tags": ["python", "string", "python-3.x", "base64", "data-uri"], "answers": [{"tags": [], "owner": {"reputation": 1158, "user_id": 5394981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc5b4002ea2221d26b83f57a432d6005?s=128&d=identicon&r=PG&f=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/5394981/victor"}, "is_accepted": false, "score": 12, "last_activity_date": 1445460952, "creation_date": 1445460952, "answer_id": 33269067, "question_id": 33269020, "link": "https://stackoverflow.com/questions/33269020/convert-byte-string-to-base64-encoded-string-output-not-being-a-byte-string/33269067#33269067", "title": "Convert byte string to base64-encoded string (output not being a byte string)", "body": "<p>Try</p>\n\n<pre><code>data = b'foo'.decode('UTF-8')\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>data = b'foo'\n</code></pre>\n\n<p>to convert it into a string.</p>\n"}, {"comments": [{"owner": {"reputation": 17256, "user_id": 1256925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/646644baccac238abb95408cf4ca25de?s=128&d=identicon&r=PG", "display_name": "Joeytje50", "link": "https://stackoverflow.com/users/1256925/joeytje50"}, "edited": false, "score": 0, "creation_date": 1606171346, "post_id": 64936559, "comment_id": 114876601, "body": "I just tried the accepted answer in python 3.6 and it does appear to still work there. Any idea why there would be breaking changes between these two minor versions? Minor version updates shouldn&#39;t have breaking changes, so I&#39;m curious to see. Could you test the accepted answer in python3.6 as well, to see if you can reproduce the error there?"}, {"owner": {"reputation": 116, "user_id": 13773246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238424b877f78288ccfdf529550565a2?s=128&d=identicon&r=PG&f=1", "display_name": "jmou", "link": "https://stackoverflow.com/users/13773246/jmou"}, "reply_to_user": {"reputation": 17256, "user_id": 1256925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/646644baccac238abb95408cf4ca25de?s=128&d=identicon&r=PG", "display_name": "Joeytje50", "link": "https://stackoverflow.com/users/1256925/joeytje50"}, "edited": false, "score": 0, "creation_date": 1606260170, "post_id": 64936559, "comment_id": 114909581, "body": "Python 3.6 doesn&#39;t work for me either: ``` $ docker run --rm -it python:3.6 Python 3.6.12 (default, Nov 18 2020, 14:46:32)  [GCC 8.3.0] on linux Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information. &gt;&gt;&gt; import base64 &gt;&gt;&gt; import json &gt;&gt;&gt; data = b&#39;foo&#39;.decode(&#39;UTF-8&#39;) &gt;&gt;&gt; myObj = [base64.b64encode(data)] Traceback (most recent call last):   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;   File &quot;/usr/local/lib/python3.6/base64.py&quot;, line 58, in b64encode     encoded = binascii.b2a_base64(s, newline=False) TypeError: a bytes-like object is required, not &#39;str&#39; ```"}, {"owner": {"reputation": 116, "user_id": 13773246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238424b877f78288ccfdf529550565a2?s=128&d=identicon&r=PG&f=1", "display_name": "jmou", "link": "https://stackoverflow.com/users/13773246/jmou"}, "reply_to_user": {"reputation": 17256, "user_id": 1256925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/646644baccac238abb95408cf4ca25de?s=128&d=identicon&r=PG", "display_name": "Joeytje50", "link": "https://stackoverflow.com/users/1256925/joeytje50"}, "edited": false, "score": 0, "creation_date": 1606260348, "post_id": 64936559, "comment_id": 114909649, "body": "Sorry for the poor formatting! That&#39;s just me running the commands in a Python 3.6 Docker container."}], "tags": [], "owner": {"reputation": 116, "user_id": 13773246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238424b877f78288ccfdf529550565a2?s=128&d=identicon&r=PG&f=1", "display_name": "jmou", "link": "https://stackoverflow.com/users/13773246/jmou"}, "is_accepted": true, "score": 2, "last_activity_date": 1605904590, "creation_date": 1605904590, "answer_id": 64936559, "question_id": 33269020, "link": "https://stackoverflow.com/questions/33269020/convert-byte-string-to-base64-encoded-string-output-not-being-a-byte-string/64936559#64936559", "title": "Convert byte string to base64-encoded string (output not being a byte string)", "body": "<p>What works for me is to change the <code>b64encode</code> line to:</p>\n<pre><code>myObj = [base64.b64encode(data).decode('ascii')]\n</code></pre>\n<p>This is explained in <a href=\"https://stackoverflow.com/a/42776711\">https://stackoverflow.com/a/42776711</a> :</p>\n<blockquote>\n<p>base64 has been intentionally classified as a binary transform.... It was a design decision in Python 3 to force the separation of bytes and text and prohibit implicit transformations.</p>\n</blockquote>\n<p>The accepted answer doesn't work for me (Python 3.9) and gives the error:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;/tmp/x.py&quot;, line 4, in &lt;module&gt;\n    myObj = [base64.b64encode(data)]\n  File &quot;/usr/lib64/python3.9/base64.py&quot;, line 58, in b64encode\n    encoded = binascii.b2a_base64(s, newline=False)\nTypeError: a bytes-like object is required, not 'str'\n</code></pre>\n"}], "owner": {"reputation": 17256, "user_id": 1256925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/646644baccac238abb95408cf4ca25de?s=128&d=identicon&r=PG", "display_name": "Joeytje50", "link": "https://stackoverflow.com/users/1256925/joeytje50"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15647, "favorite_count": 0, "accepted_answer_id": 64936559, "answer_count": 2, "score": 10, "last_activity_date": 1605904590, "creation_date": 1445460781, "last_edit_date": 1495541963, "question_id": 33269020, "link": "https://stackoverflow.com/questions/33269020/convert-byte-string-to-base64-encoded-string-output-not-being-a-byte-string", "title": "Convert byte string to base64-encoded string (output not being a byte string)", "body": "<p>I was wondering if it is possible to convert a byte string which I got from reading a file to a string (so <code>type(output) == str</code>). All I've found on Google so far has been answers like <a href=\"https://stackoverflow.com/q/6375942/1256925\">How do you base-64 encode a PNG image for use in a data-uri in a CSS file?</a>, which does seem like it would work in python 2 (where, if I'm not mistaken, strings were byte strings anyway), but which doesn't work in python 3.4 anymore.</p>\n\n<p>The reason I want to convert this resulting byte string to a normal string is that I want to use this base64-encoded data to store in a JSON object, but I keep getting an error similar to:</p>\n\n<pre><code>TypeError: b'Zm9v' is not JSON serializable\n</code></pre>\n\n<p>Here's a minimal example of where it goes wrong:</p>\n\n<pre><code>import base64\nimport json\ndata = b'foo'\nmyObj = [base64.b64encode(data)]\njson_str = json.dumps(myObj)\n</code></pre>\n\n<p>So my question is: is there a way to convert this object of type <code>bytes</code> to an object of type <code>str</code> while still keeping the base64-encoding (so in this example, I want the result to be <code>[\"Zm9v\"]</code>. Is this possible?</p>\n"}, {"tags": ["python", "environment", "anaconda", "conda"], "comments": [{"owner": {"reputation": 3207, "user_id": 195476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c192953d17f084a1d88ea3c3d0d072d6?s=128&d=identicon&r=PG", "display_name": "Wolfgang Ulmer", "link": "https://stackoverflow.com/users/195476/wolfgang-ulmer"}, "edited": false, "score": 2, "creation_date": 1445492744, "post_id": 33268941, "comment_id": 54348868, "body": "There is currently a lot of activity around the Windows bugs in <code>activate.bat</code>. I am not sure what the current status is, but you can try to use the latest version of <code>activate.bat</code> from <a href=\"https://github.com/conda/conda-env/blob/develop/bin/activate.bat\" rel=\"nofollow noreferrer\">github.com/conda/conda-env/blob/develop/bin/activate.bat</a>."}, {"owner": {"reputation": 581, "user_id": 5473273, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wQ40TfGg48o/AAAAAAAAAAI/AAAAAAAAAAA/v-z9dgd9uaQ/photo.jpg?sz=128", "display_name": "barry solomon", "link": "https://stackoverflow.com/users/5473273/barry-solomon"}, "reply_to_user": {"reputation": 3207, "user_id": 195476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c192953d17f084a1d88ea3c3d0d072d6?s=128&d=identicon&r=PG", "display_name": "Wolfgang Ulmer", "link": "https://stackoverflow.com/users/195476/wolfgang-ulmer"}, "edited": false, "score": 0, "creation_date": 1446056236, "post_id": 33268941, "comment_id": 54588647, "body": "Thank you so much. I updated the bat file with the version you sent and it now works perfectly. I am so amazed. This is my first stack Overflow post and it was a success. A million thanks"}], "owner": {"reputation": 581, "user_id": 5473273, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wQ40TfGg48o/AAAAAAAAAAI/AAAAAAAAAAA/v-z9dgd9uaQ/photo.jpg?sz=128", "display_name": "barry solomon", "link": "https://stackoverflow.com/users/5473273/barry-solomon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1070, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1445473348, "creation_date": 1445460450, "last_edit_date": 1445473348, "question_id": 33268941, "link": "https://stackoverflow.com/questions/33268941/anaconda-says-environment-i-currently-have-active-does-not-exist", "title": "Anaconda says environment I currently have active does not exist", "body": "<p>So I am very new to Python, and I downloaded Anaconda to get started. I am going through the Conda \"test drive\" walk-through to get myself familiar, and I am having a issue with my machine not responding as the walk-through says it should. </p>\n\n<pre><code>C:\\Users\\barry\\Anaconda3&gt;conda info --envs\n# conda environments:\n#\nenv1                     C:\\Users\\barry\\Anaconda3\\envs\\env1\nenv2                     C:\\Users\\barry\\Anaconda3\\envs\\env2\npy2                      C:\\Users\\barry\\Anaconda3\\envs\\py2\nroot                  *  C:\\Users\\barry\\Anaconda3\n\n\nC:\\Users\\barry\\Anaconda3&gt;python --version\nPython 3.4.3 :: Anaconda 2.3.0 (64-bit)\n\nC:\\Users\\barry\\Anaconda3&gt;activate py2\nActivating environment \"\"C:\\Users\\barry\\Anaconda3\\Scripts\\..\\envs\"\\py2\"...\n\n[py2] C:\\Users\\barry\\Anaconda3&gt;python --version\nPython 3.4.3 :: Anaconda 2.3.0 (64-bit)\n\n[py2] C:\\Users\\barry\\Anaconda3&gt;conda list\nError: Error: environment does not exist: C:\\Users\\barry\\Anaconda3\\\"C:\\Users\\barry\\Anaconda3\\envs\"\\py2\n#\n# Use 'conda create' to create an environment before listing its packages.\n[py2] C:\\Users\\barry\\Anaconda3&gt;\n\n[py2] C:\\Users\\barry\\Anaconda3&gt;deactivate\nDeactivating environment \"\"C:\\Users\\barry\\Anaconda3\\Scripts\\..\\envs\"\\py2\"...\n\nC:\\Users\\barry\\Anaconda3&gt;conda info --envs\n# conda environments:\n#\nroot                  *  C:\\Users\\barry\\Anaconda3\n</code></pre>\n\n<p>Why does it thin the environment does not exist when it does? It has been activated even, its the current environment, so how can it not exist? </p>\n\n<p>The other strange thing is that if I deactivate, and then ask to see the list of environments, all the ones I created are gone. </p>\n\n<p>If I close the command prompt and reopen it, I can again see the environments I created, but the same behavior persists. </p>\n\n<p>I am using Windows 10 if that makes a difference.</p>\n"}, {"tags": ["python", "arrays", "numpy", "pandas", "scikit-learn"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1445460604, "post_id": 33268857, "comment_id": 54338990, "body": "Please could you show the full error traceback in your question so that we can see where exactly the exception is being raised"}], "answers": [{"comments": [{"owner": {"reputation": 731, "user_id": 3502023, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe3bcda559e6b63e518c4e6e1c292bf7?s=128&d=identicon&r=PG&f=1", "display_name": "nahata5", "link": "https://stackoverflow.com/users/3502023/nahata5"}, "edited": false, "score": 0, "creation_date": 1445474563, "post_id": 33270480, "comment_id": 54344152, "body": "thanks! your videos are what got me started on scikit-learn.. thanks for the tip"}], "tags": [], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "is_accepted": true, "score": 2, "last_activity_date": 1445467260, "creation_date": 1445467260, "answer_id": 33270480, "question_id": 33268857, "link": "https://stackoverflow.com/questions/33268857/scikit-numpy-pandas-valueerror-setting-an-array-element-with-sequence/33270480#33270480", "title": "Scikit/Numpy/Pandas ValueError: setting an array element with sequence", "body": "<p>The problem is that scikit-learn expects a two-dimensional array of values as input. You're passing a one dimensional array of objects (with each object itself being a one-dimensional array).</p>\n\n<p>A quick fix would be to do this:</p>\n\n<pre><code>X = np.array(list(working_df['array_list'][1:]))\ny = working_df['outcome'][1:].values\nrf_clf.fit(X, y)\n</code></pre>\n\n<p>A better fix would be to not store your two-dimensional feature array within a one-dimensional pandas column.</p>\n"}], "owner": {"reputation": 731, "user_id": 3502023, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe3bcda559e6b63e518c4e6e1c292bf7?s=128&d=identicon&r=PG&f=1", "display_name": "nahata5", "link": "https://stackoverflow.com/users/3502023/nahata5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1354, "favorite_count": 0, "accepted_answer_id": 33270480, "answer_count": 1, "score": 1, "last_activity_date": 1445467260, "creation_date": 1445460150, "question_id": 33268857, "link": "https://stackoverflow.com/questions/33268857/scikit-numpy-pandas-valueerror-setting-an-array-element-with-sequence", "title": "Scikit/Numpy/Pandas ValueError: setting an array element with sequence", "body": "<p>I had a pandas dataframe that had columns with strings from 0-9 as column names:</p>\n\n<pre><code>working_df = pd.DataFrame(np.random.rand(5,10),index=range(0,5), columns=[str(x) for x in range(10)])\nworking_df.loc[:,'outcome'] = [0,1,1,0,1]\n</code></pre>\n\n<p>I then wanted to get an array of all of these numbers into one column so I did:</p>\n\n<pre><code>array_list = [Y for Y in x[[str(num) for num in range(10)]].values]\n</code></pre>\n\n<p>which gave me:</p>\n\n<pre><code>[array([ 0.0793451 ,  0.3288617 ,  0.75887129,  0.01128641,  0.64105905,\n         0.78789297,  0.69673768,  0.20354558,  0.48976411,  0.72848541]),\n array([ 0.53511388,  0.08896322,  0.10302786,  0.08008444,  0.18218731,\n         0.2342337 ,  0.52622153,  0.65607384,  0.86069294,  0.8864577 ]),\n array([ 0.82878026,  0.33986175,  0.25707122,  0.96525733,  0.5897311 ,\n         0.3884232 ,  0.10943644,  0.26944414,  0.85491211,  0.15801284]),\n array([ 0.31818888,  0.0525836 ,  0.49150727,  0.53682492,  0.78692193,\n         0.97945708,  0.53181293,  0.74330327,  0.91364064,  0.49085287]),\n array([ 0.14909577,  0.33959452,  0.20607263,  0.78789116,  0.41780657,\n         0.0437907 ,  0.67697385,  0.98579928,  0.1487507 ,  0.41682309])]\n</code></pre>\n\n<p>I then attached it to my dataframe using:</p>\n\n<pre><code>working_df.loc[:,'array_list'] = pd.Series(array_list)\n</code></pre>\n\n<p>I then setup my <code>rf_clf = RandomForestClassifier()</code> and I try to <code>rf_clf.fit(working_df['array_list'][1:].values, working_df['outcome'][1:].values)</code> which results in the <code>ValueError: setting an array element with sequence</code></p>\n\n<p>Is it a problem with the array of arrays in the fitting? Thanks for any insight. </p>\n"}, {"tags": ["python", "numpy", "curve-fitting", "lmfit"], "comments": [{"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "edited": false, "score": 0, "creation_date": 1445524104, "post_id": 33268807, "comment_id": 54367133, "body": "Could you please edit your question? The first part of the text is cut; the second part is impossible to read, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 2488, "user_id": 2588210, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t2eWJ.png?s=128&g=1", "display_name": "Christian K.", "link": "https://stackoverflow.com/users/2588210/christian-k"}, "edited": false, "score": 0, "creation_date": 1445887752, "post_id": 33313678, "comment_id": 54503670, "body": "He is looking for confidence bands: <a href=\"https://en.wikipedia.org/wiki/Confidence_and_prediction_bands\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Confidence_and_prediction_bands</a>."}], "tags": [], "owner": {"reputation": 5396, "user_id": 5179748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N6Pn6ac0-tQ/AAAAAAAAAAI/AAAAAAAAB2o/LLcs2JK0DcU/photo.jpg?sz=128", "display_name": "M Newville", "link": "https://stackoverflow.com/users/5179748/m-newville"}, "is_accepted": false, "score": 0, "last_activity_date": 1445651136, "creation_date": 1445651136, "answer_id": 33313678, "question_id": 33268807, "link": "https://stackoverflow.com/questions/33268807/confidence-interval-for-the-data-itself-using-lmfit-in-python/33313678#33313678", "title": "confidence interval for the data itself using lmfit in python", "body": "<p>It is a bit difficult to understand the title <em>Confidence interval for the data itself using lmfit in python</em> (there is no data), or the the first sentence <em>I am doing curve fitting using lmfit package</em> (you need data to fit).</p>\n\n<p>I think what you are asking for is a way to get extreme values for the model function that best matches your data.  If so, would it work to evaluate your function with all combinations of parameter values <code>best +/- delta</code> (where <code>delta</code> could be any uncertainly level you like), and take the extreme values of the model function?   That's not very automated, but shouldn't be too hard.</p>\n"}], "owner": {"reputation": 99, "user_id": 3579081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/beA49.png?s=128&g=1", "display_name": "bazilevs31", "link": "https://stackoverflow.com/users/3579081/bazilevs31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 799, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445651136, "creation_date": 1445460017, "last_edit_date": 1445646321, "question_id": 33268807, "link": "https://stackoverflow.com/questions/33268807/confidence-interval-for-the-data-itself-using-lmfit-in-python", "title": "confidence interval for the data itself using lmfit in python", "body": "<p><a href=\"https://i.stack.imgur.com/UzJTY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UzJTY.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the link for the LMFIT implementation of the confidence intervals of parameters: <a href=\"http://lmfit.github.io/lmfit-py/confidence.html\" rel=\"nofollow noreferrer\">http://lmfit.github.io/lmfit-py/confidence.html</a>\nHere is the code I am using:</p>\n\n<pre><code>import lmfit\nimport numpy as np\n\n# x = np.linspace(1, 10, 250)\n# np.random.seed(0)\n# y = 1. -np.exp(-(x)/10.) +  0.1*np.random.randn(len(x))\n\npars = lmfit.Parameters()\npars.add_many(('n', 1.),  ('tau', 3.))\n\n# def residual(pars,data=None):\ndef residual(pars):\n    v = pars.valuesdict()\n    # if data is None:\n    #     return 1.0 - np.exp(-(x**v['n'])/v['tau'])\n    return 1.0 - np.exp(-(x**v['n'])/v['tau'])-y\n\n# create Minimizer\nmini = lmfit.Minimizer(residual, pars)\n\n# first solve with Nelder-Mead\nout1 = mini.minimize(method='Nelder')\n\nout2 = mini.minimize(method='leastsq', params=out1.params)\n\nlmfit.report_fit(out2.params, min_correl=0.5)\n\nci, trace = lmfit.conf_interval(mini, out2, sigmas=[0.95],\n                                trace=True, verbose=False)\nlmfit.printfuncs.report_ci(ci)\n</code></pre>\n"}, {"tags": ["python", "optimization", "nonlinear-functions", "nlopt"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1445461191, "post_id": 33268801, "comment_id": 54339329, "body": "I don&#39;t see any of the standard debugging attempts; perhaps you&#39;re new to that aspect of programming.  Most of all, print out xi just before the call; what do you get?  If that doesn&#39;t show the problem, try printing type(xi); perhaps the type is invalid, rather than the value.  Please update your posting with these results.  I may not be able to help, but others might be more inclined to look."}, {"owner": {"reputation": 1, "user_id": 5473129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7024f974c1762a8af695b4bfc0772f7?s=128&d=identicon&r=PG&f=1", "display_name": "J. Ban", "link": "https://stackoverflow.com/users/5473129/j-ban"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1445486131, "post_id": 33268801, "comment_id": 54347061, "body": "thanks for your comments. true, I am just learning python 3 days ago, and kind of hard to know a efficient way to use the syntax. the initianl Valueerror is from the xi, which has some invalid value(out side of the lb and ub). I updated the values, now got another issue: the solution no change from the initial value."}], "owner": {"reputation": 1, "user_id": 5473129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7024f974c1762a8af695b4bfc0772f7?s=128&d=identicon&r=PG&f=1", "display_name": "J. Ban", "link": "https://stackoverflow.com/users/5473129/j-ban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445486010, "creation_date": 1445459993, "last_edit_date": 1445486010, "question_id": 33268801, "link": "https://stackoverflow.com/questions/33268801/no-solution-change-from-initial-point-with-nlopt-under-python-for-a-non-linear-o", "title": "no solution change from initial point with nlopt under python for a non linear optimization", "body": "<p>update: the ValueError original in this post is from some xi values out side of the variable's lower bound and upper bound, after that fixed, the model runs but instantly end with the initial value.</p>\n\n<p>I am trying to use nlopt in pytyon to solve an nonlinear problem(linear constraints and nonlinear objective), the problem is like this</p>\n\n<pre><code>obj: max sum (a[i] x[i]^2 + b[i]*x[i]+ c[i]) * x[i]\nst: lhs &lt;= AX &lt;= rhs\nlb&lt;=x&lt;=ub\n</code></pre>\n\n<p>the model has 180 variables and 30 constraints(including 15 lhs and 15 rhs)\nhere is python code:</p>\n\n<pre><code>import numpy\nimport nlopt\nfrom numpy import *\n\nimport numpy\nimport nlopt\nfrom numpy import *\n\nxi = [1.709,0,0,0,0,0,0,0,0.321,0,0,0,1.905,0,0,0,0,0,0,0,0.703,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1.995,0,0,0,0,0,0,0,0,1.1,2.5,0,0.1323,0,0,0,0,0,0,0,0.4443,0,0,0,2.3709,0,0,0.3495,0,0,0,0,0,0,0,0,1.62,0,0,0,0.307,0,0,0,0,0,0,0,3.9013,0,0,0,0,0,0,0,0,28.9163,4.0047,0,0.7889,0,0,0,0.2224,0.184,0.3,0,0,0,0,0,2.4779,0,0,0,0,0,0,0,0,0.6128,0.938,0,1.913,0,0,0,0,0,0,0,0,4.1947,6.5579,0,3.9395,0,0,0,0,0,0,0,3.972,12.1696,6.0582,0,0,0,0,0,0,0,0,0,0,21.3331,10.2199,0,2.6877,0,0,0,0,0,0,0,1.7192,2.371,2.8781,0,3.086,0,0,0,0,0,0,0,1.7192,2.371,3.1083,0]\nxi = numpy.array(xi) * 1.0\nlhs = [1.8992, 2.4808, 0, 5.17672, 0.46128, 2.43608, 1.66928, 30.0444, 1.24384, 3.7572, 10.94624, 22.41152, 26.15152, 8.2488, 9.41408]\nlhs = numpy.array(lhs) * 1.0\nrhs = [2.8488, 3.7212, 0, 7.76508, 0.69192, 3.65412, 2.50392, 45.0666, 1.86576, 5.6358, 16.41936, 33.61728, 39.22728, 12.3732, 14.12112]\nrhs = numpy.array(rhs) * 1.0\nlb = [1.5381, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1.7145, 0, 0, 0, 0, 0, 0, 0, 0.3515, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.9975, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1.25, 0, 0.06615, 0, 0, 0, 0, 0, 0, 0, 0.39987, 0, 0, 0, 2.13381, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1.458, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 26.02467, 0, 0, 0.47334, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1.48674, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2.09735, 3.93474, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7.30176, 3.0291, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 19.19979, 5.10995, 0, 1.34385, 0, 0, 0, 0, 0, 0, 0, 0, 1.1855, 1.43905, 0, 1.543, 0, 0, 0, 0, 0, 0, 0, 0, 1.1855, 1.55415, 0]\nlb = numpy.array(lb) * 1.0\nub = [1.8799, 0, 0, 0, 0, 0, 0, 0, 0.642, 0, 0, 0, 2.0955, 0, 0, 0, 0, 0, 0, 0, 1.0545, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2.9925, 0, 0, 0, 0, 0, 0, 0, 0, 2.2, 3.75, 0, 0.19845, 0, 0, 0, 0, 0, 0, 0, 0.48873, 0, 0, 0, 2.60799, 0, 0, 0.699, 0, 0, 0, 0, 0, 0, 0, 0, 1.782, 0, 0, 0, 0.614, 0, 0, 0, 0, 0, 0, 0, 7.8026, 0, 0, 0, 0, 0, 0, 0, 0, 31.80793, 8.0094, 0, 1.10446, 0, 0, 0, 0.4448, 0.368, 0.6, 0, 0, 0, 0, 0, 3.46906, 0, 0, 0, 0, 0, 0, 0, 0, 1.2256, 1.876, 0, 3.826, 0, 0, 0, 0, 0, 0, 0, 0, 6.29205, 9.18106, 0, 7.879, 0, 0, 0, 0, 0, 0, 0, 7.944, 17.03744, 9.0873, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 23.46641, 15.32985, 0, 4.03155, 0, 0, 0, 0, 0, 0, 0, 3.4384, 3.5565, 4.31715, 0, 4.629, 0, 0, 0, 0, 0, 0, 0, 3.4384, 3.5565, 4.66245, 0]\nub = numpy.array(ub) * 1.0\nac = [-7.0356144E-13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -9.4545595E-13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1.96564758E-12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -2.8851131E-13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1.44438762E-12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1.079118E-13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -6.754091E-14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1.5078676E-13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -8.4841085E-13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1.93717863E-12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -3.8088705E-13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1.1658432E-13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1.72022E-14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\nac = numpy.array(ac) * 1.0\nbc = [1.35708245335152E-06, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1.17903067234446E-06, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2.21180531673852E-06, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4.85381925053E-07, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1.3697092385509E-06, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3.7438719187058E-07, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2.2026564748183E-07, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6.4060986316015E-07, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2.672353873107E-08, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2.41111686125172E-06, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1.00574066339843E-06, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3.3715792175388E-07, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -3.9414789383179E-07, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\nbc=numpy.array(bc)*1.0\ncc = [1.70899768074814, 0.535, 0.73, 1.44, 1.37, 1.605, 1.3375, 1.3375, 0, 0, 0, 0, 1.90499775395, 0.275, 1.01, 1.44, 1.37, 0.825, 0.575, 0.575, 0, 0, 0, 0, 0, 0.53, 1.484, 1.44, 1.37, 1.59, 1.24, 1.24, 0, 0, 0, 0, 1.99499903166421, 0.825, 2.31, 1.782, 3.3, 2.475, 1.8975, 1.8975, 0.58, 1.04, 1.7, 0.45, 0.132273791185637, 0.24, 0.672, 0.52, 1.48, 0.72, 0.6, 0.6, 0, 0, 0, 0, 2.37087235567695, 0.24, 0.672, 0.52, 1.48, 0.72, 0.7125, 0.7125, 1.43, 0, 0, 0, 1.61999964316983, 0.13, 0.364, 0.52, 1.48, 1.23, 0.325, 0.325, 0.89, 0, 0, 0, 3.90133911626214, 0.31, 0.65, 0.65, 1.25, 0.93, 0.3, 0.3, 0.8, 0.39, 0.12, 0, 0.788897082901522, 0.15, 0.42, 0.324, 2.31, 0.7, 1.11, 1.11, 1.15, 0, 0.27, 0, 2.47793948495081, 0.745, 2.086, 1.61, 2.31, 0.48, 1.6675, 1.6675, 1.15, 0, 0, 0, 1.9130129661104, 0.86, 2.44, 0.23, 2.31, 2.15, 2.15, 2.15, 1.15, 1.37, 0.71, 0, 3.9394882011312, 0.28, 0.784, 0.61, 2.31, 1.53, 1.11, 1.11, 1.15, 0.41, 0.19, 0, 1.13637847508418, 0.98, 2.45, 0.14, 2.31, 2.45, 2.254, 2.254, 1.15, 0.21, 0.18, 0, 2.68768154431287, 0.395, 1.106, 1.185, 4.49, 1.93, 0.7935, 0.7935, 0.72, 1.22, 0.76, 0.34, 3.08603664188619, 0.105, 0.294, 0.39, 0.86, 1.73, 0.525, 0.525, 0.35, 1.72, 0.64, 0.34]\ncc=numpy.array(cc)*1.0\n\nn = 180\nA =[[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]\n]\n\ndef myfunc(x, grad, ac, bc, cc, n):\n    rev = 0.0\n    i=0\n    while i&lt; n:\n        grad[i] = 6 * ac[i]* (x[i]*1000000)**2 + 2*bc[i]*(x[i]*1000000) + cc[i]\n        rev = rev +  ac[i] * (x[i]*1000000)**3 + bc[i] *(x[i]*1000000)**2 + cc[i] * (x[i]*1000000)\n        i=i+1\n    return rev\n\ndef myconstraint(x, grad, a, b):\n    grad[:] = a\n    cs = numpy.array(a).dot(x) + b\n    cs= cs*1.0\n    return cs\n\nopt = nlopt.opt(nlopt.LD_MMA, n)\nopt.set_lower_bounds(lb)\nopt.set_upper_bounds(ub)\n\nopt.set_max_objective(myfunc)\n\nA= numpy.array(A) * (1.0)\nrside = numpy.array(rhs) *(-1.0)\n\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[0],rside[0]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[1],rside[1]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[2],rside[2]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[3],rside[3]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[4],rside[4]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[5],rside[5]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[6],rside[6]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[7],rside[7]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[8],rside[8]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[9],rside[9]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[10],rside[10]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[11],rside[11]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[12],rside[12]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[13],rside[13]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[14],rside[14]), 1e-8)\n\nA= numpy.array(A) * (-1.0)\nrside = numpy.array(lhs) * 1.0\n\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[0],rside[0]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[1],rside[1]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[2],rside[2]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[3],rside[3]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[4],rside[4]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[5],rside[5]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[6],rside[6]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[7],rside[7]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[8],rside[8]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[9],rside[9]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[10],rside[10]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[11],rside[11]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[12],rside[12]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[13],rside[13]), 1e-8)\nopt.add_inequality_constraint(lambda x,grad: myconstraint(x,grad,A[14],rside[14]), 1e-8)\n\nopt.set_xtol_rel(1e-4)\n\nxopt = opt.optimize(xi)\n</code></pre>\n\n<p>with the starting point xi, the solution is instant and always the lower bound lb. the solution status is 4, namely \"Optimization stopped because xtol_rel or xtol_abs (above) was reached\".</p>\n\n<pre><code>result = opt.last_optimize_result()\nprint(result)\n</code></pre>\n\n<p>any hint? thanks.</p>\n"}, {"tags": ["python", "module", "exec"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1445460006, "post_id": 33268695, "comment_id": 54338683, "body": "Just to make sure I&#39;m getting this correct ... You&#39;re trying to access names from <code>custom</code> from <i>inside</i> a function that is defined in <code>standard</code>, but you don&#39;t want to import <code>custom</code> in <code>standard</code>?"}, {"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1445461113, "post_id": 33268695, "comment_id": 54339292, "body": "Remember, my_globals is essentially an alias for standard.__dict__, but not for custom.__dict__.  You have not done anything to change the latter.  But I would suggest not messing with standard.__dict__ at all.  You could keep your globals in a class (or even just a dict) defined in standard.py, then <code>from standard import globals</code> in your other modules as needed."}, {"owner": {"reputation": 5010, "user_id": 1106734, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/93b3a98cf67e15b43a9465230ac90b6e?s=128&d=identicon&r=PG", "display_name": "Michael Ray Lovett", "link": "https://stackoverflow.com/users/1106734/michael-ray-lovett"}, "edited": false, "score": 0, "creation_date": 1445521240, "post_id": 33268695, "comment_id": 54365158, "body": "My 1st goal is that the bit of exec&#39;d code can call any of the methods defined in either standard or custom, which is why I was trying to copy both of their <b>dicts</b> into my_globals, and then pass my_globals to exec. But that isn&#39;t exactly working. As far as methods in custom accessing standard, I understand custom will have to import standard."}], "answers": [{"comments": [{"owner": {"reputation": 5010, "user_id": 1106734, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/93b3a98cf67e15b43a9465230ac90b6e?s=128&d=identicon&r=PG", "display_name": "Michael Ray Lovett", "link": "https://stackoverflow.com/users/1106734/michael-ray-lovett"}, "edited": false, "score": 0, "creation_date": 1445524020, "post_id": 33270130, "comment_id": 54367085, "body": "part of my problem might be that I don&#39;t understand modules+exec as well as I thought. I thought I could basically put a reference to any method from any module into a dict, thus sort of divorcing the method from its module,  and pass that dict to exec, and those methods in that dict would basically provide the &quot;global scope&quot; for the exec&#39;d code and the exec&#39;d code code call any of those methods."}, {"owner": {"reputation": 5010, "user_id": 1106734, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/93b3a98cf67e15b43a9465230ac90b6e?s=128&d=identicon&r=PG", "display_name": "Michael Ray Lovett", "link": "https://stackoverflow.com/users/1106734/michael-ray-lovett"}, "edited": false, "score": 0, "creation_date": 1445526210, "post_id": 33270130, "comment_id": 54368726, "body": "fyi the use case is that my app (a website) services multiple clients. For each client we have these snippets of python code that tell us how to compute something. Usually these snippets call methods in &quot;standard&quot; which are common across all clients. But sometimes we need a separate module to hold custom code that is client specific and we don&#39;t want to clutter up standard with it.  So my hope was that I could rig things up so these snippets could access functions in standard, and custom, when a custom module is present."}, {"owner": {"reputation": 5010, "user_id": 1106734, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/93b3a98cf67e15b43a9465230ac90b6e?s=128&d=identicon&r=PG", "display_name": "Michael Ray Lovett", "link": "https://stackoverflow.com/users/1106734/michael-ray-lovett"}, "edited": false, "score": 0, "creation_date": 1445526328, "post_id": 33270130, "comment_id": 54368822, "body": "So I thought I could essentially copy references to all methods in both standard and custom, into one dictionary, that I pass to exec and the snippets could see all these methods without realizing or caring that are part of one module or the other."}, {"owner": {"reputation": 5010, "user_id": 1106734, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/93b3a98cf67e15b43a9465230ac90b6e?s=128&d=identicon&r=PG", "display_name": "Michael Ray Lovett", "link": "https://stackoverflow.com/users/1106734/michael-ray-lovett"}, "edited": false, "score": 0, "creation_date": 1445526812, "post_id": 33270130, "comment_id": 54369143, "body": "in our example, and your  answer above, it seems odd that methods in standard can see all the methods I&#39;ve plugged into my_globals yet the methods in custom only see it&#39;s own. It&#39;s almost like their methods are &quot;ignoring&quot; the dict I&#39;m passing in to exec and are resolving symbol references against their own module dict."}, {"owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "reply_to_user": {"reputation": 5010, "user_id": 1106734, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/93b3a98cf67e15b43a9465230ac90b6e?s=128&d=identicon&r=PG", "display_name": "Michael Ray Lovett", "link": "https://stackoverflow.com/users/1106734/michael-ray-lovett"}, "edited": false, "score": 0, "creation_date": 1445531348, "post_id": 33270130, "comment_id": 54372081, "body": "It is a little confusing, but once again, the methods in standard can see all of the methods you&#39;ve plugged into my_globals <b>because you&#39;ve really just plugged them into standard itself</b>.  You&#39;ve monkey-patched your standard module, so that it actually contains all the symbols that you plugged in. It is more or less the equivalent of editing standard.py itself and either defining them there, or importing them.  Since you&#39;ve monkey-patched the standard module with everything you want, you could just have a &quot;from standard import *&quot; at the top of every custom module."}], "tags": [], "owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "is_accepted": false, "score": 1, "last_activity_date": 1445467380, "last_edit_date": 1445467380, "creation_date": 1445465388, "answer_id": 33270130, "question_id": 33268695, "link": "https://stackoverflow.com/questions/33268695/globals-from-multiple-modules-not-visible-to-exec-code/33270130#33270130", "title": "globals from multiple modules not visible to exec code?", "body": "<p>Here is some insight:</p>\n\n<blockquote>\n  <p>\"To provide the logic with access to the symbols in standard, I'm extracting out the methods from standard into a dictionary, like so:\"</p>\n</blockquote>\n\n<pre><code>import standard\nmy_globals = standard.__dict__\n</code></pre>\n\n<p><strong>Not exactly</strong>.  You're just creating a local variable, <code>my_globals</code> that now points to <code>standard.__dict__</code>.  Whenever you update <code>my_globals</code>, you're <em>really</em> just updating <code>standard.__dict__</code>.</p>\n\n<p>When you add your other symbols to <code>my_globals</code>, again, you're just adding them to <code>standard.__dict__</code>.</p>\n\n<p>Calling:</p>\n\n<pre><code>exec(\"foo() + 2\", my_globals)\n</code></pre>\n\n<p>works great when <code>foo</code> is defined in standard.py, because you've added all the other methods to this module - you now have access to them all.</p>\n\n<p>When you do:</p>\n\n<pre><code>import custom\nmy_globals.update(custom.__dict__)\n</code></pre>\n\n<p>You've added your \"symbols\" from custom.py to the standard module.  All the functions in standard can access functions from custom.py after this point</p>\n\n<p>Unfortunately, custom.py itself, doesn't have direct access to the methods in standard.py (unless you import them).  From within custom.py, you can see that everything you've created is in standard now:</p>\n\n<p>(from within custom.py):</p>\n\n<pre><code>import sys\n\ndef custom_foo():\n    print(dir(sys.modules['standard']))  # shows that you've put everything in here\n    sys.modules['standard'].foo()  # calls foo from standard.py (assuming you've imported standard in your main pgm)\n</code></pre>\n\n<p>Above is really ugly though - you could just add a:</p>\n\n<pre><code>from standard import *\n</code></pre>\n\n<p>at the top of custom.py, and you would have access to everything you've added to its <code>__dict__</code> instead.</p>\n\n<p>I doubt you <em>really</em> want to do what you're attempting with the whole <code>exec</code> thing, but I'm not really sure what your use case is.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>If you really want all the symbols you've attached to <code>my_globals</code> available to the methods of custom.py, you could call:</p>\n\n<pre><code>custom.__dict__.update(my_globals)\n</code></pre>\n\n<p>After this point, functions in custom.py would have access to everything you've added to the standard.<strong>dict</strong> (aka my_globals).  (You've also overrode any functions defined in custom.py with functions of the same name in <code>my_globals</code>)</p>\n\n<p>Please note, doing things this way is pretty atypical (read: somewhat ill advised).</p>\n"}], "owner": {"reputation": 5010, "user_id": 1106734, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/93b3a98cf67e15b43a9465230ac90b6e?s=128&d=identicon&r=PG", "display_name": "Michael Ray Lovett", "link": "https://stackoverflow.com/users/1106734/michael-ray-lovett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445467380, "creation_date": 1445459601, "question_id": 33268695, "link": "https://stackoverflow.com/questions/33268695/globals-from-multiple-modules-not-visible-to-exec-code", "title": "globals from multiple modules not visible to exec code?", "body": "<p>My app executes bits of python logic stored in a configuration file via exec, as in:</p>\n\n<pre><code>\"foo() + 2\"\n</code></pre>\n\n<p>This logic commonly references symbols that I store in a module named \"standard\". For example, in the above, you can see the logic accesses the method foo(), and foo is defined inside standard.py:</p>\n\n<pre><code>def foo():...\n</code></pre>\n\n<p>To provide the logic with access to the symbols in standard, I'm extracting out the methods from standard into a dictionary, like so:</p>\n\n<pre><code>import standard\nmy_globals = standard.__dict__\n</code></pre>\n\n<p>Then I'm adding in a few other relevant symbols to my_globals (which I don't show here) and providing them to the logic, when I execute it:</p>\n\n<pre><code>exec(\"foo() + 2\", my_globals)\n</code></pre>\n\n<p>This is working. When I look at globals() from inside foo(), I can see other methods I defined in the module standard.py as well as the other relevant symbols I mentioned above and foo() can access all of those things.</p>\n\n<p>The problem comes in when I want to make another module of functions available to the logic as well. Let's say I have a module named custom.py that has some other symbols I want the logic to access. I'm trying to make those symbols available as well by doing this:</p>\n\n<pre><code>import custom\nmy_globals.update(custom.__dict__)\n</code></pre>\n\n<p>Let's say my logic now is \"bar() + 1\", where \"bar\" is defined inside of custom.py. bar() also wants to access some of those relevant other symbols I added into my_globals.</p>\n\n<p>The problem I'm running in to is that code inside of custom is only seeing the symbols defined inside custom.py, and not everything else stored in my_globals. IE, bar() can't see foo(), nor the other stuff I tucked away into my_globals.</p>\n\n<p>Yet foo() can. It's code can see any other methods I defined in standard, as well as symbols defined in custom, as well as the \"extra\" symbols I plugged into my_globals.</p>\n\n<p>Why is this happening? My expectation is that the logic being executed is run in the context of the contents of my_globals, so it seems like both foo() and bar() should be able to access any and all symbols in my_globals.</p>\n\n<p>I suspect this has to do with how I'm creating my_globals. Any insight would be greatly appreciated!</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 2230, "user_id": 4993010, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f9d66d7ab498bbd8d355e8b50f28a4d?s=128&d=identicon&r=PG&f=1", "display_name": "frosty", "link": "https://stackoverflow.com/users/4993010/frosty"}, "edited": false, "score": 0, "creation_date": 1445459613, "post_id": 33268672, "comment_id": 54338489, "body": "What do you mean a better way? What&#39;s wrong with the current regex you&#39;re using?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1445459784, "post_id": 33268672, "comment_id": 54338574, "body": "Perhaps, <code>if any(word.lower() in text.lower() for word in lst):</code> ..."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1445459788, "post_id": 33268672, "comment_id": 54338579, "body": "Looking at the source text: isn&#39;t it just any set of one to three words in a single line?"}, {"owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "edited": false, "score": 0, "creation_date": 1445459839, "post_id": 33268672, "comment_id": 54338597, "body": "The list is about 50 terms and counting. From my limited knowledge I wrote this pretty much string lookup regex but it&#39;s messy i don&#39;t know how it might effect performance under the hood."}, {"owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1445460025, "post_id": 33268672, "comment_id": 54338696, "body": "@Jongware: It will pick up a lot. Like &#39;No Alcohol Use&#39; and &#39;No Known Allergies&#39; in the example."}], "answers": [{"comments": [{"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1445460298, "post_id": 33268854, "comment_id": 54338855, "body": "Even better if you could maintain your &quot;key phrases&quot; in a file and have code generate the corresponding regex above."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1445460445, "post_id": 33268854, "comment_id": 54338917, "body": "@JeffY I&#39;m assuming the regex will be auto generated, I didn&#39;t think that OP was going to construct anything manually. But I still feel it&#39;s good to point out unnecessary things that can be cleaned up."}, {"owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "reply_to_user": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1445460952, "post_id": 33268854, "comment_id": 54339190, "body": "@Jeff : Yes i will maintain a separate list / file which I can append as i explore my data and come across more variations to pick up."}, {"owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "edited": false, "score": 0, "creation_date": 1445460958, "post_id": 33268854, "comment_id": 54339197, "body": "@Alex : Working on the lines you suggested. Wrapping around your code with beginning and end of line marker and running on my data."}, {"owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "edited": false, "score": 0, "creation_date": 1445466294, "post_id": 33268854, "comment_id": 54341732, "body": "@AlexHall : Something like this based on your answer works except it&#39;s matching till the end of the line. Is there a way we can restrict it to match only upto 4 words from beginning of the line. Expression : ^.*\\b(P(?i)lan|H(?i)istory|M(?i)ed|E(?i)xam|Vital)\\b.*$"}], "tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 2, "last_activity_date": 1445471210, "last_edit_date": 1445471210, "creation_date": 1445460140, "answer_id": 33268854, "question_id": 33268672, "link": "https://stackoverflow.com/questions/33268672/regex-to-match-a-list-of-key-words/33268854#33268854", "title": "Regex to match a list of key words", "body": "<p>What you have should be equivalent to</p>\n\n<pre><code>.*\\b(Plan|History|Meds)\\b\n</code></pre>\n\n<p>Having <code>.*</code> at the beginning is redundant, just use <code>search</code> instead of <code>match</code> to say that the regex can be found anywhere.</p>\n\n<p>However what you probably really want is to make sure that these words are the first 'real' thing to appear in the line, so I'd recommend:</p>\n\n<pre><code>\\s*(Plan|...\n</code></pre>\n\n<p>to say that only whitespace should appear at the beginning, or</p>\n\n<pre><code>\\W*(Plan|...\n</code></pre>\n\n<p>if you need more flexibility, e.g. bullet points (<code>\\W</code> means not word characters).</p>\n\n<p><strong>Update for additional question in comment:</strong></p>\n\n<p>Here's an example of a regex that only matches up to 4 words:</p>\n\n<pre><code>^(\\W*\\w+\\W*){0,4}\\W*$\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>for i in range(1, 6):\n    print bool(re.match(r\"^(\\W*\\w+\\W*){0,4}\\W*$\", \"abc \" * i))\n</code></pre>\n\n<p>prints 4 <code>True</code>s and one <code>False</code>.</p>\n\n<p>I tried to do it with word boundaries but gave up. Honestly you'd be better of counting the number of words with a simpler regex. Don't use regular expressions unless they really feel right for a task: code in general is more powerful and is often so much easier.</p>\n"}], "owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1445471210, "creation_date": 1445459512, "last_edit_date": 1445461495, "question_id": 33268672, "link": "https://stackoverflow.com/questions/33268672/regex-to-match-a-list-of-key-words", "title": "Regex to match a list of key words", "body": "<p>I have a list of words that would identify a particular section of a document. There can be variations in how the key words are used. However these key words blend with the document text and I know only a rudimentary way of doing it.</p>\n\n<p>Some sample key words would be Assessment, Plan, Family History, Current Medications, Procedures, Allergies etc etc...</p>\n\n<p>Some sample text is here:</p>\n\n<pre><code> Family History\n XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX      \n Social History\n  \u00b7 No alcohol use\n Current Meds\n Allergies\n  \u00b7 No Known Drug Allergies      \n Vitals\n Vital Signs [Data Includes: Current Encounter] \n XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX    \n    Height     Tall \n    Weight     Well Built               \nPhysical Exam\nLorem Ipsum is simply dummy text of the printing and typesetting industry\nLorem Ipsum has been the industry's standard dummy text ever since the\n1500s, when an unknown printer took a galley of type and scrambled it to    \nAssessment\nHistory of Medication\n      None\nPlan\nIt is a long established fact that a reader will be distracted by\nreadable content of a page when looking at its layout. The point of using\nLorem Ipsum is that it has a more-or-less normal distribution of letters,\n</code></pre>\n\n<p>This is what I have working so far</p>\n\n<pre><code>'.*\\bPlan\\b|.*\\bHistory\\b|.*\\bMeds\\b'\n</code></pre>\n\n<p>Is there a better way of finding a list of terms (case insensitive) using Regex in Python ?</p>\n"}, {"tags": ["python", "numpy", "multidimensional-array", "vectorization"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 5, "creation_date": 1445461632, "post_id": 33268611, "comment_id": 54339580, "body": "You can use things like <code>np.vectorize</code> or <code>np.apply_along_axis</code> to make arbitrary Python functions behave in a &quot;vectorized&quot; way, but these generic solutions will provide negligible performance  benefit over a standard Python <code>for</code> loop. To get any meaningful performance improvement you will need to be specific about what the actual function you want to vectorize is."}, {"owner": {"reputation": 1208, "user_id": 3329265, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92a9d416bf519f3ce249f8456ad91178?s=128&d=identicon&r=PG&f=1", "display_name": "Sina", "link": "https://stackoverflow.com/users/3329265/sina"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1445471480, "post_id": 33268611, "comment_id": 54343379, "body": "Thanks ali_m. Your comment and Oliver&#39;s answer provide the answer that I was looking for."}], "answers": [{"tags": [], "owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "is_accepted": true, "score": 2, "last_activity_date": 1445468291, "creation_date": 1445468291, "answer_id": 33270643, "question_id": 33268611, "link": "https://stackoverflow.com/questions/33268611/numpy-a-general-vectorized-method-to-apply-a-function-returning-a-matrix-to-eac/33270643#33270643", "title": "NumPy: A General Vectorized Method to Apply a Function Returning a Matrix to Each Row of a Matrix", "body": "<p>ali_m's comment is spot-on: for serious speed gains, you should be more specific about what the function does.</p>\n\n<p>That being said, if you still want to use <code>np.apply_along_axis</code> to get a (possibly) small speed-boost, then consider (after rereading <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.apply_along_axis.html\" rel=\"nofollow\">that function's docstring</a>) that you can easily</p>\n\n<ol>\n<li>wrap your function to produce 1D arrays, </li>\n<li>use <code>np.apply_along_axis</code> with that wrapper and</li>\n<li><p>reshape the resulting array:</p>\n\n<pre><code>def test_func_wrapper(*args, **kwargs):\n    return test_func(*args, **kwargs).ravel()\n\noutput = np.apply_along_axis(test_func_wrapper, m=3, n=2, axis=1, arr=input_data)\nnp.allclose(output.reshape(5,3, -1), output_data)\n# output: True\n</code></pre></li>\n</ol>\n\n<p>Note that this is a <em>generic</em> way to speed up such loops. You'll probably get better performance if you use functionality more specific to the actual problem.</p>\n"}], "owner": {"reputation": 1208, "user_id": 3329265, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92a9d416bf519f3ce249f8456ad91178?s=128&d=identicon&r=PG&f=1", "display_name": "Sina", "link": "https://stackoverflow.com/users/3329265/sina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 33270643, "answer_count": 1, "score": 1, "last_activity_date": 1445471207, "creation_date": 1445459255, "last_edit_date": 1445471207, "question_id": 33268611, "link": "https://stackoverflow.com/questions/33268611/numpy-a-general-vectorized-method-to-apply-a-function-returning-a-matrix-to-eac", "title": "NumPy: A General Vectorized Method to Apply a Function Returning a Matrix to Each Row of a Matrix", "body": "<p>I am looking for a vectorized method to apply a function returning a 2-dimensional array to each row of a 2-dimensional array and produce a 3-dimensional array.</p>\n\n<p>More specifically, I have a function that takes a vector of length p and returns a 2-dimensional array (m by n). The following is a stylized version of my function:  </p>\n\n<pre><code>import numpy as np  \ndef test_func(x, m, n):\n    # this function is just an example and does not do anything useful.\n    # but, the dimensions of input and output is what I want to convey. \n    np.random.seed(x.sum())\n    return np.random.randint(5, size=(m, n))\n</code></pre>\n\n<p>I have a t by p 2-dimensional input data:</p>\n\n<pre><code>t = 5\np = 6\ninput_data = np.arange(t*p).reshape(t, p)\ninput_data\nOut[403]: \narray([[ 0,  1,  2,  3,  4,  5],\n       [ 6,  7,  8,  9, 10, 11],\n       [12, 13, 14, 15, 16, 17],\n       [18, 19, 20, 21, 22, 23],\n       [24, 25, 26, 27, 28, 29]])\n</code></pre>\n\n<p>I want to apply test_func to each row of the input_data. Since test_func returns a matrix, I expect to create a 3-dimensional (t by m by n) array. I can produce my desired result with the following code:</p>\n\n<pre><code>output_data = np.array([test_func(x, m=3, n=2) for x in input_data])\noutput_data\nOut[405]: \narray([[[0, 4],\n        [0, 4],\n        [3, 3],\n        [1, 0]],\n\n       [[1, 0],\n        [1, 0],\n        [4, 1],\n        [2, 4]],\n\n       [[3, 3],\n        [3, 0],\n        [1, 4],\n        [0, 2]],\n\n       [[2, 4],\n        [2, 1],\n        [3, 2],\n        [3, 1]],\n\n       [[3, 4],\n        [4, 3],\n        [0, 3],\n        [3, 0]]])\n</code></pre>\n\n<p>However, this code does not seem to be the most optimal code. It has an explicit for which reduces the speed and it uses an intermediary list which unnecessarily allocates extra memory. So, I like to find a vectorized solution. My best guess was the following code, but it does not work.</p>\n\n<pre><code>output = np.apply_along_axis(test_func, m=3, n=2, axis=1, arr=input_data)\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-406-5bef44da348f&gt;\", line 1, in &lt;module&gt;\n    output = np.apply_along_axis(test_func, m=3, n=2, axis=1, arr=input_data)\n\n  File \"C:\\Anaconda\\lib\\site-packages\\numpy\\lib\\shape_base.py\", line 117, in apply_along_axis\n    outarr[tuple(i.tolist())] = res\n\nValueError: could not broadcast input array from shape (3,2) into shape (3)\n</code></pre>\n\n<p>Would you please suggest an efficient way to this problem.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Below is the actual function that I want to apply. It performs Multidimensional Classical Scaling. The objective of the question was not to optimize the internal workings of the function, but to find a generalize method for vectorizing the function apply. But, in the spirit of full disclosure I put the actual function here. Note that this function only works if p == m*(m-1)/2</p>\n\n<pre><code>def mds_classical_scaling(v, m, n):    \n\n    # create a symmetric distance matrix from the elements in vector v\n    D = np.zeros((m, m))\n    D[np.triu_indices(4, k=1)] = v\n    D = (D + D.T)\n\n    # Transform the symmetric matrix\n    A = -0.5 * (D**2)\n    # Create centering matrix    \n    H = np.eye(m) - np.ones((m, m))/m\n    # Doubly center A and store in B\n    B = H*A*H\n\n    # B should be positive definite otherwise the function\n    # would not work.\n    mu, V = eig(B)\n\n    #index of largest eigen values\n    ndx = (-mu).argsort()\n\n    # calculate the point configuration from largest eigen values\n    # and corresponding eigen vectors\n    Mu1 = diag(mu[ndx][:n])\n    V1 = V[:, ndx[:n]]\n    X = V1*sqrt(Mu1)    \n\n    return X\n</code></pre>\n\n<p>Any performance boost I get from vectorization is negligible comparing to the actual function. The main reason was learning:)</p>\n"}, {"tags": ["javascript", "python", "angularjs", "django", "nginx"], "comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1445458860, "post_id": 33268450, "comment_id": 54338048, "body": "If you will use Django to build an API, you need just use the endpoints, you just need to return JSON objects from the API and use the data in your AngularJS app in front-end. You can use a SPA, or any other structure to your AngularJS app, and, of course, use the AngularJS routing. In the architecture, Django is a data provider."}], "answers": [{"tags": [], "owner": {"reputation": 9373, "user_id": 1581803, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7d7013acefc965b236241196601a14e5?s=128&d=identicon&r=PG", "display_name": "Vingtoft", "link": "https://stackoverflow.com/users/1581803/vingtoft"}, "is_accepted": true, "score": 3, "last_activity_date": 1445516406, "last_edit_date": 1445516406, "creation_date": 1445463902, "answer_id": 33269820, "question_id": 33268450, "link": "https://stackoverflow.com/questions/33268450/angularjs-integration-into-django-project-with-api/33269820#33269820", "title": "Angularjs integration into django project with API", "body": "<p>I have been using Django Rest Framework and AngularJS with success, and heres how I've done it: </p>\n\n<ol>\n<li>Serve the AnguarJS as a static file from www.yourdomain.com. This is\neasily done with nginx or apache.  </li>\n<li>Next, access the Django Rest Framework through api.yourdomain.com, also an easy configuration.</li>\n</ol>\n\n<p>You could also have Django serving the static files (AngularJS), but I believe its an unnecessarily complicated approach.</p>\n\n<p>If you implement this solution, be aware of cross-CORS errors. This happens when your angularJS (from www.yourdomain.com) tries to access a service (Django Rest Framework) from another domain (api.yourdomain.com). \nThis issue can easily be fixed using a few lines of extra server configuration (<a href=\"http://enable-cors.org/server_nginx.html\" rel=\"nofollow\">nginx example</a>)</p>\n"}], "owner": {"reputation": 2324, "user_id": 1466222, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/95bbd370e761f3b28d29df62c74ea5e9?s=128&d=identicon&r=PG", "display_name": "rush", "link": "https://stackoverflow.com/users/1466222/rush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 1, "accepted_answer_id": 33269820, "answer_count": 1, "score": 1, "last_activity_date": 1445516406, "creation_date": 1445458655, "question_id": 33268450, "link": "https://stackoverflow.com/questions/33268450/angularjs-integration-into-django-project-with-api", "title": "Angularjs integration into django project with API", "body": "<p>I've seen some questions around this topic, though I still didn't find the answer I'm looking for.</p>\n\n<p>What is the right way to implement AngularJS application to interact with django?</p>\n\n<p>As I understand the plan should like:</p>\n\n<ol>\n<li>Use django-restful to develop some api. it will be available e.g.\n/api/v1/whatever/app</li>\n<li>Right separate AngularJS code which will interact with api from step 1.</li>\n<li>Do the magic: Django is available with django router starting from / . How AngularJS pages should be loaded to client? Should I write additional TemplateView to allow angularjs part load on client side for /? How full urls (e.g. /post/ will be routed)? As I understand there is separate router in angularjs. Should it be separated on web server part? E.g. /api is handled by nginx to django and / is handled to static to load angular?</li>\n</ol>\n\n<p>Do I need to use django-angular at all? As probably it looks like it would be better if angular won't be integrated into django templates and it will be completely separated. Is it so?</p>\n\n<p>Maybe it's a bit mixed up in my head. Though I didn't find related explanation <a href=\"http://django-angular.readthedocs.org/en/latest/integration.html\" rel=\"nofollow\">here</a>.</p>\n"}, {"tags": ["python", "subprocess", "iwconfig"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1445458869, "post_id": 33268359, "comment_id": 54338057, "body": "I cannot replicate where are you running the code?"}, {"owner": {"reputation": 72, "user_id": 5145512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5764284877d6b9614f95e5dccc09acd1?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Durham", "link": "https://stackoverflow.com/users/5145512/ben-durham"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1445458995, "post_id": 33268359, "comment_id": 54338132, "body": "I was running it on python 3.4 through KDE Konsole on fedora 22 workstation."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1445459111, "post_id": 33268359, "comment_id": 54338194, "body": "works fine for me on ubuntu from pretty much everywhere, must be specific to kde."}, {"owner": {"reputation": 72, "user_id": 5145512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5764284877d6b9614f95e5dccc09acd1?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Durham", "link": "https://stackoverflow.com/users/5145512/ben-durham"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1445459206, "post_id": 33268359, "comment_id": 54338261, "body": "Interesting. I wonder why."}, {"owner": {"reputation": 72, "user_id": 5145512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5764284877d6b9614f95e5dccc09acd1?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Durham", "link": "https://stackoverflow.com/users/5145512/ben-durham"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1445460241, "post_id": 33268359, "comment_id": 54338818, "body": "I just went onto gnome and tried both sets of code (the one without stderr and the one with it) on both Konsole and the Gnome terminal and got the same result as I got on KDE. It must be something with fedora."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1445460302, "post_id": 33268359, "comment_id": 54338856, "body": "The only thing that changed for me was the order of some lines using  stderr=subprocess.STDOUT"}, {"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1445469548, "post_id": 33268359, "comment_id": 54342791, "body": "@PadraicCunningham, perhaps a different version of iwconfig?"}], "answers": [{"comments": [{"owner": {"reputation": 72, "user_id": 5145512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5764284877d6b9614f95e5dccc09acd1?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Durham", "link": "https://stackoverflow.com/users/5145512/ben-durham"}, "edited": false, "score": 0, "creation_date": 1445458862, "post_id": 33268462, "comment_id": 54338049, "body": "Thank you! Works like a charm!"}], "tags": [], "owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "is_accepted": true, "score": 2, "last_activity_date": 1445458695, "creation_date": 1445458695, "answer_id": 33268462, "question_id": 33268359, "link": "https://stackoverflow.com/questions/33268359/subprocess-check-output-not-providing-full-iwconfig-output/33268462#33268462", "title": "subprocess.check_output() not providing full iwconfig output", "body": "<p>Some of the output may be going to stderr.</p>\n\n<pre><code>test = subprocess.check_output(\"iwconfig\", stderr=subprocess.STDOUT)\n</code></pre>\n"}], "owner": {"reputation": 72, "user_id": 5145512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5764284877d6b9614f95e5dccc09acd1?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Durham", "link": "https://stackoverflow.com/users/5145512/ben-durham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "accepted_answer_id": 33268462, "answer_count": 1, "score": 0, "last_activity_date": 1445458695, "creation_date": 1445458277, "question_id": 33268359, "link": "https://stackoverflow.com/questions/33268359/subprocess-check-output-not-providing-full-iwconfig-output", "title": "subprocess.check_output() not providing full iwconfig output", "body": "<p>I am trying to make a python program to display information about the WiFi connection, but I have hit a snag. subprocess.check_output() is not working the way I need it to.</p>\n\n<pre><code>&gt;&gt;&gt;import subprocess\n&gt;&gt;&gt;test = subprocess.check_output(\"iwconfig\")\n</code></pre>\n\n<p>Provides me with the following:\n    enp9s0    no wireless extensions.</p>\n\n<pre><code>virbr0-nic  no wireless extensions.\n\nvirbr0    no wireless extensions.\n\nlo        no wireless extensions.\n</code></pre>\n\n<p>But when I go into a terminal and do the same command, it provides me with this:</p>\n\n<pre><code>wlp4s0    IEEE 802.11abgn  ESSID:[Network Name]  \n      Mode:Managed  Frequency:5.2 GHz  Access Point: [access point] \n      Bit Rate=81 Mb/s   Tx-Power=14 dBm   \n      Retry short limit:7   RTS thr:off   Fragment thr:off\n      Power Management:off\n      Link Quality=36/70  Signal level=-74 dBm  \n      Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0\n      Tx excessive retries:0  Invalid misc:26   Missed beacon:0\n\nenp9s0    no wireless extensions.\n\nvirbr0-nic  no wireless extensions.\n\nvirbr0    no wireless extensions.\n\nlo        no wireless extensions.\n</code></pre>\n\n<p>Can anyone tell me how to fix this (my goal is to get all of the information that I get when I run it in the terminal when I use python to run it). I tried looking at the docs, but I do not understand everything said there. Thank you in advance.</p>\n"}, {"tags": ["python", "arrays", "csv", "file-writing"], "comments": [{"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1445458389, "post_id": 33268347, "comment_id": 54337812, "body": "I guess <code>pandas</code> is out of the question?"}, {"owner": {"reputation": 2988, "user_id": 1330355, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/nzYn7.png?s=128&g=1", "display_name": "MohitC", "link": "https://stackoverflow.com/users/1330355/mohitc"}, "edited": false, "score": 1, "creation_date": 1445458423, "post_id": 33268347, "comment_id": 54337826, "body": "How is this a csv without commas?"}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 1, "creation_date": 1445458615, "post_id": 33268347, "comment_id": 54337914, "body": "1/ write the header 2/ use a SortedDict to keep the columns in order 3/ rotate your dict: <code>zip(*d.values())</code> (gives you a list for each line)"}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 1, "creation_date": 1445458724, "post_id": 33268347, "comment_id": 54337976, "body": "or if you don&#39;t like SortedDict, <code>zip(*map(lambda x: x[1], sorted(d.items(), key=lambda x: header.index(x[0]))))</code> (but I prefer the SortedDict)"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1445459141, "post_id": 33268347, "comment_id": 54338213, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/17704244/writing-python-lists-to-columns-in-csv\">Writing Python lists to columns in csv</a>"}], "answers": [{"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 2, "last_activity_date": 1445524285, "last_edit_date": 1445524285, "creation_date": 1445461531, "answer_id": 33269249, "question_id": 33268347, "link": "https://stackoverflow.com/questions/33268347/writing-arrays-to-a-csv-in-columns/33269249#33269249", "title": "Writing arrays to a csv in columns", "body": "<p>You could write (and read) the data like this, which uses a <code>defaultdict</code> instead of a plain dictionary to simplify its construction:</p>\n\n<pre><code>from collections import defaultdict\nimport csv\n\nwith open('test1.csv', 'rb') as f:\n    reader = csv.reader(f)\n    header = next(reader)\n    columns = defaultdict(list)\n    for row in reader:\n        for col,value in zip(header, row):\n            columns[col].append(value)\n    num_rows = len(columns[header[0]])\n\n# now write data back out in same order\n\nwith open('test2.csv', 'wb') as f:\n    writer = csv.writer(f)\n    writer.writerow(header)\n    writer.writerows(\n        tuple(columns[col][row] for col in header) for row in xrange(num_rows))\n</code></pre>\n"}], "owner": {"reputation": 657, "user_id": 1785589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bcb101cd569ecc132f1040ea7bd18bb4?s=128&d=identicon&r=PG", "display_name": "DGraham", "link": "https://stackoverflow.com/users/1785589/dgraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3676, "favorite_count": 0, "accepted_answer_id": 33269249, "answer_count": 1, "score": 2, "last_activity_date": 1445524285, "creation_date": 1445458241, "last_edit_date": 1445458595, "question_id": 33268347, "link": "https://stackoverflow.com/questions/33268347/writing-arrays-to-a-csv-in-columns", "title": "Writing arrays to a csv in columns", "body": "<p>I have been trying to solve a basic problem (and have been Python 2.7, and have got no where. I have a csv file with column headings such as:</p>\n\n<pre><code>a,b,c\n1,2,3\n1,2,3\n1,2,3\n</code></pre>\n\n<p>This is saved as test1.csv</p>\n\n<p>I have managed to take each column and pass them into an array, so each column heading is at the start, followed by the data. How would I then write this back into a new csv file with the same order and structure?</p>\n\n<pre><code>import csv\n\nf = open('test1.csv','rb')\n\nreader = csv.reader(f)\nheaders = reader.next()\nprint headers\n\ncolumn = {}\nfor h in headers:\n    column[h] = []  \n\nfor row in reader:\n    for h,v in zip(headers,row):\n    column[h].append(v)\n</code></pre>\n"}, {"tags": ["python", "boost", "doxygen", "python-sphinx", "boost-python"], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 1865939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38692fbfd67170bbea20e75d523ece52?s=128&d=identicon&r=PG", "display_name": "billx", "link": "https://stackoverflow.com/users/1865939/billx"}, "is_accepted": true, "score": 2, "last_activity_date": 1463130508, "last_edit_date": 1495541341, "creation_date": 1463125828, "answer_id": 37204258, "question_id": 33268337, "link": "https://stackoverflow.com/questions/33268337/how-can-i-create-doxygen-docs-from-boostpython-docstrings/37204258#37204258", "title": "How can I create doxygen docs from boost::python docstrings?", "body": "<p>From <a href=\"https://stackoverflow.com/questions/34896122/how-to-avoid-redundancy-between-c-and-boostpython-docs\">this topic</a>, you can do the following:</p>\n\n<p>1 - Write the doxygen documentation:</p>\n\n<pre><code>// DocString: foo\n/**\n * @brief Foo doc\n * @param i an integer\n * @return something\n *\n */\nint foo(int i);\n</code></pre>\n\n<p>2 - Update your binding doc:</p>\n\n<pre><code>BOOST_PYTHON_MODULE(mymodule)\n{\n    using namespace boost::python;\n    def(\"foo1\", foo1, arg(\"i\"), \"@DocString(foo)\");\n}\n</code></pre>\n\n<p>3 - Configure your file (in a build chain) with a script like this:</p>\n\n<pre><code>import re\nimport sys\n\ndef parse_doc_string(istr):\n    pattern = re.compile(r'@(\\w+)\\s+(.*)')\n    docstring = list()\n    for line in map(lambda s : s.strip(), istr):\n        if line == '/**':\n            continue\n        if line == '*/':\n            return docstring\n        line = line.lstrip('* ')\n        match = pattern.match(line)\n        if match:\n            docstring.append((match.group(1), match.group(2)))\n\ndef extract(istr, docstrings):\n    pattern = re.compile(r'^//\\s*DocString:\\s*(\\w+)$')\n    for line in map(lambda s : s.strip(), istr):\n        match = pattern.match(line)\n        if match:\n            token = match.group(1)\n            docstrings[token] = parse_doc_string(istr)\n\ndef format_doc_string(docstring):\n    return '\\n'.join('{}: {}'.format(k, v) for (k, v) in docstring)\n\ndef escape(string):\n    return string.replace('\\n', r'\\n')\n\ndef substitute(istr, ostr, docstrings):\n    pattern = re.compile(r'@DocString\\((\\w+)\\)')\n    for line in map(lambda s : s.rstrip(), istr):\n        for match in pattern.finditer(line):\n            token = match.group(1)\n            docstring = format_doc_string(docstrings[token])\n            line = line.replace(match.group(0), escape(docstring))\n        print(line, file=ostr)\n\nif __name__ == '__main__':\n    sourcefile = sys.argv[1]\n    docstrings = dict()\n    with open(sourcefile) as istr:\n        extract(istr, docstrings)\n    with open(sourcefile) as istr:\n        with sys.stdout as ostr:\n            substitute(istr, ostr, docstrings)\n</code></pre>\n\n<p>It will replace your binding by:</p>\n\n<pre><code>def(\"foo1\", foo1, arg(\"i\"), \"brief: Foo doc\\nparam: i an integer\\nreturn: something\");\n</code></pre>\n"}], "owner": {"reputation": 1507, "user_id": 2483954, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Pd7Nj.jpg?s=128&g=1", "display_name": "sipickles", "link": "https://stackoverflow.com/users/2483954/sipickles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 1, "accepted_answer_id": 37204258, "answer_count": 1, "score": 4, "last_activity_date": 1463130508, "creation_date": 1445458188, "question_id": 33268337, "link": "https://stackoverflow.com/questions/33268337/how-can-i-create-doxygen-docs-from-boostpython-docstrings", "title": "How can I create doxygen docs from boost::python docstrings?", "body": "<p>I've created python bindings for a large body of C++ code, using boost::python. The python bindings have docs like this:</p>\n\n<pre><code>BOOST_PYTHON_MODULE(mymodule)\n{\n    using namespace boost::python;\n    def(\"foo1\", foo1, arg(\"i\"), \"foo1 doc\");\n}\n</code></pre>\n\n<p>The rest of the project is documented with doxygen. I'd like to know if there is a way to produce doxygen docs from the python bindings' docstrings.</p>\n\n<p>To me it seems like I have two options:</p>\n\n<ul>\n<li>Use a magic tool to import the python file and output the docs. Sphinx works to a degree, as its autodoc facility actually loads the python modules and scans for docstrings. However, it's not producing an output format doxygen can use (I think?).</li>\n<li>Write a conversion process to import the BOOST_PYTHON_MODULE. Call help(mymodule). Parse the output to produce skeleton python files. Feed those into doxygen as normal.</li>\n</ul>\n\n<p>Is there a better way?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 1, "creation_date": 1445458365, "post_id": 33268274, "comment_id": 54337802, "body": "if key in self.db: ..."}, {"owner": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 1, "creation_date": 1445458462, "post_id": 33268274, "comment_id": 54337851, "body": "P.S.: The next time you ask a question please give us the code where the Error occurs."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "reply_to_user": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 0, "creation_date": 1445458617, "post_id": 33268274, "comment_id": 54337915, "body": "That is the part of the code where the error occurs..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "reply_to_user": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 0, "creation_date": 1445458676, "post_id": 33268274, "comment_id": 54337946, "body": "@palsch I tried <code>if key in self.db:</code> and I get this error <code>AttributeError: &#39;int&#39; object has no attribute &#39;keys&#39;</code>"}, {"owner": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 1, "creation_date": 1445458837, "post_id": 33268274, "comment_id": 54338039, "body": "where in the posted code is &quot;for line in f[search]:&quot;?"}, {"owner": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 1, "creation_date": 1445458920, "post_id": 33268274, "comment_id": 54338085, "body": "try &quot;if search in f:&quot; before &quot;passwrd = f[search]&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "reply_to_user": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 0, "creation_date": 1445459012, "post_id": 33268274, "comment_id": 54338139, "body": "Oh sorry that was the error code for when I changed <code>for line in passwrd</code> to <code>for line in f[search]</code> sorry didn&#39;t realize that I&#39;ve tried a few things just didn&#39;t realize which error code I coppied"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "reply_to_user": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 0, "creation_date": 1445459212, "post_id": 33268274, "comment_id": 54338264, "body": "No, still putting out errors"}, {"owner": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 1, "creation_date": 1445459279, "post_id": 33268274, "comment_id": 54338302, "body": "let&#39;s discuss outside... SO is complaining ;-)"}, {"owner": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 1, "creation_date": 1445459283, "post_id": 33268274, "comment_id": 54338305, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/93007/discussion-between-pal-sch-and-deliriousmistakes\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 1, "creation_date": 1445468548, "post_id": 33270682, "comment_id": 54342488, "body": "It is easier to ask for forgiveness than permission."}], "tags": [], "owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "is_accepted": false, "score": 1, "last_activity_date": 1445468485, "creation_date": 1445468485, "answer_id": 33270682, "question_id": 33268274, "link": "https://stackoverflow.com/questions/33268274/how-do-i-check-if-the-account-is-saved/33270682#33270682", "title": "How do I check if the account is saved?", "body": "<p>You posted different code from what the error is reporting. I'm going to assume you just changed <code>for line in f[search]:</code> to <code>for line in passwrd:</code>. In that case you need to first check if you even have <code>search</code> available in your file. You can either put it first:</p>\n\n<pre><code>if search in f:\n    for line in f[search]:\n        ...\n</code></pre>\n\n<p>or give it an empty default:</p>\n\n<pre><code>for line in f.get(search, []):\n    ...\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "is_accepted": true, "score": 0, "last_activity_date": 1447767337, "creation_date": 1447767337, "answer_id": 33758323, "question_id": 33268274, "link": "https://stackoverflow.com/questions/33268274/how-do-i-check-if-the-account-is-saved/33758323#33758323", "title": "How do I check if the account is saved?", "body": "<p>Once you open it with <code>shelve</code> if \"search\" is in the dictionary it's saved as(f), if it is saved it does the <code>if</code> statement if it isn't it goes to else.</p>\n\n<pre><code>print '\\n'\nsearch = raw_input(\"For which account are you searching: \")\nf = shelve.open(\"passwords.dat\")\nif search in f:\n    account = f[search]\n    print account\nelse:\n    print \"I'm sorry we could not find any account related to \" + search\nprint '\\n'\nf.close()\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 33758323, "answer_count": 2, "score": 1, "last_activity_date": 1447767337, "creation_date": 1445457997, "last_edit_date": 1445463737, "question_id": 33268274, "link": "https://stackoverflow.com/questions/33268274/how-do-i-check-if-the-account-is-saved", "title": "How do I check if the account is saved?", "body": "<p>I am trying to get the program to search if the user has created an account or not. </p>\n\n<pre><code>print'\\n'\nsearch = raw_input(\"For which account are you searching: \")\nf = shelve.open(\"passwords.dat\")\npasswrd = f[search]\nentry = passwrd[0]\nf.close()\nfor line in passwrd:\n    if search in line:\n        print line\n        print '\\n'\n    print \"I'm sorry we could not find any account related to \" + search\n    print'\\n'\n</code></pre>\n\n<p>This is what I have tried and every time I run it with an account that hasn't been created, it gives me this error</p>\n\n<pre><code>File \"E:\\password.py\", line 35, in find_account\n    for line in f[search]:\n  File \"C:\\Python24\\lib\\shelve.py\", line 118, in __getitem__\n    f = StringIO(self.dict[key])\n  File \"C:\\Python24\\lib\\bsddb\\__init__.py\", line 219, in __getitem__\n    return self.db[key]\nKeyError: 'f'\n</code></pre>\n\n<p>How would I check it and I don't get an error, so my program doesn't end?</p>\n"}, {"tags": ["python", "timer", "flask"], "answers": [{"tags": [], "owner": {"reputation": 36788, "user_id": 272520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/SDKM1.jpg?s=128&g=1", "display_name": "Mark Hildreth", "link": "https://stackoverflow.com/users/272520/mark-hildreth"}, "is_accepted": true, "score": 4, "last_activity_date": 1445458978, "creation_date": 1445458978, "answer_id": 33268540, "question_id": 33268266, "link": "https://stackoverflow.com/questions/33268266/how-do-you-schedule-timed-events-in-flask/33268540#33268540", "title": "How do you schedule timed events in Flask?", "body": "<p>The following is incorrect:</p>\n\n<pre><code>threading.Timer(10, application.reset()).start()\n</code></pre>\n\n<p>The second argument to Timer needs to be a function, but you're actually calling the reset() function and thus passing the result of that method call to Timer. It's as if you've done the following...</p>\n\n<pre><code>result = application.reset()\nthreading.Timer(10, result).start()\n</code></pre>\n\n<p>What you probably want to do instead is the following...</p>\n\n<pre><code>threading.Timer(10, application.reset).start()\n</code></pre>\n\n<p>That being said, I would be very hesitant to use this solution for anything more than a toy project: depending on how your Flask application is deployed, you might actually have multiple Flask processes running at the same time. In that case, this solution will only change the process you are currently accessing. Additionally, spawning a new thread in each request could cause quite a bit of overhead depending on your load.</p>\n\n<p>A better approach might be to save this data into the user's session (a cookie), or into a database. You could use a system like Celery or another message queue to run asynchronous code.</p>\n\n<p>If you need data to \"expire\" after a certain amount of time, also consider setting the date that the data should expire, and then introducing code which checks for the expiration. Thus, your \"set\" method could synchronously set an expiration time, and the \"get\" endpoint could check if the expiration time has elapsed and choose which value to return based on that. Now you don't need an asynchronous call to be made.</p>\n"}], "owner": {"reputation": 1183, "user_id": 2430946, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0fc192bc00f403fe849cb26a2ba57a55?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Siegel", "link": "https://stackoverflow.com/users/2430946/paul-siegel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4385, "favorite_count": 0, "accepted_answer_id": 33268540, "answer_count": 1, "score": 3, "last_activity_date": 1445458978, "creation_date": 1445457979, "question_id": 33268266, "link": "https://stackoverflow.com/questions/33268266/how-do-you-schedule-timed-events-in-flask", "title": "How do you schedule timed events in Flask?", "body": "<p>Here's some code:</p>\n\n<pre><code>from flask import Flask, request\nimport time, threading\n\nclass MyServer(Flask):\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n        self.reset()\n\n    def reset(self):\n        self.string = \"hello\"\n\napplication = MyServer(__name__)\n\n@application.route(\"/set\")\ndef set():\n    application.string = request.args[\"string\"]\n    threading.Timer(10, application.reset()).start()\n    return request.args[\"string\"] + \" stored for 10 seconds\"\n\n@application.route(\"/get\")\ndef get():\n    return application.string\n\nif __name__ == \"__main__\":\n    application.debug = True\n    application.run()\n</code></pre>\n\n<p>My expectation/goal is that if you visit the endpoint <code>/set?string=foo</code> then for the next 10 seconds the app will return \"foo\" any time you visit <code>/get</code>, and from then on it will return \"hello\" until you hit the <code>/set</code> endpoint again.</p>\n\n<p>Instead, if I hit <code>/set?string=foo</code> and then immediately '/get', the app returns \"hello\" and I see \"TypeError: 'NoneType' object is not callable\" in the console.  Can anyone help?</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 2553, "user_id": 4443890, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2601f3b9ff36beb56eaa3ddee2a3f6e9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4443890/jason"}, "edited": false, "score": 0, "creation_date": 1445467133, "post_id": 33268781, "comment_id": 54342048, "body": "(The points (1, 1), (2, 5) and (6, 6) should produce (8.765, 2.941), but your expression gives <code>v = (-5, -5)</code> and then <code>Pt = (-3, 0)</code>"}, {"owner": {"reputation": 25, "user_id": 1361488, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3ae4d965012ce23e2a9d1e6416d88bae?s=128&d=identicon&r=PG", "display_name": "user1361488", "link": "https://stackoverflow.com/users/1361488/user1361488"}, "reply_to_user": {"reputation": 2553, "user_id": 4443890, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2601f3b9ff36beb56eaa3ddee2a3f6e9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4443890/jason"}, "edited": false, "score": 0, "creation_date": 1445505905, "post_id": 33268781, "comment_id": 54355698, "body": "@Jason: Hi, how did you get (8.765, 2.941)?"}, {"owner": {"reputation": 2553, "user_id": 4443890, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2601f3b9ff36beb56eaa3ddee2a3f6e9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4443890/jason"}, "edited": false, "score": 0, "creation_date": 1445515134, "post_id": 33268781, "comment_id": 54361280, "body": "I got it with a lot of algebra. Start <a href=\"http://math.stackexchange.com/questions/361412/finding-the-angle-between-three-points\">here</a>"}, {"owner": {"reputation": 25, "user_id": 1361488, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3ae4d965012ce23e2a9d1e6416d88bae?s=128&d=identicon&r=PG", "display_name": "user1361488", "link": "https://stackoverflow.com/users/1361488/user1361488"}, "reply_to_user": {"reputation": 2553, "user_id": 4443890, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2601f3b9ff36beb56eaa3ddee2a3f6e9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4443890/jason"}, "edited": false, "score": 0, "creation_date": 1445518426, "post_id": 33268781, "comment_id": 54363339, "body": "@Jason, i knew how to get the angle between the vectors. I don&#39;t know how to use it to obtain the point Pt+1."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": -1, "last_activity_date": 1445518719, "last_edit_date": 1445518719, "creation_date": 1445459898, "answer_id": 33268781, "question_id": 33268224, "link": "https://stackoverflow.com/questions/33268224/how-to-rotate-line-segment-from-another-line-segment/33268781#33268781", "title": "how to rotate line segment from another line segment?", "body": "<p>You can actually ignore the angle alpha. There is a vector <em>v</em> which, when added to P2, produces P0. This same vector <em>v</em> added to P1 produces Pt+1. Assuming each point is represented by a tuple (<code>P0 = (x,y)</code>), this becomes</p>\n\n<pre><code>v = (P0[0] - P2[0], P0[1] - P2[1])\nPt+1 = (P1[0] + v[0], P1[1] + v[1])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 1361488, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3ae4d965012ce23e2a9d1e6416d88bae?s=128&d=identicon&r=PG", "display_name": "user1361488", "link": "https://stackoverflow.com/users/1361488/user1361488"}, "edited": false, "score": 0, "creation_date": 1445585670, "post_id": 33289468, "comment_id": 54393317, "body": "Hi Jason, thanks for your help. I ended up using <a href=\"http://paulbourke.net/geometry/circlesphere/\" rel=\"nofollow noreferrer\">this</a> method to find the unknown co-ordinate . The section on intersection of two circles."}, {"owner": {"reputation": 2553, "user_id": 4443890, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2601f3b9ff36beb56eaa3ddee2a3f6e9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4443890/jason"}, "reply_to_user": {"reputation": 25, "user_id": 1361488, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3ae4d965012ce23e2a9d1e6416d88bae?s=128&d=identicon&r=PG", "display_name": "user1361488", "link": "https://stackoverflow.com/users/1361488/user1361488"}, "edited": false, "score": 0, "creation_date": 1445611389, "post_id": 33289468, "comment_id": 54409016, "body": "@user1361488 It&#39;s not clear to me how you can use that method to solve your problem. Can you write up an answer to your original question that explains how to apply that method to your problem? I really enjoyed this problem and I&#39;d love to see another way to find that point."}], "tags": [], "owner": {"reputation": 2553, "user_id": 4443890, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2601f3b9ff36beb56eaa3ddee2a3f6e9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4443890/jason"}, "is_accepted": false, "score": 1, "last_activity_date": 1445549741, "last_edit_date": 1492085955, "creation_date": 1445543324, "answer_id": 33289468, "question_id": 33268224, "link": "https://stackoverflow.com/questions/33268224/how-to-rotate-line-segment-from-another-line-segment/33289468#33289468", "title": "how to rotate line segment from another line segment?", "body": "<p>You're looking for the x and y value of a point. That's two variables. Therefore you need two equations that relate x and y to have a solvable system. </p>\n\n<p><a href=\"https://math.stackexchange.com/questions/361412/finding-the-angle-between-three-points\">This link</a> shows how to find the angle theta between two vectors. Since the angle between your first vector and your second vector is equal to the angle between your second vector and your third vector, you can set the right sides of the \"theta =\" equation given in that link equal to each other for each of your vector pairs. At this point you can drop the arc cosine, leaving you with just the fraction on either side of your equation. Then you can go even further and ignore the denominator in that formula, since it is a product of the magnitudes of the vectors and your vector magnitudes are all equal. The first equation that relates your x and y is therefore:</p>\n\n<p>The dot-product of the first and second vectors equals the dot product of the second and third vectors.</p>\n\n<p>The second equation that relates your x and y can be the following:</p>\n\n<p>The magnitude of any of your known vectors equals the magnitude of the vector between P_0 and P_t+1 . </p>\n\n<p>You can use the distance formula to set up that equation.</p>\n\n<p>Now you have a system of two equations with only two unknown values and some fairly straightforward algebra to solve. I solved the first equation for one of the variables in terms of the other, then substituted it in the second equation and used the quadratic formula. It made for some really ugly code when I transcribed all of my algebra, but the cool Spirographs I made were (almost) worth it.</p>\n\n<p>Just a cautionary note: Since this method produces two solution sets (because of the squares), you'll have to decide which of them is the solution you want. It got tedious well before I got to that point, so I decided not to exhaustively figure that part out and I made a crude function to steer my vectors in the right direction. Good luck!</p>\n"}], "owner": {"reputation": 25, "user_id": 1361488, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3ae4d965012ce23e2a9d1e6416d88bae?s=128&d=identicon&r=PG", "display_name": "user1361488", "link": "https://stackoverflow.com/users/1361488/user1361488"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1445549741, "creation_date": 1445457810, "question_id": 33268224, "link": "https://stackoverflow.com/questions/33268224/how-to-rotate-line-segment-from-another-line-segment", "title": "how to rotate line segment from another line segment?", "body": "<p><img src=\"https://i.imgur.com/OQIpJFD.png\" alt=\"line\"></p>\n\n<p>If I have 3 points(P2,P1,P0) and an angle (alpha) between them. What code would find a new point Pt+1 using the angle alpha? The length of the segment is the same between every point.</p>\n"}, {"tags": ["python", "python-2.7", "class", "oop", "object"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 3, "creation_date": 1445457628, "post_id": 33268135, "comment_id": 54337404, "body": "Why are you trying to do this using strings for the class name instead of passing the class itself? It can be done, but it&#39;s a really bad idea."}, {"owner": {"reputation": 362, "user_id": 4762234, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/880403468672301/picture?type=large", "display_name": "Yogendra", "link": "https://stackoverflow.com/users/4762234/yogendra"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1445459623, "post_id": 33268135, "comment_id": 54338498, "body": "Actually I have to store the object created in a dictionary with name as keyValue that&#39;s why I need object of specified name."}], "answers": [{"comments": [{"owner": {"reputation": 362, "user_id": 4762234, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/880403468672301/picture?type=large", "display_name": "Yogendra", "link": "https://stackoverflow.com/users/4762234/yogendra"}, "edited": false, "score": 0, "creation_date": 1445459869, "post_id": 33268283, "comment_id": 54338612, "body": "I want to have object of specified type with specified parameters"}, {"owner": {"reputation": 997, "user_id": 2085282, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7f3c60909c612ccd978a2e381c4ac45?s=128&d=identicon&r=PG", "display_name": "user2085282", "link": "https://stackoverflow.com/users/2085282/user2085282"}, "reply_to_user": {"reputation": 362, "user_id": 4762234, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/880403468672301/picture?type=large", "display_name": "Yogendra", "link": "https://stackoverflow.com/users/4762234/yogendra"}, "edited": false, "score": 0, "creation_date": 1445460471, "post_id": 33268283, "comment_id": 54338929, "body": "Please see edit, you can provide arguments using a list, or if the arguments are fixed, you can pass them directly"}], "tags": [], "owner": {"reputation": 997, "user_id": 2085282, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7f3c60909c612ccd978a2e381c4ac45?s=128&d=identicon&r=PG", "display_name": "user2085282", "link": "https://stackoverflow.com/users/2085282/user2085282"}, "is_accepted": false, "score": 0, "last_activity_date": 1445460418, "last_edit_date": 1445460418, "creation_date": 1445458018, "answer_id": 33268283, "question_id": 33268135, "link": "https://stackoverflow.com/questions/33268135/create-instance-of-a-class-using-function-in-python/33268283#33268283", "title": "create instance of a class using function in python", "body": "<p>While there are more all-encompassing ways to do this, it can be very dangerous if you end up instantiating a class you weren't expecting to.</p>\n\n<p>A simple way to accomplish this is to have a dictionary of all of the classes you will permit this code to instantiate, for example:</p>\n\n<pre><code>In [1]: class_dict = { \"int\" : int, \"str\" : str }\n\nIn [2]: args = [1]\n\nIn [3]: i = class_dict[\"int\"](*args)\n\nIn [4]: i\nOut[4]: 1\n\nIn [5]: args = [\"test\"]\n\nIn [6]: s = class_dict[\"str\"](*args)\n\nIn [7]: s\nOut[7]: 'test'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 362, "user_id": 4762234, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/880403468672301/picture?type=large", "display_name": "Yogendra", "link": "https://stackoverflow.com/users/4762234/yogendra"}, "edited": false, "score": 0, "creation_date": 1445459314, "post_id": 33268305, "comment_id": 54338318, "body": "I don;t get it, Can you please explain a bit?"}], "tags": [], "owner": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "is_accepted": false, "score": 0, "last_activity_date": 1445459410, "last_edit_date": 1445459410, "creation_date": 1445458095, "answer_id": 33268305, "question_id": 33268135, "link": "https://stackoverflow.com/questions/33268135/create-instance-of-a-class-using-function-in-python/33268305#33268305", "title": "create instance of a class using function in python", "body": "<p>What about using</p>\n\n<p><code>exec(\"...\", globals(), locals())</code></p>\n\n<p>Note the globals() and locals().\n\"...\" stands for class init in python syntax.</p>\n\n<p>exec executes the code, the globals and locals is that the code executed in exec is not \"catched\" in the exec-namespace.</p>\n"}, {"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 0, "last_activity_date": 1445462128, "creation_date": 1445462128, "answer_id": 33269382, "question_id": 33268135, "link": "https://stackoverflow.com/questions/33268135/create-instance-of-a-class-using-function-in-python/33269382#33269382", "title": "create instance of a class using function in python", "body": "<p>You should not use the names of your variables (including classes) as data. If you need to be able to refer to a given value (e.g. a class) by a specific string, put it in a dictionary with the string as a key. This way you know exactly what your data can refer to.</p>\n\n<p>So, try something like this:</p>\n\n<pre><code>def call_func_in_namespace(callable_name, arg_names, namespace):\n    args = (namespace[name] for name in arg_names)\n    return namespace[callable_name](*args)\n</code></pre>\n\n<p>You'd call it with something like:</p>\n\n<pre><code>namespace = {\"int\": int, \"base\": 3, \"val\": \"212102\"}\n\nresult = call_func_in_namespace(\"int\", (\"val\", \"base\"), namespace)\n</code></pre>\n\n<p>There are lots of variations you could try, depending on what your actual use for this is. The callable and arguments could come from different namespaces, for instance. I'd just strongly encourage you not to use <code>globals()</code> as the namespace.</p>\n"}], "owner": {"reputation": 362, "user_id": 4762234, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/880403468672301/picture?type=large", "display_name": "Yogendra", "link": "https://stackoverflow.com/users/4762234/yogendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 955, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1445462128, "creation_date": 1445457462, "last_edit_date": 1445459766, "question_id": 33268135, "link": "https://stackoverflow.com/questions/33268135/create-instance-of-a-class-using-function-in-python", "title": "create instance of a class using function in python", "body": "<p>I want to define a function that takes in name, type and list of parameters(of class) as input and creates an instance of class of given type and given name with specified parameters. and Save it in a dictionary with name as key Value How to do it?\nI have tried using</p>\n\n<pre><code>return globals()['name']=globals()['type](globals(\"\".join(list_of_parameter)))\n</code></pre>\n\n<p>but it didn't work I even tried to use <code>eval()</code></p>\n\n<p>instead of <code>globals()</code> but it doesn't work either.</p>\n\n<p>(name and type are strings list_of_parameters is a list of strings where each string is a variable or object) </p>\n"}, {"tags": ["python", "sage"], "answers": [{"comments": [{"owner": {"reputation": 3588, "user_id": 2706344, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d5450ccc81c173504d25c755092adf01?s=128&d=identicon&r=PG&f=1", "display_name": "principal-ideal-domain", "link": "https://stackoverflow.com/users/2706344/principal-ideal-domain"}, "edited": false, "score": 0, "creation_date": 1445517365, "post_id": 33280344, "comment_id": 54362725, "body": "Thanks. I also wrote an own implementation since I didn&#39;t get an answer here in the first few hours. I&#39;ll add it to my question. Does a//b mean floor(a/b)?"}, {"owner": {"reputation": 2305, "user_id": 3827575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHHrM.png?s=128&g=1", "display_name": "Samuel Leli&#232;vre", "link": "https://stackoverflow.com/users/3827575/samuel-leli%c3%a8vre"}, "reply_to_user": {"reputation": 3588, "user_id": 2706344, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d5450ccc81c173504d25c755092adf01?s=128&d=identicon&r=PG&f=1", "display_name": "principal-ideal-domain", "link": "https://stackoverflow.com/users/2706344/principal-ideal-domain"}, "edited": false, "score": 0, "creation_date": 1556619035, "post_id": 33280344, "comment_id": 98491283, "body": "@principal-ideal-domain -- Exactly: in Python <code>a &#47;&#47; b</code> is the quotient in the &quot;quotient and remainder&quot; division, and <code>a % b</code> is the remainder. In Sage one can get both at once with <code>quo_rem</code>, for example <code>23.quo_rem(7)</code> gives <code>(3, 2)</code>, and indeed <code>23 = 3 * 7 + 2</code>."}], "tags": [], "owner": {"reputation": 2305, "user_id": 3827575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHHrM.png?s=128&g=1", "display_name": "Samuel Leli&#232;vre", "link": "https://stackoverflow.com/users/3827575/samuel-leli%c3%a8vre"}, "is_accepted": false, "score": 0, "last_activity_date": 1445514662, "creation_date": 1445514662, "answer_id": 33280344, "question_id": 33268018, "link": "https://stackoverflow.com/questions/33268018/get-fundamental-discriminant/33280344#33280344", "title": "Get fundamental discriminant", "body": "<p>I don't know if the function is implemented in SageMath.</p>\n\n<p>But if I understand the definition correctly, you can define the function as follows:</p>\n\n<pre><code>def fundamental_discriminant(d):\n    if d % 4 == 1:\n        return d.squarefree_part()\n    if d % 4 == 0:\n        k = d.valuation(4)\n        dd = d // 4^k\n        if dd % 4 == 1:\n            return dd.squarefree_part()\n        if dd % 4 == 2:\n            return 4 * dd.squarefree_part()\n        if dd % 4 == 3:\n            return 4 * dd.squarefree_part()\n    raise ValueError(\"Not a discriminant.\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3588, "user_id": 2706344, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d5450ccc81c173504d25c755092adf01?s=128&d=identicon&r=PG&f=1", "display_name": "principal-ideal-domain", "link": "https://stackoverflow.com/users/2706344/principal-ideal-domain"}, "edited": false, "score": 0, "creation_date": 1448114105, "post_id": 33793044, "comment_id": 55452769, "body": "I think there is no problem. Thank you for mentioning the method."}], "tags": [], "owner": {"reputation": 176, "user_id": 5578949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6a975cfad7f312d43857b42ccbe4e7f?s=128&d=identicon&r=PG", "display_name": "aghitza", "link": "https://stackoverflow.com/users/5578949/aghitza"}, "is_accepted": true, "score": 1, "last_activity_date": 1447892105, "creation_date": 1447892105, "answer_id": 33793044, "question_id": 33268018, "link": "https://stackoverflow.com/questions/33268018/get-fundamental-discriminant/33793044#33793044", "title": "Get fundamental discriminant", "body": "<p>What's the problem with fundamental_discriminant?</p>\n\n<pre><code>sage: fundamental_discriminant(1)\n1\nsage: fundamental_discriminant(3)\n12\nsage: fundamental_discriminant?\nSignature:      fundamental_discriminant(D)\nDocstring:\n   Return the discriminant of the quadratic extension K=Q(sqrt{D}),\n   i.e. an integer d congruent to either 0 or 1, mod 4, and such that,\n   at most, the only square dividing it is 4.\n\n   INPUT:\n\n   * \"D\" - an integer\n\n   OUTPUT:\n\n   * an integer, the fundamental discriminant\n</code></pre>\n"}], "owner": {"reputation": 3588, "user_id": 2706344, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d5450ccc81c173504d25c755092adf01?s=128&d=identicon&r=PG&f=1", "display_name": "principal-ideal-domain", "link": "https://stackoverflow.com/users/2706344/principal-ideal-domain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 33793044, "answer_count": 2, "score": 1, "last_activity_date": 1556626530, "creation_date": 1445457033, "last_edit_date": 1556626530, "question_id": 33268018, "link": "https://stackoverflow.com/questions/33268018/get-fundamental-discriminant", "title": "Get fundamental discriminant", "body": "<p>Is there a function in Sage which returns the fundamental discriminant associated to a given discriminant?</p>\n\n<p>See <a href=\"https://en.wikipedia.org/wiki/Fundamental_discriminant\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Fundamental_discriminant</a></p>\n\n<p>This is the function I wrote, not finding an existing one:</p>\n\n<pre><code>def getFund(D):\n    if D % 4 == 2 or D % 4 == 3:\n        raise ValueError(\"Not a discriminant.\")\n    if D == 0:\n        raise ValueError(\"There is no fundamental associated to 0.\")\n    P = sign(D)\n    for p in factor(D):\n        if p[1] % 2 == 1:\n            P *= p[0]\n    if P % 4 == 2 or P % 4 == 3:\n        P *= 4\n    return P\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1445457047, "post_id": 33268016, "comment_id": 54337129, "body": "Hello and welcome to StackOverflow. Please take some time to read the help page, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>. And more importantly, please read <a href=\"http://meta.stackexchange.com/q/156810/204922\">the Stack Overflow question checklist</a>. You might also want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>."}, {"owner": {"reputation": 1050, "user_id": 1082309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PBbYD.jpg?s=128&g=1", "display_name": "Riet", "link": "https://stackoverflow.com/users/1082309/riet"}, "edited": false, "score": 0, "creation_date": 1445457598, "post_id": 33268016, "comment_id": 54337391, "body": "I don&#39;t think you want to write a programming Language in python. C or some other low-level language could be used much more resource-efficiently. If you mean make a program in python, that&#39;s a different story."}], "answers": [{"tags": [], "owner": {"reputation": 555, "user_id": 5473188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3cfa97c6ef9dc299f9a72cc1285649b?s=128&d=identicon&r=PG&f=1", "display_name": "sponrad", "link": "https://stackoverflow.com/users/5473188/sponrad"}, "is_accepted": false, "score": 3, "last_activity_date": 1445457807, "creation_date": 1445457807, "answer_id": 33268220, "question_id": 33268016, "link": "https://stackoverflow.com/questions/33268016/how-do-i-properly-start-creating-a-programming-language-in-python/33268220#33268220", "title": "How do I properly start creating a programming language in python?", "body": "<p>You would probably start by first planning out your language. That should take a lot of time. Then in Python... you would write a parser that can understand the syntax of your language, and an interpreter that can take the results of the parser and perform the actions of the program.</p>\n\n<p>Your language that is written in Python with Python in-turn being written in C is practically guaranteed to be very slow and will not succeed, but this could be a really fun thing to do as a learning or education experience.</p>\n"}, {"tags": [], "owner": {"reputation": 898, "user_id": 4194964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cdafddf072058ab6457e6aaf3eb1581?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Cain", "link": "https://stackoverflow.com/users/4194964/brian-cain"}, "is_accepted": false, "score": 0, "last_activity_date": 1445457983, "creation_date": 1445457983, "answer_id": 33268271, "question_id": 33268016, "link": "https://stackoverflow.com/questions/33268016/how-do-i-properly-start-creating-a-programming-language-in-python/33268271#33268271", "title": "How do I properly start creating a programming language in python?", "body": "<p>You will likely want to look at Abstract Syntax Trees.  This is the underlying structure that python is built on.  Take a look here at the documentation: <a href=\"https://docs.python.org/2/library/ast.html\" rel=\"nofollow\">https://docs.python.org/2/library/ast.html</a></p>\n\n<p>Using ASTs you can at least define the syntax of your language.  You will still need to solve the problem of how to interpret it on a platform to get your code to execute.</p>\n"}], "owner": {"reputation": 485, "user_id": 4287890, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1640572099527146/picture?type=large", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/4287890/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1445458549, "answer_count": 2, "score": -6, "last_activity_date": 1445457983, "creation_date": 1445457024, "question_id": 33268016, "link": "https://stackoverflow.com/questions/33268016/how-do-i-properly-start-creating-a-programming-language-in-python", "closed_reason": "Needs more focus", "title": "How do I properly start creating a programming language in python?", "body": "<p>So I've been thinking to make a programming language written in python but I have no idea where to start, and I really don't know the steps creating it.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 898, "user_id": 4194964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cdafddf072058ab6457e6aaf3eb1581?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Cain", "link": "https://stackoverflow.com/users/4194964/brian-cain"}, "edited": false, "score": 0, "creation_date": 1445457180, "post_id": 33267955, "comment_id": 54337200, "body": "You may want to read the Input Output help section of the python documentation at <a href=\"https://docs.python.org/3/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial/inputoutput.html</a>   You should be verifying that the document opened correctly and reading the content from the file, parsing the content to determine if it is contains the name your looking for."}, {"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "reply_to_user": {"reputation": 898, "user_id": 4194964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cdafddf072058ab6457e6aaf3eb1581?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Cain", "link": "https://stackoverflow.com/users/4194964/brian-cain"}, "edited": false, "score": 0, "creation_date": 1445457317, "post_id": 33267955, "comment_id": 54337259, "body": "Yes everything is working and the program does read the contents within the text file and if the condition of &#39;name&#39; was met it outputs &#39;True&#39;. However I would like the program to output the condition &#39;name&#39; which was in the text file. If the content was found."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 0, "creation_date": 1445457506, "post_id": 33267955, "comment_id": 54337350, "body": "See the load_numbers() function at <a href=\"https://en.wikibooks.org/wiki/Non-Programmer%27s_Tutorial_for_Python_2.6/File_IO\" rel=\"nofollow noreferrer\">en.wikibooks.org/wiki/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 0, "creation_date": 1445457666, "post_id": 33267955, "comment_id": 54337423, "body": "&quot;the program does read the contents within the text file&quot;--I would suggest that you print &quot;line&quot; after the &quot;for line in datafile&quot; statement as that line has nothing to do with reading the file.  Also you are reading the entire file and you want to examine each line within the file instead.  Saying that it is working to someone who is trying to help will reduce your chances of help next time."}, {"owner": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 0, "creation_date": 1445457885, "post_id": 33267955, "comment_id": 54337539, "body": "if it&#39;s not nescessary to have it in a txt-file, see my answer"}, {"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445462821, "post_id": 33267955, "comment_id": 54340204, "body": "Briefly, my task is to make a Maths quiz for student and there name and score out of 10 must be saved into a .txt file. The second task is to allow the user to input there name and the program must find the 3 latest scores of the user and make an Average of there score. So i want python to be able to get the specific users score and print it. So i can then use the numbers to create an average score."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 0, "creation_date": 1445458230, "post_id": 33268189, "comment_id": 54337717, "body": "Note that your readline is outside the while loop.  Also, it will print True or False for every record.  You possibly only want to print False if the name was not found any where in the file."}, {"owner": {"reputation": 898, "user_id": 4194964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cdafddf072058ab6457e6aaf3eb1581?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Cain", "link": "https://stackoverflow.com/users/4194964/brian-cain"}, "edited": false, "score": 0, "creation_date": 1445458363, "post_id": 33268189, "comment_id": 54337800, "body": "Good catch on the indent.  I left the False in the code to closer match the original poster&#39;s code.  You are correct however that It can be removed or added to a while else statement."}], "tags": [], "owner": {"reputation": 898, "user_id": 4194964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cdafddf072058ab6457e6aaf3eb1581?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Cain", "link": "https://stackoverflow.com/users/4194964/brian-cain"}, "is_accepted": false, "score": 0, "last_activity_date": 1445458302, "last_edit_date": 1445458302, "creation_date": 1445457692, "answer_id": 33268189, "question_id": 33267955, "link": "https://stackoverflow.com/questions/33267955/python-help-output-specific-data-from-txt-file-and-output-it-in-python/33268189#33268189", "title": "Python HELP - Output specific data from .txt file and output it in python", "body": "<p>I would recommending using the with construct as it handles the close for you.  The following program loops through all lines in the file looking for the name in the contents read</p>\n\n<pre><code>with open('1.txt', \"r\") as fp:\n   data = fp.readline()\n   while data != \"\":\n      if name in data:\n         print (\"True\")\n            break\n      else:\n          print (\"False\")\n      data = fp.readline()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445461942, "post_id": 33268204, "comment_id": 54339733, "body": "Alright, what i want to know is when the program outputs &#39;True&#39; it obviously met the condition inputted as the &#39;name&#39; I want to know how can i output the condition form the .txt file into python?"}, {"owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "reply_to_user": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445462131, "post_id": 33268204, "comment_id": 54339830, "body": "I&#39;m not sure I understand. Are you trying to output the name variable to the screen?"}, {"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445462658, "post_id": 33268204, "comment_id": 54340112, "body": "The text file has data such as &#39;John = 10/10.&#39; So if the user puts in &#39;John&#39; as there username the program will search for the term &#39;John&#39; in the .txt file. If it comes as positive it outputs &#39;True&#39; on python. If not then &#39;false&#39;. I want to be able to print &#39;John = 10/10&#39; via python if the program first meets the condition of &#39;John&#39; being in the text file in the first place. I&#39;m sorry im a noob at this and bad at explaining code. please forgive me."}, {"owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "reply_to_user": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445462746, "post_id": 33268204, "comment_id": 54340165, "body": "No worries! I would either print the entire line if that&#39;s the ONLY thing on the line, or use the <code>re</code> module to find that with a regular expression. You know it&#39;s on that particular line because of the <code>line</code> variable in the loop. If you wanted to search the entire file without scanning line by line, then <code>re</code> is the way to go."}, {"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445462976, "post_id": 33268204, "comment_id": 54340287, "body": "Yes thats what i need! If the user&#39;s username is &#39;John&#39; and the program finds data corresponding to that string it should print everything in that line into python. In this case &#39;John = 10/10&#39; I&#39;m stuck on actually printing the key line i need to create an average score."}, {"owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "reply_to_user": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445463073, "post_id": 33268204, "comment_id": 54340350, "body": "so try <code>print(line)</code> and the output will be &#39;John = 10/10&#39; in this case."}, {"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445463303, "post_id": 33268204, "comment_id": 54340460, "body": "Great that works! What if the term &#39;John&#39; was found multiple times in the text file. Is there anyway to output all the lines that include &#39;John&#39;! If so then great I can proceed with my task!"}, {"owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "reply_to_user": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445463407, "post_id": 33268204, "comment_id": 54340519, "body": "This will output each line for all lines that contain &#39;John&#39; if you put the <code>print(line)</code> statement in the <code>if name in line</code> condition."}, {"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445463637, "post_id": 33268204, "comment_id": 54340625, "body": "Thank you! You have helped me so much, i can thank you enough. I will encounter many problems in the future and was wondering if there a better way in contacting you? You have a massive help thanks, a lot of stress has been pulled away from my shoulders!"}, {"owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "reply_to_user": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445463863, "post_id": 33268204, "comment_id": 54340727, "body": "Happy to help! Actually, it&#39;s better to ask questions here on SO so everyone can see and contribute. I just joined the site. So long as your question is clear and concise, you will find countless people willing to help. Check out past questions, too. Any time I need to do something new in Python, this site is my hero."}, {"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445464248, "post_id": 33268204, "comment_id": 54340905, "body": "I am currently undergoing a few more problems? Care if I explain? I&#39;m just a little shy as you have already helped me so much!"}, {"owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "reply_to_user": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445464335, "post_id": 33268204, "comment_id": 54340953, "body": "You should ask a separate question, or google &quot;python foo&quot; where foo is the thing you are trying to do, otherwise this thread will get really confusing."}, {"owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "edited": false, "score": 0, "creation_date": 1445464410, "post_id": 33268204, "comment_id": 54340991, "body": "Alrighty i&#39;ll create another thread! Thanks for your time and effort in helping me."}], "tags": [], "owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "is_accepted": true, "score": 0, "last_activity_date": 1445457737, "creation_date": 1445457737, "answer_id": 33268204, "question_id": 33267955, "link": "https://stackoverflow.com/questions/33267955/python-help-output-specific-data-from-txt-file-and-output-it-in-python/33268204#33268204", "title": "Python HELP - Output specific data from .txt file and output it in python", "body": "<p>It could look something like this:</p>\n\n<pre><code>classs = input(\"Class [1, 2 or 3] -  \")\n\nif classs =='1':\n    name = input(\"What is your name? -  \")\n\n    datafile = '1.txt'\n    found = False\n\n    # This is a better way to open the file, closes when done\n    with open(datafile, 'r') as f:\n        data = f.readlines()\n        for line in data:\n            if name in line:\n                print(\"True\")\n                found = True\n        if found == False:\n            print(\"False\")\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "is_accepted": false, "score": 0, "last_activity_date": 1445457807, "last_edit_date": 1495535230, "creation_date": 1445457807, "answer_id": 33268221, "question_id": 33267955, "link": "https://stackoverflow.com/questions/33267955/python-help-output-specific-data-from-txt-file-and-output-it-in-python/33268221#33268221", "title": "Python HELP - Output specific data from .txt file and output it in python", "body": "<p>First, to read the content of a file, use</p>\n\n<pre><code>content = \"\"\nwith open(\"yourfile.txt\", \"r\") as f:\n    for s in f: content += s\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/3012488/what-is-the-python-with-statement-designed-for\">Here</a> you can find more information on with.</p>\n\n<p>So, you have the content of the file in the variable content.\nNow your question is a bit unclear. The first part is clear, only write</p>\n\n<pre><code>if name in content:\n</code></pre>\n\n<p>... but what is the format of the file?</p>\n\n<p><strong>but...</strong></p>\n\n<p>If you want to save scores of users in a dictionary in a file, it's a better option to use <strong>pickle</strong>.\nSo first you import pickle:</p>\n\n<pre><code>import pickle\n</code></pre>\n\n<p>...and you have a dictionary like </p>\n\n<blockquote>\n  <p>{\"Tom\":10, \"Pascal\":12}</p>\n</blockquote>\n\n<p>in the variable <em>scores</em>, you save it with</p>\n\n<pre><code>pickle.dump(scores, open(\"myfile.p\", \"wb\"))\n</code></pre>\n\n<p>and read it with </p>\n\n<pre><code>scores = pickle.load(open(\"myfile.p\", \"rb\"))\n</code></pre>\n\n<p>See <a href=\"https://wiki.python.org/moin/UsingPickle\" rel=\"nofollow noreferrer\">this examples</a> and <a href=\"https://docs.python.org/3.5/library/pickle.html\" rel=\"nofollow noreferrer\">the Python dok</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 4718536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jqtby.jpg?s=128&g=1", "display_name": "KryptoModz", "link": "https://stackoverflow.com/users/4718536/kryptomodz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 33268204, "answer_count": 3, "score": 0, "last_activity_date": 1445635294, "creation_date": 1445456801, "last_edit_date": 1445635294, "question_id": 33267955, "link": "https://stackoverflow.com/questions/33267955/python-help-output-specific-data-from-txt-file-and-output-it-in-python", "title": "Python HELP - Output specific data from .txt file and output it in python", "body": "<p>Here is my code:</p>\n\n<pre><code>classs = input(\"Class [1, 2 or 3] -  \")\n\nif classs =='1':\n        name = ).read():\n                print (\"True\")\n                break\n            else:\n                print (\"False\")\n</code></pre>\n\n<p>So basically, I need the program to find the content 'name' in the .txt file and what comes along with it (same line)</p>\n\n<p>If  'Tom' (name) was in the .txt file and 'Tom' was in-putted as the 'name' the program would output True. As the name was found within the .txt file.</p>\n\n<p>My question is how do i output the contents found under name, which will then allow me to use the integers to output an average score.</p>\n"}, {"tags": ["python", "arduino", "rfid", "nfc"], "comments": [{"owner": {"reputation": 1215, "user_id": 838253, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uLH3f.gif?s=128&g=1", "display_name": "Milliways", "link": "https://stackoverflow.com/users/838253/milliways"}, "edited": false, "score": 0, "creation_date": 1445465571, "post_id": 33270853, "comment_id": 54342767, "body": "This appears to be a Python programming question - ask on a programming site."}], "answers": [{"tags": [], "owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "is_accepted": false, "score": 0, "last_activity_date": 1445470535, "creation_date": 1445470535, "answer_id": 33271044, "question_id": 33270853, "link": "https://stackoverflow.com/questions/33270853/printing-selected-data-that-the-pi-gets-from-a-serial-connection-then-opening-a/33271044#33271044", "title": "Printing Selected Data that the Pi gets from a serial connection then opening a file named that data", "body": "<p>I am assuming that your serial read is working properly so I will deal only with the second part.</p>\n\n<pre><code>for line in serialport.readline():\n  if \"UID Value:\" in line:\n    filename = ''.join([word[2:] if word.startswith('0x') else '' for word in line.split()])+'.sh'\n</code></pre>\n\n<p>you can then use <code>os.system(filedir+filename)</code> to run the sh file, assuming you know what the filedir is.</p>\n\n<p>EDIT: make sure to have <code>line.split()</code> instead of <code>line</code> in list comprehension, I realized that strings iterate through each letter, not each word.</p>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1447786122, "open_beta_date": 1340134756, "closed_beta_date": 1339527600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/raspberrypi/Img/apple-touch-icon@2.png", "twitter_account": "StackRaspi", "favicon_url": "https://cdn.sstatic.net/Sites/raspberrypi/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/raspberrypi/Img/apple-touch-icon.png", "audience": "users and developers of hardware and software for Raspberry Pi", "site_url": "https://raspberrypi.stackexchange.com", "api_site_parameter": "raspberrypi", "logo_url": "https://cdn.sstatic.net/Sites/raspberrypi/Img/logo.png", "name": "Raspberry Pi", "site_type": "main_site"}, "on_date": 1445469475, "question_id": 37525}, "owner": {"user_type": "does_not_exist", "display_name": "Xzavier Kendal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445470535, "creation_date": 1445456725, "question_id": 33270853, "link": "https://stackoverflow.com/questions/33270853/printing-selected-data-that-the-pi-gets-from-a-serial-connection-then-opening-a", "title": "Printing Selected Data that the Pi gets from a serial connection then opening a file named that data", "body": "<p>HI After hours of research I've come to ask the people for help, I have this simple script</p>\n\n<pre><code>import serial \nserialport = serial.Serial(\"/dev/ttyACM0\",115200,timeout=1)\n\n     while 1:\n           print serialport.readline(),\n\nserialport.close()\n</code></pre>\n\n<p>The script's function is to Grab Data from an Arduino and Display it On the Pi. \nWhat I want to do is Take all the data and only print 1 string of data. Example</p>\n\n<p>On my Arduino I have the this set to print a UID of my RFID Card </p>\n\n<pre><code>// Display some basic information about the card\n    Serial.println(\"Found an ISO14443A card\");\n    Serial.print(\"  UID Length: \");Serial.print(uidLength, DEC);Serial.println(\" bytes\");\n    Serial.print(\"  UID Value: \");\n    nfc.PrintHex(uid, uidLength);\n    Serial.println(\"\");\n</code></pre>\n\n<p>The Data I'm getting on the PI is as follows </p>\n\n<pre><code>Found an ISO14443A card\n  UID Length: 4 bytes\n  UID Value: 0x3A 0xDE 0x4D 0x02\n</code></pre>\n\n<p>I don't want to Display all this data I just want the UID Value: So my end Result is \"UID Value: 0x3A 0xDE 0x4D 0x02\" or whatever the UID of the card is not the other data</p>\n\n<p>The next step I need help with as I'm clueless with this is Take the UID Value remove the spaces so its a single string remove its name and remove the 0x so it looks like \"3ADE4D02\" and run a sh file named that string so it would run 3ADE4D02.sh </p>\n\n<p>TL:DR I want to take the UID from a serial Connection and open an sh file named that UID</p>\n\n<p>Any Ideas?</p>\n"}, {"tags": ["python", "sql", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 2395536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1b92b5666758e27cbfac024261c8ff?s=128&d=identicon&r=PG", "display_name": "defcal", "link": "https://stackoverflow.com/users/2395536/defcal"}, "edited": false, "score": 0, "creation_date": 1445467578, "post_id": 33270233, "comment_id": 54342189, "body": "great thank you! is there a way to make it return a bool instead of count?"}], "tags": [], "owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "is_accepted": true, "score": 3, "last_activity_date": 1445500212, "last_edit_date": 1445500212, "creation_date": 1445465952, "answer_id": 33270233, "question_id": 33267860, "link": "https://stackoverflow.com/questions/33267860/how-do-i-write-a-hybrid-property-that-depends-on-a-column-in-children-relationsh/33270233#33270233", "title": "How do I write a Hybrid Property that depends on a column in children relationship?", "body": "<p>Following <a href=\"http://docs.sqlalchemy.org/en/rel_1_0/orm/extensions/hybrid.html#correlated-subquery-relationship-hybrid\" rel=\"nofollow\">Correlated Subquery Relationship Hybrid</a> example, I would build a property which returns <code>count</code> of boy children:</p>\n\n<pre><code>@hybrid_property\ndef has_a_boy_child(self):\n    return any(child.is_boy for child in self.children)\n\n@has_a_boy_child.expression\ndef has_a_boy_child(cls):\n    return (\n        select([func.count(Child.id)])\n        .where(Child.parent_id == cls.id)\n        .where(Child.is_boy == True)\n        .label(\"number_of_boy_children\")\n    )\n</code></pre>\n\n<p>And you can use it like:</p>\n\n<pre><code>q_has_boys = session.query(Parent).filter(Parent.has_a_boy_child).all()\nq_no_boys = session.query(Parent).filter(~Parent.has_a_boy_child).all()\nq_attr = session.query(Parent, Parent.has_a_boy_child).all()\n</code></pre>\n\n<p><strong>Update</strong>: If you really would like a <code>bool</code> instead of <code>count</code> (where <code>None</code> would be <code>na</code> in pandas), you can do it as shown below:</p>\n\n<pre><code>@has_a_boy_child.expression\ndef has_a_boy_child(cls):\n    return (\n        select([\n            case([(exists().where(and_(\n                Child.parent_id == cls.id,\n                Child.is_boy == True,\n            )).correlate(cls), True)],\n                else_=False,\n            ).label(\"has_boys\")\n        ])\n        .label(\"number_of_boy_children\")\n    )\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 2395536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1b92b5666758e27cbfac024261c8ff?s=128&d=identicon&r=PG", "display_name": "defcal", "link": "https://stackoverflow.com/users/2395536/defcal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2400, "favorite_count": 0, "accepted_answer_id": 33270233, "answer_count": 1, "score": 5, "last_activity_date": 1445500212, "creation_date": 1445456519, "question_id": 33267860, "link": "https://stackoverflow.com/questions/33267860/how-do-i-write-a-hybrid-property-that-depends-on-a-column-in-children-relationsh", "title": "How do I write a Hybrid Property that depends on a column in children relationship?", "body": "<p>Let's say I have two tables (using SQLAlchemy) for parents and children:</p>\n\n<pre><code>class Child(Base):\n     __tablename__ = 'Child'\n     id = Column(Integer, primary_key=True) \n     is_boy = Column(Boolean, default=False)\n     parent_id = Column(Integer, ForeignKey('Parent.id'))\n\n\nclass Parent(Base):\n     __tablename__ = 'Parent'\n     id = Column(Integer, primary_key=True) \n     children = relationship(\"Child\", backref=\"parent\")\n</code></pre>\n\n<p>How can I query a property for whether the parent has any child that is a boy? Hoping to use this column in pandas but not sure how to effectively query it. My intuition is to create a SQLALchemy hybrid property has_a_boy_child, but I am not sure how to define the hybrid property or the matching expression. Thanks!</p>\n"}, {"tags": ["python", "python-2.7", "for-loop", "list-comprehension"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1445456537, "post_id": 33267807, "comment_id": 54336856, "body": "It&#39;s in your title, that&#39;s a list comprehension."}, {"owner": {"reputation": 135, "user_id": 5220769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E4SPz.png?s=128&g=1", "display_name": "Dick Armstrong", "link": "https://stackoverflow.com/users/5220769/dick-armstrong"}, "reply_to_user": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1445456584, "post_id": 33267807, "comment_id": 54336884, "body": "I googled that, and didn&#39;t find anything I could understand."}, {"owner": {"reputation": 7355, "user_id": 505649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IPxfn.jpg?s=128&g=1", "display_name": "Ulrich Schwarz", "link": "https://stackoverflow.com/users/505649/ulrich-schwarz"}, "edited": false, "score": 0, "creation_date": 1445456658, "post_id": 33267807, "comment_id": 54336920, "body": "well, you might want to make a list of even numbers: <code>[2*i for i in range(51)]</code>, so you&#39;ve got to have an expression based on <code>i</code> there."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1445456667, "post_id": 33267807, "comment_id": 54336924, "body": "<code>i</code> is each number in  the range <code>0 -50</code>, you keep each i that is even, that i you keep is the first i in the lis comp."}], "answers": [{"tags": [], "owner": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1445456656, "creation_date": 1445456656, "answer_id": 33267896, "question_id": 33267807, "link": "https://stackoverflow.com/questions/33267807/purpose-of-the-initial-variable-in-list-comprehension/33267896#33267896", "title": "Purpose of the initial variable in list comprehension", "body": "<p>When you write list comprehensions you have to provide a value that you want returned for each iteration of the loop (what will end up populating the result list), then the loop you're running.  At it's most basic form, that looks like this:</p>\n\n<pre><code>[i for i in range(10)]\n</code></pre>\n\n<p>Which just means \"use the value I'm iterating over as the return value each time and put that into my list.\"  You don't <em>have</em> to be this simplistic.  If you were generating a list of tuples, for example, it might look like this:</p>\n\n<pre><code>[(i, False) for i in range(10)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "is_accepted": false, "score": 1, "last_activity_date": 1445457049, "last_edit_date": 1445457049, "creation_date": 1445456681, "answer_id": 33267904, "question_id": 33267807, "link": "https://stackoverflow.com/questions/33267807/purpose-of-the-initial-variable-in-list-comprehension/33267904#33267904", "title": "Purpose of the initial variable in list comprehension", "body": "<p>The <code>i</code> you are referring to is what values will be inserted in to your new list you are creating. A list comprehension creates a new list for you, and that <code>i</code> is what will be in that new list. To break down your list comprehension that you pasted in to english, what you are saying (from left to right) is:</p>\n\n<p>Take the value <code>i</code> in to a new list, for each value of <code>i</code> in the range of numbers from 0 - 50, but only the even numbers, i.e. <code>i % 2 = 0</code></p>\n\n<p>Or to re-word it again: </p>\n\n<p>for each value in the range of 0-50 (<code>range(51)</code>), only those numbers that are even (<code>i % 2 = 0</code>), insert each number (each number represented by <code>i</code>) in to the new list (<code>[]</code>):</p>\n\n<pre><code>[i for i in range(51) if i % 2 == 0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 1325678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c68acb967b65058656ba7e932ec2ff8?s=128&d=identicon&r=PG", "display_name": "Jonathan Clede", "link": "https://stackoverflow.com/users/1325678/jonathan-clede"}, "is_accepted": false, "score": 1, "last_activity_date": 1445456682, "creation_date": 1445456682, "answer_id": 33267905, "question_id": 33267807, "link": "https://stackoverflow.com/questions/33267807/purpose-of-the-initial-variable-in-list-comprehension/33267905#33267905", "title": "Purpose of the initial variable in list comprehension", "body": "<p>That's the value that will be included in your list for each iteration.</p>\n\n<p>For example, try changing it to <code>i + 1</code>, and all your resulting list values should be higher by 1.</p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 5220769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E4SPz.png?s=128&g=1", "display_name": "Dick Armstrong", "link": "https://stackoverflow.com/users/5220769/dick-armstrong"}, "edited": false, "score": 0, "creation_date": 1445457037, "post_id": 33267934, "comment_id": 54337123, "body": "So, an accumulator of sorts. I think I get it; Thank you!"}, {"owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "edited": false, "score": 0, "creation_date": 1445458071, "post_id": 33267934, "comment_id": 54337643, "body": "No, not at all an accumulator. It&#39;s an expression that, when evaluated, will be inserted into the output list. That expression is evaluated once per loop iteration but doesn&#39;t have any relation to the values before or after it. For another example: <code>[&quot;I like &quot; + i for i in [&#39;cats&#39;, &#39;dogs&#39;, &#39;people&#39;]]</code> returns <code>[&quot;I like cats&quot;, &quot;I like dogs&quot;, &quot;I like people&quot;]</code>."}, {"owner": {"reputation": 370, "user_id": 2101353, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/baa01e9423bce5b5ed54daac0ce5d7f5?s=128&d=identicon&r=PG", "display_name": "ray smith", "link": "https://stackoverflow.com/users/2101353/ray-smith"}, "edited": false, "score": 0, "creation_date": 1445458246, "post_id": 33267934, "comment_id": 54337729, "body": "Say you were giving a list of words and you wanted to create a new list of these words in lower case, you could do <code>lowercase = [ word.lower() for word in wordList]</code>. You are able to manipulate the first instance of the loop variable. I think this is the most important thing to understand about list  comprehensions."}], "tags": [], "owner": {"reputation": 370, "user_id": 2101353, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/baa01e9423bce5b5ed54daac0ce5d7f5?s=128&d=identicon&r=PG", "display_name": "ray smith", "link": "https://stackoverflow.com/users/2101353/ray-smith"}, "is_accepted": true, "score": 2, "last_activity_date": 1445456749, "creation_date": 1445456749, "answer_id": 33267934, "question_id": 33267807, "link": "https://stackoverflow.com/questions/33267807/purpose-of-the-initial-variable-in-list-comprehension/33267934#33267934", "title": "Purpose of the initial variable in list comprehension", "body": "<p>The very first <code>i</code> after the open bracket represents the value that will be stored in the list. The other <code>i's</code> that appear are just loop variables. Technically, they are all loop control variables, however, the first <code>i</code> is the one that will be stored in the list.</p>\n"}, {"tags": [], "owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "is_accepted": false, "score": 2, "last_activity_date": 1445456812, "creation_date": 1445456812, "answer_id": 33267958, "question_id": 33267807, "link": "https://stackoverflow.com/questions/33267807/purpose-of-the-initial-variable-in-list-comprehension/33267958#33267958", "title": "Purpose of the initial variable in list comprehension", "body": "<p>A list comprehension is just shorthand for some equivalent for loop.</p>\n\n<pre><code>[i for i in range(3)]\n</code></pre>\n\n<p>means:</p>\n\n<pre><code>result = []\nfor i in range(3):\n    result.append(i)\n</code></pre>\n\n<p>The list comprehension just constructs the list in one go <strong>anonymously</strong>, that is without assigning it a name (like <code>result</code> in the example above).</p>\n\n<p>The answer to what that first <code>i</code> does is that it answers the question \"What do I add to the list on each iteration defined by the following loop?\"</p>\n\n<p>Try these comprehensions to see what you get:</p>\n\n<pre><code>['c' for i in range(3)]\n[2*i for i in range(3)]\n['hello'[i] for i in range(3)]\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 5220769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E4SPz.png?s=128&g=1", "display_name": "Dick Armstrong", "link": "https://stackoverflow.com/users/5220769/dick-armstrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 33267934, "answer_count": 5, "score": 0, "last_activity_date": 1445457049, "creation_date": 1445456361, "last_edit_date": 1445456767, "question_id": 33267807, "link": "https://stackoverflow.com/questions/33267807/purpose-of-the-initial-variable-in-list-comprehension", "title": "Purpose of the initial variable in list comprehension", "body": "<pre><code> evens_to_50 = [i for i in range(51) if i % 2 == 0]\n print evens_to_50\n</code></pre>\n\n<p>Can someone explain the <strong>i</strong> that stands directly after the closed bracket and before the <strong>for</strong> in the first row of this code, or share a link or a guide that explains such codes; All I found is a general explanation (not for python, but programmering in general) but nothing too specific; I understand (I think) how the <strong>for i in range(51) if i % 2 == 0</strong> but not the <strong>i</strong> part before it. </p>\n"}, {"tags": ["python", "xml", "elementtree"], "answers": [{"tags": [], "owner": {"reputation": 3214, "user_id": 4333809, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eb246fedefccc8b02a3efb989143d3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Zohar81", "link": "https://stackoverflow.com/users/4333809/zohar81"}, "is_accepted": true, "score": 0, "last_activity_date": 1445461568, "creation_date": 1445461568, "answer_id": 33269259, "question_id": 33267801, "link": "https://stackoverflow.com/questions/33267801/add-additional-elements-to-xml-structure-using-python-elementtree/33269259#33269259", "title": "Add additional Elements to xml structure using python ElementTree", "body": "<p>After some research I've realized that I just duplicated the same instance over and over again (So when I set the fields in one of the instances, it applied to all duplications).</p>\n\n<p>To get instances copies rather then duplications, I've used copy.deepcopy() method, as it can be shown in the following code snippet: </p>\n\n<pre><code>for app in self.apps:\n    l=copy.deepcopy(process_root)\n    l.find(\"d3p1:Name\",ns).text = lower.app\n    l.find(\"d3p1:Path\",ns).text = app\n    processes.append(l)\n</code></pre>\n"}], "owner": {"reputation": 3214, "user_id": 4333809, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eb246fedefccc8b02a3efb989143d3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Zohar81", "link": "https://stackoverflow.com/users/4333809/zohar81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 33269259, "answer_count": 1, "score": 0, "last_activity_date": 1445499147, "creation_date": 1445456322, "last_edit_date": 1445499147, "question_id": 33267801, "link": "https://stackoverflow.com/questions/33267801/add-additional-elements-to-xml-structure-using-python-elementtree", "title": "Add additional Elements to xml structure using python ElementTree", "body": "<p>I'm trying to take a single record out of an xml format, and multiply it such that each new instance will contain a different value of a certain fields. </p>\n\n<p>I thought that the best way to do so is by preparing a skeleton xml file (see below) that contain a single instance (dummy instance). Then, my script will point this instance and for each loop iteration, it will substitute it's fields with the desired values, and append it back to the xml tree. </p>\n\n<h2>xml file:</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ServerData&gt;\n&lt;CreationDate&gt;0001-01-01T00:00:00&lt;/CreationDate&gt;\n&lt;Processes&gt;\n   &lt;ProtectedProcess&gt;\n       &lt;Name&gt;XXX&lt;/Name&gt;\n       &lt;Path&gt;XXX&lt;/Path&gt;\n   &lt;/ProtectedProcess&gt;\n &lt;/Processes&gt;\n&lt;/ServerData&gt;\n</code></pre>\n\n<h2>my code :</h2>\n\n<pre><code>import xml.etree.ElementTree as ET\nself.tree = ET.parse(infile)\nself.root = self.tree.getroot()\n\nprocesses    = self.root.find(\"Processes\")    \nprocess_root = self.root.find(\"Processes\").find(\"ProtectedProcess\")\n\nfor app in self.apps:\n    process_root.find(\"Name\").text = app.lower()\n    process_root.find(\"Path\",ns).text = app\n    processes.append(process_root)\n\nfd = open(\"./xxx.xml\", \"wb\")\nself.tree.write(fd, encoding='utf-8', xml_declaration=False)\n</code></pre>\n\n<p>Unfortunately, what i get is that in all the appended instances have the same value, according to the last iteration.</p>\n\n<h2>xxx.xml :</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ServerData&gt;\n&lt;CreationDate&gt;0001-01-01T00:00:00&lt;/CreationDate&gt;\n&lt;Processes&gt;\n   &lt;ProtectedProcess&gt;\n       &lt;Name&gt;/applications/safari.app/contents/macos/safari&lt;/Name&gt;\n       &lt;Path&gt;/Applications/Safari.app/Contents/MacOS/Safari&lt;/Path&gt;\n   &lt;/ProtectedProcess&gt;\n   &lt;ProtectedProcess&gt;\n       &lt;Name&gt;/applications/safari.app/contents/macos/safari&lt;/Name&gt;\n       &lt;Path&gt;/Applications/Safari.app/Contents/MacOS/Safari&lt;/Path&gt;\n   &lt;/ProtectedProcess&gt;\n   &lt;ProtectedProcess&gt;\n       &lt;Name&gt;/applications/safari.app/contents/macos/safari&lt;/Name&gt;\n       &lt;Path&gt;/Applications/Safari.app/Contents/MacOS/Safari&lt;/Path&gt;\n   &lt;/ProtectedProcess&gt;\n &lt;/Processes&gt;\n&lt;/ServerData&gt;\n</code></pre>\n\n<p>Can you tell me what am I doing wrong ? </p>\n"}, {"tags": ["python", "wpf", "visual-studio-2015", "ironpython"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1445456990, "creation_date": 1445456990, "answer_id": 33268003, "question_id": 33267780, "link": "https://stackoverflow.com/questions/33267780/cannot-use-os-functions-after-having-imported-it/33268003#33268003", "title": "Cannot use os functions after having imported it", "body": "<p>Submodules need to be imported explicitly:</p>\n\n<pre><code>import os.path # not just import os\n</code></pre>\n\n<p>In the standard Python implementation, <code>import os</code> would probably work on its own due to the weird way <code>os.path</code> is implemented, but it should still be <code>import os.path</code> if you want to use <code>os.path</code>.</p>\n"}], "owner": {"reputation": 1311, "user_id": 2558671, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/87a1aa76ac98614fe1692cecb4d7bb36?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2558671/marco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 33268003, "answer_count": 1, "score": 0, "last_activity_date": 1445456990, "creation_date": 1445456251, "question_id": 33267780, "link": "https://stackoverflow.com/questions/33267780/cannot-use-os-functions-after-having-imported-it", "title": "Cannot use os functions after having imported it", "body": "<p>I'm using Python (actually IronPython) with Visual Studio 2015 to make a WPF application. I imported os but I cannot access its methods.</p>\n\n<p>This is what I did:</p>\n\n<pre><code>import os\n\nclass Utils(object):\n\n    def fcn(self, arg):\n\n        if os.path.exists(arg):\n            print 'Exists!.'        \n        else:\n            print 'Doesn't exist... :/'\n            raise\n</code></pre>\n\n<p>I call this class from the view model file after pressing a button in the GUI </p>\n\n<pre><code>class ViewModel(ViewModelBase):\n\n    def __init__(self):\n        ViewModelBase.__init__(self)\n        self.RunCommand = Command(self.RunMethod)\n        self.utils = Utils()\n\n    def RunMethod(self):\n        self.utils.fcn(\"C:\\path\")\n</code></pre>\n\n<p>If I set a breakpoint after \"if os.path.exists(arg)\" the program freezes, if I set it before (or on that line) it stops normally.</p>\n\n<p>Any ideas?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "neo4j", "cypher"], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 3372041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce2025befaa039e0a5c6de96e89471e7?s=128&d=identicon&r=PG", "display_name": "Reed Jessen", "link": "https://stackoverflow.com/users/3372041/reed-jessen"}, "is_accepted": false, "score": 1, "last_activity_date": 1448392189, "creation_date": 1448392189, "answer_id": 33901874, "question_id": 33267696, "link": "https://stackoverflow.com/questions/33267696/i-am-using-py2neo-to-connect-python-to-neo4j-database/33901874#33901874", "title": "I am using py2neo to connect python to neo4j database", "body": "<p>White space is significant in Cypher query.  Make sure that your query actually runs in the Neo4j shell before throwing it into the Python wrapper. </p>\n"}, {"tags": [], "owner": {"reputation": 7732, "user_id": 2954199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98eb7858bb6265f6f15308c89862104d?s=128&d=identicon&r=PG", "display_name": "William Lyon", "link": "https://stackoverflow.com/users/2954199/william-lyon"}, "is_accepted": false, "score": 0, "last_activity_date": 1448401164, "creation_date": 1448401164, "answer_id": 33904340, "question_id": 33267696, "link": "https://stackoverflow.com/questions/33267696/i-am-using-py2neo-to-connect-python-to-neo4j-database/33904340#33904340", "title": "I am using py2neo to connect python to neo4j database", "body": "<p>Let's look at the query you are executing:</p>\n\n<pre><code>MATCH (d:node00) \nWHERE d.name IN {x}\nSET d:{ID}\nRETURN d.name\n</code></pre>\n\n<p>Where the parameter <code>x</code> is presumably an array of strings, and the parameter <code>ID</code> is a string.</p>\n\n<p>Here are some points to consider:</p>\n\n<ol>\n<li>Node labels cannot be parameterized in a Cypher query. Therefore the clause <code>SET d:{ID}</code> will not work. Instead, use string concatenation within your python script to include the label as part of the string query, not as a parameter: <code>\"...SET d:\" + str(newLabel) + ...</code></li>\n<li>Make sure the parameter <code>x</code> is actually an array of strings and be sure you have proper spacing in the clause <code>WHERE d.name IN {x}</code> (space between <code>IN</code> and <code>{x}</code>)</li>\n<li>Finally, you might want to reconsider how you are using labels. It looks like you are treating the label as an ID that identifies an individual node. Labels should be used to identify the type or \"class\" of Nodes, such as \"Person\" or \"Event\", etc.</li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 5458332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5bd850c48d36a950156e6ce44bd27a5?s=128&d=identicon&r=PG&f=1", "display_name": "farah", "link": "https://stackoverflow.com/users/5458332/farah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1448403803, "creation_date": 1445455918, "last_edit_date": 1448403803, "question_id": 33267696, "link": "https://stackoverflow.com/questions/33267696/i-am-using-py2neo-to-connect-python-to-neo4j-database", "title": "I am using py2neo to connect python to neo4j database", "body": "<p>I am using py2neo to connect python to a neo4j database.Then I am trying to execute a query to set up a label name to some nodes, but the label name is a parameter. This is my code</p>\n\n<pre><code>for nodeID in nodesIDs:\n    nodes=nodesIDs[nodeID]\n    r=graph.cypher.execute(\"MATCH (d:node00) WHERE d.name in{x} SET d:{ID} RETURN d.name\",{\"x\":nodes,\"ID\":nodeID})\n    print len(r)\n</code></pre>\n\n<p>but this give me an error said the <code>\"Invalid input '(': expected whitespace or a label name\"</code></p>\n\n<p>please advise</p>\n"}, {"tags": ["python", "django", "django-models", "django-dynamic-scraper"], "comments": [{"owner": {"reputation": 262, "user_id": 2392921, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c1c8e995dd78ad7d0dc4518514fe94e3?s=128&d=identicon&r=PG", "display_name": "mascot6699", "link": "https://stackoverflow.com/users/2392921/mascot6699"}, "edited": false, "score": 1, "creation_date": 1445456486, "post_id": 33267685, "comment_id": 54336831, "body": "Please check if you have put djang-dynamic-scraper twice in the installed app."}, {"owner": {"reputation": 14927, "user_id": 2719875, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ae764a4524119ce0d93e7d8f0ee2356c?s=128&d=identicon&r=PG&f=1", "display_name": "user2719875", "link": "https://stackoverflow.com/users/2719875/user2719875"}, "edited": false, "score": 0, "creation_date": 1445456498, "post_id": 33267685, "comment_id": 54336837, "body": "@iamsujit possible duplicate of: <a href=\"http://stackoverflow.com/questions/24319558/how-to-resolve-django-core-exceptions-improperlyconfigured-application-labels\" title=\"how to resolve django core exceptions improperlyconfigured application labels\">stackoverflow.com/questions/24319558/&hellip;</a> See if the linked post solves your issue."}, {"owner": {"reputation": 1361, "user_id": 3134504, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8072f76f871f3914612ff6eefa4e09c4?s=128&d=identicon&r=PG&f=1", "display_name": "iamsujit", "link": "https://stackoverflow.com/users/3134504/iamsujit"}, "reply_to_user": {"reputation": 262, "user_id": 2392921, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c1c8e995dd78ad7d0dc4518514fe94e3?s=128&d=identicon&r=PG", "display_name": "mascot6699", "link": "https://stackoverflow.com/users/2392921/mascot6699"}, "edited": false, "score": 0, "creation_date": 1445456750, "post_id": 33267685, "comment_id": 54336972, "body": "@mascot6699 No i havent put twice just once &#39;dynamic_scraper&#39;"}, {"owner": {"reputation": 1361, "user_id": 3134504, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8072f76f871f3914612ff6eefa4e09c4?s=128&d=identicon&r=PG&f=1", "display_name": "iamsujit", "link": "https://stackoverflow.com/users/3134504/iamsujit"}, "reply_to_user": {"reputation": 14927, "user_id": 2719875, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ae764a4524119ce0d93e7d8f0ee2356c?s=128&d=identicon&r=PG&f=1", "display_name": "user2719875", "link": "https://stackoverflow.com/users/2719875/user2719875"}, "edited": false, "score": 0, "creation_date": 1445457228, "post_id": 33267685, "comment_id": 54337223, "body": "@user2719875 the error is occured while i was making migrations, when i comment out the installed app &#39;dynamic_scraper&#39; it works fine but no migrations for dynamic scraper and no tables."}, {"owner": {"reputation": 262, "user_id": 2392921, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c1c8e995dd78ad7d0dc4518514fe94e3?s=128&d=identicon&r=PG", "display_name": "mascot6699", "link": "https://stackoverflow.com/users/2392921/mascot6699"}, "edited": false, "score": 0, "creation_date": 1445458887, "post_id": 33267685, "comment_id": 54338070, "body": "comment out &#39;dynamic_scraper&#39; and run migrate and syncdb and make sure there is no table named &#39;dynamic_scraper&#39; then search in models of &#39;dynamic_scraper&#39; for the term &#39;dynamic_scraper&#39; if that help to find duplicate entry. allthough I myself just installed &#39;dynamic_scraper&#39; successfully with no errors"}, {"owner": {"reputation": 1361, "user_id": 3134504, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8072f76f871f3914612ff6eefa4e09c4?s=128&d=identicon&r=PG&f=1", "display_name": "iamsujit", "link": "https://stackoverflow.com/users/3134504/iamsujit"}, "reply_to_user": {"reputation": 262, "user_id": 2392921, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c1c8e995dd78ad7d0dc4518514fe94e3?s=128&d=identicon&r=PG", "display_name": "mascot6699", "link": "https://stackoverflow.com/users/2392921/mascot6699"}, "edited": false, "score": 0, "creation_date": 1445459242, "post_id": 33267685, "comment_id": 54338279, "body": "@mascot6699 i have tried it but there is no term dynamic_scraper. and i installed it successfully just migrations are not applying"}, {"owner": {"reputation": 262, "user_id": 2392921, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c1c8e995dd78ad7d0dc4518514fe94e3?s=128&d=identicon&r=PG", "display_name": "mascot6699", "link": "https://stackoverflow.com/users/2392921/mascot6699"}, "edited": false, "score": 0, "creation_date": 1445460276, "post_id": 33267685, "comment_id": 54338842, "body": "I migrated too with no errors. As its an package making migrations is not needed just run migrate however i think there is some other issue. Did you use pip install or cloned the repo?"}, {"owner": {"reputation": 1361, "user_id": 3134504, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8072f76f871f3914612ff6eefa4e09c4?s=128&d=identicon&r=PG&f=1", "display_name": "iamsujit", "link": "https://stackoverflow.com/users/3134504/iamsujit"}, "edited": false, "score": 0, "creation_date": 1445460717, "post_id": 33267685, "comment_id": 54339069, "body": "i used pip. solved the issue i manually delete the packages and reinstall."}], "owner": {"reputation": 1361, "user_id": 3134504, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8072f76f871f3914612ff6eefa4e09c4?s=128&d=identicon&r=PG&f=1", "display_name": "iamsujit", "link": "https://stackoverflow.com/users/3134504/iamsujit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1666, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445458313, "creation_date": 1445455888, "last_edit_date": 1445458313, "question_id": 33267685, "link": "https://stackoverflow.com/questions/33267685/django-django-core-exceptions-improperlyconfigured-application-labels-arent-un", "title": "Django django.core.exceptions.ImproperlyConfigured: Application labels aren&#39;t unique, duplicates: dynamic_scraper", "body": "<p>Hello i am new to django_dynamic_scraper. as i have installed it and also djcelery but when i apply migrations it shows this error. i Google it but didnt find anything.\nPlease be specific that i will understand better</p>\n\n<p>this is my settings.py</p>\n\n<pre><code>INSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.sites',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    #third party apps\n    'registration',\n    'crispy_forms',\n    # 'schedule',\n    # 'south',\n    # 'kombu.transport.django',\n    'djcelery',\n    'dynamic_scraper',\n    # my apps\n    'article',\n    'search_engine',\n    'socialnetwork',\n)\n</code></pre>\n\n<p>when apply migrate</p>\n\n<pre><code>Operations to perform:\n  Synchronize unmigrated apps: article, dynamic_scraper, socialnetwork, crispy_forms\n  Apply all migrations: search_engine, sessions, admin, dynamic_scraper, djcelery, sites, auth, contenttypes, registration\n</code></pre>\n\n<p>this is traceback error</p>\n\n<pre><code>Applying dynamic_scraper.0001_initial...Traceback (most recent call last):\n  File \"manage.py\", line 10, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/home/suz/social-network-sujit/local/lib/python2.7/site-packages/Django-1.7.2-py2.7.egg/django/core/management/__init__.py\", line 385, in execute_from_command_line\n    utility.execute()\n  File \"/home/suz/social-network-sujit/local/lib/python2.7/site-packages/Django-1.7.2-py2.7.egg/django/core/management/__init__.py\", line 377, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/home/suz/social-network-sujit/local/lib/python2.7/site-packages/Django-1.7.2-py2.7.egg/django/core/management/base.py\", line 288, in run_from_argv\n    self.execute(*args, **options.__dict__)\n  File \"/home/suz/social-network-sujit/local/lib/python2.7/site-packages/Django-1.7.2-py2.7.egg/django/core/management/base.py\", line 338, in execute\n    output = self.handle(*args, **options)\n  File \"/home/suz/social-network-sujit/local/lib/python2.7/site-packages/Django-1.7.2-py2.7.egg/django/core/management/commands/migrate.py\", line 161, in handle\n    executor.migrate(targets, plan, fake=options.get(\"fake\", False))\n  File \"/home/suz/social-network-sujit/local/lib/python2.7/site-packages/Django-1.7.2-py2.7.egg/django/db/migrations/executor.py\", line 68, in migrate\n    self.apply_migration(migration, fake=fake)\n  File \"/home/suz/social-network-sujit/local/lib/python2.7/site-packages/Django-1.7.2-py2.7.egg/django/db/migrations/executor.py\", line 96, in apply_migration\n    if self.detect_soft_applied(migration):\n  File \"/home/suz/social-network-sujit/local/lib/python2.7/site-packages/Django-1.7.2-py2.7.egg/django/db/migrations/executor.py\", line 140, in detect_soft_applied\n    apps = project_state.render()\n  File \"/home/suz/social-network-sujit/local/lib/python2.7/site-packages/Django-1.7.2-py2.7.egg/django/db/migrations/state.py\", line 57, in render\n    self.apps = Apps([AppConfigStub(label) for label in sorted(self.real_apps + list(app_labels))])\n  File \"/home/suz/social-network-sujit/local/lib/python2.7/site-packages/Django-1.7.2-py2.7.egg/django/apps/registry.py\", line 56, in __init__\n    self.populate(installed_apps)\n  File \"/home/suz/social-network-sujit/local/lib/python2.7/site-packages/Django-1.7.2-py2.7.egg/django/apps/registry.py\", line 89, in populate\n    \"duplicates: %s\" % app_config.label)\ndjango.core.exceptions.ImproperlyConfigured: Application labels aren't unique, duplicates: dynamic_scraper\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1445456143, "post_id": 33267722, "comment_id": 54336657, "body": "That is the simpler answer I was looking for.  Thanks."}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 1, "creation_date": 1445456295, "post_id": 33267722, "comment_id": 54336741, "body": "@Alexander some of these seem hidden (mainly since there&#39;s sooo many methods), related are tail and nth."}], "tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": true, "score": 3, "last_activity_date": 1445456147, "last_edit_date": 1445456147, "creation_date": 1445456017, "answer_id": 33267722, "question_id": 33267670, "link": "https://stackoverflow.com/questions/33267670/how-to-filter-groupby-for-first-n-items/33267722#33267722", "title": "How to filter groupby for first N items", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.head.html\" rel=\"nofollow\"><code>head</code></a>:</p>\n\n<pre><code>In [11]: df.groupby(\"id\").head(2)\nOut[11]:\n   id  values\n0   1       1\n1   1       2\n3   2       4\n4   2       5\n</code></pre>\n\n<p><em>Note: In older versions this used to be equivalent to <code>.apply(pd.DataFrame.head)</code> but it's more efficient since 0.15 (?), now it uses <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.cumcount.html\" rel=\"nofollow\"><code>cumcount</code></a> under the hood.</em></p>\n"}], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 33267722, "answer_count": 1, "score": 2, "last_activity_date": 1445456147, "creation_date": 1445455836, "question_id": 33267670, "link": "https://stackoverflow.com/questions/33267670/how-to-filter-groupby-for-first-n-items", "title": "How to filter groupby for first N items", "body": "<p>In Pandas, how can I modify <code>groupby</code> to only take the first N items in the group?</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>df = pd.DataFrame({'id': [1, 1, 1, 2, 2, 2, 2], \n                   'values': [1, 2, 3, 4, 5, 6, 7]})\n&gt;&gt;&gt; df\n   id  values\n0   1       1\n1   1       2\n2   1       3\n3   2       4\n4   2       5\n5   2       6\n6   2       7\n</code></pre>\n\n<p><strong>Desired functionality</strong></p>\n\n<pre><code># This doesn't work, but I am trying to return the first two items per group.\n&gt;&gt;&gt; df.groupby('id').first(2)  \n   id  values\n0   1       1\n1   1       2\n3   2       4\n4   2       5\n</code></pre>\n\n<p><strong>What I've tried</strong></p>\n\n<p>I can perform a groupby and iterate through the groups to take the index of the first <code>n</code> values, but there must be a simpler solution.</p>\n\n<pre><code>n = 2  # First two rows.\nidx = [i for group in df.groupby('id').groups.itervalues() for i in group[:n]]\n&gt;&gt;&gt; df.ix[idx]\n   id  values\n0   1       1\n1   1       2\n3   2       4\n4   2       5\n</code></pre>\n"}, {"tags": ["python", "ansible", "virtual-environment"], "comments": [{"owner": {"reputation": 588, "user_id": 4291555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0S890.png?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/4291555/frank"}, "edited": false, "score": 1, "creation_date": 1445485737, "post_id": 33267649, "comment_id": 54346945, "body": "what is the command you want to run inside your virtualenv ?"}], "answers": [{"comments": [{"owner": {"reputation": 1560, "user_id": 5614748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10153324566173505/picture?type=large", "display_name": "Afolabi Olaoluwa Akinwumi", "link": "https://stackoverflow.com/users/5614748/afolabi-olaoluwa-akinwumi"}, "edited": false, "score": 1, "creation_date": 1517523137, "post_id": 33415427, "comment_id": 84141978, "body": "I get source not found too. Are you able to get a solution for <code>source not found</code> error?"}, {"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1517582139, "post_id": 33415427, "comment_id": 84166472, "body": "I&#39;ve updated the answer with a link to a running example showing that second script in action."}, {"owner": {"reputation": 4270, "user_id": 831797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6ad82091c998c75d271334d5c67f1eb?s=128&d=identicon&r=PG", "display_name": "el.atomo", "link": "https://stackoverflow.com/users/831797/el-atomo"}, "reply_to_user": {"reputation": 2243, "user_id": 2358707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97551674e996d41e525c24a86caecaa?s=128&d=identicon&r=PG", "display_name": "MarZab", "link": "https://stackoverflow.com/users/2358707/marzab"}, "edited": false, "score": 0, "creation_date": 1532695655, "post_id": 33415427, "comment_id": 90083348, "body": "Just as @MarZab, I&#39;m also getting the <code>source not found</code>. I&#39;m not sure yet, but it could be related with the &quot;shell&quot; session not been interactive. In any case, replacing <code>source</code> with <code>.</code> worked for me."}], "tags": [], "owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "is_accepted": false, "score": 8, "last_activity_date": 1517582054, "last_edit_date": 1517582054, "creation_date": 1446124904, "answer_id": 33415427, "question_id": 33267649, "link": "https://stackoverflow.com/questions/33267649/running-virtual-environment-ansible/33415427#33415427", "title": "Running Virtual Environment Ansible", "body": "<p>There are a number of problems here.  The first is that you are creating the virtual environment as <code>root</code>:</p>\n\n<pre><code>- name: Create virtualenv\n  sudo: true\n  command: virtualenv /home/vagrant/db/venv\n</code></pre>\n\n<p>But you are trying to access it as the <code>vagrant</code> user:</p>\n\n<pre><code>- name: Activate\n  sudo: yes\n  sudo_user: vagrant\n  command: /home/vagrant/db/venv/bin/source /home/vagrant/db/venv/bin/activate\n</code></pre>\n\n<p>It is likely that you want <code>sudo_user: vagrant</code> on both tasks.</p>\n\n<p>Secondly, the <code>source</code> command is a shell builtin, you won't find it at <code>/home/vagrant/db/venv/bin/source</code>.  So that command simply doesn't make sense.</p>\n\n<p>Lastly, even if it <em>did</em> make sense, it would have no practical effect: That would modify the environment of the <code>command</code> module, but would have no impact on subsequent tasks.   There are a few ways of dealing with that; if you are simply trying to run a command that has been installed in your virtual environment you can run that directly:</p>\n\n<pre><code>command: /home/vagrant/db/venv/bin/somecommand\n</code></pre>\n\n<p>That will correctly use the version of Python installed in your virtual environment.  Alternatively, you can embed everything into a shell script:</p>\n\n<pre><code>shell:\n  cmd: |\n    source /home/vagrant/db/venv/bin/activate\n    do_stuff_here\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>For those \"it doesn't work!\" commenters, I present to you...a <a href=\"https://asciinema.org/a/vzQcAkJntx3wa9TSeJ0JkiTwK\" rel=\"noreferrer\">running example</a>!</p>\n"}, {"tags": [], "owner": {"reputation": 302, "user_id": 798008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ca3c852aad267677430ba1116b9464?s=128&d=identicon&r=PG", "display_name": "Osaka", "link": "https://stackoverflow.com/users/798008/osaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1507083647, "last_edit_date": 1507083647, "creation_date": 1481060904, "answer_id": 41005533, "question_id": 33267649, "link": "https://stackoverflow.com/questions/33267649/running-virtual-environment-ansible/41005533#41005533", "title": "Running Virtual Environment Ansible", "body": "<p>Take the following example of installing synapse in a virtual environment located at <code>~/.synapse</code> by executing the <code>pip</code> module.</p>\n\n<pre><code>- pip:\n    name: 'https://github.com/matrix-org/synapse/tarball/master'\n    virtualenv: ~/.synapse\n    virtualenv_site_packages: yes\n    virtualenv_python: python2.7\n</code></pre>\n\n<p>Then, run a command inside the newly created virtual environment. Use the <code>chdir</code> argument and make sure to prepend the <code>command:</code> with <code>bin/</code></p>\n\n<pre><code>- command: bin/python -m synapse.app.homeserver --server-name {{ matrix_hostname }}\n--config-path homeserver.yaml --generate-config --report-stats=yes\n  args:\n    chdir: ~/.synapse\n    creates: homeserver.yaml\n</code></pre>\n"}], "owner": {"reputation": 8659, "user_id": 756566, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0d46603fb8d0a3a068ff4875b9c74421?s=128&d=identicon&r=PG", "display_name": "Steven Matthews", "link": "https://stackoverflow.com/users/756566/steven-matthews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5787, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1517582054, "creation_date": 1445455746, "question_id": 33267649, "link": "https://stackoverflow.com/questions/33267649/running-virtual-environment-ansible", "title": "Running Virtual Environment Ansible", "body": "<p>I am trying to run a virtual environment in Ansible.</p>\n\n<p>It is constantly erroring out.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>- name: Install virtualenv\n  pip: name=virtualenv\n  when: virtualenvexists.stat.exists != true\n\n- name: Create virtualenv\n  sudo: true\n  command: virtualenv /home/vagrant/db/venv\n\n- name: Activate\n  sudo: yes\n  sudo_user: vagrant\n  command: /home/vagrant/db/venv/bin/source /home/vagrant/db/venv/bin/activate\n</code></pre>\n\n<p>I get the error message:</p>\n\n<p>{\"cmd\": \"/home/vagrant/db/venv/bin/activate\", \"failed\": true, \"rc\": 13}\nmsg: [Errno 13] Permission denied</p>\n\n<p>I've tried running this command as multiple users, and I'm also trying to figure out how to automatically run commands from the virtual instance without activating it, and I'm having no luck.</p>\n\n<p>How do I run commands inside a virtual environment in Ansible?</p>\n\n<p>I've also tried this with no luck:</p>\n\n<pre><code>- name: ansible_python_interpreter\n  set_fact:\n    ansible_python_interpreter: /home/vagrant/db/venv/bin/python\n</code></pre>\n"}, {"tags": ["python", "division"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1445455680, "post_id": 33267586, "comment_id": 54336410, "body": "I think you are confused about the difference between numbers and their visual representation ..."}], "answers": [{"tags": [], "owner": {"reputation": 5145, "user_id": 2955312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1249951c24840c64d8c32951e967170a?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Weinstein", "link": "https://stackoverflow.com/users/2955312/ryan-weinstein"}, "is_accepted": false, "score": 3, "last_activity_date": 1445455644, "creation_date": 1445455644, "answer_id": 33267619, "question_id": 33267586, "link": "https://stackoverflow.com/questions/33267586/making-result-of-division-a-float-with-2-decimal-places-python/33267619#33267619", "title": "Making result of division a float with 2 decimal places (Python)", "body": "<p>You can use something like:</p>\n\n<pre><code>x = 16.666666666\nrounded_x = format(x, '.2f') #This will be a string\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 5, "last_activity_date": 1445457996, "last_edit_date": 1445457996, "creation_date": 1445456124, "answer_id": 33267739, "question_id": 33267586, "link": "https://stackoverflow.com/questions/33267586/making-result-of-division-a-float-with-2-decimal-places-python/33267739#33267739", "title": "Making result of division a float with 2 decimal places (Python)", "body": "<pre><code>&gt;&gt;&gt; round(16.666666666666668,2)\n16.67\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5473049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d877397757e63eb400269b2f6f57d3fc?s=128&d=identicon&r=PG&f=1", "display_name": "J_005", "link": "https://stackoverflow.com/users/5473049/j-005"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4402, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1445457996, "creation_date": 1445455527, "question_id": 33267586, "link": "https://stackoverflow.com/questions/33267586/making-result-of-division-a-float-with-2-decimal-places-python", "title": "Making result of division a float with 2 decimal places (Python)", "body": "<p>I know this is a noob question but, is it possible to make the result of a division a float with 2 decimal places?</p>\n\n<p>For example when dividing 50 by 2 the result is 25.0. When divided by 3 the result is 16.666666666666668. Can I force both results to be a float with 2 decimal places?</p>\n\n<p>Thanks, and sorry!</p>\n"}, {"tags": ["python", "class", "interface"], "comments": [{"owner": {"reputation": 13041, "user_id": 466611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4acb374856006427ab9b84ff57c37371?s=128&d=identicon&r=PG", "display_name": "starrify", "link": "https://stackoverflow.com/users/466611/starrify"}, "edited": false, "score": 0, "creation_date": 1445455503, "post_id": 33267540, "comment_id": 54336299, "body": "Can you share the stack trace?"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1445455573, "post_id": 33267540, "comment_id": 54336346, "body": "Also show us how you run the code."}, {"owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "reply_to_user": {"reputation": 13041, "user_id": 466611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4acb374856006427ab9b84ff57c37371?s=128&d=identicon&r=PG", "display_name": "starrify", "link": "https://stackoverflow.com/users/466611/starrify"}, "edited": false, "score": 0, "creation_date": 1445455819, "post_id": 33267540, "comment_id": 54336475, "body": "@starrify I added what you need"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1445456582, "post_id": 33267540, "comment_id": 54336883, "body": "You&#39;ve mixed tabs and spaces. Turn on &quot;show whitespace&quot; in your editor to see it. Also, since the code you copied from doesn&#39;t have this problem, you probably introduced it somehow, perhaps by retyping some section instead of copy-pasting it."}, {"owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1445456746, "post_id": 33267540, "comment_id": 54336968, "body": "@user2357112 thank you that was it!"}], "answers": [{"comments": [{"owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "edited": false, "score": 0, "creation_date": 1445455978, "post_id": 33267655, "comment_id": 54336565, "body": "Pardon my ignorance, but you can be more explicit?"}, {"owner": {"reputation": 109, "user_id": 453004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b06e1b81260c2036c343535b32d2fda0?s=128&d=identicon&r=PG", "display_name": "Uncommented", "link": "https://stackoverflow.com/users/453004/uncommented"}, "reply_to_user": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "edited": false, "score": 1, "creation_date": 1445456642, "post_id": 33267655, "comment_id": 54336913, "body": "@Imray yes - I suspect that the the <code>stem</code> method on PorterStemmer is not being treated as part of the class."}], "tags": [], "owner": {"reputation": 109, "user_id": 453004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b06e1b81260c2036c343535b32d2fda0?s=128&d=identicon&r=PG", "display_name": "Uncommented", "link": "https://stackoverflow.com/users/453004/uncommented"}, "is_accepted": false, "score": 1, "last_activity_date": 1445455770, "creation_date": 1445455770, "answer_id": 33267655, "question_id": 33267540, "link": "https://stackoverflow.com/questions/33267540/python-class-not-working-after-copying-it/33267655#33267655", "title": "Python class not working after copying it", "body": "<p>My best guess is that some of the lines you copied are not being treated as part of the class due to indentation issues. Try adding a class property definition at the tale end of <code>PorterStemmer</code> and verify that it appears on the class as a first debugging step.</p>\n"}, {"comments": [{"owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "edited": false, "score": 0, "creation_date": 1445457127, "post_id": 33267988, "comment_id": 54337166, "body": "If it was all spaces, it should have worked. The problem is when you mix tabs and spaces. Are you sure the file didn&#39;t have ANY tabs (for code indentation) before your change?"}, {"owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "reply_to_user": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "edited": false, "score": 0, "creation_date": 1445457695, "post_id": 33267988, "comment_id": 54337445, "body": "Hmmm... yes I was getting some error about a comment indentation so I tabbed it, and then new errors were popping up like moles."}], "tags": [], "owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "is_accepted": false, "score": 1, "last_activity_date": 1445456905, "creation_date": 1445456905, "answer_id": 33267988, "question_id": 33267540, "link": "https://stackoverflow.com/questions/33267540/python-class-not-working-after-copying-it/33267988#33267988", "title": "Python class not working after copying it", "body": "<p>I was helped immensely by the previous commenters and answerers. </p>\n\n<p>I got it working by looking at whitespace in Notepad++ (View -> Show Symbol -> Show Whitespace and Tab) and realized that there were no tabs in the the code I copied. It was all space.</p>\n\n<p>So I opened the Find and Replace dialog (CTRL+F) typed <code>(four spaces)</code> in Find and <code>\\t</code> in the Replace.</p>\n\n<p>After clicking \"Replace All\" everything works now!</p>\n"}], "owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1445456905, "creation_date": 1445455336, "last_edit_date": 1445455803, "question_id": 33267540, "link": "https://stackoverflow.com/questions/33267540/python-class-not-working-after-copying-it", "title": "Python class not working after copying it", "body": "<p>I copied some code from <code>nltk</code> directly into my project (with crediting sources) because my school computers don't allow me to install libraries.</p>\n\n<p>I copied the <code>PorterStemmer</code> class and <code>StemmerI</code> interface from <a href=\"http://www.nltk.org/_modules/nltk/stem/porter.html#PorterStemmer\" rel=\"nofollow\">here</a></p>\n\n<p>However, when I run the code, I get </p>\n\n<pre><code>NotImplementedError\n</code></pre>\n\n<p>Why is this happening?</p>\n\n<p>How I'm running + Stacktrace:</p>\n\n<pre><code>python\n&gt;&gt;&gt; from nltk_functions.stemmer import PorterStemmer as ps1\n&gt;&gt;&gt; stem1 = ps1()\n&gt;&gt;&gt; stem1.stem(\"operation\")\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"nltk_functions\\stemmer.py\", line 13, in stem\n    \"\"\"\nNotImplementedError\n</code></pre>\n\n<hr>\n\n<p>Here is all the code:</p>\n\n<pre><code>from __future__ import print_function, unicode_literals\nimport re\n\nclass StemmerI(object):\n    \"\"\" A processing interface for removing morphological affixes from\n    words.  This process is known as stemming.\"\"\"\n    def stem(self, token):\n        \"\"\"\n        Strip affixes from the token and return the stem.\n\n        :param token: The token that should be stemmed.\n        :type token: str\n        \"\"\"\n        raise NotImplementedError()\n\n\nclass PorterStemmer(StemmerI):\n\n    ## --NLTK--\n    ## Add a module docstring\n    \"\"\"\n    A word stemmer based on the Porter stemming algorithm.\n\n        Porter, M. \\\"An algorithm for suffix stripping.\\\"\n        Program 14.3 (1980): 130-137.\n\n    A few minor modifications have been made to Porter's basic\n    algorithm.  See the source code of this module for more\n    information.\n\n    The Porter Stemmer requires that all tokens have string types.\n    \"\"\"\n\n    # The main part of the stemming algorithm starts here.\n    # Note that only lower case sequences are stemmed. Forcing to lower case\n    # should be done before stem(...) is called.\n\n    def __init__(self):\n\n        ## --NEW--\n        ## This is a table of irregular forms. It is quite short, but still\n        ## reflects the errors actually drawn to Martin Porter's attention over\n        ## a 20 year period!\n        ##\n        ## Extend it as necessary.\n        ##\n        ## The form of the table is:\n        ##  {\n        ##  \"p1\" : [\"s11\",\"s12\",\"s13\", ... ],\n        ##  \"p2\" : [\"s21\",\"s22\",\"s23\", ... ],\n        ##  ...\n        ##  \"pn\" : [\"sn1\",\"sn2\",\"sn3\", ... ]\n        ##  }\n        ##\n        ## String sij is mapped to paradigm form pi, and the main stemming\n        ## process is then bypassed.\n\n        irregular_forms = {\n            \"sky\" :     [\"sky\", \"skies\"],\n            \"die\" :     [\"dying\"],\n            \"lie\" :     [\"lying\"],\n            \"tie\" :     [\"tying\"],\n            \"news\" :    [\"news\"],\n            \"inning\" :  [\"innings\", \"inning\"],\n            \"outing\" :  [\"outings\", \"outing\"],\n            \"canning\" : [\"cannings\", \"canning\"],\n            \"howe\" :    [\"howe\"],\n\n            # --NEW--\n            \"proceed\" : [\"proceed\"],\n            \"exceed\"  : [\"exceed\"],\n            \"succeed\" : [\"succeed\"], # Hiranmay Ghosh\n            }\n\n        self.pool = {}\n        for key in irregular_forms:\n            for val in irregular_forms[key]:\n                self.pool[val] = key\n\n        self.vowels = frozenset(['a', 'e', 'i', 'o', 'u'])\n\n    def _cons(self, word, i):\n        \"\"\"cons(i) -is TRUE &lt;=&gt; b[i] is a consonant.\"\"\"\n        if word[i] in self.vowels:\n            return False\n        if word[i] == 'y':\n            if i == 0:\n                return True\n            else:\n                return (not self._cons(word, i - 1))\n    return True\n\n    def _m(self, word, j):\n        \"\"\"m() measures the number of consonant sequences between k0 and j.\n        if c is a consonant sequence and v a vowel sequence, and &lt;..&gt;\n        indicates arbitrary presence,\n\n           &lt;c&gt;&lt;v&gt;       gives 0\n           &lt;c&gt;vc&lt;v&gt;     gives 1\n           &lt;c&gt;vcvc&lt;v&gt;   gives 2\n           &lt;c&gt;vcvcvc&lt;v&gt; gives 3\n           ....\n        \"\"\"\n        n = 0\n        i = 0\n        while True:\n            if i &gt; j:\n                return n\n            if not self._cons(word, i):\n                break\n            i = i + 1\n        i = i + 1\n\n        while True:\n            while True:\n                if i &gt; j:\n                    return n\n                if self._cons(word, i):\n                    break\n                i = i + 1\n            i = i + 1\n            n = n + 1\n\n            while True:\n                if i &gt; j:\n                    return n\n                if not self._cons(word, i):\n                    break\n                i = i + 1\n            i = i + 1\n\n    def _vowelinstem(self, stem):\n        \"\"\"vowelinstem(stem) is TRUE &lt;=&gt; stem contains a vowel\"\"\"\n        for i in range(len(stem)):\n            if not self._cons(stem, i):\n                return True\n        return False\n\n    def _doublec(self, word):\n        \"\"\"doublec(word) is TRUE &lt;=&gt; word ends with a double consonant\"\"\"\n        if len(word) &lt; 2:\n            return False\n        if (word[-1] != word[-2]):\n            return False\n        return self._cons(word, len(word)-1)\n\n    def _cvc(self, word, i):\n        \"\"\"cvc(i) is TRUE &lt;=&gt;\n\n        a) ( --NEW--) i == 1, and word[0] word[1] is vowel consonant, or\n\n        b) word[i - 2], word[i - 1], word[i] has the form consonant -\n           vowel - consonant and also if the second c is not w, x or y. this\n           is used when trying to restore an e at the end of a short word.\n           e.g.\n\n               cav(e), lov(e), hop(e), crim(e), but\n               snow, box, tray.\n        \"\"\"\n        if i == 0: return False  # i == 0 never happens perhaps\n        if i == 1: return (not self._cons(word, 0) and self._cons(word, 1))\n        if not self._cons(word, i) or self._cons(word, i-1) or not self._cons(word, i-2): return False\n\n        ch = word[i]\n        if ch == 'w' or ch == 'x' or ch == 'y':\n            return False\n\n        return True\n\n    def _step1ab(self, word):\n        \"\"\"step1ab() gets rid of plurals and -ed or -ing. e.g.\n\n           caresses  -&gt;  caress\n           ponies    -&gt;  poni\n           sties     -&gt;  sti\n           tie       -&gt;  tie        (--NEW--: see below)\n           caress    -&gt;  caress\n           cats      -&gt;  cat\n\n           feed      -&gt;  feed\n           agreed    -&gt;  agree\n           disabled  -&gt;  disable\n\n           matting   -&gt;  mat\n           mating    -&gt;  mate\n           meeting   -&gt;  meet\n           milling   -&gt;  mill\n           messing   -&gt;  mess\n\n           meetings  -&gt;  meet\n        \"\"\"\n        if word[-1] == 's':\n            if word.endswith(\"sses\"):\n                word = word[:-2]\n            elif word.endswith(\"ies\"):\n                if len(word) == 4:\n                    word = word[:-1]\n                # this line extends the original algorithm, so that\n                # 'flies'-&gt;'fli' but 'dies'-&gt;'die' etc\n                else:\n                    word = word[:-2]\n            elif word[-2] != 's':\n                word = word[:-1]\n\n        ed_or_ing_trimmed = False\n        if word.endswith(\"ied\"):\n            if len(word) == 4:\n                word = word[:-1]\n            else:\n                word = word[:-2]\n        # this line extends the original algorithm, so that\n        # 'spied'-&gt;'spi' but 'died'-&gt;'die' etc\n\n        elif word.endswith(\"eed\"):\n            if self._m(word, len(word)-4) &gt; 0:\n                word = word[:-1]\n\n\n        elif word.endswith(\"ed\") and self._vowelinstem(word[:-2]):\n            word = word[:-2]\n            ed_or_ing_trimmed = True\n        elif word.endswith(\"ing\") and self._vowelinstem(word[:-3]):\n            word = word[:-3]\n            ed_or_ing_trimmed = True\n\n        if ed_or_ing_trimmed:\n            if word.endswith(\"at\") or word.endswith(\"bl\") or word.endswith(\"iz\"):\n                word += 'e'\n            elif self._doublec(word):\n                if word[-1] not in ['l', 's', 'z']:\n                    word = word[:-1]\n            elif (self._m(word, len(word)-1) == 1 and self._cvc(word, len(word)-1)):\n                word += 'e'\n\n        return word\n\n    def _step1c(self, word):\n        \"\"\"step1c() turns terminal y to i when there is another vowel in the stem.\n        --NEW--: This has been modified from the original Porter algorithm so that y-&gt;i\n        is only done when y is preceded by a consonant, but not if the stem\n        is only a single consonant, i.e.\n\n           (*c and not c) Y -&gt; I\n\n        So 'happy' -&gt; 'happi', but\n          'enjoy' -&gt; 'enjoy'  etc\n\n        This is a much better rule. Formerly 'enjoy'-&gt;'enjoi' and 'enjoyment'-&gt;\n        'enjoy'. Step 1c is perhaps done too soon; but with this modification that\n        no longer really matters.\n\n        Also, the removal of the vowelinstem(z) condition means that 'spy', 'fly',\n        'try' ... stem to 'spi', 'fli', 'tri' and conflate with 'spied', 'tried',\n        'flies' ...\n        \"\"\"\n        if word[-1] == 'y' and len(word) &gt; 2 and self._cons(word, len(word) - 2):\n            return word[:-1] + 'i'\n        else:\n            return word\n\n    def _step2(self, word):\n        \"\"\"step2() maps double suffices to single ones.\n        so -ization ( = -ize plus -ation) maps to -ize etc. note that the\n        string before the suffix must give m() &gt; 0.\n        \"\"\"\n        if len(word) &lt;= 1: # Only possible at this stage given unusual inputs to stem_word like 'oed'\n            return word\n\n        ch = word[-2]\n\n        if ch == 'a':\n            if word.endswith(\"ational\"):\n                return word[:-7] + \"ate\" if self._m(word, len(word)-8) &gt; 0 else word\n            elif word.endswith(\"tional\"):\n                return word[:-2] if self._m(word, len(word)-7) &gt; 0 else word\n            else:\n                return word\n        elif ch == 'c':\n            if word.endswith(\"enci\"):\n                return word[:-4] + \"ence\" if self._m(word, len(word)-5) &gt; 0 else word\n            elif word.endswith(\"anci\"):\n                return word[:-4] + \"ance\" if self._m(word, len(word)-5) &gt; 0 else word\n            else:\n                return word\n        elif ch == 'e':\n            if word.endswith(\"izer\"):\n                return word[:-1] if self._m(word, len(word)-5) &gt; 0 else word\n            else:\n                return word\n        elif ch == 'l':\n            if word.endswith(\"bli\"):\n                return word[:-3] + \"ble\" if self._m(word, len(word)-4) &gt; 0 else word # --DEPARTURE--\n            # To match the published algorithm, replace \"bli\" with \"abli\" and \"ble\" with \"able\"\n            elif word.endswith(\"alli\"):\n                # --NEW--\n                if self._m(word, len(word)-5) &gt; 0:\n                    word = word[:-2]\n                    return self._step2(word)\n                else:\n                    return word\n            elif word.endswith(\"fulli\"):\n                return word[:-2] if self._m(word, len(word)-6) else word # --NEW--\n            elif word.endswith(\"entli\"):\n                return word[:-2] if self._m(word, len(word)-6) else word\n            elif word.endswith(\"eli\"):\n                return word[:-2] if self._m(word, len(word)-4) else word\n            elif word.endswith(\"ousli\"):\n                return word[:-2] if self._m(word, len(word)-6) else word\n            else:\n                return word\n        elif ch == 'o':\n            if word.endswith(\"ization\"):\n                return word[:-7] + \"ize\" if self._m(word, len(word)-8) else word\n            elif word.endswith(\"ation\"):\n                return word[:-5] + \"ate\" if self._m(word, len(word)-6) else word\n            elif word.endswith(\"ator\"):\n                return word[:-4] + \"ate\" if self._m(word, len(word)-5) else word\n            else:\n                return word\n        elif ch == 's':\n            if word.endswith(\"alism\"):\n                return word[:-3] if self._m(word, len(word)-6) else word\n            elif word.endswith(\"ness\"):\n                if word.endswith(\"iveness\"):\n                    return word[:-4] if self._m(word, len(word)-8) else word\n                elif word.endswith(\"fulness\"):\n                    return word[:-4] if self._m(word, len(word)-8) else word\n                elif word.endswith(\"ousness\"):\n                    return word[:-4] if self._m(word, len(word)-8) else word\n                else:\n                    return word\n            else:\n                return word\n        elif ch == 't':\n            if word.endswith(\"aliti\"):\n                return word[:-3] if self._m(word, len(word)-6) else word\n            elif word.endswith(\"iviti\"):\n                return word[:-5] + \"ive\" if self._m(word, len(word)-6) else word\n            elif word.endswith(\"biliti\"):\n                return word[:-6] + \"ble\" if self._m(word, len(word)-7) else word\n            else:\n                return word\n        elif ch == 'g': # --DEPARTURE--\n            if word.endswith(\"logi\"):\n                return word[:-1] if self._m(word, len(word) - 4) else word # --NEW-- (Barry Wilkins)\n            # To match the published algorithm, pass len(word)-5 to _m instead of len(word)-4\n            else:\n                return word\n\n        else:\n            return word\n\n    def _step3(self, word):\n        \"\"\"step3() deals with -ic-, -full, -ness etc. similar strategy to step2.\"\"\"\n\n        ch = word[-1]\n\n        if ch == 'e':\n            if word.endswith(\"icate\"):\n                return word[:-3] if self._m(word, len(word)-6) else word\n            elif word.endswith(\"ative\"):\n                return word[:-5] if self._m(word, len(word)-6) else word\n            elif word.endswith(\"alize\"):\n                return word[:-3] if self._m(word, len(word)-6) else word\n            else:\n                return word\n        elif ch == 'i':\n            if word.endswith(\"iciti\"):\n                return word[:-3] if self._m(word, len(word)-6) else word\n            else:\n                return word\n        elif ch == 'l':\n            if word.endswith(\"ical\"):\n                return word[:-2] if self._m(word, len(word)-5) else word\n            elif word.endswith(\"ful\"):\n                return word[:-3] if self._m(word, len(word)-4) else word\n            else:\n                return word\n        elif ch == 's':\n            if word.endswith(\"ness\"):\n                return word[:-4] if self._m(word, len(word)-5) else word\n            else:\n                return word\n\n        else:\n            return word\n\n    def _step4(self, word):\n        \"\"\"step4() takes off -ant, -ence etc., in context &lt;c&gt;vcvc&lt;v&gt;.\"\"\"\n\n        if len(word) &lt;= 1: # Only possible at this stage given unusual inputs to stem_word like 'oed'\n            return word\n\n        ch = word[-2]\n\n        if ch == 'a':\n            if word.endswith(\"al\"):\n                return word[:-2] if self._m(word, len(word)-3) &gt; 1 else word\n            else:\n                return word\n        elif ch == 'c':\n            if word.endswith(\"ance\"):\n                return word[:-4] if self._m(word, len(word)-5) &gt; 1 else word\n            elif word.endswith(\"ence\"):\n                return word[:-4] if self._m(word, len(word)-5) &gt; 1 else word\n            else:\n                return word\n        elif ch == 'e':\n            if word.endswith(\"er\"):\n                return word[:-2] if self._m(word, len(word)-3) &gt; 1 else word\n            else:\n                return word\n        elif ch == 'i':\n            if word.endswith(\"ic\"):\n                return word[:-2] if self._m(word, len(word)-3) &gt; 1 else word\n            else:\n                return word\n        elif ch == 'l':\n            if word.endswith(\"able\"):\n                return word[:-4] if self._m(word, len(word)-5) &gt; 1 else word\n            elif word.endswith(\"ible\"):\n                return word[:-4] if self._m(word, len(word)-5) &gt; 1 else word\n            else:\n                return word\n        elif ch == 'n':\n            if word.endswith(\"ant\"):\n                return word[:-3] if self._m(word, len(word)-4) &gt; 1 else word\n            elif word.endswith(\"ement\"):\n                return word[:-5] if self._m(word, len(word)-6) &gt; 1 else word\n            elif word.endswith(\"ment\"):\n                return word[:-4] if self._m(word, len(word)-5) &gt; 1 else word\n            elif word.endswith(\"ent\"):\n                return word[:-3] if self._m(word, len(word)-4) &gt; 1 else word\n            else:\n                return word\n        elif ch == 'o':\n            if word.endswith(\"sion\") or word.endswith(\"tion\"): # slightly different logic to all the other cases\n                return word[:-3] if self._m(word, len(word)-4) &gt; 1 else word\n            elif word.endswith(\"ou\"):\n                return word[:-2] if self._m(word, len(word)-3) &gt; 1 else word\n            else:\n                return word\n        elif ch == 's':\n            if word.endswith(\"ism\"):\n                return word[:-3] if self._m(word, len(word)-4) &gt; 1 else word\n            else:\n                return word\n        elif ch == 't':\n            if word.endswith(\"ate\"):\n                return word[:-3] if self._m(word, len(word)-4) &gt; 1 else word\n            elif word.endswith(\"iti\"):\n                return word[:-3] if self._m(word, len(word)-4) &gt; 1 else word\n            else:\n                return word\n        elif ch == 'u':\n            if word.endswith(\"ous\"):\n                return word[:-3] if self._m(word, len(word)-4) &gt; 1 else word\n            else:\n                return word\n        elif ch == 'v':\n            if word.endswith(\"ive\"):\n                return word[:-3] if self._m(word, len(word)-4) &gt; 1 else word\n            else:\n                return word\n        elif ch == 'z':\n            if word.endswith(\"ize\"):\n                return word[:-3] if self._m(word, len(word)-4) &gt; 1 else word\n            else:\n                return word\n        else:\n            return word\n\n    def _step5(self, word):\n        \"\"\"step5() removes a final -e if m() &gt; 1, and changes -ll to -l if\n        m() &gt; 1.\n        \"\"\"\n        if word[-1] == 'e':\n            a = self._m(word, len(word)-1)\n            if a &gt; 1 or (a == 1 and not self._cvc(word, len(word)-2)):\n                word = word[:-1]\n        if word.endswith('ll') and self._m(word, len(word)-1) &gt; 1:\n            word = word[:-1]\n\n        return word\n\n    def stem_word(self, p, i=0, j=None):\n        \"\"\"Returns the stem of p, or, if i and j are given, the stem of p[i:j+1].\"\"\"\n        ## --NLTK--\n        if j is None and i == 0:\n            word = p\n        else:\n            if j is None:\n                j = len(p) - 1\n            word = p[i:j+1]\n\n        if word in self.pool:\n            return self.pool[word]\n\n        if len(word) &lt;= 2:\n            return word # --DEPARTURE--\n        # With this line, strings of length 1 or 2 don't go through the\n        # stemming process, although no mention is made of this in the\n        # published algorithm. Remove the line to match the published\n        # algorithm.\n\n        word = self._step1ab(word)\n        word = self._step1c(word)\n        word = self._step2(word)\n        word = self._step3(word)\n        word = self._step4(word)\n        word = self._step5(word)\n        return word\n\n    def _adjust_case(self, word, stem):\n        lower = word.lower()\n\n        ret = \"\"\n        for x in range(len(stem)):\n            if lower[x] == stem[x]:\n                ret += word[x]\n            else:\n                ret += stem[x]\n\n        return ret\n\n    ## --NLTK--\n    ## Don't use this procedure; we want to work with individual\n    ## tokens, instead.  (commented out the following procedure)\n    #def stem(self, text):\n    #    parts = re.split(\"(\\W+)\", text)\n    #    numWords = (len(parts) + 1)/2\n    #\n    #    ret = \"\"\n    #    for i in xrange(numWords):\n    #        word = parts[2 * i]\n    #        separator = \"\"\n    #        if ((2 * i) + 1) &lt; len(parts):\n    #            separator = parts[(2 * i) + 1]\n    #\n    #        stem = self.stem_word(string.lower(word), 0, len(word) - 1)\n    #        ret = ret + self.adjust_case(word, stem)\n    #        ret = ret + separator\n    #    return ret\n\n    ## --NLTK--\n    ## Define a stem() method that implements the StemmerI interface.\n    def stem(self, word):\n        print(\"stem called\")\n        stem = self.stem_word(word.lower(), 0, len(word) - 1)\n        return self._adjust_case(word, stem)\n\n    ## --NLTK--\n    ## Add a string representation function\n\n    def __repr__(self):\n        return '&lt;PorterStemmer&gt;'\n\n## --NLTK--\n## This test procedure isn't applicable.\n#if __name__ == '__main__':\n#    p = PorterStemmer()\n#    if len(sys.argv) &gt; 1:\n#        for f in sys.argv[1:]:\n#            with open(f, 'r') as infile:\n#                while 1:\n#                    w = infile.readline()\n#                    if w == '':\n#                        break\n#                    w = w[:-1]\n#                    print(p.stem(w))\n\n##--NLTK--\n## Added a demo() function\n\ndef demo():\n    \"\"\"\n    A demonstration of the porter stemmer on a sample from\n    the Penn Treebank corpus.\n    \"\"\"\n\n    from nltk.corpus import treebank\n    from nltk import stem\n\n    stemmer = stem.PorterStemmer()\n\n    orig = []\n    stemmed = []\n    for item in treebank.files()[:3]:\n        for (word, tag) in treebank.tagged_words(item):\n            orig.append(word)\n            stemmed.append(stemmer.stem(word))\n\n    # Convert the results to a string, and word-wrap them.\n    results = ' '.join(stemmed)\n    results = re.sub(r\"(.{,70})\\s\", r'\\1\\n', results+' ').rstrip()\n\n    # Convert the original to a string, and word wrap it.\n    original = ' '.join(orig)\n    original = re.sub(r\"(.{,70})\\s\", r'\\1\\n', original+' ').rstrip()\n\n    # Print the results.\n    print('-Original-'.center(70).replace(' ', '*').replace('-', ' '))\n    print(original)\n    print('-Results-'.center(70).replace(' ', '*').replace('-', ' '))\n    print(results)\n    print('*'*70)\n\n##--NLTK--\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 5145, "user_id": 2955312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1249951c24840c64d8c32951e967170a?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Weinstein", "link": "https://stackoverflow.com/users/2955312/ryan-weinstein"}, "is_accepted": true, "score": 4, "last_activity_date": 1445455358, "creation_date": 1445455358, "answer_id": 33267547, "question_id": 33267494, "link": "https://stackoverflow.com/questions/33267494/see-if-python2-code-will-compile-in-python3/33267547#33267547", "title": "See if Python2 code will compile in Python3", "body": "<p>You can use this program: <a href=\"https://docs.python.org/2/library/2to3.html\" rel=\"nofollow\">https://docs.python.org/2/library/2to3.html</a></p>\n\n<p>It will convert your code form 2 to 3, or give you information about what needs to be changed.</p>\n"}, {"tags": [], "owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1445456780, "last_edit_date": 1495541290, "creation_date": 1445456780, "answer_id": 33267945, "question_id": 33267494, "link": "https://stackoverflow.com/questions/33267494/see-if-python2-code-will-compile-in-python3/33267945#33267945", "title": "See if Python2 code will compile in Python3", "body": "<p>Without knowing anything about your code or operating system, it's hard to say what would be best. If static analysis is the way you want to go, I would suggest taking a look at this to see if any differences jump out at you:</p>\n\n<p><a href=\"https://docs.python.org/3/whatsnew/3.0.html#common-stumbling-blocks\" rel=\"nofollow noreferrer\">https://docs.python.org/3/whatsnew/3.0.html#common-stumbling-blocks</a></p>\n\n<p>By the way, Python 2 and 3 can be installed simultaneously on the same machine without too much effort if you change your mind.</p>\n\n<p>If you're running Linux: <a href=\"https://stackoverflow.com/questions/1082692/running-both-python-2-6-and-3-1-on-the-same-machine\">Running both python 2.6 and 3.1 on the same machine</a></p>\n\n<p>If you're running Windows: <a href=\"https://stackoverflow.com/questions/3809314/how-to-install-both-python-2-x-and-python-3-x-in-windows-7\">How to install both Python 2.x and Python 3.x in Windows 7</a></p>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 33267547, "answer_count": 2, "score": -2, "last_activity_date": 1445456780, "creation_date": 1445455158, "question_id": 33267494, "link": "https://stackoverflow.com/questions/33267494/see-if-python2-code-will-compile-in-python3", "title": "See if Python2 code will compile in Python3", "body": "<p>I have Python2.7 installed on my computer. Is there a way to see if the .py code I have will compile in Python3 short of installing Python3?</p>\n"}]