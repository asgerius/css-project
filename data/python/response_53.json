[{"tags": ["python", "inheritance", "python-3.5", "multiple-constructors"], "comments": [{"owner": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "edited": false, "score": 1, "creation_date": 1452730383, "post_id": 34779373, "comment_id": 57303991, "body": "If it helps, you can change the class of an instance by setting the <code>__class__</code> property.  I can&#39;t seem to get it to work right in this case, but I think that your <code>from_x</code> method should be able to create a parent and then set <code>a.__class__</code> to <code>cls</code> before returning it."}, {"owner": {"reputation": 117, "user_id": 2169862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YXVnn.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/2169862/victor"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1452737458, "post_id": 34779373, "comment_id": 57306111, "body": "@jonrsharpe, thank you for the link to the duplicate question. I was unable to find that myself. Your answer there offers the equivalent of my third solution to this problem, which disappoints me because it makes the subclass&#39;s important <code>__init__</code> method, at best, secondary to <code>from_x</code> and, at worst, a practically guaranteed error that complicates duck-typing that equivocates between the superclass and subclass. @Mathew, thank you for your suggestion. I also understand your suggestion as going with my third solution. That seems like the concensus on this issue. Thanks."}, {"owner": {"reputation": 117, "user_id": 2169862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YXVnn.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/2169862/victor"}, "reply_to_user": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "edited": false, "score": 0, "creation_date": 1452746265, "post_id": 34779373, "comment_id": 57308307, "body": "@Matthew, I figured out how to apply your suggestion to get an instance of the superclass then change its <code>__class__</code> property to the subclass. It actually works with my second solution above when <code>super()</code> is explicitly replaced by the superclass. I submitted this whole solution as an answer to the question that mine duplicates. Thank you again for the suggestion."}, {"owner": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "edited": false, "score": 0, "creation_date": 1452749308, "post_id": 34779373, "comment_id": 57309093, "body": "You did basically what I had intended.  I actually had the child new method calling <code>super.from_x(1)</code> and had the parent from_x method doing <code>a = Parent()</code> and finishing with <code>a.__class__ = cls</code> before returning.  You are just changing the class on the child instead of the parent like I did.  You figured out what was messing me up, though.  I hadn&#39;t thought of passing in the child init method.  My child kept having the x value as 0.  It wasn&#39;t striking me that the init method was resetting it after it was created."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1452758391, "post_id": 34779373, "comment_id": 57312666, "body": "Could you replace the toy with something more representative of your <i>actual</i> situation? You&#39;re having this trouble because what you&#39;re doing is a bit weird; a sensible alternate constructor class method ends with <code>return cls(...)</code>."}], "owner": {"reputation": 117, "user_id": 2169862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YXVnn.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/2169862/victor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "closed_date": 1452729897, "answer_count": 0, "score": 0, "last_activity_date": 1452737512, "creation_date": 1452729563, "last_edit_date": 1452737512, "question_id": 34779373, "link": "https://stackoverflow.com/questions/34779373/for-python-3-5-can-a-subclass-be-constructed-from-an-alternate-constructor-of-i", "closed_reason": "Duplicate", "title": "For Python 3.5, can a subclass be constructed from an alternate constructor of its superclass?", "body": "<p>This is a corner I have painted myself into a few times. I would have thought given how common alternate constructors are in Python that it would not be unheard of to construct a subclass from an alternate constructor of its superclass, but I can't think of how to do that or find a discussion about it online.</p>\n\n<p>To illustrate the problem. Say I have the following toy superclass.</p>\n\n<pre><code>class Parent:\n\n    def __init__(self):\n        self.x = 0\n\n    @classmethod\n    def from_x(cls, x):\n        a = cls()\n        a.x = x\n        return a\n</code></pre>\n\n<p>Now say that I want to subclass <code>Parent</code> using its <code>from_x</code> method. I can think of four unsatisfying solutions.</p>\n\n<ol>\n<li><p>Calling the superclass's alternate constructor in the subclass's <code>__init__</code> as shown below fails because <code>from_x</code> does not modify its input like <code>__init__</code> but returns a value more like <code>__new__</code>.</p>\n\n<pre><code># failed solution\n\nclass Child(Parent):\n\n    def __init__(self):\n        super().from_x(1)\n</code></pre></li>\n<li><p>Calling the superclass's <code>from_x</code> method in the subclass's <code>__new__</code> as shown below also fails because both methods call each other circularly.</p>\n\n<pre><code># failed solution\n\nclass Child(Parent):\n\n    def __new__(self):\n        return super().from_x(1)\n</code></pre></li>\n<li><p>Overriding the superclass's <code>from_x</code> method in the subclass makes the subclass's important <code>__init__</code> method vestigial and makes it assign the wrong value to x.</p>\n\n<pre><code># bad solution\n\nclass Child(Parent):\n\n    @classmethod\n    def from_x(cls):\n        return super().from_x(1)\n</code></pre></li>\n<li><p>Giving up on inheritance and using composition instead works, but adds an unhelpful layer of syntax (i. e. <code>child.parent.x</code>).</p>\n\n<pre><code># unfortunate compromise solution            \n\nclass Child:\n\n    def __init__(self):\n        self.parent = Parent.from_x(3)\n</code></pre></li>\n</ol>\n\n<p>Did I miss a better option for this goal?</p>\n"}, {"tags": ["python", "linux", "shell"], "comments": [{"owner": {"reputation": 4253, "user_id": 5449364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843d0aabb84a3b312d08384834c0f26d?s=128&d=identicon&r=PG", "display_name": "Javier Buzzi", "link": "https://stackoverflow.com/users/5449364/javier-buzzi"}, "edited": false, "score": 1, "creation_date": 1452729634, "post_id": 34779347, "comment_id": 57303750, "body": "Lookup <code>supervisord</code> also, this is very vague."}, {"owner": {"reputation": 3392, "user_id": 4532996, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/uXkl2.png?s=128&g=1", "display_name": "cat", "link": "https://stackoverflow.com/users/4532996/cat"}, "edited": false, "score": 0, "creation_date": 1452729701, "post_id": 34779347, "comment_id": 57303777, "body": "You could just add functions to your <code>.bashrc</code> or <code>&#47;etc&#47;profile</code> like <code>function time () { python &#47;my&#47;dir&#47;my-script.py }</code>"}, {"owner": {"reputation": 3392, "user_id": 4532996, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/uXkl2.png?s=128&g=1", "display_name": "cat", "link": "https://stackoverflow.com/users/4532996/cat"}, "edited": false, "score": 0, "creation_date": 1452729744, "post_id": 34779347, "comment_id": 57303797, "body": "(<code>time</code> is a very bad name because it shadows the <i>command</i> <code>time</code> and to get it back you&#39;d have to type <code>\\time</code> instead.)"}], "answers": [{"tags": [], "owner": {"reputation": 6925, "user_id": 320036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CdvdX.jpg?s=128&g=1", "display_name": "z0r", "link": "https://stackoverflow.com/users/320036/z0r"}, "is_accepted": false, "score": 4, "last_activity_date": 1452730842, "last_edit_date": 1490005096, "creation_date": 1452730109, "answer_id": 34779459, "question_id": 34779347, "link": "https://stackoverflow.com/questions/34779347/calling-script-level-python-functions-from-the-linux-command-line/34779459#34779459", "title": "Calling script-level Python functions from the Linux command line", "body": "<p>If you're using Python, you'll still need to fire up the interpreter, but you can make that happen automatically.</p>\n\n<p>Start by making your script executable. Run this command in the shell:</p>\n\n<pre><code>chmod +x script-name.py\nls -l script-name.py\n</code></pre>\n\n<p>The output of <code>ls</code> should look something like this (note the <code>x</code>s in the left-hand column):</p>\n\n<pre><code>-rwxr-xr-x  1 me me     4 Jan 14 11:02 script-name.py\n</code></pre>\n\n<p>Now add an <a href=\"https://en.wikipedia.org/wiki/Interpreter_directive\" rel=\"nofollow noreferrer\">interpreter directive</a> line at the top of your script file - this tells the shell to run Python to interpret your script:</p>\n\n<pre><code>#!/usr/bin/python\n</code></pre>\n\n<p>Then add code at the end of the file that calls your function:</p>\n\n<pre><code>if __name__ == '__main__':\n    time()\n</code></pre>\n\n<p>The <code>if</code> statement checks to see if this is the file that is being executed. It means you can still import your module from another Python file without the <code>time()</code> function being automatically called, if you want.</p>\n\n<p>Finally, you need to put your script in the executable path.</p>\n\n<pre><code>mkdir -p $HOME/bin\nmv script-name.py $HOME/bin/\nexport PATH=$HOME/bin:$PATH\n</code></pre>\n\n<p>Now you should be able to run <code>script-name.py</code>, and you'll see the output of the <code>time()</code> function. You can rename your file to whatever you like; you can even remove the <code>.py</code> extension.</p>\n\n<p>Additional things you can do:</p>\n\n<ul>\n<li>Use the <a href=\"https://docs.python.org/2.7/library/argparse.html\" rel=\"nofollow noreferrer\"><code>argparse</code> module</a> to add command line arguments, e.g. so you can run <code>script-name.py time</code> to execute the <code>time()</code> function</li>\n<li>Put the script in a system-wide path, like <code>/usr/local/bin</code>, or</li>\n<li>Add the <code>export PATH=$HOME/bin:$PATH</code> line to your <a href=\"https://superuser.com/questions/49289/what-is-the-bashrc-file\"><code>.bashrc</code></a> so that it happens by default when you log in</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 5787159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uo6J6.jpg?s=128&g=1", "display_name": "ohnoapirate", "link": "https://stackoverflow.com/users/5787159/ohnoapirate"}, "is_accepted": false, "score": 1, "last_activity_date": 1452730418, "creation_date": 1452730418, "answer_id": 34779504, "question_id": 34779347, "link": "https://stackoverflow.com/questions/34779347/calling-script-level-python-functions-from-the-linux-command-line/34779504#34779504", "title": "Calling script-level Python functions from the Linux command line", "body": "<p>The answer above is by far more complete and more informative than mine. I just wanted to offer a quick and dirty alternative.</p>\n\n<pre><code>echo \"alias time='&lt;your script&gt; time'\" &gt; ~/.bashrc\nbash\n</code></pre>\n\n<p>Like I said, quick and dirty.</p>\n"}], "owner": {"reputation": 47, "user_id": 5091364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd0ff2ddb026ea3e2d31e2b964887ec?s=128&d=identicon&r=PG&f=1", "display_name": "Just Jack", "link": "https://stackoverflow.com/users/5091364/just-jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 619, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1452731624, "creation_date": 1452729376, "last_edit_date": 1452731624, "question_id": 34779347, "link": "https://stackoverflow.com/questions/34779347/calling-script-level-python-functions-from-the-linux-command-line", "title": "Calling script-level Python functions from the Linux command line", "body": "<p>How can I create functions and software for my Linux server? Let me explain this in a bit more detail.</p>\n\n<p>So for my Linux server which I access with my SSH client, I have made a few Python scripts that work fine, but what I really want to do is have these Python scripts active all the time, such that I can execute functions I've created in the script (such as \"def time(): ...\") just by typing \"time\" in to the command line rather than starting up a script with ./script-name.py and then type \"time\". Do I need to install my Python files in to the system in some way?</p>\n\n<p>I struggled searching Google because I didn't fully understand what to search, and results that came up weren't really related to my request. I did find the cmd Python module and learned how to create cmd interpreters, however, in order for me to access the commands I defined in the cmd interpreter, I had to first start the script, which as I explained above, not what I am looking for.</p>\n\n<p>How can I make script-level Python functions callable from the Linux command line?</p>\n"}, {"tags": ["python", "bash"], "comments": [{"owner": {"reputation": 3535, "user_id": 3753656, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/116f069a5946e427bf02eb20202abb83?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Deo", "link": "https://stackoverflow.com/users/3753656/brandon-deo"}, "edited": false, "score": 1, "creation_date": 1452729120, "post_id": 34779245, "comment_id": 57303561, "body": "Can you expand a bit on what your input file looks like? Do you only want to sum the (single column?) row values in each file?"}], "answers": [{"comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1452729951, "post_id": 34779327, "comment_id": 57303855, "body": "Or just <code>(( sum += p ))</code>."}], "tags": [], "owner": {"reputation": 1833, "user_id": 1064565, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/78fccb87609688340853e58676c0a7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/1064565/jamie"}, "is_accepted": false, "score": 0, "last_activity_date": 1452729248, "creation_date": 1452729248, "answer_id": 34779327, "question_id": 34779245, "link": "https://stackoverflow.com/questions/34779245/doing-arithmetic-on-every-line-in-a-single-file/34779327#34779327", "title": "Doing arithmetic on every line in a single file?", "body": "<p>Here's a bash script</p>\n\n<pre><code>sum=0;\nwhile read p; do\n  sum=$(($sum + $p));\ndone &lt;yourfile.txt\n\necho $sum\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 5787056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vmSfV.gif?s=128&g=1", "display_name": "lORD", "link": "https://stackoverflow.com/users/5787056/lord"}, "edited": false, "score": 0, "creation_date": 1452831866, "post_id": 34779357, "comment_id": 57351469, "body": "Thank you for this ,, it&#39;s all int like : 123123 12312 45645"}, {"owner": {"reputation": 404, "user_id": 5787139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a827319c75c27d560e4e9964bb16182?s=128&d=identicon&r=PG&f=1", "display_name": "Owen Hempel", "link": "https://stackoverflow.com/users/5787139/owen-hempel"}, "reply_to_user": {"reputation": 19, "user_id": 5787056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vmSfV.gif?s=128&g=1", "display_name": "lORD", "link": "https://stackoverflow.com/users/5787056/lord"}, "edited": false, "score": 0, "creation_date": 1452899027, "post_id": 34779357, "comment_id": 57385196, "body": "So your separator is &#39; &#39; (space character) and your number types are int. Just  stick that in the code above I gave you and it should work! You will want to avoid the while (1) loop though, and supply a list of files instead"}], "tags": [], "owner": {"reputation": 404, "user_id": 5787139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a827319c75c27d560e4e9964bb16182?s=128&d=identicon&r=PG&f=1", "display_name": "Owen Hempel", "link": "https://stackoverflow.com/users/5787139/owen-hempel"}, "is_accepted": false, "score": 0, "last_activity_date": 1452729437, "creation_date": 1452729437, "answer_id": 34779357, "question_id": 34779245, "link": "https://stackoverflow.com/questions/34779245/doing-arithmetic-on-every-line-in-a-single-file/34779357#34779357", "title": "Doing arithmetic on every line in a single file?", "body": "<p>In python, string operations are easy. However, a little info is needed. </p>\n\n<ul>\n<li>What are the types of the numbers? (int, float, etc)</li>\n<li>What are separating the numbers? (commas, tabs, spaces)</li>\n</ul>\n\n<p>The general form is something like:</p>\n\n<pre><code>while (1)\nsum = 0\nwith open /path/to/somefile as f:\n for line in f:\n  sum_list = (line.split('number_separator')\n   for entry in sum_list:\n    sum += number_type(entry)\n</code></pre>\n\n<p>Now, sum will be the sum of the file. What you choose to do with it is up to you.</p>\n"}, {"tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": true, "score": 0, "last_activity_date": 1452729913, "creation_date": 1452729913, "answer_id": 34779429, "question_id": 34779245, "link": "https://stackoverflow.com/questions/34779245/doing-arithmetic-on-every-line-in-a-single-file/34779429#34779429", "title": "Doing arithmetic on every line in a single file?", "body": "<p>In awk:</p>\n\n<pre><code>awk '{ sum += $1 } END { print sum }' somefile\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5787056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vmSfV.gif?s=128&g=1", "display_name": "lORD", "link": "https://stackoverflow.com/users/5787056/lord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "closed_date": 1535007874, "accepted_answer_id": 34779429, "answer_count": 3, "score": 0, "last_activity_date": 1452729913, "creation_date": 1452728804, "question_id": 34779245, "link": "https://stackoverflow.com/questions/34779245/doing-arithmetic-on-every-line-in-a-single-file", "closed_reason": "Duplicate", "title": "Doing arithmetic on every line in a single file?", "body": "<p>I have a file with a lot of rows and they all numbers, and i want to add them and get the total of them all, then i'll put it in a loop so it will do this math all the time supplying the result number of all these rows,, i couldn't do this in bash. \nThis example say i'll run this on 100 different servers and i want to add each line in this somefile to the second one and on, on .</p>\n\n<p>Ex: </p>\n\n<pre><code>netstat -ant | grep -c :80 &gt; /path/to/somefile\n</code></pre>\n\n<p>Is there a way for this in bash or Python ?</p>\n"}, {"tags": ["python", "visa", "gpib"], "comments": [{"owner": {"reputation": 1598, "user_id": 3075683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8511982af88fbe27c1df387513fa681f?s=128&d=identicon&r=PG&f=1", "display_name": "RPM", "link": "https://stackoverflow.com/users/3075683/rpm"}, "edited": false, "score": 0, "creation_date": 1452758588, "post_id": 34779217, "comment_id": 57312769, "body": "Have you tried checking your <code>End of Instruction</code> and <code>End of Read</code> characters? Can you get it to work NI MAX&#39;s &#39;communicate with instrument interface&#39;?"}, {"owner": {"reputation": 334, "user_id": 2465211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hD5DA.png?s=128&g=1", "display_name": "jwinterm", "link": "https://stackoverflow.com/users/2465211/jwinterm"}, "reply_to_user": {"reputation": 1598, "user_id": 3075683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8511982af88fbe27c1df387513fa681f?s=128&d=identicon&r=PG&f=1", "display_name": "RPM", "link": "https://stackoverflow.com/users/3075683/rpm"}, "edited": false, "score": 0, "creation_date": 1452793112, "post_id": 34779217, "comment_id": 57335513, "body": "I have tried changing the inst.read_termination character to \\r or \\r\\n. I&#39;m not exactly sure how to check EOI or EOR characters... I haven&#39;t tried NI MAX&#39;s communicate with instrument interface, but I can get it to do a sweep with the example IV sweep VI that comes with the LabView driver (I believe that uses the SCSI commands though, and not the FLEX command set)."}, {"owner": {"reputation": 1598, "user_id": 3075683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8511982af88fbe27c1df387513fa681f?s=128&d=identicon&r=PG&f=1", "display_name": "RPM", "link": "https://stackoverflow.com/users/3075683/rpm"}, "edited": false, "score": 1, "creation_date": 1453151222, "post_id": 34779217, "comment_id": 57467540, "body": "It&#39;s possible that the offending statement is actually one of the preceding ones, causing the device to freeze up and not respond to your later read() statement. Does the front panel on the device allow you to confirm that all the previous statements did what they were supposed to?"}, {"owner": {"reputation": 462, "user_id": 5037133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xTmKb.png?s=128&g=1", "display_name": "SNygard", "link": "https://stackoverflow.com/users/5037133/snygard"}, "reply_to_user": {"reputation": 1598, "user_id": 3075683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8511982af88fbe27c1df387513fa681f?s=128&d=identicon&r=PG&f=1", "display_name": "RPM", "link": "https://stackoverflow.com/users/3075683/rpm"}, "edited": false, "score": 0, "creation_date": 1453232515, "post_id": 34779217, "comment_id": 57508858, "body": "@RPM &#39;s comment is a good one. I have encountered similar problems on a 4156C, usually due to sending a write command at the wrong time. One way to debug is to set a simple <code>inst.query(&#39;*IDN?&#39;)</code> after each write statement. Then you can be sure that the instrument is indeed locking up on the <code>RMD?</code> query and not from a previous command."}, {"owner": {"reputation": 334, "user_id": 2465211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hD5DA.png?s=128&g=1", "display_name": "jwinterm", "link": "https://stackoverflow.com/users/2465211/jwinterm"}, "edited": false, "score": 0, "creation_date": 1453257988, "post_id": 34779217, "comment_id": 57519506, "body": "Thanks for suggestions, *IDN? (and status byte and other queries) works if I put it anywhere before the RMD? command, but once I either write or query RMD?, then I can&#39;t get any more response from the instrument. For the time being I&#39;m just using Labview..."}, {"owner": {"reputation": 462, "user_id": 5037133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xTmKb.png?s=128&g=1", "display_name": "SNygard", "link": "https://stackoverflow.com/users/5037133/snygard"}, "edited": false, "score": 0, "creation_date": 1453332530, "post_id": 34779217, "comment_id": 57560815, "body": "Is there are reason you&#39;re using <code>inst.write(&#39;RMD? 0&#39;)</code> then reading instead of <code>isnt.query</code>? I seem to remember reading about <code>ask</code> being deprecated in the latest versions. Maybe you should always use <code>query</code>. (will check for docs)"}, {"owner": {"reputation": 334, "user_id": 2465211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hD5DA.png?s=128&g=1", "display_name": "jwinterm", "link": "https://stackoverflow.com/users/2465211/jwinterm"}, "edited": false, "score": 0, "creation_date": 1453414087, "post_id": 34779217, "comment_id": 57603263, "body": "I&#39;ve tried using both write/read or just using query, and I run into the same kind of problem: once I write or query the RMD? command, the instrument stops responding."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 12570259, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/32c5a4b19aa99627a221012d9e96dc2a?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/12570259/jean"}, "is_accepted": false, "score": 2, "last_activity_date": 1576837005, "creation_date": 1576837005, "answer_id": 59423540, "question_id": 34779217, "link": "https://stackoverflow.com/questions/34779217/reading-output-buffer-of-agilent-4156c-using-pyvisa/59423540#59423540", "title": "Reading output buffer of Agilent 4156C using PyVisa", "body": "<p>I encountered the same problem and solved it.\nCommand XE launches the execution of current/voltages measurements with Agilent 4156C: it is thus not possible to send any additional GPIB command during execution. Even \"STB?\" does not work.\nThe only way I found to check status byte and measurement completion is checking continuously \"inst.stb\" paramter which is updated continuously by visa driver.\nHope this will help other users.\nMy code:</p>\n\n<pre><code>class Agilent4156C:\n    def __init__(self, address):\n        try:\n            rm = visa.ResourceManager(r'C:\\\\Windows\\\\system32\\\\visa32.dll')\n            self.com=rm.open_resource(address)\n            self.com.read_termination = '\\n'\n            self.com.query_delay = 0.0\n            self.com.timeout=5000\n        except:\n            print(\"** error while connecting to B1500 **\")\n    def execution(self):\n        self.com.write(\"XE\")\n        while self.com.stb != 17:\n            time.sleep(0.5)         \n</code></pre>\n"}], "owner": {"reputation": 334, "user_id": 2465211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hD5DA.png?s=128&g=1", "display_name": "jwinterm", "link": "https://stackoverflow.com/users/2465211/jwinterm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1458, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576837005, "creation_date": 1452728670, "last_edit_date": 1495540725, "question_id": 34779217, "link": "https://stackoverflow.com/questions/34779217/reading-output-buffer-of-agilent-4156c-using-pyvisa", "title": "Reading output buffer of Agilent 4156C using PyVisa", "body": "<p>I'm trying to use PyVisa to control an Agilent 4156C using its FLEX command set. The communication seems to be working OK, as I can query the instrument with *IDN? and read the status byte. I also think I'm setting up my voltage sweep properly now, as I don't see any errors on the screen of the 4156 when I execute the Python script. My problem is that when I try to read the measurement data using the RMD? command, the instrument doesn't respond, and the program errors due to timeout. Here is my current program:</p>\n\n<pre><code>import visa\n\nrm = visa.ResourceManager()\n\ninst = rm.open_resource('GPIB0::17::INSTR')\nprint(inst.query('*IDN?'))\ninst.timeout = 6000\n\nprint(inst.write('US'))\nprint(inst.write('FMT 1,1'))\n\n# Set short integration time\nprint(inst.write('SLI 1'))\n# Enable SMU 3\nprint(inst.write('CN 3'))\n# Set measurement mode to sweep (2) on SMU 3\nprint(inst.write('MM 2,3'))\n# Setup voltage sweep on SMU 3\n#print(inst.write('WV 3,3,0,0.01,0.1,0.01'))\nprint(inst.write('WV 3,3,0,-0.1,0.1,0.01,0.01,0.001,1'))\n# Execute\nprint(inst.write('XE'))\n\n# Query output buffer\nprint(\"********** Querying RMD **********\")\nprint(inst.write('RMD? 0'))\nprint(inst.read())\n\nprint(\"********** Querying STB **********\")\nprint(inst.query('*STB?'))\n</code></pre>\n\n<p>The program always hangs when I try to read after writing 'RMD? 0', or if I query that command. I feel like I am missing something simple, but just not able to find it in the available Agilent or PyVisa documentation. Any help would be greatly appreciated. I'm using the standard NI VISA that comes with LabView (I mention that because I came across this <a href=\"https://stackoverflow.com/questions/25318084/agilent-visa-and-ni-visa-coexistence-and-pyvisa\">post</a>).</p>\n"}, {"tags": ["javascript", "python"], "comments": [{"owner": {"reputation": 24613, "user_id": 3518452, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/71c8adf8d0ebc93a00ac2a0498509091?s=128&d=identicon&r=PG", "display_name": "rnevius", "link": "https://stackoverflow.com/users/3518452/rnevius"}, "edited": false, "score": 2, "creation_date": 1452728666, "post_id": 34779207, "comment_id": 57303377, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/7338501/python-assign-value-if-none-exists\">Python: Assign Value if None Exists</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2389, "user_id": 4033315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6dbaa2034e4c433ebb6c11f22926034c?s=128&d=identicon&r=PG&f=1", "display_name": "Geotob", "link": "https://stackoverflow.com/users/4033315/geotob"}, "is_accepted": true, "score": 6, "last_activity_date": 1492466339, "last_edit_date": 1492466339, "creation_date": 1452728886, "answer_id": 34779258, "question_id": 34779207, "link": "https://stackoverflow.com/questions/34779207/one-liner-python-equivalent-of-javascript-like-assignment-when-value-is-falsey/34779258#34779258", "title": "One liner Python equivalent of JavaScript like assignment when value is falsey", "body": "<p>You could use a keyword argument instead of a plain argument to your function:</p>\n\n<pre><code>def someRecursiveFn(item, val=None):\n    val = val or 0\n</code></pre>\n\n<p>so <code>val</code> will default to <code>None</code> if it's not passed to the function call.</p>\n\n<p>the <code>val = val or 0</code> will ensure that <code>val=None</code> or <code>val=''</code> are converted to 0. Can be omitted if you only care about <code>val</code> being defined in the first place.</p>\n"}, {"tags": [], "owner": {"reputation": 1781, "user_id": 4515566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOOZ7.jpg?s=128&g=1", "display_name": "arainone", "link": "https://stackoverflow.com/users/4515566/arainone"}, "is_accepted": false, "score": 0, "last_activity_date": 1452729738, "last_edit_date": 1452729738, "creation_date": 1452729042, "answer_id": 34779292, "question_id": 34779207, "link": "https://stackoverflow.com/questions/34779207/one-liner-python-equivalent-of-javascript-like-assignment-when-value-is-falsey/34779292#34779292", "title": "One liner Python equivalent of JavaScript like assignment when value is falsey", "body": "<p>This:</p>\n\n<pre><code>def someRecursiveFn(item, val):\n    val = val if val else 0\n</code></pre>\n\n<p>But the python idiom <code>if val</code> is quite broad as it can have different meanings, some of them could even mean something in a specific context(for example the <code>0</code> value), contrarily to an <code>undefined</code> value in javascript.</p>\n\n<p>In python, all the following are considered <strong>false</strong>:</p>\n\n<ul>\n<li>None</li>\n<li>False</li>\n<li>zero of any numeric type, for example, 0, 0L, 0.0, 0j.</li>\n<li>any empty sequence, for example, '', (), [].</li>\n<li>any empty mapping, for example, {}.</li>\n<li>instances of user-defined classes, if the class defines a <strong>nonzero</strong>() or <strong>len</strong>() method, when that method returns the integer zero or bool value False</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2179, "user_id": 2653384, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1dd72e30eaef778f5d7ca2e573b8f9ca?s=128&d=identicon&r=PG", "display_name": "Busturdust", "link": "https://stackoverflow.com/users/2653384/busturdust"}, "is_accepted": false, "score": 2, "last_activity_date": 1452729088, "creation_date": 1452729088, "answer_id": 34779300, "question_id": 34779207, "link": "https://stackoverflow.com/questions/34779207/one-liner-python-equivalent-of-javascript-like-assignment-when-value-is-falsey/34779300#34779300", "title": "One liner Python equivalent of JavaScript like assignment when value is falsey", "body": "<p><code>val = val if val else 0</code> </p>\n\n<p><code>#if val is not None, it will assign itself, if it is None it will set val=0</code></p>\n"}], "owner": {"reputation": 7795, "user_id": 1249219, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/5bd1b51e2a4c6eb5ea4ced57cb60d875?s=128&d=identicon&r=PG", "display_name": "Om Shankar", "link": "https://stackoverflow.com/users/1249219/om-shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1619, "favorite_count": 0, "accepted_answer_id": 34779258, "answer_count": 3, "score": 5, "last_activity_date": 1492466339, "creation_date": 1452728605, "last_edit_date": 1452728699, "question_id": 34779207, "link": "https://stackoverflow.com/questions/34779207/one-liner-python-equivalent-of-javascript-like-assignment-when-value-is-falsey", "title": "One liner Python equivalent of JavaScript like assignment when value is falsey", "body": "<p>Consider a function in JavaScript:<br>\nIf <code>val</code> is not defined in the first call, it becomes <code>0</code>  </p>\n\n<pre><code>function someRecursiveFn (item, val) {\n    val = val || 0;\n    ...\n}\n</code></pre>\n\n<p>How do I assign the same way in Python?</p>\n\n<pre><code>def someRecursiveFn(item, val):\n    val = ??\n    ...\n</code></pre>\n"}, {"tags": ["python", "python-3.4", "python-import"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1452728725, "post_id": 34779193, "comment_id": 57303404, "body": "If you want to specifically <code>import app.foo</code> before you can use <code>app.foo.say_hello()</code>, then it&#39;s perfectly fine to leave <code>__init__.py</code> empty. So it&#39;s really your choice how much convenience versus namespacing you want."}, {"owner": {"reputation": 805, "user_id": 4641969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/scRBS.jpg?s=128&g=1", "display_name": "Trekkie", "link": "https://stackoverflow.com/users/4641969/trekkie"}, "edited": false, "score": 0, "creation_date": 1452729775, "post_id": 34779193, "comment_id": 57303812, "body": "But in the case that I want to <code>import app</code> and have access to it&#39;s namespace, then I have to modify the <code>__init__</code> right?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1452730063, "post_id": 34779193, "comment_id": 57303897, "body": "Recommended reading: <a href=\"https://docs.python.org/3/tutorial/modules.html\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial/modules.html</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 1, "creation_date": 1452730540, "post_id": 34779193, "comment_id": 57304036, "body": "&quot;<code>import app</code> and have access to it&#39;s namespace&quot;: that doesn&#39;t require modifying<code>__init__.py</code>: <code>import app</code> gives you its namespace and access. What you want to do in your question, however, does. But do read jonrsharpe&#39;s link, in particular secction 6.4, and take note of <code>__all__</code>.\\"}, {"owner": {"reputation": 805, "user_id": 4641969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/scRBS.jpg?s=128&g=1", "display_name": "Trekkie", "link": "https://stackoverflow.com/users/4641969/trekkie"}, "edited": false, "score": 0, "creation_date": 1452735552, "post_id": 34779193, "comment_id": 57305544, "body": "But <code>import app</code> does not give me access (and does not give an error). I cannot write in the code <code>app.foo.say_hello()</code>. The error I get says that <code>app</code> does not have a member <code>foo</code>. I can do a direct, absolute import and it works, i.e. <code>import app.foo as foo</code>... or <code>from app import foo</code>. I have in fact read this doc, but I&#39;m not seeing where it address this particular use case."}], "answers": [{"comments": [{"owner": {"reputation": 805, "user_id": 4641969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/scRBS.jpg?s=128&g=1", "display_name": "Trekkie", "link": "https://stackoverflow.com/users/4641969/trekkie"}, "edited": false, "score": 0, "creation_date": 1452736506, "post_id": 34780329, "comment_id": 57305862, "body": "This seems like it could be the answer to my question. However, in your example, if I import <code>import os</code>, I can still do something like <code>os.path.exists(file_name)</code>. I have not looked at the associated <code>__init__</code> file. It could very well have the appropriate import statements included. What do you think?"}, {"owner": {"reputation": 2237, "user_id": 1219722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f308a0947ea106f91b5ba413cd9c04c?s=128&d=identicon&r=PG", "display_name": "Dmitry Rubanovich", "link": "https://stackoverflow.com/users/1219722/dmitry-rubanovich"}, "reply_to_user": {"reputation": 805, "user_id": 4641969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/scRBS.jpg?s=128&g=1", "display_name": "Trekkie", "link": "https://stackoverflow.com/users/4641969/trekkie"}, "edited": false, "score": 1, "creation_date": 1452736656, "post_id": 34780329, "comment_id": 57305912, "body": "Yes, it means there is a <code>path</code> class inside of the <code>os</code> module (and there is)."}, {"owner": {"reputation": 805, "user_id": 4641969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/scRBS.jpg?s=128&g=1", "display_name": "Trekkie", "link": "https://stackoverflow.com/users/4641969/trekkie"}, "edited": false, "score": 0, "creation_date": 1452736733, "post_id": 34780329, "comment_id": 57305943, "body": "So what you&#39;re saying is that a blank <code>__init__</code> will allow classes to be recognized without extra effort but not functions not associated with a class?"}, {"owner": {"reputation": 2237, "user_id": 1219722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f308a0947ea106f91b5ba413cd9c04c?s=128&d=identicon&r=PG", "display_name": "Dmitry Rubanovich", "link": "https://stackoverflow.com/users/1219722/dmitry-rubanovich"}, "reply_to_user": {"reputation": 805, "user_id": 4641969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/scRBS.jpg?s=128&g=1", "display_name": "Trekkie", "link": "https://stackoverflow.com/users/4641969/trekkie"}, "edited": false, "score": 1, "creation_date": 1452736813, "post_id": 34780329, "comment_id": 57305955, "body": "<code>__init__.py</code> makes a directory into a package.  Without it, you can&#39;t say <code>import app.foo</code>.  You would have to say <code>import foo</code> and make sure that app is in your import search path."}, {"owner": {"reputation": 805, "user_id": 4641969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/scRBS.jpg?s=128&g=1", "display_name": "Trekkie", "link": "https://stackoverflow.com/users/4641969/trekkie"}, "edited": false, "score": 0, "creation_date": 1452736858, "post_id": 34780329, "comment_id": 57305968, "body": "So <code>os</code> is not broken up into separate modules? I understand that the <code>__init__</code> is required to make a package. What I don&#39;t understand is why when you import the package, it doesn&#39;t automatically make everything available as when you import a single module."}, {"owner": {"reputation": 2237, "user_id": 1219722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f308a0947ea106f91b5ba413cd9c04c?s=128&d=identicon&r=PG", "display_name": "Dmitry Rubanovich", "link": "https://stackoverflow.com/users/1219722/dmitry-rubanovich"}, "reply_to_user": {"reputation": 805, "user_id": 4641969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/scRBS.jpg?s=128&g=1", "display_name": "Trekkie", "link": "https://stackoverflow.com/users/4641969/trekkie"}, "edited": false, "score": 0, "creation_date": 1452737369, "post_id": 34780329, "comment_id": 57306088, "body": "There is both <code>os.path</code> class and <code>os.path</code> module.  It is as if you defined a <code>foo</code> class in <code>app&#47;__init__.py</code> file and this <code>foo</code> has some static methods in that <code>foo</code> class.  The <code>app.foo</code> which came from <code>__init__.py</code> would be distinct from the one which can be imported as <code>app&#47;foo.py</code> module."}, {"owner": {"reputation": 805, "user_id": 4641969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/scRBS.jpg?s=128&g=1", "display_name": "Trekkie", "link": "https://stackoverflow.com/users/4641969/trekkie"}, "reply_to_user": {"reputation": 2237, "user_id": 1219722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f308a0947ea106f91b5ba413cd9c04c?s=128&d=identicon&r=PG", "display_name": "Dmitry Rubanovich", "link": "https://stackoverflow.com/users/1219722/dmitry-rubanovich"}, "edited": false, "score": 0, "creation_date": 1452737485, "post_id": 34780329, "comment_id": 57306118, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/100624/discussion-between-trekkiebyday-and-dmitry-rubanovich\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 2237, "user_id": 1219722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f308a0947ea106f91b5ba413cd9c04c?s=128&d=identicon&r=PG", "display_name": "Dmitry Rubanovich", "link": "https://stackoverflow.com/users/1219722/dmitry-rubanovich"}, "is_accepted": true, "score": 1, "last_activity_date": 1452736282, "last_edit_date": 1452736282, "creation_date": 1452735865, "answer_id": 34780329, "question_id": 34779193, "link": "https://stackoverflow.com/questions/34779193/when-do-i-need-to-modify-a-python-init-file/34780329#34780329", "title": "When do I need to modify a Python __init__ file?", "body": "<p>Saying </p>\n\n<pre><code>import app\n</code></pre>\n\n<p>only runs <code>app/__init__.py</code> and makes everything it initializes available to be used as <code>app.SOMENAME</code>.  If you want <code>app.foo</code> module to be available, you need to say <code>import app.foo</code>.  This will load the module.  A common example of this distinction is probably <code>import os</code> vs <code>import os.path</code>.  Just because you say <code>import os</code>, you won't have the contents of <code>os.path</code> package available.</p>\n\n<p>You don't have to break modules into packages, but it helps to avoid module-name collision.  It may also help to keep concepts clear in the mind of a user of these modules.</p>\n"}], "owner": {"reputation": 805, "user_id": 4641969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/scRBS.jpg?s=128&g=1", "display_name": "Trekkie", "link": "https://stackoverflow.com/users/4641969/trekkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 34780329, "answer_count": 1, "score": 1, "last_activity_date": 1452736282, "creation_date": 1452728551, "last_edit_date": 1452730012, "question_id": 34779193, "link": "https://stackoverflow.com/questions/34779193/when-do-i-need-to-modify-a-python-init-file", "title": "When do I need to modify a Python __init__ file?", "body": "<p>Suppose that you create a Python package called <code>app</code>, and it contains a module called <code>foo</code>, which has a function called <code>say_hello</code> that prints out <code>Hello!</code> to the console.</p>\n\n<p>Suppose that you also create a second Python package called <code>boss_app</code> that has a module <code>main</code>. The <code>app</code> and <code>boss_app</code> are in the same directory, and the directory is on the Python path. Also, the <code>__init__</code> files are all blank. The structure is:</p>\n\n<pre><code>app\n    __init__.py\n    foo.py\nboss_app\n    __init__.py\n    main.py\n</code></pre>\n\n<p>I want to import <code>app</code> into <code>boss_app.main</code> so that I can call <code>app.foo.say_hello</code>.</p>\n\n<p>I use this command:</p>\n\n<pre><code>import app\n\napp.foo.say_hello()\n</code></pre>\n\n<p>and I expect to see in the console:</p>\n\n<pre><code>&gt;&gt;&gt;&gt; Hello!\n</code></pre>\n\n<p>Instead, the behavior I get is that <code>app</code> is imported <em>but</em> it does not have access to <code>foo</code>.</p>\n\n<p>The solution I came up with was to modify <code>app.__init__</code> so that it contained the following command:</p>\n\n<pre><code>from .foo import *\n</code></pre>\n\n<p>Now I get the expected behavior.</p>\n\n<p>Is it always necessary to make a custom <code>__init__</code> for a package if that package is going to be imported from an outside package?</p>\n"}, {"tags": ["python", "setup.py"], "answers": [{"tags": [], "owner": {"reputation": 543, "user_id": 300696, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6ea5da40bb7cd33c6b336953813e845e?s=128&d=identicon&r=PG", "display_name": "Gregor Leban", "link": "https://stackoverflow.com/users/300696/gregor-leban"}, "is_accepted": false, "score": 0, "last_activity_date": 1462998243, "creation_date": 1462998243, "answer_id": 37172622, "question_id": 34779058, "link": "https://stackoverflow.com/questions/34779058/how-to-get-executable-of-c-extension-form-setup-py-not-so-lib/37172622#37172622", "title": "How to get executable of C++ extension form setup.py not .so lib?", "body": "<p>I have currently the same problem. I know that I can build an executable if I add this to the Extension constructor</p>\n\n<pre><code>Extension (...., \n    extra_link_args = [\"-o./csolver/csolver\"]\n)\n</code></pre>\n\n<p>This builds an executable instead of the .so file. The problem is that the files are stored somewhere in the temp directory where the package is being prepared before moving to the target directory. What I'm currently trying to figure out how to change the destination to the place where I actually want the file to be at the end.</p>\n"}], "owner": {"reputation": 91, "user_id": 4136863, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100000303910075/picture?type=large", "display_name": "Zeeshan Haider", "link": "https://stackoverflow.com/users/4136863/zeeshan-haider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462998243, "creation_date": 1452727888, "question_id": 34779058, "link": "https://stackoverflow.com/questions/34779058/how-to-get-executable-of-c-extension-form-setup-py-not-so-lib", "title": "How to get executable of C++ extension form setup.py not .so lib?", "body": "<p>As currently I am getting .so file when I make the build with disutils. I know there is a way but can someone narrow it down? Sorry If the question is too stupid. I am new to python build system. I want to run the output binary, which currently is a shared object.</p>\n"}, {"tags": ["python", "variables", "stack", "global", "local"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5587856, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df39b1d0f4781d50d6148019edf609b2?s=128&d=identicon&r=PG&f=1", "display_name": "lisa turner", "link": "https://stackoverflow.com/users/5587856/lisa-turner"}, "edited": false, "score": 0, "creation_date": 1452730984, "post_id": 34779115, "comment_id": 57304165, "body": "Thanks, i&#39;ve just got it to work but i&#39;ve had to do: stack = [stack_pointer] what does this piece of code mean?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 31, "user_id": 5587856, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df39b1d0f4781d50d6148019edf609b2?s=128&d=identicon&r=PG&f=1", "display_name": "lisa turner", "link": "https://stackoverflow.com/users/5587856/lisa-turner"}, "edited": false, "score": 0, "creation_date": 1452736381, "post_id": 34779115, "comment_id": 57305821, "body": "@lisaturner: <code>stack = [stack_pointer]</code> is almost certainly wrong. You&#39;re discarding the <code>stack</code>, and replacing it with a whole new <code>list</code> that contains the stack pointer, but none of the stack contents."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1452736522, "post_id": 34779115, "comment_id": 57305869, "body": "Also, there is no need to pass <code>-1</code> to <code>list.pop</code>; it already pops from the end of the <code>list</code> by default, so passing it just slightly increases argument parsing overhead without changing behavior."}, {"owner": {"reputation": 31, "user_id": 5587856, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df39b1d0f4781d50d6148019edf609b2?s=128&d=identicon&r=PG&f=1", "display_name": "lisa turner", "link": "https://stackoverflow.com/users/5587856/lisa-turner"}, "edited": false, "score": 0, "creation_date": 1452816418, "post_id": 34779115, "comment_id": 57347482, "body": "i&#39;ve got the code working but I&#39;ve written my code in python implementing a stack, it is pushing and popping following LIFO but when you view the list it prints it as:  1 2 3  showing the last item at the bottom, how can I make it show the last item at the top like a proper stack?"}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 1, "last_activity_date": 1452728138, "creation_date": 1452728138, "answer_id": 34779115, "question_id": 34779056, "link": "https://stackoverflow.com/questions/34779056/why-am-i-getting-an-error-of-local-variable-when-i-have-declared-it-as-a-global/34779115#34779115", "title": "why am I getting an error of local variable when I have declared it as a global variable, whilst trying to program a stack in python?", "body": "<p>You forgot to declare the variable global in functions where you change it.</p>\n\n<p>For example:</p>\n\n<pre><code>def pop():\n    global stack_pointer    # this is what you forgot\n    if stack_pointer &lt; 0:\n        print (\"stack is empty!\")\n    else:\n        item = stack[stack_pointer].pop(-1)\n        stack_pointer = stack_pointer - 1    # was a missing underscore here\n        print (\"you just popped out: \", item)\n</code></pre>\n\n<p>Variables in functions, if you assign to them, are considered local unless declared global (or nonlocal in Python 3).</p>\n"}], "owner": {"reputation": 31, "user_id": 5587856, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df39b1d0f4781d50d6148019edf609b2?s=128&d=identicon&r=PG&f=1", "display_name": "lisa turner", "link": "https://stackoverflow.com/users/5587856/lisa-turner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 34779115, "answer_count": 1, "score": 1, "last_activity_date": 1452734192, "creation_date": 1452727883, "last_edit_date": 1452734192, "question_id": 34779056, "link": "https://stackoverflow.com/questions/34779056/why-am-i-getting-an-error-of-local-variable-when-i-have-declared-it-as-a-global", "title": "why am I getting an error of local variable when I have declared it as a global variable, whilst trying to program a stack in python?", "body": "<p>I keep getting the following error message: </p>\n\n<blockquote>\n  <p>if stack_pointer &lt; max_length: UnboundLocalError: local variable 'stack_pointer' referenced before assignment</p>\n</blockquote>\n\n<p>I'm trying to program a stack data structure in python.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>stack_pointer = -1\nstack =[]\nmax_length = 10\n\ndef view():\n        for x in range (len(stack)):\n            print(stack[x])\ndef push():\n    if stack_pointer &lt; max_length:\n    item = input(\"Please enter the  item you wishto add to the stack: \")\n    stack[stack_pointer].append(item)\n    stack_pointer = stack_pointer + 1 \nelse:\n     print(\"Maximum stack length reached!\")\n\ndef pop():\n    if stack_pointer &lt; 0:\n        print (\"stack is empty!\")\n    else:\n        item = stack[stack_pointer].pop(-1)\n        stack_pointer = stackpointer - 1\n        print (\"you just popped out: \", item)\n\nwhile True:\nprint (\"\")\nprint(\"Python implementation of a stack\")\nprint(\"********************************\")\nprint(\"1. view Stack\")\nprint(\"2. Push onto Stack\")\nprint(\"3. Pop out of Stack\")\nprint(\"********************************\")\nprint(\"\")\nmenu_choice = int (input(\"Please enter your menu choice: \"))\nprint (\"\")\nprint (\"\")\n\nif menu_choice == 1:\n    view()\nelif menu_choice == 2:\n    push()\nelif menu_choice == 3:\n    pop()\n</code></pre>\n"}, {"tags": ["python", "theano"], "answers": [{"tags": [], "owner": {"reputation": 48, "user_id": 1606479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa9357e4e16ad0cbde975ab1da777df3?s=128&d=identicon&r=PG", "display_name": "Levey", "link": "https://stackoverflow.com/users/1606479/levey"}, "is_accepted": true, "score": 1, "last_activity_date": 1452740207, "creation_date": 1452740207, "answer_id": 34780927, "question_id": 34779015, "link": "https://stackoverflow.com/questions/34779015/column-stack-equivalent-in-theano/34780927#34780927", "title": "column_stack equivalent in Theano", "body": "<p>Use the <strong>concatenate</strong> function</p>\n\n<pre><code>import theano\nimport theano.tensor as T\nimport numpy as np\n\nx = T.fmatrix()\ny = T.fmatrix()\na = np.asarray([[1, 2, 3], [4, 5, 6], [7, 8, 9]], dtype=theano.config.floatX)\nb = np.asarray([[11, 12, 13], [14, 15, 16], [17, 18, 19]], dtype=theano.config.floatX)\nz = T.concatenate([x, y], axis=1)\nt = theano.function([x, y], z)\nprint t(a, b)\n</code></pre>\n"}], "owner": {"reputation": 1149, "user_id": 557478, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/93ca29dd25ded7ab533be38a3a511ac3?s=128&d=identicon&r=PG&f=1", "display_name": "uyaseen", "link": "https://stackoverflow.com/users/557478/uyaseen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 34780927, "answer_count": 1, "score": 1, "last_activity_date": 1458224239, "creation_date": 1452727623, "last_edit_date": 1458224239, "question_id": 34779015, "link": "https://stackoverflow.com/questions/34779015/column-stack-equivalent-in-theano", "title": "column_stack equivalent in Theano", "body": "<p>I am trying to stack a tensor as columns to an existing tensor (basically equivalent of <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.column_stack.html\" rel=\"nofollow\">column_stack</a> in numpy)</p>\n\n<pre><code>import numpy as np\na = np.asarray([[1,2,3],[4,5,6],[7,8,9]])\nb = np.asarray([[11,12,13],[14,15,16],[17,18,19]])\nnp.column_stack((a,b))\n\narray([[ 1,  2,  3, 11, 12, 13],\n   [ 4,  5,  6, 14, 15, 16],\n   [ 7,  8,  9, 17, 18, 19]])\n</code></pre>\n\n<p>I need the same for tensor:</p>\n\n<pre><code>import theano\nimport theano.tensor as T\nimport numpy as np\n\nx = T.fmatrix()\ny = T.fmatrix()\na = np.asarray([[1, 2, 3], [4, 5, 6], [7, 8, 9]], dtype=theano.config.floatX)\nb = np.asarray([[11, 12, 13], [14, 15, 16], [17, 18, 19]], dtype=theano.config.floatX)\nz = ? # do equivalent of column_stack here\nt = theano.function([x, y], z)\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 18953, "user_id": 4640209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86bc12112054e578fc0bcd333cbb2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4640209/alex"}, "edited": false, "score": 3, "creation_date": 1452727699, "post_id": 34778986, "comment_id": 57303009, "body": "Possible duplicate, see <a href=\"http://stackoverflow.com/questions/3728655/python-titlecase-a-string-with-exceptions\" title=\"python titlecase a string with exceptions\">stackoverflow.com/questions/3728655/&hellip;</a>"}, {"owner": {"reputation": 111, "user_id": 5741724, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0563e430f75ec4e716f3fc9822aa5c17?s=128&d=identicon&r=PG&f=1", "display_name": "CDog", "link": "https://stackoverflow.com/users/5741724/cdog"}, "reply_to_user": {"reputation": 18953, "user_id": 4640209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86bc12112054e578fc0bcd333cbb2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4640209/alex"}, "edited": false, "score": 0, "creation_date": 1452728058, "post_id": 34778986, "comment_id": 57303148, "body": "Sort of a duplicate, I saw that post, but it doesnt show anything about a function with two arguments. He also used a set list all the time, I would like to be able to write which ones I dont want to capitalize."}, {"owner": {"reputation": 18953, "user_id": 4640209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86bc12112054e578fc0bcd333cbb2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4640209/alex"}, "edited": false, "score": 0, "creation_date": 1452728248, "post_id": 34778986, "comment_id": 57303229, "body": "<code>def title_except(s, exceptions)</code> seems to have two input arguments:-)"}], "answers": [{"tags": [], "owner": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "is_accepted": false, "score": 3, "last_activity_date": 1458018278, "last_edit_date": 1458018278, "creation_date": 1452727954, "answer_id": 34779072, "question_id": 34778986, "link": "https://stackoverflow.com/questions/34778986/title-case-with-a-list-of-exception-words/34779072#34779072", "title": "Title case with a list of exception words", "body": "<pre><code>def titlemaker(title,exceptions):\n    exceptions = exceptions.split(' ')\n    return ' '.join(x.title() if nm==0 or not x in exceptions else x for nm,x in enumerate(title.split(' ')))\n\ntitlemaker('a man and his dog','a and') # returns \"A Man and His Dog\"\n</code></pre>\n\n<p>The above assumes that the input string and the list of exceptions are in the same case (as they are in your example), but would fail on something like `titlemaker('a man And his dog','a and').  If they could be in mixed case do,</p>\n\n<pre><code>def titlemaker(title,exceptions):\n    exceptionsl = [x.lower() for x in exceptions.split(' ')]\n    return ' '.join(x.title() if nm==0 or not x.lower() in exceptions else x.lower() for nm,x in enumerate(title.split(' ')))\n\ntitlemaker('a man and his dog','a and') # returns \"A Man and His Dog\"\ntitlemaker('a man AND his dog','a and') # returns \"A Man and His Dog\"\ntitlemaker('A Man And His DOG','a and') # returns \"A Man and His Dog\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 791, "user_id": 5745815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sxVE5.jpg?s=128&g=1", "display_name": "floydn", "link": "https://stackoverflow.com/users/5745815/floydn"}, "edited": false, "score": 1, "creation_date": 1452731071, "post_id": 34779139, "comment_id": 57304189, "body": "Since you already enumerate <code>text</code>, why don&#39;t you include the condition <code>or i == 0</code> in your list comprehension to eliminate the the extra <code>title()</code> in the line below it?"}, {"owner": {"reputation": 3763, "user_id": 4120036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bf418d56d27dc52240878bf83d484a?s=128&d=identicon&r=PG", "display_name": "Andr&#233;s P&#233;rez-Albela H.", "link": "https://stackoverflow.com/users/4120036/andr%c3%a9s-p%c3%a9rez-albela-h"}, "reply_to_user": {"reputation": 791, "user_id": 5745815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sxVE5.jpg?s=128&g=1", "display_name": "floydn", "link": "https://stackoverflow.com/users/5745815/floydn"}, "edited": false, "score": 0, "creation_date": 1452731197, "post_id": 34779139, "comment_id": 57304229, "body": "Done. Thank you @floydn!"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1452731937, "post_id": 34779139, "comment_id": 57304428, "body": "Why not just call title on the final string?"}, {"owner": {"reputation": 3763, "user_id": 4120036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bf418d56d27dc52240878bf83d484a?s=128&d=identicon&r=PG", "display_name": "Andr&#233;s P&#233;rez-Albela H.", "link": "https://stackoverflow.com/users/4120036/andr%c3%a9s-p%c3%a9rez-albela-h"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1452732021, "post_id": 34779139, "comment_id": 57304466, "body": "@PeterWood could be. But there are a lot of ways to do it, I just picked one to answer this question. Thanks anyway."}], "tags": [], "owner": {"reputation": 3763, "user_id": 4120036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bf418d56d27dc52240878bf83d484a?s=128&d=identicon&r=PG", "display_name": "Andr&#233;s P&#233;rez-Albela H.", "link": "https://stackoverflow.com/users/4120036/andr%c3%a9s-p%c3%a9rez-albela-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1452731189, "last_edit_date": 1452731189, "creation_date": 1452728239, "answer_id": 34779139, "question_id": 34778986, "link": "https://stackoverflow.com/questions/34778986/title-case-with-a-list-of-exception-words/34779139#34779139", "title": "Title case with a list of exception words", "body": "<p><strong>Try with this:</strong></p>\n\n<pre><code>def titleize(text, exceptions):\n    exceptions = exceptions.split()\n    text = text.split()\n    # Capitalize every word that is not on \"exceptions\" list\n    for i, word in enumerate(text):\n        text[i] = word.title() if word not in exceptions or i == 0 else word\n    # Capitalize first word no matter what\n    return ' '.join(text)\n\nprint titleize('a man and his dog', 'a and')\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>A Man and His Dog\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3133, "user_id": 291009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5bb42d7c229be34fa0d8204537db8bc?s=128&d=identicon&r=PG", "display_name": "Garland Pope", "link": "https://stackoverflow.com/users/291009/garland-pope"}, "edited": false, "score": 0, "creation_date": 1609786359, "post_id": 34779770, "comment_id": 115926058, "body": "Doesn&#39;t the .title() at the end undo the exceptions? It looks like it splits the text into words, joins the words with non-exceptions title-cased, and then applies .title() to the resulting string which will title-case all words, including the exceptions."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "reply_to_user": {"reputation": 3133, "user_id": 291009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5bb42d7c229be34fa0d8204537db8bc?s=128&d=identicon&r=PG", "display_name": "Garland Pope", "link": "https://stackoverflow.com/users/291009/garland-pope"}, "edited": false, "score": 0, "creation_date": 1609792321, "post_id": 34779770, "comment_id": 115928413, "body": "@GarlandPope I believe you&#39;re right. I&#39;ve fixed it to finally call <a href=\"https://docs.python.org/3/library/stdtypes.html#str.capitalize\" rel=\"nofollow noreferrer\"><code>capitalize</code></a> instead of <a href=\"https://docs.python.org/3/library/stdtypes.html#str.title\" rel=\"nofollow noreferrer\"><code>title</code></a> so that the first character is always a capital."}], "tags": [], "owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "is_accepted": false, "score": 2, "last_activity_date": 1609792247, "last_edit_date": 1609792247, "creation_date": 1452732186, "answer_id": 34779770, "question_id": 34778986, "link": "https://stackoverflow.com/questions/34778986/title-case-with-a-list-of-exception-words/34779770#34779770", "title": "Title case with a list of exception words", "body": "<pre><code>def titleize(text, exceptions):\n    return ' '.join([word if word in exceptions else word.title()\n                     for word in text.split()]).capitalize()\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5741724, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0563e430f75ec4e716f3fc9822aa5c17?s=128&d=identicon&r=PG&f=1", "display_name": "CDog", "link": "https://stackoverflow.com/users/5741724/cdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1319, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1609792247, "creation_date": 1452727440, "question_id": 34778986, "link": "https://stackoverflow.com/questions/34778986/title-case-with-a-list-of-exception-words", "title": "Title case with a list of exception words", "body": "<p>Im trying to come up with something that will \"title\" a string of words. It should capitalize all words in the string unless given words not to capitalize as an argument. But will still capitalize the first word no matter what. I know how to capitalize every word, but I dont know how to not capitalize the exceptions. Kind of lost on where to start, couldnt find much on google.</p>\n\n<pre><code>  def titlemaker(title, exceptions):\n      return ' '.join(x[0].upper() + x[1:] for x in title.split(' '))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>return title.title()\n</code></pre>\n\n<p>but I found that will capitalize a letter after an apostrophe so I dont think I should use it. \nAny help on how I should take into account the exceptions would be nice</p>\n\n<p>example:  titlemaker('a man and his dog', 'a and') should return 'A Man and His Dog'</p>\n"}, {"tags": ["python", "flask", "websocket", "socket.io"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1452731340, "post_id": 34778961, "comment_id": 57304268, "body": "&quot;test&quot; is not a valid message ... socketio interface only has &quot;connect&quot;,&quot;disconnect&quot;, and &quot;message&quot; ... I think ... anyway you need an on_message handler that you parse out additional information about what to do ..."}, {"owner": {"reputation": 776, "user_id": 66105, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/10960ba0f305803a1cdc7cd6188d643b?s=128&d=identicon&r=PG", "display_name": "Joshua Noble", "link": "https://stackoverflow.com/users/66105/joshua-noble"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1452732360, "post_id": 34778961, "comment_id": 57304569, "body": "@JoranBeasley Interesting, the Flask-SocketIO documentation shows: <code>@socketio.on(&#39;my event&#39;) def handle_my_custom_event(json):</code> and a corresponding message being sent from the HTML page: <code>socket.emit(&#39;my event&#39;, {data: &#39;I\\&#39;m connected!&#39;});</code> so I guess I&#39;m assuming things not called &#39;message&#39; should work?"}, {"owner": {"reputation": 5662, "user_id": 5781248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712de4f2f811d1a400d3311c9cdd5836?s=128&d=identicon&r=PG&f=1", "display_name": "J.J. Hakala", "link": "https://stackoverflow.com/users/5781248/j-j-hakala"}, "edited": false, "score": 0, "creation_date": 1452732490, "post_id": 34778961, "comment_id": 57304609, "body": "I would use a button, <code>&lt;button id=&quot;startBtn&quot;&gt;Click me!&lt;&#47;button&gt;</code> and then <code>$(&#39;#startBtn&#39;).click(function() { ... }</code>. I&#39;m not sure if catching clicks on that &#39;START&#39; text works at all."}, {"owner": {"reputation": 776, "user_id": 66105, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/10960ba0f305803a1cdc7cd6188d643b?s=128&d=identicon&r=PG", "display_name": "Joshua Noble", "link": "https://stackoverflow.com/users/66105/joshua-noble"}, "reply_to_user": {"reputation": 5662, "user_id": 5781248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712de4f2f811d1a400d3311c9cdd5836?s=128&d=identicon&r=PG&f=1", "display_name": "J.J. Hakala", "link": "https://stackoverflow.com/users/5781248/j-j-hakala"}, "edited": false, "score": 0, "creation_date": 1452732555, "post_id": 34778961, "comment_id": 57304627, "body": "@J.J.Hakala it prints &#39;ok&#39; to the console, so as far as I can tell, should execute the next line as well"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1452732902, "post_id": 34778961, "comment_id": 57304736, "body": "yeah I know ... I spent some time messing with this(perhaps not enough time) and ended up just using on(&quot;message&quot;) and json.encoding a payload including &quot;my_custom_event&quot; or whatever ..."}], "answers": [{"tags": [], "owner": {"reputation": 776, "user_id": 66105, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/10960ba0f305803a1cdc7cd6188d643b?s=128&d=identicon&r=PG", "display_name": "Joshua Noble", "link": "https://stackoverflow.com/users/66105/joshua-noble"}, "is_accepted": true, "score": 4, "last_activity_date": 1452734788, "creation_date": 1452734788, "answer_id": 34780167, "question_id": 34778961, "link": "https://stackoverflow.com/questions/34778961/flask-and-flask-socketio/34780167#34780167", "title": "Flask and Flask-SocketIO", "body": "<p>So the problem seems to be in how I was setting up the Flask application and socketio. Changing it to this:</p>\n\n<pre><code>app = Flask(__name__)\nsocketio = SocketIO(app, async_mode='eventlet')\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\n\n@socketio.on('test')\ndef josh_test(message):\n    print \"test\"\n\nif __name__ == '__main__':\n    socketio.run(app, debug=True)\n</code></pre>\n\n<p>it now all works fantastically with no changes to the HTML file. My previous version had:</p>\n\n<pre><code>if __name__ == \"__main__\":\n   app.run(debug=True, host='0.0.0.0')\n   socketio.run(app)\n</code></pre>\n\n<p>and that was what was causing the problems.</p>\n"}], "owner": {"reputation": 776, "user_id": 66105, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/10960ba0f305803a1cdc7cd6188d643b?s=128&d=identicon&r=PG", "display_name": "Joshua Noble", "link": "https://stackoverflow.com/users/66105/joshua-noble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4584, "favorite_count": 1, "closed_date": 1452749912, "accepted_answer_id": 34780167, "answer_count": 1, "score": 3, "last_activity_date": 1452734788, "creation_date": 1452727255, "last_edit_date": 1452732483, "question_id": 34778961, "link": "https://stackoverflow.com/questions/34778961/flask-and-flask-socketio", "closed_reason": "Duplicate", "title": "Flask and Flask-SocketIO", "body": "<p>This seems like a very simple problem but it's got me confused nonetheless, I have a Flask application that serves up a webpage and communicates with that page via Socket.io. The Flask application looks like this:</p>\n\n<pre><code>app = Flask(__name__)\nsocketio = SocketIO(app)\n\n@socketio.on_error()\ndef error_handler(e):\n    print e\n\n#this fires\n@socketio.on(\"connect\")\ndef connect():\n    print \"connected\"\n\n#this does not    \n@socketio.on('test')\ndef test_handler(message):\n    print \"TEST WORKS\"\n\nif __name__ == \"__main__\":\n    app.run(debug=True, host='0.0.0.0')\n    socketio.run(app)\n</code></pre>\n\n<p>My page itself is very simple:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Flask Socket.IO test&lt;/title&gt;\n    &lt;style&gt;\n      body { font: 13px Helvetica, Arial; }\n    &lt;/style&gt;\n\n    &lt;script src=\"socket.io-1.4.3.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"jquery-2.2.0.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n      var socket = io(\"192.168.42.1:5000\");\n        socket.on('connect', function() {\n            console.log(\" connected \");\n        });\n        $(document).ready( function() {\n            $( '.startBtn' ).click(function() {\n                console.log(\"ok\");\n                socket.emit('test', {data:\"start!\"});\n            });\n        });\n    &lt;/script&gt;\n\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;div class=\"startBtn\"&gt;\n        &lt;h1&gt;START&lt;/h1&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I see on both sides that they connect (i.e. the connect event is triggered on both sides) but nothing that I send from the page to the server is received. I'm guessing somehow I have things misconfigured but the connection being established makes me think otherwise. </p>\n"}, {"tags": ["python", "google-app-engine", "google-cloud-datastore", "app-engine-ndb"], "answers": [{"tags": [], "owner": {"reputation": 6638, "user_id": 1093087, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/b937aa2b2b48b79431e9ad2565948f3b?s=128&d=identicon&r=PG", "display_name": "klenwell", "link": "https://stackoverflow.com/users/1093087/klenwell"}, "is_accepted": true, "score": 1, "last_activity_date": 1452726927, "creation_date": 1452726927, "answer_id": 34778885, "question_id": 34778884, "link": "https://stackoverflow.com/questions/34778884/in-google-app-engine-datastore-for-python-are-ndb-key-ids-by-default-always-i/34778885#34778885", "title": "In Google App Engine datastore (for Python), are ndb key ids by default always integers?", "body": "<p>I confirmed that this is the case. It is stated (some might say, buried) in the documentation <a href=\"https://cloud.google.com/appengine/docs/python/ndb/entities?hl=en#numeric_keys\" rel=\"nofollow\">here</a>:</p>\n\n<blockquote>\n  <p>An application can create an entity without specifying an ID; the Datastore automatically generates a numeric ID.</p>\n</blockquote>\n\n<p>A code example:</p>\n\n<pre><code>from google.appengine.ext import ndb\n\nclass Fingerprint(ndb.Model):\n    fingerprint = ndb.StringProperty(required=True)\n\nfingerprint = Fingerprint(fingerprint='abc')\nnew_key = fingerprint.put()\nprint new_key.id(), type(new_key.id())\n\nfingerprint = Fingerprint(id='abc', fingerprint='abc')\nnew_key = fingerprint.put()\nprint new_key.id(), type(new_key.id())\n\nfingerprint = Fingerprint(id=100, fingerprint='abc')\nnew_key = fingerprint.put()\nprint new_key.id(), type(new_key.id())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>4785074604081152 &lt;type 'long'&gt;\nabc &lt;type 'str'&gt;\n100 &lt;type 'long'&gt;\n</code></pre>\n"}], "owner": {"reputation": 6638, "user_id": 1093087, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/b937aa2b2b48b79431e9ad2565948f3b?s=128&d=identicon&r=PG", "display_name": "klenwell", "link": "https://stackoverflow.com/users/1093087/klenwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 34778885, "answer_count": 1, "score": 1, "last_activity_date": 1482939052, "creation_date": 1452726927, "last_edit_date": 1482939052, "question_id": 34778884, "link": "https://stackoverflow.com/questions/34778884/in-google-app-engine-datastore-for-python-are-ndb-key-ids-by-default-always-i", "title": "In Google App Engine datastore (for Python), are ndb key ids by default always integers?", "body": "<p>This appears to be the case, but I am unable to confirm it in the documentation.</p>\n\n<p>The <a href=\"https://cloud.google.com/appengine/docs/python/ndb/keyclass\" rel=\"nofollow\">ndb Key class</a> includes methods <code>id</code>, <code>string_id</code>, and <code>integer_id</code>. Of <code>id</code>, it states:</p>\n\n<blockquote>\n  <p>Returns the string or integer id in the last (kind, id) pair, or None if the key is incomplete.</p>\n</blockquote>\n\n<p>I assume <code>string_id</code> only returns a valid id when the Key constructor is explicitly passed a string id.</p>\n"}, {"tags": ["python", "file", "rename"], "comments": [{"owner": {"reputation": 2167, "user_id": 2118067, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Q6M8I.jpg?s=128&g=1", "display_name": "Erica", "link": "https://stackoverflow.com/users/2118067/erica"}, "edited": false, "score": 0, "creation_date": 1452727392, "post_id": 34778878, "comment_id": 57302891, "body": "Do the filenames have a consistent pattern with the hyphen in the middle (<code>a-b</code> to <code>b-a</code>)?"}, {"owner": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "edited": false, "score": 0, "creation_date": 1452727402, "post_id": 34778878, "comment_id": 57302896, "body": "Can you provide an example filename?"}, {"owner": {"reputation": 31, "user_id": 5787010, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gu4-2Hgych4/AAAAAAAAAAI/AAAAAAAABBc/x9IaC8lWX60/photo.jpg?sz=128", "display_name": "Mark Caswell", "link": "https://stackoverflow.com/users/5787010/mark-caswell"}, "edited": false, "score": 0, "creation_date": 1452733269, "post_id": 34778878, "comment_id": 57304857, "body": "I provided an example in the original question - &quot;This is the filename pattern that all of the files are in-123456.txt&quot; ... I wanted to change it to &quot;123456-This is the filename pattern that all of the files are in.txt&quot; ... All of the files are in that way title-123456.txt"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5787010, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gu4-2Hgych4/AAAAAAAAAAI/AAAAAAAABBc/x9IaC8lWX60/photo.jpg?sz=128", "display_name": "Mark Caswell", "link": "https://stackoverflow.com/users/5787010/mark-caswell"}, "edited": false, "score": 0, "creation_date": 1452728390, "post_id": 34778990, "comment_id": 57303277, "body": "Hmm... I like the idea of making sure I&#39;m not creating identical filenames, but it will take me some time to understand how this works. In this particular case every 6 or 5 digit number was unique, but for sure a best practice to employ. Thank you."}, {"owner": {"reputation": 31, "user_id": 5787010, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gu4-2Hgych4/AAAAAAAAAAI/AAAAAAAABBc/x9IaC8lWX60/photo.jpg?sz=128", "display_name": "Mark Caswell", "link": "https://stackoverflow.com/users/5787010/mark-caswell"}, "edited": false, "score": 0, "creation_date": 1452728760, "post_id": 34778990, "comment_id": 57303414, "body": "I will add regular expressions to my learning track. I think this would likely be very powerful and handy to know in many areas. Thank you."}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": false, "score": 4, "last_activity_date": 1452729496, "last_edit_date": 1452729496, "creation_date": 1452727472, "answer_id": 34778990, "question_id": 34778878, "link": "https://stackoverflow.com/questions/34778878/beginner-rename-file-using-python-refactor-for-a-better-answer/34778990#34778990", "title": "(Beginner) Rename file using Python - Refactor for a better answer", "body": "<p>It may be safer and more powerful to use regular expressions.  This will only rename files that match the given pattern, which is [ANY SEQUENCE OF CHARACTERS][A DASH][NUMBERS][EXTENSION]</p>\n\n<p>An added benefit to using this method is that you can run it multiple times on the same directory and it won't affect already renamed files.</p>\n\n<p>You might also want to do a check to make sure the file you're renaming it to doesn't already exist (so that you don't overwrite an existing file).</p>\n\n<pre><code>import re\n\n\nfor filename in os.listdir('.')\n    m = re.match(r'^(?P&lt;name&gt;.+)-(?P&lt;num&gt;\\d+)(?P&lt;ext&gt;\\.\\w+)$', filename)\n    if m:\n        newname = '{num}-{name}{ext}'.format(**m.groupdict())\n        if not os.path.exists(newname):\n            os.rename(filename, newname)\n</code></pre>\n\n<p>I'll break down the regular expression</p>\n\n<pre><code>^(?P&lt;name&gt;.+)\n</code></pre>\n\n<p>The <code>^</code> indicates we will start matching at the beginning of the filename (as opposed to matching a middle part of the filename).  The <code>()</code> make this a regex group, so that we can access just that one part of the string match.  The <code>?P&lt;name&gt;</code> is just a way to apply a label to a particular group, so that we can refer it to by name later on.  In this case, we've given this group a label of <code>name</code>.  </p>\n\n<p><code>.</code> will match any character, and <code>+</code> tells it to match 1 or more characters.</p>\n\n<p><code>-</code></p>\n\n<p>This will only match the <code>-</code> character</p>\n\n<pre><code>(?P&lt;num&gt;\\d+)\n</code></pre>\n\n<p>Again, we've made this a group and given it a label of <code>num</code>.  <code>\\d</code> will only match numbers and the <code>+</code> means it will match 1 or more numbers.</p>\n\n<pre><code>(?P&lt;ext&gt;\\.\\w+)$\n</code></pre>\n\n<p>Another group, another label.  The <code>\\.</code> will only match a <code>.</code> and the <code>\\w</code> will match word characters (i.e. letters, numbers, underscores).  Again, the <code>+</code> means it will match 1 or more characters.  The <code>$</code> ensures it matches all the way to the end of the string.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5787010, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gu4-2Hgych4/AAAAAAAAAAI/AAAAAAAABBc/x9IaC8lWX60/photo.jpg?sz=128", "display_name": "Mark Caswell", "link": "https://stackoverflow.com/users/5787010/mark-caswell"}, "edited": false, "score": 0, "creation_date": 1452728295, "post_id": 34779043, "comment_id": 57303248, "body": "At my current level... I can just follow this logic. Very cool. I didn&#39;t think about splitting the filename into variables."}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 2, "creation_date": 1452728445, "post_id": 34779043, "comment_id": 57303292, "body": "One important downside I notice is that this method is not <a href=\"https://en.wikipedia.org/wiki/Idempotence\" rel=\"nofollow noreferrer\">idempotent</a> -- running this on a directory with filenames that have already been renamed will rename them back to the old, undesired name."}, {"owner": {"reputation": 31, "user_id": 5787010, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gu4-2Hgych4/AAAAAAAAAAI/AAAAAAAABBc/x9IaC8lWX60/photo.jpg?sz=128", "display_name": "Mark Caswell", "link": "https://stackoverflow.com/users/5787010/mark-caswell"}, "edited": false, "score": 0, "creation_date": 1452728701, "post_id": 34779043, "comment_id": 57303395, "body": "The code I used didn&#39;t take that into consideration either... and I did realize that each subsequent run would iterate the filename. I&#39;ve been careful not to run it except the one time because there is no undo. Hmm... an undo would be nice."}], "tags": [], "owner": {"reputation": 4253, "user_id": 5449364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843d0aabb84a3b312d08384834c0f26d?s=128&d=identicon&r=PG", "display_name": "Javier Buzzi", "link": "https://stackoverflow.com/users/5449364/javier-buzzi"}, "is_accepted": false, "score": 1, "last_activity_date": 1452727809, "creation_date": 1452727809, "answer_id": 34779043, "question_id": 34778878, "link": "https://stackoverflow.com/questions/34778878/beginner-rename-file-using-python-refactor-for-a-better-answer/34779043#34779043", "title": "(Beginner) Rename file using Python - Refactor for a better answer", "body": "<p>How about this?</p>\n\n<pre><code>import os\n\nfor filename in os.listdir('.')\n    name, extension = os.path.splitext(filename)\n    if '-' not in name:\n        continue\n    part1, part2 = filename.split('-')\n    os.rename(filename, \"{1}-{0}{2}\".format(part2, part1, extension))\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5787010, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gu4-2Hgych4/AAAAAAAAAAI/AAAAAAAABBc/x9IaC8lWX60/photo.jpg?sz=128", "display_name": "Mark Caswell", "link": "https://stackoverflow.com/users/5787010/mark-caswell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1452729496, "creation_date": 1452726894, "question_id": 34778878, "link": "https://stackoverflow.com/questions/34778878/beginner-rename-file-using-python-refactor-for-a-better-answer", "title": "(Beginner) Rename file using Python - Refactor for a better answer", "body": "<p>(First post... very new to programming)</p>\n\n<p>I needed to rename a bunch of files from 'This is a filename-123456.ext' to '123456-This is a filename.ext'</p>\n\n<p>I managed to solve the problem using Python with the code below. I had to make 2 scripts because sometimes there are 5 numbers, but for the most part 6.</p>\n\n<pre><code>import os\nfor filename in os.listdir('.'): #not sure how to rename recursive sub-directories\n    if filename != 'ren6.py': #included to not rename the script file\n        start = filename[:-11]\n        number = filename[-10:-4]\n        ext = filename[-4:]\n        newname = str(number) + '-' + str(start)+str(ext) #Unnecessary variable creation?\n        os.rename(filename,newname)\n</code></pre>\n\n<p>I'm still learning and very curious of more efficient and elegant examples of to accomplish the same thing.</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "is_accepted": true, "score": 5, "last_activity_date": 1452726760, "creation_date": 1452726760, "answer_id": 34778841, "question_id": 34778788, "link": "https://stackoverflow.com/questions/34778788/replace-values-in-bigger-numpy-array-with-smaller-array/34778841#34778841", "title": "Replace values in bigger numpy array with smaller array", "body": "<pre><code>In [1]: import numpy as np\n\nIn [2]: a = np.zeros(100).reshape(10,10)\n\nIn [3]: b = np.ones(4).reshape(2,2)\n\nIn [4]: a[4:6, 4:6] = b\n\nIn [5]: a\nOut[5]: \narray([[ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  1.,  1.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  1.,  1.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.]])\n</code></pre>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "accepted_answer_id": 34778841, "answer_count": 1, "score": 1, "last_activity_date": 1452726760, "creation_date": 1452726511, "question_id": 34778788, "link": "https://stackoverflow.com/questions/34778788/replace-values-in-bigger-numpy-array-with-smaller-array", "title": "Replace values in bigger numpy array with smaller array", "body": "<p>I have 2 numpy arrays: The bigger one is a 10 x 10 numpy array and the smaller one is a 2 x 2 array.</p>\n\n<p>I would like to substitute the values in the bigger array with those from the smaller array, at a user specified location. E.g. Replace the values of the 10 x 10 array starting from its center point by replacing 4 values with the 2 x 2 array.</p>\n\n<p>Right now, I am doing this by using a nested for loop, and figuring out which pixels in the bigger array overlap those of the smaller array. Is there a more pythonic way to do it?</p>\n"}, {"tags": ["python", "selenium", "file-upload", "selenium-webdriver", "automated-tests"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1452726637, "post_id": 34778779, "comment_id": 57302617, "body": "Are you sure there are no other elements with the same <code>name</code> value?"}, {"owner": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1452727188, "post_id": 34778779, "comment_id": 57302825, "body": "I&#39;m sure, this name is unique!"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1452727231, "post_id": 34778779, "comment_id": 57302841, "body": "Thanks, could you please inspect the element in the browser developer tools and see how exactly it is made invisible?.."}, {"owner": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1452727831, "post_id": 34778779, "comment_id": 57303070, "body": "I think that some attributes are not fixed to this input. See the code now:  <code>&lt;input class=&quot;hide&quot; type=&quot;text&quot; data-validation-error-msg-container=&quot;#qualification-error-di&zwnj;&#8203;alog&quot; data-validation-error-msg=&quot;You must upload a qualification&quot; name=&quot;qualification&quot; required=&quot;&quot; data-validation=&quot;required&quot;&gt;</code>  CSS:  <code>.hide {     display: none !important;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "edited": false, "score": 0, "creation_date": 1452732410, "post_id": 34779065, "comment_id": 57304581, "body": "Worked fine, but when I try load my file, is sent only a string: See: <a href=\"http://screencast.com/t/zbMAz2swr\" rel=\"nofollow noreferrer\">screencast.com/t/zbMAz2swr</a> You can help me with this?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "edited": false, "score": 0, "creation_date": 1452734484, "post_id": 34779065, "comment_id": 57305213, "body": "@Rafael interesting, according to the screenshot, it does not look like a file input, but a regular input instead..is this a public site tat you can share a link to? Thanks."}, {"owner": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "edited": false, "score": 0, "creation_date": 1452774618, "post_id": 34779065, "comment_id": 57322497, "body": "Is not a public site, How I can send URL to you via PM?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "edited": false, "score": 0, "creation_date": 1452788391, "post_id": 34779065, "comment_id": 57332356, "body": "@Rafael we should trigger a suggestion to continue the discussion in chat."}, {"owner": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "edited": false, "score": 0, "creation_date": 1452788577, "post_id": 34779065, "comment_id": 57332483, "body": "Got it. remove my site"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "edited": false, "score": 0, "creation_date": 1452789385, "post_id": 34779065, "comment_id": 57333047, "body": "@Rafael please see the update in the answer. Thanks."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "edited": false, "score": 0, "creation_date": 1452789623, "post_id": 34779065, "comment_id": 57333209, "body": "@Rafael also added a special trick for Firefox. Hope it helps."}, {"owner": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "edited": false, "score": 0, "creation_date": 1452790821, "post_id": 34779065, "comment_id": 57334096, "body": "still with problem. Check if are right, please: <a href=\"http://screencast.com/t/9Zp5NED56cHF\" rel=\"nofollow noreferrer\">screencast.com/t/9Zp5NED56cHF</a>"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "edited": false, "score": 0, "creation_date": 1452790891, "post_id": 34779065, "comment_id": 57334143, "body": "@Rafael okay, but why are you finding the <code>qualification</code> and not <code>qualification2</code>? Also, you need to specify and absolute path to the image file.."}, {"owner": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "edited": false, "score": 0, "creation_date": 1452792718, "post_id": 34779065, "comment_id": 57335289, "body": "@alexce - name fixed. Path <code>elm.send_keys(&quot;..&#47;tests&#47;certificate.jpeg&#47;&quot;)</code> right?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "edited": false, "score": 0, "creation_date": 1452793540, "post_id": 34779065, "comment_id": 57335732, "body": "@Rafael the path should be absolute, you can use <code>os.abspath()</code> for that by the way."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 2, "last_activity_date": 1452789358, "last_edit_date": 1452789358, "creation_date": 1452727919, "answer_id": 34779065, "question_id": 34778779, "link": "https://stackoverflow.com/questions/34778779/upload-file-make-input-visible-error-elementnotvisibleexception/34779065#34779065", "title": "Upload file - Make input visible (Error: ElementNotVisibleException)", "body": "<p>You should try <em>removing the <code>hide</code> class</em> to make the element visible:</p>\n\n<pre><code>elm = self.driver.find_element_by_name(\"qualification2\")\nself.driver.execute_script('arguments[0].removeAttribute(\"class\");', elm)\n\nelm.send_keys(\"/absolute/path/to/certificate.jpeg\")\n</code></pre>\n\n<hr>\n\n<p>Used the link you've provided, tested it:</p>\n\n<pre><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get(\"http://your/site\")\n\nelm = driver.find_element_by_name(\"qualification2\")\ndriver.execute_script('arguments[0].removeAttribute(\"class\");', elm)\n\nelm.send_keys(\"/Users/user/Downloads/test.jpg\")\n</code></pre>\n\n<p>Produced:</p>\n\n<p><a href=\"https://i.stack.imgur.com/U06pS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U06pS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note that in Firefox you would also have to reset the <code>margin-left</code> style property to 0 to make the element really visible:</p>\n\n<pre><code>driver.execute_script('arguments[0].removeAttribute(\"class\"); arguments[0].style[\"margin-left\"] = 0;', elm)\n</code></pre>\n"}], "owner": {"reputation": 1670, "user_id": 2140932, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ca88a8f0c7b45b934594eaf22d1dc55c?s=128&d=identicon&r=PG", "display_name": "Rafael C.", "link": "https://stackoverflow.com/users/2140932/rafael-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1452797511, "creation_date": 1452726475, "last_edit_date": 1452797511, "question_id": 34778779, "link": "https://stackoverflow.com/questions/34778779/upload-file-make-input-visible-error-elementnotvisibleexception", "title": "Upload file - Make input visible (Error: ElementNotVisibleException)", "body": "<p><strong>Currently I have this input</strong></p>\n\n<pre><code>&lt;label class=\"bold grey-rectangle\" data-uploading=\"Uploading\" data-completed=\"Upload completed\"&gt;\n  &lt;span&gt;+ Add certificate&lt;/span&gt;\n  &lt;input type=\"file\" data-validation-allowing=\"jpg, jpeg, pdf\" data-validation=\"mime\" name=\"qualification2\"&gt;\n  &lt;div class=\"spinner hidden\"&gt;\n  &lt;div class=\"spinner-inner\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/label&gt;\n</code></pre>\n\n<p><strong>and I want to send a file to the same, so I'm running the following codes:</strong></p>\n\n<pre><code>self.driver.execute_script(\"document.getElementsByName('qualification2')[0].style.display='block';\")\nself.driver.find_element_by_name(\"qualification2\").send_keys(\"certificate.jpeg\")\n</code></pre>\n\n<p><strong>but I'm getting the following error</strong></p>\n\n<pre><code>ElementNotVisibleException: Message: Element is not currently visible and so may not be interacted with\n</code></pre>\n\n<p><strong>How, effectively, I can do an upload with python and selenium?</strong></p>\n"}, {"tags": ["python", "eclipse-rcp", "pydev"], "answers": [{"comments": [{"owner": {"reputation": 1669, "user_id": 2036650, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7f780c32382a9e1a96a367d362506359?s=128&d=identicon&r=PG", "display_name": "MidnightJava", "link": "https://stackoverflow.com/users/2036650/midnightjava"}, "edited": false, "score": 0, "creation_date": 1452782823, "post_id": 34788905, "comment_id": 57328208, "body": "Where can I find IPyHoverParticipant2? I only have IPyHoverParticipant in my PyDev codebase. I checked out source from <a href=\"https://github.com/fabioz/Pydev.git\" rel=\"nofollow noreferrer\">github.com/fabioz/Pydev.git</a> and tried various branches."}, {"owner": {"reputation": 1669, "user_id": 2036650, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7f780c32382a9e1a96a367d362506359?s=128&d=identicon&r=PG", "display_name": "MidnightJava", "link": "https://stackoverflow.com/users/2036650/midnightjava"}, "edited": false, "score": 0, "creation_date": 1452793554, "post_id": 34788905, "comment_id": 57335742, "body": "I made a contribution to pydev_completion extension point, and that takes a IPyDevCompletionParticipant2 implementation. (Actually the ext point documentation called for IPyDevCompletionParticipant, but a runtime error said to use IPyDevCompletionParticipant2). Maybe you were thinking of that when you said IPyHoverParticipant2?"}, {"owner": {"reputation": 1669, "user_id": 2036650, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7f780c32382a9e1a96a367d362506359?s=128&d=identicon&r=PG", "display_name": "MidnightJava", "link": "https://stackoverflow.com/users/2036650/midnightjava"}, "edited": false, "score": 0, "creation_date": 1452793628, "post_id": 34788905, "comment_id": 57335786, "body": "The problem with no TextHover for String args went away when I used the hover participant instead of the hack I was doing. So I don&#39;t think there&#39;s anything to fix in PyDev regarding this."}, {"owner": {"reputation": 23516, "user_id": 110451, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/70fc26faedcbfc82344a0b347053aaa0?s=128&d=identicon&r=PG", "display_name": "Fabio Zadrozny", "link": "https://stackoverflow.com/users/110451/fabio-zadrozny"}, "reply_to_user": {"reputation": 1669, "user_id": 2036650, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7f780c32382a9e1a96a367d362506359?s=128&d=identicon&r=PG", "display_name": "MidnightJava", "link": "https://stackoverflow.com/users/2036650/midnightjava"}, "edited": false, "score": 0, "creation_date": 1452860834, "post_id": 34788905, "comment_id": 57363946, "body": "I meant that you should create an IPyHoverParticipant2 and contribute it to PyDev ;)"}, {"owner": {"reputation": 1669, "user_id": 2036650, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7f780c32382a9e1a96a367d362506359?s=128&d=identicon&r=PG", "display_name": "MidnightJava", "link": "https://stackoverflow.com/users/2036650/midnightjava"}, "edited": false, "score": 0, "creation_date": 1452878864, "post_id": 34788905, "comment_id": 57375255, "body": "I see now. I thought you were saying to implement that interface. But you were saying to create it and use it as a marker, causing the &quot;if (!pythonCommentOrMultiline)&quot; check to be bypassed."}, {"owner": {"reputation": 1669, "user_id": 2036650, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7f780c32382a9e1a96a367d362506359?s=128&d=identicon&r=PG", "display_name": "MidnightJava", "link": "https://stackoverflow.com/users/2036650/midnightjava"}, "edited": false, "score": 0, "creation_date": 1453237156, "post_id": 34788905, "comment_id": 57511818, "body": "After upgrading to PyDev 4.5, hover info is not provided for Strings and comments. So I implemented your suggested change and created this pull request: <a href=\"https://github.com/fabioz/Pydev/pull/155\" rel=\"nofollow noreferrer\">github.com/fabioz/Pydev/pull/155</a>."}], "tags": [], "owner": {"reputation": 23516, "user_id": 110451, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/70fc26faedcbfc82344a0b347053aaa0?s=128&d=identicon&r=PG", "display_name": "Fabio Zadrozny", "link": "https://stackoverflow.com/users/110451/fabio-zadrozny"}, "is_accepted": true, "score": 1, "last_activity_date": 1452772195, "creation_date": 1452772195, "answer_id": 34788905, "question_id": 34778771, "link": "https://stackoverflow.com/questions/34778771/pydev-no-hover-text-for-string-arguments/34788905#34788905", "title": "Pydev No Hover Text for String arguments", "body": "<p>You shouldn't change what you changed...</p>\n\n<p>The proper way would be changing PyDev itself to support your use case.</p>\n\n<p>You should provide your IPyHoverParticipant (instead of doing your own text hover) and create a pull request for PyDev so that the hover works in comments/strings (i.e.: skip the \"if (!pythonCommentOrMultiline) {\" in org.python.pydev.editor.hover.PyTextHover.getHoverInfo(ITextViewer, IRegion) if your hover implements IPyHoverParticipant2).</p>\n"}], "owner": {"reputation": 1669, "user_id": 2036650, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7f780c32382a9e1a96a367d362506359?s=128&d=identicon&r=PG", "display_name": "MidnightJava", "link": "https://stackoverflow.com/users/2036650/midnightjava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "accepted_answer_id": 34788905, "answer_count": 1, "score": 1, "last_activity_date": 1452772195, "creation_date": 1452726444, "last_edit_date": 1452727159, "question_id": 34778771, "link": "https://stackoverflow.com/questions/34778771/pydev-no-hover-text-for-string-arguments", "title": "Pydev No Hover Text for String arguments", "body": "<p>I'm building an RCP app that serves as an IDE for a custom domain. One of the things we do in that domain is write python scripts that use domain-specific commands which have been wrapped as python functions. I implemented hover text support integrated with PyDev, so that if there is any domain-specific hover text available, it calls a custom <code>ITextHover</code> instead of PyDev's.</p>\n\n<p>I have this working, but I see that if I have a string literal argument to a function, the <code>getTextHover()</code> method is never called on the <code>IHoverText</code> instance. I traced this behavior to the partitioning implementation provided by <code>getConfiguredDocumentPartitioning</code> in <code>PyEditConfiguration</code>.</p>\n\n<p>Is there a way I can use PyDev's partitioning scheme but somehow override the above behavior, so that <code>getTextHover()</code> is called for String literal arguments? I don't see anything in the preferences, and trying to follow the implementation in the PyDev source code was not successful.</p>\n\n<p>EDIT: overriding <code>TextSourceViewerConfiguration#getConfiguredDocumentPartitioning()</code> to return <code>IPythonPartitions.PY_DEFAULT</code> solves the problem. But I'm not sure what the implications are of returning this rather than <code>IPythonPartitions.PYTHON_PARTITION_TYPE</code>, which is the behavior provided by <code>PyEditCOnfigurationWithoutEditor</code>.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "is_accepted": false, "score": 1, "last_activity_date": 1452726399, "creation_date": 1452726399, "answer_id": 34778756, "question_id": 34778725, "link": "https://stackoverflow.com/questions/34778725/python-concatenate-arrays-based-on-information-from-a-list/34778756#34778756", "title": "Python concatenate arrays based on information from a list", "body": "<p>If you want to be compact:</p>\n\n<pre><code>np.concatenate([dict(a=a, b=b, c=c)[x] for x in list3], 1)\n</code></pre>\n\n<p>Or to avoid the redundant dictionary creation:</p>\n\n<pre><code>by_label = dict(a=a, b=b, c=c)\nnp.concatenate([by_label[x] for x in list3], 1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4365, "user_id": 5050917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a198ba2d53839818a33b751eca2404?s=128&d=identicon&r=PG", "display_name": "mgc", "link": "https://stackoverflow.com/users/5050917/mgc"}, "edited": false, "score": 0, "creation_date": 1452727192, "post_id": 34778808, "comment_id": 57302828, "body": "Well ok for the downvote :) the use of <code>locals()</code> appears to be neater than <code>eval()</code>!"}, {"owner": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "edited": false, "score": 0, "creation_date": 1452727765, "post_id": 34778808, "comment_id": 57303041, "body": "why is eval not recommended ?"}, {"owner": {"reputation": 4365, "user_id": 5050917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a198ba2d53839818a33b751eca2404?s=128&d=identicon&r=PG", "display_name": "mgc", "link": "https://stackoverflow.com/users/5050917/mgc"}, "reply_to_user": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "edited": false, "score": 0, "creation_date": 1452728111, "post_id": 34778808, "comment_id": 57303170, "body": "I guess  because it could be risky to evaluate &quot;whatever&quot; expression (if the expression(s) to evaluate comes from an user input for example). See <a href=\"http://stackoverflow.com/questions/1832940/is-using-eval-in-python-a-bad-practice\" title=\"is using eval in python a bad practice\">stackoverflow.com/questions/1832940/&hellip;</a> for more details for example (there is probably often a way to avoid using <code>eval</code> like here with <code>globals()</code> or <code>locals()</code> for example)."}, {"owner": {"reputation": 4365, "user_id": 5050917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a198ba2d53839818a33b751eca2404?s=128&d=identicon&r=PG", "display_name": "mgc", "link": "https://stackoverflow.com/users/5050917/mgc"}, "reply_to_user": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "edited": false, "score": 1, "creation_date": 1452730625, "post_id": 34778808, "comment_id": 57304070, "body": "It will not deserve my answer but it seems to be an overhead to calling <code>eval</code> than looking up into <code>globals</code> : <code>%timeit np.concatenate([eval(i) for i in list3], axis=1)</code> return  <code>10000 loops, best of 3: 116 &#181;s per loop</code> and   <code>%timeit gbl=globals();np.concatenate(tuple(gbl[x] for x in list3),1)</code> return  <code>10000 loops, best of 3: 74.2 &#181;s per loop</code>"}], "tags": [], "owner": {"reputation": 4365, "user_id": 5050917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a198ba2d53839818a33b751eca2404?s=128&d=identicon&r=PG", "display_name": "mgc", "link": "https://stackoverflow.com/users/5050917/mgc"}, "is_accepted": false, "score": 0, "last_activity_date": 1452726923, "last_edit_date": 1452726923, "creation_date": 1452726614, "answer_id": 34778808, "question_id": 34778725, "link": "https://stackoverflow.com/questions/34778725/python-concatenate-arrays-based-on-information-from-a-list/34778808#34778808", "title": "Python concatenate arrays based on information from a list", "body": "<p>Why don't you store directly the variables instead of their names ?\nLike :</p>\n\n<pre><code>list3 = [a, b, c, a]\nC = np.concatenate(list3, axis=1)\n</code></pre>\n\n<p>Or you can use <code>eval()</code> (which don't seems to be recommanded most of the time) :</p>\n\n<pre><code>list3 = ['a', 'b', 'c','a']\nCC = np.concatenate([eval(i) for i in list3], axis=1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "edited": false, "score": 0, "creation_date": 1452727735, "post_id": 34778811, "comment_id": 57303021, "body": "This will work provided that the arrays to be concatenated are created in the global (or module level) scope.  If they are created in a local scope (for instance inside a function call), then Brendan Abel&#39;s solution would be preferred."}], "tags": [], "owner": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "is_accepted": false, "score": 1, "last_activity_date": 1452726629, "creation_date": 1452726629, "answer_id": 34778811, "question_id": 34778725, "link": "https://stackoverflow.com/questions/34778725/python-concatenate-arrays-based-on-information-from-a-list/34778811#34778811", "title": "Python concatenate arrays based on information from a list", "body": "<p>You can use the globals object to get the arrays based on name.</p>\n\n<pre><code>globals()[\"a\"] # array a\n</code></pre>\n\n<p>So can do</p>\n\n<pre><code>np.concatenate(tuple(globals()[x] for x in list3),1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "edited": false, "score": 0, "creation_date": 1452727550, "post_id": 34778837, "comment_id": 57302949, "body": "This does solve the OP&#39;s problem as stated, but it should be noted that this will not work if contained inside a function call.  For example <code>def concatenate(listx): # return concatenated list based on listx</code> as locals will not contain global objects at that point.  If the variables to be concatenated are created in the same scope, this will work.  My solution suffers from a similar problem if the variables to be concatenated are created in a local scope."}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "reply_to_user": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "edited": false, "score": 0, "creation_date": 1452728009, "post_id": 34778837, "comment_id": 57303128, "body": "@Matthew True, it won&#39;t work inside a function only if the arrays are defined as global variables."}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": true, "score": 1, "last_activity_date": 1452726732, "creation_date": 1452726732, "answer_id": 34778837, "question_id": 34778725, "link": "https://stackoverflow.com/questions/34778725/python-concatenate-arrays-based-on-information-from-a-list/34778837#34778837", "title": "Python concatenate arrays based on information from a list", "body": "<p>You can use the <code>locals()</code> dictionary to access the variables by name</p>\n\n<pre><code>d = locals()\nnp.concatenate([d[x] for x in list3], 1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 4084561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JvpDA.jpg?s=128&g=1", "display_name": "Curt", "link": "https://stackoverflow.com/users/4084561/curt"}, "is_accepted": false, "score": 1, "last_activity_date": 1452729075, "creation_date": 1452729075, "answer_id": 34779296, "question_id": 34778725, "link": "https://stackoverflow.com/questions/34778725/python-concatenate-arrays-based-on-information-from-a-list/34779296#34779296", "title": "Python concatenate arrays based on information from a list", "body": "<p>You can easily get such a dictionary of all local variables by calling the locals() function. For example, to look up a variable named 'a':</p>\n\n<pre><code>var = 'a'\nlocals()[var]\n</code></pre>\n\n<p>Since np.concatenate appears to take a tuple, you could use:</p>\n\n<pre><code>lc = locals()\nC = np.concatenate(tuple(lc[var] for var in list3), 1)\n</code></pre>\n"}], "owner": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 34778837, "answer_count": 5, "score": 2, "last_activity_date": 1452729075, "creation_date": 1452726196, "question_id": 34778725, "link": "https://stackoverflow.com/questions/34778725/python-concatenate-arrays-based-on-information-from-a-list", "title": "Python concatenate arrays based on information from a list", "body": "<p>I have a list with about 500 elements in it. For illustration I have:</p>\n\n<pre><code>list3 = [ 'a', 'b', 'c', 'a' ]\n</code></pre>\n\n<p>Where 'a', 'b', 'c' is name of the arrays as:</p>\n\n<pre><code>a = np.random.normal( 0, 1, ( 500, 20 ) )\nb = np.random.normal( 0, 1, ( 500, 30 ) )\nc = np.random.normal( 0, 1, ( 500, 30 ) )\n</code></pre>\n\n<p>I want to concatenate the arrays in the list in the order present in the list.</p>\n\n<p>So, for my example I want to obtain:</p>\n\n<pre><code>C = np.concatenate( ( a, b, c, a ), 1 )\n</code></pre>\n\n<p>I don't have an idea how to approach this other than to store the arrays in a dictionary and then do a string search and concatenation in a for loop. Is there an elegant way to do this ?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1452725953, "post_id": 34778661, "comment_id": 57302370, "body": "df[&#39;Number&#39;] = df.index"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1452726274, "post_id": 34778661, "comment_id": 57302488, "body": "This is very trivial to do"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1452728165, "post_id": 34778661, "comment_id": 57303198, "body": "just do <code>df[&#39;Number&#39;] = df.index.astype(str)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 2, "last_activity_date": 1452767220, "last_edit_date": 1452767220, "creation_date": 1452725985, "answer_id": 34778687, "question_id": 34778661, "link": "https://stackoverflow.com/questions/34778661/python-pandas-duplicating-an-index-in-a-new-column-in-a-pandas-dataframe/34778687#34778687", "title": "Python/Pandas - Duplicating an index in a new column in a Pandas DataFrame", "body": "<p>You can try:</p>\n\n<pre><code>df['Number'] = df.index.astype(str)\n\n   Name  Number\n1   Rob       1\n2  Mark       2\n3  Alex       3\n</code></pre>\n"}], "owner": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 34778687, "answer_count": 1, "score": 0, "last_activity_date": 1452767220, "creation_date": 1452725851, "last_edit_date": 1592644375, "question_id": 34778661, "link": "https://stackoverflow.com/questions/34778661/python-pandas-duplicating-an-index-in-a-new-column-in-a-pandas-dataframe", "title": "Python/Pandas - Duplicating an index in a new column in a Pandas DataFrame", "body": "<p>I have a DataFrame with indexes 1,2,3.</p>\n<pre><code>    Name\n1   Rob\n2   Mark\n3   Alex\n</code></pre>\n<p>I want to duplicate that index in a new column so it gets like this:</p>\n<pre><code>    Name  Number\n1   Rob        1\n2   Mark       2\n3   Alex       3\n</code></pre>\n<p>Any ideas?</p>\n<h1>EDIT</h1>\n<p>I forgot one important part: those items in the Numbers column should be turned into string</p>\n"}, {"tags": ["python", "numpy", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 2, "last_activity_date": 1452728743, "last_edit_date": 1452728743, "creation_date": 1452727019, "answer_id": 34778912, "question_id": 34778650, "link": "https://stackoverflow.com/questions/34778650/forming-a-meshgrid-with-phi-values/34778912#34778912", "title": "forming a meshgrid with phi values", "body": "<p>You can use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.arctan2.html\" rel=\"nofollow\"><code>numpy.arctan2</code></a>:</p>\n\n<pre><code>phi = np.arctan2(Y, X)\n</code></pre>\n\n<p><code>phi</code> will vary between -pi and pi.</p>\n"}], "owner": {"reputation": 2238, "user_id": 4159833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9c40168a426e48fa3faa82591351b7de?s=128&d=identicon&r=PG&f=1", "display_name": "Physicist", "link": "https://stackoverflow.com/users/4159833/physicist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 34778912, "answer_count": 1, "score": 0, "last_activity_date": 1452728743, "creation_date": 1452725799, "last_edit_date": 1452726250, "question_id": 34778650, "link": "https://stackoverflow.com/questions/34778650/forming-a-meshgrid-with-phi-values", "title": "forming a meshgrid with phi values", "body": "<p>I need to make an imshow() diagram with each element showing the value of the polar angle phi (starting from the x-axis). I thought of the following code:</p>\n\n<pre><code>x = np.linspace(-3*a,3*a,1000, dtype='complex')\ny = np.linspace(-3*a,3*a,1000, dtype='complex')\nX,Y = np.meshgrid(x,y)\nrho = np.sqrt(X**2+Y**2)\nphi = np.arcsin(Y/rho)\n</code></pre>\n\n<p>The problem with the last line is that if I just naively use arcsin, arccos or arctan, then the sign will be incorrect in some quadrants. I need phi to vary from 0 to 2*pi, or from -pi to +pi, but with the above code, half of all the values will have the sign incorrect.</p>\n\n<p>So how should I do that?</p>\n"}, {"tags": ["python", "plot", "histogram", "regression", "normal-distribution"], "answers": [{"tags": [], "owner": {"reputation": 1360, "user_id": 5638905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1027626ceb50d5b55c9903ce95e9e4bc?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Spiess", "link": "https://stackoverflow.com/users/5638905/robin-spiess"}, "is_accepted": true, "score": 0, "last_activity_date": 1452755868, "creation_date": 1452755868, "answer_id": 34783699, "question_id": 34778640, "link": "https://stackoverflow.com/questions/34778640/plot-a-line-graph-over-a-histogram-for-residual-plot-in-python/34783699#34783699", "title": "Plot a line graph over a histogram for residual plot in python", "body": "<p>Does the following work for you? (using some adapted code from the link you gave)</p>\n\n<pre><code>import scipy.stats as stats\n\nplt.suptitle('NO2 and Temperature Residuals night-time', fontsize=20)\n\nWSx_rm = nighttime['Temperature']                                        \nWSx_rm = sm.add_constant(WSx_rm)   \nNO2_WS_RM_mod = sm.OLS(nighttime.NO2, WSx_rm, missing = 'drop').fit() \nNO2_WS_RM_mod_sr = (NO2_WS_RM_mod.resid / np.std(NO2_WS_RM_mod.resid)) \n#Histogram of residuals\nax = plt.hist(NO2_WS_RM_mod.resid)\nplt.xlim(-40,50)\nplt.xlabel('Residuals')\n\n# New Code: Draw fitted normal distribution\nresiduals = sorted(NO2_WS_RM_mod.resid) # Just in case it isn't sorted\nnormal_distribution = stats.norm.pdf(residuals, np.mean(residuals), np.std(residuals))\nplt.plot(residuals, normal_distribution)\n\nplt.show\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 5416817, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bnjfhQPrWmE/AAAAAAAAAAI/AAAAAAAAGMg/QA3szcwZLxA/photo.jpg?sz=128", "display_name": "amit haldar", "link": "https://stackoverflow.com/users/5416817/amit-haldar"}, "is_accepted": false, "score": 0, "last_activity_date": 1607073932, "last_edit_date": 1607073932, "creation_date": 1607073596, "answer_id": 65140887, "question_id": 34778640, "link": "https://stackoverflow.com/questions/34778640/plot-a-line-graph-over-a-histogram-for-residual-plot-in-python/65140887#65140887", "title": "Plot a line graph over a histogram for residual plot in python", "body": "<p>You can exploit the methods from seaborn library for plotting the distribution with the bell curve. The residual variable is not clear to me in the example you have provided. You may see the code snippet below just for your reference.</p>\n<pre><code># y here is an arbitrary target variable for explaining this example    \nresiduals = y_actual - y_predicted \n\nimport seaborn as sns\nsns.distplot(residuals, bins = 10) # you may select the no. of bins\nplt.title('Error Terms', fontsize=20)           \nplt.xlabel('Residuals', fontsize = 15)     \nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5786975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1efa3bf3da83aaa27db70786b5541cf1?s=128&d=identicon&r=PG&f=1", "display_name": "Isabella", "link": "https://stackoverflow.com/users/5786975/isabella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3631, "favorite_count": 0, "accepted_answer_id": 34783699, "answer_count": 2, "score": 1, "last_activity_date": 1607073932, "creation_date": 1452725763, "last_edit_date": 1495541046, "question_id": 34778640, "link": "https://stackoverflow.com/questions/34778640/plot-a-line-graph-over-a-histogram-for-residual-plot-in-python", "title": "Plot a line graph over a histogram for residual plot in python", "body": "<p>I have created a script to plot a histogram of a NO2 vs Temperature residuals in a dataframe called nighttime.</p>\n\n<p>The histogram shows the normal distribution of the residuals from a regression line somewhere else in the python script.</p>\n\n<p>I am struggling to find a way to plot a bell curve over the histogram like this example :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/20011494/plot-normal-distribution-with-matplotlib\">Plot Normal distribution with Matplotlib</a></p>\n\n<p>How can I get a fitting normal distribution for my residual histogram?</p>\n\n<pre><code>plt.suptitle('NO2 and Temperature Residuals night-time', fontsize=20)\n\nWSx_rm = nighttime['Temperature']                                        \nWSx_rm = sm.add_constant(WSx_rm)   \nNO2_WS_RM_mod = sm.OLS(nighttime.NO2, WSx_rm, missing = 'drop').fit() \nNO2_WS_RM_mod_sr = (NO2_WS_RM_mod.resid / np.std(NO2_WS_RM_mod.resid)) \n#Histogram of residuals\nax = plt.hist(NO2_WS_RM_mod.resid)\nplt.xlim(-40,50)\nplt.xlabel('Residuals')\nplt.show\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "random", "integer", "generated"], "comments": [{"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 2, "creation_date": 1452725719, "post_id": 34778588, "comment_id": 57302283, "body": "That&#39;s what you&#39;re doing right now."}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1452725630, "creation_date": 1452725630, "answer_id": 34778611, "question_id": 34778588, "link": "https://stackoverflow.com/questions/34778588/how-do-i-add-the-output-of-8-randomly-generated-numbers-in-python/34778611#34778611", "title": "How do I add the output of 8 randomly generated numbers in python?", "body": "<pre><code>sum(numpy.random.randint(min_randval,max_randval,8))\n</code></pre>\n\n<p>I guess</p>\n"}, {"comments": [{"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 1, "creation_date": 1452726275, "post_id": 34778637, "comment_id": 57302489, "body": "preferred this answer as it sticks to standard libs (does not use <code>numpy</code>)"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "reply_to_user": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1452727540, "post_id": 34778637, "comment_id": 57302946, "body": "thank you for accepting my answer. Please see the added code for keeping/printing the random values."}], "tags": [], "owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "is_accepted": true, "score": 5, "last_activity_date": 1452727431, "last_edit_date": 1452727431, "creation_date": 1452725748, "answer_id": 34778637, "question_id": 34778588, "link": "https://stackoverflow.com/questions/34778588/how-do-i-add-the-output-of-8-randomly-generated-numbers-in-python/34778637#34778637", "title": "How do I add the output of 8 randomly generated numbers in python?", "body": "<p>Why not</p>\n\n<pre><code>numberset = sum(randrange(33, 126) for _ in range(8))\n</code></pre>\n\n<p>The argument of <code>sum</code> is a generator expression, i.e. it produces a generator that <code>sum</code> can iterate on, summing all the values given.</p>\n\n<p>As you can see, I have used the <code>_</code> name as the counter. It is a naming convention for those variables that are not used further (i.e. in your loop, <code>count</code> is never used)</p>\n\n<p>In case you want to print out the numbers as well (and keep them maybe) you can do</p>\n\n<pre><code>numbers = [randrange(33, 126) for _ in range(8)] # list comprehension\nnumberset = sum(numbers)\nfor n in numbers:\n    print(n)\nprint('Sum is', numberset)\n</code></pre>\n\n<p>which produces</p>\n\n<pre><code>112\n69\n77\n33\n56\n55\n118\n65\nSum is 585\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5786979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c11f3ba0c1e4023ae8d2bdeb944920d?s=128&d=identicon&r=PG&f=1", "display_name": "Uruk ", "link": "https://stackoverflow.com/users/5786979/uruk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "closed_date": 1452883766, "accepted_answer_id": 34778637, "answer_count": 2, "score": 0, "last_activity_date": 1452727431, "creation_date": 1452725507, "question_id": 34778588, "link": "https://stackoverflow.com/questions/34778588/how-do-i-add-the-output-of-8-randomly-generated-numbers-in-python", "closed_reason": "Needs more focus", "title": "How do I add the output of 8 randomly generated numbers in python?", "body": "<pre><code>elif a == \"other\":\n    numberset = 0\n    for count in range(8):\n        nnn = randrange(33,126)\n        print(nnn)\n        numberset += nnn\n</code></pre>\n\n<p>I need to find out how to add all of the 8 generated numbers to make a total and then set that as a variable.</p>\n"}, {"tags": ["python", "linux", "shell", "network-programming", "raspberry-pi"], "answers": [{"tags": [], "owner": {"reputation": 2689, "user_id": 5257515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e1VeT.png?s=128&g=1", "display_name": "jbm", "link": "https://stackoverflow.com/users/5257515/jbm"}, "is_accepted": true, "score": 8, "last_activity_date": 1453557986, "last_edit_date": 1453557986, "creation_date": 1453552038, "answer_id": 34963448, "question_id": 34778581, "link": "https://stackoverflow.com/questions/34778581/detect-wireless-devices-connected-to-raspberry-pi-in-python-on-linux/34963448#34963448", "title": "Detect wireless devices connected to Raspberry Pi in python on Linux", "body": "<p>What is meant by \"Do NOT screenscrape this tool, we don't consider its output stable\" is that as new releases of <code>iw</code> will be made, the output formating may change. So the developers of <code>iw</code> warn you that if you write software depending on the parsing of its output, it may break on future releases of <code>iw</code>.</p>\n\n<p>Take the example of the venerable <code>ifconfig</code> command. For many many years, its output used to be formated like so:</p>\n\n<pre><code>eth0      Link encap:Ethernet  HWaddr 00:80:C8:F8:4A:51\n          inet addr:192.168.99.35  Bcast:192.168.99.255  Mask:255.255.255.0\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:190312 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:86955 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:100 \n          RX bytes:30701229 (29.2 Mb)  TX bytes:7878951 (7.5 Mb)\n          Interrupt:9 Base address:0x5000\n</code></pre>\n\n<p>And though it was considered stable (even deprecated and unmaintained by some), it changed a couple of years ago and now looks like this:</p>\n\n<pre><code>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500\n        inet 192.168.1.67  netmask 255.255.255.0  broadcast 192.168.1.255\n        inet6 fe80::8e89:a5ff:fe57:103c  prefixlen 64  scopeid 0x20&lt;link&gt;\n        ether 8c:89:a5:57:10:3c  txqueuelen 1000  (Ethernet)\n        RX packets 2219946  bytes 3178868967 (2.9 GiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 1241676  bytes 102998523 (98.2 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n</code></pre>\n\n<p>...so let's say I did some soft which look at the MAC address by searching the string following \"HWaddr\". Nowadays it would be broken, because it should look for the string following \"ether\" instead.</p>\n\n<p>But as long as you don't update <code>iw</code>, or perform regular testing of you work, you should not encounter any problem.</p>\n\n<p>It is anyway <em>always</em> inherently a bit fragile to parse the output of a third part tool, you just have to be aware of it. For instance, the output may depend on the LOCALE setup by the user. Real life example, some scripting I did with the output of <code>ifconfig</code> failed on some users environment. Root cause: here is what the output look like in French locale:</p>\n\n<pre><code>eth0      Lien encap:Ethernet  HWaddr 00:FF:F2:58:32:A1  \n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          Packets re\u00e7us:0 erreurs:0 :0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 lg file transmission:1000 \n          Octets re\u00e7us:0 (0.0 b) Octets transmis:0 (0.0 b)\n          Interruption:23 Adresse de base:0x2000\n</code></pre>\n\n<p>Notice the French \"Packets re\u00e7us\", \"erreurs\", and \"Octets re\u00e7us\" instead of \"RX packets\", \"errors\", and \"RX bytes\".</p>\n\n<p>EDIT:</p>\n\n<p>So:</p>\n\n<blockquote>\n  <p>Is it really unsafe to get this data the way I did it?</p>\n</blockquote>\n\n<p>Not really. You just have to keep in mind that your software depends on the output strings of some third part software that is somewhat out of your control and may change in the future. That will be regular testing and maintenance job for you, nothing tragic, that's software life.</p>\n\n<blockquote>\n  <p>If yes, what is the correct way to do this?</p>\n</blockquote>\n\n<p>Again, \"no\", but if you want to be bulletproof to that: do not depend on the textual output of third part software. This usually involve writing <em>your</em> own code to replace these tools, which can be quite a task. And if to do so, you use some third part libraries, well, library API change over time too... :-)</p>\n\n<p>EDIT 2:</p>\n\n<p>In your case, to not depend on the output of <code>iw</code> (i.e. write your own \"mini iw\"), and considering you want to code in Python:</p>\n\n<p>At the low level <code>iw</code>, writtent in C, uses <code>libnl</code> (in C too) to communicate with the kernel to get information/perform actions on network interfaces.</p>\n\n<p><a href=\"https://www.infradead.org/~tgr/libnl/\">https://www.infradead.org/~tgr/libnl/</a></p>\n\n<p>You're lucky: it seems there is an activaly maintained version of a Python <code>libnl</code> library.</p>\n\n<p><a href=\"https://pypi.python.org/pypi/libnl/0.2.0\">https://pypi.python.org/pypi/libnl/0.2.0</a></p>\n\n<p>So the plan would be:</p>\n\n<ol>\n<li>Study iw C source code to get and idea of the netlink/libnl\noperations it performs to get/set the parts you're interested in.</li>\n<li>Use the Python libnl in your code to replicate that.</li>\n</ol>\n\n<p>(Be warned the libnl/netlink is designed as a very generic, long-term extensible mechanism. And it really is designed with that goals, to replace ad-hoc ioctl. With that genericity comes a certain complexity: it can be quite complicated/involve a lot of coding to perform even simple tasks.)</p>\n\n<p>As I wrote above doing your own code to replace a tool can be quite a task. grep'ing the output of a command is a matter of minutes to code, whereas here this may be days or weeks of work. So you have to make a choice between the \"quick and easy but not so clean\" and the \"self-contained, clean, extensible but expensive\". It depends: do you work to produce an industrial-grade, customer supported software, is it an internal company tool, or just a week-end hobby software project for fun.</p>\n"}, {"tags": [], "owner": {"reputation": 624, "user_id": 3545433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Usphh.png?s=128&g=1", "display_name": "WraithWireless", "link": "https://stackoverflow.com/users/3545433/wraithwireless"}, "is_accepted": false, "score": 0, "last_activity_date": 1466008141, "creation_date": 1466008141, "answer_id": 37840923, "question_id": 34778581, "link": "https://stackoverflow.com/questions/34778581/detect-wireless-devices-connected-to-raspberry-pi-in-python-on-linux/37840923#37840923", "title": "Detect wireless devices connected to Raspberry Pi in python on Linux", "body": "<p>I don't know if works on the raspberry but using the avenues @jbm mentioned I ran through netlink and ioctl tutorials and developed PyRIC (<a href=\"https://github.com/wraith-wireless/PyRIC\" rel=\"nofollow\">https://github.com/wraith-wireless/PyRIC</a>) which is entirely Python, no subprocess, iw output parsing etc. For what you're asking it is as simples as</p>\n\n<pre><code>pyw.interfaces() # get all system interfaces\n=&gt; ['lo','eth0','wlan']\n\npyw.winterfaces() # get all system wireless interfaces\n=&gt; ['wlan0']\n</code></pre>\n\n<p>I would appreciate you as a developer checking it out.</p>\n"}], "owner": {"reputation": 2909, "user_id": 1828352, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/51312cb4f8c7722a8b3a6b91d3e1f34e?s=128&d=identicon&r=PG", "display_name": "fragon", "link": "https://stackoverflow.com/users/1828352/fragon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1819, "favorite_count": 1, "accepted_answer_id": 34963448, "answer_count": 2, "score": 3, "last_activity_date": 1466008141, "creation_date": 1452725467, "last_edit_date": 1452802691, "question_id": 34778581, "link": "https://stackoverflow.com/questions/34778581/detect-wireless-devices-connected-to-raspberry-pi-in-python-on-linux", "title": "Detect wireless devices connected to Raspberry Pi in python on Linux", "body": "<p>In my python code I need to get the list of \"physical\" WiFi network devices connected to Raspberry Pi</p>\n\n<p>I've been doing this by calling:</p>\n\n<pre><code>raw_output = check_output('iw dev', shell=True)\n</code></pre>\n\n<p>and then extracting all the data I need from <code>raw_output</code></p>\n\n<p>It works ok, but in <code>iw help</code> it says that <code>Do NOT screenscrape this tool, we don't consider its output stable.</code> Is it really unsafe to get this data the way I did it? If yes, what is the correct way to do this?</p>\n"}, {"tags": ["python", "python-import"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 1, "creation_date": 1452727079, "post_id": 34778580, "comment_id": 57302793, "body": "I think the &quot;right&quot; answer is to put <code>projectB&#47;projectA</code> into your module search path, then the imports as you&#39;ve written them should just work. Without the path manipulation, you&#39;ll need <code>projectA.projectA.module1</code> and so on."}, {"owner": {"reputation": 348, "user_id": 2495342, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff082a266a43a7035a80d40008fbdb57?s=128&d=identicon&r=PG", "display_name": "abnowack", "link": "https://stackoverflow.com/users/2495342/abnowack"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1452729512, "post_id": 34778580, "comment_id": 57303704, "body": "Ah, hey that does help! I didn&#39;t consider that. That&#39;s much nicer, as I&#39;m trying to figure out how to make projectA into a proper python package eventually, and wouldnt need that top level <code>__init__.py</code>. I just wish PyCharm would know what I&#39;m doing and tab complete from projectA when using sys.path"}, {"owner": {"reputation": 348, "user_id": 2495342, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff082a266a43a7035a80d40008fbdb57?s=128&d=identicon&r=PG", "display_name": "abnowack", "link": "https://stackoverflow.com/users/2495342/abnowack"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1452729822, "post_id": 34778580, "comment_id": 57303818, "body": "Actually marking the top level projectA/ as a source directory in PyCharm also takes care of that issue, so I&#39;m set! If you post your comment as an answer I&#39;ll mark it correct"}], "answers": [{"comments": [{"owner": {"reputation": 348, "user_id": 2495342, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff082a266a43a7035a80d40008fbdb57?s=128&d=identicon&r=PG", "display_name": "abnowack", "link": "https://stackoverflow.com/users/2495342/abnowack"}, "edited": false, "score": 0, "creation_date": 1452728733, "post_id": 34779011, "comment_id": 57303406, "body": "Not really sure how to do that, projectA is it&#39;s own separate repository. I have the subdirectory to place the actual project code apart from docs/ and tests/ etc.   And including <b>init</b>.py everywhere doesn&#39;t quite do the trick. As it means including <code>from projectA.projectA.module1.file1 import Class1</code>"}, {"owner": {"reputation": 51632, "user_id": 208880, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/de311342220232e618cb27c9936ab9bf?s=128&d=identicon&r=PG", "display_name": "Ethan Furman", "link": "https://stackoverflow.com/users/208880/ethan-furman"}, "reply_to_user": {"reputation": 348, "user_id": 2495342, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff082a266a43a7035a80d40008fbdb57?s=128&d=identicon&r=PG", "display_name": "abnowack", "link": "https://stackoverflow.com/users/2495342/abnowack"}, "edited": false, "score": 0, "creation_date": 1452737100, "post_id": 34779011, "comment_id": 57306025, "body": "@abnowack: If <code>projectA</code> is a separate project, why do you have it under <code>projectB</code>?"}, {"owner": {"reputation": 348, "user_id": 2495342, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff082a266a43a7035a80d40008fbdb57?s=128&d=identicon&r=PG", "display_name": "abnowack", "link": "https://stackoverflow.com/users/2495342/abnowack"}, "edited": false, "score": 0, "creation_date": 1452741645, "post_id": 34779011, "comment_id": 57307149, "body": "projectA is a generic library for interpreting a dataset I&#39;ve written, projectB is a specific analysis I am doing for a paper."}], "tags": [], "owner": {"reputation": 51632, "user_id": 208880, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/de311342220232e618cb27c9936ab9bf?s=128&d=identicon&r=PG", "display_name": "Ethan Furman", "link": "https://stackoverflow.com/users/208880/ethan-furman"}, "is_accepted": false, "score": 0, "last_activity_date": 1452727596, "creation_date": 1452727596, "answer_id": 34779011, "question_id": 34778580, "link": "https://stackoverflow.com/questions/34778580/directory-structure-for-importing-python-package-using-init-py/34779011#34779011", "title": "Directory Structure for Importing Python Package using __init__.py", "body": "<p>You'll need an <code>__init__.py</code> in each subdirectory you want to treat as a package.  Which in your case means one in:</p>\n\n<ul>\n<li><code>projectA</code></li>\n<li><code>projectA/projectA</code></li>\n<li><code>projectA/projectA/module1</code></li>\n<li><code>projectA/projectA/tests</code></li>\n</ul>\n\n<p>It would definitely be better you could lose that first <code>projectA</code> folder.</p>\n"}, {"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 1, "last_activity_date": 1452731179, "creation_date": 1452731179, "answer_id": 34779609, "question_id": 34778580, "link": "https://stackoverflow.com/questions/34778580/directory-structure-for-importing-python-package-using-init-py/34779609#34779609", "title": "Directory Structure for Importing Python Package using __init__.py", "body": "<p>I think having the top level <code>projectA</code> part of the import will be a mistake. That will require you to write your imports with <code>projectA</code> duplicated (e.g. <code>import projectA.projectA.module1.file1</code>).</p>\n\n<p>Instead, you should add the top <code>projectA</code> folder to the module search path in some way (either as part of an install script for <code>projectB</code>, or with a setting in your IDE). That way, <code>projectA</code> as a top-level name will refer to the inner folder, which you actually intend to be the <code>projectA</code> package.</p>\n"}, {"tags": [], "owner": {"reputation": 5266, "user_id": 1965288, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c4aa96c142bef1e4aff1c8d38ef52ae?s=128&d=identicon&r=PG&f=1", "display_name": "justengel", "link": "https://stackoverflow.com/users/1965288/justengel"}, "is_accepted": false, "score": 0, "last_activity_date": 1452778562, "last_edit_date": 1452778562, "creation_date": 1452777725, "answer_id": 34790718, "question_id": 34778580, "link": "https://stackoverflow.com/questions/34778580/directory-structure-for-importing-python-package-using-init-py/34790718#34790718", "title": "Directory Structure for Importing Python Package using __init__.py", "body": "<p>This is an annoying issue. The main approach I use is to edit the PYTHONPATH. This is essentially how I do it.</p>\n\n<pre><code>ProjectB/                   # Main Repository\n    projectb/               # Package/library\n        __init__.py\n        projectB_file.py\n    docs/\n    tests/\n    setup.py                # Setup file to distribute the library\n    freeze.py               # CX_Freeze file to make executables\n\n    ProjectA/               # Subrepository\n        projecta/           # Package/library\n            __init__.py\n            projectA_file.py\n            file2.py\n            submodule/\n                __init__.py\n                file3.py\n        pa_module1/         # Additional package/library in 1 project\n            __init__.py\n            file1.py\n        docs/\n        tests/\n        setup.py\n</code></pre>\n\n<p>With this setup I have to edit the python path before running ProjectB's code. I use this structure, because it is easier for deployment and distribution. The subrepository helps track the version of ProjectA for each release of ProjectB.</p>\n\n<pre><code>cd ProjectB\nexport PYTHONPATH=${PWD}:${PWD}/ProjectA\npython projectb/projectB_file.py\n</code></pre>\n\n<p>projectB_file.py</p>\n\n<pre><code>from projecta import projectA_file\n</code></pre>\n\n<p>This is for my development environment. For a release environment someone would install with the below code.</p>\n\n<pre><code># Need a correct setup.py to handle 2 packages for pa_module1 and projecta\npip install ProjectA (install projecta to site-packages) \ncd ..\npip install ProjectB (install projectb to site-packages)\n</code></pre>\n\n<p>This means projectb and projecta are in site packages. From there any file can simply</p>\n\n<pre><code>from projectb import projectB_file\nfrom projecta import projectA_file, file2\nfrom pa_module1 import file1\n\n# Personally I don't like imports that use project.sub.sub.sub ...\n# I have seen it cause import confusion and problems, but it is useful in some situations.\nfrom projecta.submodule import file3\n\n#import projecta.projectA_file\n#import projecta # if __init__.py has import code\n\nfile1.Class1()\nfile2.Class2()\nfile3.Class3()\n</code></pre>\n\n<p>Additionally with pip you can install a library as a developer environment which links to the real project directory instead of copying files to site-packages.</p>\n\n<pre><code>pip install -e ProjectA\n</code></pre>\n"}], "owner": {"reputation": 348, "user_id": 2495342, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff082a266a43a7035a80d40008fbdb57?s=128&d=identicon&r=PG", "display_name": "abnowack", "link": "https://stackoverflow.com/users/2495342/abnowack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "accepted_answer_id": 34779609, "answer_count": 3, "score": 0, "last_activity_date": 1452778562, "creation_date": 1452725462, "question_id": 34778580, "link": "https://stackoverflow.com/questions/34778580/directory-structure-for-importing-python-package-using-init-py", "title": "Directory Structure for Importing Python Package using __init__.py", "body": "<p>I've got a python project (projectA), which I've included as a git submodule in a separate project (projectB) as a subfolder. The structure is laid out as</p>\n\n<pre><code>projectB/\n  projectB_file.py\n  projectA/        (repository)\n    projectA/      (source code)\n      module1/\n        file1.py   (contains Class1)\n      file2.py     (contains Class2)\n    tests/\n      test_file1.py\n</code></pre>\n\n<p>I'm trying to figure out how to layout <code>__init__.py</code> files so in <code>projectB_file.py</code> I can import <code>Class1</code> and <code>Class2</code> as</p>\n\n<pre><code>from projectA.module1 import Class1\nfrom projectA import Class2\n</code></pre>\n"}, {"tags": ["python", "bash", "flags"], "comments": [{"owner": {"reputation": 27181, "user_id": 292477, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ca3cdf733e5ad7ca41c58ba43d06dcd?s=128&d=identicon&r=PG", "display_name": "Krumelur", "link": "https://stackoverflow.com/users/292477/krumelur"}, "edited": false, "score": 3, "creation_date": 1452724815, "post_id": 34778404, "comment_id": 57301849, "body": "Show some source code!"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 4, "creation_date": 1452724846, "post_id": 34778404, "comment_id": 57301867, "body": "you are clearly calling &quot;rm&quot; from somewhere in your source code ... you should not be doing that ..."}, {"owner": {"reputation": 357, "user_id": 5405684, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/oygjk.gif?s=128&g=1", "display_name": "lstbl", "link": "https://stackoverflow.com/users/5405684/lstbl"}, "edited": false, "score": 0, "creation_date": 1452725341, "post_id": 34778404, "comment_id": 57302123, "body": "oh, I figured it out. If I make the change the &#39;rm&#39; command to : subprocess.call([&#39;bash&#39;,&#39;-c&#39;,&#39;rm grep.tmp&#39;]), I get what I want. Sorry for the dumb question everyone"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 1, "creation_date": 1452725402, "post_id": 34778404, "comment_id": 57302152, "body": "It&#39;s not that you <i>can&#39;t</i> it&#39;s just a really bad idea. Plus you can <a href=\"http://stackoverflow.com/q/6996603/344286\">delete files from Python</a> without having to shell out."}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1452831118, "post_id": 34778404, "comment_id": 57351251, "body": "Why did you remove your program code from the question?  This is now (again) eligible for closing as &quot;does not even include the code we are supposed to debug for you&quot;, which I have already done, before investigating how the answer could provide comments on code which was not in the current version of the question."}], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 5405684, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/oygjk.gif?s=128&g=1", "display_name": "lstbl", "link": "https://stackoverflow.com/users/5405684/lstbl"}, "edited": false, "score": 0, "creation_date": 1452726453, "post_id": 34778578, "comment_id": 57302548, "body": "I originally was using grep because I thought it was faster than reading the whole file through python. Am I wrong about that?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 357, "user_id": 5405684, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/oygjk.gif?s=128&g=1", "display_name": "lstbl", "link": "https://stackoverflow.com/users/5405684/lstbl"}, "edited": false, "score": 1, "creation_date": 1452732024, "post_id": 34778578, "comment_id": 57304468, "body": "@lstbl: For truly huge files, where the filtering to be done eliminates the majority of the input, it might save a tiny bit, but it&#39;s unlikely to matter much; the biggest bottleneck to simple filters like this is often I/O, not processing speed. Even so, wrapping it in <code>bash</code> is pointless and adds additional overhead (reducing what little gain you might get). Jumping straight to <code>grep</code> without testing means you&#39;ve signed up for more complicated and brittle code. If you don&#39;t have compelling performance testing showing a need, simple and robust should always be your first choice."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 357, "user_id": 5405684, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/oygjk.gif?s=128&g=1", "display_name": "lstbl", "link": "https://stackoverflow.com/users/5405684/lstbl"}, "edited": false, "score": 2, "creation_date": 1452732324, "post_id": 34778578, "comment_id": 57304558, "body": "@lstbl: If <code>grep</code> really does provide a benefit, you still want to avoid the temporary file. Using <code>filteredlines = subprocess.check_output([&#39;fgrep&#39;, &#39;&gt;&#39;, &#39;S288C_R64.fasta&#39;]).splitlines()</code> would get you the same output lines to pass into your list comprehension, and would do it as a single program launch, no shell wrapping, no writing to disk, reading back in, and deleting a file (<code>check_output</code> slurps from the subprocess&#39;s <code>stdout</code> directly, replacing relatively slow disk I/O with direct pipe communication using in memory buffers)."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 3, "last_activity_date": 1452726337, "last_edit_date": 1452726337, "creation_date": 1452725455, "answer_id": 34778578, "question_id": 34778404, "link": "https://stackoverflow.com/questions/34778404/strange-output-when-using-flags-in-python/34778578#34778578", "title": "strange output when using flags in python", "body": "<p>Invoking <code>bash</code> one-liners requires that the bash commands be a single string. Change:</p>\n\n<pre><code>subprocess.call(['bash','-c','rm','grep.tmp'])\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>subprocess.call(['bash', '-c', 'rm grep.tmp'])\n</code></pre>\n\n<p>Or, more reasonably, don't use subprocesses for this, just do:</p>\n\n<pre><code>os.unlink('grep.tmp')  # Or os.remove; same thing, different names\n</code></pre>\n\n<p>which is much faster and less error prone.</p>\n\n<p>In fact, all of your subprocess usage could be replaced with real Python code, and it would improve it substantially (and much of the Python code simplifies too):</p>\n\n<pre><code>def find_kmers( arguments=sys.argv[1:] ):\n    required_opts = ['-f','-c','-k']\n\n    opts, args = getopt.getopt(arguments,'f:k:c:')\n\n    opt_dic = dict(opts)\n\n    for opt in required_opts:\n        if opt not in opt_dic:\n            return \"incorrect arguments, please format as: python_script.py -f &lt;filename&gt; -k &lt;kmer&gt; -c &lt;chromosome_name&gt;\"\n\n    def rev_comp(sequence):\n        reversed_dic = {'A':'T','T':'A','C':'G','G':'C'}\n        return ''.join(reversed_dic[_] for _ in sequence[::-1])\n\n    kmer = opt_dic['-k']\n    # Replaces grep with temp file with trivial Python equivalent\n    with open('S288C_R64.fasta') as f:\n        chromosomes = [line[1:].strip() for line in f if '&gt;' in line]\n\n    # No need for any loop when just checking for exact value\n    if opt_dic['-c'] not in chromosomes:\n        return 'chromosome not found in %s. \\n chromosomes in file are:%s'%(opt_dic['-f'],', '.join(str(_) for _ in chromosomes))\n\n\n    def get_sequence(file):\n        sequence = ''\n        for line in file:\n            if line.startswith('&gt;'): break\n            sequence += line.strip()\n        return sequence.upper()\n\n    with open(opt_dic['-f']) as ofile:\n        for line in ofile:\n            if line.startswith('&gt;'):\n                if line[1:].strip() == opt_dic['-c']:\n                    sequence = get_sequence(ofile)\n                    break\n\n\n    kmer_matches1 = re.finditer('(?=%s)'%opt_dic['-k'],sequence)\n    kmer_matches2 = re.finditer('(?=%s)'%opt_dic['-k'],rev_comp(sequence))\n\n    def print_statement(start,strand):\n        return '%s\\thw1_script\\tkmer=%s\\t%s\\t%s\\t.\\t%s\\t.\\tID=S288C;Name=S288C\\n'%(opt_dic['-c'],opt_dic['-k'],start,start+len(opt_dic['-k'])-1,strand)\n\n    pos_strand = collections.deque()\n    neg_strand = collections.deque()\n    for match1,match2 in itertools.izip(kmer_matches1,kmer_matches2):\n        pos_strand.append(match1.start()+1)\n        neg_strand.append(match2.start()+1)\n\n    with open('answer.gff3','w') as wfile:\n        while pos_strand and neg_strand:\n            if pos_strand[0]&lt;neg_strand[0]:\n                start = pos_strand.popleft()\n                wfile.write(print_statement(start,'+'))\n            else:\n                start = neg_strand.popleft()\n                wfile.write(print_statement(start,'-'))\n\n        for start in pos_strand:\n            wfile.write(print_statement(start,'+'))\n        for start in neg_strand:\n            wfile.write(print_statement(start,'-'))\n\n    return 'percent-GC = %s'%str(sum(sequence.count(gc) for gc in [\"G\",\"C\"])/float(len(sequence)))\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 5405684, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/oygjk.gif?s=128&g=1", "display_name": "lstbl", "link": "https://stackoverflow.com/users/5405684/lstbl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 34778578, "answer_count": 1, "score": -2, "last_activity_date": 1452831316, "creation_date": 1452724656, "last_edit_date": 1452831316, "question_id": 34778404, "link": "https://stackoverflow.com/questions/34778404/strange-output-when-using-flags-in-python", "title": "strange output when using flags in python", "body": "<p>I'm currently writing a script in python that takes a number of flags. This is my first attempt at such a program, and I am getting an output from the bash script that I don't quite understand. For example when I run the script in the bash shell:</p>\n\n<pre><code>$ python my_script.py -f &lt;input_file.txt&gt; -k &lt;test_string&gt; -c &lt;user_input&gt;\n</code></pre>\n\n<p>I get this output before my script's output:</p>\n\n<pre><code>usage: rm [-f | -i] [-dPRrvW] file ...\n       unlink file\n</code></pre>\n\n<p>I can't seem to get rid of this, which is frustrating for the prettiness of the output. Any help would be great!</p>\n\n<p>The code I'm using:</p>\n\n<pre><code>import sys, getopt, re, subprocess, collections, itertools\n\ndef find_kmers( arguments=sys.argv[1:] ):\n\n    required_opts = ['-f','-c','-k']\n\n\n\n    opts, args = getopt.getopt(arguments,'f:k:c:')\n\n\n\n    opt_dic = dict(opts)\n\n\n\n    for opt in required_opts:\n\n        if opt not in opt_dic:\n\n            return \"incorrect arguments, please format as: python_script.py -f &lt;filename&gt; -k &lt;kmer&gt; -c &lt;chromosome_name&gt;\"\n\n\n\n    def rev_comp(sequence):\n\n        reversed_dic = {'A':'T','T':'A','C':'G','G':'C'}\n\n        return ''.join(reversed_dic[_] for _ in sequence[::-1])\n\n\n\n    kmer = opt_dic['-k']\n\n    subprocess.call(['bash','-c',\"grep '&gt;' S288C_R64.fasta &gt; grep.tmp\"])\n\n    chromosomes = [_[1:].strip() for _ in open('grep.tmp')]\n\n    subprocess.call(['bash','-c','rm','grep.tmp'])\n\n    found = False\n\n    if any(opt_dic['-c']==_ for _ in chromosomes):\n\n        found = True\n\n\n\n    def get_sequence(file):\n\n        sequence = ''\n\n        for line in file:\n\n            if line.startswith('&gt;'): break\n\n            sequence += line.strip()\n\n        return sequence.upper()\n\n\n\n    ofile = open(opt_dic['-f'])\n\n    if found == True:\n\n        for line in ofile:\n\n            if line.startswith('&gt;'):\n\n                if line[1:].strip() == opt_dic['-c']:\n\n                    sequence = get_sequence(ofile)\n\n                    break\n\n\n\n    else:\n\n        return 'chromosome not found in %s. \\n chromosomes in file are:%s'%(opt_dic['-f'],', '.join(str(_) for _ in chromosomes))\n\n\n\n\n\n    kmer_matches1 = re.finditer('(?=%s)'%opt_dic['-k'],sequence)\n\n    kmer_matches2 = re.finditer('(?=%s)'%opt_dic['-k'],rev_comp(sequence))\n\n\n\n\n\n\n\n    def print_statement(start,strand):\n\n\n\n        return '%s\\thw1_script\\tkmer=%s\\t%s\\t%s\\t.\\t%s\\t.\\tID=S288C;Name=S288C\\n'%(opt_dic['-c'],opt_dic['-k'],start,start+len(opt_dic['-k'])-1,strand)\n\n\n\n    pos_strand = collections.deque()\n\n    neg_strand = collections.deque()\n\n    for match1,match2 in itertools.izip(kmer_matches1,kmer_matches2):\n\n        pos_strand.append(match1.start()+1)\n\n        neg_strand.append(match2.start()+1)\n\n\n\n    wfile = open('answer.gff3','w')\n\n    while len(pos_strand)&gt;0 and len(neg_strand)&gt;0:\n\n        if pos_strand[0]&lt;neg_strand[0]:\n\n            start = pos_strand.popleft()\n\n            wfile.write(print_statement(start,'+'))\n\n        else:\n\n            start = neg_strand.popleft()\n\n            wfile.write(print_statement(start,'-'))\n\n\n\n    while len(pos_strand)&gt;0:\n\n        start = pos_strand.popleft()\n\n        wfile.write(print_statement(start,'+'))\n\n\n\n    while len(neg_strand)&gt;0:\n\n        start = neg_strand.popleft()\n\n        wfile.write(print_statement(start,'-'))\n\n\n\n    wfile.close()\n\n\n\n    return 'percent-GC = %s'%str(sum(sequence.count(gc) for gc in [\"G\",\"C\"])/float(len(sequence)))\n\n\n\nif __name__ == '__main__':\n\n    print find_kmers()\n</code></pre>\n"}, {"tags": ["python", "bioinformatics", "skbio"], "answers": [{"tags": [], "owner": {"reputation": 641, "user_id": 3776794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e0f900bf3227c537736e8d56121fa89?s=128&d=identicon&r=PG", "display_name": "jairideout", "link": "https://stackoverflow.com/users/3776794/jairideout"}, "is_accepted": true, "score": 3, "last_activity_date": 1452725345, "creation_date": 1452725345, "answer_id": 34778558, "question_id": 34778392, "link": "https://stackoverflow.com/questions/34778392/write-multiple-fasta-entries-using-scikit-bio-write/34778558#34778558", "title": "Write multiple fasta entries using scikit-bio write", "body": "<p>Write to the same open file instead of specifying a file path:</p>\n\n<pre><code>with open('output.fna', 'w') as output_fh:\n    for seq in skbio.io.read('seqs.fna', format='fasta'):\n        if seq.metadata['id'] in ['47P50SDHBQ1PA_0', '4OZ9UI889OL5V_1', '2EC8VWHQD1LW5_2']:\n            seq.write(output_fh)\n</code></pre>\n\n<p>Alternatively you can use <code>skbio.io.write</code> to write a generator of sequences:</p>\n\n<pre><code>def filtered_seqs():\n    for seq in skbio.io.read('seqs.fna', format='fasta'):\n        if seq.metadata['id'] in ['47P50SDHBQ1PA_0', '4OZ9UI889OL5V_1', '2EC8VWHQD1LW5_2']:\n            yield seq\n\nskbio.io.write(filtered_seqs(), format='fasta', into='output.fna')\n</code></pre>\n"}], "owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 34778558, "answer_count": 1, "score": 1, "last_activity_date": 1452758946, "creation_date": 1452724580, "last_edit_date": 1452758946, "question_id": 34778392, "link": "https://stackoverflow.com/questions/34778392/write-multiple-fasta-entries-using-scikit-bio-write", "title": "Write multiple fasta entries using scikit-bio write", "body": "<p>I am trying to read FASTA file entries using scikit-bio and then write certain entries back out to another file if it meets some requirement. The issue I am running into is that the <code>.write</code> methods seems to open and close a file so each entry overwrites the previous.</p>\n\n<pre><code>In [39]: f = 'seqs.fna'\n         seqs = skbio.io.read(f, format='fasta')\n         for seq in seqs:\n             if seq.metadata['id'] in ['47P50SDHBQ1PA_0', '4OZ9UI889OL5V_1', '2EC8VWHQD1LW5_2']:\n                 print('True')\n                 seq.write('foo.txt')\n\nTrue\nTrue\n</code></pre>\n\n<p>I would hope that in this case two entries would be written to <code>foo.txt</code> however only the last entry is present. How can I write all of the sequences meeting my criteria to file?</p>\n"}, {"tags": ["python", "google-chrome", "google-chrome-extension"], "comments": [{"owner": {"reputation": 7448, "user_id": 554903, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6fyv9.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/554903/jonathan"}, "edited": false, "score": 1, "creation_date": 1452724817, "post_id": 34778348, "comment_id": 57301851, "body": "I&#39;ve suggested to close this as duplicate, you&#39;re best bet is probably this: <a href=\"https://github.com/cztomczak/cefpython\" rel=\"nofollow noreferrer\">github.com/cztomczak/cefpython</a> Otherwise chrome extensions use javascript and html."}, {"owner": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "reply_to_user": {"reputation": 7448, "user_id": 554903, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6fyv9.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/554903/jonathan"}, "edited": false, "score": 0, "creation_date": 1452724917, "post_id": 34778348, "comment_id": 57301894, "body": "I&#39;ve read the question. The question above is way more specific I think."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1452724926, "post_id": 34778348, "comment_id": 57301902, "body": "im not sure its a dupe ... but certainly the last part of your comment is the answer (chrome extensions use javascript and html.)"}, {"owner": {"reputation": 1, "user_id": 1114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FFE8V.gif?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1114/jeremy"}, "reply_to_user": {"reputation": 7448, "user_id": 554903, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6fyv9.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/554903/jonathan"}, "edited": false, "score": 0, "creation_date": 1452725194, "post_id": 34778348, "comment_id": 57302045, "body": "@Jonathan As I just commented in the dupe, those are bindings for CEF, which is for making apps that embed Chromium. CEF is not compatible with Chrome extensions, and definitely can&#39;t be used to develop them."}, {"owner": {"reputation": 1, "user_id": 1114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FFE8V.gif?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1114/jeremy"}, "edited": false, "score": 0, "creation_date": 1452725308, "post_id": 34778348, "comment_id": 57302101, "body": "There is probably no simple way to do this. If you end up finding a solution, it will almost certainly require calling JavaScript APIs through a Python bridge, which will still require some amount of JavaScript knowledge, add a lot of complexity, and be very likely to have a negative performance impact unless you structure your extension very carefully. It&#39;s possible that someone could have created a framework for this kind of thing, but I&#39;m not aware of them and there&#39;s not much reason to do so (at least for logic interacting with the web page)."}, {"owner": {"reputation": 7448, "user_id": 554903, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6fyv9.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/554903/jonathan"}, "reply_to_user": {"reputation": 1, "user_id": 1114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FFE8V.gif?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1114/jeremy"}, "edited": false, "score": 0, "creation_date": 1452725411, "post_id": 34778348, "comment_id": 57302156, "body": "Yeah, I echo @JeremyBanks, there was a blog post about it here: <a href=\"https://pythonspot.com/create-a-chrome-plugin-with-python/\" rel=\"nofollow noreferrer\">pythonspot.com/create-a-chrome-plugin-with-python</a>"}, {"owner": {"reputation": 66485, "user_id": 934239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6278534f82406052d8aac1da327b84c?s=128&d=identicon&r=PG", "display_name": "Xan", "link": "https://stackoverflow.com/users/934239/xan"}, "edited": false, "score": 0, "creation_date": 1452779854, "post_id": 34778348, "comment_id": 57326013, "body": "I will slap a duplicate on this. Reasoning: writing a chrome extension using python code is only possible by: 1) trans-compiling into JS, 2) invoking an external python program. Both are mentioned in that question, sort of. It&#39;s not a good idea anyway because of this huge extra complexity."}], "owner": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 2, "closed_date": 1452779705, "answer_count": 0, "score": 0, "last_activity_date": 1452724433, "creation_date": 1452724433, "question_id": 34778348, "link": "https://stackoverflow.com/questions/34778348/how-to-create-a-very-simple-chrome-extension-using-python", "closed_reason": "Duplicate", "title": "How to create a very simple chrome extension using Python", "body": "<p>I'm looking for some way to create a very simple <code>chrome extension</code> in Python. I don't want, in fact, do anything inside the browser menu, like context menu for extensions. </p>\n\n<p>For example: extension which inserts a length of word right after this word.</p>\n\n<pre><code>&lt;p&gt;Word&lt;/p&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;p&gt;Word 4&lt;/p&gt;  \n</code></pre>\n\n<p>I've read this topic here but the questions are either old or assuming more complicated extension.</p>\n\n<p>Is there a simple way to create such extension?</p>\n"}, {"tags": ["python", "sorting", "replace", "lambda", "truncate"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1452724489, "post_id": 34778327, "comment_id": 57301707, "body": "change to <code>f.write(str(pairs)+&quot;\\n&quot;)</code>"}, {"owner": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1452724641, "post_id": 34778327, "comment_id": 57301775, "body": "Done. Still have the same issue with it writing on a single line"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1452724781, "post_id": 34778327, "comment_id": 57301834, "body": "dont open it with notepad ... open it with notepad++ or wordpad ... or prettymuch anything but notepad ... or change it to <code>f.write(str(pairs)+&quot;\\r\\n&quot;)</code>"}, {"owner": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1452725039, "post_id": 34778327, "comment_id": 57301952, "body": "The same thing again aha. Opened in multiple text editors!"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1452725076, "post_id": 34778327, "comment_id": 57301975, "body": "your right i didnt look at your code close enough"}, {"owner": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1452725187, "post_id": 34778327, "comment_id": 57302038, "body": "I added the full code. I don&#39;t know if anything else is causing it"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452724953, "post_id": 34778458, "comment_id": 57301913, "body": "The replacing is because I have all these &quot;[[ , &#39;&#39; ]]&quot; characters in my list. Like I don&#39;t need them."}, {"owner": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452724975, "post_id": 34778458, "comment_id": 57301924, "body": "Also I am writing to file so I need to clear previous unsorted data from it"}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "reply_to_user": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452725068, "post_id": 34778458, "comment_id": 57301967, "body": "Opening a file with &#39;w&#39; will truncate, you don&#39;t have to do it manually"}, {"owner": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452725232, "post_id": 34778458, "comment_id": 57302066, "body": "What about all the &quot;[[Reece, [0], [...&quot; etc characters that are not needed"}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "reply_to_user": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452725568, "post_id": 34778458, "comment_id": 57302220, "body": "If the input file looks the way you said it does, those characters aren&#39;t there.."}, {"owner": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452725617, "post_id": 34778458, "comment_id": 57302238, "body": "Yes because I used .replace to get rid of them all!"}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "reply_to_user": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452725659, "post_id": 34778458, "comment_id": 57302253, "body": "They were never there to begin with. You added them by turning your list of lists into a string, rather than creating a list of strings."}, {"owner": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452726114, "post_id": 34778458, "comment_id": 57302427, "body": "Ok I tried your method and now the output file is this:   <b>Reece 0John</b>  Not creating a new line and not giving the next user a score?"}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "reply_to_user": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452726367, "post_id": 34778458, "comment_id": 57302519, "body": "then either your input file isn&#39;t what you said it is, or you&#39;ve done something wrong."}], "tags": [], "owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1452726761, "last_edit_date": 1452726761, "creation_date": 1452724869, "answer_id": 34778458, "question_id": 34778327, "link": "https://stackoverflow.com/questions/34778327/python-new-line-is-sort-list-issue/34778458#34778458", "title": "Python new line is sort list issue", "body": "<p>Not sure what all that replacing (and truncating) is for..</p>\n\n<pre><code>import os\n\ndef mykey(item):\n    int(item[1])\n\ndef sortNumeric(fileName, i, toWrite):\n    with open(fileName, 'r') as inFile:\n        pairs = sorted((l.strip().split() for l in inFile),\n                       key=mykey)\n\n    with open(toWrite, 'w') as outFile:\n        outfile.write(os.linesep.join(p[0] + ' ' + p[1] for p in pairs))\n</code></pre>\n\n<p>As a short (non-file) example..</p>\n\n<pre><code>&gt;&gt;&gt; infile = ['Alex 8', 'John 4', 'Reece 7', 'Alex 8', 'Rebbecca 2']\n&gt;&gt;&gt; pairs = sorted((l.strip().split() for l in infile),\n...                    key=mykey)\n&gt;&gt;&gt; os.linesep.join(p[0] + ' ' + p[1] for p in pairs)\n'Rebbecca 2\\nJohn 4\\nReece 7\\nAlex 8\\nAlex 8'\n&gt;&gt;&gt; print(os.linesep.join(p[0] + ' ' + p[1] for p in pairs))\nRebbecca 2\nJohn 4\nReece 7\nAlex 8\nAlex 8\n&gt;&gt;&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452725319, "post_id": 34778491, "comment_id": 57302112, "body": "Thats what is assigned too. Either way it does the same thing"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "reply_to_user": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452725928, "post_id": 34778491, "comment_id": 57302359, "body": "<code>... for name_score in pairs</code> is <a href=\"https://www.python.org/dev/peps/pep-0289/\" rel=\"nofollow noreferrer\">generator expression</a>, it does not update <i>pairs</i>, so you do need the assignment. If it still does not work, then there is another issue, but you need this change at least."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "reply_to_user": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452726676, "post_id": 34778491, "comment_id": 57302632, "body": "That is not really what you should have done, now my answer makes no sense any more. Please restore the previous version, and add the new code at the end."}], "tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": false, "score": 1, "last_activity_date": 1452725024, "creation_date": 1452725024, "answer_id": 34778491, "question_id": 34778327, "link": "https://stackoverflow.com/questions/34778327/python-new-line-is-sort-list-issue/34778491#34778491", "title": "Python new line is sort list issue", "body": "<p>The problem is in this line:</p>\n\n<pre><code>\"\\n\".join(name_score[0] + \" \" + name_score[1] for name_score in pairs)\n</code></pre>\n\n<p>as the result of the <em>join</em> is not assigned to anything.</p>\n\n<p>You should prefix that line with <code>pairs =</code>:</p>\n\n<pre><code>pairs = \"\\n\".join(name_score[0] + \" \" + name_score[1] for name_score in pairs)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452726643, "post_id": 34778749, "comment_id": 57302621, "body": "I took your code right there and it threw this error: <b>ValueError: invalid literal for int() with base 10: &#39;1John&#39;</b>. It saved the first score then when I ran the program for the second try it threw that"}, {"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "reply_to_user": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "edited": false, "score": 0, "creation_date": 1452726817, "post_id": 34778749, "comment_id": 57302677, "body": "I think your input file is corrupt because you don&#39;t use the <code>toWrite</code>  parameter in your method and overwrite the input file (you dont use <code>i</code> neighter). Once wrong, always wrong:)"}], "tags": [], "owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "is_accepted": false, "score": 0, "last_activity_date": 1452726346, "creation_date": 1452726346, "answer_id": 34778749, "question_id": 34778327, "link": "https://stackoverflow.com/questions/34778327/python-new-line-is-sort-list-issue/34778749#34778749", "title": "Python new line is sort list issue", "body": "<p>just let the whole <code>str()</code> thing be, you don't need it:</p>\n\n<pre><code>def sortNumeric(fileName, toWrite):\n    pairs = [l.strip().split(\" \") for l in open(fileName, \"r\")]\n    pairs.sort(key = lambda name_score: int(name_score[1]))\n    f = open(toWrite, \"w\")\n    f.write(\"\\n\".join(name_score[0] + \" \" + name_score[1] for name_score in pairs))\n    f.close()\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5613162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f046fc083911de15a0fb794dc414206d?s=128&d=identicon&r=PG", "display_name": "Reece", "link": "https://stackoverflow.com/users/5613162/reece"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1452726761, "creation_date": 1452724296, "last_edit_date": 1452726343, "question_id": 34778327, "link": "https://stackoverflow.com/questions/34778327/python-new-line-is-sort-list-issue", "title": "Python new line is sort list issue", "body": "<p>Currently I am trying to figure some things out with the sort system as you will say with my other questions. You can find some info there if you need too.</p>\n\n<p>My issue here is that I want a neatly ordered sort system which I seem to have broken.</p>\n\n<p>I have a txt file that has the following data in:<br>\nAlex 8<br>\nJohn 4<br>\nReece 7<br>\nAlex 8<br>\nRebecca 2  </p>\n\n<p>** NEW SORTING METHOD STILL DOES NOT WORK **</p>\n\n<pre><code>def sortNumeric(fileName, i, toWrite):\n    with open(fileName, 'r') as inFile:\n        pairs = sorted((l.strip().split() for l in inFile),\n                   key=operator.itemgetter(1))\n\nwith open(fileName, 'w') as outFile:\n    outFile.write(os.linesep.join(p[0] + ' ' + p[1] for p in pairs))    \n</code></pre>\n\n<p>It currently writes this to file:</p>\n\n<p>Reece0John</p>\n\n<p>Not even including John's score or anything!<br>\nI need it written to file like so: </p>\n\n<p>Rebecca 2<br>\nJohn 3<br>\nReece 7<br>\nAlex 8<br>\nAlex 8</p>\n\n<p>So going downwards rather than being on one line. Any help or improvements to my sort system would be greatly appreciated.</p>\n\n<p>Just in case the rest of my program is messing this up... here is the whole thing!</p>\n\n<p><a href=\"http://pastebin.com/wJutHmf2\" rel=\"nofollow\">code</a></p>\n"}, {"tags": ["python", "excel", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "edited": false, "score": 0, "creation_date": 1452724407, "post_id": 34778329, "comment_id": 57301661, "body": "I tried that one (like this <code>np.linalg.inv(omega())</code>) but I get this and I&#39;m not sure what it means <code>TypeError: No loop matching the specified signature and casting was found for ufunc inv</code>"}, {"owner": {"reputation": 2389, "user_id": 4033315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6dbaa2034e4c433ebb6c11f22926034c?s=128&d=identicon&r=PG&f=1", "display_name": "Geotob", "link": "https://stackoverflow.com/users/4033315/geotob"}, "reply_to_user": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "edited": false, "score": 0, "creation_date": 1452724579, "post_id": 34778329, "comment_id": 57301742, "body": "I suspect the problem to be <code>Decimal</code> here, try casting to <code>float</code> (just for troubleshooting)"}, {"owner": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "edited": false, "score": 0, "creation_date": 1452726080, "post_id": 34778329, "comment_id": 57302415, "body": "Yep this works <code>np.linalg.inv([ \t\t\t[1, 0, 0], \t\t\t[0, 1, 0], \t\t\t[0, 0, 1] \t\t])</code> as it should. Huh, wonder how I can use decimals then :\\"}, {"owner": {"reputation": 2389, "user_id": 4033315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6dbaa2034e4c433ebb6c11f22926034c?s=128&d=identicon&r=PG&f=1", "display_name": "Geotob", "link": "https://stackoverflow.com/users/4033315/geotob"}, "reply_to_user": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "edited": false, "score": 0, "creation_date": 1452726757, "post_id": 34778329, "comment_id": 57302659, "body": "You probably can&#39;t without casting your decimals to actual an actual numerical datatype. Basic mathematic operations will work because <code>Decimal</code> implements methods like <code>__add__</code> , but once numpy has to use a numerical algorithm you&#39;ll need a numeric datatype. I&#39;ll edit this into the answer."}, {"owner": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "edited": false, "score": 0, "creation_date": 1452727003, "post_id": 34778329, "comment_id": 57302763, "body": "I&#39;ll google it, of course, but if you know off the top of your head (i&#39;m new to Python) how do I do a type conversion from Decimal to float? Just doing a for loop and going one by one?"}, {"owner": {"reputation": 2389, "user_id": 4033315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6dbaa2034e4c433ebb6c11f22926034c?s=128&d=identicon&r=PG&f=1", "display_name": "Geotob", "link": "https://stackoverflow.com/users/4033315/geotob"}, "reply_to_user": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "edited": false, "score": 0, "creation_date": 1452727605, "post_id": 34778329, "comment_id": 57302964, "body": "you can call <code>.astype(float)</code> on your numpy array"}, {"owner": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "edited": false, "score": 0, "creation_date": 1452727806, "post_id": 34778329, "comment_id": 57303058, "body": "Yes! Thank you! \ud83d\udc4d\ud83d\udc4d\ud83d\udc4d"}], "tags": [], "owner": {"reputation": 2389, "user_id": 4033315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6dbaa2034e4c433ebb6c11f22926034c?s=128&d=identicon&r=PG&f=1", "display_name": "Geotob", "link": "https://stackoverflow.com/users/4033315/geotob"}, "is_accepted": true, "score": 1, "last_activity_date": 1452726856, "last_edit_date": 1452726856, "creation_date": 1452724306, "answer_id": 34778329, "question_id": 34778306, "link": "https://stackoverflow.com/questions/34778306/whats-the-equivalent-of-excels-minverse-in-python-numpy/34778329#34778329", "title": "What&#39;s the equivalent of Excel&#39;s MINVERSE in Python / numpy", "body": "<p>You are looking for <code>numpy.linalg.inv()</code> I think:</p>\n\n<p><a href=\"http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.linalg.inv.html\" rel=\"nofollow\">http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.linalg.inv.html</a></p>\n\n<p>Note that you can't use this without casting your <code>Decimals</code> an actual numerical datatype. Basic mathematical operations will work because <code>Decimal</code> implements methods like <code>__add__</code> , but once numpy has to use a numerical algorithm you'll need a numeric datatype.</p>\n"}], "owner": {"reputation": 27862, "user_id": 144833, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GHAT8.jpg?s=128&g=1", "display_name": "Oscar Godson", "link": "https://stackoverflow.com/users/144833/oscar-godson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 34778329, "answer_count": 1, "score": 0, "last_activity_date": 1452726856, "creation_date": 1452724189, "question_id": 34778306, "link": "https://stackoverflow.com/questions/34778306/whats-the-equivalent-of-excels-minverse-in-python-numpy", "title": "What&#39;s the equivalent of Excel&#39;s MINVERSE in Python / numpy", "body": "<p>I'm converting a client's Excel equation into a Python script and they use <code>MINVERSE</code>, <code>TRANSPOSE</code>, and <code>MMULT</code>. <code>transpose</code> and <code>dot</code> handle those in numpy but I can't seem to find a <code>MINVERSE</code> type function. The array I'm working with looks like this:</p>\n\n<pre><code>array([[Decimal('0.00001937974193760863606765660052'), Decimal('0E-32'),\n        Decimal('0E-33'), Decimal('0E-32'), Decimal('0E-33'),\n        Decimal('0E-32'), Decimal('0E-33'), Decimal('-0E-35'),\n        Decimal('0E-34')],\n       [Decimal('0E-32'), Decimal('0.00001881570399319161379416374436'),\n        Decimal('0E-32'), Decimal('0E-32'), Decimal('0E-33'),\n        Decimal('0E-33'), Decimal('0E-33'), Decimal('0E-36'),\n        Decimal('0E-34')],\n       [Decimal('0E-33'), Decimal('0E-32'),\n        Decimal('0.00002155088649394313957212468752'), Decimal('0E-32'),\n        Decimal('0E-32'), Decimal('0E-32'), Decimal('0E-32'),\n        Decimal('0E-34'), Decimal('-0E-34')],\n       [Decimal('0E-32'), Decimal('0E-32'), Decimal('0E-32'),\n        Decimal('0.00002308127083915646134802447962'), Decimal('0E-33'),\n        Decimal('0E-33'), Decimal('0E-33'), Decimal('0E-34'),\n        Decimal('0E-34')],\n       [Decimal('0E-33'), Decimal('0E-33'), Decimal('0E-32'),\n        Decimal('0E-33'), Decimal('0.00002310448983055357325172035711'),\n        Decimal('0E-32'), Decimal('0E-32'), Decimal('0E-34'),\n        Decimal('-0E-34')],\n       [Decimal('0E-32'), Decimal('0E-33'), Decimal('0E-32'),\n        Decimal('0E-33'), Decimal('0E-32'),\n        Decimal('0.00004672586580873250052060527969'), Decimal('0E-32'),\n        Decimal('0E-34'), Decimal('-0E-34')],\n       [Decimal('0E-33'), Decimal('0E-33'), Decimal('0E-32'),\n        Decimal('0E-33'), Decimal('0E-32'), Decimal('0E-32'),\n        Decimal('0.00001445780451042951889148457730'), Decimal('0E-34'),\n        Decimal('-0E-34')],\n       [Decimal('-0E-35'), Decimal('0E-36'), Decimal('0E-34'),\n        Decimal('0E-34'), Decimal('0E-34'), Decimal('0E-34'),\n        Decimal('0E-34'), Decimal('0.000001880009405810659923357817901'),\n        Decimal('0E-34')],\n       [Decimal('0E-34'), Decimal('0E-34'), Decimal('-0E-34'),\n        Decimal('0E-34'), Decimal('-0E-34'), Decimal('-0E-34'),\n        Decimal('-0E-34'), Decimal('0E-34'),\n        Decimal('1.909353650093269872864190266E-7')]], dtype=object)\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "edited": false, "score": 1, "creation_date": 1452739936, "post_id": 34778250, "comment_id": 57306732, "body": "Looks like you want <code>gs_medium</code> to be inside of <code>gs_outer</code> and <code>gs_row1</code> to be inside of <code>gs_medium</code>.  Wouldn&#39;t it work if you just create a n*m grid and use <code>rowspan</code> and <code>colspan</code> keywords to get a similar layout?"}, {"owner": {"reputation": 1432, "user_id": 4088415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d699654ac42582b4569e2d24b183ac91?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelA", "link": "https://stackoverflow.com/users/4088415/michaela"}, "reply_to_user": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "edited": false, "score": 0, "creation_date": 1452761702, "post_id": 34778250, "comment_id": 57314344, "body": "If I understand you correctly, this would result in hidden axes above each &quot;real&quot; data line. I think this could be troublesome because of sizing (because the row-span axes would have the be rather small compared to the lines containing the acutal plots)"}], "answers": [{"tags": [], "owner": {"reputation": 1432, "user_id": 4088415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d699654ac42582b4569e2d24b183ac91?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelA", "link": "https://stackoverflow.com/users/4088415/michaela"}, "is_accepted": false, "score": 1, "last_activity_date": 1453300117, "creation_date": 1453300117, "answer_id": 34902743, "question_id": 34778250, "link": "https://stackoverflow.com/questions/34778250/row-titles-within-a-matplotlib-gridspec/34902743#34902743", "title": "Row Titles within a matplotlib GridSpec", "body": "<p>Following CT Zhu comment I came up with the following answer (I don't really like it, but it seems to work)</p>\n\n<pre><code>import pylab as plt\nimport numpy as np\nfig = plt.figure()\nrows = 2\ncols = 3\nrow_fraction = 9\nrow_size = row_fraction / float(rows)\ngs_outer = plt.GridSpec(1,2, width_ratios=(9,1))\ngs_plots= plt.matplotlib.gridspec.GridSpecFromSubplotSpec(rows * 2, cols, subplot_spec=gs_outer[0], height_ratios = rows * [1, row_size])\n# Create title_axes\ntitle_ax = []\nfor ta in xrange(rows):\n    row_index = (ta) * 2\n    title_ax.append(plt.subplot(gs_plots[row_index, :]))\n# Create Data axes\nax = []\nfor row in xrange(rows):\n    row_index = (row + 1) * 2 -1\n    for col in xrange(cols):\n        try:\n           ax.append(plt.subplot(gs_plots[row_index, col], sharex=ax[0], sharey=ax[0]))\n        except IndexError:\n            if row == 0 and col == 0:\n                ax.append(plt.subplot(gs_plots[row_index, col]))\n            else:\n                raise IndexError\n    # Delete Boxes and Markers from title axes\n    for ta in title_ax:\n        ta._frameon = False\n        ta.xaxis.set_visible(False)\n        ta.yaxis.set_visible(False)\n    # Add labels to title axes:\n    for ta, label in zip(title_ax, ['Row 1', 'Row 2']):\n        plt.sca(ta)\n        plt.text(\n            0.5, 0.5, label, horizontalalignment='center', verticalalignment='center')\n# Add common colorbar\ngs_cb = plt.matplotlib.gridspec.GridSpecFromSubplotSpec(\n    1, 1, subplot_spec=gs_outer[1])\nax.append(plt.subplot(gs_cb[:, :]))\n</code></pre>\n\n<p>Of course labeling and ticklabels could be improved. But how to achive that is likely already explained on SO.</p>\n"}], "owner": {"reputation": 1432, "user_id": 4088415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d699654ac42582b4569e2d24b183ac91?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelA", "link": "https://stackoverflow.com/users/4088415/michaela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2359, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1453300117, "creation_date": 1452723969, "question_id": 34778250, "link": "https://stackoverflow.com/questions/34778250/row-titles-within-a-matplotlib-gridspec", "title": "Row Titles within a matplotlib GridSpec", "body": "<p>I have an GridSpec defined layout with to subgrids, one is supposed to include a colorbar</p>\n\n<pre><code>import pylab as plt\nimport numpy as np\ngs_outer = plt.GridSpec(1, 2, width_ratios=(10, 1))\ngs_inner = plt.matplotlib.gridspec.GridSpecFromSubplotSpec(2, 3, gs_outer[0])\nax = []\nfor i in xrange(6):\n    ax.append(plt.subplot(gs_inner[i]))\n    plt.setp(ax[i].get_xticklabels(), visible=False)\n    plt.setp(ax[i].get_yticklabels(), visible=False)\nax.append(plt.subplot(gs_outer[1]))\nplt.show()\n</code></pre>\n\n<p>I'd now like to get for the left part a row-wise labeling like this:<a href=\"https://i.stack.imgur.com/L2TLS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L2TLS.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried to add another GridSpec into the GridSpec, but that did not work out:</p>\n\n<pre><code>import pylab as plt\nimport numpy as np\nfig = plt.figure()\ngs_outer = plt.GridSpec(1, 2, width_ratios=(10, 1))\ngs_medium = plt.matplotlib.gridspec.GridSpecFromSubplotSpec(3, 1, gs_outer[0])\nax_title0 = plt.subplot(gs_medium[0])\nax_title0.set_title('Test!')\ngs_row1 = plt.matplotlib.gridspec.GridSpecFromSubplotSpec(1, 3, gs_medium[0])\nax00 = plt.subplot(gs_row1[0]) # toggle this line to see the effect\nplt.show()\n</code></pre>\n\n<p>Adding the <code>ax00 = plt.subplot...</code> line seems to erase the previously created axis</p>\n"}, {"tags": ["python", "timer", "tkinter", "record", "pyaudio"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 0, "creation_date": 1452731702, "post_id": 34778213, "comment_id": 57304363, "body": "I would suggest that you update the time on every for() loop iteration, assuming you want a timer that shows the elapsed time to do this (you don&#39;t have any functions in the program, let alone a recording function, so there is no way to tell what you mean by &quot;recording function&quot;).  Also note that <i>WAVE_OUTPUT_FILENAME = str(e2.get() + &#39;.wav&#39;)</i> could error because e2 has not been declared yet, or passed to the class, so it&#39;s scope is unknown to us."}, {"owner": {"reputation": 7, "user_id": 4625292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-rpFk7QMKkPg/AAAAAAAAAAI/AAAAAAAAABE/psIgT6_fKS8/photo.jpg?sz=128", "display_name": "Jorgusss", "link": "https://stackoverflow.com/users/4625292/jorgusss"}, "edited": false, "score": 0, "creation_date": 1452780360, "post_id": 34778213, "comment_id": 57326377, "body": "e2 was declared as a global variable in other class, which is used in entry box all those points in rec class are working, also str(e2.get()+ &#39;.wav&#39;), but the main point is to create timer which would be shown while the record loop is working, and i even don&#39; t have any idea how to make that"}], "owner": {"reputation": 7, "user_id": 4625292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-rpFk7QMKkPg/AAAAAAAAAAI/AAAAAAAAABE/psIgT6_fKS8/photo.jpg?sz=128", "display_name": "Jorgusss", "link": "https://stackoverflow.com/users/4625292/jorgusss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452723805, "creation_date": 1452723805, "question_id": 34778213, "link": "https://stackoverflow.com/questions/34778213/tkinter-timer-while-recording", "title": "Tkinter timer while recording", "body": "<p>Same as in topic, i want to create timer while the recording function would run. I have tried a lot of ideas but all of them resulted as an error or just broke up program, maybe you have some ideas?</p>\n\n<pre><code>class rec(object):  \n  def __init__(self):\n    FORMAT = pyaudio.paInt16\n    CHANNELS = 2\n    RATE = 44100\n    CHUNK = 1024\n    WAVE_OUTPUT_FILENAME = str(e2.get() + '.wav')       \n\n    try:        \n      RECORD_SECONDS = int(e1.get())\n    except ValueError:\n      tkMessageBox.showinfo(\"Error\", \"Please Enter number of seconds\")\n\n    i = 0\n    while os.path.exists(WAVE_OUTPUT_FILENAME):     \n      WAVE_OUTPUT_FILENAME = str(e2.get() + '%d.wav'%i)\n      i += 1\n\n    audio = pyaudio.PyAudio()\n    stream = audio.open(format=FORMAT, channels=CHANNELS,\n                        rate=RATE, input=True,\n                        frames_per_buffer=CHUNK)\n\n    frames = []\n\n    print \"recording...\\n\\n\"\n    for i in range(0, int(RATE / CHUNK * RECORD_SECONDS)):\n      sys.stdout.write('\\r%i' % i)\n      data = stream.read(CHUNK)\n      frames.append(data)\n    print \"\\nfinished recording\\n\"\n\n    # stop Recording\n    stream.stop_stream()\n    stream.close()\n    audio.terminate()\n\n    waveFile = wave.open(WAVE_OUTPUT_FILENAME, 'wb')\n    waveFile.setnchannels(CHANNELS)\n    waveFile.setsampwidth(audio.get_sample_size(FORMAT))\n    waveFile.setframerate(RATE)\n    waveFile.writeframes(b''.join(frames))\n\n    # waveFile.Wave_read.getnframes()\n\n    waveFile.close()\n    tkMessageBox.showinfo(\"Recorded\", \"Track:%s\"%WAVE_OUTPUT_FILENAME)\n</code></pre>\n\n<p>I tried to make other function with timer and initiate that function, when i press button, but if i pressed button firstly program ran rec function, and after gone timer function, also i tried to initiate those function by pipe but it does the same, do i have to make that with threads?</p>\n"}, {"tags": ["python", "django", "logging", "python-requests"], "comments": [{"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 1, "creation_date": 1452724989, "post_id": 34778189, "comment_id": 57301929, "body": "Try with disable_existing_loggers = True."}, {"owner": {"reputation": 3467, "user_id": 2958455, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4bf81a9aa9aa3619f1197c901f079268?s=128&d=identicon&r=PG", "display_name": "Jared Mackey", "link": "https://stackoverflow.com/users/2958455/jared-mackey"}, "reply_to_user": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1452725221, "post_id": 34778189, "comment_id": 57302059, "body": "@MikkoOhtamaa that didn&#39;t work."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 3357532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32e7cfc7207df1bdedb03494f3020598?s=128&d=identicon&r=PG", "display_name": "Andrzej Piasecki", "link": "https://stackoverflow.com/users/3357532/andrzej-piasecki"}, "edited": false, "score": 1, "creation_date": 1509778570, "post_id": 34778758, "comment_id": 81166832, "body": "For wikipedia package this one worked: <code>logging.getLogger(&#39;urllib3.connectionpool&#39;).setLevel(logging&zwnj;&#8203;.ERROR)</code>"}], "tags": [], "owner": {"reputation": 1440, "user_id": 457715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8e2565bf6dbce57948827a1a3274c4a?s=128&d=identicon&r=PG", "display_name": "jimjkelly", "link": "https://stackoverflow.com/users/457715/jimjkelly"}, "is_accepted": false, "score": 11, "last_activity_date": 1452726403, "creation_date": 1452726403, "answer_id": 34778758, "question_id": 34778189, "link": "https://stackoverflow.com/questions/34778189/how-to-disable-log-messages-from-the-requests-library-in-django/34778758#34778758", "title": "How to disable log messages from the Requests library in Django", "body": "<p>I believe the following would work:</p>\n\n<pre><code>import logging\nlogging.getLogger('requests.packages.urllib3.connectionpool').setLevel(logging.ERROR)\n</code></pre>\n\n<p>You can retrieve the existing logger and manipulate it.  I similarly had a mouthy submodule, and another option just to shut it up entirely is to set <code>propagate = False</code> on the logger.</p>\n"}, {"comments": [{"owner": {"reputation": 1121, "user_id": 3562777, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d04jC.jpg?s=128&g=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/3562777/liz"}, "edited": false, "score": 0, "creation_date": 1570688491, "post_id": 34913293, "comment_id": 102993230, "body": "setting <code>&#39;urllib3.connectionpool&#39;: {             &#39;handlers&#39;: DEFAULT_HANDLERS,             &#39;level&#39;: &#39;WARNING&#39;,             &#39;propagate&#39;: False,         }</code> worked for me."}], "tags": [], "owner": {"reputation": 3467, "user_id": 2958455, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4bf81a9aa9aa3619f1197c901f079268?s=128&d=identicon&r=PG", "display_name": "Jared Mackey", "link": "https://stackoverflow.com/users/2958455/jared-mackey"}, "is_accepted": true, "score": 3, "last_activity_date": 1453336185, "creation_date": 1453336185, "answer_id": 34913293, "question_id": 34778189, "link": "https://stackoverflow.com/questions/34778189/how-to-disable-log-messages-from-the-requests-library-in-django/34913293#34913293", "title": "How to disable log messages from the Requests library in Django", "body": "<p>The correct solution was what I had thought it was, just adding it to the <code>LOGGING</code> setting in `settings.py'</p>\n\n<pre><code>    'requests': {\n        # The requests library is too verbose in it's logging, reducing the verbosity in our logs.\n        'handlers': DEFAULT_HANDLERS,\n        'level': 'WARNING',\n    },\n</code></pre>\n"}], "owner": {"reputation": 3467, "user_id": 2958455, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4bf81a9aa9aa3619f1197c901f079268?s=128&d=identicon&r=PG", "display_name": "Jared Mackey", "link": "https://stackoverflow.com/users/2958455/jared-mackey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4840, "favorite_count": 1, "accepted_answer_id": 34913293, "answer_count": 2, "score": 5, "last_activity_date": 1453336185, "creation_date": 1452723677, "last_edit_date": 1452725211, "question_id": 34778189, "link": "https://stackoverflow.com/questions/34778189/how-to-disable-log-messages-from-the-requests-library-in-django", "title": "How to disable log messages from the Requests library in Django", "body": "<p>I seen <a href=\"https://stackoverflow.com/questions/11029717/how-do-i-disable-log-messages-from-the-requests-library\">How do I disable log messages from the Requests library?</a> and I was wondering, how could i use django to manage these settings? Essentially, the problem is the <code>Requests</code> library is overly verbose and I want to tune it's logging level to <code>warning</code> or even <code>error</code>.</p>\n\n<p>Our logs are <strong>FILLED</strong> with these:</p>\n\n<pre><code>INFO - requests.packages.urllib3.connectionpool (_new_conn:735) \n        Starting new HTTPS connection (1): www.example.com\nINFO - requests.packages.urllib3.connectionpool (_new_conn:735) \n        Starting new HTTPS connection (1): localhost\n</code></pre>\n\n<p>Here is my current Django logging configuration with what I would think would be the fix to the library being overly verbose. But it isn't working. </p>\n\n<pre><code>LOGGING = {\n    'version': 1,\n    'disable_existing_loggers': False,\n    'formatters': {\n        'verbose': {\n            'format': ' '.join(['%(asctime)s', '%(levelname)8s', '- %(name)s',\n                                '(%(funcName)s:%(lineno)d)', os.sep, ' ' * 4, '%(message)s']),\n            'datefmt': DATEFORMAT,\n        },\n        'default': {\n            'format': ' '.join(['%(asctime)s', '%(levelname)8s', '- %(message)s']),\n            'datefmt': DATEFORMAT,\n        },\n        'syslog': {\n            'format': ' '.join([PROCTITLE + '[%(process)d]', '[%(levelname)s]', '(%(module)s %(funcName)s:%(lineno)d)',\n                                '- %(message)s']),\n            'datefmt': DATEFORMAT,\n        },\n    },\n    'filters': {\n        'require_debug_false': {\n            '()': 'django.utils.log.RequireDebugFalse'\n        }\n    },\n    'handlers': {\n        'null': {\n            'level': HANDLER_LEVEL,\n            'class': 'django.utils.log.NullHandler',\n        },\n        'mail_admins': {\n            'level': 'ERROR',\n            'filters': ['require_debug_false'],\n            'class': 'django.utils.log.AdminEmailHandler',\n        },\n        'console_handler': {\n            'level': parser.get('logging', 'handler.console.level'),\n            'formatter': 'verbose',\n            'class': 'ppcc.lib.logs.TwistedStreamHandler',\n        },\n        'default': {\n            'level': HANDLER_LEVEL,\n            'formatter': 'syslog',\n            'class': 'logging.handlers.SysLogHandler',\n            'address': '/dev/log',\n            'facility': 20,\n        },\n    },\n    'loggers': {\n        'django': {\n            'handlers': ['default'],\n            'propagate': True,\n            'level': parser.get_log_level('django'),\n        },\n        'django.request': {\n            'handlers': ['mail_admins', 'default'],\n            'level': 'ERROR',\n            'propagate': False,\n        },\n        'boto': {\n            'handlers': DEFAULT_HANDLERS,\n            'level': 'WARNING',\n        },\n        'requests': {\n            # The requests library is too verbose in it's logging, reducing the verbosity in our logs.\n            'handlers': DEFAULT_HANDLERS,\n            'level': 'WARNING',\n            'propagate': True,\n        },\n        'urllib3': {\n            'handers': DEFAULT_HANDLERS,\n            'level': 'WARNING',\n            'propagate': True\n        },\n        'cassandra': {\n            'handlers': DEFAULT_HANDLERS,\n            'level': 'WARNING',\n        },\n        'cqlengine': {\n            'handlers': DEFAULT_HANDLERS,\n            'propagate': True,\n            'level': 'WARNING',\n        },\n        '': {\n            'handlers': DEFAULT_HANDLERS,\n            'level': LOG_LEVEL,\n        },\n    }\n}\n</code></pre>\n"}, {"tags": ["python", "csv", "awk"], "comments": [{"owner": {"reputation": 1040, "user_id": 2444082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jukma.png?s=128&g=1", "display_name": "Trevor", "link": "https://stackoverflow.com/users/2444082/trevor"}, "edited": false, "score": 0, "creation_date": 1452724236, "post_id": 34778179, "comment_id": 57301590, "body": "Using the above example, can you add that again but show what the output should look like?  That will make sure people understand your question :)"}, {"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1452725157, "post_id": 34778179, "comment_id": 57302025, "body": "What do you expect to happen if there are consecutive &quot;MSG&quot; lines?"}, {"owner": {"reputation": 3, "user_id": 5274712, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PrGq-uPf-3Q/AAAAAAAAAAI/AAAAAAAAAu4/1pvzpKVydTg/photo.jpg?sz=128", "display_name": "Puja Panwar", "link": "https://stackoverflow.com/users/5274712/puja-panwar"}, "edited": false, "score": 0, "creation_date": 1452873298, "post_id": 34778179, "comment_id": 57371870, "body": "Hello!  There are most definitely no consecutive MSG lines. There are always at least 240 lines of SMP data between each MSG line. The reason I need to delete 1 row before every MSG line is because the numbering has a slight delay to it when the data gets received (as you can tell above, the number beside SMP should increment at every MSG, but alas the data lag many times increments the trial # right before MSG even pops up)"}, {"owner": {"reputation": 3, "user_id": 5274712, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PrGq-uPf-3Q/AAAAAAAAAAI/AAAAAAAAAu4/1pvzpKVydTg/photo.jpg?sz=128", "display_name": "Puja Panwar", "link": "https://stackoverflow.com/users/5274712/puja-panwar"}, "edited": false, "score": 0, "creation_date": 1452873510, "post_id": 34778179, "comment_id": 57372030, "body": "And Trevor, this is what the output would be:   976810  SMP  2  144.79  108.25   993461  SMP  2  144.68  108.15 945277  SMP  2  144.90  108.10 945828  SMP  3  144.83  108.31(This entire line would be deleted)       945237  MSG  3  # Message: 5 943544  SMP  3  144.87  108.58       945209  SMP  3  144.93  108.68 976916  SMP  3  145.17  108.72 997481  SMP  3  140.90  109.33   914197  SMP  4  140.79  109.15(This entire line would be deleted)   945300  MSG  4  # Message: 0 940848  SMP  4  140.84  109.11 945568  SMP  4  140.91  109.03   945200  SMP  4  141.08  109.01"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5274712, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PrGq-uPf-3Q/AAAAAAAAAAI/AAAAAAAAAu4/1pvzpKVydTg/photo.jpg?sz=128", "display_name": "Puja Panwar", "link": "https://stackoverflow.com/users/5274712/puja-panwar"}, "edited": false, "score": 1, "creation_date": 1452874448, "post_id": 34778405, "comment_id": 57372645, "body": "Ed Morton,  Thank you for the help! This is perfect. My initial awk command was unfortunately a few characters different from what you&#39;ve posted, and of course figuring out what was wrong was taking longer than it needed to. Much obliged.  For anyone else/new coders, to ensure the awk command&#39;s output is saved into a new file: more yourTextFile.txt | awk &#39;NR&gt;1 &amp;&amp; $2!=&quot;MSG&quot;{print prev} {prev=$0} END{print prev}&#39; &gt; newTextFile.txt"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 3, "user_id": 5274712, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PrGq-uPf-3Q/AAAAAAAAAAI/AAAAAAAAAu4/1pvzpKVydTg/photo.jpg?sz=128", "display_name": "Puja Panwar", "link": "https://stackoverflow.com/users/5274712/puja-panwar"}, "edited": false, "score": 0, "creation_date": 1452874731, "post_id": 34778405, "comment_id": 57372837, "body": "Youre welcome. wrt that last sentence in your comment - using <code>more</code> to pipe the file to awk is useless (same as UUOC - google it) and the output redirection is basic shell , unrelated to awk or any other specific command and doesn&#39;t need to be said in this context."}, {"owner": {"reputation": 3, "user_id": 5274712, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PrGq-uPf-3Q/AAAAAAAAAAI/AAAAAAAAAu4/1pvzpKVydTg/photo.jpg?sz=128", "display_name": "Puja Panwar", "link": "https://stackoverflow.com/users/5274712/puja-panwar"}, "edited": false, "score": 0, "creation_date": 1452972593, "post_id": 34778405, "comment_id": 57403974, "body": "Thanks Ed. Sure, it&#39;s basic shell, but I figure more info is better than none for future Googlers with similar issues. Plus ^the pipeline tied up what I needed out of this question, with your help."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 2, "last_activity_date": 1452724657, "creation_date": 1452724657, "answer_id": 34778405, "question_id": 34778179, "link": "https://stackoverflow.com/questions/34778179/delete-every-row-of-data-preceding-msg-row-in-txt-file/34778405#34778405", "title": "Delete every row of data preceding &quot;MSG&quot; row in txt file?", "body": "<pre><code>$ awk 'NR&gt;1 &amp;&amp; $2!=\"MSG\"{print prev} {prev=$0} END{print prev}' file\n976810  SMP  2  144.79  108.25\n993461  SMP  2  144.68  108.15\n945277  SMP  2  144.90  108.10\n945237  MSG  3  # Message: 5\n943544  SMP  3  144.87  108.58\n945209  SMP  3  144.93  108.68\n976916  SMP  3  145.17  108.72\n997481  SMP  3  140.90  109.33\n945300  MSG  4  # Message: 0\n940848  SMP  4  140.84  109.11\n945568  SMP  4  140.91  109.03\n945200  SMP  4  141.08  109.01\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5274712, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PrGq-uPf-3Q/AAAAAAAAAAI/AAAAAAAAAu4/1pvzpKVydTg/photo.jpg?sz=128", "display_name": "Puja Panwar", "link": "https://stackoverflow.com/users/5274712/puja-panwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 34778405, "answer_count": 1, "score": 0, "last_activity_date": 1452724657, "creation_date": 1452723625, "last_edit_date": 1452723766, "question_id": 34778179, "link": "https://stackoverflow.com/questions/34778179/delete-every-row-of-data-preceding-msg-row-in-txt-file", "title": "Delete every row of data preceding &quot;MSG&quot; row in txt file?", "body": "<p>I have a txt file that has 70K or so rows of data with 8 or so columns. The 2nd column defines the data type (either SMP or MSG). Within that data file, there are 62 rows of data total identified as \"MSG\". I am trying to make a simple awk command or even a short python script that will delete 1 row of data that precedes every \"MSG\" row in the file. Example section out of actual data file: </p>\n\n<pre><code>976810  SMP  2  144.79  108.25  \n993461  SMP  2  144.68  108.15\n945277  SMP  2  144.90  108.10\n945828  SMP  3  144.83  108.31      \n945237  MSG  3  # Message: 5\n943544  SMP  3  144.87  108.58      \n945209  SMP  3  144.93  108.68\n976916  SMP  3  145.17  108.72\n997481  SMP  3  140.90  109.33  \n914197  SMP  4  140.79  109.15  \n945300  MSG  4  # Message: 0\n940848  SMP  4  140.84  109.11\n945568  SMP  4  140.91  109.03  \n945200  SMP  4  141.08  109.01\n</code></pre>\n\n<p>So in the example above, I need to delete the SMP lines right before every MSG line.\nI thought maybe I'd use an awk command to search for $2=='MSG' and then delete row MSG-1 or something. \nI very much appreciate any suggestions/help/guidance on this!</p>\n\n<p>Regards</p>\n"}, {"tags": ["python", "django", "django-models", "django-views", "django-urls"], "comments": [{"owner": {"reputation": 15995, "user_id": 1783237, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a608cef53714ed07dfb108efdddba4eb?s=128&d=identicon&r=PG", "display_name": "GwynBleidD", "link": "https://stackoverflow.com/users/1783237/gwynbleidd"}, "edited": false, "score": 1, "creation_date": 1452724105, "post_id": 34778159, "comment_id": 57301520, "body": "And what is your problem? What have you tried so far?"}, {"owner": {"reputation": 573, "user_id": 3895572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a5d1005f465e4bfba7c3f9f810dcd5?s=128&d=identicon&r=PG", "display_name": "raiderrobert", "link": "https://stackoverflow.com/users/3895572/raiderrobert"}, "reply_to_user": {"reputation": 15995, "user_id": 1783237, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a608cef53714ed07dfb108efdddba4eb?s=128&d=identicon&r=PG", "display_name": "GwynBleidD", "link": "https://stackoverflow.com/users/1783237/gwynbleidd"}, "edited": false, "score": 0, "creation_date": 1452724438, "post_id": 34778159, "comment_id": 57301686, "body": "Ditto what @GwynBleidD says. You&#39;re describing your entire situation, and you say you have a lot of errors, so let&#39;s start with one specific error."}, {"owner": {"reputation": 23, "user_id": 5386427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20208e832249dc7d494dc5ec855e8f6a?s=128&d=identicon&r=PG&f=1", "display_name": "drjsoundsgood", "link": "https://stackoverflow.com/users/5386427/drjsoundsgood"}, "edited": false, "score": 0, "creation_date": 1452730455, "post_id": 34778159, "comment_id": 57304013, "body": "The first error- trying to make migrations:  You are trying to add a non-nullable field &#39;category&#39; to post without a default; we can&#39;t do that (the database needs something to populate existing rows). Please select a fix  1) Provide a one-off default now (will be set on all existing rows)  2) Quit, and let me add a default in models.py    I added category = models.ForeignKey(Category) to post models, and update the view for post_edit to start with def post_edit(request, pk, category_name_slug)  and  url(r&#39;^category/(?P&lt;category_name_slug&gt;[\\w\\-]+)/post_edit/$&#39;&zwnj;&#8203;, views.add_page, name=&#39;post_edit&#39;)"}, {"owner": {"reputation": 573, "user_id": 3895572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a5d1005f465e4bfba7c3f9f810dcd5?s=128&d=identicon&r=PG", "display_name": "raiderrobert", "link": "https://stackoverflow.com/users/3895572/raiderrobert"}, "edited": false, "score": 0, "creation_date": 1452733243, "post_id": 34778159, "comment_id": 57304851, "body": "OK, that&#39;s a good start. For a nullable field, you need: <code>category = models.ForeignKey(Category, null=True)</code>. What else?"}, {"owner": {"reputation": 23, "user_id": 5386427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20208e832249dc7d494dc5ec855e8f6a?s=128&d=identicon&r=PG&f=1", "display_name": "drjsoundsgood", "link": "https://stackoverflow.com/users/5386427/drjsoundsgood"}, "edited": false, "score": 0, "creation_date": 1452739458, "post_id": 34778159, "comment_id": 57306612, "body": "Nothing else needs to be done other than to migrating it. The model has to be imported to the post_new views.py. I edited it to be:  def post_new(request, category_name_slug):  For the url, post_new should be something like:          url(r&#39;^category/(?P&lt;category_name_slug&gt;[\\w\\-]+)/post_new/$&#39;, views.post_new, name=&#39;post_new&#39;),  That gives me this error:  NoReverseMatch at /rango/category/rango/ Reverse for &#39;post_new&#39; with arguments &#39;()&#39; and keyword arguments &#39;{}&#39; not found. 1 pattern(s) tried: [&#39;rango/category/(?P&lt;category_name_slug&gt;[\\\\w\\\\-]+)/post_new/&zwnj;&#8203;$&#39;]  Im not exactly sure what this means"}, {"owner": {"reputation": 23, "user_id": 5386427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20208e832249dc7d494dc5ec855e8f6a?s=128&d=identicon&r=PG&f=1", "display_name": "drjsoundsgood", "link": "https://stackoverflow.com/users/5386427/drjsoundsgood"}, "edited": false, "score": 0, "creation_date": 1452739688, "post_id": 34778159, "comment_id": 57306678, "body": "Also, thank you for helping me walk through this."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 5386427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20208e832249dc7d494dc5ec855e8f6a?s=128&d=identicon&r=PG&f=1", "display_name": "drjsoundsgood", "link": "https://stackoverflow.com/users/5386427/drjsoundsgood"}, "is_accepted": true, "score": 1, "last_activity_date": 1457509735, "last_edit_date": 1457509735, "creation_date": 1457509201, "answer_id": 35885679, "question_id": 34778159, "link": "https://stackoverflow.com/questions/34778159/unable-to-link-blog-posts-to-specific-category-django/35885679#35885679", "title": "Unable to link Blog Posts to Specific Category Django", "body": "<p>I realized I had to have my posts filtered to their respective categories. I also switched over to using class based views. The code is a little cleaner.</p>\n\n<pre><code>class PostListView(DetailView):\nmodel = Category\ntemplate_name = 'dicer/post_list.html'\n\ndef get_context_data(self, **kwargs):\n    context = super(PostListView, self).get_context_data(**kwargs)\n    posts = (\n        Post.objects.filter(category=self.get_object(),\n                            published_date__lte=timezone.now())\n                    .order_by('published_date')\n    )\n    context['posts'] = posts\n    return context\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5386427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20208e832249dc7d494dc5ec855e8f6a?s=128&d=identicon&r=PG&f=1", "display_name": "drjsoundsgood", "link": "https://stackoverflow.com/users/5386427/drjsoundsgood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 0, "accepted_answer_id": 35885679, "answer_count": 1, "score": 1, "last_activity_date": 1457509735, "creation_date": 1452723522, "question_id": 34778159, "link": "https://stackoverflow.com/questions/34778159/unable-to-link-blog-posts-to-specific-category-django", "title": "Unable to link Blog Posts to Specific Category Django", "body": "<p>I used Tango with Django to create a database containing categories, and I used the Django Girls tutorial to add a blog to the database. Both are working fine, but I have been having trouble linking each blog post to its respective category. Right now, all posts go to my post_list.html page.</p>\n\n<p>If I were doing this from scratch, I would add a new view, add a new template, add a url mapping, and then add a link from the category page. I also am aware that I need to edit my blog post model to contain:</p>\n\n<pre><code>category - models.ForeignKey(Category)\n</code></pre>\n\n<p>I thought it would be as simple as adding this to my url.py:</p>\n\n<pre><code>url(r'^category/(?P&lt;category_name_slug&gt;[\\w\\-]+)/post_edit/$', views.add_page, name='add_page'),  \n</code></pre>\n\n<p>However after a few rounds of trying things along these lines, I can't quite get anything to work. I run into error after error. I have tried going through other blog-related tutorials online, and looking at other stack-overflow posts related to things like this, but I am still stuck. I am a newbie to Django; I am pretty sure that's playing a roll in my lack of success too.</p>\n\n<p>Below is the (unmodified) code I have so far. Can someone help me with this? </p>\n\n<p>My models.py</p>\n\n<pre><code>class Post(models.Model):\nauthor = models.ForeignKey('auth.User')\ntitle = models.CharField(max_length=200)\ntext = models.TextField()\ncreated_date = models.DateTimeField(\n        default=timezone.now)\npublished_date = models.DateTimeField(\n        blank=True, null=True)\n\ndef publish(self):\n    self.published_date = timezone.now()\n    self.save()\n\ndef __str__(self):\n    return self.title\n\nclass Category(models.Model):\n    name = models.CharField(max_length=128, unique=True)\n    views = models.IntegerField(default=0)\n    likes = models.IntegerField(default=0)\n    slug = models.SlugField()\n\n    def save(self, *args, **kwargs):\n            # Uncomment if you don't want the slug to change every time the name changes\n            #if self.id is None:\n                    #self.slug = slugify(self.name)\n            self.slug = slugify(self.name)\n            super(Category, self).save(*args, **kwargs)\n\n    def __unicode__(self):  #For Python 2, use __str__ on Python 3\n        return self.name\n</code></pre>\n\n<p>My urls.py</p>\n\n<pre><code>    url(r'^category/(?P&lt;category_name_slug&gt;[\\w\\-]+)/$', views.category, name='category'),\n    url(r'^post_list/$', views.post_list, name='post_list'),\n    url(r'^post/(?P&lt;pk&gt;[0-9]+)/$', views.post_detail, name='post_detail'),\n    url(r'^post/new/$', views.post_new, name='post_new'),\n    url(r'^post/(?P&lt;pk&gt;[0-9]+)/edit/$', views.post_edit, name='post_edit'),\n</code></pre>\n\n<p>My views.py</p>\n\n<pre><code> def post_list(request):\n posts = Post.objects.filter(published_date__lte=timezone.now()).order_by('published_date')\n return render(request, 'rango/post_list.html', {'posts': posts})\n\ndef post_detail(request, pk):\npost = get_object_or_404(Post, pk=pk)\nreturn render(request, 'rango/post_detail.html', {'post': post})\n\ndef post_new(request):\nif request.method == \"POST\":\n    form = PostForm(request.POST)\n    if form.is_valid():\n        post = form.save(commit=False)\n        post.author = request.user\n        post.published_date = timezone.now()\n        post.save()\n        return redirect('post_detail', pk=post.pk)\nelse:\n    form = PostForm()\nreturn render(request, 'rango/post_edit.html', {'form': form})\n\ndef post_edit(request, pk):\npost = get_object_or_404(Post, pk=pk)\nif request.method == \"POST\":\n    form = PostForm(request.POST, instance=post)\n    if form.is_valid():\n        post = form.save(commit=False)\n        post.author = request.user\n        post.published_date = timezone.now()\n        post.save()\n        return redirect('post_detail', pk=post.pk)\nelse:\n    form = PostForm(instance=post)\nreturn render(request, 'rango/post_edit.html', {'form': form})\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "dictionary", "many-to-many"], "comments": [{"owner": {"reputation": 751, "user_id": 2446067, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ede1b414d6051c9d312c1a9fa5808e9f?s=128&d=identicon&r=PG", "display_name": "Walid Saad", "link": "https://stackoverflow.com/users/2446067/walid-saad"}, "edited": false, "score": 0, "creation_date": 1452723672, "post_id": 34778149, "comment_id": 57301356, "body": "what&#39;s the input exactly?"}, {"owner": {"reputation": 285, "user_id": 5685150, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/96d1d708ae7fb9bda07cc91a2ff2ca6c?s=128&d=identicon&r=PG&f=1", "display_name": "A B", "link": "https://stackoverflow.com/users/5685150/a-b"}, "reply_to_user": {"reputation": 751, "user_id": 2446067, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ede1b414d6051c9d312c1a9fa5808e9f?s=128&d=identicon&r=PG", "display_name": "Walid Saad", "link": "https://stackoverflow.com/users/2446067/walid-saad"}, "edited": false, "score": 0, "creation_date": 1452726414, "post_id": 34778149, "comment_id": 57302535, "body": "I updated the question to make it more clear."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1453032533, "post_id": 34778149, "comment_id": 57417075, "body": "Did the answer work for you? Any questions?"}], "answers": [{"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 0, "last_activity_date": 1452724361, "creation_date": 1452724361, "answer_id": 34778336, "question_id": 34778149, "link": "https://stackoverflow.com/questions/34778149/python-many-to-many-dictionary/34778336#34778336", "title": "Python many-to-many dictionary", "body": "<blockquote>\n  <p>I want to simplify the code to create test3 perhaps using zip, OrderedDict, and/or with a one-liner, something akin to list comprehension but for dictionaries</p>\n</blockquote>\n\n<p>If you just want a dictionary comprehension oneliner to do the job of your nested for loops, the answer is</p>\n\n<pre><code>{test2[k][j]:[2*k+1,test1[j]] for k in range(len(test2)) for j in range(len(test2[k]))}\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; test1=[2,0,-2]    \n&gt;&gt;&gt; test2=[('q', 'a', 'z'),('w', 's', 'x')]\n&gt;&gt;&gt; {test2[k][j]:[2*k+1,test1[j]] for k in range(len(test2)) for j in range(len(test2[k]))}\n{'a': [1, 0], 'q': [1, 2], 's': [3, 0], 'w': [3, 2], 'x': [3, -2], 'z': [1, -2]}\n</code></pre>\n\n<p>Personally, I think this is a little hard to read. I would stick with the loops and add some comments whats going on (and why) if I were you. </p>\n"}], "owner": {"reputation": 285, "user_id": 5685150, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/96d1d708ae7fb9bda07cc91a2ff2ca6c?s=128&d=identicon&r=PG&f=1", "display_name": "A B", "link": "https://stackoverflow.com/users/5685150/a-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1452726336, "creation_date": 1452723484, "last_edit_date": 1452726336, "question_id": 34778149, "link": "https://stackoverflow.com/questions/34778149/python-many-to-many-dictionary", "title": "Python many-to-many dictionary", "body": "<p>I need:</p>\n\n<pre><code>{'a': [1, 0],\n 'q': [1, 2],\n 's': [3, 0],\n 'w': [3, 2],\n 'x': [3, -2],\n 'z': [1, -2]}\n</code></pre>\n\n<p>I have:</p>\n\n<pre><code>test0=[1,3]\ntest1=[2,0,-2]    \ntest2=[('q', 'a', 'z'),('w', 's', 'x')]\n</code></pre>\n\n<p>Each letter in test2 is assigned a first number that represents the position of its triple within all the triples (from test0) and a second number that represents its position within the triple (from test1).</p>\n\n<p>So, for example, ('q', 'a', 'z') is the first triple and so its first dictionary value will be 1.  The second dictionary value will be 2,0,-2 to get:</p>\n\n<pre><code>'q':[1,2],\n'a':[1,0],\n'z':[1,-2]\n</code></pre>\n\n<p>Similarly, ('w', 's', 'x') is the second triple, so its first dictionary value will be 3.   The second dictionary value will be 2,0,-2 to get:</p>\n\n<pre><code>'w':[3,2],\n's':[3,0],\n'x':[3,-2]\n</code></pre>\n\n<p>What is the best way to do this?</p>\n"}, {"tags": ["python", "regex", "string", "pandas"], "comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 1, "creation_date": 1452724015, "post_id": 34778113, "comment_id": 57301485, "body": "What is your expecting output dataframe with your input data?"}, {"owner": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1452732893, "post_id": 34778113, "comment_id": 57304729, "body": "@jezrael Hi please see my edited post."}], "answers": [{"comments": [{"owner": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "edited": false, "score": 0, "creation_date": 1453230007, "post_id": 34873132, "comment_id": 57507360, "body": "Thank you jezrael. Pure mastery"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "edited": false, "score": 1, "creation_date": 1453230170, "post_id": 34873132, "comment_id": 57507457, "body": "Glad can help you! Good luck! And you can check <a href=\"http://stackoverflow.com/q/34857379/2901002\">this</a> and you can upvote this question too. thanks."}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 1, "last_activity_date": 1453196116, "creation_date": 1453196116, "answer_id": 34873132, "question_id": 34778113, "link": "https://stackoverflow.com/questions/34778113/very-difficult-extraction-of-information-from-a-string-in-a-pandas-dataframe/34873132#34873132", "title": "very difficult extraction of information from a string in a pandas dataframe", "body": "<p>You can try this solution, but it was very complicated and in data cannot be char <code>|</code>, because I used it for splitting:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport io\nimport re\n\ntemp=u\"\"\"5%\n4\n2.1\n4.000\n0.100% BuyType: 2%,SellType: 29%\nSellType 24%, fee type 0.2%, Non-fee 2%\nBuyType: NONE Sell Agent 3 buy agent 4\"\"\"\n\n#after testing replace io.StringIO(temp) to filename\ndf = pd.read_csv(io.StringIO(temp), sep=\"|\", header=None, names=['s'])\nprint df\n\ndef f(x):\n    return re.sub(r\"([\\d\\.]+|NONE)%?\", r\"\\1|\", ''.join(x)).rstrip('|')\n\n#function - info http://stackoverflow.com/q/34857379/2901002 \ndf['s1'] = df.apply(f, axis=1)\n\n#remove , : - arbitary whitespace(\\s+)\ndf['s1'] = df['s1'].str.replace(r'[-,:\\s+]', '').str.lower()\nprint df\n                                         s                                s1\n0                                       5%                                 5\n1                                        4                                 4\n2                                      2.1                               2.1\n3                                    4.000                             4.000\n4         0.100% BuyType: 2%,SellType: 29%         0.100|buytype2|selltype29\n5  SellType 24%, fee type 0.2%, Non-fee 2%     selltype24|feetype0.2|nonfee2\n6   BuyType: NONE Sell Agent 3 buy agent 4  buytypenone|sellagent3|buyagent4\n</code></pre>\n\n    \n\n<pre><code>#split data by | to new df\ndf = pd.DataFrame([ x.split('|') for x in df['s1'].tolist() ])\n\n#stack data to 2 columns\ndf = df.stack().reset_index(level=0)\ndf.columns = ['id','data']\n\n#extract number\ndf['number'] = df['data'].str.replace(r'[a-z]', '')\n#extract none\ndf.loc[df.data.str[-4:].str.contains('none'), 'number'] = 'NONE'\n\n#extract text\ndf['text'] = df['data'].str.replace(r'\\d*\\.\\d+|\\d+', '')\n\n#add text to empty values of column text\ndf.loc[df['text'].str.len() == 0, 'text'] = 'one' \n#remove none\ndf.loc[df.data.str[-4:].str.contains('none'), 'text'] = \ndf.loc[df.data.str[-4:].str.contains('none'), 'text'].str[:-4]\n</code></pre>\n\n\n\n<pre><code>print df\n\n   id         data number       text\n0   0            5      5        one\n0   1            4      4        one\n0   2          2.1    2.1        one\n0   3        4.000  4.000        one\n0   4        0.100  0.100        one\n1   4     buytype2      2    buytype\n2   4   selltype29     29   selltype\n0   5   selltype24     24   selltype\n1   5   feetype0.2    0.2    feetype\n2   5      nonfee2      2     nonfee\n0   6  buytypenone   NONE    buytype\n1   6   sellagent3      3  sellagent\n2   6    buyagent4      4   buyagent\n\nprint df.pivot(index='id', columns='text', values='number').fillna(0)\n\ntext buyagent buytype feetype nonfee    one sellagent selltype\nid                                                            \n0           0       0       0      0      5         0        0\n1           0       0       0      0      4         0        0\n2           0       0       0      0    2.1         0        0\n3           0       0       0      0  4.000         0        0\n4           0       2       0      0  0.100         0       29\n5           0       0     0.2      2      0         0       24\n6           4    NONE       0      0      0         3        0\n</code></pre>\n"}], "owner": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 34873132, "answer_count": 1, "score": 1, "last_activity_date": 1453196116, "creation_date": 1452723307, "last_edit_date": 1452732875, "question_id": 34778113, "link": "https://stackoverflow.com/questions/34778113/very-difficult-extraction-of-information-from-a-string-in-a-pandas-dataframe", "title": "very difficult extraction of information from a string in a pandas dataframe", "body": "<p>Hi I have a large pandas dataframe that contains the following information:</p>\n\n<blockquote>\n  <p>5%<br>\n  4<br>\n  2.1<br>\n  4.000<br>\n  0.100%\n  BuyType: 2%,SellType: 29%<br>\n  SellType 24%, fee type 0.2%, Non-fee 2%<br>\n  BuyType: NONE Sell Agent 3 buy agent 4\n  ...</p>\n</blockquote>\n\n<p>that is, this column gives me some information about a percentage that I need to extract.</p>\n\n<p>The first 5 rows are straightforward to understand, even if there is sometime the % and sometime not.</p>\n\n<p>The last three are more tricky, however there is always the sequence</p>\n\n<pre><code>SOME CODE_ID - SOME NUMBER \n</code></pre>\n\n<p>Is there a way to extract this information in Pandas? Say to store the different percentages in the corresponding variables (here BuyType equals 2 in row 6 and NONE in the last one, etc).</p>\n\n<p>Maybe one strategy is to get the full set of <code>CODE_ID (non numeric)</code>, and then pass this to some regex function. I have no idea how to do that. </p>\n\n<p>the output should be:</p>\n\n<pre><code>one  buytype  selltype  feetype  nonfee  sellagent  buyagent\n5  0  0  0  0  0\n4 0 0 0 0 0\n2.1 0 0 0 0 0\n4 0 0 0 0 0 \n0.1 0 0 0 0 0\n0 2 29 0 0 0 \n0 0 0 24 0.2 2 0\n0 NONE 0 0 0 3 4\n</code></pre>\n\n<p>Any suggestion is welcome\nMany thanks!!!                 </p>\n"}, {"tags": ["python", "pip", "cvxpy"], "answers": [{"comments": [{"owner": {"reputation": 596, "user_id": 3926335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/931f346dad9a75758fb998efea8e873f?s=128&d=identicon&r=PG&f=1", "display_name": "steven", "link": "https://stackoverflow.com/users/3926335/steven"}, "edited": false, "score": 0, "creation_date": 1561081613, "post_id": 34908729, "comment_id": 99956694, "body": "I apologize for this issue. We&#39;re dropping <code>multiprocess</code> in the next major update."}], "tags": [], "owner": {"reputation": 702, "user_id": 152244, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/633a7db9061befd7f459e36b46db90ea?s=128&d=identicon&r=PG", "display_name": "Literal", "link": "https://stackoverflow.com/users/152244/literal"}, "is_accepted": false, "score": 1, "last_activity_date": 1454194847, "last_edit_date": 1454194847, "creation_date": 1453317860, "answer_id": 34908729, "question_id": 34778071, "link": "https://stackoverflow.com/questions/34778071/upgrading-cvxpy-using-pip3-failed/34908729#34908729", "title": "Upgrading cvxpy Using pip3 Failed", "body": "<p>Are you under Python 3.5?</p>\n\n<p>If so it seems like the dependency to <code>multiprocess</code> has not been updated to python 3.5. However the installation scripts for 3.4 worked for me:</p>\n\n<ol>\n<li>Go to <a href=\"https://pypi.python.org/pypi/multiprocess\" rel=\"nofollow\">https://pypi.python.org/pypi/multiprocess</a> and download the 0.70.3.tgz file (bottom of the page)</li>\n<li><code>tar -xvzf multiprocess-0.70.3.tgz</code></li>\n<li><code>cd multiprocess-0.70.3</code> then <code>mv py3.4 py3.5</code></li>\n<li><code>python3 setup.py build</code></li>\n<li><code>python3 setup.py install</code></li>\n<li><code>pip3 install cvxpy</code></li>\n<li><code>pip3 install nose</code></li>\n<li><code>nosetests cvxpy</code> should now work. </li>\n</ol>\n"}], "owner": {"reputation": 21, "user_id": 5786853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0940701e3480139bdbb0ec533c4a0a68?s=128&d=identicon&r=PG&f=1", "display_name": "user111741", "link": "https://stackoverflow.com/users/5786853/user111741"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1517409024, "creation_date": 1452723059, "last_edit_date": 1517409024, "question_id": 34778071, "link": "https://stackoverflow.com/questions/34778071/upgrading-cvxpy-using-pip3-failed", "title": "Upgrading cvxpy Using pip3 Failed", "body": "<p>I got this error when upgrading cvxpy using pip3. Does anybody know how to fix this? Thanks. The platform is OS X 10.11.2.</p>\n\n<pre><code>Collecting cvxpy\n  Using cached cvxpy-0.3.5.tar.gz\nRequirement already satisfied (use --upgrade to upgrade): cvxopt&gt;=1.1.6 in /usr/local/lib/python3.5/site-packages (from cvxpy)\nRequirement already satisfied (use --upgrade to upgrade): ecos&gt;=2 in /usr/local/lib/python3.5/site-packages (from cvxpy)\nRequirement already satisfied (use --upgrade to upgrade): scs&gt;=1.1.3 in /usr/local/lib/python3.5/site-packages (from cvxpy)\nCollecting multiprocess (from cvxpy)\n  Using cached multiprocess-0.70.3.tgz\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 20, in &lt;module&gt;\n      File \"/private/var/folders/94/v_wjnx7x62n8x7dfr_734zy80000gn/T/pip-build-bwub59jx/multiprocess/setup.py\", line 66, in &lt;module&gt;\n        meta_fh = open(os.path.join(here, '%s/__init__.py' % libdir))\n    FileNotFoundError: [Errno 2] No such file or directory: '/private/var/folders/94/v_wjnx7x62n8x7dfr_734zy80000gn/T/pip-build-bwub59jx/multiprocess/py3.5/multiprocess/__init__.py'\n\n    ----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/94/v_wjnx7x62n8x7dfr_734zy80000gn/T/pip-build-bwub59jx/multiprocess\n</code></pre>\n"}, {"tags": ["python", "deb"], "answers": [{"comments": [{"owner": {"reputation": 6491, "user_id": 410823, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/08ab32adfbfa32a2f52733864c72c0e6?s=128&d=identicon&r=PG", "display_name": "Skarab", "link": "https://stackoverflow.com/users/410823/skarab"}, "edited": false, "score": 0, "creation_date": 1452758525, "post_id": 34778117, "comment_id": 57312730, "body": "Enforcing the installation of the newest pip sped things a little bit (debian/rules): override_dh_virtualenv: \tdh_virtualenv --preinstall=&#39;pip&gt;7&#39;"}], "tags": [], "owner": {"reputation": 4758, "user_id": 63392, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/783f38ba95299a440cd8e6bc7617fc3b?s=128&d=identicon&r=PG", "display_name": "Pankrat", "link": "https://stackoverflow.com/users/63392/pankrat"}, "is_accepted": true, "score": 2, "last_activity_date": 1453386324, "last_edit_date": 1453386324, "creation_date": 1452723324, "answer_id": 34778117, "question_id": 34778044, "link": "https://stackoverflow.com/questions/34778044/what-can-i-do-to-speed-up-deb-pkg-building-with-dh-virtualenv/34778117#34778117", "title": "What can I do to speed up deb pkg building with dh-virtualenv?", "body": "<p>If building dependencies is the bottleneck, try upgrading to the latest version of pip. The later versions store pre-built packages in a local wheel cache making subsequent builds much faster.</p>\n\n<p>If downloading packages takes long, you should <a href=\"https://pip.pypa.io/en/stable/user_guide/#installing-from-local-packages\" rel=\"nofollow\">copy your dependencies to a local folder on your build-server</a>. Make sure you copy the packages to local folder on the file system. While pip supports access via <code>--find-links=http://your-local-package-host/</code>, collecting dependencies is still rather slow unless you set up https &amp; proper caching headers for the package host.</p>\n\n<p>If installing the app itself is taking long (hangs after \"Processing /some/folder\") then you're experiencing the <a href=\"https://github.com/pypa/pip/issues/2195\" rel=\"nofollow\">slow copy pip installation issue</a>. You could try to work around that by replacing <code>pip install .</code> with <code>python setup.py sdist</code> and <code>pip install dist/my-shiny-app-1.0.tar.gz</code> in dh-virtualenv.</p>\n"}], "owner": {"reputation": 6491, "user_id": 410823, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/08ab32adfbfa32a2f52733864c72c0e6?s=128&d=identicon&r=PG", "display_name": "Skarab", "link": "https://stackoverflow.com/users/410823/skarab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 619, "favorite_count": 0, "accepted_answer_id": 34778117, "answer_count": 1, "score": 0, "last_activity_date": 1453386324, "creation_date": 1452722953, "last_edit_date": 1452758410, "question_id": 34778044, "link": "https://stackoverflow.com/questions/34778044/what-can-i-do-to-speed-up-deb-pkg-building-with-dh-virtualenv", "title": "What can I do to speed up deb pkg building with dh-virtualenv?", "body": "<p>I am looking for techniques to speed up building a deb pkg from my python application:</p>\n\n<pre><code>Source: my-shiny-app\nSection: python\nPriority: extra\nMaintainer: me &lt;me_write_me@me.com&gt;\nBuild-Depends: debhelper (&gt;= 9), python, dh-virtualenv (&gt;= 0.6-1)\nStandards-Version: 3.9.5\n\nPackage: my-shiny-app\nArchitecture: amd64\nPre-Depends: dpkg (&gt;= 1.16.1), python2.7, ${misc:Pre-Depends}\nDepends: ${python:Depends}, ${misc:Depends}, libzmq1\nDescription: my-app\n</code></pre>\n\n<p>The most of the time takes building python libraries that my application depends on.</p>\n\n<p>UPDATE:</p>\n\n<p>I have found <a href=\"https://github.com/spotify/dh-virtualenv/issues/94\" rel=\"nofollow\">a ticket in dh-virtualenv github</a>. They suggest to use pip7. Pip7 supports local caching of wheel packages (copy&amp;paste from the ticket):</p>\n\n<pre><code>#!/usr/bin/make -f\n\n%:\n    dh $@ --with python-virtualenv\n\n\nWHEEL_ROOT:=    file:///var/wheelhouse\n\noverride_dh_virtualenv:\n    pip wheel -w=$(WHEEL_ROOT) -f $(WHEEL_ROOT) -r requirements.txt\n    dh_virtualenv \\\n        --extra-pip-arg \"--use-wheel\" \\\n        --extra-pip-arg \"--find-links=$(WHEEL_ROOT)\"\n</code></pre>\n\n<p>Problem is: the created deb package does not include python and libraries.</p>\n"}, {"tags": ["python", "python-3.x", "initialization", "subclass"], "answers": [{"tags": [], "owner": {"reputation": 1708, "user_id": 5019818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e9c5d2b171b2b5cdaa2f015661ef2614?s=128&d=identicon&r=PG&f=1", "display_name": "Uri Shalit", "link": "https://stackoverflow.com/users/5019818/uri-shalit"}, "is_accepted": false, "score": 1, "last_activity_date": 1452727339, "last_edit_date": 1452727339, "creation_date": 1452723187, "answer_id": 34778100, "question_id": 34777981, "link": "https://stackoverflow.com/questions/34777981/how-do-you-automate-setting-self-attributes-in-init-of-python-class/34778100#34778100", "title": "how do you automate setting self attributes in init of python class?", "body": "<p>Use kwargs instead of args</p>\n\n<pre><code>class BaseObject(object):\n    def __init__(self, **kwargs):\n        for argname, arg in kwargs.iteritems():\n            setattr(self, argname, arg)\n\nclass Sub(BaseObject):\n    def __init__(self, argone, argtwo, argthree, argfour):\n        super(Sub, self).__init__(argone=argone, argtwo=argtwo,   argthree=argthree)\n</code></pre>\n\n<p>Then you can do:</p>\n\n<pre><code>s = Sub('a', 'b', 'c')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1452723951, "post_id": 34778208, "comment_id": 57301466, "body": "that&#39;s interesting too. why delete args[&#39;self&#39;], I thought that was just a placeholder for it to know it is instance method?"}, {"owner": {"reputation": 524, "user_id": 5360405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f188ee3a332cd0fffec25cf5f9ab0737?s=128&d=identicon&r=PG&f=1", "display_name": "JBGreen", "link": "https://stackoverflow.com/users/5360405/jbgreen"}, "reply_to_user": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 1, "creation_date": 1452724199, "post_id": 34778208, "comment_id": 57301569, "body": "otherwise &#39;s.self&#39; will be assigned. it won&#39;t break anything but it&#39;s not particularly useful. try removing &#39;del args[&#39;self&#39;]&#39;, you&#39;ll see that &#39;s&#39; and s.self&#39; will point to the same object."}, {"owner": {"reputation": 524, "user_id": 5360405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f188ee3a332cd0fffec25cf5f9ab0737?s=128&d=identicon&r=PG&f=1", "display_name": "JBGreen", "link": "https://stackoverflow.com/users/5360405/jbgreen"}, "reply_to_user": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 1, "creation_date": 1452724410, "post_id": 34778208, "comment_id": 57301663, "body": "the &#39;if &#39;self&#39; in args&#39; condition is kinda unnecessary, I removed it"}], "tags": [], "owner": {"reputation": 524, "user_id": 5360405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f188ee3a332cd0fffec25cf5f9ab0737?s=128&d=identicon&r=PG&f=1", "display_name": "JBGreen", "link": "https://stackoverflow.com/users/5360405/jbgreen"}, "is_accepted": false, "score": 1, "last_activity_date": 1452724429, "last_edit_date": 1452724429, "creation_date": 1452723768, "answer_id": 34778208, "question_id": 34777981, "link": "https://stackoverflow.com/questions/34777981/how-do-you-automate-setting-self-attributes-in-init-of-python-class/34778208#34778208", "title": "how do you automate setting self attributes in init of python class?", "body": "<pre><code>import inspect\n\nclass BaseObject(object):\n    def __init__(self, args):\n        del args['self']\n        self.__dict__.update(args)\n\nclass Sub(BaseObject):\n    def __init__(self, argone, argtwo, argthree, argfour):\n        args = inspect.getargvalues(inspect.currentframe()).locals\n        super(Sub, self).__init__(args)\n\ns = Sub(1, 2, 3, 4)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1452725512, "post_id": 34778314, "comment_id": 57302197, "body": "that&#39;s coldblooded, didn&#39;t expect it to get better. I&#39;ll try not to pick answers so quick"}, {"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1452725559, "post_id": 34778314, "comment_id": 57302215, "body": "how did you know to use that portion of stack? you just use ipdb and check inspect.stack()?"}, {"owner": {"reputation": 13750, "user_id": 3830997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lg47I.png?s=128&g=1", "display_name": "Matthias Fripp", "link": "https://stackoverflow.com/users/3830997/matthias-fripp"}, "reply_to_user": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 1, "creation_date": 1452729297, "post_id": 34778314, "comment_id": 57303633, "body": "I figured out part of this a few months ago when I wrote a function to dump new variables into the caller&#39;s namespace. I think I did it by trial and error with hints from the documentation at <a href=\"https://docs.python.org/2/library/inspect.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/inspect.html</a>. The most useful info was: (1) &quot;[stack() returns] a list of frame records for the caller\u2019s stack. The first entry in the returned list represents the caller; the last entry represents the outermost call on the stack.&quot; Thus stack()[1]. (2) &quot;When [stack() returns] &#39;frame records,&#39; each record is a tuple of six items: the frame object,...&quot;. Thus stack()[1][0]."}], "tags": [], "owner": {"reputation": 13750, "user_id": 3830997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lg47I.png?s=128&g=1", "display_name": "Matthias Fripp", "link": "https://stackoverflow.com/users/3830997/matthias-fripp"}, "is_accepted": true, "score": 1, "last_activity_date": 1452730160, "last_edit_date": 1452730160, "creation_date": 1452724222, "answer_id": 34778314, "question_id": 34777981, "link": "https://stackoverflow.com/questions/34777981/how-do-you-automate-setting-self-attributes-in-init-of-python-class/34778314#34778314", "title": "how do you automate setting self attributes in init of python class?", "body": "<p><code>BaseObject.__init__()</code> needs to discover the names of the arguments to <code>Sub.__init__()</code> somehow. The explicit approach would be to pass a dictionary of arguments to <code>BaseObject.__init__()</code>, as Uri Shalit suggested. Alternatively, you can use the <code>inspect</code> module to do this magically, with no extra code in your subclass. That comes with the usual downsides of magic (\"how'd that happen?\").</p>\n\n<pre><code>import inspect\n\nclass BaseObject(object):\n    def __init__(self):\n        frame = inspect.stack()[1][0]\n        args, _, _, values = inspect.getargvalues(frame)\n        for key in args:\n            setattr(self, key, values[key])\n\nclass Sub(BaseObject):\n    def __init__(self, argone, argtwo, argthree, argfour):\n        super(Sub, self).__init__()\n</code></pre>\n\n<p>This works fine as written, but if you don't define <code>Sub.__init__()</code>, this will grab the arguments from the wrong place (i.e., from the function where you call Sub() to create an object). You might be able to use <code>inspect</code> to doublecheck that the caller is an <code>__init__()</code> function of a subclass of <code>BaseObject</code>. Or you could just move this code to a separate method, e.g., <code>set_attributes_from_my_arguments()</code> and call that from your subclasses' <code>__init__()</code> methods when you want this behavior.</p>\n"}], "owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 34778314, "answer_count": 3, "score": 1, "last_activity_date": 1452730160, "creation_date": 1452722710, "last_edit_date": 1452723467, "question_id": 34777981, "link": "https://stackoverflow.com/questions/34777981/how-do-you-automate-setting-self-attributes-in-init-of-python-class", "title": "how do you automate setting self attributes in init of python class?", "body": "<p>I'd like to automate unpacking init variables once and for all. My thought process is to unpack all and use setattr with the name of the variable as the attribute name.</p>\n\n<pre><code>class BaseObject(object):\n    def __init__(self, *args):\n        for arg in args:\n            setattr(self, argname, arg)\n\nclass Sub(BaseObject):\n    def __init__(self, argone, argtwo, argthree, argfour):\n        super(Sub, self).__init__(args*)\n</code></pre>\n\n<p>Then you should be able to do:</p>\n\n<pre><code>In [3]: mysubclass = Sub('hi', 'stack', 'overflow', 'peeps')\n\nIn [4]: mysubclass.argtwo\nOut[4]: 'stack'\n</code></pre>\n\n<p>Based on the param for 'stack' having been named <code>argtwo</code>.</p>\n\n<p>This way you'll automatically have access but you could still override like below:</p>\n\n<pre><code>class Sub(BaseObject):\n    def __init__(self, argone, argtwo, argthree, argfour):\n        super(Sub, self).__init__(arglist)\n        clean_arg_three = process_arg_somehow(argthree)\n        self.argthree   = clean_arg_three\n</code></pre>\n\n<p>Clearly I'm stuck on how to pass the actual name of the param (argone, argtwo, etc) as a string to <code>setattr</code>, and also how to properly pass the args into the <code>super init</code> (the <code>args</code> of <code>super(Sub, self).__init__(args*)</code>)</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 5696676, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2fe825f276c969cfbff2b68671897597?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/5696676/jim"}, "edited": false, "score": 0, "creation_date": 1452783722, "post_id": 34778590, "comment_id": 57328904, "body": "is there any example u could give within my code since i have tried that and its still not moving"}], "tags": [], "owner": {"reputation": 37736, "user_id": 2153571, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d5573368e2aa8dd2039de1c545ce2b9c?s=128&d=identicon&r=PG", "display_name": "juzzlin", "link": "https://stackoverflow.com/users/2153571/juzzlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1452725512, "creation_date": 1452725512, "answer_id": 34778590, "question_id": 34777962, "link": "https://stackoverflow.com/questions/34777962/how-to-make-your-sprite-jump-in-pygame/34778590#34778590", "title": "How to make your sprite jump in pygame", "body": "<p>I have never used pygame, but in general you must implement a simple physics integration loop that periodically decrements gravity from the vertical velocity and brings the object down:</p>\n\n<pre><code>vspeed = vspeed - gravity * timeStep\ny = y + vspeed * timeStep\n</code></pre>\n\n<p>If you update at 60 Hz then timeStep would be 1/60 s.</p>\n\n<p>The jump button would set vspeed to the initial jump velocity and do nothing else:</p>\n\n<pre><code>vspeed = jumpSpeed\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 5696676, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2fe825f276c969cfbff2b68671897597?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/5696676/jim"}, "edited": false, "score": 0, "creation_date": 1452894235, "post_id": 34802267, "comment_id": 57383216, "body": "Hi thanks for ur help but if i do this my player moves down imediately and doesnt even jump up. Is my code above wrong?"}], "tags": [], "owner": {"reputation": 2924, "user_id": 4052384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2WuTl.jpg?s=128&g=1", "display_name": "Anthony Pham", "link": "https://stackoverflow.com/users/4052384/anthony-pham"}, "is_accepted": false, "score": 0, "last_activity_date": 1452897872, "last_edit_date": 1452897872, "creation_date": 1452817213, "answer_id": 34802267, "question_id": 34777962, "link": "https://stackoverflow.com/questions/34777962/how-to-make-your-sprite-jump-in-pygame/34802267#34802267", "title": "How to make your sprite jump in pygame", "body": "<p>Change this:</p>\n\n<pre><code>if key[pygame.K_UP]:\n   self.vspeed = 5\n   self.rect.y -= self.vspeed\n</code></pre>\n\n<p>So that after your <code>rect</code> moves up that it is forced to moved down. For more of a realistic jump, try adding a little curve if needed. If a jump is straight up and down, the following should work:</p>\n\n<pre><code>if key[pygame.K_UP]:\n   for i in range(20):             #Delay the falling down as loops are very fast\n       if i &lt;= 10:\n           self.rect.y -= 0.5\n       elif i &gt; 10:\n           self.rect.y += 0.5\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 5696676, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2fe825f276c969cfbff2b68671897597?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/5696676/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2108, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1452897872, "creation_date": 1452722658, "last_edit_date": 1452780526, "question_id": 34777962, "link": "https://stackoverflow.com/questions/34777962/how-to-make-your-sprite-jump-in-pygame", "title": "How to make your sprite jump in pygame", "body": "<p>Currently i have made a platform game and can move my character left and right. He starts on the ground. Any ideas on how to make him jump because i can't figure it out? At the moment my player sprite will just continuously move up if i hold down the up key or just move up and stay up if i press it. I wanted a way from him to fall back down.</p>\n\n<p>Thanks</p>\n\n<pre><code>class Player(pygame.sprite.Sprite):\ndef __init__(self,x,y,width = 65, height = 35):\n    pygame.sprite.Sprite.__init__(self)\n    self.x = x\n    self.y = y\n    self.hspeed = 2\n    self.vspeed = 0\n\n    self.images=[]\n    r0 = pygame.image.load(\"Images\\Player\\i1.png\")\n    r1 = pygame.image.load(\"Images\\Player\\i2.png\")\n    r2 = pygame.image.load(\"Images\\Player\\i3.png\")\n    r3 = pygame.image.load(\"Images\\Player\\i4.png\")\n    self.hurt = pygame.image.load(\"Images\\Player\\Hurt.png\")\n    self.images.append(r0)\n    self.images.append(r1)\n    self.images.append(r2)\n    self.images.append(r3)\n\n    self.gravity = 0.5\n    self.index = 0\n    self.image = self.images[self.index]\n    self.rect = pygame.Rect(self.x,self.y,width,height)\n\n    self.TimeNum=0\n    self.TimeTarget=10\n    self.Timer = 0\n    self.OnGround = True\n    self.trapcollision = False\n    self.enemycollision = False\n\ndef update(self, BlockListGrass, TrapList, enemygroup):\n\n    key = pygame.key.get_pressed()\n\n    if key[pygame.K_RIGHT] or key[pygame.K_LEFT]:\n        self.TimeNum+=1\n        if self.TimeNum == self.TimeTarget:\n            self.index +=1\n            if self.index &gt;= len(self.images):\n                self.index = 0\n            self.image = self.images[self.index]\n\n            self.TimeNum = 0\n\n    PlatformCollision = pygame.sprite.spritecollide(self, BlockListGrass, False )\n    for each_object in PlatformCollision:\n        if self.vspeed &gt; 0:\n            self.rect.bottom = each_object.rect.top\n        if self.vspeed &lt; 0:\n            self.rect.top = each_object.rect.bottom\n\n    TrapCollision = pygame.sprite.spritecollide(self,TrapList,False )\n    for each_object in TrapCollision:\n        self.trapcollision = True\n        if self.trapcollision:\n            self.dead()\n\n    EnemyCollision = pygame.sprite.spritecollide(self,enemygroup,False )\n    for each_object in EnemyCollision:\n        self.enemycollision = True\n        if self.enemycollision:\n            self.dead()\n\ndef dead(self):\n    self.Timer += 1\n    if self.Timer &gt;= 10:\n        self.images.append(self.hurt)\n        self.image = self.images[4]\n        self.hspeed = 0\n    if self.Timer == 50:\n        GameOver()\n\ndef move(self):\n\n    key = pygame.key.get_pressed()\n\n    if key[pygame.K_LEFT]:\n       self.rect.move_ip(-self.hspeed,0)\n\n    if key[pygame.K_RIGHT]:\n       self.rect.move_ip(self.hspeed,0)\n\n    if key[pygame.K_UP]:\n       self.vspeed = 5\n       self.rect.y -= self.vspeed\n       self.OnGround = False\n\n       if self.OnGround == False:\n           self.vspeed += self.gravity\n</code></pre>\n"}, {"tags": ["python", "rcs"], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1452724057, "post_id": 34778049, "comment_id": 57301501, "body": "One could do that just as easily by using the stdin argument to <code>communicate()</code> to pass a string."}, {"owner": {"reputation": 33, "user_id": 5786777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7722d9a9698158720fffa877b92918f?s=128&d=identicon&r=PG&f=1", "display_name": "skameswa", "link": "https://stackoverflow.com/users/5786777/skameswa"}, "edited": false, "score": 0, "creation_date": 1452726739, "post_id": 34778049, "comment_id": 57302656, "body": "@3Doubloons: I dint completely understand your suggestion. Can you pls provide more information with some example snippet if possible. Thanks."}, {"owner": {"reputation": 33, "user_id": 5786777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7722d9a9698158720fffa877b92918f?s=128&d=identicon&r=PG&f=1", "display_name": "skameswa", "link": "https://stackoverflow.com/users/5786777/skameswa"}, "edited": false, "score": 0, "creation_date": 1452801101, "post_id": 34778049, "comment_id": 57340035, "body": "@3Doubloons: Thanks for the snippet. I tried ur method as well as Charles Duffy&#39;s said and i get this error message: Traceback (most recent call last):   File &quot;testshell.py&quot;, line 16, in &lt;module&gt;     p = subprocess.Popen(cmd, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)   File &quot;/usr/local/pythonbrew/pythons/Python-2.7/lib/python2.7/subp&zwnj;&#8203;rocess.py&quot;, line 672, in <b>init</b>     errread, errwrite)   File &quot;/usr/local/pythonbrew/pythons/Python-2.7/lib/python2.7/subp&zwnj;&#8203;rocess.py&quot;, line 1201, in _execute_child     raise child_exception OSError: [Errno 2] No such file or directory"}, {"owner": {"reputation": 1980, "user_id": 25818, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Y0MlY.jpg?s=128&g=1", "display_name": "3Doubloons", "link": "https://stackoverflow.com/users/25818/3doubloons"}, "edited": false, "score": 0, "creation_date": 1452802288, "post_id": 34778049, "comment_id": 57340743, "body": "subprocess.call expects a list of strings. You can use the shlex module to split a string into its equivalent arguments, but in this case, you should just build a list of the arguments you want to pass"}, {"owner": {"reputation": 33, "user_id": 5786777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7722d9a9698158720fffa877b92918f?s=128&d=identicon&r=PG&f=1", "display_name": "skameswa", "link": "https://stackoverflow.com/users/5786777/skameswa"}, "edited": false, "score": 0, "creation_date": 1452802666, "post_id": 34778049, "comment_id": 57340972, "body": "@3Doubloons: Never mind, It worked. Thanks a lot for your help. Appreciate it !!"}], "tags": [], "owner": {"reputation": 1980, "user_id": 25818, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Y0MlY.jpg?s=128&g=1", "display_name": "3Doubloons", "link": "https://stackoverflow.com/users/25818/3doubloons"}, "is_accepted": true, "score": 0, "last_activity_date": 1452745574, "last_edit_date": 1452745574, "creation_date": 1452722969, "answer_id": 34778049, "question_id": 34777915, "link": "https://stackoverflow.com/questions/34777915/subprocess-call-command-for-executing-ci-u-filename/34778049#34778049", "title": "subprocess.call command for executing &quot;ci -u &lt;filename&gt;&quot;", "body": "<p>You can use <code>subprocess.call</code>'s stdin argument to give the subprocess a file-like object to use as its standard input (what you would enter by hand).</p>\n\n<p>The StringIO module contains a class called StringIO that offers a file-like interface to an in-memory string.</p>\n\n<p>Combining these two pieces together will let you send a specific string to ci, as if the user had entered it manually</p>\n\n<pre><code>from StringIO import StringIO\nimport subprocess\n\n...\n\nsubprocess.call(['command', 'with', 'args'], stdin=StringIO('StandardInput'))\n</code></pre>\n\n<hr>\n\n<p>Alternately, as CharlesDuffy suggests, you can use Popen and its communicate method:</p>\n\n<pre><code>import subprocess\nproc = subprocess.Popen(['command', 'with', 'args'],\n    stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\nout, err = proc.communicate('StandardInput')\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5786777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7722d9a9698158720fffa877b92918f?s=128&d=identicon&r=PG&f=1", "display_name": "skameswa", "link": "https://stackoverflow.com/users/5786777/skameswa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 34778049, "answer_count": 1, "score": 1, "last_activity_date": 1452745574, "creation_date": 1452722449, "last_edit_date": 1452734269, "question_id": 34777915, "link": "https://stackoverflow.com/questions/34777915/subprocess-call-command-for-executing-ci-u-filename", "title": "subprocess.call command for executing &quot;ci -u &lt;filename&gt;&quot;", "body": "<p>I am trying to execute a python script that first creates a new file(if it does not exist) and then executes ci(on the newly created file) to create a rcs file with initial revision number. But when I run the script it asks me for description and ending with period '.'. I want this part to be automated with a default description and create the rcs file without user input. Any help would be much appreciated. Following is my code:</p>\n\n<pre><code>import os\nimport subprocesss\n\nif os.path.isfile(location):\n\n    print \"File already exists\"\n\nelse:\n\n    f = open(location,'a')\n    subprocess.call([\"ci\", \"-u\", location])\n    f.close()\n    print \"new file has been created\"\n</code></pre>\n\n<p>I tried this and I am getting the following error:</p>\n\n<p>import os</p>\n\n<p>import subprocess</p>\n\n<p>if os.path.isfile(location):</p>\n\n<pre><code>    print \"File already exists\"\n</code></pre>\n\n<p>else:</p>\n\n<pre><code>    f = open(location,'a')\n    cmd = \"ci -u \"+location\n    p = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, close_fds=True)\n    stdout_data = p.communicate(input='change\\n.')[0]\n    f.close()\n    print \"new file has been created\"\n</code></pre>\n\n<p>Traceback (most recent call last):\n  File \"testshell.py\", line 15, in \n    p = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, close_fds=True)\n  File \"/usr/local/pythonbrew/pythons/Python-2.7/lib/python2.7/subprocess.py\", line 672, in <strong>init</strong>\n    errread, errwrite)\n  File \"/usr/local/pythonbrew/pythons/Python-2.7/lib/python2.7/subprocess.py\", line 1201, in _execute_child\n    raise child_exception\nOSError: [Errno 2] No such file or directory</p>\n"}, {"tags": ["python", "django", "laravel"], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 6526918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ee35cd7b2ad66f0e892cf25d809669?s=128&d=identicon&r=PG", "display_name": "HosseyNJF", "link": "https://stackoverflow.com/users/6526918/hosseynjf"}, "edited": false, "score": 1, "creation_date": 1578630439, "post_id": 34777937, "comment_id": 105509251, "body": "Link broken - new link: <a href=\"https://docs.djangoproject.com/en/3.0/topics/db/managers/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/3.0/topics/db/managers</a>"}], "tags": [], "owner": {"reputation": 948, "user_id": 1918818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/1099843084/picture?type=large", "display_name": "bryanph", "link": "https://stackoverflow.com/users/1918818/bryanph"}, "is_accepted": true, "score": 5, "last_activity_date": 1598727414, "last_edit_date": 1598727414, "creation_date": 1452722538, "answer_id": 34777937, "question_id": 34777856, "link": "https://stackoverflow.com/questions/34777856/django-query-scope/34777937#34777937", "title": "Django query scope", "body": "<p>You can create a custom manager/queryset, and define methods there that perform the desired operations on the queryset. Since querysets are lazy, that gives you the desired behaviour.</p>\n<p>Take a look at: <a href=\"https://docs.djangoproject.com/en/3.0/topics/db/managers/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/3.0/topics/db/managers/</a></p>\n"}], "owner": {"reputation": 6419, "user_id": 1141356, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8807954e084bcf3c7dd691d5ad27c478?s=128&d=identicon&r=PG", "display_name": "intelis", "link": "https://stackoverflow.com/users/1141356/intelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2254, "favorite_count": 0, "accepted_answer_id": 34777937, "answer_count": 1, "score": 2, "last_activity_date": 1598727414, "creation_date": 1452722231, "question_id": 34777856, "link": "https://stackoverflow.com/questions/34777856/django-query-scope", "title": "Django query scope", "body": "<p>Is there anything similar to <a href=\"https://laravel.com/docs/5.1/eloquent#query-scopes\" rel=\"nofollow\">Laravel's Query Scopes</a> in <a href=\"https://www.djangoproject.com/\" rel=\"nofollow\">Django</a>? </p>\n\n<p>If not, how can one implement one?</p>\n"}, {"tags": ["python", "next"], "comments": [{"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1452722219, "post_id": 34777813, "comment_id": 57300649, "body": "You probably don&#39;t want to use a generator comprehension then."}], "answers": [{"comments": [{"owner": {"reputation": 2955, "user_id": 5642219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ff21486f749bb8deb88cc94ac12086?s=128&d=identicon&r=PG&f=1", "display_name": "mementum", "link": "https://stackoverflow.com/users/5642219/mementum"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1452722643, "post_id": 34777852, "comment_id": 57300880, "body": "I imagined that he needs the True/False check he started with. Although &quot;text&quot; should stand for &quot;text&quot;, in a generic case &quot;text&quot; could be another type of object supporting &quot;in&quot; and &quot;pattern&quot; could be &quot;None&quot;. Returning the tuple avoids that case."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452722851, "post_id": 34777852, "comment_id": 57300975, "body": "@mementum: The information about whether a match was found is already represented by whether <code>foundPattern</code> is <code>None</code>."}, {"owner": {"reputation": 2955, "user_id": 5642219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ff21486f749bb8deb88cc94ac12086?s=128&d=identicon&r=PG&f=1", "display_name": "mementum", "link": "https://stackoverflow.com/users/5642219/mementum"}, "edited": false, "score": 1, "creation_date": 1452722991, "post_id": 34777852, "comment_id": 57301054, "body": "It is not in the generic case as explained in my previous comment. If &quot;text&quot; happens to be a dictionary and one of the &quot;patterns&quot; happens to be &quot;None&quot; and &quot;None&quot; is a key in &quot;text&quot;, there will be a match."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1452723348, "post_id": 34777852, "comment_id": 57301211, "body": "yes of coarse there are cases where my strategy falls down... I just was assuming we could take OP at face value and assume that your edge case that fails is not a valid case for OP ... (I am not sure if this is the case, however barring evidence to the contrary I am sticking with this assumptions)"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1452724692, "post_id": 34777852, "comment_id": 57301800, "body": "@mementum: That can still be fixed even if <code>None</code> might be returned on success. The trick is to create a guaranteed unique sentinel value: <code>sentinel = object()</code>, <code>foundPattern = next((pattern for pattern in patterns  if pattern in text), sentinel)</code>, then <code>foundPattern</code> is either the matching pattern or the <code>sentinel</code>, testing <code>if foundPattern is not sentinel:</code> (or <code>is sentinel</code>, as appropriate) efficiently checks whether you got a hit. The sentinel can be initialized as a keyword (kwonly on Py3 for safety) argument if desired, which avoids creating a new one on each call to the function."}], "tags": [], "owner": {"reputation": 2955, "user_id": 5642219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ff21486f749bb8deb88cc94ac12086?s=128&d=identicon&r=PG&f=1", "display_name": "mementum", "link": "https://stackoverflow.com/users/5642219/mementum"}, "is_accepted": true, "score": 1, "last_activity_date": 1452722218, "creation_date": 1452722218, "answer_id": 34777852, "question_id": 34777813, "link": "https://stackoverflow.com/questions/34777813/doing-an-assignment-within-python-next/34777852#34777852", "title": "Doing an assignment within python next()", "body": "<p>Return a tuple</p>\n\n<pre><code>retval, foundPattern = next(((True, pattern) for pattern in patterns  if pattern in text), (False, None))\n</code></pre>\n"}], "owner": {"reputation": 1403, "user_id": 2265099, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kOqmZ.jpg?s=128&g=1", "display_name": "rclakmal", "link": "https://stackoverflow.com/users/2265099/rclakmal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 34777852, "answer_count": 1, "score": 0, "last_activity_date": 1488808682, "creation_date": 1452722073, "last_edit_date": 1488808682, "question_id": 34777813, "link": "https://stackoverflow.com/questions/34777813/doing-an-assignment-within-python-next", "title": "Doing an assignment within python next()", "body": "<p>Is it possible to do an assignment within <code>next()</code> function. For an example, consider following line. It searches a <code>text</code> for a given list of <code>patterns</code> and returns <code>True</code> if a match is found. </p>\n\n<pre><code>foundPattern = next((True for pattern in patterns  if pattern in text), False)\n</code></pre>\n\n<p>Is it possible to assign the <code>pattern</code> which get matched to be used outside <code>next()</code> function. </p>\n"}, {"tags": ["python", "qt", "pyqt4"], "answers": [{"tags": [], "owner": {"reputation": 7908, "user_id": 2042388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Qz7YO.jpg?s=128&g=1", "display_name": "galinette", "link": "https://stackoverflow.com/users/2042388/galinette"}, "is_accepted": true, "score": 2, "last_activity_date": 1452723459, "last_edit_date": 1452723459, "creation_date": 1452723143, "answer_id": 34778092, "question_id": 34777786, "link": "https://stackoverflow.com/questions/34777786/connect-qpushbutton-of-qwizardpage-with-nextbutton-of-qwizard/34778092#34778092", "title": "Connect QPushButton of QWizardPage with NextButton of QWizard", "body": "<p>If <code>pageButton</code> is your page button, just:</p>\n\n<pre><code>pageButton.clicked.connect(wizard.button(QWizard.NextButton).click)\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 5500406, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/735633283209890/picture?type=large", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/5500406/pedro-monteiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 34778092, "answer_count": 1, "score": 2, "last_activity_date": 1452723459, "creation_date": 1452721957, "question_id": 34777786, "link": "https://stackoverflow.com/questions/34777786/connect-qpushbutton-of-qwizardpage-with-nextbutton-of-qwizard", "title": "Connect QPushButton of QWizardPage with NextButton of QWizard", "body": "<p>how could I connect a QPushButton of a QWizardPage with the Next Button of Qwizard?</p>\n\n<p>What I want is: when I click in the QPushButton created in the QWizardPage, the page goes to the next screen.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 2682, "user_id": 5040035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sFkvw.jpg?s=128&g=1", "display_name": "plamut", "link": "https://stackoverflow.com/users/5040035/plamut"}, "edited": false, "score": 0, "creation_date": 1452722542, "post_id": 34777831, "comment_id": 57300825, "body": "FWIW, the OP&#39;s code actually works in Python3.2, though the error indeed occurs in Python3.3+"}, {"owner": {"reputation": 624, "user_id": 4709695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/26b4a5cf96926a9c3b6f030d0006d9f0?s=128&d=identicon&r=PG&f=1", "display_name": "Sidahmed", "link": "https://stackoverflow.com/users/4709695/sidahmed"}, "edited": false, "score": 2, "creation_date": 1452722595, "post_id": 34777831, "comment_id": 57300854, "body": "Thanks bro, it seems that it is working. please, tell me, how does python pass the rest of the arguments to <b>init</b> , can you explain the process to me (if you have time of course) ??!!"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 3, "creation_date": 1452722983, "post_id": 34777831, "comment_id": 57301048, "body": "The call to <code>__init__</code> isn&#39;t made by <code>object.__new__</code>, but rather by <code>type.__call__</code> (bound to the class object). So <code>object.__new__</code> doesn&#39;t need to see the same arguments that your <code>__init__</code> function expects."}, {"owner": {"reputation": 91, "user_id": 101677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ac19a7170b756da6209be77c2ede77?s=128&d=identicon&r=PG", "display_name": "Pawel Kolodziej", "link": "https://stackoverflow.com/users/101677/pawel-kolodziej"}, "edited": false, "score": 2, "creation_date": 1509193620, "post_id": 34777831, "comment_id": 80925864, "body": "@Blckknght do you know why it works that way in Python3.3+? Is it described somewhere? I could not find description of this behavior in the doc?"}, {"owner": {"reputation": 91, "user_id": 101677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ac19a7170b756da6209be77c2ede77?s=128&d=identicon&r=PG", "display_name": "Pawel Kolodziej", "link": "https://stackoverflow.com/users/101677/pawel-kolodziej"}, "edited": false, "score": 5, "creation_date": 1509214930, "post_id": 34777831, "comment_id": 80932413, "body": "I think I&#39;ve an answer now. It&#39;s hidden in comment in typeobject.c: <a href=\"https://github.com/python/cpython/blob/5a4bbcd479ce86f68bbe12bc8c16e3447f32e13a/Objects/typeobject.c#L3538\" rel=\"nofollow noreferrer\">github.com/python/cpython/blob/&hellip;</a>"}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 40, "last_activity_date": 1452725113, "last_edit_date": 1452725113, "creation_date": 1452722146, "answer_id": 34777831, "question_id": 34777773, "link": "https://stackoverflow.com/questions/34777773/typeerror-object-takes-no-parameters-after-defining-new/34777831#34777831", "title": "TypeError: object() takes no parameters after defining __new__", "body": "<p>In Python 3.3 and later, if you're overriding both <code>__new__</code> and <code>__init__</code>, you need to avoid passing any extra arguments to the <code>object</code> methods you're overriding. If you only override one of those methods, it's allowed to pass extra arguments to the other one (since that usually happens without your help).</p>\n\n<p>So, to fix your class, change the <code>__new__</code> method like so:</p>\n\n<pre><code>def __new__(cls, nom, prenom):\n    print(\"Appel de la m\u00e9thode __new__ de la classe {}\".format(cls))\n    return object.__new__(cls) # don't pass extra arguments here!\n</code></pre>\n"}], "owner": {"reputation": 624, "user_id": 4709695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/26b4a5cf96926a9c3b6f030d0006d9f0?s=128&d=identicon&r=PG&f=1", "display_name": "Sidahmed", "link": "https://stackoverflow.com/users/4709695/sidahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8265, "favorite_count": 11, "accepted_answer_id": 34777831, "answer_count": 1, "score": 24, "last_activity_date": 1590660684, "creation_date": 1452721906, "last_edit_date": 1590660684, "question_id": 34777773, "link": "https://stackoverflow.com/questions/34777773/typeerror-object-takes-no-parameters-after-defining-new", "title": "TypeError: object() takes no parameters after defining __new__", "body": "<p>I really don't get where the error is in this little piece of code: </p>\n\n<pre><code>class Personne:\n    def __init__(self, nom, prenom):\n        print(\"Appel de la m\u00e9thode __init__\")\n        self.nom = nom\n        self.prenom = prenom\n\n    def __new__(cls, nom, prenom):\n        print(\"Appel de la m\u00e9thode __new__ de la classe {}\".format(cls))\n        return object.__new__(cls, nom, prenom)\n\npersonne = Personne(\"Doe\", \"John\")\n</code></pre>\n\n<p>It is giving me the error: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/bilal/Lien vers python/21_meta_classes/1_instanciation.py\", line 21, in &lt;module&gt;\n    personne = Personne(\"Doe\", \"John\")\n  File \"/home/bilal/Lien vers python/21_meta_classes/1_instanciation.py\", line 14, in __new__\n    return object.__new__(cls, nom, prenom)\nTypeError: object() takes no parameters\n</code></pre>\n"}, {"tags": ["python", "mysql", "django", "pymysql"], "answers": [{"comments": [{"owner": {"reputation": 14421, "user_id": 1888983, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/Y6tnm.png?s=128&g=1", "display_name": "jozxyqk", "link": "https://stackoverflow.com/users/1888983/jozxyqk"}, "edited": false, "score": 1, "creation_date": 1478124834, "post_id": 34778155, "comment_id": 68033139, "body": "And for the DATABASE entry: <a href=\"http://www.marinamele.com/taskbuster-django-tutorial/install-and-configure-mysql-for-django\" rel=\"nofollow noreferrer\"><code>&#39;ENGINE&#39;: &#39;django.db.backends.mysql&#39;,</code></a>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "is_accepted": false, "score": 69, "last_activity_date": 1480243537, "last_edit_date": 1480243537, "creation_date": 1452723503, "answer_id": 34778155, "question_id": 34777755, "link": "https://stackoverflow.com/questions/34777755/how-to-config-django-using-pymysql-as-driver/34778155#34778155", "title": "How to config Django using pymysql as driver?", "body": "<p><a href=\"https://web.archive.org/web/20160516011717/http://www.codes9.com/programing-language/python/python3-5-django1-8-5-the-solution-of-the-import-pymysql-pymysql-install_as_mysqldb-installation-2\" rel=\"noreferrer\">You can import <code>pymsql</code> so it presents as MySQLdb</a>. You'll need to do this <em>before</em> any django code is run, so put this in your <code>manage.py</code> file</p>\n\n<pre><code>import pymysql\npymysql.install_as_MySQLdb()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1123, "user_id": 153262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9828f3e52e021090af3a4e635897eb7?s=128&d=identicon&r=PG", "display_name": "avelis", "link": "https://stackoverflow.com/users/153262/avelis"}, "is_accepted": false, "score": 1, "last_activity_date": 1541613109, "creation_date": 1541613109, "answer_id": 53195032, "question_id": 34777755, "link": "https://stackoverflow.com/questions/34777755/how-to-config-django-using-pymysql-as-driver/53195032#53195032", "title": "How to config Django using pymysql as driver?", "body": "<p>The short answer is no they are not the same.</p>\n\n<p>The <strong>engine</strong>, in a Django context, is in reference to RDBMS technology. The <strong>driver</strong> is the library developed to facilitate communication to that actual technology when up and running. Letting Django know what engine to use tells it how to translate the ORM functions from a backend perspective. The developer doesn't see a change in ORM code but Django will know how to convert those actions to a language the technology understands. The driver then takes those actions (e.g. selects, updates, deletes) and sends them over to a running instance to facilitate the action.</p>\n"}], "owner": {"reputation": 301, "user_id": 1815662, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b3d9403862350b42704838d555088454?s=128&d=identicon&r=PG", "display_name": "zhy1378", "link": "https://stackoverflow.com/users/1815662/zhy1378"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16286, "favorite_count": 11, "answer_count": 2, "score": 19, "last_activity_date": 1602518210, "creation_date": 1452721838, "last_edit_date": 1475077213, "question_id": 34777755, "link": "https://stackoverflow.com/questions/34777755/how-to-config-django-using-pymysql-as-driver", "title": "How to config Django using pymysql as driver?", "body": "<p>I'm new to Django. It wasted me whole afternoon to config the MySQL engine. I am very confused about the database engine and the database driver. Is the <strong>engine</strong> also the <strong>driver</strong>?  All the tutorial said that the ENGINE should be 'django.db.backends.mysql', but how the ENGINE decide which driver is used to connect MySQL? </p>\n\n<p>Every time it says 'django.db.backends.mysql', sadly I can't install MySQLDb and mysqlclient, but PyMysql and the official <em>mysql connector 2.1.3</em> has been installed. How could I set the driver to PyMysql or mysql connector?</p>\n\n<p>Many thanks!</p>\n\n<ul>\n<li>OS: OS X Al Capitan</li>\n<li>Python: 3.5</li>\n<li>Django: 1.9</li>\n</ul>\n\n<p>This question is not yet solved:\nIs the <strong>ENGINE</strong> also the <strong>DRIVER</strong>? </p>\n"}, {"tags": ["python", "opencv", "scikit-learn"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 4, "creation_date": 1452722218, "post_id": 34777743, "comment_id": 57300648, "body": "if you dont know how the image should look like? no. you could try some heuristics like searching blue/white colors to find the sky and assume it to be at the top of the image, but probably those wont work very well ;)"}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 1, "creation_date": 1452749214, "post_id": 34777743, "comment_id": 57309058, "body": "is this image rotated or not? <a href=\"http://images.wisegeek.com/abstract-art.jpg\" rel=\"nofollow noreferrer\">images.wisegeek.com/abstract-art.jpg</a>"}, {"owner": {"reputation": 3222, "user_id": 1320596, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a316f002a5d080a613dce89a4ad8f9a9?s=128&d=identicon&r=PG", "display_name": "Mr. 1.0", "link": "https://stackoverflow.com/users/1320596/mr-1-0"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1452788617, "post_id": 34777743, "comment_id": 57332520, "body": "I should have been clear. I have the 4 images saved, and I would like to match the new random Image against the list to determine a match."}, {"owner": {"reputation": 786, "user_id": 5022365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec8cb396d26f840b7b772382d8e3ff70?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Patel", "link": "https://stackoverflow.com/users/5022365/sagar-patel"}, "edited": false, "score": 0, "creation_date": 1452836109, "post_id": 34777743, "comment_id": 57352554, "body": "Try EXIF library.It will give you orientation of image."}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 4812773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a24812be9bfcb835e5c688c667bbbc4b?s=128&d=identicon&r=PG&f=1", "display_name": "Rachel L", "link": "https://stackoverflow.com/users/4812773/rachel-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1452736080, "creation_date": 1452736080, "answer_id": 34780369, "question_id": 34777743, "link": "https://stackoverflow.com/questions/34777743/determine-the-orientation-of-an-image/34780369#34780369", "title": "Determine The Orientation Of An Image", "body": "<p>If you have the random image somewhere (say, you're trying to match a certain image to a list of images you have), you could try taking the difference of your random image and your list of known images four times for each image, rotating the known image each time by 90 deg. Whichever one is closer to zero should be what you want. </p>\n\n<p>If the image sizes of both your new image and the list of images are the same, you might also be able to just compare the keypoint distance differences (if the image is a match but all the keypoints are all rotated a quadrant clockwise from each other, then it's 90 deg off etc).</p>\n\n<p>If you have no idea what that random image is supposed to be, I can't really think of any way to figure that out, unless you know for sure that a blob of light blue is supposed to be the sky. As far as I know, there's got to be something that you know to be up in order to determine what up is.</p>\n"}, {"tags": [], "owner": {"reputation": 4400, "user_id": 1531708, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/ngDh7.png?s=128&g=1", "display_name": "PhilLab", "link": "https://stackoverflow.com/users/1531708/phillab"}, "is_accepted": false, "score": 1, "last_activity_date": 1452765733, "creation_date": 1452765733, "answer_id": 34786592, "question_id": 34777743, "link": "https://stackoverflow.com/questions/34777743/determine-the-orientation-of-an-image/34786592#34786592", "title": "Determine The Orientation Of An Image", "body": "<blockquote>\n  <p>I've looked into feature matching with opencv using the following tutorial, and it works correctly</p>\n</blockquote>\n\n<p>So you could establish a valid match between an image of unknown rotation and an image in your database? And the latter one is of a known rotation (i.e. upright)?</p>\n\n<p>In this case you can compute a transformation matrix:</p>\n\n<ul>\n<li>either a homography which defines a full planar transformation (use <a href=\"http://docs.opencv.org/2.4/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html?highlight=findhomography#findhomography\" rel=\"nofollow\">cv::findHomography</a>)</li>\n<li>or an <strong>affine transform</strong> which expresses translation, rotation and scaling and thus seems best for your needs (use <a href=\"http://docs.opencv.org/2.4/modules/video/doc/motion_analysis_and_object_tracking.html#Mat%20estimateRigidTransform%28InputArray%20src,%20InputArray%20dst,%20bool%20fullAffine%29\" rel=\"nofollow\">cv::estimateRigidTransform</a> with fullAffine=true). You can find more about affine transformations <a href=\"http://docs.opencv.org/2.4/doc/tutorials/imgproc/imgtrans/warp_affine/warp_affine.html\" rel=\"nofollow\">here</a></li>\n</ul>\n\n<p>If you don't have any known image then this task seems mathematically unsolvable but you could use something like an Artificial-Neural-Network-based heuristic which seems like a very research-intensive project.</p>\n"}], "owner": {"reputation": 3222, "user_id": 1320596, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a316f002a5d080a613dce89a4ad8f9a9?s=128&d=identicon&r=PG", "display_name": "Mr. 1.0", "link": "https://stackoverflow.com/users/1320596/mr-1-0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2430, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1452765733, "creation_date": 1452721791, "question_id": 34777743, "link": "https://stackoverflow.com/questions/34777743/determine-the-orientation-of-an-image", "title": "Determine The Orientation Of An Image", "body": "<p><a href=\"https://i.stack.imgur.com/gDymS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gDymS.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/qKil1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qKil1.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/EQxSn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EQxSn.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/PyJGR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PyJGR.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I am trying to determine the orientation of the following image. Given an image at random between 140x140 to 150X150 pixels with no EXIF data. Is there a method to define each image as 0, 90, 180 or 270 degrees so that when I get an image of a particular orientation I can match that with my predefined images? I've looked into feature matching with opencv using the following <a href=\"https://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_feature2d/py_matcher/py_matcher.html\" rel=\"nofollow noreferrer\">tutorial</a>, and it works correctly. Identify the images as the same no matter its orientation, but I have no clue how to tell them apart. </p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 470, "user_id": 2041110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3zmn7.jpg?s=128&g=1", "display_name": "Bob Ezuba", "link": "https://stackoverflow.com/users/2041110/bob-ezuba"}, "edited": false, "score": 0, "creation_date": 1452721911, "post_id": 34777694, "comment_id": 57300498, "body": "Change LOGO to use os.path.join aside from that, it looks correct"}, {"owner": {"reputation": 104137, "user_id": 267887, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MzpbS.png?s=128&g=1", "display_name": "Yuji &#39;Tomita&#39; Tomita", "link": "https://stackoverflow.com/users/267887/yuji-tomita-tomita"}, "edited": false, "score": 0, "creation_date": 1452722303, "post_id": 34777694, "comment_id": 57300698, "body": "This seems like an attempt to control common asset locations via configuration. Nothing particularly strange about it. One can place any desired configuration in <code>settings.py</code>. Having multiple settings.py files is also fairly standard practice (such as base, production, development, etc. each targeted by their environments).  Like Bob said, use os.path.join for max OS compatibility."}], "answers": [{"tags": [], "owner": {"reputation": 718, "user_id": 1465244, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b5ac13ee3bcca060511fa4d187f2b6d?s=128&d=identicon&r=PG", "display_name": "ryanmrubin", "link": "https://stackoverflow.com/users/1465244/ryanmrubin"}, "is_accepted": false, "score": 2, "last_activity_date": 1452727633, "creation_date": 1452727633, "answer_id": 34779017, "question_id": 34777694, "link": "https://stackoverflow.com/questions/34777694/defining-image-location-in-settings-file-django/34779017#34779017", "title": "Defining Image location in settings file django", "body": "<p>More commonly you would see just the STATIC_URL defined in your settings, and then the logo would be accessed in a template with:</p>\n\n<pre><code>{% load staticfiles %}\n&lt;img src=\"{% static 'img/logo.png' %}\" /&gt;\n</code></pre>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.9/howto/static-files/#configuring-static-files\" rel=\"nofollow\">The docs</a> give more detailed explanation.</p>\n"}], "owner": {"reputation": 440, "user_id": 1470196, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9c694e2ab1355a2bf0c204a04be1e0d?s=128&d=identicon&r=PG", "display_name": "mingle", "link": "https://stackoverflow.com/users/1470196/mingle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452727633, "creation_date": 1452721659, "question_id": 34777694, "link": "https://stackoverflow.com/questions/34777694/defining-image-location-in-settings-file-django", "title": "Defining Image location in settings file django", "body": "<p>So I started working on this django project that I took over from someone else. There are several settings files that all inherit from a base.py settings file.</p>\n\n<p>In this base.py settings file there are several static image files defined in there.</p>\n\n<p>For Example:</p>\n\n<pre><code>LOGO_URL=\"/img/logo.png\"\nLOGO=STATIC_URL+LOGO_URL\n</code></pre>\n\n<p>This seems strange to define image locations in this way. Is this best practices? if not what is the best practice?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "salt-stack"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 5420251, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4c55c1259027c62d1b85041f81c1807a?s=128&d=identicon&r=PG&f=1", "display_name": "jinzoo", "link": "https://stackoverflow.com/users/5420251/jinzoo"}, "edited": false, "score": 0, "creation_date": 1452784017, "post_id": 34777875, "comment_id": 57329116, "body": "Thanks for replying. I tried to user salt.modules.pillar.get but I get an error about <b>opts</b> not defined! I remember I read somewhere that you need to define this options variable somehow but I can&#39;t seem to find out how. any ideas?"}], "tags": [], "owner": {"reputation": 28286, "user_id": 1995300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GR7Be.jpg?s=128&g=1", "display_name": "helmbert", "link": "https://stackoverflow.com/users/1995300/helmbert"}, "is_accepted": false, "score": 0, "last_activity_date": 1452722300, "creation_date": 1452722300, "answer_id": 34777875, "question_id": 34777691, "link": "https://stackoverflow.com/questions/34777691/accessing-pillar-data-in-custom-grain-module-in-salt/34777875#34777875", "title": "Accessing pillar data in custom grain module in Salt", "body": "<p>I've had a look at Salts built-in grains (more specifically, the <a href=\"https://github.com/saltstack/salt/blob/develop/salt/grains/core.py\" rel=\"nofollow\"><code>core.py</code> grain module</a>). In there, they actually define the <code>__salt__</code> object themselves (<a href=\"https://github.com/saltstack/salt/blob/develop/salt/grains/core.py#L48\" rel=\"nofollow\">line 44ff.</a>):</p>\n\n<pre><code>__salt__ = {\n    'cmd.run': salt.modules.cmdmod._run_quiet,\n    'cmd.retcode': salt.modules.cmdmod._retcode_quiet,\n    'cmd.run_all': salt.modules.cmdmod._run_all_quiet,\n    'smbios.records': salt.modules.smbios.records,\n    'smbios.get': salt.modules.smbios.get,\n}\n</code></pre>\n\n<p>In theory (untested!), you should also be able to do this in your custom grain. When you need the <code>pillar.get</code> module, you'll need to import a different function, of course:</p>\n\n<pre><code>import salt.modules.pillar\n\n__salt__ = {\n    'pillar.get': salt.modules.pillar.get\n}\n</code></pre>\n\n<p>Of course, you can also just call <code>salt.modules.pillar.get('hosts', None)</code> directly without bothering to create the <code>__salt__</code> dictionary.</p>\n"}], "owner": {"reputation": 83, "user_id": 5420251, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4c55c1259027c62d1b85041f81c1807a?s=128&d=identicon&r=PG&f=1", "display_name": "jinzoo", "link": "https://stackoverflow.com/users/5420251/jinzoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1210, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1527677163, "creation_date": 1452721646, "last_edit_date": 1527677163, "question_id": 34777691, "link": "https://stackoverflow.com/questions/34777691/accessing-pillar-data-in-custom-grain-module-in-salt", "title": "Accessing pillar data in custom grain module in Salt", "body": "<p>This might not be the best way to go about setting custom grains, but I want set up custom grains \"roles\" by reading pillar data. This will allow easy editing in YAML syntax for the pillar data while the custom grains is set as highest priority and not overwritten by other configs.</p>\n\n<p>My question is how to access the pillar data in the custom grains python file in the <code>_grain</code> dir? </p>\n\n<p>I've tried:</p>\n\n<pre><code>hosts = __salt__['pillar.get']('hosts',None)\n</code></pre>\n\n<p>but I get an error:</p>\n\n<pre><code>NameError: global name '__salt__' is not defined\n</code></pre>\n\n<p>Even when I add </p>\n\n<pre><code>import salt.client\nimport salt.config\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "canvas", "save", "python-imaging-library"], "answers": [{"comments": [{"owner": {"reputation": 559, "user_id": 5661257, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5ea35715e91596140ffa13e3b8863ad8?s=128&d=identicon&r=PG&f=1", "display_name": "R. Kap", "link": "https://stackoverflow.com/users/5661257/r-kap"}, "edited": false, "score": 0, "creation_date": 1452729031, "post_id": 34778636, "comment_id": 57303526, "body": "I have tried the first part and I get the error <code>FileNotFoundError: [Errno 2] No such file or directory: &#39;gs&#39;</code> That&#39;s <code>Ghostscript</code> right? If so, how would I get it?"}, {"owner": {"reputation": 559, "user_id": 5661257, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5ea35715e91596140ffa13e3b8863ad8?s=128&d=identicon&r=PG&f=1", "display_name": "R. Kap", "link": "https://stackoverflow.com/users/5661257/r-kap"}, "edited": false, "score": 0, "creation_date": 1452730442, "post_id": 34778636, "comment_id": 57304008, "body": "Also, my os is <code>Macintosh</code> and I have <code>Python 3.5.1</code>. How would I get Ghostscript on my system, because I cannot fund one compatible with it."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 559, "user_id": 5661257, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5ea35715e91596140ffa13e3b8863ad8?s=128&d=identicon&r=PG&f=1", "display_name": "R. Kap", "link": "https://stackoverflow.com/users/5661257/r-kap"}, "edited": false, "score": 0, "creation_date": 1452732816, "post_id": 34778636, "comment_id": 57304701, "body": "Sorry, I don&#39;t have experience installing ghostscript on Macs."}, {"owner": {"reputation": 559, "user_id": 5661257, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5ea35715e91596140ffa13e3b8863ad8?s=128&d=identicon&r=PG&f=1", "display_name": "R. Kap", "link": "https://stackoverflow.com/users/5661257/r-kap"}, "edited": false, "score": 0, "creation_date": 1452732993, "post_id": 34778636, "comment_id": 57304774, "body": "Oh, ok. Thanks for telling me about his though! Really helped! :)"}, {"owner": {"reputation": 1360, "user_id": 5463883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7838cba44980354335c2ed650d89f17f?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Akhtar", "link": "https://stackoverflow.com/users/5463883/ahmed-akhtar"}, "edited": false, "score": 0, "creation_date": 1527059032, "post_id": 34778636, "comment_id": 87976668, "body": "Thanks. This worked for me but only after I installed <a href=\"https://www.ghostscript.com/download/gsdnld.html\" rel=\"nofollow noreferrer\">Ghostcript</a> and <a href=\"https://stackoverflow.com/questions/44587376/oserror-unable-to-locate-ghostscript-on-paths\">added it to path</a>. I also had to call the update() method on the canvas before generating the postscript as done in <a href=\"https://stackoverflow.com/questions/9886274/how-can-i-convert-canvas-content-to-an-image\">this other answer</a>, otherwise the postcript generated a 1x1 image."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 8, "last_activity_date": 1452733343, "last_edit_date": 1495542682, "creation_date": 1452725748, "answer_id": 34778636, "question_id": 34777676, "link": "https://stackoverflow.com/questions/34777676/how-to-convert-a-python-tkinter-canvas-postscript-file-to-an-image-file-readable/34778636#34778636", "title": "How to convert a Python tkinter canvas postscript file to an image file readable by the PIL?", "body": "<p><a href=\"https://www.tcl.tk/man/tcl8.4/TkCmd/canvas.htm#M60\" rel=\"noreferrer\">If you don't supply the file parameter</a> in the call to <code>cnv.postscript</code>, then \na <code>cnv.postscript</code> returns the PostScript as a (unicode) string.\nYou can then convert the unicode to bytes and feed that to <code>io.BytesIO</code> and feed that to <code>Image.open</code>. <a href=\"http://pillow.readthedocs.org/en/3.0.x/reference/Image.html#PIL.Image.open\" rel=\"noreferrer\"><code>Image.open</code></a> can accept as its first argument any file-like object that implements <code>read</code>, <code>seek</code> and <code>tell</code> methods.</p>\n\n<pre><code>import io\ndef savefirst():\n    cnv = getscreen().getcanvas() \n    global hen\n    ps = cnv.postscript(colormode = 'color')\n    hen = filedialog.asksaveasfilename(defaultextension = '.jpg')\n    im = Image.open(io.BytesIO(ps.encode('utf-8')))\n    im.save(hen + '.jpg')\n</code></pre>\n\n<hr>\n\n<p>For example, borrowing heavily from <a href=\"https://stackoverflow.com/a/17885207/190597\">A. Rodas' code</a>,</p>\n\n<pre><code>import Tkinter as tk\nimport subprocess\nimport os\nimport io\nfrom PIL import Image\n\nclass App(tk.Tk):\n    def __init__(self):\n        tk.Tk.__init__(self)\n        self.line_start = None\n        self.canvas = tk.Canvas(self, width=300, height=300, bg=\"white\")\n        self.canvas.bind(\"&lt;Button-1&gt;\", lambda e: self.draw(e.x, e.y))\n        self.button = tk.Button(self, text=\"save\",\n                                command=self.save)\n        self.canvas.pack()\n        self.button.pack(pady=10)\n\n    def draw(self, x, y):\n        if self.line_start:\n            x_origin, y_origin = self.line_start\n            self.canvas.create_line(x_origin, y_origin, x, y)\n        self.line_start = x, y\n\n    def save(self):\n        ps = self.canvas.postscript(colormode='color')\n        img = Image.open(io.BytesIO(ps.encode('utf-8')))\n        img.save('/tmp/test.jpg')\n\napp = App()\napp.mainloop()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 112, "user_id": 7465444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8a5hE.png?s=128&g=1", "display_name": "Evidlo", "link": "https://stackoverflow.com/users/7465444/evidlo"}, "is_accepted": false, "score": 0, "last_activity_date": 1547163350, "creation_date": 1547163350, "answer_id": 54138455, "question_id": 34777676, "link": "https://stackoverflow.com/questions/34777676/how-to-convert-a-python-tkinter-canvas-postscript-file-to-an-image-file-readable/54138455#54138455", "title": "How to convert a Python tkinter canvas postscript file to an image file readable by the PIL?", "body": "<p>Adding to unutbu's answer, you can also write the data again to a BytesIO object, but you have to seek to the beginning of the buffer after doing so.  Here's a flask example that displays the image in browser:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>@app.route('/image.png', methods=['GET'])\ndef image():\n    \"\"\"Return png of current canvas\"\"\"\n    ps = tkapp.canvas.postscript(colormode='color')\n    out = BytesIO()\n    Image.open(BytesIO(ps.encode('utf-8'))).save(out, format=\"PNG\")\n    out.seek(0)\n    return send_file(out, mimetype='image/png')\n</code></pre>\n"}], "owner": {"reputation": 559, "user_id": 5661257, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5ea35715e91596140ffa13e3b8863ad8?s=128&d=identicon&r=PG&f=1", "display_name": "R. Kap", "link": "https://stackoverflow.com/users/5661257/r-kap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11533, "favorite_count": 0, "accepted_answer_id": 34778636, "answer_count": 2, "score": 3, "last_activity_date": 1547163350, "creation_date": 1452721597, "last_edit_date": 1452731774, "question_id": 34777676, "link": "https://stackoverflow.com/questions/34777676/how-to-convert-a-python-tkinter-canvas-postscript-file-to-an-image-file-readable", "title": "How to convert a Python tkinter canvas postscript file to an image file readable by the PIL?", "body": "<p>So I have created a function in my program that allows the user to save whatever he/she draws on the Turtle canvas as a Postscript file with his/her own name. However, there have been issues with some colors not appearing in the output as per the nature of Postscript files, and also, Postscript files just won't open on some other platforms. So I have decided to save the postscript file as a JPEG image since the JPEG file should be able to be opened on many platforms, can hopefully display all the colors of the canvas, and it should have a higher resolution than the postscript file. So, to do that, I have tried, using the PIL, the following in my save function:</p>\n\n<pre><code>def savefirst():\n    cnv = getscreen().getcanvas() \n    global hen\n    fev = cnv.postscript(file = 'InitialFile.ps', colormode = 'color')\n    hen = filedialog.asksaveasfilename(defaultextension = '.jpg')\n    im = Image.open(fev)\n    print(im)\n    im.save(hen + '.jpg')\n</code></pre>\n\n<p>However, whenever I run this, I get this error:</p>\n\n<pre><code>line 2391, in savefirst\n    im = Image.open(fev)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/PIL/Image.py\", line 2263, in open\n    fp = io.BytesIO(fp.read())\nAttributeError: 'str' object has no attribute 'read'\n</code></pre>\n\n<p>Apparently it cannot read the postscript file since it's <strong>not</strong>, according to what I know, an image in itself, so it has to first be converted into an image, THEN read as an image, and then finally converted and saved as a JPEG file. <strong>The question is, how would I be able to first <em>convert the postscript file</em> to an <em>image file</em> INSIDE the program possibly using the Python Imaging Library?</strong> Looking around SO and Google has been no help, so any help from the SO users is greatly appreciated!</p>\n\n<p><strong>EDIT:</strong> Following <code>unubuntu's</code> advice, I have now have this for my save function:</p>\n\n<pre><code>def savefirst():\n    cnv = getscreen().getcanvas() \n    global hen\n    ps = cnv.postscript(colormode = 'color')\n    hen = filedialog.asksaveasfilename(defaultextension = '.jpg')\n    im = Image.open(io.BytesIO(ps.encode('utf-8')))\n    im.save(hen + '.jpg')\n</code></pre>\n\n<p>However, now whenever I run that, I get this error:</p>\n\n<pre><code>line 2395, in savefirst\n    im.save(hen + '.jpg')\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/PIL/Image.py\", line 1646, in save\n    self.load()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/PIL/EpsImagePlugin.py\", line 337, in load\n    self.im = Ghostscript(self.tile, self.size, self.fp, scale)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/PIL/EpsImagePlugin.py\", line 143, in Ghostscript\n    stdout=subprocess.PIPE)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/subprocess.py\", line 950, in __init__\n    restore_signals, start_new_session)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/subprocess.py\", line 1544, in _execute_child\n    raise child_exception_type(errno_num, err_msg)\nFileNotFoundError: [Errno 2] No such file or directory: 'gs'\n</code></pre>\n\n<p><strong>What is <code>'gs'</code> and why am I getting this error now?</strong></p>\n"}, {"tags": ["python", "python-3.x", "subprocess"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452721990, "post_id": 34777660, "comment_id": 57300540, "body": "Do you expect to always have a one-to-one correspondence between lines of stdout and stderr? You&#39;re trying to take lines in pairs."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1452841222, "post_id": 34777660, "comment_id": 57353966, "body": "both code example may cause deadlock if stdout/stderr do not produce the same amount of output (greater than a threshold)"}, {"owner": {"reputation": 12794, "user_id": 2434234, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27abf47fb5737a73fe93464a8e77c758?s=128&d=identicon&r=PG", "display_name": "Nick Humrich", "link": "https://stackoverflow.com/users/2434234/nick-humrich"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1453266412, "post_id": 34777660, "comment_id": 57521902, "body": "@J.F.Sebastian how so? I have tested it and it seems to work. Can you give an example of how a deadlock would happen?"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1453273007, "post_id": 34777660, "comment_id": 57524198, "body": "@NickHumrich: ask a separate question if you can&#39;t create an example that produces the deadlock."}], "answers": [{"comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 12794, "user_id": 2434234, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27abf47fb5737a73fe93464a8e77c758?s=128&d=identicon&r=PG", "display_name": "Nick Humrich", "link": "https://stackoverflow.com/users/2434234/nick-humrich"}, "edited": false, "score": 0, "creation_date": 1452842140, "post_id": 34777778, "comment_id": 57354320, "body": "@NickHumrich: <code>zip_longest()</code> won&#39;t fix the deadlock in the general case. The code in the question is broken. If you want to read stdout/stderr as &quot;live stream&quot; separately; you should read the pipes <i>concurrently</i> e.g., <a href=\"http://stackoverflow.com/a/31867499/4279\">use threads</a>, or use <a href=\"http://stackoverflow.com/a/31953436/4279\">a <code>select()</code>-loop</a>"}], "tags": [], "owner": {"reputation": 7186, "user_id": 5741460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oxgS1vLh9Co/AAAAAAAAAAI/AAAAAAAAAAA/5hRLB7BLWWA/photo.jpg?sz=128", "display_name": "Yoav Glazner", "link": "https://stackoverflow.com/users/5741460/yoav-glazner"}, "is_accepted": true, "score": 3, "last_activity_date": 1452751001, "last_edit_date": 1452751001, "creation_date": 1452721930, "answer_id": 34777778, "question_id": 34777660, "link": "https://stackoverflow.com/questions/34777660/python-stream-subprocess-stdout-and-stderr-zip-doesnt-work/34777778#34777778", "title": "python stream subprocess stdout and stderr zip doesnt work", "body": "<p>zip stops when one of the iterators is finished.</p>\n\n<p>In each of the examples you gave, one stream(stdout/stderr) is empty. So zip will produce nothing.</p>\n\n<p>To fix this you should use itertools.zip_longest</p>\n"}], "owner": {"reputation": 12794, "user_id": 2434234, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27abf47fb5737a73fe93464a8e77c758?s=128&d=identicon&r=PG", "display_name": "Nick Humrich", "link": "https://stackoverflow.com/users/2434234/nick-humrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 34777778, "answer_count": 1, "score": 5, "last_activity_date": 1452751001, "creation_date": 1452721526, "question_id": 34777660, "link": "https://stackoverflow.com/questions/34777660/python-stream-subprocess-stdout-and-stderr-zip-doesnt-work", "title": "python stream subprocess stdout and stderr zip doesnt work", "body": "<p>There are already a bunch of answers that solve how to do this general thing, but my main question is Why doesnt this approach work?</p>\n\n<p>I am trying to \"live stream\" the stdout and stderr from a subprocess. I can do this by doing:</p>\n\n<pre><code>import sys\nimport subprocess\n\ndef run_command(cmd):\n    process = subprocess.Popen(cmd, stderr=subprocess.PIPE, stdout=subprocess.PIPE)\n\n    for out in iter(process.stdout.readline, b''):\n        print(out)\n\n    for err in iter(process.stderr.readline, b''):\n        print(err)\n\nrun_command(['echo', 'hello', 'world']) # should print hello world\nrun_command(['rm', 'blarg223'])  # Should print to stderr (file doesnt exist)\n</code></pre>\n\n<p>and this works giving me the result:</p>\n\n<pre><code>b'hello world\\n'\nb'rm: cannot remove \\xe2\\x80\\x98blarg223\\xe2\\x80\\x99: No such file or directory\\n'\n</code></pre>\n\n<p>However this causes a problem as it really only live streams the stdout, then prints all the errors as the end. So I thought I could fix this using:</p>\n\n<pre><code>def run_command(cmd):\n    process = subprocess.Popen(cmd, stderr=subprocess.PIPE, stdout=subprocess.PIPE)\n\n    for out, err in zip(iter(process.stdout.readline, b''), iter(process.stderr.readline, b'')):\n        print(out)\n        print(b'Error: ' + err)\n</code></pre>\n\n<p>But, this doesnt produce any output. Why does using zip not work?</p>\n"}, {"tags": ["python", "callback", "scrapy", "scrapy-spider"], "comments": [{"owner": {"reputation": 846, "user_id": 5272003, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/015355efb84d26dd19adaafd61400fac?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Parmar", "link": "https://stackoverflow.com/users/5272003/nikhil-parmar"}, "edited": false, "score": 0, "creation_date": 1452760422, "post_id": 34777627, "comment_id": 57313647, "body": "You sure you have imported all the libraries ?"}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 4252013, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kSQl75gtovU/AAAAAAAAAAI/AAAAAAAAAGY/Rg5sGfQq5OY/photo.jpg?sz=128", "display_name": "AnD", "link": "https://stackoverflow.com/users/4252013/and"}, "is_accepted": false, "score": 0, "last_activity_date": 1452770587, "creation_date": 1452770587, "answer_id": 34788352, "question_id": 34777627, "link": "https://stackoverflow.com/questions/34777627/callback-function-never-called-using-scrapy/34788352#34788352", "title": "Callback Function never called using Scrapy", "body": "<p>By default parse command fetches the given URL and parses it with the spider that handles it, using the method passed with the --callback option, or parse if not given.In your case, it parses only parse function. Change the command to give <code>--callback</code> like:</p>\n\n<pre><code>scrapy parse --spider=nfl2 \"http://www.pro-football-reference.com/boxscores/201509100nwe.htm\" --callback=parse_game_content\n</code></pre>\n\n<p>and also, it is better to change your parse_game_content function as follows</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    def parse_game_content(self, response):\r\n        print \"parse_game_content\"\r\n        for sel in response.xpath('//table[@id=\"team_stats\"]/tr'):\r\n            item = NflPredictorItem()\r\n            item['away_stats'] = sel.xpath('td[@align = \"center\"][1]/text()').extract()\r\n            item['home_stats'] = sel.xpath('td[@align = \"center\"][2]/text()').extract()\r\n            yield item</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 5237140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f86f5e4e50f601fb51e0f76d39135e?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/5237140/joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452770587, "creation_date": 1452721406, "question_id": 34777627, "link": "https://stackoverflow.com/questions/34777627/callback-function-never-called-using-scrapy", "title": "Callback Function never called using Scrapy", "body": "<p>I am new to Scrapy and python. I have spent several hours trying to debug and look for helpful responses but I am still stuck. I am trying to extract data from www.pro-football-reference.com. This is the code I have right now</p>\n\n<pre><code>import scrapy\n\nfrom nfl_predictor.items import NflPredictorItem\n\nclass NflSpider(scrapy.Spider):\n   name = \"nfl2\"\n   allowed_domains = [\"http://www.pro-football-reference.com/\"]\n   start_url = [\n    \"http://www.pro-football-reference.com/boxscores/201509100nwe.htm\"\n   ]\n\n    def parse(self, response):\n        print \"parse\"\n        for href in response.xpath('// [@id=\"page_content\"]/div[1]/table/tr/td/a/@href'):\n        url = response.urljoin(href.extract())\n        yield scrapy.Request(url, callback=self.parse_game_content)\n\n    def parse_game_content(self, response):\n        print \"parse_game_content\"\n        items = []\n        for sel in response.xpath('//table[@id = \"team_stats\"]/tr'):\n            item = NflPredictorItem()\n            item['away_stats'] = sel.xpath('td[@align = \"center\"][1]/text()').extract()\n            item['home_stats'] = sel.xpath('td[@align = \"center\"][2]/text()').extract()\n        items.append(item)\n    return items\n</code></pre>\n\n<p>I used the parse command for debugging and with this command</p>\n\n<pre><code>scrapy parse --spider=nfl2 \"http://www.pro-football-reference.com/boxscores/201509100nwe.htm\"\n</code></pre>\n\n<p>I get the following output</p>\n\n<pre><code>&gt;&gt;&gt; STATUS DEPTH LEVEL 1 &lt;&lt;&lt;\n# Scraped Items  ------------------------------------------------------------\n[]\n\n# Requests  -----------------------------------------------------------------\n[&lt;GET http://www.pro-football-reference.com/years/2015/games.htm&gt;,\n &lt;GET http://www.nfl.com/scores/2015/REG1&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130buf.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130chi.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130crd.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130dal.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130den.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130htx.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130jax.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130nyj.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130rai.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130ram.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130sdg.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130tam.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509130was.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509140atl.htm&gt;,\n &lt;GET http://www.pro-football-reference.com/boxscores/201509140sfo.htm&gt;]\n</code></pre>\n\n<p>Why is it that it is logging the requests for the links I want, but it is never entering the parse_game_content function to actually scrape the data? I have also tested the parse_game_content function as the parse function to make sure it is scraping the right data and it works properly in that case.</p>\n\n<p>Thank you for your help! </p>\n"}, {"tags": ["python", "regex", "flask", "routing", "werkzeug"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1452722701, "post_id": 34777613, "comment_id": 57300905, "body": "Doesn&#39;t <a href=\"https://regex101.com/r/gZ2rV3/1\" rel=\"nofollow noreferrer\"><code>(&lt;([^&lt;&gt;]*\\:)?([^&lt;&gt;]*)&gt;)</code></a> work as expected?"}], "answers": [{"comments": [{"owner": {"reputation": 6542, "user_id": 559935, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9200c133c210ad51e8005277e932061a?s=128&d=identicon&r=PG", "display_name": "Bruno Rocha - rochacbruno", "link": "https://stackoverflow.com/users/559935/bruno-rocha-rochacbruno"}, "edited": false, "score": 0, "creation_date": 1452731427, "post_id": 34778137, "comment_id": 57304287, "body": "I just removed the redundant escaping on \\: (&lt;([^&lt;&gt;]*:)?([^&lt;&gt;]*)&gt;)"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 6542, "user_id": 559935, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9200c133c210ad51e8005277e932061a?s=128&d=identicon&r=PG", "display_name": "Bruno Rocha - rochacbruno", "link": "https://stackoverflow.com/users/559935/bruno-rocha-rochacbruno"}, "edited": false, "score": 0, "creation_date": 1452731540, "post_id": 34778137, "comment_id": 57304323, "body": "Yes, I kept it in my initial demo, but <code>:</code> is not a special character, so it can be unescaped."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1452723431, "creation_date": 1452723431, "answer_id": 34778137, "question_id": 34777613, "link": "https://stackoverflow.com/questions/34777613/rule-for-capturing-types-and-or-parameterized-paths-from-werkzeug-flask-routing/34778137#34778137", "title": "Rule for capturing types and/or parameterized paths from werkzeug/Flask routing rules", "body": "<p>I suggest using</p>\n\n<pre><code>(&lt;([^&lt;&gt;]*:)?([^&lt;&gt;]*)&gt;)\n</code></pre>\n\n<p>The <a href=\"https://regex101.com/r/gZ2rV3/1\" rel=\"nofollow\">regex demo is here</a>. Not sure you really need the outer <code>(...)</code> (only if you use it with <code>re.findall</code>, but you can remove them and use <code>re.finditer</code> and access all match using <code>match.group(0)</code>).</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n<li><code>&lt;([^&lt;&gt;]*:)?</code> - optional Group 2 matching\n\n<ul>\n<li><code>&lt;</code> - a literal <code>&lt;</code></li>\n<li><code>[^&lt;&gt;]*</code> - zero or more characters other than <code>&lt;</code> and <code>&gt;</code></li>\n<li><code>:</code> - a literal <code>:</code></li>\n</ul></li>\n<li><code>([^&lt;&gt;]*)</code> - Group 3 matching zero or more characters other than <code>&lt;</code> and <code>&gt;</code></li>\n<li><code>&gt;</code> closing <code>&gt;</code> </li>\n</ul>\n\n<p>Your pattern is rather greedy as <code>.*?</code> matches as many characters as necessary to get to the first <code>:</code>. Thus, it goes straight to the <code>id</code> ignoring <code>name</code>. When using the <strong>negated character class</strong> <code>[^&lt;&gt;]</code>, we are sure we won't go through the <code>&gt;</code> and match the <code>name</code> inside the first pair of <code>&lt;...&gt;</code>.</p>\n"}], "owner": {"reputation": 6542, "user_id": 559935, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9200c133c210ad51e8005277e932061a?s=128&d=identicon&r=PG", "display_name": "Bruno Rocha - rochacbruno", "link": "https://stackoverflow.com/users/559935/bruno-rocha-rochacbruno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 34778137, "answer_count": 1, "score": 2, "last_activity_date": 1452723431, "creation_date": 1452721363, "last_edit_date": 1452722635, "question_id": 34777613, "link": "https://stackoverflow.com/questions/34777613/rule-for-capturing-types-and-or-parameterized-paths-from-werkzeug-flask-routing", "title": "Rule for capturing types and/or parameterized paths from werkzeug/Flask routing rules", "body": "<p>I have a set of Flask routes</p>\n\n<pre><code>/&lt;string:name&gt;/&lt;path:id&gt;/\n/&lt;name&gt;/&lt;path:id&gt;/ \n/&lt;string:name&gt;/&lt;id&gt;/\n</code></pre>\n\n<p>I want to use a regex to extract <strong>name</strong> and <strong>id</strong></p>\n\n<pre><code>/{name}/{id}/\n/{name}/{id}/ \n/{name}/{id}/\n</code></pre>\n\n<p>For all of them (one regex to rule them all), to work for paths having <strong>type:path</strong> like <code>/&lt;string:name&gt;/</code> and also those without type like <code>/&lt;name&gt;/</code></p>\n\n<p>But I am trying with:</p>\n\n<pre><code>(&lt;(.*?\\:)?(.*?)&gt;)\n</code></pre>\n\n<p>which can only match</p>\n\n<pre><code>/{name}/{id}/\n/{id}/  # &lt;--- Why this is not matching /{name}/{id}/\n/{name}/{id}/\n</code></pre>\n\n<p>Any REGEX expert to help?</p>\n\n<p><strong>Online REGEX</strong>: <a href=\"https://regex101.com/r/iL3jK2/3\" rel=\"nofollow\">https://regex101.com/r/iL3jK2/3</a><br>\n<strong>The issue</strong>: <a href=\"https://github.com/rochacbruno/flasgger/issues/10\" rel=\"nofollow\">https://github.com/rochacbruno/flasgger/issues/10</a></p>\n"}, {"tags": ["python", "peewee"], "comments": [{"owner": {"reputation": 2700, "user_id": 347567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f658a58fa2f6a02b804b71e168d44da6?s=128&d=identicon&r=PG", "display_name": "pneumatics", "link": "https://stackoverflow.com/users/347567/pneumatics"}, "edited": false, "score": 0, "creation_date": 1452732982, "post_id": 34777599, "comment_id": 57304770, "body": "Can you please show us the database schema?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2548193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be8239a45043fa1f04f3630dad35869b?s=128&d=identicon&r=PG", "display_name": "Rangel", "link": "https://stackoverflow.com/users/2548193/rangel"}, "edited": false, "score": 0, "creation_date": 1457532010, "post_id": 34823067, "comment_id": 59448013, "body": "tks. Works perfect for me."}], "tags": [], "owner": {"reputation": 19577, "user_id": 254346, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/ebd1c4256c1ece3469d2ccf3031cb6c5?s=128&d=identicon&r=PG", "display_name": "coleifer", "link": "https://stackoverflow.com/users/254346/coleifer"}, "is_accepted": false, "score": 0, "last_activity_date": 1452913069, "creation_date": 1452913069, "answer_id": 34823067, "question_id": 34777599, "link": "https://stackoverflow.com/questions/34777599/convert-sql-to-peewee-to-assembly-a-ranking/34823067#34823067", "title": "Convert SQL to Peewee to assembly a ranking", "body": "<p>I'll take a shot at it:</p>\n\n<pre><code>(Jogador\n .select(\n   (fn.IFNULL(fn.SUM(Conquista.pontos), 0) +\n    fn.SUM(StatusFase.pontos)).alias('total_pontos'),\n   Jogador.id.alias('usuario_id'))\n .join(Conquista, JOIN.LEFT_OUTER, on=(Jogador.id == Conquista.usuario))\n .switch(Jogador)\n .join(StatusFase, on=(Jogador.id == StatusFase.usuario))\n .group_by(Jogador.id)\n .order_by(SQL('total_pontos').desc()))\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 2548193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be8239a45043fa1f04f3630dad35869b?s=128&d=identicon&r=PG", "display_name": "Rangel", "link": "https://stackoverflow.com/users/2548193/rangel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452913069, "creation_date": 1452721336, "question_id": 34777599, "link": "https://stackoverflow.com/questions/34777599/convert-sql-to-peewee-to-assembly-a-ranking", "title": "Convert SQL to Peewee to assembly a ranking", "body": "<p>I need convert a SQL query to peewee instructions.</p>\n\n<p>My SQL is:</p>\n\n<pre><code>SELECT \n    (IFNULL(SUM(`conquista`.`pontos`), 0) + SUM(`statusfase`.`pontos`)) AS `total_pontos`,\n    `jogador`.`id` AS `usuario_id`\nFROM\n    ((`jogador`\n    LEFT JOIN `conquista` ON ((`jogador`.`id` = `conquista`.`usuario_id`)))\n    JOIN `statusfase` ON ((`jogador`.`id` = `statusfase`.`usuario_id`)))\nGROUP BY `jogador`.`id`\nORDER BY `total_pontos` DESC\n</code></pre>\n\n<p>Any ideias?</p>\n\n<p>tks.</p>\n"}, {"tags": ["python", "django", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "edited": false, "score": 0, "creation_date": 1452721973, "post_id": 34777657, "comment_id": 57300533, "body": "Thanks, this looks realy good, but I need to annotate objects and not to aggregate. Do you have any ideas on annotatios like these?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "reply_to_user": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "edited": false, "score": 0, "creation_date": 1452722206, "post_id": 34777657, "comment_id": 57300643, "body": "I&#39;ve modified the answer, it should still work the same way. Give it a shot and let me know how it goes!"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1452722703, "post_id": 34777657, "comment_id": 57300906, "body": "Given the models, I don&#39;t think <code>field_set</code> is the correct name (<code>_set</code> is used for objects, i.e. to retrieve the related records of a specific instance). Use <code>When(model2__status==...</code> rather"}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1452722906, "post_id": 34777657, "comment_id": 57301000, "body": "@Pynchia you are probably right there. I&#39;ve updated it."}, {"owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1452723729, "post_id": 34777657, "comment_id": 57301378, "body": "@LegoStormtroopr, I made it work with a few edits :) First of all I am not sure why @Pynchia pointed about changing <code>_set</code> -&gt; <code>model2</code>, Django doesn&#39;t resolve <code>model2</code>, it has to be <code>_set</code>. Another thing is that It&#39;s necessary to re initialize the object when calling <code>annotate</code> method so it has to look like <code>queryset = queryset.annotate(...) </code>.  I&#39;ve struggled much on this question, haven&#39;t seen <code>Conditional Aggregations</code> anywhere before so thanks for your help!"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "reply_to_user": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "edited": false, "score": 1, "creation_date": 1452724110, "post_id": 34777657, "comment_id": 57301522, "body": "@pythad <a href=\"https://docs.djangoproject.com/en/1.9/topics/db/examples/many_to_one/\" rel=\"nofollow noreferrer\">here</a> you can have a look for yourself at how to perform a query on related models. e.g. <code>Reporter.objects.filter(article__pk=1)</code> with your models would be <code>Model1.objects.filter(model2__status=1)</code>. Therefore, if you are using <code>_set</code> it means there is some other code you have forgotten to mention (i.e. the query is performed on a specific record/instance of &#39;model1`. Maybe iterating?)"}, {"owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1452724996, "post_id": 34777657, "comment_id": 57301933, "body": "@Pynchia, I simplified my question a bit. There is a related_name in my project, i query on it. Just messed up related name with _set. I am sorry, thanks for your pointing."}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1452725212, "post_id": 34777657, "comment_id": 57302055, "body": "OK, then to make the question helpful for others, please do edit you models in the question and add the <code>related_name</code> parameter to <code>field</code> in <code>Model2</code>. Your question is <b>very relevant</b> and there aren&#39;t many useful answers (recent ones). So the answer you got will be quite useful indeed to the Django community"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "is_accepted": true, "score": 6, "last_activity_date": 1452791791, "last_edit_date": 1452791791, "creation_date": 1452721516, "answer_id": 34777657, "question_id": 34777453, "link": "https://stackoverflow.com/questions/34777453/django-annotate-queryset-on-a-specific-value-of-relational-model-attribute/34777657#34777657", "title": "Django annotate queryset on a specific value of relational model attribute", "body": "<p>If you are using Django 1.8 or above you can use <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/conditional-expressions/#conditional-aggregation\" rel=\"noreferrer\">Conditional Aggregations</a>, these should work for <code>annotate</code> querysets.</p>\n\n<pre><code>from django.db.models import IntegerField, Case, When, Count\n\n\nqueryset = Model1.objects.all()\n\nqueryset = queryset.annotate(\n    declined=Count(\n        Case(When(model1_participation__status=0, then=1),\n             output_field=IntegerField())\n    ),\n    not_sure=Count(\n        Case(When(model1_participation__status=1, then=1),\n             output_field=IntegerField())\n    ),\n    accepted=Count(\n        Case(When(model1_participation__status=2, then=1),\n             output_field=IntegerField())\n    )\n)\n</code></pre>\n"}], "owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3306, "favorite_count": 4, "accepted_answer_id": 34777657, "answer_count": 1, "score": 5, "last_activity_date": 1452791791, "creation_date": 1452720786, "last_edit_date": 1452787256, "question_id": 34777453, "link": "https://stackoverflow.com/questions/34777453/django-annotate-queryset-on-a-specific-value-of-relational-model-attribute", "title": "Django annotate queryset on a specific value of relational model attribute", "body": "<p>Suppose there is a structure like this:</p>\n\n<pre><code>PARTICIPATION_STATUSES = (\n    (0, 'No, thanks'),\n    (1, 'I may attend'),\n    (2, 'I\\'ll be there'),\n)\n\nclass Model1(models.Model):\n    # ...\n\nclass Model2(models.Model):\n    status = models.PositiveIntegerField(\n        _('participation status'), choices=PARTICIPATION_STATUSES)    \n    field = models.ForeignKey(Model1, related_name='model1_participation')\n</code></pre>\n\n<p>What I want to do is to annotate each object of <code>Model1</code> with count of <code>Model2</code> objects where status equals a specific value (status number is this particular example).</p>\n\n<p>In my pseudo code it would look like:</p>\n\n<pre><code>queryset = Model1.objects.all()\nqueryset.annotate(declined=Count('model1_participation__status=0'))\nqueryset.annotate(not_sure=Count('model1_participation__status=1'))\nqueryset.annotate(accepted=Count('model1_participation__status=2'))\n</code></pre>\n\n<p>But I can't annotate the queryset in this way as Django doesn't resolve <code>status=&lt;n&gt;</code>.</p>\n\n<p>What is the right way to achieve what I want?</p>\n"}, {"tags": ["python", "csv", "row", "reader"], "comments": [{"owner": {"reputation": 2560, "user_id": 4908900, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/51319a33504095df2a58a2318981b1ac?s=128&d=identicon&r=PG&f=1", "display_name": "Ezer K", "link": "https://stackoverflow.com/users/4908900/ezer-k"}, "edited": false, "score": 0, "creation_date": 1452721396, "post_id": 34777438, "comment_id": 57300276, "body": "checkout pandas and its fillna function"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1452724543, "post_id": 34777438, "comment_id": 57301725, "body": "Please added a (short) example of your input so we can see in what way the fields are missing."}, {"owner": {"reputation": 55, "user_id": 5786560, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f206f5d03369954f07c0173f4d067e04?s=128&d=identicon&r=PG&f=1", "display_name": "J.R.W", "link": "https://stackoverflow.com/users/5786560/j-r-w"}, "edited": false, "score": 0, "creation_date": 1452776854, "post_id": 34777438, "comment_id": 57323961, "body": "Here is an example. So the rows aren&#39;t missing values, but rather fields. Every 3 or so rows are values appended to a final csv from 2 different CSV, so example the year 2015 and the 2 values that follow are in 1 file and the Year 2014 is in another. For some of the years there is no data for a particular state. AZ is an example of this for the year 2013.            (&#39;OK&#39;, &#39;2015&#39;, &#39;14&#39;, &#39;3&#39;, &#39;2014&#39;, &#39;28&#39;, &#39;17&#39;, &#39;2013&#39;, &#39;19&#39;, &#39;17&#39;, &#39;2012&#39;, &#39;36&#39;, &#39;12&#39;) (&#39;AZ&#39;, &#39;2015&#39;, &#39;14&#39;, &#39;2&#39;, &#39;2014&#39;, &#39;36&#39;, &#39;2&#39;) (&#39;ID&#39;, &#39;2015&#39;, &#39;12&#39;, &#39;0&#39;, &#39;2014&#39;, &#39;28&#39;, &#39;4&#39;, &#39;2013&#39;, &#39;24&#39;, &#39;2&#39;, &#39;2012&#39;, &#39;14&#39;, &#39;1&#39;)"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5786560, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f206f5d03369954f07c0173f4d067e04?s=128&d=identicon&r=PG&f=1", "display_name": "J.R.W", "link": "https://stackoverflow.com/users/5786560/j-r-w"}, "edited": false, "score": 0, "creation_date": 1452777098, "post_id": 34777914, "comment_id": 57324121, "body": "Yes, this is my issue. Some of the lines have fewer fields than expected. I am essentially appending multiple columns to a new list and then writing to a CSV. I need to be able to fill blank cells with 0 when the file with missing field is appended. I can also change the field names as needed."}, {"owner": {"reputation": 55, "user_id": 5786560, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f206f5d03369954f07c0173f4d067e04?s=128&d=identicon&r=PG&f=1", "display_name": "J.R.W", "link": "https://stackoverflow.com/users/5786560/j-r-w"}, "edited": false, "score": 0, "creation_date": 1452787380, "post_id": 34777914, "comment_id": 57331666, "body": "So I have been able to use DictReader to add the restval and I can print this. How do I go about writing this to a file? Also is it possible to do this as I am appending a list or tuple?"}], "tags": [], "owner": {"reputation": 2955, "user_id": 5642219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ff21486f749bb8deb88cc94ac12086?s=128&d=identicon&r=PG&f=1", "display_name": "mementum", "link": "https://stackoverflow.com/users/5642219/mementum"}, "is_accepted": false, "score": 4, "last_activity_date": 1452795578, "last_edit_date": 1452795578, "creation_date": 1452722441, "answer_id": 34777914, "question_id": 34777438, "link": "https://stackoverflow.com/questions/34777438/how-to-insert-a-default-value-into-missing-csv-field/34777914#34777914", "title": "How to insert a default value into missing csv field?", "body": "<p><code>DictReader</code> has a <code>restval</code> parameter to set the default value for missing fields.</p>\n\n<p>But for missing fields ... at the end of the read values, i.e: the line has fewer fields than expected.</p>\n\n<p>It is unclear in your question if your missing fields will be at the end or anywhere in the chain. Or if <strong>missing</strong> means there will be two consecutive separators.</p>\n\n<p>Additionally, <code>DictReader</code> may not be your best friend: some of the fields in your <code>HEADERS</code> definition have the same name and will therefore be written to the same key. Should that not be your intention, you should assign a unique name to each of the headers.</p>\n\n<p>EDIT: Following the comment</p>\n\n<p>The header in the code below feature unique ids for each csv field and missing fields will be filled with passed value <code>missing</code> or <code>'0'</code>.</p>\n\n<p>With it the <code>DictReader</code> can assign each read csv field to individual keys or fill in with <code>restval</code>.</p>\n\n<p>A <code>DictWriter</code> undoes the action and writes back to <code>outpath</code> with the parsed (and possibly filled) csv data</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def fillBlanks(inpath, outpath, missing=None, writeheaders=False):\n    # Assign unique identifiers in HEADERS to each csv field\n    HEADERS = [\n        'ST',\n        'Year_1', 'PCT_SHORT_1', 'PCT_V_SHORT_1',\n        'Year_2', 'PCT_SHORT_2', 'PCT_V_SHORT_2',\n        'Year_3', 'PCT_SHORT_3', 'PCT_V_SHORT_3'\n    ]\n\n    # Open and parse file with default value for missing\n    rfile = open(inpath, 'r')\n    reader = csv.DictReader(rfile, fieldnames=HEADERS, restval=missing or '0')\n\n    # Open and write to file with writer\n    wfile = open(outpath, 'w')\n    writer = csv.DictWriter(wfile, fieldnames=HEADERS)\n\n    if writeheaders:\n        writer.writeheaders()\n\n    # Write each row from reader to writer\n    for row in reader:\n        writer.writerow(row)\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5786560, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f206f5d03369954f07c0173f4d067e04?s=128&d=identicon&r=PG&f=1", "display_name": "J.R.W", "link": "https://stackoverflow.com/users/5786560/j-r-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3942, "favorite_count": 3, "answer_count": 1, "score": 2, "last_activity_date": 1452795578, "creation_date": 1452720735, "last_edit_date": 1452776940, "question_id": 34777438, "link": "https://stackoverflow.com/questions/34777438/how-to-insert-a-default-value-into-missing-csv-field", "title": "How to insert a default value into missing csv field?", "body": "<p>I am attempting to write to append values to a csv. I can search for and find where there are missing fields, but want to know if there is a way to insert 0 as a default value for these fields.</p>\n\n<p>I have the following code.</p>\n\n<pre><code>def fillBlanks():\n\n    HEADERS =  ['ST','Year','PCT_SHORT','PCT_V_SHORT','Year','PCT_SHORT',\n                'PCT_V_SHORT','Year','PCT_SHORT','PCT_V_SHORT' ]\n    fileH = open(outputDir+\"PCT_SHORT_V_SHORT.csv\", 'rb')\n    reader = csv.DictReader(fileH, HEADERS)\n\n    for row in reader:\n        if any(row[key] in (None, \"\") for key in row):\n           print \"bad\"+ str(row)\n\n    fileH.close()\n</code></pre>\n\n<p>This gives me the rows and columns that are missing as follows.</p>\n\n<pre><code>bad{'PCT_SHORT': None, 'Year': None, 'PCT_V_SHORT': None, 'ST': 'NV'}\nbad{'PCT_SHORT': None, 'Year': None, 'PCT_V_SHORT': None, 'ST': 'CA'}\nbad{'PCT_SHORT': None, 'Year': None, 'PCT_V_SHORT': None, 'ST': 'AZ'}\nbad{'PCT_SHORT': None, 'Year': None, 'PCT_V_SHORT': None, 'ST': 'US'}\n</code></pre>\n\n<p>Is there a way to code in default values so no fields are missing? I would like to make the fields either 999 or 0. I hope this is clear, I am new to python.</p>\n\n<p>EDIT:\nHere is a sample of the data\n    ('OK', '2015', '14', '3', '2014', '28', '17', '2013', '19', '17', '2012',  '36', '12')\n    ('AZ', '2015', '14', '2', '2014', '36', '2')\n    ('ID', '2015', '12', '0', '2014', '28', '4', '2013', '24', '2', '2012', '14', '1')</p>\n"}, {"tags": ["python", "django", "testing"], "comments": [{"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 1, "creation_date": 1452720800, "post_id": 34777396, "comment_id": 57299976, "body": "You need to show us the code where you use <code>homepage</code> and also the related url definitions."}, {"owner": {"reputation": 59, "user_id": 5754112, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c2cee4dfe7a0fb0f5b4225af7f813bfe?s=128&d=identicon&r=PG&f=1", "display_name": "Marksman", "link": "https://stackoverflow.com/users/5754112/marksman"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1452721390, "post_id": 34777396, "comment_id": 57300272, "body": "in this part of app there is no homepage usage can you explain error a bit so i can find a direction to look for cause ?"}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1452721544, "post_id": 34777396, "comment_id": 57300334, "body": "In <code>password_reset.html</code> there might be something like <code>{% url &#39;foo&#39; bar.id %}</code> which would cause this error to happen as well."}, {"owner": {"reputation": 59, "user_id": 5754112, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c2cee4dfe7a0fb0f5b4225af7f813bfe?s=128&d=identicon&r=PG&f=1", "display_name": "Marksman", "link": "https://stackoverflow.com/users/5754112/marksman"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1452722133, "post_id": 34777396, "comment_id": 57300614, "body": "shouldn&#39;t it return PasswordResetForm ?"}], "answers": [{"comments": [{"owner": {"reputation": 718, "user_id": 1465244, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b5ac13ee3bcca060511fa4d187f2b6d?s=128&d=identicon&r=PG", "display_name": "ryanmrubin", "link": "https://stackoverflow.com/users/1465244/ryanmrubin"}, "edited": false, "score": 0, "creation_date": 1452724472, "post_id": 34777829, "comment_id": 57301699, "body": "It might also be a url tag, such as <code>{% url &#39;homepage&#39; %}</code>, instead of a direct call to reverse."}, {"owner": {"reputation": 59, "user_id": 5754112, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c2cee4dfe7a0fb0f5b4225af7f813bfe?s=128&d=identicon&r=PG&f=1", "display_name": "Marksman", "link": "https://stackoverflow.com/users/5754112/marksman"}, "edited": false, "score": 0, "creation_date": 1452774086, "post_id": 34777829, "comment_id": 57322185, "body": "figured it out ... it was just problem with url i was sending requst to , i missed some part of it"}], "tags": [], "owner": {"reputation": 104137, "user_id": 267887, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MzpbS.png?s=128&g=1", "display_name": "Yuji &#39;Tomita&#39; Tomita", "link": "https://stackoverflow.com/users/267887/yuji-tomita-tomita"}, "is_accepted": true, "score": 1, "last_activity_date": 1452722141, "creation_date": 1452722141, "answer_id": 34777829, "question_id": 34777396, "link": "https://stackoverflow.com/questions/34777396/django-how-do-i-determine-what-arguments-are-missing/34777829#34777829", "title": "Django How do i determine what arguments are missing?", "body": "<p>You ask specifically about \"determining which arguments are missing\", but should be irrelevant to your error.</p>\n\n<p>Your error message states that it can't find any URL patterns matching the name \"homepage\", <em>before attempting any argument matching</em>. Therefore no URLs exist named \"homepage\" in your setup. If it was an argument mismatch, you'd see a list of named URLs in the error such as \"tried X urls.\"</p>\n\n<p>Either define a URL named home in your URLConf <code>url(r'^home/$', 'home_view', name=\"homepage\")</code> or find the location that is calling <code>reverse('homepage')</code> and remove it. You will find this information in your traceback.</p>\n"}], "owner": {"reputation": 59, "user_id": 5754112, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c2cee4dfe7a0fb0f5b4225af7f813bfe?s=128&d=identicon&r=PG&f=1", "display_name": "Marksman", "link": "https://stackoverflow.com/users/5754112/marksman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 34777829, "answer_count": 1, "score": 0, "last_activity_date": 1452722141, "creation_date": 1452720616, "question_id": 34777396, "link": "https://stackoverflow.com/questions/34777396/django-how-do-i-determine-what-arguments-are-missing", "title": "Django How do i determine what arguments are missing?", "body": "<p>Trying to access part of code by get request and receiving this error \n<strong>NoReverseMatch: Reverse for 'homepage' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []</strong> looked around for help and i think its that am missing some arguments.\nhere is request am using in my test</p>\n\n<pre><code>req = self.client.get('/password/reset/')\n</code></pre>\n\n<p>and the code it leads to is as:</p>\n\n<pre><code>class PasswordResetEmailView(FormView):\n   template_name = 'temp/password_reset.html'\n   form_class = PasswordResetForm\n   success_url = 'password_reset_ok'\n\n   def get(self, request, *args, **kwargs):\n      form = self.get_form(self.form_class)\n      return self.render_to_response(self.get_context_data(form=form))\n</code></pre>\n\n<p>any guidance ?</p>\n"}, {"tags": ["python", "pandas", "biopython"], "comments": [{"owner": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 0, "creation_date": 1452721471, "post_id": 34777323, "comment_id": 57300303, "body": "As to your last question about if <code>out-file</code> would be restricted to the for loop check out <a href=\"https://stackoverflow.com/questions/3611760/scoping-in-python-for-loops\">Scoping in Python for loops</a>"}, {"owner": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "reply_to_user": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 0, "creation_date": 1452774179, "post_id": 34777323, "comment_id": 57322238, "body": "@JGreenwell - OK, so basically I completely misunderstand the scope of things in python. Good to know..."}], "answers": [{"comments": [{"owner": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "edited": false, "score": 0, "creation_date": 1452721397, "post_id": 34777479, "comment_id": 57300277, "body": "The structure of my data is significantly more complex than I&#39;m indicating here, this example was just for illustrative purposes. I don&#39;t think loading into a <code>DataFrame</code> would work very well."}, {"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "reply_to_user": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "edited": false, "score": 0, "creation_date": 1452721574, "post_id": 34777479, "comment_id": 57300348, "body": "Well how about an illustrative example that better illustrates the case at hand? Also the <code>pandas</code> tag suggests relevance where there seems to be none?"}, {"owner": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "edited": false, "score": 0, "creation_date": 1452724279, "post_id": 34777479, "comment_id": 57301610, "body": "Err... my bad. That was left over from a question I started asking last week and then figured out on my own. Evidently it was cached or something."}, {"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "reply_to_user": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "edited": false, "score": 0, "creation_date": 1452762983, "post_id": 34777479, "comment_id": 57315204, "body": "So do your data look like the result of <code>print record</code> from the page you linked, but as a tuple? How about posting a sample?"}, {"owner": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "edited": false, "score": 0, "creation_date": 1452804712, "post_id": 34777479, "comment_id": 57342147, "body": "Just posted the actual code that works, does that reveal the structure of the data sufficiently or should I post something else? It&#39;s an iterator that contains several things, including a dictionary that I need to grab a particular item from."}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": false, "score": 2, "last_activity_date": 1452721208, "last_edit_date": 1452721208, "creation_date": 1452720888, "answer_id": 34777479, "question_id": 34777323, "link": "https://stackoverflow.com/questions/34777323/opening-and-closing-files-in-a-loop/34777479#34777479", "title": "Opening and closing files in a loop", "body": "<p>If you don't mind using <code>pandas</code>, you could deal with this as follows:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame(l)\ndf.columns = ['name', 'value']\ndf.groupby('name').apply(lambda x: x.to_csv('{}.txt'.format(x['name'].iloc[0]), index=False, header=False))\n</code></pre>\n\n<p>to get three text files named <code>name1.txt</code> etc that look like:</p>\n\n<pre><code>name1,10\nname1,30\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "is_accepted": false, "score": 1, "last_activity_date": 1452721879, "last_edit_date": 1452721879, "creation_date": 1452720901, "answer_id": 34777482, "question_id": 34777323, "link": "https://stackoverflow.com/questions/34777323/opening-and-closing-files-in-a-loop/34777482#34777482", "title": "Opening and closing files in a loop", "body": "<p>Without messing with your code, why don't you just check if the <code>out_file</code> variable exists before closing?</p>\n\n<pre><code>out_file=None\n... #Some code\nif out_file:\n    out_file.close()\n</code></pre>\n\n<p>You could also use a <code>try/except</code> for this.</p>\n\n<p>Or maybe even mayking a class (although overkill):</p>\n\n<pre><code>class f_temp():\n    name = None\n    def close(self):\n        pass\nout_file = f_temp()\n\nfor entry in l:\n    if entry[0] != out_file.name:\n</code></pre>\n\n<h2>        ...</h2>\n\n<p>Now reading a bit more, why don't you sort your data by filename, and just open one file at the time?</p>\n\n<hr>\n\n<p>You could also use a dictionary for this:</p>\n\n<pre><code>file_dict =dict()\nfor filename, value in l:\n    if filename not in file_dict():\n        file_dict[filename] = open(\"{}.txt\".format(filename))\n    file_dict[filename].write(\"{}\\n\".format(entry[1]))\n\nfor item in file_dict.items():\n    item.close()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "edited": false, "score": 0, "creation_date": 1452721780, "post_id": 34777621, "comment_id": 57300441, "body": "Sorry, I should have mentioned, my data is a bit more complicated than I indicated (see edit). Still, this might useful - will have to see if I can figure out if it&#39;s compatible."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1452721871, "post_id": 34777621, "comment_id": 57300481, "body": "This solution really doesn&#39;t depend upon the simplicity of your data. It will work for any sorted sequence. Just make sure that the key function to groupby is the compatible with the key function that sorted the data."}, {"owner": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1452804967, "post_id": 34777621, "comment_id": 57342288, "body": "@Rob\u1d69 I just posted the actual code. The data is sorted in the file that I&#39;m parsing. So I need to read in the file, parse it, and then split it according to a certain criteria: <code>record.annotations[&#39;source&#39;]</code>. The <code>record</code> is an object returned by the iterator, and <code>record.annotations</code> is a dictionary (I think). Can I use the dot operator with itemgetter?"}, {"owner": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "edited": false, "score": 0, "creation_date": 1452805686, "post_id": 34777621, "comment_id": 57342707, "body": "Looks like maybe I can use <code>operator.attrgetter</code>? <a href=\"https://docs.python.org/2/library/operator.html#operator.attrgetter\" rel=\"nofollow noreferrer\">python Docs</a>"}, {"owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "reply_to_user": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "edited": false, "score": 0, "creation_date": 1452805879, "post_id": 34777621, "comment_id": 57342801, "body": "@kevbonham: I think you will have to use <code>lambda record: record.annotations[&#39;source&#39;]</code>."}, {"owner": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "edited": false, "score": 0, "creation_date": 1452806286, "post_id": 34777621, "comment_id": 57343034, "body": "@HughBothwell Rad - that worked! I put the working code at the bottom of this <a href=\"https://gist.github.com/kescobo/49ab9f4b08d8a2691a40\" rel=\"nofollow noreferrer\">gist</a> - do you want to add it to your answer and then I&#39;ll accept it?"}], "tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": true, "score": 5, "last_activity_date": 1452806474, "last_edit_date": 1452806474, "creation_date": 1452721384, "answer_id": 34777621, "question_id": 34777323, "link": "https://stackoverflow.com/questions/34777323/opening-and-closing-files-in-a-loop/34777621#34777621", "title": "Opening and closing files in a loop", "body": "<p>It is easier to use the tools Python provides:</p>\n\n<pre><code>from itertools import groupby\nfrom operator import itemgetter\n\nitems = [\n    ('name1', 10), ('name1', 30),\n    ('name2', 5), ('name2', 7), ('name2', 3),\n    ('name3', 10)\n]\n\nfor name, rows in groupby(items, itemgetter(0)):\n    with open(name + \".txt\", \"w\") as outf:\n        outf.write(\"\\n\".join(str(row[1]) for row in rows))\n</code></pre>\n\n<p><strong>Edit:</strong> to match the updated question, here is the updated solution ;-)</p>\n\n<pre><code>for name, records in groupby(SeqIO.parse(some_genbank, 'gb'), lambda record:record.annotations['source']):\n    with open(name + \".faa\", \"w+\") as outf:\n        for record in records:\n            write_all_record(outf, record)\n</code></pre>\n"}], "owner": {"reputation": 914, "user_id": 3742902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36f4a0d90ac1a178c841c31c4dada0ff?s=128&d=identicon&r=PG", "display_name": "kevbonham", "link": "https://stackoverflow.com/users/3742902/kevbonham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3589, "favorite_count": 0, "accepted_answer_id": 34777621, "answer_count": 3, "score": 1, "last_activity_date": 1463622259, "creation_date": 1452720375, "last_edit_date": 1463622259, "question_id": 34777323, "link": "https://stackoverflow.com/questions/34777323/opening-and-closing-files-in-a-loop", "title": "Opening and closing files in a loop", "body": "<p>Say I have a list of tens of thousands of entries, and I want to write them to files. If the item in the list meets some criteria, I'd like to close the current file and start a new one. </p>\n\n<p>I'm having a couple of issues, I think they're stemming from the fact that I want to name the files be based on the first entry in that file. Also, the signal to start a new file is based on whether an entry has a field that is the same as the previous one. So, for example imagine I have the list:</p>\n\n<pre><code>l = [('name1', 10), ('name1', 30), ('name2', 5), ('name2', 7), ('name2', 3), ('name3', 10)]\n</code></pre>\n\n<p>I'd want to end up with 3 files, <code>name1.txt</code> should contain <code>10</code> and <code>30</code>, <code>name2.txt</code> should have <code>5</code>, <code>7</code> and <code>3</code>, and <code>name3.txt</code> should have <code>10</code>. The list is already sorted by the first element, so all I need to do is check if the first element is the same as the previous and if not, start a new file. </p>\n\n<p>At first I tried:</p>\n\n<pre><code>name = None\nfor entry in l:\n    if entry[0] != name:\n        out_file.close()\n        name = entry[0]\n        out_file = open(\"{}.txt\".format(name))\n        out_file.write(\"{}\\n\".format(entry[1]))\n    else:\n        out_file.write(\"{}\\n\".format(entry[1]))\n\nout_file.close()\n</code></pre>\n\n<p>There are a couple of problems with this as far as I can tell. First, the first time through the loop, there's no <code>out_file</code> to close. Second, I can't close the last <code>out_file</code> created, since it's defined inside the loop. The following solves the first problem, but seems clunky:</p>\n\n<pre><code>for entry in l:\n    if name:\n        if entry[0] != name:\n            out_file.close()\n            name = entry[0]\n            out_file = open(\"{}.txt\".format(name))\n            out_file.write(\"{}\\n\".format(entry[1]))\n        else:\n            out_file.write(\"{}\\n\".format(entry[1]))\n    else:\n        name = entry[0]\n        out_file = open(\"{}.txt\".format(name))\n        out_file.write(\"{}\\n\".format(entry[1]))\n\nout_file.close()\n</code></pre>\n\n<p>Is there a better way to do this? </p>\n\n<p>And also, this doesn't seem like it should solve the problem of closing the last file, though this code runs fine - am I misunderstanding the scope of <code>out_file</code>? I thought it would be restricted to inside the <code>for</code> loop. </p>\n\n<p>EDIT: I should probably have mentioned, my data is far more complex than indicated here... it's not actually in a list, it's a <a href=\"http://biopython.org/wiki/SeqRecord\" rel=\"nofollow\"><code>SeqRecord</code> from BioPython</a></p>\n\n<p>EDIT 2: OK, I thought I was simplifying in order to avoid distraction. Apparently had the opposite effect - <em>mea culpa</em>. The following is the equivalent of the second code block above, :</p>\n\n<pre><code>from re import sub\nfrom Bio import SeqIO\n\ndef gbk_to_faa(some_genbank):\n    source = None\n    for record in SeqIO.parse(some_genbank, 'gb'):\n        if source:\n            if record.annotations['source'] != source:\n                out_file.close()\n                source = sub(r'\\W+', \"_\", sub(r'\\W$', \"\", record.annotations['source']))\n                out_file = open(\"{}.faa\".format(source), \"a+\")\n                write_all_record(out_file, record)\n            else:\n                write_all_record(out_file, record)\n        else:\n            source = sub(r'\\W+', \"_\", sub(r'\\W$', \"\", record.annotations['source']))\n            out_file = open(\"{}.faa\".format(source), \"a+\")\n            write_all_record(out_file, record)\n\n    out_file.close()\n\n\ndef write_all_record(file_handle, gbk_record):\n    # Does more stuff, I don't think this is important\n    # If it is, it's in this gist: https://gist.github.com/kescobo/49ab9f4b08d8a2691a40\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1452720651, "post_id": 34777313, "comment_id": 57299911, "body": "Why don&#39;t you use <code>None</code> in <code>child</code>, too? Given that you&#39;re aware of the problem, it seems like an odd thing to do."}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1452720735, "post_id": 34777313, "comment_id": 57299950, "body": "I think you mean lists are <i>mutable</i>."}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1452720803, "post_id": 34777313, "comment_id": 57299979, "body": "Keep in mind <code>parent_board</code> in <code>child</code> is being modified as it is mutable as well."}, {"owner": {"reputation": 9, "user_id": 5786637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90cb1278d4ba47ac123ef6dc6178f10f?s=128&d=identicon&r=PG&f=1", "display_name": "K. Moteluk", "link": "https://stackoverflow.com/users/5786637/k-moteluk"}, "reply_to_user": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1452721188, "post_id": 34777313, "comment_id": 57300179, "body": "@Kupiakos Yes, indeed, sorry, English isn&#39;t my native language and got I memorized wording wrong :D And yeah, i missed that part. So you are saying that copying everytime parent_board and passing different copy to child node will solve problem?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452721629, "post_id": 34777313, "comment_id": 57300377, "body": "You did the <code>None</code> thing right in <code>__init__</code>, but you seem to have forgotten it in <code>child</code>."}, {"owner": {"reputation": 9, "user_id": 5786637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90cb1278d4ba47ac123ef6dc6178f10f?s=128&d=identicon&r=PG&f=1", "display_name": "K. Moteluk", "link": "https://stackoverflow.com/users/5786637/k-moteluk"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452722004, "post_id": 34777313, "comment_id": 57300547, "body": "@user2357112 You mean by creating new child nodes as node(depth, None)? Or i misunderstood you? (Because it doesn&#39;t seem to help)"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452722075, "post_id": 34777313, "comment_id": 57300587, "body": "@K.Moteluk: Look at that <code>parent_board</code> default argument. Why is that a list? (It doesn&#39;t seem to be your only bug, but it&#39;s one of them.)"}, {"owner": {"reputation": 9, "user_id": 5786637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90cb1278d4ba47ac123ef6dc6178f10f?s=128&d=identicon&r=PG&f=1", "display_name": "K. Moteluk", "link": "https://stackoverflow.com/users/5786637/k-moteluk"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452722161, "post_id": 34777313, "comment_id": 57300624, "body": "@user2357112 Because it is supposed to be a list as a representation of my board (7x6 elements with dots)."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452722215, "post_id": 34777313, "comment_id": 57300646, "body": "@K.Moteluk: Do you understand why you set a default <code>board=None</code> instead of <code>board=[]</code> in <code>__init__</code>?"}, {"owner": {"reputation": 9, "user_id": 5786637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90cb1278d4ba47ac123ef6dc6178f10f?s=128&d=identicon&r=PG&f=1", "display_name": "K. Moteluk", "link": "https://stackoverflow.com/users/5786637/k-moteluk"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452722588, "post_id": 34777313, "comment_id": 57300850, "body": "@user2357112 I&#39;ve read that every instance of class would share same list if not for making it as &quot;None&quot; in default. I hoped that this would create different lists for every instance?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452722726, "post_id": 34777313, "comment_id": 57300912, "body": "@K.Moteluk: Do you understand <i>why</i> the instances would share their <code>board</code> lists? The same logic applies to your <code>parent_board</code> argument."}, {"owner": {"reputation": 9, "user_id": 5786637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90cb1278d4ba47ac123ef6dc6178f10f?s=128&d=identicon&r=PG&f=1", "display_name": "K. Moteluk", "link": "https://stackoverflow.com/users/5786637/k-moteluk"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452723077, "post_id": 34777313, "comment_id": 57301094, "body": "@user2357112 Oh my gosh i got it now, that&#39;s why i am supposed to create COPY of the parent_board every iteration in loop and pass it to instance! It works! I owe you big time, thank you for patience and leading me to answer!"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5786637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90cb1278d4ba47ac123ef6dc6178f10f?s=128&d=identicon&r=PG&f=1", "display_name": "K. Moteluk", "link": "https://stackoverflow.com/users/5786637/k-moteluk"}, "edited": false, "score": 0, "creation_date": 1452721385, "post_id": 34777459, "comment_id": 57300269, "body": "You mean like making a copy within class <b>init</b> method or making a copy of parent_board when passing it to children?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1452725139, "post_id": 34777459, "comment_id": 57302017, "body": "Given it&#39;s a <code>list</code>, the <code>copy</code> module is overkill; if you don&#39;t trust it to be a <code>list</code> and want to coerce, do <code>self.board = list(board)</code>, if you trust it to be a <code>list</code>, just use <code>self.board = board[:]</code>, which is the fastest way to shallow copy a sequence (and IMO, most Pythonic, but I&#39;ll acknowledge this is a matter where opinion differs). Using <code>copy.copy</code> is slower than the &quot;empty&quot; slice, and doesn&#39;t give the type checking/coercing benefits of the <code>list</code> constructor."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 9, "user_id": 5786637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90cb1278d4ba47ac123ef6dc6178f10f?s=128&d=identicon&r=PG&f=1", "display_name": "K. Moteluk", "link": "https://stackoverflow.com/users/5786637/k-moteluk"}, "edited": false, "score": 0, "creation_date": 1452725268, "post_id": 34777459, "comment_id": 57302086, "body": "@K.Moteluk: It would be up to you, based on use case. If you trust other callers to pass <code>list</code>s that they won&#39;t modify, then you&#39;d only <i>need</i> to do the work when passing the <code>list</code> to the children. But for safety, it&#39;s probably best to shallow copy unconditionally in the constructor, to reduce possible data dependencies (the cost to copy is small, the programmer cost to ensure they don&#39;t accidentally mutate a <code>list</code> passed to the function after initialization is high)."}, {"owner": {"reputation": 1434, "user_id": 4265407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209b5e4f4666054de216028dc8c8c776?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Ivanov", "link": "https://stackoverflow.com/users/4265407/stanislav-ivanov"}, "reply_to_user": {"reputation": 9, "user_id": 5786637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90cb1278d4ba47ac123ef6dc6178f10f?s=128&d=identicon&r=PG&f=1", "display_name": "K. Moteluk", "link": "https://stackoverflow.com/users/5786637/k-moteluk"}, "edited": false, "score": 0, "creation_date": 1452768194, "post_id": 34777459, "comment_id": 57318536, "body": "@K.Moteluk: I think that copy should to be done in node constructor for decomposition reasons. If <code>parent_board</code> is exactly a list, making an empty slice is a fastest method, see @ShadowRanger comment for details. Or <a href=\"http://stackoverflow.com/questions/2612802/how-to-clone-or-copy-a-list-in-python\">this</a>."}], "tags": [], "owner": {"reputation": 1434, "user_id": 4265407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209b5e4f4666054de216028dc8c8c776?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Ivanov", "link": "https://stackoverflow.com/users/4265407/stanislav-ivanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1452720796, "creation_date": 1452720796, "answer_id": 34777459, "question_id": 34777313, "link": "https://stackoverflow.com/questions/34777313/python-list-of-objects-with-list-attribute/34777459#34777459", "title": "Python - List of objects (with list attribute)", "body": "<p>You can copy your list in node function, something like:</p>\n\n<pre><code>import copy\n\n...\n\n    self.board = copy.copy(board)\n</code></pre>\n\n<p>Details: <a href=\"https://docs.python.org/2/library/copy.html\" rel=\"nofollow\">https://docs.python.org/2/library/copy.html</a></p>\n"}], "owner": {"reputation": 9, "user_id": 5786637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90cb1278d4ba47ac123ef6dc6178f10f?s=128&d=identicon&r=PG&f=1", "display_name": "K. Moteluk", "link": "https://stackoverflow.com/users/5786637/k-moteluk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480467772, "creation_date": 1452720344, "last_edit_date": 1480467772, "question_id": 34777313, "link": "https://stackoverflow.com/questions/34777313/python-list-of-objects-with-list-attribute", "title": "Python - List of objects (with list attribute)", "body": "<p>This is part of my 'connect4' game code in python, where I try to create new nodes with different board setup.</p>\n\n<pre><code>class  node(object):\n    def __init__(self, depth,board=None):\n        if board is None:\n            board = []\n        self.board = board\n        self.depth = depth\n</code></pre>\n\n<p>I define instance like that:</p>\n\n<pre><code>start = node(2,new_board)\n</code></pre>\n\n<p>Where new_board is list[7x6] filled with dots.</p>\n\n<p>Afterwards I try to create child nodes with this function:</p>\n\n<pre><code>def child(depth, parent_board = []):\n    children = [node(depth,[]) for x in range(7)]\n    for x in range(7):\n        y = 5\n        while(y &gt;= 0 and (parent_board[x,y] == 'O' or parent_board[x,y] == 'X')):\n            y = y-1\n        parent_board[x,y] = 'O'\n        if (depth &gt;=0):\n            children[x] = node(depth-1, parent_board)\n            children[x].board = parent_board\n        parent_board[x,y] = '.'\n    return children\n</code></pre>\n\n<p>The modification of parent board is correct, but whenever I try to pass it to my children in array, every single children receives the same array. </p>\n\n<p>I understand that lists are mutable in python (that's why I used that 'None' thing in class <code>__init__</code> function), but nevertheless I cant make every children to have different lists.</p>\n"}, {"tags": ["python", "amazon-mws"], "answers": [{"comments": [{"owner": {"reputation": 565, "user_id": 2565753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M9gdW.jpg?s=128&g=1", "display_name": "Brent D.", "link": "https://stackoverflow.com/users/2565753/brent-d"}, "edited": false, "score": 0, "creation_date": 1452897270, "post_id": 34777817, "comment_id": 57384601, "body": "May be helpful in the future... Python class that does just that. <a href=\"https://github.com/amzn/login-and-pay-with-amazon-sdk-python/blob/master/pay_with_amazon/payment_request.py\" rel=\"nofollow noreferrer\">github.com/amzn/login-and-pay-with-amazon-sdk-python/blob/&hellip;</a>"}], "tags": [], "owner": {"reputation": 353, "user_id": 3666600, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/602fd2abc1cd040c213a27c5760b46e4?s=128&d=identicon&r=PG&f=1", "display_name": "Scribble_Scratch", "link": "https://stackoverflow.com/users/3666600/scribble-scratch"}, "is_accepted": false, "score": 2, "last_activity_date": 1452722107, "creation_date": 1452722107, "answer_id": 34777817, "question_id": 34777296, "link": "https://stackoverflow.com/questions/34777296/amazon-mws-error-signaturedoesnotmatch-python/34777817#34777817", "title": "Amazon MWS Error SignatureDoesNotMatch (Python)", "body": "<p>Well, I figured it out. Simply changed the method from 'POST' to 'GET'.</p>\n\n<p>Been fighting with this for days -- figures it would be something as simple as that!</p>\n"}], "owner": {"reputation": 353, "user_id": 3666600, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/602fd2abc1cd040c213a27c5760b46e4?s=128&d=identicon&r=PG&f=1", "display_name": "Scribble_Scratch", "link": "https://stackoverflow.com/users/3666600/scribble-scratch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1490518852, "creation_date": 1452720289, "last_edit_date": 1490518852, "question_id": 34777296, "link": "https://stackoverflow.com/questions/34777296/amazon-mws-error-signaturedoesnotmatch-python", "title": "Amazon MWS Error SignatureDoesNotMatch (Python)", "body": "<p>I'm currently getting the following error when trying to submit requests to Amazon Marketplace WebService:</p>\n\n<pre><code>The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details. 62baed22-cc14-49bd-bf34-c1eb10bc4019\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>import sys, os, base64, datetime, hashlib, hmac, urllib\nfrom time import gmtime, strftime\nfrom requests import request\nimport urllib.parse\nimport urllib.request\nimport dateutil.parser\n\ndef get_timestamp():\n    time = strftime(\"%Y-%m-%dT%H:%M:%SZ\", gmtime())\n    return dateutil.parser.parse(time)\n\ndef calc_signature(method, domain, URI, request_description, key):\n    sig_data = method + '\\n' + \\\n        domain.lower() + '\\n' + \\\n        URI + '\\n' + \\\n        request_description\n\n    hmac_obj = hmac.new(key.encode(), sig_data.encode(), hashlib.sha256)\n    digest = hmac_obj.digest()\n\n    return urllib.parse.quote(base64.b64encode(digest), safe='-_+=/.~')\n\nSECRET_KEY = 'XXXXXXXX'\nAWS_ACCESS_KEY = 'XXXXXXXX'\nSELLER_ID = 'XXXXXXXX'\nMARKETPLACE_ID = 'XXXXXXXX'\nMWS_AUTH_TOKEN = 'XXXXXXXXXXX'\n\nAction = 'GetLowestPricedOffersForASIN'\nSignatureMethod = 'HmacSHA256'\nSignatureVersion = '2'\nTimestamp = get_timestamp()\nVersion = '2011-10-01'\nCreatedAfter = '2011-10-01T23:00:57Z'\nURI = '/Products/2011-10-01'\ndomain = 'mws.amazonservices.com'\nproto = 'https://'\nmethod = 'POST'\nASIN = 'B004KZQVF4'\nitemcondition = 'New'\n\npayload = {\n    'AWSAccessKeyId': AWS_ACCESS_KEY,\n    'Action': Action,\n    'SellerId': SELLER_ID,\n    'MWSAuthToken': MWS_AUTH_TOKEN,\n    'SignatureVersion': SignatureVersion,\n    'Timestamp': '2016-01-08T05%3A32%3A48Z',\n    'Version': Version,\n    'SignatureMethod': SignatureMethod,\n    'CreatedAfter': CreatedAfter,\n    'MarketplaceId.Id.1': MARKETPLACE_ID,\n    'ASIN': ASIN,\n    'ItemCondition': itemcondition\n}\n\nrequest_description = '&amp;'.join(['%s=%s' % (k, urllib.parse.quote(payload[k], safe='-_+=/.~').encode('utf-8')) for k in sorted(payload)])\n\nsig = calc_signature(method, domain, URI, request_description, SECRET_KEY)\n\nurl = '%s%s?%s&amp;Signature=%s' % \\\n    (proto+domain, URI, request_description, urllib.parse.quote(sig))\n\nheaders = {\n    'Host': domain,\n    'Content-Type': 'text/xml',\n    'x-amazon-user-agent': 'python-requests/1.2.0 (Language=Python)'\n}\n\nresponse = request(method, url, headers=headers)\n</code></pre>\n\n<p>URL output:</p>\n\n<pre><code>https://mws.amazonservices.com/Products/2011-10-01?ASIN=XXXXXXX&amp;AWSAccessKeyId=XXXXXXX&amp;Action=GetLowestPricedOffersForASIN&amp;CreatedAfter=2014-08-26T23%3A00%3A57Z&amp;ItemCondition=New&amp;MWSAuthToken=XXXXXXX&amp;MarketplaceId.Id.1=XXXXXXX&amp;SellerId=XXXXXXX&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2016-01-13T21%3A08%3A57Z&amp;Version=2013-09-01&amp;Signature=hwooJu0FeDs3j26mEUN8of5buSI/QsgY54kVCUsAirw%3D\n</code></pre>\n\n<p>Obviously there's something wrong with how the signature is being generated, but I can't narrow down the exact cause.</p>\n"}, {"tags": ["python", "beautifulsoup", "scrape"], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 4000834, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e5e6ca71d685eb78b42022b3f15fd56?s=128&d=identicon&r=PG&f=1", "display_name": "Alex TheWebGroup", "link": "https://stackoverflow.com/users/4000834/alex-thewebgroup"}, "edited": false, "score": 0, "creation_date": 1452721038, "post_id": 34777350, "comment_id": 57300096, "body": "Yeah this would work, but I am trying to do it on a webpage which has a ton of &lt;a hrefs&gt;. I am looking to scrape particularly in that span class, the a hrefs."}, {"owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "reply_to_user": {"reputation": 159, "user_id": 4000834, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e5e6ca71d685eb78b42022b3f15fd56?s=128&d=identicon&r=PG&f=1", "display_name": "Alex TheWebGroup", "link": "https://stackoverflow.com/users/4000834/alex-thewebgroup"}, "edited": false, "score": 0, "creation_date": 1452721475, "post_id": 34777350, "comment_id": 57300304, "body": "@AlexTheWebGroup I&#39;ve updated my answer - should be exactly what you want now."}, {"owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "edited": false, "score": 0, "creation_date": 1452721693, "post_id": 34777350, "comment_id": 57300405, "body": "It is a bit pricey to search for links in the <code>span</code> with <code>soup.find_all(&#39;a&#39;)</code>. Why not search only the <code>span</code> element itself?"}, {"owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "reply_to_user": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "edited": false, "score": 1, "creation_date": 1452721753, "post_id": 34777350, "comment_id": 57300431, "body": "@dm295 - agreed, typo!"}, {"owner": {"reputation": 159, "user_id": 4000834, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e5e6ca71d685eb78b42022b3f15fd56?s=128&d=identicon&r=PG&f=1", "display_name": "Alex TheWebGroup", "link": "https://stackoverflow.com/users/4000834/alex-thewebgroup"}, "edited": false, "score": 0, "creation_date": 1452721881, "post_id": 34777350, "comment_id": 57300487, "body": "Yeah this works, but how do I get the actual text from the &lt;a&gt; &lt;/a&gt; tags? I remember it was something with .contents but don&#39;t know exactly."}, {"owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "edited": false, "score": 1, "creation_date": 1452721930, "post_id": 34777350, "comment_id": 57300506, "body": "Add <code>print link.text</code> inside the <code>for</code> loop"}], "tags": [], "owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "is_accepted": true, "score": 5, "last_activity_date": 1452721738, "last_edit_date": 1452721738, "creation_date": 1452720490, "answer_id": 34777350, "question_id": 34777289, "link": "https://stackoverflow.com/questions/34777289/extracting-anchor-text-from-span-class-with-beautifulsoup/34777350#34777350", "title": "Extracting anchor text from span class with BeautifulSoup", "body": "<p>You could do the following:</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\ncontent = '''\n&lt;span class=\"meta-attributes__attr-tags\"&gt;\n&lt;a href=\"/tags/cinematic\" title=\"cinematic\"&gt;cinematic&lt;/a&gt;, \n&lt;a href=\"/tags/dissolve\" title=\"dissolve\"&gt;dissolve&lt;/a&gt;,\n&lt;a href=\"/tags/epic\" title=\"epic\"&gt;epic&lt;/a&gt;,\n&lt;a href=\"/tags/fly\" title=\"fly\"&gt;fly&lt;/a&gt;,\n&lt;/span&gt;\n'''\n\nsoup = BeautifulSoup(content)\nspans = soup.find_all(\"span\", {\"class\": \"meta-attributes__attr-tags\"})\nfor span in spans:\n    links = span.find_all('a')\n    for link in links:\n        print link['href']\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>/tags/cinematic\n/tags/dissolve\n/tags/epic\n/tags/fly\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 4000834, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e5e6ca71d685eb78b42022b3f15fd56?s=128&d=identicon&r=PG&f=1", "display_name": "Alex TheWebGroup", "link": "https://stackoverflow.com/users/4000834/alex-thewebgroup"}, "edited": false, "score": 0, "creation_date": 1452721850, "post_id": 34777538, "comment_id": 57300472, "body": "Yeah this works, but how do I get the actual text from the &lt;a&gt; &lt;/a&gt; tags? I remember it was something with .contents but don&#39;t know exactly."}, {"owner": {"reputation": 3278, "user_id": 2812618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f8b8cee3bc4770b1de4921f5192acd?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Zalkow", "link": "https://stackoverflow.com/users/2812618/frank-zalkow"}, "reply_to_user": {"reputation": 159, "user_id": 4000834, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e5e6ca71d685eb78b42022b3f15fd56?s=128&d=identicon&r=PG&f=1", "display_name": "Alex TheWebGroup", "link": "https://stackoverflow.com/users/4000834/alex-thewebgroup"}, "edited": false, "score": 0, "creation_date": 1452726944, "post_id": 34777538, "comment_id": 57302729, "body": "Use <code>link.getText()</code> instead of <code>link[&#39;href&#39;]</code> if you want to get the content. Or if it can contain child elements, <code>link.contents</code> gives a list of the contents."}], "tags": [], "owner": {"reputation": 3278, "user_id": 2812618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f8b8cee3bc4770b1de4921f5192acd?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Zalkow", "link": "https://stackoverflow.com/users/2812618/frank-zalkow"}, "is_accepted": false, "score": 2, "last_activity_date": 1452721109, "creation_date": 1452721109, "answer_id": 34777538, "question_id": 34777289, "link": "https://stackoverflow.com/questions/34777289/extracting-anchor-text-from-span-class-with-beautifulsoup/34777538#34777538", "title": "Extracting anchor text from span class with BeautifulSoup", "body": "<p><code>link.find_all('a')</code> returns a list with bs4 Tags. You probably want to index each of this links by <code>href</code>. So maybe this comes closer to your needs:</p>\n\n<pre><code>span = soup.find_all(\"span\", {\"class\": \"meta-attributes__attr-tags\"})\nfor links in span:\n    for link in links.find_all('a'):\n        print(link['href'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "is_accepted": false, "score": 3, "last_activity_date": 1452722281, "last_edit_date": 1452722281, "creation_date": 1452721547, "answer_id": 34777666, "question_id": 34777289, "link": "https://stackoverflow.com/questions/34777289/extracting-anchor-text-from-span-class-with-beautifulsoup/34777666#34777666", "title": "Extracting anchor text from span class with BeautifulSoup", "body": "<pre><code>from bs4 import BeautifulSoup\n\nhtml = \"\"\"\n&lt;span class=\"meta-attributes__attr-tags\"&gt;\n&lt;a href=\"/tags/cinematic\" title=\"cinematic\"&gt;cinematic&lt;/a&gt;, \n&lt;a href=\"/tags/dissolve\" title=\"dissolve\"&gt;dissolve&lt;/a&gt;,\n&lt;a href=\"/tags/epic\" title=\"epic\"&gt;epic&lt;/a&gt;,\n&lt;a href=\"/tags/fly\" title=\"fly\"&gt;fly&lt;/a&gt;,\n&lt;/span&gt;\n\"\"\"\n\nsoup = BeautifulSoup(html, \"lxml\")\nspans = soup.find_all(\"span\", {\"class\": \"meta-attributes__attr-tags\"})\n\nfor span in spans:\n    for link in span.find_all('a'):\n        print link.text, link['href']\n</code></pre>\n\n<p>Another, pricier, way could be:</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\nhtml = \"\"\"\n&lt;span class=\"meta-attributes__attr-tags\"&gt;\n&lt;a href=\"/tags/cinematic\" title=\"cinematic\"&gt;cinematic&lt;/a&gt;,\n&lt;a href=\"/tags/dissolve\" title=\"dissolve\"&gt;dissolve&lt;/a&gt;,\n&lt;a href=\"/tags/epic\" title=\"epic\"&gt;epic&lt;/a&gt;,\n&lt;a href=\"/tags/fly\" title=\"fly\"&gt;fly&lt;/a&gt;,\n&lt;/span&gt;\n\"\"\"\n\nsoup = BeautifulSoup(html, \"lxml\")\nlinks = soup.find_all(\"a\")\n\nfor link in links:\n    if 'meta-attributes__attr-tags' not in link.parent.get('class', []):\n        continue\n\n    print link.text, link['href']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1452731794, "creation_date": 1452731794, "answer_id": 34779703, "question_id": 34777289, "link": "https://stackoverflow.com/questions/34777289/extracting-anchor-text-from-span-class-with-beautifulsoup/34779703#34779703", "title": "Extracting anchor text from span class with BeautifulSoup", "body": "<p>You may avoid nested loops or any additional if checks inside a loop by using a <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors\" rel=\"nofollow\">CSS selector</a>:</p>\n\n<pre><code>for link in soup.select(\".meta-attributes__attr-tags a[href]\"):\n    print(link[\"href\"], link.get_text())\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 4000834, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e5e6ca71d685eb78b42022b3f15fd56?s=128&d=identicon&r=PG&f=1", "display_name": "Alex TheWebGroup", "link": "https://stackoverflow.com/users/4000834/alex-thewebgroup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3313, "favorite_count": 1, "accepted_answer_id": 34777350, "answer_count": 4, "score": 4, "last_activity_date": 1452731794, "creation_date": 1452720267, "question_id": 34777289, "link": "https://stackoverflow.com/questions/34777289/extracting-anchor-text-from-span-class-with-beautifulsoup", "title": "Extracting anchor text from span class with BeautifulSoup", "body": "<p>This is the html I am trying to scrape:</p>\n\n<pre><code>&lt;span class=\"meta-attributes__attr-tags\"&gt;\n&lt;a href=\"/tags/cinematic\" title=\"cinematic\"&gt;cinematic&lt;/a&gt;, \n&lt;a href=\"/tags/dissolve\" title=\"dissolve\"&gt;dissolve&lt;/a&gt;,\n&lt;a href=\"/tags/epic\" title=\"epic\"&gt;epic&lt;/a&gt;,\n&lt;a href=\"/tags/fly\" title=\"fly\"&gt;fly&lt;/a&gt;,\n&lt;/span&gt;\n</code></pre>\n\n<p>I want to get the anchor text for each a href: cinematic, dissolve, epic, etc.</p>\n\n<p>This is the code I have:</p>\n\n<pre><code>url = urllib2.urlopen(\"http: example.com\")\n\ncontent = url.read()\nsoup = BeautifulSoup(content)\n\nlinks = soup.find_all(\"span\", {\"class\": \"meta-attributes__attr-tags\"})\nfor link in links:\n    print link.find_all('a')['href']\n</code></pre>\n\n<p>If I do it with \"link.find_all\" I get error: TypeError: List indices must be integers, not str.</p>\n\n<p>But if I do print link.find('a')['href'] I get the first one only.</p>\n\n<p>How can I get all of them ? </p>\n"}, {"tags": ["python", "tornado"], "answers": [{"comments": [{"owner": {"reputation": 7274, "user_id": 198301, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b85858c8092862d570cf864a2c1d2a03?s=128&d=identicon&r=PG", "display_name": "ericg", "link": "https://stackoverflow.com/users/198301/ericg"}, "edited": false, "score": 0, "creation_date": 1452777235, "post_id": 34778702, "comment_id": 57324222, "body": "Bingo. The solution was to do r&quot;/data/(.*)&quot;"}], "tags": [], "owner": {"reputation": 10401, "user_id": 681044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWZ3c.jpg?s=128&g=1", "display_name": "kwarunek", "link": "https://stackoverflow.com/users/681044/kwarunek"}, "is_accepted": true, "score": 2, "last_activity_date": 1452726048, "creation_date": 1452726048, "answer_id": 34778702, "question_id": 34777260, "link": "https://stackoverflow.com/questions/34777260/downloading-a-file-served-by-a-tornado-web-server/34778702#34778702", "title": "Downloading a file served by a tornado web server", "body": "<p><code>scriptpath</code> you haven't shown, is probably wrong. In <code>path</code> you should provide root dir to the files, in URI matcher capture only the file or so. Simple example:</p>\n\n<pre><code>import tornado.ioloop\nimport tornado.web\nimport os\n\nclass MainHandler(tornado.web.RequestHandler):\n    def get(self):\n        self.write(\"Hello, world\")\n\ndef make_app():\n    script_path = os.path.dirname(__file__)\n    return tornado.web.Application([\n        (r\"/\", MainHandler),\n        (r\"/data/(.*)\", tornado.web.StaticFileHandler, {\"path\": script_path}),\n        #         ^ we capture only this part\n    ])\n\nif __name__ == \"__main__\":\n    app = make_app()\n    app.listen(8888)\n    tornado.ioloop.IOLoop.current().start()\n</code></pre>\n\n<p>As you can run it works, but it is recommended to store static/data files in separate directory, because it is possible to download everything from the app root dir, including python one.</p>\n\n<p>So put your downloadable file e.g. in data subdirectory and then</p>\n\n<pre><code>script_path = os.path.join(os.path.dirname(__file__), 'data')\n</code></pre>\n\n<p>More info about <a href=\"http://www.tornadoweb.org/en/stable/web.html?highlight=staticfilehandler#tornado.web.StaticFileHandler\" rel=\"nofollow\">StaticFileHandler</a>.</p>\n\n<p><strong>edit</strong></p>\n\n<p>The error you are getting is because in your code <code>/data</code> route has StaticFileHandler, but nothing is captured <code>()</code> from requested path.</p>\n"}], "owner": {"reputation": 7274, "user_id": 198301, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b85858c8092862d570cf864a2c1d2a03?s=128&d=identicon&r=PG", "display_name": "ericg", "link": "https://stackoverflow.com/users/198301/ericg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2723, "favorite_count": 0, "accepted_answer_id": 34778702, "answer_count": 1, "score": 3, "last_activity_date": 1452726048, "creation_date": 1452720155, "question_id": 34777260, "link": "https://stackoverflow.com/questions/34777260/downloading-a-file-served-by-a-tornado-web-server", "title": "Downloading a file served by a tornado web server", "body": "<p>This is how I have my tornado web server currently defined:</p>\n\n<pre><code>application = tornado.web.Application([\n    tornado.web.url(r\"/server\", MainHandler),\n    tornado.web.url(r\"/(.*)\", tornado.web.StaticFileHandler, { \"path\": scriptpath,  \"default_filename\": \"index.html\" }),\n])\n</code></pre>\n\n<p>index.html is the start page of a web based gui. It will communicate with the backend server through http:///server and the requests by the gui to the server are handled by the MainHandler function.</p>\n\n<p>The directory structure looks like:</p>\n\n<pre><code>root_directory/\n    server.py\n    fileiwanttodownload.tar.gz\n    index.html\n</code></pre>\n\n<p>I would like to be able to type into the browser:</p>\n\n<p>http:///data/fileiwanttodownload.tar.gz</p>\n\n<p>and have the file delivered to me as a regular file download.</p>\n\n<p>What I have tried to do is:</p>\n\n<pre><code>application = tornado.web.Application([\n    tornado.web.url(r\"/server\", MainHandler),\n    tornado.web.url(r\"/data\", tornado.web.StaticFileHandler, { \"path\": scriptpath } ),\n    tornado.web.url(r\"/(.*)\", tornado.web.StaticFileHandler, { \"path\": scriptpath,  \"default_filename\": \"index.html\" }),\n])\n</code></pre>\n\n<p>But this is not working for reasons that are probably obvious to those who know the answer.</p>\n\n<p>The only clue I have is the following error message:</p>\n\n<pre><code>Uncaught exception GET /data (192.168.4.168)\nHTTPServerRequest(protocol='http', host='192.168.4.195:8888', method='GET', uri='/data', version='HTTP/1.1', remote_ip='192.168.4.168', headers={'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/601.3.9 (KHTML, like Gecko) Version/9.0.2 Safari/601.3.9', 'Host': '192.168.4.195:8888', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Connection': 'keep-alive', 'Accept-Language': 'en-us'})\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.4/dist-packages/tornado/web.py\", line 1445, in _execute\n    result = yield result\n  File \"/usr/local/lib/python3.4/dist-packages/tornado/gen.py\", line 1008, in run\n    value = future.result()\n  File \"/usr/local/lib/python3.4/dist-packages/tornado/concurrent.py\", line 232, in result\n    raise_exc_info(self._exc_info)\n  File \"&lt;string&gt;\", line 3, in raise_exc_info\n  File \"/usr/local/lib/python3.4/dist-packages/tornado/gen.py\", line 267, in wrapper\n    result = func(*args, **kwargs)\nTypeError: get() missing 1 required positional argument: 'path'\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1452720567, "post_id": 34777259, "comment_id": 57299868, "body": "So what is the expected output? <code>3</code> or <code>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</code>."}, {"owner": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 0, "creation_date": 1452720644, "post_id": 34777259, "comment_id": 57299906, "body": "I think OP wants only the length not the list that corresponds to it."}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 5, "last_activity_date": 1452720371, "last_edit_date": 1452720371, "creation_date": 1452720214, "answer_id": 34777274, "question_id": 34777259, "link": "https://stackoverflow.com/questions/34777259/print-biggest-len-of-several-lists/34777274#34777274", "title": "Print biggest len of several lists", "body": "<p>Use the <a href=\"https://docs.python.org/2/library/functions.html#max\"><code>max()</code> function</a> with a <a href=\"https://docs.python.org/2/tutorial/classes.html#generator-expressions\">generator expression</a>:</p>\n\n<pre><code>max(len(l) for l in somelist)\n</code></pre>\n\n<p>This calculates the length for each sublist and returns the largest one.</p>\n\n<p>If instead you wanted to extract the list with the longest length itself (so <code>['a', 'b', 'c']</code> rather than <code>3</code>, use <code>len</code> as the <code>key</code> argument:</p>\n\n<pre><code>max(somelist, key=len)\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; somelist = [['a', 'b', 'c'], ['a', 'b']]\n&gt;&gt;&gt; max(len(l) for l in somelist)\n3\n&gt;&gt;&gt; max(somelist, key=len)\n['a', 'b', 'c']\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5577584, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207630440055929/picture?type=large", "display_name": "Stephanie Aboud", "link": "https://stackoverflow.com/users/5577584/stephanie-aboud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452720535, "creation_date": 1452720154, "last_edit_date": 1452720535, "question_id": 34777259, "link": "https://stackoverflow.com/questions/34777259/print-biggest-len-of-several-lists", "title": "Print biggest len of several lists", "body": "<p>I have several lists in one list and I want to compare the length of the lists and print the list with biggest number of <code>len</code>.</p>\n\n<p>example:</p>\n\n<pre><code>somelist = [['a','b','c'],['a','b']]\n</code></pre>\n\n<p>the first list has a bigger len (3) than the second list (2), how do I print this in python? </p>\n"}, {"tags": ["python", "web-scraping", "lxml", "cloud9-ide"], "comments": [{"owner": {"reputation": 168, "user_id": 1912144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/219220e8b5b5d6b4a1133f729db384cc?s=128&d=identicon&r=PG", "display_name": "Justin", "link": "https://stackoverflow.com/users/1912144/justin"}, "edited": false, "score": 0, "creation_date": 1452726855, "post_id": 34777227, "comment_id": 57302696, "body": "do you get an error if you run python in a terminal and import lxml in there?  What is the full error you&#39;re seeing? and how are you running the script? is it from the terminal or from the python runner? Do you have a shebang specifying the correct python version?"}], "owner": {"reputation": 1445, "user_id": 2981600, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/29a5ddb44f1b4156fea5db74720026fd?s=128&d=identicon&r=PG", "display_name": "user137717", "link": "https://stackoverflow.com/users/2981600/user137717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1452721432, "creation_date": 1452720027, "last_edit_date": 1452721432, "question_id": 34777227, "link": "https://stackoverflow.com/questions/34777227/cant-import-lxml-using-python-and-cloud-9", "title": "Can&#39;t Import LXML Using Python and Cloud 9", "body": "<p>I'm trying to run a simple script and pull some values out of a web page. However, I get the error 'Unable to import lxml'. This is the full script</p>\n\n<pre><code>from lxml import html\n\npage = requests.get('http://awebpage.com')\ntree = html.fromstring(page.content)\nnames = tree.xpath('someXPath')\nprint names\n</code></pre>\n\n<p>I did pip install lxml and it says,</p>\n\n<pre><code>Requirement already satisfied (use --upgrade to upgrade): lxml in /usr/lib/python2.7/dist-packages\nCleaning up...\n</code></pre>\n\n<p>EDIT: I also did pip freeze just as another check to make sure it's installed.</p>\n"}, {"tags": ["python", "windows", "subprocess", "httrack"], "comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1452754140, "post_id": 34777217, "comment_id": 57310624, "body": "The <code>&quot;\\t&quot;</code> in <code>&quot;\\tmp\\example&quot;</code> doesn&#39;t jump out at you at all? As to <code>\\U</code>, it seems you&#39;re using Python 3 and aren&#39;t showing us the line with a string containing <code>&quot;\\U&quot;</code> in position 2-3, such as <code>&quot;C:\\Users&quot;</code>. Anyway, just use [r]aw strings to avoid this problem -- except if a path ends on a backslash, in which case use a regular string and escape each backslash with another backslash, such as <code>&quot;C:\\\\&quot;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 1, "creation_date": 1452929393, "post_id": 34792276, "comment_id": 57391278, "body": "use raw string literals, to avoid escaping backslashes: <code>r&#39;c:\\U&#39;</code>"}, {"owner": {"reputation": 3174, "user_id": 5347093, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/24ea41e9476832447c7898e935c7127a?s=128&d=identicon&r=PG&f=1", "display_name": "Empiromancer", "link": "https://stackoverflow.com/users/5347093/empiromancer"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1453224414, "post_id": 34792276, "comment_id": 57504082, "body": "@J.F.Sebastian Yup, that&#39;s what I did :)"}], "tags": [], "owner": {"reputation": 3174, "user_id": 5347093, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/24ea41e9476832447c7898e935c7127a?s=128&d=identicon&r=PG&f=1", "display_name": "Empiromancer", "link": "https://stackoverflow.com/users/5347093/empiromancer"}, "is_accepted": true, "score": 0, "last_activity_date": 1453224516, "last_edit_date": 1495540752, "creation_date": 1452782346, "answer_id": 34792276, "question_id": 34777217, "link": "https://stackoverflow.com/questions/34777217/using-subprocess-to-run-httrack-from-python-in-windows/34792276#34792276", "title": "Using subprocess to run HTTrack from python in Windows", "body": "<p>Resolved thanks to <a href=\"https://stackoverflow.com/users/205580/eryksun\">eryksun</a>'s comment. It wasn't a problem with the <code>subprocess</code> syntax at all, but rather that I wasn't being careful about escaping all of my backslashes. Pulling <code>r</code> in front of those strings to make them raw strings fixed up my code just fine.</p>\n"}], "owner": {"reputation": 3174, "user_id": 5347093, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/24ea41e9476832447c7898e935c7127a?s=128&d=identicon&r=PG&f=1", "display_name": "Empiromancer", "link": "https://stackoverflow.com/users/5347093/empiromancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 34792276, "answer_count": 1, "score": 0, "last_activity_date": 1453224516, "creation_date": 1452719975, "question_id": 34777217, "link": "https://stackoverflow.com/questions/34777217/using-subprocess-to-run-httrack-from-python-in-windows", "title": "Using subprocess to run HTTrack from python in Windows", "body": "<p>I'm in the process of writing a web scraping python script, and one of the things I'd like it to be able to do is have it take a snapshot of certain pages (all of the html, style sheets, and images necessary to view that particular page properly offline). Seems like HTTrack is a good way to do that, and I thought I would be able to call it from within the python script using </p>\n\n<pre><code>subprocess.call([\"httrack\", \"http://www.example.com\", \"-O\", \"\\tmp\\example\"])\n</code></pre>\n\n<p>But attempting to do this results in \"FileNotFoundError: [WinError 2] The system cannot find the file specified\". I've also tried giving it the full file path, </p>\n\n<pre><code>subprocess.call([\"C:\\Program Files\\WinHTTrack\\httrack.exe\", \"http://www.example.com\", \"-O\", \"\\tmp\\Example\"])\n</code></pre>\n\n<p>but I get the error \"SyntaxError: (unicode error) 'unicodeescape' codec can't decode bytes in position 2-3: truncated \\UXXXXXXXX escape\"</p>\n\n<p>I think this is a problem with me not understanding <code>subprocess</code> correctly, since I can get HTTrack working through windows command prompt. Can anyone help me understand the correct way to use subprocess?</p>\n"}, {"tags": ["python", "scikit-learn", "liblinear"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 5775846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e513ab3cc34b95bdc397d99fe9996394?s=128&d=identicon&r=PG&f=1", "display_name": "London Holmes", "link": "https://stackoverflow.com/users/5775846/london-holmes"}, "is_accepted": false, "score": 0, "last_activity_date": 1452720812, "creation_date": 1452720812, "answer_id": 34777462, "question_id": 34777210, "link": "https://stackoverflow.com/questions/34777210/memory-error-after-liblinear-svm-fails-to-converge/34777462#34777462", "title": "memory error after liblinear svm fails to converge", "body": "<p>Try increasing your iteration value. It could be that the SVM needs more iterations to converge than you have allowed it. Also, I would try using sklearn.svm.SVC, as a different algorithm if liblinear can't converge on your data.</p>\n"}], "owner": {"reputation": 3519, "user_id": 3084800, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cf80110d3e1d06f8005b624168a73404?s=128&d=identicon&r=PG&f=1", "display_name": "TheM00s3", "link": "https://stackoverflow.com/users/3084800/them00s3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2413, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452720812, "creation_date": 1452719966, "question_id": 34777210, "link": "https://stackoverflow.com/questions/34777210/memory-error-after-liblinear-svm-fails-to-converge", "title": "memory error after liblinear svm fails to converge", "body": "<p>After getting an error message pertaining to liblinear failing to converge, the following error trace is produced. Im trying to understand what the error is referring to, and how to guard against it. </p>\n\n<p>The svm is from SKLearn, here is the code setting it up. </p>\n\n<pre><code>svc = LinearSVC(class_weight='balanced',verbose=1,max_iter=2000)\ntrain_sizes, train_scores, valid_scores = learning_curve(svc,xtscale,np.ravel(ytran), \n        train_sizes=[10000,20000,30000],scoring=make_scorer(accuracy_score),n_jobs=4,verbose=2)    \n</code></pre>\n\n<p>error trace  </p>\n\n<pre><code>    .C:\\Python27\\lib\\site-packages\\sklearn\\svm\\base.py:924: ConvergenceWarning: Liblinear failed to conv\n    erge, increase the number of iterations.\n      \"the number of iterations.\", ConvergenceWarning)\n    ............[CV] ................................ no parameters to be set -13.2min\n    .........Traceback (most recent call last):\n      File \"C:\\MachineLearning\\SFCrime\\crime.py\", line 59, in &lt;module&gt;\n        train_sizes=[10000,20000,30000],scoring=make_scorer(accuracy_score),n_jobs=4,verbose=2)\n      File \"C:\\Python27\\lib\\site-packages\\sklearn\\learning_curve.py\", line 153, in learning_curve\n        for train, test in cv for n_train_samples in train_sizes_abs)\n      File \"C:\\Python27\\lib\\site-packages\\sklearn\\externals\\joblib\\parallel.py\", line 812, in __call__\n        self.retrieve()\n      File \"C:\\Python27\\lib\\site-packages\\sklearn\\externals\\joblib\\parallel.py\", line 762, in retrieve\n        raise exception\n    sklearn.externals.joblib.my_exceptions.JoblibMemoryError: JoblibMemoryError\n    ___________________________________________________________________________\n    Multiprocessing exception:\n    ...........................................................................\n    C:\\MachineLearning\\SFCrime\\crime.py in &lt;module&gt;()\n         54         # param_grid = {'C': [0.5, 1, 10]}\n         55  #      gs = grid_search.GridSearchCV(svc, param_grid,n_jobs=4,verbose=1)\n         56  #      gs.fit(testData[:,0:-2],np.ravel(testData[:,-1]))\n         57         #print gs.best_estimator_\n         58         train_sizes, train_scores, valid_scores = learning_curve(svc,xtscale,np.ravel(ytran)\n    ,\n    ---&gt; 59                 train_sizes=[10000,20000,30000],scoring=make_scorer(accuracy_score),n_jobs=4\n    ,verbose=2)\n         60         #svc.fit(testData[:,0:7],np.ravel(testData[:,7]))\n         61         #valData = xydecider[np.random.randint(0,xydecider.shape[0],10000)]\n         62         #print svc.predict(xtransf.transform(np.matrix([2015,7,14,8,35, -122.3935620,37.7782\n    485])))\n         63\n\n    ...........................................................................\n    C:\\Python27\\lib\\site-packages\\sklearn\\learning_curve.py in learning_curve(estimator=LinearSVC(C=1.0,\n     class_weight='balanced', dual=T...', random_state=None, tol=0.0001,\n         verbose=1), X=array([[  0.00000000e+00,   1.73165030e+00,  -4....603501e-02,   3.21082024e-02,\n     -1.99147226e-02]]), y=array([ 1,  2,  2, ...,  3,  5, 13]), train_sizes=[10000, 20000, 30000], cv=[\n    (array([107733, 192190, 212425, ..., 878046, 878047, 878048]), array([     0,      1,      2, ..., 4\n    65259, 466404, 486091])), (array([     0,      1,      2, ..., 878046, 878047, 878048]), array([1077\n    33, 192190, 212425, ..., 718561, 718572, 718573])), (array([     0,      1,      2, ..., 718561, 718\n    572, 718573]), array([316490, 337880, 481804, ..., 878046, 878047, 878048]))], scoring=make_scorer(a\n    ccuracy_score), exploit_incremental_learning=False, n_jobs=4, pre_dispatch='all', verbose=2)\n        148             scorer, verbose) for train, test in cv)\n        149     else:\n        150         out = parallel(delayed(_fit_and_score)(\n        151             clone(estimator), X, y, scorer, train[:n_train_samples], test,\n        152             verbose, parameters=None, fit_params=None, return_train_score=True)\n    --&gt; 153             for train, test in cv for n_train_samples in train_sizes_abs)\n            cv = [(array([107733, 192190, 212425, ..., 878046, 878047, 878048]), array([     0,      1,\n         2, ..., 465259, 466404, 486091])), (array([     0,      1,      2, ..., 878046, 878047, 878048]\n    ), array([107733, 192190, 212425, ..., 718561, 718572, 718573])), (array([     0,      1,      2, ..\n    ., 718561, 718572, 718573]), array([316490, 337880, 481804, ..., 878046, 878047, 878048]))]\n        154         out = np.array(out)[:, :2]\n        155         n_cv_folds = out.shape[0] // n_unique_ticks\n        156         out = out.reshape(n_cv_folds, n_unique_ticks, 2)\n        157\n\n    ...........................................................................\n    C:\\Python27\\lib\\site-packages\\sklearn\\externals\\joblib\\parallel.py in __call__(self=Parallel(n_jobs=\n    4), iterable=&lt;generator object &lt;genexpr&gt;&gt;)\n        807             if pre_dispatch == \"all\" or n_jobs == 1:\n        808                 # The iterable was consumed all at once by the above for loop.\n        809                 # No need to wait for async callbacks to trigger to\n        810                 # consumption.\n        811                 self._iterating = False\n    --&gt; 812             self.retrieve()\n            self.retrieve = &lt;bound method Parallel.retrieve of Parallel(n_jobs=4)&gt;\n        813             # Make sure that we get a last message telling us we are done\n        814             elapsed_time = time.time() - self._start_time\n        815             self._print('Done %3i out of %3i | elapsed: %s finished',\n        816                         (len(self._output), len(self._output),\n\n    ---------------------------------------------------------------------------\n    Sub-process traceback:\n    ---------------------------------------------------------------------------\n    MemoryError                                        Wed Jan 13 12:56:08 2016\n    PID: 5784                             Python 2.7.10: C:\\Python27\\python.exe\n    ...........................................................................\n    C:\\Python27\\lib\\site-packages\\sklearn\\externals\\joblib\\parallel.pyc in __call__(self=&lt;sklearn.extern\n    als.joblib.parallel.BatchedCalls object&gt;)\n         67     def __init__(self, iterator_slice):\n         68         self.items = list(iterator_slice)\n         69         self._size = len(self.items)\n         70\n         71     def __call__(self):\n    ---&gt; 72         return [func(*args, **kwargs) for func, args, kwargs in self.items]\n         73\n         74     def __len__(self):\n         75         return self._size\n         76\n\n    ...........................................................................\n    C:\\Python27\\lib\\site-packages\\sklearn\\cross_validation.pyc in _fit_and_score(estimator=LinearSVC(C=1\n    .0, class_weight='balanced', dual=T...', random_state=None, tol=0.0001,\n         verbose=1), X=memmap([[  0.00000000e+00,   1.73165030e+00,  -4...603501e-02,   3.21082024e-02,\n     -1.99147226e-02]]), y=memmap([ 1,  2,  2, ...,  3,  5, 13]), scorer=make_scorer(accuracy_score), tr\n    ain=array([107733, 192190, 212425, ..., 309456, 309457, 309460]), test=memmap([     0,      1,\n    2, ..., 465259, 466404, 486091]), verbose=2, parameters=None, fit_params={}, return_train_score=True\n    , return_parameters=False, error_score='raise')\n       1519     if parameters is not None:\n       1520         estimator.set_params(**parameters)\n       1521\n       1522     start_time = time.time()\n       1523\n    -&gt; 1524     X_train, y_train = _safe_split(estimator, X, y, train)\n       1525     X_test, y_test = _safe_split(estimator, X, y, test, train)\n       1526\n       1527     try:\n       1528         if y_train is None:\n\n    ...........................................................................\n    C:\\Python27\\lib\\site-packages\\sklearn\\cross_validation.pyc in _safe_split(estimator=LinearSVC(C=1.0,\n     class_weight='balanced', dual=T...', random_state=None, tol=0.0001,\n         verbose=1), X=memmap([[  0.00000000e+00,   1.73165030e+00,  -4...603501e-02,   3.21082024e-02,\n     -1.99147226e-02]]), y=memmap([ 1,  2,  2, ...,  3,  5, 13]), indices=array([107733, 192190, 212425,\n     ..., 309456, 309457, 309460]), train_indices=None)\n       1586             if train_indices is None:\n       1587                 X_subset = X[np.ix_(indices, indices)]\n       1588             else:\n       1589                 X_subset = X[np.ix_(indices, train_indices)]\n       1590         else:\n    -&gt; 1591             X_subset = safe_indexing(X, indices)\n       1592\n       1593     if y is not None:\n       1594         y_subset = safe_indexing(y, indices)\n       1595     else:\n\n    ...........................................................................\n    C:\\Python27\\lib\\site-packages\\sklearn\\utils\\__init__.pyc in safe_indexing(X=memmap([[  0.00000000e+0\n    0,   1.73165030e+00,  -4...603501e-02,   3.21082024e-02,  -1.99147226e-02]]), indices=array([107733,\n     192190, 212425, ..., 309456, 309457, 309460]))\n        158             return X.copy().iloc[indices]\n        159     elif hasattr(X, \"shape\"):\n        160         if hasattr(X, 'take') and (hasattr(indices, 'dtype') and\n        161                                    indices.dtype.kind == 'i'):\n        162             # This is often substantially faster than X[indices]\n    --&gt; 163             return X.take(indices, axis=0)\n        164         else:\n        165             return X[indices]\n        166     else:\n        167         return [X[idx] for idx in indices]\n\n    MemoryError:\n    ______________\n\n_____________________________________________________________\n</code></pre>\n"}, {"tags": ["python", "linux", "ipc"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1452720610, "post_id": 34777148, "comment_id": 57299887, "body": "Because you can&#39;t do what the kernel can do. Absolutely; the kernel never actually writes files. Named pipes are the solution to a completely different problem."}, {"owner": {"reputation": 12879, "user_id": 1214214, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mE5HL.png?s=128&g=1", "display_name": "TheMeaningfulEngineer", "link": "https://stackoverflow.com/users/1214214/themeaningfulengineer"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1452720849, "post_id": 34777148, "comment_id": 57300007, "body": "<code>kernel never actually writes files</code> if I write them to a ram, neither will they be in this solution"}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 1, "creation_date": 1452721111, "post_id": 34777148, "comment_id": 57300132, "body": "If you write a file to a ramdisk you are still writing a file."}, {"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 2, "creation_date": 1452721442, "post_id": 34777148, "comment_id": 57300288, "body": "IMO a way better approach would be to do as the kernel do, i.e. create a virtual file system; with fuse it&#39;s quite easy to do. Instead of continously writing (potentially useless) stuff to files (also exposing yourself to race conditions and the like), fuse calls your functions when other applications try to read (or perform other operations) on the &quot;fake files&quot; you expose."}], "answers": [{"tags": [], "owner": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "is_accepted": false, "score": 2, "last_activity_date": 1452721385, "last_edit_date": 1452721385, "creation_date": 1452720876, "answer_id": 34777475, "question_id": 34777148, "link": "https://stackoverflow.com/questions/34777148/mimicing-the-linux-device-model-with-regular-files-in-userspace/34777475#34777475", "title": "Mimicing the Linux device model with regular files in userspace", "body": "<p>You can write to a file because files are not locked by default. You need to lock it with os.lockf().</p>\n\n<p>Your multiple readers might read different values where you expect the same. Consider the following scenario</p>\n\n<pre>\nwriter writes 10\nreader #1 reads 10\nreader #2 reads 10\nwriter writes 11\nreader #3 reads 11\n</pre>\n\n<p>at this point reader #3 is in a different state compared to readers #1 and #2.</p>\n\n<p>Named pipes are FIFO structures They insure the order of messages where a file does not. On the other hand, pipes are not persistent, once the message is read it disappears.</p>\n\n<p>Edit: actually fcntl.flock() is probably what you want for locking, not os.lockf()</p>\n"}], "owner": {"reputation": 12879, "user_id": 1214214, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mE5HL.png?s=128&g=1", "display_name": "TheMeaningfulEngineer", "link": "https://stackoverflow.com/users/1214214/themeaningfulengineer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1452721385, "creation_date": 1452719737, "question_id": 34777148, "link": "https://stackoverflow.com/questions/34777148/mimicing-the-linux-device-model-with-regular-files-in-userspace", "title": "Mimicing the Linux device model with regular files in userspace", "body": "<p>I would like to represent a state of a daemon through a directory structure with files. The daemon is responsible for providing a shell interface to controlling sensors. Something similar to how the Linux device model or the GPIO console interface is implemented, just with plain files, written in Python in userspace :). </p>\n\n<p>Example:</p>\n\n<p>Daemon runs and creates the directory structure listing the available sensors. Example of how the directory structure might look:</p>\n\n<pre><code>sensors\n`-- sensor1\n    `-- sensor-ouput\n</code></pre>\n\n<p><code>sensor-ouput</code> is just a plain file which serves as abstraction for the current sensor value.</p>\n\n<p>Here is the code for creating the example structure:</p>\n\n<pre><code>import time,os\n\n    if not os.path.exists('sensors/sensor1'):\n        os.makedirs('sensors/sensor1')\n    f = open('sensors/sensor1/sensor-ouput','w+')\n    for i in range(100):\n        time.sleep(1)\n        f.seek(0)\n        f.write(str(i))\n        f.flush()\n    f.close()\n</code></pre>\n\n<p>Questions:</p>\n\n<ul>\n<li>Why can I write to the file while the daemon is running? <code>echo 1 &gt; sensor-ouput</code> doesn't give an error.</li>\n<li>There is only a single process writing to the file and potentially multiple reading it at the same time. Are there some synchronisation issues  that I'm missing in these scenario?</li>\n<li>Given that the file is opened on a ramfs partition, does this approach lag behind using named pipes?</li>\n</ul>\n"}, {"tags": ["python", "mysql", "importerror", "mysql-connector-python"], "comments": [{"owner": {"reputation": 2179, "user_id": 2653384, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1dd72e30eaef778f5d7ca2e573b8f9ca?s=128&d=identicon&r=PG", "display_name": "Busturdust", "link": "https://stackoverflow.com/users/2653384/busturdust"}, "edited": false, "score": 0, "creation_date": 1452721564, "post_id": 34777067, "comment_id": 57300342, "body": "please show your <code>engine configuration</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1956, "user_id": 4429015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqxqf.png?s=128&g=1", "display_name": "B001\u16e6", "link": "https://stackoverflow.com/users/4429015/b001%e1%9b%a6"}, "edited": false, "score": 0, "creation_date": 1476974839, "post_id": 40157292, "comment_id": 67584142, "body": "@legalimpurity Yes we read it! But still it is not correct misusing answers for comments"}], "tags": [], "owner": {"reputation": 190, "user_id": 2512098, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8951af4f542e74d4673ea28656151346?s=128&d=identicon&r=PG", "display_name": "legalimpurity", "link": "https://stackoverflow.com/users/2512098/legalimpurity"}, "is_accepted": false, "score": 0, "last_activity_date": 1476974963, "last_edit_date": 1476974963, "creation_date": 1476973719, "answer_id": 40157292, "question_id": 34777067, "link": "https://stackoverflow.com/questions/34777067/python-mysql-connector-pooling-importerror-no-module-named-pooling/40157292#40157292", "title": "Python mysql.connector.pooling ImportError: No module named pooling", "body": "<p>On my Centos7 box, i installed the community-release repo and mysql-connector.</p>\n\n<p>sudo yum update mysql-community-release\nsudo yum install mysql-connector-python</p>\n\n<p><a href=\"https://dev.mysql.com/doc/connector-python/en/connector-python-installation-binary.html\" rel=\"nofollow\">https://dev.mysql.com/doc/connector-python/en/connector-python-installation-binary.html</a></p>\n"}], "owner": {"reputation": 91, "user_id": 4686392, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/543db483f047eb536e0c7468d216f8b0?s=128&d=identicon&r=PG&f=1", "display_name": "tigga4392", "link": "https://stackoverflow.com/users/4686392/tigga4392"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 565, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1476974963, "creation_date": 1452719440, "question_id": 34777067, "link": "https://stackoverflow.com/questions/34777067/python-mysql-connector-pooling-importerror-no-module-named-pooling", "title": "Python mysql.connector.pooling ImportError: No module named pooling", "body": "<p>I am facing some difficulty when I try to run a Flask app. I get the following import error:</p>\n\n<pre><code>  File \"/db/mysql_utils.py\", line 2, in &lt;module&gt;\n    import mysql.connector.pooling\nImportError: No module named pooling\n</code></pre>\n\n<p>I tried several ways to install mysql_connector_python-1.0.12 such as</p>\n\n<pre><code>sudo pip install https://cdn.mysql.com/Downloads/Connector-Python/mysql-connector-python-1.0.12.tar.gz\n</code></pre>\n\n<p>Download the file to local and install it. Also tried running the setup.py and had no luck.</p>\n\n<p>I am assuming mysql.connector.pooling is part of mysql-connector-python, but please correct me if I am wrong.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 1, "creation_date": 1452719954, "post_id": 34777055, "comment_id": 57299568, "body": "If playing with alpha values isn&#39;t getting you what you want, I&#39;d suggest calculating the intersection and plotting that as a third line over top."}, {"owner": {"reputation": 4478, "user_id": 5629339, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c57327d92db7f6de591a7f0d25c0fe69?s=128&d=identicon&r=PG&f=1", "display_name": "filippo", "link": "https://stackoverflow.com/users/5629339/filippo"}, "reply_to_user": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 0, "creation_date": 1452720541, "post_id": 34777055, "comment_id": 57299850, "body": "Good point, not really applicable to my current problem though, because they overlap almost completely. So I&#39;d like something like a yellow patch in the legend for line1, a blue patch for line2, but you only see a single green line because they overlap. Maybe I could hack something hardcoding legend patch colors..."}, {"owner": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 1, "creation_date": 1452720802, "post_id": 34777055, "comment_id": 57299977, "body": "I&#39;d use dashes: <a href=\"http://matplotlib.org/examples/lines_bars_and_markers/line_demo_dash_control.html\" rel=\"nofollow noreferrer\">matplotlib.org/examples/lines_bars_and_markers/&hellip;</a>"}, {"owner": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 0, "creation_date": 1452720971, "post_id": 34777055, "comment_id": 57300058, "body": "<a href=\"http://matplotlib.org/examples/lines_bars_and_markers/line_styles_reference.html\" rel=\"nofollow noreferrer\">matplotlib.org/examples/lines_bars_and_markers/&hellip;</a>"}, {"owner": {"reputation": 4478, "user_id": 5629339, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c57327d92db7f6de591a7f0d25c0fe69?s=128&d=identicon&r=PG&f=1", "display_name": "filippo", "link": "https://stackoverflow.com/users/5629339/filippo"}, "reply_to_user": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 0, "creation_date": 1452763516, "post_id": 34777055, "comment_id": 57315552, "body": "@mauve thank you, dashes actually solve my problem, I can plot one solid line and one dashed with another color and the result shows pretty well how they overlap. Will leave the question open anyway, blend modes could still be useful."}], "owner": {"reputation": 4478, "user_id": 5629339, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c57327d92db7f6de591a7f0d25c0fe69?s=128&d=identicon&r=PG&f=1", "display_name": "filippo", "link": "https://stackoverflow.com/users/5629339/filippo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1345, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1452719382, "creation_date": 1452719382, "question_id": 34777055, "link": "https://stackoverflow.com/questions/34777055/pyplot-blend-mode-for-overlapping-lines", "title": "pyplot blend mode for overlapping lines", "body": "<p>Is there a way to blend pyplot lines where they overlap?</p>\n\n<p>Right now I'm using alpha with two colors that add up nicely to a different enough color. I don't really like though that they also blend with the white background, I'd like full colors and something like \"add\" or \"multiply\" blend mode where they overlap...</p>\n\n<p>Any idea?</p>\n"}, {"tags": ["python", "python-2.7", "object"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1452719398, "post_id": 34777036, "comment_id": 57299301, "body": "Point 1 doesn&#39;t create any new name."}, {"owner": {"reputation": 49, "user_id": 5786522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukUAA.png?s=128&g=1", "display_name": "MossTeMuerA", "link": "https://stackoverflow.com/users/5786522/mosstemuera"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1452719709, "post_id": 34777036, "comment_id": 57299435, "body": "kart = &quot;kart&quot; + str(x) does it in each loop. Like kart1, kart2, kart3, ... , kart52"}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1452720168, "post_id": 34777036, "comment_id": 57299682, "body": "No. It doesn&#39;t. It makes a string."}, {"owner": {"reputation": 49, "user_id": 5786522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukUAA.png?s=128&g=1", "display_name": "MossTeMuerA", "link": "https://stackoverflow.com/users/5786522/mosstemuera"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1452720320, "post_id": 34777036, "comment_id": 57299749, "body": "Hmm. Okay, thank you. How can i create a name like these(kart1, kart2...)  ?"}, {"owner": {"reputation": 13750, "user_id": 3830997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lg47I.png?s=128&g=1", "display_name": "Matthias Fripp", "link": "https://stackoverflow.com/users/3830997/matthias-fripp"}, "edited": false, "score": 0, "creation_date": 1452722580, "post_id": 34777036, "comment_id": 57300846, "body": "See the answer at <a href=\"http://stackoverflow.com/questions/1373164/how-do-i-do-variable-variables-in-python\" title=\"how do i do variable variables in python\">stackoverflow.com/questions/1373164/&hellip;</a>, referenced above your question. You could use <code>locals()[kart] = Card(i, j); cardlist[x] = locals()[kart]</code> but you would probably be much better off using your dictionary directly and not creating kart1, kart2, etc.: <code>cardlist[x] = Card(i, j)</code> ... <code>print cardlist[41]</code>."}, {"owner": {"reputation": 49, "user_id": 5786522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukUAA.png?s=128&g=1", "display_name": "MossTeMuerA", "link": "https://stackoverflow.com/users/5786522/mosstemuera"}, "edited": false, "score": 0, "creation_date": 1452722930, "post_id": 34777036, "comment_id": 57301014, "body": "Thank you. It&#39;s clear right now."}], "owner": {"reputation": 49, "user_id": 5786522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukUAA.png?s=128&g=1", "display_name": "MossTeMuerA", "link": "https://stackoverflow.com/users/5786522/mosstemuera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "closed_date": 1452719496, "answer_count": 0, "score": 0, "last_activity_date": 1452720046, "creation_date": 1452719313, "last_edit_date": 1452720046, "question_id": 34777036, "link": "https://stackoverflow.com/questions/34777036/python-auto-object-generator-auto-object-naming", "closed_reason": "Duplicate", "title": "Python auto object generator, auto object naming", "body": "<p>I tried to create 52 different object to present cards. </p>\n\n<pre><code> group = [\"Karo\", \"Sinek\", \"Kupa\", \"Maca\"]\n rank = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]\n cardlist = {}\n\n class Card:\n     pass\n\n     def __init__(self, cins, seviye):\n         self.cins = cins\n         self.seviye = seviye\n x = 1\n for i in group:\n     kart = \"kart\" + str(x) # kart will have values like kart1, kart2...\n     for j in rank:\n         kart = Card(i,j)   # ^1\n         cardlist[x] = kart\n         x += 1\n\n print kart41 # ^2\n</code></pre>\n\n<ol>\n<li><p>I wanted to create objects with kart's name. I mean in the first loop kart1 would be the object name and in the second loop kart2... And if I print kart here, I can see all objects with different object id's.</p></li>\n<li><p>But if I try to print kart41 here, it says that kart41 is not defined.</p></li>\n</ol>\n\n<p>Can somebody please explain me why kart41 is not defined at 1. And how can I reach the name of object which is defined at 1?</p>\n"}, {"tags": ["python", "python-2.7", "selenium-webdriver", "phantomjs"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1452719449, "post_id": 34776999, "comment_id": 57299326, "body": "Something has stomped on the name &quot;socket&quot;. Fix it."}, {"owner": {"reputation": 2070, "user_id": 1176660, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/AkeM8.jpg?s=128&g=1", "display_name": "zevij", "link": "https://stackoverflow.com/users/1176660/zevij"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1452722376, "post_id": 34776999, "comment_id": 57300745, "body": "Well, that&#39;s the thing. If it was happening all the time, I could understand. It happens on average on 1/30,000 pages (open connection, load page, create soup, close connection, return soup). For now, I&#39;ve added a generic clause:  except Exception as details:                 logger.info(&quot;Exception on browser.close(): &quot; + str(details))"}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1452722427, "post_id": 34776999, "comment_id": 57300777, "body": "It happens only when an exception occurs. Because the name has been stomped on."}, {"owner": {"reputation": 2070, "user_id": 1176660, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/AkeM8.jpg?s=128&g=1", "display_name": "zevij", "link": "https://stackoverflow.com/users/1176660/zevij"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1452722518, "post_id": 34776999, "comment_id": 57300809, "body": "I get that. I am not clear what is &#39;stomping&#39; it or why getting the page is fine and the exception occurs on close(). Nothing touches the object. See what the generic clause can provide."}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1452722636, "post_id": 34776999, "comment_id": 57300875, "body": "Something else in the same scope is being bound to &quot;socket&quot;."}, {"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1452726354, "post_id": 34776999, "comment_id": 57302514, "body": "This seems like a bug in the selenium webdriver impl for python. Have you tried another version or checked whether this bug is already reported?"}, {"owner": {"reputation": 2070, "user_id": 1176660, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/AkeM8.jpg?s=128&g=1", "display_name": "zevij", "link": "https://stackoverflow.com/users/1176660/zevij"}, "edited": false, "score": 0, "creation_date": 1452732468, "post_id": 34776999, "comment_id": 57304598, "body": "Could not find anything on Google. I know phantomjs has various issues with close &amp; quit. But until now it has been stable. So for now, I added a generic except clause to see what can be caught (if anything). As it happens on close, after I get the data, it is annoying but not a catastrophe."}], "answers": [{"tags": [], "owner": {"reputation": 2070, "user_id": 1176660, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/AkeM8.jpg?s=128&g=1", "display_name": "zevij", "link": "https://stackoverflow.com/users/1176660/zevij"}, "is_accepted": false, "score": 0, "last_activity_date": 1456157726, "last_edit_date": 1456157726, "creation_date": 1456075929, "answer_id": 35539440, "question_id": 34776999, "link": "https://stackoverflow.com/questions/34776999/attributeerror-type-object-socketobject-has-no-attribute-error/35539440#35539440", "title": "AttributeError: type object &#39;_socketobject&#39; has no attribute &#39;error&#39;", "body": "<p>Issues found:</p>\n\n<p>the exception clause <code>except (httplib.HTTPException, socket.error)</code> is wrong:</p>\n\n<ul>\n<li>it bundles two unrelated exceptions (not the end of the world but not ok)</li>\n<li>I actually <code>import errno</code> and <code>from socket import error as socket_error</code> but my exception clause uses a non-existent socket.error (theoretically it should work but...)</li>\n</ul>\n\n<p>I have now split the exceptions and use errno test/check:</p>\n\n<pre><code>except socket_error as s_err:\n     if s_err == errno.ECONNREFUSED or s_err == errno.ECONNRESET:\n        ...\n</code></pre>\n"}], "owner": {"reputation": 2070, "user_id": 1176660, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/AkeM8.jpg?s=128&g=1", "display_name": "zevij", "link": "https://stackoverflow.com/users/1176660/zevij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2195, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456157726, "creation_date": 1452719178, "last_edit_date": 1452726390, "question_id": 34776999, "link": "https://stackoverflow.com/questions/34776999/attributeerror-type-object-socketobject-has-no-attribute-error", "title": "AttributeError: type object &#39;_socketobject&#39; has no attribute &#39;error&#39;", "body": "<p>I am using python 2.7.10 and Phantom JS 1.9.8. </p>\n\n<p>Recently, I started seeing issues on .close().</p>\n\n<p>Specifically:</p>\n\n<p>I set my browser object to `browser = webdriver.PhantomJS()</p>\n\n<p>I then create the BeutifulSoup object:</p>\n\n<pre><code>browser.get(url)\nwebpage = browser.page_source\nsoup = BeautifulSoup(webpage, \"lxml\")\n</code></pre>\n\n<p>on browser.close(), every now and then I get:</p>\n\n<pre><code>...\nexcept socket.error as s_err:\nAttributeError: type object '_socketobject' has no attribute 'error'\n</code></pre>\n\n<p>Which gets triggered on 'catch clause':</p>\n\n<pre><code>except socket.error as s_err:\n</code></pre>\n\n<p>I can only assume that the cause for this 'catch' failure is that the socket has actually been closed despite the error and that something else in the close process has triggered the error. </p>\n\n<p>Assuming I am correct, is there a way to actually capture the error?</p>\n\n<p>I have a finally clause that ensures that the browser is terminated (so I do not get a complete crash):</p>\n\n<pre><code>finally:\n   browser.quit()\n</code></pre>\n"}, {"tags": ["python", "csv", "python-3.x", "enumerate"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1452719459, "post_id": 34776971, "comment_id": 57299329, "body": "please describe input and output, i..e a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2389, "user_id": 4033315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6dbaa2034e4c433ebb6c11f22926034c?s=128&d=identicon&r=PG&f=1", "display_name": "Geotob", "link": "https://stackoverflow.com/users/4033315/geotob"}, "is_accepted": false, "score": 1, "last_activity_date": 1452720384, "last_edit_date": 1452720384, "creation_date": 1452719607, "answer_id": 34777112, "question_id": 34776971, "link": "https://stackoverflow.com/questions/34776971/python-iterating-and-replacing-list-index-via-enumerate/34777112#34777112", "title": "Python - Iterating and Replacing List Index via enumerate()", "body": "<p>You can use</p>\n\n<pre><code>item[idx] = dataGen.firstName()\n</code></pre>\n\n<p>to modify the underlying <code>item</code>. The reason here is that <code>enumerate()</code> returns <code>(id, value)</code> tuples rather than references to the iterable that you passed.</p>\n\n<p>Given your example above you may not even need <code>enumerate</code>, because you're not parsing the <code>lis</code> at all. So you could also just do</p>\n\n<pre><code>for i in range(len(item)):\n    # your if .. elif statements go here ...\n    item[i] = dataGen.firstName()\n</code></pre>\n\n<p>On a side-note, the <code>elif</code> statements in your code will become unwieldy once you start adding more conditions and columns. Maybe consider making <code>FILESTRUCT</code> a dictionary like:</p>\n\n<pre><code>FILESTRUCT = {\n    6: dataGen.firstName,\n    7: dataGen.lastName,\n    ....\n    }\n...\nfor idx in range(len(item)):\n    if idx in FILESTRUCT.keys():\n        item[idx] = FILESTRUCT[idx]()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1335, "user_id": 789977, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a036b2e4be4ccd713cf52a46833f88c1?s=128&d=identicon&r=PG&f=1", "display_name": "FJDU", "link": "https://stackoverflow.com/users/789977/fjdu"}, "is_accepted": false, "score": 0, "last_activity_date": 1452720130, "creation_date": 1452720130, "answer_id": 34777251, "question_id": 34776971, "link": "https://stackoverflow.com/questions/34776971/python-iterating-and-replacing-list-index-via-enumerate/34777251#34777251", "title": "Python - Iterating and Replacing List Index via enumerate()", "body": "<p>So <code>PARSED</code> is an iterable, and <code>item</code> is an element of it and is also an iterable, and you want to make changes to <code>PARSED</code> by changing elements of <code>item</code>.</p>\n\n<p>So let's do a test.</p>\n\n<pre><code>a = [1, 2, 3]\nprint 'Before:'\nprint a\n\nfor i, e in enumerate(a):\n    e += 10\n\nprint 'After:'\nprint a\n\nfor e in a:\n    e += 10\n\nprint 'Again:'\nprint a\n\na[0] += 10\n\nprint 'Finally:'\nprint a\n</code></pre>\n\n<p>The results are:</p>\n\n<pre><code>Before:\n[1, 2, 3]\nAfter:\n[1, 2, 3]\nAgain:\n[1, 2, 3]\nFinally:\n[11, 2, 3]\n</code></pre>\n\n<p>And we see, <code>a</code> is not changed by changing the enumerated elements.</p>\n"}, {"tags": [], "owner": {"reputation": 5023, "user_id": 4025874, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JcYk0.jpg?s=128&g=1", "display_name": "Daniel Lee", "link": "https://stackoverflow.com/users/4025874/daniel-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1470839574, "creation_date": 1470839574, "answer_id": 38876354, "question_id": 34776971, "link": "https://stackoverflow.com/questions/34776971/python-iterating-and-replacing-list-index-via-enumerate/38876354#38876354", "title": "Python - Iterating and Replacing List Index via enumerate()", "body": "<p>You aren't returning a changed variable. You don't ever change the variable FILESTRUCT. Rather make another variable, make it as you loop through FILESTRUCT and then return your new FILE. </p>\n\n<p>You can't change the values in a loop like that, Kind of like expecting this to return all x's:</p>\n\n<pre><code>demo_data = \"A string with some words\"\nfor letter in demo_data:\n    letter = \"x\"\nreturn demo_data\n</code></pre>\n\n<p>It won't, it will return: <code>\"A string with some words\"</code></p>\n"}], "owner": {"reputation": 230, "user_id": 2052044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/96f2d5311d82984c2f832dceff569e1a?s=128&d=identicon&r=PG", "display_name": "Allison Wilson", "link": "https://stackoverflow.com/users/2052044/allison-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1551919899, "creation_date": 1452719040, "last_edit_date": 1551919899, "question_id": 34776971, "link": "https://stackoverflow.com/questions/34776971/python-iterating-and-replacing-list-index-via-enumerate", "title": "Python - Iterating and Replacing List Index via enumerate()", "body": "<p>I have a python script that imports a CSV file and based on the file imported, I have a list of the indexes of the file.</p>\n\n<p>I am trying to match the indexes in FILESTRUCT to the CSV file and then replace the data in the column with new generated data.  Here is a code snip-it:</p>\n\n<p><em>This is just a parsed CSV file returned from my fileParser method:</em></p>\n\n<pre><code>PARSED = fileParser() \n</code></pre>\n\n<p><em>This is a list of CSV column positions:</em></p>\n\n<pre><code>FILESTRUCT = [6,7,8,9,47]\n</code></pre>\n\n<p><em>This is the script that is in question:</em></p>\n\n<pre><code>def deID(PARSED, FILESTRUCT):\n    for item in PARSED:\n            for idx, lis in enumerate(item):                        \n                    if idx == FILESTRUCT[0]:\n                           lis = dataGen.firstName()\n\n                    elif idx == FILESTRUCT[1]:\n                            lis = dataGen.lastName()\n\n                    elif idx == FILESTRUCT[2]:\n                            lis = dataGen.email()\n\n                    elif idx == FILESTRUCT[3]:\n                            lis = dataGen.empid()\n\n                    elif idx == FILESTRUCT[4]:\n                            lis = dataGen.ssnGen()\n\n                    else:\n                            continue\n\n    return(PARSED)\n</code></pre>\n\n<p>I have verified that it is correctly matching the indices (idx) with the integers in FILESTRUCT by adding a print statement at the end of each if statement.  That works perfectly.  </p>\n\n<p>The problem is that when I return(PARSED) it is not returning it with the new generated values, it is instead, returning the original PARSED input values.  I assume that I am probably messing something up with how I use the enumerate method in my second loop, but I do not understand the enumerate method well enough to really know what I am messing up here.</p>\n"}, {"tags": ["python", "selenium", "slimerjs"], "owner": {"reputation": 31, "user_id": 5733871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/048582e56b3a6d84010b5d7315ff4889?s=128&d=identicon&r=PG&f=1", "display_name": "PercyDonovan", "link": "https://stackoverflow.com/users/5733871/percydonovan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1493, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1452718773, "creation_date": 1452718773, "question_id": 34776905, "link": "https://stackoverflow.com/questions/34776905/how-to-call-slimerjs-in-a-python", "title": "How to call slimerJs in a python?", "body": "<p>All the code I read on slimer seems java based. </p>\n\n<p>I read <a href=\"https://docs.slimerjs.org/nightly/configuration.html#about-proxy-configuration\" rel=\"nofollow\">here</a> that you can run slimer as a selenium driver but I have no idea how to set it in python. </p>\n\n<p>I tried:</p>\n\n<pre><code>driver = webdriver.PhantomJS('F:\\\\slimer\\\\slimerjs.bat',service_args=service_args)\n</code></pre>\n\n<p>It was a long shot but I read that slimer is made to accept phantom code so I thought that might be the case. But not surprisingly that didn't work. </p>\n\n<p>So any idea how to set it as the driver in the script? The link above just shows the command line arguments so I don't know how it would 'plug in' to the code in my python project?</p>\n"}, {"tags": ["python", "batch-file"], "comments": [{"owner": {"reputation": 51083, "user_id": 1467082, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZPeMR.jpg?s=128&g=1", "display_name": "David Zemens", "link": "https://stackoverflow.com/users/1467082/david-zemens"}, "edited": false, "score": 1, "creation_date": 1452718856, "post_id": 34776889, "comment_id": 57299060, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2817869/error-unable-to-find-vcvarsall-bat\">error: Unable to find vcvarsall.bat</a>"}, {"owner": {"reputation": 131, "user_id": 5362017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1SwB.jpg?s=128&g=1", "display_name": "Tom Pinder", "link": "https://stackoverflow.com/users/5362017/tom-pinder"}, "reply_to_user": {"reputation": 51083, "user_id": 1467082, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZPeMR.jpg?s=128&g=1", "display_name": "David Zemens", "link": "https://stackoverflow.com/users/1467082/david-zemens"}, "edited": false, "score": 0, "creation_date": 1452720193, "post_id": 34776889, "comment_id": 57299692, "body": "I did read through that @DavidZemens , however I couldn&#39;t see any relevant support for Python 3.5.1. Have you seen something I missed?"}, {"owner": {"reputation": 51083, "user_id": 1467082, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZPeMR.jpg?s=128&g=1", "display_name": "David Zemens", "link": "https://stackoverflow.com/users/1467082/david-zemens"}, "edited": false, "score": 0, "creation_date": 1452720495, "post_id": 34776889, "comment_id": 57299830, "body": "I probably have not, but I have only suggested this as <i>possible</i> duplicate. the vcvarsall.bat problem happens in different modules and different version of python.  On that same thread, <a href=\"http://stackoverflow.com/a/18045219/1467082\">This</a> answer mentions some quirks with python 3.x though and specifically that you probably can&#39;t use Visual Studio 2008."}], "owner": {"reputation": 131, "user_id": 5362017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1SwB.jpg?s=128&g=1", "display_name": "Tom Pinder", "link": "https://stackoverflow.com/users/5362017/tom-pinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1692, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1452808997, "creation_date": 1452718699, "last_edit_date": 1452808997, "question_id": 34776889, "link": "https://stackoverflow.com/questions/34776889/installing-lxml-in-windows-unable-to-find-vcvarsall-bat", "title": "Installing lxml in Windows - unable to find vcvarsall.bat", "body": "<p>I'm currently running Python 3.5.1 on Windows 10 and I'm having trouble installing the lxml module as I get the error message <code>unable to find vcvarsall.bat</code>, when using <code>pip install lxml</code> and <code>easy_install lxml</code>. </p>\n\n<p>After browsing this forum I've seen that I need a visual studio compiler so I've downloaded both 2008 and 2015 and found that the 'vcvarsall.bat' file is in the following location: <code>....AppData\\Local\\Programs\\Common\\Microsoft\\Visual C++ for Python\\9.0</code>, how can i now point python to this location? Or am I missing something really fundamental here?</p>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["python", "flask"], "answers": [{"comments": [{"owner": {"reputation": 1041, "user_id": 3313400, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/72ae8e4d9ac858899890d06f9c55ef43?s=128&d=identicon&r=PG&f=1", "display_name": "jcmiller11", "link": "https://stackoverflow.com/users/3313400/jcmiller11"}, "edited": false, "score": 1, "creation_date": 1452721342, "post_id": 34777099, "comment_id": 57300255, "body": "This is exactly what I was looking for, thank you very much!"}, {"owner": {"reputation": 1041, "user_id": 3313400, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/72ae8e4d9ac858899890d06f9c55ef43?s=128&d=identicon&r=PG&f=1", "display_name": "jcmiller11", "link": "https://stackoverflow.com/users/3313400/jcmiller11"}, "edited": false, "score": 0, "creation_date": 1452735362, "post_id": 34777099, "comment_id": 57305487, "body": "Is there any way I could compress the list of routes? Like a simple_renders = [&#39;/home&#39;,&#39;/files&#39;], if request is in simple_renders, @app.route(request) kind of thing?"}, {"owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "edited": false, "score": 1, "creation_date": 1452751327, "post_id": 34777099, "comment_id": 57309691, "body": "Yes, just make it a parameter:  <code>@app.route(&#39;&#47;{path}&#39;) @require_login def template_route(path): return render_template(path + &#39;.html&#39;)</code>"}, {"owner": {"reputation": 1041, "user_id": 3313400, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/72ae8e4d9ac858899890d06f9c55ef43?s=128&d=identicon&r=PG&f=1", "display_name": "jcmiller11", "link": "https://stackoverflow.com/users/3313400/jcmiller11"}, "edited": false, "score": 0, "creation_date": 1452780680, "post_id": 34777099, "comment_id": 57326624, "body": "Thanks again, this is perfect."}], "tags": [], "owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "is_accepted": true, "score": 2, "last_activity_date": 1452761577, "last_edit_date": 1452761577, "creation_date": 1452719572, "answer_id": 34777099, "question_id": 34776877, "link": "https://stackoverflow.com/questions/34776877/is-there-a-way-to-easily-define-routes-for-multiple-standard-pages-in-flask/34777099#34777099", "title": "Is there a way to easily define routes for multiple standard pages in Flask?", "body": "<p>If <code>routes</code> and <code>templates</code> names match, you can do the following:</p>\n\n<pre><code>@app.route('/home', methods=['GET'])\n@app.route('/files', methods=['GET'])\n@require_login\ndef just_render():\n    file_name = request.path.replace('/', '')\n    template = '{file_name}.html'.format(file_name=file_name)\n\n    return render_template(template)\n</code></pre>\n\n<p>i.e. get the requested path from <a href=\"http://flask.pocoo.org/docs/0.10/api/#flask.Request.path\" rel=\"nofollow\"><code>request.path</code></a>, remove unwanted <code>/</code> and then format the template name.</p>\n\n<p><br>\n<strong>EDIT</strong></p>\n\n<p>To answer your question from the comments:</p>\n\n<blockquote>\n  <p>Is there any way I could compress the list of routes?</p>\n</blockquote>\n\n<p>I would amend a bit <em>@Sean Vieira</em>'s answer from the comments:</p>\n\n<pre><code>@app.route('/&lt;path&gt;', methods=['GET'])\n@require_login\ndef just_render(path):\n    if path in ['home', 'files', 'about', 'contact']:\n         template = '{file_name}.html'.format(file_name=path)\n         return render_template(template)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1041, "user_id": 3313400, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/72ae8e4d9ac858899890d06f9c55ef43?s=128&d=identicon&r=PG&f=1", "display_name": "jcmiller11", "link": "https://stackoverflow.com/users/3313400/jcmiller11"}, "edited": false, "score": 0, "creation_date": 1452733534, "post_id": 34777118, "comment_id": 57304930, "body": "This is good information so I upvoted you, but it doesn&#39;t actually reduce the amount of code, it&#39;s still 4 lines per route, just spread across two files.  It&#39;s actually more code since @app.route(&#39;/home&#39;, methods=[&#39;GET&#39;]) is replaced with app.add_url_rule(&#39;/home&#39;, view_func=views.home, methods=[&#39;GET&#39;])"}, {"owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "reply_to_user": {"reputation": 1041, "user_id": 3313400, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/72ae8e4d9ac858899890d06f9c55ef43?s=128&d=identicon&r=PG&f=1", "display_name": "jcmiller11", "link": "https://stackoverflow.com/users/3313400/jcmiller11"}, "edited": false, "score": 0, "creation_date": 1452767207, "post_id": 34777118, "comment_id": 57317977, "body": "It doesn&#39;t <i>reduce the amount of code</i>, but it does <i>make the code clearer</i> and <i>easier to maintain</i>. The solution that you have accepted works well, but it might be restrictive if you want to change any of your view functions, template names or urls moving forward."}], "tags": [], "owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "is_accepted": false, "score": 2, "last_activity_date": 1452719637, "creation_date": 1452719637, "answer_id": 34777118, "question_id": 34776877, "link": "https://stackoverflow.com/questions/34776877/is-there-a-way-to-easily-define-routes-for-multiple-standard-pages-in-flask/34777118#34777118", "title": "Is there a way to easily define routes for multiple standard pages in Flask?", "body": "<p>Yes, similar to Django, you can have a file to store your centralised urls in Flask. This can be used to link each of your url routes to the appropriate view function.  As per the <a href=\"http://flask.pocoo.org/docs/0.10/patterns/lazyloading/\" rel=\"nofollow\">Flask documentation</a>, you could do something along the following lines:</p>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>@require_login\ndef home():\n    return render_template(\"home.html\")\n\n@require_login\ndef files():\n    return render_template(\"files.html\")\n</code></pre>\n\n<p><strong>app.py</strong></p>\n\n<pre><code>from flask import Flask\nfrom myapp import views\n\napp = Flask(__name__)\n\napp.add_url_rule('/home', view_func=views.home, methods=['GET'])\napp.add_url_rule('/files', view_func=views.files, methods=['GET'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "is_accepted": false, "score": 1, "last_activity_date": 1452751551, "last_edit_date": 1452751551, "creation_date": 1452751218, "answer_id": 34782633, "question_id": 34776877, "link": "https://stackoverflow.com/questions/34776877/is-there-a-way-to-easily-define-routes-for-multiple-standard-pages-in-flask/34782633#34782633", "title": "Is there a way to easily define routes for multiple standard pages in Flask?", "body": "<p>The simplest way to do this is to use a path variable:</p>\n\n<pre><code>@app.route('/{path}')\n@require_login\ndef template_route(path):\n    return render_template(path + '.html')\n</code></pre>\n\n<p>This makes it easy to expose new templates without having to write extra handlers that repeat the same logic over and over.</p>\n\n<p>Another way to do it is to make a factory:</p>\n\n<pre><code>def TemplateRenderer(app):\n    def register_template_endpoint(name):\n        @app.route('/' + name, endpoint=name)\n        @require_login\n        def route_handler():\n            return render_template(name + '.html')\n    return register_template_endpoint\n</code></pre>\n\n<p>Then you can use it as follows:</p>\n\n<pre><code>register_template_endpoint = TemplateRenderer(app)\nfor path in ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j']:\n    register_template_endpoint(path)\n</code></pre>\n\n<p>The advantage of this pattern is that each template has its own endpoint in your application, so you can use <code>url_for('a')</code> rather than <code>url_for('template_route', path='a')</code> as you would for the path variable above.</p>\n"}], "owner": {"reputation": 1041, "user_id": 3313400, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/72ae8e4d9ac858899890d06f9c55ef43?s=128&d=identicon&r=PG&f=1", "display_name": "jcmiller11", "link": "https://stackoverflow.com/users/3313400/jcmiller11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 34777099, "answer_count": 3, "score": 3, "last_activity_date": 1452761577, "creation_date": 1452718656, "last_edit_date": 1452719267, "question_id": 34776877, "link": "https://stackoverflow.com/questions/34776877/is-there-a-way-to-easily-define-routes-for-multiple-standard-pages-in-flask", "title": "Is there a way to easily define routes for multiple standard pages in Flask?", "body": "<p>While making a web app in Flask, I'm finding I have a big list of views that look exactly like these:</p>\n\n<pre><code>@app.route('/home', methods=['GET'])\n@require_login\ndef home():\n    return render_template(\"home.html\")\n\n@app.route('/files', methods=['GET'])\n@require_login\ndef files():\n    return render_template(\"files.html\")\n</code></pre>\n\n<p>Is there some way I could make a list like ['home','files'] and generate all of those simple views from it?</p>\n"}, {"tags": ["python", "with-statement"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1452718097, "post_id": 34776674, "comment_id": 57298667, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1369526/what-is-the-python-keyword-with-used-for\">What is the python keyword &quot;with&quot; used for?</a>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1452718168, "post_id": 34776674, "comment_id": 57298716, "body": "I know, not &quot;duplicate&quot;, but the assignment operator of <code>=</code> for the variable definition you want does not know how to reassign the constant after it is finished"}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 6, "last_activity_date": 1452718294, "creation_date": 1452718294, "answer_id": 34776783, "question_id": 34776674, "link": "https://stackoverflow.com/questions/34776674/use-python-context-to-override-variable/34776783#34776783", "title": "use python context to override variable?", "body": "<p>Sounds like you want <a href=\"https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch\"><code>unittest.mock.patch</code></a>:</p>\n\n<pre><code>from unittest.mock import patch\n\nwith patch('mymodule.Foo', 'test value'):\n    do_whatever()\n</code></pre>\n\n<p>If you're on a Python version prior to 3.3, <code>unittest.mock</code> doesn't exist, but there's a <a href=\"https://pypi.python.org/pypi/mock\">backport</a> available on PyPI. You could also write your own context manager to do this. However, there is nothing to do this built into the syntax.</p>\n"}, {"tags": [], "owner": {"reputation": 6980, "user_id": 1544347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad87bb0303238ee876a147dacd557a1?s=128&d=identicon&r=PG", "display_name": "Markus Unterwaditzer", "link": "https://stackoverflow.com/users/1544347/markus-unterwaditzer"}, "is_accepted": false, "score": 1, "last_activity_date": 1452718492, "creation_date": 1452718492, "answer_id": 34776840, "question_id": 34776674, "link": "https://stackoverflow.com/questions/34776674/use-python-context-to-override-variable/34776840#34776840", "title": "use python context to override variable?", "body": "<p>Generally this is called monkeypatching.</p>\n\n<p><code>unittest.mock</code> provides helper methods for this (as seen in another answer), but outside of the Python stdlib, I'd recommend looking at <a href=\"https://pytest.org/latest/monkeypatch.html\" rel=\"nofollow\"><code>py.test</code>'s monkeypatching fixture</a>:</p>\n\n<pre><code>def test_foo(monkeypatch):\n    monkeypatch.setattr('mymodule.FOO', 'test value')\n    # more code here\n    # ...\n\n    # the monkeypatch is automatically reverted at the end of the test\n</code></pre>\n"}], "owner": {"reputation": 7383, "user_id": 234657, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/24edf474c7978302df1e0589058e16f9?s=128&d=identicon&r=PG", "display_name": "Chris Curvey", "link": "https://stackoverflow.com/users/234657/chris-curvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1452718492, "creation_date": 1452717876, "question_id": 34776674, "link": "https://stackoverflow.com/questions/34776674/use-python-context-to-override-variable", "title": "use python context to override variable?", "body": "<p>I'm pretty sure I've seen this, but I can't get the syntax right.  I want to override a module \"constant\" during testing.  I can write the code like this:</p>\n\n<pre><code>import mymodule\n\ntry:\n   hold = mymodule.FOO\n   mymodule.FOO = 'test value'\n   do_something()\nfinally:\n   mymodule.FOO = hold\n</code></pre>\n\n<p>it seems to me that there should be a way to do this with a \"with\" statement, something like:</p>\n\n<pre><code>with mymodule.FOO = 'test value':\n    do_something()\n</code></pre>\n\n<p>Is my mind deceiving me?  Is there a simple syntax to do what I want?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 20275, "user_id": 887836, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UmvnY.jpg?s=128&g=1", "display_name": "Alexander Oh", "link": "https://stackoverflow.com/users/887836/alexander-oh"}, "edited": false, "score": 0, "creation_date": 1452717955, "post_id": 34776667, "comment_id": 57298599, "body": "what do you want to do? what is the expected behaviour? do you want to basically have giving a code example doesn&#39;t describe what you want to achieve."}, {"owner": {"reputation": 6980, "user_id": 1544347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad87bb0303238ee876a147dacd557a1?s=128&d=identicon&r=PG", "display_name": "Markus Unterwaditzer", "link": "https://stackoverflow.com/users/1544347/markus-unterwaditzer"}, "edited": false, "score": 0, "creation_date": 1452718072, "post_id": 34776667, "comment_id": 57298646, "body": "I think he wants the resulting code behave like the first example. Can&#39;t think of a different interpretation TBH"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1452718117, "post_id": 34776667, "comment_id": 57298683, "body": "What are you actually trying to do?"}, {"owner": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "reply_to_user": {"reputation": 6980, "user_id": 1544347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad87bb0303238ee876a147dacd557a1?s=128&d=identicon&r=PG", "display_name": "Markus Unterwaditzer", "link": "https://stackoverflow.com/users/1544347/markus-unterwaditzer"}, "edited": false, "score": 1, "creation_date": 1452718172, "post_id": 34776667, "comment_id": 57298718, "body": "@MarkusUnterwaditzer: It might be hard to understand because it doesn&#39;t make sense to do that. You shouldn&#39;t attempt to replicate a try/except block with <code>with</code>."}, {"owner": {"reputation": 20275, "user_id": 887836, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UmvnY.jpg?s=128&g=1", "display_name": "Alexander Oh", "link": "https://stackoverflow.com/users/887836/alexander-oh"}, "edited": false, "score": 0, "creation_date": 1452718205, "post_id": 34776667, "comment_id": 57298730, "body": "using the with statement is one option the other one is to decorate the function. if you want this at function scope it might be cleaner: <a href=\"http://python-3-patterns-idioms-test.readthedocs.org/en/latest/PythonDecorators.html\" rel=\"nofollow noreferrer\">python-3-patterns-idioms-test.readthedocs.org/en/latest/&hellip;</a> on a side note: syntax error is also an exception that looks dangerous in python."}], "answers": [{"comments": [{"owner": {"reputation": 20275, "user_id": 887836, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UmvnY.jpg?s=128&g=1", "display_name": "Alexander Oh", "link": "https://stackoverflow.com/users/887836/alexander-oh"}, "edited": false, "score": 0, "creation_date": 1452718010, "post_id": 34776690, "comment_id": 57298619, "body": "potentially precisely what the OP wants."}, {"owner": {"reputation": 41, "user_id": 5708706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532e2025606a491e10e18ab948264a3b?s=128&d=identicon&r=PG&f=1", "display_name": "ed928", "link": "https://stackoverflow.com/users/5708706/ed928"}, "edited": false, "score": 0, "creation_date": 1452718082, "post_id": 34776690, "comment_id": 57298653, "body": "Oh snap, that was fast. Thank you sir."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1452721108, "post_id": 34776690, "comment_id": 57300129, "body": "Effectively the <code>contextmanager</code> adds the missing <code>.__exit__</code> attribute."}], "tags": [], "owner": {"reputation": 6980, "user_id": 1544347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad87bb0303238ee876a147dacd557a1?s=128&d=identicon&r=PG", "display_name": "Markus Unterwaditzer", "link": "https://stackoverflow.com/users/1544347/markus-unterwaditzer"}, "is_accepted": true, "score": 8, "last_activity_date": 1452717949, "creation_date": 1452717949, "answer_id": 34776690, "question_id": 34776667, "link": "https://stackoverflow.com/questions/34776667/is-it-possible-to-wrap-this-in-a-python-with-statement/34776690#34776690", "title": "Is it possible to wrap this in a Python &quot;with&quot; statement?", "body": "<p>You were so close!</p>\n\n<pre><code>from contextlib import contextmanager\n\n@contextmanager\ndef safety():\n    try:\n        yield\n    except Exception as e:\n        print \"GOT IT\"\n\nwith safety():\n    raise Exception(\"hello\")\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5708706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532e2025606a491e10e18ab948264a3b?s=128&d=identicon&r=PG&f=1", "display_name": "ed928", "link": "https://stackoverflow.com/users/5708706/ed928"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 1, "accepted_answer_id": 34776690, "answer_count": 1, "score": 1, "last_activity_date": 1452717949, "creation_date": 1452717844, "last_edit_date": 1452717945, "question_id": 34776667, "link": "https://stackoverflow.com/questions/34776667/is-it-possible-to-wrap-this-in-a-python-with-statement", "title": "Is it possible to wrap this in a Python &quot;with&quot; statement?", "body": "<p>Is it possible to use it to achieve the following? (using the \"with\" keyword or not)</p>\n\n<p>Before:</p>\n\n<pre><code>try:\n    raise Exception(\"hello\")\nexcept Exception as e:\n    print \"GOT IT\"\n</code></pre>\n\n<p>Desired effect:</p>\n\n<pre><code>def safety():\n    try:\n        yield\n    except Exception as e:\n        print \"GOT IT\"\n\nwith safety():\n    raise Exception(\"hello\")\n</code></pre>\n\n<p>It just makes the code so much cleaner. Currently running the second snippet gives the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"testing.py\", line 25, in &lt;module&gt;\n    with safety():\nAttributeError: __exit__\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 2946, "user_id": 4359986, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7e06667eb789ed0f6e469490a5e8ee83?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4359986/alex"}, "edited": false, "score": 0, "creation_date": 1452718080, "post_id": 34776651, "comment_id": 57298652, "body": "I am aware of the pandas groupby command, but I would like the return type to be a dataframe as well. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 23806, "user_id": 4542359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a6ea331ac684b52563d13e6ee44e03be?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Protopopov", "link": "https://stackoverflow.com/users/4542359/anton-protopopov"}, "is_accepted": true, "score": 14, "last_activity_date": 1452718610, "last_edit_date": 1452718610, "creation_date": 1452718208, "answer_id": 34776760, "question_id": 34776651, "link": "https://stackoverflow.com/questions/34776651/concatenate-rows-of-pandas-dataframe-with-same-id/34776760#34776760", "title": "Concatenate rows of pandas DataFrame with same id", "body": "<p>You could use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"noreferrer\"><code>groupby</code></a> for that with groupby <code>agg</code> method and <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.tolist.html\" rel=\"noreferrer\"><code>tolist</code></a> method of Pandas Series:</p>\n\n<pre><code>In [762]: df.groupby('id').agg(lambda x: x.tolist())\nOut[762]: \n         A       B\nid                \n0   [1, 2]  [1, 1]\n1   [3, 0]  [2, 2]\n</code></pre>\n\n<p><code>groupby</code> return an Dataframe as you want:</p>\n\n<pre><code>In [763]: df1 = df.groupby('id').agg(lambda x: x.tolist())\n\nIn [764]: type(df1)\nOut[764]: pandas.core.frame.DataFrame\n</code></pre>\n\n<p>To exactly match your expected result you could additionally do <code>reset_index</code> or use <code>as_index=False</code> in <code>groupby</code>:</p>\n\n<pre><code>In [768]: df.groupby('id', as_index=False).agg(lambda x: x.tolist())\nOut[768]: \n   id       A       B\n0   0  [1, 2]  [1, 1]\n1   1  [3, 0]  [2, 2]\n\nIn [771]: df1.reset_index()\nOut[771]: \n   id       A       B\n0   0  [1, 2]  [1, 1]\n1   1  [3, 0]  [2, 2]\n</code></pre>\n"}], "owner": {"reputation": 2946, "user_id": 4359986, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7e06667eb789ed0f6e469490a5e8ee83?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4359986/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13185, "favorite_count": 6, "accepted_answer_id": 34776760, "answer_count": 1, "score": 9, "last_activity_date": 1452718652, "creation_date": 1452717781, "last_edit_date": 1452718652, "question_id": 34776651, "link": "https://stackoverflow.com/questions/34776651/concatenate-rows-of-pandas-dataframe-with-same-id", "title": "Concatenate rows of pandas DataFrame with same id", "body": "<p>Say I have a pandas DataFrame such as:</p>\n\n<pre><code>   A  B  id\n0  1  1   0\n1  2  1   0\n2  3  2   1\n3  0  2   1\n</code></pre>\n\n<p>Say I want to combine rows with the same id so that the other elements in the rows get put together in a list, so that the above dataframe would become:</p>\n\n<pre><code>     A       B     id\n0  [1, 2]  [1, 1]   0\n1  [3, 0]  [2, 2]   1\n</code></pre>\n\n<p>as the first two rows, and the last two rows have the same id. Does pandas have a function to do this? I am aware of the pandas groupby command, but I would like the return type to be a dataframe as well. Thanks.</p>\n"}, {"tags": ["python", "django", "django-import-export"], "answers": [{"comments": [{"owner": {"reputation": 3144, "user_id": 6252525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5bbeb3c3ae08ad896415694e1bafe2?s=128&d=identicon&r=PG", "display_name": "JGC", "link": "https://stackoverflow.com/users/6252525/jgc"}, "edited": false, "score": 0, "creation_date": 1604604428, "post_id": 34818943, "comment_id": 114405118, "body": "I had the same issue and this fixed it.  I assume the reason for this is that the a change in the M2M relationship doesn&#39;t actually change the entry being imported - instead it changes the relationship table.  It does raise the question whether this should be considered a bug, and that skip_unchanged should consider a change in M2M relationship as a change."}], "tags": [], "owner": {"reputation": 761, "user_id": 2713441, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QKLCj.png?s=128&g=1", "display_name": "javiercf", "link": "https://stackoverflow.com/users/2713441/javiercf"}, "is_accepted": true, "score": 2, "last_activity_date": 1452888068, "creation_date": 1452888068, "answer_id": 34818943, "question_id": 34776649, "link": "https://stackoverflow.com/questions/34776649/import-m2m-with-django-import-export-failing/34818943#34818943", "title": "import m2m with Django-import-export failing", "body": "<p>Issue was fixed removing the <code>skip_unchanged</code> meta option, the <code>skip_row</code>method in the <code>ModelResource</code> class is not reading the new value assigned in the .CSV</p>\n"}], "owner": {"reputation": 761, "user_id": 2713441, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QKLCj.png?s=128&g=1", "display_name": "javiercf", "link": "https://stackoverflow.com/users/2713441/javiercf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 34818943, "answer_count": 1, "score": 1, "last_activity_date": 1452888068, "creation_date": 1452717754, "last_edit_date": 1452717904, "question_id": 34776649, "link": "https://stackoverflow.com/questions/34776649/import-m2m-with-django-import-export-failing", "title": "import m2m with Django-import-export failing", "body": "<p>Data import using <code>django-import-export</code> is failing for m2m relationships. </p>\n\n<p>The transaction doesn't generate any errors, however when trying to update an object's m2m relationship none of the updated values for m2m are being updated.</p>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>class Category(MPTTModel):\n    name = models.CharField(max_length=155, verbose_name=_('Category'))\n    code = models.CharField(max_length=255, verbose_name=_('Category Code'), help_text='primary key value for category', db_index=True)\n    categorytype = models.ForeignKey(ProductType, related_name='categories_for', verbose_name=_('Product type'), blank=True, null=True)\n    meta_description = models.TextField(verbose_name=_('Meta Description'))\n    meta_keywords = models.TextField(verbose_name=_('Meta Keywords'))\n    parent = TreeForeignKey('self', null=True, blank=True, related_name='children', db_index=True)\n    slug = models.SlugField(blank=True, verbose_name=_('URL alias'))\n    order = models.PositiveIntegerField()\n\nclass Product(models.Model):\n    reference = models.CharField(max_length=50, verbose_name=_('Reference'), db_index=True)\n    name = models.CharField(max_length=255, verbose_name=_('Product Name'))\n    description = models.TextField(blank=True, verbose_name=_('Product Description'))\n    specs = models.TextField(blank=True, verbose_name=_('Product Specifications'))\n    color_code = models.ForeignKey(ColorCode, verbose_name=_('Color Code'), related_name='colorcode_for')\n    color_web = models.CharField(max_length=7, verbose_name=_('Web Color'), db_index=True)\n    size = models.CharField(max_length=11, verbose_name=_('Product Size'))\n    price = models.IntegerField(verbose_name=_('Product Price'))\n    price_promo = models.IntegerField(blank=True, null=True, verbose_name=_('Product Promo Price'))\n    upc = models.CharField(max_length=155, verbose_name=_('UPC'))\n    stock = models.IntegerField(verbose_name=_('Product Stock'))\n    categories = models.ManyToManyField(Category, verbose_name=_('Estilo'), related_name='products')\n    in_stores = models.BooleanField(default=True, verbose_name=_('Product Availability'), db_index=True)\n    try_out = models.BooleanField(default=False, verbose_name=_('Try out Product'))\n    pub_date = models.DateTimeField(auto_now_add=True)\n    update = models.DateTimeField(auto_now=True)\n    slug = models.SlugField(default='', blank=True, verbose_name=_('URL alias'))\n    blog = models.URLField(blank=True, verbose_name=_('Blog mention link'))\n    parent_product = models.BooleanField(default=False, verbose_name=_('Main Product'), db_index=True)\n    main_product = models.ForeignKey('Product', blank=True, null=True, related_name='child_product')\n    active = models.BooleanField(default=True, verbose_name=_('Active'), db_index=True)\n    trends = models.ManyToManyField(Trends, verbose_name=_('Trends'), blank=True, related_name=\"trends\")\n    photoshoot_id = models.CharField(max_length=255, verbose_name=_('Photoshoot ID'), blank=True)\n    new_arrival = models.BooleanField(default=False, db_index=True)\n</code></pre>\n\n<p><strong>resources.py</strong></p>\n\n<pre><code>class ProductResource(resources.ModelResource):\n    categories = fields.Field(widget=widgets.ManyToManyWidget(Category, separator=\"/\"))\n\n    def export(self, queryset=None):\n        queryset = Product.objects.all()\n        headers = self.get_export_headers()\n        data = tablib.Dataset(headers=headers)\n        for obj in queryset.iterator():\n                data.append(self.export_resource(obj))\n        return data\n\n    class Meta:\n        model = Product\n        fields = ('categories', 'reference', 'name_es', 'name_en', 'description_es', 'description_en', 'specs_es', 'specs_en', 'color_code', 'color_web', 'size', 'price_es', 'price_en', 'price_promo_es', 'price_promo_en', 'upc', 'stock', 'in_stores', 'try_out', 'blog', 'active', 'photoshoot_id')\n        import_id_fields = ['upc']\n        skip_unchanged = True\n</code></pre>\n"}, {"tags": ["python", "package", "pip"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1452717514, "post_id": 34776518, "comment_id": 57298351, "body": "Have you tried using <code>easy_install</code> as their documentation recommends?"}, {"owner": {"reputation": 10017, "user_id": 301107, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2c87e8db57897b08332340b2c4b508ff?s=128&d=identicon&r=PG", "display_name": "masnun", "link": "https://stackoverflow.com/users/301107/masnun"}, "edited": false, "score": 0, "creation_date": 1452717523, "post_id": 34776518, "comment_id": 57298357, "body": "Which version of Python are you using?"}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1452717599, "post_id": 34776518, "comment_id": 57298401, "body": "@jonrsharpe no I have not as <code>easy_install</code> is no longer the recommended way to install packages: <a href=\"http://stackoverflow.com/a/30408520/1391441\">stackoverflow.com/a/30408520/1391441</a>"}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 10017, "user_id": 301107, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2c87e8db57897b08332340b2c4b508ff?s=128&d=identicon&r=PG", "display_name": "masnun", "link": "https://stackoverflow.com/users/301107/masnun"}, "edited": false, "score": 0, "creation_date": 1452717615, "post_id": 34776518, "comment_id": 57298410, "body": "@AbuAshrafMasnun, I forgot to mention that. I&#39;ll add it to the question."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1452717711, "post_id": 34776518, "comment_id": 57298464, "body": "This is true, but: 1. you&#39;ve tried <code>pip</code> and failed; and 2. it&#39;s what the maintainers suggest using. They&#39;re not distributing wheels."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1452718070, "post_id": 34776518, "comment_id": 57298645, "body": "<code>easy_install</code> fails with <code>ImportError: No module named Cython.Build</code> which is odd since it is not one of the required packages listed in <a href=\"https://pypi.python.org/pypi/Stoner\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/Stoner</a> (unless I&#39;m missing something): <code>numpy &gt;=1.8, scipy &gt;=0.14, matplotlib &gt;=1.4, h5py, numba and lmfit</code>."}], "owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1452718784, "answer_count": 0, "score": 0, "last_activity_date": 1452717650, "creation_date": 1452717226, "last_edit_date": 1452717650, "question_id": 34776518, "link": "https://stackoverflow.com/questions/34776518/pip-doesnt-find-a-package-listed-in-pypi-python-org", "closed_reason": "Duplicate", "title": "pip doesn&#39;t find a package listed in pypi.python.org", "body": "<p>I'm trying to install the <a href=\"https://pypi.python.org/pypi/Stoner\" rel=\"nofollow\">Stoner</a> package viv <code>pip</code> under Python v2.7.6 (default in Ubuntu 14.04). I use:</p>\n\n<pre><code>pip install --user Stoner\n</code></pre>\n\n<p>as I've done with countless other packages, but I get:</p>\n\n<pre><code>Downloading/unpacking Stoner\n  Could not find any downloads that satisfy the requirement Stoner\nCleaning up...\nNo distributions at all found for Stoner\nStoring debug log for failure in /home/gabriel/.pip/pip.log\n</code></pre>\n\n<p>Here's the full <a href=\"https://upl.io/443ql1\" rel=\"nofollow\">pip.log</a> file. What's going on? Why can't that package be found?</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 2062302, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a0d39839233c84238a40c5a8f9459407?s=128&d=identicon&r=PG", "display_name": "jpspeeddemon", "link": "https://stackoverflow.com/users/2062302/jpspeeddemon"}, "edited": false, "score": 0, "creation_date": 1452718685, "post_id": 34776570, "comment_id": 57298974, "body": "Is it possible to get these commas in the color bar? I&#39;ve applied this solution without any success"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 123, "user_id": 2062302, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a0d39839233c84238a40c5a8f9459407?s=128&d=identicon&r=PG", "display_name": "jpspeeddemon", "link": "https://stackoverflow.com/users/2062302/jpspeeddemon"}, "edited": false, "score": 0, "creation_date": 1452721058, "post_id": 34776570, "comment_id": 57300102, "body": "You could use <a href=\"http://stackoverflow.com/a/3831793/190597\"><code>cbar.ax.set_yticklabels</code></a>."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 1, "last_activity_date": 1452717440, "creation_date": 1452717440, "answer_id": 34776570, "question_id": 34776455, "link": "https://stackoverflow.com/questions/34776455/adding-commas-to-thousands-matplotlib-python/34776570#34776570", "title": "adding commas to thousands, matplotlib, python", "body": "<p><code>plt.hexbin</code> returns a PolyCollection. <code>fig, ax = plt.hexbin(...)</code> requires <code>PolyCollection</code> to be iterable and have two parts, so the first part can be assigned to <code>fig</code> and the second part to <code>ax</code>. You probably want this instead:</p>\n\n<pre><code>fig, ax = plt.subplots()\nplt.hexbin(x, y, cmap=plt.cm.gnuplot2_r)\n</code></pre>\n\n<hr>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.ticker as tkr\n\ndata = pd.DataFrame(np.random.randint(1500, size=(100, 2)), columns=['meas', 'modeled'])\n# data = pd.read_csv('data.csv')\n\nx = data['meas']\ny = data['modeled']\n\nxmin = 0\nxmax = 1500\nymin = 0\nymax = 1500\n\nfig, ax = plt.subplots()\nplt.hexbin(x, y, cmap=plt.cm.gnuplot2_r)\nplt.axis([xmin, xmax, ymin, ymax])\nplt.xlabel(\"Measured baseflow, in cfs\")\nplt.ylabel(\"Simulated baseflow, in cfs\")\ncb = plt.colorbar()\ncb.set_label('count')\np2, = plt.plot([0,1500],[0,1500], c='g')\nl2 = plt.legend([p2], [\"1:1 Line\"], loc=2)\n\nax.yaxis.set_major_formatter(\n        tkr.FuncFormatter(lambda y,  p: format(int(y), ',')))\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/350KR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/350KR.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 123, "user_id": 2062302, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a0d39839233c84238a40c5a8f9459407?s=128&d=identicon&r=PG", "display_name": "jpspeeddemon", "link": "https://stackoverflow.com/users/2062302/jpspeeddemon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2488, "favorite_count": 0, "accepted_answer_id": 34776570, "answer_count": 1, "score": 1, "last_activity_date": 1452717440, "creation_date": 1452716969, "question_id": 34776455, "link": "https://stackoverflow.com/questions/34776455/adding-commas-to-thousands-matplotlib-python", "title": "adding commas to thousands, matplotlib, python", "body": "<p>I'm plotting 2 columns of data from a CSV file. The plot does not have thousands separator commas on the axes which is what i need. I found a solution online but i can't seem to get it to work for me. </p>\n\n<p>I get an error message TypeError: 'PolyCollection' object is not iterable</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.ticker as tkr\n\n\ndata = pd.read_csv('data.csv')\n\nx = data['meas']\ny = data['modeled']\n\nxmin = 0\nxmax = 1500\nymin = 0\nymax = 1500\n\n#plt.subplots_adjust(hspace=5)\n#plt.subplot(121)\nfig, ax =plt.hexbin(x, y, cmap=plt.cm.gnuplot2_r)\nplt.axis([xmin, xmax, ymin, ymax])\nplt.xlabel(\"Measured baseflow, in cfs\")\nplt.ylabel(\"Simulated baseflow, in cfs\")\ncb = plt.colorbar()\ncb.set_label('count')\np2, = plt.plot([0,1500],[0,1500], c='g')\nl2 = plt.legend([p2], [\"1:1 Line\"], loc=2)\n\nax.yaxis.set_major_formatter(\n        tkr.FuncFormatter(lambda y,  p: format(int(y), ',')))\n\n\n\n#plt.tight_layout(pad=10.0)\nplt.savefig('Fig13_hexbinDevBaseflows.jpg')\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "django", "django-admin", "django-1.9"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1452718438, "post_id": 34776441, "comment_id": 57298859, "body": "You haven&#39;t explained what the problem is."}, {"owner": {"reputation": 7473, "user_id": 5231877, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/A6ERH.jpg?s=128&g=1", "display_name": "Ivan Semochkin", "link": "https://stackoverflow.com/users/5231877/ivan-semochkin"}, "edited": false, "score": 0, "creation_date": 1452718637, "post_id": 34776441, "comment_id": 57298957, "body": "<code>max_length</code> of <code>CharField</code> is 255, cause it is VARCHAR."}, {"owner": {"reputation": 125, "user_id": 1496274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ace8477d17187409b8a535dcf4c618bf?s=128&d=identicon&r=PG", "display_name": "Danilo Freitas", "link": "https://stackoverflow.com/users/1496274/danilo-freitas"}, "edited": false, "score": 0, "creation_date": 1452719084, "post_id": 34776441, "comment_id": 57299160, "body": "Your question&#39;s title doesn&#39;t help. Please edit it to something more clear."}], "owner": {"reputation": 71, "user_id": 1163211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb387a3d86f1cb50f18f8af3e1601a13?s=128&d=identicon&r=PG", "display_name": "hugotacito", "link": "https://stackoverflow.com/users/1163211/hugotacito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452716913, "creation_date": 1452716913, "question_id": 34776441, "link": "https://stackoverflow.com/questions/34776441/django-1-9-list-filter", "title": "Django 1.9 list_filter", "body": "<p>I have these models</p>\n\n<pre><code>class Team(models.Model):\n    description = models.CharField('Description', max_length=500)\n\n    def __str__(self):\n        return self.description\n\n\nclass Course(models.Model):\n    description = models.CharField('Description', max_length=500)\n    directory = models.ForeignKey('myapp.Directory', null=True, verbose_name='Directory')\n    groups = models.ManyToManyField('myapp.Team', through='myapp.TeamCourse')\n\n    def __str__(self):\n        return self.description\n\n\nclass TeamCourse(models.Model):\n    course = models.ForeignKey('myapp.Course')\n    team = models.ForeignKey('myapp.Team')\n\n    def __str__(self):\n        return self.team.description\n\n\nclass Directory(models.Model):\n    description = models.CharField('Description', max_length=500)\n    sector = models.ForeignKey('myapp.Sector')\n\n    def __str__(self):\n        return self.description\n\n\nclass Sector(models.Model):\n    description = models.CharField('Description', max_length=500)\n\n    def __str__(self):\n        return self.description\n</code></pre>\n\n<p>and this admin</p>\n\n<pre><code>class TeamAdmin(admin.ModelAdmin):\n    list_display = ('id', 'description')\n    list_filter = ('course', 'course__directory', 'course__directory__sector')\n    search_fields = ('id', 'course',)\n    list_display_icons = True\n    list_per_page = 15\n    export_to_xls = True\nadmin.site.register(Team, TeamAdmin)\n</code></pre>\n\n<p>The problem occurs when I try to access the list_filter 'course__directory__sector' (<a href=\"http://localhost:8000/admin/myapp/team/?course__directory__sector__id__exact=1\" rel=\"nofollow\">http://localhost:8000/admin/myapp/team/?course__directory__sector__id__exact=1</a>) in the django 1.9. This worked until django 1.7. Can someone tell me how to fix this?</p>\n"}, {"tags": ["python", "scipy", "interpolation"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1452717329, "post_id": 34776435, "comment_id": 57298241, "body": "I don&#39;t see where <b>f</b> takes 2 arguments; I see no explicit parameters.  Also, I suspect that your problem is that you pass the <i>value</i> of a Time_function call, rather than the function itself.  Try <b>minimize(Time_function, [1.0, 0.4])</b> ?"}, {"owner": {"reputation": 33, "user_id": 5786425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0a7d7a8b1fbfa95b19919fce1f804?s=128&d=identicon&r=PG&f=1", "display_name": "user5786425", "link": "https://stackoverflow.com/users/5786425/user5786425"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1452721260, "post_id": 34776435, "comment_id": 57300217, "body": "That returns TypeError: Time_function() takes no arguments (1 given) , wich is strange"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1452724747, "post_id": 34776435, "comment_id": 57301821, "body": "Rats.  Well, if you&#39;d care to supply a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a>, I&#39;ll be happy to work on the mechanics."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5786425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0a7d7a8b1fbfa95b19919fce1f804?s=128&d=identicon&r=PG&f=1", "display_name": "user5786425", "link": "https://stackoverflow.com/users/5786425/user5786425"}, "edited": false, "score": 0, "creation_date": 1452727986, "post_id": 34778882, "comment_id": 57303118, "body": "That did it! However as you say the interp2d does not seem to me very accurate so I&#39;ll try it using griddata! Thanks alot!"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 33, "user_id": 5786425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0a7d7a8b1fbfa95b19919fce1f804?s=128&d=identicon&r=PG&f=1", "display_name": "user5786425", "link": "https://stackoverflow.com/users/5786425/user5786425"}, "edited": false, "score": 0, "creation_date": 1452728522, "post_id": 34778882, "comment_id": 57303322, "body": "@user5786425 I&#39;m glad I could help. I also find it probable that using <code>LinearNDInterpolator</code> will be quicker than many calls to <code>griddata</code>, you should check both. Of course if you&#39;re not using bilinear interpolation, then another interpolating back-end should be used."}], "tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": true, "score": 2, "last_activity_date": 1452726917, "last_edit_date": 1495541237, "creation_date": 1452726917, "answer_id": 34778882, "question_id": 34776435, "link": "https://stackoverflow.com/questions/34776435/finding-minimum-of-interpolated-function/34778882#34778882", "title": "Finding minimum of interpolated function.", "body": "<p>From the help of <a href=\"http://docs.scipy.org/doc/scipy-0.16.1/reference/generated/scipy.interpolate.interp2d.__call__.html#scipy.interpolate.interp2d.__call__%29\" rel=\"nofollow noreferrer\"><code>scipy.interpolate.interp2d</code></a>:</p>\n\n<pre><code> |  __call__(self, x, y, dx=0, dy=0, assume_sorted=False)\n |      Interpolate the function.\n |      \n |      Parameters\n |      ----------\n |      x : 1D array\n |          x-coordinates of the mesh on which to interpolate.\n |      y : 1D array\n |          y-coordinates of the mesh on which to interpolate.\n</code></pre>\n\n<p>From the help of <a href=\"http://docs.scipy.org/doc/scipy-0.16.1/reference/generated/scipy.optimize.minimize.html\" rel=\"nofollow noreferrer\"><code>scipy.optimize.minimize</code></a>:</p>\n\n<pre><code>minimize(fun, x0, args=(), method=None, jac=None, hess=None, hessp=None, bounds=None, constraints=(), tol=None, callback=None, options=None)\n    Minimization of scalar function of one or more variables.\n\n    ....\n\n    Parameters\n    ----------\n    fun : callable\n        Objective function.\n    x0 : ndarray\n        Initial guess.\n</code></pre>\n\n<p>So it seems that <code>interp2d</code> constructs a function with 2 separate input parameters, but <code>minimize</code> tries to stuff in both variables as two components of the same input <code>ndarray</code>. You can use a <code>lambda</code> to mediate between the two syntaxes:</p>\n\n<pre><code>f = Time_function()\n\nreturn minimize(lambda v: f(v[0],v[1]), np.array([1.0, 0.4]))\n</code></pre>\n\n<p>On a side note, I've found <code>interp2d</code> to <a href=\"https://stackoverflow.com/a/34656728/5067311\">give weird results</a> sometimes. You might want to consider using <a href=\"http://docs.scipy.org/doc/scipy-0.16.1/reference/generated/scipy.interpolate.griddata.html\" rel=\"nofollow noreferrer\"><code>scipy.interpolate.griddata</code></a>, which doesn't construct an interpolating function for you, but rather computes substituted values for given input points (but you can access the interpolating functions themselves, such as <a href=\"http://docs.scipy.org/doc/scipy-0.16.1/reference/generated/scipy.interpolate.LinearNDInterpolator.html#scipy.interpolate.LinearNDInterpolator\" rel=\"nofollow noreferrer\"><code>LinearNDInterpolator</code></a>). While I'd expect <code>griddata</code> to do a better job at interpolating, it would possibly (probably) be slower than substituting into a single interpolating function constructed with <code>interp2d</code> (but I'd check regardless).</p>\n"}], "owner": {"reputation": 33, "user_id": 5786425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0a7d7a8b1fbfa95b19919fce1f804?s=128&d=identicon&r=PG&f=1", "display_name": "user5786425", "link": "https://stackoverflow.com/users/5786425/user5786425"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1647, "favorite_count": 0, "accepted_answer_id": 34778882, "answer_count": 1, "score": 3, "last_activity_date": 1452726917, "creation_date": 1452716887, "question_id": 34776435, "link": "https://stackoverflow.com/questions/34776435/finding-minimum-of-interpolated-function", "title": "Finding minimum of interpolated function.", "body": "<p>I have a problem I can't figure out. I have created a interpolated function from data using scipy.interpolate.interp2d this gives me a callable function of two variables</p>\n\n<pre><code> def Time_function():\n\n      '''creates a interpolated function of Time depending on\n      Cl and Cd using the in and outputs of matlab sim run.\n     '''\n\n      return interp2d(import_data()[0], import_data()[1], import_data()[2])\n</code></pre>\n\n<p>Witch works well, however I now want to find the minimum of this function using\nscipy.optimize.fmin or mimimize</p>\n\n<pre><code>def find_min_time():\n\n     '''finds the min time based on the interpolated function\n     '''\n\n     f = Time_function()\n\n     return minimize(f, np.array([1.0, 0.4]))\n</code></pre>\n\n<p>f obviously takes 2 arguments so minimize will need a function (f) and two guesses. However I can't seem to find the correct way to input the initail guesses as I get this error:</p>\n\n<pre><code>TypeError: __call__() takes at least 3 arguments (2 given)\n</code></pre>\n\n<p>Anyone know of a solution?</p>\n\n<p>Cheers//</p>\n"}, {"tags": ["python", "global-variables"], "comments": [{"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "edited": false, "score": 0, "creation_date": 1452717060, "post_id": 34776426, "comment_id": 57298096, "body": "That value should just be passed into the method... Maybe coding style? I think that is bad practice though. I lean toward if you are using a global variable you&#39;re probably doing it wrong..."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452717653, "post_id": 34776426, "comment_id": 57298436, "body": "Are you expecting <code>global</code> to reset the value of the global variable? I don&#39;t see anything I&#39;d describe as &quot;resetting&quot; the maximum in <code>_lis</code>."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1452717790, "post_id": 34776426, "comment_id": 57298505, "body": "@user2357112, look just above the <b>return</b>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1452717920, "post_id": 34776426, "comment_id": 57298577, "body": "@Prune: I wouldn&#39;t describe that as &quot;resetting&quot; the maximum."}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1452718031, "post_id": 34776426, "comment_id": 57298630, "body": "A good example, why <code>global</code> makes code less understandable."}], "answers": [{"comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1452718116, "post_id": 34776656, "comment_id": 57298681, "body": "The question is on the <i>definition</i> (value) of the variable, not its declaration."}, {"owner": {"reputation": 3329, "user_id": 1136463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2050889ca056ccef97f5d509826bd89?s=128&d=identicon&r=PG", "display_name": "Gandaro", "link": "https://stackoverflow.com/users/1136463/gandaro"}, "edited": false, "score": 1, "creation_date": 1452718298, "post_id": 34776656, "comment_id": 57298779, "body": "I think that the person who asked the question misinterpreted the <code>global</code> keyword as \u201cdefining\u201d something and that the question is actually about the use of the <code>global</code> keyword."}, {"owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "edited": false, "score": 0, "creation_date": 1452731125, "post_id": 34776656, "comment_id": 57304204, "body": "I wasn&#39;t the one who downvoted this, and I wouldn&#39;t have because this response directly answers the question. Also, when I first learned python, I was taught that the use of global variables should be avoided. How could the code for these functions be structured such that a global variable isn&#39;t used?"}, {"owner": {"reputation": 3329, "user_id": 1136463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2050889ca056ccef97f5d509826bd89?s=128&d=identicon&r=PG", "display_name": "Gandaro", "link": "https://stackoverflow.com/users/1136463/gandaro"}, "edited": false, "score": 0, "creation_date": 1453050841, "post_id": 34776656, "comment_id": 57423004, "body": "You could change <code>_lis()</code> so that it accepts the parameter <code>maximum</code> and returns two values: the value it is returning already plus the current maximum value. Then you do not need a global variable. The code could look like this: <a href=\"https://gist.github.com/gandaro/8e9d146fadc69eed00b2\" rel=\"nofollow noreferrer\">gist.github.com/gandaro/8e9d146fadc69eed00b2</a>"}], "tags": [], "owner": {"reputation": 3329, "user_id": 1136463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2050889ca056ccef97f5d509826bd89?s=128&d=identicon&r=PG", "display_name": "Gandaro", "link": "https://stackoverflow.com/users/1136463/gandaro"}, "is_accepted": true, "score": 1, "last_activity_date": 1452718225, "last_edit_date": 1452718225, "creation_date": 1452717788, "answer_id": 34776656, "question_id": 34776426, "link": "https://stackoverflow.com/questions/34776426/using-global-variables-in-python-function/34776656#34776656", "title": "Using global variables in python function", "body": "<p>You have to use the <code>global</code> keyword in a function to be able to change the variable globally; if you do not use the keyword, it will create a variable of local scope with the same name. The statement <code>global maximum</code> does not \u201cre-define\u201d the variable, but it tells Python that if in this function <code>maximum</code> is set to some value, the global variable is meant to change.</p>\n\n<pre><code>In [1]: a = 42\n\nIn [2]: def f():\n   ...:     a = 23\n   ...:\n\nIn [3]: f()\n\nIn [4]: a\nOut[4]: 42\n\nIn [5]: def g():\n   ...:     global a\n   ...:     a = 23\n   ...:\n\nIn [6]: g()\n\nIn [7]: a\nOut[7]: 23\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "edited": false, "score": 0, "creation_date": 1452730861, "post_id": 34776992, "comment_id": 57304134, "body": "I think the for loop is required in the top down approach for dynamic programming. How would you solve the problem without the for loop and how would you update the maximum variable?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "edited": false, "score": 0, "creation_date": 1452797435, "post_id": 34776992, "comment_id": 57337965, "body": "It&#39;s not so much the existing <b>for</b> loop; it&#39;s the approach of the recursion.  <b>maximum</b> is an ugly clart in this respect, as is the static use of <b>arr</b> -- it&#39;s never changed from one call to the next, which tastes like another global variable."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1452797800, "last_edit_date": 1452797800, "creation_date": 1452719141, "answer_id": 34776992, "question_id": 34776426, "link": "https://stackoverflow.com/questions/34776426/using-global-variables-in-python-function/34776992#34776992", "title": "Using global variables in python function", "body": "<p>Look at the code structure: there is no recursive call to <strong>lis</strong>; when it initializes maximum = 1 at line 42, that's the <em>only</em> time this statement is executed.  Everything else is done within <strong>_lis</strong>, where the maximum is only updated, never reset to 1.</p>\n\n<p>I recommend that you find other code to study.  This example shows bad habits in handling the variables <strong>maximum</strong> and <strong>arr</strong> -- the author ignores the power of recursion here, using loop-style logic.  You could make a nice class exercise out of upgrading this to a program easy to read and maintain.</p>\n\n<hr>\n\n<p>In dynamic programming, the only global variables should be for memoization.  In fact, this example uses <em>no</em> memoization -- which means it is <em>not</em> dynamic programming.  In short, there should be a memo list, where memo[n] holds the value from _lis(arr, n).  Recursive calls should not go farther than one level deep, as <strong>_lis</strong> will return this stored value.  The answer at the end is simply <strong>max(memo)</strong>.</p>\n\n<p>See the WIkipedia pages on <a href=\"https://en.wikipedia.org/wiki/Dynamic_programming#Dynamic_programming_in_computer_programming\" rel=\"nofollow\">dynamic programming</a> and <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow\">memoization</a>.</p>\n"}], "owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 888, "favorite_count": 0, "accepted_answer_id": 34776656, "answer_count": 2, "score": 1, "last_activity_date": 1452797800, "creation_date": 1452716862, "question_id": 34776426, "link": "https://stackoverflow.com/questions/34776426/using-global-variables-in-python-function", "title": "Using global variables in python function", "body": "<p>I'm going through <a href=\"http://www.geeksforgeeks.org/dynamic-programming-set-3-longest-increasing-subsequence/\" rel=\"nofollow\">this</a> solution for the Longest Increasing Subsequence problem and noticed that the global variable for the maximum value of the sub sequence length is being redefined both in the driver that runs the main function as well as in the actual function that computes the longest sub sequence:</p>\n\n<pre><code># global variable to store the maximum\nglobal maximum\n\ndef _lis(arr , n ):\n\n    # to allow the access of global variable\n    global maximum\n\n    # Base Case\n    if n == 1 :\n        return 1\n\n    # maxEndingHere is the length of LIS ending with arr[n-1]\n    maxEndingHere = 1\n\n    \"\"\"Recursively get all LIS ending with arr[0], arr[1]..arr[n-2]\n       IF arr[n-1] is maller than arr[n-1], and max ending with\n        arr[n-1] needs to be updated, then update it\"\"\"\n\n    for i in xrange(1, n):\n        res = _lis(arr , i)\n        if arr[i-1] &lt; arr[n-1] and res+1 &gt; maxEndingHere:\n            maxEndingHere  = res +1\n\n    # Compare maxEndingHere with overall maximum.And update\n    # the overall maximum if needed\n    maximum = max(maximum , maxEndingHere)\n\n    return maxEndingHere\n\ndef lis(arr):\n\n    # to allow the access of global variable\n    global maximum\n\n    # lenght of arr\n    n = len(arr)\n\n    # maximum variable holds the result\n    maximum = 1\n\n    # The function _lis() stores its result in maximum\n    _lis(arr , n)\n\n    return maximum\n</code></pre>\n\n<p>It would seem that each time a recursive call is made, the maximum value would be reset. What would be the purpose of redefining the global variables within the local scope of the functions? </p>\n"}, {"tags": ["python", "django", "views", "registration"], "answers": [{"tags": [], "owner": {"reputation": 718, "user_id": 1465244, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b5ac13ee3bcca060511fa4d187f2b6d?s=128&d=identicon&r=PG", "display_name": "ryanmrubin", "link": "https://stackoverflow.com/users/1465244/ryanmrubin"}, "is_accepted": false, "score": 0, "last_activity_date": 1452728417, "creation_date": 1452728417, "answer_id": 34779169, "question_id": 34776413, "link": "https://stackoverflow.com/questions/34776413/django-how-to-pass-in-context-variables-for-registration-redux/34779169#34779169", "title": "Django: How to pass in context variables for registration redux?", "body": "<p>BaseRegistrationView inherits from FormView, which has in its inheritance chain <code>django.views.generic.base.ContextMixin</code>. This defines the <code>get_context_data</code> method, which returns context as a dict. You can override that method and add in your own variables like so:</p>\n\n<pre><code>class RegistrationView(BaseRegistrationView):\n    ...\n    def get_context_data(self, **kwargs):\n        context = super(RegistrationView, self).get_context_data(**kwargs)\n        context['key'] = value \n        return context\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 5759380, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/da923a84b6660c1dabfdbdd22e13f874?s=128&d=identicon&r=PG&f=1", "display_name": "swedishfished", "link": "https://stackoverflow.com/users/5759380/swedishfished"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452730285, "creation_date": 1452716830, "last_edit_date": 1452730285, "question_id": 34776413, "link": "https://stackoverflow.com/questions/34776413/django-how-to-pass-in-context-variables-for-registration-redux", "title": "Django: How to pass in context variables for registration redux?", "body": "<p>here is the views.py for registration redux. i am a little bit confused and i don't really understand how to pass in context variables.</p>\n\n<pre><code>class RegistrationView(BaseRegistrationView):\n    SEND_ACTIVATION_EMAIL = getattr(settings, 'SEND_ACTIVATION_EMAIL', True)\n    success_url = 'registration_complete'\n\n    def register(self, request, form):\n        if Site._meta.installed:\n            site = Site.objects.get_current()\n        else:\n            site = RequestSite(request)\n\n        if hasattr(form, 'save'):\n            new_user_instance = form.save()\n        else:\n            new_user_instance = UserModel().objects.create_user(**form.cleaned_data)\n\n        new_user = RegistrationProfile.objects.create_inactive_user(\n            new_user=new_user_instance,\n            site=site,\n            send_email=self.SEND_ACTIVATION_EMAIL,\n            request=request,\n        )\n        signals.user_registered.send(sender=self.__class__,\n                                     user=new_user,\n                                     request=request)\n        return new_user\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 5, "creation_date": 1452716974, "post_id": 34776401, "comment_id": 57298041, "body": "Boy, that&#39;s a long expression. <b>one</b> of those keys gives you the value <code>None</code> back, so the next <code>[...]</code> part of the expression produces the exception. Say <code>entry[&#39;_source&#39;][&#39;Vrvirksomhed&#39;]</code> is <code>None</code>, then <code>entry[&#39;_source&#39;][&#39;Vrvirksomhed&#39;][&#39;virksomhedMetadata&#39;]</code> will fail with the exception you see."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1452717025, "post_id": 34776401, "comment_id": 57298076, "body": "You are just not testing for the right key there; it must be one in the series <code>[&#39;_source&#39;][&#39;Vrvirksomhed&#39;][&#39;virksomhedMetadata&#39;][&#39;nyesteNav&zwnj;&#8203;n&#39;]</code>"}], "owner": {"reputation": 1, "user_id": 5786392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fedf72401d79a90f3384c74735f98f10?s=128&d=identicon&r=PG&f=1", "display_name": "Fjeld", "link": "https://stackoverflow.com/users/5786392/fjeld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452716914, "creation_date": 1452716798, "last_edit_date": 1452716914, "question_id": 34776401, "link": "https://stackoverflow.com/questions/34776401/python-typeerror-nonetype-object-has-no-attribute-getitem-again", "title": "python: TypeError: &#39;NoneType&#39; object has no attribute &#39;__getitem__&#39; again", "body": "<p>The following code return a typeerror. I have tried a lot, but I do not know what to do. The following is the code, so if anybody could it would be great: </p>\n\n<pre><code>import sys\nfrom elasticsearch import Elasticsearch\n\nstart = 0\nfetch = 1\nsz = 50\nsStatus = True\n\nes = Elasticsearch(host='distribution.virk.dk', port=80, http_auth='USERID:CODEID')\n\n\ndef getPage():\n    global start\n    #result = es.search(index='cvr-permanent-prod-20151209', doc_type=\"virksomhed\", from_=start, size=sz, q= 'Vrvirksomhed.cvrNummer:36549807')\n    if (sStatus):\n        result = es.search(index='cvr-permanent-prod-20151209', doc_type=\"virksomhed\", size=sz, q='Vrvirksomhed.virksomhedMetadata.sammensatStatus:NORMAL', body= '{\"filter\":{\"range\":{\"Vrvirksomhed.cvrNummer\":{\"gt\":'+str(start)+'}}},\"sort\":[{\"Vrvirksomhed.cvrNummer\":{\"order\":\"asc\"}}]}')\n    else:\n        result = es.search(index='cvr-permanent-prod-20151209', doc_type=\"virksomhed\", size=sz, body= '{\"filter\":{\"range\":{\"Vrvirksomhed.cvrNummer\":{\"gt\":'+str(start)+'}}},\"sort\":[{\"Vrvirksomhed.cvrNummer\":{\"order\":\"asc\"}}]}')\n    #result = es.search(index='cvr-permanent-prod-20151209', doc_type=\"virksomhed\", from_=start, size=sz)\n\n    for entry in result['hits']['hits']:\n        start = entry['_source']['Vrvirksomhed']['cvrNummer']\n        print str(entry['_source']['Vrvirksomhed']['cvrNummer']) + \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteNavn']['navn'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteNavn']['navn'] != None) else \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['sammensatStatus'].encode('utf-8')) + '\",',\n        print str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['postnummer']) + \",\" if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['postnummer'] !=None) else \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['kommune']['kommuneNavn'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['kommune']['kommuneNavn'] != None) else \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['postdistrikt'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['postdistrikt'] != None) else \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['landekode'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['landekode'] != None) else \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['bynavn'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['bynavn'] != None) else \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['vejnavn'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['vejnavn'] != None) else \",\",\n        print str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['husnummerFra']) + \",\" if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['husnummerFra'] != None) else \",\",\n        print str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['husnummerTil']) + \",\" if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['husnummerTil'] != None) else \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['etage'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['etage'] != None) else \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['sidedoer'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['sidedoer'] != None) else \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['bogstavFra'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['bogstavFra'] != None) else \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['bogstavTil'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['bogstavTil'] != None) else \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['fritekst'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteBeliggenhedsadresse']['fritekst'] != None) else \",\",\n        if ('reklamebeskyttet' in entry['_source'] and entry['_source']['reklamebeskyttet'] != None):\n            print str(entry['_source']['reklamebeskyttet'].encode('utf-8')),\n        print \",\",\n        if ('telefonNummer' in entry['_source']):\n            tmp = ''\n            for tel in entry['_source']['telefonNummer']:\n                tmp += str(tel['kontaktoplysning'].encode('utf-8')) + \" | \"\n            print str(tmp),\n        print \",\",\n        print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteVirksomhedsform']['kortBeskrivelse'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteVirksomhedsform']['kortBeskrivelse'] != None) else \",\",\n        if ('nyesteKvartalsbeskaeftigelse' in entry['_source']['Vrvirksomhed']['virksomhedMetadata'] and entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteKvartalsbeskaeftigelse'] != None):\n            print str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteKvartalsbeskaeftigelse']['kvartal']) + \",\" if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteKvartalsbeskaeftigelse']['kvartal'] != None) else \",\",\n            print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteKvartalsbeskaeftigelse']['intervalKodeAntalAnsatte'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteKvartalsbeskaeftigelse']['intervalKodeAntalAnsatte'] != None) else \",\",\n        else:\n            print \", ,\",\n        if ('nyesteHovedbranche' in entry['_source']['Vrvirksomhed']['virksomhedMetadata'] and entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteHovedbranche'] != None):\n            print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteHovedbranche']['branchekode'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteHovedbranche']['branchekode'] != None) else \",\",\n            print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteHovedbranche']['branchetekst'].encode('utf-8')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteHovedbranche']['branchetekst'] != None) else \",\",\n        else:\n            print \", ,\",\n        navne = '\"'\n        vaerdi = '\"'\n        for dr in entry['_source']['Vrvirksomhed']['deltagerRelation']:\n            for org in dr['organisationer']:\n                for orN in org['organisationsNavn']:\n                    if (orN['navn'] == \"EJERREGISTER\"):\n                        if ('deltager' in dr and dr['deltager'] != None and 'navne' in dr['deltager'] and dr['deltager']['navne'] != None):\n                            for de in dr['deltager']['navne']:\n                                navne += str(de['navn'].encode('utf-8'))  + \" | \"\n                            break\n                for md in org['medlemsData']:\n                    for att in md['attributter']:\n                        if (att['type'] != \"EJERANDEL_PROCENT\"):\n                            break\n                        for vrdier in att['vaerdier']:\n                            vaerdi += str(vrdier['vaerdi'].encode('utf-8')) + \" | \"\n        print str(navne) + '\",',\n        print str(vaerdi) + '\",',\n        print \"\\n\",\n\n\n\nif __name__ == '__main__':\n    if (len(sys.argv) &gt;= 3):\n        start = long(sys.argv[1])\n        fetch = int(sys.argv[2])\n    print \"cvrNummer,navn,sammensatStatus,postnummer,kommuneNavn,postdistrikt,landekode,bynavn,vejnavn,husnummerFra,husnummerTil,etage,sidedoer,bogstavFra,bogstavTil,fritekst,reklamebeskyttet,kontaktoplysning,kortBeskrivelse,kvartal,intervalKodeAntalAnsatte,branchekode,branchetekst,ejerregister,ejerandel_procent\"\n\n    for i in range(0,fetch):\n        getPage()\n</code></pre>\n\n<p>And gives this ERROR, when getting the data:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"es_json2csv.py\", line 94, in &lt;module&gt;\n    getPage()\n  File \"es_json2csv.py\", line 30, in getPage\n    print '\"' + str(entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteNavn']['navn'].encode('utf-8\n')) + '\",' if (entry['_source']['Vrvirksomhed']['virksomhedMetadata']['nyesteNavn']['navn'] != None) else \",\",\n\nTypeError: 'NoneType' object has no attribute '__getitem__'\n</code></pre>\n\n<p>What am I doing wrong</p>\n"}, {"tags": ["python", "python-2.7", "file-rename", "listdir"], "comments": [{"owner": {"reputation": 13, "user_id": 5786460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bwjNvX742kU/AAAAAAAAAAI/AAAAAAAACpY/vVDvdN6YNWA/photo.jpg?sz=128", "display_name": "ohm", "link": "https://stackoverflow.com/users/5786460/ohm"}, "edited": false, "score": 0, "creation_date": 1452716777, "post_id": 34776381, "comment_id": 57297925, "body": "I&#39;m not asking for someone to do this for me, just point me in the right direction please."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1452717254, "post_id": 34776381, "comment_id": 57298208, "body": "So you&#39;re looking to replace dots in the filename, all but the last dot ?"}, {"owner": {"reputation": 13, "user_id": 5786460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bwjNvX742kU/AAAAAAAAAAI/AAAAAAAACpY/vVDvdN6YNWA/photo.jpg?sz=128", "display_name": "ohm", "link": "https://stackoverflow.com/users/5786460/ohm"}, "edited": false, "score": 0, "creation_date": 1452717862, "post_id": 34776381, "comment_id": 57298540, "body": "well, the way I view my files/directories are so that extensions are shown so .mkv is always present to me. So, I am fine removing all periods from the directory/file name as well as static things like &#39;x264&#39; or so.  I figure I need to create tuples or a list to run them through, but I&#39;m not quite there in the script yet."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1452718338, "post_id": 34776381, "comment_id": 57298802, "body": "So, you are trying to recreate <a href=\"http://www.filebot.net/\" rel=\"nofollow noreferrer\">FileBot</a>?"}, {"owner": {"reputation": 13, "user_id": 5786460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bwjNvX742kU/AAAAAAAAAAI/AAAAAAAACpY/vVDvdN6YNWA/photo.jpg?sz=128", "display_name": "ohm", "link": "https://stackoverflow.com/users/5786460/ohm"}, "edited": false, "score": 0, "creation_date": 1452718414, "post_id": 34776381, "comment_id": 57298851, "body": "I suppose so. However I am mainly doing this to learn more about computers and programming, so I probably don&#39;t need all that functionality! lol"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1452718602, "post_id": 34776381, "comment_id": 57298937, "body": "Alright, well, I think you should either scape the backslashes, or simply add an <code>r</code> to the front this string <code>&#39;F:\\Downloads\\Completed Downloads&#39;</code> like so <code>r&#39;F:\\Downloads\\Completed Downloads&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2389, "user_id": 4033315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6dbaa2034e4c433ebb6c11f22926034c?s=128&d=identicon&r=PG&f=1", "display_name": "Geotob", "link": "https://stackoverflow.com/users/4033315/geotob"}, "is_accepted": true, "score": 0, "last_activity_date": 1452732199, "last_edit_date": 1452732199, "creation_date": 1452731636, "answer_id": 34779677, "question_id": 34776381, "link": "https://stackoverflow.com/questions/34776381/rename-files-in-a-windows-directory/34779677#34779677", "title": "Rename files in a Windows directory", "body": "<p>As @cricket_007 said in the comment, you should escape backslashes by adding <code>r</code> in front of the path:</p>\n\n<pre><code>for dir in os.listdir(r'F:\\Downloads\\Completed Downloads'):\n</code></pre>\n\n<p>However the <code>WindowsError</code> is caused by the something else: In your loop, <code>dir</code> will only be the <em>name</em> of the subfolder, but not the complete path to it. A possible solution would be:</p>\n\n<pre><code>base = r'F:\\Downloads\\Completed Downloads'\nfor dir in os.listdir(base):\n    path = os.path.join(base, dir)\n    # Now use your os.rename() logic\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5786460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bwjNvX742kU/AAAAAAAAAAI/AAAAAAAACpY/vVDvdN6YNWA/photo.jpg?sz=128", "display_name": "ohm", "link": "https://stackoverflow.com/users/5786460/ohm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1202, "favorite_count": 0, "accepted_answer_id": 34779677, "answer_count": 1, "score": 1, "last_activity_date": 1452732199, "creation_date": 1452716757, "last_edit_date": 1452719327, "question_id": 34776381, "link": "https://stackoverflow.com/questions/34776381/rename-files-in-a-windows-directory", "title": "Rename files in a Windows directory", "body": "<p>I am currently trying to learn python by writing a script that will clean up my downloads folder by preserving the name of the object while removing special characters and extra data from the folder/file name. </p>\n\n<p>i.e.:</p>\n\n<pre><code>../Completed Downloads/random.download.here.x264.team\n../Completed Download/random download here\n</code></pre>\n\n<p>as well as</p>\n\n<pre><code>file.name.randomstring_randomstring.mkv\nfile name randomstring randomstring (date).mkv\n</code></pre>\n\n<p>I've been searching for a while now, but while I can make a script that sees these files - I can't seem to get it to just pluck out each individual special character and rename it. When I do, I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Python27\\Scripts\\plexprep.py\", line 7, in &lt;module&gt;\n    os.rename(dir, dir.replace(\".\", \"\").lower())\nWindowsError: [Error 2] The system cannot find the file specified\n</code></pre>\n\n<p>here is the start of my script:</p>\n\n<pre><code>import fnmatch\nimport os\n\n#Matches directories for Plex and renames directories to help Plex crawl.\nfor dir in os.listdir('F:\\Downloads\\Completed Downloads'):\n    if fnmatch.fnmatch(dir, '*'):\n        os.rename(dir, dir.replace(\".\", \"\").lower())\n\n#Matches filenames for Plex and renames files/subdirectories to help Plex crawl.\n</code></pre>\n"}, {"tags": ["python", "mysql", "django"], "comments": [{"owner": {"reputation": 31513, "user_id": 903790, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zaCIr.png?s=128&g=1", "display_name": "doniyor", "link": "https://stackoverflow.com/users/903790/doniyor"}, "edited": false, "score": 0, "creation_date": 1452717126, "post_id": 34776364, "comment_id": 57298132, "body": "I didnot know you can setup db like this and start app like this..."}, {"owner": {"reputation": 11620, "user_id": 386221, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2f91ca8acbec85001364d635c044dee9?s=128&d=identicon&r=PG", "display_name": "Derek Kwok", "link": "https://stackoverflow.com/users/386221/derek-kwok"}, "edited": false, "score": 0, "creation_date": 1452792873, "post_id": 34776364, "comment_id": 57335366, "body": "does your app work when you hardcode the password into settings.py?"}, {"owner": {"reputation": 749, "user_id": 3034488, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fcfd5caca3a62bec03e4f7b3c973db31?s=128&d=identicon&r=PG&f=1", "display_name": "Galil", "link": "https://stackoverflow.com/users/3034488/galil"}, "reply_to_user": {"reputation": 11620, "user_id": 386221, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2f91ca8acbec85001364d635c044dee9?s=128&d=identicon&r=PG", "display_name": "Derek Kwok", "link": "https://stackoverflow.com/users/386221/derek-kwok"}, "edited": false, "score": 0, "creation_date": 1452798650, "post_id": 34776364, "comment_id": 57338624, "body": "@DerekKwok, no it doesn&#39;t. there is the same error message even when I hardcode the password."}, {"owner": {"reputation": 11620, "user_id": 386221, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2f91ca8acbec85001364d635c044dee9?s=128&d=identicon&r=PG", "display_name": "Derek Kwok", "link": "https://stackoverflow.com/users/386221/derek-kwok"}, "edited": false, "score": 0, "creation_date": 1452803801, "post_id": 34776364, "comment_id": 57341642, "body": "try this: run <code>python manage.py shell</code>. Once inside the shell, type <code>from django import db</code> and <code>db.connections.databases[&#39;cdraccess&#39;]</code>. This will print out the database settings Django uses when your app is running. Can you confirm if you see the password in there?"}, {"owner": {"reputation": 749, "user_id": 3034488, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fcfd5caca3a62bec03e4f7b3c973db31?s=128&d=identicon&r=PG&f=1", "display_name": "Galil", "link": "https://stackoverflow.com/users/3034488/galil"}, "reply_to_user": {"reputation": 11620, "user_id": 386221, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2f91ca8acbec85001364d635c044dee9?s=128&d=identicon&r=PG", "display_name": "Derek Kwok", "link": "https://stackoverflow.com/users/386221/derek-kwok"}, "edited": false, "score": 0, "creation_date": 1452855033, "post_id": 34776364, "comment_id": 57360820, "body": "@DerekKwok, I can see the password and everything looks fine. But I still get the same error."}], "owner": {"reputation": 749, "user_id": 3034488, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fcfd5caca3a62bec03e4f7b3c973db31?s=128&d=identicon&r=PG&f=1", "display_name": "Galil", "link": "https://stackoverflow.com/users/3034488/galil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 553, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452716717, "creation_date": 1452716717, "question_id": 34776364, "link": "https://stackoverflow.com/questions/34776364/access-denied-for-user-mysql-in-django", "title": "Access denied for user MySQL in Django", "body": "<p>I have created a Django app and which uses MySQL. The settings.py file in the database sections is:</p>\n\n<pre><code>DATABASES = {\n    'cdraccess': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': os.environ.get('CDR_DB_NAME', 'portal2'),\n        'USER': os.environ.get('CDR_DB_USER', 'cdraccess'),\n        'HOST': os.environ.get('CDR_DB_HOST', '127.0.0.1'),\n        'CONN_MAX_AGE': 0,\n        'PASSWORD': os.environ.get('CDR_DB_PASSWORD', ''),\n    },\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': 'db.sqlite3',\n    }\n}\n</code></pre>\n\n<p>I run the app like:</p>\n\n<pre><code>CDR_DB_PASSWORD='password' CDR_DB_HOST='host_name' ./manage.py runserver\n</code></pre>\n\n<p>but I get the following error:</p>\n\n<blockquote>\n  <p>Access denied for user 'cdraccess'@'host_ip_here' (using password:\n  NO)\")</p>\n</blockquote>\n\n<p>I tried to access the database from terminal, like:</p>\n\n<pre><code>   $ mysql --host=[host_name] --user=cdraccess -p portal2\n</code></pre>\n\n<p>and worked fine.</p>\n\n<p>What is going wrong in here? And what does this \"(using password: NO)\" mean?</p>\n"}, {"tags": ["python", "scrapy", "web-crawler", "scrapy-spider"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 5665409, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153318977177547/picture?type=large", "display_name": "Nick", "link": "https://stackoverflow.com/users/5665409/nick"}, "edited": false, "score": 0, "creation_date": 1452798409, "post_id": 34788049, "comment_id": 57338498, "body": "Got it.  I was thinking it was a negative 1 not just naming the file as file #1.  Thanks for explaining everything."}], "tags": [], "owner": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "is_accepted": true, "score": 3, "last_activity_date": 1452769668, "creation_date": 1452769668, "answer_id": 34788049, "question_id": 34776362, "link": "https://stackoverflow.com/questions/34776362/pause-scrapy-can-i-get-a-breakdown/34788049#34788049", "title": "Pause scrapy. Can I get a breakdown?", "body": "<p><a href=\"http://doc.scrapy.org/en/latest/topics/jobs.html\" rel=\"nofollow\">As explained in the docs</a>, scrapy allows pausing and resuming crawl, but you need a <code>JOBDIR</code> setting.</p>\n\n<p><code>JOBDIR</code> value is supposed to be the <a href=\"http://doc.scrapy.org/en/latest/topics/jobs.html#job-directory\" rel=\"nofollow\">path to a directory on your filesystem</a> to persist various objects scrapy needs to resume what it has to do.</p>\n\n<p>Note that for seperate crawls you need to point to a different directory:</p>\n\n<blockquote>\n  <p>This directory will be for storing all required data to keep the state\n  of a single job (ie. a spider run). It\u2019s important to note that this\n  directory must not be shared by different spiders, or even different\n  jobs/runs of the same spider, as it\u2019s meant to be used for storing the\n  state of a single job.</p>\n</blockquote>\n\n<p>Copying what in that docs page:</p>\n\n<pre><code>scrapy crawl somespider -s JOBDIR=crawls/somespider-1\n             ----------           -------------------\n                 |                         |       \n         name of your spider               |        \n                                           |\n                               relative path where to save stuff\n</code></pre>\n\n<p>Another example scrapy crawl command using <code>JOBDIR</code> could have been:</p>\n\n<pre><code>scrapy crawl myspider -s JOBDIR=/home/myuser/crawldata/myspider_run_32\n</code></pre>\n\n<p>Example timeline:</p>\n\n<pre><code>scrapy crawl myspider -s JOBDIR=/home/myuser/crawldata/myspider_run_001\n# pause using Ctrl-C ...\n\n# ...lets continue where it was left off\nscrapy crawl myspider -s JOBDIR=/home/myuser/crawldata/myspider_run_001\n# crawl finished properly.\n# (and /home/myuser/crawldata/myspider_run_001 should not contain anything now)\n\n# now you want to crawl a 2nd time, from the beginning\nscrapy crawl myspider -s JOBDIR=/home/myuser/crawldata/myspider_run_002\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 5665409, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153318977177547/picture?type=large", "display_name": "Nick", "link": "https://stackoverflow.com/users/5665409/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1188, "favorite_count": 0, "accepted_answer_id": 34788049, "answer_count": 1, "score": 3, "last_activity_date": 1452769668, "creation_date": 1452716711, "last_edit_date": 1452717427, "question_id": 34776362, "link": "https://stackoverflow.com/questions/34776362/pause-scrapy-can-i-get-a-breakdown", "title": "Pause scrapy. Can I get a breakdown?", "body": "<p>I want to be able to start/pause/resume a spider and I am attempting to use</p>\n\n<pre><code>scrapy crawl some spiders JOBDIR=crawls/some spider-1\n</code></pre>\n\n<p>However, it's mostly just a copy and paste as there isn't much info about whats actually going on here. Anyone have some more info on the specifics?  </p>\n\n<p>I get the first part, but don't know whats actually happening with  <code>JOBDIR=crawls/some spider-1</code> part.  I see people putting the code like this</p>\n\n<pre><code>scrapy crawl some spiders JOBDIR=crawls/some spider\n</code></pre>\n\n<p>.. without the <code>-1</code> and don't know what difference that makes. I did notice this. I tend to pound the CTRL+C to quit and that's apparently bad from what I read and what I experienced because if I retype the code</p>\n\n<pre><code>scrapy crawl some spiders JOBDIR=crawls/some spider-1 \n</code></pre>\n\n<p>.. it goes straight to finished like the spider is done. </p>\n\n<p>How do I \"Reset\" it after I make that mistake?  If I take out the <code>-1</code> it will work again but I don't know if I am losing something there. </p>\n"}, {"tags": ["python", "unit-testing", "mocking", "python-unittest", "magicmock"], "answers": [{"tags": [], "owner": {"reputation": 1708, "user_id": 5019818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e9c5d2b171b2b5cdaa2f015661ef2614?s=128&d=identicon&r=PG&f=1", "display_name": "Uri Shalit", "link": "https://stackoverflow.com/users/5019818/uri-shalit"}, "is_accepted": true, "score": 2, "last_activity_date": 1452724224, "creation_date": 1452724224, "answer_id": 34778315, "question_id": 34776357, "link": "https://stackoverflow.com/questions/34776357/mocking-a-function-that-is-invoked-twice-with-different-arguments/34778315#34778315", "title": "Mocking a function that is invoked twice with different arguments", "body": "<p>You can use the <code>new</code> attribute in <code>@patch.object</code>:</p>\n\n<pre><code>email_one=Mock()\nemail_two=Mock()\n\nfunc_call_count = 0\ndef my_func_mock():\n    global func_call_count\n    func_call_count += 1\n\n    if func_call_count == 1:\n        do_invocation_1()\n\n    if func_call_count == 2:\n        do_invocation_2()\n\ndef do_invocation_1():\n    return [email_one, email_two]\n\ndef do_invocation_2():\n    return [email_one, email_two]\n\n@mock.patch('app.foo.class_to_mock')\n@mock.patch('app.foo.func', new=my_func_mock)\ndef test_render_and_send_email(self, func_mock, mock_to_class):\n    render_method = mock.Mock()\n    render_method.return_value = mock.Mock()\n\n    class_method = mock.Mock()\n    class_method.return_value = mock.Mock()\n\n    func_mock.return_value = mock.MagicMock(render=render_method)\n    mock_to_class.return_value = mock.Magic(method_for_class=class_method)\n    function_to_test('context goes heres')\n    self.assertEqual(func_call_count, 2) # Use the func_call_count instead\n    self.assertEqual(render_method.call_count, 2)\n    mock_to_class.assert_called_once_With(email_one, email_two) # Now you can assert it is called once with email_one &amp; two\n    self.assertEqual(method_class.call_count,1)\n</code></pre>\n"}], "owner": {"reputation": 2564, "user_id": 2801122, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0b2e28daccb30d8f18a0778298ee266c?s=128&d=identicon&r=PG&f=1", "display_name": "theamateurdataanalyst", "link": "https://stackoverflow.com/users/2801122/theamateurdataanalyst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1966, "favorite_count": 0, "accepted_answer_id": 34778315, "answer_count": 1, "score": 1, "last_activity_date": 1510874138, "creation_date": 1452716703, "last_edit_date": 1510874138, "question_id": 34776357, "link": "https://stackoverflow.com/questions/34776357/mocking-a-function-that-is-invoked-twice-with-different-arguments", "title": "Mocking a function that is invoked twice with different arguments", "body": "<p>Suppose I have the following function:</p>\n\n<pre><code>def function_to_test(context):\n    list_of_invocations = [ func('arg%s' % number) for number in [1,2]]\n    email_one = list_of_invocations[0].render(context)\n    email_two = list_of_invocations[1].render(context)\n    instance = class_to_mock(email_one, arg_1, arg_2)  \n    instance.method_for_class(email_two, 'text/html')\n    instance.send()\n\n@mock.patch('app.foo.class_to_mock')\n@mock.patch('app.foo.func')\ndef test_render_and_send_email(self, func_mock, mock_to_class):\n    render_method = mock.Mock()\n    render_method.return_value = mock.Mock()\n\n    class_method = mock.Mock()\n    class_method.return_value = mock.Mock()\n\n    func_mock.return_value = mock.MagicMock(render=render_method)\n    mock_to_class.return_value = mock.Magic(method_for_class=class_method)\n    function_to_test('context goes heres')\n    self.assertEqual(func_mock.call_count, 2)\n    self.assertEqual(render_method.call_count, 2)\n    self.assertEqual(mock_to_class.call_count, 1)\n    self.assertEqual(method_class.call_count,1)\n</code></pre>\n\n<p>I am attempting to test this function using mocks, but I am having trouble deciding on how to test this. Two options that come to mind are using <code>side_effect</code>or <code>assert_has_calls</code>. Here is the run down of what I am attempting to do.</p>\n\n<ul>\n<li>I want to make sure that <code>func</code> is called twice. <strong>(Done)</strong></li>\n<li>I want to create a mock for each of the  <code>func</code> invocations <strong>(Not Done)</strong></li>\n<li>I want to make sure that render is called twice. <strong>(Done)</strong></li>\n<li>I want to ensure that <code>class_to_mock</code> is called with <code>email_one</code>\nwhich is I need a mock for <code>email_one</code> and <code>email_two</code>. <strong>(Not Done)</strong></li>\n</ul>\n\n<p>The test would be something like this </p>\n\n<pre><code>`mock_to_class.assert_called_once_with(*MOCK EMAIL ONE*,'one', 'two')`\n</code></pre>\n\n<ul>\n<li><p>I want the same for '''method_for_class''' that would look like this <strong>(Not Done)</strong>:</p>\n\n<p><code>class_method.assert_called_once_with(*MOCK EMAIL TWO*, 'text/html')</code></p></li>\n</ul>\n\n<p>Hopefully that makes sense. Basically, I need the two different invocations from <code>func</code> to make sure there arguments in <code>class_to_mock</code> and <code>method_for_class</code>.</p>\n"}, {"tags": ["python", "database", "sqlite", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 5786396, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51dcae53d7bb7e0c56c283a8a9f87ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Byron Mh", "link": "https://stackoverflow.com/users/5786396/byron-mh"}, "edited": false, "score": 0, "creation_date": 1452733666, "post_id": 34776463, "comment_id": 57304971, "body": "Thanks alot, I was thinking, is there a way to save a multiple row query in a list?  ex: list=[(&#39;somehting&#39;,&#39;xxx&#39;),(&#39;another&#39;,&#39;yyy&#39;)] I figured i need to use a for cycle and I managed to make the following:     row=[]     for x,y in c.execute(&quot;SELECT nombre, clave FROM empleado&quot;):         print(x,y)         z=(x,y)         row.append(z)"}, {"owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "reply_to_user": {"reputation": 99, "user_id": 5786396, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51dcae53d7bb7e0c56c283a8a9f87ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Byron Mh", "link": "https://stackoverflow.com/users/5786396/byron-mh"}, "edited": false, "score": 1, "creation_date": 1452734250, "post_id": 34776463, "comment_id": 57305141, "body": "sure, if it&#39;s a one query with many rows, just loop and append to the one list. If my answer solved your problem mark it as accepted. thanks"}], "tags": [], "owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "is_accepted": true, "score": 7, "last_activity_date": 1591098624, "last_edit_date": 1591098624, "creation_date": 1452717011, "answer_id": 34776463, "question_id": 34776312, "link": "https://stackoverflow.com/questions/34776312/saving-the-result-of-a-sqlite-query-as-a-python-variable/34776463#34776463", "title": "Saving the result of a SQLite query as a Python variable", "body": "<p>use <code>fetchone</code> with index 0 <code>[0]</code>:</p>\n\n<pre><code>c.execute(qry)\ny=c.fetchone()[0]\nprint(y)\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 5786396, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51dcae53d7bb7e0c56c283a8a9f87ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Byron Mh", "link": "https://stackoverflow.com/users/5786396/byron-mh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4610, "favorite_count": 1, "accepted_answer_id": 34776463, "answer_count": 1, "score": 2, "last_activity_date": 1591098624, "creation_date": 1452716507, "last_edit_date": 1452717835, "question_id": 34776312, "link": "https://stackoverflow.com/questions/34776312/saving-the-result-of-a-sqlite-query-as-a-python-variable", "title": "Saving the result of a SQLite query as a Python variable", "body": "<p>The problem I'm dealing with is, I want to save a sqlite3 query result in a variable, I created the following code:</p>\n\n<pre><code>import sqlite3\nconn=sqlite3.connect('Database.db')\nc=conn.cursor()\n#this is implicit, but there is no xxx row in my table, condition and something \n#arent real parameters for my query\nqry=(\"SELECT xxx FROM xxx WHERE condition=something\")\ny=c.execute(qry)\nprint(y)\n</code></pre>\n\n<p>when I run this code I get the following in the print:</p>\n\n<pre><code>&lt;sqlite3.Cursor object at 0x01FCD6A0&gt;\n</code></pre>\n\n<p>now, if for example I used a for cycle to print row in that query:</p>\n\n<pre><code>for row in c.execute(qry):\n    print(row)\n</code></pre>\n\n<p>I would have no problem, but I want to save the value that the query prints in a variable, it should be noted that I am trying to save a query that has a single row and single column, ex: <code>('EXAMPLE',)</code></p>\n\n<p>Is there a way I can save a single row, single column query in a variable and then print it? Should I install some module?</p>\n"}, {"tags": ["python", "xml", "beautifulsoup", "urllib", "elementtree"], "answers": [{"comments": [{"owner": {"reputation": 5141, "user_id": 5508500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af10e4c357b7d81518f7adb8799bda51?s=128&d=identicon&r=PG&f=1", "display_name": "erocoar", "link": "https://stackoverflow.com/users/5508500/erocoar"}, "edited": false, "score": 0, "creation_date": 1452718219, "post_id": 34776388, "comment_id": 57298734, "body": "Ah okay, that makes sense. I&#39;ll look into that, thank you! :)"}], "tags": [], "owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "is_accepted": true, "score": 3, "last_activity_date": 1452716775, "creation_date": 1452716775, "answer_id": 34776388, "question_id": 34776303, "link": "https://stackoverflow.com/questions/34776303/python-extract-certain-links-from-website/34776388#34776388", "title": "Python \u2013 Extract certain links from website", "body": "<p><code>urllib</code> loads the HTML of the website with Javascript <strong>off</strong>. The links that you are trying to scrape in the <code>tbody</code> are rendered by JavaScript, so never load.</p>\n\n<p>You can replicate this behaviour by turning JavaScript off in your browser and visiting the website. If you scrape frequently, you may wish to download a browser plugin which allows you to turn JavaScript on and off quickly.</p>\n\n<p>To scrape websites which load HTML content with JavaScript you may wish to explore browser automation options such as <code>selenium</code>. </p>\n"}], "owner": {"reputation": 5141, "user_id": 5508500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af10e4c357b7d81518f7adb8799bda51?s=128&d=identicon&r=PG&f=1", "display_name": "erocoar", "link": "https://stackoverflow.com/users/5508500/erocoar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 34776388, "answer_count": 1, "score": 2, "last_activity_date": 1452716775, "creation_date": 1452716484, "question_id": 34776303, "link": "https://stackoverflow.com/questions/34776303/python-extract-certain-links-from-website", "title": "Python \u2013 Extract certain links from website", "body": "<p>I want to extract certain links from a <a href=\"http://pdok.bundestag.de/index.php?qsafe=&amp;aload=off&amp;q=kleine+anfrage&amp;x=0&amp;y=0&amp;df=22.10.2013&amp;dt=13.01.2016\" rel=\"nofollow\">website</a>.</p>\n\n<p>To extract all links, I tried:</p>\n\n<pre><code>import urllib\nimport xml.etree.ElementTree as ET\nfrom BeautifulSoup import *\n\nurl = 'http://pdok.bundestag.de/index.php?qsafe=&amp;aload=off&amp;q=kleine+anfrage&amp;x=0&amp;y=0&amp;df=22.10.2013&amp;dt=13.01.2016'\nuh = urllib.urlopen(url)\ndata = uh.read()\nsoup=BeautifulSoup(data)\nsoup.prettify()\n\nfor href in soup.findAll('a'):\n    print href\n</code></pre>\n\n<p>Now, I get a list of links, but for some reason I don't get the important links that are in <code>tbody</code>. I also tried using ElementTree, but I get an error just reading the link, because it uses some invalid symbols or so (?). Any help is much appreciated! :)</p>\n"}, {"tags": ["python", "multiprocessing"], "answers": [{"comments": [{"owner": {"reputation": 2966, "user_id": 2190546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6451296ba1e76dc99cace352b93b5488?s=128&d=identicon&r=PG", "display_name": "J Freebird", "link": "https://stackoverflow.com/users/2190546/j-freebird"}, "edited": false, "score": 0, "creation_date": 1452725068, "post_id": 34777886, "comment_id": 57301968, "body": "The doc does not say what will happen if the &quot;concurrent&quot; process times out. Will it be killed automatically if it hangs? Otherwise, it&#39;ll become a zombie process, same as using the built-in multiprocessing module."}, {"owner": {"reputation": 11520, "user_id": 1794497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6y5r.png?s=128&g=1", "display_name": "noxdafox", "link": "https://stackoverflow.com/users/1794497/noxdafox"}, "reply_to_user": {"reputation": 2966, "user_id": 2190546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6451296ba1e76dc99cace352b93b5488?s=128&d=identicon&r=PG", "display_name": "J Freebird", "link": "https://stackoverflow.com/users/2190546/j-freebird"}, "edited": false, "score": 0, "creation_date": 1452749944, "post_id": 34777886, "comment_id": 57309266, "body": "Yes. It will be killed and joined automatically."}], "tags": [], "owner": {"reputation": 11520, "user_id": 1794497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6y5r.png?s=128&g=1", "display_name": "noxdafox", "link": "https://stackoverflow.com/users/1794497/noxdafox"}, "is_accepted": true, "score": 1, "last_activity_date": 1452722349, "creation_date": 1452722349, "answer_id": 34777886, "question_id": 34776106, "link": "https://stackoverflow.com/questions/34776106/python-multiprocessing-timeout/34777886#34777886", "title": "Python Multiprocessing Timeout", "body": "<p>You can use <a href=\"https://pypi.python.org/pypi/Pebble\" rel=\"nofollow\">Pebble</a> for that.</p>\n\n<pre><code>from pebble.process import concurrent\n\nTIMEOUT_IN_SECONDS = 5\n\nfeed = connect2database()\nfor data in feed.changes():\n    data = process(data)\n    concurrent(target=ftpUpload, args=(data, ), timeout=TIMEOUT_IN_SECONDS)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2966, "user_id": 2190546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6451296ba1e76dc99cace352b93b5488?s=128&d=identicon&r=PG", "display_name": "J Freebird", "link": "https://stackoverflow.com/users/2190546/j-freebird"}, "edited": false, "score": 0, "creation_date": 1452726000, "post_id": 34777896, "comment_id": 57302384, "body": "Thank you for your suggestion. I&#39;ve been using Celery, I think both of them are too heavy for such simple task. It&#39;s just a small script that does a simple FTP upload. Thanks anyway."}], "tags": [], "owner": {"reputation": 3192, "user_id": 4667484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4971faccfbc4ecb4ccdc276b292f59?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Haley", "link": "https://stackoverflow.com/users/4667484/charlie-haley"}, "is_accepted": false, "score": 1, "last_activity_date": 1452722392, "creation_date": 1452722392, "answer_id": 34777896, "question_id": 34776106, "link": "https://stackoverflow.com/questions/34776106/python-multiprocessing-timeout/34777896#34777896", "title": "Python Multiprocessing Timeout", "body": "<p>One good framework to use for a task like this is <a href=\"https://pypi.python.org/pypi/luigi\" rel=\"nofollow\">Luigi</a>.  It's designed for data dependency, but you can easily set the timeout for each task, and you can set it so it doesn't retry failed tasks.  <a href=\"http://luigi.readthedocs.org/en/stable/example_top_artists.html\" rel=\"nofollow\">Here's</a> the original example of usage of Luigi. </p>\n\n<p>To set timeout for each task, set <code>worker-timeout</code> to the amount of time in seconds.  <a href=\"http://luigi.readthedocs.org/en/stable/configuration.html\" rel=\"nofollow\">http://luigi.readthedocs.org/en/stable/configuration.html</a></p>\n\n<p>To set luigi so it won't retry tasks, set disable_failures to 0.  <a href=\"http://luigi.readthedocs.org/en/stable/_modules/luigi/scheduler.html\" rel=\"nofollow\">http://luigi.readthedocs.org/en/stable/_modules/luigi/scheduler.html</a></p>\n\n<p>It does take a good amount of work to learn how luigi works though, and documentation is sparser than I would like.  The <a href=\"https://groups.google.com/forum/#!forum/luigi-user\" rel=\"nofollow\">Luigi Google Group</a> is where many of the luigi questions/answers live.</p>\n"}], "owner": {"reputation": 2966, "user_id": 2190546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6451296ba1e76dc99cace352b93b5488?s=128&d=identicon&r=PG", "display_name": "J Freebird", "link": "https://stackoverflow.com/users/2190546/j-freebird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 1, "accepted_answer_id": 34777886, "answer_count": 2, "score": 2, "last_activity_date": 1452722392, "creation_date": 1452715830, "question_id": 34776106, "link": "https://stackoverflow.com/questions/34776106/python-multiprocessing-timeout", "title": "Python Multiprocessing Timeout", "body": "<p>I have a program that continuously gets data from a database, then process the data and then upload it to a server via FTP. It looks like:</p>\n\n<pre><code>feed = connect2database()\nfor data in feed.changes():\n    data = process(data)\n    ftpUpload(data)\n</code></pre>\n\n<p>The problem here is that the ftp upload may hang forever, which will cause the program to hang. I want to implement a way to do the upload in subprocesses, set a timeout to each of them, and if any one times out, just kill it. I don't need to get any data back from the subprocesses, nor do I need to retry if the upload fails.</p>\n\n<p>But I don't want to do a <code>.join(time)</code>, because the main process has to stop there to wait. I just want the main process to continuously fetch data and then fork subprocess to do the upload, it it exceeds the timeout, just kill it to avoid zombies. That's all. Can anybody suggest an architecture? Thanks.</p>\n"}, {"tags": ["python", "django", "forms", "templates", "models"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5366612, "user_type": "registered", "profile_image": "https://graph.facebook.com/1006356666094970/picture?type=large", "display_name": "Yuri Pyilyow", "link": "https://stackoverflow.com/users/5366612/yuri-pyilyow"}, "edited": false, "score": 0, "creation_date": 1452727220, "post_id": 34776908, "comment_id": 57302838, "body": "Thanks! Its looks like something that can work, but when i use your solution, tyere is the error: name &#39;magazine_id&#39; is not defined"}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "reply_to_user": {"reputation": 5, "user_id": 5366612, "user_type": "registered", "profile_image": "https://graph.facebook.com/1006356666094970/picture?type=large", "display_name": "Yuri Pyilyow", "link": "https://stackoverflow.com/users/5366612/yuri-pyilyow"}, "edited": false, "score": 0, "creation_date": 1452738768, "post_id": 34776908, "comment_id": 57306432, "body": "Whoops, should work now. If its useful don&#39;t forget to accept or upvote."}, {"owner": {"reputation": 5, "user_id": 5366612, "user_type": "registered", "profile_image": "https://graph.facebook.com/1006356666094970/picture?type=large", "display_name": "Yuri Pyilyow", "link": "https://stackoverflow.com/users/5366612/yuri-pyilyow"}, "edited": false, "score": 0, "creation_date": 1452754935, "post_id": 34776908, "comment_id": 57310985, "body": "Thanks a lot! But now there is the error: &#39;name &#39;forms&#39; is not defined&#39; in line where &#39;forms.ModelChoiceField&#39;"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "is_accepted": true, "score": 0, "last_activity_date": 1452738747, "last_edit_date": 1452738747, "creation_date": 1452718789, "answer_id": 34776908, "question_id": 34776081, "link": "https://stackoverflow.com/questions/34776081/hiding-foreign-key-fields-from-modelforms-in-django-template/34776908#34776908", "title": "Hiding foreign key fields from ModelForms in Django Template", "body": "<p>Sounds like you are trying to restrict the options in the ForeignKey selector based on some criteria.</p>\n\n<p>This means you need to override some of the details in the forms <code>__init__</code> method:</p>\n\n<pre><code>class SetsForm(ModelForm):\n    class Meta:\n        model = Sets\n        fields = {'Name', 'Set', 'Aut'}\n\n    def __init__(self, *args, **kwargs):\n        articles = Article.objects.filter(Magazine=kwargs.pop('magazine_id'))\n        super(SetsForm, self).__init__(*args, **kwargs)\n        self.fields['articles'] = forms.ModelChoiceField(\n            queryset=articles ,\n            label=\"Articles\",\n        )\n</code></pre>\n\n<p>Then call your form like so:</p>\n\n<pre><code>sets_form = SetsForm(magazine_id=magazine_id)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 5366612, "user_type": "registered", "profile_image": "https://graph.facebook.com/1006356666094970/picture?type=large", "display_name": "Yuri Pyilyow", "link": "https://stackoverflow.com/users/5366612/yuri-pyilyow"}, "edited": false, "score": 0, "creation_date": 1452728986, "post_id": 34776974, "comment_id": 57303508, "body": "Thanks, but i do not need the list of something. I need form(!) without units from other linked objects (only linked with current)."}, {"owner": {"reputation": 1, "user_id": 1575241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c40027fee857c410dffbd628e06586?s=128&d=identicon&r=PG", "display_name": "Thomas Hamlin", "link": "https://stackoverflow.com/users/1575241/thomas-hamlin"}, "reply_to_user": {"reputation": 5, "user_id": 5366612, "user_type": "registered", "profile_image": "https://graph.facebook.com/1006356666094970/picture?type=large", "display_name": "Yuri Pyilyow", "link": "https://stackoverflow.com/users/5366612/yuri-pyilyow"}, "edited": false, "score": 0, "creation_date": 1452729849, "post_id": 34776974, "comment_id": 57303825, "body": "Ah, I see that now.  Lego Stormtrooper&#39;s answer looks good.  It just has a typo: <code>kwargs.pop(&#39;magazine_id&#39;)</code> (with quotes)."}], "tags": [], "owner": {"reputation": 1, "user_id": 1575241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c40027fee857c410dffbd628e06586?s=128&d=identicon&r=PG", "display_name": "Thomas Hamlin", "link": "https://stackoverflow.com/users/1575241/thomas-hamlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1452719058, "creation_date": 1452719058, "answer_id": 34776974, "question_id": 34776081, "link": "https://stackoverflow.com/questions/34776081/hiding-foreign-key-fields-from-modelforms-in-django-template/34776974#34776974", "title": "Hiding foreign key fields from ModelForms in Django Template", "body": "<p>To get authors of articles only in the current magazine:</p>\n\n<pre><code>articles = Article.objects.filter(Magazine=magazine_id)\nsets = Sets.objects.filter(Magazine=magazine_id, Set__in=articles)\n\nimport itertools\n# build a flat list of all Authors in these sets (and call `set` to avoid duplicates)\nauthors = set(itertools.chain(*[s.Aut.all() for s in sets]))\n</code></pre>\n\n<p>This would be easier if there were a direct foreign key on Author to Article.</p>\n\n<p>Also, you should <em>follow Django convention</em> by using lowercase field names.  This will avoid confusion between fields and models, which use uppercase.</p>\n"}], "owner": {"reputation": 5, "user_id": 5366612, "user_type": "registered", "profile_image": "https://graph.facebook.com/1006356666094970/picture?type=large", "display_name": "Yuri Pyilyow", "link": "https://stackoverflow.com/users/5366612/yuri-pyilyow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 34776908, "answer_count": 2, "score": 0, "last_activity_date": 1452738747, "creation_date": 1452715742, "question_id": 34776081, "link": "https://stackoverflow.com/questions/34776081/hiding-foreign-key-fields-from-modelforms-in-django-template", "title": "Hiding foreign key fields from ModelForms in Django Template", "body": "<p>Essence in the following. \nI have a few different Magazine. And AutoForm from template shows all Articles and all Authors for possible selection (not only from current Magazine). How to restrict this choice of author a for article only from the current magazine? Can I do this using only the Template? If not, then how?</p>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>class Magazine(models.Model):\n    Name = models.CharField(max_length=200)\n\nclass Article(models.Model):\n    Name = models.CharField(max_length=200)\n    Magazine = models.ForeignKey(Magazine)\n\nclass Author(models.Model):\n    Name = models.CharField(max_length=200)\n    Magazine = models.ForeignKey(Magazine)\n\nclass Sets(models.Model):\n    Name = models.CharField(max_length=200)\n    Magazine = models.ForeignKey(Magazine)\n    Aut = models.ManyToManyField(Author, null=True, blank=True)\n    Set = models.ForeignKey(Article, null=True, blank=True)\n</code></pre>\n\n<p><strong>forms.py:</strong></p>\n\n<pre><code>class MagazineForm(ModelForm):\n    class Meta:\n        model = Magazine\n        fields = {'Name'}\n\nclass ArticleForm(ModelForm):\n    class Meta:\n        model = Article\n        fields = {'Name'}\n\nclass AuthorForm(ModelForm):\n    class Meta:\n        model = Author\n        fields = {'Name'}\n\nclass SetsForm(ModelForm):\n    class Meta:\n        model = Sets\n        fields = {'Name', 'Set', 'Aut'}\n</code></pre>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>def building_details(request, magazine_id):\n    sets_form = SetsForm\n    args = {}\n    args.update(csrf(request))\n    args['magazine'] = Magazine.objects.get(id=magazine_id)\n    args['article'] = Article.objects.filter(Magazine=magazine_id)\n    args['author'] = Author.objects.filter(Magazine=magazine_id)\n    args['sets'] = Sets.objects.filter(Magazine=magazine_id)\n    args['setform'] = sets_form\n    return render_to_response('building.html', args)\n</code></pre>\n\n<p><strong>Template</strong></p>\n\n<pre><code>&lt;form action='/add/{{ magazine.id }}/' method='post'&gt;\n{% csrf_token %}\n{{ setform }}\n&lt;input type='submit' class='button' value=\"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c\"&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Maybe somewhere in this entry there are errors (I briefly edited, removing not playing a role here, essentially). In General I have everything working right, except that all objects are displayed, instead of only having the current.</p>\n"}, {"tags": ["python", "bash"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1452716508, "post_id": 34776070, "comment_id": 57297765, "body": "You get that error from those snippets or from some <i>other</i> call after that? Because those should work fine but will only be in effect for that <b>one</b> shell instance and will not affect later shell instances or the running python script/environment."}, {"owner": {"reputation": 301, "user_id": 5287469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7efd51eff60066a4ec1b0cfcbf49798d?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy", "link": "https://stackoverflow.com/users/5287469/andriy"}, "edited": false, "score": 0, "creation_date": 1452716930, "post_id": 34776070, "comment_id": 57298017, "body": "Generally I need to run set of commands where shown is the first one and get this error from very beginning"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1452720044, "post_id": 34776070, "comment_id": 57299620, "body": "You need to run all the commands in just one <code>subprocess.Popen</code> instance, since they&#39;re scoped to a single shell."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1452720291, "post_id": 34776070, "comment_id": 57299735, "body": "BTW, spaces should be used around <code>=</code>s in assignments, but not argument lists. See <a href=\"https://www.python.org/dev/peps/pep-0008/#other-recommendations\" rel=\"nofollow noreferrer\">python.org/dev/peps/pep-0008/#other-recommendations</a>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1452720868, "post_id": 34776070, "comment_id": 57300014, "body": "Your example shown (and thank you for editing it in) <i>doesn&#39;t</i> do as I recommended, contrary claim notwithstanding: It&#39;s still running your <code>cleanall</code> command in a separate shell from where you ran <code>initvars</code>."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1452720978, "post_id": 34776070, "comment_id": 57300065, "body": "<code>runCleanall = subprocess.Popen(&#39; &amp;&amp; &#39;.join([initvars] + cleanall))</code> would be a little closer."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1452721070, "post_id": 34776070, "comment_id": 57300109, "body": "That said, why are you doing this in the first place? I mean, the impedence mismatch between Python and shell is making your life much harder and buying you no advantage over either using easy-rsa directly from shell or using a native Python CA library."}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 5287469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7efd51eff60066a4ec1b0cfcbf49798d?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy", "link": "https://stackoverflow.com/users/5287469/andriy"}, "edited": false, "score": 0, "creation_date": 1452720572, "post_id": 34777253, "comment_id": 57299871, "body": "I have done like you recommend early and did it now but still get same error("}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 301, "user_id": 5287469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7efd51eff60066a4ec1b0cfcbf49798d?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy", "link": "https://stackoverflow.com/users/5287469/andriy"}, "edited": false, "score": 0, "creation_date": 1452721179, "post_id": 34777253, "comment_id": 57300171, "body": "<code>easy-rsa ...</code> was meant to be a placeholder for you to replace with your clean-all script or such. I thought this was obvious from the context."}, {"owner": {"reputation": 301, "user_id": 5287469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7efd51eff60066a4ec1b0cfcbf49798d?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy", "link": "https://stackoverflow.com/users/5287469/andriy"}, "edited": false, "score": 0, "creation_date": 1452723368, "post_id": 34777253, "comment_id": 57301220, "body": "Thank you very much for your detailed explanation! seems combined command (prefix + cmd) works and at last I didn&#39;t get error but how to attach next command with user prompt to press enter? If I  simply add it to statement via &quot;+&quot; it doesn&#39;t work!"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 301, "user_id": 5287469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7efd51eff60066a4ec1b0cfcbf49798d?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy", "link": "https://stackoverflow.com/users/5287469/andriy"}, "edited": false, "score": 0, "creation_date": 1452723506, "post_id": 34777253, "comment_id": 57301283, "body": "You&#39;ll need to show the exact command. If you were using the mechanisms I suggested in your prior question to avoid any prompting, this would be moot. :)"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 301, "user_id": 5287469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7efd51eff60066a4ec1b0cfcbf49798d?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy", "link": "https://stackoverflow.com/users/5287469/andriy"}, "edited": false, "score": 0, "creation_date": 1452724328, "post_id": 34777253, "comment_id": 57301631, "body": "You can&#39;t use <code>+</code> to join them directly like that because there&#39;s no <code>&amp;&amp;</code> between cleanall and buildca. That&#39;s why I suggested an approach that would automatically add those separators in my comment on the question."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 301, "user_id": 5287469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7efd51eff60066a4ec1b0cfcbf49798d?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy", "link": "https://stackoverflow.com/users/5287469/andriy"}, "edited": false, "score": 0, "creation_date": 1452724347, "post_id": 34777253, "comment_id": 57301640, "body": "Also, why are you using the pipeline and ignoring the answer I gave you elsewhere (showing how to provide the newlines on stdin from your Python code), <i>and</i> ignoring the suggestion to use <code>-batch</code> to prevent openssl from prompting at all?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 301, "user_id": 5287469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7efd51eff60066a4ec1b0cfcbf49798d?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy", "link": "https://stackoverflow.com/users/5287469/andriy"}, "edited": false, "score": 0, "creation_date": 1452724451, "post_id": 34777253, "comment_id": 57301690, "body": "...you could also use <code>prefix + cleanall</code> as one command, and <code>prefix + buildca</code> as another. (Need to make <code>cleanall</code> and <code>buildca</code> strings, not arrays, but that&#39;s a separate discussion)."}, {"owner": {"reputation": 301, "user_id": 5287469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7efd51eff60066a4ec1b0cfcbf49798d?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy", "link": "https://stackoverflow.com/users/5287469/andriy"}, "edited": false, "score": 0, "creation_date": 1452725049, "post_id": 34777253, "comment_id": 57301956, "body": "I get all variables from user and insert them in vars, thats why I guess no need to edit openssl(btw, whitch of them,I have 3 ).I try to follow your recommendations but not sure I clear understand what to do (."}, {"owner": {"reputation": 301, "user_id": 5287469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7efd51eff60066a4ec1b0cfcbf49798d?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy", "link": "https://stackoverflow.com/users/5287469/andriy"}, "edited": false, "score": 0, "creation_date": 1452725391, "post_id": 34777253, "comment_id": 57302146, "body": "I run prefix + cleanall and prefix + buildca as two separate commands and it works!Thanks again!"}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 4, "last_activity_date": 1452721260, "last_edit_date": 1452721260, "creation_date": 1452720133, "answer_id": 34777253, "question_id": 34776070, "link": "https://stackoverflow.com/questions/34776070/how-to-source-script-via-python/34777253#34777253", "title": "How to source script via python", "body": "<p>There's absolutely nothing wrong with this in and of itself:</p>\n\n<pre><code># What you're already doing -- this is actually fine!\nsourcevars = \"cd /etc/openvpn/easy-rsa &amp;&amp; . ./vars\"\nrunSourcevars = subprocess.Popen(sourcevars, shell=True)\n\n# ...*however*, it won't have any effect at all on this:\nrunOther = subprocess.Popen('./easy-rsa build-key yadda yadda', shell=True)\n</code></pre>\n\n<p>However, if you <strong>subsequently</strong> try to run a second <code>subprocess.Popen(..., shell=True)</code> command, you'll see that it doesn't have any of the variables set by sourcing that configuration.</p>\n\n<p><strong>This is entirely normal and expected behavior</strong>: The entire point of using <code>source</code> is to modify the state of the active shell; each time you create a new <code>Popen</code> object with <code>shell=True</code>, it's starting a new shell -- their state isn't carried over. </p>\n\n<p>Thus, combine into a single call:</p>\n\n<pre><code>prefix = \"cd /etc/openvpn/easy-rsa &amp;&amp; . ./vars &amp;&amp; \"\ncmd = \"/etc/openvpn/easy-rsa/clean-all\"\nrunCmd = subprocess.Popen(prefix + cmd, shell=True)\n</code></pre>\n\n<p>...such that you're using the results of sourcing the script in the same shell invocation as that in which you actually source the script.</p>\n\n<hr>\n\n<p>Alternately (and this is what I'd do), require your Python script to be invoked by a shell which already has the necessary variables in its environment. Thus:</p>\n\n<pre><code># ask your users to do this\nset -a; . ./vars; ./yourPythonScript\n</code></pre>\n\n<p>...and you can error out if people don't do so very easy:</p>\n\n<pre><code>import os, sys\nif not 'EASY_RSA' in os.environ:\n    print &gt;&gt;sys.stderr, \"ERROR: Source vars before running this script\"\n    sys.exit(1)\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 5287469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7efd51eff60066a4ec1b0cfcbf49798d?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy", "link": "https://stackoverflow.com/users/5287469/andriy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2240, "favorite_count": 0, "accepted_answer_id": 34777253, "answer_count": 1, "score": 1, "last_activity_date": 1452724120, "creation_date": 1452715705, "last_edit_date": 1495539916, "question_id": 34776070, "link": "https://stackoverflow.com/questions/34776070/how-to-source-script-via-python", "title": "How to source script via python", "body": "<p>I can source bash script (without shebang) easy as bash command in terminal but trying to do the same via python command</p>\n\n<pre><code>sourcevars = \"cd /etc/openvpn/easy-rsa &amp;&amp; . ./vars\"\nrunSourcevars = subprocess.Popen(sourcevars, shell = True)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sourcevars = [\". /etc/openvpn/easy-rsa/vars\"]\nrunSourcevars = subprocess.Popen(sourcevars, shell = True)\n</code></pre>\n\n<p>I receive :</p>\n\n<blockquote>\n  <p>Please source the vars script first (i.e. \"source ./vars\")\n  Make sure you have edited it to reflect your configuration.</p>\n</blockquote>\n\n<p>What's the matter, how to do it correctly?I've read some topics here,e.g <a href=\"https://stackoverflow.com/q/7040592/407651\">here</a> but could not solve my problem using given advices. Please explain with examples.</p>\n\n<p>UPDATED:</p>\n\n<pre><code># os.chdir = ('/etc/openvpn/easy-rsa')\ninitvars = \"cd /etc/openvpn/easy-rsa &amp;&amp; . ./vars &amp;&amp; ./easy-rsa ...\"\n\n\n# initvars = \"cd /etc/openvpn/easy-rsa &amp;&amp; . ./vars\"\n# initvars = [\". /etc/openvpn/easy-rsa/vars\"]\ncleanall = [\"/etc/openvpn/easy-rsa/clean-all\"]\n# buildca  = [\"printf '\\n\\n\\n\\n\\n\\n\\n\\n\\n' | /etc/openvpn/easy-rsa/build-ca\"]\n# buildkey = [\"printf '\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nyes\\n ' | /etc/openvpn/easy-rsa/build-key AAAAAA\"]\n# buildca  = \"cd /etc/openvpn/easy-rsa &amp;&amp; printf '\\n\\n\\n\\n\\n\\n\\n\\n\\n' | ./build-ca\"\nrunInitvars = subprocess.Popen(cmd, shell = True)\n# runInitvars = subprocess.Popen(initvars,stdout=subprocess.PIPE, shell = True, executable=\"/bin/bash\")\nrunCleanall = subprocess.Popen(cleanall , shell=True)\n\n# runBuildca = subprocess.Popen(buildca , shell=True)\n# runBuildca.communicate()\n# runBuildKey = subprocess.Popen(buildkey, shell=True )\n</code></pre>\n\n<p>UPDATE 2</p>\n\n<pre><code>buildca  = [\"printf '\\n\\n\\n\\n\\n\\n\\n\\n\\n' | /etc/openvpn/easy-rsa/build-ca\"]\nruncommands = subprocess.Popen(initvars+cleanall+buildca, shell = True)\n</code></pre>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 5, "creation_date": 1452715967, "post_id": 34776049, "comment_id": 57297479, "body": "It&#39;s unclear how the first list relates to the second. Are you splitting the second list into segments of length equal to length of the second list divided by the length of the first list? Or something else? Can you give us more input/output examples?"}, {"owner": {"reputation": 683, "user_id": 3575675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921c46f7c48f99563cbf4725eefe94d4?s=128&d=identicon&r=PG&f=1", "display_name": "bartoszukm", "link": "https://stackoverflow.com/users/3575675/bartoszukm"}, "edited": false, "score": 1, "creation_date": 1452716157, "post_id": 34776049, "comment_id": 57297587, "body": "What does it mean  &quot;I don&#39;t know the exact length of this list&quot;? Cannot you use len(MyList2)?"}, {"owner": {"reputation": 3940, "user_id": 5786339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ffdd81c1ba86b86ddd3eddd4eb1f99a?s=128&d=identicon&r=PG&f=1", "display_name": "Sharky", "link": "https://stackoverflow.com/users/5786339/sharky"}, "edited": false, "score": 0, "creation_date": 1452720048, "post_id": 34776049, "comment_id": 57299623, "body": "Sorry to misguide you a little.  list1 consists of lists of integers of a random length, like that [[1, 2, 3], [4, 5],[5, 6, 7, 8]]. I appended some derivatives of these numbers to list2 and I need to print it so that the first line has 3 digits, second line has two digits and the third line has four."}], "answers": [{"comments": [{"owner": {"reputation": 3940, "user_id": 5786339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ffdd81c1ba86b86ddd3eddd4eb1f99a?s=128&d=identicon&r=PG&f=1", "display_name": "Sharky", "link": "https://stackoverflow.com/users/5786339/sharky"}, "edited": false, "score": 0, "creation_date": 1452720156, "post_id": 34776101, "comment_id": 57299680, "body": "Thanks for help! But what should I do if i need the length of the printed lines not to be equal?"}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 1, "last_activity_date": 1452715818, "creation_date": 1452715818, "answer_id": 34776101, "question_id": 34776049, "link": "https://stackoverflow.com/questions/34776049/how-to-print-different-parts-of-a-list-on-new-line-in-python/34776101#34776101", "title": "How to print different parts of a list on new line in Python?", "body": "<p>A <code>while</code> loop will do the trick better.</p>\n\n<pre><code>list1 = [1, 2, 3]\nlist2 = [1, 2, 3, 4, 5 ,6 ]\n\nstart = 0\nwhile start &lt; len(list2):\n    print list2[start:start+len(list1)]\n    start += len(list1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 336, "user_id": 1302130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c728b9006288e258feaa99b159afe17b?s=128&d=identicon&r=PG", "display_name": "user1302130", "link": "https://stackoverflow.com/users/1302130/user1302130"}, "is_accepted": false, "score": 0, "last_activity_date": 1452719269, "creation_date": 1452719269, "answer_id": 34777022, "question_id": 34776049, "link": "https://stackoverflow.com/questions/34776049/how-to-print-different-parts-of-a-list-on-new-line-in-python/34777022#34777022", "title": "How to print different parts of a list on new line in Python?", "body": "<p>If you're curious how to use a <code>for</code> loop:</p>\n\n<pre><code>step_size = int(len(list2)/len(list1))\nfor i in range(0, len(list1) - 1):\n    start = i * step_size\n    end = start + step_size\n    print(list2[start:end])\nprint(list2[len(list1)*step_size - step_size:])\n</code></pre>\n\n<p>The <code>print</code> after the loop prints the last chunk, which might be a different size than the others.</p>\n"}, {"tags": [], "owner": {"reputation": 16796, "user_id": 1490552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3V3yR.jpg?s=128&g=1", "display_name": "Adem &#214;zta\u015f", "link": "https://stackoverflow.com/users/1490552/adem-%c3%96zta%c5%9f"}, "is_accepted": false, "score": 0, "last_activity_date": 1452719837, "last_edit_date": 1452719837, "creation_date": 1452719521, "answer_id": 34777085, "question_id": 34776049, "link": "https://stackoverflow.com/questions/34776049/how-to-print-different-parts-of-a-list-on-new-line-in-python/34777085#34777085", "title": "How to print different parts of a list on new line in Python?", "body": "<p>You can try generator function like this, </p>\n\n<pre><code>my_list1 = [1, 2, 3, 4 ,5 ,6 ]\nmy_list2 = [1, 2, 3]\n\ndef make_list(lst1, lst2):\n    item_count = len(lst1) / len(lst2)\n    for ix in range(0, len(lst1), item_count):\n        yield lst1[ix:ix + item_count]\n\nprint list(make_list(my_list1, my_list2))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3940, "user_id": 5786339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ffdd81c1ba86b86ddd3eddd4eb1f99a?s=128&d=identicon&r=PG&f=1", "display_name": "Sharky", "link": "https://stackoverflow.com/users/5786339/sharky"}, "edited": false, "score": 0, "creation_date": 1452796189, "post_id": 34778131, "comment_id": 57337221, "body": "Thanks for your help, i figured out how to solve my problem!"}, {"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "reply_to_user": {"reputation": 3940, "user_id": 5786339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ffdd81c1ba86b86ddd3eddd4eb1f99a?s=128&d=identicon&r=PG&f=1", "display_name": "Sharky", "link": "https://stackoverflow.com/users/5786339/sharky"}, "edited": false, "score": 0, "creation_date": 1452796961, "post_id": 34778131, "comment_id": 57337689, "body": "@Sharky .. Glad you figured it yourself so my answer will help you to confirm that..:)"}], "tags": [], "owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "is_accepted": true, "score": 0, "last_activity_date": 1452723370, "creation_date": 1452723370, "answer_id": 34778131, "question_id": 34776049, "link": "https://stackoverflow.com/questions/34776049/how-to-print-different-parts-of-a-list-on-new-line-in-python/34778131#34778131", "title": "How to print different parts of a list on new line in Python?", "body": "<p>Based on your last comment, I think the following will work for you:</p>\n\n<pre><code>&gt;&gt;&gt; l1\n[[1, 2, 3], [4, 5], [5, 6, 7, 8]]\n&gt;&gt;&gt; l2\n[1, 2, 3, 4, 5, 6]\n&gt;&gt;&gt; i,s=0,0\n&gt;&gt;&gt; while s &lt; len(l2):\n        print l2[s:s+len(l1[i])]\n        s += len(l1[i])\n        i += 1\n[1, 2, 3]\n[4, 5]\n[6]\n</code></pre>\n"}], "owner": {"reputation": 3940, "user_id": 5786339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ffdd81c1ba86b86ddd3eddd4eb1f99a?s=128&d=identicon&r=PG&f=1", "display_name": "Sharky", "link": "https://stackoverflow.com/users/5786339/sharky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "accepted_answer_id": 34778131, "answer_count": 4, "score": 0, "last_activity_date": 1452723605, "creation_date": 1452715626, "last_edit_date": 1452723605, "question_id": 34776049, "link": "https://stackoverflow.com/questions/34776049/how-to-print-different-parts-of-a-list-on-new-line-in-python", "title": "How to print different parts of a list on new line in Python?", "body": "<p>I have two lists, one is of a known length and the other is a random length:</p>\n\n<pre><code>MyList1 = [[1, 2, 3], [4, 5],[5, 6, 7, 8]].\nMyList2 = [1, 2, 3, 4 ,5 ,6 ]\n</code></pre>\n\n<p>I need to print the second one in the following way, where 3 lines is for the number of objects in the first list:</p>\n\n<pre><code>[1, 2, 3] \n[4, 5]\n[6]\n</code></pre>\n\n<p>The problem is that I don't know the exact length of this list and the sizes of the lines may not be equal.</p>\n\n<p>I got stuck on doing it with <code>for loop</code>, but it doesn't seem to work.</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup", "python-requests"], "comments": [{"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1452716027, "post_id": 34775984, "comment_id": 57297513, "body": "As a sanity check, <code>print(soup.findAll)</code> right before the line causing the error. Does it print <code>None</code>? If so, what does <code>print(soup)</code> and <code>print(type(soup))</code> print?"}, {"owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "edited": false, "score": 0, "creation_date": 1452716140, "post_id": 34775984, "comment_id": 57297579, "body": "Try using <code>soup.find_all(&#39;a&#39;)</code> instead of <code>soup.findAll(&#39;a&#39;)</code>"}, {"owner": {"reputation": 97, "user_id": 3749086, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4eb7582fec4b664a8cebd3e7c590588d?s=128&d=identicon&r=PG&f=1", "display_name": "jtexnl", "link": "https://stackoverflow.com/users/3749086/jtexnl"}, "edited": false, "score": 0, "creation_date": 1452716295, "post_id": 34775984, "comment_id": 57297652, "body": "Ah, sorry about the blank import. Vestige of some old code that I didn&#39;t fully delete for posting. Editing now."}, {"owner": {"reputation": 97, "user_id": 3749086, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4eb7582fec4b664a8cebd3e7c590588d?s=128&d=identicon&r=PG&f=1", "display_name": "jtexnl", "link": "https://stackoverflow.com/users/3749086/jtexnl"}, "edited": false, "score": 0, "creation_date": 1452716430, "post_id": 34775984, "comment_id": 57297727, "body": "print(type(soup)) returns &quot;&lt;class &#39;bs4.BeautifulSoup&#39;&gt;&quot; when going manually. Running it as a function throws an error before it can print."}, {"owner": {"reputation": 97, "user_id": 3749086, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4eb7582fec4b664a8cebd3e7c590588d?s=128&d=identicon&r=PG&f=1", "display_name": "jtexnl", "link": "https://stackoverflow.com/users/3749086/jtexnl"}, "edited": false, "score": 0, "creation_date": 1452716497, "post_id": 34775984, "comment_id": 57297760, "body": "I tried the find_all, but nothing changed. From what I understand, they&#39;re interchangeable."}], "answers": [{"tags": [], "owner": {"reputation": 521, "user_id": 5754521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c4a9ed77478e834cdc6c28669a4eed?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/5754521/benjamin"}, "is_accepted": false, "score": 0, "last_activity_date": 1452721701, "creation_date": 1452721701, "answer_id": 34777712, "question_id": 34775984, "link": "https://stackoverflow.com/questions/34775984/strange-beautifulsoup-soup-findall-error-not-working-within-functions/34777712#34777712", "title": "Strange BeautifulSoup soup.findAll error: not working within functions", "body": "<p>Try to replace your for-loop with the following:</p>\n\n<pre><code>for a in soup.findAll('a'):\n    url = a.get(\"href\")\n    if url != None:\n        homepageLinks.append(url)\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 3749086, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4eb7582fec4b664a8cebd3e7c590588d?s=128&d=identicon&r=PG&f=1", "display_name": "jtexnl", "link": "https://stackoverflow.com/users/3749086/jtexnl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 888, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452721701, "creation_date": 1452715393, "last_edit_date": 1452716478, "question_id": 34775984, "link": "https://stackoverflow.com/questions/34775984/strange-beautifulsoup-soup-findall-error-not-working-within-functions", "title": "Strange BeautifulSoup soup.findAll error: not working within functions", "body": "<p>I'm trying to build a pretty simple scraper to harvest links as part of a crawler project. I've set up the following function to do the scraping: </p>\n\n<pre><code>import requests as rq \nfrom bs4 import BeautifulSoup\n\ndef getHomepageLinks(page):\n    homepageLinks = []\n    response = rq.get(page)\n    text = response.text\n    soup = BeautifulSoup(text)\n    for a in soup.findAll('a'):\n        homepageLinks.append(a['href'])\n    return homepageLinks\n</code></pre>\n\n<p>I saved this file as \"scraper2.py\". When I try to run the code, I get the following error:</p>\n\n<pre><code>&gt;&gt;&gt; import scraper2 as sc\n&gt;&gt;&gt; sc.getHomepageLinks('http://washingtonpost.com')\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"scraper2.py\", line 9, in getHomepageLinks\n    for a in soup.findAll('a'):\nTypeError: 'NoneType' object is not callable\n</code></pre>\n\n<p>Now for the odd part: If I try to debug the code and just print the response, it works fine:</p>\n\n<pre><code>&gt;&gt;&gt; response = rq.get('http://washingtonpost.com')\n&gt;&gt;&gt; text = response.text\n&gt;&gt;&gt; soup = BeautifulSoup(text)\n&gt;&gt;&gt; for a in soup.findAll('a'):\n...     print(a['href'])\n... \nhttps://www.washingtonpost.com\n#\n#\nhttp://www.washingtonpost.com/politics/\nhttps://www.washingtonpost.com/opinions/\nhttp://www.washingtonpost.com/sports/\nhttp://www.washingtonpost.com/local/\nhttp://www.washingtonpost.com/national/\nhttp://www.washingtonpost.com/world/\n...\n</code></pre>\n\n<p>If I'm reading the error messages correctly, the problem is occurring with soup.findAll, but only when the findAll is part of a function. I'm sure I'm spelling it correctly (not findall or Findall, as many of the errors on here are), and I've tried a fix using lxml suggested on a previous post that didn't fix it. Does anyone have any ideas?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 1, "creation_date": 1452715454, "post_id": 34775937, "comment_id": 57297181, "body": "I&#39;ve never seen a question get so many answers and downvotes so quickly."}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "reply_to_user": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1452715500, "post_id": 34775937, "comment_id": 57297203, "body": "@Kupiakos, you mean, so many <i>answers</i>, right?"}, {"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "edited": false, "score": 1, "creation_date": 1452715516, "post_id": 34775937, "comment_id": 57297212, "body": "I was watching the race of people trying to respond first lol"}, {"owner": {"reputation": 2087, "user_id": 3829706, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/jIzmV.jpg?s=128&g=1", "display_name": "frunkad", "link": "https://stackoverflow.com/users/3829706/frunkad"}, "edited": false, "score": 3, "creation_date": 1452715767, "post_id": 34775937, "comment_id": 57297365, "body": "Can&#39;t believe-9 with 9 answers in less than \u221a9 minutes"}], "answers": [{"tags": [], "owner": {"reputation": 28488, "user_id": 402884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35583fe46c2cde92467710cc7ceff266?s=128&d=identicon&r=PG", "display_name": "Chris Martin", "link": "https://stackoverflow.com/users/402884/chris-martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1452715335, "creation_date": 1452715335, "answer_id": 34775966, "question_id": 34775937, "link": "https://stackoverflow.com/questions/34775937/retrieving-the-first-element-of-a-list-nested-in-another-list/34775966#34775966", "title": "Retrieving the first element of a list nested in another list", "body": "<pre><code>print([x[0] for x in addresses])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "is_accepted": false, "score": 2, "last_activity_date": 1452715764, "last_edit_date": 1452715764, "creation_date": 1452715342, "answer_id": 34775969, "question_id": 34775937, "link": "https://stackoverflow.com/questions/34775937/retrieving-the-first-element-of-a-list-nested-in-another-list/34775969#34775969", "title": "Retrieving the first element of a list nested in another list", "body": "<pre><code>from operator import itemgetter\nprint(map(itemgetter(0), addresses))\n</code></pre>\n\n<p>This selects the first item from each element in <code>addresses</code> and creates a new list from it. <code>itemgetter(0)</code> is faster than a lambda.</p>\n"}, {"tags": [], "owner": {"reputation": 228875, "user_id": 84651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b5ab789d3e28d1fad880f3fd1765b66?s=128&d=identicon&r=PG", "display_name": "Justin Niessner", "link": "https://stackoverflow.com/users/84651/justin-niessner"}, "is_accepted": false, "score": 0, "last_activity_date": 1452715347, "creation_date": 1452715347, "answer_id": 34775972, "question_id": 34775937, "link": "https://stackoverflow.com/questions/34775937/retrieving-the-first-element-of-a-list-nested-in-another-list/34775972#34775972", "title": "Retrieving the first element of a list nested in another list", "body": "<p>The easiest way would to be to use a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">list comprehension</a>:</p>\n\n<p><code>names = [a[0] for a in addresses]</code></p>\n"}, {"comments": [{"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 2, "creation_date": 1452715556, "post_id": 34775979, "comment_id": 57297238, "body": "IIRC, they&#39;re called list comprehensions, or generator comprehensions, or dictionary comprehensions, or set comprehensions, depending on what you&#39;re doing."}], "tags": [], "owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "is_accepted": false, "score": 0, "last_activity_date": 1452715600, "last_edit_date": 1452715600, "creation_date": 1452715373, "answer_id": 34775979, "question_id": 34775937, "link": "https://stackoverflow.com/questions/34775937/retrieving-the-first-element-of-a-list-nested-in-another-list/34775979#34775979", "title": "Retrieving the first element of a list nested in another list", "body": "<p>You can use a <a href=\"http://python-3-patterns-idioms-test.readthedocs.org/en/latest/Comprehensions.html\" rel=\"nofollow\"><code>list comprehension</code></a> to get the first item (<code>item[0]</code>) from each list in your address list. Then you just print it. From the REPL:</p>\n\n<pre><code>&gt;&gt;&gt; addresses = [['Jim', 543, 65], ['Jack', 4376, 23], ['Hank', 764, 43]]\n&gt;&gt;&gt; [item[0] for item in addresses]\n['Jim', 'Jack', 'Hank']\n&gt;&gt;&gt; for name in [item[0] for item in addresses]:\n...     print(name) \n... \nJim\nJack\nHank\n</code></pre>\n\n<p>Python's <a href=\"https://docs.python.org/3.0/library/functions.html#print\" rel=\"nofollow\">print</a> lets you shorthand this to:</p>\n\n<pre><code>print([item[0] for item in addresses])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2682, "user_id": 5040035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sFkvw.jpg?s=128&g=1", "display_name": "plamut", "link": "https://stackoverflow.com/users/5040035/plamut"}, "is_accepted": false, "score": 0, "last_activity_date": 1452715391, "creation_date": 1452715391, "answer_id": 34775981, "question_id": 34775937, "link": "https://stackoverflow.com/questions/34775937/retrieving-the-first-element-of-a-list-nested-in-another-list/34775981#34775981", "title": "Retrieving the first element of a list nested in another list", "body": "<p>You can use a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">list comprehension</a>:</p>\n\n<pre><code>&gt;&gt;&gt; names = [sublist[0] for sublist in addresses]\n&gt;&gt;&gt; names\n['Jim', 'Jack', 'Hank']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "is_accepted": false, "score": 0, "last_activity_date": 1452715399, "creation_date": 1452715399, "answer_id": 34775989, "question_id": 34775937, "link": "https://stackoverflow.com/questions/34775937/retrieving-the-first-element-of-a-list-nested-in-another-list/34775989#34775989", "title": "Retrieving the first element of a list nested in another list", "body": "<p>You want this:</p>\n\n<pre><code>print [a[0] for a in addresses]\n</code></pre>\n\n<p>Here <code>a</code> is a subarray and <code>a[0]</code> is its first element. </p>\n"}, {"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 2, "last_activity_date": 1452715427, "creation_date": 1452715427, "answer_id": 34775996, "question_id": 34775937, "link": "https://stackoverflow.com/questions/34775937/retrieving-the-first-element-of-a-list-nested-in-another-list/34775996#34775996", "title": "Retrieving the first element of a list nested in another list", "body": "<pre><code>print(\"\\n\".join(zip(*addresses)[0]))\n#or maybe just \nprint(zip(*addresses)[0]) \n</code></pre>\n\n<p>might as well throw one more into the ring :P</p>\n"}, {"comments": [{"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 1, "creation_date": 1452715700, "post_id": 34776026, "comment_id": 57297318, "body": "You can also use <code>operator.itemgetter(0)</code> instead of a lambda for more speed."}], "tags": [], "owner": {"reputation": 23806, "user_id": 4542359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a6ea331ac684b52563d13e6ee44e03be?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Protopopov", "link": "https://stackoverflow.com/users/4542359/anton-protopopov"}, "is_accepted": false, "score": 3, "last_activity_date": 1452716155, "last_edit_date": 1452716155, "creation_date": 1452715560, "answer_id": 34776026, "question_id": 34775937, "link": "https://stackoverflow.com/questions/34775937/retrieving-the-first-element-of-a-list-nested-in-another-list/34776026#34776026", "title": "Retrieving the first element of a list nested in another list", "body": "<p>One more solution with <code>map</code>:</p>\n\n<pre><code>print(list(map(lambda x: x[0], addresses)))\n['Jim', 'Jack', 'Hank']\n</code></pre>\n\n<p>Or you could use <code>operator.itemgetter(0)</code> as @Kupiakos suggested in the comment:</p>\n\n<pre><code>from operator import itemgetter(0)\nprint(list(map(itemgetter(0), addresses)))\n['Jim', 'Jack', 'Hank']\n</code></pre>\n\n<p><strong>Timing</strong>:</p>\n\n<pre><code>In [648]: %timeit list(map(operator.itemgetter(0), addresses))\n1000000 loops, best of 3: 1.16 \u00b5s per loop\n\nIn [649]: %timeit list(map(lambda x: x[0], addresses))\n1000000 loops, best of 3: 1.25 \u00b5s per loop\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4701203, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UcajymuzFvE/AAAAAAAAAAI/AAAAAAAAABU/8GrqWKRyPzM/photo.jpg?sz=128", "display_name": "Travis Roderick", "link": "https://stackoverflow.com/users/4701203/travis-roderick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 8, "score": -8, "last_activity_date": 1452716155, "creation_date": 1452715245, "last_edit_date": 1452715699, "question_id": 34775937, "link": "https://stackoverflow.com/questions/34775937/retrieving-the-first-element-of-a-list-nested-in-another-list", "title": "Retrieving the first element of a list nested in another list", "body": "<p>I have the following code:</p>\n\n<pre><code>addresses = [['Jim', 543, 65], ['Jack', 4376, 23], ['Hank', 764, 43]]\nprint addresses[0:][0]  # I want this to return: ['Jim', 'Jack', 'Hank']`\n</code></pre>\n\n<p>How would I make this print out only the names in <code>addresses</code>?</p>\n\n<p>I used this:</p>\n\n<pre><code>for item in addresses:\n    print item[0]\n</code></pre>\n"}, {"tags": ["python", "django", "django-orm"], "comments": [{"owner": {"reputation": 3717, "user_id": 2385132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc968f306ac82ad858db133fd3a5e91?s=128&d=identicon&r=PG", "display_name": "Marek M.", "link": "https://stackoverflow.com/users/2385132/marek-m"}, "edited": false, "score": 0, "creation_date": 1479059432, "post_id": 34775932, "comment_id": 68389330, "body": "Have you solved this? I kinda did, but it&#39;s so ugly, I thought there must be a better solution."}, {"owner": {"reputation": 102535, "user_id": 20128, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4b62eef3ad218a5d3cbdd1077660ca8b?s=128&d=identicon&r=PG", "display_name": "serg", "link": "https://stackoverflow.com/users/20128/serg"}, "reply_to_user": {"reputation": 3717, "user_id": 2385132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc968f306ac82ad858db133fd3a5e91?s=128&d=identicon&r=PG", "display_name": "Marek M.", "link": "https://stackoverflow.com/users/2385132/marek-m"}, "edited": false, "score": 0, "creation_date": 1479087286, "post_id": 34775932, "comment_id": 68397159, "body": "@SzwornyDzi\u0105ch I &quot;solved&quot; it by extracting the raw sql from a queryset, doing an sql injection, and running it. I bet yours isn&#39;t this ugly, so I would love to see it :) I spent a lot of time searching for a solution, it appears that conditional joins are just beyond django orm capabilities, there is no solution to this."}, {"owner": {"reputation": 3717, "user_id": 2385132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc968f306ac82ad858db133fd3a5e91?s=128&d=identicon&r=PG", "display_name": "Marek M.", "link": "https://stackoverflow.com/users/2385132/marek-m"}, "edited": false, "score": 0, "creation_date": 1479106373, "post_id": 34775932, "comment_id": 68401838, "body": "I&#39;ll post my answer later today, but just as a curiosity. I&#39;ll probably remove it from my code and go with a raw sql :P."}, {"owner": {"reputation": 3717, "user_id": 2385132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc968f306ac82ad858db133fd3a5e91?s=128&d=identicon&r=PG", "display_name": "Marek M.", "link": "https://stackoverflow.com/users/2385132/marek-m"}, "edited": false, "score": 0, "creation_date": 1479161725, "post_id": 34775932, "comment_id": 68433030, "body": "After all I gave up and went with the raw queries (which resulted in creating a custom pagination class and raw queries for this pagination class, and putting custom LIMIT OFFSET clauses into raw query being run by paginator based on the original query and so on...). My previous solution didn&#39;t work and broke some other things. So for whoever comes here: DON&#39;T WASTE YOUR TIME TRYING TO GET DJANGO TO DO CONDITIONAL JOINS, IT WON&#39;T WORK! :)"}], "owner": {"reputation": 102535, "user_id": 20128, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4b62eef3ad218a5d3cbdd1077660ca8b?s=128&d=identicon&r=PG", "display_name": "serg", "link": "https://stackoverflow.com/users/20128/serg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1452715200, "creation_date": 1452715200, "question_id": 34775932, "link": "https://stackoverflow.com/questions/34775932/django-setting-conditions-on-join-with-annotation", "title": "Django setting conditions on join with annotation", "body": "<p>I have the following expression:</p>\n\n<pre><code>Product.objects.annotate(views_total=models.Sum('stats__views'))\n</code></pre>\n\n<p>Which correctly joins Product and Stats tables and aggregates stats.views field per product.id:</p>\n\n<pre><code>SELECT \n    \"product\".\"id\", \"product\".\"name\", SUM(\"stats\".\"views\") AS \"views_total\" \nFROM \n    \"product\" LEFT OUTER JOIN \"stats\" ON (\"product\".\"id\" = \"stats\".\"product_id\") \nGROUP BY \"product\".\"id\";\n</code></pre>\n\n<p><strong>I am trying to figure out how to add a condition on joined Stats table, which would correspond to such query:</strong></p>\n\n<pre><code>SELECT \n    \"product\".\"id\", \"product\".\"name\", SUM(\"stats\".\"views\") AS \"views_total\" \nFROM \n    \"product\" LEFT OUTER JOIN \"stats\" ON (\"product\".\"id\" = \"stats\".\"product_id\") AND (\"stats\".\"condition\" &gt; 100)\nGROUP BY \"product\".\"id\";\n</code></pre>\n\n<p>I tried:</p>\n\n<pre><code>Product.objects.annotate(views_total=models.Sum('stats__views')).filter(stats__condition__gt = 100)\n</code></pre>\n\n<p>But this results in inner join which doesn't produce the desired result:</p>\n\n<pre><code>SELECT \n    \"product\".\"id\", \"product\".\"name\", SUM(\"stats\".\"views\") AS \"views_total\" \nFROM \n    \"product\" LEFT OUTER JOIN \"stats\" ON (\"product\".\"id\" = \"stats\".\"product_id\") \nINNER JOIN \n    \"stats\" T3 ON (\"product\".\"id\" = T3.\"product_id\") \nWHERE (T3.\"condition\" &gt; 100) \nGROUP BY \"product\".\"id\";\n</code></pre>\n"}, {"tags": ["python", "datetime"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1452715274, "post_id": 34775904, "comment_id": 57297086, "body": "Have you tried that? What&#39;s the error you&#39;re getting?"}, {"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "edited": false, "score": 0, "creation_date": 1452715304, "post_id": 34775904, "comment_id": 57297103, "body": "<a href=\"https://docs.python.org/3.5/library/datetime.html\" rel=\"nofollow noreferrer\">docs.python.org/3.5/library/datetime.html</a> Ya not sure what question you have"}], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 293594, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/236ff5ec4ac5714b8f28542d5299ec90?s=128&d=identicon&r=PG", "display_name": "xnx", "link": "https://stackoverflow.com/users/293594/xnx"}, "is_accepted": false, "score": 0, "last_activity_date": 1452715282, "creation_date": 1452715282, "answer_id": 34775951, "question_id": 34775904, "link": "https://stackoverflow.com/questions/34775904/how-do-i-import-specific-parts-of-the-time-e-g-hours-or-minutes-in-python/34775951#34775951", "title": "How do I import specific parts of the time, e.g. hours or minutes in Python?", "body": "<p>You might be looking for:</p>\n\n<pre><code>In [29]: hour = datetime.now().hour\nIn [30]: print('the current hour is {}!'.format(hour))\nthe current hour is 20!\n</code></pre>\n\n<p><code>datetime.now()</code> is the full current date and time, with separate attributes for day, month, hour, etc:</p>\n\n<pre><code>In [31]: datetime.now()\nOut[31]: datetime.datetime(2016, 1, 13, 20, 0, 57, 648969)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 5786335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2cc194e7f4f69c66a9bb781c308baf?s=128&d=identicon&r=PG&f=1", "display_name": "R C", "link": "https://stackoverflow.com/users/5786335/r-c"}, "edited": false, "score": 0, "creation_date": 1452719093, "post_id": 34775971, "comment_id": 57299168, "body": "I looked on that site both earlier and just now, but couldn&#39;t find what I was looking for (I didn&#39;t really understand a lot of the words, I&#39;m new to coding) but thanks so much for the answer!"}, {"owner": {"reputation": 2358, "user_id": 2386185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cP5b.jpg?s=128&g=1", "display_name": "mech", "link": "https://stackoverflow.com/users/2386185/mech"}, "reply_to_user": {"reputation": 149, "user_id": 5786335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2cc194e7f4f69c66a9bb781c308baf?s=128&d=identicon&r=PG&f=1", "display_name": "R C", "link": "https://stackoverflow.com/users/5786335/r-c"}, "edited": false, "score": 0, "creation_date": 1452719540, "post_id": 34775971, "comment_id": 57299362, "body": "No problem, glad to be of help! I would recommend going through the earlier chapters in the official Python 3 documentation as it&#39;s written in the same format but is much easier to read (since it explains the basic data types and operations), and it&#39;ll let you learn the right vocabulary. Here&#39;s a link to it: <a href=\"https://docs.python.org/3/library/functions.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/functions.html</a> Additionally, you might also want to check out one of the tutorials linked in the official beginners&#39; guide: <a href=\"https://wiki.python.org/moin/BeginnersGuide\" rel=\"nofollow noreferrer\">wiki.python.org/moin/BeginnersGuide</a>"}], "tags": [], "owner": {"reputation": 2358, "user_id": 2386185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cP5b.jpg?s=128&g=1", "display_name": "mech", "link": "https://stackoverflow.com/users/2386185/mech"}, "is_accepted": true, "score": 1, "last_activity_date": 1452715347, "creation_date": 1452715347, "answer_id": 34775971, "question_id": 34775904, "link": "https://stackoverflow.com/questions/34775904/how-do-i-import-specific-parts-of-the-time-e-g-hours-or-minutes-in-python/34775971#34775971", "title": "How do I import specific parts of the time, e.g. hours or minutes in Python?", "body": "<p>You should first check <a href=\"https://docs.python.org/3/library/datetime.html\" rel=\"nofollow\">Python's official documentation</a>, as it has a list of all the features for the Standard Library. A simple Google search for \"python 3 datetime hour\" would've gotten you what you needed.</p>\n\n<pre><code>from datetime import datetime\n\nhour = datetime.now().hour\nprint(\"The current hour is \" + hour + \"!\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 3478756, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d151d778422c2a987d922aecac81d5fc?s=128&d=identicon&r=PG&f=1", "display_name": "kingBenny", "link": "https://stackoverflow.com/users/3478756/kingbenny"}, "is_accepted": false, "score": 1, "last_activity_date": 1452716318, "creation_date": 1452716318, "answer_id": 34776256, "question_id": 34775904, "link": "https://stackoverflow.com/questions/34775904/how-do-i-import-specific-parts-of-the-time-e-g-hours-or-minutes-in-python/34776256#34776256", "title": "How do I import specific parts of the time, e.g. hours or minutes in Python?", "body": "<p>Have a look <a href=\"https://docs.python.org/2/library/datetime.html\" rel=\"nofollow\">here</a></p>\n\n<pre><code>from datetime import datetime\nnow = datetime.now()\n</code></pre>\n\n<p>if you then try print(now) you will have the whole datetime stamp...</p>\n\n<blockquote>\n  <p>2016-01-13 20:14:48.836659</p>\n</blockquote>\n\n<p>You can access them separately with:</p>\n\n<pre><code>now.hour\nnow.minute\nnow.second\n...\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 5786335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2cc194e7f4f69c66a9bb781c308baf?s=128&d=identicon&r=PG&f=1", "display_name": "R C", "link": "https://stackoverflow.com/users/5786335/r-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 34775971, "answer_count": 3, "score": -2, "last_activity_date": 1452716318, "creation_date": 1452715080, "last_edit_date": 1452715549, "question_id": 34775904, "link": "https://stackoverflow.com/questions/34775904/how-do-i-import-specific-parts-of-the-time-e-g-hours-or-minutes-in-python", "title": "How do I import specific parts of the time, e.g. hours or minutes in Python?", "body": "<p>I used to have a program in Python 2 (I am now using version 3) where it would be able to find a specific part of the time, e.g. the hour or the minute. Sadly, I lost the Raspberry Pi this was on. I know that it involves the <code>from datetime import datetime</code> command but I don't know how to apply it. There doesn't seem to be anything about this on the web anywhere.</p>\n\n<p>I can't remember exactly how it works but it's probably something like this:</p>\n\n<pre><code>from datetime import datetime\n\nhour = datetime.hour()\nprint(\"The current hour is \" + hour + \"!\")\n</code></pre>\n\n<p>Which would return the following</p>\n\n<pre><code>&gt;&gt;&gt;The current hour is 13!\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1516, "user_id": 2442877, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/YiIWC.jpg?s=128&g=1", "display_name": "MASh", "link": "https://stackoverflow.com/users/2442877/mash"}, "edited": false, "score": 2, "creation_date": 1452715019, "post_id": 34775839, "comment_id": 57296949, "body": "<a href=\"http://stackoverflow.com/questions/11332465/how-to-return-value-from-python-as-json\" title=\"how to return value from python as json\">stackoverflow.com/questions/11332465/&hellip;</a>  this may help you."}, {"owner": {"reputation": 3448, "user_id": 5530155, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wtp3s.jpg?s=128&g=1", "display_name": "gariepy", "link": "https://stackoverflow.com/users/5530155/gariepy"}, "edited": false, "score": 0, "creation_date": 1452715070, "post_id": 34775839, "comment_id": 57296980, "body": "Could you provide a larger sample of code to see where you are trying to return from?  What you have shown here is a Python dictionary, not a JSON object."}, {"owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 1, "creation_date": 1452715093, "post_id": 34775839, "comment_id": 57296991, "body": "When you ask &#39;how do I get Python to return &lt;x&gt;&#39;, you should indicate what context you mean. Is this a web application? In the REPL? On the command line? From a Python function? You need to add details about where you&#39;re working from. See <a href=\"http://www.stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 2115, "user_id": 1394473, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7261fd63649bb17e90b30474b493a520?s=128&d=identicon&r=PG", "display_name": "tom", "link": "https://stackoverflow.com/users/1394473/tom"}, "edited": false, "score": 0, "creation_date": 1452715194, "post_id": 34775839, "comment_id": 57297045, "body": "Are you sure you don&#39;t want to return a dict? <a href=\"https://docs.python.org/2/tutorial/datastructures.html#dictionaries\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/datastructures.html#dictionaries</a>"}, {"owner": {"reputation": 31, "user_id": 5786354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b6eb47c2f59f0bbc0514dde1b830a0?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5786354/joe"}, "edited": false, "score": 0, "creation_date": 1452715659, "post_id": 34775839, "comment_id": 57297297, "body": "Thank you. I think it&#39;s more of a dict. The return&#39;s from a python function."}], "answers": [{"tags": [], "owner": {"reputation": 2358, "user_id": 2386185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cP5b.jpg?s=128&g=1", "display_name": "mech", "link": "https://stackoverflow.com/users/2386185/mech"}, "is_accepted": false, "score": 3, "last_activity_date": 1452715085, "creation_date": 1452715085, "answer_id": 34775905, "question_id": 34775839, "link": "https://stackoverflow.com/questions/34775839/python-return-object/34775905#34775905", "title": "Python return object", "body": "<p>If that is indeed a JSON object, you would want to use the JSON encoder/decoder that is part of the Python Standard Library. See <a href=\"https://docs.python.org/3.5/library/json.html\" rel=\"nofollow\">the official Python documentation</a> for more information on it. It has a well-written basic usage section, and good examples.</p>\n\n<p>That library, once imported, should allow you to have functions return JSON objects by using functions like <code>json.encode</code> and <code>json.default</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 45496, "user_id": 436560, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2GESV.jpg?s=128&g=1", "display_name": "Lajos Arpad", "link": "https://stackoverflow.com/users/436560/lajos-arpad"}, "is_accepted": false, "score": 0, "last_activity_date": 1452716634, "creation_date": 1452716634, "answer_id": 34776347, "question_id": 34775839, "link": "https://stackoverflow.com/questions/34775839/python-return-object/34776347#34776347", "title": "Python return object", "body": "<p>What you have in your question looks like a Python dictionary. Since you want to know how one can return something like that, your question has two parts:</p>\n\n<ul>\n<li>the first part deals with <a href=\"http://www.tutorialspoint.com/python/python_functions.htm\" rel=\"nofollow\">function usages</a></li>\n<li>the second part deals with building up the <a href=\"http://learnpythonthehardway.org/book/ex39.html\" rel=\"nofollow\">dictionary itself</a></li>\n</ul>\n\n<p>Luckily, these simple problems are well-documented and one can find the answer with smaller effort than by asking a question.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5786354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b6eb47c2f59f0bbc0514dde1b830a0?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5786354/joe"}, "edited": false, "score": 0, "creation_date": 1452717924, "post_id": 34776400, "comment_id": 57298581, "body": "Oh this is perfect! I didn&#39;t know we can just do <code>return { XXXXXX }</code> sorry. Thanks for your help!"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 6, "last_activity_date": 1452716798, "creation_date": 1452716798, "answer_id": 34776400, "question_id": 34775839, "link": "https://stackoverflow.com/questions/34775839/python-return-object/34776400#34776400", "title": "Python return object", "body": "<p>Literally, the answer to \"how do I return this dict\" is to <em>return this dict</em>:</p>\n\n<pre><code>def some_function():\n    return {\n        \"status\": error,\n        \"location\": loc,\n        \"codes\": {\n            \"code1\": 5,\n            \"code2\": 6,\n        },\n    }\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5786354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b6eb47c2f59f0bbc0514dde1b830a0?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5786354/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3089, "favorite_count": 0, "accepted_answer_id": 34776400, "answer_count": 3, "score": -4, "last_activity_date": 1452716798, "creation_date": 1452714834, "last_edit_date": 1452715033, "question_id": 34775839, "link": "https://stackoverflow.com/questions/34775839/python-return-object", "title": "Python return object", "body": "<p>How would I make Python return something like this:</p>\n\n<pre><code>{ \"status\": error,\n  \"location\": loc,\n  \"codes\": {\n      \"code1\": 5,\n      \"code2\": 6,\n  },\n}\n</code></pre>\n\n<p>I think this looks like a JSON object?</p>\n"}]