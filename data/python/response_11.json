[{"tags": ["python", "pi"], "answers": [{"tags": [], "owner": {"reputation": 6583, "user_id": 931721, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7890aab3c851571d48e6c4f7459f187f?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Weisblat", "link": "https://stackoverflow.com/users/931721/jakob-weisblat"}, "is_accepted": false, "score": 3, "last_activity_date": 1427328117, "creation_date": 1427328117, "answer_id": 29268804, "question_id": 29268747, "link": "https://stackoverflow.com/questions/29268747/estimate-pi-using-python/29268804#29268804", "title": "estimate pi using python", "body": "<p>Look closely at your iteration:</p>\n\n<pre><code>for k in range(num):   \n    answer+=((-1)**(i+1)/(2*i-1))  \n</code></pre>\n\n<p>You're iterating over <code>k</code>, but <code>k</code> appears nowhere in the loop body. That can't be right.</p>\n"}, {"tags": [], "owner": {"reputation": 4933, "user_id": 2987253, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa772cdc439443e5243e9d7aa41a9c6a?s=128&d=identicon&r=PG", "display_name": "Loocid", "link": "https://stackoverflow.com/users/2987253/loocid"}, "is_accepted": false, "score": 1, "last_activity_date": 1427328439, "creation_date": 1427328439, "answer_id": 29268862, "question_id": 29268747, "link": "https://stackoverflow.com/questions/29268747/estimate-pi-using-python/29268862#29268862", "title": "estimate pi using python", "body": "<p>To add to Jakob's answer, your for loop starts at k=0, to estimate pi you have to start at k=1.</p>\n\n<p>I.e. change <code>for k in range(num):</code> to <code>for k in range(1,num + 1)</code>:  </p>\n"}, {"tags": [], "owner": {"reputation": 18953, "user_id": 4640209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86bc12112054e578fc0bcd333cbb2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4640209/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1427329814, "creation_date": 1427329814, "answer_id": 29269056, "question_id": 29268747, "link": "https://stackoverflow.com/questions/29268747/estimate-pi-using-python/29269056#29269056", "title": "estimate pi using python", "body": "<p>This seems to produce the correct result:</p>\n\n<pre><code>def m(num):  \n    answer = 0          \n    for i in range(num):\n        answer+=(-1)**i*1/(2.0*i+1.0)       \n    return answer  \n\nfor i in [1,101,201,301,401,501,601,701,801,901]:\n    print i,\"%.4f\" % (4*m(i))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4714396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b35dc9ff54524c2013ded8232e5610?s=128&d=identicon&r=PG&f=1", "display_name": "WintersReposte", "link": "https://stackoverflow.com/users/4714396/wintersreposte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1427329814, "creation_date": 1427327809, "last_edit_date": 1427327978, "question_id": 29268747, "link": "https://stackoverflow.com/questions/29268747/estimate-pi-using-python", "title": "estimate pi using python", "body": "<p>my teacher gave this assignment asking to estimate pi at different values of \"i\".\ni can get the first value of 4.0000 just fine but when i try for 101 i get 0.5024. Im honestly drawing a total blank here and the other questions on this site use a slightly different equation for estimation</p>\n\n<p>here's my code:</p>\n\n<pre><code>num = 1\n\ndef m(i):  \n    answer = 0  \n    for k in range(num):   \n        answer+=((-1)**(i+1)/(2*i-1))  \n    return answer  \n</code></pre>\n\n<p>and the question:</p>\n\n<pre><code>m(i) = 4*(1-1/3+1/5-1/7+1/9-1/11+\u22ef+\u3016(-1)\u3017^(i+1)/(2*i-1))\n</code></pre>\n\n<p>Your task: Write a function that returns m(i) for a given i and write a test program that displays the following table </p>\n\n<pre><code>i    m(i)\n1    4.0000 \n101  3.1515  \n201  3.1466  \n301  3.1449  \n401  3.1441  \n501  3.1436  \n601  3.1433  \n701  3.1430  \n801  3.1428  \n901  3.1427  \n</code></pre>\n\n<p>any help is appreciated and please excuse my inability to format on here (i'm new)</p>\n"}, {"tags": ["python", "hadoop", "solr", "flask", "hbase"], "answers": [{"tags": [], "owner": {"reputation": 427, "user_id": 5091149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d61bb1309ab29c741152042f0bcafd21?s=128&d=identicon&r=PG&f=1", "display_name": "rye", "link": "https://stackoverflow.com/users/5091149/rye"}, "is_accepted": false, "score": 1, "last_activity_date": 1440187909, "creation_date": 1440187909, "answer_id": 32148555, "question_id": 29268732, "link": "https://stackoverflow.com/questions/29268732/flask-with-hbase/32148555#32148555", "title": "Flask with HBase", "body": "<p>I'm looking into this as well. </p>\n\n<p>I've found the \"happybase\" python module. That should help connecting Python Flask with HBase.</p>\n"}], "owner": {"reputation": 16302, "user_id": 1953475, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xbP7V.jpg?s=128&g=1", "display_name": "B.Mr.W.", "link": "https://stackoverflow.com/users/1953475/b-mr-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440187909, "creation_date": 1427327629, "last_edit_date": 1427330505, "question_id": 29268732, "link": "https://stackoverflow.com/questions/29268732/flask-with-hbase", "title": "Flask with HBase", "body": "<p>I am designing an API service for a fairly big data set. \nThe data is currently stored in HDFS and we(BAs) usually query it from Hive. In the end, we have several tables that we want to expose to customers in the format of API, the API might also be used in the future to backup frontend app. </p>\n\n<p>I am a Python programmer and I have used Flask before. However, what is the correct technology combo to build an API service that can scale well? </p>\n\n<p>I heard some people mentioned \"HBase + Solr Cloud\" will be the solution. \nAny suggestion will be super helpful and I will delete this post if think this is not programing related. </p>\n\n<p>(I am also open to PaaS, IaaS like AWS, googlecloud if they actually have a decent package already.)</p>\n"}, {"tags": ["python", "recursion", "dry"], "comments": [{"owner": {"reputation": 6620, "user_id": 377366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9beb46f6e4b1ef49785aed8139d9ef05?s=128&d=identicon&r=PG", "display_name": "KobeJohn", "link": "https://stackoverflow.com/users/377366/kobejohn"}, "edited": false, "score": 1, "creation_date": 1427328311, "post_id": 29268728, "comment_id": 46738957, "body": "Could you cut that down to a minimal example? It will be easier to answer and more useful for future users I think."}, {"owner": {"reputation": 6620, "user_id": 377366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9beb46f6e4b1ef49785aed8139d9ef05?s=128&d=identicon&r=PG", "display_name": "KobeJohn", "link": "https://stackoverflow.com/users/377366/kobejohn"}, "edited": false, "score": 0, "creation_date": 1427330610, "post_id": 29268728, "comment_id": 46739608, "body": "I won&#39;t have time to write up an answer, but ActiveState <a href=\"http://code.activestate.com/recipes/491265-automatic-recursion/\" rel=\"nofollow noreferrer\">has a recipe for it</a>. I think they key is that you will need to make copies of your args/kwargs in each recursive call or else you will be modifying args/kwargs for all calls every time you modify them."}], "answers": [{"tags": [], "owner": {"reputation": 6620, "user_id": 377366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9beb46f6e4b1ef49785aed8139d9ef05?s=128&d=identicon&r=PG", "display_name": "KobeJohn", "link": "https://stackoverflow.com/users/377366/kobejohn"}, "is_accepted": false, "score": 0, "last_activity_date": 1427333523, "creation_date": 1427333523, "answer_id": 29269594, "question_id": 29268728, "link": "https://stackoverflow.com/questions/29268728/dryly-and-consisely-write-a-recursive-function/29269594#29269594", "title": "DRYly and consisely write a recursive function", "body": "<p>Here is a minimal example of what I think you want to accomplish with recursion - generally use the same values every time but have the flexibility to change a few of them. Does this do what you want?</p>\n\n<p>The key point is to get copies of your args/kwargs or else you will be modifying the args/kwargs for every incomplete call any time you change something.</p>\n\n<p>You could dress it up more with a decorator that automatically provides both the originals and the copies, perhaps even without having to break out the current names.</p>\n\n<pre><code>def factorial(*args_this_call, **kwargs_this_call):\n    print('-----------------------------'\n          '\\nargs: {}'\n          '\\nkwargs: {}'.format(args_this_call, kwargs_this_call))\n    # get copies so you don't modify the values of other calls that are waiting to complete\n    args_next_call = list(args_this_call)\n    kwargs_next_call = kwargs_this_call.copy()\n\n    # you can break out the content of args / kwargs for clarity if you are going to use them a lot\n    arg1, arg2 = args_this_call  # not used - just for example\n    n = kwargs_this_call['n']\n\n    # do your work\n    if n == 1:\n        return 1\n    else:\n        # modify whichever args/kwargs you want, leave the ones you don't want to change\n        args_next_call[1] += 1  # some random modification\n        kwargs_next_call['call_id'] += 1\n        kwargs_next_call['n'] -= 1  # n-1 for factorial in this case\n\n        # make the call\n        result = n * factorial(*args_next_call, **kwargs_next_call)\n        return result\n\n# test the factorial with args/kwargs\nargs = (1, 1)  # just some values\nkwargs = {'call_id': 1,\n          'n': 4}\nprint(factorial(*args, **kwargs))\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>-----------------------------\nargs: (1, 1)\nkwargs: {'call_id': 1, 'n': 4}\n-----------------------------\nargs: (1, 2)\nkwargs: {'call_id': 2, 'n': 3}\n-----------------------------\nargs: (1, 3)\nkwargs: {'call_id': 3, 'n': 2}\n-----------------------------\nargs: (1, 4)\nkwargs: {'call_id': 4, 'n': 1}\n24\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "is_accepted": true, "score": 2, "last_activity_date": 1428092245, "creation_date": 1428092245, "answer_id": 29439088, "question_id": 29268728, "link": "https://stackoverflow.com/questions/29268728/dryly-and-consisely-write-a-recursive-function/29439088#29439088", "title": "DRYly and consisely write a recursive function", "body": "<p>Consider using a wrapper function to avoid repetition:</p>\n\n<pre><code>def recursive_func_wrapper(arg, option=True):\n    def recursive_func(arg):\n        if option: recursive_func(new_arg)\n        else: recursive_func(new_arg2)\n    return recursive_func(arg)\n</code></pre>\n\n<p>Your option is automatically propagated (as a local variable) to the inner function, which can recurse as usual without any repetition of the <code>option=</code> argument.</p>\n"}], "owner": {"reputation": 1322, "user_id": 1335431, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6b54ed191a9f096a2a51b7124951831c?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1335431/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 29439088, "answer_count": 2, "score": 0, "last_activity_date": 1428092245, "creation_date": 1427327608, "last_edit_date": 1427383997, "question_id": 29268728, "link": "https://stackoverflow.com/questions/29268728/dryly-and-consisely-write-a-recursive-function", "title": "DRYly and consisely write a recursive function", "body": "<p>I'm writing a recursive function that looks something like this:</p>\n\n<pre><code>def mah_recursive_function(some_arg, some_option=True):\n    if some_thing:\n        some_arg.doFancyStuff();\n        mah_recursive_function(some_arg,\n                               some_option=some_option\n        )\n    elif some_thing:\n        some_arg.doOtherFancyStuff();\n        mah_recursive_function(some_arg,\n                               some_option=some_option\n        )\n</code></pre>\n\n<p>Obviously, those <code>some_option=some_option</code> assignments are really redundant, and, since I have more than one permanent kwarg option, the redundant assignments are getting really annoying.</p>\n\n<pre><code>from functools.magical_stuff import get_current_kwargs\nmah_recursive_function(\n    some_arg, **get_current_kwargs()\n)\n</code></pre>\n\n<p>I would rather not bloat my recursive calls with redundant lines.  What is the best way to go about this?</p>\n"}, {"tags": ["python", "ajax", "django", "http"], "comments": [{"owner": {"reputation": 1359, "user_id": 3169644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3505eca909e1daed459382d67bba95d1?s=128&d=identicon&r=PG&f=1", "display_name": "Rapha&#235;l Braud", "link": "https://stackoverflow.com/users/3169644/rapha%c3%abl-braud"}, "edited": false, "score": 0, "creation_date": 1427357754, "post_id": 29268727, "comment_id": 46746806, "body": "Use your <b>browser</b> console (and especially the network pane, click on the request which returns a 500) to see what is the result. If debug is True, then you shoud have a Django exception traceback which will help debugging the problem"}, {"owner": {"reputation": 2844, "user_id": 1293193, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/676c61ba1a41fd38cab9ffba556eb5e0?s=128&d=identicon&r=PG", "display_name": "Larry Martell", "link": "https://stackoverflow.com/users/1293193/larry-martell"}, "reply_to_user": {"reputation": 1359, "user_id": 3169644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3505eca909e1daed459382d67bba95d1?s=128&d=identicon&r=PG&f=1", "display_name": "Rapha&#235;l Braud", "link": "https://stackoverflow.com/users/3169644/rapha%c3%abl-braud"}, "edited": false, "score": 0, "creation_date": 1427368789, "post_id": 29268727, "comment_id": 46752460, "body": "I had already done that and there was no traceback. But I found the cause of this issue - I did not have a slash on the end of the URL. I added that, then instead of a 500 I get a 403 Forbidden, which is usually because of no CSRF token, but I am sending that. So I disabled CSRF and then I get a 400 bad request."}, {"owner": {"reputation": 663, "user_id": 4623372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJKYE.png?s=128&g=1", "display_name": "Keivan", "link": "https://stackoverflow.com/users/4623372/keivan"}, "edited": false, "score": 0, "creation_date": 1557391213, "post_id": 29268727, "comment_id": 98751569, "body": "I had same problem and could solve it by correcting the URL and adding CSRF token in urls.py of corresponding app. Whenever you want to send request from one app to another one, you can send it by &#39;../[YOUR APP/Name of Function]&#39;."}], "owner": {"reputation": 2844, "user_id": 1293193, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/676c61ba1a41fd38cab9ffba556eb5e0?s=128&d=identicon&r=PG", "display_name": "Larry Martell", "link": "https://stackoverflow.com/users/1293193/larry-martell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1427336459, "creation_date": 1427327608, "last_edit_date": 1427336459, "question_id": 29268727, "link": "https://stackoverflow.com/questions/29268727/accessing-django-app-from-another-app-with-ajax", "title": "Accessing django app from another app with ajax", "body": "<p>I have a webservice written in django and I want to call it from a non django app with ajax. Both apps run on the same host. When I call the webservice with curl it works fine, but when I call it with ajax from the other app I get a 500 internal server error. There are no errors in the web server log. DEBUG is True, and ALLOWED_HOSTS = ['*']. When I run the dev server and connect to that I get no errors, just the 500 error. I tried setting a breakpoint in the view, but it never makes it there. </p>\n\n<p>I have another django app that I also call and that one works. Both the working and non-working one return JSON data. The working one returns this:</p>\n\n<pre><code>render_to_response('hc-config.json', content_type='application/json')\n</code></pre>\n\n<p>And the one that returns the 500 returns this:</p>\n\n<pre><code>    response = HttpResponse(jsonOut)\n    return response\n</code></pre>\n\n<p>Anyone have any ideas as to why this is happening or how I could debug it further? </p>\n"}, {"tags": ["python", "formatting", "xlsxwriter"], "comments": [{"owner": {"reputation": 51083, "user_id": 1467082, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZPeMR.jpg?s=128&g=1", "display_name": "David Zemens", "link": "https://stackoverflow.com/users/1467082/david-zemens"}, "edited": false, "score": 0, "creation_date": 1427328065, "post_id": 29268704, "comment_id": 46738887, "body": "If the value is <code>94.03</code> then simply <i>formatting</i> it as a percent will (correctly) yield <code>9403.00%</code>.  This is because <code>1 == 100%</code>."}, {"owner": {"reputation": 51083, "user_id": 1467082, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZPeMR.jpg?s=128&g=1", "display_name": "David Zemens", "link": "https://stackoverflow.com/users/1467082/david-zemens"}, "reply_to_user": {"reputation": 54586, "user_id": 1505120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49dbeced705687b92e851736d48f208?s=128&d=identicon&r=PG", "display_name": "pnuts", "link": "https://stackoverflow.com/users/1505120/pnuts"}, "edited": false, "score": 0, "creation_date": 1427328124, "post_id": 29268704, "comment_id": 46738908, "body": "@pnuts   has it, you need a custom string format, not a number format, to simply <i>append</i> the <code>%</code> to the way the value <i>appears</i>.  This will not in any way alter the underlying datta, it&#39;s just a mask that changes the way the cell <i>looks</i>, visually."}, {"owner": {"reputation": 91, "user_id": 4669305, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153192720454439/picture?type=large", "display_name": "Kaiyu Li", "link": "https://stackoverflow.com/users/4669305/kaiyu-li"}, "edited": false, "score": 1, "creation_date": 1427328388, "post_id": 29268704, "comment_id": 46738980, "body": "Thank you!! pnuts, 0.00&quot;%&quot;&#39; works, you saved my day!"}, {"owner": {"reputation": 91, "user_id": 4669305, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153192720454439/picture?type=large", "display_name": "Kaiyu Li", "link": "https://stackoverflow.com/users/4669305/kaiyu-li"}, "edited": false, "score": 1, "creation_date": 1427328609, "post_id": 29268704, "comment_id": 46739047, "body": "haha, I was asked to put a tag, I guess I clicked the wrong one. sorry. let me see if I can change it."}], "answers": [{"tags": [], "owner": {"reputation": 54586, "user_id": 1505120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49dbeced705687b92e851736d48f208?s=128&d=identicon&r=PG", "display_name": "pnuts", "link": "https://stackoverflow.com/users/1505120/pnuts"}, "is_accepted": false, "score": 8, "last_activity_date": 1427341421, "creation_date": 1427341421, "answer_id": 29270738, "question_id": 29268704, "link": "https://stackoverflow.com/questions/29268704/print-numbers-with-a-percentage-sign/29270738#29270738", "title": "Print numbers with a percentage sign", "body": "<p><a href=\"http://xlsxwriter.readthedocs.org/en/latest/format.html#format\" rel=\"noreferrer\">The Format Class</a> has a lot of detail about formatting with <strong>XlsxWriter</strong>. Around halfway there is a section on <em>format.set_num_format()</em> though this does not specifically mention formatting for percentage sign. It can be achieved so:  </p>\n\n<pre><code>percent_format = workbook.add_format({'num_format': '0.00\"%\"'})  \n</code></pre>\n\n<p>This merely appends <code>%</code> (say <code>9</code> to <code>9%</code>) without any conversion from say <code>9</code> to <code>900%</code>.</p>\n"}], "owner": {"reputation": 91, "user_id": 4669305, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153192720454439/picture?type=large", "display_name": "Kaiyu Li", "link": "https://stackoverflow.com/users/4669305/kaiyu-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4099, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1427341995, "creation_date": 1427327479, "last_edit_date": 1427341995, "question_id": 29268704, "link": "https://stackoverflow.com/questions/29268704/print-numbers-with-a-percentage-sign", "title": "Print numbers with a percentage sign", "body": "<p>I tried to use one <code>%</code>, and double <code>%%</code>, both seem to multiply my number to 100 times bigger.  </p>\n\n<p>This is what it looks like:  </p>\n\n<blockquote>\n  <p>percent_format = workbook.add_format({'num_format': '0.00%'})  </p>\n</blockquote>\n\n<p>result: <code>9403.00%</code>  </p>\n\n<blockquote>\n  <p>percent_format = workbook.add_format({'num_format': '0.00%%'})  </p>\n</blockquote>\n\n<p>result: <code>9403.00%%</code>  </p>\n\n<blockquote>\n  <p>percent_format = workbook.add_format({'num_format': '0.00'}) </p>\n</blockquote>\n\n<p>result: <code>94.03</code>, which is what I want, I just need to append a <code>%</code> on the end. </p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 1, "creation_date": 1427327299, "post_id": 29268662, "comment_id": 46738658, "body": "this has nothing to do with python ... it&#39;s just math"}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 1, "creation_date": 1427327351, "post_id": 29268662, "comment_id": 46738674, "body": "I fear for you if you cant solve grade 4 math"}, {"owner": {"reputation": 18953, "user_id": 4640209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86bc12112054e578fc0bcd333cbb2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4640209/alex"}, "edited": false, "score": 1, "creation_date": 1427327797, "post_id": 29268662, "comment_id": 46738797, "body": "Let the ages of father and son 10 years ago be 3x and x years respectively.  Then, (3x + 10) + 10 = 2[(x + 10) + 10]   3x + 20 = 2x + 40   x = 20. Where is the Python in this though ?"}, {"owner": {"reputation": 1025, "user_id": 3161440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90ea8a422e36143283d2d6aa7a62b776?s=128&d=identicon&r=PG&f=1", "display_name": "jkd", "link": "https://stackoverflow.com/users/3161440/jkd"}, "edited": false, "score": 0, "creation_date": 1427327845, "post_id": 29268662, "comment_id": 46738812, "body": "Convert it using Python?"}, {"owner": {"reputation": 2704, "user_id": 2968380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/T0wqo.png?s=128&g=1", "display_name": "chouaib", "link": "https://stackoverflow.com/users/2968380/chouaib"}, "edited": false, "score": 0, "creation_date": 1427328687, "post_id": 29268662, "comment_id": 46739075, "body": "(x-10)=3y and am voting to close this"}], "answers": [{"tags": [], "owner": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "is_accepted": true, "score": 4, "last_activity_date": 1427331309, "last_edit_date": 1427331309, "creation_date": 1427330269, "answer_id": 29269138, "question_id": 29268662, "link": "https://stackoverflow.com/questions/29268662/python-parse-text-to-algebric-equation/29269138#29269138", "title": "python - parse text to algebric equation", "body": "<p>Let the name of the dad be Bob and the son be Christopher. I think that the perfect solution for you would be Wolfram|Alpha alonside with its very simple Python API:</p>\n\n<p>This requires of course <a href=\"https://pypi.python.org/pypi/wolframalpha\" rel=\"nofollow\">wolframalpha package installed</a>.</p>\n\n<pre><code>&gt;&gt;&gt; import wolframalpha\n</code></pre>\n\n<p>Following line assumes you are having your own <a href=\"https://developer.wolframalpha.com/portal/apisignup.html\" rel=\"nofollow\">Wolfram|Alpha API AppID</a>. <a href=\"http://products.wolframalpha.com/api/termsofuse.html\" rel=\"nofollow\">Read more about terms of use in your applications</a>.</p>\n\n<pre><code>&gt;&gt;&gt; client = wolframalpha.Client(app_id)\n</code></pre>\n\n<p>Now we can define our problem in a language of apples. We assume that Bobby is 10 years younger than Bob, same for Chris and Christopher.</p>\n\n<pre><code>&gt;&gt;&gt; problem = '''Bobby has 3 times the number of apples as Chris has.\nBob has 10 more apples than Bobby has.\nChristopher has 10 more apples than Chris has.\nBob has 2 times the number of apples as Christopher has.'''\n</code></pre>\n\n<p>The results are available in seconds:</p>\n\n<pre><code>&gt;&gt;&gt; res = client.query(problem)\n&gt;&gt;&gt; for pod in res.pods:\n...     if pod.title == 'Results':\n...             print pod.text\n... \nBob has 40 apples.\n</code></pre>\n\n<p>And here are equations too:</p>\n\n<pre><code>&gt;&gt;&gt; for pod in res.pods:\n...     if pod.title == 'Equations with variables':\n...         for i in pod:\n...             print i.text\n... \nbobb = 3 \u00d7 chris\nbob = bobb+10\nchrist = chris+10\nbob = 2 \u00d7 christ\n</code></pre>\n\n<p>Where <code>bobb</code> means Bob age 10 years ago (Bobby), <code>chris</code> means Christopher 10 years ago (Chris), <code>bob</code> means Bob and <code>christ</code> means Christopher (after 10 years).</p>\n\n<p>Good luck and have fun!</p>\n"}], "owner": {"reputation": 41, "user_id": 4714480, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-lM-zAioyETI/AAAAAAAAAAI/AAAAAAAAAIs/6y4IADn8Qr0/photo.jpg?sz=128", "display_name": "Karthik Ramiah", "link": "https://stackoverflow.com/users/4714480/karthik-ramiah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 1, "closed_date": 1427336317, "accepted_answer_id": 29269138, "answer_count": 1, "score": -6, "last_activity_date": 1427331309, "creation_date": 1427327239, "question_id": 29268662, "link": "https://stackoverflow.com/questions/29268662/python-parse-text-to-algebric-equation", "closed_reason": "Needs more focus", "title": "python - parse text to algebric equation", "body": "<p>I have to convert the below problem statement into algebraic equation:</p>\n\n<p>The age of father 10 years ago was thrice the age of his son. Ten years hence, father's age will be twice that of his son.</p>\n\n<p>Any suggestions</p>\n"}, {"tags": ["python", "c++", "arrays", "numpy", "swig"], "comments": [{"owner": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "edited": false, "score": 0, "creation_date": 1428065906, "post_id": 29268630, "comment_id": 47034730, "body": "Does <code>b.fun(array([1.,2.])</code> work?"}, {"owner": {"reputation": 903, "user_id": 1589038, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/8bf61dc0ede44f6244b053b251eb8725?s=128&d=identicon&r=PG", "display_name": "Bluegreen17", "link": "https://stackoverflow.com/users/1589038/bluegreen17"}, "reply_to_user": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "edited": false, "score": 0, "creation_date": 1428363452, "post_id": 29268630, "comment_id": 47123340, "body": "Yes it does. But when I pass <code>b</code> into <code>m</code> it doesn&#39;t."}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "edited": false, "score": 1, "creation_date": 1428446641, "post_id": 29268630, "comment_id": 47163327, "body": "@kchow462 If you want any working solution not using swig, I have done things like that using boost.python from C++ to python and again to C++ and even fork and now again to python. It&#39;s very tedious to find documentation, but the results and productivity makes my choice of that way. In my recent work django launches zerorpc interfaces from C++ and works fine."}, {"owner": {"reputation": 903, "user_id": 1589038, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/8bf61dc0ede44f6244b053b251eb8725?s=128&d=identicon&r=PG", "display_name": "Bluegreen17", "link": "https://stackoverflow.com/users/1589038/bluegreen17"}, "edited": false, "score": 0, "creation_date": 1428545390, "post_id": 29268630, "comment_id": 47211153, "body": "Thanks Mel. I might have to do this since there doesn&#39;t seem to a way of doing this with SWIG, or at least, I don&#39;t know of a way."}], "answers": [{"comments": [{"owner": {"reputation": 903, "user_id": 1589038, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/8bf61dc0ede44f6244b053b251eb8725?s=128&d=identicon&r=PG", "display_name": "Bluegreen17", "link": "https://stackoverflow.com/users/1589038/bluegreen17"}, "edited": false, "score": 0, "creation_date": 1428544950, "post_id": 29526489, "comment_id": 47211054, "body": "I tried this but it doesn&#39;t seem to work. I added the <code>%new...</code> statement to my SWIG interface file, but it still gives me the same error. Also, it cannot resolve the fact that the C++ function takes in 2 arguments and the python one takes in 1."}], "tags": [], "owner": {"reputation": 1936, "user_id": 2557056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6yzZ.jpg?s=128&g=1", "display_name": "cseder", "link": "https://stackoverflow.com/users/2557056/cseder"}, "is_accepted": false, "score": 0, "last_activity_date": 1428532301, "creation_date": 1428532301, "answer_id": 29526489, "question_id": 29268630, "link": "https://stackoverflow.com/questions/29268630/passing-a-numpy-function-in-python-to-c-using-swig-directors/29526489#29526489", "title": "Passing a numpy function in python to C++ using SWIG directors", "body": "<p>It looks like an ownership issue from Python.</p>\n\n<p>Provide a hint to SWIG:</p>\n\n<pre><code>%new double *fun(double* IN_ARRAY1, int DIM1) {(double* x, int n)};\n</code></pre>\n\n<p>Notice the pointer to the function itself as well.\nThe Python module will assign proper ownership of the object(s) when %new is used. That's why you can use values but not variables in the call.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8247202, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JFnim_dNQFY/AAAAAAAAAAI/AAAAAAAAHvY/CvGTIe4HZtY/photo.jpg?sz=128", "display_name": "Carlos Mastalli", "link": "https://stackoverflow.com/users/8247202/carlos-mastalli"}, "is_accepted": false, "score": 0, "last_activity_date": 1509540650, "creation_date": 1509540650, "answer_id": 47055301, "question_id": 29268630, "link": "https://stackoverflow.com/questions/29268630/passing-a-numpy-function-in-python-to-c-using-swig-directors/47055301#47055301", "title": "Passing a numpy function in python to C++ using SWIG directors", "body": "<p>It seems that director isn't recognizing your Python implementation of <code>fun(double* x, int n)</code>; it's not doing the overloading of that function.</p>\n\n<p>I suspect that the reason is due to of the fact that your Python implementation uses numpy as argument. Please note that the director will call either the abstract function or the implemented one.</p>\n\n<p>On the other hand, <code>%apply (double* IN_ARRAY1, int DIM1) {(double* x, int n)}</code> only declares the typemap logic for wrapping the function in Python, not to the director. Note that this is the reason why <code>b.fun(array([1.,2.])</code> works! Said that, you should declare the typemap logic to the director.</p>\n\n<p>Here you can find how to do it:</p>\n\n<pre><code>%typemap(directorin,numinputs=1) (double *x, int n)\n{\n    npy_intp dim = $2;\n    $input = PyArray_SimpleNewFromData(1, &amp;dim, NPY_DOUBLE, (void *)$1);\n}\n</code></pre>\n\n<p>Hope that this solves your problem and other futures ones :). I got a similar issue and spent few days trying to figure out.</p>\n"}], "owner": {"reputation": 903, "user_id": 1589038, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/8bf61dc0ede44f6244b053b251eb8725?s=128&d=identicon&r=PG", "display_name": "Bluegreen17", "link": "https://stackoverflow.com/users/1589038/bluegreen17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 582, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1509540650, "creation_date": 1427327072, "question_id": 29268630, "link": "https://stackoverflow.com/questions/29268630/passing-a-numpy-function-in-python-to-c-using-swig-directors", "title": "Passing a numpy function in python to C++ using SWIG directors", "body": "<p>My code is mainly in C++, but I want to use the SWIG director option to redefine a C++ virtual function in python, and then pass that function back to C++. The following is a simplified example. </p>\n\n<p>Here is my base class in C++ with a virtual function <code>fun</code>. <code>fun</code> takes in <code>(double* x, int n)</code> which allows me to pass a numpy array into it. </p>\n\n<pre><code>class base{\npublic:\n    virtual double fun(double* x, int n){return 0.0;}\n};\n</code></pre>\n\n<p>I have another class which takes in this base class:</p>\n\n<pre><code>class main{\npublic:\n    base* b_;\n\n    main(base&amp; b){\n        b_ = &amp;b; \n    }\n};\n</code></pre>\n\n<p>This class has a constructor which takes in a base class and stores a pointer to it (<code>b_</code>). </p>\n\n<p>I can successfully compile the swig interface into a module named <code>mymodule</code> making sure to enable directors (see SWIG interface file below), and, as per the SWIG director documentation, I inherit the base class and redefine the virtual function <code>fun</code> as follows:</p>\n\n<pre><code>import mymodule\nclass base(mymodule.base):\n    def __init__(self):\n        super(base,self).__init__()\n    def fun(self,x):\n        return x[0]\n</code></pre>\n\n<p>Then I pass it into the <code>main</code> class: </p>\n\n<pre><code>b = base()\nm = mymodule.main(b)\n</code></pre>\n\n<p>However, when I try <code>m.b_.fun(array([1.,2.]))</code> I get a <code>TypeError</code>:</p>\n\n<pre><code>TypeError: 'SwigPyObject' object has no attribute '__getitem__'\n</code></pre>\n\n<p>Any ideas on how to get this to work? I think when I pass <code>b</code> into mymodule.main, C++ is seeing <code>x</code> as a double * pointer and doesn't know what to do with it. </p>\n\n<p>By the way, here is my swig interface file:</p>\n\n<pre><code>%module(directors=\"1\") mymodule\n\n%{\n#define SWIG_FILE_WITH_INIT\n/* Includes the header in the wrapper code */\n#include \"myclasses.h\"\n%}\n\n%feature(\"director\") base;\n\n%init %{\nimport_array();\n%}\n\n%apply (double* IN_ARRAY1, int DIM1) {(double* x, int n)};\n\n/* Parse the header file to generate wrappers */\n%include \"myclasses.h\"\n</code></pre>\n"}, {"tags": ["python", "class", "python-2.7", "inheritance", "function"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1427326558, "post_id": 29268530, "comment_id": 46738443, "body": "This is sort of possible through extremely kludgy methods, but I wouldn&#39;t recommend it. Can&#39;t you stick the <code>A</code> object in some sort of wrapper instead of trying to change its class?"}, {"owner": {"reputation": 60745, "user_id": 314020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae1f35a67165c8303b3b5f55c27071f?s=128&d=identicon&r=PG", "display_name": "kohske", "link": "https://stackoverflow.com/users/314020/kohske"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1427327017, "post_id": 29268530, "comment_id": 46738576, "body": "Thanks, actually I need pass the object to both library-side functions and my functions, so the object should be instance of A in some sense. But now I understand the difficulty (surprising for me!), I&#39;ll take another approach. Perhaps define class B that has a class A instance as its member. And when I need to pass it to library-side function, call, say, <code>a = genA(); B b; b.a_instance =a; lib_fun(b.a_instance)</code>. Do you think it makes sense?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1427327327, "post_id": 29268530, "comment_id": 46738667, "body": "I&#39;m not sure how well it&#39;ll work, but it seems feasible."}], "answers": [{"comments": [{"owner": {"reputation": 60745, "user_id": 314020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae1f35a67165c8303b3b5f55c27071f?s=128&d=identicon&r=PG", "display_name": "kohske", "link": "https://stackoverflow.com/users/314020/kohske"}, "edited": false, "score": 0, "creation_date": 1427328654, "post_id": 29268664, "comment_id": 46739061, "body": "Thanks, if class A has a lot of members, do I need write <code>self.a = a.a</code> for all members?"}, {"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "reply_to_user": {"reputation": 60745, "user_id": 314020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae1f35a67165c8303b3b5f55c27071f?s=128&d=identicon&r=PG", "display_name": "kohske", "link": "https://stackoverflow.com/users/314020/kohske"}, "edited": false, "score": 0, "creation_date": 1427329085, "post_id": 29268664, "comment_id": 46739177, "body": "Short answer yes. Long answer, you could <a href=\"http://stackoverflow.com/questions/11637293/iterate-over-object-attributes-in-python\">iterate through the variables in a loop</a>. But I think this is out of the scope of this question."}, {"owner": {"reputation": 60745, "user_id": 314020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae1f35a67165c8303b3b5f55c27071f?s=128&d=identicon&r=PG", "display_name": "kohske", "link": "https://stackoverflow.com/users/314020/kohske"}, "edited": false, "score": 0, "creation_date": 1427329341, "post_id": 29268664, "comment_id": 46739247, "body": "Really thanks. It&#39;s easy to use iteration, but I just wanted to know if there is an easy and standard way. So thanks a lot."}], "tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": false, "score": 2, "last_activity_date": 1427327247, "creation_date": 1427327247, "answer_id": 29268664, "question_id": 29268530, "link": "https://stackoverflow.com/questions/29268530/convert-superclass-instance-to-subclass-instance/29268664#29268664", "title": "Convert superclass instance to subclass instance", "body": "<p>I dont understand your code. IMO its incorrect. First, there is no self in <code>__init__</code> in both A and B. Second, in your B class you are not calling A's constructor. Third, genA does not return any objects, just reference to A class. Please check changed code:</p>\n\n<pre><code>def genA():\n    a = A() #&lt;-- need ()\n    return(a)\n\nclass A:\n    def __init__(self):  # &lt;-- self missing\n        self.a = 1\n\n# ---\n\n# code in my side\n\nclass B(A):\n    def __init__(self, a=None):\n        super().__init__()  #&lt;-- initialize base class\n\n        if isinstance(a, A): #&lt;-- if a is instance of base class, do copying\n            self.a = a.a\n\n        self.b = 2\n\n\na = genA()\na.a = 5\nb = B(a)\n\n# this works\nprint(b.a) # =&gt; 5\nprint(b.b) # =&gt; 2   \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 60745, "user_id": 314020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae1f35a67165c8303b3b5f55c27071f?s=128&d=identicon&r=PG", "display_name": "kohske", "link": "https://stackoverflow.com/users/314020/kohske"}, "edited": false, "score": 1, "creation_date": 1427328606, "post_id": 29268670, "comment_id": 46739046, "body": "Thanks, if class A has a lot of members, do I need write a setter/getter for all members...?"}, {"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "reply_to_user": {"reputation": 60745, "user_id": 314020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae1f35a67165c8303b3b5f55c27071f?s=128&d=identicon&r=PG", "display_name": "kohske", "link": "https://stackoverflow.com/users/314020/kohske"}, "edited": false, "score": 1, "creation_date": 1427355831, "post_id": 29268670, "comment_id": 46746058, "body": "@kohske, no, you don&#39;t. Each time you try to get <code>b.a</code>, Python can&#39;t find <code>a</code> attribute, so it ask your <code>__getattr__</code> to help, and passes <code>&quot;a&quot;</code> as <code>attr</code> argument, so <code>__getattr__</code> handles all attributes of <code>A</code> class."}, {"owner": {"reputation": 60745, "user_id": 314020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae1f35a67165c8303b3b5f55c27071f?s=128&d=identicon&r=PG", "display_name": "kohske", "link": "https://stackoverflow.com/users/314020/kohske"}, "edited": false, "score": 1, "creation_date": 1427362330, "post_id": 29268670, "comment_id": 46748999, "body": "Thanks, it&#39;s useful. May I ask why I shouldn&#39;t do with <b>new</b>?"}, {"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "reply_to_user": {"reputation": 60745, "user_id": 314020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae1f35a67165c8303b3b5f55c27071f?s=128&d=identicon&r=PG", "display_name": "kohske", "link": "https://stackoverflow.com/users/314020/kohske"}, "edited": false, "score": 1, "creation_date": 1427363753, "post_id": 29268670, "comment_id": 46749797, "body": "@kohske: redefining <code>__class__</code> is working but very unusual technique. It will confuse other developers, and may lead to unforeseen consequences (i.e. in multiple-inheritance, you may also need to override MRO). Also, it doesn&#39;t match any design pattern I know."}, {"owner": {"reputation": 598, "user_id": 5156887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1b2739a76f36e3f9fe140fde484330?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Crews", "link": "https://stackoverflow.com/users/5156887/nick-crews"}, "edited": false, "score": 0, "creation_date": 1488332980, "post_id": 29268670, "comment_id": 72180426, "body": "@myaut, shouldn&#39;t it be      <code>def __setattr__(self, attr, val):         if attr == &#39;_B__a&#39;:             object.__setattr__(self, attr, val);         else:             return setattr(self.__a, attr, val)</code>; Otherwise won&#39;t Python look for a variable called <code>_B__a</code> inside of self.__a?"}], "tags": [], "owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "is_accepted": false, "score": 11, "last_activity_date": 1427327631, "last_edit_date": 1427327631, "creation_date": 1427327264, "answer_id": 29268670, "question_id": 29268530, "link": "https://stackoverflow.com/questions/29268530/convert-superclass-instance-to-subclass-instance/29268670#29268670", "title": "Convert superclass instance to subclass instance", "body": "<p>You <strong>shouldn't</strong> do it with <code>__new__</code>, but it works only with new-style classes:</p>\n\n<pre><code>class A(object):\n    def __init__(self):\n        self.a = 10\n\nclass B(A):\n    def __new__(cls, a):\n        a.__class__ = cls\n        return a\n\n    def __init__(self, a):\n        self.b = 20\n\na = A()\nb = B(a)\n\nprint type(b), b.a, b.b   # &lt;class '__main__.B'&gt; 10 20\n</code></pre>\n\n<p>But as I said, don't do that, you should probably use <em>aggregation</em>, not a subclassing in such cases. If you wish to make <code>B</code> so it will have same interface as <code>A</code>, you may write transparent proxy with <code>__getattr__</code>:</p>\n\n<pre><code>class B(object):\n    def __init__(self, a):\n        self.__a = a\n        self.b = 20\n\n    def __getattr__(self, attr):\n        return getattr(self.__a, attr)\n\n    def __setattr__(self, attr, val):\n        if attr == '_B__a':\n            object.__setattr__(self, attr, val)\n\n        return setattr(self.__a, attr, val)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2594, "user_id": 3918774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f9dFE.jpg?s=128&g=1", "display_name": "LostMyGlasses", "link": "https://stackoverflow.com/users/3918774/lostmyglasses"}, "is_accepted": false, "score": 0, "last_activity_date": 1489656939, "last_edit_date": 1489656939, "creation_date": 1489598172, "answer_id": 42816511, "question_id": 29268530, "link": "https://stackoverflow.com/questions/29268530/convert-superclass-instance-to-subclass-instance/42816511#42816511", "title": "Convert superclass instance to subclass instance", "body": "<p>There doesn't seem to be a standard way of doing it, but there are several approaches. If you didn't want to take care of each individual attribute, I'd suggest the following one:</p>\n\n<pre><code>class A(object):\n    # Whatever\n\nclass B(A):\n    def __init__(self, a):\n        super(B, self).__init__()\n        for attr in dir(a):\n            setattr(self, attr, getattr(a, attr))\n        # Any other specific attributes of class B can be set here\n\n# Now, B can be instantiated this way:\na = A()\nb = B(a)\n</code></pre>\n\n<p>In case you didn't want to access the parent's \"private\" attributes, you could add</p>\n\n<pre><code>if not attr.startswith('__'):\n</code></pre>\n\n<p>at the <code>for</code> loop.</p>\n"}], "owner": {"reputation": 60745, "user_id": 314020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae1f35a67165c8303b3b5f55c27071f?s=128&d=identicon&r=PG", "display_name": "kohske", "link": "https://stackoverflow.com/users/314020/kohske"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3583, "favorite_count": 1, "answer_count": 3, "score": 9, "last_activity_date": 1489656939, "creation_date": 1427326452, "last_edit_date": 1427329607, "question_id": 29268530, "link": "https://stackoverflow.com/questions/29268530/convert-superclass-instance-to-subclass-instance", "title": "Convert superclass instance to subclass instance", "body": "<ul>\n<li>I have an external library which I cannot touch. This library has a function, genA(), that returns the instance of class A.</li>\n<li>In my side I define class B as a subclass of class A.</li>\n<li>I want to use the instance of class B in my project, but the instance should be generated by genA().</li>\n</ul>\n\n<p>Is there any standard and easy way to do this?</p>\n\n<hr>\n\n<pre><code># I cannnot tweak these code\n\ndef genA():\n    a = A\n    return(a)\n\nclass A:\n    def __init__():\n        self.a = 1\n\n# ---\n\n# code in my side\n\nclass B(A):\n    def __init__():\n        self.b = 2\n\n\na = genA()\n# like a copy-constructor, doesn't work\n# b = B(a)\n\n# I want to get this\nb.a # =&gt; 1\nb.b # =&gt; 2\n</code></pre>\n\n<hr>\n\n<p>Here is an equivalent c++ code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n// library side code\nclass A {\npublic:\n  int a;\n  // ... many members\n\n  A() { a = 1; }\n};\n\nvoid fa(A a) {\n  std::cout &lt;&lt; a.a &lt;&lt; std::endl;\n}\n\nA genA() { A a; return a; }\n\n// ///\n// my code\n\nclass B : public A {\npublic:\n  int b;\n  B() : A() { init(); }\n  B(A&amp; a) : A(a) { init(); }\n  void init() { b = 2; }\n};\n\nvoid fb(B b) {\n  std::cout &lt;&lt; b.b &lt;&lt; std::endl;\n}\n\n\nint main(void) {\n  A a = genA();\n  B b(a);\n\n  fa(b); // =&gt; 1\n  fb(b); // =&gt; 2\n}\n</code></pre>\n"}, {"tags": ["python", "graph-theory", "networkx", "filterfunction"], "comments": [{"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1427330904, "post_id": 29268491, "comment_id": 46739694, "body": "Do you care about whether the nodes left over after deleting might now have degree 0 or 1?"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1427340851, "post_id": 29268491, "comment_id": 46742061, "body": "Another question: are you wanting to actually delete them from the network, or just not include them in the drawing?"}], "answers": [{"comments": [{"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1427331472, "post_id": 29268605, "comment_id": 46739831, "body": "Just 2 notes: 1) after this deletion, nodes which originally had degree 2 or higher could now have degree 0 or 1.  Whether this is a problem depends on the OP&#39;s goals.   2) you could alter <code>g</code> as part of a for loop with <code>g.remove_node(node)</code>, but this could end up with more nodes deleted as some have their degrees reduced by the process.  Repeatedly going through and deleting all such nodes results in the 2-core of the graph."}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1427340391, "post_id": 29268605, "comment_id": 46741951, "body": "@Joel, wrt (1), definitely -- if the OP&#39;s looking for the 2-core, then the <code>k_core</code> method is no doubt a better approach; that&#39;s just not what I got from the Q, but it&#39;s ambiguous enough that you could well be right.  Re (2), I wasn&#39;t sure if you&#39;re allowed to alter the very graph you&#39;re looping on -- in the more general case of Python containers you aren&#39;t, but maybe you&#39;re right that <code>networkx</code> chooses to be an exception to that (I can&#39;t see it documented anywhere, though -- any URL about it?)."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1427340546, "post_id": 29268605, "comment_id": 46741987, "body": "(1) - wasn&#39;t directed necessarily at you, but rather in case the OP or some other user were looking at this.  (2) yes and no - you can loop through <code>G.nodes()</code> which is just a list of the nodes.  If you loop through <code>G.nodes_iter()</code> or <code>for n in G</code> [which I think just maps directly to <code>for n in G.nodes_iter()</code>] it will fail."}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1427340860, "post_id": 29268605, "comment_id": 46742066, "body": "@Joel oh yeah, of course if you&#39;ve got a now-standalone list of nodes, no matter how originally obtained, you can alter the graph while looping on the list -- it&#39;s just often an inferior approach due to needing to materialize that whole large list, hence I usually prefer to loop <code>for item in container:</code> and can&#39;t alter <code>container</code> within that specific loop!-)"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1427341334, "post_id": 29268605, "comment_id": 46742158, "body": "And just to be clear - my main concern when I originally raised (2) was that if someone were to try looping and deleting at the same time they almost certainly wouldn&#39;t get what they were after.  It would delete the nodes that are originally degree &lt;2 and some but not all of the nodes that later get their degree reduced below 2, and the result would depend on the arbitrary order of <code>G.nodes()</code>.  So it&#39;s not a matter of &quot;it&#39;s not possible&quot;, but rather &quot;it&#39;s a bad idea&quot;."}], "tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 3, "last_activity_date": 1427326930, "creation_date": 1427326930, "answer_id": 29268605, "question_id": 29268491, "link": "https://stackoverflow.com/questions/29268491/deleting-nodes-with-tie-1-in-a-large-networkx-graph/29268605#29268605", "title": "Deleting nodes with tie=1 in a large NetworkX graph", "body": "<p>Iterating on a <code>Graph</code> <code>g</code> yields all of <code>g</code>'s nodes, one at a time -- I believe you can't alter <code>g</code> during the iteration itself, but you can selectively make a list of nodes to be deleted, then remove them all:</p>\n\n<pre><code>to_del = [n for n in g if g.degree(n) &lt;= 1]\ng.remove_nodes_from(to_del)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "is_accepted": false, "score": 2, "last_activity_date": 1556658525, "last_edit_date": 1556658525, "creation_date": 1427330864, "answer_id": 29269217, "question_id": 29268491, "link": "https://stackoverflow.com/questions/29268491/deleting-nodes-with-tie-1-in-a-large-networkx-graph/29269217#29269217", "title": "Deleting nodes with tie=1 in a large NetworkX graph", "body": "<p>I think you're after this one-liner:</p>\n\n<pre><code>G= nx.k_core(G,k=2)\n</code></pre>\n\n<hr>\n\n<p>You should be aware that if you delete some nodes, you'll have new nodes whose degree is just 1 or 0.  If you want to repeat this process until no such nodes exist, you're generating the \"k-core\" with k=2.  That is you're generating the largest network for which all nodes have degree at least 2.  This is a built-in function:</p>\n\n<pre><code>import networkx as nx\nG = nx.fast_gnp_random_graph(10000,0.0004) #erdos renyi graph, average degree = 4\nG = nx.k_core(G,k=2)\n</code></pre>\n\n<hr>\n\n<p>Finally, you could do:</p>\n\n<pre><code>for node in G.nodes():\n    if G.degree(node)&lt;2:\n        G.remove_node(node)\n</code></pre>\n\n<p>but this would yield a different result from the 2-core I described above, and a different result from A Martelli's as well since some of the later nodes in the list may originally have degree 2 but be reduced to 1 before you reach them.  And it wouldn't be as clean because it creates the list <code>G.nodes()</code> rather than using a nicer iterator (if you're in networkx v1.x and you aren't altering a graph in the loop, it's usually better to loop through the nodes with <code>G.nodes_iter()</code> rather than <code>G.nodes()</code>)</p>\n"}], "owner": {"reputation": 11, "user_id": 4714430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c48eda17dec3bc771ebd025e6e2e072d?s=128&d=identicon&r=PG&f=1", "display_name": "dbmehri", "link": "https://stackoverflow.com/users/4714430/dbmehri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1556658525, "creation_date": 1427326258, "last_edit_date": 1427333044, "question_id": 29268491, "link": "https://stackoverflow.com/questions/29268491/deleting-nodes-with-tie-1-in-a-large-networkx-graph", "title": "Deleting nodes with tie=1 in a large NetworkX graph", "body": "<p>I have made large graph with NetworkX with about 20,000 nodes. I would like to delete nodes with only one tie (or zero ties) to try to reduce the clutter. Since it is a very large graph I do not know the nodes by name or ID that have tie=1 or 0.</p>\n\n<p>Does anyone know how to delete these nodes without specifying the node ID or name?</p>\n\n<p><img src=\"https://i.stack.imgur.com/JjVFL.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427326255, "post_id": 29268466, "comment_id": 46738341, "body": "The two elements are not the same ... Thethinker is an <code>int</code>, Guessnumber is a <code>str</code>"}], "answers": [{"tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 4, "last_activity_date": 1427326280, "creation_date": 1427326280, "answer_id": 29268497, "question_id": 29268466, "link": "https://stackoverflow.com/questions/29268466/small-equal-while-creating-simple-python-code/29268497#29268497", "title": "Small == Equal while creating simple python code", "body": "<p>Assuming Python 3, <code>input</code> returns a <strong>string</strong>.</p>\n\n<p>In Python, a string and a number can never be \"equal\"; you have to transform one or the other.  E.g, if you use</p>\n\n<pre><code>Thethinker = str(random.randint(1,10))\n</code></pre>\n\n<p><strong>then</strong> the equality-comparison with another string <strong>can</strong> succeed.</p>\n"}, {"tags": [], "owner": {"reputation": 11282, "user_id": 1620622, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/mvnmG.png?s=128&g=1", "display_name": "Downgoat", "link": "https://stackoverflow.com/users/1620622/downgoat"}, "is_accepted": true, "score": 0, "last_activity_date": 1427326399, "creation_date": 1427326399, "answer_id": 29268516, "question_id": 29268466, "link": "https://stackoverflow.com/questions/29268466/small-equal-while-creating-simple-python-code/29268516#29268516", "title": "Small == Equal while creating simple python code", "body": "<p>Your input returns a string instead of an integer. To get an integer do:</p>\n\n<pre><code>int(Guessnumber)\n</code></pre>\n\n<p>This is better than using str() because then if you ever want to change the numbers, you wouldn't be able to do that without doing the method I suggested </p>\n\n<p>As far as I know, I don't do much Python</p>\n"}], "owner": {"reputation": 9, "user_id": 4714409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/540a5715e19cc8c100c2f17d56056e88?s=128&d=identicon&r=PG&f=1", "display_name": "ABCCode", "link": "https://stackoverflow.com/users/4714409/abccode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 29268516, "answer_count": 2, "score": 0, "last_activity_date": 1427388584, "creation_date": 1427326154, "last_edit_date": 1427388584, "question_id": 29268466, "link": "https://stackoverflow.com/questions/29268466/small-equal-while-creating-simple-python-code", "title": "Small == Equal while creating simple python code", "body": "<p>I'm completely new to Python so all of this is a bit new for me.</p>\n\n<p>I'm trying to create a script in which it by itself thinks of a number and after wards wants the user to guess a number and enter it. It seemed to work but there are wo problems here. </p>\n\n<p>It understands everything however it does not understand the == part.\nBecause even though the both numbers are the same, it still goes on towards the else statement.</p>\n\n<pre><code>import random\n\nwhile True:\n\n\n    Thethinker = random.randint(1,10)\n\n    Guessnumber = (input(\"Guess a random number  \"))\n\n    if Guessnumber == Thethinker:\n        print(\"Correct\")\n        print(Thethinker)\n    else:\n        print(\"Not correct\")\n        print(Thethinker)\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["python", "django", "openshift", "django-1.7"], "answers": [{"tags": [], "owner": {"reputation": 1407, "user_id": 504773, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9704d1ac6ea8eef1af80e78ab5792e28?s=128&d=identicon&r=PG", "display_name": "renderbox", "link": "https://stackoverflow.com/users/504773/renderbox"}, "is_accepted": true, "score": 1, "last_activity_date": 1427334828, "creation_date": 1427334828, "answer_id": 29269788, "question_id": 29268389, "link": "https://stackoverflow.com/questions/29268389/django-1-7-deployment-appregistrynotready-only-on-openshift/29269788#29269788", "title": "Django 1.7 Deployment AppRegistryNotReady only on OpenShift", "body": "<p>Being still a little new to OpenShift I figured out the problem.</p>\n\n<p>In OpenShift, the standard Django wsgi.py file is not used and is replaced with the wsgi/application python script.  I had the new Django 1.7 way of launching servers working correctly in the wsgi.py file but had not updated it in the application file.  This is corrected and now the project is launching as expected.</p>\n"}], "owner": {"reputation": 1407, "user_id": 504773, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9704d1ac6ea8eef1af80e78ab5792e28?s=128&d=identicon&r=PG", "display_name": "renderbox", "link": "https://stackoverflow.com/users/504773/renderbox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 29269788, "answer_count": 1, "score": 1, "last_activity_date": 1427334828, "creation_date": 1427325807, "last_edit_date": 1495541180, "question_id": 29268389, "link": "https://stackoverflow.com/questions/29268389/django-1-7-deployment-appregistrynotready-only-on-openshift", "title": "Django 1.7 Deployment AppRegistryNotReady only on OpenShift", "body": "<p>I am running into a similar question to this (<a href=\"https://stackoverflow.com/questions/25680803/django-1-7-upgrade-error-appregistrynotready-models-arent-loaded-yet\">Django 1.7 upgrade error: AppRegistryNotReady: Models aren&#39;t loaded yet</a>) but it's only happening on my OpenShift deployment.</p>\n\n<p>I was noticing it got hung-up on the admin module so I commented it out but it just moved to something else.</p>\n\n<p>Here is the error I am getting on the OpenShift instance:</p>\n\n<pre><code>Environment:\n\nRequest Method: GET\nRequest URL: http://my-app.rhcloud.com/\n\nDjango Version: 1.7.3\nPython Version: 2.7.5\nInstalled Applications:\n('django.contrib.admin',\n 'django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'django.contrib.sites',\n 'allauth',\n 'allauth.account',\n 'rest_framework',\n 'main',\n 'debug_toolbar')\nInstalled Middleware:\n('django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware',\n 'debug_toolbar.middleware.DebugToolbarMiddleware')\n\n\nTraceback:\nFile \"/var/lib/openshift/xxxxxxxxxxxxxxxx/python/virtenv/lib/python2.7/site-packages/django/core/handlers/base.py\" in get_response\n  98.                 resolver_match = resolver.resolve(request.path_info)\nFile \"/var/lib/openshift/xxxxxxxxxxxxxxxx/python/virtenv/lib/python2.7/site-packages/django/core/urlresolvers.py\" in resolve\n  343.             for pattern in self.url_patterns:\nFile \"/var/lib/openshift/xxxxxxxxxxxxxxxx/python/virtenv/lib/python2.7/site-packages/django/core/urlresolvers.py\" in url_patterns\n  372.         patterns = getattr(self.urlconf_module, \"urlpatterns\", self.urlconf_module)\nFile \"/var/lib/openshift/xxxxxxxxxxxxxxxx/python/virtenv/lib/python2.7/site-packages/django/core/urlresolvers.py\" in urlconf_module\n  366.             self._urlconf_module = import_module(self.urlconf_name)\nFile \"/opt/rh/python27/root/usr/lib64/python2.7/importlib/__init__.py\" in import_module\n  37.     __import__(name)\nFile \"/var/lib/openshift/xxxxxxxxxxxxxxxx/app-root/runtime/repo/wsgi/myapp/myapp/urls.py\" in &lt;module&gt;\n  9.     url(r'^admin/', include(admin.site.urls)),\nFile \"/var/lib/openshift/xxxxxxxxxxxxxxxx/python/virtenv/lib/python2.7/site-packages/django/contrib/admin/sites.py\" in urls\n  262.         return self.get_urls(), self.app_name, self.name\nFile \"/var/lib/openshift/xxxxxxxxxxxxxxxx/python/virtenv/lib/python2.7/site-packages/django/contrib/admin/sites.py\" in get_urls\n  223.             self.check_dependencies()\nFile \"/var/lib/openshift/xxxxxxxxxxxxxxxx/python/virtenv/lib/python2.7/site-packages/django/contrib/admin/sites.py\" in check_dependencies\n  161.         if not apps.is_installed('django.contrib.admin'):\nFile \"/var/lib/openshift/xxxxxxxxxxxxxxxx/python/virtenv/lib/python2.7/site-packages/django/apps/registry.py\" in is_installed\n  231.         self.check_apps_ready()\nFile \"/var/lib/openshift/xxxxxxxxxxxxxxxx/python/virtenv/lib/python2.7/site-packages/django/apps/registry.py\" in check_apps_ready\n  124.             raise AppRegistryNotReady(\"Apps aren't loaded yet.\")\n\nException Type: AppRegistryNotReady at /\nException Value: Apps aren't loaded yet.\n</code></pre>\n\n<p>Here is my wigs.py file contents:</p>\n\n<pre><code>import os\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"myapp.settings\")\n\nfrom django.core.wsgi import get_wsgi_application\napplication = get_wsgi_application()\n</code></pre>\n\n<p>To test wsgi.py I am using gunicorn locally to see if I can get the same results with no luck.  I am pretty puzzled by this as I would expect the same errors on both when using the wsgi.py launch method.  Any thoughts on how to debug this or if there are things I should look for on OpenShift that might trigger this issue?</p>\n\n<p>Thanks,\n- RB</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 2, "creation_date": 1427325520, "post_id": 29268321, "comment_id": 46738090, "body": "What do you mean by &quot;looks like&quot;?"}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 1, "creation_date": 1427325534, "post_id": 29268321, "comment_id": 46738099, "body": "why do you want to remove the apostrophe? Strings in python are encased in apostrophe (actually quotes)"}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 3, "creation_date": 1427325585, "post_id": 29268321, "comment_id": 46738116, "body": "The first code line is a list of strings, the second is a list of variables. They aren&#39;t the same."}, {"owner": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "edited": false, "score": 0, "creation_date": 1427325690, "post_id": 29268321, "comment_id": 46738156, "body": "<code>x = {&#39;a&#39;:1, &#39;b&#39;: 2, &#39;c&#39;:5} y = {&#39;b&#39;:10, &#39;c&#39;: 11}  z = {&#39;e&#39;:5, &#39;b&#39;: 2}  l=[x,y,z]   keys=reduce(lambda i,j: i | j ,[j.viewkeys() for j in l])</code>  This code will run fine.But when i am trying to create l list iteratively it is taking as  l = [&#39;x&#39;,&#39;y&#39;,&#39;z&#39;] and the viewkeys() is giving error <code>AttributeError: &#39;str&#39; object has no attribute &#39;viewkeys&#39;</code>."}, {"owner": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "reply_to_user": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1427325861, "post_id": 29268321, "comment_id": 46738209, "body": "@Celeo How to convert first list into the second list which do not contain apostrophe."}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 1, "creation_date": 1427325898, "post_id": 29268321, "comment_id": 46738220, "body": "<code>.viewkeys</code> are to be used on a dictionary. You cant use them on strings, there is no &#39;method&#39; called viewkeys for strings."}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1427326033, "post_id": 29268321, "comment_id": 46738259, "body": "When you say <i>&quot;interactively</i>,&quot; @rombi, what are you specifically describing? Are you running code in a file or using an IDE/shell?"}, {"owner": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "reply_to_user": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1427326053, "post_id": 29268321, "comment_id": 46738264, "body": "@celeo here x,y,z are dictionary names only"}, {"owner": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "reply_to_user": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1427326336, "post_id": 29268321, "comment_id": 46738368, "body": "@Celeo typing into a file"}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 1, "creation_date": 1427326564, "post_id": 29268321, "comment_id": 46738446, "body": "What exactly are you trying to achieve here? What is the goal of your program (or this part)"}, {"owner": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "reply_to_user": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1427326958, "post_id": 29268321, "comment_id": 46738558, "body": "to run viewkeys() method. @letsc"}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1427327032, "post_id": 29268321, "comment_id": 46738582, "body": "@rombi - <code>.viewkeys()</code> gives you all the keys in your dictionary in the form of a list. See this <a href=\"http://stackoverflow.com/questions/22890201/whats-the-data-type-returned-by-dict-viewkeys-python-2-7\" title=\"whats the data type returned by dict viewkeys python 2 7\">stackoverflow.com/questions/22890201/&hellip;</a>"}, {"owner": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "reply_to_user": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1427327372, "post_id": 29268321, "comment_id": 46738680, "body": "@letsc I know that. But the problem here is that it is taking x,y,z as a string  and not as dictionary name"}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1427327788, "post_id": 29268321, "comment_id": 46738795, "body": "If you have <code>x,y and z</code> defined then you dont need  to enclose them in strings. Python will be able to detect that they are variable names and since they are dictionaries you can perform .vewkeys on them. Look at celeo&#39;s answer"}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "edited": false, "score": 0, "creation_date": 1427326481, "post_id": 29268423, "comment_id": 46738416, "body": "My list belongs to the second category of &#39;showmyway([&#39;a,b&#39;, &#39;c&#39;])&#39;. Is there a way to get out of it.@Alex Martelli"}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "edited": false, "score": 0, "creation_date": 1427327338, "post_id": 29268423, "comment_id": 46738670, "body": "@rombi, how would you want to display such a two-item list vs one with three single-letter items?  Give clear, complete specs, and it&#39;s easy to code to them.  I don&#39;t think <b>any</b> spec on the vague lines of not putting quotes around strings can even be satisfactory in a broadly general way, but maybe you can fully specify a very special-case (your specs so far are vague, confusing, and contradictory, whence I guess the many downvotes, but maybe you can do better!)."}, {"owner": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "edited": false, "score": 0, "creation_date": 1427327891, "post_id": 29268423, "comment_id": 46738827, "body": "Thanks for having faith in me. \t <code>for key in features.keys(): globals().setdefault(key,get_count(features[key]))  dicts.append(key)</code>  here i am creating dictionaries and appending their names to dicts list. But they are appended as [&#39;x&#39;,&#39;y&#39;,&#39;z&#39;] and not as [x,y,z]. I want the name of dictionaries to be appended in [x,y,z] format without any apostrophe so that i can call viewkeys() method on it. See my updated question"}], "tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 3, "last_activity_date": 1427325947, "creation_date": 1427325947, "answer_id": 29268423, "question_id": 29268321, "link": "https://stackoverflow.com/questions/29268321/removing-apostrophe-from-elements-of-list-in-python-language/29268423#29268423", "title": "Removing apostrophe from elements of list in Python language", "body": "<p>The string-form of a container always uses the <code>repr</code> of the container's items (otherwise ambiguities would be inevitable).</p>\n\n<p>Nobody stops you from doing your own formatting, e.g:</p>\n\n<pre><code>def showmyway(alist):\n    return '[{}]'.format(','.join(str(s) for s in alist))\n</code></pre>\n\n<p>and then for example</p>\n\n<pre><code>print(showmyway(somelist))\n</code></pre>\n\n<p>Of course, you'll suffer the inevitable ambiguity too: for example,</p>\n\n<pre><code>showmyway(['a', 'b', 'c'])\n</code></pre>\n\n<p>and</p>\n\n<pre><code>showmyway(['a,b', 'c'])\n</code></pre>\n\n<p>will return exactly the same string, despite being very different lists.</p>\n"}, {"comments": [{"owner": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "edited": false, "score": 0, "creation_date": 1427327198, "post_id": 29268550, "comment_id": 46738637, "body": "I understand that.But how to do it  <code>for key in features.keys():    globals().setdefault(key,get_count(features[key]))   dicts.append(key)</code> here i am creating dictionaries and appending their names to dicts list. But they are appended as [&#39;x&#39;,&#39;y&#39;,&#39;z&#39;] and not as [x,y,z]. There are like 1000 dictionaries to be appended,hence i cannot do it manually. Is there a way around to circumvent this.?"}, {"owner": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "edited": false, "score": 0, "creation_date": 1427329391, "post_id": 29268550, "comment_id": 46739264, "body": "Can u help with this ?"}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "reply_to_user": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "edited": false, "score": 0, "creation_date": 1427333961, "post_id": 29268550, "comment_id": 46740425, "body": "Be sure that you&#39;re not adding the keys to your list. You want to add the <i>values</i>, as those contain the actual dictionaries."}], "tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": false, "score": 4, "last_activity_date": 1427326599, "creation_date": 1427326599, "answer_id": 29268550, "question_id": 29268321, "link": "https://stackoverflow.com/questions/29268321/removing-apostrophe-from-elements-of-list-in-python-language/29268550#29268550", "title": "Removing apostrophe from elements of list in Python language", "body": "<p>If, as you stated, you have</p>\n\n<pre><code>x = {'a': 1, 'b': 2, 'c': 5}\ny = {'b': 10, 'c': 11}\nz = {'e': 5, 'b': 2}\n</code></pre>\n\n<p>and put those dictionaries into a list</p>\n\n<pre><code>l = [x, y, z]\n</code></pre>\n\n<p>and then do</p>\n\n<pre><code>keys = reduce(lambda i, j: i | j, [j.viewkeys() for j in l])\n</code></pre>\n\n<p>you code will, as you noted, run.</p>\n\n<p>The distinction that is important is that <code>x</code> is a dictionary. <code>'x'</code> is a string literal of the character x on your keyboard. They aren't interchangeable.</p>\n\n<p>You get the error you posted because <code>viewkeys</code> is a method to be used on <em>dictionaries</em>, no <em>strings</em>. You can call <code>viewkeys</code> on <code>x</code> because it's a dictionary. You cannot call <code>viewkeys</code> on <code>'x'</code> because it's a string.</p>\n\n<p>If you want to get the dictionary, you need to use <code>x</code>, not <code>'x'</code>.</p>\n"}], "owner": {"reputation": 183, "user_id": 4695605, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9b86b31ba4308acddd466ac431b805a?s=128&d=identicon&r=PG&f=1", "display_name": "rombi", "link": "https://stackoverflow.com/users/4695605/rombi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1572, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1427326599, "creation_date": 1427325471, "last_edit_date": 1427326261, "question_id": 29268321, "link": "https://stackoverflow.com/questions/29268321/removing-apostrophe-from-elements-of-list-in-python-language", "title": "Removing apostrophe from elements of list in Python language", "body": "<p>I am creating a list by iteration in python and my list looks like this </p>\n\n<pre><code>l = ['x','y','z']\n</code></pre>\n\n<p>I want to make my list look like this without apostrophe on its elements</p>\n\n<pre><code>l = [x,y,z]\n</code></pre>\n\n<p>Problem with the first notation is that my viewkeys() is taking j as a string name ,not as a dictionary name.Second notation works fine.Here x,y,z are dictionary names.</p>\n\n<pre><code>keys=reduce(lambda i,j: i | j ,[j.viewkeys() for j in l])\n</code></pre>\n\n<p>I tried strip('\\'') but failed.Any suggestions?</p>\n\n<p>If I have:</p>\n\n<pre><code>x = {'a':1, 'b': 2, 'c':5}\ny = {'b':10, 'c': 11}\nz = {'e':5, 'b': 2}\nl=[x,y,z]\nkeys=reduce(lambda i, j: i | j, [j.viewkeys() for j in l])\n</code></pre>\n\n<p>This code will run fine.But when i am trying to create l list iteratively it is taking as</p>\n\n<pre><code>l = ['x','y','z']\n</code></pre>\n\n<p>and the <code>viewkeys()</code> is giving error:</p>\n\n<blockquote>\n  <p>AttributeError: 'str' object has no attribute 'viewkeys'</p>\n</blockquote>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427325502, "post_id": 29268310, "comment_id": 46738079, "body": "x(*t) is what you are looking for"}, {"owner": {"reputation": 1025, "user_id": 3161440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90ea8a422e36143283d2d6aa7a62b776?s=128&d=identicon&r=PG&f=1", "display_name": "jkd", "link": "https://stackoverflow.com/users/3161440/jkd"}, "edited": false, "score": 0, "creation_date": 1427325631, "post_id": 29268310, "comment_id": 46738134, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/4979542/python-use-list-as-function-parameters\">Python - use list as function parameters</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": true, "score": 8, "last_activity_date": 1427325478, "creation_date": 1427325478, "answer_id": 29268323, "question_id": 29268310, "link": "https://stackoverflow.com/questions/29268310/how-to-extract-array-entries-for-method-call-in-python/29268323#29268323", "title": "How to extract array entries for method call in python", "body": "<p>It's called <a href=\"https://docs.python.org/2/tutorial/controlflow.html#unpacking-argument-lists\">unpacking</a>:</p>\n\n<pre><code>&gt;&gt;&gt; def x(a, b, c):\n...     print(a, b, c)\n...\n&gt;&gt;&gt; l = [1, 2, 3]\n&gt;&gt;&gt; x(*l)\n(1, 2, 3)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 2, "last_activity_date": 1427326467, "creation_date": 1427326467, "answer_id": 29268532, "question_id": 29268310, "link": "https://stackoverflow.com/questions/29268310/how-to-extract-array-entries-for-method-call-in-python/29268532#29268532", "title": "How to extract array entries for method call in python", "body": "<p>In addition to unpacking, you can change your function to accept a list:</p>\n\n<pre><code>def x(nums):\n    # cut off list and join three elements\n    print ' '.join(str(i) for i in nums[:3])\n</code></pre>\n"}], "owner": {"reputation": 45645, "user_id": 1056563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bc888aa658ab0e0d2a4d305ad7f69123?s=128&d=identicon&r=PG", "display_name": "StephenBoesch", "link": "https://stackoverflow.com/users/1056563/stephenboesch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 29268323, "answer_count": 2, "score": 1, "last_activity_date": 1427326467, "creation_date": 1427325425, "question_id": 29268310, "link": "https://stackoverflow.com/questions/29268310/how-to-extract-array-entries-for-method-call-in-python", "title": "How to extract array entries for method call in python", "body": "<p>I have an array that should be expanded to provide multiple arguments to a function call - like the following:</p>\n\n<pre><code>def x(a,b,c):\n    print \"%d %d %d\" %(a,b,c)\n\nt = [1,2,3]\n\nx(t[:])  # Will not work - this is only one value\n</code></pre>\n\n<p>Basically I am looking for the python equivalent to the </p>\n\n<pre><code> :_*\n</code></pre>\n\n<p>construct in scala</p>\n"}, {"tags": ["python", "graph", "igraph"], "answers": [{"tags": [], "owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "is_accepted": true, "score": 4, "last_activity_date": 1427326043, "creation_date": 1427326043, "answer_id": 29268444, "question_id": 29268262, "link": "https://stackoverflow.com/questions/29268262/python-igraph-number-of-vertices/29268444#29268444", "title": "python-igraph number of vertices", "body": "<p>Solved my problem using the following function instead of Graph.Read_Edgelist:</p>\n\n<pre><code>Graph.Read_Ncol(netFile, names=True, weights=\"if_present\", directed=True)\n</code></pre>\n\n<p>By setting \"name=True\" the function considers the nodes numbers as their name and solves the vcount problem.</p>\n"}], "owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1113, "favorite_count": 0, "accepted_answer_id": 29268444, "answer_count": 1, "score": 3, "last_activity_date": 1427326043, "creation_date": 1427325138, "question_id": 29268262, "link": "https://stackoverflow.com/questions/29268262/python-igraph-number-of-vertices", "title": "python-igraph number of vertices", "body": "<p>I am using python-igraph package to create a graph from my edges stored in a file. I use Graph.Read_Edgelist to read the edges and create my desired graph. When I need to get the number of vertices in my graph I use the Graph.vcount() function which is supposed to return number of vertices which is not the case for me. For a file like this:</p>\n\n<pre><code>1 2\n5 300\n</code></pre>\n\n<p>This function returns 301 which is not what I am looking for ! I need it to return 4 which is the actual number of vertices of my graph. Any idea what I can do to solve this problem?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 0, "creation_date": 1427325090, "post_id": 29268241, "comment_id": 46737909, "body": "How did you create <code>tlt</code>?"}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "reply_to_user": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 0, "creation_date": 1427325131, "post_id": 29268241, "comment_id": 46737929, "body": "something like (&#39;a&#39;(&#39;B&#39;,&#39;c&#39;)) @BillLynch"}, {"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 0, "creation_date": 1427325295, "post_id": 29268241, "comment_id": 46737995, "body": "Please include some code showing how you create <code>tlt</code>."}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "reply_to_user": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 0, "creation_date": 1427325330, "post_id": 29268241, "comment_id": 46738012, "body": "the ternary letter tree (tlt) will be inputted by the user... I just used an example @BillLynch"}, {"owner": {"reputation": 679, "user_id": 3129027, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/67dba6df597c9162dfa627e90c6cd4f1?s=128&d=identicon&r=PG&f=1", "display_name": "nullstellensatz", "link": "https://stackoverflow.com/users/3129027/nullstellensatz"}, "edited": false, "score": 0, "creation_date": 1427325495, "post_id": 29268241, "comment_id": 46738075, "body": "What is the variable <code>i</code>?"}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "reply_to_user": {"reputation": 679, "user_id": 3129027, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/67dba6df597c9162dfa627e90c6cd4f1?s=128&d=identicon&r=PG&f=1", "display_name": "nullstellensatz", "link": "https://stackoverflow.com/users/3129027/nullstellensatz"}, "edited": false, "score": 0, "creation_date": 1427325578, "post_id": 29268241, "comment_id": 46738114, "body": "maybe it&#39;s not needed? this was a really rough sketch of a code @nullstellensatz"}], "answers": [{"comments": [{"owner": {"reputation": 679, "user_id": 3129027, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/67dba6df597c9162dfa627e90c6cd4f1?s=128&d=identicon&r=PG&f=1", "display_name": "nullstellensatz", "link": "https://stackoverflow.com/users/3129027/nullstellensatz"}, "reply_to_user": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1427329310, "post_id": 29268534, "comment_id": 46739239, "body": "This IS recursive. :) Or did you mean iterative?"}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1427329396, "post_id": 29268534, "comment_id": 46739267, "body": "youre right.  I&#39;m not allowed to use a for loop... ill see if i can work around that"}, {"owner": {"reputation": 679, "user_id": 3129027, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/67dba6df597c9162dfa627e90c6cd4f1?s=128&d=identicon&r=PG&f=1", "display_name": "nullstellensatz", "link": "https://stackoverflow.com/users/3129027/nullstellensatz"}, "reply_to_user": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1427329639, "post_id": 29268534, "comment_id": 46739332, "body": "The alternative to using a <code>for</code> loop for the children is to invoke the function on each of them individually. Repeating lines of code that can be replaced by a loop is poor programming. What exactly do you mean by not being allowed to use a <code>for</code> loop?"}, {"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1427332153, "post_id": 29268534, "comment_id": 46739979, "body": "A more elegant way of writing the last line would be <code>return child_count + int(node.value.isupper())</code> and the for loop can be re-written as <code>child_count = sum(count_upper(child) for child in children if child is not None)</code> and then you don&#39;t need the <code>child_count = 0</code> line. But, good answer, I upvoted you :)"}], "tags": [], "owner": {"reputation": 679, "user_id": 3129027, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/67dba6df597c9162dfa627e90c6cd4f1?s=128&d=identicon&r=PG&f=1", "display_name": "nullstellensatz", "link": "https://stackoverflow.com/users/3129027/nullstellensatz"}, "is_accepted": false, "score": 2, "last_activity_date": 1427327559, "last_edit_date": 1427327559, "creation_date": 1427326481, "answer_id": 29268534, "question_id": 29268241, "link": "https://stackoverflow.com/questions/29268241/counting-with-recursive-functions/29268534#29268534", "title": "Counting with recursive functions", "body": "<p>I am assuming that the TLT has nodes of type <code>Node</code> each of which is an object that has the properties <code>left</code>, <code>mid</code> and <code>right</code>, where each of these properties could be none (indicating no child). These members are of also of type <code>Node</code>. In addition, each <code>Node</code> has a member called <code>value</code> that is of type <code>str</code>. With this assumption, this function should do what you want.</p>\n\n<pre><code>def count_upper(node):\n    children = [node.left, node.mid, node.right]\n    child_count = 0\n    for child in children:\n        if child is not None:\n            child_count += count_upper(child)\n    return child_count + 1 if node.value.isupper() else child_count\n</code></pre>\n\n<p>To count the number of uppercase letters in a tree, invoke the function as thus: <code>count_upper(root)</code></p>\n"}], "owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427327559, "creation_date": 1427325040, "last_edit_date": 1427327000, "question_id": 29268241, "link": "https://stackoverflow.com/questions/29268241/counting-with-recursive-functions", "title": "Counting with recursive functions", "body": "<p>I want to build a RECURSIVE function that takes a ternary letter tree and counts the number of uppercase letters in the tree.  I know this is a simple task to many experienced programmers, but I cannot figure out what to do.  Here is what I have so far:</p>\n\n<pre><code>def count_upper(tlt, ):\n\"\"\"returns the number of uppercase letters in a ternary letter tree\n\ntlt -&gt; number\"\"\"\n   if i.isupper():\n       return count_upper(tlt, )\n   else:\n       return 0\n</code></pre>\n\n<p>Help if you can...</p>\n"}, {"tags": ["python", "text", "format"], "comments": [{"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 1, "creation_date": 1427325428, "post_id": 29268231, "comment_id": 46738050, "body": "I have seen that homework just a few minutes ago from a class mate. He was a bit more studious than you. Please try harder."}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 3, "creation_date": 1427325440, "post_id": 29268231, "comment_id": 46738054, "body": "The same exact question, interesting ...<a href=\"http://stackoverflow.com/questions/29267986/how-to-add-line-numbers-to-an-output-file\" title=\"how to add line numbers to an output file\">stackoverflow.com/questions/29267986/&hellip;</a>"}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427325811, "post_id": 29268231, "comment_id": 46738193, "body": "@MalikBrahimi It was like a deja vu"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4714397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe219b4b025907cc670cd8ba8af7101?s=128&d=identicon&r=PG&f=1", "display_name": "superDAddy", "link": "https://stackoverflow.com/users/4714397/superdaddy"}, "edited": false, "score": 0, "creation_date": 1427325362, "post_id": 29268284, "comment_id": 46738024, "body": "Please do it without using with statements. I did not learn it yet!"}, {"owner": {"reputation": 1, "user_id": 4714397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe219b4b025907cc670cd8ba8af7101?s=128&d=identicon&r=PG&f=1", "display_name": "superDAddy", "link": "https://stackoverflow.com/users/4714397/superdaddy"}, "edited": false, "score": 1, "creation_date": 1427325405, "post_id": 29268284, "comment_id": 46738044, "body": "Please extend from the program that I wrote. It will be easy for me to comprehend."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 3, "last_activity_date": 1427325247, "creation_date": 1427325247, "answer_id": 29268284, "question_id": 29268231, "link": "https://stackoverflow.com/questions/29268231/adding-line-numbers-to-the-output-in-python/29268284#29268284", "title": "Adding line numbers to the output in Python", "body": "<p>Use a with statement to close the file buffer and just concatenate strings:</p>\n\n<pre><code>with open('file.txt', 'r') as program:\n    data = program.readlines()\n\nwith open('file.txt', 'w') as program:\n    for (number, line) in enumerate(data):\n        program.write('%d  %s' % (number + 1, line))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4714397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe219b4b025907cc670cd8ba8af7101?s=128&d=identicon&r=PG&f=1", "display_name": "superDAddy", "link": "https://stackoverflow.com/users/4714397/superdaddy"}, "edited": false, "score": 0, "creation_date": 1427325659, "post_id": 29268304, "comment_id": 46738148, "body": "what about the print statement at the end?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427325727, "post_id": 29268304, "comment_id": 46738165, "body": "Are you missing an open function?"}, {"owner": {"reputation": 2034, "user_id": 823743, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f01acd302a696bafb3b91f755f90c9a1?s=128&d=identicon&r=PG", "display_name": "user823743", "link": "https://stackoverflow.com/users/823743/user823743"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427326042, "post_id": 29268304, "comment_id": 46738263, "body": "@MalikBrahimi Thanks! I fixed it."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427326082, "post_id": 29268304, "comment_id": 46738275, "body": "Yeah, I was like <i>What&#39;s the deal with the tuple?</i>"}, {"owner": {"reputation": 2034, "user_id": 823743, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f01acd302a696bafb3b91f755f90c9a1?s=128&d=identicon&r=PG", "display_name": "user823743", "link": "https://stackoverflow.com/users/823743/user823743"}, "reply_to_user": {"reputation": 1, "user_id": 4714397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe219b4b025907cc670cd8ba8af7101?s=128&d=identicon&r=PG&f=1", "display_name": "superDAddy", "link": "https://stackoverflow.com/users/4714397/superdaddy"}, "edited": false, "score": 0, "creation_date": 1427326109, "post_id": 29268304, "comment_id": 46738289, "body": "@superDAddy Your edit was mostly correct, but you were never opening a file to write. That&#39;s why I rejected your edit."}, {"owner": {"reputation": 2034, "user_id": 823743, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f01acd302a696bafb3b91f755f90c9a1?s=128&d=identicon&r=PG", "display_name": "user823743", "link": "https://stackoverflow.com/users/823743/user823743"}, "reply_to_user": {"reputation": 1, "user_id": 4714397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe219b4b025907cc670cd8ba8af7101?s=128&d=identicon&r=PG&f=1", "display_name": "superDAddy", "link": "https://stackoverflow.com/users/4714397/superdaddy"}, "edited": false, "score": 0, "creation_date": 1427326191, "post_id": 29268304, "comment_id": 46738316, "body": "@superDAddy what do you mean by &quot;print statement at the end&quot;?"}, {"owner": {"reputation": 1, "user_id": 4714397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe219b4b025907cc670cd8ba8af7101?s=128&d=identicon&r=PG&f=1", "display_name": "superDAddy", "link": "https://stackoverflow.com/users/4714397/superdaddy"}, "edited": false, "score": 0, "creation_date": 1427326231, "post_id": 29268304, "comment_id": 46738331, "body": "<code>filename = input(&quot;Please enter a file name: &quot;)</code>     <code>count = 1</code>      <code>openfile = open(filename, &quot;r&quot;)</code>      <code>for lines in openfile:</code>         <code>linenumbers = openfile.write(str(count)+&#39;\\t&#39;+lines)</code>         <code>count += 1</code>                <code>print(linenumbers)</code>"}, {"owner": {"reputation": 1, "user_id": 4714397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe219b4b025907cc670cd8ba8af7101?s=128&d=identicon&r=PG&f=1", "display_name": "superDAddy", "link": "https://stackoverflow.com/users/4714397/superdaddy"}, "edited": false, "score": 0, "creation_date": 1427326326, "post_id": 29268304, "comment_id": 46738367, "body": "why is my edit wrong? I am asking for the file name from the user"}, {"owner": {"reputation": 1, "user_id": 4714397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe219b4b025907cc670cd8ba8af7101?s=128&d=identicon&r=PG&f=1", "display_name": "superDAddy", "link": "https://stackoverflow.com/users/4714397/superdaddy"}, "edited": false, "score": 0, "creation_date": 1427326357, "post_id": 29268304, "comment_id": 46738376, "body": "PRINT STATEMENT - it should print out the output with line numbers."}, {"owner": {"reputation": 2034, "user_id": 823743, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f01acd302a696bafb3b91f755f90c9a1?s=128&d=identicon&r=PG", "display_name": "user823743", "link": "https://stackoverflow.com/users/823743/user823743"}, "reply_to_user": {"reputation": 1, "user_id": 4714397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe219b4b025907cc670cd8ba8af7101?s=128&d=identicon&r=PG&f=1", "display_name": "superDAddy", "link": "https://stackoverflow.com/users/4714397/superdaddy"}, "edited": false, "score": 0, "creation_date": 1427326547, "post_id": 29268304, "comment_id": 46738437, "body": "@superDAddy When you write open(filename, &#39;r&#39;), &#39;r&#39; means read only. If you want to write to file you should use &#39;w&#39;. This is if you want to create a new file with the new format. But if you want to just print to console then add print str(count)+&#39;\\t&#39;+line in the for loop I wrote."}], "tags": [], "owner": {"reputation": 2034, "user_id": 823743, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f01acd302a696bafb3b91f755f90c9a1?s=128&d=identicon&r=PG", "display_name": "user823743", "link": "https://stackoverflow.com/users/823743/user823743"}, "is_accepted": false, "score": 3, "last_activity_date": 1597256816, "last_edit_date": 1597256816, "creation_date": 1427325375, "answer_id": 29268304, "question_id": 29268231, "link": "https://stackoverflow.com/questions/29268231/adding-line-numbers-to-the-output-in-python/29268304#29268304", "title": "Adding line numbers to the output in Python", "body": "<p>You should add:</p>\n<pre><code>newFile = open(yourfile, 'w')\ncount = 1\n\nfor line in readfile:\n    newFile.write (str(count) + '\\t' + line)\n    count += 1\nnewFile.close()\n</code></pre>\n<p>If you just want to print to console write (this is according to the variable names you've used in your second edit):</p>\n<pre><code>for lines in openfile:\n    print str(count) + '\\t' + lines\n    count += 1\n</code></pre>\n<p>You should do your homework yourself, though!</p>\n"}, {"tags": [], "owner": {"reputation": 1041, "user_id": 3944721, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001045861341/picture?type=large", "display_name": "Vladyslav Savchenko", "link": "https://stackoverflow.com/users/3944721/vladyslav-savchenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1500570624, "creation_date": 1500570624, "answer_id": 45221138, "question_id": 29268231, "link": "https://stackoverflow.com/questions/29268231/adding-line-numbers-to-the-output-in-python/45221138#45221138", "title": "Adding line numbers to the output in Python", "body": "<p>I would write so:</p>\n\n<pre><code>with open(path) as src:\n    for index, line in enumerate(src.readlines(), start=1):\n        print '{:4d}: {}'.format(index, line.rstrip())\n</code></pre>\n\n<p>or</p>\n\n<pre><code>with open(path) as src:\n    print '\\n'.join(['{:4d}: {}'.format(i, x.rstrip()) for i, x in enumerate(src.readlines(), start=1)])\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4714397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe219b4b025907cc670cd8ba8af7101?s=128&d=identicon&r=PG&f=1", "display_name": "superDAddy", "link": "https://stackoverflow.com/users/4714397/superdaddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19940, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1597256816, "creation_date": 1427324982, "last_edit_date": 1597256669, "question_id": 29268231, "link": "https://stackoverflow.com/questions/29268231/adding-line-numbers-to-the-output-in-python", "title": "Adding line numbers to the output in Python", "body": "<p>For example, if the input file is:</p>\n<pre><code>def main():\n    for i in range(10):\n        print(&quot;I love Python&quot;)\n    print(&quot;Good bye!&quot;)\n</code></pre>\n<p>Then the output would be:</p>\n<pre><code>1   def main():\n2       for i in range(10):\n3           print(&quot;I love Python&quot;)\n4       print(&quot;Good bye!&quot;)\n</code></pre>\n<p>I have difficulty in adding lines to each line. My program is:</p>\n<pre><code>filename = input(&quot;Please enter a file name: &quot;)\ncount = 0\n\nopenfile = open(filename, &quot;r&quot;)\n\nfor lines in openfile:\n    linenumbers = openfile.write(str(count)+'\\t'+lines)\n    count += 1\n\nprint(count)\n</code></pre>\n"}, {"tags": ["python", "tkinter", "widget", "external-script"], "comments": [{"owner": {"reputation": 8957, "user_id": 3714930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QdVoU.png?s=128&g=1", "display_name": "fhdrsdg", "link": "https://stackoverflow.com/users/3714930/fhdrsdg"}, "edited": false, "score": 0, "creation_date": 1427375026, "post_id": 29268225, "comment_id": 46756160, "body": "You might want to read up on <a href=\"https://docs.python.org/2/tutorial/modules.html\" rel=\"nofollow noreferrer\">modules</a>."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4575759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35980fa4a9f49dc97d46dad9d4460e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Fern", "link": "https://stackoverflow.com/users/4575759/fern"}, "edited": false, "score": 0, "creation_date": 1427461468, "post_id": 29286187, "comment_id": 46797332, "body": "Sorry @Jerome, I&#180;m new to python and some things are still very confusing to me. You are right when you supposed that I imported EC.py before calling EC.K. My doubt is where to include the piece of code you suggested above? On BEN.py?"}], "tags": [], "owner": {"reputation": 306, "user_id": 4650813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/upbMG.png?s=128&g=1", "display_name": "Jerome Vacher", "link": "https://stackoverflow.com/users/4650813/jerome-vacher"}, "is_accepted": false, "score": 1, "last_activity_date": 1427394592, "creation_date": 1427394592, "answer_id": 29286187, "question_id": 29268225, "link": "https://stackoverflow.com/questions/29268225/how-to-execute-external-script-by-using-button-widget/29286187#29286187", "title": "How to execute external script by using button widget?", "body": "<p>I suppose (because you didn't wrote complete source code) you wrote import EC\nbefore calling EC.K\nOf course Python produce EC.pyc (compiled version) at startup to optimise multi module imports and validate the syntaxe of all implied modules.</p>\n\n<p>What you want in a way is to have dynamical generated code. EC.py\nI don't focused on security issues of this behaviour but the simplest way is to use: </p>\n\n<pre><code>try: execfile (\"EC.py\")\nexcept Exception,msg:\n    print msg\nraise\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4575759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35980fa4a9f49dc97d46dad9d4460e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Fern", "link": "https://stackoverflow.com/users/4575759/fern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 913, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488132414, "creation_date": 1427324953, "last_edit_date": 1488132414, "question_id": 29268225, "link": "https://stackoverflow.com/questions/29268225/how-to-execute-external-script-by-using-button-widget", "title": "How to execute external script by using button widget?", "body": "<p>I\u00b4m trying to execute an external script (named EC.py) by pressing a button on my GUI (named BEN.py) and I want it to be inserted on a list (list1) in my GUI. </p>\n\n<p>My external script (EC.py) is like this:</p>\n\n<pre><code>import scipy\nimport numpy as np\nfrom scipy import misc\nfrom scipy import ndimage\n\nI = scipy.misc.imread('lena.jpg').astype(int) \nJ = (I/10)*10\nK = J + 10\nPrint K\n</code></pre>\n\n<p>and my GUI (BEN.py) code is:</p>\n\n<pre><code>import os\nimport Tkinter as tk\nimport ttk\n\ndef Execute():\nEC.K\nlist1.insert(END, K)\n</code></pre>\n\n<p>my button widget:</p>\n\n<pre><code>mybutton = Button(myGUI, text=\u201dExecute Code\u201d, command = Execute).pack()\n</code></pre>\n\n<p>my output list:</p>\n\n<pre><code>list1 = Listbox(myGUI, height=20, width=80)\n</code></pre>\n\n<p>Everything goes reasonably fine, except that just by running my GUI code it already reads the EC.py script, before I press the button. What I want is to get this script to run only when I press the button. </p>\n"}, {"tags": ["python", "django", "django-staticfiles"], "answers": [{"comments": [{"owner": {"reputation": 1895, "user_id": 1522429, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/EQr2B.jpg?s=128&g=1", "display_name": "abhinavkulkarni", "link": "https://stackoverflow.com/users/1522429/abhinavkulkarni"}, "edited": false, "score": 0, "creation_date": 1427325340, "post_id": 29268288, "comment_id": 46738015, "body": "I need to access the static file in a view, not in a template tag. Above can&#39;t work in a view."}, {"owner": {"reputation": 1895, "user_id": 1522429, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/EQr2B.jpg?s=128&g=1", "display_name": "abhinavkulkarni", "link": "https://stackoverflow.com/users/1522429/abhinavkulkarni"}, "edited": false, "score": 0, "creation_date": 1427325544, "post_id": 29268288, "comment_id": 46738104, "body": "Is there a way of not hardcoding the name of the app?"}, {"owner": {"reputation": 1234, "user_id": 2648166, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000141011214/picture?type=large", "display_name": "Siddharth Gupta", "link": "https://stackoverflow.com/users/2648166/siddharth-gupta"}, "edited": false, "score": 0, "creation_date": 1427325600, "post_id": 29268288, "comment_id": 46738122, "body": "You will have have to hardcode the name of the app, as it defines the directory it is stored in."}, {"owner": {"reputation": 1895, "user_id": 1522429, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/EQr2B.jpg?s=128&g=1", "display_name": "abhinavkulkarni", "link": "https://stackoverflow.com/users/1522429/abhinavkulkarni"}, "reply_to_user": {"reputation": 1234, "user_id": 2648166, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000141011214/picture?type=large", "display_name": "Siddharth Gupta", "link": "https://stackoverflow.com/users/2648166/siddharth-gupta"}, "edited": false, "score": 0, "creation_date": 1427325812, "post_id": 29268288, "comment_id": 46738194, "body": "@SiddharthGupta: Is there not a way to get the app&#39;s name inside its view?"}, {"owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "reply_to_user": {"reputation": 1895, "user_id": 1522429, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/EQr2B.jpg?s=128&g=1", "display_name": "abhinavkulkarni", "link": "https://stackoverflow.com/users/1522429/abhinavkulkarni"}, "edited": false, "score": 0, "creation_date": 1427325859, "post_id": 29268288, "comment_id": 46738208, "body": "@abhinavkulkarni You could probably do something fancy with <code>inspect</code> (see <a href=\"http://stackoverflow.com/questions/247770/retrieving-python-module-path/12154601#12154601\">this answer</a>), but IMO you&#39;re better off defining it explicitly. You could use a global in your module to define the app name and juse use that wherever you call <code>static</code>. Or, you could define a wrapper around <code>static</code>."}, {"owner": {"reputation": 1895, "user_id": 1522429, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/EQr2B.jpg?s=128&g=1", "display_name": "abhinavkulkarni", "link": "https://stackoverflow.com/users/1522429/abhinavkulkarni"}, "reply_to_user": {"reputation": 1234, "user_id": 2648166, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000141011214/picture?type=large", "display_name": "Siddharth Gupta", "link": "https://stackoverflow.com/users/2648166/siddharth-gupta"}, "edited": false, "score": 0, "creation_date": 1427326141, "post_id": 29268288, "comment_id": 46738302, "body": "@SiddharthGupta: I get {&#39;appname&#39;: None} as a result of call to that method."}, {"owner": {"reputation": 1234, "user_id": 2648166, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000141011214/picture?type=large", "display_name": "Siddharth Gupta", "link": "https://stackoverflow.com/users/2648166/siddharth-gupta"}, "reply_to_user": {"reputation": 1895, "user_id": 1522429, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/EQr2B.jpg?s=128&g=1", "display_name": "abhinavkulkarni", "link": "https://stackoverflow.com/users/1522429/abhinavkulkarni"}, "edited": false, "score": 0, "creation_date": 1427326152, "post_id": 29268288, "comment_id": 46738309, "body": "@abhinavkulkarni Have a look at my answer and I think that will help."}], "tags": [], "owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "is_accepted": false, "score": 5, "last_activity_date": 1427325371, "last_edit_date": 1427325371, "creation_date": 1427325271, "answer_id": 29268288, "question_id": 29268173, "link": "https://stackoverflow.com/questions/29268173/how-to-reference-static-file-in-django-apps-view/29268288#29268288", "title": "How to reference static file in Django app&#39;s view", "body": "<p>You can import the <code>static</code> template tag into your view and use it as such:</p>\n\n<pre><code>from django.templatetags.static import static\n\nurl = static('app/file.jpg')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1234, "user_id": 2648166, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000141011214/picture?type=large", "display_name": "Siddharth Gupta", "link": "https://stackoverflow.com/users/2648166/siddharth-gupta"}, "is_accepted": false, "score": 3, "last_activity_date": 1427326498, "last_edit_date": 1427326498, "creation_date": 1427325512, "answer_id": 29268333, "question_id": 29268173, "link": "https://stackoverflow.com/questions/29268173/how-to-reference-static-file-in-django-apps-view/29268333#29268333", "title": "How to reference static file in Django app&#39;s view", "body": "<p>You can do this by defining STATIC_ROOT in your settings. Then before running your project you can run</p>\n\n<pre><code>python manage.py collectstatic\n</code></pre>\n\n<p>And the static files then can be accessed using:-</p>\n\n<pre><code>file = open(os.path.join(settings.STATIC_ROOT, 'app/a.txt'))\n</code></pre>\n\n<p>This is basically the way, it is supposed to be done in a production environment, as static files are hosted separately from the django html views.</p>\n\n<p>To load the name of app dynamically in project/urls.py</p>\n\n<pre><code>url(r'^', include('app.urls', app_name=\"app\")),\n</code></pre>\n\n<p>and then in views:-</p>\n\n<pre><code>from django.core.urlresolvers import resolve\ndef appname(request):\n    return resolve(request.path).app_name\n</code></pre>\n"}], "owner": {"reputation": 1895, "user_id": 1522429, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/EQr2B.jpg?s=128&g=1", "display_name": "abhinavkulkarni", "link": "https://stackoverflow.com/users/1522429/abhinavkulkarni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5981, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1427326498, "creation_date": 1427324719, "last_edit_date": 1427325107, "question_id": 29268173, "link": "https://stackoverflow.com/questions/29268173/how-to-reference-static-file-in-django-apps-view", "title": "How to reference static file in Django app&#39;s view", "body": "<p>I know there have been many questions here on accessing static files in a Django project, but I could not find a satisfactory answer to a problem I am dealing with. So, here's my project structure:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 project\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 wsgi.py\n\u251c\u2500\u2500 db.sqlite3\n\u251c\u2500\u2500 manage.py\n\u2514\u2500\u2500 app\n    \u251c\u2500\u2500 admin.py\n    \u251c\u2500\u2500 __init__.py\n    \u251c\u2500\u2500 migrations\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n    \u251c\u2500\u2500 models.py\n    \u251c\u2500\u2500 static\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 app\n    \u2502\u00a0\u00a0     \u2514\u2500\u2500 file.txt\n    \u251c\u2500\u2500 tests.py\n    \u251c\u2500\u2500 urls.py\n    \u2514\u2500\u2500 views.py\n</code></pre>\n\n<p>As per <a href=\"https://docs.djangoproject.com/en/1.7/howto/static-files/\" rel=\"nofollow\">Django 1.7 documentation</a> I have stored the static file <em>file.txt</em> in <em>app/static/app</em> folder. Now, how do I reference this file in a view? Lets just say I need to read the contents of this file for every call defined in app/views.py.</p>\n\n<p>As usual, I have default setting of <em>STATIC_URL = '/static/'</em> in project/settings.py</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 2, "last_activity_date": 1427324775, "creation_date": 1427324775, "answer_id": 29268189, "question_id": 29268134, "link": "https://stackoverflow.com/questions/29268134/how-to-merge-rows-in-dataframe-according-to-unique-elements-and-get-averages/29268189#29268189", "title": "How to merge rows in DataFrame according to unique elements and get averages?", "body": "<p>You can groupby the day and hour column and then call <code>mean</code> on the price column:</p>\n\n<pre><code>In [46]:\n\ndf.groupby(['day','hour'])['price'].mean()\nOut[46]:\nday      hour\nmonday   7       13.5\n         8       12.5\ntuesday  7       13.0\n         8       14.0\nName: price, dtype: float64\n</code></pre>\n\n<p>To restore the day and hour back as columns you can call <code>reset_index</code>:</p>\n\n<pre><code>In [47]:\n\ndf.groupby(['day','hour'])['price'].mean().reset_index()\nOut[47]:\n       day  hour  price\n0   monday     7   13.5\n1   monday     8   12.5\n2  tuesday     7   13.0\n3  tuesday     8   14.0\n</code></pre>\n\n<p>You can also rename the column if you desire:</p>\n\n<pre><code>In [48]:\n\navg = df.groupby(['day','hour'])['price'].mean().reset_index()\navg.rename(columns={'price':'avg_price'},inplace=True)\navg\nOut[48]:\n       day  hour  avg_price\n0   monday     7       13.5\n1   monday     8       12.5\n2  tuesday     7       13.0\n3  tuesday     8       14.0\n</code></pre>\n"}], "owner": {"reputation": 1403, "user_id": 2789788, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/d660e6686e73928d7426a576c5e355f7?s=128&d=identicon&r=PG&f=1", "display_name": "theQman", "link": "https://stackoverflow.com/users/2789788/theqman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 29268189, "answer_count": 1, "score": 1, "last_activity_date": 1427324775, "creation_date": 1427324526, "question_id": 29268134, "link": "https://stackoverflow.com/questions/29268134/how-to-merge-rows-in-dataframe-according-to-unique-elements-and-get-averages", "title": "How to merge rows in DataFrame according to unique elements and get averages?", "body": "<p>I'm struggling to figure out how to achieve this. I'm trying to get the average <code>price</code> for each <code>day</code> and <code>hour</code> entries. So a DataFrame like</p>\n\n<pre><code>    day     hour    price   booked\n0   monday  7      12.0     True\n1   monday  8      12.0     False\n2   tuesday 7      13.0     True\n3   tuesday 8      13.0     False\n4   monday  7      15.0     True\n5   monday  8      13.0     False\n6   tuesday 7      13.0     True\n7   tuesday 8      15.0     False\n</code></pre>\n\n<p>should give something like:</p>\n\n<pre><code>    day     hour    avg. price  \n0   monday  7       13 \n1   monday  8       12.5    \n2   tuesday 7       13.0 \n3   tuesday 8       14.0 \n</code></pre>\n\n<p>I would like this generalize to larger data sets.</p>\n"}, {"tags": ["python", "matlab", "numpy"], "comments": [{"owner": {"reputation": 18953, "user_id": 4640209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86bc12112054e578fc0bcd333cbb2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4640209/alex"}, "edited": false, "score": 1, "creation_date": 1427324380, "post_id": 29268050, "comment_id": 46737626, "body": "numpy.corrcoef seems to return the P matrix ?"}, {"owner": {"reputation": 6217, "user_id": 1257953, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/afb18b489df58f20beabaa5dc268a8cb?s=128&d=identicon&r=PG", "display_name": "nitin", "link": "https://stackoverflow.com/users/1257953/nitin"}, "reply_to_user": {"reputation": 18953, "user_id": 4640209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86bc12112054e578fc0bcd333cbb2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4640209/alex"}, "edited": false, "score": 0, "creation_date": 1427324640, "post_id": 29268050, "comment_id": 46737742, "body": "I am looking for a python function that return P-matrix... is there one?"}, {"owner": {"reputation": 766, "user_id": 2596787, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7IhQM.png?s=128&g=1", "display_name": "madbitloman", "link": "https://stackoverflow.com/users/2596787/madbitloman"}, "edited": false, "score": 1, "creation_date": 1427324869, "post_id": 29268050, "comment_id": 46737829, "body": "Seems like you will have to compute it by yourself and it is not that difficult"}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1427324919, "post_id": 29268050, "comment_id": 46737844, "body": "I don&#39;t know of any Python native functions that will do that for you.  Best bet is to either implement it yourself, or use <code>numpy</code>."}], "owner": {"reputation": 6217, "user_id": 1257953, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/afb18b489df58f20beabaa5dc268a8cb?s=128&d=identicon&r=PG", "display_name": "nitin", "link": "https://stackoverflow.com/users/1257953/nitin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 528, "favorite_count": 0, "closed_date": 1427326607, "answer_count": 0, "score": 1, "last_activity_date": 1427324135, "creation_date": 1427324135, "question_id": 29268050, "link": "https://stackoverflow.com/questions/29268050/python-equivalent-for-matlab-corrcoef-correlation-coefficient", "closed_reason": "Duplicate", "title": "Python equivalent for Matlab corrcoef (correlation coefficient )", "body": "<p>Matlab has a function for calculating correlation coefficient that returns the correlation coefficient matrix [R] and the P-matrix (matrix of p-values for testing the hypothesis of no correlation) </p>\n\n<p>So, if my data looked like so,</p>\n\n<pre><code>X =\n\n   14.2000  215.0000   -1.5771\n   16.4000  325.0000    0.5080\n   11.9000  185.0000    0.2820\n   15.2000  332.0000    0.0335\n   18.5000  406.0000   -1.3337\n   22.1000  522.0000    1.1275\n   10.4000  412.0000    0.3502\n   25.1000  614.0000   -0.2991\n   23.4000  544.0000    0.0229\n   18.1000  421.0000   -0.2620\n   22.6000  445.0000   -1.7502\n   17.2000  408.0000   -0.2857\n</code></pre>\n\n<p>I could do,</p>\n\n<pre><code>&gt;&gt; [r,p] = corrcoef(X)\n\nr =\n\n    1.0000    0.8120   -0.1209\n    0.8120    1.0000    0.1521\n   -0.1209    0.1521    1.0000\n\n\np =\n\n    1.0000    0.0013    0.7082\n    0.0013    1.0000    0.6369\n    0.7082    0.6369    1.0000\n</code></pre>\n\n<p>When looking at the p-matrix, I can conclude that the probablity of no-correlation between column1 and column2 is 0.13% and the probability of no-correlation between column1 and column2 is 70%.</p>\n\n<p>I am trying find the same function in python. numpy/pandas offers the corr() function. But this only return the R-matrix and not the P-matrix</p>\n\n<p>Is there are python equivalent function for matlab's corrcoef ?</p>\n"}, {"tags": ["python", "matrix", "scikit-learn", "cluster-analysis", "k-means"], "answers": [{"tags": [], "owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "is_accepted": false, "score": 0, "last_activity_date": 1427330191, "creation_date": 1427330191, "answer_id": 29269119, "question_id": 29268038, "link": "https://stackoverflow.com/questions/29268038/sklearn-clustering-similar-orders/29269119#29269119", "title": "Sklearn clustering similar orders", "body": "<p>You can use any of the clustering algorithms in scikit-learn. Take care not to pass it the ID column. You can mask the always zero columns using numpy or pandas.\nA good introduction to the clustering methods in scikit-learn can be found in the <a href=\"http://scikit-learn.org/dev/modules/clustering.html\" rel=\"nofollow\">user guide</a></p>\n"}, {"comments": [{"owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 0, "creation_date": 1427388946, "post_id": 29269758, "comment_id": 46766516, "body": "I agree, frequent itemset mining is probably more the way to go. Do you know a good library for that?"}], "tags": [], "owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "is_accepted": false, "score": 1, "last_activity_date": 1427334599, "creation_date": 1427334599, "answer_id": 29269758, "question_id": 29268038, "link": "https://stackoverflow.com/questions/29268038/sklearn-clustering-similar-orders/29269758#29269758", "title": "Sklearn clustering similar orders", "body": "<p>Are you sure <em>clustering</em> is what you need?</p>\n\n<p>It sounds as if <strong>market basket analysis</strong> (and frequent itemset mining) are the way to go.</p>\n\n<p>Most clustering algorithms will assign <em>every</em> customer to <em>exactly</em> one type, whereas FIM will also detect subsets and overlapping patterns.</p>\n"}], "owner": {"reputation": 1181, "user_id": 470664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f6fd55bc271bfef2de293e92f50d3512?s=128&d=identicon&r=PG", "display_name": "andrepcg", "link": "https://stackoverflow.com/users/470664/andrepcg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1427334599, "creation_date": 1427324099, "last_edit_date": 1427325034, "question_id": 29268038, "link": "https://stackoverflow.com/questions/29268038/sklearn-clustering-similar-orders", "title": "Sklearn clustering similar orders", "body": "<p>I have a dataset of restaurant invoices, containing the products ordered bye each client.</p>\n\n<p>I've already processed the data and I have the following matrix in csv file:</p>\n\n<pre><code>InvoiceID, Product 1, product 2, product 3, product 4, product 5.....\n123,       0,         1,         0,         1,         0,       .....\n124,       0,         1,         1,         1,         0,       .....\n...\n</code></pre>\n\n<p>For each invoice I have an entry in the csv that contains 0 and 1 if the product in represented by column was ordered by the client (0 was not ordered, 1 was ordered).</p>\n\n<p>How do I process this data with sklearn so I can cluster the invoices and get the centroids so I can see what products are in each cluster center?</p>\n\n<p>Thank you!</p>\n\n<p>EDIT:\nI have 957 products and a lot of them never were never ordered so I can reduce the matrix (dont know the best way to do it)</p>\n"}, {"tags": ["python", "html", "django", "image"], "comments": [{"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1427324386, "post_id": 29268015, "comment_id": 46737633, "body": "Are you serving that image from a directory accessed by Django, namely, your static or media files directories?"}], "answers": [{"tags": [], "owner": {"reputation": 1234, "user_id": 2648166, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000141011214/picture?type=large", "display_name": "Siddharth Gupta", "link": "https://stackoverflow.com/users/2648166/siddharth-gupta"}, "is_accepted": false, "score": 1, "last_activity_date": 1427324375, "creation_date": 1427324375, "answer_id": 29268096, "question_id": 29268015, "link": "https://stackoverflow.com/questions/29268015/trouble-displaying-generated-image-in-django/29268096#29268096", "title": "Trouble displaying generated image in Django", "body": "<p>It will be a better idea, to create your graph and store it in Media folder. You can then set your MEDIA_URL and MEDIA_ROOT. Django does not serve static file directly from the folders.</p>\n\n<p>You can then configure your url.py to</p>\n\n<pre><code>from django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = patterns('',\n    # ... the rest of your URLconf goes here ...\n) + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1025948"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511041962, "creation_date": 1427323968, "last_edit_date": 1511041962, "question_id": 29268015, "link": "https://stackoverflow.com/questions/29268015/trouble-displaying-generated-image-in-django", "title": "Trouble displaying generated image in Django", "body": "<p>View:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport os\n\n\ndef blah_view(request):\n\n# BUILD GRAPH\nfname = \"blah.png\"\npath = \"home/templates/home\"\nfullpath = os.path.join(path, fname)\n\n# 7 different groups\nind = np.arange(7)\nwidth = 0.35\n\nfig, ax = plt.subplots()\n\n# code omitted. Generate graph here\n\nplt.savefig(fullpath)\n\nreturn render_to_response(\"image.html\", {\"path\": fullpath})\n</code></pre>\n\n<p>image.html:</p>\n\n<pre><code>&lt;img src=\"{{ path }}\" /&gt;\n</code></pre>\n\n<p>urls.py:</p>\n\n<pre><code>url(r'^blah$', blah_view, name=\"blah\")\n</code></pre>\n\n<p>If I try to navigate to /blah, I get a 404 error when trying to render the image. I'm stumped. The image is in the correct path and exists.</p>\n\n<p>I get a 404 error that 127.0.0.1:8000/home/templates/home/blah.png not found. </p>\n\n<p>How can I display my generated image? Thanks in advance. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1427324063, "post_id": 29268012, "comment_id": 46737516, "body": "If you&#39;re storing data, I would recommend <code>pickle</code>. It&#39;s store many python data types."}, {"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1427324316, "post_id": 29268012, "comment_id": 46737605, "body": "You have quite a few mistakes in the code. First dont use list as a variable name. Second, your <b>init</b> is missing self. third, all your myobj are same, as you use class variables, not instance ones. Could you clarify what you want to do, appart from keeping data on the disk."}, {"owner": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 0, "creation_date": 1427324579, "post_id": 29268012, "comment_id": 46737713, "body": "I&#39;d recommend against using pickle, just in case class definitions (names, structure, etc.) change from under you. Might I suggest using json encoding/decoding?"}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1427324621, "post_id": 29268012, "comment_id": 46737732, "body": "Go through the <a href=\"https://docs.python.org/3.4/tutorial/classes.html\" rel=\"nofollow noreferrer\">classes</a> documentation first. Then, if you&#39;re storing &quot;simple&quot; data like your example, look at <a href=\"https://docs.python.org/3.4/library/json.html\" rel=\"nofollow noreferrer\">json.dumps</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "edited": false, "score": 0, "creation_date": 1427325566, "post_id": 29268146, "comment_id": 46738111, "body": "Thanks for the reply, I made corrections in the question. IS there a way to use the object without pass the parameters, and instead assign them with dot notation? I may get data from different sources, and would rather assign them via dot notation and then just pass myobj to the dictionary. Thanks!"}, {"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1427325597, "post_id": 29268146, "comment_id": 46738119, "body": "Yes, but you would have to design myobj differently. As it is now, you cant."}, {"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "edited": false, "score": 0, "creation_date": 1427325683, "post_id": 29268146, "comment_id": 46738154, "body": "This is what I am aiming for; as in my example in the question. The type of data that I will store in the custom object is mainly int, strings and bool; it may come from different sources, and that&#39;s why I would rather have the dot notation for practical reasons"}, {"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1427326566, "post_id": 29268146, "comment_id": 46738448, "body": "If so, than you can declare a,b,c with default arguments. Please see amended answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "edited": false, "score": 0, "creation_date": 1427327110, "post_id": 29268146, "comment_id": 46738611, "body": "Much appreciated; this solve my problem. I am planning to use pickle to save this custom object, so I am good to go. Thanks!"}], "tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": true, "score": 4, "last_activity_date": 1427326528, "last_edit_date": 1427326528, "creation_date": 1427324557, "answer_id": 29268146, "question_id": 29268012, "link": "https://stackoverflow.com/questions/29268012/create-custom-objects-in-python-to-hold-only-data/29268146#29268146", "title": "Create custom objects in Python, to hold only data", "body": "<p>Based on my comment above, I changed your code example, so that it is \"more\" OK now. </p>\n\n<pre><code>class myobj(object):\n\n    def __init__(self, a, b, c):\n        self.a=a\n        self.b=b\n        self.c=c\n\nmydict = {}\na_list = [1, 2, 3]\n\nfor val in a_list:\n    mydict[val] = myobj(12, \"hello\", True)\n</code></pre>\n\n<p>It does not save anything on the disk yet, but its good start. If you could clarify what and how you want to store the object, or what kind of data, than maybe I could help better.</p>\n\n<p>ALternative version:</p>\n\n<pre><code>class myobj(object):\n\n    def __init__(self, a=0, b=\"\", c=False):\n        self.a=a\n        self.b=b\n        self.c=c\n\nmydict = {}\na_list = [1, 2, 3]\n\nfor val in a_list:\n    an_myobj = myobj()\n\n    an_myobj.a = 12\n    an_myobj.b = \"hello\"\n    an_myobj.c = True\n\n    mydict[val] = an_myobj\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 29268146, "answer_count": 1, "score": 2, "last_activity_date": 1427326528, "creation_date": 1427323949, "last_edit_date": 1427325380, "question_id": 29268012, "link": "https://stackoverflow.com/questions/29268012/create-custom-objects-in-python-to-hold-only-data", "title": "Create custom objects in Python, to hold only data", "body": "<p>I am planning to use a custom datatype for loading and saving data on disk. This will ease my work since I can access each piece of info with the dot notation.</p>\n\n<p>I never did something similar in Python, so I did some research and found that Python has a struct module. Although, all that I would like to do is to have an object that contain data. Would this be OK?</p>\n\n<pre><code>class myobj(object):\n    a=None\n    b=None\n    c=None\n\n    def __init__(self, a, b, c):\n        self.a=a\n        self.b=b\n        self.c=c\n</code></pre>\n\n<p>Which I would use it in this way:</p>\n\n<pre><code>mydict = defaultdict(myobj)\nmylist = (item1, item2, item3)\n\nfor val in mylist:    \n    myobj.a = 12\n    myobj.b = \"hello\"\n    myobj.c = True\n\n    mydict[val] = myobj\n</code></pre>\n\n<p>Is this correct or am I doing it wrong? I would like to do it in a proper Python way.</p>\n"}, {"tags": ["python", "text", "formatting"], "comments": [{"owner": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 0, "creation_date": 1427323940, "post_id": 29267986, "comment_id": 46737473, "body": "Is the newline adjustment part of this problem or was that accidental? (referring to the shift of <code>print(&quot;Good bye!&quot;)</code>)"}, {"owner": {"reputation": 1025, "user_id": 3161440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90ea8a422e36143283d2d6aa7a62b776?s=128&d=identicon&r=PG&f=1", "display_name": "jkd", "link": "https://stackoverflow.com/users/3161440/jkd"}, "edited": false, "score": 0, "creation_date": 1427326413, "post_id": 29267986, "comment_id": 46738391, "body": "Interesting: <a href=\"http://stackoverflow.com/questions/29268231/python-adding-line-numbers-to-the-output\" title=\"python adding line numbers to the output\">stackoverflow.com/questions/29268231/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 0, "creation_date": 1427324261, "post_id": 29268059, "comment_id": 46737583, "body": "A quick mention of the return values/types from enumerate would be a nice addition here.  That and/or the documentation page to this function would be great! +1"}, {"owner": {"reputation": 493, "user_id": 4714351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g9wWg.jpg?s=128&g=1", "display_name": "loveTrumpsHate", "link": "https://stackoverflow.com/users/4714351/lovetrumpshate"}, "edited": false, "score": 0, "creation_date": 1427324268, "post_id": 29268059, "comment_id": 46737588, "body": "can you do it in my way, please? I did not learn with statement"}, {"owner": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "reply_to_user": {"reputation": 493, "user_id": 4714351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g9wWg.jpg?s=128&g=1", "display_name": "loveTrumpsHate", "link": "https://stackoverflow.com/users/4714351/lovetrumpshate"}, "edited": false, "score": 1, "creation_date": 1427324303, "post_id": 29268059, "comment_id": 46737600, "body": "@malcolm with statements will make your life much easier, particularly with file I/O.  This is an excellent time to learn about <code>with</code>!"}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427324351, "post_id": 29268059, "comment_id": 46737615, "body": "@malcom, just look at the code. it is as easy as that ... no need to close the file or do anything else afterwards"}, {"owner": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 0, "creation_date": 1427324354, "post_id": 29268059, "comment_id": 46737616, "body": "Near the bottom of this documentation page on file I/O you&#39;ll see a clean <code>with</code> example: <a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/inputoutput.html</a>"}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "reply_to_user": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 0, "creation_date": 1427324791, "post_id": 29268059, "comment_id": 46737798, "body": "@BlackVegetable, let me know if that&#39;s better."}], "tags": [], "owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "is_accepted": false, "score": 2, "last_activity_date": 1427324915, "last_edit_date": 1427324915, "creation_date": 1427324183, "answer_id": 29268059, "question_id": 29267986, "link": "https://stackoverflow.com/questions/29267986/how-to-add-line-numbers-to-an-output-file/29268059#29268059", "title": "How to add line numbers to an output file?", "body": "<p>First, it is best to use the <code>with ...</code> syntax when using files (<a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow\">https://docs.python.org/2/tutorial/inputoutput.html</a>). </p>\n\n<p>Then, all you have to do is use <code>enumerate</code> (<a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow\">https://docs.python.org/2/library/functions.html#enumerate</a>). <code>enumerate</code> is a built-in function that takes a sequence (string, list, dict, set, ...) as input and generates tuples with a counter and the corresponding value of the sequence.</p>\n\n<pre><code>with open(filename, \"r\") as openfile:\n    with open(filename2, \"w\") as out_file:\n        for j, line in enumerate(openfile):\n            out_file.write('{0:&lt;5}{1}'.format(j+1, line))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3454, "user_id": 3097391, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/de20065c7d306bd0ca3a3906b74e0e5f?s=128&d=identicon&r=PG&f=1", "display_name": "aloha", "link": "https://stackoverflow.com/users/3097391/aloha"}, "is_accepted": false, "score": 0, "last_activity_date": 1427325139, "creation_date": 1427325139, "answer_id": 29268263, "question_id": 29267986, "link": "https://stackoverflow.com/questions/29267986/how-to-add-line-numbers-to-an-output-file/29268263#29268263", "title": "How to add line numbers to an output file?", "body": "<p>Check out this <a href=\"https://stackoverflow.com/questions/21244672/exporting-a-list-in-python-in-a-for-loop\">question</a>, it describes exactly what you're looking for. Let me know if you need more details.</p>\n"}], "owner": {"reputation": 493, "user_id": 4714351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g9wWg.jpg?s=128&g=1", "display_name": "loveTrumpsHate", "link": "https://stackoverflow.com/users/4714351/lovetrumpshate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2850, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1427325139, "creation_date": 1427323836, "last_edit_date": 1427324755, "question_id": 29267986, "link": "https://stackoverflow.com/questions/29267986/how-to-add-line-numbers-to-an-output-file", "title": "How to add line numbers to an output file?", "body": "<p>Write a program that asks the user for a file containing a program and a name for an output file. Your program should then write the program, with line numbers to the output file. For example, if the input file is:</p>\n\n<pre><code>def main():\n    for i in range(10):\n        print(\"I love python\")\n    print(\"Good bye!\")\n</code></pre>\n\n<p>Then the output file would be:</p>\n\n<pre><code>1   def main():\n2       for i in range(10):\n3           print(\"I love python\")\n4       print(\"Good bye!\")\n</code></pre>\n\n<p>I know how to create a new output file but I have difficulty in adding line numbers to each line. please help! My program is:</p>\n\n<pre><code>filename = input(\"Please enter a file name: \")\nfilename2 = input(\"Please enter a file name to save the output: \")\n\nopenfile = open(filename, \"r\")\nreadfile = openfile.readlines()\n\n\nout_file = open(filename2, \"w\")\nsave = out_file.write(FileWithLines)\n</code></pre>\n"}, {"tags": ["python", "enthought", "traits", "traitsui"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 563256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/84170cdeb1b58e6016e5afabed24e266?s=128&d=identicon&r=PG", "display_name": "Steve76063", "link": "https://stackoverflow.com/users/563256/steve76063"}, "edited": false, "score": 0, "creation_date": 1427579779, "post_id": 29312739, "comment_id": 46837055, "body": "AWESOME Warren!  You saved me so much searching and trial and error!  I just hope that someday I&#39;m proficient enough in Canopy to help someone else."}, {"owner": {"reputation": 197, "user_id": 563256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/84170cdeb1b58e6016e5afabed24e266?s=128&d=identicon&r=PG", "display_name": "Steve76063", "link": "https://stackoverflow.com/users/563256/steve76063"}, "edited": false, "score": 0, "creation_date": 1427580484, "post_id": 29312739, "comment_id": 46837233, "body": "Warren...it appears that you have some in-depth knowledge of Tabular Adapters...Do you know if it&#39;s possible to DEF a notification for a change to an individual element (like for a number changing in any row/column)?  I&#39;ve searched for notifications on individual Array elements, but have had no luck.  Seeing what can be done with the def get_format() override, I was wondering if there&#39;s something similar for a value changing??? (my fingers are crossed :) )"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 197, "user_id": 563256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/84170cdeb1b58e6016e5afabed24e266?s=128&d=identicon&r=PG", "display_name": "Steve76063", "link": "https://stackoverflow.com/users/563256/steve76063"}, "edited": false, "score": 0, "creation_date": 1427642256, "post_id": 29312739, "comment_id": 46850958, "body": "For a numpy array, there are probably some hacks you could use (e.g. override the <code>set_text</code> method of the <code>TabularAdapter</code>).  You should ask this in a new question, so more of the active <code>TraitsUI</code> users can see it (there are a few here on SO)."}], "tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 2, "last_activity_date": 1427571603, "last_edit_date": 1427571603, "creation_date": 1427507264, "answer_id": 29312739, "question_id": 29267960, "link": "https://stackoverflow.com/questions/29267960/different-formats-for-tabularadapter-columns/29312739#29312739", "title": "different formats for TabularAdapter columns?", "body": "<p>There are at least two ways you can do this. One is to override the method <code>get_format(self, object, name, row, column)</code> of the <code>TabularAdapter</code> in your adapter class, and have it return the appropriate format based on the <code>column</code> argument.  E.g.</p>\n\n<pre><code>    def get_format(self, object, name, row, column):\n        formats = ['%d', '%d', '%.4f']\n        return formats[column]\n</code></pre>\n\n<p>Another method is to use the \"traits magic\" that is implemented in the <code>TabularAdapter</code> class. In your subclass, you can set the format for a column by defining a specially named <code>Str</code> trait.  One set of names that works for a numpy structured array such as your <code>test_array</code> is</p>\n\n<pre><code>    object_0_format = Str(\"%d\")\n    object_1_format = Str(\"%d\")\n    object_2_format = Str(\"%.4f\")\n</code></pre>\n\n<p>(See the <a href=\"http://docs.enthought.com/traitsui/traitsui_user_manual/factories_advanced_extra.html#tabularadapter\" rel=\"nofollow\"><code>TabularAdapter</code> documentation</a>, and <a href=\"https://github.com/enthought/traitsui/blob/master/examples/tutorials/traitsui_4.0/editors/tabular_editor/tabular_editor.rst\" rel=\"nofollow\">this file</a> in the github repo for more information.)</p>\n\n<p>Here's a modified version of your script that demonstrates both approaches.  For variety, I used the format <code>\"%04d\"</code> for the first column.  (I hope you don't mind the gratuitous name and style changes.)</p>\n\n<pre><code>from traits.api import HasTraits, Array, Str\nfrom traitsui.api import View, Item, TabularEditor\nfrom traitsui.tabular_adapter import TabularAdapter\nfrom numpy import dtype\n\n\ntest_dtype = dtype([('Integer#1', 'int'),\n                    ('Integer#2', 'int'),\n                    ('Float', 'float')])\n\n\nclass TestArrayAdapter1(TabularAdapter):\n\n    columns = [('Col1 #', 0), ('Col2', 1), ('Col3', 2)]\n\n    even_bg_color = 0xf4f4f4  # very light gray\n\n    width = 125\n\n    def get_format(self, object, name, row, column):\n        formats = ['%04d', '%d', '%.4f']\n        return formats[column]\n\n\nclass TestArrayAdapter2(TabularAdapter):\n\n    columns = [('Col1 #', 0), ('Col2', 1), ('Col3', 2)]\n\n    even_bg_color = 0xf4f4f4  # very light gray\n\n    width = 125\n\n    object_0_format = Str(\"%04d\")\n    object_1_format = Str(\"%d\")\n    object_2_format = Str(\"%.4f\")\n\n\nclass Test(HasTraits):\n\n    test_array = Array(dtype=test_dtype)\n\n    view = \\\n        View(\n            Item(name='test_array', show_label=False,\n                 editor=TabularEditor(adapter=TestArrayAdapter1())),\n            Item(name='test_array', show_label=False,\n                 editor=TabularEditor(adapter=TestArrayAdapter2())),\n        )\n\n\ntest = Test()\ntest.test_array.resize(5, refcheck=False)\ntest.configure_traits()\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 563256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/84170cdeb1b58e6016e5afabed24e266?s=128&d=identicon&r=PG", "display_name": "Steve76063", "link": "https://stackoverflow.com/users/563256/steve76063"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 1, "accepted_answer_id": 29312739, "answer_count": 1, "score": 2, "last_activity_date": 1427571603, "creation_date": 1427323683, "last_edit_date": 1427571060, "question_id": 29267960, "link": "https://stackoverflow.com/questions/29267960/different-formats-for-tabularadapter-columns", "title": "different formats for TabularAdapter columns?", "body": "<p>I've found that I can apply a format to ALL the columns in a TabularAdapter by adding a statement like this to the TabularAdapter declaration: format = '%7.4f'.</p>\n\n<p>However, I'd like to have different formatting for each column in the table...is this possible?  I've tried to specify the format for just column index 2 (as seen in the example below), but it doesn't apply to just that column.  I've been searching for how to do this correctly, but so far have found nothing.</p>\n\n<p>Here's a little example file:</p>\n\n<pre><code>from traits.api import HasTraits, Array\n\nfrom traitsui.api import View, Group,Item, TabularEditor\nfrom traitsui.tabular_adapter import TabularAdapter\nfrom numpy import dtype\n\ntest_dtype = dtype([('Integer#1', 'int'), ('Integer#2', 'int'), ('Float', 'float')])\n\nclass testArrayAdapter(TabularAdapter):\n    columns = [('Col1 #', 0), ('Col2', 1), ('Col3', 2)]\n    even_bg_color = 0xf4f4f4 # very light gray\n    width = 125\n\nclass test(HasTraits):\n    test_array = Array(dtype=test_dtype)\n\n    view = View(\n        Item(name = 'test_array',\n            show_label = False,\n            editor     = TabularEditor(adapter = testArrayAdapter()),\n        ),\n        Item(name = 'test_array',\n            show_label = False,\n            editor     = TabularEditor(adapter = testArrayAdapter(column=2, format='%.4f')),\n        ),\n    )\n\n\nTest = test()\nTest.test_array.resize(5, refcheck = False)\nTest.configure_traits()\n</code></pre>\n\n<p>What I'd like to see is to have the 3rd column have the 4 decmals (it is a float after all), while columns 1 &amp; 2 are presented as just integers.</p>\n"}, {"tags": ["php", "python", "background-process"], "comments": [{"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 1, "creation_date": 1427324653, "post_id": 29267944, "comment_id": 46737749, "body": "A simple socket communication would likely work well and easy."}, {"owner": {"reputation": 101, "user_id": 4714348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af06a570f9b0fbb382d0c0541d86ef5?s=128&d=identicon&r=PG", "display_name": "C.P.", "link": "https://stackoverflow.com/users/4714348/c-p"}, "reply_to_user": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1427367257, "post_id": 29267944, "comment_id": 46751681, "body": "So I should use socket communication between python and PHP ? is it hard to do ? I have trouble finding proper documentation on how to do that ..."}, {"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1427367455, "post_id": 29267944, "comment_id": 46751762, "body": "It&#39;s the most basic way to do it. LMGTFY: <a href=\"https://docs.python.org/2/howto/sockets.html\" rel=\"nofollow noreferrer\">docs.python.org/2/howto/sockets.html</a>"}], "owner": {"reputation": 101, "user_id": 4714348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af06a570f9b0fbb382d0c0541d86ef5?s=128&d=identicon&r=PG", "display_name": "C.P.", "link": "https://stackoverflow.com/users/4714348/c-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427323595, "creation_date": 1427323595, "question_id": 29267944, "link": "https://stackoverflow.com/questions/29267944/interacting-with-background-python-script-in-php", "title": "interacting with background python script in PHP", "body": "<p>I have some python code that use some library (sage). This python code is used as a script executed in PHP to generate a JSON that is transmitted to the webclient through AJAX. It is currently working, but very slowly (7s by request).</p>\n\n<p>The reason is that for every request, the script load this huge library. So I change this script to only load the library once by PHP-session with an interactive input/output. Now, I need to launch the script in background once, and interact with it each time the client do a request. I tried with some named pipes without success. Is there a canonical way to achieve that ?</p>\n\n<p>Thank you very much,</p>\n"}, {"tags": ["python", "dictionary", "key"], "comments": [{"owner": {"reputation": 661, "user_id": 346569, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nLUe1.jpg?s=128&g=1", "display_name": "santosh.ankr", "link": "https://stackoverflow.com/users/346569/santosh-ankr"}, "edited": false, "score": 4, "creation_date": 1427323542, "post_id": 29267896, "comment_id": 46737318, "body": "You can have the value for each key be a list: {&quot;james&quot;:[1, 2, 3], &quot;bob&quot;:[0, 7]}"}, {"owner": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 0, "creation_date": 1427323834, "post_id": 29267896, "comment_id": 46737427, "body": "Related: <a href=\"http://stackoverflow.com/a/29246754/758446\">stackoverflow.com/a/29246754/758446</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 2, "creation_date": 1427323884, "post_id": 29267974, "comment_id": 46737445, "body": "The value of the keys in <code>cat1</code> are <code>set</code>s. Just something to point out."}, {"owner": {"reputation": 661, "user_id": 346569, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nLUe1.jpg?s=128&g=1", "display_name": "santosh.ankr", "link": "https://stackoverflow.com/users/346569/santosh-ankr"}, "edited": false, "score": 1, "creation_date": 1427325903, "post_id": 29267974, "comment_id": 46738222, "body": "I almost always explicitly declare sets using the set() call to avoid confusion with dictionaries. You really shouldn&#39;t have to examine the thing for colons before you know what it is."}, {"owner": {"reputation": 87, "user_id": 13125683, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjMnu6Ce-ts2x9dT54TU-dfppK_rgXMh6DcWYWb=k-s128", "display_name": "William Stuart", "link": "https://stackoverflow.com/users/13125683/william-stuart"}, "edited": false, "score": 0, "creation_date": 1610931258, "post_id": 29267974, "comment_id": 116280720, "body": "you could also use a dictionary containing a tuple with keys:                                    cat1 = { &quot;james&quot;: (1, 2, 3), &quot;bob&quot;: (3, 4, 5) }"}], "tags": [], "owner": {"reputation": 18953, "user_id": 4640209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86bc12112054e578fc0bcd333cbb2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4640209/alex"}, "is_accepted": true, "score": 2, "last_activity_date": 1427323945, "last_edit_date": 1427323945, "creation_date": 1427323745, "answer_id": 29267974, "question_id": 29267896, "link": "https://stackoverflow.com/questions/29267896/how-to-add-multiple-values-per-key-in-python-dictionary/29267974#29267974", "title": "How to add multiple values per key in python dictionary", "body": "<p>The value for each key can either be a set (distinct list of unordered elements)</p>\n\n<pre><code>cat1 = {\"james\":{1,2,3}, \"bob\":{3,4,5}}\nfor x in cat1['james']:\n    print x\n</code></pre>\n\n<p>or a list (ordered sequence of elements )</p>\n\n<pre><code>cat1 = {\"james\":[1,2,3], \"bob\":[3,4,5]}\nfor x in cat1['james']:\n    print x\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "is_accepted": false, "score": 5, "last_activity_date": 1427324529, "creation_date": 1427324529, "answer_id": 29268137, "question_id": 29267896, "link": "https://stackoverflow.com/questions/29267896/how-to-add-multiple-values-per-key-in-python-dictionary/29268137#29268137", "title": "How to add multiple values per key in python dictionary", "body": "<p>Both answers are fine.  @santosh.ankr used a dictionary of lists.  @Jaco de Groot used a dictionary of sets (which means you cannot have repeated elements).</p>\n\n<p>Something that is sometimes useful if you're using a dictionary of lists (or other things) is a <a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"noreferrer\">default dictionary</a>.</p>\n\n<p>With this you can append to items in your dictionary even if they haven't been instantiated:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import defaultdict\n&gt;&gt;&gt; cat1 = defaultdict(list)\n&gt;&gt;&gt; cat1['james'].append(3)   #would not normally work\n&gt;&gt;&gt; cat1['james'].append(2)\n&gt;&gt;&gt; cat1['bob'].append(3)     #would not normally work\n&gt;&gt;&gt; cat1['bob'].append(4)\n&gt;&gt;&gt; cat1['bob'].append(5)\n&gt;&gt;&gt; cat1['james'].append(5)\n&gt;&gt;&gt; cat1\ndefaultdict(&lt;type 'list'&gt;, {'james': [3, 2, 5], 'bob': [3, 4, 5]})\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 298, "user_id": 5107535, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CBDcRnCOrJw/AAAAAAAAAAI/AAAAAAAABIo/rl3tVj1Irzs/photo.jpg?sz=128", "display_name": "Ahmed tiger", "link": "https://stackoverflow.com/users/5107535/ahmed-tiger"}, "is_accepted": false, "score": 1, "last_activity_date": 1472606925, "creation_date": 1472606925, "answer_id": 39239389, "question_id": 29267896, "link": "https://stackoverflow.com/questions/29267896/how-to-add-multiple-values-per-key-in-python-dictionary/39239389#39239389", "title": "How to add multiple values per key in python dictionary", "body": "<p>the key name and values to every key:</p>\n\n<pre><code>student = {'name' : {\"Ahmed \" , \"Ali \" , \"Moahmed \"} , 'age' : {10 , 20 , 50} }\n\nfor keysName in student:\n    print(keysName)\n    if keysName == 'name' :\n        for value in student[str(keysName)]:\n            print(\"Hi , \" + str(value))\n    else:\n        for value in student[str(keysName)]:\n            print(\"the age :  \" + str(value))\n</code></pre>\n\n<p>And the output :</p>\n\n<pre><code>name\nHi , Ahmed \nHi , Ali \nHi , Moahmed \nage\nthe age :  50\nthe age :  10\nthe age :  20\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 12910089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUhmw.png?s=128&g=1", "display_name": "passionatedevops", "link": "https://stackoverflow.com/users/12910089/passionatedevops"}, "is_accepted": false, "score": 0, "last_activity_date": 1610930082, "creation_date": 1610930082, "answer_id": 65767449, "question_id": 29267896, "link": "https://stackoverflow.com/questions/29267896/how-to-add-multiple-values-per-key-in-python-dictionary/65767449#65767449", "title": "How to add multiple values per key in python dictionary", "body": "<p>Add multiple values in same dictionary key :</p>\n<pre><code>subject = 'Computer'\nnumbers = [67.0,22.0]\n\nbook_dict = {}\nbook_dict.setdefault(subject, [])\n\nfor number in numbers\n   book_dict[subject].append(number)\n</code></pre>\n<p>Result:</p>\n<pre><code>{'Computer': [67.0, 22.0]}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 4710153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011448171dae3f88a2797a462d6f714d?s=128&d=identicon&r=PG&f=1", "display_name": "jsnabs2", "link": "https://stackoverflow.com/users/4710153/jsnabs2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36232, "favorite_count": 1, "accepted_answer_id": 29267974, "answer_count": 4, "score": 4, "last_activity_date": 1610930082, "creation_date": 1427323320, "last_edit_date": 1427324003, "question_id": 29267896, "link": "https://stackoverflow.com/questions/29267896/how-to-add-multiple-values-per-key-in-python-dictionary", "title": "How to add multiple values per key in python dictionary", "body": "<p>My program needs to output a list of names with three numbers corresponding to each name however I don't know how to code this is there a way I could do it as a dictionary such as <code>cat1 = {\"james\":6, \"bob\":3}</code> but with three values for each key?</p>\n"}, {"tags": ["python", "gdal"], "comments": [{"owner": {"reputation": 34066, "user_id": 327026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ad5928b416f9de4bb957ac8189bf00?s=128&d=identicon&r=PG", "display_name": "Mike T", "link": "https://stackoverflow.com/users/327026/mike-t"}, "edited": false, "score": 2, "creation_date": 1427335711, "post_id": 29267894, "comment_id": 46740821, "body": "See <a href=\"http://www.gdal.org/gdal_merge.html\" rel=\"nofollow noreferrer\">gdal_merge.py</a>"}, {"owner": {"reputation": 1607, "user_id": 4122396, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fd431420de3177a35ffa8f344f1c434a?s=128&d=identicon&r=PG&f=1", "display_name": "BFlint", "link": "https://stackoverflow.com/users/4122396/bflint"}, "reply_to_user": {"reputation": 34066, "user_id": 327026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ad5928b416f9de4bb957ac8189bf00?s=128&d=identicon&r=PG", "display_name": "Mike T", "link": "https://stackoverflow.com/users/327026/mike-t"}, "edited": false, "score": 0, "creation_date": 1427398730, "post_id": 29267894, "comment_id": 46772000, "body": "@MikeT thanks Mike,  this seems like what I want but when I create the mosaic it is always 256x256 and only displays the last .png it processed.  here is the command I&#39;m using, python gdal_merge.py -o mos.tif -of GTiff -v --optfile tif_list.txt"}, {"owner": {"reputation": 377, "user_id": 20545, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/zwht1.jpg?s=128&g=1", "display_name": "rapto", "link": "https://stackoverflow.com/users/20545/rapto"}, "edited": false, "score": 0, "creation_date": 1434537023, "post_id": 29267894, "comment_id": 49817361, "body": "Are the input files properly referenced? It seems that all of them have their origin at (0,0) You may add a World File <a href=\"https://en.wikipedia.org/?title=World_file\" rel=\"nofollow noreferrer\">en.wikipedia.org/?title=World_file</a> which is an ascii file with a proper extension (.pgw) describing the coordinates of each file."}], "owner": {"reputation": 1607, "user_id": 4122396, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fd431420de3177a35ffa8f344f1c434a?s=128&d=identicon&r=PG&f=1", "display_name": "BFlint", "link": "https://stackoverflow.com/users/4122396/bflint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1927, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427399873, "creation_date": 1427323311, "last_edit_date": 1427399873, "question_id": 29267894, "link": "https://stackoverflow.com/questions/29267894/combine-gdal-tiles-into-large-tif", "title": "Combine gdal tiles into large tif", "body": "<p>I'm currently using gdal2tiles.py to tile a large TIF, then I do post-processing on each of these tiles.  Does gdal have a utility I can use to stitch these tiles back in place to recreate a large TIF.  I understand that I may lose some quality here by doing so but that is fine.  If gdal doesn't have anything for this are there any other tools that do?  Thanks.</p>\n\n<p><strong>Update:  Using gdal_mergy.py</strong></p>\n\n<p>using this code</p>\n\n<pre><code>python gdal_merge.py -o mos.tif -of GTiff -v --optfile tif_list.txt\n</code></pre>\n\n<p>It seems like they are always being copied over each other at 0,0,256,256.  Output from gdal_merge:  </p>\n\n<p><img src=\"https://i.stack.imgur.com/Zee4t.png\" alt=\"output\"></p>\n"}, {"tags": ["python", "connection-pooling", "urllib3"], "comments": [{"owner": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 1, "creation_date": 1427323536, "post_id": 29267838, "comment_id": 46737314, "body": "Your code makes multiple requests not connections, which is still what you&#39;re trying to avoid.  Print the value of <code>pool.num_requests</code> to see what I mean."}, {"owner": {"reputation": 109, "user_id": 4714168, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3iTOB5Lbdsc/AAAAAAAAAAI/AAAAAAAAAHY/gtDQZs4JDJc/photo.jpg?sz=128", "display_name": "mj sunny", "link": "https://stackoverflow.com/users/4714168/mj-sunny"}, "reply_to_user": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 1, "creation_date": 1427325497, "post_id": 29267838, "comment_id": 46738077, "body": "@BlackVegetable what i&#39;m trying to do is create multiple tcp connection for same host. Any example would be amazing"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4714168, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3iTOB5Lbdsc/AAAAAAAAAAI/AAAAAAAAAHY/gtDQZs4JDJc/photo.jpg?sz=128", "display_name": "mj sunny", "link": "https://stackoverflow.com/users/4714168/mj-sunny"}, "edited": false, "score": 2, "creation_date": 1427384067, "post_id": 29271106, "comment_id": 46762978, "body": "Is it possible to create multiple tcp connections at the same time for one particular server from one client. any information regarding this would be very helpful for me. @shazow"}, {"owner": {"reputation": 13985, "user_id": 187878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c355dd26a5f80e1605d2ff1ecb6e719e?s=128&d=identicon&r=PG", "display_name": "shazow", "link": "https://stackoverflow.com/users/187878/shazow"}, "reply_to_user": {"reputation": 109, "user_id": 4714168, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3iTOB5Lbdsc/AAAAAAAAAAI/AAAAAAAAAHY/gtDQZs4JDJc/photo.jpg?sz=128", "display_name": "mj sunny", "link": "https://stackoverflow.com/users/4714168/mj-sunny"}, "edited": false, "score": 0, "creation_date": 1427417380, "post_id": 29271106, "comment_id": 46779857, "body": "Do you mean asynchronously? If so, then you&#39;ll need to use some currency primitives like threads or gevent. Specifying maxsize as you did in your question will allocate that many possible sockets in the pool."}], "tags": [], "owner": {"reputation": 13985, "user_id": 187878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c355dd26a5f80e1605d2ff1ecb6e719e?s=128&d=identicon&r=PG", "display_name": "shazow", "link": "https://stackoverflow.com/users/187878/shazow"}, "is_accepted": false, "score": -1, "last_activity_date": 1427344050, "creation_date": 1427344050, "answer_id": 29271106, "question_id": 29267838, "link": "https://stackoverflow.com/questions/29267838/urllib3-connection-pool-creates-only-one-pool/29271106#29271106", "title": "URLLib3 Connection Pool creates only one pool", "body": "<p>If you need to close sockets every 100 requests, then you'll need to do that manually. Here's an example which closes all sockets every 5 requests:</p>\n\n<pre><code>import urllib3\nurllib3.add_stderr_logger() # This lets you see when new connections are made\n\nhttp = urllib3.PoolManager()\nurl = 'http://ajax.googleapis.com/ajax/services/search/web'\nfor j in range(15):\n    resp = http.request('GET', url)\n    if j % 5 == 0:\n        # Reset the PoolManager's connections.\n        # This might be overkill if you need more granular control per-host.\n        http.clear()\n</code></pre>\n\n<p>You could do something similar using <code>HTTPConnectionPool</code> and doing <code>.close()</code> on it before replacing it with a fresh one. I prefer to use PoolManager when possible (there is generally no downside).</p>\n\n<p>If you'd like to get super granular with connections, you can manually take connections out of an <code>HTTPConnectionPool</code> using <code>pool._get_conn()</code> and <code>.close()</code>'ing it.</p>\n"}, {"tags": [], "owner": {"reputation": 8277, "user_id": 1280608, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e28fb17c4c962bbe933a4aad68525b94?s=128&d=identicon&r=PG&f=1", "display_name": "darkheir", "link": "https://stackoverflow.com/users/1280608/darkheir"}, "is_accepted": false, "score": 0, "last_activity_date": 1615542915, "creation_date": 1615542915, "answer_id": 66597693, "question_id": 29267838, "link": "https://stackoverflow.com/questions/29267838/urllib3-connection-pool-creates-only-one-pool/66597693#66597693", "title": "URLLib3 Connection Pool creates only one pool", "body": "<p>The issue is that the requests are made synchronously one after the other.\nFor this reason the pool will always use the same connection with no need to create any others.</p>\n<p>Now let's say we run the code using threads, multiple requests will be issued concurrently.\nIn this case <code>pool.num_connections</code> will be greater than 1:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from concurrent.futures.thread import ThreadPoolExecutor\n\nfrom urllib3 import HTTPConnectionPool\n\n\npool = HTTPConnectionPool('ajax.googleapis.com', maxsize=15)\n\ndef send_request(_):\n    pool.request('GET', '/ajax/services/search/web')\n    print(pool.num_connections)\n\n\nwith ThreadPoolExecutor(max_workers=5) as executor:\n    executor.map(send_request, range(5))\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 4714168, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3iTOB5Lbdsc/AAAAAAAAAAI/AAAAAAAAAHY/gtDQZs4JDJc/photo.jpg?sz=128", "display_name": "mj sunny", "link": "https://stackoverflow.com/users/4714168/mj-sunny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 619, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1615542915, "creation_date": 1427322934, "question_id": 29267838, "link": "https://stackoverflow.com/questions/29267838/urllib3-connection-pool-creates-only-one-pool", "title": "URLLib3 Connection Pool creates only one pool", "body": "<p>Currently i'm trying to scrape a site but the site didn't allow more than 100 request for one tcp connection. So, i tried to create multiple connection pool for requests. I tried the following code. Shouldn't it create 15 connection pool?</p>\n\n<pre><code>from urllib3 import HTTPConnectionPool\nfor i in range(15):\n    pool = HTTPConnectionPool('ajax.googleapis.com', maxsize=15)\n    for j in range(15):\n        resp= pool.request('GET', '/ajax/services/search/web')\n    pool.num_connections\n</code></pre>\n\n<p>pool.num_connection always print 1</p>\n"}, {"tags": ["python", "input", "crash"], "comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 2, "creation_date": 1427322943, "post_id": 29267797, "comment_id": 46737082, "body": "can you post the stacktrace?"}, {"owner": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "edited": false, "score": 0, "creation_date": 1427323009, "post_id": 29267797, "comment_id": 46737116, "body": "Please fix your indentation. Try running your program from console as paste error message here."}, {"owner": {"reputation": 1025, "user_id": 3161440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90ea8a422e36143283d2d6aa7a62b776?s=128&d=identicon&r=PG&f=1", "display_name": "jkd", "link": "https://stackoverflow.com/users/3161440/jkd"}, "edited": false, "score": 0, "creation_date": 1427331546, "post_id": 29267797, "comment_id": 46739855, "body": "Try flushing stdin input."}, {"owner": {"reputation": 168, "user_id": 2446264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6d4d980079742bde82bbac596e2206a8?s=128&d=identicon&r=PG", "display_name": "TomasCarvalho", "link": "https://stackoverflow.com/users/2446264/tomascarvalho"}, "reply_to_user": {"reputation": 1025, "user_id": 3161440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90ea8a422e36143283d2d6aa7a62b776?s=128&d=identicon&r=PG&f=1", "display_name": "jkd", "link": "https://stackoverflow.com/users/3161440/jkd"}, "edited": false, "score": 0, "creation_date": 1427335705, "post_id": 29267797, "comment_id": 46740820, "body": "@jakekimds how should I flush stdin in python? I am sorry for the silly question."}, {"owner": {"reputation": 168, "user_id": 2446264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6d4d980079742bde82bbac596e2206a8?s=128&d=identicon&r=PG", "display_name": "TomasCarvalho", "link": "https://stackoverflow.com/users/2446264/tomascarvalho"}, "reply_to_user": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "edited": false, "score": 1, "creation_date": 1427335754, "post_id": 29267797, "comment_id": 46740827, "body": "@ktalik I&#39;ve updated my question, thank you"}, {"owner": {"reputation": 1025, "user_id": 3161440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90ea8a422e36143283d2d6aa7a62b776?s=128&d=identicon&r=PG&f=1", "display_name": "jkd", "link": "https://stackoverflow.com/users/3161440/jkd"}, "edited": false, "score": 1, "creation_date": 1427339307, "post_id": 29267797, "comment_id": 46741709, "body": "@morgans This is actually not very simple and it will make more sense if you Google around than if I tell you."}], "owner": {"reputation": 168, "user_id": 2446264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6d4d980079742bde82bbac596e2206a8?s=128&d=identicon&r=PG", "display_name": "TomasCarvalho", "link": "https://stackoverflow.com/users/2446264/tomascarvalho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427335396, "creation_date": 1427322771, "last_edit_date": 1427335396, "question_id": 29267797, "link": "https://stackoverflow.com/questions/29267797/python-crashes-with-large-number-of-inputs", "title": "Python crashes with large number of inputs", "body": "<p>I am trying to run a python program with a large number of inputs.\nIt works with 1k inputs, but when I try 1M it just freezes forever.</p>\n\n<p>This is how I read the inputs:</p>\n\n<p>This is my main:</p>\n\n<pre><code>def main():\n\n  global raiz  \n  inputs = raw_input()\n  output = []\n  inputs = inputs.lower()\n  split = inputs.split(\" \")\n  while (inputs!=\"\"):\n      if (split[0] == \"pass\"):\n          if (split[2] == \"r\"):\n              novo = No(split[1].upper(), 1, True)\n          else:\n              novo = No(split[1].upper(), 1, False)\n\n          if raiz == None:\n              raiz = novo\n          else:\n              encontraNo(novo)\n\n      elif (split[0] == \"status\"):\n          if (raiz == None):\n              output.append(split[1].upper()+\" NO RECORD\")\n          else:\n              novo = No(split[1].upper(), 0, False)\n              output.append(procuraStatus(novo))\n      elif (split[0] == \"unflag\"):\n          if (raiz != None):\n              novo = No(split[1].upper(),0, False)\n              actualizaEstado(novo)\n      inputs = raw_input()\n      inputs = inputs.lower()\n      split = inputs.split(\" \")        \n\n\n  for out in output:\n      print out    \nmain()\n</code></pre>\n\n<p>Is there a limit of inputs I can \"feed\" to my program?\nI am using Wing IDE 5.0.\nI can post the rest of my code, but I dont think that this problem is related to it but rather related with a limit of inputs that I can give to a python  program</p>\n\n<p>EDIT: </p>\n\n<p>I've tryed running it on the console, and it worked fine with the 50k inputs.\nHowever, when I run with 1 million inputs and left it to work (for about 2 hours), I got no results, so I stopped the program. Here is what I got in the console:</p>\n\n<pre><code>C:\\Users\\Tom\u00e1s\\Documents\\Engenharia Inform\u00e1tica\\PYTHON&gt;python TP2C.py\nTraceback (most recent call last):\n  File \"TP2C.py\", line 210, in &lt;module&gt;\n    main()\n\n\nC:\\Users\\Tom\u00e1s\\Documents\\Engenharia Inform\u00e1tica\\PYTHON&gt;python TP2C.py &lt; F50K.txt\n\nA15833 5 R\n\nC:\\Users\\Tom\u00e1s\\Documents\\Engenharia Inform\u00e1tica\\PYTHON&gt;python TP2C.py &lt; F1M.txt\nTraceback (most recent call last):\n  File \"TP2C.py\", line 210, in &lt;module&gt;\n    main()\n  File \"TP2C.py\", line 191, in main\n    encontraNo(novo)\n  File \"TP2C.py\", line 84, in encontraNo\n    valor_matricula_noActual = ''.join(str(ord(c)) for c in so)\n  File \"TP2C.py\", line 84, in &lt;genexpr&gt;\n    valor_matricula_noActual = ''.join(str(ord(c)) for c in so)\nKeyboardInterrupt\n\nC:\\Users\\Tom\u00e1s\\Documents\\Engenharia Inform\u00e1tica\\PYTHON&gt;\n</code></pre>\n\n<p>This is my full code, in case you want to check it out...</p>\n\n<pre><code>class No_Avl(object):\n\n\n\n\n    def __init__(self, matricula, estado, numero):\n        self.filhoDireito = None\n        self.filhoEsquerdo = None\n        self.matricula = matricula\n        self.numero = numero\n        self.estado = estado\n        self.altura = 0\n\n\nclass Arvore_Avl(object):\n    global raiz\n\n\n\n\n    def __init__(self):\n        global raiz\n        raiz = None\n\n    def altura(self,noActual):\n        if (noActual == None):\n            return (-1)\n        return noActual.altura\n\n    def adicionaNoo(self, matricula, estado, numero):\n        global raiz\n        raiz = self.adicionaNo(matricula, estado, numero, raiz)\n\n    def adicionaNo(self,matricula, estado, numero, noActual):\n\n        if (noActual == None):\n            noActual = No_Avl(matricula, estado, numero)\n        elif (noActual != None):\n            s = matricula\n            valor_matricula = ''.join(str(ord(c)) for c in s)\n            s = noActual.matricula\n            valor_matricula_noActual = ''.join(str(ord(c)) for c in s)            \n            if(valor_matricula &lt; valor_matricula_noActual):\n                noActual.filhoEsquerdo = self.adicionaNo(matricula, estado, numero, noActual.filhoEsquerdo)\n                if (self.altura(noActual.filhoEsquerdo) - self.altura(noActual.filhoDireito) == 2):\n                    s = matricula\n                    valor_matricula = ''.join(str(ord(c)) for c in s)\n                    s = noActual.matricula\n                    valor_matricula_noActual = ''.join(str(ord(c)) for c in s)                \n                    if (valor_matricula &lt; valor_matricula_noActual):\n                        noActual = self.rotateWithLeftChild(noActual)\n                    else:\n                        noActual = self.doubleWithLeftChild(noActual)\n\n            elif (valor_matricula &gt; valor_matricula_noActual):\n                noActual.filhoDireito = self.adicionaNo(matricula, estado, numero, noActual.filhoDireito)\n                if (self.altura(noActual.filhoDireito) - self.altura(noActual.filhoEsquerdo) == 2):\n                    s = matricula\n                    valor_matricula = ''.join(str(ord(c)) for c in s)\n                    s = noActual.matricula\n                    valor_matricula_noActual = ''.join(str(ord(c)) for c in s)                    \n                    if (valor_matricula &gt; valor_matricula_noActual):\n                        noActual = self.rotateWithRightChild(noActual)\n                    else:\n                        noActual = self.doubleWithRightChild(noActual)\n\n            else:\n                return None\n        noActual.altura = max(self.altura(noActual.filhoEsquerdo), self.altura(noActual.filhoDireito)) +1\n\n        return noActual\n\n    def encontraNoo(self, matricula):\n\n        global raiz\n        return self.encontraNo(matricula, raiz)    \n\n\n    def encontraNo(self, matricula, noActual):\n\n        while (noActual != None):\n            s = matricula\n            valor_matricula = ''.join(str(ord(c)) for c in s) \n            so = noActual.matricula\n            valor_matricula_noActual = ''.join(str(ord(c)) for c in so)\n            if (valor_matricula &lt; valor_matricula_noActual):\n                noActual = noActual.filhoEsquerdo\n            elif (valor_matricula &gt; valor_matricula_noActual):\n                noActual = noActual.filhoDireito\n            else:\n                return noActual\n        return None\n\n\n\n    def rotateWithLeftChild(self, k2):\n        k1 = k2.filhoEsquerdo\n        k2.filhoEsquerdo = k1.filhoDireito\n        k1.filhoDireito = k2\n        k2.altura = max(self.altura(k2.filhoEsquerdo), self.altura(k2.filhoDireito))+1\n        k1.altura = max(self.altura(k1.filhoEsquerdo), k2.altura) +1\n\n        return k1\n\n    def rotateWithRightChild(self, k1):\n        k2 = k1.filhoDireito\n        k1.filhoDireito = k2.filhoEsquerdo\n        k2.filhoEsquerdo = k1\n        k1.altura = max(self.altura(k1.filhoEsquerdo), self.altura(k1.filhoDireito))+1\n\n        return k2\n\n    def doubleWithLeftChild(self, k3):\n        k3.filhoEsquerdo = rotateWithRightChild(k3.leftChild)\n        return rotateWithLeftChild(k3)\n\n    def doubleWithRightChild(self, k1):\n        k1.filhoDireito = rotateWithLeftChild(k1.filhoDireito)\n        return rotateWithRightChild(k1)\n\ndef main():\n\n    global raiz\n    arvore = Arvore_Avl()\n\n    inputs = raw_input()\n    inputs = inputs.lower()\n    split = inputs.split(\" \")\n    while (inputs!=\"\"):\n\n        if (split[0] == \"pass\"):\n\n            if(arvore.encontraNoo(split[1]) != None):\n                arvore.encontraNoo(split[1]).numero += 1\n                arvore.encontraNoo(split[1]).estado = split[2]\n            else:\n                arvore.adicionaNoo(split[1], split[2], 1)\n\n        elif (split[0] == \"status\"):\n            mat = split[1]\n\n            if (arvore.encontraNoo(mat)!= None):\n                print(split[1].upper() + \" \"+ str(arvore.encontraNoo(split[1]).numero) + \" \"+arvore.encontraNoo(split[1]).estado.upper())\n\n            else:\n                print(split[1].upper()+\" NO RECORD\")\n\n        elif (split[0] == \"unflag\"):\n            if (arvore.encontraNoo(split[1]) != None):\n                arvore.encontraNoo(split[1]).estado = \"R\"\n        inputs = raw_input()\n        inputs = inputs.lower()\n        split = inputs.split(\" \")        \n\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "configparser"], "answers": [{"tags": [], "owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "is_accepted": true, "score": 1, "last_activity_date": 1427326777, "creation_date": 1427326777, "answer_id": 29268576, "question_id": 29267792, "link": "https://stackoverflow.com/questions/29267792/how-do-i-get-the-location-of-the-entry-module-in-python/29268576#29268576", "title": "How do I get the location of the entry module in python?", "body": "<p>If by <em>entry module</em> you mean the program's <strong>entrypoint</strong> this is usually <code>sys.argv[0]</code>. So you could do something like this:</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>import os\nimport sys\n\n\ndef main():\n    basedir = os.path.dirname(sys.argv[0])\n    print \"base directory: {0:s}\".format(basedir)\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}], "owner": {"reputation": 12673, "user_id": 95195, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/735a05084346db68dff750870654da3d?s=128&d=identicon&r=PG", "display_name": "Justin Dearing", "link": "https://stackoverflow.com/users/95195/justin-dearing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 29268576, "answer_count": 1, "score": 3, "last_activity_date": 1427326777, "creation_date": 1427322761, "question_id": 29267792, "link": "https://stackoverflow.com/questions/29267792/how-do-i-get-the-location-of-the-entry-module-in-python", "title": "How do I get the location of the entry module in python?", "body": "<p>I know I can use <code>__file__</code> and <code>os.path.*</code> to figure out the path of the current module. What about the entry module? </p>\n\n<p>I'm trying to load an ini file into ConfigParser from a module based on the hostname, but I want it to be relative to the entry assembly, not necessarily the working directory. Is this possible?</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 3675, "user_id": 3481357, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4hixN.jpg?s=128&g=1", "display_name": "argaen", "link": "https://stackoverflow.com/users/3481357/argaen"}, "is_accepted": true, "score": 1, "last_activity_date": 1427323423, "creation_date": 1427323423, "answer_id": 29267913, "question_id": 29267769, "link": "https://stackoverflow.com/questions/29267769/closing-a-django-popuup/29267913#29267913", "title": "Closing a Django Popuup", "body": "<p><a href=\"https://github.com/django/django/blob/8f30556329b64005d63b66859a74752a0b261315/django/contrib/admin/options.py#L1085\" rel=\"nofollow\">response_change</a> is a <code>ModelAdmin</code> method so you have to override it in your admin class (or Inline class in your case).</p>\n"}], "owner": {"reputation": 139, "user_id": 2872147, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/91ccd16e35415c324f96b5189a5a6cc7?s=128&d=identicon&r=PG&f=1", "display_name": "user2872147", "link": "https://stackoverflow.com/users/2872147/user2872147"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 1, "accepted_answer_id": 29267913, "answer_count": 1, "score": 0, "last_activity_date": 1427323423, "creation_date": 1427322650, "last_edit_date": 1495541575, "question_id": 29267769, "link": "https://stackoverflow.com/questions/29267769/closing-a-django-popuup", "title": "Closing a Django Popuup", "body": "<p>I have a popup that redirects to an admin page where a user can edit some contact details.  I want the popup to close when the save button is pressed </p>\n\n<pre><code>class ContactInline(admin.TabularInline):\n    def Edit(self,emp):\n           w=emp.personnel_id\n           url='/admin/KUDZU/logmcontactinfodetails/'+str(w)\n           z= format_html(u'&lt;a href=\"{}\" onclick=\"return showRelatedObjectLookupPopup(this);\"&gt;Edit&lt;/a&gt;', url)\n    return (z)\n\n\nmodel = LogContactinfo\nfields = ('personnel','Edit','Phone','role','contact','note')\n</code></pre>\n\n<p>I've seen <a href=\"https://stackoverflow.com/questions/1546386/closing-a-django-admin-add-related-object-popup-window-on-save\">Closing a django admin add related object popup window on save</a> - where exactly do I need to override response_change?</p>\n"}, {"tags": ["python", "arrays", "numpy", "netcdf"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4714286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f70d28a63beef467091c1768ff69aa27?s=128&d=identicon&r=PG&f=1", "display_name": "IanM_63", "link": "https://stackoverflow.com/users/4714286/ianm-63"}, "edited": false, "score": 0, "creation_date": 1427426319, "post_id": 29268985, "comment_id": 46782008, "body": "Yes, thanks Mike, I totally agree.  This is my first question on stack overflow, I&#39;ll remember this next time.  As to your suggestion, this does create the vector, but only creates an iterative which seemed to cause problems when I then had to search and remove rows in the array with rainfall = -9999.  I ended using .flatten and that seemed to do the trick.  Thanks again!"}], "tags": [], "owner": {"reputation": 1, "user_id": 3704972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eb8f1b590d7832a7189a11bb7f9ef32?s=128&d=identicon&r=PG&f=1", "display_name": "belgaroo", "link": "https://stackoverflow.com/users/3704972/belgaroo"}, "is_accepted": false, "score": 0, "last_activity_date": 1427329523, "last_edit_date": 1427329523, "creation_date": 1427329330, "answer_id": 29268985, "question_id": 29267740, "link": "https://stackoverflow.com/questions/29267740/creating-vector-using-netcdf-into-array/29268985#29268985", "title": "creating vector using netcdf into array", "body": "<p>Ian, you need to put a repeatable example up here...</p>\n\n<p>I suspect what you need is something like this;</p>\n\n<pre><code>x = np.array([[1, 2, 3], [4, 5, 6]], np.int32)\nx.flat\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4714286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f70d28a63beef467091c1768ff69aa27?s=128&d=identicon&r=PG&f=1", "display_name": "IanM_63", "link": "https://stackoverflow.com/users/4714286/ianm-63"}, "edited": false, "score": 0, "creation_date": 1427426142, "post_id": 29268995, "comment_id": 46781968, "body": "OK, thanks for the detailed response.  This is substantially more involved than I expected.  I was just looking to create the 2D array with only land rows (i.e.: where rainfall !=-9999.), however, this might be more suitable for the next step where I have to use the landmask to extract files.  Thanks again!"}], "tags": [], "owner": {"reputation": 2927, "user_id": 1103901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/09dec0737b1899b0ed3226671220af58?s=128&d=identicon&r=PG", "display_name": "N1B4", "link": "https://stackoverflow.com/users/1103901/n1b4"}, "is_accepted": false, "score": 1, "last_activity_date": 1427329429, "creation_date": 1427329429, "answer_id": 29268995, "question_id": 29267740, "link": "https://stackoverflow.com/questions/29267740/creating-vector-using-netcdf-into-array/29268995#29268995", "title": "creating vector using netcdf into array", "body": "<p>Here is an alternative method that simply creates a new 2D variable, <code>landmask</code>, where each grid cell is either 0 (ocean) or 1 (land). (I like to use 1 and 0 landmasks because you can transform it into a boolean numpy array and do quick land-averages this way.)</p>\n\n<pre><code>import netCDF4\nimport numpy as np\n\nncfile = netCDF4.('/path/to/your/ncfile.nc', 'r')\nlat = ncfile.variables['lat'][:]\nlon = ncfile.variables['lon'][:]\n# Presuming here that rainfall is 2D, if not, just read in the first time step, i.e. [0,:,:]\nrain = ncfile.variables['lwe_thickness_of_precipitation_amount'][:,:] \nncfile.close()\n\nnlat, nlon = len(lat), len(lon)\n# Populate a 2D landmask array, where 1=land and 0=ocean\nlandmask = np.zeros([nlat, nlon], dtype='int')\nfor y in range(nlat):\n    for x in range(nlon):\n        if rain[y,x]!=-9999: # We're at a land point\n             landmask[y,x] = 1\n\n# Now you can write out the landmask into a new netCDF file\nfilename_out = './landmask.nc'\nncfile_out = netCDF4.Dataset(filename_out, 'w')\nncfile_out.createDimension('lat', nlat)\nncfile_out.createDimension('lon', nlon)\nlat_out = ncfile_out.createVariable('lat', 'f4', ('lat',))\nlon_out = ncfile_out.createVariable('lon', 'f4', ('lon',))\nlandmask_out = ncfile_out.createVariable('landmask', 'i', ('lat', 'lon',))\nsetattr(lat_out, 'units', 'degrees_north')\nsetattr(lon_out, 'units', 'degrees_east')\nsetattr(landmask_out, 'description', '1=land 0=ocean')\nlat_out[:] = lat\nlon_out[:] = lon\nlandmask_out[:,:] = landmask[:,:]\nncfile_out.close() \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4714286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f70d28a63beef467091c1768ff69aa27?s=128&d=identicon&r=PG&f=1", "display_name": "IanM_63", "link": "https://stackoverflow.com/users/4714286/ianm-63"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1427329523, "creation_date": 1427322511, "last_edit_date": 1427329157, "question_id": 29267740, "link": "https://stackoverflow.com/questions/29267740/creating-vector-using-netcdf-into-array", "title": "creating vector using netcdf into array", "body": "<p>I'm fairly new to python and have found stack overflow one of the best resources out there, now I'm hoping someone can help me with what I believe is a fairly basic question.</p>\n\n<p>I'm looking to create a land mask from a list of lats and lons and rainfall data extracted from a netCDF file.  I need to get the data from the netcdf file to line up so I can remove rows which have a rainfall value of '-9999.' (indicating no data because its over the ocean).  I can access the file, I can create a mesh grid, but when it comes to inserting the rainfall data for the final check I'm getting odd shapes and no luck with the logical test. Can someone have a look at this code and let me know what you think?</p>\n\n<pre><code>from netCDF4 import Dataset\nimport numpy as np\n\nf=Dataset('/Testing/Ensemble_grid/1970_2012_eMAST_ANUClimate_mon_evap_v1m0_197001.nc')\n\nlat = f.variables['latitude'][:]\nlon = f.variables['longitude'][:]\nrainfall = np.array(f.variables['lwe_thickness_of_precipitation_amount'])\nlons, lats = np.meshgrid(lon,lat)\nfull_ary = np.array((lats,lons))\nfull_lats_lons = np.swapaxes(full_ary,0,2)\nrain_data = np.squeeze(rainfall,axis=(0,))\ngrid = np.array((full_lats_lons,rain_data))\nfull_grid = np.expand_dims(grid,axis=1)\nfull_grid_col = np.swapaxes(full_grid,0,1)\nland_grid = np.logical_not(full_grid_col[:,1]==-9999.)\n</code></pre>\n"}, {"tags": ["python", "graph", "igraph"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3403882"}, "is_accepted": true, "score": 2, "last_activity_date": 1427324847, "creation_date": 1427324847, "answer_id": 29268201, "question_id": 29267735, "link": "https://stackoverflow.com/questions/29267735/python-igraph-create-graph-from-file/29268201#29268201", "title": "python-igraph create graph from file", "body": "<p>You need to replace \",\" with white space. Apparently Graph.Read_Edgelist only understands \" \" as delimiter for the file.</p>\n"}], "owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1212, "favorite_count": 0, "accepted_answer_id": 29268201, "answer_count": 1, "score": 1, "last_activity_date": 1427324847, "creation_date": 1427322461, "question_id": 29267735, "link": "https://stackoverflow.com/questions/29267735/python-igraph-create-graph-from-file", "title": "python-igraph create graph from file", "body": "<p>I am trying to create a graph from a network stored in a file using the Graph.Read_Edgelist method. I have the following code:</p>\n\n<pre><code>netFile = open(\"trades-train.txt\",'r')\ngraph = Graph.Read_Edgelist(netFile, directed=True)\n</code></pre>\n\n<p>And I receive the following error:</p>\n\n<pre><code>igraph._igraph.InternalError: Error at src\\foreign.c:105: parsing edgelist file failed, Parse error\n</code></pre>\n\n<p>And this is a sample of what I have in the file:</p>\n\n<pre><code>7047,1481\n1163,1309\n6279,2975\n2975,6279\n</code></pre>\n\n<p>Which is basically a list of edges of my network. Any idea why I get this error?</p>\n\n<p>I can not find any extra character of things like that.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "django", "python-2.7", "session-variables"], "answers": [{"tags": [], "owner": {"reputation": 2348, "user_id": 3009071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/VmcvH.png?s=128&g=1", "display_name": "Salvatore Avanzo", "link": "https://stackoverflow.com/users/3009071/salvatore-avanzo"}, "is_accepted": true, "score": 2, "last_activity_date": 1427884108, "last_edit_date": 1427884108, "creation_date": 1427804455, "answer_id": 29368551, "question_id": 29267725, "link": "https://stackoverflow.com/questions/29267725/how-to-re-initialize-a-session-variable-in-a-django-sessionwizardview/29368551#29368551", "title": "How to re-initialize a session variable in a Django SessionWizardView", "body": "<p>You should initialize your variable <code>path_one_images</code> only on the first wizard step:</p>\n\n<pre><code>....\n\nstep = int(self.steps.current)    \nif step == 0:\n    self.request.session['path_one_images'] = ['P1D1.jpg', 'P2D2.jpg', 'P3D3.jpg', 'P4D4.jpg', 'P5D5.jpg', 'P6D6.jpg', 'P7D7.jpg', 'P8D8.jpg', 'P9D9.jpg']    \n\nPATH_ONE_IMAGES = self.request.session.get('path_one_images', [])        \nimages = self.request.session.get('images', [])\nslider_DV_values = self.request.session.get('slider_DV_values', [])\n\nif step in range (5, 19):   \n    # You don't need to reinit here your session variable\n    # self.request.session['path_one_images'] = PATH_ONE_IMAGES               \n\n....\n</code></pre>\n\n<p>and maybe you need to adopt the same approach for <code>images</code> and <code>slider_DV_values</code> variables.</p>\n"}, {"tags": [], "owner": {"reputation": 5892, "user_id": 1476941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UX0GO.jpg?s=128&g=1", "display_name": "brainless coder", "link": "https://stackoverflow.com/users/1476941/brainless-coder"}, "is_accepted": false, "score": 2, "last_activity_date": 1427809811, "creation_date": 1427809811, "answer_id": 29370189, "question_id": 29267725, "link": "https://stackoverflow.com/questions/29267725/how-to-re-initialize-a-session-variable-in-a-django-sessionwizardview/29370189#29370189", "title": "How to re-initialize a session variable in a Django SessionWizardView", "body": "<p>Actually when you visit with the same browser you are not initialising, you are actually using the same <code>PATH_ONE_IMAGES</code>, that you saved at the <code>9th</code> step. This is happening because if this line of code - </p>\n\n<pre><code>PATH_ONE_IMAGES = self.request.session.get('path_one_images', ['P1D1.jpg', 'P2D2.jpg', 'P3D3.jpg', 'P4D4.jpg', 'P5D5.jpg', 'P6D6.jpg', 'P7D7.jpg', 'P8D8.jpg', 'P9D9.jpg']) \n</code></pre>\n\n<blockquote>\n  <p>Note that, <code>get</code> only return the second parameter if the provided key (first parameter) is not present in a dictionary, neither it checks what the value is nor does it initialises the dictionary with the provided default value (second parameter). So with this line code, the value of <code>path_on_images</code> inside the session is never updated, it will only check if that value exists or not - it won't check for empty value, None or anything else.</p>\n</blockquote>\n\n<p>I will describe the scenario, what is happening in your case - </p>\n\n<ol>\n<li><p>When the first time you open the browser there is nothing in the <code>session</code>. So the first time the above code will assign <code>['P1D1.jpg', 'P2D2.jpg', 'P3D3.jpg', 'P4D4.jpg', 'P5D5.jpg', 'P6D6.jpg', 'P7D7.jpg', 'P8D8.jpg', 'P9D9.jpg']</code> inside <code>PATH_ONE_IMAGES</code>.</p></li>\n<li><p>continues until <code>PATH_ONE_IMAGES</code> is empty .... no error..</p></li>\n<li><p>Now you refreshed the browser, but remember <code>session</code> does not get cleared for only refreshing the browser, therefore the <code>PATH_ONE_IMAGE</code>, that you saved in the session is not cleared and thus contains an empty list of item that was saved at last step.</p></li>\n</ol>\n\n<p>So, somehow you have to clear the variable when it is the first step. You can take the code sample that @salvatore provided and add a check to initialise it only at step 0.</p>\n\n<pre><code>step = int(self.steps.current)    \nif step == 0:\n    self.request.session['path_one_images'] = ['P1D1.jpg', 'P2D2.jpg', 'P3D3.jpg', 'P4D4.jpg', 'P5D5.jpg', 'P6D6.jpg', 'P7D7.jpg', 'P8D8.jpg', 'P9D9.jpg']    \n\nPATH_ONE_IMAGES = self.request.session.get('path_one_images', [])        \nimages = self.request.session.get('images', [])\nslider_DV_values = self.request.session.get('slider_DV_values', [])`\n</code></pre>\n"}], "owner": {"reputation": 3643, "user_id": 1214163, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5bfcb7342fa7d6e334b6bef43f61b37a?s=128&d=identicon&r=PG", "display_name": "Deepend", "link": "https://stackoverflow.com/users/1214163/deepend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 1, "accepted_answer_id": 29368551, "answer_count": 2, "score": 3, "last_activity_date": 1427884108, "creation_date": 1427322424, "last_edit_date": 1495541659, "question_id": 29267725, "link": "https://stackoverflow.com/questions/29267725/how-to-re-initialize-a-session-variable-in-a-django-sessionwizardview", "title": "How to re-initialize a session variable in a Django SessionWizardView", "body": "<p>I am using a Djago <a href=\"https://docs.djangoproject.com/en/1.7/ref/contrib/formtools/form-wizard/#django.contrib.formtools.wizard.views.SessionWizardView\" rel=\"nofollow noreferrer\">SessionWizardView</a> to divide a survey application over multiple pages. The code below is designed to select one image at random from the <code>PATH_ONE_IMAGES</code> list on each step, display it to the user, and then remove it from the list, so that it cannot be selected a second time, until all the images are gone. </p>\n\n<p>This works fine, but when I revisit the survey in the same browser the <code>PATH_ONE_IMAGES</code> is still empty despite my re-initializing it at the start. It works fine if I delete the browser history or if use a different browser each time I use it but I keep getting the below error when I revisit the application using the same browser. </p>\n\n<blockquote>\n  <p>IndexError at /surveyone/</p>\n  \n  <p>list index out of range</p>\n</blockquote>\n\n<p>I am only learning how to use Session variables but I thought that by re-initializing <code>PATH_ONE_IMAGES</code> as containing all 9 of the jpgs as I do below at the top of my <code>SessionWizardView</code> that the list would be \"re-populated\" each time.</p>\n\n<pre><code>PATH_ONE_IMAGES = self.request.session.get('path_one_images', ['P1D1.jpg', 'P2D2.jpg', 'P3D3.jpg', 'P4D4.jpg', 'P5D5.jpg', 'P6D6.jpg', 'P7D7.jpg', 'P8D8.jpg', 'P9D9.jpg']) \n</code></pre>\n\n<p>Is this not correct?</p>\n\n<p>From my debug script below I can see that the first time I visit the application with a 'fresh' browser the <code>PATH_ONE_IMAGES</code> has 9 items stored in it.    </p>\n\n<pre><code>logger.debug('\\n\\nThis is the available list of PATH_ONE_IMAGES in 5: %s', PATH_ONE_IMAGES)\n</code></pre>\n\n<p>I then select one of these <code>PATH_ONE_IMAGES</code> at random, display it to the user and then remove it from the list. </p>\n\n<pre><code>first_image = random.choice(PATH_ONE_IMAGES)   \nPATH_ONE_IMAGES.remove(first_image)               \ncontext['display_image'] = first_image\n</code></pre>\n\n<p>My issue is that when I revisit a second time using the same browser the list is empty, even though I re-initialize it at the top. </p>\n\n<p><strong>Question:</strong> How do I repopulate my <code>PATH_ONE_IMAGES</code> list each time the user revisits the application even when using the same browser?</p>\n\n<p>I apologize if I am using the wrong terminology, I hope you can understand what I mean.</p>\n\n<p>Note: I need to store <code>PATH_ONE_IMAGES</code> as a session variable due to <a href=\"https://stackoverflow.com/a/27770142/1214163\">an issue I had previously with using Global variables and Multi-threaded processing</a>. </p>\n\n<p><strong>My Code</strong></p>\n\n<pre><code>class SurveyWizardOne(SessionWizardView):                             \n    def get_context_data(self, form, **kwargs):\n        context = super(SurveyWizardOne, self).get_context_data(form, **kwargs)                      \n        step = int(self.steps.current)        \n\n        PATH_ONE_IMAGES = self.request.session.get('path_one_images', ['P1D1.jpg', 'P2D2.jpg', 'P3D3.jpg', 'P4D4.jpg', 'P5D5.jpg', 'P6D6.jpg', 'P7D7.jpg', 'P8D8.jpg', 'P9D9.jpg'])        \n        images = self.request.session.get('images', [])\n        slider_DV_values = self.request.session.get('slider_DV_values', [])\n\n        if step in range (5, 19):   \n            self.request.session['path_one_images'] = PATH_ONE_IMAGES               \n\n            self.request.session['images'] = images\n            self.request.session['slider_DV_values'] = slider_DV_values\n\n            if step == 5:\n                logger.debug('\\n\\nThis is the available list of PATH_ONE_IMAGES in 5: %s', PATH_ONE_IMAGES)\n\n                first_image = random.choice(PATH_ONE_IMAGES)   \n                PATH_ONE_IMAGES.remove(first_image)               \n                context['display_image'] = first_image                                 \n                images.insert(0, first_image)   \n                self.request.session['first_image'] = images[0] \n                self.request.session.get('first_image')                          \n\n\n            elif step == 6:\n                logger.debug('\\n\\nThis is the available list of PATH_ONE_Images in 6: %s', PATH_ONE_IMAGES)\n\n                second_image = random.choice(PATH_ONE_IMAGES)   \n                PATH_ONE_IMAGES.remove(second_image)\n                context['display_image'] = second_image                                 \n                images.insert(1, second_image)   \n                self.request.session['second_image'] = images[1] \n                self.request.session.get('second_image')    \n                ....\n                ....\n</code></pre>\n\n<p>Any help, is as always, much appreciated</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "edited": false, "score": 0, "creation_date": 1427324023, "post_id": 29267720, "comment_id": 46737505, "body": "Shouldn&#39;t it be <code>[[&#39;a&#39;, 3], [&#39;b&#39;, 5], [&#39;c&#39;, 7], [&#39;d&#39;, 9]]</code> for <code>i=1</code> ?"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "reply_to_user": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "edited": false, "score": 0, "creation_date": 1427324158, "post_id": 29267720, "comment_id": 46737551, "body": "not include the current row."}, {"owner": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "edited": false, "score": 0, "creation_date": 1427324859, "post_id": 29267720, "comment_id": 46737824, "body": "What for <code>i=len(lst)</code>?"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "reply_to_user": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "edited": false, "score": 0, "creation_date": 1427324915, "post_id": 29267720, "comment_id": 46737842, "body": "give <code>None</code> value, or skip the row?"}], "answers": [{"comments": [{"owner": {"reputation": 1630, "user_id": 214288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6a79b21927659c91953f39895eac2d9?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/214288/phil"}, "edited": false, "score": 0, "creation_date": 1427323355, "post_id": 29267843, "comment_id": 46737253, "body": "I don&#39;t think a dictionary would work, because they are unordered."}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "reply_to_user": {"reputation": 1630, "user_id": 214288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6a79b21927659c91953f39895eac2d9?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/214288/phil"}, "edited": false, "score": 0, "creation_date": 1427323407, "post_id": 29267843, "comment_id": 46737264, "body": "Good point... Perhaps you could you <code>sorted</code> when handling? An idea, can&#39;t remember if you can use it with dictionaries."}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "reply_to_user": {"reputation": 1630, "user_id": 214288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6a79b21927659c91953f39895eac2d9?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/214288/phil"}, "edited": false, "score": 1, "creation_date": 1427323478, "post_id": 29267843, "comment_id": 46737288, "body": "One other option is <code>collections.OrderedDict</code>. It&#39;s a built-in module. I haven&#39;t used it before, but it looks like this is a good application for its use."}], "tags": [], "owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "is_accepted": false, "score": 1, "last_activity_date": 1427323581, "last_edit_date": 1427323581, "creation_date": 1427322988, "answer_id": 29267843, "question_id": 29267720, "link": "https://stackoverflow.com/questions/29267720/data-type-for-summing-next-few-items/29267843#29267843", "title": "Data type for summing next few items", "body": "<p>You can use a dictionary. They have keys and values to store values to variables. You can put functions, and other variables as keys.</p>\n\n<pre><code>mydata = {'a': 1, 'b': 2 # and so on...\n         }\n\n&gt;&gt;&gt; mydata['a']\n1\n</code></pre>\n\n<p>For the calculations, I'm not entirely sure how to do that... You could use <code>mydata.itervalues()</code> and get all the values and then reassign things to the keys, if you know how to handle the numbers (I'm not entirely sure about what's happening with the numbers).</p>\n\n<p>Edit:</p>\n\n<p>Since dictionaries aren't sorted, you could use <a href=\"https://docs.python.org/2/library/collections.html#collections.OrderedDict\" rel=\"nofollow\"><code>collections.OrderedDict</code></a>. As it remembers when keys are inserted, this may be a good application for its use. If you can't use it, the built-in <a href=\"https://docs.python.org/2/library/functions.html#sorted\" rel=\"nofollow\"><code>sorted()</code></a> function may be useful as well.</p>\n"}, {"tags": [], "owner": {"reputation": 1630, "user_id": 214288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6a79b21927659c91953f39895eac2d9?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/214288/phil"}, "is_accepted": false, "score": 2, "last_activity_date": 1427323800, "creation_date": 1427323800, "answer_id": 29267980, "question_id": 29267720, "link": "https://stackoverflow.com/questions/29267720/data-type-for-summing-next-few-items/29267980#29267980", "title": "Data type for summing next few items", "body": "<p>Not really a 'data structure' per se, but you could try something like this:</p>\n\n<pre><code>labels = ['a','b','c','d','e']\nvals = [1, 2, 3, 4, 5]\n\ndef foo(i):\n    for j in range(len(vals)-i):\n        print labels[j], sum(vals[j+1:j+1+i])\n</code></pre>\n\n<p>You could also roll the whole thing into a class.</p>\n"}, {"comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1427323983, "post_id": 29267993, "comment_id": 46737492, "body": "Nice job on solving the entire collection problem. :)"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1427324393, "post_id": 29267993, "comment_id": 46737636, "body": "Thanks. I wonder what advantage of using list comprehension versus explicit for loop? Faster performance? Or only more concise code?"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1427324530, "post_id": 29267993, "comment_id": 46737690, "body": "What  &quot;cases where performance is hurt&quot;?  Did you answer my questions but I miss that?"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1427324788, "post_id": 29267993, "comment_id": 46737796, "body": "Is list comprehension faster than for loop in your code? (I  wonder why list comphrehension is often favored? More logical in thinking?)"}, {"owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "edited": false, "score": 0, "creation_date": 1427324988, "post_id": 29267993, "comment_id": 46737864, "body": "It needs to be tested...but I guess yes"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1427325104, "post_id": 29267993, "comment_id": 46737920, "body": "Thanks.  I have a second idea, which is to split the two-col list into two lists, do calculation on the second-col list, and combine the result with the first-col list. Is it doable and a good idea?"}, {"owner": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1427326500, "post_id": 29267993, "comment_id": 46738426, "body": "@Tim: That&#39;s what <code>enumerate</code> (splitting) and <code>sum</code> (calculation) are doing. The same are methods in my anwer along with <i>more descriptive</i> one. @JuniorCompressor congrats for more compact code."}], "tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": true, "score": 6, "last_activity_date": 1427329937, "last_edit_date": 1427329937, "creation_date": 1427323850, "answer_id": 29267993, "question_id": 29267720, "link": "https://stackoverflow.com/questions/29267720/data-type-for-summing-next-few-items/29267993#29267993", "title": "Data type for summing next few items", "body": "<p>You can create the following function:</p>\n\n<pre><code>def my_sum(l, i):\n    return [\n        [x[0], sum(y[1] for y in l[j: j + i])] for j, x in enumerate(l[:-i], 1)\n    ]\n</code></pre>\n\n<p>Examples:</p>\n\n<pre><code>&gt;&gt;&gt; my_sum(lst, 1)\n[['a', 2], ['b', 3], ['c', 4], ['d', 5]]\n&gt;&gt;&gt; my_sum(lst, 2)\n[['a', 5], ['b', 7], ['c', 9]]\n&gt;&gt;&gt; my_sum(lst, 3)\n[['a', 9], ['b', 12]]\n&gt;&gt;&gt; my_sum(lst, 4)\n[['a', 14]]\n</code></pre>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>Implementation based on second idea using <code>numpy</code>:</p>\n\n<pre><code>import numpy as np\n\ndef my_sum(l, i):\n    a, b, n = [v[0] for v in lst], np.array([v[1] for v in lst]), len(l)\n    sums = np.zeros(n, dtype=np.int)\n    for j in xrange(1, i + 1):\n        sums[:n - j] += b[j: n]\n    return zip(a[:-i], sums[:-i])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "is_accepted": false, "score": 1, "last_activity_date": 1427324607, "creation_date": 1427324607, "answer_id": 29268153, "question_id": 29267720, "link": "https://stackoverflow.com/questions/29267720/data-type-for-summing-next-few-items/29268153#29268153", "title": "Data type for summing next few items", "body": "<p>A bit less terse,</p>\n\n<pre><code>import operator\nletter = operator.itemgetter(0)\nnumber = operator.itemgetter(1)\nlst = [['a', 1],   ['b', 2], ['c', 3],  ['d', 4],  ['e', 5]]\nx = 3\nfor i, thing in enumerate(lst, 1):\n    n = sum(number(other) for other in lst[i:i+3])\n    print letter(thing), n \n\na 9\nb 12\nc 9\nd 5\ne 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "is_accepted": false, "score": 1, "last_activity_date": 1427325880, "creation_date": 1427325880, "answer_id": 29268403, "question_id": 29267720, "link": "https://stackoverflow.com/questions/29267720/data-type-for-summing-next-few-items/29268403#29268403", "title": "Data type for summing next few items", "body": "<p>You are using already a structure - a list. List comprehesions are the answer:</p>\n\n<pre><code>def sum_next_few(lst, i):\n    return [[x[0], sum(map(lambda y: y[1], lst[lst.index(x)+1:lst.index(x)+i+1]))] for x in lst[:-i]]\n</code></pre>\n\n<p>Formatted code:</p>\n\n<pre><code>def sum_next_few(lst, i):\n    return [[\n            x[0],\n            sum(\n                map(lambda y: y[1], lst[lst.index(x)+1:lst.index(x)+i+1])\n            )] for x in lst[:-i]]\n</code></pre>\n\n<p>Or more descriptive version:</p>\n\n<pre><code>def sum_next_few(lst, i):\n    result = []\n    # We will add numbers to positions that are having successors\n    for x in lst[:-i]:\n        idx = lst.index(x)\n        # Our string\n        st = x[0]\n        # Our sum\n        sm = sum(map(lambda y: y[1], lst[idx+1:idx+i+1]))\n        result.append([st, sm])\n    return result\n</code></pre>\n\n<p>Above solution with input from your question:</p>\n\n<pre><code>lst = [['a', 1],\n['b', 2],\n['c', 3],\n['d', 4],\n['e', 5]]\n\n&gt;&gt;&gt; sum_next_few(lst, 1)\n[['a', 2], ['b', 3], ['c', 4], ['d', 5]]\n&gt;&gt;&gt; sum_next_few(lst, 2)\n[['a', 5], ['b', 7], ['c', 9]]\n&gt;&gt;&gt; sum_next_few(lst, 3)\n[['a', 9], ['b', 12]]\n&gt;&gt;&gt; sum_next_few(lst, 4)\n[['a', 14]]\n&gt;&gt;&gt; sum_next_few(lst, 5)\n[]\n</code></pre>\n\n<p>GL, HF :)</p>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 29267993, "answer_count": 5, "score": 3, "last_activity_date": 1427329937, "creation_date": 1427322407, "last_edit_date": 1427326287, "question_id": 29267720, "link": "https://stackoverflow.com/questions/29267720/data-type-for-summing-next-few-items", "title": "Data type for summing next few items", "body": "<p>What data structure shall I use to represent the following table</p>\n\n<pre><code>'a', 1\n'b', 2\n'c', 3\n'd', 4\n'e', 5\n</code></pre>\n\n<p>so that calculating the sum of the second items in the next i rows seems natural:</p>\n\n<p>e.g. when i=1</p>\n\n<pre><code>'a', 2\n'b', 3\n'c', 4\n'd', 5\n</code></pre>\n\n<p>when i=2</p>\n\n<pre><code>'a', 2+3=5\n'b', 3+4=7\n'c', 4+5=9\n</code></pre>\n\n<p>when i=3</p>\n\n<pre><code>'a', 2+3+4=9\n'b', 3+4+5=12\n</code></pre>\n\n<p>when i=4</p>\n\n<pre><code>'a', 2+3+4+5=14\n</code></pre>\n\n<p>My two ideas:</p>\n\n<ol>\n<li><p>Originally I represent the table as a list of sublists:</p>\n\n<pre><code>lst = [['a', 1],\n['b', 2],\n['c', 3],\n['d', 4],\n['e', 5]]\n</code></pre>\n\n<p>but I can't figure out how to do the above calculations (in a\nnatural or straightforward way). <code>sum(lst[0:0+i][1])</code> doesn't work.\nThe problem about my way is how to represent a sublist of i\nconsecutive values from the second column in the table, for which\n<code>lst[0:0+i][1]</code> doesn't work. (Does using two brackets side by side not work?)</p></li>\n<li><p>I have another idea, but I don't know how to implement it (can someone point out if it can be implemented?):</p>\n\n<ul>\n<li><p>split the above list into two lists, each for each column.</p></li>\n<li><p>do calculations on the second column list</p></li>\n<li><p>combine the first list and the result on the second column list.</p></li>\n</ul></li>\n</ol>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "mysql", "django"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 3, "creation_date": 1427322432, "post_id": 29267693, "comment_id": 46736904, "body": "Match every string in the field - why don&#39;t provide the <code>town</code> argument in the first place? I am missing smth here."}, {"owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "edited": false, "score": 3, "creation_date": 1427322448, "post_id": 29267693, "comment_id": 46736908, "body": "If you&#39;re going to match every town, just remove <code>town</code> from the <code>.filter</code>."}, {"owner": {"reputation": 197, "user_id": 2662692, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3016a85b4cbb278addb06654e5acb443?s=128&d=identicon&r=PG", "display_name": "user2662692", "link": "https://stackoverflow.com/users/2662692/user2662692"}, "reply_to_user": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "edited": false, "score": 0, "creation_date": 1427325559, "post_id": 29267693, "comment_id": 46738109, "body": "@Joseph thats not really the point of my question.    I have a view that displays hundreds of statistics for each town.  I also want a &quot;master&quot; view that displays these stats for all users regardless of the town.  That is why most of the time, I do want the town to be passed in, but on rare occasion, I would like to pass something into that view that will match everything."}, {"owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "edited": false, "score": 0, "creation_date": 1427325649, "post_id": 29267693, "comment_id": 46738143, "body": "@user2662692 So use a different queryset in each case. If you&#39;re in the &quot;master view&quot;, don&#39;t pass in town."}, {"owner": {"reputation": 197, "user_id": 2662692, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3016a85b4cbb278addb06654e5acb443?s=128&d=identicon&r=PG", "display_name": "user2662692", "link": "https://stackoverflow.com/users/2662692/user2662692"}, "reply_to_user": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "edited": false, "score": 0, "creation_date": 1427326195, "post_id": 29267693, "comment_id": 46738320, "body": "@Joseph the whole point of the question is that I am trying to avoid that.  I don&#39;t want to re-write hundreds of queries... it might not be possible, but I thought I&#39;d ask."}], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 2662692, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3016a85b4cbb278addb06654e5acb443?s=128&d=identicon&r=PG", "display_name": "user2662692", "link": "https://stackoverflow.com/users/2662692/user2662692"}, "edited": false, "score": 0, "creation_date": 1427325625, "post_id": 29267766, "comment_id": 46738131, "body": "Awesome.  Did not know you could do this."}], "tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": true, "score": 3, "last_activity_date": 1427323157, "last_edit_date": 1427323157, "creation_date": 1427322635, "answer_id": 29267766, "question_id": 29267693, "link": "https://stackoverflow.com/questions/29267693/when-querying-a-django-model-is-there-a-way-to-match-every-string-in-a-field/29267766#29267766", "title": "When querying a Django model, is there a way to match every string in a field", "body": "<p>It's better not to specify <code>town</code> filter at all:</p>\n\n<pre><code>User.objects.filter(gender=\"M\").count();\n</code></pre>\n\n<p>For this you could use a dictionary to pass the keyword arguments:</p>\n\n<pre><code>def count_users(selectedTown=None):\n    filters = {\"gender\": \"M\"}\n    if selectedTown is not None:\n        filters[\"town\"] = selectedTown\n    return User.objects.filter(**filters).count();\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 2662692, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3016a85b4cbb278addb06654e5acb443?s=128&d=identicon&r=PG", "display_name": "user2662692", "link": "https://stackoverflow.com/users/2662692/user2662692"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 1, "accepted_answer_id": 29267766, "answer_count": 1, "score": 1, "last_activity_date": 1427323157, "creation_date": 1427322301, "question_id": 29267693, "link": "https://stackoverflow.com/questions/29267693/when-querying-a-django-model-is-there-a-way-to-match-every-string-in-a-field", "title": "When querying a Django model, is there a way to match every string in a field", "body": "<p>I have a lot of code that runs queries like the following:</p>\n\n<pre><code>User.objects.filter(town=selectedTown, gender=\"M\").count();\n</code></pre>\n\n<p>if I were writing the mySQL statements, I could pass \"%\" as the value for selectedTown and it would match everything.  Is there a way I can achieve this in Django, not by modifying the query, but by passing in a wildcard string.  </p>\n\n<p>The reason is because I have large blocks of code that give me all kinds of statistics about users in whichever town I select.   I would also like there to be a \"master\" view where it shows users in every town, but I don't want to have to re-write all of the queries.  </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "proxy", "firewall", "anaconda"], "comments": [{"owner": {"reputation": 75386, "user_id": 161801, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0383e4cae325f65a1bbd906be4be2276?s=128&d=identicon&r=PG", "display_name": "asmeurer", "link": "https://stackoverflow.com/users/161801/asmeurer"}, "edited": false, "score": 0, "creation_date": 1427394183, "post_id": 29267646, "comment_id": 46769525, "body": "conda and pip are both using requests, which uses urllib3."}], "answers": [{"comments": [{"owner": {"reputation": 3428, "user_id": 2213669, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/85bb9e2c9145ecb17430d6fdb574410f?s=128&d=identicon&r=PG&f=1", "display_name": "dustin", "link": "https://stackoverflow.com/users/2213669/dustin"}, "edited": false, "score": 0, "creation_date": 1459795693, "post_id": 29267796, "comment_id": 60436838, "body": "Are you on Windows? If so, where does the conda configuration file go?"}, {"owner": {"reputation": 2846, "user_id": 4843695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7220b209029d8066f18cc5dd96392d1?s=128&d=identicon&r=PG&f=1", "display_name": "ctrl-alt-delete", "link": "https://stackoverflow.com/users/4843695/ctrl-alt-delete"}, "edited": false, "score": 0, "creation_date": 1461063820, "post_id": 29267796, "comment_id": 61018271, "body": "Does anyone know where pip installed via anaconda 4.0.0 picks up the proxy from?"}, {"owner": {"reputation": 1056, "user_id": 1268085, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ff2b99da4e49f13c53b2f718649fc6a9?s=128&d=identicon&r=PG&f=1", "display_name": "Yogesh Sajanikar", "link": "https://stackoverflow.com/users/1268085/yogesh-sajanikar"}, "edited": false, "score": 0, "creation_date": 1473665166, "post_id": 29267796, "comment_id": 66212338, "body": "I could not find way to put proxy information in config. However, the environment variables http_proxy and https_proxy work just fine."}, {"owner": {"reputation": 1060, "user_id": 4150685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hj6bE.jpg?s=128&g=1", "display_name": "johnjps111", "link": "https://stackoverflow.com/users/4150685/johnjps111"}, "reply_to_user": {"reputation": 3428, "user_id": 2213669, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/85bb9e2c9145ecb17430d6fdb574410f?s=128&d=identicon&r=PG&f=1", "display_name": "dustin", "link": "https://stackoverflow.com/users/2213669/dustin"}, "edited": false, "score": 0, "creation_date": 1483729316, "post_id": 29267796, "comment_id": 70230945, "body": "@dustin : just open your Anaconda prompt; the default path there (probably your directory under Users) should contain the .condarc file... now that you know where it is, just go find it and edit it with your preferred text editor."}, {"owner": {"reputation": 2045, "user_id": 827921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/gZWl4.jpg?s=128&g=1", "display_name": "Rahul Saini", "link": "https://stackoverflow.com/users/827921/rahul-saini"}, "reply_to_user": {"reputation": 3428, "user_id": 2213669, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/85bb9e2c9145ecb17430d6fdb574410f?s=128&d=identicon&r=PG&f=1", "display_name": "dustin", "link": "https://stackoverflow.com/users/2213669/dustin"}, "edited": false, "score": 0, "creation_date": 1559800245, "post_id": 29267796, "comment_id": 99533880, "body": "@dustin : Are you on Windows? If so, where does the conda configuration file go?    One can get info on .condarc file path with conda command prompt :   conda info    and one can create .condarc file with command  :   conda config"}], "tags": [], "owner": {"reputation": 1601, "user_id": 753320, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/137ec1f67fc339d74e6d6190fd1cb18d?s=128&d=identicon&r=PG", "display_name": "Randall Goodwin", "link": "https://stackoverflow.com/users/753320/randall-goodwin"}, "is_accepted": false, "score": 17, "last_activity_date": 1427322765, "creation_date": 1427322765, "answer_id": 29267796, "question_id": 29267646, "link": "https://stackoverflow.com/questions/29267646/how-to-enable-proxy-servers-with-anaconda-python/29267796#29267796", "title": "How to enable proxy servers with anaconda python?", "body": "<p>Well,  this is embarrassing,  but good news.   I solved my problem with one more attempt at a change in the condarc file. </p>\n\n<pre><code>https: https://abc.def.xyz.com:1234\n</code></pre>\n\n<p>I guess pip worked ok with regular http,  while conda's addresses are all https sites:</p>\n\n<pre><code>https://repo.continuum.io/pkgs/free/win-64/\n</code></pre>\n\n<p>I should have caught that!   </p>\n\n<p>Well,  I am now just happy that we have a solution to use conda behind our firewall, and without needing a user and password.  Awesome!</p>\n"}, {"comments": [{"owner": {"reputation": 2045, "user_id": 827921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/gZWl4.jpg?s=128&g=1", "display_name": "Rahul Saini", "link": "https://stackoverflow.com/users/827921/rahul-saini"}, "edited": false, "score": 0, "creation_date": 1559801149, "post_id": 44942447, "comment_id": 99534098, "body": "for me this worked:  ssl_verify: false channels:   - defaults show_channel_urls: true allow_other_channels: true proxy_servers:   http: <a href=\"http://proxy-master.mycompany.com:8080\" rel=\"nofollow noreferrer\">proxy-master.mycompany.com:8080</a>   https: <a href=\"https://proxy-master.mycompany.com:8080\" rel=\"nofollow noreferrer\">proxy-master.mycompany.com:8080</a>"}], "tags": [], "owner": {"reputation": 155, "user_id": 7063443, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/oOUAf.jpg?s=128&g=1", "display_name": "bakayim", "link": "https://stackoverflow.com/users/7063443/bakayim"}, "is_accepted": false, "score": 12, "last_activity_date": 1499326293, "creation_date": 1499326293, "answer_id": 44942447, "question_id": 29267646, "link": "https://stackoverflow.com/questions/29267646/how-to-enable-proxy-servers-with-anaconda-python/44942447#44942447", "title": "How to enable proxy servers with anaconda python?", "body": "<p>Late answer but maybe other people faced with this problem can benefit.</p>\n\n<p>Create a .condarc file contaninig :</p>\n\n<pre><code>channels:\n- defaults\n\n# Show channel URLs when displaying what is going to be downloaded and\n# in 'conda list'. The default is False.\nshow_channel_urls: True\nallow_other_channels: True\n\nproxy_servers:\n    http: http://172.**.*.***:8080\n    https: https://172.**.*.***:8080\n\n\nssl_verify: False\n</code></pre>\n\n<p>Change IP adresses with your own proxy settings.</p>\n\n<p>Put this file in your user's main folder (for me : C:\\Users\\bakayim)</p>\n\n<p>Restart your anaconda prompt</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8530928, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b69c4de9869ef218e908b00c9037029?s=128&d=identicon&r=PG", "display_name": "guest12345", "link": "https://stackoverflow.com/users/8530928/guest12345"}, "is_accepted": false, "score": 0, "last_activity_date": 1503994020, "last_edit_date": 1503994020, "creation_date": 1503989279, "answer_id": 45932472, "question_id": 29267646, "link": "https://stackoverflow.com/questions/29267646/how-to-enable-proxy-servers-with-anaconda-python/45932472#45932472", "title": "How to enable proxy servers with anaconda python?", "body": "<p>what wokred for me was the following <code>.condarc</code> file</p>\n\n<pre><code>channels:\n  - r\n  - defaults\n\nproxy_servers:\n  http: http://username:password@Proxyadresse:Proxyport\n  https: https://username:password@Proxyadresse:Proxyport\n\nssl_verify: true\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 954, "user_id": 6029703, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7dca8d4316331b7f97ad35a59fd4f8f5?s=128&d=identicon&r=PG&f=1", "display_name": "R Kiselev", "link": "https://stackoverflow.com/users/6029703/r-kiselev"}, "edited": false, "score": 0, "creation_date": 1523886445, "post_id": 45932797, "comment_id": 86732588, "body": "It seems that anaconda ignores these settings, they have to go into <code>.condarc</code>"}], "tags": [], "owner": {"reputation": 1, "user_id": 8530928, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b69c4de9869ef218e908b00c9037029?s=128&d=identicon&r=PG", "display_name": "guest12345", "link": "https://stackoverflow.com/users/8530928/guest12345"}, "is_accepted": false, "score": 0, "last_activity_date": 1503990424, "creation_date": 1503990424, "answer_id": 45932797, "question_id": 29267646, "link": "https://stackoverflow.com/questions/29267646/how-to-enable-proxy-servers-with-anaconda-python/45932797#45932797", "title": "How to enable proxy servers with anaconda python?", "body": "<p>I also set 2 Windows environment variables: (don't know if it was necessary)</p>\n\n<pre><code>Name: http_proxy\n</code></pre>\n\n<p>Variable: <a href=\"http://username:password@Proxyadresse:Proxyport\" rel=\"nofollow noreferrer\">http://username:password@Proxyadresse:Proxyport</a></p>\n\n<pre><code>Name: https_proxy\n</code></pre>\n\n<p>Variable: <a href=\"https://username:password@Proxyadresse:Proxyport\" rel=\"nofollow noreferrer\">https://username:password@Proxyadresse:Proxyport</a></p>\n"}, {"tags": [], "owner": {"reputation": 291, "user_id": 1271930, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/cc99573f518b50be19817df7e5fe60c3?s=128&d=identicon&r=PG", "display_name": "user1271930", "link": "https://stackoverflow.com/users/1271930/user1271930"}, "is_accepted": false, "score": 0, "last_activity_date": 1507035497, "creation_date": 1507035497, "answer_id": 46545201, "question_id": 29267646, "link": "https://stackoverflow.com/questions/29267646/how-to-enable-proxy-servers-with-anaconda-python/46545201#46545201", "title": "How to enable proxy servers with anaconda python?", "body": "<p>I can confirm that .condarc didn't have desired effect in my case (Windows 7). With <code>conda info</code> I could verify that it was loaded but it didn't have any effect.</p>\n\n<p>I had to set forementioned environment variables in order to get connection from behind a proxy.</p>\n\n<p>I was done as follows in command prompt:</p>\n\n<pre><code>set http_proxy=[protocol:your_proxy_address_here:port]\nset https_proxy=[protocol:your_proxy_address_here:port]\n</code></pre>\n\n<p>Remove brackets. To verify (list) your concurrent settings just type: <strong>set</strong></p>\n"}, {"tags": [], "owner": {"reputation": 711, "user_id": 2792809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85916341c3d0db27abae50f189ce2ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Gomez NL", "link": "https://stackoverflow.com/users/2792809/gomez-nl"}, "is_accepted": false, "score": 0, "last_activity_date": 1520586599, "creation_date": 1520586599, "answer_id": 49190185, "question_id": 29267646, "link": "https://stackoverflow.com/questions/29267646/how-to-enable-proxy-servers-with-anaconda-python/49190185#49190185", "title": "How to enable proxy servers with anaconda python?", "body": "<p>The new version of Anaconda comes with .condar file in the user directory <code>C:\\Users\\User_name\\.condarc</code>. </p>\n\n<p>so all to do is just to edit the content as below: </p>\n\n<pre><code>channels:\n  - defaults\n\nshow_channel_urls: True\nallow_other_channels: True\n\nproxy_servers:\n    http: http://172.**.*.***:8080\n    https: https://172.**.*.***:8080\n\nssl_verify: true\n</code></pre>\n\n<p>That's what worked for me. </p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 6234239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d156fb6cf90cdf4a8d1954976746c17f?s=128&d=identicon&r=PG", "display_name": "Abdul Haseeb", "link": "https://stackoverflow.com/users/6234239/abdul-haseeb"}, "is_accepted": false, "score": 2, "last_activity_date": 1556457987, "last_edit_date": 1556457987, "creation_date": 1556457506, "answer_id": 55890657, "question_id": 29267646, "link": "https://stackoverflow.com/questions/29267646/how-to-enable-proxy-servers-with-anaconda-python/55890657#55890657", "title": "How to enable proxy servers with anaconda python?", "body": "<p>Open Anaconda command and execute below command:</p>\n\n<pre><code>set HTTP_PROXY=http://username:password@proxyurl.com:8080\n\nset HTTPS_PROXY=https://username:password@proxyurl.com:8443\n</code></pre>\n"}], "owner": {"reputation": 1601, "user_id": 753320, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/137ec1f67fc339d74e6d6190fd1cb18d?s=128&d=identicon&r=PG", "display_name": "Randall Goodwin", "link": "https://stackoverflow.com/users/753320/randall-goodwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66698, "favorite_count": 16, "answer_count": 7, "score": 22, "last_activity_date": 1556457987, "creation_date": 1427322001, "question_id": 29267646, "link": "https://stackoverflow.com/questions/29267646/how-to-enable-proxy-servers-with-anaconda-python", "title": "How to enable proxy servers with anaconda python?", "body": "<p>We are trying to get the conda install (on windows 8) to work behind a firewall via a proxy server.  Currently,  we are able to use pip to install packages while on our company network by using this at the command prompt:</p>\n\n<pre><code>pip install pandas --proxy=http://abc.def.xyz.com:1234\n</code></pre>\n\n<p>No passwords need to be specified,  just the proxy server and port. The <a href=\"http://conda.pydata.org/docs/config.html?highlight=proxy\">conda documentation</a> states that proxy servers are possible:</p>\n\n<pre><code># Proxy settings: http://[username]:[password]@[server]:[port]\nproxy_servers:\n    http: http://user:pass@corp.com:8080\n    https: https://user:pass@corp.com:8080\n</code></pre>\n\n<p>I have tried this with various combinations to see if I can get it to work with or without putting in my username and password.  </p>\n\n<pre><code># formats tried:\nhttp: http://user:pass@abc.def.xyz.com:1234\nhttp: http://abc.def.xyz.com:1234\n</code></pre>\n\n<p>I cannot seem to get it to work. Tried various combinations of quoting things too (passwords have special chars).  Also tried with and without the domain\\user.</p>\n\n<p>I can see under the hood, conda is using urlib3 (while pip may be using <a href=\"https://docs.python.org/2/library/urllib.html\">urlib proxy handler</a>?).  Note that having your username and password in a file is generally frowned upon.</p>\n\n<p>I know we could set up our own http or file location channel and put all the packages there and add the channel to the .condarc config settings. However I would prefer not to have to manage a repository of packages and versions locally.</p>\n\n<p>So.... is there a way to specify,  in the .condarc file the proxy server and port (without user and password) so that conda install works behind a firewall just like pip install on the command line?  Or even an inline call like pip has and works... something like:</p>\n\n<pre><code>conda install pandas --proxy=abc.def.xyz.com:1234\n</code></pre>\n\n<p>Thanks in advance... </p>\n\n<p>PS:  I really love conda.  I spent last weekend setting up many virtual environments on my home PC.  Documentation was great and everything worked flawlessly. Overall,  much better than pip... if only we could only get this to work inside our company :)</p>\n"}, {"tags": ["python", "pandas", "openpyxl"], "comments": [{"owner": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 1, "creation_date": 1427325008, "post_id": 29267606, "comment_id": 46737875, "body": "Cannot replicate. Works perfectly for me. Python 2.7.x and Pandas 0.16"}, {"owner": {"reputation": 11, "user_id": 4712618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0762564fef653a837600e679f6b33072?s=128&d=identicon&r=PG&f=1", "display_name": "snowlion", "link": "https://stackoverflow.com/users/4712618/snowlion"}, "reply_to_user": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 0, "creation_date": 1427355343, "post_id": 29267606, "comment_id": 46745883, "body": "which python package are you using? i&#39;m running python(x,y) 2.7.9.0 on a windows 7 64-bit machine.  Can the problem be related to OS or python package I use?"}, {"owner": {"reputation": 11, "user_id": 4712618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0762564fef653a837600e679f6b33072?s=128&d=identicon&r=PG&f=1", "display_name": "snowlion", "link": "https://stackoverflow.com/users/4712618/snowlion"}, "reply_to_user": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 1, "creation_date": 1427373813, "post_id": 29267606, "comment_id": 46755393, "body": "fall back to previous version of openpyxl (2.1.3) solved the issue"}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1427379789, "post_id": 29267606, "comment_id": 46759688, "body": "2.1.5 is the most recent in the 2.1 series. Could do with a bug report to help track this down but I suspect it&#39;s down to the new handling of styles, though strict typing has been around for a while."}, {"owner": {"reputation": 1740, "user_id": 41431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/27091eaf5027927e61e36987ab5f14e4?s=128&d=identicon&r=PG", "display_name": "Rudiger Wolf", "link": "https://stackoverflow.com/users/41431/rudiger-wolf"}, "edited": false, "score": 0, "creation_date": 1429773767, "post_id": 29267606, "comment_id": 47759942, "body": "I also had this problem and thanks to snowlion i did   pip install openpyxl==2.1.3  to fall back to a previous version, so that I can now export to excel."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4712618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0762564fef653a837600e679f6b33072?s=128&d=identicon&r=PG&f=1", "display_name": "snowlion", "link": "https://stackoverflow.com/users/4712618/snowlion"}, "is_accepted": true, "score": 0, "last_activity_date": 1441783308, "creation_date": 1441783308, "answer_id": 32473275, "question_id": 29267606, "link": "https://stackoverflow.com/questions/29267606/pandas-export-of-dataframes-header-and-index-to-excel-causes-typeerror/32473275#32473275", "title": "Pandas - Export of dataframe&#39;s header and index to Excel causes TypeError", "body": "<p>The solution is to use openpyxl version 2.1.3 or 2.1.5. </p>\n"}], "owner": {"reputation": 11, "user_id": 4712618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0762564fef653a837600e679f6b33072?s=128&d=identicon&r=PG&f=1", "display_name": "snowlion", "link": "https://stackoverflow.com/users/4712618/snowlion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 1, "accepted_answer_id": 32473275, "answer_count": 1, "score": 1, "last_activity_date": 1441783308, "creation_date": 1427321843, "question_id": 29267606, "link": "https://stackoverflow.com/questions/29267606/pandas-export-of-dataframes-header-and-index-to-excel-causes-typeerror", "title": "Pandas - Export of dataframe&#39;s header and index to Excel causes TypeError", "body": "<p>I am using <code>pandas 0.15</code> and <code>openpyxl 2.2.0</code> as writer engine, but the same problem occurs with <code>pandas 0.16</code>.</p>\n\n<p>I need to export a pandas dataframe to an <code>.xlsx</code> file. The dataframe is very simple - something like:</p>\n\n<pre><code>   col_A  col_B col_C\n0      1    100    AB\n1      2    200    AC\n2      3    300    AD\n</code></pre>\n\n<p>I can export the dataframe's content (i.e. without index labels and column names):</p>\n\n<pre><code>df.to_excel(path_to_xlsx_file, sheet_name, header=False, index=False)\n</code></pre>\n\n<p>However, if I include either index labels or column names (or both), I get a TypeError. This:</p>\n\n<pre><code>df.to_excel(path_to_xlsx_file, sheet_name, header=False, index=True)\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code> df.to_excel(path_to_xlsx_file, sheet_name, header=True, index=False)\n</code></pre>\n\n<p>causes this:</p>\n\n<pre><code>    Traceback (most recent call last):\n\n  File \"&lt;ipython-input-11-a60810c2c9c2&gt;\", line 1, in &lt;module&gt;\n    runfile('F:/mine/python/pandas_tests.py', wdir='F:/mine/python')\n\n  File \"C:\\Python27\\lib\\site-packages\\spyderlib\\widgets\\externalshell\\sitecustomize.py\", line 601, in runfile\n    execfile(filename, namespace)\n\n  File \"C:\\Python27\\lib\\site-packages\\spyderlib\\widgets\\externalshell\\sitecustomize.py\", line 66, in execfile\n    exec(compile(scripttext, filename, 'exec'), glob, loc)\n\n  File \"F:/mine/python/pandas_tests.py\", line 25, in &lt;module&gt;\n    df.to_excel(path_to_xlsx_file, sheet_name, header=True, index=False)\n\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\util\\decorators.py\", line 88, in wrapper\n    return func(*args, **kwargs)\n\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\core\\frame.py\", line 1260, in to_excel\n    startrow=startrow, startcol=startcol)\n\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\excel.py\", line 705, in write_cells\n    xcell.style = xcell.style.copy(**style_kwargs)\n\n  File \"C:\\Python27\\lib\\site-packages\\openpyxl-2.2.0-py2.7.egg\\openpyxl\\styles\\styleable.py\", line 107, in style\n    protection=self.protection\n\n  File \"C:\\Python27\\lib\\site-packages\\openpyxl-2.2.0-py2.7.egg\\openpyxl\\styles\\__init__.py\", line 42, in __init__\n    self._font = font\n\n  File \"C:\\Python27\\lib\\site-packages\\openpyxl-2.2.0-py2.7.egg\\openpyxl\\descriptors\\base.py\", line 35, in __set__\n    raise TypeError('expected ' + str(self.expected_type))\n\nTypeError: expected &lt;class 'openpyxl.styles.fonts.Font'&gt;\n</code></pre>\n\n<p>I can't use xlsxwriter as the dataframe must be exported to an existing file.</p>\n"}, {"tags": ["python", "linux", "bash", "shell", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 1543018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2609fbd6f64e0a5843f3ee065a827fc4?s=128&d=identicon&r=PG", "display_name": "Abukamel", "link": "https://stackoverflow.com/users/1543018/abukamel"}, "is_accepted": false, "score": 0, "last_activity_date": 1427327263, "creation_date": 1427327263, "answer_id": 29268668, "question_id": 29267597, "link": "https://stackoverflow.com/questions/29267597/converting-a-file-from-sam-to-bam-using-python-subprocess/29268668#29268668", "title": "Converting a file from .sam to .bam using python subprocess", "body": "<p>You can pass execution to the shell by kwarg 'shell=True'</p>\n\n<p><code>subprocess.call('samtools view -bS aln.sam &gt; aln.bam', shell=True)</code></p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4714119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20b5b6063fa69d783012657998e5912?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob B", "link": "https://stackoverflow.com/users/4714119/jacob-b"}, "edited": false, "score": 0, "creation_date": 1427372729, "post_id": 29270311, "comment_id": 46754714, "body": "Thank you so much for the help and for walking me through the process."}], "tags": [], "owner": {"reputation": 496, "user_id": 4710467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/amFpo.jpg?s=128&g=1", "display_name": "bgstech", "link": "https://stackoverflow.com/users/4710467/bgstech"}, "is_accepted": true, "score": 2, "last_activity_date": 1427338496, "creation_date": 1427338496, "answer_id": 29270311, "question_id": 29267597, "link": "https://stackoverflow.com/questions/29267597/converting-a-file-from-sam-to-bam-using-python-subprocess/29270311#29270311", "title": "Converting a file from .sam to .bam using python subprocess", "body": "<p>Abukamel is right, but in case you (or others) are wondering about your specific examples....</p>\n\n<p>You're not too far off with your first attempt, just a few minor items:</p>\n\n<ol>\n<li>Filenames should be in quotes</li>\n<li>samtools reads from a named input file, not from stdin</li>\n<li>You don't need \"shell=True\" since you're not using shell tricks like redirection</li>\n</ol>\n\n<p>So you can do:</p>\n\n<pre><code>import subprocess\nsubprocess.call([\"samtools\", \"view\", \"-bS\", \"aln.sam\"],\n                stdout=open('aln.bam','w'))\n</code></pre>\n\n<p>Your second example has more or less the same issues, so would need to be changed to something like:</p>\n\n<pre><code>from subprocess import Popen\nwith open('aln.bam', 'wb',0) as output_file: \n    cmd = Popen([\"samtools\", \"view\",'-bS','aln.sam'],\n                stdout=(output_file))\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4714119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20b5b6063fa69d783012657998e5912?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob B", "link": "https://stackoverflow.com/users/4714119/jacob-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 893, "favorite_count": 0, "accepted_answer_id": 29270311, "answer_count": 2, "score": 1, "last_activity_date": 1427338496, "creation_date": 1427321798, "last_edit_date": 1427322175, "question_id": 29267597, "link": "https://stackoverflow.com/questions/29267597/converting-a-file-from-sam-to-bam-using-python-subprocess", "title": "Converting a file from .sam to .bam using python subprocess", "body": "<p>I would like to start out by saying any help is greatly appreciated.  I'm new to Python and scripting in general.  I am trying to use a program called samtools view to convert a file from .sam to a .bam I need to be able do what this BASH command is doing in Python:  </p>\n\n<pre><code>samtools view -bS aln.sam &gt; aln.bam   \n</code></pre>\n\n<p>I understand that BASH commands like | > &lt; are done using the subprocess stdin, stdout and stderr in Python.  I have tried a few different methods and still can't get my BASH script converted correctly.  I have tried: </p>\n\n<pre><code>cmd = subprocess.call([\"samtools view\",\"-bS\"], stdin=open(aln.sam,'r'), stdout=open(aln.bam,'w'), shell=True)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>from subprocess import Popen\n\nwith open(SAMPLE+ \".\"+ TARGET+ \".sam\",'wb',0) as input_file:\n    with open(SAMPLE+ \".\"+ TARGET+ \".bam\",'wb',0) as output_file: \n        cmd = Popen([Dir+ \"samtools-1.1/samtools view\",'-bS'],\n            stdin=(input_file), stdout=(output_file), shell=True) \n</code></pre>\n\n<p>in Python and am still not getting samtools to convert a .sam to a .bam file.  What am I doing wrong?  </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1427321777, "post_id": 29267573, "comment_id": 46736656, "body": "Where does datum come from? What classes are you inheriting from?"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427321844, "post_id": 29267573, "comment_id": 46736677, "body": "Can you post the output from <code>inv.info()</code> I&#39;m assuming you&#39;re thinking that <code>datum</code> column exists?"}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427321918, "post_id": 29267573, "comment_id": 46736705, "body": "@EdChum Where is <code>inv.info()</code>?"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1427321998, "post_id": 29267573, "comment_id": 46736751, "body": "@Zizouz212 I believe that the OP is using a pandas dataframe for <code>inv</code>"}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427322049, "post_id": 29267573, "comment_id": 46736769, "body": "@EdChum modified the comment to check for inheritance, as I believe that inv is an instance of his class."}, {"owner": {"reputation": 8742, "user_id": 3393459, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a319b01208db420f5f8c6a7c3a24a3c?s=128&d=identicon&r=PG&f=1", "display_name": "exp1orer", "link": "https://stackoverflow.com/users/3393459/exp1orer"}, "edited": false, "score": 0, "creation_date": 1427322225, "post_id": 29267573, "comment_id": 46736833, "body": "is <code>stock</code> the name of the class?"}], "answers": [{"tags": [], "owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "is_accepted": true, "score": 0, "last_activity_date": 1427322701, "creation_date": 1427322701, "answer_id": 29267778, "question_id": 29267573, "link": "https://stackoverflow.com/questions/29267573/what-is-wrong-with-this-code-pandas-python/29267778#29267778", "title": "what is wrong with this code ? pandas python", "body": "<p>One of your first errors is you did not close your SQLite connection.</p>\n\n<p>in <code>__init__</code>:</p>\n\n<pre><code>con.close() # instead of only con.close\n</code></pre>\n\n<p>Your other issue is that <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_sql.html\" rel=\"nofollow\"><code>pandas.read_sql()</code></a> returns a <a href=\"http://pandas.pydata.org/pandas-docs/dev/generated/pandas.DataFrame.html\" rel=\"nofollow\"><code>pandas.Dataframe</code></a>. After looking at the docs, the pandas Dataframe does not have a method <code>datum</code>.</p>\n\n<p>I should also point out that you're not calling many functions; you're only simply looking at what they are. You have to call functions using brackets (<code>inv.ticker()</code>), with arguments to that function being located within the brackets.</p>\n"}], "owner": {"reputation": 71, "user_id": 2473664, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e1f11275965a4ecbc9abef70305008a?s=128&d=identicon&r=PG", "display_name": "user2473664", "link": "https://stackoverflow.com/users/2473664/user2473664"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 29267778, "answer_count": 1, "score": -3, "last_activity_date": 1427666445, "creation_date": 1427321655, "last_edit_date": 1427666445, "question_id": 29267573, "link": "https://stackoverflow.com/questions/29267573/what-is-wrong-with-this-code-pandas-python", "title": "what is wrong with this code ? pandas python", "body": "<p>class stock: </p>\n\n<p>def <strong>init</strong>(self,ticker):\n      self.ticker = ticker\n      con = lite.connect(\".//stocks.db\")\n      self.data = pd.read_sql(\"SELECT * FROM daily where ticker = '\" + ticker + \"' ORDER BY datum DESC LIMIT 100\",con,index_col=\"datum\")\n      con.close()</p>\n\n<p>def data(self):\n      print self.data</p>\n\n<p>def ticker(self):\n      return self.ticker</p>\n\n<p>def datum(self):\n      return self.data.index[0]</p>\n\n<pre><code>inv = stock(\"TSLA\")\nprint inv.ticker\nprint inv.datum\n</code></pre>\n\n<p>gives this output:</p>\n\n<p>TSLA\nmain.stock instance at 0x03E061C0>></p>\n\n<p>so printing of ticker string works, but not last datum field</p>\n"}, {"tags": ["python", "pandas", "character-encoding"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427321690, "post_id": 29267556, "comment_id": 46736623, "body": "Well you&#39;re going to have to post raw input data, ideally of the problematic lines to reproduce your problem, you could try :<code>df = pd.read_csv(f_name,header=0,sep=&#39;\\s+&#39;,skiprows=bad_lines,err&zwnj;&#8203;or_bad_lines=False)</code> just in case your separators are not just tabs, also what are you trying with <code>header=0</code>? If your csv has no header then you want <code>header=None</code>, what you&#39;ve done is specify the first line is the header"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1427321743, "post_id": 29267556, "comment_id": 46736640, "body": "One solution would be to switch to Python 3, which would help you rid 95 % of the encoding woes."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427322061, "post_id": 29267556, "comment_id": 46736778, "body": "I don&#39;t believe this is an encoding issue rather either a malformed csv, or incorrect parsing params have been passed to <code>read_csv</code>"}, {"owner": {"reputation": 163, "user_id": 3749714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7fef0cf950c98e7c2bccd80a7d3b613?s=128&d=identicon&r=PG&f=1", "display_name": "user3749714", "link": "https://stackoverflow.com/users/3749714/user3749714"}, "edited": false, "score": 0, "creation_date": 1427381896, "post_id": 29267556, "comment_id": 46761316, "body": "I actually didn&#39;t notice this before, but the error is not in the read statement, it&#39;s in the df.head() statement - BUT, if I write print df.head(), that works just fine.  I&#39;m sure I&#39;ll continue to learn more about this, but I don&#39;t fully understand :)"}], "owner": {"reputation": 163, "user_id": 3749714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7fef0cf950c98e7c2bccd80a7d3b613?s=128&d=identicon&r=PG&f=1", "display_name": "user3749714", "link": "https://stackoverflow.com/users/3749714/user3749714"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427321549, "creation_date": 1427321549, "question_id": 29267556, "link": "https://stackoverflow.com/questions/29267556/encoding-issues-appearing-while-reading-in-csv-file-with-pandas", "title": "Encoding issues appearing while reading in csv file with pandas", "body": "<p>I am trying to read in a large csv that contains some lines that are irregular.  I've been receiving errors stating something to the effect of 'expecting 113 characters, encountered 114.'  I've tried discarding the rows with greater than the expected number of delimiting characters, but have subsequently encountered another error.  The code and error shown below:</p>\n\n<pre><code>import pandas as pd\nimport csv\n\nf_name = 'some_file.txt'\n    with open(f_name,'r') as file:\n    lines = file.readlines()\n\nbad_lines= []\nfor i,line in enumerate(lines):\n    if line.count('\\t') != 112:\n        bad_lines.append(i)\ndf = pd.read_csv(f_name,header=0,sep='\\t',skiprows=bad_lines,error_bad_lines=False)\ndf.head()\n</code></pre>\n\n<p>This produces the following warnings and errors:</p>\n\n<pre><code>Skipping line 3332366: expected 113 fields, saw 168\n\nSkipping line 3829308: expected 113 fields, saw 114\n\nSkipping line 4819090: expected 113 fields, saw 114\n\nSkipping line 4832856: expected 113 fields, saw 114\n\nSkipping line 5170065: expected 113 fields, saw 114\n\nSkipping line 5198811: expected 113 fields, saw 168\n\n---------------------------------------------------------------------------\nUnicodeDecodeError                        Traceback (most recent call last)\n&lt;ipython-input-19-ea2fca7ce11a&gt; in &lt;module&gt;()\n      1 df = pd.read_csv(f_name,header=0,sep='\\t',skiprows=bad_lines,error_bad_lines=False)\n----&gt; 2 df.head()\n\n/Library/Python/2.7/site-packages/IPython/core/displayhook.pyc in __call__(self, result)\n    236                 self.write_format_data(format_dict, md_dict)\n    237                 self.log_output(format_dict)\n--&gt; 238             self.finish_displayhook()\n    239 \n    240     def cull_cache(self):\n\n/Library/Python/2.7/site-packages/IPython/kernel/zmq/displayhook.pyc in finish_displayhook(self)\n     70         sys.stderr.flush()\n     71         if self.msg['content']['data']:\n---&gt; 72             self.session.send(self.pub_socket, self.msg, ident=self.topic)\n     73         self.msg = None\n     74 \n\n/Library/Python/2.7/site-packages/IPython/kernel/zmq/session.pyc in send(self, stream, msg_or_type, content, parent, ident, buffers, track, header, metadata)\n    647         if self.adapt_version:\n    648             msg = adapt(msg, self.adapt_version)\n--&gt; 649         to_send = self.serialize(msg, ident)\n    650         to_send.extend(buffers)\n    651         longest = max([ len(s) for s in to_send ])\n\n/Library/Python/2.7/site-packages/IPython/kernel/zmq/session.pyc in serialize(self, msg, ident)\n    551             content = self.none\n    552         elif isinstance(content, dict):\n--&gt; 553             content = self.pack(content)\n    554         elif isinstance(content, bytes):\n    555             # content is already packed, as in a relayed message\n\n/Library/Python/2.7/site-packages/IPython/kernel/zmq/session.pyc in &lt;lambda&gt;(obj)\n     83 # disallow nan, because it's not actually valid JSON\n     84 json_packer = lambda obj: jsonapi.dumps(obj, default=date_default,\n---&gt; 85     ensure_ascii=False, allow_nan=False,\n     86 )\n     87 json_unpacker = lambda s: jsonapi.loads(s)\n\n/Library/Python/2.7/site-packages/zmq/utils/jsonapi.pyc in dumps(o, **kwargs)\n     38         kwargs['separators'] = (',', ':')\n     39 \n---&gt; 40     s = jsonmod.dumps(o, **kwargs)\n     41 \n     42     if isinstance(s, unicode):\n\n/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/__init__.pyc in dumps(obj, skipkeys, ensure_ascii, check_circular, allow_nan, cls, indent, separators, encoding, default, sort_keys, **kw)\n    248         check_circular=check_circular, allow_nan=allow_nan, indent=indent,\n    249         separators=separators, encoding=encoding, default=default,\n--&gt; 250         sort_keys=sort_keys, **kw).encode(obj)\n    251 \n    252 \n\n/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/encoder.pyc in encode(self, o)\n    208         if not isinstance(chunks, (list, tuple)):\n    209             chunks = list(chunks)\n--&gt; 210         return ''.join(chunks)\n    211 \n    212     def iterencode(self, o, _one_shot=False):\n\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xef in position 4: ordinal not in range(128)\n</code></pre>\n\n<p>I would have expected my precautions to have removed these lines, but I also don't fully understand how to work around the encoding issues.  It's fully possible that strange characters have made their way into the data, but I don't have experience dealing with encoding issues and I haven't been able to adapt any other solutions I've found online.</p>\n\n<p>Thanks in advance for any help!  </p>\n"}, {"tags": ["python", "mapping"], "comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 2, "creation_date": 1427321584, "post_id": 29267532, "comment_id": 46736588, "body": "top right? bottom left? What do you mean? Format the question correctly if you&#39;re trying to display something!"}, {"owner": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "edited": false, "score": 0, "creation_date": 1427322547, "post_id": 29267532, "comment_id": 46736939, "body": "<a href=\"http://stackoverflow.com/a/2461029/1473454\">This one</a> should be helpful here."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 1, "creation_date": 1427322768, "post_id": 29267532, "comment_id": 46737009, "body": "Have you tried <b>anything</b>? Googling? Anything?"}], "answers": [{"comments": [{"owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "edited": false, "score": 0, "creation_date": 1427834958, "post_id": 29269645, "comment_id": 46936691, "body": "thanks! Is there a way to remove the white spacing between the blocks though?"}, {"owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "edited": false, "score": 1, "creation_date": 1427835627, "post_id": 29269645, "comment_id": 46937048, "body": "NEVERMIND - delete the -1 :)"}, {"owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "edited": false, "score": 0, "creation_date": 1427836644, "post_id": 29269645, "comment_id": 46937554, "body": "Sorry, one last one. Is there a way to show a side scale of what data point blue corresponds to and what red does. Kinda like a gradient scale you see with temperature maps. thanks!"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "edited": false, "score": 0, "creation_date": 1427837164, "post_id": 29269645, "comment_id": 46937804, "body": "Sure, it&#39;s possible, except that generally speaking there could be more than two colors involved, plus you&#39;d need some labeling information for each one. You could draw whatever was needed in a separate Canvas object and position that in the same Frame as the one with the heatmap in it."}, {"owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "edited": false, "score": 0, "creation_date": 1427837946, "post_id": 29269645, "comment_id": 46938155, "body": "Ya, but blue represents the lower values of data while red represents high. So a gradient would work best. How would I do this?? Not sure where to start."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "edited": false, "score": 0, "creation_date": 1427842522, "post_id": 29269645, "comment_id": 46939761, "body": "There&#39;s a couple of ways to draw a color gradient in my answers to the question <a href=\"http://stackoverflow.com/q/10901085/355230\"><i>Range values to pseudocolor</i></a>."}, {"owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "edited": false, "score": 0, "creation_date": 1427844181, "post_id": 29269645, "comment_id": 46940245, "body": "thanks! Now the part I struggle with is plotting that into the same figure as the heatmap. How can i place that gradient below it?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "edited": false, "score": 0, "creation_date": 1427847111, "post_id": 29269645, "comment_id": 46941101, "body": "Tkinter has several layout managers: <a href=\"http://effbot.org/tkinterbook/grid.htm\" rel=\"nofollow noreferrer\"><code>grid</code></a>, <a href=\"http://effbot.org/tkinterbook/pack.htm\" rel=\"nofollow noreferrer\"><code>pack</code></a>, and <a href=\"http://effbot.org/tkinterbook/place.htm\" rel=\"nofollow noreferrer\"><code>place</code></a>. In the code in my answer I used <code>pack</code> for simplicity. It&#39;s hard to say which is best, they each have strengths and weaknesses, and the best one depends on what you&#39;re doing.  If you drew the gradient onto its own canvas, you could then <code>pack</code> it using a <code>side=</code> keyword option next to the canvas with the heatmap on it."}, {"owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "edited": false, "score": 0, "creation_date": 1427853415, "post_id": 29269645, "comment_id": 46942686, "body": "hmm, ya new to python so what you said is a little bit above me :( Do you think you can edit your code so I can copy paste? please !!!"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "edited": false, "score": 0, "creation_date": 1427854404, "post_id": 29269645, "comment_id": 46942932, "body": "No. This website isn&#39;t a coding service. I suggest you take the the time to read the documentation linked to in my previous comment, try out some things, and learn both Python better as well as how to use Tkinter in the process. How do you think I know what I do?"}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 3, "last_activity_date": 1528065554, "last_edit_date": 1528065554, "creation_date": 1427333857, "answer_id": 29269645, "question_id": 29267532, "link": "https://stackoverflow.com/questions/29267532/heat-map-from-data-points/29269645#29269645", "title": "Heat map from data points", "body": "<p>You could use Python's built-in <a href=\"https://docs.python.org/3/library/tkinter.html#module-tkinter\" rel=\"nofollow noreferrer\"><code>tkinter</code></a> graphics module to do something like the following. The <code>pseudocolor()</code> function maps a value in given range to a color interpolated along those in a palette of arbitrary color values. The auxiliary <code>colorize()</code> function exists to convert color values returned from it &mdash; which consist of three floating-point values in the range 0 to 1 &mdash; into the single hex-string form required by <code>tkinter</code>.</p>\n\n<p>Since the selection of colors is controlled by a list of color values, it's fairly easy to tweak how the output looks. The example heatmap is relatively small as is the range of values in it, so the image produced is a little \"chunky\" looking &mdash; but the approach scales well and more attractive results would likely be derived from larger and more varied datasets.</p>\n\n<pre><code>try:\n    from Tkinter import *\nexcept ModuleNotFoundError:\n    from tkinter import *  # Python 3\n\nheat_map = [[20, 21, 22, 23, 20],\n            [20, 22, 21, 23, 20],\n            [20, 21, 20, 20, 20],\n            [20, 21, 23, 23, 23],\n            [21, 21, 22, 23, 22]]\n\nheat_min = min(min(row) for row in heat_map)\nheat_max = max(max(row) for row in heat_map)\n\n# Heatmap rgb colors in mapping order (ascending).\npalette = (0, 0, 1), (0, .5, 0), (0, 1, 0), (1, .5, 0), (1, 0, 0)\n\ndef pseudocolor(value, minval, maxval, palette):\n    \"\"\" Maps given value to a linearly interpolated palette color. \"\"\"\n    max_index = len(palette)-1\n    # Convert value in range minval...maxval to the range 0..max_index.\n    v = (float(value-minval) / (maxval-minval)) * max_index\n    i = int(v); f = v-i  # Split into integer and fractional portions.\n    c0r, c0g, c0b = palette[i]\n    c1r, c1g, c1b = palette[min(i+1, max_index)]\n    dr, dg, db = c1r-c0r, c1g-c0g, c1b-c0b\n    return c0r+(f*dr), c0g+(f*dg), c0b+(f*db)  # Linear interpolation.\n\ndef colorize(value, minval, maxval, palette):\n    \"\"\" Convert value to heatmap color and convert it to tkinter color. \"\"\"\n    color = (int(c*255) for c in pseudocolor(value, minval, maxval, palette))\n    return '#{:02x}{:02x}{:02x}'.format(*color)  # Convert to hex string.\n\nroot = Tk()\nroot.title('Heatmap')\n\n# Create and fill canvas with rectangular cells.\nwidth, height = 400, 400  # Canvas size.\nrows, cols = len(heat_map), len(heat_map[0])\nrect_width, rect_height = width // rows, height // cols\nborder = 1  # Pixel width of border around each.\n\ncanvas = Canvas(root, width=width, height=height)\ncanvas.pack()\nfor y, row in enumerate(heat_map):\n    for x, temp in enumerate(row):\n        x0, y0 = x * rect_width, y * rect_height\n        x1, y1 = x0 + rect_width-border, y0 + rect_height-border\n        color = colorize(temp, heat_min, heat_max, palette)\n        canvas.create_rectangle(x0, y0, x1, y1, fill=color, width=0)\n\nroot.mainloop()\n</code></pre>\n\n<p>Display:</p>\n\n<p><img src=\"https://i.stack.imgur.com/sCjmK.png\" alt=\"screenshot of output window\"></p>\n"}], "owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2243, "favorite_count": 0, "accepted_answer_id": 29269645, "answer_count": 1, "score": 0, "last_activity_date": 1528065554, "creation_date": 1427321463, "last_edit_date": 1481342007, "question_id": 29267532, "link": "https://stackoverflow.com/questions/29267532/heat-map-from-data-points", "title": "Heat map from data points", "body": "<p>I have an array of temperatures given a certain position.</p>\n\n<p>EG:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>20 21 22 23 20\n20 22 21 23 20\n20 21 20 20 20\n20 21 23 23 23\n21 21 22 23 22\n</code></pre>\n\n<p>The top right data point represents the temperature in the top right heatmap, while the bottom left - represents the bottom left temperature of the heatmap I want to produce.</p>\n\n<p>So taken these data points how would I produce a HeatMap where higher temperatures are more RED and cooler are more blue.</p>\n\n<p>Should I first convert the temperatures into RGB and then somehow plot the RGB? how can I do this?</p>\n\n<p>EDIT:\nTop right (in this case 20) of the array or [0,0] represents the temperature at [0,0] in space. The 2d heatmap I want to produce represents an image infront of a temperature camera. The data points are the temperatures at certain locations. The posting is not too helpful because it is based on frequency and not converting temperature to color and plotting it based on position.</p>\n"}, {"tags": ["python", "numpy", "matplotlib"], "comments": [{"owner": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "edited": false, "score": 1, "creation_date": 1427322072, "post_id": 29267494, "comment_id": 46736784, "body": "This looks like a bug."}, {"owner": {"reputation": 8002, "user_id": 2121597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o31zM.png?s=128&g=1", "display_name": "farenorth", "link": "https://stackoverflow.com/users/2121597/farenorth"}, "edited": false, "score": 1, "creation_date": 1427322898, "post_id": 29267494, "comment_id": 46737063, "body": "First, I wouldn&#39;t call those small numbers. I would call them big numbers with small differences. Second, this is not a bug; it is a feature. Third, you ask for a &#39;way to automatically prevent this behavior&#39;, but don&#39;t specify what behavior you would prefer. Without clearer specifications of what you are looking for we (the SO community) can&#39;t be much help. Do you simply want a straight line to be plotted? If so, <code>gca().set_aspect(&#39;equal&#39;)</code> would do the trick."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 3, "creation_date": 1427322901, "post_id": 29267494, "comment_id": 46737065, "body": "No, this is not a bug, it&#39;s the result of floating point math."}, {"owner": {"reputation": 2566, "user_id": 3238875, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e3265cda28d96d4682d83467af5530b1?s=128&d=identicon&r=PG", "display_name": "wil3", "link": "https://stackoverflow.com/users/3238875/wil3"}, "reply_to_user": {"reputation": 8002, "user_id": 2121597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o31zM.png?s=128&g=1", "display_name": "farenorth", "link": "https://stackoverflow.com/users/2121597/farenorth"}, "edited": false, "score": 0, "creation_date": 1427326140, "post_id": 29267494, "comment_id": 46738301, "body": "@farenorth Thank you for your friendly advice. I&#39;m trying to plot something more complicated than a straight line, I just wanted to provide a minimum working example. I will edit my question to explicitly ask for the units to correctly be displayed in units of tick value/1e6, rather than the tick value plus a number.  The problem persists if I remove the 1e6 out front, I just used that to demonstrate that this probably wasn&#39;t due to me hitting machine precision."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1427334609, "post_id": 29267494, "comment_id": 46740580, "body": "also: <a href=\"http://stackoverflow.com/q/14711655/1461210\">stackoverflow.com/q/14711655/1461210</a>, <a href=\"http://stackoverflow.com/q/27328895/1461210\">stackoverflow.com/q/27328895/1461210</a>"}], "owner": {"reputation": 2566, "user_id": 3238875, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e3265cda28d96d4682d83467af5530b1?s=128&d=identicon&r=PG", "display_name": "wil3", "link": "https://stackoverflow.com/users/3238875/wil3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "closed_date": 1427495386, "answer_count": 0, "score": 0, "last_activity_date": 1427321324, "creation_date": 1427321324, "question_id": 29267494, "link": "https://stackoverflow.com/questions/29267494/matplotlib-vertical-axis-unusual-units-of-scientific-notation-when-dealing-with", "closed_reason": "Duplicate", "title": "Matplotlib vertical axis unusual units of scientific notation when dealing with small numbers", "body": "<p>Matplotlib generates a plot with unusual y-axis units when dealing with small numbers in a Numpy array.</p>\n\n<p>Here is a minimal working example:</p>\n\n<pre><code>test = 1e6*array([.99999, .9999984, 1.000000013])\nplot(test)\n</code></pre>\n\n<p>generates the following plot:</p>\n\n<p><img src=\"https://i.stack.imgur.com/skvOV.png\" alt=\"Matplotlib plot with irregular units\"></p>\n\n<p>Is there a way to automatically prevent this behavior without directly inspecting the data? Thank you.</p>\n"}, {"tags": ["python", "jython"], "comments": [{"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 2, "creation_date": 1427321511, "post_id": 29267478, "comment_id": 46736560, "body": "Do you have <a href=\"http://jyni.org/\" rel=\"nofollow noreferrer\">JyNI</a>"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 1, "creation_date": 1427321666, "post_id": 29267478, "comment_id": 46736615, "body": "You cannot import C extension modules into Jython without something like JyNI, which I think is not yet at the level of supporting numpy"}, {"owner": {"reputation": 4142, "user_id": 3765905, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/xkm1p.png?s=128&g=1", "display_name": "BoltzmannBrain", "link": "https://stackoverflow.com/users/3765905/boltzmannbrain"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 1, "creation_date": 1427473674, "post_id": 29267478, "comment_id": 46805462, "body": "Indeed Jython does not support numpy and other C extension modules. The support and documentation for JyNI seems lacking, so I&#39;ve decided to instead use sockets to run python scripts (including modules such as numpy) in my java program. For those looking to use sockets like me, I recommend <a href=\"http://www.doepiccoding.com/blog/?p=41\" rel=\"nofollow noreferrer\">this instructional example</a>."}], "owner": {"reputation": 4142, "user_id": 3765905, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/xkm1p.png?s=128&g=1", "display_name": "BoltzmannBrain", "link": "https://stackoverflow.com/users/3765905/boltzmannbrain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 755, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1427321269, "creation_date": 1427321269, "question_id": 29267478, "link": "https://stackoverflow.com/questions/29267478/import-python-packages-in-jython", "title": "Import python packages in jython", "body": "<p>I am unable to import python packages (e.g. numpy) in jython:</p>\n\n<pre><code>$ jython\n\n&gt;&gt;&gt; import sys \n&gt;&gt;&gt; sys.path\n['', '/usr/local/bin/jython2.5.3/Lib', '__classpath__', '__pyclasspath__/', '/usr/local/bin/jython2.5.3/Lib/site-packages']\n&gt;&gt;&gt; import numpy\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named numpy\n</code></pre>\n\n<p>I then tried adding my PYTHONPATH by adding <code>python.path = /Users/alavin/Library/Python/2.7/lib/python/site-packages</code> to the Python registry file \"/jython2.5.3/registry\"...</p>\n\n<pre><code>$ jython\n\n&gt;&gt;&gt; import sys \n&gt;&gt;&gt; sys.path\n['', '/Users/alavin/Library/Python/2.7/lib/python/site-packages/unittest2-0.8.0-py2.7.egg', '/Users/alavin/Library/Python/2.7/lib/python/site-packages/argparse-1.3.0-py2.7.egg', '/Users/alavin/Library/Python/2.7/lib/python/site-packages/alembic-0.6.7-py2.7.egg', '/Users/alavin/Library/Python/2.7/lib/python/site-packages/SQLAlchemy-0.9.4-py2.7-macosx-10.9-intel.egg', '/Users/alavin/Library/Python/2.7/lib/python/site-packages/web.py-0.37-py2.7.egg', '/Users/alavin/Library/Python/2.7/lib/python/site-packages', '/usr/local/bin/jython2.5.3/Lib', '__classpath__', '__pyclasspath__/', '/usr/local/bin/jython2.5.3/Lib/site-packages']\n&gt;&gt;&gt; import numpy\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named numpy\n</code></pre>\n\n<p>I'm on a mac osx 10.9. Thank you in advance for any help!</p>\n"}, {"tags": ["python", "render", "text-based"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1427321455, "post_id": 29267455, "comment_id": 46736535, "body": "Questions seeking debugging help (&quot;<b>why isn&#39;t this code working?</b>&quot;) must include the <b>desired behavior</b>, a <b>specific</b> problem or error and the <b>shortest</b> code necessary to reproduce it <b>in the question itself</b>. Questions without a clear problem statement are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>. <b><i>TL;DR</i></b>: Shorten your code to the minimum necessary to reproduce the problem, and put it in the question itself. Don&#39;t link to external sites."}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1427321492, "post_id": 29267455, "comment_id": 46736551, "body": "It&#39;s very unlikely that someone will dig through the code on pastebin, so I&#39;ve added it to the original question. You will need to cut that down to the relevant pieces - it&#39;s a lot to go through."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "reply_to_user": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1427321544, "post_id": 29267455, "comment_id": 46736573, "body": "@Celeo you don&#39;t need to add it to the question, let the OP do it, and make an MCVE in the meantime."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "reply_to_user": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1427321691, "post_id": 29267455, "comment_id": 46736624, "body": "@Celeo you also only included 1 file. Just roll back your edit and let the OP deal with it."}, {"owner": {"reputation": 5, "user_id": 4704931, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-J1biSs4dlsg/AAAAAAAAAAI/AAAAAAAAAJU/elrSuUCdJY8/photo.jpg?sz=128", "display_name": "1SDANTheMan", "link": "https://stackoverflow.com/users/4704931/1sdantheman"}, "edited": false, "score": 0, "creation_date": 1427321808, "post_id": 29267455, "comment_id": 46736665, "body": "Sorry, still new to the site, will not use links in any future questions.  Funny thing is that usually sites like to keep posts tidy with PasteBin. The more you know I guess"}, {"owner": {"reputation": 4570, "user_id": 1558022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63a70b00feba1e66410b7799b58a897d?s=128&d=identicon&r=PG", "display_name": "alexwlchan", "link": "https://stackoverflow.com/users/1558022/alexwlchan"}, "edited": false, "score": 0, "creation_date": 1427322443, "post_id": 29267455, "comment_id": 46736907, "body": "@1SDANTheMan Stack Overflow/Exchange prefers you to include the code in the post rather than as a Pastebin because it means the question is still useful if the link goes away. It helps keep questions useful in the long-term."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1427323290, "post_id": 29267455, "comment_id": 46737235, "body": "Please read through the <a href=\"https://stackoverflow.com/help\">help center</a> to learn more about Stack Overflow and what is expected here. Also, did you read my previous comment? You&#39;re showing code that won&#39;t run (at least the way you expect it to), you&#39;re referencing modules/functions/classes/whatever that you haven&#39;t included in the question, you&#39;re reassigning values to global variables that are originally of different types, and you <b>haven&#39;t</b> condensed things to a <b>short</b>, <b>self-contained</b>, <b>runnable</b> example that clearly illustrates the problem at hand. Please do that."}, {"owner": {"reputation": 5, "user_id": 4704931, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-J1biSs4dlsg/AAAAAAAAAAI/AAAAAAAAAJU/elrSuUCdJY8/photo.jpg?sz=128", "display_name": "1SDANTheMan", "link": "https://stackoverflow.com/users/4704931/1sdantheman"}, "edited": false, "score": 0, "creation_date": 1427324527, "post_id": 29267455, "comment_id": 46737688, "body": "Oops, I actually thought that I removed those references. As for the short part, this is about all that I can do. Hopefully that helps"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 4704931, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-J1biSs4dlsg/AAAAAAAAAAI/AAAAAAAAAJU/elrSuUCdJY8/photo.jpg?sz=128", "display_name": "1SDANTheMan", "link": "https://stackoverflow.com/users/4704931/1sdantheman"}, "edited": false, "score": 0, "creation_date": 1427325475, "post_id": 29268277, "comment_id": 46738068, "body": "Thank you very much, that fixed the problem. I actually didn&#39;t think that code would have that effect, but now I can&#39;t think of a way why it wouldn&#39;t."}], "tags": [], "owner": {"reputation": 49880, "user_id": 1222578, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daae63146dbed42f50cd56f7268c6260?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/1222578/marius"}, "is_accepted": false, "score": 1, "last_activity_date": 1427325237, "creation_date": 1427325237, "answer_id": 29268277, "question_id": 29267455, "link": "https://stackoverflow.com/questions/29267455/somehow-only-every-fourth-tile-renders/29268277#29268277", "title": "Somehow, Only Every Fourth Tile Renders", "body": "<p>I haven't tried to create separate files for all your code snippets yet, but I think I can spot the problem without having to run the code. In <code>createRowRender</code> you reset the dictionary for each row every time you increment the tile count:</p>\n\n<pre><code>while tileRendersCreated &lt; 1 + (xDistance * 2):\n        Render[\"Row %s\" % rowRendersCreated] = {}\n        createTileRender(Map, SelectedRow, SelectedTile, xDistance, zDistance, rowRendersCreated, tileRendersCreated)\n        tileRendersCreated += 1\n</code></pre>\n\n<p>I think that should be something like:</p>\n\n<pre><code>while tileRendersCreated &lt; 1 + (xDistance * 2):\n    rowName = \"Row %s\" % rowRendersCreated\n    if not rowName in Render:\n        Render[rowName] = {}\n    createTileRender(Map, SelectedRow, SelectedTile, xDistance, zDistance, rowRendersCreated, tileRendersCreated)\n    tileRendersCreated += 1\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4704931, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-J1biSs4dlsg/AAAAAAAAAAI/AAAAAAAAAJU/elrSuUCdJY8/photo.jpg?sz=128", "display_name": "1SDANTheMan", "link": "https://stackoverflow.com/users/4704931/1sdantheman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1427325237, "creation_date": 1427321174, "last_edit_date": 1427324793, "question_id": 29267455, "link": "https://stackoverflow.com/questions/29267455/somehow-only-every-fourth-tile-renders", "title": "Somehow, Only Every Fourth Tile Renders", "body": "<p>So I'm working on a rendering system for a small Python game I'm making and I found that when I print the Render's Dictionary that I use to store tile renders, I found that only the fourth tile of every row is actually rendered.I intended for it to output what it currently outputs to every fourth tile to every tile within the render distance but that sadly is not working. My code and output is as follows:</p>\n\n<p>main:</p>\n\n<pre><code>import RenderGame\nimport CreateWorld\n\nglobal Map\nRows = {}\n\n\n#Start.start()\n#MainMenu.listMenu_Main00()\n\nMap = CreateWorld.createLandscape(5, 5)\n#print Map\n\nRender = RenderGame.render(Map, 0, 0, 2, 2)\nprint Render\n\n#random.seed(\"z12\")\n#print random.randint(1, 5)\n</code></pre>\n\n<p>world generation:</p>\n\n<pre><code>global Map\nMap = {}\nMap[\"Rows\"] = {}\n\n\n#The Process of Generating a Blank Map xAxis long and zAxis wide\ndef createLandscape(xAxis, zAxis):\n    #Sets the amount of createdRows to 0\n    createdRows = 0\n\n    #Calls createRow() the amount of times that the Map is Long\n    while createdRows &lt; xAxis:\n        createRow(createdRows, zAxis)\n        createdRows += 1\n\n    return Map\n\n#The Process of Generating a Blank Map Row zAxis Wide and with a Row Number of RowsCreated\ndef createRow(RowsCreated, zAxis):\n    #Sets the variable \"createdTiles\" to 0\n    createdTiles = 0\n\n    #Sets the variable \"createdRows\" to the parameter \"RowsCreated\"\n    createdRows = RowsCreated\n\n    #Creates a Row within the dictionary \"Rows\"\n    Map[\"Rows\"][\"Row %s\" % createdRows] = {}\n\n    #Calls createTile() the amount of times that the Row is wide\n    while createdTiles &lt; zAxis:\n        createTile(createdRows, createdTiles)\n        createdTiles += 1\n\n#The Process of Generating a Blank Map Tile in the \ndef createTile(RowsCreated, TilesCreated):  \n    #Sets the variable \"createdRows\" to the parameter \"RowsCreated\"\n    createdRows = RowsCreated\n\n    #Sets the variable \"createdTiles\" to the parameter \"TilesCreated\"\n    createdTiles = TilesCreated\n\n\n    Map[\"Rows\"][\"Row %s\" % createdRows][\"Tile %s\" % createdTiles] = {}\n    Map[\"Rows\"][\"Row %s\" % createdRows][\"Tile %s\" % createdTiles][\"Type\"] = \"Null\"\n</code></pre>\n\n<p>renderer:</p>\n\n<pre><code>global Render\n\nRender = {}\n\ndef render(Map, SelectedRow, SelectedTile, xDistance, zDistance):\n    #Sets the variable \"createdRows\" to the parameter \"RowsCreated\"\n    rowSelected = SelectedRow\n    tileSelected = SelectedTile\n\n    if checkSelection(Map, SelectedRow, tileSelected):\n        renderMap(Map, rowSelected, tileSelected, xDistance, zDistance)\n        return Render\n        #DisplayGame.displayRender(Render, xDistance, zDistance)\n    else:\n        print \"Readjusting Selection\"\n        rowSelected = 0\n        tileSelected = 0\n\n\ndef checkSelection(Map, SelectedRow, SelectedTile):\n    #Make sure the Map has Rows\n    if \"Rows\" in Map:\n        #Make sure the Rows has the Selected Row\n        if (\"Row %s\" % SelectedRow) in Map[\"Rows\"]:\n            #Make sure the Selected Row has the Selected Tile\n            if (\"Tile %s\" % SelectedTile) in Map[\"Rows\"][\"Row %s\" % SelectedRow]:\n\n                return True\n\n            #Give Error Message if I cluck up\n            else:\n                print \"   [DEBIG]: The Key that represents to Selected Tile cannot be found in the Dictionary that represents the Selected Row   \" \n        #Give Error Message if I cluck up\n        else:\n            print \"   [DEBIG]: The Key that represents to Selected Row cannot be found in the Dictionary \\\"Rows\\\"   \"\n    #Give Error Message if I cluck up\n    else:\n        print \"   [DEBIG]: The Key \\\"Rows\\\" cannot be found in the Dictionary \\\"Map\\\"   \"\n\ndef renderMap(Map, SelectedRow, SelectedTile, xDistance, zDistance):\n    rowRendersCreated = 0\n\n    while rowRendersCreated &lt; 1 + (zDistance * 2):\n        createRowRender(Map, SelectedRow, SelectedTile, xDistance, zDistance, rowRendersCreated)\n        rowRendersCreated += 1\n\ndef createRowRender(Map, SelectedRow, SelectedTile, xDistance, zDistance, CreatedRowRenders):\n    rowRendersCreated = CreatedRowRenders\n    tileRendersCreated = 0\n\n\n    while tileRendersCreated &lt; 1 + (xDistance * 2):\n        Render[\"Row %s\" % rowRendersCreated] = {}\n        createTileRender(Map, SelectedRow, SelectedTile, xDistance, zDistance, rowRendersCreated, tileRendersCreated)\n        tileRendersCreated += 1\n\n\ndef createTileRender(Map, SelectedRow, SelectedTile, xDistance, zDistance, CreatedRowRenders, CreatedTileRenders):\n    rowRendersCreated = CreatedRowRenders\n    tileRendersCreated = CreatedTileRenders\n\n    Render[\"Row %s\" % rowRendersCreated][\"Tile %s\" % tileRendersCreated] = \"\"\n\n    if Map[\"Rows\"][\"Row %s\" % rowRendersCreated][\"Tile %s\" % tileRendersCreated][\"Type\"] == \"Null\":\n        Render[\"Row %s\" % rowRendersCreated][\"Tile %s\" % tileRendersCreated] = \"--------\"\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Python 2.7.9 (default, Dec 10 2014, 12:24:55) [MSC v.1500 32 bit (Intel)] on win32\nType \"copyright\", \"credits\" or \"license()\" for more information.\n&gt;&gt;&gt; ================================ RESTART ================================\n&gt;&gt;&gt; \n{'Row 1': {'Tile 4': '--------'}, 'Row 0': {'Tile 4': '--------'}, 'Row 3': {'Tile 4': '--------'}, 'Row 2': {'Tile 4': '--------'}, 'Row 4': {'Tile 4': '--------'}}\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Anyone have any idea why this is happening?</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "is_accepted": false, "score": 1, "last_activity_date": 1427321347, "creation_date": 1427321347, "answer_id": 29267504, "question_id": 29267419, "link": "https://stackoverflow.com/questions/29267419/numpy-way-of-spliting-a-matrix/29267504#29267504", "title": "Numpy way of spliting a matrix", "body": "<p>If I understand your question correctly, you can index over a boolean array, for example:</p>\n\n<pre><code>In [8]: import numpy as np\n\nIn [9]: X = np.arange(16).reshape(8, 2)\n\nIn [10]: Y = np.array([0,0,1,1,2,2,2,1])\n\nIn [11]: X[Y == 1]\nOut[11]: \narray([[ 4,  5],\n       [ 6,  7],\n       [14, 15]]\n</code></pre>\n"}], "owner": {"reputation": 709, "user_id": 2831683, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a406eba8f9f568fd0762829e497512c0?s=128&d=identicon&r=PG&f=1", "display_name": "user2831683", "link": "https://stackoverflow.com/users/2831683/user2831683"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427321347, "creation_date": 1427321047, "question_id": 29267419, "link": "https://stackoverflow.com/questions/29267419/numpy-way-of-spliting-a-matrix", "title": "Numpy way of spliting a matrix", "body": "<p>I have a (n x k) dimensional matrix X, and a (n x 1) dimensional matrix Y. My question is that using NumPy how can I split the matrix X based on the element on the same index in the Y matrix. Sample data in them can be like:</p>\n\n<pre><code>    X      ,   Y\n[ 1.4  0.2], ['class_A']\n[ 1.3  0.2], ['class_B']\n[ 1.5  0.2], ['class_C']\n[ 1.4  0.2], ['class_a']\n[ 1.7  0.4], ['class_A']\n[ 1.4  0.3], ['class_B']\n[ 1.5  0.2], ['class_C']\n.........\n</code></pre>\n\n<p>I have tried it using simple python, but I want to do it through NumPy, but I didn't find any function for this. </p>\n"}, {"tags": ["python", "variables", "sqlite", "tkinter"], "comments": [{"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 1, "creation_date": 1427321200, "post_id": 29267408, "comment_id": 46736445, "body": "why wouldn&#39;t you use a list, or even loop over the row[0...4]"}, {"owner": {"reputation": 777, "user_id": 1473454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNEnn.jpg?s=128&g=1", "display_name": "ktalik", "link": "https://stackoverflow.com/users/1473454/ktalik"}, "edited": false, "score": 0, "creation_date": 1427321227, "post_id": 29267408, "comment_id": 46736454, "body": "Why aren&#39;t you using <code>list</code> or any other collection here?"}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 3112327, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/dfbf45de5fd56c06a72327c28ecc5cad?s=128&d=identicon&r=PG&f=1", "display_name": "user3112327", "link": "https://stackoverflow.com/users/3112327/user3112327"}, "edited": false, "score": 0, "creation_date": 1427322833, "post_id": 29267457, "comment_id": 46737034, "body": "Hi, thanks for responding. The solution using lists seems to give me a problem where the program shows only the entry field from the 1st column/1st row, 2nd column/2nd row, 3rd column/3rd row and so on. Any idea what might be causing this? Furthermore I&#39;m not sure what the function of the &#39;index&#39; within this code is. Sorry, newbie to Python."}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "reply_to_user": {"reputation": 235, "user_id": 3112327, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/dfbf45de5fd56c06a72327c28ecc5cad?s=128&d=identicon&r=PG&f=1", "display_name": "user3112327", "link": "https://stackoverflow.com/users/3112327/user3112327"}, "edited": false, "score": 0, "creation_date": 1427322975, "post_id": 29267457, "comment_id": 46737101, "body": "Added info on <code>enumerate</code>."}, {"owner": {"reputation": 235, "user_id": 3112327, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/dfbf45de5fd56c06a72327c28ecc5cad?s=128&d=identicon&r=PG&f=1", "display_name": "user3112327", "link": "https://stackoverflow.com/users/3112327/user3112327"}, "edited": false, "score": 0, "creation_date": 1427323415, "post_id": 29267457, "comment_id": 46737266, "body": "I forgot to mention that &quot;customerdetails2&quot; is a .db file accessed by sqlite3 within the program. Could this be significant in any way?"}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "reply_to_user": {"reputation": 235, "user_id": 3112327, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/dfbf45de5fd56c06a72327c28ecc5cad?s=128&d=identicon&r=PG&f=1", "display_name": "user3112327", "link": "https://stackoverflow.com/users/3112327/user3112327"}, "edited": false, "score": 0, "creation_date": 1427323739, "post_id": 29267457, "comment_id": 46737389, "body": "So long as you&#39;re not trying to iterate through the file object and instead looping through the results of a valid SQL query, no - that&#39;s fine."}], "tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": false, "score": 5, "last_activity_date": 1427322958, "last_edit_date": 1427322958, "creation_date": 1427321178, "answer_id": 29267457, "question_id": 29267408, "link": "https://stackoverflow.com/questions/29267408/automatically-creating-unique-variables-in-for-loop/29267457#29267457", "title": "Automatically creating unique variables in for loop?", "body": "<p>You could have a <a href=\"https://docs.python.org/3.4/tutorial/datastructures.html#more-on-lists\" rel=\"nofollow\">list</a> of entries:</p>\n\n<pre><code>entries = []\nfor index, row in enumerate(customerdetails2):\n    entry = Entry(CustomerEdit)\n    entry.insert(0, row[index])\n    entry.grid(row = editnum, column = index)\n    entries.append(entry)\n</code></pre>\n\n<p>When you need to reference them, just reference by the index in the list.</p>\n\n<p>If you need to keep the <code>AA1</code> prefix, try a <a href=\"https://docs.python.org/3.4/tutorial/datastructures.html#dictionaries\" rel=\"nofollow\">dictionary</a>:</p>\n\n<pre><code>entries = {}\nfor index, row in enumerate(customerdetails2):\n    entry = Entry(CustomerEdit)\n    entry.insert(0, row[index])\n    entry.grid(row = editnum, column = index)\n    entries['AA1{}'.format(index)] = entry\n</code></pre>\n\n<p><a href=\"https://docs.python.org/3.4/library/functions.html#enumerate\" rel=\"nofollow\"><code>enumerate</code></a> is a function that takes a iterable object and iterates through the object and yields both the index and the object at that index.</p>\n"}], "owner": {"reputation": 235, "user_id": 3112327, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/dfbf45de5fd56c06a72327c28ecc5cad?s=128&d=identicon&r=PG&f=1", "display_name": "user3112327", "link": "https://stackoverflow.com/users/3112327/user3112327"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1427322958, "creation_date": 1427320986, "question_id": 29267408, "link": "https://stackoverflow.com/questions/29267408/automatically-creating-unique-variables-in-for-loop", "title": "Automatically creating unique variables in for loop?", "body": "<p>I'm writing here to ask if there is a way to make Python automatically create new unique variables in a for loop, within the context of the code shown below:</p>\n\n<pre><code>for row in customerdetails2:\n    AA10 = Entry(CustomerEdit)\n    AA10.insert(0, row[0])\n    AA10.grid(row = editnum, column = 0)\n    AA11 = Entry(CustomerEdit)\n    AA11.insert(0, row[1])\n    AA11.grid(row = editnum, column = 1)\n    AA12 = Entry(CustomerEdit)\n    AA12.insert(0, row[2])\n    AA12.grid(row = editnum, column = 2)\n    AA13 = Entry(CustomerEdit)\n    AA13.insert(0, row[3])\n    AA13.grid(row = editnum, column = 3)\n    AA14 = Entry(CustomerEdit)\n    AA14.insert(0, row[4])\n    AA14.grid(row = editnum, column = 4)\n</code></pre>\n\n<p>So basically for each row that Python finds within customerdetails2 (the database it is gathering information from) I want it to make a new set of entry fields but with different names for the variables rather than all of the entry fields being called 'AA10', 'AA11', 'AA12', etc. Is this possible? If not, is there a plausible alternative that achieves the same results?\nApologies as I am still pretty new to Python, but thanks in advance.</p>\n"}, {"tags": ["python", "web-services", "urllib", "http.client"], "answers": [{"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": true, "score": 0, "last_activity_date": 1427321326, "creation_date": 1427321326, "answer_id": 29267495, "question_id": 29267405, "link": "https://stackoverflow.com/questions/29267405/read-xml-files-online/29267495#29267495", "title": "read xml files online", "body": "<p><code>response.read()</code> takes an optional argument that is the number of bytes to read from the response; an integer, whole number. Now you passed the <code>response</code> object instead.</p>\n\n<p>As you want to read the entire response, you should omit the argument altogether, thus:</p>\n\n<pre><code>response_str = response.read()\nprint(response_str)\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 4714202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/39c13fb0a7e63c4c27803a809554a9e1?s=128&d=identicon&r=PG&f=1", "display_name": "vega2015", "link": "https://stackoverflow.com/users/4714202/vega2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 29267495, "answer_count": 1, "score": 1, "last_activity_date": 1427321326, "creation_date": 1427320969, "question_id": 29267405, "link": "https://stackoverflow.com/questions/29267405/read-xml-files-online", "title": "read xml files online", "body": "<p>i'm new to programing and I'm trying to accese the webservice provided in <a href=\"http://indicadoreseconomicos.bccr.fi.cr/indicadoreseconomicos/WebServices/wsindicadoreseconomicos.asmx?op=ObtenerIndicadoresEconomicosXML\" rel=\"nofollow\">http://indicadoreseconomicos.bccr.fi.cr/indicadoreseconomicos/WebServices/wsindicadoreseconomicos.asmx?op=ObtenerIndicadoresEconomicosXML</a>, i've added the parameters I need to acces it but when I try to read the file in python I get \nTypeError: 'HTTPResponse' object cannot be interpreted as an integer</p>\n\n<p>this is my code </p>\n\n<pre><code>import urllib\nimport http.client\nimport time\nHEADERS={\"Content-type\":\"application/x-www-form-urlencoded\",\"Accept\":\"text/plain\"}\nHOST = \"indicadoreseconomicos.bccr.fi.cr\"\nPOST = \"/indicadoreseconomicos/WebServices/wsIndicadoresEconomicos.asmx/ObtenerIndicadoresEconomicos\"\ndata = urllib.parse.urlencode({'tcIndicador': 317,\n                           'tcFechaInicio':str(time.strftime(\"%d/%m/%Y\")),\n                           'tcFechaFinal':str(time.strftime(\"%d/%m/%Y\")),\n                           'tcNombre' : 'TI1400',\n                           'tnSubNiveles' : 'N'})\nconn=http.client.HTTPConnection(HOST)\nconn.request(\"POST\",POST,data,headers=HEADERS)\nresponse= conn.getresponse()\nresponseSTR= response.read(response)\nprint (response)\n</code></pre>\n\n<p>Any suggestions are apreciated </p>\n"}, {"tags": ["python", "json", "parsing", "dictionary"], "comments": [{"owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "edited": false, "score": 0, "creation_date": 1427321391, "post_id": 29267401, "comment_id": 46736510, "body": "By the way, the JSON you have is broken, the third from last line has a <code>,</code> after the <code>}</code> which shouldn&#39;t be there."}, {"owner": {"reputation": 205, "user_id": 4132398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1662f79c9cce545792826a6165987a05?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Cris", "link": "https://stackoverflow.com/users/4132398/chris-cris"}, "reply_to_user": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "edited": false, "score": 0, "creation_date": 1427321759, "post_id": 29267401, "comment_id": 46736649, "body": "Thank you, it&#39;s my fault but fortunally it&#39;s only a bad copy and paste, the original JSON is OK."}], "answers": [{"comments": [{"owner": {"reputation": 205, "user_id": 4132398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1662f79c9cce545792826a6165987a05?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Cris", "link": "https://stackoverflow.com/users/4132398/chris-cris"}, "edited": false, "score": 0, "creation_date": 1427321493, "post_id": 29267444, "comment_id": 46736552, "body": "thank you Joseph but in this way how can I add a new value to an old node? (Say... I need to add &quot;z&quot;= 12 in the node with id = &#39;node5&#39;.)"}, {"owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "reply_to_user": {"reputation": 205, "user_id": 4132398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1662f79c9cce545792826a6165987a05?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Cris", "link": "https://stackoverflow.com/users/4132398/chris-cris"}, "edited": false, "score": 0, "creation_date": 1427322026, "post_id": 29267444, "comment_id": 46736761, "body": "If you don&#39;t have any control over the JSON you&#39;re reading in, you have two options: one, iterate over all of <code>json[&#39;nodes&#39;]</code> and inside the loop, check if the current element is the one you want to modify. Or, better yet, just turn <code>jsonData[&#39;nodes&#39;]</code> into a dict itself based on its contents, e.g <code>jsonData[&#39;nodes&#39;] = {e[&#39;id&#39;]: e for e in jsonData[&#39;nodes&#39;]}</code>"}, {"owner": {"reputation": 205, "user_id": 4132398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1662f79c9cce545792826a6165987a05?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Cris", "link": "https://stackoverflow.com/users/4132398/chris-cris"}, "edited": false, "score": 0, "creation_date": 1427322346, "post_id": 29267444, "comment_id": 46736872, "body": "Thank you Joseph. I&#39;ll give it a try."}, {"owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "reply_to_user": {"reputation": 205, "user_id": 4132398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1662f79c9cce545792826a6165987a05?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Cris", "link": "https://stackoverflow.com/users/4132398/chris-cris"}, "edited": false, "score": 0, "creation_date": 1427322376, "post_id": 29267444, "comment_id": 46736887, "body": "Great. If it works, be sure to mark this answer as &quot;Accepted&quot; by clicking the checkmark to the left."}], "tags": [], "owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "is_accepted": true, "score": 1, "last_activity_date": 1427322087, "last_edit_date": 1427322087, "creation_date": 1427321148, "answer_id": 29267444, "question_id": 29267401, "link": "https://stackoverflow.com/questions/29267401/error-in-json-python-parsing/29267444#29267444", "title": "error in json python parsing", "body": "<p>In your JSON, <code>nodes</code> is a list of objects, so you can't try to access elements inside it using a string like you are doing with <code>'id'</code>. </p>\n\n<p>Instead, you can iterate over it:</p>\n\n<pre><code>with open('data.json', 'r') as f:\n    jsonData = json.load(f)\n\nfor item in jsonData['nodes']:\n    print item['id'], item['x'], item['y']\n</code></pre>\n\n<p>[Edit]\nTo address your comment:</p>\n\n<pre><code>with open('data.json', 'r') as f:\n    jsonData = json.load(f)\n\njsonData['nodes'] = {e['id']: e for e in jsonData['nodes']}\njsonData['nodes']['node5']['z'] = 12\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18953, "user_id": 4640209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86bc12112054e578fc0bcd333cbb2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4640209/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1427323171, "creation_date": 1427323171, "answer_id": 29267868, "question_id": 29267401, "link": "https://stackoverflow.com/questions/29267401/error-in-json-python-parsing/29267868#29267868", "title": "error in json python parsing", "body": "<p>This snippet adds a a new value (z=12) to an old node and updates the existing node y</p>\n\n<pre><code>import json\nfrom collections import defaultdict\n\njsonData = defaultdict(list)\nwith open('c:/temp/data.json', 'r') as f:\n    jsonData = json.load(f)\nfor item in jsonData['nodes']:\n    if  item['id']=='node5':\n       item['y'] = 5\n       item['z'] = 12\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 4132398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1662f79c9cce545792826a6165987a05?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Cris", "link": "https://stackoverflow.com/users/4132398/chris-cris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 29267444, "answer_count": 2, "score": 0, "last_activity_date": 1427324399, "creation_date": 1427320954, "last_edit_date": 1427324399, "question_id": 29267401, "link": "https://stackoverflow.com/questions/29267401/error-in-json-python-parsing", "title": "error in json python parsing", "body": "<p>I've loaded a JSON file but I'm not able to parse it in order to update or insert values.</p>\n\n<p>The JSON structure is similar to this one:</p>\n\n<pre><code>{\n    \"nodes\": [\n        {\n            \"id\": \"node1\",\n            \"x\": 21.0,\n            \"y\": 8.0\n        },\n        {\n            \"id\": \"node5\",\n            \"x\": 3.0,\n            \"y\": 5.0\n        }\n    ]\n}\n</code></pre>\n\n<p>While my python code to retrieve a node is similar to this:</p>\n\n<pre><code>jsonData = defaultdict(list)\nwith open('data.json', 'r') as f:\n    jsonData = json.load(f)\nprint jsonData['nodes']['id'] == 'node5'\n</code></pre>\n\n<p>The error I get is \"TypeError: list indices must be integers, not str\".</p>\n\n<p>How can I retrieve a node and how can I update it?</p>\n"}, {"tags": ["python", "python-2.7", "pagination", "web-scraping", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 4578582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eb57085308f40d5c4927c72b3f20becd?s=128&d=identicon&r=PG&f=1", "display_name": "EricJohn", "link": "https://stackoverflow.com/users/4578582/ericjohn"}, "edited": false, "score": 0, "creation_date": 1427331244, "post_id": 29267577, "comment_id": 46739779, "body": "Thanks Alecxe!  I ran the fixed version, and the CSV output is 13 rows of the correct items from a general search (vs. the state specific results, which I assume the &quot;start_urls&quot; filtered for). Also, I received the following error (see, &quot;edit: new error.&quot; Thus, it looks like I need to fix three aspects: 1. re-filter the start &quot;urls&quot; for the state-specific results, 2. iterate 25 rows per page, 3. pagination on all 40 pages.  Any ideas?"}, {"owner": {"reputation": 75, "user_id": 4578582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eb57085308f40d5c4927c72b3f20becd?s=128&d=identicon&r=PG&f=1", "display_name": "EricJohn", "link": "https://stackoverflow.com/users/4578582/ericjohn"}, "edited": false, "score": 0, "creation_date": 1427338143, "post_id": 29267577, "comment_id": 46741418, "body": "&quot;Edit: Error message:&quot;          &quot;File &quot;C:\\Users\\Anaconda2\\propub\\propub\\pipelines.py&quot;, line 22, in process_item             item[&#39;amount&#39;][0].encode(&#39;utf-8&#39;)])         exceptions.IndexError: list index out of range&quot;"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 75, "user_id": 4578582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eb57085308f40d5c4927c72b3f20becd?s=128&d=identicon&r=PG&f=1", "display_name": "EricJohn", "link": "https://stackoverflow.com/users/4578582/ericjohn"}, "edited": false, "score": 0, "creation_date": 1427466507, "post_id": 29267577, "comment_id": 46800633, "body": "@EricJohn okay, I&#39;ve updated the <code>parse()</code> callback fixing your XPath expressions, check it out."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1427466425, "last_edit_date": 1427466425, "creation_date": 1427321659, "answer_id": 29267577, "question_id": 29267395, "link": "https://stackoverflow.com/questions/29267395/scrapy-unsuccessful-iterating-over-a-list-and-pagination/29267577#29267577", "title": "Scrapy: Unsuccessful iterating over a list and pagination", "body": "<p>Multiple things need to be fixed:</p>\n\n<ul>\n<li>use <code>start_requests()</code> method instead of <code>list_iterator()</code></li>\n<li><p>there is a missing <code>%</code> here: </p>\n\n<pre><code>yield Request('https://projects.propublica.org/docdollars/search?page=%d' % i, callback=self.parse)\n#                                                                 HERE^\n</code></pre></li>\n<li>you don't need <code>CrawlSpider</code> since you are providing the pagination links via <code>start_requests()</code> - use regular <code>scrapy.Spider</code></li>\n<li>it would more reliable if XPath expressions would match the cells by class attributes</li>\n</ul>\n\n<p>Fixed version:</p>\n\n<pre><code>import scrapy\n\nfrom propub.items import PropubItem\n\n\nclass propubSpider(scrapy.Spider):\n    name = 'prop$'\n    allowed_domains = ['projects.propublica.org']\n    max_pages = 40\n\n    def start_requests(self):\n        for i in range(self.max_pages):\n            yield scrapy.Request('https://projects.propublica.org/docdollars/search?page=%d' % i, callback=self.parse)\n\n    def parse(self, response):\n        for sel in response.xpath('//*[@id=\"payments_list\"]//tr[@data-payment-id]'):\n            item = PropubItem()\n            item['payee'] = sel.xpath('td[@class=\"name_and_payee\"]/a[last()]/text()').extract()\n            item['link'] = sel.xpath('td[@class=\"name_and_payee\"]/a[1]/@href').extract()\n            item['city'] = sel.xpath('td[@class=\"city\"]/text()').extract()\n            item['state'] = sel.xpath('td[@class=\"state\"]/text()').extract()\n            item['company'] = sel.xpath('td[@class=\"company\"]/text()').extract()\n            item['amount'] = sel.xpath('td[@class=\"amount\"]/text()').extract()\n            yield item\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 4578582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eb57085308f40d5c4927c72b3f20becd?s=128&d=identicon&r=PG&f=1", "display_name": "EricJohn", "link": "https://stackoverflow.com/users/4578582/ericjohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1771, "favorite_count": 0, "accepted_answer_id": 29267577, "answer_count": 1, "score": 1, "last_activity_date": 1427466425, "creation_date": 1427320918, "last_edit_date": 1427322333, "question_id": 29267395, "link": "https://stackoverflow.com/questions/29267395/scrapy-unsuccessful-iterating-over-a-list-and-pagination", "title": "Scrapy: Unsuccessful iterating over a list and pagination", "body": "<p>My goal is to extract all 25 rows ( 6 items per row) per page then iterate over each of the 40 pages.</p>\n\n<p>Currently, my spider extracts the first row from page 1-3 (see CSV output image).   </p>\n\n<p>I assumed the, <code>list_iterator()</code> function would iterate over each row; however,  there appears to be an error in either my <code>rules</code> or <code>list_iterator()</code> function that is not allowing all rows per page to be scrapped.   </p>\n\n<p>Any assistance or advice is greatly appreciated!</p>\n\n<p>propub_spider.py:</p>\n\n<pre><code>import scrapy \nfrom scrapy.contrib.spiders import CrawlSpider, Rule\nfrom scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor \nfrom propub.items import PropubItem\nfrom scrapy.http import Request\n\nclass propubSpider(CrawlSpider):\n    name = 'prop$'\n    allowed_domains = ['https://projects.propublica.org']\n    max_pages = 40\n    start_urls = [\n        'https://projects.propublica.org/docdollars/search?state%5Bid%5D=33',\n        'https://projects.propublica.org/docdollars/search?page=2&amp;state%5Bid%5D=33',\n        'https://projects.propublica.org/docdollars/search?page=3&amp;state%5Bid%5D=33']\n\n    rules = (Rule(SgmlLinkExtractor(allow=('\\\\search?page=\\\\d')), 'parse_start_url', follow=True),)\n\n    def list_iterator(self):\n        for i in range(self.max_pages):\n            yield Request('https://projects.propublica.org/docdollars/search?page=d' % i, callback=self.parse)\n\n    def parse(self, response):\n        for sel in response.xpath('//*[@id=\"payments_list\"]/tbody'):\n            item = PropubItem()\n            item['payee'] = sel.xpath('tr[1]/td[1]/a[2]/text()').extract()\n            item['link'] = sel.xpath('tr[1]/td[1]/a[1]/@href').extract()\n            item['city'] = sel.xpath('tr[1]/td[2]/text()').extract()\n            item['state'] = sel.xpath('tr[1]/td[3]/text()').extract()\n            item['company'] = sel.xpath('tr[1]/td[4]').extract()\n            item['amount'] =  sel.xpath('tr[1]/td[7]/span/text()').extract()\n            yield item \n</code></pre>\n\n<p>pipelines.py:</p>\n\n<pre><code>import csv\n\nclass PropubPipeline(object):\n\n    def __init__(self):\n        self.myCSV = csv.writer(open('C:\\Users\\Desktop\\propub.csv', 'wb'))\n        self.myCSV.writerow(['payee', 'link', 'city', 'state', 'company', 'amount'])\n\n    def process_item(self, item, spider):\n        self.myCSV.writerow([item['payee'][0].encode('utf-8'), \n        item['link'][0].encode('utf-8'), \n        item['city'][0].encode('utf-8'), \n        item['state'][0].encode('utf-8'),\n        item['company'][0].encode('utf-8'),\n        item['amount'][0].encode('utf-8')])\n        return item\n</code></pre>\n\n<p>items.py:</p>\n\n<pre><code>import scrapy\nfrom scrapy.item import Item, Field\n\nclass PropubItem(scrapy.Item):\n    payee = scrapy.Field()\n    link = scrapy.Field()\n    city = scrapy.Field()\n    state = scrapy.Field()\n    company = scrapy.Field()\n    amount =  scrapy.Field()\n    pass\n</code></pre>\n\n<p>CSV output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/sTdZn.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 0, "creation_date": 1427321084, "post_id": 29267339, "comment_id": 46736410, "body": "They&#39;re removed from the copy, what did you expect to happen?"}, {"owner": {"reputation": 3769, "user_id": 2332721, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ff58B.jpg?s=128&g=1", "display_name": "RST", "link": "https://stackoverflow.com/users/2332721/rst"}, "edited": false, "score": 0, "creation_date": 1427321837, "post_id": 29267339, "comment_id": 46736672, "body": "call it like <code>$cleaned_list = rmvPrivate(private_paths, url_strings);</code> then you can print it or use it any way you want."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "reply_to_user": {"reputation": 3769, "user_id": 2332721, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ff58B.jpg?s=128&g=1", "display_name": "RST", "link": "https://stackoverflow.com/users/2332721/rst"}, "edited": false, "score": 0, "creation_date": 1427322133, "post_id": 29267339, "comment_id": 46736805, "body": "@RST this is Python, not JavaScript..."}, {"owner": {"reputation": 41, "user_id": 4714225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c7ef2e6407eabacf7b192db3fd7b494?s=128&d=identicon&r=PG&f=1", "display_name": "acb1906", "link": "https://stackoverflow.com/users/4714225/acb1906"}, "reply_to_user": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 0, "creation_date": 1427324535, "post_id": 29267339, "comment_id": 46737692, "body": "@SteveJessop and the copy is returned?"}, {"owner": {"reputation": 41, "user_id": 4714225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c7ef2e6407eabacf7b192db3fd7b494?s=128&d=identicon&r=PG&f=1", "display_name": "acb1906", "link": "https://stackoverflow.com/users/4714225/acb1906"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1427324560, "post_id": 29267339, "comment_id": 46737703, "body": "@MattDMo great input.. but that snipped looks more like php to me?"}, {"owner": {"reputation": 41, "user_id": 4714225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c7ef2e6407eabacf7b192db3fd7b494?s=128&d=identicon&r=PG&f=1", "display_name": "acb1906", "link": "https://stackoverflow.com/users/4714225/acb1906"}, "reply_to_user": {"reputation": 3769, "user_id": 2332721, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ff58B.jpg?s=128&g=1", "display_name": "RST", "link": "https://stackoverflow.com/users/2332721/rst"}, "edited": false, "score": 0, "creation_date": 1427324613, "post_id": 29267339, "comment_id": 46737729, "body": "@RST thanks for your answer but even if i call  <code>new_list = rmvPrivate(private_paths, url strings)</code> it still doesn&#39;t remove the unwanted urls"}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 0, "creation_date": 1427327157, "post_id": 29267339, "comment_id": 46738625, "body": "@acb1906: yes, it does remove them. If you&#39;re having trouble with code you must show a full program demonstrating the problem, not just the part that you (mistakenly) think contains the bug."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4714225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c7ef2e6407eabacf7b192db3fd7b494?s=128&d=identicon&r=PG&f=1", "display_name": "acb1906", "link": "https://stackoverflow.com/users/4714225/acb1906"}, "edited": false, "score": 0, "creation_date": 1427324445, "post_id": 29267430, "comment_id": 46737658, "body": "Thanks for your answer. After making your changes, whichever way I do it, they are still not removed?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "reply_to_user": {"reputation": 41, "user_id": 4714225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c7ef2e6407eabacf7b192db3fd7b494?s=128&d=identicon&r=PG&f=1", "display_name": "acb1906", "link": "https://stackoverflow.com/users/4714225/acb1906"}, "edited": false, "score": 0, "creation_date": 1427325495, "post_id": 29267430, "comment_id": 46738074, "body": "Strange I see it as removed in Python2 and 3. There is another option in my answer now."}], "tags": [], "owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "is_accepted": false, "score": 0, "last_activity_date": 1427326002, "last_edit_date": 1427326002, "creation_date": 1427321091, "answer_id": 29267430, "question_id": 29267339, "link": "https://stackoverflow.com/questions/29267339/why-is-this-function-not-removing-items-from-a-list/29267430#29267430", "title": "Why is this function not removing items from a list?", "body": "<p>You made a copy of the list. If you remove from the copy then the original is never changed.</p>\n\n<p>Do this</p>\n\n<pre><code>private_paths = ['/sites/', '/files/']\nurl_strings = ['http://example.com/files/image1.jpg', 'http://example.com/index.html', 'http://example.com/about.html', 'http://example.com/sites/js/example.js']\n\ndef rmvPrivate(privatepaths, links):\n    for link in links:\n        for path in privatepaths:\n            if path in link:\n                # printed link and path here\n                links.remove(link) \n\n\n\nrmvPrivate(private_paths, url_strings)\n\nprint url_strings\n</code></pre>\n\n<p>Note the return value (which you never capture) is redundant if you change the list in place.</p>\n\n<p>Alternatively with your original code you could just capture the return value of the function.</p>\n\n<pre><code>public_url_strings = rmvPrivate(private_paths, url_strings)\n</code></pre>\n\n<p>As a one liner based on Alex Martellis answer in the linked dupe question.</p>\n\n<pre><code>def rmvPrivate(privatepaths, links):\n    links[:] = [link for link in links if all(pp not in link for pp in private_paths)]\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4714225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c7ef2e6407eabacf7b192db3fd7b494?s=128&d=identicon&r=PG&f=1", "display_name": "acb1906", "link": "https://stackoverflow.com/users/4714225/acb1906"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "closed_date": 1427323163, "answer_count": 1, "score": 2, "last_activity_date": 1427326002, "creation_date": 1427320737, "question_id": 29267339, "link": "https://stackoverflow.com/questions/29267339/why-is-this-function-not-removing-items-from-a-list", "closed_reason": "Duplicate", "title": "Why is this function not removing items from a list?", "body": "<p>I have a function in a .py file to take a list of links (url strings) and a list of private paths for a link and remove it from the list and return a new list.</p>\n\n<p>e.g. remove any items from the list that contain the string '/files'.</p>\n\n<p>This are the lists:</p>\n\n<pre><code>private_paths = ['/sites/', '/files']\nurl_strings = ['http://example.com/files/image1.jpg', 'http://example.com/index.html', 'http://example.com/about.html', 'http://example.com/sites/js/example.js']\n</code></pre>\n\n<p>etc.. etc..</p>\n\n<p>The function is below:</p>\n\n<pre><code>def rmvPrivate(privatepaths, links):\n\ncopy = list(links)\n\nfor link in copy:\n    for path in privatepaths:\n        if path in link:\n            # printed link and path here\n            copy.remove(link) \nreturn copy\n</code></pre>\n\n<p>Called with:</p>\n\n<pre><code>rmvPrivate(private_paths, url_strings)\n</code></pre>\n\n<p>The function is finding and matching links that are in the url_strings list that contain a private path from the private_paths list, but they are not being removed?</p>\n\n<p>Thanks in advance for any advice you can give me!</p>\n\n<p>Context: \nI'm trying to write a script that goes to the home page of a website gets all the links and adds them to an array - then this array will be used in python/selenium tests..</p>\n\n<p>Thanks again!</p>\n"}, {"tags": ["python", "django", "django-forms", "django-validation"], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 1, "last_activity_date": 1427353669, "last_edit_date": 1427353669, "creation_date": 1427326436, "answer_id": 29268527, "question_id": 29267284, "link": "https://stackoverflow.com/questions/29267284/type-error-when-using-custom-clean-fieldname-method-in-django/29268527#29268527", "title": "Type Error when using custom clean_&lt;fieldname&gt; method in django", "body": "<p>Firstly, the error isn't anything to do with your custom clean method, it is happening in the view.</p>\n\n<p>It is simply that you should use square brackets to access dict items, not parentheses:</p>\n\n<pre><code>unm=form.cleaned_data['username']\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 2078217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f42d8c7fb1f1f7acbd2413ee02111398?s=128&d=identicon&r=PG", "display_name": "user2078217", "link": "https://stackoverflow.com/users/2078217/user2078217"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 29268527, "answer_count": 1, "score": 0, "last_activity_date": 1427353669, "creation_date": 1427320513, "last_edit_date": 1427324736, "question_id": 29267284, "link": "https://stackoverflow.com/questions/29267284/type-error-when-using-custom-clean-fieldname-method-in-django", "title": "Type Error when using custom clean_&lt;fieldname&gt; method in django", "body": "<p>I am using the inbuilt User model to store user information in my application.\nHowever while registering a new user I want that the username should be unique. For this purpose I decided to override the clean_username method in my modelform. Here is my forms.py file</p>\n\n<pre><code>from django import forms\nfrom django.contrib.auth.models import User\n\nclass Registration_Form(forms.ModelForm):\n    password=forms.CharField(widget=forms.PasswordInput())\n    class Meta:\n        model=User\n        fields=['first_name', 'last_name', 'username', 'email', 'password']\n\n    def clean_username(self):\n        value=self.cleaned_data['username']\n        if User.objects.filter(username=value[0]):\n            raise ValidationError(u'The username %s is already taken' %value)\n        return value\n</code></pre>\n\n<p>And here is my views.py file</p>\n\n<pre><code>from django.shortcuts import render\nfrom django.shortcuts import redirect\n\n# Create your views here.\nfrom django.contrib.auth.models import User\nfrom registration.forms import Registration_Form\n\ndef register(request):\n    if request.method==\"POST\":\n        form=Registration_Form(request.POST)\n        if form.is_valid():\n            unm=form.cleaned_data('username')\n            pss=form.cleaned_data('password')\n            fnm=form.cleaned_data('first_name')\n            lnm=form.cleaned_data('last_name')\n            eml=form.cleaned_data('email')\n            u=User.objects.create_user(username=unm, password=pss, email=eml, first_name=fnm, last_name=lnm)\n            u.save()\n            return render(request,'success_register.html',{'u':u})\n    else:\n        form=Registration_Form()\n    return render(request,'register_user.html',{'form':form})\n</code></pre>\n\n<p>However on clicking the submit button of the form I am getting this error</p>\n\n<p>Exception Type: TypeError\nException Value:<br>\n'dict' object is not callable\nException Location: /home/srai/project_x/registration/views.py in register, line 12</p>\n\n<p>The line in question is this</p>\n\n<p>unm=form.cleaned_data('username')</p>\n\n<p>Can anyone please tell me why this error occurs and how do I solve it.\nThanks.</p>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1427323572, "post_id": 29267261, "comment_id": 46737332, "body": "Where are you getting the error? If there&#39;s a stacktrace, please add it to your question."}], "answers": [{"comments": [{"owner": {"reputation": 297, "user_id": 2886789, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e06556e2f0529e91e04a1c2f6eb7fb1d?s=128&d=identicon&r=PG&f=1", "display_name": "daeda", "link": "https://stackoverflow.com/users/2886789/daeda"}, "edited": false, "score": 1, "creation_date": 1427449544, "post_id": 29267315, "comment_id": 46790402, "body": "But what is the best way to duplicate data in an other way?"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "reply_to_user": {"reputation": 297, "user_id": 2886789, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e06556e2f0529e91e04a1c2f6eb7fb1d?s=128&d=identicon&r=PG&f=1", "display_name": "daeda", "link": "https://stackoverflow.com/users/2886789/daeda"}, "edited": false, "score": 0, "creation_date": 1427459910, "post_id": 29267315, "comment_id": 46796309, "body": "Best I do not know, I&#39;d have to know more about the code, but I&#39;d say &quot;anything else than <code>deepcopy</code>&quot;"}, {"owner": {"reputation": 5615, "user_id": 1448983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c77e00209cd87ff20cfe06a0c5434788?s=128&d=identicon&r=PG", "display_name": "Steen", "link": "https://stackoverflow.com/users/1448983/steen"}, "reply_to_user": {"reputation": 297, "user_id": 2886789, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e06556e2f0529e91e04a1c2f6eb7fb1d?s=128&d=identicon&r=PG&f=1", "display_name": "daeda", "link": "https://stackoverflow.com/users/2886789/daeda"}, "edited": false, "score": 0, "creation_date": 1508918238, "post_id": 29267315, "comment_id": 80800691, "body": "@daeda: In this case you should just create a custom copy routine to copy over the attributes you need."}], "tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": false, "score": 4, "last_activity_date": 1427321952, "last_edit_date": 1427321952, "creation_date": 1427320631, "answer_id": 29267315, "question_id": 29267261, "link": "https://stackoverflow.com/questions/29267261/object-new-thread-lock-is-not-safe-use-thread-lock-new/29267315#29267315", "title": "object.__new__(thread.lock) is not safe, use thread.lock.__new__()", "body": "<p>Don't use <code>deepcopy</code> (it is almost always certainly wrong). <code>deepcopy</code> will copy all referred to objects; in this case your object graph has some locks; they are not copiable by <code>deepcopy</code> and thus you get the error.</p>\n"}, {"tags": [], "owner": {"reputation": 297, "user_id": 2886789, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e06556e2f0529e91e04a1c2f6eb7fb1d?s=128&d=identicon&r=PG&f=1", "display_name": "daeda", "link": "https://stackoverflow.com/users/2886789/daeda"}, "is_accepted": true, "score": 1, "last_activity_date": 1428058241, "creation_date": 1428058241, "answer_id": 29430770, "question_id": 29267261, "link": "https://stackoverflow.com/questions/29267261/object-new-thread-lock-is-not-safe-use-thread-lock-new/29430770#29430770", "title": "object.__new__(thread.lock) is not safe, use thread.lock.__new__()", "body": "<p>Ok since I only needed very few data of the object I create a new one every time I get changed Account data. I deepcopy this keep the original in the thread and put the copy in the queue, which seemed to work so far.</p>\n"}], "owner": {"reputation": 297, "user_id": 2886789, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e06556e2f0529e91e04a1c2f6eb7fb1d?s=128&d=identicon&r=PG&f=1", "display_name": "daeda", "link": "https://stackoverflow.com/users/2886789/daeda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4078, "favorite_count": 0, "accepted_answer_id": 29430770, "answer_count": 2, "score": 4, "last_activity_date": 1428058241, "creation_date": 1427320395, "last_edit_date": 1427418688, "question_id": 29267261, "link": "https://stackoverflow.com/questions/29267261/object-new-thread-lock-is-not-safe-use-thread-lock-new", "title": "object.__new__(thread.lock) is not safe, use thread.lock.__new__()", "body": "<p>Hi I keep getting this error and I don't know how to circumvent this.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>class retrieve_account_data(Thread):\n    _account_queue = None\n    _dict_of_db_logging_objects = {}\n\n    def __init__(self,name):\n        super(retrieve_account_data,self).__init__()\n        self.name = name\n\n    def set_account_queue(self,account):\n        self._account_queue = account\n\n    def set_db_logging_object(self,db_logging_object):\n        self._db_logging_object = db_logging_object\n\n    def run(self):\n        latest_account_object = self._account_queue.get(block = True)\n        latest_account_object.get_account_balances()\n        old_account_object = copy.deepcopy(latest_account_object)\n        self._account_queue.put(copy.deepcopy(old_account_object))\n\n        while True:\n            latest_account_object.get_account_balances()\n            if ((old_account_object.get_base_currency_amount() !=\n                 latest_account_object.get_base_currency_amount()) or\n                (old_account_object.get_quote_currency_amount() !=\n                 latest_account_object.get_quote_currency_amount())):\n\n                old_account_object = copy.deepcopy(latest_account_object)\n                self._account_queue.put(copy.deepcopy(old_account_object))\n\n                if (old_account_object.get_name_of_exchange() not in\n                    self._dict_of_db_logging_objects):\n                    self._dict_of_db_logging_objects[\n                                old_account_object.get_name_of_exchange()] =\n                                (db_logging(\"account_balances\",\n                                 old_account_object.get_name_of_exchange()))\n\n                self._dict_of_db_logging_objects.log_account_data_to_db(\n                            old_account_object.get_base_currency_amount(),\n                            old_account_object.get_quote_currency_amount(),\n                            time.time())\n</code></pre>\n\n<p>The thread is started like this in main</p>\n\n<pre><code>account_queue = Queue.Queue()\nretrieve_account_data = retrieve_account_data(\"trade_account\")\nretrieve_account_data.set_account_queue(account_queue)\naccount_queue.put(account)\nretrieve_account_data.start()\n</code></pre>\n\n<p>There is a second thread that receives the accounts on the other side of the queue. <code>account</code> is a object that contains several other objects. <code>get_balances()</code> does an http request to get some json data.\nWhat I want to do is minimize communication between the <code>retrieve_account_data</code> thread and the consuming thread. That is why I'm storing the old version of account and comparing to the new version of account.</p>\n\n<p>The other side has a similar mechanism when new account data is available, it stores the account object or if there is no new data it will use the last account data.</p>\n\n<p>So how can I solve this without getting an error?</p>\n\n<p>@martineau here is the error reported by eclipse sorry for the bad formatting    </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 808, in __bootstrap_inner  \n  self.run()  \n  File \"/Users/angus/fortunate_one/fortunate_one/src/thread_handling/process_orders.py\", line 133, in run  \n    old_account_object = copy.deepcopy(latest_account_object)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 190, in deepcopy  \n    y = _reconstruct(x, rv, 1, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 334, in _reconstruct  \n    state = deepcopy(state, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 163, in deepcopy  \n    y = copier(x, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 257, in _deepcopy_dict  \n    y[deepcopy(key, memo)] = deepcopy(value, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 190, in deepcopy  \n    y = _reconstruct(x, rv, 1, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 334, in _reconstruct  \n    state = deepcopy(state, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 163, in deepcopy  \n    y = copier(x, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 257, in _deepcopy_dict  \n    y[deepcopy(key, memo)] = deepcopy(value, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 163, in deepcopy  \n    y = copier(x, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 298, in _deepcopy_inst  \n    state = deepcopy(state, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 163, in deepcopy  \n    y = copier(x, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 257, in _deepcopy_dict  \n    y[deepcopy(key, memo)] = deepcopy(value, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 190, in deepcopy  \n    y = _reconstruct(x, rv, 1, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 334, in _reconstruct  \n    state = deepcopy(state, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 163, in deepcopy  \n    y = copier(x, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 257, in _deepcopy_dict  \n    y[deepcopy(key, memo)] = deepcopy(value, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 190, in deepcopy  \n    y = _reconstruct(x, rv, 1, memo)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 329, in _reconstruct  \n    y = callable(*args)  \n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy_reg.py\", line 93, in __newobj__  \n    return cls.__new__(cls, *args)  \nTypeError: object.__new__(thread.lock) is not safe, use thread.lock.__new__()  \n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1680, "user_id": 3308509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4d433ab89756d37ac8d09cbffe6621d2?s=128&d=identicon&r=PG&f=1", "display_name": "Malonge", "link": "https://stackoverflow.com/users/3308509/malonge"}, "edited": false, "score": 1, "creation_date": 1427320696, "post_id": 29267217, "comment_id": 46736268, "body": "Why down votes? Seems to me that research was performed, and the question is clear and useful. Feedback is appreciated."}], "answers": [{"tags": [], "owner": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "is_accepted": true, "score": 2, "last_activity_date": 1427320412, "creation_date": 1427320412, "answer_id": 29267270, "question_id": 29267217, "link": "https://stackoverflow.com/questions/29267217/how-to-direct-standard-output-to-string-instead-of-file-with-python-subprocess-c/29267270#29267270", "title": "How to direct standard output to string instead of file with python subprocess.call", "body": "<p>Sure, use <code>subprocess.check_output()</code> in a similar fashion (it has the same argument structure as <code>call</code>) and it will return the output as a byte string for you.</p>\n"}], "owner": {"reputation": 1680, "user_id": 3308509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4d433ab89756d37ac8d09cbffe6621d2?s=128&d=identicon&r=PG&f=1", "display_name": "Malonge", "link": "https://stackoverflow.com/users/3308509/malonge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 29267270, "answer_count": 1, "score": -1, "last_activity_date": 1427320412, "creation_date": 1427320226, "last_edit_date": 1495539807, "question_id": 29267217, "link": "https://stackoverflow.com/questions/29267217/how-to-direct-standard-output-to-string-instead-of-file-with-python-subprocess-c", "title": "How to direct standard output to string instead of file with python subprocess.call", "body": "<p>The following questions regard how to write subprocess.call to output files.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7532455/how-to-redirect-pythons-subprocess-call-methods-output-to-a-file-and-not-consol\">Question1</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/24884000/how-to-redirect-pythons-subprocess-call-output-to-file\">Question2</a></p>\n\n<p>Is there away to redirect standard output of subprocess.call() to  a string  object in python, instead of having to create a file? For example, I would like to call the md5sum command, and simply save the results as a string. Is there a way to forgo the file making step?</p>\n"}, {"tags": ["python", "python-2.7", "urllib2", "urllib", "cookielib"], "comments": [{"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427320894, "post_id": 29267185, "comment_id": 46736349, "body": "I think what you need is a regular expression that matches email addresses: <a href=\"http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address\" title=\"using a regular expression to validate an email address\">stackoverflow.com/questions/201323/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 1, "creation_date": 1427324315, "post_id": 29267490, "comment_id": 46737604, "body": "The regex you give isn&#39;t sufficient. It will miss hyphenated domain names such as &#39;foo-bar.com&#39;, as an example. Obviously, there are a litany of stack overflow answers along these lines, <a href=\"http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address\" title=\"using a regular expression to validate an email address\">stackoverflow.com/questions/201323/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/8022530/python-check-for-valid-email-address\" title=\"python check for valid email address\">stackoverflow.com/questions/8022530/&hellip;</a> come to mind (I&#39;d make the regex from the latter <code>[^@\\s]+@[^@\\s]+\\.[^@\\s]+</code> to exclude white space, but the general point stands)"}, {"owner": {"reputation": 3, "user_id": 4520354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vCe4aoJnvj8/AAAAAAAAAAI/AAAAAAAAABI/2-qe4LHEhNQ/photo.jpg?sz=128", "display_name": "yuyb0y", "link": "https://stackoverflow.com/users/4520354/yuyb0y"}, "reply_to_user": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 0, "creation_date": 1427377807, "post_id": 29267490, "comment_id": 46758191, "body": "@hugo-sousa @bmhkim its not working for the most websites. for example this website <code>http:&#47;&#47;www.hotm-il.com&#47;vb&#47;showthread.php?t=18249</code>"}, {"owner": {"reputation": 836, "user_id": 2402599, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8645a0a9d3d7270ee460c63995efd88a?s=128&d=identicon&r=PG", "display_name": "Hugo Sousa", "link": "https://stackoverflow.com/users/2402599/hugo-sousa"}, "edited": false, "score": 0, "creation_date": 1427379881, "post_id": 29267490, "comment_id": 46759753, "body": "Hummm, did you try to remove the &quot;mailto:&quot; ?"}, {"owner": {"reputation": 836, "user_id": 2402599, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8645a0a9d3d7270ee460c63995efd88a?s=128&d=identicon&r=PG", "display_name": "Hugo Sousa", "link": "https://stackoverflow.com/users/2402599/hugo-sousa"}, "edited": false, "score": 0, "creation_date": 1427381394, "post_id": 29267490, "comment_id": 46760901, "body": "I just ran it without the <code>mailto</code>: and I got this: <code>[&#39;x4r@msn.com&#39;, &#39;x4r@msn.com&#39;, &#39;x4r@msn.com&#39;, &#39;x4r@msn.com&#39;,...]</code>"}, {"owner": {"reputation": 3, "user_id": 4520354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vCe4aoJnvj8/AAAAAAAAAAI/AAAAAAAAABI/2-qe4LHEhNQ/photo.jpg?sz=128", "display_name": "yuyb0y", "link": "https://stackoverflow.com/users/4520354/yuyb0y"}, "edited": false, "score": 0, "creation_date": 1427383382, "post_id": 29267490, "comment_id": 46762452, "body": "@hugo-sousa So i need more than one way <code>mailto:([a-z0-9!#$%&amp;&#39;*+\\&#47;=?^_</code>{|}~-]+@[a-z0-9]+\\.[a-zA-Z0-9-.&zwnj;&#8203;]+)` , <code>([a-z0-9!#$%&amp;&#39;*+\\&#47;=?^_</code>{|}~-]+@[a-z0-9]+\\.[a-zA-Z0-9-.]+)` and <code>[\\w\\.-]+@[\\w\\.-]+</code> but can give me the most way to catch more emails &quot;I plan to make my programe to use all this ways one by one to ctach more emails&quot;"}, {"owner": {"reputation": 3, "user_id": 4520354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vCe4aoJnvj8/AAAAAAAAAAI/AAAAAAAAABI/2-qe4LHEhNQ/photo.jpg?sz=128", "display_name": "yuyb0y", "link": "https://stackoverflow.com/users/4520354/yuyb0y"}, "edited": false, "score": 0, "creation_date": 1427395169, "post_id": 29267490, "comment_id": 46770115, "body": "@hugo-sousa I dont know why its not working. please can help me with this website <code>http:&#47;&#47;www.almirkaz.com&#47;index.php?option=com_sobi2&amp;Itemid=26&zwnj;&#8203;4</code> i need to get all emails from that website."}], "tags": [], "owner": {"reputation": 836, "user_id": 2402599, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8645a0a9d3d7270ee460c63995efd88a?s=128&d=identicon&r=PG", "display_name": "Hugo Sousa", "link": "https://stackoverflow.com/users/2402599/hugo-sousa"}, "is_accepted": true, "score": 0, "last_activity_date": 1427322130, "last_edit_date": 1427322130, "creation_date": 1427321312, "answer_id": 29267490, "question_id": 29267185, "link": "https://stackoverflow.com/questions/29267185/how-to-parse-emails-from-mailto-urls-in-python/29267490#29267490", "title": "how to Parse emails from mailto urls in Python", "body": "<p>I just added the following code to your code and it works perfectly:</p>\n\n<pre><code>regexp = re.compile((\"mailto:([a-z0-9!#$%&amp;'*+\\/=?^_`{|}~-]+@[a-z0-9]+\\.[a-zA-Z0-9-.]+)\"))\n\nlinks = re.findall(regexp, content)\n\nprint links\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['njm-kwt@hotmail.com', 'fnan-ksa@hotmail.com', 'k-w-t7@hotmail.com', 'coool-uae@hotmail.com', 'qsd@hotmail.de', 'o1ooo@hotmail.de', 'm-p-3@hotmail.de', 'ya7oo@hotmail.de', 'g5x@hotmail.de', 'f7t@hotmail.de', 'm2y@hotmail.de', 's2udi@hotmail.de', 'q2tar@hotmail.de', 'kuw2it@hotmail.de', 's2udi@hotmail.fr', 'qxx@hotmail.de', 'y-e-s@hotmail.de', 'y-a@hotmail.de', 'qqj@hotmail.de', 'qjj@hotmail.de', 'admin_vb@hotmail.de', 'eng-vb@hotmail.com', 'a3lantk@hotmail.com', 'a3lnkm@hotmail.com', 't7t@hotmail.de', 'mohamed_fathy41@hotmail.com', 'ox-9@hotmail.com', 'ox-9@hotmail.com']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 322, "user_id": 588650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KVeTQ.jpg?s=128&g=1", "display_name": "Vitold S.", "link": "https://stackoverflow.com/users/588650/vitold-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1431630347, "creation_date": 1431630347, "answer_id": 30245331, "question_id": 29267185, "link": "https://stackoverflow.com/questions/29267185/how-to-parse-emails-from-mailto-urls-in-python/30245331#30245331", "title": "how to Parse emails from mailto urls in Python", "body": "<p>You shold use special library like that</p>\n\n<p><a href=\"https://pypi.python.org/pypi/urlinfo\" rel=\"nofollow\">https://pypi.python.org/pypi/urlinfo</a></p>\n\n<p>and contribute and create issue to make Python better ;)</p>\n"}], "owner": {"reputation": 3, "user_id": 4520354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vCe4aoJnvj8/AAAAAAAAAAI/AAAAAAAAABI/2-qe4LHEhNQ/photo.jpg?sz=128", "display_name": "yuyb0y", "link": "https://stackoverflow.com/users/4520354/yuyb0y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 0, "accepted_answer_id": 29267490, "answer_count": 2, "score": 0, "last_activity_date": 1431630347, "creation_date": 1427320089, "question_id": 29267185, "link": "https://stackoverflow.com/questions/29267185/how-to-parse-emails-from-mailto-urls-in-python", "title": "how to Parse emails from mailto urls in Python", "body": "<p>I am trying to parse emails from web page.\nmy code:</p>\n\n<pre><code>            import urllib2,cookielib\n            import re\n\n            site= \"http://www.traidnt.net/vb/traidnt207743\"\n            hdr = {'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11',\n                    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n                    'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.3',\n                    'Accept-Encoding': 'none',\n                    'Accept-Language': 'en-US,en;q=0.8',\n                    'Connection': 'keep-alive'}\n\n            req = urllib2.Request(site, headers=hdr)\n\n            page = urllib2.urlopen(req)\n\n            content = page.read()\n\n            links = re.findall('mailto:.+?@.+.', content)\n\n            for link in links:\n                print link[7:-1]\n</code></pre>\n\n<p>and the result come like:</p>\n\n<pre><code>email1@\nemail2@\nemail3@\n...\n</code></pre>\n\n<p>but i need to get all emails with complete form.\nPlease how i can do that to get complete form of all emails.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "recursion", "set"], "comments": [{"owner": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "edited": false, "score": 2, "creation_date": 1427319962, "post_id": 29267128, "comment_id": 46735904, "body": "Maybe use a <code>frozenset</code>?"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1427320021, "post_id": 29267128, "comment_id": 46735926, "body": "do you want to add <i>all</i> elements?"}, {"owner": {"reputation": 1019, "user_id": 3969102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b3e3966476f87983329218a63323705?s=128&d=identicon&r=PG&f=1", "display_name": "A.P.", "link": "https://stackoverflow.com/users/3969102/a-p"}, "edited": false, "score": 0, "creation_date": 1427320771, "post_id": 29267128, "comment_id": 46736296, "body": "If you want to add all elements, you can write a generator function <code>traverse()</code> to traverse the tree <code>yield</code> ing each node&#39;s value. Then you can do <code>s = set(traverse())</code>"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4176256, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002109829172/picture?type=large", "display_name": "Samimoti", "link": "https://stackoverflow.com/users/4176256/samimoti"}, "edited": false, "score": 0, "creation_date": 1427323696, "post_id": 29267207, "comment_id": 46737376, "body": "So (root.value)s are mutable to I&#39;m first turning them into strings, I want to add all the nodes that are not already in the set -&gt; unique nodes"}], "tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": false, "score": 1, "last_activity_date": 1427320177, "creation_date": 1427320177, "answer_id": 29267207, "question_id": 29267128, "link": "https://stackoverflow.com/questions/29267128/adding-recursively-to-a-set/29267207#29267207", "title": "Adding recursively to a set", "body": "<p>If you really want to add the children as sets, you can use a <code>frozenset</code>:</p>\n\n<pre><code>s.add(frozenset(distinct_leaf_helper(child)))\n</code></pre>\n\n<p>though I guess your intention is to add all the elements from the child set, in which case you'd use <code>.update()</code> to add the elements of the given iterable into the set:</p>\n\n<pre><code>s.update(distinct_leaf_helper(child))\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4176256, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002109829172/picture?type=large", "display_name": "Samimoti", "link": "https://stackoverflow.com/users/4176256/samimoti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1012, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427320177, "creation_date": 1427319872, "question_id": 29267128, "link": "https://stackoverflow.com/questions/29267128/adding-recursively-to-a-set", "title": "Adding recursively to a set", "body": "<p>How can I add recursively to a set, when set itself is unhashable?</p>\n\n<pre><code>s = set()\nif root.children == []:      \n    if str(root.value) not in s:        \n        s.add(str(root.value))\n        return s\n    else:\n        if str(root.value) not in s:\n            s.add(str(root.value))\n        for child in root.children:\n            s.add(distinct_leaf_helper(child))\n        return s\n</code></pre>\n\n<p>this will result in a TypeError</p>\n"}, {"tags": ["python", "keyboard", "kivy", "multi-user"], "comments": [{"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1427326269, "post_id": 29267070, "comment_id": 46738345, "body": "This is an interesting question, I suspect the answer is no right now, since (as far as I know) kivy doesn&#39;t expose any differences between keyboards even if its backend can distinguish between them internally. I might be wrong if one of the arguments to on_key_down does vary between keyboards, you could try testing that."}, {"owner": {"reputation": 154, "user_id": 4288044, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/61d6204fde10b59d711aebbaa92aaeac?s=128&d=identicon&r=PG", "display_name": "Jacob Kern", "link": "https://stackoverflow.com/users/4288044/jacob-kern"}, "reply_to_user": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1427331935, "post_id": 29267070, "comment_id": 46739939, "body": "This bothers me because I remember seeing a way to get a list of all the attached keyboards and thought I could do it that way but now I can&#39;t find it"}], "answers": [{"comments": [{"owner": {"reputation": 154, "user_id": 4288044, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/61d6204fde10b59d711aebbaa92aaeac?s=128&d=identicon&r=PG", "display_name": "Jacob Kern", "link": "https://stackoverflow.com/users/4288044/jacob-kern"}, "edited": false, "score": 0, "creation_date": 1427397985, "post_id": 29281517, "comment_id": 46771614, "body": "I can work with that, though not in Kivy it&#39;s the most correct answer so far. Thanks!"}], "tags": [], "owner": {"reputation": 14068, "user_id": 1169883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9MUrT.jpg?s=128&g=1", "display_name": "Ryan P", "link": "https://stackoverflow.com/users/1169883/ryan-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1427381300, "creation_date": 1427381300, "answer_id": 29281517, "question_id": 29267070, "link": "https://stackoverflow.com/questions/29267070/is-it-possible-for-kivy-to-use-two-keyboards-on-different-widgets-at-the-same-ti/29281517#29281517", "title": "Is it possible for Kivy to use two keyboards on different widgets at the same time?I", "body": "<p>This is indeed possible, though not directly supported in Kivy. The software I work on uses many peripherals which emulate keyboards, such as barcode scanners and magnetic stripe readers, and each input stream is handled separately.</p>\n\n<p>You can use <a href=\"http://python-evdev.readthedocs.org/en/latest/\" rel=\"nofollow\">python-evdev</a> to grab input devices individually. For each device, spawn a thread to read from the device and append its input to a <a href=\"https://docs.python.org/2/library/queue.html\" rel=\"nofollow\"><code>Queue</code></a>.</p>\n\n<p>Finally, poll the queues using <a href=\"http://kivy.org/docs/api-kivy.clock.html#kivy.clock.ClockBase.schedule_interval\" rel=\"nofollow\"><code>Clock.schedule_interval</code></a> with a timeout of 0 (to poll on every frame), pop items from the queue and use them to dispatch <code>on_key_down</code> and <code>on_key_up</code> events for the desired <code>TextInput</code>.</p>\n"}], "owner": {"reputation": 154, "user_id": 4288044, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/61d6204fde10b59d711aebbaa92aaeac?s=128&d=identicon&r=PG", "display_name": "Jacob Kern", "link": "https://stackoverflow.com/users/4288044/jacob-kern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 29281517, "answer_count": 1, "score": 2, "last_activity_date": 1427381300, "creation_date": 1427319627, "question_id": 29267070, "link": "https://stackoverflow.com/questions/29267070/is-it-possible-for-kivy-to-use-two-keyboards-on-different-widgets-at-the-same-ti", "title": "Is it possible for Kivy to use two keyboards on different widgets at the same time?I", "body": "<p>I want my Kivy app to have two users using one computer with two keyboards. The users' keyboards will be permanently focused on text inputs that they use to interact with the edit zone. I'm having trouble figuring out if this is even possible. Can anyone nudge me in the right direction? </p>\n"}, {"tags": ["python", "pip", "openpyxl"], "comments": [{"owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "edited": false, "score": 0, "creation_date": 1427319678, "post_id": 29267024, "comment_id": 46735759, "body": "Are you behind a proxy/firewall? Looks like you&#39;re on Windows, is that right?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427319734, "post_id": 29267024, "comment_id": 46735785, "body": "What version of pip? Also if you very want to install pip use get-pip.py <a href=\"https://bootstrap.pypa.io/get-pip.py\" rel=\"nofollow noreferrer\">bootstrap.pypa.io/get-pip.py</a>. You are also connected to the net?"}, {"owner": {"reputation": 47, "user_id": 2298094, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0222562a6ab7bf8c52c3e2a26df90f33?s=128&d=identicon&r=PG", "display_name": "Birdd", "link": "https://stackoverflow.com/users/2298094/birdd"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427322866, "post_id": 29267024, "comment_id": 46737053, "body": "@PadraicCunningham I am connected to the net, yes. I have pip - I want to install something using pip."}, {"owner": {"reputation": 47, "user_id": 2298094, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0222562a6ab7bf8c52c3e2a26df90f33?s=128&d=identicon&r=PG", "display_name": "Birdd", "link": "https://stackoverflow.com/users/2298094/birdd"}, "reply_to_user": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "edited": false, "score": 0, "creation_date": 1427322915, "post_id": 29267024, "comment_id": 46737070, "body": "@Joseph I would assume I am being a proxy/firewall being on a corporate campus but I wouldn&#39;t know how to confirm that. I am on Windows."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 2298094, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0222562a6ab7bf8c52c3e2a26df90f33?s=128&d=identicon&r=PG", "display_name": "Birdd", "link": "https://stackoverflow.com/users/2298094/birdd"}, "edited": false, "score": 0, "creation_date": 1427322832, "post_id": 29267101, "comment_id": 46737032, "body": "I can open this url, so that points to it not being a network issue?"}, {"owner": {"reputation": 718, "user_id": 4615680, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0gJ1Z.jpg?s=128&g=1", "display_name": "Joshua Grigonis", "link": "https://stackoverflow.com/users/4615680/joshua-grigonis"}, "reply_to_user": {"reputation": 47, "user_id": 2298094, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0222562a6ab7bf8c52c3e2a26df90f33?s=128&d=identicon&r=PG", "display_name": "Birdd", "link": "https://stackoverflow.com/users/2298094/birdd"}, "edited": false, "score": 0, "creation_date": 1427325037, "post_id": 29267101, "comment_id": 46737887, "body": "It&#39;s still a network issue, just not as simple as originally suspected.  Perhaps the proxy answer should be helpful."}], "tags": [], "owner": {"reputation": 718, "user_id": 4615680, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0gJ1Z.jpg?s=128&g=1", "display_name": "Joshua Grigonis", "link": "https://stackoverflow.com/users/4615680/joshua-grigonis"}, "is_accepted": false, "score": 2, "last_activity_date": 1427362259, "last_edit_date": 1427362259, "creation_date": 1427319747, "answer_id": 29267101, "question_id": 29267024, "link": "https://stackoverflow.com/questions/29267024/pip-unable-to-access-websites-fresh-install-of-python-2-7-9/29267101#29267101", "title": "Pip unable to access websites, fresh install of Python 2.7.9", "body": "<p>It seems like a network problem.</p>\n\n<p>If you can open <a href=\"https://pypi.python.org/simple/openpyxl/\" rel=\"nofollow\">https://pypi.python.org/simple/openpyxl/</a> in your browser, then it may be some other issue.  </p>\n"}, {"tags": [], "owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "is_accepted": false, "score": 1, "last_activity_date": 1427389741, "last_edit_date": 1427389741, "creation_date": 1427323040, "answer_id": 29267849, "question_id": 29267024, "link": "https://stackoverflow.com/questions/29267024/pip-unable-to-access-websites-fresh-install-of-python-2-7-9/29267849#29267849", "title": "Pip unable to access websites, fresh install of Python 2.7.9", "body": "<p>It appears you are behind a firewall on your corporate campus and need a proxy to make HTTP requests outside your local network. You will need to specify your proxy server in your shell before running <code>pip</code>:</p>\n\n<pre><code>SET HTTPS_PROXY=&lt;proxyHost&gt;:&lt;proxyPort&gt;\nSET HTTP_PROXY=&lt;proxyHost&gt;:&lt;proxyPort&gt;\n</code></pre>\n\n<p>You can also specify a proxy directly to <code>pip</code>, but I understand this feature was broken at one point:</p>\n\n<pre><code>pip install &lt;package&gt; --proxy=&lt;proxyHost&gt;:&lt;proxyPort&gt;\n</code></pre>\n\n<p>However, we cannot determine your proxy information, you will need to do that. You may have some luck with:</p>\n\n<pre><code>import urllib2\nprint urllib2.getproxies()\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 2298094, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0222562a6ab7bf8c52c3e2a26df90f33?s=128&d=identicon&r=PG", "display_name": "Birdd", "link": "https://stackoverflow.com/users/2298094/birdd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1450, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1427389741, "creation_date": 1427319471, "question_id": 29267024, "link": "https://stackoverflow.com/questions/29267024/pip-unable-to-access-websites-fresh-install-of-python-2-7-9", "title": "Pip unable to access websites, fresh install of Python 2.7.9", "body": "<p>I just did a fresh/clean install of Python 2.7.9 to get pip (couldn't get it any other way) and now when I go to install something using it I get this error:</p>\n\n<pre><code>pip install openpyxl\nDownloading/unpacking openpyxl\n  Cannot fetch index base URL https://pypi.python.org/simple\n  Could not find any downloads that satisfy the requirement openpyxl\nCleaning up...\nNo distributions at all found for openpyxl\nStoring debug log for failure in C:\\Users\\name\\pip\\pip.log\n</code></pre>\n\n<p>The error log looks similar, just many time out messages with no more information:</p>\n\n<pre><code>  Downloading/unpacking openpyxl\n  Getting page https://pypi.python.org/simple/openpyxl/\n  Could not fetch URL https://pypi.python.org/simple/openpyxl/: timed out\n  Will skip URL https://pypi.python.org/simple/openpyxl/ when looking for download links for openpyxl\n  Getting page https://pypi.python.org/simple/\n  Could not fetch URL https://pypi.python.org/simple/: timed out\n  Will skip URL https://pypi.python.org/simple/ when looking for download links for openpyxl\n  Cannot fetch index base URL https://pypi.python.org/simple/\n  URLs to search for versions for openpyxl:\n  * https://pypi.python.org/simple/openpyxl/\n  Getting page https://pypi.python.org/simple/openpyxl/\n  Could not fetch URL https://pypi.python.org/simple/openpyxl/: timed out\n  Will skip URL https://pypi.python.org/simple/openpyxl/ when looking for download links for openpyxl\n  Could not find any downloads that satisfy the requirement openpyxl\nCleaning up...\n  Removing temporary dir c:\\users\\dqa8300\\appdata\\local\\temp\\pip_build_DQA8300...\nNo distributions at all found for openpyxl\nException information:\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\site-packages\\pip\\basecommand.py\", line 122, in main\n    status = self.run(options, args)\n  File \"C:\\Python27\\lib\\site-packages\\pip\\commands\\install.py\", line 278, in run\n    requirement_set.prepare_files(finder, force_root_egg_info=self.bundle, bundle=self.bundle)\n  File \"C:\\Python27\\lib\\site-packages\\pip\\req.py\", line 1177, in prepare_files\n    url = finder.find_requirement(req_to_install, upgrade=self.upgrade)\n  File \"C:\\Python27\\lib\\site-packages\\pip\\index.py\", line 277, in find_requirement\n    raise DistributionNotFound('No distributions at all found for %s' % req)\nDistributionNotFound: No distributions at all found for openpyxl\n</code></pre>\n\n<p>I'm assuming that this is a network thing, is there any work around?</p>\n"}, {"tags": ["python", ".net", "user-interface"], "comments": [{"owner": {"reputation": 1546, "user_id": 4410674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4899e4d5ddf6c49930f0b4161af21?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Bailey", "link": "https://stackoverflow.com/users/4410674/nick-bailey"}, "edited": false, "score": 0, "creation_date": 1427319764, "post_id": 29267018, "comment_id": 46735802, "body": "Well, there is PyQT <a href=\"http://www.riverbankcomputing.co.uk/software/pyqt/intro\" rel=\"nofollow noreferrer\">riverbankcomputing.co.uk/software/pyqt/intro</a>"}, {"owner": {"reputation": 405, "user_id": 796910, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d7b2dd8162600f1ed534d4c730918122?s=128&d=identicon&r=PG", "display_name": "skvsree", "link": "https://stackoverflow.com/users/796910/skvsree"}, "reply_to_user": {"reputation": 1546, "user_id": 4410674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4899e4d5ddf6c49930f0b4161af21?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Bailey", "link": "https://stackoverflow.com/users/4410674/nick-bailey"}, "edited": false, "score": 0, "creation_date": 1427395659, "post_id": 29267018, "comment_id": 46770379, "body": "I am looking for existing gui component which can behave and support features like IPython console eg; embedding images."}], "owner": {"reputation": 405, "user_id": 796910, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d7b2dd8162600f1ed534d4c730918122?s=128&d=identicon&r=PG", "display_name": "skvsree", "link": "https://stackoverflow.com/users/796910/skvsree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427332016, "creation_date": 1427319456, "last_edit_date": 1427332016, "question_id": 29267018, "link": "https://stackoverflow.com/questions/29267018/console-lib-like-ipython-like-qt-console", "title": "Console Lib like IPython like Qt Console", "body": "<p>I looking to Build a Gui App like IPython Qt Console in python or .net/mono.  Is there a similar Rich text Console Library available for python or .net/mono?</p>\n\n<p><em>prefer cross platform</em></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1427319475, "post_id": 29267006, "comment_id": 46735654, "body": "Save it in a .json file and load it with <code>l = json.load(file.json)</code>"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1427319606, "post_id": 29267006, "comment_id": 46735715, "body": "I would recommend choosing a variable name other than the built-in <code>list</code>, though."}, {"owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "edited": false, "score": 0, "creation_date": 1427320550, "post_id": 29267006, "comment_id": 46736190, "body": "You can <code>pickle</code> your list."}], "answers": [{"tags": [], "owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "is_accepted": false, "score": 1, "last_activity_date": 1427366413, "last_edit_date": 1427366413, "creation_date": 1427319693, "answer_id": 29267090, "question_id": 29267006, "link": "https://stackoverflow.com/questions/29267006/import-list-variable-from-separate-files-in-python/29267090#29267090", "title": "Import list variable from separate files in python", "body": "<p>Sure why not?</p>\n\n<p>vars.py</p>\n\n<pre><code>mylist = [\n'one',\n'two',\n'three',\n'four',\n]\n</code></pre>\n\n<p>main.py</p>\n\n<pre><code>from vars import mylist\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 182, "user_id": 2793480, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100004017841526/picture?type=large", "display_name": "Justin Andrew", "link": "https://stackoverflow.com/users/2793480/justin-andrew"}, "is_accepted": true, "score": 7, "last_activity_date": 1427319743, "creation_date": 1427319743, "answer_id": 29267100, "question_id": 29267006, "link": "https://stackoverflow.com/questions/29267006/import-list-variable-from-separate-files-in-python/29267100#29267100", "title": "Import list variable from separate files in python", "body": "<p>Yes! Simply create another python list and import it in the main program. </p>\n\n<p>in variables.py</p>\n\n<pre><code>mylist = ['this', 'that', 'theother']\n</code></pre>\n\n<p>in main.py</p>\n\n<pre><code>from variables import mylist\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 1, "creation_date": 1427321346, "post_id": 29267331, "comment_id": 46736493, "body": "<code>myfile</code> is simply a file object. To get the file contents, you should use <code>for word in myfile.read()</code>."}, {"owner": {"reputation": 154, "user_id": 4288044, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/61d6204fde10b59d711aebbaa92aaeac?s=128&d=identicon&r=PG", "display_name": "Jacob Kern", "link": "https://stackoverflow.com/users/4288044/jacob-kern"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1427828228, "post_id": 29267331, "comment_id": 46933128, "body": "I&#39;ve just recently learned this and it&#39;s great. Sorry for formatting (on mobile) but in python it becomes as easy as &quot;words = word.split() for word in open(&quot; file.txt&quot;, &quot;r&quot;) if len(word.split()) == 4&quot;. This simple, easy to read, one liner puts all the 4 letter words in your file into the array &#39;words&#39;. So brilliant."}, {"owner": {"reputation": 154, "user_id": 4288044, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/61d6204fde10b59d711aebbaa92aaeac?s=128&d=identicon&r=PG", "display_name": "Jacob Kern", "link": "https://stackoverflow.com/users/4288044/jacob-kern"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1427834054, "post_id": 29267331, "comment_id": 46936236, "body": "With an if clause thrown in too"}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1427834080, "post_id": 29267331, "comment_id": 46936254, "body": "That&#39;s a list comprehension"}, {"owner": {"reputation": 154, "user_id": 4288044, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/61d6204fde10b59d711aebbaa92aaeac?s=128&d=identicon&r=PG", "display_name": "Jacob Kern", "link": "https://stackoverflow.com/users/4288044/jacob-kern"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1427834139, "post_id": 29267331, "comment_id": 46936279, "body": "Then yes. List comprehension"}], "tags": [], "owner": {"reputation": 154, "user_id": 4288044, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/61d6204fde10b59d711aebbaa92aaeac?s=128&d=identicon&r=PG", "display_name": "Jacob Kern", "link": "https://stackoverflow.com/users/4288044/jacob-kern"}, "is_accepted": false, "score": 1, "last_activity_date": 1427320713, "creation_date": 1427320713, "answer_id": 29267331, "question_id": 29267006, "link": "https://stackoverflow.com/questions/29267006/import-list-variable-from-separate-files-in-python/29267331#29267331", "title": "Import list variable from separate files in python", "body": "<p>Shashank and Justin provided great answers but if you really wanted to keep it as a text file you might want to try this:</p>\n\n<p><code>myfile = open('listFile.txt', 'r')\nfor word in myfile:\n    list.append(word)\n</code></p>\n"}, {"comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 1, "creation_date": 1427321269, "post_id": 29267357, "comment_id": 46736467, "body": "I&#39;d only do that in a <code>try</code>/<code>except</code> block. `try: import cPickle as pickle except ImportError: import pickle. Reason being: cPickle isn&#39;t available on all computers and in Python 3, cPickle is imported in place of pickle if it&#39;s available. However, good choice in pickle, it&#39;s one of the best ways of storing data."}, {"owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1427321460, "post_id": 29267357, "comment_id": 46736537, "body": "@Zizouz212, thanks I didn&#39;t know that was an issue, I never ran into a problem with that. I will update my answer to reflect your suggestion."}], "tags": [], "owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "is_accepted": false, "score": 3, "last_activity_date": 1427321530, "last_edit_date": 1427321530, "creation_date": 1427320800, "answer_id": 29267357, "question_id": 29267006, "link": "https://stackoverflow.com/questions/29267006/import-list-variable-from-separate-files-in-python/29267357#29267357", "title": "Import list variable from separate files in python", "body": "<p>I would use <code>pickle</code> here:</p>\n\n<pre><code>try: \n    import cPickle as pickle\nexcept ImportError:\n    import pickle\n\nmy_list = ['one',\n        'two',\n        'three']\n\npickle.dump(my_list, open('my_list.pkl', 'wb')) \n\nmy_list = pickle.load(open('my_list.pkl', 'rb'))\n</code></pre>\n"}], "owner": {"reputation": 1967, "user_id": 2097870, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5730730ee365e3f3c90b991f1f543b54?s=128&d=identicon&r=PG", "display_name": "O P", "link": "https://stackoverflow.com/users/2097870/o-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6693, "favorite_count": 2, "accepted_answer_id": 29267100, "answer_count": 4, "score": 5, "last_activity_date": 1427366413, "creation_date": 1427319376, "question_id": 29267006, "link": "https://stackoverflow.com/questions/29267006/import-list-variable-from-separate-files-in-python", "title": "Import list variable from separate files in python", "body": "<p><strong>script.py</strong></p>\n\n<pre><code>list = ['one',\n        'two',\n        'three']\n# python script here\n</code></pre>\n\n<p>My list is getting really long (about 400 lines)... Is there a way to have the variable <code>list</code> in a separate py file and import it?</p>\n\n<p>Or should I have separate file and create a list by iterating over it?</p>\n\n<p><strong>list.txt</strong></p>\n\n<pre><code>one\ntwo\nthree\n</code></pre>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["python", "python-requests"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1427319724, "post_id": 29266996, "comment_id": 46735781, "body": "The form on that page posts to <code>condo1.cfm</code>, so you definitely need to honour that. Did you try and get the first form page using a <code>request.Session()</code> first to allow the site to set a cookie?"}, {"owner": {"reputation": 13, "user_id": 4713727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdfdc35ea1e65d788111bb1e4d655ecb?s=128&d=identicon&r=PG&f=1", "display_name": "gamaun", "link": "https://stackoverflow.com/users/4713727/gamaun"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1427380244, "post_id": 29266996, "comment_id": 46760029, "body": "Yep I did try the Session() command, didn&#39;t work, and I think now I know why, as Joseph pointed out."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4713727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdfdc35ea1e65d788111bb1e4d655ecb?s=128&d=identicon&r=PG&f=1", "display_name": "gamaun", "link": "https://stackoverflow.com/users/4713727/gamaun"}, "edited": false, "score": 0, "creation_date": 1427380395, "post_id": 29267314, "comment_id": 46760134, "body": "This worked perfectly! Thanks for spotting my typo. I guess I&#39;ll have to become close friends with Chromes Network inspector. I did use it to construct my payload but never spotted the Referer part. Thanks again!"}], "tags": [], "owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "is_accepted": true, "score": 0, "last_activity_date": 1427320631, "creation_date": 1427320631, "answer_id": 29267314, "question_id": 29266996, "link": "https://stackoverflow.com/questions/29266996/python-requests-not-working/29267314#29267314", "title": "Python requests not working", "body": "<p>First, as @MartijnPieters commented, you need to post to <code>condo1.cfm</code> since that is where the form posts. Secondly, using a <code>requests.Session()</code> allows the first page (<code>condlook.cfm</code>) to set the <code>CFID</code> and <code>CFTOKEN</code> cookies. You must specify the referrer, since apparently <code>condo1.cfm</code> has some logic to not return results without the referrer set. Finally, you have a typo in your <code>payload</code>: <code>fcountry</code> must be <code>fcounty</code>. </p>\n\n<pre><code>import requests\ns = requests.Session()\n\ns.get(\"https://entp.hud.gov/idapp/html/condlook.cfm\")\n\ns.headers[\"Referer\"] = \"https://entp.hud.gov/idapp/html/condlook.cfm\"\n\n\npayload = {\n    'fapproval_method':'NEW',\n    'fsorted_by':'condo_name',\n    'fstate':'WA',\n    'fcounty':'',\n    'fcondo_id':'',\n    'fcondo_name':'',\n    'fcity':'',\n    'fzip':'',\n    'fstatus_code':'A',\n    'fsearch_type':'B',\n    'fbegin_mo':'',\n    'fbegin_dy':'',\n    'fbegin_yr':'',\n    'fend_mo':'',\n    'fend_dy':'',\n    'fend_yr':'',\n    'came_from':'oth',\n    'in_fhac':'true'\n}\nr = s.post(\"https://entp.hud.gov/idapp/html/condo1.cfm\", data=payload)\nprint r.text\n</code></pre>\n\n<p>For what it's worth, I figured this out using Chrome's Network inspector and viewing the HTTP Request headers. I suspected <code>User-Agent</code> would be required (some sites look for a 'regular browser') but it turns out in this case the <code>Referrer</code> was required. </p>\n"}], "owner": {"reputation": 13, "user_id": 4713727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdfdc35ea1e65d788111bb1e4d655ecb?s=128&d=identicon&r=PG&f=1", "display_name": "gamaun", "link": "https://stackoverflow.com/users/4713727/gamaun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 0, "accepted_answer_id": 29267314, "answer_count": 1, "score": 0, "last_activity_date": 1427320631, "creation_date": 1427319338, "last_edit_date": 1427319651, "question_id": 29266996, "link": "https://stackoverflow.com/questions/29266996/python-requests-not-working", "title": "Python requests not working", "body": "<p>I am trying to parse search results from this page:\n<a href=\"https://entp.hud.gov/idapp/html/condlook.cfm\" rel=\"nofollow\">https://entp.hud.gov/idapp/html/condlook.cfm</a></p>\n\n<pre><code>import requests\npayload = {\n    'fapproval_method':'NEW',\n    'fsorted_by':'condo_name',\n    'fstate':'WA',\n    'fcountry':'',\n    'fcondo_id':'',\n    'fcondo_name':'',\n    'fcity':'',\n    'fzip':'',\n    'fstatus_code':'A',\n    'fsearch_type':'B',\n    'fbegin_mo':'',\n    'fbegin_dy':'',\n    'fbegin_yr':'',\n    'fend_mo':'',\n    'fend_dy':'',\n    'fend_yr':'',\n    'came_from':'oth',\n    'in_fhac':'true'\n}\n\nr = requests.post('https://entp.hud.gov/idapp/html/condlook.cfm', data=payload)\nprint(r.text)\n</code></pre>\n\n<p>I tried replacing condlook.cfm with condo1.cfm but to no avail. It just returns the same page with values pre-populated and not a results page.  </p>\n"}, {"tags": ["python", "text", "formatting"], "answers": [{"tags": [], "owner": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "is_accepted": false, "score": 1, "last_activity_date": 1427319513, "creation_date": 1427319513, "answer_id": 29267039, "question_id": 29266975, "link": "https://stackoverflow.com/questions/29266975/write-a-program-that-asks-the-user-for-a-file-containing-a-program-and-a-name-fo/29267039#29267039", "title": "Write a program that asks the user for a file containing a program and a name for an output file.", "body": "<p>You might want to use <code>enumerate</code> to iterate through each line in the file:</p>\n\n<pre><code>for line_number, line in enumerate(readfile):\n    new_line = ???        # make the new line by adding a line number\n    readfile[line_number] = new_line\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "is_accepted": false, "score": 0, "last_activity_date": 1427320077, "last_edit_date": 1427320077, "creation_date": 1427319758, "answer_id": 29267103, "question_id": 29266975, "link": "https://stackoverflow.com/questions/29266975/write-a-program-that-asks-the-user-for-a-file-containing-a-program-and-a-name-fo/29267103#29267103", "title": "Write a program that asks the user for a file containing a program and a name for an output file.", "body": "<p>Iterate every line of input file by <code>enumerate</code> and write content to new file by string formating.</p>\n\n<p><strong>input file</strong></p>\n\n<p>input2.txt</p>\n\n<pre><code>def main():\n    for i in range(10):\n        print(\"I love python\")\n    print(\"Good bye!\")\n</code></pre>\n\n<p><strong>code:</strong></p>\n\n<pre><code>filename = raw_input(\"Please enter a file name: \")\nfilename2 = raw_input(\"Please enter a file name to save the output: \")\n\nopenfile = open(filename, \"r\")\nreadfile = openfile.readlines()\n\n\nout_file = open(filename2, \"w\")\nfor i , line in enumerate(readfile):\n    out_file.write(\"%d %s\" %(i+1, line))\n\nout_file.close()\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>vivek@vivek:~/Desktop/stackoverflow/anna$ python 7.py \nPlease enter a file name: input2.txt\nPlease enter a file name to save the output: output2.txt\n</code></pre>\n\n<p><strong>Output file</strong></p>\n\n<p>output2.txt</p>\n\n<pre><code>1 def main():\n2     for i in range(10):\n3         print(\"I love python\")\n4     print(\"Good bye!\")\n</code></pre>\n\n<hr>\n\n<p><strong>with</strong> statement.</p>\n\n<pre><code>filename = raw_input(\"Please enter a file name: \")\nfilename2 = raw_input(\"Please enter a file name to save the output: \")\n\nwith open(filename, \"r\") as fp:\n    with open(filename2, \"w\") as fp2:\n        for i , line in enumerate(fp.readlines()):\n            fp2.write(\"%d %s\" %(i+1, line))\n</code></pre>\n\n<hr>\n\n<p><strong>Note:</strong></p>\n\n<p>Use <code>raw_input()</code> in Python 2.x</p>\n\n<p>Use <code>input()</code> in Python 3.x</p>\n"}], "owner": {"reputation": 25, "user_id": 4695757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68fbae00bd7b9b0109e9810faece710d?s=128&d=identicon&r=PG&f=1", "display_name": "kunjani", "link": "https://stackoverflow.com/users/4695757/kunjani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3180, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1427320077, "creation_date": 1427319264, "question_id": 29266975, "link": "https://stackoverflow.com/questions/29266975/write-a-program-that-asks-the-user-for-a-file-containing-a-program-and-a-name-fo", "title": "Write a program that asks the user for a file containing a program and a name for an output file.", "body": "<p>Write a program that asks the user for a file containing a program and a name for an output file. Your program should then write the program, with line numbers to the output file. For example, if the input file is:</p>\n\n<pre><code>def main():\n    for i in range(10):\n        print(\"I love python\")\n    print(\"Good bye!\")\n</code></pre>\n\n<p>Then the output file would be:</p>\n\n<pre><code>1   def main():\n2       for i in range(10):\n3           print(\"I love python\")\n4       print(\"Good bye!\")\n</code></pre>\n\n<p>I know how to create a new output file but I have difficulty in adding lines to each line. please help! \nMy program is:</p>\n\n<pre><code>filename = input(\"Please enter a file name: \")\nfilename2 = input(\"Please enter a file name to save the output: \")\n\nopenfile = open(filename, \"r\")\nreadfile = openfile.readlines()\n\n\nout_file = open(filename2, \"w\")\nsave = out_file.write(FileWithLines)\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 3705490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a39eg.gif?s=128&g=1", "display_name": "jimh", "link": "https://stackoverflow.com/users/3705490/jimh"}, "edited": false, "score": 0, "creation_date": 1500052415, "post_id": 29268007, "comment_id": 77188135, "body": "i wrapped this in a function and it worked exactly as shown above"}, {"owner": {"reputation": 547, "user_id": 3912576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDnAO.jpg?s=128&g=1", "display_name": "SimonBiggs", "link": "https://stackoverflow.com/users/3912576/simonbiggs"}, "edited": false, "score": 4, "creation_date": 1516743433, "post_id": 29268007, "comment_id": 83812168, "body": "This doesn&#39;t appear to work anymore. Any ideas on how to achieve this post matplotlib 2.0?"}, {"owner": {"reputation": 8002, "user_id": 2121597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o31zM.png?s=128&g=1", "display_name": "farenorth", "link": "https://stackoverflow.com/users/2121597/farenorth"}, "edited": false, "score": 0, "creation_date": 1516829668, "post_id": 29268007, "comment_id": 83855077, "body": "I haven&#39;t bothered checking 2.0, but in MPL 2.1.2 this does work. However, the ticklabels are visible on all axes by default. So, this trick should only be necessary for hiding the ticklabels with <code>tk.set_visible(False)</code>."}, {"owner": {"reputation": 68, "user_id": 2267341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff1004338d3d9af9e0cebea7ea865ed8?s=128&d=identicon&r=PG", "display_name": "ALM", "link": "https://stackoverflow.com/users/2267341/alm"}, "reply_to_user": {"reputation": 547, "user_id": 3912576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDnAO.jpg?s=128&g=1", "display_name": "SimonBiggs", "link": "https://stackoverflow.com/users/3912576/simonbiggs"}, "edited": false, "score": 0, "creation_date": 1519749758, "post_id": 29268007, "comment_id": 85032156, "body": "@MeshachBlue I am also using 2.0 and the above solution did not work for me. I tried tinkering with some things without any success; finally i ended up removing the <code>sharey</code> from my subplot creation and manually setting the <code>ylim</code>s for each axes to get the same y axis with the ticklabels."}, {"owner": {"reputation": 1222, "user_id": 6094070, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-a7eMCYLG0M0/AAAAAAAAAAI/AAAAAAAACTA/9pEy-v126vk/photo.jpg?sz=128", "display_name": "David Stansby", "link": "https://stackoverflow.com/users/6094070/david-stansby"}, "edited": false, "score": 0, "creation_date": 1522924043, "post_id": 29268007, "comment_id": 86350062, "body": "I&#39;ve also tried this in Matplotlib 2.2, and it doesn&#39;t seem to work. See below for a solution that does."}], "tags": [], "owner": {"reputation": 8002, "user_id": 2121597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o31zM.png?s=128&g=1", "display_name": "farenorth", "link": "https://stackoverflow.com/users/2121597/farenorth"}, "is_accepted": true, "score": 25, "last_activity_date": 1427323935, "creation_date": 1427323935, "answer_id": 29268007, "question_id": 29266966, "link": "https://stackoverflow.com/questions/29266966/show-tick-labels-when-sharing-an-axis-in-matplotlib/29268007#29268007", "title": "Show tick labels when sharing an axis in matplotlib", "body": "<p>The ticks that are missing have had their <code>visible</code> property set to <code>False</code>. This is pointed out in the documentation for <code>plt.subplot</code>. The simplest way to fix this is probably to do:</p>\n\n<pre><code>for ax in axes.flatten():\n    for tk in ax.get_yticklabels():\n        tk.set_visible(True)\n    for tk in ax.get_xticklabels():\n        tk.set_visible(True)\n</code></pre>\n\n<p>Here I've looped over all axes, which you don't necessarily need to do, but the code is simpler this way.  You could also do this with list comprehensions in an ugly one liner if you like:</p>\n\n<pre><code>[([tk.set_visible(True) for tk in ax.get_yticklabels()], [tk.set_visible(True) for tk in ax.get_yticklabels()]) for ax in axes.flatten()]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1833, "user_id": 1064565, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/78fccb87609688340853e58676c0a7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/1064565/jamie"}, "edited": false, "score": 0, "creation_date": 1523660847, "post_id": 49670059, "comment_id": 86668134, "body": "Thank you! This is the only solution that worked for me."}, {"owner": {"reputation": 1445, "user_id": 4490749, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cPNVE6ny0kc/AAAAAAAAAAI/AAAAAAAADoI/uL7LzHaAjuk/photo.jpg?sz=128", "display_name": "Alex Fortin", "link": "https://stackoverflow.com/users/4490749/alex-fortin"}, "edited": false, "score": 4, "creation_date": 1558901461, "post_id": 49670059, "comment_id": 99243106, "body": "<code>ax.yaxis.set_tick_params(labelbottom=True)</code> also works in <code>matplotlib==3.0.3</code>"}, {"owner": {"reputation": 131, "user_id": 5452149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fyrlc.jpg?s=128&g=1", "display_name": "jamfie", "link": "https://stackoverflow.com/users/5452149/jamfie"}, "edited": false, "score": 0, "creation_date": 1602148430, "post_id": 49670059, "comment_id": 113630685, "body": "if someone is searching for polar/radar chart, it is <code>ax.yaxis.set_tick_params(labelbottom=True)</code>"}, {"owner": {"reputation": 1813, "user_id": 11122513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DWy1S.jpg?s=128&g=1", "display_name": "igorkf", "link": "https://stackoverflow.com/users/11122513/igorkf"}, "edited": false, "score": 0, "creation_date": 1607010099, "post_id": 49670059, "comment_id": 115142959, "body": "Holy shit...after searching a lot on Google, this is the one that really solved the problem...Thanks."}], "tags": [], "owner": {"reputation": 1222, "user_id": 6094070, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-a7eMCYLG0M0/AAAAAAAAAAI/AAAAAAAACTA/9pEy-v126vk/photo.jpg?sz=128", "display_name": "David Stansby", "link": "https://stackoverflow.com/users/6094070/david-stansby"}, "is_accepted": false, "score": 39, "last_activity_date": 1614327400, "last_edit_date": 1614327400, "creation_date": 1522924011, "answer_id": 49670059, "question_id": 29266966, "link": "https://stackoverflow.com/questions/29266966/show-tick-labels-when-sharing-an-axis-in-matplotlib/49670059#49670059", "title": "Show tick labels when sharing an axis in matplotlib", "body": "<p>In Matplotlib 2.2 and above the tick labels can be turned back on using:</p>\n<pre><code>ax.xaxis.set_tick_params(labelbottom=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 10540499, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UuvZA9kmBzU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDYGJ04pyNh0B64Qf-7OZ653kQAbQ/mo/photo.jpg?sz=128", "display_name": "&#193;lvaroFernandez", "link": "https://stackoverflow.com/users/10540499/%c3%81lvarofernandez"}, "is_accepted": false, "score": 4, "last_activity_date": 1584663768, "creation_date": 1584663768, "answer_id": 60766921, "question_id": 29266966, "link": "https://stackoverflow.com/questions/29266966/show-tick-labels-when-sharing-an-axis-in-matplotlib/60766921#60766921", "title": "Show tick labels when sharing an axis in matplotlib", "body": "<p>You can find extra information about labels of matplotlib here:\n<a href=\"https://matplotlib.org/3.1.3/api/_as_gen/matplotlib.axes.Axes.tick_params.html\" rel=\"nofollow noreferrer\">https://matplotlib.org/3.1.3/api/_as_gen/matplotlib.axes.Axes.tick_params.html</a></p>\n\n<p>In my case, I need to turn on all the x and y labels and this solution works: </p>\n\n<pre><code>for ax in axes.flatten():\n    ax.xaxis.set_tick_params(labelbottom=True)\n    ax.yaxis.set_tick_params(labelleft=True)\n</code></pre>\n"}], "owner": {"reputation": 1497, "user_id": 2712770, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1341540476/picture?type=large", "display_name": "James Kelleher", "link": "https://stackoverflow.com/users/2712770/james-kelleher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12349, "favorite_count": 7, "accepted_answer_id": 29268007, "answer_count": 3, "score": 22, "last_activity_date": 1614327400, "creation_date": 1427319241, "question_id": 29266966, "link": "https://stackoverflow.com/questions/29266966/show-tick-labels-when-sharing-an-axis-in-matplotlib", "title": "Show tick labels when sharing an axis in matplotlib", "body": "<p>I'm running the following function:</p>\n\n<pre><code>def plot_variance_analysis(indices, stat_frames, legend_labels, shape):\n    x = np.linspace(1, 5, 500)\n    fig, axes = plt.subplots(shape[0], shape[1], sharex=True sharey=True)\n    questions_and_axes = zip(indices, axes.ravel())\n    frames_and_labels = zip(stat_frames, legend_labels)\n    for qa in questions_and_axes:\n        q = qa[0]\n        ax = qa[1]\n        for fl in frames_and_labels:\n            frame = fl[0]\n            label = fl[1]\n            ax.plot(x, stats.norm.pdf(x, frame['mean'][q], frame['std'][q]), label=label)\n            ax.set_xlabel(q)\n            ax.legend(loc='best')\n    plt.xticks([1,2,3,4,5])\n    return fig, axes\n</code></pre>\n\n<p>Here's what I get with some of my own sample data:</p>\n\n<p><img src=\"https://i.stack.imgur.com/mlFo8.png\" alt=\"enter image description here\"></p>\n\n<p>I'm trying to maintain the shared state between axes, but at the same time display the tick labels for the x axis on <em>all</em> subplots (including the top two). I can't find any means to turn this off in the documentation. Any suggestions? Or should I just set the x tick labels axis by axis?</p>\n\n<p>I'm running matplotlib 1.4.0, if that's important.</p>\n"}, {"tags": ["javascript", "php", "python", "stack", "return"], "comments": [{"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 1, "creation_date": 1427319032, "post_id": 29266883, "comment_id": 46735462, "body": "no, you can only <code>return</code> inside a function"}], "answers": [{"comments": [{"owner": {"reputation": 3242, "user_id": 1322359, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8504a0026283e9fcb3d8686a58608445?s=128&d=identicon&r=PG", "display_name": "Luke Sapan", "link": "https://stackoverflow.com/users/1322359/luke-sapan"}, "edited": false, "score": 1, "creation_date": 1427320209, "post_id": 29267146, "comment_id": 46736010, "body": "Right, I know that&#39;s the proper way to do it. I just wanted to know if the other way was possible. Thanks."}], "tags": [], "owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "is_accepted": true, "score": 2, "last_activity_date": 1427319926, "creation_date": 1427319926, "answer_id": 29267146, "question_id": 29266883, "link": "https://stackoverflow.com/questions/29266883/can-you-call-a-function-that-returns-in-the-context-of-the-caller/29267146#29267146", "title": "Can you call a function that returns in the context of the caller?", "body": "<p>Normally, if you want to stop the code that called your function, you throw an exception:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var printX = function(x) {\r\n    checkX(x);\r\n    document.write(x);\r\n}\r\nvar checkX = function(x) {\r\n    if (x &gt; 10) {\r\n        throw \"exit\";\r\n    }\r\n}\r\n\r\ntry { printX(5)  } catch(e) {}  \r\ntry { printX(15) } catch(e) {}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3242, "user_id": 1322359, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8504a0026283e9fcb3d8686a58608445?s=128&d=identicon&r=PG", "display_name": "Luke Sapan", "link": "https://stackoverflow.com/users/1322359/luke-sapan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 29267146, "answer_count": 1, "score": 0, "last_activity_date": 1427324007, "creation_date": 1427318920, "last_edit_date": 1427324007, "question_id": 29266883, "link": "https://stackoverflow.com/questions/29266883/can-you-call-a-function-that-returns-in-the-context-of-the-caller", "title": "Can you call a function that returns in the context of the caller?", "body": "<p>I don't think this is possible, but hey you never know. I'm curious if this is possible to do in common languages. My examples will be in JavaScript, but I'd be curious to know if this can be done in Python, PHP, Java, etc.</p>\n\n<p>Let's say there are two functions.</p>\n\n<pre><code>var printX = function(x){\n    checkX(x, this);\n    console.log(x);\n}\nvar checkX = function(x, caller){\n    if (x &gt; 10){\n        caller.return;\n    }\n}\nprintX(5);  //Prints 5\nprintX(15); //Doesn't print anything\n</code></pre>\n\n<p><strong>Obviously there are much better ways of expressing this</strong>, I'd just like to know if the concept is possible.</p>\n"}, {"tags": ["python", "google-api", "google-fusion-tables"], "answers": [{"tags": [], "owner": {"reputation": 41325, "user_id": 26406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc268557922ae6f5464a8cb337ceac2?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/26406/abraham"}, "is_accepted": false, "score": 0, "last_activity_date": 1427339085, "creation_date": 1427339085, "answer_id": 29270414, "question_id": 29266842, "link": "https://stackoverflow.com/questions/29266842/google-fusion-table-api-for-insert-and-update-columns/29270414#29270414", "title": "Google Fusion table API for Insert and Update Columns", "body": "<p>The error message is a good place to start.</p>\n\n<blockquote>\n  <p>Parse Error</p>\n</blockquote>\n\n<p>If you actually check the data output you'll find that it's not valid JSON.</p>\n\n<pre><code>tableid, name, data_type = ('foo', 'bar', 'baz')\ndata = '''{\n\"tableId\": %s,\n  \"name\": %s,\n  \"type\":%s\n}''' % (tableid, name, data_type)\nprint data\n</code></pre>\n\n<blockquote>\n  <p>'{\n      \"tableId\": foo,\n        \"name\": bar,\n        \"type\": baz\n  }'</p>\n</blockquote>\n\n<p>String values need to have quotations around them. A better version would be something like this.</p>\n\n<pre><code>tableid, name, data_type = ('foo', 'bar', 'baz')\ndata = {\n\"tableId\": tableid,\n  \"name\": name,\n  \"type\": data_type\n}\nprint simplejson.dumps(data)\n</code></pre>\n\n<blockquote>\n  <p>{\"type\": \"baz\", \"tableId\": \"foo\", \"name\": \"bar\"}</p>\n</blockquote>\n"}], "owner": {"reputation": 111, "user_id": 4032308, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Aarav", "link": "https://stackoverflow.com/users/4032308/aarav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427339085, "creation_date": 1427318751, "question_id": 29266842, "link": "https://stackoverflow.com/questions/29266842/google-fusion-table-api-for-insert-and-update-columns", "title": "Google Fusion table API for Insert and Update Columns", "body": "<p>I am trying to update my existing fusion table as it did in given python <a href=\"https://developers.google.com/fusiontables/docs/samples/python\" rel=\"nofollow\">Scripts </a>. It works for  method \"GET\" but it does not work for methods \" PUT\" and \"POST\". My URL request function is:</p>\n\n<pre><code>mport urllib2, urllib, simplejson, sys, httplib \n\ndef runRequest(method, url, data=None, headers=None):\n\n   request = httplib.HTTPSConnection(\"www.googleapis.com\")\n\n   if data and headers: \n       request.request(method, url, data, headers)\n   else: \n       request.request(method, url)\n\n   response = request.getresponse()\n\n   response = response.read()\n\n   return response\n</code></pre>\n\n<p>I defined </p>\n\n<blockquote>\n  <p>getColumns and insertColumn as:</p>\n</blockquote>\n\n<pre><code>def getColumns():\n     print \"GET COLUMNS\"\n     runRequest(\n      \"GET\",\n      \"/fusiontables/v2/tables/%s/columns/%s\" % \\\n        (tableid,  params))\n\n  def insertColumn(name, data_type):\n    print \"Insert Column\"\n    data = '''{\n    \"tableId\": %s,\n      \"name\": %s,\n      \"type\":%s\n    }''' % (tableid, name, data_type)\n    response = runRequest(\n      \"POST\",\n      \"/fusiontables/v2/tables/%s/columns%s\" % \\\n       (tableid, params), data, headers={'Content-Type':'application/json'})\n    json_response = simplejson.loads(response)\n    print json_response\n</code></pre>\n\n<p>getColumn() method looks fine:</p>\n\n<pre><code>GET COLUMNS \n\n200 OK \n{  \"kind\": \"fusiontables#columnList\", \n\n \"totalItems\": 28,  \"items\": [   {    \"kind\": \"fusiontables#column\",   \n \"columnId\": 0,    \"name\": \"VDC\",    \"type\": \"STRING\",   \n \"formatPattern\": \"NONE\",    \"validateData\": false   }}\n</code></pre>\n\n<p>I got the following error from insertColumn() method:</p>\n\n<pre><code>Insert Column\n400 Bad Request\n{\n \"error\": {\n  \"errors\": [\n   {\n    \"domain\": \"global\",\n    \"reason\": \"parseError\",\n    \"message\": \"Parse Error\"\n   }\n  ],\n  \"code\": 400,\n  \"message\": \"Parse Error\"\n }\n}\n</code></pre>\n\n<p>I think this is due to bad runRequest() method or httpconnection is not working well. Do you have any suggestion for it?. Is there any alternative way to solve this?. Thanks.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "edited": false, "score": 0, "creation_date": 1427318777, "post_id": 29266828, "comment_id": 46735358, "body": "Why do you want to do this?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1427318870, "post_id": 29266828, "comment_id": 46735404, "body": "<code>UU.get_username</code> &quot;works&quot;, it just doesn&#39;t do anything. What is <code>map</code> supposed to do? It just lets you write something verbose like <code>UU.map[&#39;username&#39;]</code> as a reference to the class method. (Or it would, if <code>get_username</code> were defined yet, which it isn&#39;t.)"}, {"owner": {"reputation": 879, "user_id": 4372631, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/098322f35c59c0e6d2b04ca2df0ca0e6?s=128&d=identicon&r=PG&f=1", "display_name": "James Lam", "link": "https://stackoverflow.com/users/4372631/james-lam"}, "edited": false, "score": 0, "creation_date": 1427318928, "post_id": 29266828, "comment_id": 46735421, "body": "In another function, I want to pass in certain keys to the map and run the functions that correspond to the values. However, these functions can be stateless. The map could be taken out of the class, but it&#39;s largely there for readability."}, {"owner": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "edited": false, "score": 0, "creation_date": 1427319288, "post_id": 29266828, "comment_id": 46735580, "body": "I&#39;ve added something to my answer about using <code>getattr</code>, which might be useful for you."}], "answers": [{"tags": [], "owner": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "is_accepted": true, "score": 1, "last_activity_date": 1427319250, "last_edit_date": 1427319250, "creation_date": 1427318871, "answer_id": 29266872, "question_id": 29266828, "link": "https://stackoverflow.com/questions/29266828/referencing-class-methods-inside-class-variables/29266872#29266872", "title": "Referencing Class Methods inside Class Variables", "body": "<p>The reason your code doesn't work is because UU's methods are defined after the class variables - so <code>get_username</code> doesn't exist when you try to add it to the dictionary.</p>\n\n<p>Try this:</p>\n\n<pre><code>class UU(object):\n\n  @classmethod\n  def get_username(cls):\n    pass\n\nUU.map = {\n    'username': UU.get_username\n  }\n</code></pre>\n\n<p>Judging by your comment on the question, you might find <code>getattr</code> useful.</p>\n\n<p>Example:</p>\n\n<pre><code>method_name = \"get_username\"\nmethod = getattr(UU, method_name)\nmethod()\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>getattr(UU, \"get_username\")()\n</code></pre>\n\n<p>No dictionary needed!</p>\n"}, {"comments": [{"owner": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "edited": false, "score": 0, "creation_date": 1427319065, "post_id": 29266875, "comment_id": 46735476, "body": "unubutu&#39;s code seems to disagree with &quot;Moreover, you&#39;d get the unbound classmethod object even if you moved the map definition down below the get_username() definition.&quot;, if I understand you correctly."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "edited": false, "score": 1, "creation_date": 1427319420, "post_id": 29266875, "comment_id": 46735631, "body": "@sweeneyrod: nope, his code shows you are getting just the classmethod object, unbound. The bound method looks like <code>&lt;bound method type.get_username of &lt;class &#39;__main__.UU&#39;&gt;&gt;</code>."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "edited": false, "score": 1, "creation_date": 1427319559, "post_id": 29266875, "comment_id": 46735694, "body": "@sweeneyrod: You run into <a href=\"http://stackoverflow.com/q/11058686/190597\"><code>TypeError: &#39;classmethod&#39; object is not callable</code></a> if you try calling the unbound classmethod using my code. It&#39;s not useful, so I deleted my answer."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 3, "last_activity_date": 1427319573, "last_edit_date": 1427319573, "creation_date": 1427318872, "answer_id": 29266875, "question_id": 29266828, "link": "https://stackoverflow.com/questions/29266828/referencing-class-methods-inside-class-variables/29266875#29266875", "title": "Referencing Class Methods inside Class Variables", "body": "<p>The class body is executed just like a function is, and the local namespace is then turned into the class attributes.</p>\n\n<p>As such normal naming order requirements apply; you cannot reference <code>get_username()</code> because it is <em>not yet defined</em>.</p>\n\n<p>Moreover, you'd get the <em>unbound <code>classmethod</code> object</em> even if you moved the <code>map</code> definition down below the <code>get_username()</code> definition.</p>\n\n<p>As such, you'd add the method to the mapping <em>after</em> creating the class:</p>\n\n<pre><code>class UU(object):\n    @classmethod\n    def get_username(cls):\n        pass\n\nUU.map = {\n    'username': UU.get_username\n}\n</code></pre>\n\n<p>Note that this means than from there on out <code>UU.map['username']</code> is using a <code>classmethod</code> bound to the <code>UU</code> class. You'll not get the version on a subclass if you have ever subclassed <code>UU</code> and provided an override of that method.</p>\n\n<p>You'd have to jump through a lot more hoops to make this work for subclasses; you'd have to make <code>map</code> a <a href=\"https://docs.python.org/2/howto/descriptor.html\" rel=\"nofollow\">descriptor object</a> so you can bind class methods when looking up values in the mapping, not when defining the mapping:</p>\n\n<pre><code>class BindingMap(dict):\n    def __get__(self, instance, cls=None):\n        return {k: v.__get__(instance, cls) if hasattr(v, '__get__') else v for k, v in self.items()}\n\nclass UU(object):\n    @classmethod\n    def get_username(cls):\n        pass\n\n    map = BindingMap({\n        'username': get_username,\n    })\n</code></pre>\n\n<p>The map will then produce bound class methods on demand, extending to subclasses:</p>\n\n<pre><code>&gt;&gt;&gt; class BindingMap(dict):\n...     def __get__(self, instance, cls=None):\n...         return {k: v.__get__(instance, cls) if hasattr(v, '__get__') else v for k, v in self.items()}\n... \n&gt;&gt;&gt; class UU(object):\n...     @classmethod\n...     def get_username(cls):\n...         pass\n...     map = BindingMap({\n...         'username': get_username,\n...     })\n... \n&gt;&gt;&gt; UU.map\n{'username': &lt;bound method type.get_username of &lt;class '__main__.UU'&gt;&gt;}\n&gt;&gt;&gt; UU.map['username']\n&lt;bound method type.get_username of &lt;class '__main__.UU'&gt;&gt;\n&gt;&gt;&gt; UU.map['username']()\n&gt;&gt;&gt; class UU(object):\n...     @classmethod\n...     def get_username(cls):\n...         print('Username for class {}'.format(cls.__name__))\n...     map = BindingMap({\n...         'username': get_username,\n...     })\n... \n&gt;&gt;&gt; UU.map\n{'username': &lt;bound method type.get_username of &lt;class '__main__.UU'&gt;&gt;}\n&gt;&gt;&gt; UU.map['username']\n&lt;bound method type.get_username of &lt;class '__main__.UU'&gt;&gt;\n&gt;&gt;&gt; UU.map['username']()\nUsername for class UU\n&gt;&gt;&gt; class Foo(UU):\n...     pass\n... \n&gt;&gt;&gt; Foo.map\n{'username': &lt;bound method type.get_username of &lt;class '__main__.Foo'&gt;&gt;}\n&gt;&gt;&gt; Foo.map['username']\n&lt;bound method type.get_username of &lt;class '__main__.Foo'&gt;&gt;\n&gt;&gt;&gt; Foo.map['username']()\nUsername for class Foo\n</code></pre>\n"}], "owner": {"reputation": 879, "user_id": 4372631, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/098322f35c59c0e6d2b04ca2df0ca0e6?s=128&d=identicon&r=PG&f=1", "display_name": "James Lam", "link": "https://stackoverflow.com/users/4372631/james-lam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "accepted_answer_id": 29266872, "answer_count": 2, "score": 1, "last_activity_date": 1427319573, "creation_date": 1427318723, "question_id": 29266828, "link": "https://stackoverflow.com/questions/29266828/referencing-class-methods-inside-class-variables", "title": "Referencing Class Methods inside Class Variables", "body": "<p>How do you reference class methods within class variables?</p>\n\n<p>For example:</p>\n\n<p>I have </p>\n\n<pre><code>class UU(object):\n\n  map = {\n    'username': get_username\n  }\n\n  @classmethod\n  def get_username(cls):\n    pass\n</code></pre>\n\n<p>However, <code>get_username</code> can't be found.</p>\n\n<p>I tried <code>UU.get_username</code> but that does not appear to work.</p>\n"}, {"tags": ["python", "redis"], "answers": [{"tags": [], "owner": {"reputation": 12735, "user_id": 125913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dc00171d2344fb0be796ddb7994541?s=128&d=identicon&r=PG", "display_name": "The Real Bill", "link": "https://stackoverflow.com/users/125913/the-real-bill"}, "is_accepted": true, "score": 0, "last_activity_date": 1427342743, "creation_date": 1427342743, "answer_id": 29270923, "question_id": 29266772, "link": "https://stackoverflow.com/questions/29266772/how-do-you-expire-a-field-of-a-hash-in-redis/29270923#29270923", "title": "How do you expire a field of a hash in Redis?", "body": "<p>If the above example is an accurate representation, and depending on how exactly you'll consume the data, you could use a sorted set with the score of each person be a Unix timestamp. Then you'd use <a href=\"http://redis.io/commands/zremrangebyscore\" rel=\"nofollow\">zremrangebyscore</a> on an Cron job to clean out items which are beyond you acceptable window. </p>\n"}], "owner": {"reputation": 22497, "user_id": 1185242, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/16eb0aedb14ca0a2e5013721cd679485?s=128&d=identicon&r=PG", "display_name": "nickponline", "link": "https://stackoverflow.com/users/1185242/nickponline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2137, "favorite_count": 0, "accepted_answer_id": 29270923, "answer_count": 1, "score": 2, "last_activity_date": 1427342743, "creation_date": 1427318484, "question_id": 29266772, "link": "https://stackoverflow.com/questions/29266772/how-do-you-expire-a-field-of-a-hash-in-redis", "title": "How do you expire a field of a hash in Redis?", "body": "<p>I'd like to expires certain field of a hash after different amount of time. From the documentation it doesn't look to be possible: <a href=\"http://redis.io/commands/expire\" rel=\"nofollow\">http://redis.io/commands/expire</a>. Can I emulate this behavior somehow? Currently I'm just copying the hash name to be a prefix of all of its fields and adding expires to each. For the structure I'd like to store is:</p>\n\n<pre><code>\"PEOPLE\" : {\n \"NICK\" : 29\n \"AMANDA\" : 23\n}\n</code></pre>\n\n<p>but I can't set an expire on \"NICK\", only on the whole hash \"PEOPLE\". So I convert it to and number of key, values:</p>\n\n<pre><code>\"PEOPLE_NICK\" : 29 (expire 2 hours)\n\"PEOPLE_AMANDA\" 23 (expire 1 hour)\n</code></pre>\n\n<p>but there are many keys and it makes it very difficult to manage and more tedious to fetch as I have to fetch everything by the common prefix. </p>\n"}, {"tags": ["python", "pymongo", "python-mock"], "answers": [{"comments": [{"owner": {"reputation": 2483, "user_id": 1056795, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fef577c3ab5a21035456dae8fc05b4a7?s=128&d=identicon&r=PG", "display_name": "ScotchAndSoda", "link": "https://stackoverflow.com/users/1056795/scotchandsoda"}, "edited": false, "score": 0, "creation_date": 1515597442, "post_id": 39111029, "comment_id": 83361140, "body": "This does not work. Could you please provide a working scenario?"}], "tags": [], "owner": {"reputation": 36, "user_id": 6749841, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/bbc636d5d62adb66698f612bcdc3e7f5?s=128&d=identicon&r=PG", "display_name": "Dror Asaf", "link": "https://stackoverflow.com/users/6749841/dror-asaf"}, "is_accepted": true, "score": 2, "last_activity_date": 1471988001, "creation_date": 1471988001, "answer_id": 39111029, "question_id": 29266770, "link": "https://stackoverflow.com/questions/29266770/how-can-mongomock-can-be-use-with-motor/39111029#39111029", "title": "How can mongomock can be use with motor?", "body": "<p>No need to instantiate the magicmock.</p>\n\n<p><code>p1 = mock.patch('motor.MotorDatabase.__delegate_class__', new=MagicMock)</code></p>\n"}], "owner": {"reputation": 398, "user_id": 459189, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3d785e58e02fb88fd844b38467fd0cd3?s=128&d=identicon&r=PG", "display_name": "Fruch", "link": "https://stackoverflow.com/users/459189/fruch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 4, "accepted_answer_id": 39111029, "answer_count": 1, "score": 3, "last_activity_date": 1471988001, "creation_date": 1427318477, "question_id": 29266770, "link": "https://stackoverflow.com/questions/29266770/how-can-mongomock-can-be-use-with-motor", "title": "How can mongomock can be use with motor?", "body": "<p>I have a server implemented with Tornado, and Motor, \nand I've come across this mock of pymongo:\n<a href=\"https://github.com/vmalloc/mongomock\" rel=\"nofollow\">https://github.com/vmalloc/mongomock</a></p>\n\n<p>I really like the idea of doing the unit tests of my code with no real call to the DB, for the sake of running them very fast.</p>\n\n<p>I've tried patching motor to pass calls to the mongomock, like that:</p>\n\n<pre><code>from mock import MagicMock\nimport mongomock\np = mock.patch('motor.MotorClient.__delegate_class__', new=mongomock.MongoClient)\np1 = mock.patch('motor.MotorDatabase.__delegate_class__', new=MagicMock())\n\np.start()\np1.start()\n\ndef fin():\n    p.stop()\n    p1.stop()\n\nrequest.addfinalizer(fin)\n</code></pre>\n\n<p>it was failing like that:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\ifruchte\\venv\\lib\\site-packages\\pytest_tornado\\plugin.py\", line 136, in http_server\n    http_app = request.getfuncargvalue(request.config.option.app_fixture)\n  File \"C:\\Users\\ifruchte\\venv\\lib\\site-packages\\_pytest\\python.py\", line 1337, in getfuncargvalue\n    return self._get_active_fixturedef(argname).cached_result[0]\n  File \"C:\\Users\\ifruchte\\venv\\lib\\site-packages\\_pytest\\python.py\", line 1351, in _get_active_fixturedef\n    result = self._getfuncargvalue(fixturedef)\n  File \"C:\\Users\\ifruchte\\venv\\lib\\site-packages\\_pytest\\python.py\", line 1403, in _getfuncargvalue\n    val = fixturedef.execute(request=subrequest)\n  File \"C:\\Users\\ifruchte\\venv\\lib\\site-packages\\_pytest\\python.py\", line 1858, in execute\n    self.yieldctx)\n  File \"C:\\Users\\ifruchte\\venv\\lib\\site-packages\\_pytest\\python.py\", line 1784, in call_fixture_func\n    res = fixturefunc(**kwargs)\n  File \"C:\\Users\\ifruchte\\PycharmProjects\\pyrecman\\tests\\__init__.py\", line 65, in app\n    return get_app(db=motor_db(io_loop))\n  File \"C:\\Users\\ifruchte\\PycharmProjects\\pyrecman\\tests\\__init__.py\", line 27, in motor_db\n    return motor.MotorClient(options.mongo_url, io_loop=io_loop)[options.db_name]\n  File \"C:\\Users\\ifruchte\\venv\\lib\\site-packages\\motor\\__init__.py\", line 1003, in __getattr__\n    return MotorDatabase(self, name)\n  File \"C:\\Users\\ifruchte\\venv\\lib\\site-packages\\motor\\__init__.py\", line 1254, in __init__\n    delegate = Database(connection.delegate, name)\n  File \"C:\\Users\\ifruchte\\venv\\lib\\site-packages\\pymongo\\database.py\", line 61, in __init__\n    **connection.write_concern)\nTypeError: attribute of type 'Collection' is not callable\n</code></pre>\n\n<p>Anyone know how it can be done ? or I'm wasting my time here ?</p>\n"}, {"tags": ["python", "tornado", "mjpeg"], "comments": [{"owner": {"reputation": 20703, "user_id": 2805033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TasHL.jpg?s=128&g=1", "display_name": "Ben Darnell", "link": "https://stackoverflow.com/users/2805033/ben-darnell"}, "edited": false, "score": 0, "creation_date": 1427328711, "post_id": 29266764, "comment_id": 46739085, "body": "I don&#39;t know anything about MJPEG, but one thing you&#39;re missing is newlines after the content-type and content-length inner headers (and probably a second newline between content-length and the content)."}, {"owner": {"reputation": 11, "user_id": 4134917, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H7Y4hGlo11s/AAAAAAAAAAI/AAAAAAAABFM/r4d63tWTp_s/photo.jpg?sz=128", "display_name": "James Tyas", "link": "https://stackoverflow.com/users/4134917/james-tyas"}, "reply_to_user": {"reputation": 20703, "user_id": 2805033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TasHL.jpg?s=128&g=1", "display_name": "Ben Darnell", "link": "https://stackoverflow.com/users/2805033/ben-darnell"}, "edited": false, "score": 0, "creation_date": 1427426852, "post_id": 29266764, "comment_id": 46782121, "body": "I tried your newlines suggestion - but didn&#39;t change anything unfortunately."}, {"owner": {"reputation": 11, "user_id": 4134917, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H7Y4hGlo11s/AAAAAAAAAAI/AAAAAAAABFM/r4d63tWTp_s/photo.jpg?sz=128", "display_name": "James Tyas", "link": "https://stackoverflow.com/users/4134917/james-tyas"}, "reply_to_user": {"reputation": 20703, "user_id": 2805033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TasHL.jpg?s=128&g=1", "display_name": "Ben Darnell", "link": "https://stackoverflow.com/users/2805033/ben-darnell"}, "edited": false, "score": 0, "creation_date": 1427571039, "post_id": 29266764, "comment_id": 46834465, "body": "Turns out it&#39;s chrome with the problem! Adding new lines in as Ben suggested made the code work in Firefox, but Chrome needs the whole stream as the source in an img tag for an MJPEG stream. <a href=\"https://productforums.google.com/forum/#!topic/chrome/PslmTeeM8Fo\" rel=\"nofollow noreferrer\">productforums.google.com/forum/#!topic/chrome/PslmTeeM8Fo</a>"}], "owner": {"reputation": 11, "user_id": 4134917, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H7Y4hGlo11s/AAAAAAAAAAI/AAAAAAAABFM/r4d63tWTp_s/photo.jpg?sz=128", "display_name": "James Tyas", "link": "https://stackoverflow.com/users/4134917/james-tyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1040, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427318450, "creation_date": 1427318450, "question_id": 29266764, "link": "https://stackoverflow.com/questions/29266764/serving-an-mjpeg-stream-with-tornado-in-python", "title": "Serving an MJPEG stream with tornado in Python", "body": "<p>I am trying to use the code here: <a href=\"http://pastie.org/7976455#165\" rel=\"nofollow\">http://pastie.org/7976455#165</a> with my own OpenCV routine to display an MJPG stream.</p>\n\n<p>I setup the routing without a hitch</p>\n\n<pre><code>import threading\nimport time\nimport tornado.ioloop\nimport tornado.web\nfrom tornado import gen\nimport image_utils\n\nclass WebServer(threading.Thread):\n\ndef run(self):\n    paths = [(r\"/(.*)\\.jpg\", WebJPEGHandler),\n        (r\"/(.*)\\.mjpg\", WebMJPEGHandler)]\n    web = tornado.web.Application(paths,debug=True)\n    web.listen(listening_port)\n    tornado.ioloop.IOLoop.instance().start()\n</code></pre>\n\n<p>The JPEG code runs fine</p>\n\n<pre><code>class WebJPEGHandler(tornado.web.RequestHandler):\n\n@tornado.web.asynchronous\n@gen.coroutine\ndef get(self, quality):\n    image = image_utils.image_utils.getWebEncodedImage((detector.imageQ[-1]))\n    self.set_header(\"Content-type\", \"image/jpg\")\n    self.write(str(image))\n    yield gen.Task(self.flush)\n</code></pre>\n\n<p>but my own implementation (and I've tried a few variations) of the MJPG code results in a web page not available message from Chrome.</p>\n\n<pre><code>class WebMJPEGHandler(tornado.web.RequestHandler):\n\n@tornado.web.asynchronous\n@gen.coroutine\ndef get(self, quality):\n        loop = tornado.ioloop.IOLoop.current()\n        self.served_image_timestamp = time.time()\n        self.set_header( 'Content-Type', 'multipart/x-mixed-replace;boundary=--boundarydonotcross')\n        my_boundary = \"--boundarydonotcross\\n\"\n        while True:\n            img = image_utils.image_utils.getWebEncodedImage((detector.imageQ[-1]))\n            self.write(my_boundary)\n            self.write(\"Content-type: image/jpg\")\n            self.write('Content-length: ' + str(len(img)))\n            self.write(str(img))\n            self.served_image_timestamp = time.time()\n            print 'Image sent'\n            time.sleep(0.5)\n            yield gen.Task(self.flush)\n</code></pre>\n\n<p>It's probably some magic with boundaries and headers that I've missed but please help me to figure out what it is? Tornado itself doesn't give an error even in debug mode.</p>\n\n<p>With some print statements I can see that it hits the loop between 2 and 4 times when I go to 127.0.0.1:5000/test.mjpg but then stops and nothing gets displayed.</p>\n"}, {"tags": ["python", "git", "github", "ipython"], "comments": [{"owner": {"reputation": 679, "user_id": 3129027, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/67dba6df597c9162dfa627e90c6cd4f1?s=128&d=identicon&r=PG&f=1", "display_name": "nullstellensatz", "link": "https://stackoverflow.com/users/3129027/nullstellensatz"}, "edited": false, "score": 0, "creation_date": 1427329834, "post_id": 29266761, "comment_id": 46739389, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/18734739/using-ipython-notebooks-under-version-control\" title=\"using ipython notebooks under version control\">stackoverflow.com/questions/18734739/&hellip;</a>"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "reply_to_user": {"reputation": 679, "user_id": 3129027, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/67dba6df597c9162dfa627e90c6cd4f1?s=128&d=identicon&r=PG&f=1", "display_name": "nullstellensatz", "link": "https://stackoverflow.com/users/3129027/nullstellensatz"}, "edited": false, "score": 0, "creation_date": 1427340033, "post_id": 29266761, "comment_id": 46741873, "body": "My question is I see lot of ppl having iPython notebook on their github. How do they do that?. I tried pushing one notebook and it pushed the json version. I would like to have the same way as I work on a notebook."}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1427360326, "post_id": 29266761, "comment_id": 46748019, "body": "<code>I tried pushing one notebook and it pushed the json version</code>. What did you expect? <code>notebooks</code> are just <code>json</code> files. If you want to show others the notebook rendered in html, you can share a link of that via <code>nbviewer</code>."}, {"owner": {"reputation": 679, "user_id": 3129027, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/67dba6df597c9162dfa627e90c6cd4f1?s=128&d=identicon&r=PG&f=1", "display_name": "nullstellensatz", "link": "https://stackoverflow.com/users/3129027/nullstellensatz"}, "edited": false, "score": 0, "creation_date": 1427360686, "post_id": 29266761, "comment_id": 46748185, "body": "I had a team project where we shared a common ipython notebook, to which we all periodically added code. We had exactly the same problem as you are pushing the notebook. See, the .ipynb file is basically a json text file, and git treats it as any other text file. This is a huge problem when merging changes made by other people, because conflict markers are placed within the json structure, resulting in an invalid ipython notebook. There are a number of solutions to this, but none that are standard and easy to use in any satisfying way (at least none that I could find)."}, {"owner": {"reputation": 679, "user_id": 3129027, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/67dba6df597c9162dfa627e90c6cd4f1?s=128&d=identicon&r=PG&f=1", "display_name": "nullstellensatz", "link": "https://stackoverflow.com/users/3129027/nullstellensatz"}, "edited": false, "score": 0, "creation_date": 1427360951, "post_id": 29266761, "comment_id": 46748314, "body": "Reading your question again, I probably addressed an issue you haven&#39;t run into yet. The &#39;garbage values&#39; aren&#39;t garbage. That is json, which is the structure of the ipython notebook. Try opening your local notebook with a text editor (not ipython), and have a look at what is inside.."}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "reply_to_user": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1427488876, "post_id": 29266761, "comment_id": 46813502, "body": "Hi @Cel,   Understood what you meant in your comments. I guess I can push my .ipynb file and in readme.md I can put the link of nbviewer. My now question is how do I add link of nbviwer to readme.md file?. Like how do I create a readme.md file in git on my local machine and also add links of nbviwer to it?"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1427489441, "post_id": 29266761, "comment_id": 46813746, "body": "@Manish, see e.g. <a href=\"https://help.github.com/articles/create-a-repo/\" rel=\"nofollow noreferrer\">help.github.com/articles/create-a-repo</a>, for a short introduction."}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "reply_to_user": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1427496286, "post_id": 29266761, "comment_id": 46816379, "body": "@cel. Thanks. But i finally got it. Looks like the only way to ask someone to view your Ipython notebook on github is by putting a link of the nbviewer render of the notebook and adding that in the readme.md markdown file. I hope that is the only way currently right?"}], "owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1325, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1427318528, "creation_date": 1427318442, "last_edit_date": 1427318528, "question_id": 29266761, "link": "https://stackoverflow.com/questions/29266761/how-to-push-an-python-notebook-file-to-a-shared-repository-on-github", "title": "How to push an python notebook file to a shared repository on github", "body": "<p>I have an Ipython notebook file which I want to push to a collaborative shared repository on github. I tried doing </p>\n\n<pre><code>git push origin master \n</code></pre>\n\n<p>but it uploaded some garbage values in the file. I want to have the same code and plots viewable to every other person on that github repo.</p>\n\n<p>Please advise. </p>\n"}, {"tags": ["python", "dictionary", "subtraction", "valuestack"], "comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1427318390, "post_id": 29266679, "comment_id": 46735149, "body": "Those are not in a dictionary format"}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 4713988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dc81320eeaf5b58aa9d3fb3565bc5dfc?s=128&d=identicon&r=PG&f=1", "display_name": "HR123r", "link": "https://stackoverflow.com/users/4713988/hr123r"}, "edited": false, "score": 0, "creation_date": 1427322888, "post_id": 29266750, "comment_id": 46737058, "body": "Hi! Thank you very much for your reply and for solving this for me as well as correcting me on the dictionary syntax. I tried it out and indeed it works! Thanks!"}], "tags": [], "owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "is_accepted": false, "score": 10, "last_activity_date": 1427319255, "last_edit_date": 1427319255, "creation_date": 1427318381, "answer_id": 29266750, "question_id": 29266679, "link": "https://stackoverflow.com/questions/29266679/comparing-the-values-of-two-dictionaries-to-receive-their-numerical-difference-p/29266750#29266750", "title": "Comparing the values of two dictionaries to receive their numerical difference Python", "body": "<p>First, the format of your dictionaries is not correct (<code>:</code> and not <code>=</code>):</p>\n\n<pre><code>dict1 = {'hi':45, 'thanks':34, 'please':60}\ndict2 = {'hi':40, 'thanks':46, 'please':50}\n</code></pre>\n\n<p>You can use a dictionary comprehension. You basically loop through one dictionary, check that the key is also in the second dictionary and insert the difference of the values in the output dictionary. All in one line.</p>\n\n<pre><code>dic = {key: dict1[key]-dict2[key] for key in dict1 if key in dict2}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1427319145, "post_id": 29266762, "comment_id": 46735511, "body": "If the goal is to only process keys shared by both dicts, then the second loop is unnecessary, since the first loop already found all shared keys. Also, the call to <code>keys</code> is unnecessary, since looping over a dict loops over the keys already. Calling <code>keys</code> just spends unnecessary time and space building a list of keys."}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427319187, "post_id": 29266762, "comment_id": 46735535, "body": "Was about to say the same thing."}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427323010, "post_id": 29266762, "comment_id": 46737118, "body": "@JulienSpronck&#39;s code is actually more efficient than this paste, so go with his."}, {"owner": {"reputation": 181, "user_id": 4713988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dc81320eeaf5b58aa9d3fb3565bc5dfc?s=128&d=identicon&r=PG&f=1", "display_name": "HR123r", "link": "https://stackoverflow.com/users/4713988/hr123r"}, "edited": false, "score": 0, "creation_date": 1427323190, "post_id": 29266762, "comment_id": 46737208, "body": "Thank you for your reply as  well!!"}], "tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": false, "score": 3, "last_activity_date": 1427318444, "creation_date": 1427318444, "answer_id": 29266762, "question_id": 29266679, "link": "https://stackoverflow.com/questions/29266679/comparing-the-values-of-two-dictionaries-to-receive-their-numerical-difference-p/29266762#29266762", "title": "Comparing the values of two dictionaries to receive their numerical difference Python", "body": "<p>You were on the right path with thinking about using the dictionarys' keys.</p>\n\n<p>Here, I go through the first dictionary's keys, checking if they're in dictionary2. Then I do the same with dictionary2, checking for keys in dictionary1, but also ensuring that the key isn't already in the result dictionary so we don't do duplicate subtraction.</p>\n\n<pre><code>dict1 = {'hi': 45, 'thanks': 34, 'please': 60}\ndict2 = {'hi': 40, 'thanks': 46, 'please': 50}\nresult = {}\n\nfor key in dict1.keys():\n    if key in dict2:\n    result[key] = dict1[key] - dict2[key]\n\nfor key in dict2.keys():\n    if key in dict1 and not key in result:\n    result[key] = dict1[key] - dict2[key]\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 4713988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dc81320eeaf5b58aa9d3fb3565bc5dfc?s=128&d=identicon&r=PG&f=1", "display_name": "HR123r", "link": "https://stackoverflow.com/users/4713988/hr123r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1905, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1427322398, "creation_date": 1427318143, "last_edit_date": 1427322398, "question_id": 29266679, "link": "https://stackoverflow.com/questions/29266679/comparing-the-values-of-two-dictionaries-to-receive-their-numerical-difference-p", "title": "Comparing the values of two dictionaries to receive their numerical difference Python", "body": "<p>I am new to Python. I have two dictionaries which share the same keys but different values for the keys. I would like to compare the two dictionaries so that I would get the numerical difference of the values for each key. For example: </p>\n\n<p><code>dict1 = {'hi' : 45, 'thanks' : 34, 'please' : 60}</code></p>\n\n<p><code>dict2 = {'hi' : 40, 'thanks' : 46, 'please' : 50}</code></p>\n\n<p>In other words, I would like to receive a third dictionary or a list of pairs that would show the numerical difference of the values within these two dictionaries (i.e.subtracting the values of dict1 from dict2 (or vice versa). It would thus be something like this:</p>\n\n<p><code>dict_difference = {'hi' : 5 , 'thanks' : -12, 'please' : 10}</code></p>\n\n<p>I know that subtracting one dictionary from another by : </p>\n\n<p><code>dict1 = Counter({'hi' = 45, 'thanks' = 34, 'please' = 60})</code></p>\n\n<p><code>dict2 = Counter({'hi' = 40, 'thanks' = 46, 'please' = 50})</code></p>\n\n<p><code>dict3 = dict1-dict2</code>    # will only return the positive values so it will give: </p>\n\n<p><code>dict3 = {'hi'= 5, 'please' = 10}</code>    # which is NOT what I want. </p>\n\n<p>I also thought of converting the dictionaries into a list of pairs (I think this is how it is called) :</p>\n\n<pre><code>dictlist = []\nfor key, value in dict1.iteritems():`\n\n     temp = (key, value)\n     dictlist.append(temp)\n</code></pre>\n\n<p>and therefore </p>\n\n<pre><code>print dictlist     #gives: \n\n[('hi', 45),('thanks' = 34), ('please' = 60)]\n</code></pre>\n\n<p>So I thought that if I can manage to convert the dictionary into the list of pairs and then to make it in the form of the key:value to be key = value I would be able to apply the subtract() method and achieve what I want. </p>\n\n<p>I thought of achieving it through the <code>def __repr__(self)</code> as shown in <a href=\"https://docs.python.org/2/library/collections.html\" rel=\"nofollow\">https://docs.python.org/2/library/collections.html</a> but I didn't get far. </p>\n\n<p>I would be most grateful for any help. Please, if possible leave description for your code. If my approach is wrong and there is an easier way of subtracting the values of one dictionary from another please share it as well.</p>\n"}, {"tags": ["python", "xml", "xml-parsing", "elementtree"], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 1082438, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0de65f380a7e1cb28d4f0c9c5f93fdde?s=128&d=identicon&r=PG", "display_name": "LazyCat", "link": "https://stackoverflow.com/users/1082438/lazycat"}, "edited": false, "score": 1, "creation_date": 1519836357, "post_id": 29266704, "comment_id": 85073860, "body": "But shouldn&#39;t there be a way to do it without an explicit if check, but rather like &quot;for node in moc.inter(&quot;dialledDigits&quot;)&quot;?"}], "tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": true, "score": 9, "last_activity_date": 1529564966, "last_edit_date": 1529564966, "creation_date": 1427318244, "answer_id": 29266704, "question_id": 29266605, "link": "https://stackoverflow.com/questions/29266605/getting-all-instances-of-child-node-using-xml-etree-elementtree/29266704#29266704", "title": "Getting all instances of child node using xml.etree.ElementTree", "body": "<p>Use <a href=\"https://docs.python.org/2/library/xml.etree.elementtree.html?highlight=findall#xml.etree.ElementTree.Element.findall\" rel=\"nofollow noreferrer\"><code>findall</code></a>:</p>\n\n<pre><code>moc1 = callevent.findall('moc')\n\nfor moc in moc1:\n    for node in moc.getiterator():\n        if node.tag=='dialledDigits':\n            print node.tag, node.attrib, node.text\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>dialledDigits {} 5555555\ndialledDigits {} 2222222\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "is_accepted": false, "score": 1, "last_activity_date": 1427319230, "last_edit_date": 1427319230, "creation_date": 1427318292, "answer_id": 29266720, "question_id": 29266605, "link": "https://stackoverflow.com/questions/29266605/getting-all-instances-of-child-node-using-xml-etree-elementtree/29266720#29266720", "title": "Getting all instances of child node using xml.etree.ElementTree", "body": "<p><code>find()</code> will return first tag object, so use <code>finadall()</code> which return all tag objects`  </p>\n\n<pre><code>&gt;&gt;&gt; Moc1=callevent.find('moc')\n&gt;&gt;&gt; Moc1\n&lt;Element 'moc' at 0x869a2ac&gt;\n&gt;&gt;&gt; Moc1=callevent.findall('moc')\n&gt;&gt;&gt; Moc1\n[&lt;Element 'moc' at 0x869a2ac&gt;, &lt;Element 'moc' at 0x869a4ec&gt;]\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Iterate on it:</p>\n\n<pre><code>&gt;&gt;&gt; Mocs=callevent.findall('moc')\n&gt;&gt;&gt; for moc in Mocs:\n...     for node in moc.getiterator():\n...         if node.tag=='dialledDigits':\n...             print node.tag, node.attrib, node.text\n... \ndialledDigits {} 5555555\ndialledDigits {} 2222222\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "edited": false, "score": 0, "creation_date": 1427318634, "post_id": 29266737, "comment_id": 46735280, "body": "yes, xpath will work, Thank you. The  <code>xpath</code> method is not available for ET.  It is present in the <code>lxml</code>. +upvote"}, {"owner": {"reputation": 4451, "user_id": 1886357, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/tAaWO.png?s=128&g=1", "display_name": "eric", "link": "https://stackoverflow.com/users/1886357/eric"}, "edited": false, "score": 0, "creation_date": 1564850630, "post_id": 29266737, "comment_id": 101168954, "body": "xpath syntax is available in ET: that&#39;s what alecxe used in the <code>findall</code> call...."}, {"owner": {"reputation": 1037, "user_id": 6929343, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2SXNl.jpg?s=128&g=1", "display_name": "WinEunuuchs2Unix", "link": "https://stackoverflow.com/users/6929343/wineunuuchs2unix"}, "edited": false, "score": 0, "creation_date": 1582382659, "post_id": 29266737, "comment_id": 106762352, "body": "I&#39;ve only dabbled a bit and never used <code>root = tree.getroot()</code> yet. It is used in your code but, I can&#39;t see why?"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 11, "last_activity_date": 1427318339, "creation_date": 1427318339, "answer_id": 29266737, "question_id": 29266605, "link": "https://stackoverflow.com/questions/29266605/getting-all-instances-of-child-node-using-xml-etree-elementtree/29266737#29266737", "title": "Getting all instances of child node using xml.etree.ElementTree", "body": "<p>You can also write an <strong>XPath expression</strong>. Just 2 lines instead of 5 and a single loop:</p>\n\n<pre><code>for node in tree.findall('.//callEvents/moc/dialledDigits'):\n    print node.tag, node.attrib, node.text \n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; import xml.etree.ElementTree as ET\n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; tree = ET.parse('as.xml')\n&gt;&gt;&gt; root = tree.getroot()\n&gt;&gt;&gt; \n&gt;&gt;&gt; for node in tree.findall('.//callEvents/moc/dialledDigits'):\n...     print node.tag, node.attrib, node.text\n... \ndialledDigits {} 5555555\ndialledDigits {} 2222222\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 1106694, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cd589910e936bc5508044b86d2ce38c?s=128&d=identicon&r=PG", "display_name": "Ash", "link": "https://stackoverflow.com/users/1106694/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44698, "favorite_count": 7, "accepted_answer_id": 29266704, "answer_count": 3, "score": 7, "last_activity_date": 1529564966, "creation_date": 1427317888, "last_edit_date": 1517415201, "question_id": 29266605, "link": "https://stackoverflow.com/questions/29266605/getting-all-instances-of-child-node-using-xml-etree-elementtree", "title": "Getting all instances of child node using xml.etree.ElementTree", "body": "<p>I have the following XML file as input:</p>\n\n<pre><code>&lt;Test&gt;\n  &lt;callEvents&gt;\n    &lt;moc&gt;\n      &lt;causeForTermination&gt;0&lt;/causeForTermination&gt;\n      &lt;serviceCode&gt;\n        &lt;teleServiceCode&gt;11&lt;/teleServiceCode&gt;\n      &lt;/serviceCode&gt;\n      &lt;dialledDigits&gt;5555555&lt;/dialledDigits&gt;\n      &lt;connectedNumber&gt;77777&lt;/connectedNumber&gt;\n    &lt;/moc&gt;\n\n    &lt;moc&gt;\n      &lt;causeForTermination&gt;0&lt;/causeForTermination&gt;\n      &lt;serviceCode&gt;\n        &lt;teleServiceCode&gt;11&lt;/teleServiceCode&gt;\n      &lt;/serviceCode&gt;\n      &lt;dialledDigits&gt;2222222&lt;/dialledDigits&gt;\n    &lt;/moc&gt;\n  &lt;/callEvents&gt;\n  &lt;callEventsCount&gt;100&lt;/callEventsCount&gt;\n&lt;/Test&gt; \n</code></pre>\n\n<p>I want to output all the values for dialledDigits. However, my code only displays the first instance of dialledDigits.</p>\n\n<pre><code>dialledDigits {} 5555555\n</code></pre>\n\n<p>My desired output should contain both instances.</p>\n\n<pre><code>dialledDigits {} 5555555\ndialledDigits {} 2222222\n</code></pre>\n\n<p>Here is my code</p>\n\n<pre><code>import xml.etree.ElementTree as ET\ntree = ET.parse('as.xml')\nroot = tree.getroot()\ncallevent=root.find('callEvents')\n\nMoc1=callevent.find('moc')\n\nfor node in Moc1.getiterator():\n    if node.tag=='dialledDigits':\n        print node.tag, node.attrib, node.text\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "multi-index"], "comments": [{"owner": {"reputation": 52310, "user_id": 2071807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/QgeOJ.jpg?s=128&g=1", "display_name": "LondonRob", "link": "https://stackoverflow.com/users/2071807/londonrob"}, "edited": false, "score": 0, "creation_date": 1439473384, "post_id": 29266600, "comment_id": 51884337, "body": "I had a couple of different attempts at getting this to work. I think I&#39;ve found a decent workaround to the fact that this currently seems to be a bit hard. Try it out!"}], "answers": [{"comments": [{"owner": {"reputation": 2587, "user_id": 1927102, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/25435dbb7356d2be40ffaaf5a82c05f2?s=128&d=identicon&r=PG", "display_name": "choldgraf", "link": "https://stackoverflow.com/users/1927102/choldgraf"}, "edited": false, "score": 0, "creation_date": 1427324036, "post_id": 29267229, "comment_id": 46737508, "body": "This is really close to what I&#39;m looking for, but I should have phrased the question more clearly. In reality, what I need is a value from level &quot;c&quot; that is dependent on the value in level &quot;b&quot;.  E.g., any time that level &quot;b&quot; is &#39;foo&#39;, I want the value where level &quot;c&quot; is &#39;can&#39;, and any time the level &quot;b&quot; is &#39;bar&#39;, I want the value where level &quot;c&quot; is &#39;baz&#39;"}, {"owner": {"reputation": 9004, "user_id": 4077912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc64252865700f1bf9ff46eb76b399d?s=128&d=identicon&r=PG&f=1", "display_name": "Primer", "link": "https://stackoverflow.com/users/4077912/primer"}, "reply_to_user": {"reputation": 2587, "user_id": 1927102, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/25435dbb7356d2be40ffaaf5a82c05f2?s=128&d=identicon&r=PG", "display_name": "choldgraf", "link": "https://stackoverflow.com/users/1927102/choldgraf"}, "edited": false, "score": 0, "creation_date": 1427357061, "post_id": 29267229, "comment_id": 46746547, "body": "Updated the answer with those two conditions, which should give an idea how to handle this."}], "tags": [], "owner": {"reputation": 9004, "user_id": 4077912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc64252865700f1bf9ff46eb76b399d?s=128&d=identicon&r=PG&f=1", "display_name": "Primer", "link": "https://stackoverflow.com/users/4077912/primer"}, "is_accepted": true, "score": 20, "last_activity_date": 1427356964, "last_edit_date": 1427356964, "creation_date": 1427320276, "answer_id": 29267229, "question_id": 29266600, "link": "https://stackoverflow.com/questions/29266600/how-to-slice-one-multiindex-dataframe-with-the-multiindex-of-another/29267229#29267229", "title": "How to slice one MultiIndex DataFrame with the MultiIndex of another", "body": "<p>Here is a way to get this slice:</p>\n\n<pre><code>df.sort_index(inplace=True)\nidx = pd.IndexSlice\ndf.loc[idx[:, ('foo','bar'), 'can'], :]\n</code></pre>\n\n<p>yielding </p>\n\n<pre><code>           hi\na b   c      \n1 bar can   3\n  foo can   1\n2 bar can   7\n  foo can   5\n3 bar can  11\n  foo can   9\n</code></pre>\n\n<p>Note that you might need to sort MultiIndex before you can slice it. Well pandas is kind enough to warn if you need to do it:</p>\n\n<pre><code>KeyError: 'MultiIndex Slicing requires the index to be fully lexsorted tuple len (3), lexsort depth (1)'\n</code></pre>\n\n<p>You can read more on how to use slicers in the <a href=\"http://pandas.pydata.org/pandas-docs/stable/advanced.html#using-slicers\">docs</a></p>\n\n<p>If for some reason using slicers is not an option here is a way to get the same slice using <code>.isin()</code> method:</p>\n\n<pre><code>df[df.index.get_level_values('b').isin(ix_use.get_level_values(0)) &amp; df.index.get_level_values('c').isin(ix_use.get_level_values(1))]\n</code></pre>\n\n<p>Which is clearly not as concise.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>For the conditions that you have updated here is a way to do it:</p>\n\n<pre><code>cond1 = (df.index.get_level_values('b').isin(['foo'])) &amp; (df.index.get_level_values('c').isin(['can']))\ncond2 = (df.index.get_level_values('b').isin(['bar'])) &amp; (df.index.get_level_values('c').isin(['baz']))\ndf[cond1 | cond2]\n</code></pre>\n\n<p>producing:</p>\n\n<pre><code>           hi\na b   c      \n1 foo can   1\n  bar baz   2\n2 foo can   5\n  bar baz   6\n3 foo can   9\n  bar baz  10\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52310, "user_id": 2071807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/QgeOJ.jpg?s=128&g=1", "display_name": "LondonRob", "link": "https://stackoverflow.com/users/2071807/londonrob"}, "is_accepted": false, "score": 0, "last_activity_date": 1439473348, "last_edit_date": 1439473348, "creation_date": 1439397530, "answer_id": 31970923, "question_id": 29266600, "link": "https://stackoverflow.com/questions/29266600/how-to-slice-one-multiindex-dataframe-with-the-multiindex-of-another/31970923#31970923", "title": "How to slice one MultiIndex DataFrame with the MultiIndex of another", "body": "<p>I find it interesting that this doesn't work:</p>\n\n<pre><code>In [45]: df.loc[(idx[:, 'foo', 'can'], idx[:, 'bar', 'baz']), ]\nOut[45]: \n           hi\na b   c      \n1 bar baz   2\n      can   3\n  foo baz   0\n      can   1\n2 bar baz   6\n      can   7\n  foo baz   4\n      can   5\n3 bar baz  10\n      can  11\n  foo baz   8\n      can   9\n</code></pre>\n\n<p>It sort of looks like it \"should\", somehow. In any case, here's a reasonable workaround:</p>\n\n<p>Let's assume the tuples you want to slice by are in the index of another <code>DataFrame</code> (since it sounds like they probably <em>are</em> in your case!).</p>\n\n<pre><code>In [53]: ix_use = pd.MultiIndex.from_tuples([('foo', 'can'), ('bar', 'baz')], names=['b', 'c'])\nIn [55]: other = pd.DataFrame(dict(a=1), index=ix_use)\nIn [56]: other\nOut[56]: \n         a\nb   c     \nfoo can  1\nbar baz  1\n</code></pre>\n\n<p>Now to slice <code>df</code> by the index of <code>other</code> we can use the fact that <code>.loc</code>/<code>.ix</code> allow you to give a list of tuples (see the last example <a href=\"http://pandas.pydata.org/pandas-docs/stable/advanced.html#advanced-indexing-with-hierarchical-index\" rel=\"nofollow\">here</a>).</p>\n\n<p>First let's build the list of tuples we want:</p>\n\n<pre><code>In [13]: idx = [(x, ) + y for x in df.index.levels[0] for y in other.index.values]\nIn [14]: idx\nOut[14]: \n[(1, 'foo', 'can'),\n (1, 'bar', 'baz'),\n (2, 'foo', 'can'),\n (2, 'bar', 'baz'),\n (3, 'foo', 'can'),\n (3, 'bar', 'baz')]\n</code></pre>\n\n<p>Now we can pass this list to <code>.ix</code> or <code>.loc</code>:</p>\n\n<pre><code>In [17]: df.ix[idx]\nOut[17]: \n           hi\na b   c      \n1 foo can   1\n  bar baz   2\n2 foo can   5\n  bar baz   6\n3 foo can   9\n  bar baz  10\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10121, "user_id": 2303761, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IRUzX.jpg?s=128&g=1", "display_name": "YaOzI", "link": "https://stackoverflow.com/users/2303761/yaozi"}, "is_accepted": false, "score": 2, "last_activity_date": 1480183246, "last_edit_date": 1495542333, "creation_date": 1480183246, "answer_id": 40821387, "question_id": 29266600, "link": "https://stackoverflow.com/questions/29266600/how-to-slice-one-multiindex-dataframe-with-the-multiindex-of-another/40821387#40821387", "title": "How to slice one MultiIndex DataFrame with the MultiIndex of another", "body": "<p>I would recommend <a href=\"http://pandas.pydata.org/pandas-docs/stable/indexing.html#the-query-method-experimental\" rel=\"nofollow noreferrer\">the <code>query()</code> method</a> just like in <a href=\"https://stackoverflow.com/a/40817489/2303761\">this Q&amp;A</a>.</p>\n\n<p>Simply using this, which I think is a more natural way to express:</p>\n\n<pre><code>In [27]: df.query(\"(b == 'foo' and c == 'can') or (b == 'bar' and c == 'baz')\")\nOut[27]: \n           hi\na b   c      \n1 foo can   1\n  bar baz   2\n2 foo can   5\n  bar baz   6\n3 foo can   9\n  bar baz  10\n</code></pre>\n"}], "owner": {"reputation": 2587, "user_id": 1927102, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/25435dbb7356d2be40ffaaf5a82c05f2?s=128&d=identicon&r=PG", "display_name": "choldgraf", "link": "https://stackoverflow.com/users/1927102/choldgraf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9824, "favorite_count": 5, "accepted_answer_id": 29267229, "answer_count": 3, "score": 18, "last_activity_date": 1480186943, "creation_date": 1427317872, "last_edit_date": 1480186943, "question_id": 29266600, "link": "https://stackoverflow.com/questions/29266600/how-to-slice-one-multiindex-dataframe-with-the-multiindex-of-another", "title": "How to slice one MultiIndex DataFrame with the MultiIndex of another", "body": "<p>I have a pandas dataframe with 3 levels of a MultiIndex. I am trying to pull out rows of this dataframe according to a list of values that correspond to two of the levels.</p>\n\n<p>I have something like this:</p>\n\n<pre><code>ix = pd.MultiIndex.from_product([[1, 2, 3], ['foo', 'bar'], ['baz', 'can']], names=['a', 'b', 'c'])\ndata = np.arange(len(ix))\ndf = pd.DataFrame(data, index=ix, columns=['hi'])\nprint(df)\n\n           hi\na b   c      \n1 foo baz   0\n      can   1\n  bar baz   2\n      can   3\n2 foo baz   4\n      can   5\n  bar baz   6\n      can   7\n3 foo baz   8\n      can   9\n  bar baz  10\n      can  11\n</code></pre>\n\n<p>Now I want to take all rows where index levels 'b' and 'c' are in this index:</p>\n\n<pre><code>ix_use = pd.MultiIndex.from_tuples([('foo', 'can'), ('bar', 'baz')], names=['b', 'c'])\n</code></pre>\n\n<p>i.e. values of <code>hi</code> having <code>('foo', 'can')</code> or <code>('bar', 'baz')</code> in levels <code>b</code> and <code>c</code> respectively: <code>(1, 2, 5, 6, 9, 10)</code>.</p>\n\n<p>So I'd like to take a <code>slice(None)</code> on the first level, and pull out specific tuples on the second and third levels.</p>\n\n<p>Initially I thought that passing a multi-index object to .loc would pull out the values / levels that I wanted, but this isn't working. What's the best way to do something like this?</p>\n"}, {"tags": ["python", "flask", "socket.io"], "comments": [{"owner": {"reputation": 322, "user_id": 1282144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2651343b3621386a780990dc96109c9f?s=128&d=identicon&r=PG", "display_name": "Jasper", "link": "https://stackoverflow.com/users/1282144/jasper"}, "edited": false, "score": 0, "creation_date": 1435351116, "post_id": 29266594, "comment_id": 50181867, "body": "I&#39;m having the same problem and my quick solution (for now) is to have each client generate a &#39;unique&#39; ID on page load. This ID is included in all calls back to the server. When the server relays the message each client compares this ID to its own to determine if the message was sent by another client or by itself (in which case it will be ignored). It might not be the best solution but it worked for me."}], "answers": [{"tags": [], "owner": {"reputation": 744, "user_id": 1497347, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/712e66137d5064075042ea6ac388eea5?s=128&d=identicon&r=PG", "display_name": "Alex H Hadik", "link": "https://stackoverflow.com/users/1497347/alex-h-hadik"}, "is_accepted": false, "score": 0, "last_activity_date": 1430507205, "creation_date": 1430507205, "answer_id": 29993410, "question_id": 29266594, "link": "https://stackoverflow.com/questions/29266594/broadcast-to-all-connected-clients-except-sender-with-python-flask-socketio/29993410#29993410", "title": "Broadcast to all connected clients except sender with python flask socketio", "body": "<p>You can try <code>socket.broadcast.emit</code> instead of <code>socket.emit</code>. I'm not sure if this works in the Python library, but it is the syntax for what you're looking for in Socket.io for Node.js. </p>\n"}, {"comments": [{"owner": {"reputation": 322, "user_id": 1282144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2651343b3621386a780990dc96109c9f?s=128&d=identicon&r=PG", "display_name": "Jasper", "link": "https://stackoverflow.com/users/1282144/jasper"}, "edited": false, "score": 0, "creation_date": 1435350858, "post_id": 31017387, "comment_id": 50181760, "body": "From the Flask-SocketIO reference: <i>&quot;When a message is sent with the broadcast option enabled, all clients connected to the namespace receive it, including the sender.&quot;</i> The OP is asking for a way to emit to all BUT the original sender"}, {"owner": {"reputation": 96, "user_id": 2373427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad256303499c46b7db3991198d0e4e5?s=128&d=identicon&r=PG", "display_name": "Ishan Marikar", "link": "https://stackoverflow.com/users/2373427/ishan-marikar"}, "reply_to_user": {"reputation": 322, "user_id": 1282144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2651343b3621386a780990dc96109c9f?s=128&d=identicon&r=PG", "display_name": "Jasper", "link": "https://stackoverflow.com/users/1282144/jasper"}, "edited": false, "score": 0, "creation_date": 1435488844, "post_id": 31017387, "comment_id": 50213361, "body": "I don&#39;t really understand that behavior. According to the <a href=\"http://socket.io/docs/#broadcasting-messages\" rel=\"nofollow noreferrer\">Socket.IO reference</a>, <i>&quot;Broadcasting means sending a message to everyone else except for the socket that starts it.&quot;</i>."}], "tags": [], "owner": {"reputation": 96, "user_id": 2373427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad256303499c46b7db3991198d0e4e5?s=128&d=identicon&r=PG", "display_name": "Ishan Marikar", "link": "https://stackoverflow.com/users/2373427/ishan-marikar"}, "is_accepted": false, "score": 2, "last_activity_date": 1435118462, "creation_date": 1435118462, "answer_id": 31017387, "question_id": 29266594, "link": "https://stackoverflow.com/questions/29266594/broadcast-to-all-connected-clients-except-sender-with-python-flask-socketio/31017387#31017387", "title": "Broadcast to all connected clients except sender with python flask socketio", "body": "<p>I can't comment on @Alex's response because I don't have enough reputation, but if you want to emit a broadcast message, this is how it is done in Python:</p>\n\n<pre><code>emit('echo', {'data':'what ever you are trying to send'},  broadcast=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 404, "user_id": 6196258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2acebddba364b159d7f838562754332?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Cangussu", "link": "https://stackoverflow.com/users/6196258/gabriel-cangussu"}, "is_accepted": false, "score": 10, "last_activity_date": 1460514636, "creation_date": 1460514636, "answer_id": 36587498, "question_id": 29266594, "link": "https://stackoverflow.com/questions/29266594/broadcast-to-all-connected-clients-except-sender-with-python-flask-socketio/36587498#36587498", "title": "Broadcast to all connected clients except sender with python flask socketio", "body": "<p>You don't have to save users ids and manage individual emissions, you can specify a broadcast without the sender with <code>emit('my_event', {data:my_data}, broadcast=True, include_self=False)</code>. In your case it would be something like this:</p>\n\n<pre><code>@socketio.on('send_message')\n    def handle_source(json_data):\n        text = json_data['message'].encode('ascii', 'ignore')\n        emit('echo', {'echo': 'Server Says: '+text}, broadcast=True, include_self=False)\n</code></pre>\n\n<p>If you have to send messages for a specific group of clients you can create <a href=\"http://flask-socketio.readthedocs.org/en/latest/#rooms\" rel=\"noreferrer\"><em>rooms</em></a> and then use <code>emit('my_event', {data:my_data}, room=my_room, include_self=False)</code> for sending messages to clients who joined <code>my_room</code>. You can check the reference of <a href=\"http://flask-socketio.readthedocs.org/en/latest/#flask_socketio.emit\" rel=\"noreferrer\">flask_socketio.emit</a> for more details.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 7554363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PHRV.jpg?s=128&g=1", "display_name": "Kamran Hossain", "link": "https://stackoverflow.com/users/7554363/kamran-hossain"}, "edited": false, "score": 1, "creation_date": 1600952297, "post_id": 56891722, "comment_id": 113255927, "body": "I have also a problem with broadcast in python-socketio. skip_sid worked like a charm. Thanks."}], "tags": [], "owner": {"reputation": 2341, "user_id": 3589609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VPC24.jpg?s=128&g=1", "display_name": "Joshua Schlichting", "link": "https://stackoverflow.com/users/3589609/joshua-schlichting"}, "is_accepted": false, "score": 2, "last_activity_date": 1562257936, "creation_date": 1562257936, "answer_id": 56891722, "question_id": 29266594, "link": "https://stackoverflow.com/questions/29266594/broadcast-to-all-connected-clients-except-sender-with-python-flask-socketio/56891722#56891722", "title": "Broadcast to all connected clients except sender with python flask socketio", "body": "<p><a href=\"https://flask-socketio.readthedocs.io/en/latest/#flask_socketio.SocketIO.emit\" rel=\"nofollow noreferrer\">https://flask-socketio.readthedocs.io/en/latest/#flask_socketio.SocketIO.emit</a></p>\n\n<p>You're looking for the <code>skip_sid</code> parameter for <code>socketio.emit()</code>.</p>\n\n<blockquote>\n  <p>skip_sid \u2013 The session id of a client to ignore when broadcasting or\n  addressing a room. This is typically set to the originator of the\n  message, so that everyone except that client receive the message. To\n  skip multiple sids pass a list.</p>\n</blockquote>\n"}], "owner": {"reputation": 171, "user_id": 4099140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ae602bbf64bf43505f85822519ef3d?s=128&d=identicon&r=PG&f=1", "display_name": "Tom&#225;s Collins", "link": "https://stackoverflow.com/users/4099140/tom%c3%a1s-collins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8272, "favorite_count": 0, "answer_count": 4, "score": 8, "last_activity_date": 1562257936, "creation_date": 1427317859, "question_id": 29266594, "link": "https://stackoverflow.com/questions/29266594/broadcast-to-all-connected-clients-except-sender-with-python-flask-socketio", "title": "Broadcast to all connected clients except sender with python flask socketio", "body": "<p>I am following Alex Hadik's Flask Socketio tutorial which builds a very simple flask chat app.</p>\n\n<p><a href=\"http://www.alexhadik.com/blog/2015/1/29/using-socketio-with-python-and-flask-on-heroku\" rel=\"noreferrer\">http://www.alexhadik.com/blog/2015/1/29/using-socketio-with-python-and-flask-on-heroku</a></p>\n\n<p>I would like to broadcast a message to all connected users except the sender. I have gone through the flasksocketio <strong>init</strong>.py but I'm still not sure how to do this.</p>\n\n<p>Here's the server code. </p>\n\n<pre><code>from flask import Flask, render_template,request\nfrom flask.ext.socketio import SocketIO,emit,send\nimport json,sys\n\napp = Flask(__name__)\nsocketio = SocketIO(app)\nclients = {}\n@app.route(\"/\")\ndef index():\n    return render_template('index.html',)\n\n@socketio.on('send_message')\ndef handle_source(json_data):\n    text = json_data['message'].encode('ascii', 'ignore')\n    current_client = request.namespace\n    current_client_id = request.namespace.socket.sessid\n    update_client_list(current_client,current_client_id)\n    if clients.keys():\n        for client in clients.keys():\n            if not current_client_id in client:\n                clients[client].socketio.emit('echo', {'echo': 'Server Says: '+text})       \n\ndef update_client_list(current_client,current_client_id):\n    if not current_client_id in clients: clients[current_client_id] = current_client\n    return \n\nif __name__ == \"__main__\":\n    socketio.run(app,debug = False)\n</code></pre>\n\n<p>It's currently just broadcasting to all connected clients. I created a connected clients dict (clients) which stores the request.namespace indexed by the client id. \nCalling clients[client].socketio.emit() for all clients except the sending client still results in the message being broadcast to call users. </p>\n\n<p>Does anyone have any thoughts on how I can broadcast messages to all connected users except the sender?</p>\n"}, {"tags": ["android", "python"], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 3342401, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9b682ffa7a672b6c72887eeb614bc76d?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3342401/martin"}, "edited": false, "score": 0, "creation_date": 1427321899, "post_id": 29266836, "comment_id": 46736701, "body": "I am Using OSx Yosemite. I tried using the sudo command also. but didn&#39;t work"}], "tags": [], "owner": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "is_accepted": false, "score": 0, "last_activity_date": 1427318737, "creation_date": 1427318737, "answer_id": 29266836, "question_id": 29266507, "link": "https://stackoverflow.com/questions/29266507/run-a-python-script-before-building-running-the-android-application/29266836#29266836", "title": "Run a python script before Building/Running the android application", "body": "<p>Which OS are you using? On Linux, <code>Permission denied</code> often means that you should run the command with <code>sudo</code> - <code>sudo do this command</code> rather than <code>do this command</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 3342401, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9b682ffa7a672b6c72887eeb614bc76d?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3342401/martin"}, "edited": false, "score": 0, "creation_date": 1427328768, "post_id": 29267932, "comment_id": 46739100, "body": "Sadly, its not an executable. Is there any other way to workaround this?"}, {"owner": {"reputation": 5144, "user_id": 1068167, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2890f223f8ac1176c6b36cba9a0c156c?s=128&d=identicon&r=PG&f=1", "display_name": "span", "link": "https://stackoverflow.com/users/1068167/span"}, "reply_to_user": {"reputation": 171, "user_id": 3342401, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9b682ffa7a672b6c72887eeb614bc76d?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3342401/martin"}, "edited": false, "score": 0, "creation_date": 1427660795, "post_id": 29267932, "comment_id": 46857507, "body": "You make script files executable by setting the +x attribute in a terminal."}, {"owner": {"reputation": 5144, "user_id": 1068167, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2890f223f8ac1176c6b36cba9a0c156c?s=128&d=identicon&r=PG&f=1", "display_name": "span", "link": "https://stackoverflow.com/users/1068167/span"}, "reply_to_user": {"reputation": 171, "user_id": 3342401, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9b682ffa7a672b6c72887eeb614bc76d?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3342401/martin"}, "edited": false, "score": 0, "creation_date": 1427923733, "post_id": 29267932, "comment_id": 46978020, "body": "Did you try to make it executable?"}, {"owner": {"reputation": 1132, "user_id": 671264, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e8eb893c6198932e1f2b235c40301d6f?s=128&d=identicon&r=PG", "display_name": "Akshay Shah", "link": "https://stackoverflow.com/users/671264/akshay-shah"}, "edited": false, "score": 0, "creation_date": 1467635874, "post_id": 29267932, "comment_id": 63795559, "body": "Hi Martin, Did you fix the issue? I too am getting same error. I have permissions set as &quot;-rwxr-xr-x&quot; but still does not work. Any idea?"}], "tags": [], "owner": {"reputation": 5144, "user_id": 1068167, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2890f223f8ac1176c6b36cba9a0c156c?s=128&d=identicon&r=PG&f=1", "display_name": "span", "link": "https://stackoverflow.com/users/1068167/span"}, "is_accepted": false, "score": 0, "last_activity_date": 1427660827, "last_edit_date": 1427660827, "creation_date": 1427323499, "answer_id": 29267932, "question_id": 29266507, "link": "https://stackoverflow.com/questions/29266507/run-a-python-script-before-building-running-the-android-application/29267932#29267932", "title": "Run a python script before Building/Running the android application", "body": "<p>Is Swap.py executable? If not, try setting it with +x permissions using the Terminal:</p>\n\n<pre><code>sudo chmod +x /Users/mdur/Documents/workspace/exampleProject/res/Swap.py\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 3342401, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9b682ffa7a672b6c72887eeb614bc76d?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3342401/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427660827, "creation_date": 1427317580, "last_edit_date": 1427323267, "question_id": 29266507, "link": "https://stackoverflow.com/questions/29266507/run-a-python-script-before-building-running-the-android-application", "title": "Run a python script before Building/Running the android application", "body": "<p>I have a python script that I want to run before I do the \"Run As -> Android Application\" in Eclipse.  Currently it shows me these errors. </p>\n\n<pre><code>Errors running builder 'Integrated External Tool Builder' on project 'exampleProject'.\nException occurred executing command line.\nCannot run program \"/Users/mdur/Documents/workspace/exampleProject/res/Swap.py\": error=13, Permission denied\nException occurred executing command line.\nCannot run program \"/Users/mdur/Documents/workspace/exampleProject/res/Swap.py\": error=13, Permission denied\n</code></pre>\n"}, {"tags": ["python", "django", "django-socialauth", "python-social-auth"], "answers": [{"tags": [], "owner": {"reputation": 2916, "user_id": 2108812, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yiPgB.jpg?s=128&g=1", "display_name": "dietbacon", "link": "https://stackoverflow.com/users/2108812/dietbacon"}, "is_accepted": true, "score": 1, "last_activity_date": 1448220835, "creation_date": 1448220835, "answer_id": 33859279, "question_id": 29266412, "link": "https://stackoverflow.com/questions/29266412/python-social-auth-not-change-info-for-existant-user-when-associating-account/33859279#33859279", "title": "Python Social Auth: Not change info for existant user when associating account", "body": "<p>What I did in the end was create a new function for the pipeline that calls the existing <code>populate_info</code> that is by default in the timeline, but only if it's a new account (determined by 'is_new' in kwargs):</p>\n\n<pre><code>from social.pipeline.user import user_details\n\ndef populate_info(strategy, details, user=None, *args, **kwargs):\n    if (kwargs['is_new']):\n        user_details(strategy, details, user, args, kwargs)\n</code></pre>\n\n<p>on settings.py :</p>\n\n<pre><code>SOCIAL_AUTH_PIPELINE = (\n\n    'social.pipeline.social_auth.social_details',\n    'social.pipeline.social_auth.social_uid',\n    'social.pipeline.social_auth.auth_allowed',\n    'social.pipeline.social_auth.social_user',\n    'social.pipeline.user.get_username',\n    'social.pipeline.social_auth.associate_by_email',\n    'social.pipeline.user.create_user',\n    'social.pipeline.social_auth.associate_user',\n    'social.pipeline.social_auth.load_extra_data',\n    'myapp.auth_pipeline.populate_info',\n)\n</code></pre>\n"}], "owner": {"reputation": 2916, "user_id": 2108812, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yiPgB.jpg?s=128&g=1", "display_name": "dietbacon", "link": "https://stackoverflow.com/users/2108812/dietbacon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 33859279, "answer_count": 1, "score": 0, "last_activity_date": 1448220835, "creation_date": 1427317189, "question_id": 29266412, "link": "https://stackoverflow.com/questions/29266412/python-social-auth-not-change-info-for-existant-user-when-associating-account", "title": "Python Social Auth: Not change info for existant user when associating account", "body": "<p>My django app is using Python Social Auth to register new users with Fb/G+/Twitter but I also want users to be able to associate their existing accounts to Facebook/Google+/Twitter.\nThe problem is that using the standard pipeline whenever I connect a new account to the existing one, it changes all the info on the existing account to the info on the social account I'm associating to it.\nE.g.:\nif i have an account on my website with email abc@gmail.com but the email on the Facebook account I'm associating to it is 123@gmail.com, it changes to that one.\nI have tried removing the 'social.pipeline.user.user_details' from the pipeline but then when I create new users it doesn't pull the info from facebook to the account, which is something that I would like.</p>\n\n<p>(How) Can I fix that?</p>\n\n<p>thanks!</p>\n"}, {"tags": ["python", "list"], "answers": [{"tags": [], "owner": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "is_accepted": false, "score": 1, "last_activity_date": 1427317615, "last_edit_date": 1427317615, "creation_date": 1427316673, "answer_id": 29266261, "question_id": 29266206, "link": "https://stackoverflow.com/questions/29266206/how-do-i-take-the-first-value-and-the-last-value-from-a-list-with-a-list-in-pyth/29266261#29266261", "title": "How do I take the first value and the last value from a list with a list in python?", "body": "<p><strong>Round</strong> decimal number:</p>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; round(1.7777, 2)\n1.78\n&gt;&gt;&gt; round(1.7777, 0)\n2.0\n&gt;&gt;&gt;\n\n&gt;&gt;&gt; \"%.2f\"%(1.239)\n'1.23'\n</code></pre>\n\n<hr>\n\n<p>Use <strong>subscription</strong> to get value from th list.</p>\n\n<p>Demo</p>\n\n<pre><code>&gt;&gt;&gt; l = [\"a\", \"b\", \"c\", \"d\"]  \n&gt;&gt;&gt; l[0]   #- First item\n'a'\n&gt;&gt;&gt; l[-1]   #- Last item\n'd'\n&gt;&gt;&gt; l[3]     #- Last item i.e. Item from the index 3  \n'd'\n&gt;&gt;&gt; \n</code></pre>\n\n<hr>\n\n<p>code:</p>\n\n<pre><code>&gt;&gt;&gt; l = [['DF', 8, 6, 8, 8, 7.333333333333333], ['ED', 10, 4, 6, 10, 6.666666666666667], ['TH', 9, 4, 7, 9, 6.666666666666667], ['EK', 9, 4, 5, 9, 6.0]]\n&gt;&gt;&gt; for i in l:...    print \"%s, %d, %.2f\"%(i[0], i[4], i[5])\n... \nDF, 8, 7.33\nED, 10, 6.67\nTH, 9, 6.67\nEK, 9, 6.00\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1427316761, "creation_date": 1427316761, "answer_id": 29266281, "question_id": 29266206, "link": "https://stackoverflow.com/questions/29266206/how-do-i-take-the-first-value-and-the-last-value-from-a-list-with-a-list-in-pyth/29266281#29266281", "title": "How do I take the first value and the last value from a list with a list in python?", "body": "<p>Just keep subscripting.</p>\n\n<pre><code>&gt;&gt;&gt; mylist = [[1,2],[5,6]]\n&gt;&gt;&gt; mylist[0]\n[1,2]\n&gt;&gt;&gt; mylist[0][1]\n2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "edited": false, "score": 2, "creation_date": 1427316976, "post_id": 29266286, "comment_id": 46734393, "body": "<code>_</code> as variable name. and it i s working. great +upvote"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "edited": false, "score": 1, "creation_date": 1427317022, "post_id": 29266286, "comment_id": 46734415, "body": "@VivekSable the <code>_</code>, just signifies that we are not going to use the values."}, {"owner": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "edited": false, "score": 0, "creation_date": 1427317763, "post_id": 29266286, "comment_id": 46734813, "body": "which is best format method?  <code>&quot;{}, {}, {:.2f}&quot;.format(i[0], i[4], i[5])</code> OR ` &quot;%s, %d, %.2f&quot;%(i[0], i[4], i[5])`"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "edited": false, "score": 1, "creation_date": 1427317982, "post_id": 29266286, "comment_id": 46734933, "body": "@VivekSable, I prefer <code>str.format</code>, it is less error prone and more readable to me anyway. As far as python goes <code>str.format</code> would also be the preferred method. <a href=\"http://stackoverflow.com/questions/5082452/python-string-formatting-vs-format\" title=\"python string formatting vs format\">stackoverflow.com/questions/5082452/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4713981"}, "edited": false, "score": 0, "creation_date": 1427318803, "post_id": 29266286, "comment_id": 46735369, "body": "Thank you so much @Padraic Cunningham"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "edited": false, "score": 0, "creation_date": 1427319100, "post_id": 29266286, "comment_id": 46735496, "body": "@VivekSable,no worries."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1427319174, "last_edit_date": 1427319174, "creation_date": 1427316788, "answer_id": 29266286, "question_id": 29266206, "link": "https://stackoverflow.com/questions/29266206/how-do-i-take-the-first-value-and-the-last-value-from-a-list-with-a-list-in-pyth/29266286#29266286", "title": "How do I take the first value and the last value from a list with a list in python?", "body": "<p>You can unpack and use <a href=\"https://docs.python.org/2/library/stdtypes.html#str.format\" rel=\"nofollow\">str.format</a>,  <code>{:.2f}</code> will format the average to two decimal places:</p>\n\n<pre><code>l = [['DF', 8, 6, 8, 8, 7.333333333333333], ['ED', 10, 4, 6, 10, 6.666666666666667],\n     ['TH', 9, 4, 7, 9, 6.666666666666667], ['EK', 9, 4, 5, 9, 6.0]]\n\nfor ini, _, _, _, highest, avg in l:\n    print(\"Initials: {}, highest : {}, average: {:.2f}\".format(ini, highest, avg))\n\nInitials: DF, highest : 8, average: 7.33\nInitials: ED, highest : 10, average: 6.67\nInitials: TH, highest : 9, average: 6.67\nInitials: EK, highest : 9, average: 6.00\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "is_accepted": false, "score": 0, "last_activity_date": 1427316803, "creation_date": 1427316803, "answer_id": 29266293, "question_id": 29266206, "link": "https://stackoverflow.com/questions/29266206/how-do-i-take-the-first-value-and-the-last-value-from-a-list-with-a-list-in-pyth/29266293#29266293", "title": "How do I take the first value and the last value from a list with a list in python?", "body": "<p>To get 1st and last elements in a new list </p>\n\n<pre><code>l = [['DF', 8, 6, 8, 8, 7.333333333333333], ['ED', 10, 4, 6, 10, 6.666666666666667], ['TH', 9, 4, 7, 9, 6.666666666666667], ['EK', 9, 4, 5, 9, 6.0]]\nl2 = []\nfor i in l:\n    l2.append([i[0], i[-1]])\n\nprint l2\n\nl2 = [['DF', 7.333333333333333], ['ED', 6.666666666666667], ['TH', 6.666666666666667], ['EK', 6.0]]\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4713981"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1427319174, "creation_date": 1427316499, "last_edit_date": 1427316585, "question_id": 29266206, "link": "https://stackoverflow.com/questions/29266206/how-do-i-take-the-first-value-and-the-last-value-from-a-list-with-a-list-in-pyth", "title": "How do I take the first value and the last value from a list with a list in python?", "body": "<pre><code>from operator import itemgetter\nfile = open(\"testdata.txt\",\"r\")\nfilein = []\nfor row in file:\n       filein.append(row.strip(\"\\n\"))\nresults= []\nfor item in filein:\n    results.append(item.split(\",\"))\ncounter=0\nfor item in results:\n    itemlength = len(item)\n    for i in range(1, itemlength):\n        item[i] = int(item[i])\n        item.append(max(results[counter][1:4]))\n        item.append((sum(results[counter][1:4]))/3)\n        counter=counter+1\nresults.sort()\nprint(\"\\n\")\nprint(sorted(results,key=itemgetter(5),reverse=True))\n\n[['DF', 8, 6, 8, 8, 7.333333333333333], ['ED', 10, 4, 6, 10, 6.666666666666667], ['TH', 9, 4, 7, 9, 6.666666666666667], ['EK', 9, 4, 5, 9, 6.0]]\n</code></pre>\n\n<p>I have two questions. The first one is how can I print the first value (initials) with the 5th value [4], which is the highest score, in a new list? \nMy second question how can I get the average score[5] of the three scores to 2 decimal places?</p>\n\n<p>This task is for my assessment, I hope that you could help me out!\nThank you</p>\n"}, {"tags": ["python", "dictionary", "pandas"], "comments": [{"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1427316195, "post_id": 29266033, "comment_id": 46733972, "body": "The 1st ex works as expected on v0.15.1"}, {"owner": {"reputation": 5, "user_id": 3920441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91aff76bcb3595c3a35874a44ff7534a?s=128&d=identicon&r=PG&f=1", "display_name": "StackExchangeFan", "link": "https://stackoverflow.com/users/3920441/stackexchangefan"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1427316404, "post_id": 29266033, "comment_id": 46734072, "body": "I am using 0.14.1. Time to update! Could you please post an answer? I will accept it."}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1427316460, "post_id": 29266033, "comment_id": 46734108, "body": "Feel free to accept unutbu&#39;s a. S/he&#39;s more knowlegeable than me anyway."}], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 0, "last_activity_date": 1427316345, "creation_date": 1427316345, "answer_id": 29266168, "question_id": 29266033, "link": "https://stackoverflow.com/questions/29266033/indexerror-using-pandas-from-dict/29266168#29266168", "title": "IndexError using pandas from_dict", "body": "<p>Try updating your version of Pandas. In version 0.15.2, <code>from_dict</code> works as expected:</p>\n\n<pre><code>In [18]: pd.__version__\nOut[20]: '0.15.2-113-g5531341'\n\nIn [14]: d = {(0,1):{1:'a'}}\n\nIn [15]: pd.DataFrame.from_dict(d,orient='index')\nOut[15]: \n     1\n0 1  a\n\nIn [16]: d = {1:{1:'a'}}\n\nIn [17]: pd.DataFrame.from_dict(d,orient='index')\nOut[17]: \n   1\n1  a\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 3920441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91aff76bcb3595c3a35874a44ff7534a?s=128&d=identicon&r=PG&f=1", "display_name": "StackExchangeFan", "link": "https://stackoverflow.com/users/3920441/stackexchangefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 29266168, "answer_count": 1, "score": 0, "last_activity_date": 1427316345, "creation_date": 1427315860, "question_id": 29266033, "link": "https://stackoverflow.com/questions/29266033/indexerror-using-pandas-from-dict", "title": "IndexError using pandas from_dict", "body": "<p>When constructing dataframe from a dict, the following example, throws an IndexError(index out of bounds).</p>\n\n<pre><code>import pandas as pd\nd = {(0,1):{1:'a'}}\npd.DataFrame.from_dict(d,orient='index')\n</code></pre>\n\n<p>If I modify the dict as below, there is no index error</p>\n\n<pre><code>import pandas as pd\nd = {1:{1:'a'}}\npd.DataFrame.from_dict(d,orient='index')\n</code></pre>\n\n<p>Why does a tuple as the dict key cause the IndexError?</p>\n"}, {"tags": ["python", "python-2.7", "numpy"], "comments": [{"owner": {"reputation": 3145, "user_id": 4367286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gItAv.jpg?s=128&g=1", "display_name": "plonser", "link": "https://stackoverflow.com/users/4367286/plonser"}, "edited": false, "score": 0, "creation_date": 1427317126, "post_id": 29265888, "comment_id": 46734483, "body": "Apparently the number of tabs per line is not fixed ... on line 59 there are 13 tabs according to the error readings. Apart from that you should use <code>skip_header=1</code> instead of <code>skip_rows=1</code>"}, {"owner": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "reply_to_user": {"reputation": 3145, "user_id": 4367286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gItAv.jpg?s=128&g=1", "display_name": "plonser", "link": "https://stackoverflow.com/users/4367286/plonser"}, "edited": false, "score": 0, "creation_date": 1427318319, "post_id": 29265888, "comment_id": 46735111, "body": "This data is 66 columns wide and about 3700 rows long. I&#39;m very confused."}], "answers": [{"tags": [], "owner": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "is_accepted": false, "score": 0, "last_activity_date": 1427373421, "creation_date": 1427373421, "answer_id": 29278616, "question_id": 29265888, "link": "https://stackoverflow.com/questions/29265888/error-when-trying-to-use-np-loadtxt/29278616#29278616", "title": "Error when trying to use np.loadtxt()", "body": "<p>I figured out that from <a href=\"http://docs.scipy.org/doc/numpy/user/basics.io.genfromtxt.html\" rel=\"nofollow\">here</a> that my problem was most likely related to the fact that despite the files being NAMED .xls, they weren't .xls files. I was specifying the delimiter, which was tabs. I'm not sure why it worked sometimes and not others. However, when I altered the line to:</p>\n\n<pre><code>    imported_array = np.genfromtxt(fname, skiprows = 1, dtype = float)\n</code></pre>\n\n<p>(removing the delimiter specification), it worked.</p>\n\n<p>It also worked as np.loadtxt with the same parameters. It's really weird to me that specifying the delimiter was messing me up. </p>\n"}], "owner": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 732, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427373421, "creation_date": 1427315352, "question_id": 29265888, "link": "https://stackoverflow.com/questions/29265888/error-when-trying-to-use-np-loadtxt", "title": "Error when trying to use np.loadtxt()", "body": "<p>I've seen several answers to this issue, mostly suggesting I replace np.loadtxt with np.genfromtxt()....but that produces a different issue. </p>\n\n<p>The line in question is:</p>\n\n<pre><code>imported_array = np.loadtxt(fname, delimiter='\\t', skiprows = 1)\n</code></pre>\n\n<p>The file itself claims to be a .xls but I've discovered that it's really a tab-delimited text file. This code usually works on files generated by this system. The data looks like</p>\n\n<pre><code>Time    Flow Rate    Pressure  \n0.002   273.4474545 3.542497271\n</code></pre>\n\n<p>and so on. The error I'm getting is </p>\n\n<pre><code>items = [conv(val) for (conv, val) in zip(converters, vals)]\nValueError: could not convert string to float: \n</code></pre>\n\n<p>And the thing it claims is a string is a weird character...it's possibly a capital gamma. Which I cannot find in the data file. Everything below the first row is a number, and definitely not a capital gamma. I tried searching the files for the special characters that look like it, to no avail. </p>\n\n<p>When I try it with np.genfromtxt:</p>\n\n<pre><code>imported_array = np.genfromtxt(fname, delimiter='\\t', skiprows = 1)   \n\n raise ValueError(errmsg)\n ValueError: Some errors were detected !\nLine #3 (got 4 columns instead of 1)\nLine #7 (got 4 columns instead of 1)\nLine #9 (got 2 columns instead of 1)\nLine #59 (got 14 columns instead of 1)\nLine #61 (got 2 columns instead of 1)\nLine #70 (got 2 columns instead of 1)\nLine #71 (got 4 columns instead of 1)\n</code></pre>\n\n<p>Meanwhile, on previous sets of data generated from the same system, I have either not had this problem or had one out of maybe 20 that had this issue. </p>\n"}, {"tags": ["python", "xmpp", "google-cloud-messaging"], "answers": [{"tags": [], "owner": {"reputation": 182, "user_id": 2793480, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100004017841526/picture?type=large", "display_name": "Justin Andrew", "link": "https://stackoverflow.com/users/2793480/justin-andrew"}, "is_accepted": false, "score": 1, "last_activity_date": 1427317520, "creation_date": 1427317520, "answer_id": 29266494, "question_id": 29265877, "link": "https://stackoverflow.com/questions/29265877/installing-xmpp-on-a-python-server/29266494#29266494", "title": "Installing XMPP on a Python server", "body": "<p>You will have to download and install the missing python package. You may do this manually via SSH if the provider gives you access, or there may be a way to include a requirements document such that the server looks and downloads needed packages automatically. It all depends on the host, the access they allow you, and their automation features.</p>\n"}, {"tags": [], "owner": {"reputation": 12921, "user_id": 366221, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/16ae2626136e8542b448b50f2bd8f0fc?s=128&d=identicon&r=PG", "display_name": "hwjp", "link": "https://stackoverflow.com/users/366221/hwjp"}, "is_accepted": false, "score": 2, "last_activity_date": 1427364784, "creation_date": 1427364784, "answer_id": 29275856, "question_id": 29265877, "link": "https://stackoverflow.com/questions/29265877/installing-xmpp-on-a-python-server/29275856#29275856", "title": "Installing XMPP on a Python server", "body": "<p>PythonAnywhere doesn't support raw TCP socket connections or websockets, so XMPP may not work. But then again, from reading wikipedia, it does look like there's a pure-HTTP alternative, so it <em>might</em> work.</p>\n\n<p>Check out this guide to installing new modules:  <a href=\"https://www.pythonanywhere.com/wiki/InstallingNewModules\" rel=\"nofollow\">https://www.pythonanywhere.com/wiki/InstallingNewModules</a>.  My suggestion would be to use a <a href=\"https://www.pythonanywhere.com/wiki/Virtualenvs\" rel=\"nofollow\">virtualenv</a> for your web app, and install flask and xmpp into that...</p>\n"}], "owner": {"reputation": 53, "user_id": 2662839, "user_type": "registered", "profile_image": "https://graph.facebook.com/1046877203/picture?type=large", "display_name": "Alper Vural", "link": "https://stackoverflow.com/users/2662839/alper-vural"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427364784, "creation_date": 1427315315, "last_edit_date": 1427318582, "question_id": 29265877, "link": "https://stackoverflow.com/questions/29265877/installing-xmpp-on-a-python-server", "title": "Installing XMPP on a Python server", "body": "<p>I am attempting to follow set up the python xmpp server for GCM as detailed here:</p>\n\n<p><a href=\"https://developer.android.com/google/gcm/ccs.html\" rel=\"nofollow\">https://developer.android.com/google/gcm/ccs.html</a></p>\n\n<p>The website I used for hosting is pythonanywhere.com</p>\n\n<p>My issue is that when I saw <code>import xmpp</code>, it says that no such module is found.</p>\n\n<p>Should I be trying to install it on their server? I realize that this issue is probably really basic, but I have looked online for the last hour or so without much fruit. I see all these variations on XMPP and am not sure if I have to deal with any of those or if I can just do exactly what the google demo is saying.</p>\n\n<p>Thanks for your time,</p>\n\n<p>-Alper</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 2830, "user_id": 856070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3aeef5f536776e6a56b1581a2a0fee?s=128&d=identicon&r=PG", "display_name": "jcfollower", "link": "https://stackoverflow.com/users/856070/jcfollower"}, "edited": false, "score": 1, "creation_date": 1427315467, "post_id": 29265845, "comment_id": 46733572, "body": "Don&#39;t you want that to be <code>if m &lt;= 0:</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1427315871, "post_id": 29265908, "comment_id": 46733793, "body": "@AdamSmith You cannot add a list to a tuple so you cannot cast your return type to a tuple."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1427315920, "post_id": 29265908, "comment_id": 46733812, "body": "@Shashank bah, you&#39;re right. I&#39;m terrible with recursing functions. Deleted my comment."}], "tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": true, "score": 4, "last_activity_date": 1427315941, "last_edit_date": 1427315941, "creation_date": 1427315432, "answer_id": 29265908, "question_id": 29265845, "link": "https://stackoverflow.com/questions/29265845/recursive-functions-with-math-operators/29265908#29265908", "title": "Recursive functions with math operators", "body": "<pre><code>def squares_tuple(n, m):\n    return (n * n, ) + squares_tuple(n + 1, m) if n &lt; m else ()\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>&gt;&gt;&gt; squares_tuple(0, 6)\n(0, 1, 4, 9, 16, 25)\n&gt;&gt;&gt; squares_tuple(3, 7)\n(9, 16, 25, 36)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 0, "creation_date": 1427315702, "post_id": 29265946, "comment_id": 46733706, "body": "You don&#39;t actually need to create a temporary list: <code>return tuple(num**2 for num in range(start, stop))</code>. <a href=\"https://www.python.org/dev/peps/pep-0289/\" rel=\"nofollow noreferrer\"><i>since python 2.4</i></a>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 1, "creation_date": 1427315829, "post_id": 29265946, "comment_id": 46733774, "body": "@BillLynch I haven&#39;t profiled, but in a few of those kinds of &quot;building from a completed list&quot; functions using the list comp is actually faster. see the comments on <a href=\"http://stackoverflow.com/a/9060697/3058609\">this answer</a>"}, {"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1427316861, "post_id": 29265946, "comment_id": 46734325, "body": "@AdamSmith Look at my test here: <a href=\"http://repl.it/f2h\" rel=\"nofollow noreferrer\">repl.it/f2h</a> Adding the tuples is doable in a lower amount of time. Note that I created both the lists and the tuples in the setup phase so I&#39;m only testing the add operator time. (Creating tuples is also faster than creating lists)"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1427315563, "creation_date": 1427315563, "answer_id": 29265946, "question_id": 29265845, "link": "https://stackoverflow.com/questions/29265845/recursive-functions-with-math-operators/29265946#29265946", "title": "Recursive functions with math operators", "body": "<p>Does this have to be a recursive function? If not then the best solution is:</p>\n\n<pre><code>def squares_tuple(start, stop):\n    return tuple([num**2 for num in range(start, stop)])\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 29265908, "answer_count": 2, "score": 1, "last_activity_date": 1427315941, "creation_date": 1427315166, "question_id": 29265845, "link": "https://stackoverflow.com/questions/29265845/recursive-functions-with-math-operators", "title": "Recursive functions with math operators", "body": "<p>I want to build a function that takes two natural numbers n and m and returns a tuple of the squares of all the natural numbers starting with n and ending with m-1. I am able to decide if the function should return if m is smaller than n, but it shouldn't crash or return some sort of error message. So squares_tuple(3,7) returns (9,16,25,36) and rec_range(10,11) returns (100,).  Also, I do not want to use range(), map(), loops, or lists.  Here is what I have so far:</p>\n\n<pre><code>def squares_tuple(n,m):\n\"\"\"takes two nat nums n and m and returns a tuple of the squares of all the\nnatural numbers starting with n and ending with m-1\n\nnat, nat -&gt; tuple of natural numbers\"\"\"\n   if m &gt;= 0:\n       return 0\n   else:\n       return squares_tuple(n - 1, ) + (n**m, )\n</code></pre>\n\n<p>Kind of stuck at this point...</p>\n"}, {"tags": ["python", "string", "python-3.x", "integer"], "comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1427315362, "post_id": 29265837, "comment_id": 46733502, "body": "Are you checking if the string is <i>just</i> numbers?"}, {"owner": {"reputation": 43, "user_id": 4543979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fa6b457a237fae938a71a7553a3cce89?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4543979/tim"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1427315479, "post_id": 29265837, "comment_id": 46733580, "body": "just text, no numbers"}], "answers": [{"tags": [], "owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "is_accepted": false, "score": 5, "last_activity_date": 1427315365, "creation_date": 1427315365, "answer_id": 29265893, "question_id": 29265837, "link": "https://stackoverflow.com/questions/29265837/checking-for-integers-in-a-string-python/29265893#29265893", "title": "Checking for integers in a string - python", "body": "<p>Firstly, do not cast <code>str</code> as <code>input</code> returns an <code>str</code>. Note from the <a href=\"https://docs.python.org/3/library/functions.html#input\" rel=\"noreferrer\">docs</a></p>\n\n<blockquote>\n  <p>The function then reads a line from input, <strong>converts it to a string</strong> (stripping a trailing newline), and returns that</p>\n</blockquote>\n\n<p>After you get the input into <code>name</code> you can have a <code>if</code> condition.</p>\n\n<pre><code>name = str(input(\"Please enter your name &gt; \"))\nif (re.search('\\d',name)):\n     print(\"Sorry your name contains a number\")\n</code></pre>\n\n<p>And don't forget to <a href=\"https://docs.python.org/2/howto/regex.html\" rel=\"noreferrer\"><code>import re</code></a></p>\n"}, {"comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 1, "creation_date": 1427315522, "post_id": 29265914, "comment_id": 46733609, "body": "Oops, Forgot that you could cheat <code>try</code>"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427317343, "post_id": 29265914, "comment_id": 46734602, "body": "You could also use <code>str.isalpha</code>."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427317438, "post_id": 29265914, "comment_id": 46734650, "body": "@MalikBrahimi, <code>foo-bar</code> is a valid name as is <code>Lord foobar</code>"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1427317531, "last_edit_date": 1427317531, "creation_date": 1427315453, "answer_id": 29265914, "question_id": 29265837, "link": "https://stackoverflow.com/questions/29265837/checking-for-integers-in-a-string-python/29265914#29265914", "title": "Checking for integers in a string - python", "body": "<p><code>break</code> when trying to cast to an int if an exception is raised as it is not an int:</p>\n\n<pre><code>while True:\n    name = input(\"Please enter your name &gt; \")\n    try:\n        int(name)\n    except ValueError:\n        break        \n    print(\"Please enter a valid name\")\n</code></pre>\n\n<p><code>str.digit</code> might work also but will fail on negative input.</p>\n\n<p>To check if any character is a digit use any:</p>\n\n<pre><code>while True:\n    name = input(\"Please enter your name &gt; \")\n    if any(ch.isdigit() for ch in name):\n        print(\"Please enter a valid name\")\n    else:\n        break\n</code></pre>\n\n<p>You could also create a set of accepted characters:</p>\n\n<pre><code>from string import ascii_letters\nst = set(ascii_letters)\nwhile True:\n    name = input(\"Please enter your name &gt; \")\n    if not st.issuperset(name):\n        print(\"Please enter a valid name\")\n    else:\n        break\n</code></pre>\n\n<p>Where you might want to add <code>-, \" \"</code> and any other potential characters.</p>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427315732, "post_id": 29265967, "comment_id": 46733722, "body": "<code>if name.isdigit()</code> will do but <code>-100</code> is a digit and <code>if not name.isalpha()</code> will also be sufficient"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1427316137, "post_id": 29265967, "comment_id": 46733936, "body": "The only problem with <code>isalpha()</code> is that some names contain punctuation characters, like a dash."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427317475, "post_id": 29265967, "comment_id": 46734671, "body": "names also contain spaces"}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1427317701, "post_id": 29265967, "comment_id": 46734785, "body": "@TigerhawkT3 That&#39;s true."}], "tags": [], "owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "is_accepted": false, "score": 0, "last_activity_date": 1427315742, "last_edit_date": 1427315742, "creation_date": 1427315623, "answer_id": 29265967, "question_id": 29265837, "link": "https://stackoverflow.com/questions/29265837/checking-for-integers-in-a-string-python/29265967#29265967", "title": "Checking for integers in a string - python", "body": "<p>You can use the string method <a href=\"https://docs.python.org/2/library/stdtypes.html#str.isdigit\" rel=\"nofollow\"><code>isdigit()</code></a> to check if the string is just integers. </p>\n\n<pre><code>name = input(\"Please enter your name: \")\nif name.isdigit() == True:\n    print (\"That's not a name!\")\n</code></pre>\n\n<p>Likewise, you can also use the method <a href=\"https://docs.python.org/2/library/stdtypes.html#str.isalpha\" rel=\"nofollow\"><code>isalpha()</code></a> to check if the string is just text. However, if there's a space, it will return False.</p>\n\n<pre><code>name = input(\"Enter your name: \")\nif name.isalpha() != True:\n    print (\"That's not a name!\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1427315919, "creation_date": 1427315919, "answer_id": 29266051, "question_id": 29265837, "link": "https://stackoverflow.com/questions/29265837/checking-for-integers-in-a-string-python/29266051#29266051", "title": "Checking for integers in a string - python", "body": "<p>Maybe:</p>\n\n<pre><code>if len(set(name) - set('1234567890')) &lt; len(set(name)):\n    name = input(\"Please enter a valid name: \")\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4543979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fa6b457a237fae938a71a7553a3cce89?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4543979/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "accepted_answer_id": 29265914, "answer_count": 4, "score": 1, "last_activity_date": 1427317531, "creation_date": 1427315147, "last_edit_date": 1427315709, "question_id": 29265837, "link": "https://stackoverflow.com/questions/29265837/checking-for-integers-in-a-string-python", "title": "Checking for integers in a string - python", "body": "<p>I have a program that asks the user's name:</p>\n\n<pre><code>while True:\ntry:\n    name = str(input(\"Please enter your name &gt; \"))\nexcept ValueError:\n    print(\"Please enter a valid name\")\n    continue\nelse:\n    break\n</code></pre>\n\n<p>I want to prevent the user from entering an integer, but with the code above integers are accepted in a string. How can I prevent the user from entering an integer in the string? </p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 50179, "user_id": 594589, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0f9d5953607841d6a50b843a1107e51e?s=128&d=identicon&r=PG", "display_name": "dm03514", "link": "https://stackoverflow.com/users/594589/dm03514"}, "edited": false, "score": 0, "creation_date": 1427314823, "post_id": 29265735, "comment_id": 46733185, "body": "please format your strings"}, {"owner": {"reputation": 4007, "user_id": 3161282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vkLhf.png?s=128&g=1", "display_name": "dursk", "link": "https://stackoverflow.com/users/3161282/dursk"}, "edited": false, "score": 1, "creation_date": 1427314993, "post_id": 29265735, "comment_id": 46733292, "body": "Show us what you&#39;ve tried so far..."}, {"owner": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 2, "creation_date": 1427314995, "post_id": 29265735, "comment_id": 46733294, "body": "Hi, welcome to StackOverflow! A few questions: What are you showing us here? It&#39;s not a CSV file - I don&#39;t see any commas. What part of the problem are you having problems with? Please show your code so we can find out how it might be improved or corrected. I suppose you&#39;re not expecting us to just write that program for you, so you might want to give us more information than what you have provided here. There are some good pointers here: <a href=\"http://tinyurl.com/so-hints\" rel=\"nofollow noreferrer\">Writing the perfect question</a>"}, {"owner": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 0, "creation_date": 1427315195, "post_id": 29265735, "comment_id": 46733403, "body": "Comments are quite unsuitable for posting code, but you can always <a href=\"http://stackoverflow.com/posts/29265735/edit\">edit your own question</a>. Also, please make sure you provide a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4713904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105456e23510e59c367bc4debbc9b6ab?s=128&d=identicon&r=PG&f=1", "display_name": "python_rookie1", "link": "https://stackoverflow.com/users/4713904/python-rookie1"}, "edited": false, "score": 0, "creation_date": 1427320800, "post_id": 29266079, "comment_id": 46736310, "body": "Thanks for the code, when I added the code, I get the following error  File &quot;test.py&quot;, line 343, in exp1     if j[-10] in checked_value: IndexError: string index out of range"}, {"owner": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "reply_to_user": {"reputation": 11, "user_id": 4713904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105456e23510e59c367bc4debbc9b6ab?s=128&d=identicon&r=PG&f=1", "display_name": "python_rookie1", "link": "https://stackoverflow.com/users/4713904/python-rookie1"}, "edited": false, "score": 0, "creation_date": 1427350976, "post_id": 29266079, "comment_id": 46744508, "body": "@python_rookie1: Can you pass me your input cvs file and py code on my email vivekbsable@gmail.com ?"}, {"owner": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "reply_to_user": {"reputation": 11, "user_id": 4713904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105456e23510e59c367bc4debbc9b6ab?s=128&d=identicon&r=PG&f=1", "display_name": "python_rookie1", "link": "https://stackoverflow.com/users/4713904/python-rookie1"}, "edited": false, "score": 0, "creation_date": 1427435009, "post_id": 29266079, "comment_id": 46784259, "body": "@python_rookie1: Welcome. Is my answer useful for you? If yes then upvote/ accept :P"}, {"owner": {"reputation": 11, "user_id": 4713904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105456e23510e59c367bc4debbc9b6ab?s=128&d=identicon&r=PG&f=1", "display_name": "python_rookie1", "link": "https://stackoverflow.com/users/4713904/python-rookie1"}, "edited": false, "score": 0, "creation_date": 1427825926, "post_id": 29266079, "comment_id": 46931740, "body": "It was very useful, however I cannot upvote for Im new (need 15 points)! :("}], "tags": [], "owner": {"reputation": 8469, "user_id": 1459533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a482980b00ed72489d03550af59924aa?s=128&d=identicon&r=PG", "display_name": "Vivek Sable", "link": "https://stackoverflow.com/users/1459533/vivek-sable"}, "is_accepted": false, "score": 0, "last_activity_date": 1427316351, "last_edit_date": 1427316351, "creation_date": 1427316040, "answer_id": 29266079, "question_id": 29265735, "link": "https://stackoverflow.com/questions/29265735/comparing-two-columns-in-a-csv-file-using-python-based-on-value-in-third-column/29266079#29266079", "title": "Comparing two columns in a csv file using python based on value in third column", "body": "<p>Algo:</p>\n\n<ol>\n<li>Read input CSV file by <code>csv</code> module.</li>\n<li>Create two variables, <code>info</code> to save rows details and <code>checked_value</code> for checked yes numbers.</li>\n<li>Iterate every row from the input file.</li>\n<li>Add row into <code>info</code></li>\n<li>Check if row is checked to <code>yes</code> or not, If yes append <code>row[0]</code> number in the <code>checked_value</code> list.</li>\n<li>Iterate <code>info</code> dictionary and check every row again if <code>row[0]</code> number in <code>checked_value</code> list or not, If present the update row to <code>yes</code>.</li>\n<li>Write New CSV file.</li>\n</ol>\n\n<p>-- </p>\n\n<p>code:</p>\n\n<pre><code>import csv\nimport pprint\n\ninput_file = \"input1.csv\"\n\nwith open(input_file, 'rb') as fp:\n    root = csv.reader(fp)\n    info = {}\n    checked_value = []\n    for i, row in enumerate(root):\n        info[i]  = row\n        if row[2]==\"yes\":\n            checked_value.append(row[0])\n\nprint \"Debug 1: info: \"\npprint.pprint(info)\n\nfor i,j in info.items():\n    if j[0] in checked_value:\n        j[2] = \"yes\"\n\nprint \"Debug 2: info: \"\npprint.pprint(info)\n\n\n#- Write file\nwith open(\"output1.csv\", 'wb') as fp:\n    root = csv.writer(fp, delimiter=',')\n    root.writerows(info.values())\n</code></pre>\n\n<p>Output:\nDebug statements:</p>\n\n<pre><code>vivek@vivek:~/Desktop/stackoverflow/anna$ python 6.py \nDebug 1: info: \n{0: ['Number', 'Value', 'Checked'],\n 1: ['1111', '5', ''],\n 2: ['1234', '6', ''],\n 3: ['1111', '0', 'yes'],\n 4: ['4444', '0', 'yes'],\n 5: ['5555', '8', ''],\n 6: ['4444', '7', '']}\nDebug 2: info: \n{0: ['Number', 'Value', 'Checked'],\n 1: ['1111', '5', 'yes'],\n 2: ['1234', '6', ''],\n 3: ['1111', '0', 'yes'],\n 4: ['4444', '0', 'yes'],\n 5: ['5555', '8', ''],\n 6: ['4444', '7', 'yes']}\n</code></pre>\n\n<p>Output1.csv</p>\n\n<pre><code>Number,Value,Checked\n1111,5,yes\n1234,6,\n1111,0,yes\n4444,0,yes\n5555,8,\n4444,7,yes\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4713904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105456e23510e59c367bc4debbc9b6ab?s=128&d=identicon&r=PG&f=1", "display_name": "python_rookie1", "link": "https://stackoverflow.com/users/4713904/python-rookie1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1642, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427316368, "creation_date": 1427314768, "last_edit_date": 1427316368, "question_id": 29265735, "link": "https://stackoverflow.com/questions/29265735/comparing-two-columns-in-a-csv-file-using-python-based-on-value-in-third-column", "title": "Comparing two columns in a csv file using python based on value in third column", "body": "<p>I have three columns in a csv file</p>\n\n<pre><code>Number    Value      Checked\n1111        5           \n1234        6          \n1111        0          yes\n4444        0          yes\n5555        8\n4444        7\n</code></pre>\n\n<p>If the checked field is \"yes\" I need to find the if the Number associated with it is repeated in the Number column. If it is then I want Checked field to show \"yes\"</p>\n\n<p>Example output:</p>\n\n<pre><code>Number    Value      Checked\n1111        5          yes\n1234        6          \n1111        0          yes\n4444        0          yes\n5555        8\n4444        7          yes\n</code></pre>\n\n<p>I'm using python. This is a csv file.\nI'm sorry, I'm new to stackoverflow. Basically I\u2019m trying to read the rows in a column that have values that total to 0. If they are 0, then I have created a column \u201cChecked\u201d that says \u201cyes\u201d to values that become null. For Example if the Number \u201c111111\u201d has Values \u201c-8\u201d and \u201c8\u201d, then after performing sumif,  it would say 0 and hence, checked field would be \u201cyes\u201d. But the problem is my code reads one row after the other, therefore if there are two rows with values \u201c9\u201d and \u201c-9\u201d, I get 0 for only the second row and not the first row. I want the checked column to add \u201cyes\u201d for both the rows.\nHere\u2019s a section of my code:</p>\n\n<pre><code>    edict={}\n    if edict.get(newrow[-10],\"\")==\"\":  \n       edict[newrow[-10]]=newrow[47]\n    else:  \n       edict[newrow[-10]]=float(newrow[47])+float(edict[newrow[-10]])                            \n    newrow[-9]=edict[newrow[-10]]\n    if newrow[-9]==0:\n       newrow[-11]=\"Hide\"\n</code></pre>\n\n<p>row-10 is the field Number\nrow47 is Value\nrow-11 is Checked</p>\n\n<p>Let me know if this is not clear. </p>\n"}, {"tags": ["python", "search", "elasticsearch"], "comments": [{"owner": {"reputation": 14267, "user_id": 1003915, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/84d1e26527f46e6125dbbdb3c1ff4a25?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Matczak", "link": "https://stackoverflow.com/users/1003915/jakub-matczak"}, "edited": false, "score": 1, "creation_date": 1427316124, "post_id": 29265704, "comment_id": 46733929, "body": "Have you check if for both cases all shards worked fine?"}, {"owner": {"reputation": 777, "user_id": 852982, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/b606f4cd19cacf0248f1947f3df979ab?s=128&d=identicon&r=PG", "display_name": "Ranjit Iyer", "link": "https://stackoverflow.com/users/852982/ranjit-iyer"}, "reply_to_user": {"reputation": 14267, "user_id": 1003915, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/84d1e26527f46e6125dbbdb3c1ff4a25?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Matczak", "link": "https://stackoverflow.com/users/1003915/jakub-matczak"}, "edited": false, "score": 0, "creation_date": 1427324548, "post_id": 29265704, "comment_id": 46737697, "body": "How should I determine that? Should I look at the value of &#39;shards&#39; I get back in the response?"}, {"owner": {"reputation": 14267, "user_id": 1003915, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/84d1e26527f46e6125dbbdb3c1ff4a25?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Matczak", "link": "https://stackoverflow.com/users/1003915/jakub-matczak"}, "edited": false, "score": 0, "creation_date": 1427358266, "post_id": 29265704, "comment_id": 46747048, "body": "Yeah, that&#39;s what I would do in first place. You should get info about successful and failed shards. Also maybe query <code>explain</code> will show something"}, {"owner": {"reputation": 777, "user_id": 852982, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/b606f4cd19cacf0248f1947f3df979ab?s=128&d=identicon&r=PG", "display_name": "Ranjit Iyer", "link": "https://stackoverflow.com/users/852982/ranjit-iyer"}, "reply_to_user": {"reputation": 14267, "user_id": 1003915, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/84d1e26527f46e6125dbbdb3c1ff4a25?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Matczak", "link": "https://stackoverflow.com/users/1003915/jakub-matczak"}, "edited": false, "score": 1, "creation_date": 1427738586, "post_id": 29265704, "comment_id": 46891351, "body": "Specifying a shard preference (in my case ?preference=_primary) resolve although I don&#39;t yet understand the reason"}, {"owner": {"reputation": 14267, "user_id": 1003915, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/84d1e26527f46e6125dbbdb3c1ff4a25?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Matczak", "link": "https://stackoverflow.com/users/1003915/jakub-matczak"}, "edited": false, "score": 0, "creation_date": 1427741722, "post_id": 29265704, "comment_id": 46893010, "body": "Maybe some of replicas are corrupted?"}], "owner": {"reputation": 777, "user_id": 852982, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/b606f4cd19cacf0248f1947f3df979ab?s=128&d=identicon&r=PG", "display_name": "Ranjit Iyer", "link": "https://stackoverflow.com/users/852982/ranjit-iyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427314695, "creation_date": 1427314695, "question_id": 29265704, "link": "https://stackoverflow.com/questions/29265704/elasticsearch-search-results-change-between-invocations", "title": "ElasticSearch search results change between invocations", "body": "<p>I have ~ 6 million documents in my index. When I make a search query, I get two different hit count values between invocations. </p>\n\n<p>Meaning, the count is x for 5 invocations and y for the next 5 invocations and then it goes back to x and keeps cycling between x and y.</p>\n\n<p>Can someone explain this behavior and what I might be doing wrong? Here's the query</p>\n\n<pre><code>    query = {\"query\" : {\"match\" : {\"name\" : \"value\"}}}\n    response = es.search(index=\"my_index\",doc_type=\"my_type\",body=query) \n</code></pre>\n"}, {"tags": ["python", "python-3.x", "input", "strip", "words"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1427314694, "post_id": 29265694, "comment_id": 46733105, "body": "what happens with <code>jack foo</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1427314887, "post_id": 29265712, "comment_id": 46733231, "body": "This is the user input syntax for Python3, but the <code>str.translate</code> syntax for Python2. You&#39;ll need to do <code>input(&quot;Something&quot;).translate(str.maketrans(&#39;&#39;, &#39;&#39;, &quot; &quot;))</code>"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1427315145, "post_id": 29265712, "comment_id": 46733373, "body": "You can refer this <a href=\"http://stackoverflow.com/questions/17020661/why-doesnt-str-translate-work-in-python-3\" title=\"why doesnt str translate work in python 3\">stackoverflow.com/questions/17020661/&hellip;</a>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1427315267, "post_id": 29265712, "comment_id": 46733441, "body": "(I always have to look it up to be sure. I know that in Python3 I can use <code>mapping = str.maketrans({oldlett:newlett for oldlett,newlett in replacements}); some_string.translate(mapping)</code> but I never remember how it goes together in Python2, so for any SO questions I double check to be sure."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1427315384, "post_id": 29265712, "comment_id": 46733513, "body": "@AdamSmith ooops! yeah, sure ,thanks for reminding i&#39;ll edit the answer!"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 3, "last_activity_date": 1427347795, "last_edit_date": 1427347795, "creation_date": 1427314717, "answer_id": 29265712, "question_id": 29265694, "link": "https://stackoverflow.com/questions/29265694/how-to-give-input-permission-to-accept-a-name-with-a-space/29265712#29265712", "title": "How to give input permission to accept a name with a space?", "body": "<p>You can use <code>str.translate</code> :</p>\n\n<pre><code>input(\"something\").translate(None,' ') \n</code></pre>\n\n<p>if you are in python 3 you need to do the following command:</p>\n\n<pre><code>input(\"something\").translate({ord(' '):None})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "is_accepted": true, "score": 5, "last_activity_date": 1427314720, "creation_date": 1427314720, "answer_id": 29265713, "question_id": 29265694, "link": "https://stackoverflow.com/questions/29265694/how-to-give-input-permission-to-accept-a-name-with-a-space/29265713#29265713", "title": "How to give input permission to accept a name with a space?", "body": "<p>Replace the spaces with blank</p>\n\n<pre><code>&gt;&gt;&gt; input(\"something\\n\").replace(' ','')\nsomething\nja       ck\n'jack'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1427314794, "post_id": 29265726, "comment_id": 46733167, "body": "Oops, Paddy, Late by 26 secs :)"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1427315146, "last_edit_date": 1427315146, "creation_date": 1427314746, "answer_id": 29265726, "question_id": 29265694, "link": "https://stackoverflow.com/questions/29265694/how-to-give-input-permission-to-accept-a-name-with-a-space/29265726#29265726", "title": "How to give input permission to accept a name with a space?", "body": "<p>If you have a single word:</p>\n\n<pre><code>input(\"something\").replace(\" \",\"\")\n</code></pre>\n\n<p>But <code>foo bar</code> will become <code>foobar</code> so it really depends on what input is possible, if you are taking more than a single word then it will be a very different proposition.</p>\n\n<p>It might be better to get the user to confirm the input:</p>\n\n<pre><code>while True:\n   inp = input(\"Please enter your\").replace(\" \",\"\")\n   confirm = input(\"You entered {}, enter \"r\" ro re-enter or any key to continue\".format(inp))\n   if inp == \"r\":\n       continue\n   else:\n      # do whatever\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "is_accepted": false, "score": 1, "last_activity_date": 1427314799, "creation_date": 1427314799, "answer_id": 29265746, "question_id": 29265694, "link": "https://stackoverflow.com/questions/29265694/how-to-give-input-permission-to-accept-a-name-with-a-space/29265746#29265746", "title": "How to give input permission to accept a name with a space?", "body": "<p>you could also split the string on spaces, and reassemble it (without spaces):</p>\n\n<pre><code> ''.join(\"ja ck\".split())\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4708155, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/c00cbb370f100da15f3087865f3979fd?s=128&d=identicon&r=PG&f=1", "display_name": "Acu", "link": "https://stackoverflow.com/users/4708155/acu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 29265713, "answer_count": 4, "score": 1, "last_activity_date": 1427347795, "creation_date": 1427314646, "last_edit_date": 1427315740, "question_id": 29265694, "link": "https://stackoverflow.com/questions/29265694/how-to-give-input-permission-to-accept-a-name-with-a-space", "title": "How to give input permission to accept a name with a space?", "body": "<p>I know that in Python, in order for the program to ignore space you can use <code>input(\"something\").strip()</code> but what function do you use for the program to ignore the space if it's in the middle of the word like <code>ja ck</code>, also is there a way to combine the name, so if you enter it like <code>ja ck</code> it will print <code>jack</code>?</p>\n"}, {"tags": ["python", "class", "variables", "math"], "comments": [{"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 1, "creation_date": 1427314446, "post_id": 29265603, "comment_id": 46732973, "body": "the variable <code>bike</code> is never defined anywhere ... you have <code>Bike</code> or <code>bike1</code>, ... but not <code>bike</code>"}, {"owner": {"reputation": 32626, "user_id": 691884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1f68638c765096502abb3e56274386?s=128&d=identicon&r=PG", "display_name": "Random832", "link": "https://stackoverflow.com/users/691884/random832"}, "edited": false, "score": 0, "creation_date": 1427314494, "post_id": 29265603, "comment_id": 46732999, "body": "I think you haven&#39;t provided enough context? Are you doing this in another method of Shop? How are you associating the Bike objects with the Shop?"}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "edited": false, "score": 1, "creation_date": 1427314502, "post_id": 29265603, "comment_id": 46733008, "body": "Attribute access is via the <code>.</code> operator, not <code>()</code>:  <code>profit = bike.cost * margin</code>"}, {"owner": {"reputation": 945, "user_id": 4697384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/313b48bfa7e25f11cb12623a563946b2?s=128&d=identicon&r=PG", "display_name": "Charles Watson", "link": "https://stackoverflow.com/users/4697384/charles-watson"}, "edited": false, "score": 0, "creation_date": 1427314706, "post_id": 29265603, "comment_id": 46733111, "body": "I changed it to &quot;Bike.cost * margin&quot; yet now it simply says &#39;Bike&#39; has no attribute &#39;cost&#39;."}], "answers": [{"tags": [], "owner": {"reputation": 334, "user_id": 3869542, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/814f26ada78696136409f36ffd412477?s=128&d=identicon&r=PG&f=1", "display_name": "VT_Drew", "link": "https://stackoverflow.com/users/3869542/vt-drew"}, "is_accepted": false, "score": 2, "last_activity_date": 1427314659, "creation_date": 1427314659, "answer_id": 29265697, "question_id": 29265603, "link": "https://stackoverflow.com/questions/29265603/python-using-a-class-in-an-arithmetic-equation/29265697#29265697", "title": "Python: using a class in an arithmetic equation?", "body": "<p>I am pretty sure the problem is here:</p>\n\n<pre><code>profit = bike(cost) * margin\n</code></pre>\n\n<p>This should read:</p>\n\n<pre><code>profit = bike1.cost * margin\n</code></pre>\n\n<p>You need to specify the bike you can't just say bike(cost). If you want to do this for all bikes I would suggest putting all the bikes in a list then going over the list with a for statement.</p>\n"}, {"tags": [], "owner": {"reputation": 3147, "user_id": 4594443, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/MzJvW.jpg?s=128&g=1", "display_name": "elegent", "link": "https://stackoverflow.com/users/4594443/elegent"}, "is_accepted": false, "score": 1, "last_activity_date": 1427315142, "last_edit_date": 1427315142, "creation_date": 1427314807, "answer_id": 29265747, "question_id": 29265603, "link": "https://stackoverflow.com/questions/29265603/python-using-a-class-in-an-arithmetic-equation/29265747#29265747", "title": "Python: using a class in an arithmetic equation?", "body": "<p>You <strong>can\u00b4t</strong> use a <strong>class</strong> (<code>Bike</code>) in an arithmetic equation!</p>\n\n<p>To access an attribute of an <em>object</em> (e.g. <code>bike1</code>) use <code>objectName.attributeName</code> (e.g. <code>bike1.cost</code>).</p>\n\n<p>To calculate the <code>profit</code> of the <em>object</em> <code>bike1</code> code:</p>\n\n<pre><code> profit = bike1.cost * margin\n</code></pre>\n"}], "owner": {"reputation": 945, "user_id": 4697384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/313b48bfa7e25f11cb12623a563946b2?s=128&d=identicon&r=PG", "display_name": "Charles Watson", "link": "https://stackoverflow.com/users/4697384/charles-watson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427315142, "creation_date": 1427314325, "last_edit_date": 1427314745, "question_id": 29265603, "link": "https://stackoverflow.com/questions/29265603/python-using-a-class-in-an-arithmetic-equation", "title": "Python: using a class in an arithmetic equation?", "body": "<p>I have a class:</p>\n\n<pre><code>class Bike(object):\n    \"\"\"Parent class for bikes\"\"\"\n\n    def __init__(self, name, weight, cost):\n        self.name = name\n        self.weight = weight\n        self.cost = cost\n\n# Bike designed for children\"\nbike1 = Bike(\"Trike\", 20, 100)\n# Bike designed for everyone\"\nbike2 = Bike(\"Kruzer\", 50, 165)\n# Bike designed for trick parks\"\nbike3 = Bike(\"BMX Bomber\", 45, 350)\n# Bike designed for backcountry trails\"\nbike4 = Bike(\"The Roamer\", 40, 200)\n# Bike designed for intensive mountain riding\"\nbike5 = Bike(\"The Avalanche\", 70, 700)\n# Bike designed for the handicapped\"\nbike6 = Bike(\"The Cadi\", 120, 1500)\n</code></pre>\n\n<p>In another class:</p>\n\n<pre><code>class Shop(object):\n    \"\"\"Parent class for bike shops\"\"\"\n\n    def __init__(self, name, inventory, margin, profit):\n        self.name = name\n        self.inventory = inventory\n        self.margin = margin\n        self.profit = profit\n</code></pre>\n\n<p>But I can't seem to get this to work:</p>\n\n<pre><code> profit = Bike.cost * margin\n</code></pre>\n\n<p>It always feeds back an error saying 'bike' is not defined, which I assume has something to do with the \"bike1 = ...., bike2 = ....\" </p>\n\n<p>should that section be indented in order to be blocked with the class? Or is that not even the issue?</p>\n"}, {"tags": ["python", "string", "comparison"], "comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1427314196, "post_id": 29265559, "comment_id": 46732811, "body": "<i>this is weird</i> .... What is weird? What else are you expecting? What is so <i>funny</i> in this?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1427314356, "post_id": 29265559, "comment_id": 46732906, "body": "You use <code>val</code> in one place, <code>idx</code> in the other."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1427314562, "post_id": 29265559, "comment_id": 46733044, "body": "Style nitpick: consider using <code>words_with_underscores</code> for function and instance names."}, {"owner": {"reputation": 81, "user_id": 2829082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5I1LB.jpg?s=128&g=1", "display_name": "Mario Matos", "link": "https://stackoverflow.com/users/2829082/mario-matos"}, "edited": false, "score": 0, "creation_date": 1427314647, "post_id": 29265559, "comment_id": 46733078, "body": "Alright, that&#39;s the error. Thanks interweb friends. Val was the right variable to use."}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 1, "last_activity_date": 1427314406, "creation_date": 1427314406, "answer_id": 29265628, "question_id": 29265559, "link": "https://stackoverflow.com/questions/29265559/python-string-comparison-acting-funny/29265628#29265628", "title": "Python string comparison acting funny", "body": "<p>You are not comparing what you think you are comparing.</p>\n\n<p>You print:</p>\n\n<pre><code>wordList[val+offset-1] != 'f'\n</code></pre>\n\n<p>but you actually are comparing:</p>\n\n<pre><code>wordList[idx+offset-1] != 'f'\n</code></pre>\n\n<p>Note the difference between <code>idx</code> and <code>val</code> there.</p>\n\n<p>For your input, the first <code>val</code> is <code>11</code> and <code>idx</code> is <code>0</code>, so you are printing <code>wordList[val+offset-1]</code> which is indeed <code>'f'</code> and thus equaly to the value in <code>space</code>, but you are actually comparing against <code>wordList[idx+offset-1]</code> which is <code>'s'</code>. <code>'s' != 'f'</code> is indeed <code>True</code>.</p>\n"}], "owner": {"reputation": 81, "user_id": 2829082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5I1LB.jpg?s=128&g=1", "display_name": "Mario Matos", "link": "https://stackoverflow.com/users/2829082/mario-matos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 29265628, "answer_count": 1, "score": -1, "last_activity_date": 1427314406, "creation_date": 1427314153, "last_edit_date": 1427314353, "question_id": 29265559, "link": "https://stackoverflow.com/questions/29265559/python-string-comparison-acting-funny", "title": "Python string comparison acting funny", "body": "<p>this is weird:</p>\n\n<pre><code>def separatewordsbycaps(word):\n    \"\"\"This custom template will add space to fields when it finds a capital letter.\n    Ex. InstrumentDeployment --&gt; Instrument Deployment\"\"\"\n\n    wordList = list(word)\n\n    spaceIndexes = [index for index, char in enumerate(wordList) if char.isupper() and index!=0]\n    offset = 0\n    space = \"f\"\n    for idx, val in enumerate(spaceIndexes):\n        print \"1.\"+wordList[val+offset-1]+\"!=\" + space +\"= \" + str(wordList[idx+offset-1] != space)\n        print type(wordList[val+offset-1])\n        print type(space)\n        if wordList[idx+offset-1] != space:\n            wordList.insert(val+offset, space)\n            offset += 1\n\n    return ''.join(wordList)\n\nprint separatewordsbycaps(\"InstrumentfOutputfVariables\")\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1.f!=f= True\n&lt;type 'str'&gt;\n&lt;type 'str'&gt;\n1.f!=f= True\n&lt;type 'str'&gt;\n&lt;type 'str'&gt;\nInstrumentffOutputffVariables\n</code></pre>\n\n<p>I search the interweb for help, maybe there's something wrong with my code. Please help.</p>\n"}, {"tags": ["python", "for-loop", "typeerror", "ordereddictionary", "dictionary-comprehension"], "answers": [{"comments": [{"owner": {"reputation": 1318, "user_id": 681386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cfb1123454445ce441a57b02bfcdd761?s=128&d=identicon&r=PG&f=1", "display_name": "linus72982", "link": "https://stackoverflow.com/users/681386/linus72982"}, "edited": false, "score": 0, "creation_date": 1427314378, "post_id": 29265452, "comment_id": 46732918, "body": "Very quick answer, thank you.  And it worked ;)  Now I feel silly.  I thought about assigning it with arguments but the comments in the ordereddict source said not to do that, I guess because argument order can get mixed up?  Not sure.  I&#39;ll try that and test and make sure it stays in order.  Thanks."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 5, "last_activity_date": 1427313812, "creation_date": 1427313812, "answer_id": 29265452, "question_id": 29265435, "link": "https://stackoverflow.com/questions/29265435/python-dictionary-comprehension-inside-an-ordereddict-not-working/29265452#29265452", "title": "Python -- Dictionary comprehension inside an OrderedDict not working", "body": "<p>You need to <strong>call</strong> the type to create an instance:</p>\n\n<pre><code>self.statusIcons = collections.OrderedDict()\n</code></pre>\n\n<p>You omitted the <code>()</code> there.</p>\n\n<p>You can create the OrderedDict elements in a generator expression producing <code>(key, value)</code> tuples here too:</p>\n\n<pre><code>self.statusIcons = collections.OrderedDict(\n    (index, {condition: wx.Image(\n                 guiConfig.STATUS_ICON_STRING.format(index, condition),\n                 wx.BITMAP_TYPE_PNG).ConvertToBitmap()\n             for condition in guiConfig.STATUS_ICON_CONDITIONS})\n    for index in guiConfig.STATUS_ICON_SETS)\n</code></pre>\n\n<p>but I am not sure readability has improved with that approach.</p>\n"}], "owner": {"reputation": 1318, "user_id": 681386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cfb1123454445ce441a57b02bfcdd761?s=128&d=identicon&r=PG&f=1", "display_name": "linus72982", "link": "https://stackoverflow.com/users/681386/linus72982"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 825, "favorite_count": 0, "accepted_answer_id": 29265452, "answer_count": 1, "score": 1, "last_activity_date": 1427313836, "creation_date": 1427313754, "last_edit_date": 1427313836, "question_id": 29265435, "link": "https://stackoverflow.com/questions/29265435/python-dictionary-comprehension-inside-an-ordereddict-not-working", "title": "Python -- Dictionary comprehension inside an OrderedDict not working", "body": "<p>I have this code:</p>\n\n<pre><code>self.statusIcons = collections.OrderedDict\nfor index in guiConfig.STATUS_ICON_SETS:\n     self.statusIcons[index] = {condition:\\\n           wx.Image(guiConfig.STATUS_ICON_STRING.format(index, condition),wx.BITMAP_TYPE_PNG).ConvertToBitmap() \\\n           for condition in guiConfig.STATUS_ICON_CONDITIONS}\n</code></pre>\n\n<p>It sets up an ordereddict of regular dictionaries of wx.Image objects which are set up with comprehension.  I originally had nested dict comprehensions and it worked fine but decided I needed the top-level dict to be ordered so ended up with this way.  The problem is that now I get this error:</p>\n\n<pre><code>TypeError: 'type' object does not support item assignment\n</code></pre>\n\n<p>zeroing in on the piece of the code in question.  I can't figure out what I did incorrectly.  Does ordereddict not allow comprehension even if it isn't the top-level?  Maybe it tries to order all dicts within an ordereddict and can't because comprehension is on the lower-level?  Not sure, maybe it's something ridiculous I couldn't spot because of tunnel-vision.</p>\n\n<p>PS: in case you need to know what is in the globals I reference above:</p>\n\n<pre><code>STATUS_ICON_SETS = (\"comp\", \"net\", \"serv\", \"audio\", \"sec\", \"ups\", \"zwave\", \"stats\")\nSTATUS_ICON_CONDITIONS = (\"on\", \"off\")\nSTATUS_ICON_STRING = \"images/{0}_{1}.png\"\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1427313595, "post_id": 29265371, "comment_id": 46732485, "body": "Post the whole code."}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427313787, "post_id": 29265371, "comment_id": 46732591, "body": "it seems to me that it is easier to make a grid with lines than rectangles"}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427313840, "post_id": 29265371, "comment_id": 46732626, "body": "also your width = 0 might mess your outline up"}], "answers": [{"tags": [], "owner": {"reputation": 1979, "user_id": 3630690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d74e07d479c6f8e67f5b06bfb152bd5e?s=128&d=identicon&r=PG&f=1", "display_name": "Shawnic Hedgehog", "link": "https://stackoverflow.com/users/3630690/shawnic-hedgehog"}, "is_accepted": true, "score": 1, "last_activity_date": 1427314398, "last_edit_date": 1427314398, "creation_date": 1427313969, "answer_id": 29265492, "question_id": 29265371, "link": "https://stackoverflow.com/questions/29265371/how-do-i-fix-my-grid/29265492#29265492", "title": "How do I fix my grid?", "body": "<p>Just look at your code.</p>\n\n<pre><code>canvas.create_rectangle(row*height/n,col*width/n,(row+1)*height/n,(col+1)*width/n,width=0,fill='white',outline='black')\n</code></pre>\n\n<p>From the <a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/create_rectangle.html\" rel=\"nofollow\">TKinter</a> reference:</p>\n\n<blockquote>\n  <p><strong>width</strong> - <em>Width of the border. Default is 1 pixel. Use width=0 to make the</em> border invisible.</p>\n</blockquote>\n\n<p>You are setting the width equal to 0. So it's invisible. That's why you are seeing just a white window.</p>\n\n<p>EDIT: Also, you don't need to put <code>outline='black'</code> as that is the default.</p>\n"}], "owner": {"reputation": 5, "user_id": 4698897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YtdCG.jpg?s=128&g=1", "display_name": "pubkitty", "link": "https://stackoverflow.com/users/4698897/pubkitty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 29265492, "answer_count": 1, "score": 0, "last_activity_date": 1427386925, "creation_date": 1427313563, "last_edit_date": 1427386925, "question_id": 29265371, "link": "https://stackoverflow.com/questions/29265371/how-do-i-fix-my-grid", "title": "How do I fix my grid?", "body": "<p>For a board game program I am creating, I'm drawing a board by looping through rows and columns using canvas.create_rectangle. I want it to look like a grid so each rectangle has a border.</p>\n\n<p>What I have currently is:</p>\n\n<pre><code>def draw_board(canvas, width, height, n):\n    for row in range(n+1):\n        for col in range(n+1):\n            canvas.create_rectangle(row*height/n,col*width/n,(row+1)*height/n,(col+1)*width/n,width=0,fill='white',outline='black')\n\nfrom Tkinter import *\nimport math\n\nwidth = 500\nheight = 500\nn = 10\n\nwindow=Tk()\nwindow.title('Color grid')\n\ncanvas=Canvas(window,width=width,height=height,highlightthickness=0)\ncanvas.grid(row=0,column=0,columnspan=5)\n\ndraw_board(canvas, width, height, 10)\n\nwindow.mainloop()\n</code></pre>\n\n<p>However, the outline does not appear when I run the program and I ultimately just get a white window.</p>\n"}, {"tags": ["python", "regex"], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 0, "last_activity_date": 1427315240, "last_edit_date": 1427315240, "creation_date": 1427313657, "answer_id": 29265403, "question_id": 29265361, "link": "https://stackoverflow.com/questions/29265361/trying-to-print-to-a-text-file-with-words-that-only-have-two-or-more-occurring-v/29265403#29265403", "title": "trying to print to a text file with words that only have two or more occurring vowels", "body": "<p>Because it is outside of <code>if</code> condition. This is what the code lines should look like:</p>\n\n<pre><code>for line in file:\n    for word in nonword.split(line):\n        if twovowels.match(word):\n            print word\n            text_file.write('\\n' + word)\ntext_file.close()\n\nfile.close()\n</code></pre>\n\n<p>Here is a <a href=\"http://goo.gl/dwghJ8\" rel=\"nofollow\">sample program on Tutorialspoint</a> showing the code above is correct.</p>\n"}, {"comments": [{"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1427316015, "post_id": 29265541, "comment_id": 46733863, "body": "Are you implying that copying and translating is cheaper than regex matching? I&#39;d be interested to see numbers if that is so."}, {"owner": {"reputation": 25, "user_id": 4135189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92743ff45a6085cad50dda228d382e63?s=128&d=identicon&r=PG&f=1", "display_name": "Brando", "link": "https://stackoverflow.com/users/4135189/brando"}, "edited": false, "score": 0, "creation_date": 1427317872, "post_id": 29265541, "comment_id": 46734875, "body": "on the outside of the if, it still writes all of the words from the the html file to the text file :("}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 25, "user_id": 4135189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92743ff45a6085cad50dda228d382e63?s=128&d=identicon&r=PG&f=1", "display_name": "Brando", "link": "https://stackoverflow.com/users/4135189/brando"}, "edited": false, "score": 0, "creation_date": 1427318016, "post_id": 29265541, "comment_id": 46734958, "body": "@Brando, that is my point, yours is outside the if, you would need to move it inside."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1427318389, "last_edit_date": 1427318389, "creation_date": 1427314107, "answer_id": 29265541, "question_id": 29265361, "link": "https://stackoverflow.com/questions/29265361/trying-to-print-to-a-text-file-with-words-that-only-have-two-or-more-occurring-v/29265541#29265541", "title": "trying to print to a text file with words that only have two or more occurring vowels", "body": "<p>You can remove the vowels with str.translate and compare lengths. If after removing the letters the length difference is > 1 you have at least two vowels:</p>\n\n<pre><code>with open(\"FirstMondayArticle.html\") as f, open(\"twoVoweledWordList.txt\", \"w\") as out:\n    for line in file:\n        for word in line.split():\n            if len(word) - len(word.lower().translate(None,\"aeiou\")) &gt; 1:\n                out.write(\"{}\\n\".format(word.rstrip()))\n</code></pre>\n\n<p>In your own code you always write the word as <code>text_file.write('\\n' + word)</code> is outside the if block. a good lesson in why you should not have multiple statements on one line, your code is equivalent to:</p>\n\n<pre><code>   if twovowels.match(word):\n        print(word)\n    text_file.write('\\n' + word) # &lt;- outside the if\n</code></pre>\n\n<p>Your code with the if in the correct location, some changes to your naming convention, adding some spaces between assignments and using <code>with</code> which closes your files for you:</p>\n\n<pre><code>import re\nwith open(\"FirstMondayArticle.html\") as f, open(\"twoVoweledWordList.txt\", \"w\") as out:\n    two_vowels = re.compile(r\".*[aeiou].*[aeiou].*\", re.I)\n    non_word = re.compile(r\"\\W+\", re.U)\n    for line in f:\n        for word in non_word.split(line):\n            if two_vowels.match(word):\n                print(word)\n                out.write(\"{}\\n\".format(word.rstrip()))  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427316246, "post_id": 29266121, "comment_id": 46733994, "body": "You could make <code>aeiou</code> a set of letters"}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427316288, "post_id": 29266121, "comment_id": 46734019, "body": "@PadraicCunningham True, but for that small of a set, I&#39;m not entirely sure that hashed lookup vs. linear search is a win..."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1427316378, "post_id": 29266121, "comment_id": 46734060, "body": "If you have 1000000 words it will  make a difference, you can also <code>return sum(ch in &quot;aeiou&quot; for ch in word.lower() ) &gt; 1</code>, create the set once and pass it to the function if necessary."}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1427316719, "post_id": 29266121, "comment_id": 46734247, "body": "@PadraicCunningham Hmm... yes. Many ways to skin that cat, I guess. Still, I was intending to err a bit on the side of readability/comprehension for a beginner. I actually like the <code>sum(...)</code> idea best, though..."}], "tags": [], "owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1427316178, "creation_date": 1427316178, "answer_id": 29266121, "question_id": 29265361, "link": "https://stackoverflow.com/questions/29265361/trying-to-print-to-a-text-file-with-words-that-only-have-two-or-more-occurring-v/29266121#29266121", "title": "trying to print to a text file with words that only have two or more occurring vowels", "body": "<p>I would suggest an alternate, and simpler, method, not using <code>re</code>:</p>\n\n<pre><code>def twovowels(word):\n    count = 0\n    for char in word.lower():\n        if char in \"aeiou\":\n            count = count + 1\n            if count &gt; 1:\n                return True\n    return False\n\nwith open(\"FirstMondayArticle.html\") as file,\n        open(\"twoVoweledWordList.txt\", \"w\") as text_file:\n    for line in file:\n        for word in line.split():\n            if twovowels(word):\n                print word\n                text_file.write(word + \"\\n\")\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4135189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92743ff45a6085cad50dda228d382e63?s=128&d=identicon&r=PG&f=1", "display_name": "Brando", "link": "https://stackoverflow.com/users/4135189/brando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 29265541, "answer_count": 3, "score": 2, "last_activity_date": 1427318389, "creation_date": 1427313502, "last_edit_date": 1427313937, "question_id": 29265361, "link": "https://stackoverflow.com/questions/29265361/trying-to-print-to-a-text-file-with-words-that-only-have-two-or-more-occurring-v", "title": "trying to print to a text file with words that only have two or more occurring vowels", "body": "<pre><code>import re\ntwovowels=re.compile(r\".*[aeiou].*[aeiou].*\", re.I)\nnonword=re.compile(r\"\\W+\", re.U)\ntext_file = open(\"twoVoweledWordList.txt\", \"w\")\nfile = open(\"FirstMondayArticle.html\",\"r\")\nfor line in file:\n    for word in nonword.split(line):\n        if twovowels.match(word): print word\n        text_file.write('\\n' + word)\ntext_file.close()\n\nfile.close()\n</code></pre>\n\n<p>This is my python code, I am trying to print only the words that have two or more occurring vowels. When i run this code, it prints everything, including the words and numbers that do not have vowels, to my text file. But the python shell shows me all of the words that have two or more occurring vowels. So how do I change that?</p>\n"}, {"tags": ["python", "django", "testing", "django-testing"], "answers": [{"comments": [{"owner": {"reputation": 6419, "user_id": 1141356, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8807954e084bcf3c7dd691d5ad27c478?s=128&d=identicon&r=PG", "display_name": "intelis", "link": "https://stackoverflow.com/users/1141356/intelis"}, "edited": false, "score": 0, "creation_date": 1427324980, "post_id": 29266370, "comment_id": 46737861, "body": "This really seems to be the best option.. Thanks"}, {"owner": {"reputation": 126, "user_id": 11247635, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GQVM6cYukAo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdOUmsEmERYhj2D42Cz1N1RWyU1Mw/mo/photo.jpg?sz=128", "display_name": "Andrea Citrolo", "link": "https://stackoverflow.com/users/11247635/andrea-citrolo"}, "edited": false, "score": 0, "creation_date": 1608303421, "post_id": 29266370, "comment_id": 115549719, "body": "This is a very old question but currently this is not anymore the right answer, there are several way to prevent a unit test from becoming (silently) an integration test due to signals. Interested people can Have a look at <a href=\"https://stackoverflow.com/questions/45320964/how-to-test-signals-when-using-factory-boy-with-muted-signals\">this</a> and <a href=\"https://stackoverflow.com/questions/18532539/want-to-disable-signals-in-django-testing\">this</a>."}], "tags": [], "owner": {"reputation": 1359, "user_id": 3169644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3505eca909e1daed459382d67bba95d1?s=128&d=identicon&r=PG&f=1", "display_name": "Rapha&#235;l Braud", "link": "https://stackoverflow.com/users/3169644/rapha%c3%abl-braud"}, "is_accepted": true, "score": 2, "last_activity_date": 1427317054, "creation_date": 1427317054, "answer_id": 29266370, "question_id": 29265333, "link": "https://stackoverflow.com/questions/29265333/basics-of-testing-signals-in-django/29266370#29266370", "title": "Basics of testing signals in Django", "body": "<p>The easiest is indeed to create some reservations (where some have destination in points, others not), setting destination to 'foo' (for instance) then save them.</p>\n\n<p>international seems to be a boolean field, so using 'foo' (which is not a boolean) and saving will allows you to check both cases (and as far as instance is not validated/saved you can assign whatever value you want)</p>\n\n<p>\"Do I test this function in isolation\" => I wouldn't do that, the signals framework is heavily coupled to Django models, to get isolation, you would have to mock a lot of libs making your test code far more difficult than the tested code itself</p>\n"}], "owner": {"reputation": 6419, "user_id": 1141356, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8807954e084bcf3c7dd691d5ad27c478?s=128&d=identicon&r=PG", "display_name": "intelis", "link": "https://stackoverflow.com/users/1141356/intelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 1, "accepted_answer_id": 29266370, "answer_count": 1, "score": 1, "last_activity_date": 1427317054, "creation_date": 1427313415, "question_id": 29265333, "link": "https://stackoverflow.com/questions/29265333/basics-of-testing-signals-in-django", "title": "Basics of testing signals in Django", "body": "<p>I'm new to testing in <strong>Django</strong> and I was wondering how to write tests for <strong>signals</strong>.<br>\nI went over the documentation but I couldn't find anything helpful.</p>\n\n<p>Let's say a have a simple <code>pre_save</code> signal for <code>Reservation</code> model and I want to change some attribute before saving it to the database. </p>\n\n<p>My code looks like this:</p>\n\n<pre><code>@receiver(pre_save, sender=Reservation)\ndef set_destination_type(sender, instance, *args, **kwargs):\n    points = ['New York', 'Rome', 'Paris']\n    if instance.destination in points:\n        instance.international = True\n    instance.international = False\n</code></pre>\n\n<p>How would I approach this? Do I just create a reservation and assert that correct value was set? Do I test this function in isolation? I really don't know how to start.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "regex", "search", "filter"], "answers": [{"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 2, "last_activity_date": 1427313505, "creation_date": 1427313505, "answer_id": 29265362, "question_id": 29265300, "link": "https://stackoverflow.com/questions/29265300/simple-filter-python-script-for-text/29265362#29265362", "title": "Simple Filter Python script for Text", "body": "<p>I think you dont need regex for such task you can simply <code>split</code> your lines to create a list of words then loop over your words list and use <code>in</code> operator :</p>\n\n<pre><code> with open(\"test.txt\") as f :\n     for line in f:\n         for w in line.split():\n              if 'abc' in w :\n                   print w \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "is_accepted": false, "score": 2, "last_activity_date": 1427313581, "last_edit_date": 1495542134, "creation_date": 1427313581, "answer_id": 29265377, "question_id": 29265300, "link": "https://stackoverflow.com/questions/29265300/simple-filter-python-script-for-text/29265377#29265377", "title": "Simple Filter Python script for Text", "body": "<p>Your methodology is correct however, you can change your Regex to <code>r'.*abc.*'</code>, in the sense</p>\n\n<pre><code> regex = re.compile(r'.*abc.*')\n</code></pre>\n\n<p>This will match all the lines with <code>abc</code> in them<code>The wildcards</code>.*` will match all your letters in the line. </p>\n\n<p>A small Demo with that particular line changed would print</p>\n\n<pre><code>abcde\nzyxabc\n</code></pre>\n\n<p>Note, As Kasra <a href=\"https://stackoverflow.com/a/29265362/4099593\">mentions</a> it is better to use <code>in</code> operator in such cases</p>\n"}], "owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 0, "accepted_answer_id": 29265362, "answer_count": 2, "score": 1, "last_activity_date": 1427313730, "creation_date": 1427313315, "last_edit_date": 1427313730, "question_id": 29265300, "link": "https://stackoverflow.com/questions/29265300/simple-filter-python-script-for-text", "title": "Simple Filter Python script for Text", "body": "<p>I am trying to create what must be a simple filter function which runs a regex against a text file and returns all words containing that particular regex.</p>\n\n<p>so for example if i wanted to find all words that contained \"abc\", and I had the list: <code>abcde</code>, <code>bce</code>, <code>xyz</code> and <code>zyxabc</code> the script would return <code>abcde</code> and <code>zyxabc</code>.  </p>\n\n<p>I have a script below however I am not sure if it is just the regex I am failing at or not. it just returns abc twice rather than the full word. thanks. </p>\n\n<pre><code>import re\n\ntext = open(\"test.txt\", \"r\")\nregex = re.compile(r'(abc)')\n\nfor line in text:\n    target = regex.findall(line)\n    for word in target:\n        print word\n</code></pre>\n"}, {"tags": ["python", "css", "object", "methods"], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427314089, "post_id": 29265431, "comment_id": 46732748, "body": "This gets the first five hail sizes, divides them by the total number of hail reports, and multiplies those figures by 100. For hail sizes of <code>[1,2,2,3,1,4,2,3,1]</code>, that would result in a list of <code>[20, 40, 40, 60, 20]</code>, which doesn&#39;t correspond to anything meaningful."}, {"owner": {"reputation": 183, "user_id": 4713588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b187dc94c327c87ed9e7c0e17840b644?s=128&d=identicon&r=PG&f=1", "display_name": "sandy", "link": "https://stackoverflow.com/users/4713588/sandy"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427314979, "post_id": 29265431, "comment_id": 46733286, "body": "@TigerhawkT3,  danielle may be able to clarify, but I have assumed self.hailSize[i] to contain the total number of reported hailstorms of particular size. i.e self.hailSize[0] may contain total hailReports with size &#39;&lt;1.25&#39;."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427315204, "post_id": 29265431, "comment_id": 46733406, "body": "I think <code>self.hailSize</code> contains a list of each recorded hail. If it hailed three times, with the first being 0.7 in size, the next 1.2 in size, and the last 1.1 in size, <code>self.hailSize</code> would be <code>[0.7,1.2,1.1]</code>. <code>self.avgSize()</code> relies on that setup, anyway."}], "tags": [], "owner": {"reputation": 183, "user_id": 4713588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b187dc94c327c87ed9e7c0e17840b644?s=128&d=identicon&r=PG&f=1", "display_name": "sandy", "link": "https://stackoverflow.com/users/4713588/sandy"}, "is_accepted": false, "score": 0, "last_activity_date": 1427313744, "creation_date": 1427313744, "answer_id": 29265431, "question_id": 29265225, "link": "https://stackoverflow.com/questions/29265225/how-to-calculate-percentages-of-items-in-a-list-that-meet-specific-criteria/29265431#29265431", "title": "How to calculate percentages of items in a list that meet specific criteria?", "body": "<p>If I understand your question correctly, then you can store the percentages of each range in a list. The code may look something as follows</p>\n\n<pre><code>    self.percentages = [(self.hailSize[i]/self.hailReports) * 100 for i in range(5)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1427315017, "creation_date": 1427315017, "answer_id": 29265801, "question_id": 29265225, "link": "https://stackoverflow.com/questions/29265225/how-to-calculate-percentages-of-items-in-a-list-that-meet-specific-criteria/29265801#29265801", "title": "How to calculate percentages of items in a list that meet specific criteria?", "body": "<p>If you have a list of hail sizes like this: <code>[1.1,1.1,1.6,1.6,2.1,2.6,3.1,3.1,3.1]</code></p>\n\n<p>you can get a list like this: <code>[2, 2, 1, 1, 3]</code></p>\n\n<p>from this:</p>\n\n<pre><code>return [len([item for item in self.hailSize if small&lt;=item&lt;big]) for small,big in [(0,1.25), (1.25,2), (2,2.5), (2.5,3), (3,200)]]\n</code></pre>\n\n<p>By the way, instead of saving a <code>self.hailReports</code> variable to count how many elements there are in <code>self.hailSize</code>, you can just use <code>len(self.hailSize)</code>. Next, have <code>avgSize()</code> simply do <code>return sum(self.hailSize)/len(self.hailSize)</code>, and then you don't have to call a function to update a variable all the time - just get the average size with <code>avgSize()</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4713700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c0ad72bc7fe769694a367945f247d5c?s=128&d=identicon&r=PG&f=1", "display_name": "Danielle Presley", "link": "https://stackoverflow.com/users/4713700/danielle-presley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1043, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557301738, "creation_date": 1427313115, "last_edit_date": 1557301738, "question_id": 29265225, "link": "https://stackoverflow.com/questions/29265225/how-to-calculate-percentages-of-items-in-a-list-that-meet-specific-criteria", "title": "How to calculate percentages of items in a list that meet specific criteria?", "body": "<p>I am making a program that looks at a file with data for hail in the U.S. I have successfully created a class with objects (All the states), and have the state abbreviation, number of total hail reports, and list of hail sizes for each state/object.</p>\n\n<p>I have to make a table showing statistics of the hail sizes for each state. I created a method that averages the hail sizes for each state, but I can't figure out how to make a method that calculates the percentages of hail sizes that fall within a certain size range. </p>\n\n<p>The table has 5 categories, for these hail sizes: &lt;1.25, 1.25-1.99, 2.0-2.49, 2.5-2.99, >3.0.<br>\nI am pretty sure I need to do a rolling sum for each category, but I just can't figure out how to do it with so  many categories. If I could do a rolling sum, it would just be that sum/ the total number of reports for that state.</p>\n\n<p>Here is the code I have so far:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>class stateHail:\r\n    def __init__(self, state):\r\n        self.stateAbbr = state\r\n        self.hailReports = 0\r\n        self.hailSize = []\r\n\r\n    def avgSize(self):\r\n        self.avg = (sum(self.hailSize))/self.hailReports\r\n    \r\n    #def percents(self):\r\n        #???\r\n        \r\n#Creates objects needed for class\r\n\r\nstates = []\r\nfor x in [\"AL\", \"AK\", \"AZ\", \"AR\", \"CA\", \"CO\", \"CT\", \"DE\", \"FL\", \"GA\", \"HI\", \"ID\", \"IL\", \"IN\", \"IA\", \"KS\", \"KY\", \"LA\", \"ME\", \"MD\", \"MA\", \"MI\", \"MN\", \"MS\", \"MO\", \"MT\", \"NE\", \"NV\", \"NH\", \"NJ\", \"NM\", \"NY\", \"NC\", \"ND\", \"OH\", \"OK\", \"OR\", \"PA\", \"RI\", \"SC\", \"SD\", \"TN\", \"TX\", \"UT\", \"VA\", \"WA\", \"WV\", \"WI\", \"WY\", \"PR\", \"VA\", \"VI\"]:\r\n    stateObject = stateHail(x)\r\n    states.append(stateObject)\r\n\r\n#Opens file and assigns state abbreviation, hail report number, and list of hail sizes to each object/state\r\n\r\nfileHail = open(\"90-99_hail.csv\", \"r\")\r\ntry:\r\n    for line in fileHail:\r\n        splitLine=line.split(\",\")\r\n        abbrFile=splitLine[7]\r\n        for x in states:\r\n            if (abbrFile==x.stateAbbr):\r\n                x.hailSize.append(float(splitLine[10]))\r\n                x.hailReports = x.hailReports + 1\r\n        \r\nexcept:\r\n    fileHail.close()\r\n\r\n#Calculates average for each state\r\n\r\nfor x in states:\r\n    if (x.hailReports&gt;100):\r\n        x.avgSize()\r\n        print x.avg</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["python", "proxy", "urllib2"], "answers": [{"tags": [], "owner": {"reputation": 1198, "user_id": 581330, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72309ce8ef24824ea947eaf58dc5ed24?s=128&d=identicon&r=PG", "display_name": "RomanK", "link": "https://stackoverflow.com/users/581330/romank"}, "is_accepted": true, "score": 2, "last_activity_date": 1427394757, "creation_date": 1427394757, "answer_id": 29286236, "question_id": 29265202, "link": "https://stackoverflow.com/questions/29265202/urllib2-seems-to-ignore-proxy-settings/29286236#29286236", "title": "Urllib2 Seems to Ignore Proxy Settings", "body": "<p>You've set up only a proxy for HTTP in the line below, but you're accessing an HTTPS site:</p>\n\n<pre><code> proxy_handler = urllib2.ProxyHandler({\"http\": http_proxy})\n</code></pre>\n\n<p>You need to modify this to</p>\n\n<pre><code> proxy_handler = urllib2.ProxyHandler({\"http\": http_proxy, \"https\": http_proxy})\n</code></pre>\n"}], "owner": {"reputation": 1338, "user_id": 4459346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QpVnd.png?s=128&g=1", "display_name": "NZD", "link": "https://stackoverflow.com/users/4459346/nzd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "accepted_answer_id": 29286236, "answer_count": 1, "score": 0, "last_activity_date": 1427394757, "creation_date": 1427313029, "question_id": 29265202, "link": "https://stackoverflow.com/questions/29265202/urllib2-seems-to-ignore-proxy-settings", "title": "Urllib2 Seems to Ignore Proxy Settings", "body": "<p>I'm behind a proxy and would like to use urllib2 to access external sites. If I set up the proxy in my environment, I can access external sites. When I set a proxy in urllib2, it seems to be ignored and the access fails.</p>\n\n<p>The code I'm using is:</p>\n\n<pre><code>import urllib2\nimport os\nimport sys\n\nuri = \"https://www.python.org\"\n\nhttp_proxy_server = \"192.168.12.20\"\nhttp_proxy_port = \"8082\"\nhttp_proxy = \"http://%s:%s\" % (http_proxy_server, http_proxy_port)\n\ndef open_url_no_proxy():\n    sys.stdout.write('Proxy (none): ')\n    proxy_handler = urllib2.ProxyHandler({})\n    opener = urllib2.build_opener(proxy_handler)\n    try:\n        opener.open(uri)\n        sys.stdout.write('PASS\\n')\n    except urllib2.URLError:\n        sys.stdout.write('FAIL\\n')\n\ndef open_url_system_proxy():\n    sys.stdout.write('Proxy (system): ')\n    opener = urllib2.build_opener()\n    try:\n        opener.open(uri)\n        sys.stdout.write('PASS\\n')\n    except urllib2.URLError:\n        sys.stdout.write('FAIL\\n')\n\ndef open_url_installed_opener():\n    sys.stdout.write('Proxy (installed): ')\n    proxy_handler = urllib2.ProxyHandler({\"http\": http_proxy})\n    opener = urllib2.build_opener(proxy_handler)\n    try:\n        opener.open(uri)\n        sys.stdout.write('PASS\\n')\n    except urllib2.URLError:\n        sys.stdout.write('FAIL\\n')\n\nif __name__ == \"__main__\":\n    os.environ['no_proxy'] = 'localhost,127.0.0.1'\n    os.environ['NO_PROXY'] = 'localhost,127.0.0.1'\n    os.environ['http_proxy'] = http_proxy\n    os.environ['HTTP_PROXY'] = http_proxy\n    open_url_system_proxy()\n    open_url_no_proxy()\n    open_url_system_proxy()\n    open_url_installed_opener()\n    open_url_system_proxy()\n</code></pre>\n\n<p>The response I get on my system is:</p>\n\n<pre><code>$ python proxytest2.py \nProxy (system): PASS\nProxy (none): FAIL\nProxy (system): PASS\nProxy (installed): FAIL\nProxy (system): PASS\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "fortran", "mathematical-optimization"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 1, "creation_date": 1427313956, "post_id": 29265164, "comment_id": 46732679, "body": "You might want to take a look at <a href=\"http://deeplearning.net/software/theano/\" rel=\"nofollow noreferrer\">Theano</a>"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 1, "creation_date": 1427317457, "post_id": 29265164, "comment_id": 46734663, "body": "If you care about performance (accuracy and runtime) then you&#39;ll likely want to write the derivatives out manually"}, {"owner": {"reputation": 1267, "user_id": 925116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/95d7a5d52210b1ce0a01ed02eb016b9b?s=128&d=identicon&r=PG", "display_name": "Raul Laasner", "link": "https://stackoverflow.com/users/925116/raul-laasner"}, "edited": false, "score": 0, "creation_date": 1427324451, "post_id": 29265164, "comment_id": 46737662, "body": "If it&#39;s Fortran, then I can vouch for my own code (see my profile), which can do what you want. Also have a look at other software under the wiki link, as some might be easier to use than others. First order reverse mode AD is probably what you need."}, {"owner": {"reputation": 15168, "user_id": 650012, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/rTDJj.png?s=128&g=1", "display_name": "Anders Gustafsson", "link": "https://stackoverflow.com/users/650012/anders-gustafsson"}, "edited": false, "score": 0, "creation_date": 1427351288, "post_id": 29265164, "comment_id": 46744594, "body": "<a href=\"http://www.autodiff.org/?module=Tools&amp;language=Fortran77\" rel=\"nofollow noreferrer\">Here</a> is another list of Fortran alternatives."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4490638"}, "is_accepted": false, "score": 1, "last_activity_date": 1427313844, "creation_date": 1427313844, "answer_id": 29265465, "question_id": 29265164, "link": "https://stackoverflow.com/questions/29265164/automatic-differentiation/29265465#29265465", "title": "Automatic differentiation", "body": "<p>Yes, you can use sympy for <a href=\"http://docs.sympy.org/latest/tutorial/calculus.html\" rel=\"nofollow\">symbolic differentiation</a> and for <a href=\"http://docs.sympy.org/dev/modules/printing.html\" rel=\"nofollow\">printing out Fortran code</a>.  Other system such as Maple can also do this.  Be aware that you can spend quite a lot of time calculating derivatives, especially if these are not optimized, and <a href=\"https://en.wikipedia.org/wiki/Numerical_differentiation\" rel=\"nofollow\">numerical differentiation</a> could be faster.</p>\n"}, {"comments": [{"owner": {"reputation": 213, "user_id": 4713319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82a6a058c8fc0cec68d5413855a5c6cf?s=128&d=identicon&r=PG&f=1", "display_name": "Syntax_ErrorX00", "link": "https://stackoverflow.com/users/4713319/syntax-errorx00"}, "edited": false, "score": 0, "creation_date": 1427318479, "post_id": 29266443, "comment_id": 46735209, "body": "Thanks sir, I can do the automatic differentiation numerically, ( using the derived Types and the overloading of operators), this works for sample functions which are defined at the evaluated points, but usually, this is not the case, where the function is more complex; if it&#39;s undefined at some points."}], "tags": [], "owner": {"reputation": 5062, "user_id": 1280439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18afee2ca2391bf36237de79d765eca4?s=128&d=identicon&r=PG", "display_name": "Ian Bush", "link": "https://stackoverflow.com/users/1280439/ian-bush"}, "is_accepted": false, "score": 4, "last_activity_date": 1427317309, "creation_date": 1427317309, "answer_id": 29266443, "question_id": 29265164, "link": "https://stackoverflow.com/questions/29265164/automatic-differentiation/29266443#29266443", "title": "Automatic differentiation", "body": "<p>Yes, by use of an appropriate algorithmic differentiation package. This is a method which can evaluate (in principle) arbitrary order derivatives of any function you have expressed as a computer program, and a number of packages exist for Fortran. Take a look at</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Automatic_differentiation\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Automatic_differentiation</a></p>\n\n<p>and</p>\n\n<p><a href=\"http://www.nag.co.uk/pss/nag-and-algorithmic-differentiation\" rel=\"nofollow\">http://www.nag.co.uk/pss/nag-and-algorithmic-differentiation</a></p>\n\n<p>to get started</p>\n\n<p>Disclaimers:</p>\n\n<p>1) I have never used it \"in anger\"</p>\n\n<p>2) Until recently I worked for NAG</p>\n"}], "owner": {"reputation": 213, "user_id": 4713319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82a6a058c8fc0cec68d5413855a5c6cf?s=128&d=identicon&r=PG&f=1", "display_name": "Syntax_ErrorX00", "link": "https://stackoverflow.com/users/4713319/syntax-errorx00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2677, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1427317309, "creation_date": 1427312919, "last_edit_date": 1427313830, "question_id": 29265164, "link": "https://stackoverflow.com/questions/29265164/automatic-differentiation", "title": "Automatic differentiation", "body": "<p>I am working on my project of graduating, particularly, about fluid dynamics and I have a system of non-linear equations to solve, I choose the Newton's method so I have to pass through the Jacobian of the matix (actually 12x12 matrix). Every element in this matrix is the derivative of the function evaluated at some point, it's very difficult to write all of these manually and calculate each derivative; the system looks like:</p>\n\n\nf<sub>1</sub> (x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub>, ..., x<sub>12</sub>) = 0 <br>\nf<sub>2</sub> (x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub>, ..., x<sub>12</sub>) = 0 <br>\n. <br>\n. <br>\n. <br>\nf<sub>12</sub> (x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub>, ..., x<sub>12</sub>) = 0\n\n\n<p><br>\nWhere x<sub>1</sub>, x<sub>2</sub>, x<sub>3</sub> are the variables (Temperature, pressure ...etc) <br>\nCan I automate this operation? If it's not possible in Fortran, can I use other scripting languages as Python (sympy module)?</p>\n"}, {"tags": ["python", "flask", "gunicorn"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 3, "last_activity_date": 1427314310, "creation_date": 1427314310, "answer_id": 29265595, "question_id": 29265044, "link": "https://stackoverflow.com/questions/29265044/how-to-run-flask-app-using-gunicorn/29265595#29265595", "title": "How to run Flask app using gunicorn?", "body": "<p>You will have issues if two things named \"app\" are in the same directory in Python's path.</p>\n\n<p>You need to pass a Flask app instance directly to gunicorn.  The command line manager is not a WSGI app, which is why you get that error.</p>\n\n<p>You can simply point gunicorn directly at a call to your app factory, there is no need for any intermediate code.</p>\n\n<pre><code>gunicorn app:create_app()\n</code></pre>\n"}], "owner": {"reputation": 1829, "user_id": 538695, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/851a64b8c41036d8747cf8f8f07ce6e4?s=128&d=identicon&r=PG", "display_name": "Deck", "link": "https://stackoverflow.com/users/538695/deck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2392, "favorite_count": 1, "accepted_answer_id": 29265595, "answer_count": 1, "score": 4, "last_activity_date": 1427314310, "creation_date": 1427312556, "question_id": 29265044, "link": "https://stackoverflow.com/questions/29265044/how-to-run-flask-app-using-gunicorn", "title": "How to run Flask app using gunicorn?", "body": "<p>The question can be devided on two separate parts.</p>\n\n<ol>\n<li><p>I have the following project stucture</p>\n\n<pre><code>|- project\n|   |-- app/ - directory with actual project code\n|   |-- app.py - imports something from app/ and call create_app\n</code></pre>\n\n<p>When I run <code>gunicorn</code> I should point him to <code>app</code> object which is actually created in <code>app.py</code>. So I get an error because gunicorn treats <code>app:app</code> as a package. The only way is to rename something?</p></li>\n<li><p>I use factory method to create app. So I import <code>create_app</code> fuction in app.py and pass it to <code>Manager</code> from <code>flask.ext.script</code>. I pass manager object to gunicorn. In this case gunicorn runs correctly but once the first request comes I get the following error:</p>\n\n<pre><code>[2015-03-25 15:38:11 +0000] [14395] [ERROR] Error handling request\nTraceback (most recent call last):\n  File \"/opt/env/local/lib/python2.7/site-packages/gunicorn/workers/async.py\", line 52, in handle\nself.handle_request(listener_name, req, client, addr)\n  File \"/opt/env/local/lib/python2.7/site-packages/gunicorn/workers/ggevent.py\", line 159, in handle_request\nsuper(GeventWorker, self).handle_request(*args)\n  File \"/opt/env/local/lib/python2.7/site-packages/gunicorn/workers/async.py\", line 105, in handle_request\n    respiter = self.wsgi(environ, resp.start_response)\nTypeError: __call__() takes at most 2 arguments (3 given)\n</code></pre>\n\n<p>Perhaps I could create some file <code>wsgi.py</code> and provide current app for gunicorn ? </p></li>\n</ol>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "edited": false, "score": 0, "creation_date": 1427313000, "post_id": 29265042, "comment_id": 46732199, "body": "your app is called <code>my_app ?</code>"}, {"owner": {"reputation": 1445, "user_id": 3390630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c695d817cd6bc5c998b74de62cda2ed3?s=128&d=identicon&r=PG&f=1", "display_name": "WayBehind", "link": "https://stackoverflow.com/users/3390630/waybehind"}, "reply_to_user": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "edited": false, "score": 0, "creation_date": 1427313077, "post_id": 29265042, "comment_id": 46732243, "body": "yes, the app is called my_app. But I get no error even if I write <code>@permission_required(&#39;blah.blah&#39;, ...</code> and I&#39;m not forwarded to the <code>&#47;login&#47;</code> page either. Its like its not even there ..."}, {"owner": {"reputation": 463, "user_id": 1797064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vvEin.jpg?s=128&g=1", "display_name": "Ilker Kesen", "link": "https://stackoverflow.com/users/1797064/ilker-kesen"}, "edited": false, "score": 2, "creation_date": 1427314705, "post_id": 29265042, "comment_id": 46733110, "body": "If your user is a superuser, then this situation is normal."}, {"owner": {"reputation": 1445, "user_id": 3390630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c695d817cd6bc5c998b74de62cda2ed3?s=128&d=identicon&r=PG&f=1", "display_name": "WayBehind", "link": "https://stackoverflow.com/users/3390630/waybehind"}, "edited": false, "score": 0, "creation_date": 1427315078, "post_id": 29265042, "comment_id": 46733338, "body": "unfortunately, the user is not superuser nor admin, just a regular user with no permissions."}, {"owner": {"reputation": 436, "user_id": 1247420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AZFcV.png?s=128&g=1", "display_name": "diek", "link": "https://stackoverflow.com/users/1247420/diek"}, "edited": false, "score": 0, "creation_date": 1505690153, "post_id": 29265042, "comment_id": 79501901, "body": "did you ever solve this? I am stuck on this exact problems"}, {"owner": {"reputation": 2475, "user_id": 1632305, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/FYMqA.jpg?s=128&g=1", "display_name": "Rashedul.Rubel", "link": "https://stackoverflow.com/users/1632305/rashedul-rubel"}, "edited": false, "score": 0, "creation_date": 1544010950, "post_id": 29265042, "comment_id": 94122911, "body": "inside permission required decorator give your model name in the &#39;change_model&#39;.  for example &#39;change_country&#39; i.e. country is the model name in this case"}], "answers": [{"tags": [], "owner": {"reputation": 2475, "user_id": 1632305, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/FYMqA.jpg?s=128&g=1", "display_name": "Rashedul.Rubel", "link": "https://stackoverflow.com/users/1632305/rashedul-rubel"}, "is_accepted": false, "score": 0, "last_activity_date": 1544011681, "creation_date": 1544011681, "answer_id": 53631976, "question_id": 29265042, "link": "https://stackoverflow.com/questions/29265042/django-permission-required-decorator-not-working/53631976#53631976", "title": "Django @permission_required Decorator not Working", "body": "<p>Inside permission required decorator give your model name in the 'change_model'. for example 'change_country' i.e. country is the model name in this case. Workflow that I followed is that, I have created a group called 'General' and given this group a permission to create countries. I also created a test user under the 'General' group. I used django administration feature. And to test the end result, I have logged in with the test user.</p>\n\n<p>It worked like a charm, sharing snipped of code below as a hint:</p>\n\n<pre><code>from django.contrib.auth.decorators import permission_required\n\n@permission_required('appname.add_country')\ndef countryCreate(request, template_name='appname/country/create.html'):\n    # your code goes here...\n</code></pre>\n"}], "owner": {"reputation": 1445, "user_id": 3390630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c695d817cd6bc5c998b74de62cda2ed3?s=128&d=identicon&r=PG&f=1", "display_name": "WayBehind", "link": "https://stackoverflow.com/users/3390630/waybehind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1845, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544011681, "creation_date": 1427312548, "last_edit_date": 1427313814, "question_id": 29265042, "link": "https://stackoverflow.com/questions/29265042/django-permission-required-decorator-not-working", "title": "Django @permission_required Decorator not Working", "body": "<p>I'm trying to use use <code>@permission_required</code> decorator and for some reason the decorator is being completely ignored. I can even misspell the permission and I get no errors, nothing. The user I'm testing is not admin and has no permissions, yet, the view is being processed like the decorator is not even there.</p>\n\n<p>What am I missing or doing wrong?</p>\n\n<pre><code>from django.contrib.auth.decorators import permission_required\n\n@permission_required('my_app.change_model', login_url=\"/login/\")\ndef myview(request):\n# my view here\n</code></pre>\n\n<p>If I'm not logged in, I'm correctly redirected to the <code>/login/</code> page. However, once I'm logged in, the permission check is being ignored and the view is processed for all logged in users without any permission. </p>\n"}, {"tags": ["python", "image", "python-2.7", "matplotlib"], "comments": [{"owner": {"reputation": 3145, "user_id": 4367286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gItAv.jpg?s=128&g=1", "display_name": "plonser", "link": "https://stackoverflow.com/users/4367286/plonser"}, "edited": false, "score": 2, "creation_date": 1427313971, "post_id": 29265031, "comment_id": 46732685, "body": "As far as I know you can not &#39;load&#39; <code>eps</code> or <code>pdf</code> figures into matplotlib and plot them again"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4709149, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102586357071698/picture?type=large", "display_name": "Robert Beach", "link": "https://stackoverflow.com/users/4709149/robert-beach"}, "is_accepted": false, "score": 1, "last_activity_date": 1427317560, "creation_date": 1427317560, "answer_id": 29266503, "question_id": 29265031, "link": "https://stackoverflow.com/questions/29265031/load-multiple-eps-images-to-matplotlib-subplot/29266503#29266503", "title": "load multiple EPS images to matplotlib subplot", "body": "<p><strong>The simple answer:</strong> save your *.eps as a raster format like *.png</p>\n\n<p><strong>A long answer :</strong> However if you like it scale-able and theh ability to modify the appearance properties, something that worked for me involved importing an .svg file using the xml.dom library. You can use Inkscape to save an eps file as an .svg. </p>\n\n<p>Take it apart and put it back together in matplotlib:</p>\n\n<p>This is an example of an svg element one might want to redraw:</p>\n\n<pre><code>&lt;polygon id=\"SimpleShape\" fill=\"none\" stroke=\"#231F20\" stroke-miterlimit=\"10\" points=\"101.3,20.5 101.3,86.5 158.5,86.5 158.5,126.9 209.5,126.9 209.5,20.5 \"/&gt;\n</code></pre>\n\n<p>First, pull in the svg as lists of vertices and appearance properties. You can pull as few or as many appearance attributes as you'd like:</p>\n\n<pre><code>from xml.dom import minidom\nfrom matplotlib.path import Path\nimport matplotlib.patches as patches\n\ndoc = minidom.parse('path_to_svg_file.svg')\n\n\n# pull the objects you want to re-plot into a dictionary \n# in my case those were any polygons \n\ngons = {}\nfor polygon in doc.getElementsByTagName('polygon'):\n    pts = polygon.getAttribute('points').split(' ')\n    label = polygon.getAttribute('id')\n\n    gons[label] = {}\n    gons[label]['pts'] = []\n\n    # build list of tuples for each point - [(x1,y1),(x2,y2)...(xn,yn)]\n    for pt in pts:\n        if len(pt) &gt; 0:\n            gons[label]['pts'].append(tuple([float(val) for val in pt.split(',')]))\n\n    # close the path by appending the last point if you need to you could also        \n    # get other information from the polygon such as color and line weight\n\n    gons[label]['pts'].append(gons[label][0])\n\n    # note the y value of a point must be inverted from inkscape*\n\n    gons[label]['pts'] = [(pt[0],-1*pt[1]) for pt in gons[label]['pts']]\n</code></pre>\n\n<p>Then, re-build the path in matplotlib</p>\n\n<pre><code>for label in gons:\n    path = Path(gons[label]['pts']\n    patch = patches.PathPatch(path, facecolor=(0,0,0), lw=1)\n    ax.add_patch(patch)\n</code></pre>\n"}], "owner": {"reputation": 289, "user_id": 2483176, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/55c645540affc36af7dcb9bcfd8ca40a?s=128&d=identicon&r=PG", "display_name": "user2483176", "link": "https://stackoverflow.com/users/2483176/user2483176"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1704, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427317560, "creation_date": 1427312521, "question_id": 29265031, "link": "https://stackoverflow.com/questions/29265031/load-multiple-eps-images-to-matplotlib-subplot", "title": "load multiple EPS images to matplotlib subplot", "body": "<p>I am trying to plot multiple eps images alongside scatter plots using the subplot command but can't seem to get the imshow command to do this.  Here is an example:</p>\n\n<pre><code>fig = figure()\nax1 = fig.add_subplot(2,2,1)\nax2 = fig.add_subplot(2,2,2)\nax3 = fig.add_subplot(2,2,3)\nax4 = fig.add_subplot(2,2,4)\n\nax1.scatter(x,y)\nax2.imshow('image.eps')\nax3.scatter(x,y)\nax4.imshow('image2.eps')\n</code></pre>\n\n<p>Any suggestions? </p>\n"}, {"tags": ["python", "decorator"], "comments": [{"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 2, "creation_date": 1427312734, "post_id": 29265022, "comment_id": 46732038, "body": "the decorator function should not be part of the class"}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 1, "creation_date": 1427312781, "post_id": 29265022, "comment_id": 46732063, "body": "that&#39;s also not how decorators should be written"}, {"owner": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427312799, "post_id": 29265022, "comment_id": 46732075, "body": "@JulienSpronck So how then I do that? The problem is that function &#39;refresh_tasks_attribute()&#39; belongs to this class."}, {"owner": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427312842, "post_id": 29265022, "comment_id": 46732098, "body": "@JulienSpronck I&#39;m new in decorators. Thanks for advice"}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427312842, "post_id": 29265022, "comment_id": 46732097, "body": "well, you don&#39;t need a decorator at all"}, {"owner": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427312877, "post_id": 29265022, "comment_id": 46732118, "body": "@JulienSpronck I know that I don&#39;t need it, but still, I&#39;m curious how to do it this way."}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1427312999, "post_id": 29265022, "comment_id": 46732198, "body": "I&#39;m not an expert in decorators but I am not sure you can use one in this case"}], "answers": [{"comments": [{"owner": {"reputation": 8106, "user_id": 129600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8304c94fad5c5a762301de60d0a9bd7e?s=128&d=identicon&r=PG", "display_name": "acushner", "link": "https://stackoverflow.com/users/129600/acushner"}, "edited": false, "score": 0, "creation_date": 1427315661, "post_id": 29265642, "comment_id": 46733688, "body": "you can do: <code>def new_func(self, *args, **kwargs):</code> and save a line."}], "tags": [], "owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "is_accepted": false, "score": 2, "last_activity_date": 1427314456, "creation_date": 1427314456, "answer_id": 29265642, "question_id": 29265022, "link": "https://stackoverflow.com/questions/29265022/error-decorator-takes-exactly-2-arguments-1-given/29265642#29265642", "title": "Error: Decorator takes exactly 2 arguments (1 given)", "body": "<p>A decorator takes a function as an argument and returns a new function.  Here's a very simple example:</p>\n\n<pre><code>def noisy(func):\n    def new_func(*args, **kwargs):\n        print \"hiyyyoooo!\"\n        func(*args, **kwargs)\n    return new_func\n</code></pre>\n\n<p>You can use it on a function that's already defined by calling it like a regular function:</p>\n\n<pre><code>myfunc_noisy = noisy(myfunc)\n</code></pre>\n\n<p>or you can use the @ syntax, but only on the definition of a function:</p>\n\n<pre><code>@noisy\ndef myfunc():\n    print \"hi\"\n</code></pre>\n\n<p>In your case, if you just want to call <code>refresh_tasks_attribute()</code> after the decorated function is called, then you really should consider how often you'd be doing that, because it might be easier to just manually call it.  If you still want to use a decorator, it would look something like this:</p>\n\n<pre><code>def database_changed(func):\n    def new_func(*args, **kwargs):\n        self = args[0]\n        return_val = func(*args, **kwargs)\n        self.refresh_tasks_attribute()\n        return return_val\n    return new_func\n</code></pre>\n"}], "owner": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1576, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427314456, "creation_date": 1427312484, "question_id": 29265022, "link": "https://stackoverflow.com/questions/29265022/error-decorator-takes-exactly-2-arguments-1-given", "title": "Error: Decorator takes exactly 2 arguments (1 given)", "body": "<p>I'm trying to make a little decorator which refreshes gui after change in the database. The problem is that I'm still getting error. It works when the function and decorator aren't parts of some class.</p>\n\n<pre><code>class Tasks_Handling_Class:\n\n    def database_changed(self,func):\n        func()\n        self.refresh_tasks_attribute()\n\n    @database_changed\n    def add_task(self,name,desc,time_minutes):\n        try:\n            self.msq.insert_into_table('tasks',name,desc,time_minutes)\n            self.refresh_tasks_attribute()\n            return True\n        except Exception as e:\n            print e\n            return False\n</code></pre>\n\n<p><strong><code>TypeError: database_changed() takes exactly 2 arguments (1 given)</code></strong></p>\n\n<p>The only thing I want to do is to run <code>self.refresh_tasks_attribute()</code> method after <code>add_task()</code> method. </p>\n\n<p>Could you give some advices?</p>\n"}]