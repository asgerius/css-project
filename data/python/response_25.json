[{"tags": ["python", "spyne"], "answers": [{"comments": [{"owner": {"reputation": 5149, "user_id": 1689770, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/78b5dcbdd9f67f569c6102e091faafeb?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1689770/jonathan"}, "reply_to_user": {"reputation": 6415, "user_id": 1520211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63756693d9b79ff633f86ff5672652e9?s=128&d=identicon&r=PG", "display_name": "Burak Arslan", "link": "https://stackoverflow.com/users/1520211/burak-arslan"}, "edited": false, "score": 0, "creation_date": 1436205480, "post_id": 31173743, "comment_id": 50502017, "body": "With the background of the XML explanation you gave, I understand why it shouldn&#39;t be default. Thanks for that, and sorry for the attitude. I do recommend it is documented on the main website in the object section, since, at least with suds, it appears to be bug since it&#39;s going in as a python object, and coming out as a wrapped object implicitly without any documentation or explanation"}], "tags": [], "owner": {"reputation": 5149, "user_id": 1689770, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/78b5dcbdd9f67f569c6102e091faafeb?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1689770/jonathan"}, "is_accepted": false, "score": -1, "last_activity_date": 1436208342, "last_edit_date": 1436208342, "creation_date": 1435796538, "answer_id": 31173743, "question_id": 31173548, "link": "https://stackoverflow.com/questions/31173548/using-python-spyne-rpc-is-there-a-way-to-return-a-native-python-list-instead-o/31173743#31173743", "title": "Using Python Spyne (RPC) is there a way to return a native python list instead of the fancy Array or Iterable?", "body": "<p>This needs to <em>at least be documented on the website when discussing arrays</em>, or, more realistically, <strong>this needs to be DEFAULT behavior</strong> per the 'principle of least astonishment'.</p>\n\n<p>There's a hard to find little variable that starts with an underscore you can use called '_body_style' and when set to the string literal 'bare' it seems to work as you would expect it to work normally:</p>\n\n<pre><code>@srpc(_returns=Array(String),_body_style='bare')    \ndef fetchRemoteList():\n    yield \"Item1\"\n    yield \"Item2\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5149, "user_id": 1689770, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/78b5dcbdd9f67f569c6102e091faafeb?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1689770/jonathan"}, "edited": false, "score": 0, "creation_date": 1436205330, "post_id": 31204133, "comment_id": 50501911, "body": "So perhaps this is a suds issue?"}, {"owner": {"reputation": 6415, "user_id": 1520211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63756693d9b79ff633f86ff5672652e9?s=128&d=identicon&r=PG", "display_name": "Burak Arslan", "link": "https://stackoverflow.com/users/1520211/burak-arslan"}, "reply_to_user": {"reputation": 5149, "user_id": 1689770, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/78b5dcbdd9f67f569c6102e091faafeb?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1689770/jonathan"}, "edited": false, "score": 0, "creation_date": 1436297468, "post_id": 31204133, "comment_id": 50549263, "body": "Depends on who you ask :) Suds gives you the xml structure verbatim, which is a feature to some."}], "tags": [], "owner": {"reputation": 6415, "user_id": 1520211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63756693d9b79ff633f86ff5672652e9?s=128&d=identicon&r=PG", "display_name": "Burak Arslan", "link": "https://stackoverflow.com/users/1520211/burak-arslan"}, "is_accepted": true, "score": 2, "last_activity_date": 1436297438, "last_edit_date": 1436297438, "creation_date": 1435918136, "answer_id": 31204133, "question_id": 31173548, "link": "https://stackoverflow.com/questions/31173548/using-python-spyne-rpc-is-there-a-way-to-return-a-native-python-list-instead-o/31204133#31204133", "title": "Using Python Spyne (RPC) is there a way to return a native python list instead of the fancy Array or Iterable?", "body": "<p>Spyne uses wrapped arrays by default, because that's what everybody else in the XML world does.</p>\n\n<p>Wrapped array:</p>\n\n<pre><code>&lt;users&gt;\n    &lt;User&gt;\n        &lt;id&gt;1&lt;/id&gt;\n        &lt;name&gt;Batman&lt;/name&gt;\n    &lt;/User&gt;\n    &lt;User&gt;\n        &lt;id&gt;2&lt;/id&gt;\n        &lt;name&gt;Robin&lt;/name&gt;\n    &lt;/User&gt;\n&lt;/users&gt;\n</code></pre>\n\n<p>Bare array:</p>\n\n<pre><code>&lt;users&gt;\n    &lt;id&gt;1&lt;/id&gt;\n    &lt;name&gt;Batman&lt;/name&gt;\n&lt;/users&gt;\n&lt;users&gt;\n    &lt;id&gt;2&lt;/id&gt;\n    &lt;name&gt;Robin&lt;/name&gt;\n&lt;/users&gt;\n</code></pre>\n\n<p>You probably can see why everybody likes wrapped arrays better now. It's a matter of convention, but surely a helpful one. Plus, it's not possible to do polymorphism with non-wrapped arrays.</p>\n\n<p>Spyne also uses wrapped functions by default, because it's not possible to have multiple arguments / return values in bare mode.</p>\n\n<p>Now the answers:</p>\n\n<ul>\n<li><p>Here's a wrapped array:</p>\n\n<pre><code>Array(Unicode)\n</code></pre>\n\n<p>Here's the equivalent bare array:</p>\n\n<pre><code>Unicode(max_occurs='unbounded')\n</code></pre>\n\n<p>In 2.12, you can also pass <code>wrapped=False</code> to Array to get bare arrays.\nEg.:</p>\n\n<pre><code>Array(Unicode, wrapped=False)\n</code></pre></li>\n<li><p>As you discovered, you can get bare functions passing <code>_body_style='bare'</code> \nto <code>@rpc</code>.</p></li>\n</ul>\n\n<p>Some SOAP clients discover what kind of function/array it is via simple heuristics and save you the trouble of using magic indexes. Apparently suds isn't one of them.</p>\n"}], "owner": {"reputation": 5149, "user_id": 1689770, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/78b5dcbdd9f67f569c6102e091faafeb?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1689770/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 874, "favorite_count": 0, "accepted_answer_id": 31204133, "answer_count": 2, "score": 0, "last_activity_date": 1436297438, "creation_date": 1435794968, "last_edit_date": 1435796355, "question_id": 31173548, "link": "https://stackoverflow.com/questions/31173548/using-python-spyne-rpc-is-there-a-way-to-return-a-native-python-list-instead-o", "title": "Using Python Spyne (RPC) is there a way to return a native python list instead of the fancy Array or Iterable?", "body": "<p>Both the Iterable and Array types seem to have a native list hidden away in them, but I find myself always doing things like:</p>\n\n<pre><code>myList = service.fetchRemoteList()[0][1] \n</code></pre>\n\n<p>Where <code>fetchRemoteList() _returns=Iterable(String)</code></p>\n\n<p>I don't want to have to put [0][1]  at the end of all my list function calls.</p>\n"}, {"tags": ["python", "django", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1435795481, "post_id": 31173542, "comment_id": 50354839, "body": "Multiple <code>Json</code> objects in a <code>Dweet</code> as seen in the dropdown."}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 2, "creation_date": 1435796488, "post_id": 31173542, "comment_id": 50355077, "body": "You&#39;re not actually putting multiple Json&#39;s in a single Dweet, it&#39;s giving you a choice of which Json to put in the Dweet. If you want multiple Json&#39;s in a given Dweet then you either need to put the ForeignKey in the Json instead of the Dweet (would make Json&#39;s non-reusable) or use a ManyToManyField (<a href=\"https://docs.djangoproject.com/en/1.8/topics/db/examples/many_to_many/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.8/topics/db/examples/many_to_ma&zwnj;&#8203;ny</a>)"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1435801007, "post_id": 31173542, "comment_id": 50356066, "body": "Thank you Crazy Costa for the clarification. I&#39;ve asked this question three times, suffered numerous unnecessary downvotes, and finally I have reached an answer."}], "tags": [], "owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "is_accepted": true, "score": 1, "last_activity_date": 1435794933, "creation_date": 1435794933, "answer_id": 31173542, "question_id": 31173484, "link": "https://stackoverflow.com/questions/31173484/adding-models-to-django-foreign-key/31173542#31173542", "title": "Adding Models to Django Foreign Key", "body": "<p>In order to use those models you can do the following:</p>\n\n<pre><code>&gt;&gt;&gt; from app.models import Json, Dweet\n&gt;&gt;&gt; a = Json(data=\"asdf\")\n&gt;&gt;&gt; a.save()\n&gt;&gt;&gt; b = Dweet(name=\"Test\", data=a)\n&gt;&gt;&gt; b.save()\n&gt;&gt;&gt; c = Dweet(name=\"Test2\", data=a)\n&gt;&gt;&gt; c.save()\n</code></pre>\n\n<p>After that you end up with one Json object and two Dweet objects that both point to said Json object. That's about as interesting as it gets with the two models you've shown us. You can add more Json objects if you like of course, but each Dweet can only point to one Json (not sure if you were asking for something different in your question).</p>\n"}, {"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1435839373, "post_id": 31184214, "comment_id": 50374007, "body": "That&#39;s not the problem. I don&#39;t care about the string representation."}], "tags": [], "owner": {"reputation": 21, "user_id": 4594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0517b7c1f9f05c3993645b95309133cc?s=128&d=identicon&r=PG&f=1", "display_name": "btechhb", "link": "https://stackoverflow.com/users/4594576/btechhb"}, "is_accepted": false, "score": 0, "last_activity_date": 1435838738, "creation_date": 1435838738, "answer_id": 31184214, "question_id": 31173484, "link": "https://stackoverflow.com/questions/31173484/adding-models-to-django-foreign-key/31184214#31184214", "title": "Adding Models to Django Foreign Key", "body": "<p>Its not clear what your problem is by the description provided but i would try to answer on the basis of what i can understand through the snapshot.</p>\n\n<p>Actually one option is not listed twice in drop down rather it represents two model objects stored in Json table, i.e. as u have specified Json as foreign key. so each time you load the form it will request a queryset (like select * from Json). so in response it will receive model objects(Number of distinct rows in respective model table). So You need to specify a <strong>unicode</strong>() method in order to display object attribute value on the place of just <strong><em>Json Object</em></strong>. So If you write a method like</p>\n\n<pre><code>class Json(models.Model):\n    data = models.TextField()\n\n    def __unicode__(self):\n    return self.data   \n</code></pre>\n\n<p>You will get the data stored in Model object i.e. <strong>data</strong>. </p>\n"}], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 31173542, "answer_count": 2, "score": 0, "last_activity_date": 1435838738, "creation_date": 1435794541, "last_edit_date": 1435836514, "question_id": 31173484, "link": "https://stackoverflow.com/questions/31173484/adding-models-to-django-foreign-key", "title": "Adding Models to Django Foreign Key", "body": "<p>I have a model with a foreign key, allowing me to reference an arbitrary amount of other models. So I can add and remove using the admin interface, but how can I do the equivalent programatically?</p>\n\n<pre><code>class Json(models.Model):\n    data = models.TextField()\n\nclass Dweet(models.Model):\n    name = models.CharField(max_length = 300)\n    data = models.ForeignKey(Json)\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/B5Zi9.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "file-io", "file-processing"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5054713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad3915a24c72354b1fdec183689e6a01?s=128&d=identicon&r=PG&f=1", "display_name": "Mandary", "link": "https://stackoverflow.com/users/5054713/mandary"}, "edited": false, "score": 0, "creation_date": 1435794480, "post_id": 31173454, "comment_id": 50354551, "body": "Yeah, it works! But is it possible to store them into the same file?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1435794724, "post_id": 31173454, "comment_id": 50354626, "body": "<code>shutil.move(&quot;new_filepath.txt&quot;, filepath)</code>?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1435795044, "post_id": 31173454, "comment_id": 50354720, "body": "Mandary: You can do relatively easy in-place file modification using the <a href=\"https://docs.python.org/3/library/fileinput.html#module-fileinput\" rel=\"nofollow noreferrer\"><code>fileinput</code></a> module."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1435795300, "post_id": 31173454, "comment_id": 50354791, "body": "@martineau ... but doesnt that require using its closure context(ie <code>with fileinput.open(asdasd)</code>?) in which case you cannot call next on its iterator? .. so that wouldnt work I dont think(at least not without some sledgehammering) ..."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1435795436, "post_id": 31173454, "comment_id": 50354829, "body": "Thanks, @JoranBeasley - it&#39;ll now overwrite the original as desired."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1435795660, "post_id": 31173454, "comment_id": 50354902, "body": "@Joran: If you can do <code>for line in f</code> where <code>f</code> is a <code>fileinput.FileInput</code> instance, you should be able to do <code>next(f)</code>."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1435853340, "post_id": 31173454, "comment_id": 50384216, "body": "oh your right ... I had just never used it like that :P"}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 2, "last_activity_date": 1435795287, "last_edit_date": 1435795287, "creation_date": 1435794336, "answer_id": 31173454, "question_id": 31173384, "link": "https://stackoverflow.com/questions/31173384/delete-lines-from-file-in-python/31173454#31173454", "title": "delete lines from file in python", "body": "<p>We can use the <code>next()</code> function to get the next element in the file iterable. The <code>shutil</code> module allows us to move the new file, overwriting the original (thanks @JoranBeasley).</p>\n\n<pre><code>import shutil\n\nwith open(filePath, 'r') as f, open('new_' + filePath, 'w') as output:\n    for line in f:\n        n = next(f)\n        if n != '0\\n':\n            output.write(line+n)\n\nshutil.move(\"new_\" + filePath, filePath)\n</code></pre>\n\n<p>Input:</p>\n\n<pre><code>0.13297254902 0.324803921569 0.434835294118 ...#many floats in one line\n0\n0.377305882353 0.595870588235 0.353215686275 ...\n1 #0/1 for the second line\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0.377305882353 0.595870588235 0.353215686275 ...\n1 #0/1 for the second line\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5054713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad3915a24c72354b1fdec183689e6a01?s=128&d=identicon&r=PG&f=1", "display_name": "Mandary", "link": "https://stackoverflow.com/users/5054713/mandary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 31173454, "answer_count": 1, "score": 0, "last_activity_date": 1435795287, "creation_date": 1435793862, "question_id": 31173384, "link": "https://stackoverflow.com/questions/31173384/delete-lines-from-file-in-python", "title": "delete lines from file in python", "body": "<p>I have a file formated like this\uff1a</p>\n\n<pre><code>#1  0.13297254902 0.324803921569 0.434835294118 ...#many floats in one line\n#2  0\n#3  0.377305882353 0.595870588235 0.353215686275 ...\n#4  1 #0/1 for the second line \n#5  ....\n</code></pre>\n\n<p>I want to process the file so that all blocks with second line is 0 can be deleted and left the file as</p>\n\n<pre><code>#1  0.377305882353 0.595870588235 0.353215686275 ...\n#2  1\n#3  0.403529411765 0.341654901961 0.379278431373 ... \n#4  1 #now they are all 1s\n#5  .....\n</code></pre>\n\n<p>I tried the snippet below, but it can only see the 0/1 then remove the line, but I want to delete the line with floats above 0/1, not the line with floats below 0/1.</p>\n\n<pre><code>f = open(filePath, \"r\")\nlines = f.readlines()\nf.close()\nf = open(filePath, \"w\")\n\nfor line in lines:\n    if \"1\\n\" in line:\n        f.write(line)\n</code></pre>\n\n<p>Is there any other way I can choose which line to include and which not?\nOr maybe there's a way to process the file backwards?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 1, "last_activity_date": 1435794710, "creation_date": 1435794710, "answer_id": 31173519, "question_id": 31173379, "link": "https://stackoverflow.com/questions/31173379/pandas-dataframe-format-from-elements-with-multiple-identifiers/31173519#31173519", "title": "pandas dataframe format from elements with multiple identifiers", "body": "<p>It really depends what kind of calculations you want to do on your data.</p>\n\n<p>If you simply skip the first row, your csv will be read in as:</p>\n\n<pre><code>  Serial Timestamp  Height   Width   Score  Height.1  Width.1  Score.1  ....\n0  FA125   2015_05     215  125.01  156.02    235.23   862.23   135.52  ....\n</code></pre>\n\n<p>which may be sufficient for your needs.</p>\n"}, {"tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 1, "last_activity_date": 1435816466, "creation_date": 1435816466, "answer_id": 31176545, "question_id": 31173379, "link": "https://stackoverflow.com/questions/31173379/pandas-dataframe-format-from-elements-with-multiple-identifiers/31176545#31176545", "title": "pandas dataframe format from elements with multiple identifiers", "body": "<pre><code>import pandas as pd\nimport numpy as np\n# just to create a string buffer, you don't need this if you have csv file\nfrom io import StringIO  \n\n# replicate your csv file structure\nline1 = ','.join(['slot' + str(x) for x in range(3)]) + '\\n'\nline2 = 'Serial,Timestamp,' + ','.join(['Height', 'Width', 'Score']*3) + '\\n'\nnp.random.seed(0)\ndata = np.random.randint(100, 1000, size=9)\nline3 =  'FA125,2015_5,'+','.join([str(x) for x in data]) + '\\n'\ncsv_buffer = line1+line2+line3\n\nOut[40]: 'slot0,slot1,slot2\\nSerial,Timestamp,Height,Width,Score,Height,Width,Score,Height,Width,Score\\nFA125,2015_5,784,659,729,292,935,863,807,459,109\\n'\n\n\n# read your file, set the first 2 columns as index, the rest using multi-level column index\nlevel1 = ['slot'+str(x) for x in range(3)]\nlevel2 = ['Height', 'Width', 'Score']\nmulti_level_columns = pd.MultiIndex.from_product([level1, level2])\n\ndf = pd.read_csv(StringIO(csv_buffer), index_col=[0,1], skiprows=[0], header=0)\ndf.columns = multi_level_columns\n\nOut[62]: \n                  slot0              slot1              slot2            \n                 Height Width Score Height Width Score Height Width Score\nSerial Timestamp                                                         \nFA125  2015_5       784   659   729    292   935   863    807   459   109\n\n# you can reshape the original df \ndf.stack(level=0)\n\nOut[63]: \n                        Height  Score  Width\nSerial Timestamp                            \nFA125  2015_5    slot0     784    729    659\n                 slot1     292    863    935\n                 slot2     807    109    459\n</code></pre>\n"}], "owner": {"reputation": 2772, "user_id": 2256010, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/09ff15ec3ceea6fbceac3c50ea2daa9b?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/2256010/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 31176545, "answer_count": 2, "score": 0, "last_activity_date": 1435816466, "creation_date": 1435793830, "last_edit_date": 1435794689, "question_id": 31173379, "link": "https://stackoverflow.com/questions/31173379/pandas-dataframe-format-from-elements-with-multiple-identifiers", "title": "pandas dataframe format from elements with multiple identifiers", "body": "<p>I have a CSV file with the following format.  Imagine the white spaces are comma seperated.</p>\n\n<pre><code>                                    slot0                          slot1  \nSerial     Timestamp     Height     Width     Score     Height     Width     Score    ....\nFA125       2015_05      215.00     125.01    156.02    235.23     862.23    135.52   ....\n</code></pre>\n\n<p>This goes on for thousands of rows and repeats for many slot#'s with this pattern.  The slot# is associated with a \"Height, Width, and Score\" who it is centered on.  That is, slot0 corresponds to the first Height, Width and Score and slot1 corresponds to the second Height, Width and Score.  Each slot has three measurements.</p>\n\n<p>I'm having trouble finding the best way to stick this data into a pandas.DataFrame where I associate the slot number to particular heights, widths and scores, but especially the Serial or Timestamps.  </p>\n\n<p>One thing I have thought of was something like this, but it's not as clear if I can do better.</p>\n\n<pre><code>Serial     Timestamp  s0_Height  s0_Width  s0_Score  s1_Height  s1_Width  s1_score  ....\nFA125       2015_05    215.00     125.01    156.02     235.23     862.23   135.52   ....\n</code></pre>\n\n<p>It seems a little awkard in this form, but if it's the only way I guess I can manage.</p>\n\n<pre><code># Maybe something like this?\npd.DataFrame({'FSJ1503007N-ct0': ['20150311_021738', 140, 123, 213]}, ['timestamp', 's0_height', 's0_score', 's0_width'])\n</code></pre>\n\n<p>Keep in mind I can adapt the CSV in any way to instantiate the DataFrame, but the problem its that I'm not sure the best way to create the DataFrame with this data.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "django", "list", "dictionary"], "comments": [{"owner": {"reputation": 1128, "user_id": 5045738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qaIAHMHChvQ/AAAAAAAAAAI/AAAAAAAAABc/HaAvc-Vpqc4/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/5045738/james"}, "edited": false, "score": 0, "creation_date": 1435793771, "post_id": 31173325, "comment_id": 50354378, "body": "I&#39;m not sure I understand the behavior that you want.  How do you compare two dicts with arbitrary &#39;id&#39; and &#39;type&#39; fields?  Do you want to sort by one of the fields first, and if they are the same, then sort by the second field?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1435794419, "post_id": 31173325, "comment_id": 50354537, "body": "<code>sorted(...,key=(type,id),reverse=True)</code> is what he shows in his example"}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 1, "last_activity_date": 1476688868, "last_edit_date": 1476688868, "creation_date": 1435793684, "answer_id": 31173353, "question_id": 31173325, "link": "https://stackoverflow.com/questions/31173325/how-to-sort-dict-list-with-multiple-key-attributes-python/31173353#31173353", "title": "How to sort dict list with multiple key attributes - python", "body": "<pre><code>seen_items = set()\nfiltered_dictlist = (x for x in dict_list \n                     if (x[\"id\"], x[\"type\"]) not in seen_items \n                     and not seen_items.add((x[\"id\"], x[\"type\"])))\nsorted_list = sorted(filtered_dictlist,\n                     key=lambda x: (x[\"type\"], x[\"id\"]),\n                     reverse=True)\n</code></pre>\n\n<p>I think should first filter and then sort it how you want ...</p>\n\n<p>you can use itemgetter to make it more elegant</p>\n\n<pre><code>from operator import itemgetter\nmy_getter = itemgetter(\"type\", \"id\")\nseen_items = set()\nfiltered_values = [x for x in dict_list \n                   if my_getter(x) not in seen_items \n                   and not seen_items.add(my_getter(x))]\nsorted_list = sorted(filtered_dictlist, key=my_getter, reverse=True)\n</code></pre>\n"}], "owner": {"reputation": 886, "user_id": 2593017, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4b24f3f699355bf60ce8b14e97a84013?s=128&d=identicon&r=PG", "display_name": "masanorinyo", "link": "https://stackoverflow.com/users/2593017/masanorinyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 1, "accepted_answer_id": 31173353, "answer_count": 1, "score": 1, "last_activity_date": 1476688868, "creation_date": 1435793539, "question_id": 31173325, "link": "https://stackoverflow.com/questions/31173325/how-to-sort-dict-list-with-multiple-key-attributes-python", "title": "How to sort dict list with multiple key attributes - python", "body": "<p>I am trying to sort list dict based on two key parameters\u3000- \"id\" and \"type\". Imagine you have a list like the below</p>\n\n<pre><code>dict_list = [\n    { \"id\" : 1, \"type\" : \"snippet\", \"attribute\" :'test'},\n    { \"id\" : 2, \"type\" : \"snippet\", \"attribute\" :'hello'},\n    { \"id\" : 1, \"type\" : \"code\", \"attribute\" : 'wow'},\n    { \"id\" : 2, \"type\" : \"snippet\", \"attribute\" :'hello'},\n ]\n</code></pre>\n\n<p>The end result should be like this.</p>\n\n<pre><code>dict_list = [\n    { \"id\" : 1, \"type\" : \"snippet\",\u3000\"attribute\" : 'test'\u3000},\n    {\u3000\"id\" : 2,\u3000\"type\" : \"snippet\",\u3000\"attribute\" :\u3000'hello'\u3000},\n    {\u3000\"id\" : 1,\u3000\"type\" : \"code\",\u3000\"attribute\" : 'wow'\u3000},\n]\n</code></pre>\n\n<p>I tried this method but it only produces a unique list based on only \"key\" attribute.  </p>\n\n<pre><code>unique_list = {v['id'] and v['type']:v  for v in dict_list}.values()\n</code></pre>\n\n<p>How can I generate a unique list based on two key parameters?</p>\n"}, {"tags": ["python", "python-click"], "answers": [{"tags": [], "owner": {"reputation": 2366, "user_id": 484430, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d1c93083fe659ce6bf7af2af44613d95?s=128&d=identicon&r=PG", "display_name": "Chris Betti", "link": "https://stackoverflow.com/users/484430/chris-betti"}, "is_accepted": true, "score": 38, "last_activity_date": 1458836233, "last_edit_date": 1458836233, "creation_date": 1435793449, "answer_id": 31173309, "question_id": 31173308, "link": "https://stackoverflow.com/questions/31173308/why-does-my-use-of-click-argument-produce-got-an-unexpected-keyword-argument-h/31173309#31173309", "title": "Why does my use of click.argument produce &quot;got an unexpected keyword argument &#39;help&#39;?", "body": "<p>I run into this again and again because the trace output does not correspond to the parameter causing the error. Notice <code>ArgumentClass</code> in the trace, that's your hint.</p>\n\n<p>'help' is an acceptable parameter to <code>@click.option</code>. The click library prefers, however, that you document your own arguments. The <code>@click.argument</code> <code>help</code> parameter is causing this exception.</p>\n\n<p>This code works: (notice the lack of <code>, help=\"start|stop|restart\"</code> in <code>@click.argument</code>)</p>\n\n<pre><code>import click\n\n@click.command()\n@click.argument('command', required=1)\n@click.option('--debug/--no-debug', default=False, help=\"Run in foreground\")\ndef main(command, debug):\n    \"\"\" COMMAND: start|stop|restart \"\"\"\n    print (command)\n    print (debug)\n\nif __name__ == '__main__':\n        main()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ python3 foo.py start\nstart\nFalse\n</code></pre>\n\n<p>Help Output:</p>\n\n<pre><code>Usage: test.py [OPTIONS] COMMAND\n\n  COMMAND: start|stop|restart\n\nOptions:\n  --debug / --no-debug  Run in foreground\n  --help                Show this message and exit.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2366, "user_id": 484430, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d1c93083fe659ce6bf7af2af44613d95?s=128&d=identicon&r=PG", "display_name": "Chris Betti", "link": "https://stackoverflow.com/users/484430/chris-betti"}, "edited": false, "score": 0, "creation_date": 1439840638, "post_id": 32051801, "comment_id": 52015721, "body": "If you <code>&quot;&quot;&quot;</code> document the function annotated with @click.command, that content will appear in the --help message. Click doesn&#39;t provide a way to associate help text with arguments at all, so writing a free-form description seems to be the only way."}, {"owner": {"reputation": 589, "user_id": 1805725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa8cc4c41e5b4ad832bc8c75d00f186?s=128&d=identicon&r=PG", "display_name": "bartaelterman", "link": "https://stackoverflow.com/users/1805725/bartaelterman"}, "reply_to_user": {"reputation": 2366, "user_id": 484430, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d1c93083fe659ce6bf7af2af44613d95?s=128&d=identicon&r=PG", "display_name": "Chris Betti", "link": "https://stackoverflow.com/users/484430/chris-betti"}, "edited": false, "score": 6, "creation_date": 1439971551, "post_id": 32051801, "comment_id": 52074626, "body": "Indeed. I also found documentation <a href=\"http://click.pocoo.org/4/documentation/\" rel=\"nofollow noreferrer\">here</a> saying: <code>This is to follow the general convention of Unix tools of using arguments for only the most necessary things and to document them in the introduction text by referring to them by name.</code>"}, {"owner": {"reputation": 407, "user_id": 8103477, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FeX-ojwd-30/AAAAAAAAAAI/AAAAAAAAAL4/QU9-8neTUFM/photo.jpg?sz=128", "display_name": "David Foster", "link": "https://stackoverflow.com/users/8103477/david-foster"}, "edited": false, "score": 0, "creation_date": 1605358314, "post_id": 32051801, "comment_id": 114628667, "body": "You can add these commands to <code>main</code> as the decorator by using <code>@main.command()</code> instead of <code>@click.command()</code>."}], "tags": [], "owner": {"reputation": 589, "user_id": 1805725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa8cc4c41e5b4ad832bc8c75d00f186?s=128&d=identicon&r=PG", "display_name": "bartaelterman", "link": "https://stackoverflow.com/users/1805725/bartaelterman"}, "is_accepted": false, "score": 4, "last_activity_date": 1439818424, "creation_date": 1439818424, "answer_id": 32051801, "question_id": 31173308, "link": "https://stackoverflow.com/questions/31173308/why-does-my-use-of-click-argument-produce-got-an-unexpected-keyword-argument-h/32051801#32051801", "title": "Why does my use of click.argument produce &quot;got an unexpected keyword argument &#39;help&#39;?", "body": "<p>You are defining commands as arguments. Note that click has a better way to define commands then what you are trying here.</p>\n\n<pre><code>@click.group()\ndef main():\n    pass\n\n@click.command()\ndef start():\n    print \"running command `start`\"\n\n@click.command()\ndef stop():\n    print \"running command `stop`\"\n\nmain.add_command(start)\nmain.add_command(stop)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>will result in the following default help text:</p>\n\n<pre><code>Usage: test.py [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  --help  Show this message and exit.\n\nCommands:\n  start\n  stop\n</code></pre>\n\n<p>Having said that, should you really need arguments, you cannot use the <code>help</code> parameter. The click documentation indeed states that you should document your own arguments. However, I have no idea how to do that. Any hints?</p>\n"}, {"tags": [], "owner": {"reputation": 604, "user_id": 3263650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8729e793e2f3f4cb1a316985eb37d329?s=128&d=identicon&r=PG&f=1", "display_name": "jmcgrath207", "link": "https://stackoverflow.com/users/3263650/jmcgrath207"}, "is_accepted": false, "score": 1, "last_activity_date": 1517213982, "creation_date": 1517213982, "answer_id": 48497022, "question_id": 31173308, "link": "https://stackoverflow.com/questions/31173308/why-does-my-use-of-click-argument-produce-got-an-unexpected-keyword-argument-h/48497022#48497022", "title": "Why does my use of click.argument produce &quot;got an unexpected keyword argument &#39;help&#39;?", "body": "<p>For me it was because my variable looked like <code>DnsCryptExractDir</code> and I have to chnage it too this <code>dnscryptexractdir</code> because *args could not find it.</p>\n"}, {"comments": [{"owner": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "edited": false, "score": 1, "creation_date": 1527529577, "post_id": 50569721, "comment_id": 88152351, "body": "What does <code>WAD</code> mean ?"}, {"owner": {"reputation": 41, "user_id": 9728893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4889077ed710b6b255bff1334e4c63de?s=128&d=identicon&r=PG&f=1", "display_name": "derwyddon", "link": "https://stackoverflow.com/users/9728893/derwyddon"}, "reply_to_user": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "edited": false, "score": 2, "creation_date": 1527584736, "post_id": 50569721, "comment_id": 88169864, "body": "&quot;Works as designed&quot; <a href=\"https://www.acronymfinder.com/Works-As-Designed-(WAD).html\" rel=\"nofollow noreferrer\">acronymfinder.com/Works-As-Designed-(WAD).html</a>. Typically used by software and hardware manufacturers to avoid change a specific product behaviour: it means, the product is doing what is expected."}], "tags": [], "owner": {"reputation": 41, "user_id": 9728893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4889077ed710b6b255bff1334e4c63de?s=128&d=identicon&r=PG&f=1", "display_name": "derwyddon", "link": "https://stackoverflow.com/users/9728893/derwyddon"}, "is_accepted": false, "score": 3, "last_activity_date": 1527584952, "last_edit_date": 1527584952, "creation_date": 1527521982, "answer_id": 50569721, "question_id": 31173308, "link": "https://stackoverflow.com/questions/31173308/why-does-my-use-of-click-argument-produce-got-an-unexpected-keyword-argument-h/50569721#50569721", "title": "Why does my use of click.argument produce &quot;got an unexpected keyword argument &#39;help&#39;?", "body": "<p>click library does not allow <code>-help</code> parameter inside <code>click.arguments</code> (including the current version <strong>6.7</strong> when this comment has been written).\nBut, you can use the <code>-help</code> parameter inside <code>click.options</code>.<br>\nYou can check current click documentation at <a href=\"http://click.pocoo.org/6/documentation/\" rel=\"nofollow noreferrer\">http://click.pocoo.org/6/documentation/</a> or previous at <a href=\"http://click.pocoo.org/5/documentation/\" rel=\"nofollow noreferrer\">http://click.pocoo.org/5/documentation/</a> this behaviour has not change recently.\nThen, it is a WAD. It is not a BUG.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 1874480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17541bcf3d80a99f1c246c5537edb8e?s=128&d=identicon&r=PG", "display_name": "user1874480", "link": "https://stackoverflow.com/users/1874480/user1874480"}, "is_accepted": false, "score": 1, "last_activity_date": 1537309171, "creation_date": 1537309171, "answer_id": 52395346, "question_id": 31173308, "link": "https://stackoverflow.com/questions/31173308/why-does-my-use-of-click-argument-produce-got-an-unexpected-keyword-argument-h/52395346#52395346", "title": "Why does my use of click.argument produce &quot;got an unexpected keyword argument &#39;help&#39;?", "body": "<p>For same error I got it because my argument name was url_Hook (camelCase). After I changed it to url_hook it got resolved.</p>\n"}], "owner": {"reputation": 2366, "user_id": 484430, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d1c93083fe659ce6bf7af2af44613d95?s=128&d=identicon&r=PG", "display_name": "Chris Betti", "link": "https://stackoverflow.com/users/484430/chris-betti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18118, "favorite_count": 0, "protected_date": 1558739465, "accepted_answer_id": 31173309, "answer_count": 5, "score": 27, "last_activity_date": 1537309171, "creation_date": 1435793449, "last_edit_date": 1514589900, "question_id": 31173308, "link": "https://stackoverflow.com/questions/31173308/why-does-my-use-of-click-argument-produce-got-an-unexpected-keyword-argument-h", "title": "Why does my use of click.argument produce &quot;got an unexpected keyword argument &#39;help&#39;?", "body": "<p>Running the following code results in this error:</p>\n\n<blockquote>\n  <p>TypeError: <strong>init</strong>() got an unexpected keyword argument 'help'</p>\n</blockquote>\n\n<h3>Code:</h3>\n\n<pre><code>import click\n\n@click.command()\n@click.argument('command', required=1, help=\"start|stop|restart\")\n@click.option('--debug/--no-debug', default=False, help=\"Run in foreground\")\ndef main(command, debug):\n    print (command)\n    print (debug)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<h3>Full error output:</h3>\n\n<pre><code>$ python3 foo.py start\nTraceback (most recent call last):\n  File \"foo.py\", line 5, in &lt;module&gt;\n    @click.option('--debug/--no-debug', default=False, help=\"Run in foreground\")\n  File \"/home/cbetti/python/lib/python3/dist-packages/click-4.0-py3.4.egg/click/decorators.py\", line 148, in decorator\n    _param_memo(f, ArgumentClass(param_decls, **attrs))\n  File \"/home/cbetti/python/lib/python3/dist-packages/click-4.0-py3.4.egg/click/core.py\", line 1618, in __init__\n    Parameter.__init__(self, param_decls, required=required, **attrs)\nTypeError: __init__() got an unexpected keyword argument 'help'\n</code></pre>\n\n<p>Why does this error occur?</p>\n"}, {"tags": ["python", "scroll", "tkinter", "scrollbar", "tk"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1435793543, "post_id": 31173292, "comment_id": 50354324, "body": "It&#39;s just what it says on the tin: <code>Label</code> objects don&#39;t have a <code>yview</code> and are therefore not scrollable. You&#39;ll have to cobble something together with scrollable widgets. Keep in mind that <code>Label</code> isn&#39;t intended to display anything more than a label - <code>Message</code> is more suited to larger blocks of text. If it&#39;s so big that it needs to scroll, try a <code>Text</code> object (you can disable it to prevent modification if you want)."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1435795618, "post_id": 31173292, "comment_id": 50354887, "body": "You could do the text wrapping yourself. Just take a character off the front of string and put it on the end of the string and set the text again. It may have a side effect that it will appear to go faster and slower due to the difference in character widths. It should work though."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1435796109, "post_id": 31173292, "comment_id": 50354995, "body": "Hacking together an emulated scrollbar to shoehorn an inappropriate widget into the program will cause pain. I highly recommend using a <code>Text</code> widget as @Bryan and I are suggesting, as it&#39;s intended for larger blocks of text and it&#39;s compatible with <code>Scrollbar</code>."}, {"owner": {"reputation": 12228, "user_id": 183132, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/db57bc42e6fbc602fc94df4a783200a0?s=128&d=identicon&r=PG", "display_name": "gcb", "link": "https://stackoverflow.com/users/183132/gcb"}, "edited": false, "score": 0, "creation_date": 1435797668, "post_id": 31173292, "comment_id": 50355320, "body": "So, absolutely no combination of easy scroll + content from a variable?"}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1435796144, "creation_date": 1435796144, "answer_id": 31173694, "question_id": 31173292, "link": "https://stackoverflow.com/questions/31173292/how-can-i-scroll-text-on-a-python-tk-tinker-label/31173694#31173694", "title": "how can i scroll text on a python tk/tinker Label?", "body": "<p>No, there isn't an easy way to scroll a label. If you need to scroll multiple lines, a label is the wrong choice of widget. If you need to scroll multiple lines of text, the text widget is the proper widget. </p>\n"}], "owner": {"reputation": 12228, "user_id": 183132, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/db57bc42e6fbc602fc94df4a783200a0?s=128&d=identicon&r=PG", "display_name": "gcb", "link": "https://stackoverflow.com/users/183132/gcb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 523, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435796144, "creation_date": 1435793385, "question_id": 31173292, "link": "https://stackoverflow.com/questions/31173292/how-can-i-scroll-text-on-a-python-tk-tinker-label", "title": "how can i scroll text on a python tk/tinker Label?", "body": "<p>I'm trying to add a simple log output to a tk window/frame.</p>\n\n<p>So far i only found how to (easily) add a vertical scrollbar on <code>canvas</code>, entry lists and <code>text</code> (which is a fullblown text editor and has no <code>textvariable</code> linking support)</p>\n\n<p>The <code>Label</code> can't be attached to a <code>scrollbar</code> (easily) because it lacks the <code>yview</code> attribute.</p>\n\n<pre><code>#my naive attempt:...\nself.lbl_log = tk.Label(self, width=80, height=10, textvariable=self.string_log)\nself.lbl_log.pack(side=\"top\")\nself.vsb = tk.Scrollbar(self, orient=\"vertical\", command=self.lbl_log.yview)\nself.lbl_log.configure(yscrollcommand=self.vsb.set)\n</code></pre>\n\n<blockquote>\n  <p>AttributeError: 'Label' object has no attribute 'yview'</p>\n</blockquote>\n\n<p>is there any easy and convenient way to scroll a label widget with several lines in python tk? I don't necessarily have to use a <code>Label</code> i just like it because it is simple and has the <code>textvariable</code> convenience) so i'm open to alternative widgets for this problem.</p>\n"}, {"tags": ["python", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 5067319, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryBvt.jpg?s=128&g=1", "display_name": "talmosko", "link": "https://stackoverflow.com/users/5067319/talmosko"}, "edited": false, "score": 0, "creation_date": 1435794786, "post_id": 31173347, "comment_id": 50354642, "body": "the problem is not that i got nothing as response?"}, {"owner": {"reputation": 3807, "user_id": 263989, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f23764d7a9cccf6a06c2fd40f0a5e59d?s=128&d=identicon&r=PG", "display_name": "fasouto", "link": "https://stackoverflow.com/users/263989/fasouto"}, "reply_to_user": {"reputation": 93, "user_id": 5067319, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryBvt.jpg?s=128&g=1", "display_name": "talmosko", "link": "https://stackoverflow.com/users/5067319/talmosko"}, "edited": false, "score": 0, "creation_date": 1435795000, "post_id": 31173347, "comment_id": 50354704, "body": "You are writing an scraper, in the same site some pages could have a piece of information while others don&#39;t. I won&#39;t check if all the pages in tripadvisor have &#39;state&#39;"}], "tags": [], "owner": {"reputation": 3807, "user_id": 263989, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f23764d7a9cccf6a06c2fd40f0a5e59d?s=128&d=identicon&r=PG", "display_name": "fasouto", "link": "https://stackoverflow.com/users/263989/fasouto"}, "is_accepted": false, "score": 2, "last_activity_date": 1435793661, "last_edit_date": 1495542106, "creation_date": 1435793661, "answer_id": 31173347, "question_id": 31173265, "link": "https://stackoverflow.com/questions/31173265/scrapy-error-spider-error-processing/31173347#31173347", "title": "Scrapy: ERROR: Spider error processing", "body": "<p>You are trying to access an element that doesn't exist, the error is in this line</p>\n\n<pre><code>item['state'] =  hxs.xpath('//*[@id=\"PAGE\"]/div[2]/div[1]/ul/li[2]/a/span/text()').extract()[0].encode('ascii', errors='ignore')\n</code></pre>\n\n<p>Problably </p>\n\n<pre><code>item['state'] =  hxs.xpath('//*[@id=\"PAGE\"]/div[2]/div[1]/ul/li[2]/a/span/text()').extract()\n</code></pre>\n\n<p>is empty and you are trying to access the first element. You have two options:</p>\n\n<ul>\n<li>Modify the selector so it always return some data, it could be a good idea to test it with the <a href=\"http://doc.scrapy.org/en/latest/topics/shell.html\" rel=\"nofollow noreferrer\">Scrapy shell</a></li>\n<li><a href=\"https://stackoverflow.com/a/11902480/263989\">Try and catch the IndexError</a></li>\n</ul>\n"}], "owner": {"reputation": 93, "user_id": 5067319, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryBvt.jpg?s=128&g=1", "display_name": "talmosko", "link": "https://stackoverflow.com/users/5067319/talmosko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11930, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534669521, "creation_date": 1435793139, "last_edit_date": 1534669521, "question_id": 31173265, "link": "https://stackoverflow.com/questions/31173265/scrapy-error-spider-error-processing", "title": "Scrapy: ERROR: Spider error processing", "body": "<p>i am new in python &amp; scrapy. \ni tried to run existing code, but i got this error on every address:</p>\n\n<pre><code>&gt;     2015-07-02 01:52:19 [scrapy] DEBUG: Crawled (200) &lt;GET http://www.tripadvisor.com/ShowUserReviews-g187147-d197524-r281927613-Hotel_Mirific_Opera-Paris_Ile_de_France.html&gt;\n&gt; (referer:\n&gt; http://www.tripadvisor.com/Hotel_Review-g187147-d197524-Reviews-Hotel_Mirific_Opera-Paris_Ile_de_France.html)2015-07-02\n&gt; 01:52:19 \n&gt;     [scrapy] ERROR: Spider error processing &lt;GET http://www.tripadvisor.com/ShowUserReviews-g187147-d197524-r281927613-Hotel_Mirific_Opera-Paris_Ile_de_France.html&gt;\n&gt; (referer:\n&gt; http://www.tripadvisor.com/Hotel_Review-g187147-d197524-Reviews-Hotel_Mirific_Opera-Paris_Ile_de_France.html)\n&gt; \n    &gt; Traceback (most recent call last):   File\n    &gt; \"/usr/local/lib/python2.7/dist-packages/scrapy/utils/defer.py\", line\n    &gt; 102, in iter_errback\n    &gt;     yield next(it)   File \"/usr/local/lib/python2.7/dist-packages/scrapy/spidermiddlewares/offsite.py\",\n    &gt; line 28, in process_spider_output\n    &gt;     for x in result:   File \"/usr/local/lib/python2.7/dist-packages/scrapy/spidermiddlewares/referer.py\",\n    &gt; line 22, in &lt;genexpr&gt;\n    &gt;     return (_set_referer(r) for r in result or ())   File \"/usr/local/lib/python2.7/dist-packages/scrapy/spidermiddlewares/urllength.py\",\n    &gt; line 37, in &lt;genexpr&gt;\n    &gt;     return (r for r in result or () if _filter(r))   File \"/usr/local/lib/python2.7/dist-packages/scrapy/spidermiddlewares/depth.py\",\n    &gt; line 54, in &lt;genexpr&gt;\n    &gt;     return (r for r in result or () if _filter(r))   File \"/usr/local/lib/python2.7/dist-packages/scrapy/spiders/crawl.py\", line\n    &gt; 67, in _parse_response\n    &gt;     cb_res = callback(response, **cb_kwargs) or ()   File \"/home/talmosko/Documents/scrapy/tripAdvisor/spiders/tripAdvisor.py\",\n    &gt; line 30, in parse_item\n    &gt;      item['state'] =  hxs.xpath('//*[@id=\"PAGE\"]/div[2]/div[1]/ul/li[2]/a/span/text()').extract()[0].encode('ascii',\n    &gt; errors='ignore')\n    &gt; \n    &gt; IndexError: list index out of range\n</code></pre>\n\n<p>this is my code:\n<a href=\"http://pastebin.com/XzM5DrDD\" rel=\"nofollow noreferrer\">http://pastebin.com/XzM5DrDD</a></p>\n\n<p>What is the problem? it seems like the spide didnt get an answer..</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1435792773, "post_id": 31173162, "comment_id": 50354141, "body": "I tidied up your code formatting, but I noticed that <code>target[\u2019COLA&#39;][index]=tup[0]</code> was indented - was this an error in the original question formatting (if so, please edit your question) or is this one source of error?"}, {"owner": {"reputation": 35, "user_id": 5071633, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4ff0c597fc7410eeaeb16fb385628eb4?s=128&d=identicon&r=PG&f=1", "display_name": "Jenny Bunge", "link": "https://stackoverflow.com/users/5071633/jenny-bunge"}, "reply_to_user": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1435792874, "post_id": 31173162, "comment_id": 50354166, "body": "@KenY-N error in question formatting! Thanks!!"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1435793233, "post_id": 31173162, "comment_id": 50354246, "body": "Instead of telling us that &quot;the code above doesn&#39;t work&quot; and just &quot;crashes,&quot; provide as much information you can about what actually happened when you ran the code, including the full traceback (error message). This greatly speeds up the troubleshooting process (and will also help prevent your question from getting closed)."}], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 3959, "user_id": 453168, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d121be07179edcb707ba21efc6fb0a3e?s=128&d=identicon&r=PG", "display_name": "kaveman", "link": "https://stackoverflow.com/users/453168/kaveman"}, "edited": false, "score": 0, "creation_date": 1435823678, "post_id": 31173260, "comment_id": 50363507, "body": "If the code is as shown in the snippet, it won&#39;t run properly due to the smart quotes. If new information is added that invalidates this, I&#39;ll take appropriate action."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1435793115, "creation_date": 1435793115, "answer_id": 31173260, "question_id": 31173162, "link": "https://stackoverflow.com/questions/31173162/python-data-table/31173260#31173260", "title": "Python Data table", "body": "<p>Your code is peppered with \"smart quotes\": <code>\u201c\u201d</code> instead of <code>\"</code> and <code>\u2018\u2019</code> instead of <code>'</code>. Remove them all and replace them with the corresponding straight (\"dumb\") quotes, as only straight quotes have the Python meaning you're looking for.</p>\n"}], "owner": {"reputation": 35, "user_id": 5071633, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4ff0c597fc7410eeaeb16fb385628eb4?s=128&d=identicon&r=PG&f=1", "display_name": "Jenny Bunge", "link": "https://stackoverflow.com/users/5071633/jenny-bunge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435793115, "creation_date": 1435792371, "last_edit_date": 1435792832, "question_id": 31173162, "link": "https://stackoverflow.com/questions/31173162/python-data-table", "title": "Python Data table", "body": "<p>I have a data textfile called \u201cdata\u201d that is delimited by comma in each row.</p>\n\n<p>The first three lines of the file look like the following:</p>\n\n<pre><code>\u201c(1,ABC,ABCDE)\u201d,\u201d24\u201d\n\u201c(10,ABD,ABC11)\u201d,\u201d12\u201d\n\u201c(6,ABE,ABERD)\u201d,\u201d39\u201d\n</code></pre>\n\n<p>In the file, values in each row are string and integer.</p>\n\n<p>I first read the file:</p>\n\n<pre><code>target=pd.read_csv(\u2019data',sep=',',names=[\u2018col1\u2019,'col2\u2019])\n</code></pre>\n\n<p>What I want to see in my Target table eventually is the following 5 column \ntable:</p>\n\n<pre><code>COLA  COLB   COLC    col1           col2\n1     ABC    ABCDE    (1,ABC,ABCDE)  24\n10    ABD    ABC11    (10,ABD,ABC11) 12\n6     ABE    ABERD    (6,ABE,ABERD)  39\n</code></pre>\n\n<p>What I tried was:</p>\n\n<pre><code>for index,row in target.iterrows():\n    tup=tuple(row[0][1:len(row[0])-1].split(\",\"))\n\n    target[\u2019COLA'][index]=tup[0]\n    target[\u2019COLB'][index]=tup[1]\n    target[\u2019COLC'][index]=tup[2]\n</code></pre>\n\n<p>This is done to change the string to tuple so that I can create new columns to the Target datatable. I will delete the <code>col1</code> eventually but the code above doesn't work for some reason. It crashes..</p>\n"}, {"tags": ["python", "scikit-learn", "pca", "dimensionality-reduction"], "answers": [{"tags": [], "owner": {"reputation": 2041, "user_id": 3731745, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f391c0f1cf9143fd4c4605a4b1ffbe7?s=128&d=identicon&r=PG&f=1", "display_name": "Andreus", "link": "https://stackoverflow.com/users/3731745/andreus"}, "is_accepted": false, "score": 1, "last_activity_date": 1435860430, "creation_date": 1435860430, "answer_id": 31191648, "question_id": 31173137, "link": "https://stackoverflow.com/questions/31173137/scikit-kernelpca-unstable-results/31191648#31191648", "title": "scikit KernelPCA unstable results", "body": "<p>So... I can't give you a definitive answer on why <code>KernelPCA</code> is not deterministic. The behavior resembles the differences I've observed between the results of PCA and RandomizedPCA. PCA is deterministic, but RandomizedPCA is not, and sometimes the eigenvectors are flipped in sign relative to the PCA eigenvectors.</p>\n\n<p>That leads me to my vague idea of how you might get more deterministic results....maybe. Use <a href=\"http://scikit-learn.org/0.15/modules/generated/sklearn.kernel_approximation.RBFSampler.html#sklearn.kernel_approximation.RBFSampler\" rel=\"nofollow\">RBFSampler</a> with a fixed seed:</p>\n\n<pre><code>def pca(X, gamma1):\n    kernvals = RBFSampler(gamma=gamma1, random_state=0).fit_transform(X)\n    kpca = PCA().fit_transform(X)\n    X_kpca = kpca.fit_transform(X)\n    return X_kpca\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1436177266, "post_id": 31242993, "comment_id": 50483671, "body": "Yes, the plot is the first two principal components"}, {"owner": {"reputation": 5786, "user_id": 3914041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b88c2ec674ac08403a26fed93c0db4?s=128&d=identicon&r=PG&f=1", "display_name": "ldirer", "link": "https://stackoverflow.com/users/3914041/ldirer"}, "reply_to_user": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 1, "creation_date": 1436181903, "post_id": 31242993, "comment_id": 50486565, "body": "Ok. Do you see how the order of the components may affect your plot?  Say your first 2 components are e1 and e2, with associated eigenvalues a1 and a2.   For gamma = 0.5, a1 &gt; a2. So KernelPCA returns the eigenvectors in order e1, e2, e3... For gamma = 0.6, a2 &gt; a1. Now you are getting e2, e1, e3... and your axes on the plot are swapped."}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1436195574, "post_id": 31242993, "comment_id": 50496101, "body": "Seems more like the eigenvalues flip sign. If swapping axes (x with y) I should observe the points <i>transpose</i>. Instead the points <i>reflect</i> in x or y. Don&#39;t you agree?"}, {"owner": {"reputation": 5786, "user_id": 3914041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b88c2ec674ac08403a26fed93c0db4?s=128&d=identicon&r=PG&f=1", "display_name": "ldirer", "link": "https://stackoverflow.com/users/3914041/ldirer"}, "reply_to_user": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1436196873, "post_id": 31242993, "comment_id": 50497000, "body": "Yes I kind of agree with you ;).  It is true that we see something that looks like a reflection (actually I see 2 different reflections). However negative eigenvalues are not an option in PCA, hence I&#39;d rather fool myself and believe it&#39;s a transposition... Could you give us the eigenvectors/eigenvalues at each stage (kpca.alphas_ and kpca.lambdas_ respectively)?"}, {"owner": {"reputation": 5786, "user_id": 3914041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b88c2ec674ac08403a26fed93c0db4?s=128&d=identicon&r=PG&f=1", "display_name": "ldirer", "link": "https://stackoverflow.com/users/3914041/ldirer"}, "reply_to_user": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1436199260, "post_id": 31242993, "comment_id": 50498553, "body": "Makes sense. You can get only the 3 first ones that should be enough to see if something is happening here. They are sorted with highest lambda first in scikit-learn."}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1436199379, "post_id": 31242993, "comment_id": 50498632, "body": "First values of lambdas are for example 6.96279080e+02   6.79270038e+02   6.58483207e+02   6.50819318e+02   6.29440222e+02   6.13970213e+02   6.10199451e+02 ..."}, {"owner": {"reputation": 5786, "user_id": 3914041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b88c2ec674ac08403a26fed93c0db4?s=128&d=identicon&r=PG&f=1", "display_name": "ldirer", "link": "https://stackoverflow.com/users/3914041/ldirer"}, "reply_to_user": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1436199416, "post_id": 31242993, "comment_id": 50498656, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/82517/discussion-between-user3914041-and-mescalinum\">continue this discussion in chat</a>."}, {"owner": {"reputation": 5786, "user_id": 3914041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b88c2ec674ac08403a26fed93c0db4?s=128&d=identicon&r=PG&f=1", "display_name": "ldirer", "link": "https://stackoverflow.com/users/3914041/ldirer"}, "reply_to_user": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 1, "creation_date": 1436201816, "post_id": 31242993, "comment_id": 50499991, "body": "Ok you are right about the sign flipping, but it is not the <b>eigenvalues</b> that flip sign. It is just the eigenvector that changes to - 1 * itself."}], "tags": [], "owner": {"reputation": 5786, "user_id": 3914041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b88c2ec674ac08403a26fed93c0db4?s=128&d=identicon&r=PG&f=1", "display_name": "ldirer", "link": "https://stackoverflow.com/users/3914041/ldirer"}, "is_accepted": true, "score": 3, "last_activity_date": 1436219349, "last_edit_date": 1436219349, "creation_date": 1436177095, "answer_id": 31242993, "question_id": 31173137, "link": "https://stackoverflow.com/questions/31173137/scikit-kernelpca-unstable-results/31242993#31242993", "title": "scikit KernelPCA unstable results", "body": "<p>KernelPCA should be deterministic and evolve continuously with gamma. <br>It is different from RBFSampler that does have built-in randomness in order to provide an efficient (more scalable) approximation of the RBF kernel.</p>\n\n<p>However what can change in KernelPCA is the <strong>order of the principal components</strong>: in scikit-learn they are returned sorted in order of descending eigenvalue, so if you have 2 eigenvalues close to each other it could be that the order changes with gamma.</p>\n\n<p>My guess (from the gif) is that this is what is happening here: the axes along which you are plotting are not constant so your data seems to jump around.</p>\n\n<p>Could you provide the code you used to produce the gif?</p>\n\n<p>I'm guessing it is a plot of the data points along the 2 first principal components but it would help to see how you produced it.</p>\n\n<p>You could try to further inspect it by looking at the values of kpca.alphas_ (the eigenvectors) for each value of gamma.</p>\n\n<p>Hope this makes sense.</p>\n\n<p><strong>EDIT</strong>: As you noted it looks like the points are reflected against the axis, the most plausible explanation is that one of the eigenvector flips sign (note this does not affect the eigenvalue).</p>\n\n<p>I put in <a href=\"https://gist.github.com/f265bb4328e4bd4baf13.git\" rel=\"nofollow\">a simple gist</a> to reproduce the issue (you'll need a Jupyter notebook to run it). You can see the sign-flipping when you change the value of gamma.</p>\n\n<p>As a complement note that this kind of discrepancy happens only because you <strong>fit</strong> several times the KernelPCA object several times. Once you settled with a particular gamma value and you've fit kpca once you can call transform several times and get consistent results. \nFor the classical PCA <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.PCA.html\" rel=\"nofollow\">the docs</a> mention that:</p>\n\n<blockquote>\n  <p>Due to implementation subtleties of the Singular Value Decomposition (SVD), which is used in this implementation, running fit twice on the same matrix can lead to principal components with signs flipped (change in direction). For this reason, it is important to always use the same estimator object to transform data in a consistent fashion.</p>\n</blockquote>\n\n<p>I don't know about the behavior of a single KernelPCA object that you would fit several times (I did not find anything relevant in the docs).</p>\n\n<p>It does not apply to your case though as you have to fit the object with several gamma values.</p>\n"}], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 978, "favorite_count": 0, "accepted_answer_id": 31242993, "answer_count": 2, "score": 7, "last_activity_date": 1436219349, "creation_date": 1435792185, "last_edit_date": 1435794241, "question_id": 31173137, "link": "https://stackoverflow.com/questions/31173137/scikit-kernelpca-unstable-results", "title": "scikit KernelPCA unstable results", "body": "<p>I'm trying to use KernelPCA for reducing the dimensionality of a dataset to 2D (both for visualization purposes and for further data analysis).</p>\n\n<p>I experimented computing KernelPCA using a RBF kernel at various values of Gamma, but the result is unstable:</p>\n\n<p><img src=\"https://i.stack.imgur.com/5cGIj.gif\" alt=\"anim\"></p>\n\n<p>(each frame is a slightly different value of Gamma, where Gamma is varying continuously from 0 to 1)</p>\n\n<p>Looks like it is not deterministic.</p>\n\n<p>Is there a way to stabilize it/make it deterministic?</p>\n\n<p>Code used to generate transformed data:</p>\n\n<pre><code>def pca(X, gamma1):\n    kpca = KernelPCA(kernel=\"rbf\", fit_inverse_transform=True, gamma=gamma1)\n    X_kpca = kpca.fit_transform(X)\n    #X_back = kpca.inverse_transform(X_kpca)\n    return X_kpca\n</code></pre>\n"}, {"tags": ["python", "perl", "shell", "subprocess"], "comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1435839428, "post_id": 31173136, "comment_id": 50374065, "body": "related: here&#39;s how you could <a href=\"http://stackoverflow.com/a/23795689/4279\">play a guessing game using <code>pexpect</code> or <code>subprocess</code></a>"}], "answers": [{"comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1435839251, "post_id": 31173187, "comment_id": 50373902, "body": "or <code>output, status = pexpect.run(&#39;perl foo.pl&#39;, withexitstatus=1, events={&#39;(?i)user:&#39;: &#39;my_username&#39;, &#39;(?i)password:&#39;: &#39;my_password&#39;})</code>"}], "tags": [], "owner": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "is_accepted": false, "score": 3, "last_activity_date": 1435839309, "last_edit_date": 1435839309, "creation_date": 1435792563, "answer_id": 31173187, "question_id": 31173136, "link": "https://stackoverflow.com/questions/31173136/python-calling-perl-script/31173187#31173187", "title": "Python calling Perl Script", "body": "<p>check out <a href=\"https://pexpect.readthedocs.org\" rel=\"nofollow\">the pexpect module</a>.  It does exactly what you want, for example:</p>\n\n<pre><code>child = pexpect.spawn('perl foo.pl')\nchild.expect('User:')\nchild.sendline('my_username')\nchild.expect('Password:')\nchild.sendline('my_password')\n</code></pre>\n"}], "owner": {"reputation": 36, "user_id": 5071607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/142040ecd78c5349c04779b953f38731?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5071607/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435839309, "creation_date": 1435792180, "question_id": 31173136, "link": "https://stackoverflow.com/questions/31173136/python-calling-perl-script", "title": "Python calling Perl Script", "body": "<p>So when I run my Perl script on command line, it will ask for </p>\n\n<p>User: (type name and press enter)</p>\n\n<p>Password: (then it will ask for password and then I press enter)\nthen I can run commands</p>\n\n<p>So if you see, that is a sequence of steps</p>\n\n<p>I know when you use the subproccess commands, I can call a script and have it run. But once Python runs the command, how do you continue to type in the user password after typing in user? When I ran it using \"subprocess.call(command, shell=True)\" Pycharm ask for \"User:\" and when I type it in, it freezes.</p>\n\n<p>If possible, I want to configure python to put in my login info into the script and then run a command. I've done something like this in the past but it just ran the script and outputed the data. This perl script requires me to logon before I can output data which is where im having problems. </p>\n"}, {"tags": ["python", "excel", "parsing", "csv"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435791933, "post_id": 31173060, "comment_id": 50353874, "body": "Your pattern makes no sense for your problem, also sum and line.count(&quot;grapevine&quot;) might be sufficent"}], "answers": [{"tags": [], "owner": {"reputation": 37, "user_id": 3875428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8M6mV.jpg?s=128&g=1", "display_name": "Professor Hex", "link": "https://stackoverflow.com/users/3875428/professor-hex"}, "is_accepted": false, "score": 0, "last_activity_date": 1435792617, "creation_date": 1435792617, "answer_id": 31173195, "question_id": 31173060, "link": "https://stackoverflow.com/questions/31173060/finding-all-instances-where-a-matchword-is-used-in-a-csv-file-using-python/31173195#31173195", "title": "Finding all instances where a matchword is used in a csv file using python", "body": "<p>Since you're lost on how to filter names, try:</p>\n\n<pre><code>re.findall(\"Grapevine\",f)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4913860, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152885766311476/picture?type=large", "display_name": "Bowen Noack", "link": "https://stackoverflow.com/users/4913860/bowen-noack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1435792617, "creation_date": 1435791667, "last_edit_date": 1435792256, "question_id": 31173060, "link": "https://stackoverflow.com/questions/31173060/finding-all-instances-where-a-matchword-is-used-in-a-csv-file-using-python", "title": "Finding all instances where a matchword is used in a csv file using python", "body": "<p>I have a csv file that has numerous columns</p>\n\n<p>here is an image of what the excel file looks like\n<a href=\"http://i.stack.imgur.com/AB6TP.png\" rel=\"nofollow\">http://i.stack.imgur.com/AB6TP.png</a></p>\n\n<p>I need to look through the thousands of rows, in the column labeled Hit Definition for any virus with the name \"grapevine\" in it. \nFor each word with the name \"grapevine\", I need to compile how many times it is mentioned, the range of length (column labeled query length, [2]), and the summation of reads(column total reads, [4]).</p>\n\n<p>Input:\n<a href=\"http://i.stack.imgur.com/AB6TP.png\" rel=\"nofollow\">http://i.stack.imgur.com/AB6TP.png</a></p>\n\n<p>output: </p>\n\n<blockquote>\n  <p>Grapevine 1    6    234-234234 45634</p>\n  \n  <p>Grapevine 2    7    123-65432  12341</p>\n</blockquote>\n\n<pre><code>with open(argv[1], 'r') as f:\n   for line in csv.reader(f):      \n           contig_name = line[0]\n           contig_length = line[3]\n           read_count = line[4]\n           hit_def = line[6]\n\n           try:\n                   pattern = r'.\\[(.*?)\\].'\n                   hit_sub = re.search(pattern, hit_def).group(1)\n                   print hit_sub\n\n          except AttributeError:\n                   hit_sub = hit_def\n\n\n                   target.append([hit_sub])\n</code></pre>\n\n<p>this is what I have so far\nI am lost on how to filter the names</p>\n"}, {"tags": ["python", "animation", "matplotlib", "matplotlib-basemap"], "answers": [{"tags": [], "owner": {"reputation": 830, "user_id": 4945948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7eb29ca42fb0303ab8e12ef8e0046549?s=128&d=identicon&r=PG&f=1", "display_name": "Will.Evo", "link": "https://stackoverflow.com/users/4945948/will-evo"}, "is_accepted": true, "score": 0, "last_activity_date": 1436998041, "creation_date": 1436998041, "answer_id": 31442029, "question_id": 31173058, "link": "https://stackoverflow.com/questions/31173058/animating-text-in-matplotlib-basemap/31442029#31442029", "title": "Animating Text in Matplotlib Basemap", "body": "<p>Simple solution however it could not be found anywhere explicitly. Just change the text instance from a figtext to a simple ax.text instance and the animation works perfectly.</p>\n"}], "owner": {"reputation": 830, "user_id": 4945948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7eb29ca42fb0303ab8e12ef8e0046549?s=128&d=identicon&r=PG&f=1", "display_name": "Will.Evo", "link": "https://stackoverflow.com/users/4945948/will-evo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 31442029, "answer_count": 1, "score": 0, "last_activity_date": 1436998041, "creation_date": 1435791665, "question_id": 31173058, "link": "https://stackoverflow.com/questions/31173058/animating-text-in-matplotlib-basemap", "title": "Animating Text in Matplotlib Basemap", "body": "<p>I plotting a 2D array over matplotlib's basemap and animating it through time. I am having trouble however adding in a time counter. The animation starts at 0 UT and progresses through 23 UT before starting back over at 0UT. The animation works beautifully.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>from netCDF4 import Dataset\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.basemap import Basemap, addcyclic\nimport matplotlib.animation as animation\n\n#load the netcdf file into a variable\nmar120=\"C:/Users/WillEvo/Desktop/My Datasets To Share/SA120_Iono_Acc_WE.nc\"\n\n#grab the data into a new variable\nfh=Dataset(mar120,mode=\"r\")\n\n#assign model variable contents to python variables\nlons=fh.variables['lon'][:]\nlats=fh.variables['lat'][:]\nvar1=fh.variables['NTD_UP'][:]\n\n#specifying which time and elevation to map\nionst=var1[0,18,:,:]\ndetails='(0UT, Z=2)'\n\n#close the netCDF file\nfh.close()\n\ndetails='(0UT, Z=2)'\n\n# get rid of white stripe on map\nionst, lons=addcyclic(ionst, lons)\n\n#Setting figure attributes\nfig=plt.figure(figsize=(12,12),facecolor='white')\n\n#map settings\nm=Basemap(llcrnrlon=-180, llcrnrlat=-87.5, urcrnrlon=180, urcrnrlat=87.5,rsphere=6467997, resolution='l', projection='cyl',area_thresh=10000, lat_0=0, lon_0=0)\n\n#Creating 2d array of latitude and longitude\nlon, lat=np.meshgrid(lons, lats)\nxi, yi=m(lon, lat)\n\n#plotting data onto basemap\ncs=m.imshow(ionst, interpolation=None, alpha=.8)\n\n#drawing grid lines\nm.drawparallels(np.arange(-90.,90.,30.),labels=[1,0,0,0],fontsize=10)\nm.drawmeridians(np.arange(-180.,181.,30.), labels=[0,0,0,1],fontsize=10)\n\n#drawing coast lines\nm.drawcoastlines()\n\n#color bar\ncbar=m.colorbar(cs, location='bottom', pad=\"10%\")\ncbar.set_label(r\"Ion Drag $(cm/s^2)$\")\n\n#Title Preferences\nplt.title('Ion Drag at '+details, size=16)\n\n\n#Function to update the plots data\ndef updateax1(j):\n    cs.set_array(var1[j,18,:,:])\n    return cs,\n\n#Animate the plot\nani1=animation.FuncAnimation(fig, updateax1, frames=range(24), interval=150, blit=True)\n\n#showing the plot\nplt.show()\n</code></pre>\n\n<p>I have tried setting figure text like this:</p>\n\n<pre><code>text=figtext(0,0,'sometext')\n</code></pre>\n\n<p>and then updating it in my update function like this:</p>\n\n<pre><code>def updateax1(j):\n        text.set_text(str(j))\n        cs.set_array(var1[j,18,:,:])\n        return cs, text,\n</code></pre>\n\n<p>but this just causes the entire animation to stop. I have been trying to figure this out for weeks. Please lend me your genius for just a few seconds! Thanks!</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 12070, "user_id": 5044950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9yN0x.jpg?s=128&g=1", "display_name": "Sam Estep", "link": "https://stackoverflow.com/users/5044950/sam-estep"}, "edited": false, "score": 1, "creation_date": 1435791501, "post_id": 31173026, "comment_id": 50353754, "body": "Is this your actual code? If so, does the lack of commas in your declaration of <code>AvailableLetters</code> cause all the letters to be clumped into one item?"}, {"owner": {"reputation": 1128, "user_id": 5045738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qaIAHMHChvQ/AAAAAAAAAAI/AAAAAAAAABc/HaAvc-Vpqc4/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/5045738/james"}, "edited": false, "score": 1, "creation_date": 1435791639, "post_id": 31173026, "comment_id": 50353794, "body": "If you don&#39;t put commas between strings, python concatenates the strings.  So it is as RedRoboHood presumed, your list has one single string, and thus does not contain the string &#39;a&#39;."}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "edited": false, "score": 1, "creation_date": 1435791725, "post_id": 31173026, "comment_id": 50353814, "body": "Not sure why anyone would vote this down... It&#39;s a well formed question by someone who&#39;s presumably new to python or just made a silly mistake."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1435792221, "post_id": 31173026, "comment_id": 50353967, "body": "Where are the commas. The letters will concatenate."}], "answers": [{"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1435792163, "post_id": 31173057, "comment_id": 50353947, "body": "This likely &quot;C throwback&quot; is a useful way of defining long literal strings or (in Python) of defining a string and using different types of quotes around different portions of it."}], "tags": [], "owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "is_accepted": false, "score": 2, "last_activity_date": 1435791655, "creation_date": 1435791655, "answer_id": 31173057, "question_id": 31173026, "link": "https://stackoverflow.com/questions/31173026/availableletters-removea-not-working/31173057#31173057", "title": "AvailableLetters.remove(&#39;a&#39;) -not working", "body": "<p>Your trouble is that python sees 'a' 'b' as 'ab' (probably a C throwback). What you want is:</p>\n\n<pre><code>AvailableLetters = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\nAvailableLetters.remove('a')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 4714621, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155385159895297/picture?type=large", "display_name": "Ola N&#230;ss Kaldestad", "link": "https://stackoverflow.com/users/4714621/ola-n%c3%a6ss-kaldestad"}, "is_accepted": false, "score": 2, "last_activity_date": 1435791718, "creation_date": 1435791718, "answer_id": 31173070, "question_id": 31173026, "link": "https://stackoverflow.com/questions/31173026/availableletters-removea-not-working/31173070#31173070", "title": "AvailableLetters.remove(&#39;a&#39;) -not working", "body": "<p>You need to separate objects in the list with commas, like this:</p>\n\n<pre><code>    AvailableLetters = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "is_accepted": true, "score": 3, "last_activity_date": 1435792159, "creation_date": 1435792159, "answer_id": 31173132, "question_id": 31173026, "link": "https://stackoverflow.com/questions/31173026/availableletters-removea-not-working/31173132#31173132", "title": "AvailableLetters.remove(&#39;a&#39;) -not working", "body": "<pre><code>&gt;&gt;&gt; import string\n&gt;&gt;&gt; letters = list(string.ascii_lowercase)\n&gt;&gt;&gt; letters.remove('a')\n&gt;&gt;&gt; print(letters)\n['b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 6, "last_activity_date": 1435792346, "creation_date": 1435792346, "answer_id": 31173157, "question_id": 31173026, "link": "https://stackoverflow.com/questions/31173026/availableletters-removea-not-working/31173157#31173157", "title": "AvailableLetters.remove(&#39;a&#39;) -not working", "body": "<blockquote>\n  <p>Two or more string literals (i.e. the ones enclosed between quotes) next to each other are automatically concatenated.</p>\n</blockquote>\n\n<pre><code>&gt;&gt;&gt; 'Py' 'thon'\n'Python'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2647, "user_id": 4060551, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/eqUxo.jpg?s=128&g=1", "display_name": "Burger King", "link": "https://stackoverflow.com/users/4060551/burger-king"}, "is_accepted": false, "score": 0, "last_activity_date": 1435803810, "creation_date": 1435803810, "answer_id": 31174680, "question_id": 31173026, "link": "https://stackoverflow.com/questions/31173026/availableletters-removea-not-working/31174680#31174680", "title": "AvailableLetters.remove(&#39;a&#39;) -not working", "body": "<p>I suggest you confirm your list. You can use <code>print</code> to output it.</p>\n\n<pre><code>AvailableLetters = ['a' 'b' 'c' 'd' 'e' 'f' 'g' 'h' 'i' 'j' 'k' 'l' 'm' 'n' 'o' 'p' 'q' 'r' 's' 't' 'u' 'v' 'w' 'x' 'y' 'z']\nprint AvailableLetters \n# ['abcdefghijklmnopqrstuvwxyz']\n</code></pre>\n\n<p>I recommend you can take two methods to solve your problem as below:</p>\n\n<p>First method: If you persist in your method, it will just fix bug.</p>\n\n<pre><code>AvailableLetters = ['a' 'b' 'c' 'd' 'e' 'f' 'g' 'h' 'i' 'j' 'k' 'l' 'm' 'n' 'o' 'p' 'q' 'r' 's' 't' 'u' 'v' 'w' 'x' 'y' 'z']\nAvailableLetters = list(AvailableLetters[0])\nAvailableLetters.remove('a')\nprint AvailableLetters\n# ['b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\n</code></pre>\n\n<p>Second method: I think it's the best and fastest solution.</p>\n\n<pre><code>import string\nAvailableLetters = list(string.ascii_lowercase)\nAvailableLetters.remove('a')\nprint(AvailableLetters)\n['b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\n</code></pre>\n"}], "owner": {"reputation": 448, "user_id": 4669241, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/520544947/picture?type=large", "display_name": "David Yachnis", "link": "https://stackoverflow.com/users/4669241/david-yachnis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 31173132, "answer_count": 5, "score": 0, "last_activity_date": 1435803810, "creation_date": 1435791442, "last_edit_date": 1435791582, "question_id": 31173026, "link": "https://stackoverflow.com/questions/31173026/availableletters-removea-not-working", "title": "AvailableLetters.remove(&#39;a&#39;) -not working", "body": "<p>I am trying to remove element from a list in Python.</p>\n\n<pre><code>AvailableLetters = ['a' 'b' 'c' 'd' 'e' 'f' 'g' 'h' 'i' 'j' 'k' 'l' 'm' 'n' 'o' 'p' 'q' 'r' 's' 't' 'u' 'v' 'w' 'x' 'y' 'z']\nAvailableLetters.remove('a')\n</code></pre>\n\n<p>and I am getting the following error</p>\n\n<pre><code>AvailableLetters.remove('a')\nValueError: list.remove(x): x not in list\n</code></pre>\n"}, {"tags": ["python", "opencv"], "comments": [{"owner": {"reputation": 5894, "user_id": 1319871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ed3eb8fb25b9139f488153a7dc9490?s=128&d=identicon&r=PG", "display_name": "yangjie", "link": "https://stackoverflow.com/users/1319871/yangjie"}, "edited": false, "score": 2, "creation_date": 1435792189, "post_id": 31172977, "comment_id": 50353957, "body": "If you want to use opencv 3.0, you need to compile and install it by yourself. <a href=\"http://docs.opencv.org/3.0.0/d7/d9f/tutorial_linux_install.html\" rel=\"nofollow noreferrer\">docs.opencv.org/3.0.0/d7/d9f/tutorial_linux_install.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 417, "user_id": 3110429, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/o0VCP.png?s=128&g=1", "display_name": "gkhanacer", "link": "https://stackoverflow.com/users/3110429/gkhanacer"}, "is_accepted": false, "score": 1, "last_activity_date": 1470920608, "creation_date": 1470920608, "answer_id": 38897214, "question_id": 31172977, "link": "https://stackoverflow.com/questions/31172977/opencv-connectedcomponentswithstats/38897214#38897214", "title": "opencv connectedComponentsWithStats", "body": "<p>'connectedComponentsWithStats' method is only usable on opencv3.x.</p>\n"}], "owner": {"reputation": 31, "user_id": 5071562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eefb5a916a143a96b001e49dd24876e6?s=128&d=identicon&r=PG&f=1", "display_name": "theDude", "link": "https://stackoverflow.com/users/5071562/thedude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5763, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1470920608, "creation_date": 1435791083, "question_id": 31172977, "link": "https://stackoverflow.com/questions/31172977/opencv-connectedcomponentswithstats", "title": "opencv connectedComponentsWithStats", "body": "<p>first post here!</p>\n\n<p>I just installed python-opencv. According to python my version is:</p>\n\n<pre><code>&gt;&gt;&gt; import cv2\n&gt;&gt;&gt; cv2.__version__ '2.4.8'\n</code></pre>\n\n<p>My Ubuntu version is 14.04.</p>\n\n<p>I then started a python-opencv tutorial which suggested this code:</p>\n\n<pre><code>img = cv2.imread('OpenCV_Chessboard.png')\ngray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n\n# find Harris corners\ngray        = np.float32(gray)\ndst         = cv2.cornerHarris(gray, 2, 3, 0.04)\ndst         = cv2.dilate(dst,None)\nret, dst    = cv2.threshold(dst,0.01*dst.max(),255,0)\ndst         = np.uint8(dst)\n\n# find centroids\nret, labels, stats, centroids = cv2.connectedComponentsWithStats(dst)\n\n# define the criteria to stop and refine the corners\ncriteria = (cv2.TERM_CRITERIA_EPS + cv2.TERM_CRITERIA_MAX_ITER, 100, 0.001)\ncorners = cv2.cornerSubPix(gray,np.float32(centroids),(5,5),(-1,-1),criteria)\n\n# Now draw them\nres = np.hstack((centroids,corners))\nres = np.int0(res)\nimg[res[:,1],res[:,0]]=[0,0,255]\nimg[res[:,3],res[:,2]] = [0,255,0]\n\ncv2.imwrite('subpixel5.png',img)\n</code></pre>\n\n<p>When trying to execute the unaltered code I got this:</p>\n\n<pre><code>File \"pyopencv_test.py\", line 21, in &lt;module&gt;\n    ret, labels, stats, centroids = cv2.connectedComponentsWithStats(dst)\nAttributeError: 'module' object has no attribute 'connectedComponentsWithStats'\n</code></pre>\n\n<p>A quick search suggests that I need python-opencv 3 instead of my current version 2.4.8. I don't know how to update the opencv version to opencv 3 so that python will automatically access it. Any help? Step by step instructions would be very appreciated!</p>\n"}, {"tags": ["python", "sqlalchemy", "group-concat"], "answers": [{"comments": [{"owner": {"reputation": 210, "user_id": 5071547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iV845.jpg?s=128&g=1", "display_name": "gf_", "link": "https://stackoverflow.com/users/5071547/gf"}, "edited": false, "score": 0, "creation_date": 1435794158, "post_id": 31173235, "comment_id": 50354476, "body": "Thanks so much! One more question: The data in there is separated by default using &#39;,&#39;. Is it easily possible to split these again to access the (former &quot;individual row&quot;) data in a template?"}, {"owner": {"reputation": 210, "user_id": 5071547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iV845.jpg?s=128&g=1", "display_name": "gf_", "link": "https://stackoverflow.com/users/5071547/gf"}, "edited": false, "score": 0, "creation_date": 1435797056, "post_id": 31173235, "comment_id": 50355225, "body": "Will split these using split() . If there is a better way, let me know."}, {"owner": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "reply_to_user": {"reputation": 210, "user_id": 5071547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iV845.jpg?s=128&g=1", "display_name": "gf_", "link": "https://stackoverflow.com/users/5071547/gf"}, "edited": false, "score": 0, "creation_date": 1435805190, "post_id": 31173235, "comment_id": 50356924, "body": "split is the way to go."}], "tags": [], "owner": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "is_accepted": true, "score": 4, "last_activity_date": 1435792935, "creation_date": 1435792935, "answer_id": 31173235, "question_id": 31172955, "link": "https://stackoverflow.com/questions/31172955/sqlalchemy-access-data-of-group-concat/31173235#31173235", "title": "SQLAlchemy: Access data of group_concat", "body": "<p><code>func.group_concat(Ecordovadr.ooaname1)</code> creates an anonymous field in the result set, and is thus not accessible by name.</p>\n\n<p>To access it by name, the label must be specified like this:</p>\n\n<pre><code>func.group_concat(Ecordovadr.ooaname1).label('ooanames')\n</code></pre>\n\n<p>This will evaluate to the following sql:</p>\n\n<pre><code>group_concat(ecordovadr.ooaname1) AS 'ooanames'\n</code></pre>\n\n<p>Then, it can be referred as:</p>\n\n<pre><code>for x in jobs:\n    x.ooanames\n</code></pre>\n\n<p>If the label is not specified, then the field is still individually accessible positionally, i.e.</p>\n\n<pre><code>for x in jobs:\n    x[7] # unless I miscounted from your example\n</code></pre>\n"}], "owner": {"reputation": 210, "user_id": 5071547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iV845.jpg?s=128&g=1", "display_name": "gf_", "link": "https://stackoverflow.com/users/5071547/gf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 951, "favorite_count": 2, "accepted_answer_id": 31173235, "answer_count": 1, "score": 0, "last_activity_date": 1435792935, "creation_date": 1435790927, "question_id": 31172955, "link": "https://stackoverflow.com/questions/31172955/sqlalchemy-access-data-of-group-concat", "title": "SQLAlchemy: Access data of group_concat", "body": "<p>I'm in the process of learning python, and maybe my following question sounds a bit dumb, but I can't find an answer myself:</p>\n\n<p>In my code, I've got the following query:</p>\n\n<pre><code>jobs = session.query(Ecordov, Ecordovadr, func.group_concat(Ecordovadr.ooaname1)).outerjoin(Ecordovadr).filter(Ecordov.oovpudate.like('2015-07-02')).group_by(Ecordov.oovorder).order_by(desc(Ecordov.oovputimev))\n</code></pre>\n\n<p>which gets evaluated to:</p>\n\n<pre><code>SELECT ecordov.oovkey AS ecordov_oovkey, ecordov.oovorder AS ecordov_oovorder, ecordov.oovpudate AS ecordov_oovpudate, ecordov.oovputimev AS ecordov_oovputimev, ecordovadr.ooakey AS ecordovadr_ooakey, ecordovadr.ooaname1 AS ecordovadr_ooaname1, ecordovadr.ooaorder AS ecordovadr_ooaorder, group_concat(ecordovadr.ooaname1) AS group_concat_1 \nFROM ecordov \nLEFT OUTER JOIN ecordovadr ON ecordov.oovorder = ecordovadr.ooaorder \nGROUP BY ecordov.oovorder \nORDER BY ecordov.oovputimev DESC\n</code></pre>\n\n<p>Running this directly against mysql works as intended and gives me the expected results.</p>\n\n<p>Also, doing something like </p>\n\n<pre><code>for x in jobs:\n    x.Ecordov.oovorder\n</code></pre>\n\n<p>in my python code gives me the correct results.</p>\n\n<p>However, I've got no clue how to access the data of the group_concat funtion.\nI've tried variations of </p>\n\n<pre><code>for x in jobs:\n    x.group.concat1\n</code></pre>\n\n<p>but all I get is:</p>\n\n<blockquote>\n  <p>AttributeError: 'result' object has no attribute 'group' </p>\n</blockquote>\n\n<p>Could anyone point me into the correct direction? It seems, I can't figure it out myself.</p>\n\n<p>Thanks in advance and best regards!</p>\n"}, {"tags": ["python", "numpy", "pandas"], "comments": [{"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1435791648, "post_id": 31172946, "comment_id": 50353798, "body": "This may not be that hard to do but it would be much easier to understand your question if you provided a small dataframe and desired output array."}, {"owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "reply_to_user": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1435801239, "post_id": 31172946, "comment_id": 50356118, "body": "@JohnE I&#39;ve edited the question."}], "answers": [{"comments": [{"owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "edited": false, "score": 0, "creation_date": 1435801022, "post_id": 31173080, "comment_id": 50356073, "body": "Thanks. But unfortunately the <code>matrix_of_coupons_and_facevalues</code> prints out to be <code>[[ 0.  0.  0. ...,  0.  0.  0.]  [ 0.  0.  0. ...,  0.  0.  0.]  [ 0.  0.  0. ...,  0.  0.  0.]  ...,   [ 0.  0.  0. ...,  0.  0.  0.]  [ 0.  0.  0. ...,  0.  0.  0.]  [ 0.  0.  0. ...,  0.  0.  0.]]</code>"}, {"owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "edited": false, "score": 0, "creation_date": 1435801360, "post_id": 31173080, "comment_id": 50356145, "body": "The <code>row[&#39;coupon&#39;]</code> values don&#39;t see to be getting added."}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "reply_to_user": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "edited": false, "score": 0, "creation_date": 1435802552, "post_id": 31173080, "comment_id": 50356397, "body": "i don&#39;t know what to tell you, it works on my simple example, can you work build up your data from here?"}, {"owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "edited": false, "score": 0, "creation_date": 1435803268, "post_id": 31173080, "comment_id": 50356560, "body": "Yeah, the logic makes sense. And sorry, what do you mean by &quot;can you work build up your data from here?&quot;"}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "reply_to_user": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "edited": false, "score": 1, "creation_date": 1435803584, "post_id": 31173080, "comment_id": 50356617, "body": "i don&#39;t know, i tried with your data and it still works, are you sure you&#39;re whole matrix is zero? and not just the rows that you can see? try this: <code>matrix_of_coupons_and_facevalues[matrix_of_coupons_and_facev&zwnj;&#8203;alues[:,0] != 0]</code>"}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": true, "score": 2, "last_activity_date": 1435803510, "last_edit_date": 1435803510, "creation_date": 1435791767, "answer_id": 31173080, "question_id": 31172946, "link": "https://stackoverflow.com/questions/31172946/valueerror-when-inserting-data-into-numpy-array/31173080#31173080", "title": "ValueError when inserting data into numpy Array", "body": "<p>This should do the trick:</p>\n\n<pre><code>df = pd.DataFrame({'months_to_maturity':[5,6,11,12,23],'coupon' : [0,0,0,0,.5]})\nmatrix_of_coupons_and_facevalues = np.zeros((5,5))\n\nfor i,row in df.iterrows():\n    matrix_of_coupons_and_facevalues[i,0:row.months_to_maturity/6] = row['coupon']\n\n    matrix_of_coupons_and_facevalues\narray([[ 0. ,  0. ,  0. ,  0. ,  0. ],\n       [ 0. ,  0. ,  0. ,  0. ,  0. ],\n       [ 0. ,  0. ,  0. ,  0. ,  0. ],\n       [ 0. ,  0. ,  0. ,  0. ,  0. ],\n       [ 0.5,  0.5,  0.5,  0. ,  0. ]])\n</code></pre>\n"}], "owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 31173080, "answer_count": 1, "score": 3, "last_activity_date": 1435803510, "creation_date": 1435790880, "last_edit_date": 1435801174, "question_id": 31172946, "link": "https://stackoverflow.com/questions/31172946/valueerror-when-inserting-data-into-numpy-array", "title": "ValueError when inserting data into numpy Array", "body": "<p>I am trying to insert data from a dataframe <code>df</code> into a numpy array <code>matrix_of_coupons_and_facevalues</code>. However, I basically need to add the value associated with a row of <code>df['Coupon']</code> into each column of a corresponding row of the array for as many columns as the number <code>numberofcoupon_payments = row1['months_to_maturity']/6</code>. I get the error <code>ValueError: could not broadcast input array from shape (1,2) into shape (1,61)</code> in the line <code>np.insert(matrix_of_coupons_and_facevalues, row_no+1, rowtobeadded, 0)</code> and I understand why, but I don't know how to proceed.</p>\n\n<p>The code I am using is as follows:</p>\n\n<pre><code>matrix_of_coupons_and_facevalues = np.zeros((number_of_rows_and_columns, number_of_rows_and_columns))\n        rowtobeadded = np.zeros(number_of_rows_and_columns)\n        for (i1,row1) in df.iterrows():\n            numberofcoupon_payments = row1['months_to_maturity']/6\n            for row_no in range(int(number_of_rows_and_columns)):\n                for index_no in range(int(numberofcoupon_payments)):\n                    coupon = row1['coupon']\n                    rowtobeadded = np.full((1, numberofcoupon_payments), coupon)\n                    np.insert(matrix_of_coupons_and_facevalues, row_no+1, rowtobeadded, 0)\n</code></pre>\n\n<p><strong>Edit</strong>:\nThe dataframe <code>df</code> looks like this:</p>\n\n<pre><code>   months_to_maturity          on_the_run_dt          asset_id  \\\n0                    5  2015-07-02 00:00:00.0  00102CC07F4B02CA   \n1                    6  2015-06-25 00:00:00.0  00102CD0FB2A023F   \n2                   11  2015-04-02 00:00:00.0  00102CFED3C500D4   \n3                   12  2015-06-25 00:00:00.0  00102C37122B0230   \n4                   23  2015-03-02 00:00:00.0  00102C76082B0069\n\n              orig_iss_dt            maturity_dt  pay_freq_cd  coupon  \\\n0   2015-07-02 00:00:00.0  2015-12-31 00:00:00.0          NaN   0.000   \n1   2015-06-25 00:00:00.0  2015-12-24 00:00:00.0          NaN   0.000   \n2   2015-04-02 00:00:00.0  2016-03-31 00:00:00.0          NaN   0.000   \n3   2015-06-25 00:00:00.0  2016-06-23 00:00:00.0          NaN   0.000   \n4   2015-03-02 00:00:00.0  2017-02-28 00:00:00.0            2   0.500\n\n\n       closing_price cpn_type_cd  months_to_maturity_1  FACE_VALUE  \n0       99.944389        FXDI                     5  24000101.6  \n1       99.960889        FXDI                     6  24000366.4  \n2       99.866806        FXDI                    11  25000267.5\n</code></pre>\n\n<p>Desired output Array:\nFor example I need the array to look like this, if the <code>months_to_maturity</code> column of <code>df</code> has values <code>6</code>,<code>12</code>,<code>18</code>:</p>\n\n<pre><code>array([[coupon     0     0      0], \n       [coupon   coupon  0      0], \n       [coupon   coupon coupon  0]])\n</code></pre>\n\n<p>Thank You</p>\n"}, {"tags": ["python", "floating-point"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 4, "creation_date": 1435790873, "post_id": 31172910, "comment_id": 50353548, "body": "It&#39;s <code>&#39;0.40000000000000002220446049250313080847263336181640625&#39;</code> actually. The default representation still rounds."}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1435791267, "post_id": 31172910, "comment_id": 50353673, "body": "@MartijnPieters I think you need to explain why python is printing it out as 0.4. Is python rounding to a certain number of digits?"}, {"owner": {"reputation": 19, "user_id": 5071580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec05a58942957256f79086158be87c4a?s=128&d=identicon&r=PG&f=1", "display_name": "IanusKeddy", "link": "https://stackoverflow.com/users/5071580/ianuskeddy"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1435792515, "post_id": 31172910, "comment_id": 50354074, "body": "@MartijnPieters thank you for your answer: why does python rounds that to 0.4 but doesn&#39;t round 0.2 + 0.1 to 0.3?"}, {"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1435820420, "post_id": 31172910, "comment_id": 50361711, "body": "Note also that this &quot;works&quot; for any addition of the form <code>x + x</code>: e.g., the result of <code>1.234 + 1.234</code> will be printed as <code>2.468</code>.  That&#39;s essentially because if <code>x</code> is the closest representable binary float to a real number <code>v</code>, then (ignoring overflow and subnormals) <code>x + x</code> must be the closest representable binary float to the real number <code>v + v</code>."}, {"owner": {"reputation": 75299, "user_id": 139746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BhJLC.png?s=128&g=1", "display_name": "Pascal Cuoq", "link": "https://stackoverflow.com/users/139746/pascal-cuoq"}, "reply_to_user": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1435827434, "post_id": 31172910, "comment_id": 50365918, "body": "@MarkDickinson This is also true for subnormals."}, {"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "reply_to_user": {"reputation": 75299, "user_id": 139746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BhJLC.png?s=128&g=1", "display_name": "Pascal Cuoq", "link": "https://stackoverflow.com/users/139746/pascal-cuoq"}, "edited": false, "score": 0, "creation_date": 1435852777, "post_id": 31172910, "comment_id": 50383830, "body": "@PascalCuoq: True.  It&#39;s easier to run into problems with precision with subnormals, though.  E.g., <code>1.6e-322 + 1.6e-322</code> will display as <code>3.16e-322</code> rather than <code>3.2e-322</code>.  I should have been clearer and set a limit on the length of the decimal strings being used: e.g., for any <code>x</code> that&#39;s the closest float to a real value exactly expressible in 15 or fewer decimal digits, and then you need to replace that 15 with something smaller (and variable) for subnormals."}, {"owner": {"reputation": 75299, "user_id": 139746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BhJLC.png?s=128&g=1", "display_name": "Pascal Cuoq", "link": "https://stackoverflow.com/users/139746/pascal-cuoq"}, "reply_to_user": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1435853993, "post_id": 31172910, "comment_id": 50384608, "body": "@MarkDickinson Oh, I see what you meant now. Thanks for this insight."}], "answers": [{"tags": [], "owner": {"reputation": 4947, "user_id": 1545014, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/d3a08ae3ab7ee246d592730f0dd2c923?s=128&d=identicon&r=PG", "display_name": "jcoppens", "link": "https://stackoverflow.com/users/1545014/jcoppens"}, "is_accepted": false, "score": 2, "last_activity_date": 1435794729, "last_edit_date": 1435794729, "creation_date": 1435792849, "answer_id": 31173228, "question_id": 31172910, "link": "https://stackoverflow.com/questions/31172910/why-does-python-show-0-2-0-2-as-0-4/31173228#31173228", "title": "Why does python show 0.2 + 0.2 as 0.4?", "body": "<p>To get <code>0.2</code> you need to sum binary fractions of 2. Here are the first few:</p>\n\n<pre><code>Decimal   Binary\n1       = 1\n0.5     = 0.1\n0.25    = 0.01\n0.125   = 0.001\n0.0625  = 0.0001\n</code></pre>\n\n<p>So, to get 0.2, you need to sum</p>\n\n<pre><code>0.125\n+ 0.0625 = 0.187500\n</code></pre>\n\n<p>The next binary fraction is 0.03125. If I sum that, it's too large (> 0.2), so is the next one 0.015625. The following one, 0.0078125 is ok, so</p>\n\n<pre><code>0.125 + 0.0625 + 0.0078125 = 0.195312\n</code></pre>\n\n<p>and so on. So we have skipped 0.5 (gives a 0), and 0.25 (another 0), we did use 0.125 (1) and 0.0625 (1). Again, we skipped two values (00) and used the next one (1)...</p>\n\n<p>But, whatever we do, we cannot represent 0.2 with an exact binary numner. we have to continue and continue... If we don't continue infinitely, the representation is not exactly 0.2... </p>\n\n<p>Now try with 0.25 or 0.25...</p>\n\n<p>Now why are we seeing different things in modern Pythons (>= 2.7, and >= 3), this comes from an internal change:</p>\n\n<blockquote>\n  <p>In versions prior to Python 2.7 and Python 3.1, Python rounded this\n  value to 17 significant digits, giving \u20180.10000000000000001\u2019. In\n  current versions, Python displays a value based on the shortest\n  decimal fraction that rounds correctly back to the true binary value,\n  resulting simply in \u20180.1\u2019.</p>\n</blockquote>\n\n<p>See <a href=\"https://docs.python.org/2/tutorial/floatingpoint.html\" rel=\"nofollow\">this article</a>, bottom of the page.</p>\n"}], "owner": {"reputation": 19, "user_id": 5071580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec05a58942957256f79086158be87c4a?s=128&d=identicon&r=PG&f=1", "display_name": "IanusKeddy", "link": "https://stackoverflow.com/users/5071580/ianuskeddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1435794729, "creation_date": 1435790697, "question_id": 31172910, "link": "https://stackoverflow.com/questions/31172910/why-does-python-show-0-2-0-2-as-0-4", "title": "Why does python show 0.2 + 0.2 as 0.4?", "body": "<p>I think I understood why 0.1 + 0.2 is 0.30000000000000004, but following the same logic why is 0.2 + 0.2 = 0.4? Isn't 0.2 a value you can't get in binary base?\nThank you for your time.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1435790797, "post_id": 31172897, "comment_id": 50353527, "body": "you need you write yourself an easy helper function"}, {"owner": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "reply_to_user": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1435790877, "post_id": 31172897, "comment_id": 50353549, "body": "so I need read item by item and strip and copy to a new list"}], "answers": [{"tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 2, "last_activity_date": 1435791173, "creation_date": 1435791173, "answer_id": 31172988, "question_id": 31172897, "link": "https://stackoverflow.com/questions/31172897/inplace-removal-of-quotes-from-list-of-list/31172988#31172988", "title": "inplace removal of quotes from list of list", "body": "<p>Instead of splitting on <code>,</code> split on <code>\",\"</code>:</p>\n\n<pre><code>new_list=[[l.replace('\"','') for l in x.split('\",\"') for x in orig_list]\nnew_list\nOut[99]: [['jason', 'hello1,hello2,hello3', 'somegroup2', 'bundle1', 'loc1'], ['ruby', 'hello', 'somegroup', 'bundle2', 'loc2'], ['sam', 'hello3,hello2', 'somegroup3,somegroup4', 'bundle2', 'loc3']]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "edited": false, "score": 0, "creation_date": 1435797010, "post_id": 31173153, "comment_id": 50355208, "body": "problem is i can have something like this as well:  [&#39;jason,&quot;hello2,helloe2&quot;,&quot;somegroup2&quot;,bundle1,loc1&#39;, &#39;ruby,hello,somegroup,bundle2,loc2&#39;, &#39;sam,hello3,somegroup3,bundle3,loc2&#39;] and reader will merge hello2,helloe2,somegroup2 as one element. What I am trying to say is I can have quotes on some elements or no quotes or all quotes: quotes can be single quotes or double quotes. Getting messy to handle all of this."}, {"owner": {"reputation": 1402, "user_id": 2203339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2GKAC.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2203339/mike"}, "reply_to_user": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "edited": false, "score": 0, "creation_date": 1435806194, "post_id": 31173153, "comment_id": 50357149, "body": "So are you saying you want to return ALL comma-delimited strings as list elements? Because this will only group &quot;hello2,helloe2&quot;. It will not group those with the rest of the string."}], "tags": [], "owner": {"reputation": 1402, "user_id": 2203339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2GKAC.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2203339/mike"}, "is_accepted": false, "score": 1, "last_activity_date": 1435807919, "last_edit_date": 1435807919, "creation_date": 1435792307, "answer_id": 31173153, "question_id": 31172897, "link": "https://stackoverflow.com/questions/31172897/inplace-removal-of-quotes-from-list-of-list/31173153#31173153", "title": "inplace removal of quotes from list of list", "body": "<h1>Valid list, preserving grouping of grouped elements</h1>\n\n<p>Use the <code>reader</code> function from the <a href=\"http://docs.python.org/library/csv.html\" rel=\"nofollow\"><code>csv</code> module</a>:</p>\n\n<pre><code>from csv import reader\n\norig_list=['\"jason\",\"hello1,hello2,hello3\",\"somegroup2\",\"bundle1\",\"loc1\"', '\"ruby\",\"hello\",\"somegroup\",\"bundle2\",\"loc2\"', '\"sam\",\"hello3,hello2\",\"somegroup3,somegroup4\",\"bundle2\",\"loc3\"']\n\nnew_list = []\n\nfor line in reader(orig_list):\n  new_list.append(line)\n</code></pre>\n\n<p>This outputs the results you requested:</p>\n\n<pre><code>[['jason', 'hello1,hello2,hello3', 'somegroup2', 'bundle1', 'loc1'], ['ruby', 'hello', 'somegroup', 'bundle2', 'loc2'], ['sam', 'hello3,hello2', 'somegroup3,somegroup4', 'bundle2', 'loc3']]\n</code></pre>\n\n<h1>Ungroup all elements</h1>\n\n<p>If you want to ungroup all the comma-delimited elements, you can convert the list to a string and then split it:</p>\n\n<pre><code>orig_list2=['jason,\"hello1,hello2,hello3\",somegroup2,bundle1,loc1', 'ruby,hello,somegroup,bundle2,loc2', 'sam','hello3,hello2',\"somegroup3,somegroup4\",\"bundle2\",'loc3']\n\norig_list2 = str(orig_list2)\n\n# list of characters to remove\nbad_chars = ['\\'','\"','[',']',' ']\n\nfor c in bad_chars:\n  orig_list2 = orig_list2.replace(c,'')\n\n# put into a list\nnew_list2 = orig_list2.split(',')\n</code></pre>\n\n<p>If you're dealing with a string that looks like a list but is invalid because some quotes are not complete pairs like the example you left in a comment for JohnZ, you can also use this method, but you wouldn't need to convert it to a string.</p>\n"}, {"comments": [{"owner": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "edited": false, "score": 0, "creation_date": 1435800863, "post_id": 31174280, "comment_id": 50356032, "body": "wont work if I have double quotes on some elements, please see the update on the question. This is failing on some double quoted elements."}, {"owner": {"reputation": 2006, "user_id": 1914142, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/7lmuH.jpg?s=128&g=1", "display_name": "Friendly King", "link": "https://stackoverflow.com/users/1914142/friendly-king"}, "reply_to_user": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "edited": false, "score": 0, "creation_date": 1435801494, "post_id": 31174280, "comment_id": 50356169, "body": "I&#39;ve updated my code to work on your current &quot;orig_list&quot; input. Please let me know if this works for you."}, {"owner": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "edited": false, "score": 0, "creation_date": 1435801756, "post_id": 31174280, "comment_id": 50356226, "body": "it will fail on grouping if orig_list=[&#39;jason,&quot;hello1,hello2,hello3&quot;,somegroup2,bundle1,&zwnj;&#8203;loc1&#39;, &#39;ruby,hello,somegroup,bundle2,loc2&#39;, &#39;sam,&#39;hello3,hello2&#39;,&quot;somegroup3,somegroup4&quot;,&quot;bundle2&quot;,loc3&#39;&zwnj;&#8203;]  I am looking for a generic solution that can handle any type of quoting (double or single) as well as elements may or may not have quotes."}, {"owner": {"reputation": 2006, "user_id": 1914142, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/7lmuH.jpg?s=128&g=1", "display_name": "Friendly King", "link": "https://stackoverflow.com/users/1914142/friendly-king"}, "reply_to_user": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "edited": false, "score": 0, "creation_date": 1435802830, "post_id": 31174280, "comment_id": 50356461, "body": "I misunderstood your original requirement. As per your previous comment, I&#39;ve updated the code to work with the current orig_list."}, {"owner": {"reputation": 2006, "user_id": 1914142, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/7lmuH.jpg?s=128&g=1", "display_name": "Friendly King", "link": "https://stackoverflow.com/users/1914142/friendly-king"}, "reply_to_user": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "edited": false, "score": 0, "creation_date": 1435803285, "post_id": 31174280, "comment_id": 50356565, "body": "If I use that input in the above comment, Python will not interpret it because it is invalid syntax with the quotes. If the quotes are backslashed so that it is a valid sequence of strings, like: [&#39;jason,&quot;hello1,hello2,hello3&quot;,somegroup2,bundle1,loc1&#39;, &#39;ruby,hello,somegroup,bundle2,loc2&#39;, &#39;sam,\\&#39;hello3,hello2\\&#39;,&quot;somegroup3,somegroup4&quot;,&quot;bundle2&quot;,loc&zwnj;&#8203;3&#39;], it will work. Does that help?"}, {"owner": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "edited": false, "score": 0, "creation_date": 1435803436, "post_id": 31174280, "comment_id": 50356592, "body": "but the problem is end user can upload a file with anytype of quotes and I want to handle it at my end. so end user wont escape anything..also they may forget to put quotes on some elements that why trying to handle that too."}], "tags": [], "owner": {"reputation": 2006, "user_id": 1914142, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/7lmuH.jpg?s=128&g=1", "display_name": "Friendly King", "link": "https://stackoverflow.com/users/1914142/friendly-king"}, "is_accepted": true, "score": 1, "last_activity_date": 1435802785, "last_edit_date": 1435802785, "creation_date": 1435800459, "answer_id": 31174280, "question_id": 31172897, "link": "https://stackoverflow.com/questions/31172897/inplace-removal-of-quotes-from-list-of-list/31174280#31174280", "title": "inplace removal of quotes from list of list", "body": "<p>If you need an <em>in-place</em> removal of quotes, you need to add in the <code>[:]</code> to the list comprehension assignment:</p>\n\n<pre><code>orig_list = ['\"jason\",\"hello1,hello2,hello3\",\"somegroup2\",\"bundle1\",\"loc1\"', '\"ruby\",\"hello\",\"somegroup\",\"bundle2\",\"loc2\"', '\"sam\",\"hello3,hello2\",\"somegroup3,somegroup4\",\"bundle2\",\"loc3\"']\nid1 = id(orig_list)\n\norig_list[:] = [w for w in orig_list]\norig_list[:] = [g.replace('\"', \"'\") for g in orig_list]\norig_list[:] = [h.split(\"',\") for h in orig_list]\norig_list[:] = [[j.replace(\"'\", '') for j in k] for k in orig_list]\n\nid2 = id(orig_list)\nprint id1 == id2  # True\nprint orig_list  # [['jason', 'hello1,hello2,hello3', 'somegroup2', 'bundle1', 'loc1'], ['ruby', 'hello', 'somegroup', 'bundle2', 'loc2'], ['sam', 'hello3,hello2', 'somegroup3,somegroup4', 'bundle2', 'loc3']]\n</code></pre>\n\n<p>Note the <code>orig_list[:] = ...</code>. This ensures that you don't create a copy of the list (hence, making it not in-place).</p>\n"}], "owner": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 31174280, "answer_count": 3, "score": 0, "last_activity_date": 1435807919, "creation_date": 1435790614, "last_edit_date": 1435799897, "question_id": 31172897, "link": "https://stackoverflow.com/questions/31172897/inplace-removal-of-quotes-from-list-of-list", "title": "inplace removal of quotes from list of list", "body": "<p>I changed this list </p>\n\n<pre><code>orig_list=['\"jason\",\"hello1,hello2,hello3\",\"somegroup2\",\"bundle1\",\"loc1\"', '\"ruby\",\"hello\",\"somegroup\",\"bundle2\",\"loc2\"', '\"sam\",\"hello3,hello2\",\"somegroup3,somegroup4\",\"bundle2\",\"loc3\"']\n\nnew_list=[x.split(\",\") for x in orig_list]\n\n\nnew_list=[['\"jason\"', '\"hello1', 'hello2', 'hello3\"', '\"somegroup2\"', '\"bundle1\"', '\"loc1\"'], ['\"ruby\"', '\"hello\"', '\"somegroup\"', '\"bundle2\"', '\"loc2\"'], ['\"sam\"', '\"hello3', 'hello2\"', '\"somegroup3', 'somegroup4\"', '\"bundle2\"', '\"loc3\"']]\n</code></pre>\n\n<p>what my intent is to get </p>\n\n<pre><code>[['jason', 'hello1,hello2,hello3', 'somegroup2', 'bundle1', 'loc1'], ['ruby', 'hello', 'somegroup', 'bundle2', 'loc2'], ['sam', 'hello3,hello2', 'somegroup3,somegroup4', 'bundle2', 'loc3']]\n</code></pre>\n\n<p>Is it possible to do it inplace and not creating a new one?</p>\n\n<p>Update : I can have some elements in double quotes, all in double quotes, no double quotes and same in single quotes.</p>\n"}, {"tags": ["python", "arrays", "indices", "interpolation"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "edited": false, "score": 0, "creation_date": 1435791518, "post_id": 31172909, "comment_id": 50353761, "body": "It does ! Very simple and nice. Thank you!"}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": true, "score": 2, "last_activity_date": 1435790689, "creation_date": 1435790689, "answer_id": 31172909, "question_id": 31172861, "link": "https://stackoverflow.com/questions/31172861/interpolation-without-specifying-indices-in-python/31172909#31172909", "title": "Interpolation without specifying indices in Python", "body": "<p>Does Numpy <code>interp</code> do what you want?:</p>\n\n<pre><code>import numpy as np\nx = [0,1,2]\ny = [2,3,4]\nnp.interp(0.56, x, y)\nOut[81]: 2.56\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "is_accepted": false, "score": 0, "last_activity_date": 1435790759, "creation_date": 1435790759, "answer_id": 31172926, "question_id": 31172861, "link": "https://stackoverflow.com/questions/31172861/interpolation-without-specifying-indices-in-python/31172926#31172926", "title": "Interpolation without specifying indices in Python", "body": "<p>Given your two arrays, <code>x</code> and <code>y</code>, you can do something like the following using SciPy.</p>\n\n<pre><code>from scipy.interpolate import InterpolatedUnivariateSpline\n\nspline = InterpolatedUnivariateSpline(x, y, k=5)\nspline(0.56)\n</code></pre>\n\n<p>The keyword <code>k</code> must be between 1 and 5, and <a href=\"http://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.interpolate.InterpolatedUnivariateSpline.html#scipy.interpolate.InterpolatedUnivariateSpline\" rel=\"nofollow\">controls the degree of the spline</a>.</p>\n\n<p>Example:</p>\n\n<pre><code>&gt;&gt;&gt; x = range(10)\n&gt;&gt;&gt; y = range(0, 100, 10)\n&gt;&gt;&gt; spline = InterpolatedUnivariateSpline(x, y, k=5)\n&gt;&gt;&gt; spline(0.56)\narray(5.6000000000000017)\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 1, "accepted_answer_id": 31172909, "answer_count": 2, "score": 0, "last_activity_date": 1435790759, "creation_date": 1435790386, "question_id": 31172861, "link": "https://stackoverflow.com/questions/31172861/interpolation-without-specifying-indices-in-python", "title": "Interpolation without specifying indices in Python", "body": "<p>I have two arrays of the same length, say array x and array y. I want to find the value of y corresponding to x=0.56. This is not a value present in array x. \nI would like python to find by itself the closest value larger than 0.56 (and its corresponding y value) and the closest value smaller than 0.56 (and its corresponding y value). Then simply interpolate to find the value of y when x  0.56.</p>\n\n<p>This is easily done when I find the indices of the two x values and corresponding y values by myself and input them into Python (see following bit of code). \nBut is there any way for python to find the indices by itself?</p>\n\n<pre><code>#interpolation:\ndef effective_height(h1,h2,g1,g2):\n    return (h1 + (((0.56-g1)/(g2-g1))*(h2-h1)))\n\neff_alt1 = effective_height(x[12],x[13],y[12],y[13])\n</code></pre>\n\n<p>In this bit of code, I had to find the indices [12] and [13] corresponding to the closest smaller value to 0.56 and the closest larger value to 0.56. </p>\n\n<blockquote>\n  <p>Now I am looking for a similar technique where I would just tell python to interpolate between the two values of x for x=0.56 and print the corresponding value of y when x=0.56.</p>\n</blockquote>\n\n<p>I have looked at scipy's interpolate but don't think it would help in this case, although further clarification on how I can use it in my case would be helpful too.</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "histogram", "keyerror"], "comments": [{"owner": {"reputation": 6217, "user_id": 1257953, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/afb18b489df58f20beabaa5dc268a8cb?s=128&d=identicon&r=PG", "display_name": "nitin", "link": "https://stackoverflow.com/users/1257953/nitin"}, "edited": false, "score": 0, "creation_date": 1435791759, "post_id": 31172783, "comment_id": 50353826, "body": "can you show the results of print (genesis)"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5071371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85470a73d15a3bf6a488d907f2151d7a?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5071371/connor"}, "edited": false, "score": 0, "creation_date": 1436194974, "post_id": 31173159, "comment_id": 50495661, "body": "Thanks for the help! The change you suggested does plot the histogram I was looking for."}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1435792362, "creation_date": 1435792362, "answer_id": 31173159, "question_id": 31172783, "link": "https://stackoverflow.com/questions/31172783/keyerror-uno-item-named-0-comes-up-with-histogram/31173159#31173159", "title": "KeyError: u&#39;no item named 0&#39; comes up with histogram", "body": "<p><code>hist</code> takes a 1-dimensional array. Does this work?</p>\n\n<pre><code>antimony.Antimony.hist()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5071371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85470a73d15a3bf6a488d907f2151d7a?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5071371/connor"}, "edited": false, "score": 0, "creation_date": 1436194930, "post_id": 31206374, "comment_id": 50495626, "body": "Thank you! This does create the histogram that I was looking for. Also thanks for the documentation link, this will help me in the future."}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 0, "last_activity_date": 1435924824, "creation_date": 1435924824, "answer_id": 31206374, "question_id": 31172783, "link": "https://stackoverflow.com/questions/31172783/keyerror-uno-item-named-0-comes-up-with-histogram/31206374#31206374", "title": "KeyError: u&#39;no item named 0&#39; comes up with histogram", "body": "<p>If you're using the lower-level libraries (that is, not pandas's wrappers for them), you probably should use</p>\n\n<pre><code>hist(antimony.Antimony.values)\n</code></pre>\n\n<p>(see the<a href=\"http://matplotlib.org/examples/pylab_examples/histogram_demo_extended.html\" rel=\"nofollow\"><code>hist</code></a> documentation for more).</p>\n"}], "owner": {"reputation": 13, "user_id": 5071371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85470a73d15a3bf6a488d907f2151d7a?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5071371/connor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "accepted_answer_id": 31206374, "answer_count": 2, "score": 1, "last_activity_date": 1435924824, "creation_date": 1435789946, "last_edit_date": 1435791365, "question_id": 31172783, "link": "https://stackoverflow.com/questions/31172783/keyerror-uno-item-named-0-comes-up-with-histogram", "title": "KeyError: u&#39;no item named 0&#39; comes up with histogram", "body": "<p>I've seen some similar questions on here, but none that seem to be having the exact same problem as me. I'm trying to create a histogram of chemical data. The error in other instances seemed to be related to a missing column, but my data doesn't (and shouldn't) have a column named \"0\". Here is my code and the error message:</p>\n\n<pre><code>%pylab inline\nimport matplotlib.pyplot as plt\nimport pandas as pd\nplt.figure()\n\n#importing the data\ngenesis = pd.read_csv(r'C:\\Connors Temp\\...... (878-15G)\\Task_4 (Genesis)\\genesis_MWMP.csv')\n\narsenic = genesis[['Code','Arsenic']]\nantimony = genesis[['Code','Antimony']]\nplt.hist(antimony)\n\n\nKeyError                                  Traceback (most recent call last)\n&lt;ipython-input-7-c537deba42d9&gt; in &lt;module&gt;()\n----&gt; 1 plt.hist(antimony)\n\nC:\\Python27\\lib\\site-packages\\matplotlib\\pyplot.pyc in hist(x, bins, range, normed, weights, cumulative, bottom, histtype, align, orientation, rwidth, log, color, label, stacked, hold, **kwargs)\n   2655                       histtype=histtype, align=align, orientation=orientation,\n   2656                       rwidth=rwidth, log=log, color=color, label=label,\n-&gt; 2657                       stacked=stacked, **kwargs)\n   2658         draw_if_interactive()\n   2659     finally:\n\nC:\\Python27\\lib\\site-packages\\matplotlib\\axes.pyc in hist(self, x, bins, range, normed, weights, cumulative, bottom, histtype, align, orientation, rwidth, log, color, label, stacked, **kwargs)\n   8010         # Massage 'x' for processing.\n   8011         # NOTE: Be sure any changes here is also done below to 'weights'\n-&gt; 8012         if isinstance(x, np.ndarray) or not iterable(x[0]):\n   8013             # TODO: support masked arrays;\n   8014             x = np.asarray(x)\n\nC:\\Python27\\lib\\site-packages\\pandas\\core\\frame.pyc in __getitem__(self, key)\n   1805                 raise ValueError('Cannot index using non-boolean DataFrame')\n   1806         else:\n-&gt; 1807             return self._get_item_cache(key)\n   1808 \n   1809     def _getitem_array(self, key):\n\nC:\\Python27\\lib\\site-packages\\pandas\\core\\generic.pyc in _get_item_cache(self, item)\n    529             return cache[item]\n    530         except Exception:\n--&gt; 531             values = self._data.get(item)\n    532             res = self._box_item_values(item, values)\n    533             cache[item] = res\n\nC:\\Python27\\lib\\site-packages\\pandas\\core\\internals.pyc in get(self, item)\n    828 \n    829     def get(self, item):\n--&gt; 830         _, block = self._find_block(item)\n    831         return block.get(item)\n    832 \n\nC:\\Python27\\lib\\site-packages\\pandas\\core\\internals.pyc in _find_block(self, item)\n    942 \n    943     def _find_block(self, item):\n--&gt; 944         self._check_have(item)\n    945         for i, block in enumerate(self.blocks):\n    946             if item in block:\n\n    C:\\Python27\\lib\\site-packages\\pandas\\core\\internals.pyc in _check_have(self,    item)\n    949     def _check_have(self, item):\n    950         if item not in self.items:\n--&gt; 951             raise KeyError('no item named %s' % com.pprint_thing(item))\n    952 \n    953     def reindex_axis(self, new_axis, method=None, axis=0, copy=True):\n\nKeyError: u'no item named 0'\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "input", "python-3.3"], "comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1435790045, "post_id": 31172768, "comment_id": 50353278, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/26750499/using-r-with-input-in-python-3\">Using %r with input() in python 3</a>"}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 1, "last_activity_date": 1435790052, "creation_date": 1435790052, "answer_id": 31172804, "question_id": 31172768, "link": "https://stackoverflow.com/questions/31172768/new-python-questions-about-user-input/31172804#31172804", "title": "(new) python questions about user input", "body": "<pre><code>name, age = input(\"Enter name and age: \").split()\nprint(\"Your name is {this} and your age is {that}\".format(this=name, that=age))\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 3955210, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/24f5e385f4bc71fdbb8a6f35bd462048?s=128&d=identicon&r=PG&f=1", "display_name": "Pitu", "link": "https://stackoverflow.com/users/3955210/pitu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 31172804, "answer_count": 1, "score": 0, "last_activity_date": 1435790052, "creation_date": 1435789871, "question_id": 31172768, "link": "https://stackoverflow.com/questions/31172768/new-python-questions-about-user-input", "title": "(new) python questions about user input", "body": "<p>Okay so i have a question on user input, this is fairly simple and i'm new\nso..I'm using python 3.3 and if i were to type</p>\n\n<pre><code>input(\"Enter name and age: \")\n</code></pre>\n\n<p>How do i put together an if statement that records the name and age and tells the user:</p>\n\n<pre><code>print(\"Your name is this and your age is that\")\n</code></pre>\n\n<p>with the values that they inserted,\nPS, I'm using notepad++ as the IDE\nand cmd to enter the input for the code.\nSo no python shells.\nThanks in advance, please explain in detail how your answers work\nbecause i'm fairly new to python, I've been scripting on actionscript before\nbut it was too outdated so i know a few things or 2 about loops but i never really scripted input data which can be recorded.</p>\n\n<p>Thanks in advance .</p>\n"}, {"tags": ["python", "crontab"], "comments": [{"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 1, "creation_date": 1435789720, "post_id": 31172723, "comment_id": 50353196, "body": "You need to run it as root. Non privileged user can only work on their own crontab."}], "answers": [{"tags": [], "owner": {"reputation": 39428, "user_id": 315828, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/033829f8a1562bafb256157e24548fac?s=128&d=identicon&r=PG", "display_name": "xbonez", "link": "https://stackoverflow.com/users/315828/xbonez"}, "is_accepted": false, "score": 3, "last_activity_date": 1435789692, "creation_date": 1435789692, "answer_id": 31172747, "question_id": 31172723, "link": "https://stackoverflow.com/questions/31172723/python-working-with-crontab/31172747#31172747", "title": "python - working with crontab", "body": "<pre><code>users_cron    = CronTab(user='testuser')\n</code></pre>\n\n<p>It appears like you are trying to create a cronjob for the user 'testuser'. </p>\n\n<pre><code>IOError: Read crontab testuser: crontab: must be privileged to use -u\n</code></pre>\n\n<p>The error is telling you that you need to be a privileged user to be able to do that. Try running your script with 'sudo':</p>\n\n<pre><code>sudo python my_python_script.py\n</code></pre>\n\n<p><a href=\"https://xkcd.com/149/\" rel=\"nofollow\">Reference</a></p>\n"}, {"tags": [], "owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "is_accepted": false, "score": 2, "last_activity_date": 1435792431, "creation_date": 1435792431, "answer_id": 31173174, "question_id": 31172723, "link": "https://stackoverflow.com/questions/31172723/python-working-with-crontab/31173174#31173174", "title": "python - working with crontab", "body": "<p>You're trying to access a specific user's crontab, you can't do that on the base system (which is what the python module is trying to use) without root access. If you want to get your own crontab do the following:</p>\n\n<pre><code>users_cron = CronTab(user=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2553, "user_id": 1903784, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a2eda4e1496650b3cebc58c25f3eae9c?s=128&d=identicon&r=PG", "display_name": "gerosalesc", "link": "https://stackoverflow.com/users/1903784/gerosalesc"}, "is_accepted": false, "score": 0, "last_activity_date": 1435792798, "creation_date": 1435792798, "answer_id": 31173218, "question_id": 31172723, "link": "https://stackoverflow.com/questions/31172723/python-working-with-crontab/31173218#31173218", "title": "python - working with crontab", "body": "<p>You can also use <a href=\"https://github.com/fengsp/plan\" rel=\"nofollow\">plan</a> which is an easier way to write cron job for crontab from python:</p>\n\n<pre><code>from plan import Plan\n\ncron = Plan()\n\ncron.command('ls /tmp', every='1.day', at='12:00')\ncron.command('pwd', every='2.month')\ncron.command('date', every='weekend')\n\nif __name__ == '__main__':\n    cron.run()\n</code></pre>\n\n<p>See more in the <a href=\"http://plan.readthedocs.org/quickstart.html#a-minimal-example\" rel=\"nofollow\">docs</a></p>\n"}], "owner": {"reputation": 4374, "user_id": 2137570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a2e309a4e8819db2f83a258553300f81?s=128&d=identicon&r=PG", "display_name": "Lacer", "link": "https://stackoverflow.com/users/2137570/lacer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1808, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1435792798, "creation_date": 1435789586, "question_id": 31172723, "link": "https://stackoverflow.com/questions/31172723/python-working-with-crontab", "title": "python - working with crontab", "body": "<p>I'm fairly new to python.  Some googling has got me to this module <a href=\"https://pypi.python.org/pypi/python-crontab\" rel=\"nofollow\">https://pypi.python.org/pypi/python-crontab</a>.  I've setup my env and installed python-crontab==1.9.3.  But I keep getting errors. What am I doing wrong? Any help would be greatly appreciate.  I'm trying to use examples but they don't seem to be working for me.</p>\n\n<p>What I would like to do is the following:</p>\n\n<ul>\n<li>add a cron job to the cron tab</li>\n</ul>\n\n<p><strong>Terminal Error Output:</strong></p>\n\n<pre><code>    Traceback (most recent call last):\n      File \"test5.py\", line 5, in &lt;module&gt;\n        users_cron    = CronTab(user='testuser')\n      File \"/Users/testuser/Desktop/sample1/prj-env/lib/python2.7/site-packages/crontab.py\", line 187, in __init__\n        self.read(tabfile)\n      File \"/Users/testuser/Desktop/sample1/prj-env/lib/python2.7/site-packages/crontab.py\", line 231, in read\n        raise IOError(\"Read crontab %s: %s\" % (self.user, err))\n    IOError: Read crontab testuser: crontab: must be privileged to use -u\n</code></pre>\n"}, {"tags": ["python", "windows", "pip", "access-denied"], "comments": [{"owner": {"reputation": 1732, "user_id": 2062965, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6cc71dae7c2d7e685c4818b2624621a1?s=128&d=identicon&r=PG&f=1", "display_name": "strpeter", "link": "https://stackoverflow.com/users/2062965/strpeter"}, "edited": false, "score": 0, "creation_date": 1453817817, "post_id": 31172719, "comment_id": 57758469, "body": "There is also a good older post: <a href=\"http://stackoverflow.com/q/4379970/2062965\">any idea how to update python PIP on a windows box?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 1778509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec687a544a67b38e817657c68643b365?s=128&d=identicon&r=PG", "display_name": "Eok", "link": "https://stackoverflow.com/users/1778509/eok"}, "edited": false, "score": 0, "creation_date": 1508191049, "post_id": 31183559, "comment_id": 80505366, "body": "Thanks for this. Some temporary pip files were blocking the installation."}], "tags": [], "owner": {"reputation": 5008, "user_id": 3594526, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/VfPew.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3594526/felix"}, "is_accepted": false, "score": 3, "last_activity_date": 1435837022, "creation_date": 1435837022, "answer_id": 31183559, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/31183559#31183559", "title": "pip install access denied on Windows", "body": "<p>Try to delete the folder <code>c:\\\\users\\\\bruno\\\\appdata\\\\local\\\\temp\\\\easy_install-0fme6u</code> manually and then retry the pip command. </p>\n"}, {"comments": [{"owner": {"reputation": 1085, "user_id": 189211, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d0dba6c11ce7c2959325de7ede8e351e?s=128&d=identicon&r=PG", "display_name": "Jason Dunkelberger", "link": "https://stackoverflow.com/users/189211/jason-dunkelberger"}, "edited": false, "score": 7, "creation_date": 1456595544, "post_id": 32885745, "comment_id": 59025426, "body": "For whatever reason, the temp file permissions were less than full control for my user. Going this route through <code>python -m</code> made the difference."}, {"owner": {"reputation": 6142, "user_id": 2548010, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/49fb97002d1a160f5818111732643b57?s=128&d=identicon&r=PG", "display_name": "Big Money", "link": "https://stackoverflow.com/users/2548010/big-money"}, "edited": false, "score": 4, "creation_date": 1571248049, "post_id": 32885745, "comment_id": 103180430, "body": "Do we know <i>why</i> this works? And not through powershell?"}, {"owner": {"reputation": 4394, "user_id": 534238, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nZVSf.jpg?s=128&g=1", "display_name": "Mike Williamson", "link": "https://stackoverflow.com/users/534238/mike-williamson"}, "reply_to_user": {"reputation": 6142, "user_id": 2548010, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/49fb97002d1a160f5818111732643b57?s=128&d=identicon&r=PG", "display_name": "Big Money", "link": "https://stackoverflow.com/users/2548010/big-money"}, "edited": false, "score": 2, "creation_date": 1612795212, "post_id": 32885745, "comment_id": 116870737, "body": "Yes, @BigMoney I have a strong suspicion why it is working for these users:  <i>They are given rights to run Python, but not rights to run PIP</i>.  With Python, you can pass the -m flag to specify a <i>Python module</i> that you want to run. PIP is a Python module, so it can be passed that way.  But this works for any Python module that can be run directly.  For instance, try <code>python -m http.server 8000</code>, and you will see that you now have an HTTP server running on your local machine at Port 8000."}], "tags": [], "owner": {"reputation": 1983, "user_id": 3805582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32369e437bc8531e673532e7aca048d5?s=128&d=identicon&r=PG&f=1", "display_name": "nayak", "link": "https://stackoverflow.com/users/3805582/nayak"}, "is_accepted": true, "score": 152, "last_activity_date": 1443696766, "creation_date": 1443696766, "answer_id": 32885745, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/32885745#32885745", "title": "pip install access denied on Windows", "body": "<p>In case of windows, in cmd try to run pip install using python executable </p>\n\n<p>e.g.</p>\n\n<pre><code>python -m pip install mitmproxy\n</code></pre>\n\n<p>this should work, at least it worked for me for other package installation.</p>\n"}, {"comments": [{"owner": {"reputation": 1277, "user_id": 2946352, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/bed1a8da1096bc40f94e6fa24642e8f9?s=128&d=identicon&r=PG&f=1", "display_name": "Chronicle", "link": "https://stackoverflow.com/users/2946352/chronicle"}, "edited": false, "score": 3, "creation_date": 1458296459, "post_id": 34121344, "comment_id": 59807940, "body": "I had to do this for both ALL APPLICATION PACKAGES and Users, but then it worked."}, {"owner": {"reputation": 105, "user_id": 548430, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd92619d356b78f4f320a26341d3da8d?s=128&d=identicon&r=PG", "display_name": "Sudipto Shome", "link": "https://stackoverflow.com/users/548430/sudipto-shome"}, "edited": false, "score": 1, "creation_date": 1486046133, "post_id": 34121344, "comment_id": 71185836, "body": "Worked perfectly. Thanks a ton!"}, {"owner": {"reputation": 2554, "user_id": 3424423, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f3d10a1c60893734d32d1c16a249163e?s=128&d=identicon&r=PG&f=1", "display_name": "Nearoo", "link": "https://stackoverflow.com/users/3424423/nearoo"}, "edited": false, "score": 5, "creation_date": 1487687486, "post_id": 34121344, "comment_id": 71889621, "body": "Alternative route with similar effort: 1) Install Linux 2) <code>sudo pip install foo</code>"}, {"owner": {"reputation": 18474, "user_id": 971141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33bad53cc72fd2873b4bd5b426fcc4c1?s=128&d=identicon&r=PG", "display_name": "David Ferenczy Rogo\u017ean", "link": "https://stackoverflow.com/users/971141/david-ferenczy-rogo%c5%bean"}, "reply_to_user": {"reputation": 1277, "user_id": 2946352, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/bed1a8da1096bc40f94e6fa24642e8f9?s=128&d=identicon&r=PG&f=1", "display_name": "Chronicle", "link": "https://stackoverflow.com/users/2946352/chronicle"}, "edited": false, "score": 2, "creation_date": 1490350469, "post_id": 34121344, "comment_id": 73083349, "body": "@Chronicle Did you really allowed everyone to read and write into user profiles? If yes, it&#39;s quite a bad idea (very bad)."}, {"owner": {"reputation": 18474, "user_id": 971141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33bad53cc72fd2873b4bd5b426fcc4c1?s=128&d=identicon&r=PG", "display_name": "David Ferenczy Rogo\u017ean", "link": "https://stackoverflow.com/users/971141/david-ferenczy-rogo%c5%bean"}, "edited": false, "score": 0, "creation_date": 1490350682, "post_id": 34121344, "comment_id": 73083467, "body": "@Richard How adding the permissions for read and write into Python&#39;s directories may solve the issue with the permission denied in user&#39;s <code>temp</code> directory? I would say it&#39;s the way of executing <code>pip</code> (<code>python -m pip</code> instead of just <code>pip</code> as @nayak suggested) what helps, those 9 steps before are most likely irrelevant (as it really doesn&#39;t make any sense)."}, {"owner": {"reputation": 375, "user_id": 6685262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94c769f8e2647455d97981099aeab934?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6685262/daniel"}, "reply_to_user": {"reputation": 1277, "user_id": 2946352, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/bed1a8da1096bc40f94e6fa24642e8f9?s=128&d=identicon&r=PG&f=1", "display_name": "Chronicle", "link": "https://stackoverflow.com/users/2946352/chronicle"}, "edited": false, "score": 0, "creation_date": 1509051160, "post_id": 34121344, "comment_id": 80875012, "body": "This solution worked for me, using @Chronicle&#39;s method (only ALL APPLICATION PACKAGES and Users). I would never recommend adding all permissions unless necessary."}, {"owner": {"reputation": 108, "user_id": 5495810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ec09101278f3be9c1c5e9c6d7ad00fd?s=128&d=identicon&r=PG", "display_name": "Raj", "link": "https://stackoverflow.com/users/5495810/raj"}, "edited": false, "score": 0, "creation_date": 1509211940, "post_id": 34121344, "comment_id": 80931598, "body": "This worked for me after just adding rights for my logged in user. Thanks!"}, {"owner": {"reputation": 4394, "user_id": 534238, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nZVSf.jpg?s=128&g=1", "display_name": "Mike Williamson", "link": "https://stackoverflow.com/users/534238/mike-williamson"}, "reply_to_user": {"reputation": 2554, "user_id": 3424423, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f3d10a1c60893734d32d1c16a249163e?s=128&d=identicon&r=PG&f=1", "display_name": "Nearoo", "link": "https://stackoverflow.com/users/3424423/nearoo"}, "edited": false, "score": 0, "creation_date": 1612794963, "post_id": 34121344, "comment_id": 116870619, "body": "@Nearoo Are you <i>seriously</i> suggesting that installing a new operating system is as much effort as running <code>pip</code> as a Python executable module?  First, that is not true.  Secondly, you are assuming that the OP has no reason to work with a Windows machine.  Third, you are assuming the OP has no important applications, etc that will not port over to Linux.  I use Linux all the time.  I prefer Linux.  But I still find that suggestion ridiculous.  It seems like trolling, IMHO."}], "tags": [], "owner": {"reputation": 1492, "user_id": 2324832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EbFYb.jpg?s=128&g=1", "display_name": "Richard Kenneth Niescior", "link": "https://stackoverflow.com/users/2324832/richard-kenneth-niescior"}, "is_accepted": false, "score": 70, "last_activity_date": 1480062476, "last_edit_date": 1480062476, "creation_date": 1449428227, "answer_id": 34121344, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/34121344#34121344", "title": "pip install access denied on Windows", "body": "<p>Change your Python installation folder's security permissions by:</p>\n\n<ol>\n<li>Open a Python shell</li>\n<li>Go to task manager</li>\n<li>Find the python process</li>\n<li>Right-click and open location</li>\n<li>The folder will open in explorer, go up a directory</li>\n<li>Right-click the folder and select properties</li>\n<li>Click the security tab and hit 'edit'</li>\n<li>Add everyone and give them permission to Read and Write.</li>\n<li>Save your changes</li>\n</ol>\n\n<p>If you open <code>cmd</code> as admin; then you can do the following:</p>\n\n<p>If Python is set in your <code>PATH</code>, then:</p>\n\n<pre><code>python -m pip install mitmproxy\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1359, "user_id": 5716010, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-BDkCjn9GogY/AAAAAAAAAAI/AAAAAAAAAJo/qvLmcAH8ys8/photo.jpg?sz=128", "display_name": "Maulik Dodia", "link": "https://stackoverflow.com/users/5716010/maulik-dodia"}, "edited": false, "score": 0, "creation_date": 1484472749, "post_id": 37222682, "comment_id": 70517872, "body": "U saved my day, bro!"}, {"owner": {"reputation": 953, "user_id": 7952542, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38dd26c716a33c7b6e976e46e162534b?s=128&d=identicon&r=PG&f=1", "display_name": "EliSquared", "link": "https://stackoverflow.com/users/7952542/elisquared"}, "edited": false, "score": 1, "creation_date": 1544299953, "post_id": 37222682, "comment_id": 94229517, "body": "if you run <code>cmd</code> as administrator you should be able to just do normal <code>pip install [package]</code>. Worked for me anyway."}], "tags": [], "owner": {"reputation": 1909, "user_id": 379286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79bbad3d9b2d3128f0ae2bb8e6d6459?s=128&d=identicon&r=PG", "display_name": "Bhoom Suktitipat", "link": "https://stackoverflow.com/users/379286/bhoom-suktitipat"}, "is_accepted": false, "score": 28, "last_activity_date": 1463201655, "creation_date": 1463201655, "answer_id": 37222682, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/37222682#37222682", "title": "pip install access denied on Windows", "body": "<p>Personally, I found that by opening <code>cmd</code> as <strong>admin</strong> then run\n<code>\npython -m pip install mitproxy\n</code>\nseems to fix my problem. </p>\n\n<p><strong>Note:-</strong> I installed python through <code>chocolatey</code> </p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7002875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e515a6785f66d813a0bc3faf275610cc?s=128&d=identicon&r=PG&f=1", "display_name": "mdev", "link": "https://stackoverflow.com/users/7002875/mdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1486391303, "creation_date": 1486391303, "answer_id": 42070146, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/42070146#42070146", "title": "pip install access denied on Windows", "body": "<p>Run cmd.exe as an administrator then type:</p>\n\n<pre><code>python -m pip install\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1298, "user_id": 614770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0228158b14b4520cbc644fc790bc4d48?s=128&d=identicon&r=PG", "display_name": "atm", "link": "https://stackoverflow.com/users/614770/atm"}, "edited": false, "score": 1, "creation_date": 1494535532, "post_id": 42193671, "comment_id": 74883763, "body": "I had the same issue until I closed Spyder"}], "tags": [], "owner": {"reputation": 28120, "user_id": 492773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c30dea4ed3e1c2efc5e877f1f3c971?s=128&d=identicon&r=PG", "display_name": "kichik", "link": "https://stackoverflow.com/users/492773/kichik"}, "is_accepted": false, "score": 2, "last_activity_date": 1486936161, "creation_date": 1486936161, "answer_id": 42193671, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/42193671#42193671", "title": "pip install access denied on Windows", "body": "<p>When all else fails, try quitting your IDE. I had many cases in which PyCharm was causing this. As soon as I quit PyCharm, I was able to finally install my packages from the command line. Alternatively, you can also install through PyCharm itself in Settings -> Project: xxx -> Project Interpreter -> <kbd>+</kbd>.</p>\n"}, {"comments": [{"owner": {"reputation": 470, "user_id": 1599322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3809cfb216518d378d83bca20b536994?s=128&d=identicon&r=PG", "display_name": "Charidimos", "link": "https://stackoverflow.com/users/1599322/charidimos"}, "edited": false, "score": 0, "creation_date": 1506887698, "post_id": 44313921, "comment_id": 79986801, "body": "Same for me - it just needed to run cmd as administrator."}], "tags": [], "owner": {"reputation": 127, "user_id": 749110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21714348c2c3239eaf6c7cf7e436e80d?s=128&d=identicon&r=PG", "display_name": "Charasala", "link": "https://stackoverflow.com/users/749110/charasala"}, "is_accepted": false, "score": 3, "last_activity_date": 1496338819, "creation_date": 1496338819, "answer_id": 44313921, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/44313921#44313921", "title": "pip install access denied on Windows", "body": "<p>Opening command prompt As Administrator just worked for me without using Python executable.\nRight click on command prompt shortcut and choose \"Run as Administrator\".\nThen run the following command.</p>\n\n<pre><code>pip install Django\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 66, "user_id": 8669003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce51aac05e87327547a3717b64e3203?s=128&d=identicon&r=PG&f=1", "display_name": "Cappo", "link": "https://stackoverflow.com/users/8669003/cappo"}, "edited": false, "score": 0, "creation_date": 1585213594, "post_id": 45161495, "comment_id": 107684278, "body": "Yes, did the trick for me! I worked in Git Bash, Pycharm Terminal and Windows Terminal simultaneously, after closing two of three everything worked."}], "tags": [], "owner": {"reputation": 645, "user_id": 4809031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89362ff1bcef4e3e95d1263b98e40e26?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/4809031/robert"}, "is_accepted": false, "score": 16, "last_activity_date": 1500366831, "creation_date": 1500366831, "answer_id": 45161495, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/45161495#45161495", "title": "pip install access denied on Windows", "body": "<p>One additional thing that has not been covered in previous answers and that often cause issues on Windows and stopped me from installing some package despite running as admin is that you get <strong>the same permission denied</strong> error if there is another program that use some of the files you (or <code>pip install</code>) try to access. This is a really stupid \"feature\" of Windows that pops up many times, e.g. when trying to move some files.</p>\n\n<p>In addition I have no clue how to figure out which program locks a particular file, so the easiest ting to do is to reboot and do the installation before starting anything, in particular before running e.g. Spyder or any other Python-based software. You can also try to close all programs, but it can be tricky to know which one actually holds a file. For a directory for example, it is enough that you have an Explorer window open at that directory.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 8514349, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ab6c0ed77d6b7e359dc30dfe98ce6ff0?s=128&d=identicon&r=PG", "display_name": "Sharan", "link": "https://stackoverflow.com/users/8514349/sharan"}, "is_accepted": false, "score": 10, "last_activity_date": 1503626218, "last_edit_date": 1503626218, "creation_date": 1503623984, "answer_id": 45873055, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/45873055#45873055", "title": "pip install access denied on Windows", "body": "<p>Open cmd with \"Run as administrator\" and execute the command <code>pip install mitmproxy</code>. It will install it.</p>\n"}, {"tags": [], "owner": {"reputation": 2892, "user_id": 518804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7eeb4cb02aeddc5a5387292eb3a721e?s=128&d=identicon&r=PG", "display_name": "etov", "link": "https://stackoverflow.com/users/518804/etov"}, "is_accepted": false, "score": 3, "last_activity_date": 1513586015, "last_edit_date": 1513586015, "creation_date": 1505292033, "answer_id": 46192802, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/46192802#46192802", "title": "pip install access denied on Windows", "body": "<p>The cause in my case was having a jupyter notebook open, which was importing the relevant library; the root cause seems to be windows error due to the file being open / in use (see also @Robert's answer, and the recommendation to reboot).</p>\n\n<p>So another thing to verify is that no other python processes are running.</p>\n\n<p>For me, shutting down the notebook server solved the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 332, "user_id": 6891192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Atyt3.jpg?s=128&g=1", "display_name": "K. Andy wang", "link": "https://stackoverflow.com/users/6891192/k-andy-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1515144960, "last_edit_date": 1515144960, "creation_date": 1512006523, "answer_id": 47564625, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/47564625#47564625", "title": "pip install access denied on Windows", "body": "<p>I met a similar problem.But the error report is about </p>\n\n<pre><code>[SSL: TLSV1_ALERT_ACCESS_DENIED] tlsv1 alert access denied (_ssl.c:777)\n</code></pre>\n\n<p>First I tried this <a href=\"https://python-forum.io/Thread-All-pip-install-attempts-are-met-with-SSL-error#pid_28035\" rel=\"nofollow noreferrer\">https://python-forum.io/Thread-All-pip-install-attempts-are-met-with-SSL-error#pid_28035</a> ,but seems it couldn't solve my problems,and still repeat the same issue.</p>\n\n<p>And Second if you are working on a business computer,generally it may exist a web content filter(but I can access  <a href=\"https://pypi.python.org\" rel=\"nofollow noreferrer\">https://pypi.python.org</a> through browser directly).And solve this issue by adding a proxy server.</p>\n\n<p>For windows,open the <code>Internet properties</code> through IE or Chrome or whatsoever ,then set valid <a href=\"https://i.stack.imgur.com/haL1P.png\" rel=\"nofollow noreferrer\">proxy address and port</a>,and this way solve my problems</p>\n\n<p>Or just adding the option <code>pip --proxy [proxy-address]:port install mitmproxy</code>.But you always need to add this option while installing by pypi </p>\n\n<p>The above two solution is alternative for you demand.</p>\n"}, {"tags": [], "owner": {"reputation": 544, "user_id": 7954998, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UvnCx.png?s=128&g=1", "display_name": "pajarnas", "link": "https://stackoverflow.com/users/7954998/pajarnas"}, "is_accepted": false, "score": 5, "last_activity_date": 1533504346, "creation_date": 1533504346, "answer_id": 51698374, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/51698374#51698374", "title": "pip install access denied on Windows", "body": "<p>Try to give permission to full control the python folder.</p>\n\n<p>Find the python root directory-->right button click-->properties-->security-->edit-->give users Full Control-->yes and wait the process finished.</p>\n\n<p>It works for me.</p>\n"}, {"tags": [], "owner": {"reputation": 160, "user_id": 6663675, "user_type": "registered", "profile_image": "https://graph.facebook.com/1764225250524392/picture?type=large", "display_name": "Faizan Amin", "link": "https://stackoverflow.com/users/6663675/faizan-amin"}, "is_accepted": false, "score": -1, "last_activity_date": 1606187773, "last_edit_date": 1606187773, "creation_date": 1533586033, "answer_id": 51714911, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/51714911#51714911", "title": "pip install access denied on Windows", "body": "<p>Just close all the python files opened. And try to run as administrator. It will work.</p>\n<p>e.g.</p>\n<pre><code>pip install mitmproxy\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1667, "user_id": 3515313, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cb90214a7994562e2cb00860f393b1fc?s=128&d=identicon&r=PG&f=1", "display_name": "aDoN", "link": "https://stackoverflow.com/users/3515313/adon"}, "is_accepted": false, "score": 0, "last_activity_date": 1544520770, "creation_date": 1544520770, "answer_id": 53721132, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/53721132#53721132", "title": "pip install access denied on Windows", "body": "<p>In my case, it didn't even work with <code>python -m pip install</code></p>\n\n<p>What I have done is, from a cmd as administrator: </p>\n\n<p><code>PsExec.exe -i -s -d cmd.exe</code></p>\n\n<p>In order to spawn a SYSTEM cmd, then <code>pip install mitmproxy</code></p>\n\n<p>;)</p>\n"}, {"comments": [{"owner": {"reputation": 287, "user_id": 2647672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baf19839353aa6c43495d159f997aa8e?s=128&d=identicon&r=PG", "display_name": "JDG", "link": "https://stackoverflow.com/users/2647672/jdg"}, "edited": false, "score": 0, "creation_date": 1572022348, "post_id": 55614138, "comment_id": 103444186, "body": "This worked for me to install python packages (sympy in this case) at school. Thanks!"}, {"owner": {"reputation": 818, "user_id": 3955989, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/EtS2E.jpg?s=128&g=1", "display_name": "Ajay Sharma", "link": "https://stackoverflow.com/users/3955989/ajay-sharma"}, "edited": false, "score": 0, "creation_date": 1584335465, "post_id": 55614138, "comment_id": 107395622, "body": "Best solution when you don&#39;t have admin rights over your system."}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1598301120, "post_id": 55614138, "comment_id": 112409150, "body": "This did it finally!"}], "tags": [], "owner": {"reputation": 2372, "user_id": 7338066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SjiBv.jpg?s=128&g=1", "display_name": "susan097", "link": "https://stackoverflow.com/users/7338066/susan097"}, "is_accepted": false, "score": 12, "last_activity_date": 1598354469, "last_edit_date": 1598354469, "creation_date": 1554903789, "answer_id": 55614138, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/55614138#55614138", "title": "pip install access denied on Windows", "body": "<p>As, i am installing through anaconda Prompt .In my case, it didn't even work with <code>python -m pip install</code> Then, i add this</p>\n<pre><code>python -m pip install &lt;package_name&gt; --user\n</code></pre>\n<p>It works for me.</p>\n<p><strong>Like: <code>python -m pip install mitmproxy --user</code></strong></p>\n<p>Another you should try that run the Command Prompt as <strong>Run as Administrator</strong> and then try pip install. It should work either.</p>\n"}, {"tags": [], "owner": {"reputation": 1442, "user_id": 11183478, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4xd4njcRxPY/AAAAAAAAAAI/AAAAAAAAA0o/eu0gDC_AAao/photo.jpg?sz=128", "display_name": "Amar Kumar", "link": "https://stackoverflow.com/users/11183478/amar-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1583581401, "last_edit_date": 1583581401, "creation_date": 1583579854, "answer_id": 60576972, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/60576972#60576972", "title": "pip install access denied on Windows", "body": "<ol>\n<li><p>Open Command Prompt as Administrator.</p></li>\n<li><p>To Install any Python Package use this command including <code>--user</code>.</p></li>\n</ol>\n\n<p><code>pip install --ignore-installed --upgrade --user &lt;packagename&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 537, "user_id": 8580128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11577f55c3f1bd4396f8202bcf9ec9d7?s=128&d=identicon&r=PG&f=1", "display_name": "anubhab", "link": "https://stackoverflow.com/users/8580128/anubhab"}, "is_accepted": false, "score": 0, "last_activity_date": 1598245496, "creation_date": 1598245496, "answer_id": 63555009, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows/63555009#63555009", "title": "pip install access denied on Windows", "body": "<p>Running cmd as administrator solved for me. You can also try --user.\nIf you do not want to repeat the steps you need to give full access to anaconda folder.</p>\n"}], "owner": {"reputation": 2621, "user_id": 2014549, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/qaSM9.jpg?s=128&g=1", "display_name": "Bruno Klein", "link": "https://stackoverflow.com/users/2014549/bruno-klein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192336, "favorite_count": 34, "protected_date": 1522471692, "accepted_answer_id": 32885745, "answer_count": 17, "score": 119, "last_activity_date": 1606187773, "creation_date": 1435789569, "last_edit_date": 1462888585, "question_id": 31172719, "link": "https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows", "title": "pip install access denied on Windows", "body": "<p>I am trying to run <code>pip install mitmproxy</code> on Windows, but I keep getting access denied, even with <code>cmd</code> and <code>PowerShell</code> using the <code>Run as Administrator</code> option.</p>\n\n<pre><code>WindowsError: [Error 5] Access is denied: 'c:\\\\users\\\\bruno\\\\appdata\\\\local\\\\temp\\\\easy_install-0fme6u\\\\cryptography-0.9.1\\\\.eggs\\\\cffi-1.1.2-py2.7-win-amd64.egg\\\\_cffi_backend.pyd'\n</code></pre>\n\n<p>How can I make this work?</p>\n"}, {"tags": ["python", "sql", "django", "postgresql"], "comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 1, "creation_date": 1435789591, "post_id": 31172680, "comment_id": 50353147, "body": "<code>select_related</code> might be what you want: <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/querysets/#select-related\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.8/ref/models/querysets/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 0, "creation_date": 1435791743, "post_id": 31172825, "comment_id": 50353821, "body": "I am confused because on the django documentation it seems like select_related is used for the opposite of what I want to do. that is you give select related the model with the foreign key and it finds the model table. I am also getting an error stating that Query_Set has no attribute find_one so I don&#39;t think that is a valid method."}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 0, "creation_date": 1435791895, "post_id": 31172825, "comment_id": 50353866, "body": "@Josh Whoops, meant first() not find_one(), too much mongodb."}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 0, "creation_date": 1435791994, "post_id": 31172825, "comment_id": 50353891, "body": "Also, your comment about the documentation is accurate, it&#39;s a bit confusing. But iirc select_related just operates on the same names that you would use after a <code>.</code> to access the data and uses <code>__</code> anywhere where you would use a <code>.</code> thereafter (like <code>res.serverinfo_set.someother_foreign_key</code> would be <code>serverinfo_set__someother_foreign_key</code>"}, {"owner": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 0, "creation_date": 1435792316, "post_id": 31172825, "comment_id": 50353997, "body": "So in my Server model I have a foreign key reference to a datacenter. I am getting an error from using my select_related saying that datacenter is the only option avaliable."}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 1, "creation_date": 1435792794, "post_id": 31172825, "comment_id": 50354145, "body": "@Josh Hmm, you&#39;re right. Apparently that&#39;s what prefetch_related is for. Wonder if they changed that or if I just never knew."}, {"owner": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 0, "creation_date": 1435868753, "post_id": 31172825, "comment_id": 50392778, "body": "this does not work either. did you try running this on a test app? It seems that there are no ORM methods for what I need to do."}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 0, "creation_date": 1435868939, "post_id": 31172825, "comment_id": 50392863, "body": "Sorry, no I haven&#39;t. Do you mean to say that it&#39;s taking too long, or that it&#39;s not working at all?"}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 0, "creation_date": 1435869516, "post_id": 31172825, "comment_id": 50393113, "body": "Ok, if your problem is with the second bit of code, I just fixed it, if the first one didn&#39;t work then you need to be more specific because it works for me."}, {"owner": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 0, "creation_date": 1435871320, "post_id": 31172825, "comment_id": 50393922, "body": "so for either one, when i try to print the res.&lt;foreignkey&gt;_set i get &lt;foreignkey&gt;_set.None But i can print res.name, so I know it i fetching the server just not the related stuff"}, {"owner": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 0, "creation_date": 1435871527, "post_id": 31172825, "comment_id": 50394009, "body": "interesting, doing this, : from pprint import pprint     pprint (vars(res)) I can see that all of the related objects are there, just under _prefetched_objects_cache, interesting. will look more."}, {"owner": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 0, "creation_date": 1435872393, "post_id": 31172825, "comment_id": 50394443, "body": "ah so I have it figured out now, had to do Server.serverinfo_set.all(), so for me I had to add the .all()"}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "edited": false, "score": 0, "creation_date": 1435879088, "post_id": 31172825, "comment_id": 50396694, "body": "Oh, yes, technically it is a queryset not a list of objects. That was sort of more pseudo code then actual code."}], "tags": [], "owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "is_accepted": true, "score": 3, "last_activity_date": 1435869485, "last_edit_date": 1435869485, "creation_date": 1435790175, "answer_id": 31172825, "question_id": 31172680, "link": "https://stackoverflow.com/questions/31172680/django-select-all-models-with-foreign-key/31172825#31172825", "title": "Django select all models with foreign key", "body": "<p>What you want is to perform a select_related on all the related types you're going to be grabbing. For instance:</p>\n\n<pre><code>res = Server.objects.prefetch_related(\"serverinfo_set\", \"serverdnsrecord_set\", ...).first()\nres.serverinfo_set # Won't need another query\nres.serverdnsrecord_set # Won't need another query\n</code></pre>\n\n<p>Also, if you want to do this automagically you could do:</p>\n\n<pre><code>related_fieldnames = [f.get_accessor_name() for f in Server._meta.get_all_related_objects()]\nres = Server.objects.prefetch_related(*related_fieldnames).first()\nres.serverinfo_set # Won't need another query\nres.serverdnsrecord_set # Won't need another query\n</code></pre>\n\n<p>I should point out that if this application gets reused and someone starts tacking on more ForeignKeys to Server that those will all get select_related of course.</p>\n"}], "owner": {"reputation": 344, "user_id": 4607046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4dbcfb0b07804e9bcf67d3b61a572f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4607046/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1559, "favorite_count": 0, "accepted_answer_id": 31172825, "answer_count": 1, "score": 0, "last_activity_date": 1435869485, "creation_date": 1435789353, "last_edit_date": 1435790057, "question_id": 31172680, "link": "https://stackoverflow.com/questions/31172680/django-select-all-models-with-foreign-key", "title": "Django select all models with foreign key", "body": "<p>In A Django web app I have defined a model named Server</p>\n\n<pre><code>class Server(models.model):\n</code></pre>\n\n<p>and a bunch of models that use this model as a foreign key</p>\n\n<pre><code>class ServerInfo(models.Model):\n    server = models.ForeignKey(server, null=True)\nclass ServerDNSRecord(models.Model):\n    server = models.ForeignKey(server, null=True)\n...etc\n</code></pre>\n\n<p>Now what I have an API call that returns a server with all of its attached info. Currently I am just doing a for loop for each server and searching each info table with the name of the server. The problem is sometimes I need to make an API call that returns ALL of the servers and their info. </p>\n\n<p>This creates a huge amount of SQL Queries to the database, and the response time on this call is usually greater than 5 seconds, which is unacceptable. </p>\n\n<p>Is there any easy way to do some sort of join or foreign key search to decrease the amount of database calls to speed things up?</p>\n"}, {"tags": ["python", "python-2.7", "ipython-notebook"], "comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 1, "creation_date": 1435789923, "post_id": 31172663, "comment_id": 50353247, "body": "<code>IPython.html requires pyzmq &gt;= 13</code> =&gt; you&#39;re missing a dependency called pyzmq or you have it and it&#39;s the wrong version. I think it&#39;s this dependency but not sure: <a href=\"https://pypi.python.org/pypi/pyzmq/13.0.0\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/pyzmq/13.0.0</a>"}, {"owner": {"reputation": 45, "user_id": 5049673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9JMVk.jpg?s=128&g=1", "display_name": "John Frye", "link": "https://stackoverflow.com/users/5049673/john-frye"}, "reply_to_user": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1435812945, "post_id": 31172663, "comment_id": 50358734, "body": "yeah i had to go back and individually install certain packages. for some reason the &gt;pip install ipython[all] did not install everything"}, {"owner": {"reputation": 11171, "user_id": 4967110, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hB02M.jpg?s=128&g=1", "display_name": "AZhao", "link": "https://stackoverflow.com/users/4967110/azhao"}, "edited": false, "score": 0, "creation_date": 1436908811, "post_id": 31172663, "comment_id": 50807730, "body": "next time use anaconda!  everything installs cleanly!"}], "owner": {"reputation": 45, "user_id": 5049673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9JMVk.jpg?s=128&g=1", "display_name": "John Frye", "link": "https://stackoverflow.com/users/5049673/john-frye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435789248, "creation_date": 1435789248, "question_id": 31172663, "link": "https://stackoverflow.com/questions/31172663/trouble-running-ipython-notebook", "title": "Trouble Running Ipython Notebook", "body": "<p>For some reason I cannot open the Ipython notebook. When I run the command ipython notebook, I get a long list of statements that I cannot understand and an Import Error in the last line of the list. I am almost sure that I installed IPython entirely. I did it using pip. To check that it installed properly, I simply checked its version.\nHere is the output of the cmd window.</p>\n\n<pre><code>C:\\Python27\\Scripts&gt;ipython --version\n3.2.0\nC:\\Python27\\Scripts&gt;ipython notebook\nTraceback (most recent call last):\nFile \"C:\\Python27\\lib\\runpy.py\", line 162, in _run_module_as_main\n  \"__main__\", fname, loader, pkg_name)\nFile \"C:\\Python27\\lib\\runpy.py\", line 72, in _run_code\nexec code in run_globals\nFile \"C:\\Python27\\Scripts\\ipython.exe\\__main__.py\", line 9, in &lt;module&gt;\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\__init__.py\", line 120, in\nstart_\npython\nreturn launch_new_instance(argv=argv, **kwargs)\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\config\\application.py\", line\n573,\nin launch_instance\napp.initialize(argv)\nFile \"&lt;string&gt;\", line 2, in initialize\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\config\\application.py\", line 75,\nn catch_config_error\nreturn method(app, *args, **kwargs)\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\terminal\\ipapp.py\", line 321, in\nnitialize\nsuper(TerminalIPythonApp, self).initialize(argv)\nFile \"&lt;string&gt;\", line 2, in initialize\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\config\\application.py\", line 75,\nn catch_config_error\nreturn method(app, *args, **kwargs)\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\core\\application.py\", line 369,\ni\ninitialize\nself.parse_command_line(argv)\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\terminal\\ipapp.py\", line 316, in\narse_command_line\nreturn super(TerminalIPythonApp, self).parse_command_line(argv)\nFile \"&lt;string&gt;\", line 2, in parse_command_line\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\config\\application.py\", line 75,\nn catch_config_error\nreturn method(app, *args, **kwargs)\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\config\\application.py\", line \n471,\nin parse_command_line\nreturn self.initialize_subcommand(subc, subargv)\nFile \"&lt;string&gt;\", line 2, in initialize_subcommand\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\config\\application.py\", line 75,\nn catch_config_error\nreturn method(app, *args, **kwargs)\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\config\\application.py\", line  \n402,\nin initialize_subcommand\nsubapp = import_item(subapp)\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\utils\\importstring.py\", line 42,\nn import_item\nmodule = __import__(package, fromlist=[obj])\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\html\\notebookapp.py\", line 30,  \nin\n&lt;module&gt;\ncheck_for_zmq('13', 'IPython.html')\nFile \"C:\\Python27\\lib\\site-packages\\IPython\\utils\\zmqrelated.py\", line 12,  \nin\ncheck_for_zmq\nraise ImportError(\"%s requires pyzmq &gt;= %s\"%(required_by, minimum_version))\nImportError: IPython.html requires pyzmq &gt;= 13\n</code></pre>\n\n<p>Sorry for the sloppy output\nAs always, I really appreciate the help.</p>\n"}, {"tags": ["c#", "python", "boolean", "capitalization"], "comments": [{"owner": {"reputation": 5663, "user_id": 4401293, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8e7aa14bcc48ad45b4c0d12cf5b4b147?s=128&d=identicon&r=PG", "display_name": "Quality Catalyst", "link": "https://stackoverflow.com/users/4401293/quality-catalyst"}, "edited": false, "score": 10, "creation_date": 1435789403, "post_id": 31172657, "comment_id": 50353093, "body": "<code>public const bool True = true;</code>"}, {"owner": {"reputation": 12070, "user_id": 5044950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9yN0x.jpg?s=128&g=1", "display_name": "Sam Estep", "link": "https://stackoverflow.com/users/5044950/sam-estep"}, "reply_to_user": {"reputation": 5663, "user_id": 4401293, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8e7aa14bcc48ad45b4c0d12cf5b4b147?s=128&d=identicon&r=PG", "display_name": "Quality Catalyst", "link": "https://stackoverflow.com/users/4401293/quality-catalyst"}, "edited": false, "score": 4, "creation_date": 1435789894, "post_id": 31172657, "comment_id": 50353239, "body": "@QualityCatalyst has your best answer, but it&#39;s bad practice all around to do this kind of thing (it will confuse anyone who reads your code). Just use <code>True</code> and <code>False</code> like a good Microsoft customer."}, {"owner": {"reputation": 4497, "user_id": 2856868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YYZQQ.jpg?s=128&g=1", "display_name": "Matt Rowland", "link": "https://stackoverflow.com/users/2856868/matt-rowland"}, "reply_to_user": {"reputation": 5663, "user_id": 4401293, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8e7aa14bcc48ad45b4c0d12cf5b4b147?s=128&d=identicon&r=PG", "display_name": "Quality Catalyst", "link": "https://stackoverflow.com/users/4401293/quality-catalyst"}, "edited": false, "score": 1, "creation_date": 1435796163, "post_id": 31172657, "comment_id": 50355005, "body": "@QualityCatalyst you might think about moving that comment to an answer. That way others that search this question can find the answer a little easier."}, {"owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 0, "creation_date": 1435811623, "post_id": 31172657, "comment_id": 50358355, "body": "I agree. Pad it a bit and you have a free green check."}, {"owner": {"reputation": 5663, "user_id": 4401293, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8e7aa14bcc48ad45b4c0d12cf5b4b147?s=128&d=identicon&r=PG", "display_name": "Quality Catalyst", "link": "https://stackoverflow.com/users/4401293/quality-catalyst"}, "reply_to_user": {"reputation": 12070, "user_id": 5044950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9yN0x.jpg?s=128&g=1", "display_name": "Sam Estep", "link": "https://stackoverflow.com/users/5044950/sam-estep"}, "edited": false, "score": 0, "creation_date": 1435912376, "post_id": 31172657, "comment_id": 50407090, "body": "Will do, @RedRoboHood."}], "answers": [{"tags": [], "owner": {"reputation": 5663, "user_id": 4401293, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8e7aa14bcc48ad45b4c0d12cf5b4b147?s=128&d=identicon&r=PG", "display_name": "Quality Catalyst", "link": "https://stackoverflow.com/users/4401293/quality-catalyst"}, "is_accepted": true, "score": 2, "last_activity_date": 1435912581, "creation_date": 1435912581, "answer_id": 31202238, "question_id": 31172657, "link": "https://stackoverflow.com/questions/31172657/c-boolean-capitalization/31202238#31202238", "title": "C# boolean capitalization", "body": "<p>One way is to declare a constant that reflects the <code>true</code> value.</p>\n\n<pre><code>public const bool True = true;\n</code></pre>\n\n<p>I personally wouldn't go down this path though as it seems to be more like a personal choice. It may confuse other developers and doesn't add general value.</p>\n"}], "owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 31202238, "answer_count": 1, "score": 2, "last_activity_date": 1435912581, "creation_date": 1435789210, "question_id": 31172657, "link": "https://stackoverflow.com/questions/31172657/c-boolean-capitalization", "title": "C# boolean capitalization", "body": "<p>I'm working in python with a c# library I occasionally have to edit. In python, booleans are specified as True/False. In c#, as true/false. This is driving me crazy. Is there a way to use #define or something to make c# recognize True/False as true/false?</p>\n"}, {"tags": ["python", "compiler-errors"], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 2, "last_activity_date": 1435789035, "creation_date": 1435789035, "answer_id": 31172626, "question_id": 31172607, "link": "https://stackoverflow.com/questions/31172607/trouble-running-a-python-script/31172626#31172626", "title": "Trouble Running A Python Script", "body": "<p>You need to use <code>raw_input</code> rather than <code>input</code>, as the latter attempts to evaluate what you enter while the former keeps it as a string.</p>\n"}, {"comments": [{"owner": {"reputation": 415, "user_id": 4857623, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/E42ao.jpg?s=128&g=1", "display_name": "marc_s", "link": "https://stackoverflow.com/users/4857623/marc-s"}, "edited": false, "score": 0, "creation_date": 1435789142, "post_id": 31172627, "comment_id": 50353014, "body": "Thanks, First Time I Hear Of <code>raw_input()</code>!"}], "tags": [], "owner": {"reputation": 12070, "user_id": 5044950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9yN0x.jpg?s=128&g=1", "display_name": "Sam Estep", "link": "https://stackoverflow.com/users/5044950/sam-estep"}, "is_accepted": false, "score": 2, "last_activity_date": 1435789040, "creation_date": 1435789040, "answer_id": 31172627, "question_id": 31172607, "link": "https://stackoverflow.com/questions/31172607/trouble-running-a-python-script/31172627#31172627", "title": "Trouble Running A Python Script", "body": "<p>One of the problems with Python 2 is that it tries to take user input from the <code>input</code> function and execute it as Python code, instead of just returning it as a string. To avoid this problem, use <code>raw_input</code> instead:</p>\n\n<pre><code>name = raw_input(\"What's your name? \")\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 4857623, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/E42ao.jpg?s=128&g=1", "display_name": "marc_s", "link": "https://stackoverflow.com/users/4857623/marc-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1435789040, "creation_date": 1435788932, "question_id": 31172607, "link": "https://stackoverflow.com/questions/31172607/trouble-running-a-python-script", "title": "Trouble Running A Python Script", "body": "<p>Here's my code:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>name = input(\"What's your name? \")\nprint(\"Nice to meet you \" + name + \"!\")\n</code></pre>\n\n<p>But when i enter a name, for example \"john\", it gives me this error:<br></p>\n\n<pre><code>Traceback (most recent call last):\n  File \"name.py\", line 1, in &lt;module&gt;\n    name = input(\"What's your name? \")\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\nNameError: name 'john' is not defined\n</code></pre>\n\n<p>The version of python i'm using is \"2.7.10\".</p>\n"}, {"tags": ["python", "python-2.7", "passwords", "stdin", "tty"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435789798, "post_id": 31172596, "comment_id": 50353215, "body": "I dont think it is possible, why do you want it with pycharm?"}, {"owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1435817836, "post_id": 31172596, "comment_id": 50360384, "body": "Well, because it&#39;s the IDE I use, and I launch my scripts from there"}], "owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 981, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1458812120, "creation_date": 1435788867, "last_edit_date": 1458812120, "question_id": 31172596, "link": "https://stackoverflow.com/questions/31172596/password-prompt-in-pycharm", "title": "Password prompt in pycharm", "body": "<p>I am trying to prompt the user for his password in pycharm, without echoing back the password in the console output.</p>\n\n<p>I have tried to use the getpass module, but it will echo it back. How could I do this, or make getpass not echo the password in pycharm?</p>\n\n<p>Here's a bit of digging into the code:</p>\n\n<p><code>getpass</code> first tries to manipulate the tty, but it throws an exception</p>\n\n<pre><code>&gt;&gt;&gt; os.open('/dev/tty', os.O_RDWR|os.O_NOCTTY)\nOSError: [Errno 6] Device not configured: '/dev/tty'\n</code></pre>\n\n<p>It then tries to manipulate the stdin, but it also throws an exception:</p>\n\n<pre><code>&gt;&gt;&gt; sys.stdin.fileno()\nAttributeError: StdIn instance has no attribute 'fileno'\n</code></pre>\n\n<p>Does anyone know of a way to make either work?</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 12070, "user_id": 5044950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9yN0x.jpg?s=128&g=1", "display_name": "Sam Estep", "link": "https://stackoverflow.com/users/5044950/sam-estep"}, "edited": false, "score": 0, "creation_date": 1435788928, "post_id": 31172591, "comment_id": 50352943, "body": "I don&#39;t see a mention of <code>findings_rec_risk_score</code> in your code... is it the same as <code>findings_score</code>? If so, you should edit your question to clarify that."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1435788959, "post_id": 31172591, "comment_id": 50352954, "body": "Your iterating variable is the same name as the iterable (<code>value</code>), and I don&#39;t see anything named <code>findings_rec_risk_score</code>."}, {"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1435788999, "post_id": 31172591, "comment_id": 50352966, "body": "Uh, could you please check your whitespacing?"}], "answers": [{"tags": [], "owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "is_accepted": false, "score": 0, "last_activity_date": 1435789020, "creation_date": 1435789020, "answer_id": 31172624, "question_id": 31172591, "link": "https://stackoverflow.com/questions/31172591/python-dynamically-increment-a-dictionary-on-loop-issue/31172624#31172624", "title": "Python dynamically increment a dictionary on loop issue", "body": "<p>It sounds like this is what you want:</p>\n\n<pre><code>values = [0,1,2,3,4,5,6]\nfindings_score = {}\n\ndata = {'value': 3, 'foo': 'foo'}\n\nfor value in values:\n    if (int(data['value']) == value and data['foo'] == 'foo'):\n        if value in findings_score:\n            findings_score[value] =  findings_score[value] + 1\n        else:\n            findings_score[value] = 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 113, "user_id": 4723845, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6dad6e6820061474c70104eadb45f24a?s=128&d=identicon&r=PG&f=1", "display_name": "user4723845", "link": "https://stackoverflow.com/users/4723845/user4723845"}, "edited": false, "score": 0, "creation_date": 1435789942, "post_id": 31172679, "comment_id": 50353256, "body": "@user4723845, no prob, you could use a normal dict with dict.setdefault or dict.get but a defautdict is the most efficient"}, {"owner": {"reputation": 113, "user_id": 4723845, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6dad6e6820061474c70104eadb45f24a?s=128&d=identicon&r=PG&f=1", "display_name": "user4723845", "link": "https://stackoverflow.com/users/4723845/user4723845"}, "edited": false, "score": 0, "creation_date": 1435790061, "post_id": 31172679, "comment_id": 50353282, "body": "But now, I&#39;m not able to reference values: For Example print findings_score[2]"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 113, "user_id": 4723845, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6dad6e6820061474c70104eadb45f24a?s=128&d=identicon&r=PG&f=1", "display_name": "user4723845", "link": "https://stackoverflow.com/users/4723845/user4723845"}, "edited": false, "score": 0, "creation_date": 1435790127, "post_id": 31172679, "comment_id": 50353300, "body": "@user4723845, not sure what you mean, the keys are each value from values. They only get added if your if statement evaluates to True though so don&#39;t expect them all. In you example only <code>3</code> would get added"}, {"owner": {"reputation": 113, "user_id": 4723845, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6dad6e6820061474c70104eadb45f24a?s=128&d=identicon&r=PG&f=1", "display_name": "user4723845", "link": "https://stackoverflow.com/users/4723845/user4723845"}, "edited": false, "score": 0, "creation_date": 1435790922, "post_id": 31172679, "comment_id": 50353569, "body": "I was doing something wrong. Defaultdict is the answer to my query :)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 113, "user_id": 4723845, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6dad6e6820061474c70104eadb45f24a?s=128&d=identicon&r=PG&f=1", "display_name": "user4723845", "link": "https://stackoverflow.com/users/4723845/user4723845"}, "edited": false, "score": 0, "creation_date": 1435790950, "post_id": 31172679, "comment_id": 50353581, "body": "@user4723845, well you have a few options now anyway ;)"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 0, "last_activity_date": 1435790420, "last_edit_date": 1435790420, "creation_date": 1435789348, "answer_id": 31172679, "question_id": 31172591, "link": "https://stackoverflow.com/questions/31172591/python-dynamically-increment-a-dictionary-on-loop-issue/31172679#31172679", "title": "Python dynamically increment a dictionary on loop issue", "body": "<p>Use a <a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"nofollow\">defaultdict</a>, initialising the dict outside the loop:</p>\n\n<pre><code>from collections import defaultdict\nfindings_score = defaultdict(int)\nvalues = [0,1,2,3,4,5,6]\n\nfor value in values:\n    if int(data['value']) == value and data['foo'] == 'foo':\n        findings_score[value] += 1\n</code></pre>\n\n<p>Using a normal dict you could use dict.setdefault or dict.get:</p>\n\n<pre><code>findings_score = {}\nvalues = [0,1,2,3,4,5,6]\n\nfor value in values:\n    if int(data['value']) == value and data['foo'] == 'foo':\n        findings_score[value] = findings_score.get(value, 0) + 1\n\nfindings_score = {}\nvalues = [0,1,2,3,4,5,6]\n\nfor value in values:\n    if int(data['value']) == value and data['foo'] == 'foo':\n        findings_score.setdefault(value, 0)\n        findings_score[value] += 1\n</code></pre>\n\n<p>If you want all the elements in values to be in the output you can use dict.fromkeys:</p>\n\n<pre><code> findings_score = dict.fromkeys(values,0)\n for value in values:\n     if int(data['value']) == value and data['foo'] == 'foo':\n        findings_score[value] += 1\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 4723845, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6dad6e6820061474c70104eadb45f24a?s=128&d=identicon&r=PG&f=1", "display_name": "user4723845", "link": "https://stackoverflow.com/users/4723845/user4723845"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 31172679, "answer_count": 2, "score": 1, "last_activity_date": 1435790420, "creation_date": 1435788849, "last_edit_date": 1435789602, "question_id": 31172591, "link": "https://stackoverflow.com/questions/31172591/python-dynamically-increment-a-dictionary-on-loop-issue", "title": "Python dynamically increment a dictionary on loop issue", "body": "<p>I'm trying to do something like below. Where if the \"If statement\" on a loop criteria matches I want to do an increment using one of the parameters from the \"If\" statement. </p>\n\n<pre><code>value = [0,1,2,3,4,5,6]\ndata = {'value': 3, 'foo': 'foo'}\nfor value in value:\n    if (int(data['value']) == value and data['foo'] == 'foo'):\n        findings_score[value] =  findings_score[value] + 1\n</code></pre>\n\n<p>I'm trying to do this on python and I get an error since the values - \"findings_score[value]\"` need to be initialized. I can do that by individually initialing the findings_score[value] dict, but I want to understand the best approach here.</p>\n\n<p>`Error - NameError: global name 'findings_score[value]' is not defined</p>\n"}, {"tags": ["python", "django", "hadoop", "heroku"], "answers": [{"comments": [{"owner": {"reputation": 4024, "user_id": 1080804, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9bff7b79c1278cd94621160ed497aa71?s=128&d=identicon&r=PG", "display_name": "ecoe", "link": "https://stackoverflow.com/users/1080804/ecoe"}, "edited": false, "score": 1, "creation_date": 1435790628, "post_id": 31172873, "comment_id": 50353465, "body": "Thanks, you&#39;re right and I&#39;m updating my question in response to emphasize my aim."}, {"owner": {"reputation": 3807, "user_id": 263989, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f23764d7a9cccf6a06c2fd40f0a5e59d?s=128&d=identicon&r=PG", "display_name": "fasouto", "link": "https://stackoverflow.com/users/263989/fasouto"}, "reply_to_user": {"reputation": 4024, "user_id": 1080804, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9bff7b79c1278cd94621160ed497aa71?s=128&d=identicon&r=PG", "display_name": "ecoe", "link": "https://stackoverflow.com/users/1080804/ecoe"}, "edited": false, "score": 0, "creation_date": 1435790779, "post_id": 31172873, "comment_id": 50353520, "body": "BTW, if you want to do it just for fun I think It could be a very interesting experiment :) Hadoop is not trivial to install  and I would love to know if it could be installed in heroku"}], "tags": [], "owner": {"reputation": 3807, "user_id": 263989, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f23764d7a9cccf6a06c2fd40f0a5e59d?s=128&d=identicon&r=PG", "display_name": "fasouto", "link": "https://stackoverflow.com/users/263989/fasouto"}, "is_accepted": false, "score": 1, "last_activity_date": 1435790651, "last_edit_date": 1435790651, "creation_date": 1435790477, "answer_id": 31172873, "question_id": 31172542, "link": "https://stackoverflow.com/questions/31172542/running-hadoop-mapreduce-django-apps-on-a-heroku-dynamo/31172873#31172873", "title": "Running Hadoop mapreduce Django apps on a Heroku dynamo", "body": "<p>I doubt that you can install Hadoop on heroku, but even if you can what's the point?</p>\n\n<p>Hadoop makes distributed computing easy, if you are going to run it in the Heroku free tier you will have a cluter of one, maybe two dynos. To harness the power of Hadoop you need more hardware. Also heroku dynos have 512 Mb of RAM....</p>\n"}], "owner": {"reputation": 4024, "user_id": 1080804, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9bff7b79c1278cd94621160ed497aa71?s=128&d=identicon&r=PG", "display_name": "ecoe", "link": "https://stackoverflow.com/users/1080804/ecoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1435790899, "creation_date": 1435788583, "last_edit_date": 1495540313, "question_id": 31172542, "link": "https://stackoverflow.com/questions/31172542/running-hadoop-mapreduce-django-apps-on-a-heroku-dynamo", "title": "Running Hadoop mapreduce Django apps on a Heroku dynamo", "body": "<p>Is it readily possible to integrate a Hadoop client with python (django) mapreduce apps/scripts <em>remotely</em> (on Heroku dynamos or <a href=\"https://stackoverflow.com/questions/18078504/free-hadoop-cluster-for-experiments\">from a free cluster</a>) as is done <em>locally</em> in these examples:</p>\n\n<ul>\n<li><a href=\"http://www.michael-noll.com/tutorials/writing-an-hadoop-mapreduce-program-in-python/\" rel=\"nofollow noreferrer\">http://www.michael-noll.com/tutorials/writing-an-hadoop-mapreduce-program-in-python/</a></li>\n<li><a href=\"http://blog.matthewrathbone.com/2013/11/17/python-map-reduce-on-hadoop---a-beginners-tutorial.html\" rel=\"nofollow noreferrer\">http://blog.matthewrathbone.com/2013/11/17/python-map-reduce-on-hadoop---a-beginners-tutorial.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12667868/hadoop-and-django-is-it-possible\">Hadoop and Django, is it possible?</a></li>\n</ul>\n\n<p>This Heroku addon led me to believe this might be possible: <a href=\"https://devcenter.heroku.com/articles/treasure-data\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/treasure-data</a>. But this app isn't free and the learning-curve-to-cost ratio is not an obvious investment to me.</p>\n\n<p>My motivation to cross the Heroku/Django/Hadoop bridge is to upgrade my current Django apps with social media mining features.</p>\n"}, {"tags": ["python", "mysql", "python-2.7", "pandas", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "edited": false, "score": 0, "creation_date": 1435796244, "post_id": 31172605, "comment_id": 50355020, "body": "Thanks joris, this looks exactly like what I need! I am trying to run it though, but I run in to a type error: <code>TypeError: issubclass() arg 1 must be a class</code>. I have done pretty much exactly what you suggested. The import works fine. I have pasted the traceback here: <a href=\"http://pastebin.com/KHeSYAdr\" rel=\"nofollow noreferrer\">pastebin.com/KHeSYAdr</a>"}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "reply_to_user": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "edited": false, "score": 1, "creation_date": 1435796641, "post_id": 31172605, "comment_id": 50355112, "body": "Ah, yes, that was a bug in 0.15 preventing you to use such an instantiated class (which is the case when providing a keyword), see <a href=\"https://github.com/pydata/pandas/pull/9138\" rel=\"nofollow noreferrer\">github.com/pydata/pandas/pull/9138</a>. You need 0.16 for that fix (or you can apply it yourself as it is only a 2 line fix, see the linked PR)"}, {"owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "edited": false, "score": 0, "creation_date": 1435798601, "post_id": 31172605, "comment_id": 50355519, "body": "Perfect, it works now! I upgraded to Pandas 0.16 (that took a while), but now the <code>dtype</code> gets me the MySQL types I want! Thanks!"}], "tags": [], "owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "is_accepted": true, "score": 2, "last_activity_date": 1435796769, "last_edit_date": 1435796769, "creation_date": 1435788914, "answer_id": 31172605, "question_id": 31172438, "link": "https://stackoverflow.com/questions/31172438/unsigned-int-for-dataframe-to-sql-using-sqlalchemy-types/31172605#31172605", "title": "Unsigned int for dataframe to_sql using sqlalchemy types", "body": "<p>To get an unsigned int, you can specify this in the sqlalchemy constructor of the INTEGER type for mysql (see <a href=\"http://docs.sqlalchemy.org/en/rel_0_9/dialects/mysql.html#sqlalchemy.dialects.mysql.SMALLINT\" rel=\"nofollow\">the docs</a> on the mysql types of sqlalchemy):</p>\n\n<pre><code>In [23]: from sqlalchemy.dialects import mysql\n\nIn [24]: mysql.INTEGER(unsigned=True)\nOut[24]: INTEGER(unsigned=True)\n</code></pre>\n\n<p>So you can provide this to the <code>dtype</code> argument in <code>to_sql</code> instead of the more general <code>sql_types.INT</code>: </p>\n\n<pre><code>dtype={'problems': mysql.INTEGER(unsigned=True), ...}\n</code></pre>\n\n<p><strong>Note</strong>: you need at least pandas 0.16.0 to have this working.</p>\n"}], "owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 1, "accepted_answer_id": 31172605, "answer_count": 1, "score": 4, "last_activity_date": 1435796769, "creation_date": 1435788000, "last_edit_date": 1495542106, "question_id": 31172438, "link": "https://stackoverflow.com/questions/31172438/unsigned-int-for-dataframe-to-sql-using-sqlalchemy-types", "title": "Unsigned int for dataframe to_sql using sqlalchemy types", "body": "<p>I am unable to assign an <code>unsigned int</code> type when using <code>.to_sql()</code> to write my dataframe to a MySQL database. I can use the other <code>int</code> types, but just am unable to get <code>unsigned</code>. A small representative sample of what I am trying looks like this:</p>\n\n<pre><code>import pandas as pd\nfrom sqlalchemy import create_engine\nimport sqlalchemy.types as sql_types\n\ndb_engine = create_engine('mysql://db_user:db_pass@db_host:db_port/db_schema')\n\nd = {'id': [100,101,102], 'items': [6,10,20000], 'problems': [50,72,2147483649]} # Representative sample dictionary\ndf = pd.DataFrame(d).set_index('id')\n</code></pre>\n\n<p>This gives:</p>\n\n<pre><code>&gt;&gt;&gt; df\n         items    problems\nid\n100          6          50\n101         10          72\n102      20000  2147483649\n</code></pre>\n\n<p>I write to the database as follows:</p>\n\n<pre><code>df.to_sql('my_table',\n          db_engine,\n          flavor='mysql',\n          if_exists='replace',\n          index_label=['id'],\n          dtype={'id': sql_types.SMALLINT,\n                 'items': sql_types.INT,\n                 'problems': sql_types.INT}\n</code></pre>\n\n<p>But what happens is the value of <code>problems</code> in the last row (<code>id==102</code>) gets truncated to <code>2147483647</code> (which is <code>2^31-1</code>) when written to the db.</p>\n\n<p>There are no other issues in the connection or when writing other standard data types, including <code>int</code>. I <em>could</em> get away by using the <code>sql_types.BIGINT</code> option instead (making the maximum <code>2^63-1</code>), but that would really just be unnecessary as I know my values would fall below <code>4294967296</code> (<code>2^32-1</code>), which is basically the <code>unsigned int</code> maximum.</p>\n\n<p><strong>So question is:</strong> How can I assign an <code>unsigned int</code> field using the <code>.to_sql()</code> approach above?</p>\n\n<p>I have used the <code>sqlalchemy</code> types from <a href=\"http://docs.sqlalchemy.org/en/rel_0_9/core/type_basics.html\" rel=\"nofollow noreferrer\">here</a>.\nThe MySQL types I see are <a href=\"https://dev.mysql.com/doc/refman/5.1/en/integer-types.html\" rel=\"nofollow noreferrer\">here</a>.\nI have seen the question <a href=\"https://stackoverflow.com/questions/19717738/how-to-define-an-unsigned-integer-in-sqlalchemy\">here</a> which does get the unsigned int for MySQL, but it is not using the <code>.to_sql()</code> approach I would like to use. If I can simply create the table from the single <code>.to_sql()</code> statement, that would be ideal.</p>\n"}, {"tags": ["javascript", "jquery", "python", "django"], "owner": {"reputation": 468, "user_id": 1030078, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f92bfcede323fd473c3bed22c49bffc5?s=128&d=identicon&r=PG", "display_name": "Max Ferreira", "link": "https://stackoverflow.com/users/1030078/max-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435788713, "creation_date": 1435787697, "last_edit_date": 1435788713, "question_id": 31172373, "link": "https://stackoverflow.com/questions/31172373/count-prices-inside-the-django-inline", "title": "Count prices inside the Django Inline", "body": "<p>I'm looking for some way to count the prices from a Django (dynamic) inline using some javascript. </p>\n\n<p>I have this scenario (inside the Django Admin):\n<img src=\"https://i.stack.imgur.com/JUhz8.png\" alt=\"enter image description here\"></p>\n\n<p>And I was trying to do something like that:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{% block extrajs %}\r\n    &lt;script type=\"text/javascript\"&gt;\r\n        var subtotal = 0.00;\r\n        $('.field-product_code select').change(function(){\r\n            $('.related-widget-wrapper select').each(function(){\r\n                product = $(this + 'option:selected').text();\r\n                select_val = $(this).val();\r\n                var regex = /[+-]?\\d+(\\.\\d+)?/g;\r\n\r\n                var str = product;\r\n                var floats = str.match(regex).map(function(v) { return parseFloat(v); });\r\n                var price = floats[0] * 1;\r\n                console.log($(this).val());\r\n            });\r\n//            row_id = $(this).closest('tr').attr('id');\r\n//            console.log($(row_id).find('.price_product'));\r\n{#            if(row_id + ' .price_product'){#}\r\n{#                console.log('existe ja');#}\r\n{##}\r\n{#            }else {#}\r\n{#                //$(this).append(\"&lt;div class='price'&gt;aa\"+ product +\"&lt;/div&gt;\");#}\r\n{#                var regex = /[+-]?\\d+(\\.\\d+)?/g;#}\r\n{##}\r\n{#                var str = product;#}\r\n{#                var floats = str.match(regex).map(function(v) { return parseFloat(v); });#}\r\n{#                var price = floats[0] * 1;#}\r\n{#                console.log(price);#}\r\n{#            }#}\r\n\r\n\r\n{#            subtotal += price;#}\r\n{#            console.log(subtotal);#}\r\n{#            $('#total').html(subtotal);#}\r\n        })\r\n    &lt;/script&gt;\r\n{% endblock %}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- The inline HTML extracted with inspector --&gt;\r\n&lt;table class=\"table table-bordered table-condensed table-striped\"&gt;\r\n&lt;thead&gt;&lt;tr&gt;\r\n    &lt;th colspan=\"1\" class=\"required\"&gt;C\u00f3digo do Produto\r\n    &lt;/th&gt;\r\n    &lt;th&gt;Quantidade\r\n    &lt;/th&gt;\r\n    &lt;th&gt;Apagar?&lt;/th&gt;\r\n    &lt;/tr&gt;&lt;/thead&gt;\r\n\r\n&lt;tbody&gt;\r\n    &lt;tr class=\"form-row  dynamic-movementcart_set row1\" id=\"movementcart_set-0\"&gt;\r\n        &lt;td class=\"field-product_code\"&gt;\r\n            &lt;input id=\"id_movementcart_set-0-id\" name=\"movementcart_set-0-id\" type=\"hidden\"&gt;\r\n            &lt;input id=\"id_movementcart_set-0-movement\" name=\"movementcart_set-0-movement\" type=\"hidden\"&gt;\r\n            &lt;div class=\"related-widget-wrapper\"&gt;\r\n                &lt;select id=\"id_movementcart_set-0-product_code\" name=\"movementcart_set-0-product_code\"&gt;\r\n                    &lt;option value=\"\" selected=\"selected\"&gt;---------&lt;/option&gt;\r\n                    &lt;option value=\"8888\"&gt;\u00c1gua Mineral - R$ 0.69&lt;/option&gt;\r\n                    &lt;option value=\"9999\"&gt;Coca-Cola Lata - R$ 1.99&lt;/option&gt;\r\n                    &lt;option value=\"7891027114626\"&gt;Vodka - R$ 20.0&lt;/option&gt;\r\n                &lt;/select&gt;\r\n                &lt;a class=\"related-widget-wrapper-link change-related\" id=\"change_id_movementcart_set-0-product_code\" data-href-template=\"/painel/engine/product/__fk__/?_to_field=product_code&amp;amp;_popup=1\" title=\"Alterar Produto selecionado\" href=\"/painel/engine/product/8888/?_to_field=product_code&amp;amp;_popup=1\"&gt;\r\n                    &lt;img src=\"/static/admin/img/icon_changelink.gif\" width=\"10\" height=\"10\" alt=\"Modificar\"&gt;\r\n                &lt;/a&gt;\r\n                &lt;a class=\"related-widget-wrapper-link add-related\" id=\"add_id_movementcart_set-0-product_code\" href=\"/painel/engine/product/add/?_to_field=product_code&amp;amp;_popup=1\" title=\"Adicionar outro Produto\"&gt;\r\n                    &lt;img src=\"/static/admin/img/icon_addlink.gif\" width=\"10\" height=\"10\" alt=\"Adicionar\"&gt;\r\n                &lt;/a&gt;\r\n            &lt;/div&gt;\r\n        &lt;/td&gt;\r\n        &lt;td class=\"field-qtde\"&gt;\r\n            &lt;p&gt;1&lt;/p&gt;\r\n        &lt;/td&gt;\r\n        &lt;td class=\"delete\"&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"form-row dynamic-movementcart_set row2\" id=\"movementcart_set-1\"&gt;\r\n\r\n        &lt;td class=\"field-product_code\"&gt;\r\n\r\n\r\n            &lt;input id=\"id_movementcart_set-1-id\" name=\"movementcart_set-1-id\" type=\"hidden\"&gt;\r\n            &lt;input id=\"id_movementcart_set-1-movement\" name=\"movementcart_set-1-movement\" type=\"hidden\"&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            &lt;div class=\"related-widget-wrapper\"&gt;\r\n                &lt;select id=\"id_movementcart_set-1-product_code\" name=\"movementcart_set-1-product_code\"&gt;\r\n                    &lt;option value=\"\" selected=\"selected\"&gt;---------&lt;/option&gt;\r\n                    &lt;option value=\"8888\"&gt;\u00c1gua Mineral - R$ 0.69&lt;/option&gt;\r\n                    &lt;option value=\"9999\"&gt;Coca-Cola Lata - R$ 1.99&lt;/option&gt;\r\n                    &lt;option value=\"7891027114626\"&gt;Vodka - R$ 20.0&lt;/option&gt;\r\n                &lt;/select&gt;\r\n\r\n\r\n                &lt;a class=\"related-widget-wrapper-link change-related\" id=\"change_id_movementcart_set-1-product_code\" data-href-template=\"/painel/engine/product/__fk__/?_to_field=product_code&amp;amp;_popup=1\" title=\"Alterar Produto selecionado\" href=\"/painel/engine/product/9999/?_to_field=product_code&amp;amp;_popup=1\"&gt;\r\n                    &lt;img src=\"/static/admin/img/icon_changelink.gif\" width=\"10\" height=\"10\" alt=\"Modificar\"&gt;\r\n                &lt;/a&gt;\r\n\r\n\r\n                &lt;a class=\"related-widget-wrapper-link add-related\" id=\"add_id_movementcart_set-1-product_code\" href=\"/painel/engine/product/add/?_to_field=product_code&amp;amp;_popup=1\" title=\"Adicionar outro Produto\"&gt;\r\n                    &lt;img src=\"/static/admin/img/icon_addlink.gif\" width=\"10\" height=\"10\" alt=\"Adicionar\"&gt;\r\n                &lt;/a&gt;\r\n\r\n\r\n\r\n            &lt;/div&gt;\r\n\r\n\r\n\r\n        &lt;/td&gt;\r\n\r\n\r\n\r\n        &lt;td class=\"field-qtde\"&gt;\r\n\r\n\r\n\r\n\r\n\r\n            &lt;p&gt;1&lt;/p&gt;\r\n\r\n\r\n        &lt;/td&gt;\r\n\r\n        &lt;td class=\"delete\"&gt;&lt;div&gt;&lt;a class=\"inline-deletelink\" href=\"javascript:void(0)\"&gt;Remover&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;&lt;tr class=\"form-row  empty-form row1\" id=\"movementcart_set-empty\"&gt;\r\n    &lt;td class=\"field-product_code\"&gt;\r\n\r\n        &lt;input id=\"id_movementcart_set-__prefix__-id\" name=\"movementcart_set-__prefix__-id\" type=\"hidden\"&gt;\r\n        &lt;input id=\"id_movementcart_set-__prefix__-movement\" name=\"movementcart_set-__prefix__-movement\" type=\"hidden\"&gt;\r\n\r\n        &lt;div class=\"related-widget-wrapper\"&gt;\r\n            &lt;select id=\"id_movementcart_set-__prefix__-product_code\" name=\"movementcart_set-__prefix__-product_code\"&gt;\r\n                &lt;option value=\"\" selected=\"selected\"&gt;---------&lt;/option&gt;\r\n                &lt;option value=\"8888\"&gt;\u00c1gua Mineral - R$ 0.69&lt;/option&gt;\r\n                &lt;option value=\"9999\"&gt;Coca-Cola Lata - R$ 1.99&lt;/option&gt;\r\n                &lt;option value=\"7891027114626\"&gt;Vodka - R$ 20.0&lt;/option&gt;\r\n            &lt;/select&gt;\r\n\r\n\r\n            &lt;a class=\"related-widget-wrapper-link change-related\" id=\"change_id_movementcart_set-__prefix__-product_code\" data-href-template=\"/painel/engine/product/__fk__/?_to_field=product_code&amp;amp;_popup=1\" title=\"Alterar Produto selecionado\"&gt;\r\n                &lt;img src=\"/static/admin/img/icon_changelink.gif\" width=\"10\" height=\"10\" alt=\"Modificar\"&gt;\r\n            &lt;/a&gt;\r\n\r\n\r\n            &lt;a class=\"related-widget-wrapper-link add-related\" id=\"add_id_movementcart_set-__prefix__-product_code\" href=\"/painel/engine/product/add/?_to_field=product_code&amp;amp;_popup=1\" title=\"Adicionar outro Produto\"&gt;\r\n                &lt;img src=\"/static/admin/img/icon_addlink.gif\" width=\"10\" height=\"10\" alt=\"Adicionar\"&gt;\r\n            &lt;/a&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n    &lt;/td&gt;\r\n\r\n    &lt;td class=\"field-qtde\"&gt;\r\n\r\n        &lt;p&gt;1&lt;/p&gt;\r\n\r\n    &lt;/td&gt;\r\n\r\n    &lt;td class=\"delete\"&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n    &lt;tr class=\"add-row\"&gt;&lt;td colspan=\"3\"&gt;&lt;a href=\"javascript:void(0)\"&gt;Adicionar outro(a) Item&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Maybe I'll have to 'count' all <code>#id_movementcart_set-0-id</code>, <code>#id_movementcart_set-1-id</code>, <code>#id_movementcart_set-2-id</code> and <code>subsequents</code>, but how can I do that?</p>\n"}, {"tags": ["python", "networkx"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1435788444, "post_id": 31172359, "comment_id": 50352786, "body": "The vertex exists while you are drawing the edge, it just looks different, and ends by being drawn differently, or the edge being attached to another vertex, and the construction one being deleted."}, {"owner": {"reputation": 37, "user_id": 4893246, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/974b03205705811d8042dea67b65c940?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Ksepka", "link": "https://stackoverflow.com/users/4893246/tomasz-ksepka"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1435789031, "post_id": 31172359, "comment_id": 50352974, "body": "No vertex or edge gets deleted. I don&#39;t think I fully understand your comment. Every-time an edge is drawn a new node must be placed on that edge. Now you can draw an edge from any of the existing nodes including the new one. I hope this helps. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4893246, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/974b03205705811d8042dea67b65c940?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Ksepka", "link": "https://stackoverflow.com/users/4893246/tomasz-ksepka"}, "edited": false, "score": 0, "creation_date": 1435789421, "post_id": 31172558, "comment_id": 50353096, "body": "Thanks man, thats the idea I was working with too just using add_edge() twice. add_path() simplifies this and is essentially what I want."}], "tags": [], "owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "is_accepted": true, "score": 1, "last_activity_date": 1435788674, "creation_date": 1435788674, "answer_id": 31172558, "question_id": 31172359, "link": "https://stackoverflow.com/questions/31172359/is-it-possible-to-add-a-new-node-to-an-existing-edge-using-networkx/31172558#31172558", "title": "Is it possible to add a new node to an existing edge using Networkx", "body": "<p>It seems like you can use <a href=\"http://networkx.lanl.gov/reference/generated/networkx.MultiGraph.add_path.html\" rel=\"nofollow\">add_path()</a> function.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>&gt;&gt;&gt; g = nx.Graph()\n&gt;&gt;&gt; g.add_nodes_from( [0,1] )\n&gt;&gt;&gt; g.nodes()\n[0, 1]\n# We have two nodes, zero edges.\n# User clicks two vertices, say 0 and 1.\n# We add one more node first.\n&gt;&gt;&gt; g.add_node(2)\n# Then we add the new edges\n&gt;&gt;&gt; g.add_path([0,2,1])\n&gt;&gt;&gt; g.nodes()\n[0, 1, 2]\n&gt;&gt;&gt; g.edges()\n[(0, 2), (1, 2)]\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4893246, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/974b03205705811d8042dea67b65c940?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Ksepka", "link": "https://stackoverflow.com/users/4893246/tomasz-ksepka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "accepted_answer_id": 31172558, "answer_count": 1, "score": 2, "last_activity_date": 1435788674, "creation_date": 1435787611, "question_id": 31172359, "link": "https://stackoverflow.com/questions/31172359/is-it-possible-to-add-a-new-node-to-an-existing-edge-using-networkx", "title": "Is it possible to add a new node to an existing edge using Networkx", "body": "<p>I am trying to implement the Game of Sprouts using python and the networkx library. The idea of the game is you start with two vertices. A player draws an edge from one vertex to another. A new node is placed on that newly created edge. The rest of the game's details aren't necessary but I placed a link at the bottom to further explain it. Currently, I first create a node, then add an edge from the starting node to this new node. Next, I add another edge from the new node to the terminating node. My question is, is there an easier way of accomplishing this? For instance, drawing the edge first and then placing a new node on this edge.</p>\n\n<p><a href=\"http://nrich.maths.org/2413\" rel=\"nofollow\">http://nrich.maths.org/2413</a>   </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1435787732, "post_id": 31172351, "comment_id": 50352468, "body": "What would be a &quot;relevant string&quot;?"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1435787808, "post_id": 31172351, "comment_id": 50352511, "body": "I don&#39;t understand your question as written, but I <i>think</i> what you want is just <code>raise</code> by itself. With no args it reraises the exception with whatever text is already there. However, if you&#39;re not doing any extra code in your except clause this is totally pointless -- just don&#39;t catch the exception."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 3, "creation_date": 1435787842, "post_id": 31172351, "comment_id": 50352528, "body": "In other words, if your problem is that you&#39;re catching the exception and replacing the useful error message with something you put there, just stop doing that."}, {"owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "edited": false, "score": 0, "creation_date": 1435787844, "post_id": 31172351, "comment_id": 50352529, "body": "edited.. Though I think this will always throw exception in function as i am always raising the ValueError (fixing it.. )"}, {"owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "edited": false, "score": 1, "creation_date": 1435788062, "post_id": 31172351, "comment_id": 50352618, "body": "The json module expects property names to be enclosed with double quotes."}, {"owner": {"reputation": 30517, "user_id": 774499, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sju2a.jpg?s=128&g=1", "display_name": "David Hammen", "link": "https://stackoverflow.com/users/774499/david-hammen"}, "reply_to_user": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "edited": false, "score": 0, "creation_date": 1435788574, "post_id": 31172351, "comment_id": 50352827, "body": "@Jefe - There is no difference between <code>&#39;property_name&#39;</code> and <code>&quot;property_name&quot;</code> in python."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "reply_to_user": {"reputation": 30517, "user_id": 774499, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sju2a.jpg?s=128&g=1", "display_name": "David Hammen", "link": "https://stackoverflow.com/users/774499/david-hammen"}, "edited": false, "score": 0, "creation_date": 1435789377, "post_id": 31172351, "comment_id": 50353086, "body": "@DavidHammen. True - but irrelevant, since json&#39;s syntax is not the same as python&#39;s. The property names in <code>string</code> must be in double quotes to be valid json, as Jefe says. (PS: in fact, the <code>ValueError</code> message states exactly the same thing)."}], "answers": [{"comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1435787946, "post_id": 31172418, "comment_id": 50352572, "body": "If you raise the error you caught straight away, <b>why bother catching it?!</b>"}, {"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1435787969, "post_id": 31172418, "comment_id": 50352583, "body": "Not only is this pointless, it&#39;s wrong as you&#39;ll lose traceback information. Just don&#39;t catch it. If you want to log, then say <code>raise</code> to re-raise it properly. (Not <code>raise e</code>)"}, {"owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "edited": false, "score": 0, "creation_date": 1435788183, "post_id": 31172418, "comment_id": 50352677, "body": "Clearly, he wants to catch it again. Maybe because it&#39;s a code simplification, and he wants to analyze the error before reraising it (maybe only in specific cases)"}], "tags": [], "owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "is_accepted": false, "score": 0, "last_activity_date": 1435787982, "last_edit_date": 1435787982, "creation_date": 1435787907, "answer_id": 31172418, "question_id": 31172351, "link": "https://stackoverflow.com/questions/31172351/check-multiple-exceptions-in-python/31172418#31172418", "title": "check multiple exceptions in python", "body": "<p>Yes, you can simply replace your except statement by:</p>\n\n<pre><code>except ValueError as e:\n    # do whatever to analyse e\n    raise\n</code></pre>\n\n<p>Because raise will reraise the previous exception.</p>\n"}, {"tags": [], "owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "is_accepted": false, "score": 0, "last_activity_date": 1435790558, "creation_date": 1435790558, "answer_id": 31172887, "question_id": 31172351, "link": "https://stackoverflow.com/questions/31172351/check-multiple-exceptions-in-python/31172887#31172887", "title": "check multiple exceptions in python", "body": "<p>You're expecting to catch an exception thrown by your schema checker, but you are actually getting an exception thrown by json itself before that.</p>\n\n<p>In order to tell the difference, you will want to define the exception that your schema will raise.</p>\n\n<p>Also note that json will probably return unicode, which will not agree with str in your check: isinstance(u\"something\", str)</p>\n\n<pre><code>import json\n\nstring = '{\"prop1\": \"text\", \"prop2\": [1,2,3], \"prop3\": [12, 3]}'\nbad_json = \"{'prop1': 'text'}\"\nbad_1 = '{\"prop1\": 42, \"prop2\": [1,2,3], \"prop3\": [12, 3]}'\nbad_2 = '{\"prop1\": \"text\", \"prop3\": [12, 3]}'\nbad_3 = '{\"prop1\": \"text\", \"prop2\": [1,2,3], \"prop3\": [12, 3], \"extra\": 0}'\n\nclass SchemaViolation(ValueError):\n    pass\n\ndef _validate_schema(blob):\n    schema = {'prop1': unicode, 'prop2': list, 'prop3': list}\n    for key in blob.keys():\n        if key in schema.keys():\n            if not isinstance(blob[key], schema[key]):\n                raise SchemaViolation(\"Bad schema: \\\n                      Expected: %s, \\\n                      Got: %s  \\\n                     \" % (schema[key], blob[key]))\n        else:\n            raise SchemaViolation(\"key %s not allowed in schema\" % key)\n\n    for key in schema.keys():\n        if key not in blob.keys():\n            raise SchemaViolation(\"key %s is missing\" % key)\n\n# Usage\ntry:\n    jsn = json.loads(string)\n    _validate_schema(jsn)\n    print 'success on good json string which matches schema'\nexcept SchemaViolation as e:\n    print 'false negative'\nexcept ValueError as e:\n    print 'json raised a ValueError because it was bad json: ', str(e)\n\ntry:\n    jsn = json.loads(bad_json)\n    _validate_schema(jsn)\n    print 'should have failed in json'\nexcept SchemaViolation as e:\n    print 'should not get to here'\nexcept ValueError as e:\n    print 'json correctly raised a ValueError because it was bad json: ', str(e)\n\n\ntry:\n    jsn = json.loads(bad_1)\n    _validate_schema(jsn)\n    print 'should have failed'\nexcept SchemaViolation as e:\n    print 'correctly detected schema error ', str(e)\n\ntry:\n    jsn = json.loads(bad_2)\n    _validate_schema(jsn)\n    print 'should have failed'\nexcept SchemaViolation as e:\n    print 'correctly detected schema error ', str(e)\n\ntry:\n    jsn = json.loads(bad_3)\n    _validate_schema(jsn)\n    print 'should have failed'\nexcept SchemaViolation as e:\n    print 'correctly detected schema error ', str(e)\n\nprint 'done'\n</code></pre>\n"}], "owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1435790558, "creation_date": 1435787574, "last_edit_date": 1435787864, "question_id": 31172351, "link": "https://stackoverflow.com/questions/31172351/check-multiple-exceptions-in-python", "title": "check multiple exceptions in python", "body": "<p>Lets say I have:</p>\n\n<pre><code> string = \"\"\"{'prop1': 'foo' , 'prop2': [1,2,3], 'prop3': [12,3]} \"\"\"\n\n  def _validate_schema(blob):\n    schema = {'prop1': str, 'prop2': list, 'prop3': list}\n    if blob.keys() in schema.keys():\n      for k, v in blob.iteritems():\n        if isinstance(v, schema[k]):\n          continue\n    raise ValueError(\"Bad schema: \\\n                      Expected: %s, \\\n                      Got: %s  \\\n                     \" % (schema, blob))\n\n\n   # Usage\n   try:\n      jsn = json.loads(string)\n      _validate_schema(jsn)\n   except ValueError:\n     raise ValueError(' bad json format')\n</code></pre>\n\n<p>So basically, I want to raise appropriate ValueError.. but.. right now.. whatever is causing the issue i see 'bad json format' as exception..\nAnd I dont want to have multiple try clauses??\nis there a way to throw relevant string in same try clause.. ?</p>\n"}, {"tags": ["python", "tornado"], "comments": [{"owner": {"reputation": 20703, "user_id": 2805033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TasHL.jpg?s=128&g=1", "display_name": "Ben Darnell", "link": "https://stackoverflow.com/users/2805033/ben-darnell"}, "edited": false, "score": 0, "creation_date": 1435789846, "post_id": 31172272, "comment_id": 50353228, "body": "The comment &quot;Tornado will use concurrent.futures.Future if available&quot; is outdated; Tornado 4.x always uses its own Future implementation."}], "answers": [{"comments": [{"owner": {"reputation": 502, "user_id": 3298826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d80d437d6d9e6b9bc7835a7307792c19?s=128&d=identicon&r=PG", "display_name": "H2O", "link": "https://stackoverflow.com/users/3298826/h2o"}, "edited": false, "score": 1, "creation_date": 1435790645, "post_id": 31172384, "comment_id": 50353468, "body": "This works for me, thanks! I think I got it. I can&#39;t use &#39;raw&#39; futures because they are not part of the IOLoop and I&#39;d need some way to add them to that. Correct?"}, {"owner": {"reputation": 189, "user_id": 2547081, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4497ae1304ead80649697541be73c5ff?s=128&d=identicon&r=PG", "display_name": "user2547081", "link": "https://stackoverflow.com/users/2547081/user2547081"}, "edited": false, "score": 0, "creation_date": 1460659036, "post_id": 31172384, "comment_id": 60858013, "body": "why couldn&#39;t you &#39;&#39;&#39;def async_fetch_future():     http_client = AsyncHTTPClient()     my_future = Future()     fetch_future = http_client.fetch(&#39;<a href=\"http://www.google.com&#39;\" rel=\"nofollow noreferrer\">google.com&#39;</a>)&#39;&#39;&#39;   and then put this function into IOLOOP?"}], "tags": [], "owner": {"reputation": 335, "user_id": 2079352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4674185456254a2f276290992c0891c8?s=128&d=identicon&r=PG", "display_name": "drgarcia1986", "link": "https://stackoverflow.com/users/2079352/drgarcia1986"}, "is_accepted": true, "score": 5, "last_activity_date": 1435789214, "last_edit_date": 1435789214, "creation_date": 1435787755, "answer_id": 31172384, "question_id": 31172272, "link": "https://stackoverflow.com/questions/31172272/cant-call-result-on-futures-in-tornado/31172384#31172384", "title": "Can&#39;t call result() on futures in tornado", "body": "<p>Try to create another <code>Future</code> and use <code>add_done_callback</code>:</p>\n\n<p><a href=\"http://www.tornadoweb.org/en/stable/guide/async.html#asynchronous\" rel=\"noreferrer\">From Tornado documentation</a>  </p>\n\n<pre><code>from tornado.concurrent import Future\n\ndef async_fetch_future(url):\n    http_client = AsyncHTTPClient()\n    my_future = Future()\n    fetch_future = http_client.fetch(url)\n    fetch_future.add_done_callback(\n        lambda f: my_future.set_result(f.result()))\n    return my_future\n</code></pre>\n\n<p>But you still need <strong>solve the future with the ioloop</strong>, like this:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom tornado.concurrent import Future\nfrom tornado.httpclient import AsyncHTTPClient\nfrom tornado.ioloop import IOLoop\n\n\ndef async_fetch_future():\n    http_client = AsyncHTTPClient()\n    my_future = Future()\n    fetch_future = http_client.fetch('http://www.google.com')\n    fetch_future.add_done_callback(\n        lambda f: my_future.set_result(f.result()))\n    return my_future\n\nresponse = IOLoop.current().run_sync(async_fetch_future)\n\nprint(response.body)\n</code></pre>\n\n<p>Another way to this, is using <code>tornado.gen.coroutine</code>decorator, like this:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom tornado.gen import coroutine\nfrom tornado.httpclient import AsyncHTTPClient\nfrom tornado.ioloop import IOLoop\n\n\n@coroutine\ndef async_fetch_future():\n    http_client = AsyncHTTPClient()\n    fetch_result = yield http_client.fetch('http://www.google.com')\n    return fetch_result\n\nresult = IOLoop.current().run_sync(async_fetch_future)\n\nprint(result.body)\n</code></pre>\n\n<p><code>coroutine</code> decorator causes the function to return a <code>Future</code>. </p>\n"}], "owner": {"reputation": 502, "user_id": 3298826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d80d437d6d9e6b9bc7835a7307792c19?s=128&d=identicon&r=PG", "display_name": "H2O", "link": "https://stackoverflow.com/users/3298826/h2o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5324, "favorite_count": 0, "accepted_answer_id": 31172384, "answer_count": 1, "score": 7, "last_activity_date": 1435789214, "creation_date": 1435787225, "last_edit_date": 1435789161, "question_id": 31172272, "link": "https://stackoverflow.com/questions/31172272/cant-call-result-on-futures-in-tornado", "title": "Can&#39;t call result() on futures in tornado", "body": "<p>I want to do some asynchronous HTTP-requests using the python library tornado (version 4.2). I can however not force a future to complete (using <code>result()</code>) since I get an Exception: \"DummyFuture does not support blocking for results\".</p>\n\n<p>I have python 3.4.3 therefore future support should be part of the standard library. The documentation of <code>concurrent.py</code> says:</p>\n\n<blockquote>\n  <p>Tornado will use <code>concurrent.futures.Future</code> if it is available;\n  otherwise it will use a compatible class defined in this module.</p>\n</blockquote>\n\n<p>A minimal example for what I am trying to do is provided below:</p>\n\n<pre><code>from tornado.httpclient import AsyncHTTPClient;\n\nfuture = AsyncHTTPClient().fetch(\"http://google.com\")\nfuture.result()\n</code></pre>\n\n<p>If I understand my problem correctly it occurs because the import of <code>concurrent.futures.Future</code> somehow is not used. The relevant code in tornado appears to be in <code>concurrent.py</code> but I am not really making progress on understanding where exactly the problem lies.</p>\n"}, {"tags": ["python", "numpy", "file-io", "pyqt4"], "comments": [{"owner": {"reputation": 2746, "user_id": 3595907, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oQQOc.png?s=128&g=1", "display_name": "DrBwts", "link": "https://stackoverflow.com/users/3595907/drbwts"}, "edited": false, "score": 1, "creation_date": 1435787360, "post_id": 31172230, "comment_id": 50352303, "body": "you could create a header for the file that contains all the fields associated with a particular set of images. A good example of this kind of thing is <a href=\"https://en.wikipedia.org/wiki/DICOM#Data_format\" rel=\"nofollow noreferrer\">dicom</a>"}, {"owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 1, "creation_date": 1435787521, "post_id": 31172230, "comment_id": 50352378, "body": "To save and load Python objects in general you should take a look at Python&#39;s <a href=\"https://docs.python.org/2/library/pickle.html\" rel=\"nofollow noreferrer\"><code>pickle</code></a> module. You can even write more than one object to the pickle-file (which can have any extension you wish) as shown in this <a href=\"http://stackoverflow.com/a/20725705/3991125\">SO answer</a>"}], "owner": {"reputation": 566, "user_id": 2371501, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/65811c6c6deb0c50654e48cd8dd0e077?s=128&d=identicon&r=PG&f=1", "display_name": "osjerick", "link": "https://stackoverflow.com/users/2371501/osjerick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435787028, "creation_date": 1435787028, "question_id": 31172230, "link": "https://stackoverflow.com/questions/31172230/how-to-build-a-file-to-save-different-python-objects-as-a-project-file", "title": "How to build a file to save different Python objects as a project file?", "body": "<p>I'm creating a GUI using PyQt4 and Python 2.7, I have to process different images with advanced techniques. The images are processed as NumPy arrays, however, in the program there are more than one image and other data (dictionaries, tuples, lists, NumPy arrays) that should be stored preferably in just one file. It would be great that all this data could be stored in a file as <code>file_name.project</code> (with a custom extension). I don't know how to do this. There is an easy way to do this stuff? What do you recommend me?</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": true, "score": 2, "last_activity_date": 1435789438, "creation_date": 1435789438, "answer_id": 31172698, "question_id": 31172220, "link": "https://stackoverflow.com/questions/31172220/matplotlib-arrow-head-in-log-log-plot/31172698#31172698", "title": "Matplotlib arrow head in log-log plot", "body": "<p>You can adjust the head and connection style in the <code>arrowprops</code> like this (for the full set of options <a href=\"http://matplotlib.org/users/annotations_guide.html#plotting-guide-annotation\" rel=\"nofollow noreferrer\">see the matplotlib docs</a>:</p>\n\n<pre><code> opt = dict(color='r', \n            arrowstyle = 'simple,head_width=.75,head_length=.75',\n            connectionstyle = 'arc3,rad=0')\n</code></pre>\n\n<p>Then to adjust the width of your arrow use the <code>size</code> paramater in <code>annotate</code>:</p>\n\n<pre><code>a1  = gca().annotate('',xy=(1e-1,1e-3),xycoords='data',xytext =(1e-1,1e1),textcoords = 'data',arrowprops=opt,size=20)\na2  = gca().annotate('',xy=(1e2,1e-3), xycoords='data',xytext =(1e1,1e-3),textcoords = 'data',arrowprops=opt,size=20)\nshow()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/RaDTU.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 837, "user_id": 2108771, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/edfacb695480da27be05ed338dce3809?s=128&d=identicon&r=PG", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2108771/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1829, "favorite_count": 0, "accepted_answer_id": 31172698, "answer_count": 1, "score": 1, "last_activity_date": 1435789438, "creation_date": 1435786997, "question_id": 31172220, "link": "https://stackoverflow.com/questions/31172220/matplotlib-arrow-head-in-log-log-plot", "title": "Matplotlib arrow head in log-log plot", "body": "<p>I want to draw arrows in a log-log plot that have different lengths but should have a similar-looking head. The head width is indeed the same, but the length of the head seems to scale with the arrow length. How can I get the short-looking head of the right-pointing arrow to look like the other head?</p>\n\n<pre><code>from matplotlib.pyplot import gca,show\n\nax  = gca()\nax.set_xlim(1e-4,1e4)\nax.set_xscale('log')\nax.set_ylim(1e-4,1e4)\nax.set_yscale('log')\n\nopt = dict(color='r',width=5)\n\na1  = gca().annotate('',xy=(1e-1,1e-3),xycoords='data',xytext =(1e-1,1e1),textcoords = 'data',arrowprops=opt)\na2  = gca().annotate('',xy=(1e2,1e-3), xycoords='data',xytext =(1e1,1e-3),textcoords = 'data',arrowprops=opt)\n\nshow()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/pHFxs.png\" alt=\"Result\"></p>\n"}, {"tags": ["python", "django", "date", "datetime"], "comments": [{"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "edited": false, "score": 0, "creation_date": 1435788440, "post_id": 31172209, "comment_id": 50352781, "body": "Just like to point out that for me copy pasting the Fri... part into the string date and then trying to run the line shown results in an error for me. So I&#39;m not sure what your doing as far as &quot;run the python file directly&quot; but I&#39;m guessing the string or something in your code is different."}], "answers": [{"tags": [], "owner": {"reputation": 5343, "user_id": 612124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/p8BFg.png?s=128&g=1", "display_name": "M.javid", "link": "https://stackoverflow.com/users/612124/m-javid"}, "is_accepted": false, "score": 0, "last_activity_date": 1435788757, "last_edit_date": 1435788757, "creation_date": 1435788311, "answer_id": 31172491, "question_id": 31172209, "link": "https://stackoverflow.com/questions/31172209/date-conversion-django-error/31172491#31172491", "title": "Date Conversion Django Error", "body": "<p>This error raised because <code>datetime</code> module not recognize all time-zones, use <a href=\"http://labix.org/python-dateutil\" rel=\"nofollow\"><code>dateutil</code></a> module instead of <code>datetime</code> similar below:</p>\n\n<pre><code>from dateutil.parser import parse\nparse('Fri Jun 19 02:27:25 PDT 2015')\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 4041121, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a4d01edf02c001eb02358719302ec7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Ruchi Tengse", "link": "https://stackoverflow.com/users/4041121/ruchi-tengse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1435788757, "creation_date": 1435786969, "last_edit_date": 1435788159, "question_id": 31172209, "link": "https://stackoverflow.com/questions/31172209/date-conversion-django-error", "title": "Date Conversion Django Error", "body": "<p>I have a date here which is <code>Fri Jun 19 02:27:25 PDT 2015</code> which I get from the DB and I am trying to convert it from PDT to UTC\nFor which first I am converting it to a datetime object like this:  </p>\n\n<pre><code>date_time = datetime.datetime.strptime(date, '%a %b %d %H:%M:%S %Z %Y');\n</code></pre>\n\n<p>When I run the python file directly, it works, but when this code executes thru the Django framework, I get this error.  </p>\n\n<blockquote>\n  <p>ValueError: time data 'Fri Jun 19 02:27:25 PDT 2015' does not match format '%a %b %d %H:%M:%S %Z %Y'</p>\n</blockquote>\n\n<p>I have a feeling this is because of the timezone, because I have many more date formats which don\u2019t contain timezone and conversion for them works fine. Could you suggest a workaround for this.</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1435787163, "post_id": 31172204, "comment_id": 50352214, "body": "Rectangles aren&#39;t transparent, surfaces can be. Please elaborate."}, {"owner": {"reputation": 229, "user_id": 3339168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc00ef79cb44ec9ad933d6fd7bf53a42?s=128&d=identicon&r=PG&f=1", "display_name": "Larry McMuffin", "link": "https://stackoverflow.com/users/3339168/larry-mcmuffin"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1435787325, "post_id": 31172204, "comment_id": 50352286, "body": "Hey, I was just wondering if it was possible."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 3, "creation_date": 1435787696, "post_id": 31172204, "comment_id": 50352453, "body": "Voting to close as too broad because there&#39;s so little substance to this question. What&#39;s going to happen is there will be half a dozen comments asking what you want to do, then you will respond little by little, and eventually all the information that should have been in your question in the first place might be there, but at that point it is a mess. Please read the help topics on how/what to ask, then put together a question with code samples, what you are trying to do, etc."}, {"owner": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "edited": false, "score": 0, "creation_date": 1435820993, "post_id": 31172204, "comment_id": 50362018, "body": "Seems like a duplicate: <a href=\"https://stackoverflow.com/questions/6339057/draw-a-transparent-rectangle-in-pygame\">Draw a transparent rectangle in pygame</a>"}], "answers": [{"tags": [], "owner": {"reputation": 736, "user_id": 3695941, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d09ea15b72ed247b054bc6b1df37ab44?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewGrant", "link": "https://stackoverflow.com/users/3695941/andrewgrant"}, "is_accepted": true, "score": 2, "last_activity_date": 1435787963, "creation_date": 1435787963, "answer_id": 31172430, "question_id": 31172204, "link": "https://stackoverflow.com/questions/31172204/is-there-a-way-to-make-a-rect-transparent-in-pygame/31172430#31172430", "title": "Is There a Way to Make a Rect Transparent in Pygame?", "body": "<p>pygame.draw functions will not draw with alpha. The documentation says:</p>\n\n<p>Most of the arguments accept a color argument that is an RGB triplet. These can also accept an RGBA quadruplet. The alpha value will be written directly into the Surface if it contains pixel alphas, but the draw function will not draw transparently.\nWhat you can do is create a second surface and then blit it to the screen. Blitting will do alpha blending and color keys. Also, you can specify alpha at the surface level (faster and less memory) or at the pixel level (slower but more precise). You can do either:</p>\n\n<pre><code>s = pygame.Surface((1000,750))  # the size of your rect\ns.set_alpha(128)                # alpha level\ns.fill((255,255,255))           # this fills the entire surface\nwindowSurface.blit(s, (0,0))    # (0,0) are the top-left coordinates\n</code></pre>\n\n<p>or,</p>\n\n<pre><code>s = pygame.Surface((1000,750), pygame.SRCALPHA)   # per-pixel alpha\ns.fill((255,255,255,128))                         # notice the alpha value in the color\nwindowSurface.blit(s, (0,0))\n</code></pre>\n\n<p>Keep in mind in the first case, that anything else you draw to s will get blitted with the alpha value you specify. So if you're using this to draw overlay controls for example, you might be better off using the second alternative.</p>\n\n<p>Also, consider using pygame.HWSURFACE to create the surface hardware-accelerated.</p>\n\n<p>Check the Surface docs at the pygame site, especially the intro.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6339057/draw-a-transparent-rectangle-in-pygame\">Draw a transparent rectangle in pygame</a></p>\n\n<p>I have had this question as a pygame user before, and this is a method of solving your problem.</p>\n"}], "owner": {"reputation": 229, "user_id": 3339168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc00ef79cb44ec9ad933d6fd7bf53a42?s=128&d=identicon&r=PG&f=1", "display_name": "Larry McMuffin", "link": "https://stackoverflow.com/users/3339168/larry-mcmuffin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3381, "favorite_count": 0, "accepted_answer_id": 31172430, "answer_count": 1, "score": -2, "last_activity_date": 1435787963, "creation_date": 1435786936, "question_id": 31172204, "link": "https://stackoverflow.com/questions/31172204/is-there-a-way-to-make-a-rect-transparent-in-pygame", "title": "Is There a Way to Make a Rect Transparent in Pygame?", "body": "<p>Is it possible to make a rect transparent in pygame?\nI need it because I'm using rects as particles for my game. :P</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 3528254, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5b9b82f5fbcf13c46f454098e1b09255?s=128&d=identicon&r=PG&f=1", "display_name": "user3528254", "link": "https://stackoverflow.com/users/3528254/user3528254"}, "edited": false, "score": 0, "creation_date": 1435788728, "post_id": 31172218, "comment_id": 50352870, "body": "thanks a lot for your help! this clarifies exactly the confusion that i had going on"}], "tags": [], "owner": {"reputation": 12070, "user_id": 5044950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9yN0x.jpg?s=128&g=1", "display_name": "Sam Estep", "link": "https://stackoverflow.com/users/5044950/sam-estep"}, "is_accepted": false, "score": 3, "last_activity_date": 1435786990, "creation_date": 1435786990, "answer_id": 31172218, "question_id": 31172195, "link": "https://stackoverflow.com/questions/31172195/stdout-and-flush-its-appending-and-not-flushing/31172218#31172218", "title": "Stdout and flush? It&#39;s appending and not flushing", "body": "<p>In computer science, the term \"flush\" doesn't mean to erase what's already in a buffer; rather, it means to take the <em>unwritten</em> contents of a buffer in memory (like the stdout buffer) and write it, in this case to the screen. So when you tell the program to \"flush stdout\", you're really just telling it to \"take what's in stdout and make sure it's all displayed on the screen.\"</p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 3528254, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5b9b82f5fbcf13c46f454098e1b09255?s=128&d=identicon&r=PG&f=1", "display_name": "user3528254", "link": "https://stackoverflow.com/users/3528254/user3528254"}, "edited": false, "score": 0, "creation_date": 1435788715, "post_id": 31172371, "comment_id": 50352865, "body": "This makes sense to me. Thanks a lot!"}], "tags": [], "owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "is_accepted": true, "score": 3, "last_activity_date": 1435787684, "creation_date": 1435787684, "answer_id": 31172371, "question_id": 31172195, "link": "https://stackoverflow.com/questions/31172195/stdout-and-flush-its-appending-and-not-flushing/31172371#31172371", "title": "Stdout and flush? It&#39;s appending and not flushing", "body": "<p>All <code>.flush()</code> does is flush out the buffer. What you actually want is to write backspace(<code>\\b</code>) to <code>stdout</code>.</p>\n\n<pre><code>import time, sys\n\nfor i in [1,2,3,4,5]:\n    sys.stdout.write(str(i))\n    sys.stdout.flush() #flush the buffer because python buffers stdout\n    time.sleep(5)\n    sys.stdout.write(\"\\b\") #literally \"write backspace\".\n    sys.stdout.flush()\n</code></pre>\n\n<p>It gets more complicated if you want to count up to numbers with more than one digit.</p>\n"}], "owner": {"reputation": 95, "user_id": 3528254, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5b9b82f5fbcf13c46f454098e1b09255?s=128&d=identicon&r=PG&f=1", "display_name": "user3528254", "link": "https://stackoverflow.com/users/3528254/user3528254"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "accepted_answer_id": 31172371, "answer_count": 2, "score": 1, "last_activity_date": 1435787684, "creation_date": 1435786881, "question_id": 31172195, "link": "https://stackoverflow.com/questions/31172195/stdout-and-flush-its-appending-and-not-flushing", "title": "Stdout and flush? It&#39;s appending and not flushing", "body": "<p>What I'm trying to do is have some 'progress text' on the bottom of a script that I've creating. If I for loop a list [1,2,3,4,5] and print i, then it simply prints 1,2,3,4, and 5 on separate lines. How about if I want to print 1 out to the screen, sleep 5 seconds, clear that out and then print 2?</p>\n\n<p>I've tried using stdout.write(\"text\"), sleep, flush, stdout.write(\"aetlkjetjer\"), sleep, and it just simply adds on to that \"text\" statement instead of flushing the output.</p>\n\n<p>Am I misunderstanding something with the way stdout.flush works? Isn't it supposed to flush/erase the output of the previous print?</p>\n"}, {"tags": ["python", "pandas", "plot", "heatmap", "bokeh"], "answers": [{"comments": [{"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "edited": false, "score": 0, "creation_date": 1435790727, "post_id": 31172453, "comment_id": 50353501, "body": "Wow this is great! The only problem is that I really need one with more defined boxes like in the first example, and there are a lot of companies and twelve months so the plot with the complete data looks a little messy. Still, +1 for the awesome input!"}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": false, "score": 1, "last_activity_date": 1435788767, "last_edit_date": 1435788767, "creation_date": 1435788086, "answer_id": 31172453, "question_id": 31172193, "link": "https://stackoverflow.com/questions/31172193/plotting-a-heat-table-based-on-bokeh/31172453#31172453", "title": "Plotting a Heat Table Based on bokeh", "body": "<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# just following your previous post to simulate your data\nnp.random.seed(0)\ndates = np.random.choice(pd.date_range('2015-01-01 00:00:00', '2015-06-30 00:00:00', freq='1h'), 10000)\ncompany = np.random.choice(['company' + x for x in '1 2 3 4 5'.split()], 10000)\ndf = pd.DataFrame(dict(recvd_dttm=dates, CompanyName=company)).set_index('recvd_dttm').sort_index()\ndf['C'] = 1\ndf.columns = ['CompanyName', '']\nresult = df.groupby([lambda idx: idx.month, 'CompanyName']).agg({df.columns[1]: sum}).reset_index()\nresult.columns = ['Month', 'CompanyName', 'counts']\npivot_table = result.pivot(index='CompanyName', columns='Month', values='counts')\n\n\nx_labels = ['Month'+str(x) for x in pivot_table.columns.values]\ny_labels = pivot_table.index.values\n\nfig, ax = plt.subplots()\nx = ax.imshow(pivot_table, cmap=plt.cm.winter)\nplt.colorbar(mappable=x, ax=ax)\nax.set_xticks(np.arange(len(x_labels)))\nax.set_yticks(np.arange(len(y_labels)))\nax.set_xticklabels(x_labels)\nax.set_yticklabels(y_labels)\nax.set_xlabel('Month')\nax.set_ylabel('Company')\nax.set_title('Customer Calls This Year')\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Vch1n.png\" alt=\"enter image description here\"></p>\n"}, {"tags": [], "owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "is_accepted": true, "score": 0, "last_activity_date": 1491404331, "last_edit_date": 1491404331, "creation_date": 1435854286, "answer_id": 31189859, "question_id": 31172193, "link": "https://stackoverflow.com/questions/31172193/plotting-a-heat-table-based-on-bokeh/31189859#31189859", "title": "Plotting a Heat Table Based on bokeh", "body": "<p>The answer was in this line: </p>\n\n<pre><code>source = ColumnDataSource(\n    data=dict(months=months, Companies=Companies, color=color, rate=rate)\n)\n</code></pre>\n\n<p>It should have been:</p>\n\n<pre><code>source = ColumnDataSource(\n    data=dict(month=months, company=company, color=color, rate=rate)\n)\n</code></pre>\n"}], "owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3179, "favorite_count": 0, "accepted_answer_id": 31189859, "answer_count": 2, "score": 0, "last_activity_date": 1571529581, "creation_date": 1435786877, "last_edit_date": 1571529581, "question_id": 31172193, "link": "https://stackoverflow.com/questions/31172193/plotting-a-heat-table-based-on-bokeh", "title": "Plotting a Heat Table Based on bokeh", "body": "<p>I am trying to make a heat map like this one from bokeh:</p>\n\n<p><img src=\"https://i.stack.imgur.com/cyLpb.png\" alt=\"Heat Table from Bokeh\"></p>\n\n<p>Where all the code is here: <a href=\"http://docs.bokeh.org/en/latest/docs/gallery/unemployment.html\" rel=\"nofollow noreferrer\">http://docs.bokeh.org/en/latest/docs/gallery/unemployment.html</a></p>\n\n<p>I got pretty close, but for some reason it is only printing the values in a diagonal order. </p>\n\n<p><img src=\"https://i.stack.imgur.com/3xD0K.png\" alt=\"my heat table\"></p>\n\n<p>I tried to format my data the same way and just substitute it, but it got a little more complicated than that. Here is my data:</p>\n\n<pre><code>from collections import OrderedDict\n\nimport numpy as np\nimport pandas as pd\nfrom bokeh.plotting import ColumnDataSource, figure, show, output_file\nfrom bokeh.models import HoverTool\n\nimport pandas.util.testing as tm; tm.N = 3\n\n\ndf = pd.read_csv('MYDATA.csv', usecols=[1, 16]) \ndf = df.set_index('recvd_dttm')\ndf.index = pd.to_datetime(df.index, format='%m/%d/%Y %H:%M')\n\nresult = df.groupby([lambda idx: idx.month, 'CompanyName']).agg(len).reset_index()\nresult.columns = ['Month', 'CompanyName', 'NumberCalls']\npivot_table = result.pivot(index='Month', columns='CompanyName', values='NumberCalls').fillna(0)\ns = pivot_table.sum().sort(ascending=False,inplace=False)\npivot_table = pivot_table.ix[:,s.index[:46]]\npivot_table = pivot_table.transpose()\npivot_table.to_csv('pivot_table.csv')\n\n\npivot_table = pivot_table.reset_index()\npivot_table['CompanyName'] = [str(x) for x in pivot_table['CompanyName']]\nCompanies = list(pivot_table['CompanyName'])\nmonths = [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"]\npivot_table = pivot_table.set_index('CompanyName')\n\n\n\n\n# this is the colormap from the original plot\ncolors = [\n    \"#75968f\", \"#a5bab7\", \"#c9d9d3\", \"#e2e2e2\", \"#dfccce\",\n    \"#ddb7b1\", \"#cc7878\", \"#933b41\", \"#550b1d\"\n]\n\n# Set up the data for plotting. We will need to have values for every\n# pair of year/month names. Map the rate to a color.\nmonth = []\ncompany = []\ncolor = []\nrate = []\nfor y in pivot_table.index:\n    for m in pivot_table.columns:\n        month.append(m)\n        company.append(y)\n        num_calls = pivot_table.loc[y,m]\n        rate.append(num_calls)\n        color.append(colors[min(int(num_calls)-2, 8)])\n\nsource = ColumnDataSource(\n    data=dict(months=months, Companies=Companies, color=color, rate=rate)\n)\n\noutput_file('heatmap.html')\n\nTOOLS = \"resize,hover,save,pan,box_zoom,wheel_zoom\"\n\np = figure(title=\"Customer Calls This Year\",\n    x_range=Companies, y_range=list(reversed(months)),\n    x_axis_location=\"above\", plot_width=1400, plot_height=900,\n    toolbar_location=\"left\", tools=TOOLS)\n\np.rect(\"Companies\", \"months\", 1, 1, source=source,\n    color=\"color\", line_color=None)\n\np.grid.grid_line_color = None\np.axis.axis_line_color = None\np.axis.major_tick_line_color = None\np.axis.major_label_text_font_size = \"10pt\"\np.axis.major_label_standoff = 0\np.xaxis.major_label_orientation = np.pi/3\n\nhover = p.select(dict(type=HoverTool))\nhover.tooltips = OrderedDict([\n    ('Company Name', '@Companies'),\n    ('Number of Calls', '@rate'),\n])\n\nshow(p)      # show the plot\n</code></pre>\n"}, {"tags": ["python", "django", "django-forms", "django-rest-framework"], "comments": [{"owner": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1435788424, "post_id": 31172032, "comment_id": 50352774, "body": "Django has its own validation error class that you should be using in forms."}], "answers": [{"tags": [], "owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "is_accepted": false, "score": 0, "last_activity_date": 1435789963, "creation_date": 1435789963, "answer_id": 31172786, "question_id": 31172032, "link": "https://stackoverflow.com/questions/31172032/how-can-i-use-rest-serializer-validationerror-in-django-forms/31172786#31172786", "title": "How can I use rest serializer.ValidationError in django forms?", "body": "<p>It's possible to write your own custom exception handler to return the error in a preferred format.</p>\n\n<p>The official <a href=\"http://www.django-rest-framework.org/api-guide/exceptions/\" rel=\"nofollow\">documentation</a>, at the bottom of the page, says:</p>\n\n<blockquote>\n  <p>The ValidationError class should be used for serializer and field validation, and by validator classes. It is also raised when calling\n  serializer.is_valid with the raise_exception keyword argument:\n  The generic views use the raise_exception=True flag, which means that you can override the style of validation error responses globally\n  in your API. To do so, use a custom exception handler, as described\n  above.</p>\n</blockquote>\n\n<pre><code>serializer.is_valid(raise_exception=True)\n</code></pre>\n\n<blockquote>\n  <p>By default this exception results in a response with the HTTP status\n  code \"400 Bad Request\"</p>\n</blockquote>\n\n<p>Please read <a href=\"http://www.django-rest-framework.org/api-guide/exceptions/#custom-exception-handling\" rel=\"nofollow\">here</a> to create your custom handler.</p>\n"}], "owner": {"reputation": 381, "user_id": 4298223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ucQR.jpg?s=128&g=1", "display_name": "Umut Gunebakan", "link": "https://stackoverflow.com/users/4298223/umut-gunebakan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435789963, "creation_date": 1435786211, "question_id": 31172032, "link": "https://stackoverflow.com/questions/31172032/how-can-i-use-rest-serializer-validationerror-in-django-forms", "title": "How can I use rest serializer.ValidationError in django forms?", "body": "<p>I am new to Django and rest_framework. I have a password complexity rules script for 'new user' page.</p>\n\n<p>If my complexity requirements satisfy the needs, it will return true. Else it raises <code>serialiser.ValidationError</code>.</p>\n\n<p>I duplicated Django's forget password mechanism to apply my password rules.\nWhen it raises an error, application crashes like below.</p>\n\n<pre><code>Exception Type: ValidationError\nException Value:    \n[u\"The two password fields didn't match.\"]\n</code></pre>\n\n<p>Is it possible to use serializer errors as form errors <code>{{ form.new_password1.errors }}</code>? </p>\n"}, {"tags": ["python", "debugging", "buffer"], "answers": [{"tags": [], "owner": {"reputation": 1128, "user_id": 5045738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qaIAHMHChvQ/AAAAAAAAAAI/AAAAAAAAABc/HaAvc-Vpqc4/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/5045738/james"}, "is_accepted": true, "score": 0, "last_activity_date": 1435786347, "creation_date": 1435786347, "answer_id": 31172070, "question_id": 31171993, "link": "https://stackoverflow.com/questions/31171993/better-debugging-expected-a-character-buffer-object/31172070#31172070", "title": "Better debugging: expected a character buffer object", "body": "<p>You overwrite the passed-in <code>section</code> with <code>section=False</code>.  The error is because you cannot call <code>string.startswith( False )</code>.</p>\n\n<p>A way to debug python is to use <a href=\"https://docs.python.org/2/library/pdb.html\" rel=\"nofollow\">pdb</a>.  This would have helped you find your problem here.  You should read the spec, but heres a quick guide on how to use pdb. </p>\n\n<pre><code>import pdb\n# your code ...\npdb.set_trace() # put this right before line.startswith(section)\n</code></pre>\n\n<p>Then when you run your code, you will execute up to right before the failure.  Then you can print <code>section</code> in pdb, and see that it is <code>False</code>, and then try to figure out why it is <code>False</code>.</p>\n"}], "owner": {"reputation": 515, "user_id": 550643, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6a3c677d60b90f997d796a8e67809fb3?s=128&d=identicon&r=PG", "display_name": "Bob R", "link": "https://stackoverflow.com/users/550643/bob-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 31172070, "answer_count": 1, "score": 1, "last_activity_date": 1435786347, "creation_date": 1435786016, "question_id": 31171993, "link": "https://stackoverflow.com/questions/31171993/better-debugging-expected-a-character-buffer-object", "title": "Better debugging: expected a character buffer object", "body": "<p>I am trying to pass a string section to the the python function below it \nI am uncertain why I am seeing this error. My understanding of this is that it is not getting a string, where it is expected. I have tried casting, but that is not working either. How can I solve this or get more debug info?</p>\n\n<pre><code>section = str('[log]')\nsome_var = 'filename ='\n\nedit_ini('./bench_config.ini', section, some_var, 'logs/ops_log_1')\n</code></pre>\n\n<p>The function causing the error</p>\n\n<pre><code>def edit_ini(filename, section, some_var, value):\n\n    section = False\n\n    flist = open(filename, 'r').readlines()\n\n    f = open(filename+'test', 'w')\n\n    for line in flist:\n            line = str(line)\n            print line\n            if line.startswith(section):\n                    section = True\n                    if( section == True ):\n                            if( line.startswith(some_var) ):\n                                    modified = \"%s = $s\", variable, value\n                                    print &gt;&gt; f, modified\n                            section = False\n            else:\n                    print &gt;&gt; f, line\n    f.close()\n</code></pre>\n\n<p>However I see the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"bench.py\", line 89, in &lt;module&gt;\n    edit_ini('./config.ini', section, some_var, 'logs/log_1')\n  File \"bench.py\", line 68, in edit_ini\n    if line.startswith(section):\nTypeError: expected a character buffer object\n</code></pre>\n"}, {"tags": ["python", "hash", "python-internals"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 2, "creation_date": 1435786184, "post_id": 31171981, "comment_id": 50351791, "body": "Related: <a href=\"http://stackoverflow.com/q/7681786/1639625\">stackoverflow.com/q/7681786/1639625</a>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1435786278, "post_id": 31171981, "comment_id": 50351837, "body": "Which version(s) of Python?"}, {"owner": {"reputation": 1271, "user_id": 2027390, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/354a23f38243af2d4167b7acd598d8f1?s=128&d=identicon&r=PG&f=1", "display_name": "hugos", "link": "https://stackoverflow.com/users/2027390/hugos"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1435786317, "post_id": 31171981, "comment_id": 50351860, "body": "@tobias_k Thanks, I saw this. But it doesn&#39;t tell me why it behaves different on both operating systems."}, {"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 3, "creation_date": 1435786403, "post_id": 31171981, "comment_id": 50351892, "body": "I think this has to do with the hash collision security thing? See this: <a href=\"http://bugs.python.org/issue13703\" rel=\"nofollow noreferrer\">bugs.python.org/issue13703</a>"}, {"owner": {"reputation": 1271, "user_id": 2027390, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/354a23f38243af2d4167b7acd598d8f1?s=128&d=identicon&r=PG&f=1", "display_name": "hugos", "link": "https://stackoverflow.com/users/2027390/hugos"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1435786443, "post_id": 31171981, "comment_id": 50351905, "body": "@jonrsharpe python 2.7.6 both"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1435786443, "post_id": 31171981, "comment_id": 50351907, "body": "That&#39;s why I said &quot;related&quot; and not &quot;duplicate&quot;. ;-) BTW, for me it produces the same hash every time I run it (did not try rebooting, though), for both Python 2.6 and 3.1, but the hash for 2.6 and 3.1 is different. Running an old Debian 6 LTS"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 7, "creation_date": 1435786696, "post_id": 31171981, "comment_id": 50352027, "body": "@tobias_k the difference is probably due to <a href=\"https://en.wikipedia.org/wiki/Address_space_layout_randomization\" rel=\"nofollow noreferrer\">Address Space Layout Randomization</a>."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1435786969, "post_id": 31171981, "comment_id": 50352133, "body": "Arch Linux here -- python 2.7.10 and python 3.4.3 both return different numbers on each execution of this command."}, {"owner": {"reputation": 1271, "user_id": 2027390, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/354a23f38243af2d4167b7acd598d8f1?s=128&d=identicon&r=PG&f=1", "display_name": "hugos", "link": "https://stackoverflow.com/users/2027390/hugos"}, "edited": false, "score": 0, "creation_date": 1435787256, "post_id": 31171981, "comment_id": 50352248, "body": "I tested with python3 now, I got the same values across calls on OS X. Same thing on Ubuntu. But the values are all different from OS and python versions."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 5, "creation_date": 1435787871, "post_id": 31171981, "comment_id": 50352538, "body": "I&#39;m voting to close this question as off-topic because there is no real purpose. The hash value of an object is an implementation detail and subject to change between different implementations of Python, versions, platforms and usually even runs. Relying on some hash value is in general no good idea."}, {"owner": {"reputation": 1271, "user_id": 2027390, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/354a23f38243af2d4167b7acd598d8f1?s=128&d=identicon&r=PG&f=1", "display_name": "hugos", "link": "https://stackoverflow.com/users/2027390/hugos"}, "reply_to_user": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 1, "creation_date": 1435788502, "post_id": 31171981, "comment_id": 50352805, "body": "@poke I agree that relying on a hash value is in general not a good a idea but it happens to be very important in the project I&#39;m working on. I&#39;m not giving details on the project but it happens to be essential that the hash remains the same across different calls to python."}, {"owner": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1435788622, "post_id": 31171981, "comment_id": 50352835, "body": "@Hugo, then you should store it in a portable way outside of Python."}, {"owner": {"reputation": 27359, "user_id": 1516286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/36f74e0d3318a630af9ce0e356182040?s=128&d=identicon&r=PG", "display_name": "Vor", "link": "https://stackoverflow.com/users/1516286/vor"}, "edited": false, "score": 0, "creation_date": 1435789345, "post_id": 31171981, "comment_id": 50353074, "body": "Are they both 64 bit?"}, {"owner": {"reputation": 1271, "user_id": 2027390, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/354a23f38243af2d4167b7acd598d8f1?s=128&d=identicon&r=PG&f=1", "display_name": "hugos", "link": "https://stackoverflow.com/users/2027390/hugos"}, "reply_to_user": {"reputation": 27359, "user_id": 1516286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/36f74e0d3318a630af9ce0e356182040?s=128&d=identicon&r=PG", "display_name": "Vor", "link": "https://stackoverflow.com/users/1516286/vor"}, "edited": false, "score": 0, "creation_date": 1435789514, "post_id": 31171981, "comment_id": 50353125, "body": "@Vor yes they&#39;re both x86_64."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 5, "creation_date": 1435791379, "post_id": 31171981, "comment_id": 50353713, "body": "@Hugo. If it&#39;s so important, why are you trying to use a method which you know is never going to be portable? Why aren&#39;t you using something like <a href=\"https://docs.python.org/2.7/library/hashlib.html\" rel=\"nofollow noreferrer\">hashlib</a>?"}, {"owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "edited": false, "score": 0, "creation_date": 1435871479, "post_id": 31171981, "comment_id": 50393986, "body": "<code>def my_hash(x): return hash(x) if x is not None else 0</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1435872158, "post_id": 31171981, "comment_id": 50394330, "body": "The value of python -c &quot;print(hash(None))&quot; using python 3.4.3 (Anaconda 2.2.0) on Windows 7 outputs 113024943, then 112762799, then 113024943 and so on."}, {"owner": {"reputation": 1271, "user_id": 2027390, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/354a23f38243af2d4167b7acd598d8f1?s=128&d=identicon&r=PG&f=1", "display_name": "hugos", "link": "https://stackoverflow.com/users/2027390/hugos"}, "reply_to_user": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "edited": false, "score": 0, "creation_date": 1435872267, "post_id": 31171981, "comment_id": 50394389, "body": "@Kay that may solve the problem on some cases. Thank you for the suggestion. But I&#39;m still intrigued on why this happens."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 2, "last_activity_date": 1435876666, "creation_date": 1435876666, "answer_id": 31195771, "question_id": 31171981, "link": "https://stackoverflow.com/questions/31171981/why-does-hashnone-change-across-different-platforms-and-in-different-calls/31195771#31195771", "title": "Why does hash(None) change across different platforms and in different calls?", "body": "<p><code>None.__hash__</code> correlates to the <code>_Py_HashPointer</code> hashing function. So basically the pointer of the object is used as hash. For <code>None</code> beeing a singleton this is safe to use, but not deterministic. For a pointer cast to an adequate integer type <code>p</code> the hash value is calculated like the following:</p>\n\n<pre><code>    (p &gt;&gt; 4) | (p &lt;&lt; (8 * SIZEOF_VOID_P - 4))\n</code></pre>\n\n<p>Referring to this a comment in the source code states:</p>\n\n<blockquote>\n  <p>bottom 3 or 4 bits are likely to be 0; rotate y by 4 to avoid excessive hash collisions for dicts and sets</p>\n</blockquote>\n"}], "owner": {"reputation": 1271, "user_id": 2027390, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/354a23f38243af2d4167b7acd598d8f1?s=128&d=identicon&r=PG&f=1", "display_name": "hugos", "link": "https://stackoverflow.com/users/2027390/hugos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "answer_count": 1, "score": 13, "last_activity_date": 1493584111, "creation_date": 1435785982, "last_edit_date": 1493584111, "question_id": 31171981, "link": "https://stackoverflow.com/questions/31171981/why-does-hashnone-change-across-different-platforms-and-in-different-calls", "title": "Why does hash(None) change across different platforms and in different calls?", "body": "<p>I'm facing a really weird behavior with the hash function on Python. When I run the following command on Mac OS (10.10) I get different values from different calls.</p>\n\n<pre><code>$ python -c \"print hash(None)\"\n-9223372036579216774\n$ python -c \"print hash(None)\"\n-9223372036582852230\n</code></pre>\n\n<p>In the other hand when I run the same thing on Ubuntu 14.04 I get:</p>\n\n<pre><code>$ python -c \"print hash(None)\"\n596615\n$ python -c \"print hash(None)\"\n596615\n</code></pre>\n\n<p>For me it looks like, in OS X, python is using the memory address somehow and Ubuntu is not. From that I can see that the hash function is probably implementation dependent. But shouldn't it be based on the \"value\" of None only? What do those numbers represent? Why does it behave differently even on the same python version but on different OS?</p>\n"}, {"tags": ["python", "gtk3", "pygobject"], "answers": [{"comments": [{"owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1435811682, "post_id": 31175582, "comment_id": 50358375, "body": "I think I understand: as I&#39;ve read drawing is done directly to the drawing areas, so I guess  show_layout is what forces the text to get there."}, {"owner": {"reputation": 51182, "user_id": 172999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b2014c8170f4d16a313cfa79071fd861?s=128&d=identicon&r=PG", "display_name": "ptomato", "link": "https://stackoverflow.com/users/172999/ptomato"}, "edited": false, "score": 1, "creation_date": 1436053673, "post_id": 31175582, "comment_id": 50451854, "body": "While this answer is correct, it would be nicer and more educational to give an explanation of what the OP was doing incorrectly."}, {"owner": {"reputation": 3414, "user_id": 495838, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/wmbp4.jpg?s=128&g=1", "display_name": "saeedgnu", "link": "https://stackoverflow.com/users/495838/saeedgnu"}, "edited": false, "score": 0, "creation_date": 1436617464, "post_id": 31175582, "comment_id": 50695762, "body": "Thanks, I added an explanation."}], "tags": [], "owner": {"reputation": 160, "user_id": 1821358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a7cb1e9ae9f82f865071cfc3f759807?s=128&d=identicon&r=PG", "display_name": "Wolfgang", "link": "https://stackoverflow.com/users/1821358/wolfgang"}, "is_accepted": true, "score": 3, "last_activity_date": 1436621087, "last_edit_date": 1436621087, "creation_date": 1435811147, "answer_id": 31175582, "question_id": 31171974, "link": "https://stackoverflow.com/questions/31171974/pygtk-3-gi-repository-pangocairo-changing-color-between-drawing-text-and-line/31175582#31175582", "title": "PyGTK 3 (gi.repository) PangoCairo changing color between drawing text and line", "body": "<p>For layout, the color is read when you call <code>show_layout</code>, so the first <code>set_source_rgba</code> is effect-less. You should show the layout just after you set it's color.</p>\n\n<pre><code>  def do_draw_cb(self, widget, cr):\n      cr.translate ( 10, 10)\n\n      layout = PangoCairo.create_layout (cr)\n      desc = Pango.font_description_from_string (\"Sans 14\")\n      layout.set_font_description( desc)\n      cr.set_source_rgba(0.0, 1.0, 0.0, 1.0)\n      layout.set_text(\"It is not easy being green\", -1 )\n      PangoCairo.show_layout (cr, layout)\n\n      cr.move_to(40, 20)\n      cr.line_to(70, 20)\n      cr.set_source_rgba(0.0, 0.0, 0.0, 1.0)  # messes up previous set_text\n      cr.stroke()\n</code></pre>\n"}], "owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 1, "accepted_answer_id": 31175582, "answer_count": 1, "score": 2, "last_activity_date": 1436621087, "creation_date": 1435785946, "last_edit_date": 1436186193, "question_id": 31171974, "link": "https://stackoverflow.com/questions/31171974/pygtk-3-gi-repository-pangocairo-changing-color-between-drawing-text-and-line", "title": "PyGTK 3 (gi.repository) PangoCairo changing color between drawing text and line", "body": "<p>I'm having problems in changing colors between text and lines in a <code>PangoCairo</code> <code>DrawingArea</code>. They both come out the same color. \nHere is simple Python code:</p>\n\n<pre><code>from gi.repository import Gtk, Pango, PangoCairo\n\nclass Bug(Gtk.DrawingArea):\n    def __init__ (self):\n        Gtk.DrawingArea.__init__(self)\n\n    def do_draw_cb(self, widget, cr):\n        cr.translate ( 10, 10)\n\n        layout = PangoCairo.create_layout (cr)\n        desc = Pango.font_description_from_string (\"Sans 14\")\n        layout.set_font_description( desc)\n        cr.set_source_rgba(0.0, 1.0, 0.0, 1.0)\n        layout.set_text(\"It is not easy being green\", -1 )\n\n        cr.move_to(40, 20)\n        cr.line_to(70, 20)\n        cr.set_source_rgba(0.0, 0.0, 0.0, 1.0)  # messes up previous set_text\n        cr.stroke()\n        PangoCairo.show_layout (cr, layout)\n\ndef destroy(window):\n        Gtk.main_quit()\n\nwindow = Gtk.Window()\nwindow.set_title (\"Green?\")\n\napp = Bug()\napp.set_size_request (300, 200)\n\nwindow.add(app)\n\napp.connect('draw', app.do_draw_cb)\nwindow.connect_after('destroy', destroy)\nwindow.show_all()\nGtk.main()\n</code></pre>\n\n<p>If I remove the second <code>set_source_rgba</code>, then both the text and the line are green instead of both black. But what I want is the text in green and the line in black. How do I do this? </p>\n"}, {"tags": ["python", "plot", "facet", "seaborn"], "comments": [{"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 1, "creation_date": 1435812019, "post_id": 31171964, "comment_id": 50358454, "body": "This is more of a pandas question than a seaborn one; you need to iterate over all groups and not just the ones that have data. But the best thing to do would be to define a function that does the annotation and then pass it to <code>g.map</code>."}, {"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 1, "creation_date": 1435851102, "post_id": 31171964, "comment_id": 50382633, "body": "To shift the annotation, a bit of a hack, but I&#39;d do something like <code>y = .7 if ax.texts else .8</code>. I&#39;m not sure what you mean by &quot;pass label names to the function&quot;, but <code>map</code> will pass the name of the hue level to the <code>label</code> parameter."}], "answers": [{"comments": [{"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1435853690, "post_id": 31189293, "comment_id": 50384427, "body": "I edited the code to take the <code>distplot</code> call out of <code>stats</code> and pass it directly to <code>map</code>, which makes the annotation code more general."}, {"owner": {"reputation": 308, "user_id": 1256120, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4d1a29d8679ca9eed53c719f215993e8?s=128&d=identicon&r=PG", "display_name": "nickos556", "link": "https://stackoverflow.com/users/1256120/nickos556"}, "edited": false, "score": 0, "creation_date": 1472799431, "post_id": 31189293, "comment_id": 65906256, "body": "Where does &#39;ax&#39; come from in this context? I guess it must be an Axes object, but how do you get it? Thanks!"}, {"owner": {"reputation": 1836, "user_id": 1153897, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6121fb0ca0c4926ba78c444f9c8a6a14?s=128&d=identicon&r=PG", "display_name": "Constantino", "link": "https://stackoverflow.com/users/1153897/constantino"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1473254341, "post_id": 31189293, "comment_id": 66070057, "body": "I&#39;ll let @mwaskom chime in since I&#39;m not sure; in the meantime, the original answer is found here: <a href=\"https://stackoverflow.com/revisions/382818e2-a6e4-4136-9eda-dbae5195ee10/view-source\">stackoverflow.com/revisions/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1836, "user_id": 1153897, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6121fb0ca0c4926ba78c444f9c8a6a14?s=128&d=identicon&r=PG", "display_name": "Constantino", "link": "https://stackoverflow.com/users/1153897/constantino"}, "is_accepted": true, "score": 3, "last_activity_date": 1473256092, "last_edit_date": 1473256092, "creation_date": 1435852525, "answer_id": 31189293, "question_id": 31171964, "link": "https://stackoverflow.com/questions/31171964/skipping-empty-facets-in-seaborn-facetgrid-for-annotations/31189293#31189293", "title": "skipping empty facets in seaborn facetgrid for annotations", "body": "<p>The final solution was:</p>\n\n<pre><code>g = sns.FacetGrid(mapping, col=options.facetCol, row=options.facetRow, col_order=sorted(cols), hue=options.group, sharex=False)\ng.map(sns.distplot, options.axis)\ng.map(stats, options.axis)\n\n# custom function that allows us to create a distplot and add offset annotations to each facet that is not empty\ndef stats(x, label, **kwargs):\n\n    # get a reference to the currently active axes\n    ax = plt.gca()    \n\n    # calculate stats and create label\n    n = len(x)\n    mean = np.mean(x)\n    std = np.std(x)\n    label = r\"%s: n=%s, $\\mu$=%.2f $\\sigma$=%.2f\" %(label, n, mean, std)\n\n    # create annotation\n    y = 0.9 - len(ax.texts) * 0.05\n    ax.annotate(label, xy=(0.05,y), xycoords='axes fraction', ha='left', size=8)\n</code></pre>\n"}], "owner": {"reputation": 1836, "user_id": 1153897, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6121fb0ca0c4926ba78c444f9c8a6a14?s=128&d=identicon&r=PG", "display_name": "Constantino", "link": "https://stackoverflow.com/users/1153897/constantino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 970, "favorite_count": 0, "accepted_answer_id": 31189293, "answer_count": 1, "score": 4, "last_activity_date": 1473256092, "creation_date": 1435785907, "last_edit_date": 1592644375, "question_id": 31171964, "link": "https://stackoverflow.com/questions/31171964/skipping-empty-facets-in-seaborn-facetgrid-for-annotations", "title": "skipping empty facets in seaborn facetgrid for annotations", "body": "<p>I'm working on putting together a <a href=\"http://web.stanford.edu/%7Emwaskom/software/seaborn/generated/seaborn.FacetGrid.html\" rel=\"nofollow noreferrer\">Seaborn facetgrid</a> with data that leaves some grids empty.  Furthermore, I'm annotating each facet with some statistics, however I'm not sure how to &quot;skip&quot; the empty facets so that the annotations fall on the proper facet.</p>\n<p><code>g.axes.flat</code> is of length 9 (9 facets have data); however when I place an annotation on each element in <code>g.axes.flat</code>, it isn't being placed where I expect.</p>\n<pre><code>g = sns.FacetGrid(mapping, col=options.facetCol, row=options.facetRow, col_order=sorted(cols), hue=options.group, sharex=False)\ng = g.map(sns.distplot, options.axis)\n\n# label each facet with stats\ngrouped = mapping.groupby([options.facetRow, options.facetCol])\nfor ax, (name, df) in zip(g.axes.flat, grouped):\n    df2 = df.groupby(options.group) # group by each thing that has its own color and run stats on it\n\n    for i, (group, data) in enumerate(df2):\n        x = data[options.axis]\n\n        # calculate stats and create label\n        n = len(x)\n        mean = np.mean(x)\n        std = np.std(x)\n        label = r&quot;%s: n=%s, $\\mu$=%.2f $\\sigma$=%.2f&quot; %(group, n, mean, std)\n        ax.annotate(label, xy=(0.05,0.9-(i*0.05)), xycoords='axes fraction', ha='left', size=8)\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/vnSRb.png\" alt=\"enter image description here\" /></p>\n<h1>EDIT</h1>\n<p>I've created an annotation function and I'm passing it to the <code>map()</code> [as recommended]; however I'm uncertain how to pass label names to the function and how to get the annotations (there are two for each facet) to shift in the y direction.  Any more suggestions?</p>\n<pre><code>g = g.map(stats, options.axis)\n\ndef stats(x, **kwargs):\n    ax = sns.distplot(x, **kwargs)\n\n    # calculate stats and create label\n    n = len(x)\n    mean = np.mean(x)\n    std = np.std(x)\n    label = r&quot;%s: n=%s, $\\mu$=%.2f $\\sigma$=%.2f&quot; %('moo', n, mean, std) # temporary label, need to pass it through function\n    i = 1 # temporary, needs to increment to shift annotations so they aren't on top of each other\n\n    # create annotation\n    ax.annotate(label, xy=(0.05,0.9-(i*0.05)), xycoords='axes fraction', ha='left', size=8)\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/tO54D.png\" alt=\"enter image description here\" /></p>\n"}, {"tags": ["python", "multiprocessing", "python-multiprocessing"], "comments": [{"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1435787586, "post_id": 31171941, "comment_id": 50352405, "body": "Are you saying you create a Pool of worker threads, then close and join.  Later you create another Pool of worker threads, close and join, but it never finishes?  Can you reproduce in a short python script?  You only accessed the Pool itself in its thread per guidelines in <a href=\"https://docs.python.org/2/library/multiprocessing.html#multiprocessing-programming\" rel=\"nofollow noreferrer\">docs.python.org/2/library/&hellip;</a> and <a href=\"https://docs.python.org/2/library/multiprocessing.html#using-a-pool-of-workers\" rel=\"nofollow noreferrer\">docs.python.org/2/library/&hellip;</a>"}, {"owner": {"reputation": 13385, "user_id": 959306, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MJSQv.png?s=128&g=1", "display_name": "jeffery_the_wind", "link": "https://stackoverflow.com/users/959306/jeffery-the-wind"}, "edited": false, "score": 1, "creation_date": 1445687972, "post_id": 31171941, "comment_id": 54433805, "body": "I have a similar issue.  I run a loop inside a loop, where the inside loop is parallel with Pool.imap.  It works many times, depending what data I feed the function.  But most of the time it ends up hanging with no error message.  I have been trying to debug it and haven&#39;t been able to find out why."}], "answers": [{"tags": [], "owner": {"reputation": 11520, "user_id": 1794497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6y5r.png?s=128&g=1", "display_name": "noxdafox", "link": "https://stackoverflow.com/users/1794497/noxdafox"}, "is_accepted": true, "score": 8, "last_activity_date": 1436610522, "creation_date": 1436610522, "answer_id": 31356196, "question_id": 31171941, "link": "https://stackoverflow.com/questions/31171941/should-i-create-a-new-pool-object-every-time-or-reuse-a-single-one/31356196#31356196", "title": "Should I create a new Pool object every time or reuse a single one?", "body": "<p>When you create a Pool of worker processes, new processes are spawned from the parent one. This is a very fast operation but it has its cost.</p>\n\n<p>Therefore, as long as you don't have a very good reason, for example the Pool breaks due to one worker dying unexpectedly, it's better to always use the same Pool instance. </p>\n\n<p>The reason for the hang is hard to tell without inspecting the code. You might not have clean the previous instances properly (call close()/stop() and then always call join()). You might have sent too big data through the Pool channel which usually ends up with a deadlock and so on.</p>\n\n<p>Surely a pool does not break if you submit less tasks than workers. The pool is designed exactly to de-couple the number of tasks from the number of workers.</p>\n"}], "owner": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3413, "favorite_count": 0, "accepted_answer_id": 31356196, "answer_count": 1, "score": 8, "last_activity_date": 1498647468, "creation_date": 1435785778, "last_edit_date": 1498647468, "question_id": 31171941, "link": "https://stackoverflow.com/questions/31171941/should-i-create-a-new-pool-object-every-time-or-reuse-a-single-one", "title": "Should I create a new Pool object every time or reuse a single one?", "body": "<p>I'm trying to understand the best practices with Python's multiprocessing.Pool object.</p>\n\n<p>In my program I use Pool.imap very frequently. Normally every time I start tasks in parallel I create a new pool object and then close it after I'm done. </p>\n\n<p>I recently encountered a hang where the number of tasks submitted to the pool was less than the number of processes. What was odd was that it only occurred in my test pipeline which had a bunch of things run before it. Running the test as a standalone did not cause the hand. I assume it has to do with making multiple pools. </p>\n\n<p>I'd really like to find some resources to help me understand the best practices in using Python's multiprocessing. Specifically I'm currently trying to understand the implications of making several pool objects versus using only one. </p>\n"}, {"tags": ["python", "mrjob"], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 3687771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e976dc138343acfd0b9ee58941ef05?s=128&d=identicon&r=PG&f=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/3687771/bill"}, "is_accepted": false, "score": 0, "last_activity_date": 1454080951, "creation_date": 1454080951, "answer_id": 35087987, "question_id": 31171933, "link": "https://stackoverflow.com/questions/31171933/cannot-run-python-mrjob-locally/35087987#35087987", "title": "cannot run python MRJob locally", "body": "<p>From <a href=\"https://github.com/Yelp/mrjob\" rel=\"nofollow\">https://github.com/Yelp/mrjob</a>:</p>\n\n<pre><code># locally\npython mrjob/examples/mr_word_freq_count.py README.rst &gt; counts\n</code></pre>\n\n<p>My guess is that you don't have to pass in the local runner option and that's causing some kind of error.</p>\n"}], "owner": {"reputation": 2814, "user_id": 2773013, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b5666acb4000d90c055a47d93b49421a?s=128&d=identicon&r=PG&f=1", "display_name": "user2773013", "link": "https://stackoverflow.com/users/2773013/user2773013"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 691, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1454080951, "creation_date": 1435785759, "question_id": 31171933, "link": "https://stackoverflow.com/questions/31171933/cannot-run-python-mrjob-locally", "title": "cannot run python MRJob locally", "body": "<p>If i understand MRJob correctly, you can simulate hadoop's multi process run using MRJob by running it with</p>\n\n<pre><code>python mrfile.py -r local input.txt\n</code></pre>\n\n<p>I'm running windows(no choice for now), and when I issue the above command, i'm getting a bunch of mambo jumbo and at the end it tells me :</p>\n\n<pre><code>WindowsError: [Error 2] The system cannot find the file specified\n</code></pre>\n\n<p>This is the full error. Could someone help? </p>\n\n<pre><code>C:\\Users\\someuser\\Documents\\Python_projects\\something&gt;python MRJob_parser.py -r loc\nal test2.txt\nno configs found; falling back on auto-configuration\nno configs found; falling back on auto-configuration\ncreating tmp directory c:\\users\\someuser\\appdata\\local\\temp\\MRJob_parser.someuser.\n20150701.211822.496000\nwriting wrapper script to c:\\users\\someuser\\appdata\\local\\temp\\MRJob_parser.bw401\n45.20150701.211822.496000\\setup-wrapper.sh\nwriting to c:\\users\\someuser\\appdata\\local\\temp\\MRJob_parser.someuser.20150701.211\n822.496000\\step-0-mapper_part-00000\n&gt; sh -ex setup-wrapper.sh 'c:\\Users\\someuser\\Documents\\python_venv\\something_Project\\\nScripts\\python.exe' MRJob_parser.py --step-num=0 --mapper 'c:\\users\\someuser\\appd\nata\\local\\temp\\MRJob_parser.someuser.20150701.211822.496000\\input_part-00000' &gt; c\n:\\users\\someuser\\appdata\\local\\temp\\MRJob_parser.someuser.20150701.211822.496000\\s\ntep-0-mapper_part-00000\nTraceback (most recent call last):\n  File \"MRJob_parser.py\", line 18, in &lt;module&gt;\n    Extractor.run()\n  File \"c:\\Users\\someuser\\Documents\\python_venv\\something_Project\\lib\\site-packages\\m\nrjob\\job.py\", line 461, in run\n    mr_job.execute()\n  File \"c:\\Users\\someuser\\Documents\\python_venv\\something_Project\\lib\\site-packages\\m\nrjob\\job.py\", line 479, in execute\n    super(MRJob, self).execute()\n  File \"c:\\Users\\someuser\\Documents\\python_venv\\something_Project\\lib\\site-packages\\m\nrjob\\launch.py\", line 151, in execute\n    self.run_job()\n  File \"c:\\Users\\someuser\\Documents\\python_venv\\something_Project\\lib\\site-packages\\m\nrjob\\launch.py\", line 214, in run_job\n    runner.run()\n  File \"c:\\Users\\someuser\\Documents\\python_venv\\something_Project\\lib\\site-packages\\m\nrjob\\runner.py\", line 464, in run\n    self._run()\n  File \"c:\\Users\\someuser\\Documents\\python_venv\\something_Project\\lib\\site-packages\\m\nrjob\\sim.py\", line 173, in _run\n    self._invoke_step(step_num, 'mapper')\n  File \"c:\\Users\\someuser\\Documents\\python_venv\\something_Project\\lib\\site-packages\\m\nrjob\\sim.py\", line 260, in _invoke_step\n    working_dir, env)\n  File \"c:\\Users\\someuser\\Documents\\python_venv\\something_Project\\lib\\site-packages\\m\nrjob\\local.py\", line 147, in _run_step\n    procs_args, output_path, working_dir, env)\n  File \"c:\\Users\\someuser\\Documents\\python_venv\\something_Project\\lib\\site-packages\\m\nrjob\\local.py\", line 250, in _invoke_processes\n    cwd=working_dir, env=env)\n  File \"c:\\Users\\someuser\\Documents\\python_venv\\something_Project\\lib\\site-packages\\m\nrjob\\local.py\", line 73, in _chain_procs\n    proc = Popen(args, **proc_kwargs)\n  File \"C:\\Python27\\Lib\\subprocess.py\", line 710, in __init__\n    errread, errwrite)\n  File \"C:\\Python27\\Lib\\subprocess.py\", line 958, in _execute_child\n    startupinfo)\nWindowsError: [Error 2] The system cannot find the file specified\n\nC:\\Users\\someuser\\Documents\\Python_projects\\something&gt;\n</code></pre>\n"}, {"tags": ["python", "django", "database"], "comments": [{"owner": {"reputation": 9722, "user_id": 991572, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32c3a43c2f79abe038e8ec5d9f306b29?s=128&d=identicon&r=PG", "display_name": "allcaps", "link": "https://stackoverflow.com/users/991572/allcaps"}, "edited": false, "score": 0, "creation_date": 1435786728, "post_id": 31171909, "comment_id": 50352044, "body": "What did you try? Did you search at all? <a href=\"https://www.djangopackages.com/grids/g/model-audit/\" rel=\"nofollow noreferrer\">djangopackages.com/grids/g/model-audit</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5343, "user_id": 612124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/p8BFg.png?s=128&g=1", "display_name": "M.javid", "link": "https://stackoverflow.com/users/612124/m-javid"}, "is_accepted": false, "score": 2, "last_activity_date": 1435789184, "last_edit_date": 1435789184, "creation_date": 1435786800, "answer_id": 31172170, "question_id": 31171909, "link": "https://stackoverflow.com/questions/31171909/confirm-changes-made-by-user/31172170#31172170", "title": "Confirm changes made by user", "body": "<p>This job can implement by workflow systems similar <a href=\"http://viewflow.io/\" rel=\"nofollow\">viewflow</a> or <a href=\"https://code.google.com/p/goflow/downloads/list\" rel=\"nofollow\">GoFlow</a> and others, in this way added/changed data saves on database but waiting to confirm by workflow master actors.</p>\n"}], "owner": {"reputation": 41, "user_id": 4003796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4aa3c570ba173081e12202ae6902dd49?s=128&d=identicon&r=PG&f=1", "display_name": "Extracting", "link": "https://stackoverflow.com/users/4003796/extracting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1447520978, "creation_date": 1435785656, "last_edit_date": 1447520978, "question_id": 31171909, "link": "https://stackoverflow.com/questions/31171909/confirm-changes-made-by-user", "title": "Confirm changes made by user", "body": "<p>I want all registered users to have the ability to change existing data..\nBut to make sure they don't mess with it, I want the ability to check the new data before commiting it to my db.\nHow can I do it as nice as possible, that me and all admins only need one click to reject/accept updated data?</p>\n"}, {"tags": ["android", "python", "django", "django-models", "django-rest-framework"], "comments": [{"owner": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1435788160, "post_id": 31171871, "comment_id": 50352663, "body": "Is <code>timestamp</code> just a custom field on your user model?"}, {"owner": {"reputation": 13, "user_id": 5071370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9d889d2c189d6619359c0c65d1d023?s=128&d=identicon&r=PG&f=1", "display_name": "BProgrammer", "link": "https://stackoverflow.com/users/5071370/bprogrammer"}, "reply_to_user": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1435789017, "post_id": 31171871, "comment_id": 50352971, "body": "@KevinBrown yes, I am trying to create this custom DateTimeField called timestamp."}, {"owner": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1435789096, "post_id": 31171871, "comment_id": 50353001, "body": "Have you tried adding it to <code>fields</code> in your serializer meta?"}, {"owner": {"reputation": 13, "user_id": 5071370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9d889d2c189d6619359c0c65d1d023?s=128&d=identicon&r=PG&f=1", "display_name": "BProgrammer", "link": "https://stackoverflow.com/users/5071370/bprogrammer"}, "reply_to_user": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1435790045, "post_id": 31171871, "comment_id": 50353279, "body": "@KevinBrown yes, and I get an error, because I believe I need to create a view and model for it, but I&#39;m uncertain about how to implement that."}, {"owner": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1435790120, "post_id": 31171871, "comment_id": 50353298, "body": "Please include the error and your models in your question."}, {"owner": {"reputation": 13, "user_id": 5071370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9d889d2c189d6619359c0c65d1d023?s=128&d=identicon&r=PG&f=1", "display_name": "BProgrammer", "link": "https://stackoverflow.com/users/5071370/bprogrammer"}, "reply_to_user": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1435790920, "post_id": 31171871, "comment_id": 50353567, "body": "@KevinBrown thanks for your help so far, I&#39;ve added the errors."}, {"owner": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1435790978, "post_id": 31171871, "comment_id": 50353591, "body": "How does your time model connect to the user model?"}, {"owner": {"reputation": 13, "user_id": 5071370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9d889d2c189d6619359c0c65d1d023?s=128&d=identicon&r=PG&f=1", "display_name": "BProgrammer", "link": "https://stackoverflow.com/users/5071370/bprogrammer"}, "reply_to_user": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1435791081, "post_id": 31171871, "comment_id": 50353621, "body": "That&#39;s what I&#39;m trying to figure out."}], "answers": [{"tags": [], "owner": {"reputation": 1509, "user_id": 2987526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jrCCo.jpg?s=128&g=1", "display_name": "Alexandre", "link": "https://stackoverflow.com/users/2987526/alexandre"}, "is_accepted": true, "score": 0, "last_activity_date": 1436012340, "creation_date": 1436012340, "answer_id": 31220525, "question_id": 31171871, "link": "https://stackoverflow.com/questions/31171871/adding-a-custom-datetimefield-that-can-be-updated-through-a-put-request-djangor/31220525#31220525", "title": "Adding a custom DateTimeField that can be updated through a PUT request (DjangoRestFramework)", "body": "<p>You should better use the <code>AbstractBaseUser</code> from Django in order to construct your own user model. This is more simple than creating a new dedicated <code>Time</code> model, and the DRF custom relational field that goes with it.</p>\n\n<p>For example:</p>\n\n<pre><code>from django.contrib.auth.models import AbstractBaseUser\nfrom django.db import models\n\nclass CustomUser(AbstractBaseUser):\n    timestamp = models.DateTimeField()\n</code></pre>\n\n<p>Then, in your DRF serializer:</p>\n\n<pre><code>from rest_framework import serializers\n\nclass CustomUserSerializer(serializers.HyperlinkedModelSerializer):\n    class Meta:\n        model = CustomUser\n        lookup_field = 'username'\n        set_timezone = 'date_joined'\n        fields = ('url', 'username','date_joined', 'timestamp')\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5071370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9d889d2c189d6619359c0c65d1d023?s=128&d=identicon&r=PG&f=1", "display_name": "BProgrammer", "link": "https://stackoverflow.com/users/5071370/bprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 31220525, "answer_count": 1, "score": 1, "last_activity_date": 1436012340, "creation_date": 1435785530, "last_edit_date": 1436009422, "question_id": 31171871, "link": "https://stackoverflow.com/questions/31171871/adding-a-custom-datetimefield-that-can-be-updated-through-a-put-request-djangor", "title": "Adding a custom DateTimeField that can be updated through a PUT request (DjangoRestFramework)", "body": "<p>I'm new to django and I created a django app by following this tutorial: <a href=\"http://www.django-rest-framework.org/tutorial/quickstart/\" rel=\"nofollow\">http://www.django-rest-framework.org/tutorial/quickstart/</a></p>\n\n<p>This tutorial gives a pre-made User class that includes various fields. I am trying to add a custom DateTimeField that can be updated frequently through a PUT request in android. How would I add this custom field \"timestamp\" to this class.</p>\n\n<p><strong>Here is my code:</strong></p>\n\n<blockquote>\n  <p>Serializers.py</p>\n</blockquote>\n\n<pre><code>from django.contrib.auth.models import User\nfrom rest_framework import serializers\nfrom django.contrib.auth.models import models\n\nclass UserSerializer(serializers.HyperlinkedModelSerializer):\n    class Meta:\n        model = User\n        lookup_field = 'username'\n        set_timezone = 'date_joined'\n        fields = ('url', 'username','date_joined')\n</code></pre>\n\n<blockquote>\n  <p>Views.py </p>\n</blockquote>\n\n<pre><code>from django.contrib.auth.models import User\nfrom rest_framework import viewsets\nfrom tutorial.quickstart.serializers import UserSerializer\nfrom django.conf import settings\nfrom django.shortcuts import redirect, render\ndir(settings)\nsettings.__dict__\n\n\n\nclass UserViewSet(viewsets.ModelViewSet):\n    \"\"\"\n    API endpoint that allows users to be viewed or edited.\n    \"\"\"\n    lookup_field = 'username'\n    queryset = User.objects.all()\n    serializer_class = UserSerializer\n</code></pre>\n\n<blockquote>\n  <p>urls.py</p>\n</blockquote>\n\n<pre><code>from django.conf.urls import url, include\nfrom rest_framework import routers\nfrom tutorial.quickstart import views\n\nrouter = routers.DefaultRouter()\nrouter.register(r'users', views.UserViewSet)\n\nurlpatterns = [\n    url(r'^', include(router.urls)),\n    url(r'^api-auth/', include('rest_framework.urls', namespace='rest_framework'))\n]\n</code></pre>\n\n<blockquote>\n  <p>Models.py</p>\n</blockquote>\n\n<pre><code>from django.db import models\n# Create your models here.\nfrom datetime import datetime\n\nclass Time(models.Model):\n   timestamp = models.DateTimeField(auto_now_add=True)\n\n   def __unicode__(self):\n       return \"Time\"\n</code></pre>\n\n<p><strong>ERROR</strong></p>\n\n<blockquote>\n  <p>Exception Value:<br>\n  Field name <code>timestamp</code> is not valid for model <code>User</code>.\n  Exception Location: /Library/Python/2.7/site-packages/rest_framework/serializers.py in build_unknown_field, line 1079\n  Python Executable:  /Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\n  Python Version: 2.7.6</p>\n</blockquote>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1435785532, "post_id": 31171805, "comment_id": 50351485, "body": "Delete <code>url(r&#39;^test&#47;$&#39;, include( &#39;twitterapp.urls&#39; ) ),</code> from <i>Project urls.py</i>, and the <code>$</code> from this line <code>url(r&#39;^$&#39;, include(&#39;twitterapp.urls&#39;) ),</code> in the same file."}, {"owner": {"reputation": 3, "user_id": 5071323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0403d02d778ccd88f1928ce1186ce33?s=128&d=identicon&r=PG&f=1", "display_name": "Stealthrider", "link": "https://stackoverflow.com/users/5071323/stealthrider"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1435788509, "post_id": 31171805, "comment_id": 50352807, "body": "Excellent! This worked. Why exactly does the project&#39;s &#39;test&#39; line not work? I think I understand the second edit; you want to remove the end of line so that you can search for any url in twitterapp.urls?"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1435791049, "post_id": 31171805, "comment_id": 50353606, "body": "You were including the same <code>url</code> twice, you got something like &#39;/test/test&#39; pointing to the same view than &#39;/test&#39;"}], "owner": {"reputation": 3, "user_id": 5071323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0403d02d778ccd88f1928ce1186ce33?s=128&d=identicon&r=PG&f=1", "display_name": "Stealthrider", "link": "https://stackoverflow.com/users/5071323/stealthrider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 444, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1435785242, "creation_date": 1435785242, "question_id": 31171805, "link": "https://stackoverflow.com/questions/31171805/django-capturing-wrong-url-pattern-and-going-to-another-url", "title": "Django capturing wrong url pattern and going to another url", "body": "<p>Keep in mind that I am a beginner Django user, so I do not have the best idea of what I am doing.</p>\n\n<p>Currently, I have two urls - index and test. When I go to 127.0.0.1:8000/test, it seems to capture the index pattern and go to the index page. 127.0.0.1:8000/ (index / home page) works fine.</p>\n\n<p>Project urls.py:</p>\n\n<pre><code>from django.conf.urls import include, url\nfrom django.contrib import admin\n\nurlpatterns = [\n    url(r'^admin/$', include(admin.site.urls)),\n    url(r'^test/$', include( 'twitterapp.urls' ) ),\n    url(r'^$', include('twitterapp.urls') ),\n]\n</code></pre>\n\n<p>App urls.py:</p>\n\n<pre><code>from django.conf.urls import url\n\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n    url(r'^test/$', views.test, name='test'),\n\n]\n</code></pre>\n\n<p>Views.py:</p>\n\n<pre><code>from django.shortcuts import render\nfrom django.http import HttpResponse\nfrom django.template import RequestContext, loader\n\n# Create your views here.\ndef index(request):\n    context = {}\n    return render(request, 'twitterapp/index.html', context)\n\ndef test(request):\n    return HttpResponse(\"test page\")\n</code></pre>\n\n<p>This is probably some basic issue, but I am only starting to learn Django, so I am not sure why my /test/ will go to the index page. Let me know if you need any clarification or see any newbie errors in my code. Help would be much appreciated.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1435784911, "post_id": 31171679, "comment_id": 50351153, "body": "Example input and output often helps."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435785375, "post_id": 31171679, "comment_id": 50351405, "body": "So you unique groupings by day?"}, {"owner": {"reputation": 6101, "user_id": 2573069, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/eb2b483ce40a13f95468dcb3cb8e09bc?s=128&d=identicon&r=PG&f=1", "display_name": "Union find", "link": "https://stackoverflow.com/users/2573069/union-find"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435785421, "post_id": 31171679, "comment_id": 50351428, "body": "@PadraicCunningham Yes but only according to certain criteria -- e.g., where the poll names are the same but the polling organizations different..."}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1435785683, "post_id": 31171679, "comment_id": 50351560, "body": "@Incodeveritas Is it possible to upload a sample file with at least a few hundred lines? For example, a dropbox share link with your csv file."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435785922, "post_id": 31171679, "comment_id": 50351681, "body": "So poll and date are equal but polled must be unique? Basically <code>df.groupby((&quot;date&quot;,&quot;poll&quot;))</code> and the unique element from that?"}, {"owner": {"reputation": 6101, "user_id": 2573069, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/eb2b483ce40a13f95468dcb3cb8e09bc?s=128&d=identicon&r=PG&f=1", "display_name": "Union find", "link": "https://stackoverflow.com/users/2573069/union-find"}, "reply_to_user": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1435790772, "post_id": 31171679, "comment_id": 50353517, "body": "@JianxunLi  added sample rows."}, {"owner": {"reputation": 6101, "user_id": 2573069, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/eb2b483ce40a13f95468dcb3cb8e09bc?s=128&d=identicon&r=PG&f=1", "display_name": "Union find", "link": "https://stackoverflow.com/users/2573069/union-find"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435790785, "post_id": 31171679, "comment_id": 50353522, "body": "@PadraicCunningham Ok will try."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435791156, "post_id": 31171679, "comment_id": 50353636, "body": "The only pair in your sample that would be grouped are index 6 and 9, <code>print(df.groupby((&quot;date&quot;, &quot;poll&quot;)).groups)</code> is that correct?"}, {"owner": {"reputation": 6101, "user_id": 2573069, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/eb2b483ce40a13f95468dcb3cb8e09bc?s=128&d=identicon&r=PG&f=1", "display_name": "Union find", "link": "https://stackoverflow.com/users/2573069/union-find"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435791194, "post_id": 31171679, "comment_id": 50353645, "body": "@PadraicCunningham Increasing the sample.. the sample is much larger."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435791249, "post_id": 31171679, "comment_id": 50353665, "body": "Logic should still be the same, group by the two keys, remove dupes from each group and use those values for your dataframe, also <code>df.drop_duplicates(inplace=True)</code> would remove all the dupes"}], "owner": {"reputation": 6101, "user_id": 2573069, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/eb2b483ce40a13f95468dcb3cb8e09bc?s=128&d=identicon&r=PG&f=1", "display_name": "Union find", "link": "https://stackoverflow.com/users/2573069/union-find"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435785405, "creation_date": 1435784768, "last_edit_date": 1435784994, "question_id": 31171679, "link": "https://stackoverflow.com/questions/31171679/best-way-with-pandas-to-find-rows-with-a-select-duplicate-column-values-and-aggr", "title": "Best way with Pandas to find rows with a select duplicate column values and aggregate them", "body": "<p>I've created a function that looks for rows that have a set of column values that are the same. It's ugly though: nested apply functions. Is there a better way to test if <code>n</code> number columns have the same value, and if so apply a function to them or add them to a dictionary?</p>\n\n<pre><code>#function to add valid polls to dictionary\ndef j(x,i,cand_name):\n        if (x['_pollname'] in valid_polls):\n            if (x['_poll'] in valid_elections):\n                if(np.isfinite(x[cand_name])):\n                    toappenddf = {}\n                    toappenddf['candidate'] = str(cand_name)\n                    toappenddf['date'] = x['_date']\n                    toappenddf['poll'] = x['_pollname']\n                    toappenddf['polled'] = x[cand_name]\n                    appendc.append(toappenddf)\n\ninvalid_cols = ['_poll','_pollname','_date']\n\n# run the function\nfor val in enumerate(list(df3.columns.values)):\n    if (val[1] not in invalid_cols):\n        df3.apply(lambda row: j(row,i,val[1]), axis=1)\n\n#create dataframe from results\ndf0 = pd.DataFrame(appendc)\npollaggregator = []\n\n#create nested for loops\ndef k(x):\n    def h(w,i,xx):\n        # see if there's a match along three column values between any two rows\n        if ((w.candidate == xx.candidate) &amp; (w.date == xx.date) &amp; (xx.poll != w.poll)):\n            appendpoll = {}\n            appendpoll = w.tolist()\n            pollaggregator.append(appendpoll)\n    df0.apply(lambda row: h(row,i,x), axis=1)\n\n    if (len(pollaggregator) &gt; 0):\n        appendpoll2 = {}\n        appendpoll2 = x.tolist()\n\ndf0.apply(k, axis=1)\n</code></pre>\n\n<p>The input data is polling data in a dataframe like this:</p>\n\n<pre><code>,candidate,date,poll,polled\n0,Biden,2014-12-21 00:00:00,CNN,8.0\n1,Biden,2015-01-27 00:00:00,FOX News,17.0\n2,Biden,2015-02-15 00:00:00,CNN,14.0\n3,Biden,2015-03-02 00:00:00,Quinnipiac,10.0\n4,Biden,2015-03-13 00:00:00,CNN/ORC,15.0\n5,Biden,2015-03-31 00:00:00,FOX News,12.0\n6,Biden,2015-04-24 00:00:00,FOX News,9.0\n7,Biden,2015-04-20 00:00:00,CNN/Opinion Research,11.0\n8,Biden,2015-04-23 00:00:00,Quinnipiac,10.0\n9,Biden,2015-04-24 00:00:00,FOX News,9.0\n</code></pre>\n\n<p>For my purposes, I'm looking to aggregate rows that have the same day value, but different poll name value.</p>\n"}, {"tags": ["python", "asp.net", "post", "python-requests"], "comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 1, "creation_date": 1435785034, "post_id": 31171665, "comment_id": 50351223, "body": "run a network sniffer, to compare requests sent by a browser and your code."}, {"owner": {"reputation": 11, "user_id": 5071312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b6b9a1e70f3df7a78924834f5b8c97?s=128&d=identicon&r=PG&f=1", "display_name": "Michael N.", "link": "https://stackoverflow.com/users/5071312/michael-n"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1435787606, "post_id": 31171665, "comment_id": 50352414, "body": "@Sebastian is looks like the data sent by my browser is the exact same as in the program, and the headers were similar. I tried copying over the header sent by my browser, but that didn&#39;t work."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1435788266, "post_id": 31171665, "comment_id": 50352712, "body": "There is no magic ball on the remote server; something is different. What does &quot;didn&#39;t work&quot; mean? What do you expect to happen? What happens instead (<code>response.history</code>, <code>response.status_code</code> -- update your question, to include the info) ? Does your browser make some additional requests e.g., via javascript or to download an image or a css file?"}], "owner": {"reputation": 11, "user_id": 5071312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b6b9a1e70f3df7a78924834f5b8c97?s=128&d=identicon&r=PG&f=1", "display_name": "Michael N.", "link": "https://stackoverflow.com/users/5071312/michael-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1384, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435784713, "creation_date": 1435784713, "question_id": 31171665, "link": "https://stackoverflow.com/questions/31171665/post-request-to-asp-net-page-using-the-python-requests-module", "title": "POST request to ASP.NET page using the Python requests module", "body": "<p>I am trying to submit a POST request to <code>pwreset.seattleu.edu/change.aspx</code> so I can change my account password on the command line. I think that I have set up the request properly, after reading various other similar questions, but the response being returned is the exact same page and my password is not being changed. A valid response should redirect me to <code>pwreset.seattleu.edu/change_success.aspx</code> </p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\n\npwreset_url = \"https://pwreset.seattleu.edu/change.aspx\"\n\nheaders = {\n    'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.17 (KHTML, like Gecko)  Chrome/24.0.1312.57 Safari/537.17',\n    'Content-Type': 'application/x-www-form-urlencoded',\n    'Accept-Encoding': 'gzip,deflate,sdch',\n    'Accept-Language': 'en-US,en;q=0.8',\n    'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.3'\n}\n\nsession = requests.Session()\nsession.headers.update(headers)\n\nform_response = session.get(pwreset_url, headers=headers) \nsoup = BeautifulSoup(form_response.content)\n\nviewstate = soup.find('input', {'name': \"__VIEWSTATE\"})['value']\nviewstategenerator = soup.find('input', {'name': \"__VIEWSTATEGENERATOR\"})['value']\n\nitem_request_body = {\n    'VIEWSTATE': viewstate,\n    'VIEWSTATEGENERATOR': viewstategenerator,\n    '__VIEWSTATEENCRYPTED': '',\n    'Username': 'my_username',\n    'OldPassword': 'my_password',\n    'NewPassword': 'new_password',\n    'ConfirmPassword': 'new_password',\n    'DoChg': 'Change Password &gt;&gt;'\n}\n\nresponse = session.post(url=pwreset_url, headers=headers, data=item_request_body)\n\nprint(BeautifulSoup(response.content))\n</code></pre>\n\n<p>Am I doing anything wrong?</p>\n"}, {"tags": ["python", "optimization", "pandas", "dummy-variable"], "answers": [{"tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 2, "last_activity_date": 1435785918, "last_edit_date": 1435785918, "creation_date": 1435784854, "answer_id": 31171695, "question_id": 31171662, "link": "https://stackoverflow.com/questions/31171662/pandas-optimized-way-to-create-dummy-variable/31171695#31171695", "title": "Pandas Optimized Way to Create Dummy-Variable?", "body": "<p>Why not try <code>np.where</code>. It's column-wise vectorized operation and it is much faster than row-wise apply.</p>\n\n<pre><code>dstk['dropflag'] = np.where(dstk.col &lt;= criteria, 1, 0)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1736, "user_id": 3314282, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9ea2bf353f4ca811aaa3d101c507f8ed?s=128&d=identicon&r=PG&f=1", "display_name": "sfortney", "link": "https://stackoverflow.com/users/3314282/sfortney"}, "edited": false, "score": 0, "creation_date": 1435787084, "post_id": 31171836, "comment_id": 50352185, "body": "Just a little typo.. Should be (dstk[col] &lt;= criteria). Thanks!"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 2, "last_activity_date": 1435787189, "last_edit_date": 1435787189, "creation_date": 1435785350, "answer_id": 31171836, "question_id": 31171662, "link": "https://stackoverflow.com/questions/31171662/pandas-optimized-way-to-create-dummy-variable/31171836#31171836", "title": "Pandas Optimized Way to Create Dummy-Variable?", "body": "<p>Another option would be:</p>\n\n<pre><code>dstk['dropflag'] = (dstk[col] &lt;= criteria).astype(int)\n</code></pre>\n"}], "owner": {"reputation": 1736, "user_id": 3314282, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9ea2bf353f4ca811aaa3d101c507f8ed?s=128&d=identicon&r=PG&f=1", "display_name": "sfortney", "link": "https://stackoverflow.com/users/3314282/sfortney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "accepted_answer_id": 31171695, "answer_count": 2, "score": 0, "last_activity_date": 1435787274, "creation_date": 1435784711, "last_edit_date": 1435787274, "question_id": 31171662, "link": "https://stackoverflow.com/questions/31171662/pandas-optimized-way-to-create-dummy-variable", "title": "Pandas Optimized Way to Create Dummy-Variable?", "body": "<p>I am creating a new dummy variable based off of a given column and a criteria. Below is the code I am working with. It works but is too slow for what I would like to do. Is there a faster, maybe vectorized way do create dummies in pandas? Specifically, according to my example? </p>\n\n<p>I have looked up the get_dummies function in pandas but it seems to do something a little different than what I am doing here. I could be wrong though so if anyone has a way to make get_dummies work with this example, that would be an acceptable answer too.  </p>\n\n<pre><code>def flagger(row, criteria, col):\n    if row[col] &lt;= criteria:\n        return 1\n    if row[col] &gt; criteria:\n        return 0\n\ndstk['dropflag'] = dstk.apply(lambda row: flagger(row, criteria, col), axis=1)\n</code></pre>\n\n<p>Edit: There are two good answers here. At a glance they both look equally fast (at least to the same order of magnitude) so I just accepted one. If anyone wants to do some more serious profiling I would be happy to revise my answer choice.</p>\n"}, {"tags": ["python", "csv", "pandas"], "comments": [{"owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "reply_to_user": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1435786382, "post_id": 31171651, "comment_id": 50351881, "body": "I am simplifying the csv here, they all need to change because I am going to be summing based on <code>ID</code> eventually, and if only the <code>D</code> changes the value from <code>C</code> would be left in the old class.  Hope that makes sense"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1435786663, "post_id": 31171651, "comment_id": 50352017, "body": "Please make your desired output consistent with the criteria as you stated it in the question."}, {"owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "reply_to_user": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1435786799, "post_id": 31171651, "comment_id": 50352073, "body": "Yes, I realized after that it could affect things, I&#39;m sorry.  Still wrapping my head around all this stuff."}, {"owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "edited": false, "score": 0, "creation_date": 1435787204, "post_id": 31171651, "comment_id": 50352235, "body": "just a bad edit by me, i changed it"}], "answers": [{"comments": [{"owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "edited": false, "score": 0, "creation_date": 1435786228, "post_id": 31171804, "comment_id": 50351818, "body": "This returned <code>TypeError: cannot compare a dtyped [object] array with a scalar of type [bool] </code>"}], "tags": [], "owner": {"reputation": 52, "user_id": 4854762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c16312da373c47a4c67ac94bfd85aa6?s=128&d=identicon&r=PG&f=1", "display_name": "ypatel", "link": "https://stackoverflow.com/users/4854762/ypatel"}, "is_accepted": false, "score": 0, "last_activity_date": 1435785238, "creation_date": 1435785238, "answer_id": 31171804, "question_id": 31171651, "link": "https://stackoverflow.com/questions/31171651/modifying-multiple-rows-based-on-specific-criteria/31171804#31171804", "title": "Modifying Multiple Rows based on Specific Criteria", "body": "<p>You tagged pandas so I'm assuming you can import this in as a dataframe. </p>\n\n<p>If so, I think you're looking for something like this:</p>\n\n<pre><code>df[(df.Status=='D') &amp; (df.Species=='CareX' | df.Species=='Carcra') &amp; (df.ID== 1)]['Class'] = 'Wet'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3186, "user_id": 4871483, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh5.googleusercontent.com/-HMwbAOtRjY4/AAAAAAAAAAI/AAAAAAAABQk/jXK1QQ0bfqw/photo.jpg?sz=128", "display_name": "ytpillai", "link": "https://stackoverflow.com/users/4871483/ytpillai"}, "is_accepted": false, "score": 0, "last_activity_date": 1435785243, "creation_date": 1435785243, "answer_id": 31171806, "question_id": 31171651, "link": "https://stackoverflow.com/questions/31171651/modifying-multiple-rows-based-on-specific-criteria/31171806#31171806", "title": "Modifying Multiple Rows based on Specific Criteria", "body": "<p>Well, this answer may be inefficient because it takes all the rows in the file to memory. In order to edit only that part of the file, well, I'll look into and edit this answer later. But for now, if you have a file that isn't more than, I don't know, 50mb?, just use this. </p>\n\n<pre><code>lines = []\ntheID = 1\nfor line in open(\"file.csv\", \"r\"):\n    row = line.split(\",\")\n    if row[2] == \"D\":\n        if row[3] == \"Carex\" or row[3] == \"Carcra\":\n            if theID == row[0]:\n                row[1] = \"Wet\"\n    lines.append(\",\".join(row))\n\nopen(\"file.csv\", \"w\").writelines(lines)\n</code></pre>\n\n<p>Please please please backup your actual file before running this because it could mess up the entire thing. (Untested)</p>\n"}, {"comments": [{"owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "edited": false, "score": 0, "creation_date": 1435786197, "post_id": 31171867, "comment_id": 50351799, "body": "This returned 1 column of <code>FALSE</code>"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "edited": false, "score": 0, "creation_date": 1435786784, "post_id": 31171867, "comment_id": 50352070, "body": "The code above should work on the data that you posted and is consistent with your description of the criteria if not the desired output. Since we know nothing of your real csv, all we can try to do is solve the problem as it is posed in the question. I have no idea why the code above should result in a column of <code>FALSE</code> values."}, {"owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "edited": false, "score": 0, "creation_date": 1435787064, "post_id": 31171867, "comment_id": 50352174, "body": "I created a DataFrame identical to the one posted and it returns: True, False, False, True, False, False, False, False, False"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "edited": false, "score": 0, "creation_date": 1435787342, "post_id": 31171867, "comment_id": 50352292, "body": "Those might be values of <code>mask</code>. The line <code>df.loc[mask, &#39;Class&#39;] = &#39;Wet&#39;</code> will alter values in <code>df</code>. The rows are selected by the boolean mask, and the column is specified as <code>&#39;Class&#39;</code>."}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1435787424, "post_id": 31171867, "comment_id": 50352328, "body": "After all the updates I think what the OP is after is a mask like <code>mask.groupby(df.ID).transform(&quot;any&quot;)</code> after you drop the ID condition from your mask = line.  (BTW, belated happy-new-name!)"}, {"owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "edited": false, "score": 0, "creation_date": 1435788289, "post_id": 31171867, "comment_id": 50352722, "body": "I see, as you noticed I was incorrectly printing mask instead of df.  This only changes the rows associated with <code>D</code> to <code>Wet</code> though whereas I need all values within a specific <code>ID</code> to change to <code>Wet</code>"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1435788666, "post_id": 31171867, "comment_id": 50352849, "body": "Stefano, okay, I think I understand what &quot;values within a specific ID&quot; means now. @DSM: thanks for the help interpreting the question -- and in fact the solution!"}, {"owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "edited": false, "score": 0, "creation_date": 1435788887, "post_id": 31171867, "comment_id": 50352927, "body": "Yea, I couldn&#39;t figure out a good way to phrase it.  Thanks so much for bearing with the numerous edits and helping me out!"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 3, "last_activity_date": 1435794200, "last_edit_date": 1435794200, "creation_date": 1435785495, "answer_id": 31171867, "question_id": 31171651, "link": "https://stackoverflow.com/questions/31171651/modifying-multiple-rows-based-on-specific-criteria/31171867#31171867", "title": "Modifying Multiple Rows based on Specific Criteria", "body": "<pre><code>import pandas as pd\ndf = pd.read_table('data', sep='\\s+')\nmask = ((df['Status'] == 'D') \n        &amp; df['Species'].isin(['Carex','Carcra']))\nmask = mask.groupby(df['ID']).transform('any')\ndf.loc[mask, 'Class'] = 'Wet'\nprint(df)\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>   ID Class Status Species\n0   1   Wet      D   Carex\n1   1   Wet      C  Eupesu\n2   1   Wet      C  Poapra\n3   2   Wet      D  Carcra\n4   2   Wet      C  Eupesu\n5   2   Wet      C  Poapra\n6   3  Limy      D  Poapra\n7   3  Limy      C  Eupesu\n8   3  Limy      C  Poapra\n</code></pre>\n\n<hr>\n\n<p>The assignment</p>\n\n<pre><code>df['mask'] = ((df['Status'] == 'D') \n        &amp; df['Species'].isin(['Carex','Carcra']))\n</code></pre>\n\n<p>makes <code>df</code> look like this:</p>\n\n<pre><code>In [166]: df\nOut[166]: \n   ID  Class Status Species   mask\n0   1  Sands      D   Carex   True\n1   1  Sands      C  Eupesu  False\n2   1  Sands      C  Poapra  False\n3   2   Limy      D  Carcra   True\n4   2   Limy      C  Eupesu  False\n5   2   Limy      C  Poapra  False\n6   3   Limy      D  Poapra  False\n7   3   Limy      C  Eupesu  False\n8   3   Limy      C  Poapra  False\n</code></pre>\n\n<p>Now, (thanks to DSM):</p>\n\n<pre><code>mask = ((df['Status'] == 'D') \n        &amp; df['Species'].isin(['Carex','Carcra']))\nmask = mask.groupby(df['ID']).transform('any')\n</code></pre>\n\n<p>groups <code>mask</code> by <code>df['ID']</code>, and assigns <code>True</code> to all the rows of that group if <em>any</em> value in the original <code>mask</code> is True, and <code>False</code> otherwise.</p>\n\n<pre><code>In [168]: mask\nOut[168]: \n0     True\n1     True\n2     True\n3     True\n4     True\n5     True\n6    False\n7    False\n8    False\ndtype: bool\n</code></pre>\n\n<p><code>df.loc</code> can be used to select rows and columns from <code>df</code>.\n<code>df.loc[mask]</code> selects the rows where <code>mask</code> is True:</p>\n\n<pre><code>In [169]: df.loc[mask]\nOut[169]: \n   ID  Class Status Species   mask\n0   1  Sands      D   Carex   True\n1   1  Sands      C  Eupesu  False\n2   1  Sands      C  Poapra  False\n3   2   Limy      D  Carcra   True\n4   2   Limy      C  Eupesu  False\n5   2   Limy      C  Poapra  False\n</code></pre>\n\n<p><code>df.loc[mask, 'Class']</code> further selects the column <code>Class</code>:</p>\n\n<pre><code>In [170]: df.loc[mask, 'Class']\nOut[170]: \n0    Sands\n1    Sands\n2    Sands\n3     Limy\n4     Limy\n5     Limy\nName: Class, dtype: object\n</code></pre>\n\n<p><code>df.loc[mask]['Class'] = value</code> may fail to modify <code>df</code> since <code>df.loc[mask]</code> returns a copy. (The same holds true of <code>df[mask]['Class'] = value</code>). Using <code>[...]</code> twice is called \"chained indexing\" and the problem can be avoided if we avoid chained indexing.</p>\n\n<p>So instead of using <code>[...]</code> twice, use, <code>df.loc[mask, 'Class'] = 'Wet'</code>:</p>\n\n<pre><code>In [172]: df\nOut[172]: \n   ID Class Status Species\n0   1   Wet      D   Carex\n1   1   Wet      C  Eupesu\n2   1   Wet      C  Poapra\n3   2   Wet      D  Carcra\n4   2   Wet      C  Eupesu\n5   2   Wet      C  Poapra\n6   3  Limy      D  Poapra\n7   3  Limy      C  Eupesu\n8   3  Limy      C  Poapra\n</code></pre>\n"}], "owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 31171867, "answer_count": 3, "score": 0, "last_activity_date": 1435794200, "creation_date": 1435784681, "last_edit_date": 1435787193, "question_id": 31171651, "link": "https://stackoverflow.com/questions/31171651/modifying-multiple-rows-based-on-specific-criteria", "title": "Modifying Multiple Rows based on Specific Criteria", "body": "<p>I have a csv file which looks like this:</p>\n\n<pre><code>ID         Class      Status    Species\n1          Sands        D        Carex\n1          Sands        C        Eupesu\n1          Sands        C        Poapra\n2          Limy         D        Carcra\n2          Limy         C        Eupesu\n2          Limy         C        Poapra\n3          Limy         D        Poapra\n3          Limy         C        Eupesu\n3          Limy         C        Poapra\n</code></pre>\n\n<p>When <code>Status</code> is <code>D</code> and <code>Species</code> is Carex or Carcra I want to change <code>Class</code> to <code>Wet</code> for all values within a specific ID.  My desired output is:</p>\n\n<pre><code>ID         Class     Status    Species\n1          Wet         D        Carex\n1          Wet         C        Eupesu\n1          Wet         C        Poapra\n2          Wet         D        Carcra\n2          Wet         C        Eupesu\n2          Wet         C        Poapra\n3          Limy        D        Poapra\n3          Limy        C        Eupesu\n3          Limy        C        Poapra\n</code></pre>\n"}, {"tags": ["c#", "python", "process", "cmd", "stdin"], "comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1435784616, "post_id": 31171592, "comment_id": 50350975, "body": "Uh, I&#39;m sorry, but I can&#39;t figure out...who is writing to who? Python to C#? C# to Python? Do you want the general case?"}, {"owner": {"reputation": 199, "user_id": 4574602, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14c7c6cf7e6541c894d8e8a2fede698e?s=128&d=identicon&r=PG&f=1", "display_name": "Sara", "link": "https://stackoverflow.com/users/4574602/sara"}, "reply_to_user": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1435784879, "post_id": 31171592, "comment_id": 50351140, "body": "@NightShadeQueen I want a way to write to stdin from python or C# i try for write script in python and run that from C#."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1435791089, "post_id": 31171592, "comment_id": 50353622, "body": "Check out the <code>errorwindow.py</code> module in <a href=\"http://stackoverflow.com/a/18091356/355230\">this answer</a> of mine because it does what I think you&#39;re trying to do. The major difference is that output from one process is sent to the other by printing it (or writing it to <code>stderr</code>). The same module was also used to accomplish something similar in this <a href=\"http://stackoverflow.com/a/27932575/355230\">other answer</a> of mine to a related question."}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 4574602, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14c7c6cf7e6541c894d8e8a2fede698e?s=128&d=identicon&r=PG&f=1", "display_name": "Sara", "link": "https://stackoverflow.com/users/4574602/sara"}, "edited": false, "score": 0, "creation_date": 1435787014, "post_id": 31171807, "comment_id": 50352149, "body": "Thnx for your answer buy I try and when i use command line program crashed ! and also no any exception ! do you have any other idea ?"}, {"owner": {"reputation": 2287, "user_id": 3697604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba861fd9c4a0282daf790ff90b75bfe?s=128&d=identicon&r=PG&f=1", "display_name": "willaien", "link": "https://stackoverflow.com/users/3697604/willaien"}, "reply_to_user": {"reputation": 199, "user_id": 4574602, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14c7c6cf7e6541c894d8e8a2fede698e?s=128&d=identicon&r=PG&f=1", "display_name": "Sara", "link": "https://stackoverflow.com/users/4574602/sara"}, "edited": false, "score": 0, "creation_date": 1435787065, "post_id": 31171807, "comment_id": 50352177, "body": "Run it in the debugger and give me the exception info, please."}, {"owner": {"reputation": 199, "user_id": 4574602, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14c7c6cf7e6541c894d8e8a2fede698e?s=128&d=identicon&r=PG&f=1", "display_name": "Sara", "link": "https://stackoverflow.com/users/4574602/sara"}, "edited": false, "score": 0, "creation_date": 1435787760, "post_id": 31171807, "comment_id": 50352485, "body": "Updated question, and add pic, and in C# i dont have any exception !"}, {"owner": {"reputation": 2287, "user_id": 3697604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba861fd9c4a0282daf790ff90b75bfe?s=128&d=identicon&r=PG&f=1", "display_name": "willaien", "link": "https://stackoverflow.com/users/3697604/willaien"}, "reply_to_user": {"reputation": 199, "user_id": 4574602, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14c7c6cf7e6541c894d8e8a2fede698e?s=128&d=identicon&r=PG&f=1", "display_name": "Sara", "link": "https://stackoverflow.com/users/4574602/sara"}, "edited": false, "score": 0, "creation_date": 1435787858, "post_id": 31171807, "comment_id": 50352534, "body": "Oh dear, sorry. I left out a rather important step. See edit."}, {"owner": {"reputation": 199, "user_id": 4574602, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14c7c6cf7e6541c894d8e8a2fede698e?s=128&d=identicon&r=PG&f=1", "display_name": "Sara", "link": "https://stackoverflow.com/users/4574602/sara"}, "edited": false, "score": 0, "creation_date": 1435788194, "post_id": 31171807, "comment_id": 50352686, "body": "I see and add <code>startinfo.filename</code> and <code>startinfo.Arguments</code>  my exception i in other process after start stoped <code>Unhandled exception at 0x70FD6ECC (libxml2-2.dll) in client.exe: 0xC0000005: Access violation reading location 0x0000001C.</code>"}], "tags": [], "owner": {"reputation": 2287, "user_id": 3697604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba861fd9c4a0282daf790ff90b75bfe?s=128&d=identicon&r=PG&f=1", "display_name": "willaien", "link": "https://stackoverflow.com/users/3697604/willaien"}, "is_accepted": false, "score": 6, "last_activity_date": 1457222722, "last_edit_date": 1457222722, "creation_date": 1435785249, "answer_id": 31171807, "question_id": 31171592, "link": "https://stackoverflow.com/questions/31171592/write-to-stdin-of-a-running-process-in-windows/31171807#31171807", "title": "Write to stdin of a running process in windows", "body": "<p>If you're launching, and then supplying the input from c#, you can do something like this:</p>\n\n<pre><code>var startInfo = new ProcessStartInfo(\"path/to/executable\");\nstartInfo.RedirectStandardInput = true;\nstartInfo.UseShellExecute = false;\n\nvar process = new Process();\nprocess.StartInfo = startInfo;\nprocess.Start();\n\nvar streamWriter = process.StandardInput;\nstreamWriter.WriteLine(\"I'm supplying input!\");\n</code></pre>\n\n<p>If you need to write to the standard input of an application already running, I doubt that is easy to do with .net classes, as the Process class will not give you the <code>StandardInput</code> (it will instead throw an <code>InvalidOperationException</code>)</p>\n\n<p><strong>Edit</strong>:\nAdded parameter to <code>ProcessStartInfo()</code></p>\n"}], "owner": {"reputation": 199, "user_id": 4574602, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14c7c6cf7e6541c894d8e8a2fede698e?s=128&d=identicon&r=PG&f=1", "display_name": "Sara", "link": "https://stackoverflow.com/users/4574602/sara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6419, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1574116460, "creation_date": 1435784454, "last_edit_date": 1574116460, "question_id": 31171592, "link": "https://stackoverflow.com/questions/31171592/write-to-stdin-of-a-running-process-in-windows", "title": "Write to stdin of a running process in windows", "body": "<p>I want to write data to an existing process's <code>stdin</code> from an external process in Windows.</p>\n\n<p>I found similar questions for Linux, but I want to know how I can do the same in Windows.</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/5374255/how-to-write-data-to-existing-processs-stdin-from-external-process\">How to write data to existing process&#39;s STDIN from external process?</a></p>\n  \n  <p><a href=\"https://stackoverflow.com/questions/3792054/how-do-you-stream-data-into-the-stdin-of-a-program-from-different-local-remote-pr\">How do you stream data into the STDIN of a program from different local/remote processes in Python?</a></p>\n  \n  <p><a href=\"https://serverfault.com/questions/443297/write-to-stdin-of-a-running-process-using-pipe\">https://serverfault.com/questions/443297/write-to-stdin-of-a-running-process-using-pipe</a></p>\n</blockquote>\n\n<p>I tried with this code but I got an error. I also tried running the program, sending <code>stdin</code> to that with this code, but again, it errored.</p>\n\n<p>In CMD:</p>\n\n<pre><code>type my_input_string | app.exe -start\nmy_input_string | app.exe -start\napp.exe -start &lt; pas.txt\n</code></pre>\n\n<p>In python:</p>\n\n<pre><code>p = subprocess.Popen('\"C:\\app.exe\" -start', stdin=subprocess.PIPE, universal_newlines=True, shell=True)  \ngrep_stdout = p.communicate(input='my_input_string')[0]\n</code></pre>\n\n<p>The error I get is:</p>\n\n<blockquote>\n  <p><code>ReadConsole()</code> failed: The handle is invalid.</p>\n</blockquote>\n\n<p>And in C#:</p>\n\n<pre><code>try\n{\n    var startInfo = new ProcessStartInfo();\n    startInfo.RedirectStandardInput = true;\n    startInfo.FileName = textBox1.Text;\n    startInfo.Arguments = textBox2.Text;\n    startInfo.UseShellExecute = false;\n\n    var process = new Process();\n    process.StartInfo = startInfo;\n    process.Start();\n    Thread.Sleep(1000);\n    var streamWriter = process.StandardInput;\n    streamWriter.WriteLine(\"1\");\n}\ncatch (Exception ex)\n{ \n    textBox4.Text = ex.Message+\"\\r\\n\"+ex.Source;\n}\n</code></pre>\n\n<p><img src=\"https://I.stack.imgur.com/WgiVw.png\" alt=\"Screenshot of windows, front-most says &quot;client.exe has stopped working&quot;.\"></p>\n\n<p>In C#, with the code above, <code>App.exe</code> (command line application which starts the other process) crashes, but in C# application I don't have any exception. I think that is because of <code>UseShellExecute = false</code>.</p>\n\n<p>If I choose \"don't run app in background\" when I run the C# app, I can find the process and use <code>sendkeys</code> to send <code>my_input_string</code> to it, but this isn't a good idea because the user can see the commandline when it's running the GUI.</p>\n\n<p>How can I send <code>stdin</code>, only using CMD, a python script, or C#, without any errors?</p>\n"}, {"tags": ["python", "class", "dynamic", "import", "module"], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1435785641, "post_id": 31171734, "comment_id": 50351540, "body": "You get a list of methods with <a href=\"https://docs.python.org/3/library/functions.html#dir\" rel=\"nofollow noreferrer\"><code>dir()</code></a>, and access them with <code>getattr()</code> as you used above."}, {"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 0, "creation_date": 1436212955, "post_id": 31171734, "comment_id": 50506168, "body": "Hwat <code>getattr</code>does is not &quot;create an object of that class with the module&quot; - it simply retrieves the attribute of an object. A module&#39;s attributes are the functions and classes defined in it.  Also <code>inspect.getmembers</code> don&#39;t return you a single string that you can use in a getattr call - (the above code should not work) - it retirns a list of 2-tuples with a pair name/object. So, if you have a single class in a module <code>inspect.getmembers(module_object, inspect.isclass)[0][1]</code> is already that class, no need to call <code>getattr</code>."}], "tags": [], "owner": {"reputation": 255, "user_id": 5071304, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48fcec5627ec098ae422e6272e507a1b?s=128&d=identicon&r=PG&f=1", "display_name": "cDreamer", "link": "https://stackoverflow.com/users/5071304/cdreamer"}, "is_accepted": true, "score": 1, "last_activity_date": 1435784973, "creation_date": 1435784973, "answer_id": 31171734, "question_id": 31171532, "link": "https://stackoverflow.com/questions/31171532/how-to-access-a-class-from-a-dynamically-imported-module/31171734#31171734", "title": "How to access a class from a dynamically imported module", "body": "<p>Actually 5 minutes after posting this question I was able to solve it, but just in case someone else is trying to do the same thing here it is:</p>\n\n<p>After you have imported your module dynamically:</p>\n\n<pre><code>module_object = importlib.import_module(audio_module)\n</code></pre>\n\n<p>You can obtain the class by doing the following:</p>\n\n<pre><code>module_class = inspect.getmembers(module_object, inspect.isclass)\n</code></pre>\n\n<p>Then you need to create an object of that class with the module.  This is done by:</p>\n\n<pre><code>class_object = getattr(module_object, module_class)\n</code></pre>\n\n<p>Now when I print the \"class_object\" I get the following:</p>\n\n<pre><code>&gt;&gt;&gt;print class_object\naudio_module.aud_shell\n</code></pre>\n\n<p>Now I just need to figure out how to get a list of methods within the class and access those methods...</p>\n"}], "owner": {"reputation": 255, "user_id": 5071304, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48fcec5627ec098ae422e6272e507a1b?s=128&d=identicon&r=PG&f=1", "display_name": "cDreamer", "link": "https://stackoverflow.com/users/5071304/cdreamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 31171734, "answer_count": 1, "score": 0, "last_activity_date": 1435784973, "creation_date": 1435784211, "question_id": 31171532, "link": "https://stackoverflow.com/questions/31171532/how-to-access-a-class-from-a-dynamically-imported-module", "title": "How to access a class from a dynamically imported module", "body": "<p>I have dynamically imported a module:</p>\n\n<pre><code>module_object = importlib.import_module(audio_module)\n</code></pre>\n\n<p>Now if I get a list of attributes associated with that module:</p>\n\n<pre><code>print dir(module_object)\n</code></pre>\n\n<p>I get the following:</p>\n\n<pre><code>['__builtins__', '__doc__', '__file__', '__name__', '__package__', 'aud_shell', 'shlex', 'sys']\n</code></pre>\n\n<p>I want to access the \"aud_shell\" class that is located within this module.  But since this module was dynamically imported, I do not have knowledge of what class it has within it.  How do I search within this imported module to get the class name and then access that class?</p>\n\n<p>For example:</p>\n\n<ol>\n<li>Dynamically import module</li>\n<li>Obtain name of class within module</li>\n<li>Access a method within that class</li>\n</ol>\n\n<p>In the end I will have to do something like this:</p>\n\n<pre><code>module_object.aud_shell.some_method()\n</code></pre>\n\n<p>I hope I explained this correctly.  Let me know if I didn't make any sense.  Thanks.</p>\n"}, {"tags": ["python", "python-2.7", "scipy"], "comments": [{"owner": {"reputation": 692, "user_id": 2424864, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b7a59046e6e1f37b7579437ee94cdb08?s=128&d=identicon&r=PG", "display_name": "Dudemanword", "link": "https://stackoverflow.com/users/2424864/dudemanword"}, "edited": false, "score": 0, "creation_date": 1435784476, "post_id": 31171497, "comment_id": 50350893, "body": "Just a thought - the distance formula calculates the distance between two points. If you want a set with the closest distance. Compute the distance between the set. It is a naive solution, but it&#39;s a good start"}], "answers": [{"tags": [], "owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "is_accepted": true, "score": 0, "last_activity_date": 1435784436, "creation_date": 1435784436, "answer_id": 31171589, "question_id": 31171497, "link": "https://stackoverflow.com/questions/31171497/finding-closest-x-y-position-in-one-list-to-an-x-y-position-in-another/31171589#31171589", "title": "finding closest x,y position in one list to an x,y position in another?", "body": "<p>you are using <code>zip</code> wrongly, as it won't create an 2d-list for you:</p>\n\n<pre><code> &gt;&gt;&gt; s_x = ([1.0,2.0,3.0])\n &gt;&gt;&gt; s_y = ([1.5,2.5,3.5])\n\n &gt;&gt;&gt; list1_broken = zip([s_x],[s_y])\n &gt;&gt;&gt; print list1_broken\n [([1.0, 2.0, 3.0], [1.5, 2.5, 3.5])]\n\n &gt;&gt;&gt; list1 = zip(s_x,s_y)\n &gt;&gt;&gt; print list1\n [(1.0, 1.5), (2.0, 2.5), (3.0, 3.5)]\n</code></pre>\n"}], "owner": {"reputation": 239, "user_id": 5040956, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54f07e595d3a4340d35761a58d8a242a?s=128&d=identicon&r=PG&f=1", "display_name": "Wilsonwatson", "link": "https://stackoverflow.com/users/5040956/wilsonwatson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 31171589, "answer_count": 1, "score": 0, "last_activity_date": 1435784436, "creation_date": 1435784098, "last_edit_date": 1435784219, "question_id": 31171497, "link": "https://stackoverflow.com/questions/31171497/finding-closest-x-y-position-in-one-list-to-an-x-y-position-in-another", "title": "finding closest x,y position in one list to an x,y position in another?", "body": "<p>so I have two 2d lists with x and y coordinates and I want to go through list1, and for each point find the closest x,y coordinates in list2. They're of different lengths, and it's okay if I don't use all the points of list2 or even if I reuse points, as long as I go through all the points only once in list1. I need the shift itself as well as the location in the lists of both points. I tried using a function I found on this site but it doesn't seem to be working: </p>\n\n<pre><code>def do_kdtree(combined_x_y_arrays,points):\n    mytree = scipy.spatial.cKDTree(combined_x_y_arrays)\n    dist, indexes = mytree.query(points)\n    return dist,indexes\n\n#Perhaps it's not doing what I wanted it to do. Here is what I tried:\n\ns_x = ([1.0,2.0,3.0])\ns_y = ([1.5,2.5,3.5])\nSDSS_x = ([3.0,4.0,5.0])\nSDSS_y = ([3.5,4.5,5.5])\n\nlist1 = zip([s_x],[s_y])\nlist2 = zip([SDSS_x],[SDSS_y])\n\n\nshift,place_in_array = do_kdtree(list1,list2)\n</code></pre>\n\n<p>and the error I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"tester.py\", line 23, in &lt;module&gt;\n    shift,place_in_array = do_kdtree(list1,list2)\n  File \"tester.py\", line 9, in do_kdtree\n    mytree = scipy.spatial.cKDTree(combined_x_y_arrays)\n  File \"ckdtree.pyx\", line 811, in scipy.spatial.ckdtree.cKDTree.__init__ (scipy/spatial/ckdtree.c:7157)\nValueError: too many values to unpack (expected 2)\n</code></pre>\n\n<p>I get the impression this means the function wasn't expecting two-dimensional lists, which would mean this function isn't really doing what I wanted it to do. I'm not even sure what \"indexes\" is returning and if it really is the point in the list, which is what I was hoping it was. If that's the case, could someone tell me if there's an existing function I can use to do this?</p>\n"}, {"tags": ["python", "arrays", "list", "numpy", "nested"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5071223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22489a24d07f3eb871cbf3c5a8248301?s=128&d=identicon&r=PG&f=1", "display_name": "Katoon", "link": "https://stackoverflow.com/users/5071223/katoon"}, "edited": false, "score": 0, "creation_date": 1435823318, "post_id": 31173522, "comment_id": 50363327, "body": "Thanks it is better but I thought I can avoid the for loop. I like the idea behind a nested list. I thought I can put in as &quot;first&quot; argument a group of comments   which will be interpreted during each iteration. In my case the fit procedure, the delivery of the fitparamters and the output of the parameters."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 55, "user_id": 5071223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22489a24d07f3eb871cbf3c5a8248301?s=128&d=identicon&r=PG&f=1", "display_name": "Katoon", "link": "https://stackoverflow.com/users/5071223/katoon"}, "edited": false, "score": 0, "creation_date": 1435827937, "post_id": 31173522, "comment_id": 50366259, "body": "There&#39;s no way to avoid having some sort of loop, since the initialization parameters for each iteration depend on the result of the previous iteration. On the other hand, your code will probably spend almost all of its time doing the fitting, so it&#39;s unlikely that the loop will add any noticeable performance overhead. I think this is a case of premature optimization."}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1435828193, "last_edit_date": 1435828193, "creation_date": 1435794717, "answer_id": 31173522, "question_id": 31171449, "link": "https://stackoverflow.com/questions/31171449/python-group-command-in-nested-list/31173522#31173522", "title": "Python - Group command in nested list", "body": "<p>You could initialize an empty array with <code>data.shape[1] - 1</code> rows to store your fitted parameters, then fill in the rows one-by-one as you process the data:</p>\n\n<pre><code>fitparam = empty((data.shape[1] - 1, 3), float)\ninit_vals = [a, b, c]\n\nfor ii in arange(1, data.shape[1]):\n    popt, pcov = curve_fit(func, data[:,0], data[:,ii], p0=init_vals)\n    init_vals = popt\n    fitparam[ii - 1] = popt\n</code></pre>\n\n<p>This avoids the expensive array concatenation step.</p>\n\n<p>If you don't want to store the previous fitted parameter values then all you need to do is keep hold of the most recent set of parameters to pass in as <code>p0=</code> for the next loop iteration:</p>\n\n<pre><code>popt = [a, b, c]\n\nfor ii in arange(1, data.shape[1]):\n    popt, pcov = curve_fit(func, data[:,0], data[:,ii], p0=popt)\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5071223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22489a24d07f3eb871cbf3c5a8248301?s=128&d=identicon&r=PG&f=1", "display_name": "Katoon", "link": "https://stackoverflow.com/users/5071223/katoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1435828193, "creation_date": 1435783939, "question_id": 31171449, "link": "https://stackoverflow.com/questions/31171449/python-group-command-in-nested-list", "title": "Python - Group command in nested list", "body": "<p>I have a 2D numpy array containing a set of data imported from a file by <em>loadtxt</em>. The first column contains the x array, any further column contains y values for different parameters. I want to fit the data and combine the fitparameters in a new 2D array. Here the fit results of the first set of data should act as initial parameter to fit the next set of data. Therefore I use a for loop to sweep through the columns of the array.</p>\n\n<pre><code>fitparam=zeros((0,3),float)\ninit_vals=[a,b,c]\nfor ii in arange(1,data.shape[1]):\n    popt,pcov=curve_fit(func,data[:,0],data[:,ii],p0=init_vals)\n    init_vals=popt\n    fitparam=concatenate((fitparam,resize(popt,(1,3))),axis=0)\n</code></pre>\n\n<p>Is there a more suitable way to do this, using a for example a nested list? Thereby I can avoid the creation of the array <em>fitparam</em> and the <em>concatenate</em> command.\nSomething like:</p>\n\n<pre><code>init_vals=[a,b,c]\nfitparam=array([\n    popt,pcov=curve_fit(func,data[:,0],data[:,ii],p0=init_vals)\n    init_vals=popt\n    array([popt[0],pcov[0,0],popt[1],pcov[1,1],popt[2],pcov[2,2]])\n    for ii in arange(1,data.shape[1])\n)]\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "numpy", "text-files"], "comments": [{"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1435784408, "post_id": 31171441, "comment_id": 50350848, "body": "Do you have control over how the text file is/was generated?  If so, then using <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.savez.html\" rel=\"nofollow noreferrer\"><code>numpy.savez</code></a> instead of <code>numpy.savetxt</code> could solve this easily."}, {"owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1435784587, "post_id": 31171441, "comment_id": 50350958, "body": "I was just using np.loadtxt for each text file, I didn&#39;t hear about np.savez or np.savetxt. Is it also a load text kind of command?"}, {"owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1435784631, "post_id": 31171441, "comment_id": 50350988, "body": "(And no I don&#39;t have control over how it is generated although it is always the same number of lines and columns for each set of data)"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1435784936, "post_id": 31171441, "comment_id": 50351169, "body": "<code>numpy.savez</code> allows you to save multiple arrays to one file and load them by a name or keyword using <code>numpy.load</code>.  But since you don&#39;t have control over generating the input file, don&#39;t worry about it!"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "edited": false, "score": 0, "creation_date": 1435785291, "post_id": 31171678, "comment_id": 50351367, "body": "Thank you, unfortunately it is my fault that it looks like it is only 5 rows for each data set. In the actual text file, the first set is 21 rows, then the second one is about 40, then third, fourth, and fifth sets are about 30 rows each. I will edit my post. Is there maybe an easy way to fix this for a non constant number of rows in your method?"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "reply_to_user": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "edited": false, "score": 0, "creation_date": 1435785509, "post_id": 31171678, "comment_id": 50351474, "body": "Will consecutive &#39;datasets&#39; ever have the same number of columns?"}, {"owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "edited": false, "score": 0, "creation_date": 1435785571, "post_id": 31171678, "comment_id": 50351507, "body": "Yes, each data set always has the same fixed number of columns and rows"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "reply_to_user": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "edited": false, "score": 0, "creation_date": 1435785758, "post_id": 31171678, "comment_id": 50351605, "body": "No I am asking whether it will ever be the case that dataset 5 is Nx3 and that dataset 6 is Mx3.  If consecutive datasets can have the same number of columns, that makes this tricky."}, {"owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "edited": false, "score": 0, "creation_date": 1435786103, "post_id": 31171678, "comment_id": 50351754, "body": "Oh I see, data sets 3, 4 and 5 have the exact same number of columns and rows. But, each of them start with the same number (670.0) in column 1 row 1 and end with the same number in last column last row (0.0)."}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "reply_to_user": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "edited": false, "score": 0, "creation_date": 1435786150, "post_id": 31171678, "comment_id": 50351777, "body": "Does <b>every</b> dataset start with 670.0?"}, {"owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "edited": false, "score": 0, "creation_date": 1435788687, "post_id": 31171678, "comment_id": 50352858, "body": "No, only the datasets 3, 4 and 5 (the ones which have the exact same number of rows and columns). The datasets 1 and 2 have different number of rows and columns and start with different numbers."}], "tags": [], "owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "is_accepted": true, "score": 1, "last_activity_date": 1435785087, "last_edit_date": 1435785087, "creation_date": 1435784766, "answer_id": 31171678, "question_id": 31171441, "link": "https://stackoverflow.com/questions/31171441/read-text-file-only-for-certain-rows-to-split-up-file-in-python/31171678#31171678", "title": "Read text file only for certain rows to split up file in Python", "body": "<p>A simple way is to use <code>itertools.izip_longest</code> to group the rows of your input file into groups of 5.  The key is to do the following:</p>\n\n<pre><code>for rows in izip_longest(*[file_object]*N):\n    # rows will be a tuple of N consecutive rows\n    # do something with rows\n</code></pre>\n\n<p>Full example:</p>\n\n<pre><code>import numpy as np\nfrom itertools import izip_longest\n\ndata = []\nwith open(filehandle, 'r') as fin:\n    fin.next() # skip first line\n    for rows in izip_longest(*[fin]*5): # read fin 5 rows at a time\n        rows = [map(float, r.strip().split()) for r in rows]\n        data.append(np.array(rows))\n</code></pre>\n\n<p>This yields a list of 5xN arrays:</p>\n\n<pre><code>&gt;&gt;&gt; print data\n[array([[ 1.    ,  0.2   ,  0.0618],\n       [ 2.    ,  0.25  ,  0.0417],\n       [ 3.    ,  0.3   ,  0.0371],\n       [ 4.    ,  0.35  ,  0.039 ],\n       [ 5.    ,  0.45  ,  0.0761]]),\n array([[  6.70000000e+02,   1.69400000e+02,   6.70800000e-09],\n       [  6.35000100e+02,   1.69180600e+02,   1.58400000e-08],\n       [  6.12951500e+02,   1.68625500e+02,   2.72400000e-08],\n       [  5.91278100e+02,   1.68271900e+02,   4.64700000e-08],\n       [  5.69980100e+02,   1.68055300e+02,   7.85900000e-08]]),\n array([[  6.70000000e+02,   0.00000000e+00,   0.00000000e+00,\n          0.00000000e+00,   0.00000000e+00,   0.00000000e+00,\n          0.00000000e+00,   0.00000000e+00],\n       [  6.35000000e+02,   9.80000000e-07,   4.20000000e-07,\n          2.10000000e-07,   1.20000000e-07,   4.40000000e-08,\n          1.80000000e-08,   1.40000000e-08],\n       [  6.12950000e+02,   6.00000000e-06,   3.50000000e-06,\n          2.10000000e-06,   1.30000000e-06,   4.70000000e-07,\n          1.80000000e-07,   1.40000000e-07],\n       [  5.91280000e+02,   2.20000000e-05,   1.30000000e-05,\n          7.70000000e-06,   4.90000000e-06,   1.80000000e-06,\n          6.60000000e-07,   5.00000000e-07],\n       [  5.69980000e+02,   8.30000000e-05,   5.00000000e-05,\n          2.80000000e-05,   1.80000000e-05,   6.40000000e-06,\n          2.40000000e-06,   1.80000000e-06]])]\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1155, "favorite_count": 0, "accepted_answer_id": 31171678, "answer_count": 1, "score": 2, "last_activity_date": 1435785327, "creation_date": 1435783908, "last_edit_date": 1435785327, "question_id": 31171441, "link": "https://stackoverflow.com/questions/31171441/read-text-file-only-for-certain-rows-to-split-up-file-in-python", "title": "Read text file only for certain rows to split up file in Python", "body": "<p>I am loading a text file using np.loadtxt and would like to have python split it up in four. \nUsually I would just copy paste each set of data into different text files and do np.loadtxt for each text file, but I'm going to have to do this hundreds of times so it would be way too time consuming. </p>\n\n<p>Here is a shortened version of the text file. \nSo what I'd like to do is to have python read the first number (0.6999) and discard it, then read the 5 following rows of values and assign variable names to each column, and then the next 5 rows with variables to each column again, and so on.</p>\n\n<blockquote>\n  <p>Is there any way I could tell python to maybe do np.loadtext only for row 1, then only for row 2 to 6, then 7 to 12 etc?</p>\n</blockquote>\n\n<pre><code>   0.699999988\n   1    0.2000    0.0618\n   2    0.2500    0.0417\n   3    0.3000    0.0371\n   4    0.3500    0.0390\n   5    0.4500    0.0761\n    670.0000  169.4000 6.708E-09\n    635.0001  169.1806 1.584E-08\n    612.9515  168.6255 2.724E-08\n    591.2781  168.2719 4.647E-08\n  670.00  0.0E+00  0.0E+00  0.0E+00  0.0E+00  0.0E+00  0.0E+00  0.0E+00\n  635.00  9.8E-07  4.2E-07  2.1E-07  1.2E-07  4.4E-08  1.8E-08  1.4E-08\n  612.95  6.0E-06  3.5E-06  2.1E-06  1.3E-06  4.7E-07  1.8E-07  1.4E-07\n  591.28  2.2E-05  1.3E-05  7.7E-06  4.9E-06  1.8E-06  6.6E-07  5.0E-07\n  569.98  8.3E-05  5.0E-05  2.8E-05  1.8E-05  6.4E-06  2.4E-06  1.8E-06\n  549.06  3.0E-04  1.8E-04  1.0E-04  6.2E-05  2.3E-05  8.4E-06  6.4E-06\n  528.51  7.8E-04  5.0E-04  2.8E-04  1.7E-04  6.2E-05  2.3E-05  1.8E-05\n  508.34  1.6E-03  1.0E-03  5.8E-04  3.4E-04  1.3E-04  4.9E-05  3.7E-05\n</code></pre>\n\n<p>Here is what I was using for my three different text files:</p>\n\n<pre><code>altvall,T,Pp= np.loadtxt('file1.txt',usecols = (0,1,2),unpack=True) # load text file\n\ntau1,tau2,tau3,tau4,tau5,tau6,tau7 = np.loadtxt('file2.txt',usecols = (1,2,3,4,5,6,7),unpack=True) # load text file\n\nwvln,alb = np.loadtxt('file3.txt',usecols = (1,2),unpack=True) # load text file\n</code></pre>\n\n<p>Now I just want something similar but without splitting my text file into different parts.</p>\n"}, {"tags": ["python", "image"], "answers": [{"tags": [], "owner": {"reputation": 972, "user_id": 283972, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9f9ebd47c888262e51afabd4bfb761a9?s=128&d=identicon&r=PG", "display_name": "japs", "link": "https://stackoverflow.com/users/283972/japs"}, "is_accepted": false, "score": 0, "last_activity_date": 1435786308, "creation_date": 1435786308, "answer_id": 31172061, "question_id": 31171407, "link": "https://stackoverflow.com/questions/31171407/skimage-imread-from-temporary-file/31172061#31172061", "title": "skimage imread from temporary file", "body": "<p>A solution is the following</p>\n\n<pre><code>with NamedTemporaryFile() as f:\n    skimage.io.imread(f.name, plugin=\"tifffile\")\n</code></pre>\n\n<p>Alternatively, one can replace <code>freeimage</code> with <code>tifffile</code>.\nEarlier I was passing the file object, but <code>imread</code> actually wants a filename.</p>\n"}], "owner": {"reputation": 972, "user_id": 283972, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9f9ebd47c888262e51afabd4bfb761a9?s=128&d=identicon&r=PG", "display_name": "japs", "link": "https://stackoverflow.com/users/283972/japs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435786308, "creation_date": 1435783776, "question_id": 31171407, "link": "https://stackoverflow.com/questions/31171407/skimage-imread-from-temporary-file", "title": "skimage imread from temporary file", "body": "<p>I'm trying to <code>skimage.io.imread()</code> an image (say a tiff file, for concreteness) that was previously written to a <code>tempfile.TemporaryFile()</code>. However, <code>skimage</code> complains by saying</p>\n\n<pre><code>   ValueError: Cannot determine type of file b'&lt;_io.BufferedRandom name=6&gt;'\n</code></pre>\n\n<p>I am doing this because another program writes the image to standard output.\nI collect it with <code>subprocess.check_output</code> and write it to the temporary file, thus avoiding saving the image to disk.</p>\n\n<p>Does anyone know how to achieve this, or has got a better idea on how to pipe an image from stdout into a python image, ultimately to be treated as a <code>numpy.ndarray</code>?</p>\n"}, {"tags": ["python", "html", "lxml"], "comments": [{"owner": {"reputation": 1952, "user_id": 1366211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/493108c081e68e071d26ead12a3918b1?s=128&d=identicon&r=PG", "display_name": "mittmemo", "link": "https://stackoverflow.com/users/1366211/mittmemo"}, "edited": false, "score": 0, "creation_date": 1435784853, "post_id": 31171362, "comment_id": 50351118, "body": "I&#39;m not sure where you&#39;re going with checking for ~150 characters of text...what does this indicate?  When comparing two elements to determine if they are siblings or not, why not just compare the parents of the elements?  If the parents are the same, then the elements are siblings."}, {"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "reply_to_user": {"reputation": 1952, "user_id": 1366211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/493108c081e68e071d26ead12a3918b1?s=128&d=identicon&r=PG", "display_name": "mittmemo", "link": "https://stackoverflow.com/users/1366211/mittmemo"}, "edited": false, "score": 0, "creation_date": 1435785371, "post_id": 31171362, "comment_id": 50351402, "body": "@mittmemo it indicates that it&#39;s a block of text. Mostly because a parent check is slow."}], "answers": [{"comments": [{"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1435786674, "post_id": 31171736, "comment_id": 50352021, "body": "I think your last answer here is probably the right way to do this. Many thanks! I&#39;m going to go ahead and remove my answer now since I think it doesn&#39;t have a lot of value over your last entry."}, {"owner": {"reputation": 9031, "user_id": 57318, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/268c166e748438dcf5ed4e405280be62?s=128&d=identicon&r=PG", "display_name": "Xymostech", "link": "https://stackoverflow.com/users/57318/xymostech"}, "reply_to_user": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1435786706, "post_id": 31171736, "comment_id": 50352033, "body": ":) Sounds good. It did teach me about <code>Counter</code> though, that&#39;s very useful for doing this sort of thing!"}, {"owner": {"reputation": 9031, "user_id": 57318, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/268c166e748438dcf5ed4e405280be62?s=128&d=identicon&r=PG", "display_name": "Xymostech", "link": "https://stackoverflow.com/users/57318/xymostech"}, "reply_to_user": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1435786766, "post_id": 31171736, "comment_id": 50352057, "body": "Also note that if there are two groups of siblings, this solution won&#39;t distinguish between them. You could probably modify the code to identify the different groups if you wanted."}, {"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1435787399, "post_id": 31171736, "comment_id": 50352319, "body": "Probably, yea. Though luckily it&#39;s not required for this."}], "tags": [], "owner": {"reputation": 9031, "user_id": 57318, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/268c166e748438dcf5ed4e405280be62?s=128&d=identicon&r=PG", "display_name": "Xymostech", "link": "https://stackoverflow.com/users/57318/xymostech"}, "is_accepted": true, "score": 3, "last_activity_date": 1435786625, "last_edit_date": 1435786625, "creation_date": 1435784973, "answer_id": 31171736, "question_id": 31171362, "link": "https://stackoverflow.com/questions/31171362/determine-if-two-html-elements-are-siblings/31171736#31171736", "title": "Determine if two html elements are siblings", "body": "<p>Given some list of nodes <code>l</code>, you could check whether parent of any pair of elements is the same (where the parent is obtained with <code>.getparent()</code>):</p>\n\n<pre><code>def get_siblings(l):\n    for a in l:\n        for b in l:\n            if a &lt; b: # this tests the elements' memory addresses, \n                      # so we don't get duplicate pairs or test \n                      # elements against themselves\n                if a.getparent() == b.getparent():\n                    yield (a, b)\n</code></pre>\n\n<p>Or maybe simpler:</p>\n\n<pre><code>def get_siblings(l):\n    return ((a, b) for a in l\n                   for b in l\n                   if a &lt; b\n                   and a.getparent() == b.getparent())\n</code></pre>\n\n<p>You could also use a counter to find the parents with more than one sibling, and then find elements with those parents:</p>\n\n<pre><code>from collections import Counter\ndef get_siblings(l):\n    c = Counter([x.getparent() for x in l])\n    return [x for x in l if c[x.getparent()] &gt; 1]\n</code></pre>\n"}], "owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 31171736, "answer_count": 1, "score": 1, "last_activity_date": 1435786857, "creation_date": 1435783589, "question_id": 31171362, "link": "https://stackoverflow.com/questions/31171362/determine-if-two-html-elements-are-siblings", "title": "Determine if two html elements are siblings", "body": "<p>So, I'm building a little utility to automatically grab text from any article-style page. My thought on how to best solve the problem was to find all elements with more than ~150 chars of text:</p>\n\n<pre><code>document.xpath(\"//*[string-length( text() ) &gt; 150 ]\")\n</code></pre>\n\n<p>I then get a list of elements back and I want to identify which of those elements are siblings, but if possible I'd like to avoid doing more DOM traversal for the sake of efficiency.</p>\n\n<p>Is there some nice way of doing this in lxml?</p>\n"}, {"tags": ["python", "python-3.x", "oop", "del"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1435783815, "post_id": 31171310, "comment_id": 50350518, "body": "What exactly do you want to know? Do they really <i>need</i> to be separate instances? What&#39;s the problem with <code>died</code>?"}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1435783872, "post_id": 31171310, "comment_id": 50350548, "body": "Also, what do these <i>peasants</i> actually do? It sounds to me more like you want some \u201cpeasant collection\u201d that just counts how many peasants are there. And for that, you can just provide some <code>add</code> and <code>remove</code> methods."}, {"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1435784760, "post_id": 31171310, "comment_id": 50351071, "body": "So I just checked, and I don&#39;t think <code>__del__</code> stops working after a certain amount of instances, but given that the official documentation doesn&#39;t want you to use it, I wouldn&#39;t. (See the giant warning here: <a href=\"https://docs.python.org/2/reference/datamodel.html#object.__del__\" rel=\"nofollow noreferrer\">docs.python.org/2/reference/datamodel.html#object.__del__</a> )"}, {"owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "edited": false, "score": 0, "creation_date": 1435827597, "post_id": 31171310, "comment_id": 50366040, "body": "the way you use it now, you are decrementing the peasant count twice. once you call <code>died</code> and when the instance in garbage collected (<code>__del__</code> is called). and both methods should have <code>self</code> and not <code>self.ID</code> as (first) argument."}, {"owner": {"reputation": 113, "user_id": 5071239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rL6ry.jpg?s=128&g=1", "display_name": "Shadowhawk", "link": "https://stackoverflow.com/users/5071239/shadowhawk"}, "edited": false, "score": 0, "creation_date": 1435841677, "post_id": 31171310, "comment_id": 50375638, "body": "I have revised the question with inputs from the previous comments. Hopefully it is more clear now."}, {"owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "edited": false, "score": 0, "creation_date": 1435928840, "post_id": 31171310, "comment_id": 50416962, "body": "i still do not understand your question... and you need not worry about and id; they will get one automatically: try <code>p = Peasant(); print(id(p))</code>; each one will get a unique id."}, {"owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "edited": false, "score": 0, "creation_date": 1435929089, "post_id": 31171310, "comment_id": 50417090, "body": "and you need not worry too much about instances not being deleted when you think they should; the garbage collector will take  care of them at some point (it&#39;s just hard to predict when exactly) as soon as they are not referenced anymore: <a href=\"http://patshaughnessy.net/2013/10/24/visualizing-garbage-collection-in-ruby-and-python\" rel=\"nofollow noreferrer\">patshaughnessy.net/2013/10/24/&hellip;</a>."}, {"owner": {"reputation": 113, "user_id": 5071239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rL6ry.jpg?s=128&g=1", "display_name": "Shadowhawk", "link": "https://stackoverflow.com/users/5071239/shadowhawk"}, "edited": false, "score": 0, "creation_date": 1436007245, "post_id": 31171310, "comment_id": 50439800, "body": "thanks for all the input I have made many changes to my code and learned much."}], "owner": {"reputation": 113, "user_id": 5071239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rL6ry.jpg?s=128&g=1", "display_name": "Shadowhawk", "link": "https://stackoverflow.com/users/5071239/shadowhawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472631054, "creation_date": 1435783427, "last_edit_date": 1472631054, "question_id": 31171310, "link": "https://stackoverflow.com/questions/31171310/python-deleting-removing-class-instances-with-none-unique-names", "title": "Python: deleting/removing class instances with none unique names", "body": "<p>for a bit of context, I am looking to create a class called peasant for a game I am making in python. These will be the workers that will have many attributes. They will be created with a name and given an ID. Since the names have a chance to not be unique the ID will be called to delete the class. I think am going about instantiation wrong should ID be creating them with the unigue ID then giving them a name?</p>\n\n<pre><code>class Peasant:\n    peasantCount = 0\n\n    def __init__(self, name):\n        ...\n        Peasant.ID += 1\n        self.ID = Peasant.ID\n        Peasant.peasantCount += 1\n\n    def died(self, Hp):\n        if Hp &lt;= 0:\n        Peasant.peasantCount -=1\n        del self\n</code></pre>\n\n<p>The  <code>def died</code> would be a method to kill my peasants if I can make it work, but the instance is not deleted when <code>instance.died(0)</code> is called.</p>\n"}, {"tags": ["python", "django", "forms"], "comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 1, "creation_date": 1435805656, "post_id": 31171305, "comment_id": 50357034, "body": "Uh, I&#39;m pretty sure you mean <code>javascript</code> and not <code>java</code>."}, {"owner": {"reputation": 9014, "user_id": 3762142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TgKI9.png?s=128&g=1", "display_name": "Raja Simon", "link": "https://stackoverflow.com/users/3762142/raja-simon"}, "edited": false, "score": 0, "creation_date": 1435813166, "post_id": 31171305, "comment_id": 50358805, "body": "Have you tried javascript update the form field method ?"}, {"owner": {"reputation": 143, "user_id": 4929056, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3b3c6985fdb7060bda23b96ccb65259e?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub", "link": "https://stackoverflow.com/users/4929056/jakub"}, "edited": false, "score": 0, "creation_date": 1435820215, "post_id": 31171305, "comment_id": 50361575, "body": "yep, javascript. I didn&#39;t made that form yet - rigth now i&#39;m looking for options - i know that javascript can do this for me, but i&#39;d like to not to ues it ;)"}], "owner": {"reputation": 143, "user_id": 4929056, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3b3c6985fdb7060bda23b96ccb65259e?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub", "link": "https://stackoverflow.com/users/4929056/jakub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435783421, "creation_date": 1435783421, "question_id": 31171305, "link": "https://stackoverflow.com/questions/31171305/django-form-fields-feeded-from-another-field", "title": "Django - form fields feeded from another field", "body": "<p>what is normal way to do such thing:\nsuppose that i have form for two choice fields - manufacturer and model. I would like user to choose manufacturer, than to choose specific model, which will be updated after first field is set. Is there way to do this using django (without reloading of the page) or should go with java ? (but then i would have to pass all of the models and let java do the filtering)</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 5935, "user_id": 893324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b24d4de5ae7afebfee98aa85e8a960e?s=128&d=identicon&r=PG", "display_name": "Brien", "link": "https://stackoverflow.com/users/893324/brien"}, "is_accepted": true, "score": 4, "last_activity_date": 1435783494, "creation_date": 1435783494, "answer_id": 31171333, "question_id": 31171296, "link": "https://stackoverflow.com/questions/31171296/element-wise-addition-of-two-unequal-lists-in-python/31171333#31171333", "title": "Element wise addition of two unequal lists in python", "body": "<p>You can accomplish this with some usage of <code>itertools.izip_longest</code>.  The <code>itertools</code> package is extremely useful for anything dealing with iterable data types.  You could extend this to any number of iterables if you had additional lists you wanted to perform this on.</p>\n\n<pre><code>import itertools\nmap(sum,itertools.izip_longest(a,b,fillvalue = 0))\n</code></pre>\n\n<p>Which gives:</p>\n\n<pre><code>[2, 4, 6, 4]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1435784035, "last_edit_date": 1435784035, "creation_date": 1435783559, "answer_id": 31171349, "question_id": 31171296, "link": "https://stackoverflow.com/questions/31171296/element-wise-addition-of-two-unequal-lists-in-python/31171349#31171349", "title": "Element wise addition of two unequal lists in python", "body": "<p>Use a list comp zipping with <a href=\"https://docs.python.org/2/library/itertools.html#itertools.izip_longest\" rel=\"nofollow\">itertools.izip_longest</a> using a <code>fillvalue</code> of 0 to keep the elements from the longer of the two lists:</p>\n\n<pre><code>from itertools import izip_longest # zip_longest python 3\n\nprint([i+j for i,j in izip_longest(a,b,fillvalue=0)])\n</code></pre>\n\n<p>If you are doing numerical operations, you may find numpy useful:</p>\n\n<pre><code>import numpy as np\na = np.array([1, 2, 3, 4])\nb = np.array([1, 2, 3])\nb.resize(a.shape)\nprint(a+b)\n[2 4 6 4]\n</code></pre>\n"}], "owner": {"reputation": 2204, "user_id": 470229, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/018f4a760b460915c37632898dbc4a0e?s=128&d=identicon&r=PG", "display_name": "elexhobby", "link": "https://stackoverflow.com/users/470229/elexhobby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "accepted_answer_id": 31171333, "answer_count": 2, "score": 0, "last_activity_date": 1435784035, "creation_date": 1435783395, "question_id": 31171296, "link": "https://stackoverflow.com/questions/31171296/element-wise-addition-of-two-unequal-lists-in-python", "title": "Element wise addition of two unequal lists in python", "body": "<p>If <code>a=[1,2,3,4]</code> and <code>b=[1,2,3]</code>, I want to set <code>a = a+b</code>, where the addition happens as long as b extends. After the end of b, the elements are left unaffected. In this case, the result should be <code>a=[2,4,6,4]</code>.</p>\n"}, {"tags": ["python", "numpy", "multiprocessing", "shared-memory", "caffe"], "comments": [{"owner": {"reputation": 3336, "user_id": 1269942, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/abc009c30029c8f5ccf64388cfb088f9?s=128&d=identicon&r=PG", "display_name": "user1269942", "link": "https://stackoverflow.com/users/1269942/user1269942"}, "edited": false, "score": 0, "creation_date": 1435818670, "post_id": 31171277, "comment_id": 50360813, "body": "is this just for the prediction phase?  or do you want to train your net in this way too?"}, {"owner": {"reputation": 807, "user_id": 1322301, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1a1fff802aa27212d66284e72960e263?s=128&d=identicon&r=PG&f=1", "display_name": "eriophora", "link": "https://stackoverflow.com/users/1322301/eriophora"}, "reply_to_user": {"reputation": 3336, "user_id": 1269942, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/abc009c30029c8f5ccf64388cfb088f9?s=128&d=identicon&r=PG", "display_name": "user1269942", "link": "https://stackoverflow.com/users/1269942/user1269942"}, "edited": false, "score": 0, "creation_date": 1435863727, "post_id": 31171277, "comment_id": 50390056, "body": "This is for training and prediction, actually."}, {"owner": {"reputation": 6018, "user_id": 405906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7818c1d65aa78a4f056ea0c39dc3716a?s=128&d=identicon&r=PG", "display_name": "BeRecursive", "link": "https://stackoverflow.com/users/405906/berecursive"}, "edited": false, "score": 1, "creation_date": 1436115681, "post_id": 31171277, "comment_id": 50464265, "body": "Something like this: <a href=\"http://stackoverflow.com/questions/5549190/is-shared-readonly-data-copied-to-different-processes-for-python-multiprocessing/5550156#5550156\" title=\"is shared readonly data copied to different processes for python multiprocessing\">stackoverflow.com/questions/5549190/&hellip;</a> ?"}, {"owner": {"reputation": 2902, "user_id": 3785114, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9KZgw.jpg?s=128&g=1", "display_name": "alfredox", "link": "https://stackoverflow.com/users/3785114/alfredox"}, "edited": false, "score": 0, "creation_date": 1446704252, "post_id": 31171277, "comment_id": 54856627, "body": "Your question sounds very similar to mine, where you able to figure it out? Check out what I wrote: <a href=\"http://stackoverflow.com/questions/33535386/better-way-to-share-memory-for-multiprocessing-in-python\" title=\"better way to share memory for multiprocessing in python\">stackoverflow.com/questions/33535386/&hellip;</a>"}, {"owner": {"reputation": 807, "user_id": 1322301, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1a1fff802aa27212d66284e72960e263?s=128&d=identicon&r=PG&f=1", "display_name": "eriophora", "link": "https://stackoverflow.com/users/1322301/eriophora"}, "edited": false, "score": 0, "creation_date": 1453249822, "post_id": 31171277, "comment_id": 57517306, "body": "I wasn&#39;t able to figure it out; I just ended up copying the array over and taking the performance hit."}], "answers": [{"tags": [], "owner": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "is_accepted": false, "score": 6, "last_activity_date": 1495461038, "last_edit_date": 1495461038, "creation_date": 1493382172, "answer_id": 43680177, "question_id": 31171277, "link": "https://stackoverflow.com/questions/31171277/sharing-contiguous-numpy-arrays-between-processes-in-python/43680177#43680177", "title": "Sharing contiguous numpy arrays between processes in python", "body": "<h2>Wrap numpy's <code>ndarray</code> around multiprocessing's <code>RawArray()</code></h2>\n\n<p>There are multiple ways to share <em>numpy</em> arrays in memory across processes. Let's have a look at how you can do it using the <em>multiprocessing</em> module.</p>\n\n<p>The first important observation is that <em>numpy</em> provides the <strong><code>np.frombuffer()</code> function to wrap an <em>ndarray</em> interface around a preexisting object</strong> that supports the buffer protocol (such as <code>bytes()</code>, <code>bytearray()</code>, <code>array()</code> and so on). This creates read-only arrays from read-only objects and writable arrays from writable objects.</p>\n\n<p>We can combine that with the <strong>shared memory <code>RawArray()</code></strong> that <em>multiprocessing</em> provides. Note that <code>Array()</code> doesn't work for that purpose, as it is a proxy object with a lock and doesn't directly expose the buffer interface. Of course that means that we need to provide for proper synchronization of our <em>numpified RawArrays</em> ourselves.</p>\n\n<p>There is one complicating issue regarding <em>ndarray</em>-wrapped <em>RawArrays</em>: When <em>multiprocessing</em> sends such an array between processes - and indeed it will need to send our arrays, once created, to both workers - it pickles and then unpickles them. Unfortunately, that results in it creating copies of the <em>ndarrays</em> instead of sharing them in memory.</p>\n\n<p>The solution, while a bit ugly, is to <strong>keep the <em>RawArrays</em> as is</strong> until they are transferred to the workers and <strong>only wrap them in <em>ndarrays</em> once each worker process has started</strong>.</p>\n\n<p>Furthermore, it would have been preferable to communicate arrays, be it a plain <em>RawArray</em> or an <em>ndarray</em>-wrapped one, directly via a <code>multiprocessing.Queue</code>, but that doesn't work, either. A <em>RawArray</em> cannot be put inside such a <em>Queue</em> and an <em>ndarray</em>-wrapped one would have been pickled and unpickled, so in effect copied.</p>\n\n<p>The workaround is to send a list of all pre-allocated arrays to the worker processes and <strong>communicate indices into that list over the <em>Queues</em></strong>. It's very much like passing around tokens (the indices) and whoever holds the token is allowed to operate on the associated array.</p>\n\n<p>The structure of the main program could look like this:</p>\n\n\n\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python3\n# -*- coding: utf-8 -*-\n\nimport numpy as np\nimport queue\n\nfrom multiprocessing import freeze_support, set_start_method\nfrom multiprocessing import Event, Process, Queue\nfrom multiprocessing.sharedctypes import RawArray\n\n\ndef create_shared_arrays(size, dtype=np.int32, num=2):\n    dtype = np.dtype(dtype)\n    if dtype.isbuiltin and dtype.char in 'bBhHiIlLfd':\n        typecode = dtype.char\n    else:\n        typecode, size = 'B', size * dtype.itemsize\n\n    return [RawArray(typecode, size) for _ in range(num)]\n\n\ndef main():\n    my_dtype = np.float32\n\n    # 125000000 (size) * 4 (dtype) * 2 (num) ~= 1 GB memory usage\n    arrays = create_shared_arrays(125000000, dtype=my_dtype)\n    q_free = Queue()\n    q_used = Queue()\n    bail = Event()\n\n    for arr_id in range(len(arrays)):\n        q_free.put(arr_id)  # pre-fill free queue with allocated array indices\n\n    pr1 = MyDataLoader(arrays, q_free, q_used, bail,\n                       dtype=my_dtype, step=1024)\n    pr2 = MyDataProcessor(arrays, q_free, q_used, bail,\n                          dtype=my_dtype, step=1024)\n\n    pr1.start()\n    pr2.start()\n\n    pr2.join()\n    print(\"\\n{} joined.\".format(pr2.name))\n\n    pr1.join()\n    print(\"{} joined.\".format(pr1.name))\n\n\nif __name__ == '__main__':\n    freeze_support()\n\n    # On Windows, only \"spawn\" is available.\n    # Also, this tests proper sharing of the arrays without \"cheating\".\n    set_start_method('spawn')\n    main()\n</code></pre>\n\n<p>This prepares a list of two arrays, two <em>Queues</em> - a \"free\" queue where <em>MyDataProcessor</em> puts array indices it is done with and <em>MyDataLoader</em> fetches them from as well as a \"used\" queue where <em>MyDataLoader</em> puts indices of readily filled arrays and <em>MyDataProcessor</em> fetches them from - and a <code>multiprocessing.Event</code> to start a concerted bail out of all workers. We could do away with the latter for now, as we have only one producer and one consumer of arrays, but it doesn't hurt being prepared for more workers.</p>\n\n<p>Then we pre-fill the \"empty\" <em>Queue</em> with all indices of our <em>RawArrays</em> in the list and instantiate one of each type of workers, passing them the necessary communication objects. We start both of them and just wait for them to <code>join()</code>.</p>\n\n<p>Here's how <em>MyDataProcessor</em> could look like, which consumes array indices from the \"used\" <em>Queue</em> and sends the data off to some external black box (<code>debugio.output</code> in the example):</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class MyDataProcessor(Process):\n    def __init__(self, arrays, q_free, q_used, bail, dtype=np.int32, step=1):\n        super().__init__()\n        self.arrays = arrays\n        self.q_free = q_free\n        self.q_used = q_used\n        self.bail = bail\n        self.dtype = dtype\n        self.step = step\n\n    def run(self):\n        # wrap RawArrays inside ndarrays\n        arrays = [np.frombuffer(arr, dtype=self.dtype) for arr in self.arrays]\n\n        from debugio import output as writer\n\n        while True:\n            arr_id = self.q_used.get()\n            if arr_id is None:\n                break\n\n            arr = arrays[arr_id]\n\n            print('(', end='', flush=True)          # just visualizing activity\n            for j in range(0, len(arr), self.step):\n                writer.write(str(arr[j]) + '\\n')\n            print(')', end='', flush=True)          # just visualizing activity\n\n            self.q_free.put(arr_id)\n\n            writer.flush()\n\n        self.bail.set()                     # tell loaders to bail out ASAP\n        self.q_free.put(None, timeout=1)    # wake up loader blocking on get()\n\n        try:\n            while True:\n                self.q_used.get_nowait()    # wake up loader blocking on put()\n        except queue.Empty:\n            pass\n</code></pre>\n\n<p>The first it does is wrap the received <em>RawArrays</em> in <em>ndarrays</em> using 'np.frombuffer()' and keep the new list, so they are usable as <em>numpy</em> arrays during the process' runtime and it doesn't have to wrap them over and over again.</p>\n\n<p>Note also that <em>MyDataProcessor</em> only ever writes to the <code>self.bail</code> <em>Event</em>, it never checks it. Instead, if it needs to be told to quit, it will find a <code>None</code> mark on the queue instead of an array index. This is done for when a <em>MyDataLoader</em> has no more data available and starts the tear down procedure, <em>MyDataProcessor</em> can still process all valid arrays that are in the queue without prematurely exiting.</p>\n\n<p>This is how <em>MyDataLoader</em> could look like:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class MyDataLoader(Process):\n    def __init__(self, arrays, q_free, q_used, bail, dtype=np.int32, step=1):\n        super().__init__()\n        self.arrays = arrays\n        self.q_free = q_free\n        self.q_used = q_used\n        self.bail = bail\n        self.dtype = dtype\n        self.step = step\n\n    def run(self):\n        # wrap RawArrays inside ndarrays\n        arrays = [np.frombuffer(arr, dtype=self.dtype) for arr in self.arrays]\n\n        from debugio import input as reader\n\n        for _ in range(10):  # for testing we end after a set amount of passes\n            if self.bail.is_set():\n                # we were asked to bail out while waiting on put()\n                return\n\n            arr_id = self.q_free.get()\n            if arr_id is None:\n                # we were asked to bail out while waiting on get()\n                self.q_free.put(None, timeout=1)  # put it back for next loader\n                return\n\n            if self.bail.is_set():\n                # we were asked to bail out while we got a normal array\n                return\n\n            arr = arrays[arr_id]\n\n            eof = False\n            print('&lt;', end='', flush=True)          # just visualizing activity\n            for j in range(0, len(arr), self.step):\n                line = reader.readline()\n                if not line:\n                    eof = True\n                    break\n\n                arr[j] = np.fromstring(line, dtype=self.dtype, sep='\\n')\n\n            if eof:\n                print('EOF&gt;', end='', flush=True)   # just visualizing activity\n                break\n\n            print('&gt;', end='', flush=True)          # just visualizing activity\n\n            if self.bail.is_set():\n                # we were asked to bail out while we filled the array\n                return\n\n            self.q_used.put(arr_id)     # tell processor an array is filled\n\n        if not self.bail.is_set():\n            self.bail.set()             # tell other loaders to bail out ASAP\n            # mark end of data for processor as we are the first to bail out\n            self.q_used.put(None)\n</code></pre>\n\n<p>It is very similar in structure to the other worker. The reason it is bloated up a bit is that it checks the <code>self.bail</code> <em>Event</em> at many points, so as to reduce the likelihood to get stuck. (It's not completely foolproof, as there is a tiny chance that the <em>Event</em> could get set between checking and accessing the <em>Queue</em>. If that's a problem, one needs to use some synchronization primitive arbitrating access to both the <em>Event</em> and the <em>Queue</em> combined.)</p>\n\n<p>It also wraps the received <em>RawArrays</em> in <em>ndarrays</em> at the very beginning and reads data from an external black box (<code>debugio.input</code> in the example).</p>\n\n<p>Note that by playing around with the <code>step=</code> arguments to both workers in the <code>main()</code> function, we can change the ratio of how much reading and writing is done (strictly for testing purposes - in a production environment <code>step=</code> would be <code>1</code>, reading and writing all <em>numpy</em> array members).</p>\n\n<p>Increasing both values makes the workers only access a few of the values in the <em>numpy</em> arrays, thereby significantly speeding everything up, which goes to show that the performance is not limited by the communication between the worker processes. Had we put <em>numpy</em> arrays directly onto the <em>Queues</em>, copying them forth and back between the processes in whole, increasing the step size would not have significantly improved the performance - it would have remained slow.</p>\n\n<p>For reference, here is the <code>debugio</code> module I used for testing:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python3\n# -*- coding: utf-8 -*-\n\nfrom ast import literal_eval\nfrom io import RawIOBase, BufferedReader, BufferedWriter, TextIOWrapper\n\n\nclass DebugInput(RawIOBase):\n    def __init__(self, end=None):\n        if end is not None and end &lt; 0:\n            raise ValueError(\"end must be non-negative\")\n\n        super().__init__()\n        self.pos = 0\n        self.end = end\n\n    def readable(self):\n        return True\n\n    def read(self, size=-1):\n        if self.end is None:\n            if size &lt; 0:\n                raise NotImplementedError(\"size must be non-negative\")\n            end = self.pos + size\n        elif size &lt; 0:\n            end = self.end\n        else:\n            end = min(self.pos + size, self.end)\n\n        lines = []\n        while self.pos &lt; end:\n            offset = self.pos % 400\n            pos = self.pos - offset\n            if offset &lt; 18:\n                i = (offset + 2) // 2\n                pos += i * 2 - 2\n            elif offset &lt; 288:\n                i = (offset + 12) // 3\n                pos += i * 3 - 12\n            else:\n                i = (offset + 112) // 4\n                pos += i * 4 - 112\n\n            line = str(i).encode('ascii') + b'\\n'\n            line = line[self.pos - pos:end - pos]\n            self.pos += len(line)\n            size -= len(line)\n            lines.append(line)\n\n        return b''.join(lines)\n\n    def readinto(self, b):\n        data = self.read(len(b))\n        b[:len(data)] = data\n        return len(data)\n\n    def seekable(self):\n        return True\n\n    def seek(self, offset, whence=0):\n        if whence == 0:\n            pos = offset\n        elif whence == 1:\n            pos = self.pos + offset\n        elif whence == 2:\n            if self.end is None:\n                raise ValueError(\"cannot seek to end of infinite stream\")\n            pos = self.end + offset\n        else:\n            raise NotImplementedError(\"unknown whence value\")\n\n        self.pos = max((pos if self.end is None else min(pos, self.end)), 0)\n        return self.pos\n\n\nclass DebugOutput(RawIOBase):\n    def __init__(self):\n        super().__init__()\n        self.buf = b''\n        self.num = 1\n\n    def writable(self):\n        return True\n\n    def write(self, b):\n        *lines, self.buf = (self.buf + b).split(b'\\n')\n\n        for line in lines:\n            value = literal_eval(line.decode('ascii'))\n            if value != int(value) or int(value) &amp; 255 != self.num:\n                raise ValueError(\"expected {}, got {}\".format(self.num, value))\n\n            self.num = self.num % 127 + 1\n\n        return len(b)\n\n\ninput = TextIOWrapper(BufferedReader(DebugInput()), encoding='ascii')\noutput = TextIOWrapper(BufferedWriter(DebugOutput()), encoding='ascii')\n</code></pre>\n"}], "owner": {"reputation": 807, "user_id": 1322301, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1a1fff802aa27212d66284e72960e263?s=128&d=identicon&r=PG&f=1", "display_name": "eriophora", "link": "https://stackoverflow.com/users/1322301/eriophora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2905, "favorite_count": 7, "answer_count": 1, "score": 23, "last_activity_date": 1495461038, "creation_date": 1435783338, "last_edit_date": 1435783651, "question_id": 31171277, "link": "https://stackoverflow.com/questions/31171277/sharing-contiguous-numpy-arrays-between-processes-in-python", "title": "Sharing contiguous numpy arrays between processes in python", "body": "<p>While I have found numerous answers to questions similar to mine, I don't believe it has been directly addressed here--and I have several additional questions. The motivation for sharing contiguous numpy arrays is as follows:</p>\n\n<ul>\n<li>I'm using a convolutional neural network run on Caffe to perform a regression on images to a series of continuous-value labels. </li>\n<li>The images require specific preprocessing and data augmentation.</li>\n<li>The constraints of (1) the continuous nature of the labels (they're floats) and (2) the data augmentation means that I'm preprocessing the data in python and then serving it up as contiguous numpy arrays using the in-memory data layer in Caffe.</li>\n<li>Loading the training data into memory is comparatively slow. I'd like to parallelize it such that:</li>\n</ul>\n\n<p>(1) The python I'm writing creates a \"data handler\" class which instantiates two contiguous numpy arrays. \n(2) A worker process alternates between those numpy arrays, loading the data from the disk, performing preprocessing, and inserting the data into the numpy array. \n(3) Meanwhile, the python Caffe wrappers send data from the <em>other</em> array to the GPU to be run through the net. </p>\n\n<p>I have a few questions:</p>\n\n<ol>\n<li><p>Is it possible to allocate memory in a contiguous numpy array then wrap it in a shared memory object (I'm not sure if 'object' is the correct term here) using something like the Array class from python's multiprocessing? </p></li>\n<li><p>Numpy arrays have a .ctypes attribute, I presume this is useful for the instantiation of shared memory arrays from Array(), but can't seem to determine precisely how to use them. </p></li>\n<li><p>If the shared memory is instantiated <em>without</em> the numpy array, does it remain contiguous? If not, is there a way to ensure it does remain contiguous? </p></li>\n</ol>\n\n<p>Is it possible to do something like:</p>\n\n<pre><code>import numpy as np\nfrom multiprocessing import Array\ncontArr = np.ascontiguousarray(np.zeros((n_images, n_channels, img_height, img_width)), dtype=np.float32)\nsm_contArr = Array(contArr.ctypes.?, contArr?)\n</code></pre>\n\n<p>Then instantiate the worker with</p>\n\n<pre><code>p.append(Process(target=some_worker_function, args=(data_to_load, sm_contArr)))\np.start()\n</code></pre>\n\n<p>Thanks!</p>\n\n<p>Edit: I'm aware there are a number of libraries that have similar functions in varying states of maintenance. I would prefer to restrict this to pure python and numpy, but if that's not possible I would of course be willing to use one. </p>\n"}, {"tags": ["python", "matplotlib", "scatter", "colorbar"], "comments": [{"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 1, "creation_date": 1435787994, "post_id": 31171232, "comment_id": 50352591, "body": "It would be best if you didn&#39;t abbreviate (i.e. remove) your code ... creating an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> helps people know what exactly your issue is."}, {"owner": {"reputation": 846, "user_id": 5001432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/339eb215bfff2a8bd0c1ec6827a7e26f?s=128&d=identicon&r=PG&f=1", "display_name": "cadams", "link": "https://stackoverflow.com/users/5001432/cadams"}, "reply_to_user": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1435947884, "post_id": 31171232, "comment_id": 50426399, "body": "The parts left out were just titling of axes - not relevant to the issue I was experiencing. I should have left the savefig command in, because that&#39;s where the issue ended up being, but I don&#39;t think that&#39;s the specific place you had in mind."}, {"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1435948950, "post_id": 31171232, "comment_id": 50426724, "body": "Indeed, good that you didn&#39;t omit anything critical, but the thing is, only you know what you omitted, we here have no way of knowing if what was omitted is critical or not. It also makes the code un-runnable, and for debugging people like to try your code for themselves to find any errors. And often the process of creating a mcve helps you find the problem yourself, which is always best."}], "owner": {"reputation": 846, "user_id": 5001432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/339eb215bfff2a8bd0c1ec6827a7e26f?s=128&d=identicon&r=PG&f=1", "display_name": "cadams", "link": "https://stackoverflow.com/users/5001432/cadams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435784213, "creation_date": 1435783160, "last_edit_date": 1435784213, "question_id": 31171232, "link": "https://stackoverflow.com/questions/31171232/adding-a-titled-color-bar-and-generally-getting-a-colored-scatter-plot-to-look-g", "title": "Adding a titled color bar and generally getting a colored scatter plot to look good", "body": "<p>I'm creating a scatter plot that is colored according to a 2-d array, but having trouble getting the color bar set up correctly alongside it. What I have so far is:</p>\n\n<pre><code>self.fig1 = plt.figure('blahblahblah', (10.0,10.0)))\nax2=plt.subplot(111)\nax2.set_ylabel('blah')\nax2.set_xlabel('blah')\nax2.set_title....\n...\n...\ncmap, norm = mpl.colors.from_levels_and_colors9[0.9, 0.975, 1.025, 1.1],['green', 'red', 'blue'])\nax2.scatter(firstarray,secondarray,c=colordefiningarray,marker=\"o\",cmap=cmap,norm=norm, vmin=0.9,vmax=1.1)\ncax=self.fig1.add_axes([0.95, 0.2, 0.02, 0.6]) #pulled these #s from another question, no idea what they mean\ncb = mpl.colorbar.ColorbarBase(cax, cmap=cmap, norm=norm, spacing='poportional')\ncb.set_label('moreblah')\n#saving fig\n</code></pre>\n\n<p>The color bar is showing up, except it doesn't have a title. Also, i feel as if there is a much easier way to this, but I can't seem to figure it out from other questions.</p>\n\n<p>EDIT: I now know it's an issue with the saved image scaling. I don't know how to scale the image without scaling the figure. Help?</p>\n\n<p>Thank you in advance for the help!</p>\n"}, {"tags": ["python", "regex", "matching", "regex-group"], "comments": [{"owner": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "edited": false, "score": 4, "creation_date": 1435782744, "post_id": 31171080, "comment_id": 50349940, "body": "The \\ will make the regex match a literal &quot;(&quot; symbol. However, you need to make sure you are using a <i>raw string</i> in your program."}, {"owner": {"reputation": 371, "user_id": 4515677, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b8e6cb61ae32b9df0b3de646d377c348?s=128&d=identicon&r=PG&f=1", "display_name": "Shan", "link": "https://stackoverflow.com/users/4515677/shan"}, "reply_to_user": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "edited": false, "score": 0, "creation_date": 1435782825, "post_id": 31171080, "comment_id": 50349992, "body": "So, in other words this has nothing to do with grouping, but just contains the character? If that is so then I assume statements 1,3, and 5 will not match."}, {"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "reply_to_user": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "edited": false, "score": 2, "creation_date": 1435783043, "post_id": 31171080, "comment_id": 50350113, "body": "@rlbond: Actually <code>r&#39;\\(&#39; == &#39;\\(&#39;</code> as <a href=\"https://docs.python.org/2.0/ref/strings.html\" rel=\"nofollow noreferrer\">per specification</a> (<a href=\"https://docs.python.org/3/reference/lexical_analysis.html\" rel=\"nofollow noreferrer\">Python 3</a>), but you where right to look out for it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1435783400, "post_id": 31171080, "comment_id": 50350306, "body": "@Shan That&#39;s correct. When you put backslash before a character that has special meaning in a regexp, it removes the special meaning."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1435783894, "post_id": 31171080, "comment_id": 50350561, "body": "This should be explained in any decent regexp tutorial. Go to regular-expression.info"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1435784081, "post_id": 31171080, "comment_id": 50350656, "body": "<code>\\(</code> as a grouping operator is something you&#39;d see in GNU BRE, not in Python regular expressions (where it just matches a <code>(</code> literal). This looks like you&#39;re conflating two very different regular expression syntaxes."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1435784179, "post_id": 31171080, "comment_id": 50350725, "body": "...also, using <code>*</code> instead of <code>?</code> when the clear intent is to match 0-or-1 paren characters is silly."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1435784221, "post_id": 31171080, "comment_id": 50350748, "body": "@Shan, they match because of the <code>*</code>, which modifies the preceding element -- in this case, <code>(</code> or <code>)</code> -- to match 0-or-more times."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1435784870, "post_id": 31171080, "comment_id": 50351132, "body": "(&quot;GNU BRE&quot;, to be clear, because in POSIX BRE <code>\\(</code> has no special meaning; in POSIX regular expression syntax, it&#39;s only ERE that supports matching groups, but GNU supports backslash-escapes in BRE to access ERE features; hence, <code>\\+</code> meaning one-or-more in GNU BRE, but matching a literal <code>+</code> in ERE, PCRE, and derivatives)."}], "answers": [{"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 2, "last_activity_date": 1435784777, "last_edit_date": 1435784777, "creation_date": 1435784377, "answer_id": 31171572, "question_id": 31171080, "link": "https://stackoverflow.com/questions/31171080/how-does-the-regex-character-and-grouping-character-work-together/31171572#31171572", "title": "How does the regex &quot;\\&quot; character and grouping &quot;()&quot; character work together?", "body": "<p>Context is important:</p>\n\n<ul>\n<li><code>re.match(r'\\(', content)</code> matches a literal parenthesis.</li>\n<li><code>re.match(r'\\(*', content)</code> matches 0 or more literal parentheses, thus making the parens optional (and allowing more than one of them, but that's clearly a bug).</li>\n</ul>\n\n<p>Since the intended behavior isn't \"0 or more\" but rather \"0 or 1\", this should probably be written <code>r'\\(?'</code> instead.</p>\n\n<hr>\n\n<p>That said, there's a whole lot about this regex that's silly. I'd consider instead:</p>\n\n<pre><code>[(]?\\d{3}[)]?-?\\d{6,}\n</code></pre>\n\n<ul>\n<li>Using <code>[(]?</code> avoids backslashes, and consequently is easier to read whether it's rendered by <code>str()</code> or <code>repr()</code> (which escapes backslashes).</li>\n<li>Mixing <code>[0-9]</code> and <code>\\d</code> is silly; better to pick one and stick with it.</li>\n<li>Using <code>*</code> in place of <code>?</code> is silly, unless you <strong>really</strong> want to match <code>(((123))456-----7890</code>.</li>\n<li><code>\\d{3}\\d\\d\\d+</code> matches three digits, then three or more additional digits. Why not just match six or more digits in the first place?</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 5029647, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nw4078Yc2vU/AAAAAAAAAAI/AAAAAAAAASw/n8BGoMcRZU8/photo.jpg?sz=128", "display_name": "Evan Williams", "link": "https://stackoverflow.com/users/5029647/evan-williams"}, "is_accepted": false, "score": 1, "last_activity_date": 1435784490, "creation_date": 1435784490, "answer_id": 31171602, "question_id": 31171080, "link": "https://stackoverflow.com/questions/31171080/how-does-the-regex-character-and-grouping-character-work-together/31171602#31171602", "title": "How does the regex &quot;\\&quot; character and grouping &quot;()&quot; character work together?", "body": "<p>Normally, the parentheses would act as grouping characters, however regex metacharacters are reduced simply to the raw characters when preceded by a backslash. From the Python docs:</p>\n\n<blockquote>\n  <p>As in Python string literals, the backslash can be followed by various characters to signal various special sequences. It\u2019s also used to escape all the metacharacters so you can still match them in patterns; for example, if you need to match a <code>[</code> or <code>\\</code>, you can precede them with a backslash to remove their special meaning: <code>\\[</code> or <code>\\\\</code>.</p>\n</blockquote>\n\n<p>In your case, the statements <i>don't</i> need parentheses in order to match, as each <code>\\(</code> and <code>\\)</code> in the expression is followed by a <code>*</code>, which means that the previous character can be matched any number of times, <i>including</i> none at all. From the Python docs:</p>\n\n<blockquote>\n  <p><code>*</code> doesn\u2019t match the literal character <code>*</code>; instead, it specifies that the previous character can be matched zero or more times, instead of exactly once.</p>\n</blockquote>\n\n<p>Thus the statements with or without parentheses around the first 3 digits may match.</p>\n\n<p>Source: <a href=\"https://docs.python.org/2/howto/regex.html\" rel=\"nofollow\">https://docs.python.org/2/howto/regex.html</a></p>\n"}], "owner": {"reputation": 371, "user_id": 4515677, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b8e6cb61ae32b9df0b3de646d377c348?s=128&d=identicon&r=PG&f=1", "display_name": "Shan", "link": "https://stackoverflow.com/users/4515677/shan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 31171572, "answer_count": 2, "score": 0, "last_activity_date": 1435784777, "creation_date": 1435782633, "last_edit_date": 1435783700, "question_id": 31171080, "link": "https://stackoverflow.com/questions/31171080/how-does-the-regex-character-and-grouping-character-work-together", "title": "How does the regex &quot;\\&quot; character and grouping &quot;()&quot; character work together?", "body": "<p>I am trying to see which statements the following pattern matches:</p>\n\n<pre><code>\\(*[0\u00ad-9]{3}\\)*-\u00ad*[0-\u00ad9]{3}\u00ad\\d\\d\\d+\n</code></pre>\n\n<p>I am a little confused because the grouping characters <code>()</code> have a <code>\\</code> before it. Does this mean that the statement must have a <code>(</code> and <code>)</code>? Would that mean the statements without <code>(</code> or <code>)</code> be unmatched? </p>\n\n<pre><code>Statements:\n'404\u00ad678\u00ad2347'\n'(123)\u00ad1247890'\n'456\u00ad900\u00ad900'\n'(678)\u00ad2001236'\n'404123\u00ad1234'\n'(404123\u00ad123'\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 1, "last_activity_date": 1435783474, "creation_date": 1435783474, "answer_id": 31171325, "question_id": 31171037, "link": "https://stackoverflow.com/questions/31171037/given-a-list-of-indexes-how-do-i-split-a-dataframe-on-those-indexes/31171325#31171325", "title": "Given a list of indexes, how do I split a DataFrame on those indexes?", "body": "<p>Here is a more general strategy to deal with non-integer index.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\nnp.random.seed(0)\ndf = pd.DataFrame(np.random.randn(100, 2), columns=['A', 'B']).set_index('A')\n\nOut[32]: \n              B\nA              \n 1.7641  0.4002\n 0.9787  2.2409\n 1.8676 -0.9773\n 0.9501 -0.1514\n-0.1032  0.4106\n 0.1440  1.4543\n 0.7610  0.1217\n 0.4439  0.3337\n 1.4941 -0.2052\n 0.3131 -0.8541\n-2.5530  0.6536\n 0.8644 -0.7422\n 2.2698 -1.4544\n 0.0458 -0.1872\n 1.5328  1.4694\n...         ...\n 0.9209  0.3187\n 0.8568 -0.6510\n-1.0342  0.6816\n-0.8034 -0.6895\n-0.4555  0.0175\n-0.3540 -1.3750\n-0.6436 -2.2234\n 0.6252 -1.6021\n-1.1044  0.0522\n-0.7396  1.5430\n-1.2929  0.2671\n-0.0393 -1.1681\n 0.5233 -0.1715\n 0.7718  0.8235\n 2.1632  1.3365\n\n[100 rows x 1 columns]\n\n# say you want -1 and 1 as split point\ncutoffs = np.array([-np.inf, -1, 1, np.inf])\ndf['group_level'] = pd.cut(df.index.values, bins=cutoffs)\n# then groupby will give you what you want.\ngrouped = df.groupby('group_level')\n\nfor group_name, group_df in grouped:\n    print(group_name)\n    print(group_df)\n\n(-inf, -1]\n              B group_level\nA                          \n-2.5530  0.6536  (-inf, -1]\n-1.0486 -1.4200  (-inf, -1]\n-1.7063  1.9508  (-inf, -1]\n-1.2528  0.7775  (-inf, -1]\n-1.6139 -0.2127  (-inf, -1]\n-1.6302  0.4628  (-inf, -1]\n-1.1651  0.9008  (-inf, -1]\n-1.0708  1.0545  (-inf, -1]\n-1.2705  0.9694  (-inf, -1]\n-1.1731  1.9436  (-inf, -1]\n-1.4913  0.4394  (-inf, -1]\n-1.3159 -0.4616  (-inf, -1]\n-1.1475 -0.4378  (-inf, -1]\n-1.2254  0.8444  (-inf, -1]\n-1.0002 -1.5448  (-inf, -1]\n-1.0342  0.6816  (-inf, -1]\n-1.1044  0.0522  (-inf, -1]\n-1.2929  0.2671  (-inf, -1]\n(-1, 1]\n              B group_level\nA                          \n 0.9787  2.2409     (-1, 1]\n 0.9501 -0.1514     (-1, 1]\n-0.1032  0.4106     (-1, 1]\n 0.1440  1.4543     (-1, 1]\n 0.7610  0.1217     (-1, 1]\n 0.4439  0.3337     (-1, 1]\n 0.3131 -0.8541     (-1, 1]\n 0.8644 -0.7422     (-1, 1]\n 0.0458 -0.1872     (-1, 1]\n 0.1549  0.3782     (-1, 1]\n-0.8878 -1.9808     (-1, 1]\n-0.3479  0.1563     (-1, 1]\n-0.3873 -0.3023     (-1, 1]\n-0.5097 -0.4381     (-1, 1]\n-0.8955  0.3869     (-1, 1]\n...         ...         ...\n-0.7448 -0.8264     (-1, 1]\n-0.0985 -0.6635     (-1, 1]\n-0.4980  1.9295     (-1, 1]\n 0.9494  0.0876     (-1, 1]\n 0.9209  0.3187     (-1, 1]\n 0.8568 -0.6510     (-1, 1]\n-0.8034 -0.6895     (-1, 1]\n-0.4555  0.0175     (-1, 1]\n-0.3540 -1.3750     (-1, 1]\n-0.6436 -2.2234     (-1, 1]\n 0.6252 -1.6021     (-1, 1]\n-0.7396  1.5430     (-1, 1]\n-0.0393 -1.1681     (-1, 1]\n 0.5233 -0.1715     (-1, 1]\n 0.7718  0.8235     (-1, 1]\n\n[66 rows x 2 columns]\n(1, inf]\n             B group_level\nA                         \n1.7641  0.4002    (1, inf]\n1.8676 -0.9773    (1, inf]\n1.4941 -0.2052    (1, inf]\n2.2698 -1.4544    (1, inf]\n1.5328  1.4694    (1, inf]\n1.2303  1.2024    (1, inf]\n1.1394 -1.2348    (1, inf]\n1.4883  1.8959    (1, inf]\n1.1788 -0.1799    (1, inf]\n1.8832 -1.3478    (1, inf]\n1.9229  1.4805    (1, inf]\n1.8676  0.9060    (1, inf]\n2.3831  0.9445    (1, inf]\n1.1266 -1.0799    (1, inf]\n1.1880  0.3169    (1, inf]\n2.1632  1.3365    (1, inf]\n</code></pre>\n"}], "owner": {"reputation": 324, "user_id": 923933, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/86e0be25728b6491aff66e351be1bd54?s=128&d=identicon&r=PG", "display_name": "Jack Stouffer", "link": "https://stackoverflow.com/users/923933/jack-stouffer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 31171325, "answer_count": 1, "score": 0, "last_activity_date": 1435784010, "creation_date": 1435782482, "question_id": 31171037, "link": "https://stackoverflow.com/questions/31171037/given-a-list-of-indexes-how-do-i-split-a-dataframe-on-those-indexes", "title": "Given a list of indexes, how do I split a DataFrame on those indexes?", "body": "<p>Given a list of indexes of arbitrary length, for example <code>[6, 12]</code>, what is the best way to split a DataFrame on those indexes so in the end I have three different DataFrames?</p>\n"}, {"tags": ["python", "excel", "csv"], "comments": [{"owner": {"reputation": 7903, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "edited": false, "score": 0, "creation_date": 1439577379, "post_id": 31170839, "comment_id": 51935679, "body": "Did you solve this? If not, can you share your specific error that happened after you opened it with rU?"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 5066237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ccJoCN7ymq4/AAAAAAAAAAI/AAAAAAAAAEU/hPUEhLHXEo8/photo.jpg?sz=128", "display_name": "Max Rogers", "link": "https://stackoverflow.com/users/5066237/max-rogers"}, "edited": false, "score": 0, "creation_date": 1435782886, "post_id": 31171043, "comment_id": 50350030, "body": "I get an error that says the list index is out of range"}, {"owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "reply_to_user": {"reputation": 115, "user_id": 5066237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ccJoCN7ymq4/AAAAAAAAAAI/AAAAAAAAAEU/hPUEhLHXEo8/photo.jpg?sz=128", "display_name": "Max Rogers", "link": "https://stackoverflow.com/users/5066237/max-rogers"}, "edited": false, "score": 0, "creation_date": 1435822129, "post_id": 31171043, "comment_id": 50362683, "body": "so the reading seems to work. did you have a look at your <code>data</code>? do you know what <code>data</code> looks like when the error occurs?"}], "tags": [], "owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "is_accepted": false, "score": 0, "last_activity_date": 1435782510, "creation_date": 1435782510, "answer_id": 31171043, "question_id": 31170839, "link": "https://stackoverflow.com/questions/31170839/csv-problems-and-help-needed-with-code/31171043#31171043", "title": "CSV Problems and Help Needed with Code", "body": "<p>try opening the file with the mode </p>\n\n<pre><code>open('case_name.csv', mode='rU')\n</code></pre>\n\n<p>compare with: <a href=\"https://docs.python.org/2/library/functions.html#open\" rel=\"nofollow\">https://docs.python.org/2/library/functions.html#open</a></p>\n"}], "owner": {"reputation": 115, "user_id": 5066237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ccJoCN7ymq4/AAAAAAAAAAI/AAAAAAAAAEU/hPUEhLHXEo8/photo.jpg?sz=128", "display_name": "Max Rogers", "link": "https://stackoverflow.com/users/5066237/max-rogers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1435782510, "creation_date": 1435781818, "question_id": 31170839, "link": "https://stackoverflow.com/questions/31170839/csv-problems-and-help-needed-with-code", "title": "CSV Problems and Help Needed with Code", "body": "<p>So I am trying to create a Python script that will sort a specified column of an Excel sheet. So far my code is...</p>\n\n<pre><code>import csv\nimport operator\n\nwith open('case_name.csv') as infile:\n    data = list(csv.reader(infile, dialect=csv.excel_tab))\n\ndata.sort(key=operator.itemgetter(2))\n\nwith open('case_name_sorted.csv', 'w') as outfile:\n    writer = csv.writer(outfile, dialect='excel')\n    writer.writerows(data)\n</code></pre>\n\n<p>However, when I run this code I continue to get an error that says...</p>\n\n<pre><code>data = list(csv.reader(infile, dialect=csv.excel_tab))\n_csv.Error: new-line character seen in unquoted field - do you need to open the file in universal-newline mode?\n</code></pre>\n\n<p>I did some research and found out that .csv files do not work well on a Mac. So what should I change the file to that will keep it working like an Excel sheet? Also, if anyone has any pointers on how else I could sort a column, I would very much appreciate some tips. Thanks!</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "is_accepted": false, "score": 4, "last_activity_date": 1435781953, "creation_date": 1435781953, "answer_id": 31170872, "question_id": 31170832, "link": "https://stackoverflow.com/questions/31170832/valueerror-when-converting-string-to-datetime/31170872#31170872", "title": "ValueError when converting String to datetime", "body": "<p>You are using wrong date format, <code>%b</code> is for the named months (abbreviations like <code>Jan</code> or <code>Feb</code> , etc), use <code>%m</code> for the numbered months.</p>\n\n<p>Code -</p>\n\n<pre><code>df = df[df['Date'] &gt; time.strptime(curve_enddate[i][0], '%Y-%m-%d')]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "edited": false, "score": 0, "creation_date": 1435784588, "post_id": 31171044, "comment_id": 50350959, "body": "@PadraicCunnigham You were right about the<code>time.struct_time tuple</code> issue. However, I now get the error <code>TypeError: Cannot compare type &#39;Timestamp&#39; with type &#39;str&#39;</code>. Would you know why this is?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "edited": false, "score": 1, "creation_date": 1435784667, "post_id": 31171044, "comment_id": 50351006, "body": "Yes, you did not convert your <code>Date</code> column to a datetime. Did you use read_csv to create the df?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "edited": false, "score": 1, "creation_date": 1435784780, "post_id": 31171044, "comment_id": 50351085, "body": "Try <code>df[df[&quot;Date&quot;].apply(pd.to_datetime) &gt; pd.to_datetime(curve_enddate[i][0], &#39;%Y-%m-%d&#39;)]]</code>, if you plan on using the dates a lot, I would set them permanently once. If you are using read_csv use <code>converters={&quot;Date&quot;:pd.to_datetime}</code> to cast to datetime"}, {"owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "edited": false, "score": 0, "creation_date": 1435785625, "post_id": 31171044, "comment_id": 50351533, "body": "@PadraicCunnigham Thank you."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1435783370, "last_edit_date": 1435783370, "creation_date": 1435782510, "answer_id": 31171044, "question_id": 31170832, "link": "https://stackoverflow.com/questions/31170832/valueerror-when-converting-string-to-datetime/31171044#31171044", "title": "ValueError when converting String to datetime", "body": "<p>You cannot compare a <em>time.struct_time tuple</em>  which is what <code>time.strptime</code> returns to a <code>Timestamp</code> so you also need to change that as well as using  <code>'%Y-%m-%d'</code> using <code>m</code> which is the month <em>as a decimal number</em>. You can use <code>pd.to_datetime</code> to create the object to compare:</p>\n\n<pre><code>df = df[df['Date'] &gt; pd.to_datetime(curve_enddate[i][0], '%Y-%m-%d')]\n</code></pre>\n"}], "owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 31171044, "answer_count": 2, "score": 3, "last_activity_date": 1435783370, "creation_date": 1435781795, "question_id": 31170832, "link": "https://stackoverflow.com/questions/31170832/valueerror-when-converting-string-to-datetime", "title": "ValueError when converting String to datetime", "body": "<p>I have a dataframe as follows, and I am trying to reduce the dataframe to only contain rows for which the Date is greater than a variable <code>curve_enddate</code>. The <code>df['Date']</code> is in <code>datetime</code> and hence I'm trying to convert <code>curve_enddate[i][0]</code> which gives a string of the form <code>2015-06-24</code> to <code>datetime</code> but am getting the error <code>ValueError: time data '2015-06-24' does not match format '%Y-%b-%d'</code>.</p>\n\n<pre><code>              Date      Maturity      Yield_pct Currency\n0       2015-06-24          0.25             na      CAD\n1       2015-06-25          0.25   0.0948511020      CAD\n</code></pre>\n\n<p>The line where I get the Error:</p>\n\n<pre><code>df = df[df['Date'] &gt; time.strptime(curve_enddate[i][0], '%Y-%b-%d')]\n</code></pre>\n\n<p>Thank You</p>\n"}, {"tags": ["python", "multithreading", "python-3.x", "queue", "python-multiprocessing"], "comments": [{"owner": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "edited": false, "score": 0, "creation_date": 1435783178, "post_id": 31170788, "comment_id": 50350182, "body": "Just want to clarify something: You&#39;re using multiple <i>processes</i>, not threads, in the above program. There&#39;s a big difference in memory and message passing overhead between the two, so it&#39;s important that you&#39;re clear about which you&#39;re using."}, {"owner": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "edited": false, "score": 0, "creation_date": 1435783270, "post_id": 31170788, "comment_id": 50350233, "body": "It&#39;s also worth noting that because your problem is I/O-bound, you probably could use threads instead of processes and still get good performance vs. the synchronous approach."}], "answers": [{"comments": [{"owner": {"reputation": 368, "user_id": 3647922, "user_type": "registered", "profile_image": "https://graph.facebook.com/593729840/picture?type=large", "display_name": "Jep", "link": "https://stackoverflow.com/users/3647922/jep"}, "edited": false, "score": 0, "creation_date": 1435873587, "post_id": 31171162, "comment_id": 50394915, "body": "This worked great, thank you. I did change this line:      responses = [pool.apply(worker, args=(leads,)) for leads in read_test_data(TEST_FILE)]      This way, it loads the entire CSV file. The old code loaded the same batch of 300 multiple times  I loaded 200,000 records and memory usage was fine. Indeed, the process is I/O bound, because the API I&#39;m calling can take up to a minute to respond."}, {"owner": {"reputation": 368, "user_id": 3647922, "user_type": "registered", "profile_image": "https://graph.facebook.com/593729840/picture?type=large", "display_name": "Jep", "link": "https://stackoverflow.com/users/3647922/jep"}, "edited": false, "score": 0, "creation_date": 1435873949, "post_id": 31171162, "comment_id": 50395041, "body": "<code>responses = [pool.apply(worker, args=(leads,)) for leads in read_test_data(TEST_FILE)]</code>"}], "tags": [], "owner": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "is_accepted": true, "score": 5, "last_activity_date": 1435783350, "last_edit_date": 1435783350, "creation_date": 1435782911, "answer_id": 31171162, "question_id": 31170788, "link": "https://stackoverflow.com/questions/31170788/python-multiprocessing-threads-dont-close-when-using-queue/31171162#31171162", "title": "Python - multiprocessing threads don&#39;t close when using Queue", "body": "<p>This is most likely because of this documented quirk of <code>multiprocessing.Queue</code>:</p>\n\n<blockquote>\n  <p>Bear in mind that a process that has put items in a queue will wait\n  before terminating until all the buffered items are fed by the\n  \u201cfeeder\u201d thread to the underlying pipe. (The child process can call\n  the <code>cancel_join_thread()</code> method of the queue to avoid this behaviour.)</p>\n  \n  <p><strong>This means that whenever you use a queue you need to make sure that\n  all items which have been put on the queue will eventually be removed\n  before the process is joined. Otherwise you cannot be sure that\n  processes which have put items on the queue will terminate.</strong> Remember\n  also that non-daemonic processes will be joined automatically.</p>\n</blockquote>\n\n<p>Basically, you need to make sure you <code>get()</code> all the items from a <code>Queue</code> to guarantee that all the processes which <code>put</code> something into that <code>Queue</code> will be able to exit.</p>\n\n<p>I think in this case you're better off using a <code>multiprocessing.Pool</code>, and submitting all your jobs to <a href=\"https://docs.python.org/2.7/library/multiprocessing.html#multiprocessing.pool.multiprocessing.Pool.map\" rel=\"noreferrer\"><code>multiprocessing.Pool.map</code></a>. This simplifies things significantly, and gives you complete control over the number of processes running:</p>\n\n<pre><code>def worker(leads):\n    payload = {\"action\":\"createOrUpdate\",\"input\":leads}\n    r = requests.post(url, params=params, data=json.dumps(payload), headers=headers)\n    return r.text\n\nif __name__ == \"__main__\":\n    pool = multiprocessing.Pool(multiprocessing.cpu_count() * 2)  # cpu_count() * 2 processes running in the pool\n    responses = pool.map(worker, read_test_data(TEST_FILE))\n\n    skipped_count = 0\n    for raw_response in responses:\n        http_response = json.loads(raw_response)\n        for i in http_response['result']:\n            if (i['status'] == \"skipped\" and i['reasons'][0]['code'] == \"1004\"):\n                skipped_count += 1\n    print(\"Number of records skipped: \" + str(skipped_count))\n</code></pre>\n\n<p>If you're worried about the memory cost of converting <code>read_test_data(TEST_FILE)</code> into a list (which is required to use <code>Pool.map</code>), you can use <a href=\"https://docs.python.org/2.7/library/multiprocessing.html#multiprocessing.pool.multiprocessing.Pool.imap\" rel=\"noreferrer\"><code>Pool.imap</code></a> instead.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>As I mentioned in a comment above, this use-case looks like it's I/O-bound, which means you may see better performance by using a <code>multiprocessing.dummy.Pool</code> (which uses a thread pool instead of a process pool). Give both a try and see which is faster.</p>\n"}], "owner": {"reputation": 368, "user_id": 3647922, "user_type": "registered", "profile_image": "https://graph.facebook.com/593729840/picture?type=large", "display_name": "Jep", "link": "https://stackoverflow.com/users/3647922/jep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3829, "favorite_count": 1, "accepted_answer_id": 31171162, "answer_count": 1, "score": 1, "last_activity_date": 1435783350, "creation_date": 1435781628, "last_edit_date": 1435783094, "question_id": 31170788, "link": "https://stackoverflow.com/questions/31170788/python-multiprocessing-threads-dont-close-when-using-queue", "title": "Python - multiprocessing threads don&#39;t close when using Queue", "body": "<p>This is for Python 3.x</p>\n\n<p>I'm loading records from a CSV file in chunks of 300, then spawning worker threads to submit them to a REST API. I'm saving the HTTP response in a Queue, so that I can get a count for the number of skipped records once the entire CSV file is processed. However, after I added a Queue to my worker, the threads don't seem to close anymore. I want to monitor the number of thread for 2 reasons: (1) once all are done, I can calculate and display the skip counts and (2) I want to enhance my script to spawn no more than 20 or so threads, so I don't run out of memory. </p>\n\n<p>I have 2 questions: </p>\n\n<ul>\n<li>Can someone explain why the thread stays active when using <code>q.put()</code>?</li>\n<li>Is there a different way to manage the # of threads, and to monitor whether all threads are done? </li>\n</ul>\n\n<p>Here is my code (somewhat simplified, because I can't share the exact details of the API I'm calling): </p>\n\n<pre><code>import requests, json, csv, time, datetime, multiprocessing\n\nTEST_FILE = 'file.csv'\n\ndef read_test_data(path, chunksize=300):\n    leads = []\n    with open(path, 'rU') as data:\n        reader = csv.DictReader(data)\n        for index, row in enumerate(reader):\n            if (index % chunksize == 0 and index &gt; 0):\n                yield leads\n                del leads[:]\n            leads.append(row)\n        yield leads\n\ndef worker(leads, q):\n    payload = {\"action\":\"createOrUpdate\",\"input\":leads}\n    r = requests.post(url, params=params, data=json.dumps(payload), headers=headers)\n    q.put(r.text) # this puts the response in a queue for later analysis\n    return\n\nif __name__ == \"__main__\":\n    q = multiprocessing.Queue() # this is a queue to put all HTTP responses in, so we count the skips\n    jobs = []\n    for leads in read_test_data(TEST_FILE): # This function reads a CSV file and provides 300 records at a time\n        p = multiprocessing.Process(target=worker, args=(leads,q,))\n        jobs.append(p)\n        p.start()\n    time.sleep(20) # checking if processes are closing automatically (they don't)\n    print(len(multiprocessing.active_children())) ## always returns the number of threads. If I remove 'q.put' from worker, it returns 0\n\n    # The intent is to wait until all workers are done, but it results in an infinite loop\n    # when I remove 'q.put' in the worker it works fine\n    #while len(multiprocessing.active_children()) &gt; 0:  # \n    #    time.sleep(1)\n\n    skipped_count = 0\n    while not q.empty(): # calculate number of skipped records based on the HTTP responses in the queue\n        http_response = json.loads(q.get())\n        for i in http_response['result']:\n            if (i['status'] == \"skipped\" and i['reasons'][0]['code'] == \"1004\"):\n                skipped_count += 1\n    print(\"Number of records skipped: \" + str(skipped_count))\n</code></pre>\n"}, {"tags": ["python", "hash", "cross-platform", "portability"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1435781685, "post_id": 31170783, "comment_id": 50349381, "body": "<code>hash</code> is just for use with the <code>dict</code> type, which is implemented as a hash table. You probably want a function from the <code>hashlib</code> module in the standard library."}, {"owner": {"reputation": 18668, "user_id": 1595865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/145be364a8062dc14a5121c4b3e06f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loopbackbee", "link": "https://stackoverflow.com/users/1595865/loopbackbee"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1435781770, "post_id": 31170783, "comment_id": 50349437, "body": "@chepner I&#39;m looking for something that hashes arbitrary data structures like <code>hash</code>, I don&#39;t think <code>hashlib</code> does that?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1435782161, "post_id": 31170783, "comment_id": 50349633, "body": "<code>hash</code> can&#39;t hash arbitrary data structures, either. (Try passing a <code>dict</code> or a <code>set</code> to <code>hash</code>.)"}, {"owner": {"reputation": 18668, "user_id": 1595865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/145be364a8062dc14a5121c4b3e06f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loopbackbee", "link": "https://stackoverflow.com/users/1595865/loopbackbee"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1435782355, "post_id": 31170783, "comment_id": 50349739, "body": "@chepner Yes, I&#39;m aware only simple and immutable structures are supported. That would be sufficient for my needs (though maybe not everyone else&#39;s)"}], "answers": [{"comments": [{"owner": {"reputation": 18668, "user_id": 1595865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/145be364a8062dc14a5121c4b3e06f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loopbackbee", "link": "https://stackoverflow.com/users/1595865/loopbackbee"}, "edited": false, "score": 0, "creation_date": 1435782130, "post_id": 31170803, "comment_id": 50349618, "body": "That&#39;s an excellent response to the main question. As to an alternative, I&#39;ve <a href=\"http://stackoverflow.com/questions/5417949/computing-an-md5-hash-of-a-data-structure\">dug a bit more</a>, and it looks like serializing to json is a reasonable alternative. If you don&#39;t mind me editing your answer, I could include that information"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 18668, "user_id": 1595865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/145be364a8062dc14a5121c4b3e06f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loopbackbee", "link": "https://stackoverflow.com/users/1595865/loopbackbee"}, "edited": false, "score": 0, "creation_date": 1435782277, "post_id": 31170803, "comment_id": 50349702, "body": "@goncalopp: serialising to JSON won&#39;t give you a compact hash; you&#39;d still have to run that through some kind of hashing algorithm. I&#39;ve added a pointer to <code>hashlib</code>."}, {"owner": {"reputation": 18668, "user_id": 1595865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/145be364a8062dc14a5121c4b3e06f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loopbackbee", "link": "https://stackoverflow.com/users/1595865/loopbackbee"}, "edited": false, "score": 0, "creation_date": 1435782510, "post_id": 31170803, "comment_id": 50349821, "body": "Yes, you can then run it through hashlib, as in <a href=\"http://stackoverflow.com/a/10288255/1595865\">this answer</a>. Note I&#39;ve edited the question to clarify I&#39;m looking for something that hashes data-structures as <code>hash</code> does, not just strings"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 18668, "user_id": 1595865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/145be364a8062dc14a5121c4b3e06f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loopbackbee", "link": "https://stackoverflow.com/users/1595865/loopbackbee"}, "edited": false, "score": 0, "creation_date": 1435782720, "post_id": 31170803, "comment_id": 50349926, "body": "@goncalopp: then convert those data structures to bytes; JSON can do that, but so can the <code>pickle</code> module."}, {"owner": {"reputation": 18668, "user_id": 1595865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/145be364a8062dc14a5121c4b3e06f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loopbackbee", "link": "https://stackoverflow.com/users/1595865/loopbackbee"}, "edited": false, "score": 0, "creation_date": 1435783708, "post_id": 31170803, "comment_id": 50350454, "body": "<code>pickle</code> generates different output on different python versions, so it wouldn&#39;t be a &quot;portable hash&quot;. The JSON serialization is <a href=\"https://docs.python.org/2/library/json.html#basic-usage\" rel=\"nofollow noreferrer\">easy enough to control</a> in order to get something <a href=\"http://wiki.laptop.org/go/Canonical_JSON\" rel=\"nofollow noreferrer\">reasonably canonical</a>"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 18668, "user_id": 1595865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/145be364a8062dc14a5121c4b3e06f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loopbackbee", "link": "https://stackoverflow.com/users/1595865/loopbackbee"}, "edited": false, "score": 0, "creation_date": 1435783752, "post_id": 31170803, "comment_id": 50350480, "body": "@goncalopp: depends on the pickle version you pick, actually."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 3, "last_activity_date": 1435782685, "last_edit_date": 1435782685, "creation_date": 1435781684, "answer_id": 31170803, "question_id": 31170783, "link": "https://stackoverflow.com/questions/31170783/is-pythons-hash-portable/31170803#31170803", "title": "Is python&#39;s hash() portable?", "body": "<p>No, <code>hash()</code> is not guaranteed to be portable.</p>\n\n<p>Python 3.3 also uses <em>hash randomisation</em> by default, where certain types are hashed with a hash seed picked at start-up. Hash values then differ between Python interpreter invocations.</p>\n\n<p>From the <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__hash__\" rel=\"nofollow\"><code>object.__hash__()</code> documenation</a>:</p>\n\n<blockquote>\n  <p>By default, the <code>__hash__()</code> values of str, bytes and datetime objects are \u201csalted\u201d with an unpredictable random value. Although they remain constant within an individual Python process, they are not predictable between repeated invocations of Python.</p>\n  \n  <p>This is intended to provide protection against a denial-of-service caused by carefully-chosen inputs that exploit the worst case performance of a dict insertion, O(n^2) complexity. See <a href=\"http://www.ocert.org/advisories/ocert-2011-003.html\" rel=\"nofollow\">http://www.ocert.org/advisories/ocert-2011-003.html</a> for details.</p>\n  \n  <p>Changing hash values affects the iteration order of dicts, sets and other mappings. Python has never made guarantees about this ordering (and it typically varies between 32-bit and 64-bit builds).</p>\n  \n  <p>See also <a href=\"https://docs.python.org/3/using/cmdline.html#envvar-PYTHONHASHSEED\" rel=\"nofollow\">PYTHONHASHSEED</a>.</p>\n</blockquote>\n\n<p>Python 2.6.8 and 3.2.3 and newer support the same feature but have it normally disabled.</p>\n\n<p>Python 3.2 introduced a <a href=\"https://docs.python.org/3/library/sys.html#sys.hash_info\" rel=\"nofollow\"><code>sys.hash_info</code> named tuple</a> that gives you details about the hash implementation for the current interpreter.</p>\n\n<p>If you need a portable hash, there are plenty of implementations. The standard library includes a cryptographic hash library called <a href=\"https://docs.python.org/3/library/hashlib.html\" rel=\"nofollow\"><code>hashlib</code></a>; these implementations are definitely portable. Another option would be the <a href=\"https://github.com/hajimes/mmh3\" rel=\"nofollow\"><code>mm3</code> package</a> which provides <a href=\"https://en.wikipedia.org/wiki/MurmurHash\" rel=\"nofollow\">Murmur3 non-cryptographic hash function implementations</a>.</p>\n\n<p>Common data structures would need to be converted to bytes first; you could use serialisation for that, like the <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow\"><code>json</code></a> or <a href=\"https://docs.python.org/3/library/pickle.html\" rel=\"nofollow\"><code>pickle</code></a> modules.</p>\n"}], "owner": {"reputation": 18668, "user_id": 1595865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/145be364a8062dc14a5121c4b3e06f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loopbackbee", "link": "https://stackoverflow.com/users/1595865/loopbackbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 1, "accepted_answer_id": 31170803, "answer_count": 1, "score": 3, "last_activity_date": 1435782685, "creation_date": 1435781606, "last_edit_date": 1495541647, "question_id": 31170783, "link": "https://stackoverflow.com/questions/31170783/is-pythons-hash-portable", "title": "Is python&#39;s hash() portable?", "body": "<p>Is python's <code>hash</code> function portable?</p>\n\n<p>By \"portable\" I mean, will it return the same results (for the same data) across python versions, platforms and implementations?</p>\n\n<p>If not, is there any alternative to it that provides such features (while still capable of hashing common data-structures)?</p>\n\n<hr>\n\n<p><a href=\"https://docs.python.org/2/library/functions.html#hash\" rel=\"nofollow noreferrer\">The documentation</a> is not particularly helpful. \n<a href=\"https://stackoverflow.com/questions/27758375/python-portable-hash\">This question</a> refers a library that seems to roll its own version, but I'm not sure non-portability would be the reason for it.</p>\n"}, {"tags": ["python", "django", "python-social-auth"], "comments": [{"owner": {"reputation": 3353, "user_id": 1782570, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ef78fbe5a7f84b9f660f362804ddfe24?s=128&d=identicon&r=PG", "display_name": "TheGeorgeous", "link": "https://stackoverflow.com/users/1782570/thegeorgeous"}, "edited": false, "score": 0, "creation_date": 1435807259, "post_id": 31170712, "comment_id": 50357350, "body": "Are you using a virtualenv? Can you give us the output of pip list?"}, {"owner": {"reputation": 511, "user_id": 5071186, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d02b6090c488974f3cf89b5e434c7c15?s=128&d=identicon&r=PG", "display_name": "Weit", "link": "https://stackoverflow.com/users/5071186/weit"}, "reply_to_user": {"reputation": 3353, "user_id": 1782570, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ef78fbe5a7f84b9f660f362804ddfe24?s=128&d=identicon&r=PG", "display_name": "TheGeorgeous", "link": "https://stackoverflow.com/users/1782570/thegeorgeous"}, "edited": false, "score": 0, "creation_date": 1435818142, "post_id": 31170712, "comment_id": 50360549, "body": "It was installed globally. Output added to post"}, {"owner": {"reputation": 3353, "user_id": 1782570, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ef78fbe5a7f84b9f660f362804ddfe24?s=128&d=identicon&r=PG", "display_name": "TheGeorgeous", "link": "https://stackoverflow.com/users/1782570/thegeorgeous"}, "edited": false, "score": 0, "creation_date": 1435818599, "post_id": 31170712, "comment_id": 50360777, "body": "Did you notice this? command-not-found==0.2.44   FIXME: could not find svn URL in dependency_links for this package:"}, {"owner": {"reputation": 3353, "user_id": 1782570, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ef78fbe5a7f84b9f660f362804ddfe24?s=128&d=identicon&r=PG", "display_name": "TheGeorgeous", "link": "https://stackoverflow.com/users/1782570/thegeorgeous"}, "edited": false, "score": 0, "creation_date": 1435818733, "post_id": 31170712, "comment_id": 50360850, "body": "Are you running the app from a virtualenv?"}, {"owner": {"reputation": 511, "user_id": 5071186, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d02b6090c488974f3cf89b5e434c7c15?s=128&d=identicon&r=PG", "display_name": "Weit", "link": "https://stackoverflow.com/users/5071186/weit"}, "reply_to_user": {"reputation": 3353, "user_id": 1782570, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ef78fbe5a7f84b9f660f362804ddfe24?s=128&d=identicon&r=PG", "display_name": "TheGeorgeous", "link": "https://stackoverflow.com/users/1782570/thegeorgeous"}, "edited": false, "score": 0, "creation_date": 1435821396, "post_id": 31170712, "comment_id": 50362233, "body": "Install virtualenv, install python-social-auth inside invironment, Output of freeze  PyJWT==1.3.0 argparse==1.2.1 distribute==0.6.24 oauthlib==0.7.2 python-openid==2.2.5 python-social-auth==0.2.11 requests==2.7.0 requests-oauthlib==0.5.0 six==1.9.0 wsgiref==0.1.2 But still have errors ImportError: No module named six"}], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 5071186, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d02b6090c488974f3cf89b5e434c7c15?s=128&d=identicon&r=PG", "display_name": "Weit", "link": "https://stackoverflow.com/users/5071186/weit"}, "is_accepted": false, "score": 0, "last_activity_date": 1435828464, "creation_date": 1435828464, "answer_id": 31180395, "question_id": 31170712, "link": "https://stackoverflow.com/questions/31170712/how-to-solve-error-with-python-social-auth/31180395#31180395", "title": "How to solve error with python-social-auth", "body": "<h2>Solved.</h2>\n\n<p>1 - Install virtualenv\n<code>pip install virtualenv</code></p>\n\n<p>2 - make directory for environment</p>\n\n<pre><code>mkdir venv\nvirtualenv --system-site-packages &lt;venv_name&gt; \n</code></pre>\n\n<p>system-site-packages --- let you added a lot of previous function from project</p>\n\n<p>3 - install library again</p>\n\n<pre><code> pip install python-social-auth\n</code></pre>\n\n<p>4 Then you need to add environment directory to wsgi file </p>\n\n<pre><code>sys.path.append('/home/venv/lib/python2.7/site-packages')\n</code></pre>\n\n<p>TaDaaam, it Works</p>\n"}], "owner": {"reputation": 511, "user_id": 5071186, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d02b6090c488974f3cf89b5e434c7c15?s=128&d=identicon&r=PG", "display_name": "Weit", "link": "https://stackoverflow.com/users/5071186/weit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 820, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1435837025, "creation_date": 1435781341, "last_edit_date": 1435837025, "question_id": 31170712, "link": "https://stackoverflow.com/questions/31170712/how-to-solve-error-with-python-social-auth", "title": "How to solve error with python-social-auth", "body": "<p>When the program executes the code</p>\n\n<pre><code>url('', include('social.apps.django_app.urls', namespace='social')),\n</code></pre>\n\n<p>I got some mistakes </p>\n\n<blockquote>\n  <p>site-packages/social/utils.py\", line 8, in </p>\n  \n  <p>[Wed Jul 01 19:01:02 2015] \n  [error] [client 5.254.65.101:9114] import six </p>\n  \n  <p>[Wed Jul 01 19:01:02 2015] [error] [client 5.254.65.101:9114] ImportError: No module named six</p>\n</blockquote>\n\n<p>But I have module six and can run: </p>\n\n<pre><code>import six\n</code></pre>\n\n<p>library python-social-auth was installed with  <code>pip install</code></p>\n\n<p>All settings copied from  <a href=\"https://github.com/omab/python-social-auth/blob/master/examples/django_example/example/settings.py\" rel=\"nofollow\">sample</a></p>\n\n<p>Dont use virtualenv, all was installed globally</p>\n\n<p>Output of pip freeze comand</p>\n\n<pre><code>    Cython==0.22 \nDjango==1.8.2  \nGnuPGInterface==0.3.2  \nIPy==0.83\nJinja2==2.7.3 \nMarkupSafe==0.23  \nMySQL-python==1.2.3  \nPIL==1.1.7\nPillow==2.8.1  \nPyJWT==1.3.0  \nPyYAML==3.11  \napt-xapian-index==0.44\nargparse==1.2.1  \nbackports.ssl-match-hostname==3.4.0.2 \nchardet==2.0.1 \ncommand-not-found==0.2.44  \nFIXME: could not find svn URL in dependency_links for this package: \ndistribute==0.6.24dev-r0\ndjango-ajax-selects==1.3.6  \ndjango-jinja==1.4.1\ndjango-social-auth==0.7.28 \ndjango-vkontakte-iframe==0.4.1\ndocker-compose==1.2.0rc2  \ndocker-py==1.1.0  \ndockerpty==0.3.2\ndocopt==0.6.2  \nhttplib2==0.9.1  \niotop==0.4.4  \nlanguage-selector==0.1\nmarisa-trie==0.7  \noauth2==1.5.211  \noauthlib==0.7.2 \nprettytable==0.7.2 \npsutil==1.1.3  \npyCLI==2.0.3  \npycurl==7.19.0 \npylibacl==0.5.2 \npyroute2==0.2.16  \npython-apt==0.8.3 ubuntu7.3\npython-debian==0.1.21 \nubuntu1 python-openid==2.2.5\npython-ptrace==0.8.1 \npython-social-auth==0.2.11 \nredis==2.10.3   \nrequests==2.5.3 \nrequests-oauthlib==0.5.0 \nrfoo==1.3.0.1   \nsetproctitle==1.1.8 \nsix==1.9.0 \ntexttable==0.8.3 \nufw==0.31.1-1   \nvirtualenv==1.7.1.2 \nwebsocket-client==0.29.0 \nwsgiref==0.1.2   \nxmpppy==0.5.0rc1\n</code></pre>\n"}, {"tags": ["python", "cron", "mysql-python"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4817593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbb992886df87faf9966c62bb83c0ad?s=128&d=identicon&r=PG&f=1", "display_name": "cphayash", "link": "https://stackoverflow.com/users/4817593/cphayash"}, "edited": false, "score": 0, "creation_date": 1436325607, "post_id": 31171270, "comment_id": 50558697, "body": "Thank you!  I see an error when I attempt to import MySQLdb the first way you suggested <code>&#47;System&#47;Library&#47;Frameworks&#47;Python.framework&#47;Versions&#47;2.7&#47;bin&zwnj;&#8203;&#47;python2</code>  and not when I simply run Python from my path.  With that in mind, how can I figure out what version of Python (and what filepath to use) in my cronjob?"}, {"owner": {"reputation": 13, "user_id": 4817593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbb992886df87faf9966c62bb83c0ad?s=128&d=identicon&r=PG&f=1", "display_name": "cphayash", "link": "https://stackoverflow.com/users/4817593/cphayash"}, "edited": false, "score": 0, "creation_date": 1436325915, "post_id": 31171270, "comment_id": 50558764, "body": "Also, running Python via <code>&#47;System&#47;Library&#47;Frameworks&#47;Python.framework&#47;Versions&#47;2.7&#47;bin&zwnj;&#8203;&#47;python2</code> and then running <code>print platform.architecture()</code> returns <code>(&#39;64bit&#39;, &#39;&#39;)</code> , which threw an error when I attempted to import MySQLdb vs when I run from PATH, which returns <code>(&#39;32bit&#39;, &#39;&#39;)</code> which didn&#39;t throw an error on import so clearly I need to run the 32bit version of Python."}, {"owner": {"reputation": 13, "user_id": 4817593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbb992886df87faf9966c62bb83c0ad?s=128&d=identicon&r=PG&f=1", "display_name": "cphayash", "link": "https://stackoverflow.com/users/4817593/cphayash"}, "edited": false, "score": 0, "creation_date": 1436326116, "post_id": 31171270, "comment_id": 50558807, "body": "I think I found the answer... Does <code>arch -i386 &#47;usr&#47;bin&#47;python</code> sound right?"}], "tags": [], "owner": {"reputation": 153, "user_id": 4917792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5abf51e6b358198fa84d5f392230d5?s=128&d=identicon&r=PG&f=1", "display_name": "terbolous", "link": "https://stackoverflow.com/users/4917792/terbolous"}, "is_accepted": true, "score": 0, "last_activity_date": 1435783318, "creation_date": 1435783318, "answer_id": 31171270, "question_id": 31170675, "link": "https://stackoverflow.com/questions/31170675/mysqldb-module-works-when-running-python-script-from-the-command-line-but-not-a/31171270#31171270", "title": "MySQLdb module works when running Python script from the command line, but not as a cron job", "body": "<p>The error message typically means that you have a mismatch between the MySQLdb (or a dependency) and Python architecture.</p>\n\n<p>That is, one of them are most likely 64-bit, while the other is 32-bit.</p>\n\n<p>What happens if you try the following in a terminal?</p>\n\n<pre><code>$ /System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2\n(Take note of the exact version)\n&gt;&gt;&gt; import platform\n&gt;&gt;&gt; print platform.architecture()\n&gt;&gt;&gt; import MySQLdb\n</code></pre>\n\n<p>Do it again, but this time with python from your path and see if they differ</p>\n\n<pre><code>$ python\n&gt;&gt;&gt; import platform\n&gt;&gt;&gt; print platform.architecture()\n&gt;&gt;&gt; import MySQLdb\n</code></pre>\n\n<p>Edit:</p>\n\n<p>You might also check with file, what architecture the module is built for.</p>\n\n<pre><code>$ file /Library/Python/2.7/site-packages/_mysql.so\n/Library/Python/2.7/site-packages/_mysql.so: Mach-O universal binary with 2 architectures\n/Library/Python/2.7/site-packages/_mysql.so (for architecture x86_64):  Mach-O 64-bit bundle x86_64\n/Library/Python/2.7/site-packages/_mysql.so (for architecture i386):    Mach-O bundle i386\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4817593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbb992886df87faf9966c62bb83c0ad?s=128&d=identicon&r=PG&f=1", "display_name": "cphayash", "link": "https://stackoverflow.com/users/4817593/cphayash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 31171270, "answer_count": 1, "score": 1, "last_activity_date": 1435783318, "creation_date": 1435781226, "question_id": 31170675, "link": "https://stackoverflow.com/questions/31170675/mysqldb-module-works-when-running-python-script-from-the-command-line-but-not-a", "title": "MySQLdb module works when running Python script from the command line, but not as a cron job", "body": "<p>I am trying to create a cron job to run a python script I wrote, but for some reason the script only runs when I'm running it from the command line.  It worked before, but I accidentally deleted my crontab.  When the crontab I just wrote tries to run it, I get an error about the MySQLdb module being the wrong architecture:</p>\n\n<pre><code>    Traceback (most recent call last):\n  File \"/Users/myuser/Documents/EE_SFDC Integration/csv_reader/Weekly_Updates/Weekly_Confirmation/weekly_confirm.py\", line 7, in &lt;module&gt;\n    import MySQLdb\n  File \"/Library/Python/2.7/site-packages/MySQLdb/__init__.py\", line 19, in &lt;module&gt;\n    import _mysql\nImportError: dlopen(/Library/Python/2.7/site-packages/_mysql.so, 2): no suitable image found.  Did find:\n    /Library/Python/2.7/site-packages/_mysql.so: mach-o, but wrong architecture\n</code></pre>\n\n<p>In my crontab, I've tried using the full path to several python versions (2.7 and 3.4), but I still get the issue.  When I use 3.4, I don't get an error about MySQLdb, but I <em>do</em> get an error on a print .forma() statement being the wrong syntax. </p>\n\n<p>But again, that doesn't happen when I run the script from the command line, so I expect this is not the correct version either.</p>\n\n<p>The cron job looks like this:</p>\n\n<pre><code>14 12 * * * today=`date +\"\\%Y-\\%m-\\%d\"` &amp;&amp; /System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2 /Users/myuser/Documents/EE_SFDC\\ Integration/csv_reader/Weekly_Updates/Weekly_Confirmation/weekly_confirm.py &gt; /Users/myuser/Documents/EE/run_logs/weekly_sync_runlog_$today.txt 2&gt;&amp;1\n</code></pre>\n\n<p>Any help is much appreciated!</p>\n"}, {"tags": ["python", "ubuntu-14.04", "gcovr"], "comments": [{"owner": {"reputation": 1391, "user_id": 3826759, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e7a732492ee414b03e4439b8ec50d38e?s=128&d=identicon&r=PG&f=1", "display_name": "double_j", "link": "https://stackoverflow.com/users/3826759/double-j"}, "edited": false, "score": 2, "creation_date": 1435781288, "post_id": 31170672, "comment_id": 50349174, "body": "Did you try it with <code>sudo</code>"}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 5071034, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ef14b2238199a73d0ad3308ddc43fcaa?s=128&d=identicon&r=PG&f=1", "display_name": "riverrock", "link": "https://stackoverflow.com/users/5071034/riverrock"}, "edited": false, "score": 0, "creation_date": 1435844700, "post_id": 31170821, "comment_id": 50377934, "body": "@double_j Hi, I tried <code>sudo pip install gcovr</code>, I get a different error now <code>Cannot fetch index base URL https:&#47;&#47;pypi.python.org&#47;simple&#47;</code> any ideas?"}, {"owner": {"reputation": 3191, "user_id": 119215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hOpgo.jpg?s=128&g=1", "display_name": "Jay Atkinson", "link": "https://stackoverflow.com/users/119215/jay-atkinson"}, "reply_to_user": {"reputation": 131, "user_id": 5071034, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ef14b2238199a73d0ad3308ddc43fcaa?s=128&d=identicon&r=PG&f=1", "display_name": "riverrock", "link": "https://stackoverflow.com/users/5071034/riverrock"}, "edited": false, "score": 0, "creation_date": 1435853470, "post_id": 31170821, "comment_id": 50384287, "body": "i would try to install pip without apt-get if your on ubuntu."}], "tags": [], "owner": {"reputation": 3191, "user_id": 119215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hOpgo.jpg?s=128&g=1", "display_name": "Jay Atkinson", "link": "https://stackoverflow.com/users/119215/jay-atkinson"}, "is_accepted": false, "score": 1, "last_activity_date": 1435853551, "last_edit_date": 1435853551, "creation_date": 1435781745, "answer_id": 31170821, "question_id": 31170672, "link": "https://stackoverflow.com/questions/31170672/installing-gcovr-on-ubuntu-using-pip/31170821#31170821", "title": "installing gcovr on ubuntu using pip", "body": "<p>I had no problems installing it this way:</p>\n\n<pre><code>sudo pip install gcovr\n</code></pre>\n\n<p>No errors.</p>\n\n<p>If you're on Ubuntu 14.04, you may need to upgrade your pip.</p>\n\n<pre><code>curl \"https://bootstrap.pypa.io/get-pip.py\" -o \"get-pip.py\"\nsudo python get-pip.py\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 5071034, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ef14b2238199a73d0ad3308ddc43fcaa?s=128&d=identicon&r=PG&f=1", "display_name": "riverrock", "link": "https://stackoverflow.com/users/5071034/riverrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1682, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435853551, "creation_date": 1435781221, "question_id": 31170672, "link": "https://stackoverflow.com/questions/31170672/installing-gcovr-on-ubuntu-using-pip", "title": "installing gcovr on ubuntu using pip", "body": "<p>I am trying to intall gcovr on ubuntu using </p>\n\n<pre><code>pip install gcovr\n</code></pre>\n\n<p>but it gives this error</p>\n\n<pre><code>Command /usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/pip_build_mymachine/gcovr/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-uqjIdg-record/install-record.txt --single-version-externally-managed --compile failed with error code 1 in /tmp/pip_build_mymachin/gcovr\n</code></pre>\n\n<p>Storing debug log for failure in /home/mymachin/.pip/pip.log</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "user-interface", "inheritance", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e36fffe192f2d146f3a47513c12b29?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyJoeJoeJrshabadoo", "link": "https://stackoverflow.com/users/5070959/joeyjoejoejrshabadoo"}, "edited": false, "score": 0, "creation_date": 1435788117, "post_id": 31171812, "comment_id": 50352645, "body": "Excellent... I kept thinking I needed to find a way to overload a constructor but didn&#39;t seem quite right to me. This is what I needed. I&#39;ll keep in mind what you said about keeping classes oblivious of one another."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 1, "last_activity_date": 1435785264, "creation_date": 1435785264, "answer_id": 31171812, "question_id": 31170616, "link": "https://stackoverflow.com/questions/31170616/how-to-access-a-method-in-one-inherited-tkinter-class-from-another-inherited-tki/31171812#31171812", "title": "How to access a method in one inherited tkinter class from another inherited tkinter class", "body": "<p>I'd recommend sticking to instance variables, which are created for each individual object, unlike class variables which are shared among all of a class's instantiations - just prepend those variable names with <code>self.</code> (e.g. <code>self.results</code>). Also, stick to naming conventions so you don't have a <code>Testing</code> class and a <code>Testing</code> object of that class.</p>\n\n<p>You instantiate objects according to their <code>__init__</code>. The <code>Results</code> class has an <code>__init__</code> defined as <code>def __init__(self, parent):</code>, so it needs a parent. If you want it to have the same parent as the <code>Testing</code> object that created it, simply do <code>results = Results(parent)</code>. However, you don't want to do this (see below).</p>\n\n<p>A problem that I encountered after making the above change was that the <code>Application</code> class instantiated its own <code>Results</code> object, and that was what was actually being displayed, not the one created by the <code>Testing</code> object. Refer back to that object instead of creating a new one. Pass the <code>Application</code> object to each of these classes so they can refer to each other. Now, having said that, it's generally better to have each class know as little about other classes as possible, so that making a change in one class doesn't require any changes in other classes.</p>\n\n<p>The following code will make the label yellow when you click the button.</p>\n\n<pre><code>import Tkinter as tk\n\nclass Testing(tk.LabelFrame):\n    def __init__(self, parent, main):\n\n        self.buttonWidth = 10\n\n        self.parent=parent\n        self.main = main # save the instantiating class\n\n        tk.LabelFrame.__init__(self, self.parent, \n            text=\"Test Operations\",\n            padx=10,\n            pady=10\n        )\n\n        self.taskButton = tk.Button(\n            self, \n            text=\"Do A Task\", \n            width=self.buttonWidth,\n            command=self.doATask,\n        )\n\n        self.taskButton.pack()\n\n    def doATask(self):\n        #want to execute function in Results.getResult() but don't know how\n        self.main.results.getResult()  #&lt;--what you can do\n\nclass Results(tk.LabelFrame):\n\n    def __init__(self, parent, main):\n        self.parent = parent\n        self.main = main # save the instantiating class\n        tk.LabelFrame.__init__(self, self.parent, text=\"Visual Results\")\n\n        self.resultLbl = tk.Label(self, text=\"Result\")\n\n        self.resultLbl.pack()\n\n    def getResult(self):\n        self.resultLbl.config(bg='yellow')\n\nclass Application(tk.Frame):\n\n    def __init__(self, parent):\n        self.parent = parent\n        tk.Frame.__init__(self, self.parent)\n\n        self.testing = Testing(self.parent, self)\n        self.results = Results(self.parent, self)\n\n        self.testing.pack(fill=tk.X)\n        self.results.pack(fill=tk.X)\n\nif __name__ == \"__main__\":\n    root = tk.Tk()\n    root.title(\"Modular GUI App\")\n\n    Application(root).pack()\n    root.mainloop()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 5425704, "user_type": "registered", "profile_image": "https://graph.facebook.com/647129952096415/picture?type=large", "display_name": "Chigo Godwin Anyaso", "link": "https://stackoverflow.com/users/5425704/chigo-godwin-anyaso"}, "is_accepted": false, "score": 0, "last_activity_date": 1458806135, "creation_date": 1458806135, "answer_id": 36195449, "question_id": 31170616, "link": "https://stackoverflow.com/questions/31170616/how-to-access-a-method-in-one-inherited-tkinter-class-from-another-inherited-tki/36195449#36195449", "title": "How to access a method in one inherited tkinter class from another inherited tkinter class", "body": "<p>This worked for me </p>\n\n<pre><code>Results(None,None).getResult()\n</code></pre>\n\n<p>goodluck!</p>\n"}], "owner": {"reputation": 13, "user_id": 5070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e36fffe192f2d146f3a47513c12b29?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyJoeJoeJrshabadoo", "link": "https://stackoverflow.com/users/5070959/joeyjoejoejrshabadoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1475, "favorite_count": 0, "accepted_answer_id": 31171812, "answer_count": 2, "score": 0, "last_activity_date": 1458806135, "creation_date": 1435781005, "question_id": 31170616, "link": "https://stackoverflow.com/questions/31170616/how-to-access-a-method-in-one-inherited-tkinter-class-from-another-inherited-tki", "title": "How to access a method in one inherited tkinter class from another inherited tkinter class", "body": "<p>I've programmed using tkinter before, but usually did a long procedural GUI class that implemented other non GUI classes I've created. This time I wanted to do it using more OOP making it more modular. </p>\n\n<p>I ran into a problem, I've searched for answers and haven't found any, which usually means it's either really easy or I'm really wrong. I created an inherited classes from tk.LabelFrame and created GUI widgets in them. I also have methods to manipulate the widgets in the classes but I can't figure out how to execute a function in another inherited class, partly because I can't figure out how to correctly instantiate an object from the other class (which have tkinter ('parent') objects as parameters).</p>\n\n<p>Would I do this by overloading constructors? I've seen something about @classmethods and *args, **kwargs but haven't acted on them as I'm not sure if that's the right route either. There's some debate about the best/correct way to implement an overloaded constructor in python. I'm stumped as to what is the most apropos for what I'm trying to accomplish...</p>\n\n<p>Thanks</p>\n\n<pre><code>#python 2.7 on win7\nimport Tkinter as tk\n\nclass Testing(tk.LabelFrame):\n    buttonwidth = 10\n\n    def __init__(self, parent):\n\n        self.parent=parent\n        #results = Results(???) #&lt;-- Don't know how to instantiate Results object\n\n        tk.LabelFrame.__init__(self, self.parent, \n            text=\"Test Operations\",\n            padx=10,\n            pady=10,\n        )\n\n        self.taskButton = tk.Button(\n            self, \n            text=\"Do A Task\", \n            width=self.buttonWidth,\n            command=self.doATask,\n        )\n\n        self.taskButton.pack()\n\n    def doATask(self):\n        #want to execute function in Results.getResult() but don't know how\n        #results.getResults()  #&lt;--what I want to do\n        print(\"place holder\")\n\nclass Results(tk.LabelFrame):\n\n    def __init__(self, parent):\n        self.parent = parent\n        tk.LabelFrame.__init__(self, self.parent, text=\"Visual Results\")\n\n        self.resultLbl = tk.Label(self, text=\"Result\")\n\n        self.resultLbl.pack()\n\n    def getResult(self):\n        self.resultLbl.configure(bg='yellow')\n\n\n\nclass Application(tk.Frame):\n\n    def __init__(self, parent):\n        self.parent = parent\n        tk.Frame.__init__(self, self.parent)\n\n        self.Testing = Testing(self.parent)\n        self.Results = Results(self.parent)\n\n        self.Testing.pack(fill=tk.X)\n        self.Results.pack(fill=tk.X)\n\nif __name__ == \"__main__\":\n    root = tk.Tk()\n    root.title(\"Modular GUI App\")\n\n    Application(root).pack()\n    root.mainloop()\n</code></pre>\n"}, {"tags": ["python", "for-loop", "pandas", "dataframe", "keyerror"], "comments": [{"owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "edited": false, "score": 0, "creation_date": 1435780962, "post_id": 31170593, "comment_id": 50348972, "body": "Can you show how your dataframe looks like?"}, {"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "reply_to_user": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "edited": false, "score": 0, "creation_date": 1435781329, "post_id": 31170593, "comment_id": 50349198, "body": "@AnandSKumar Yes, added in an edit."}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1435781407, "post_id": 31170593, "comment_id": 50349238, "body": "Can you also show <code>pivot_table.info()</code> and <code>pivot_table.columns</code>?"}, {"owner": {"reputation": 6936, "user_id": 3868428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e7739b5c5f4626a9edde23f1b0c554?s=128&d=identicon&r=PG&f=1", "display_name": "JoeCondron", "link": "https://stackoverflow.com/users/3868428/joecondron"}, "edited": false, "score": 0, "creation_date": 1435781548, "post_id": 31170593, "comment_id": 50349309, "body": "Any chance you&#39;re mixing floats and strings, i.e. the column names are <code>ints</code> but <code>m</code> is a string?"}], "answers": [{"comments": [{"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "edited": false, "score": 0, "creation_date": 1435782167, "post_id": 31170860, "comment_id": 50349642, "body": "Interesting. Now I am getting this error: RuntimeError: Column name &#39;Companies&#39; does not appear in data source &lt;bokeh.models.sources.ColumnDataSource object at 0x0F6E9710&gt;"}, {"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "edited": false, "score": 0, "creation_date": 1435782618, "post_id": 31170860, "comment_id": 50349877, "body": "Without looping is an interesting approach. I&#39;ll be honest, I&#39;m pulling straight from the bokeh code and trying to put my own data in. I tried your two lines and got this:    color = [colors[min(x - 2, 8)] for x in num_calls]  TypeError: &#39;numpy.float64&#39; object is not iterable"}, {"owner": {"reputation": 6936, "user_id": 3868428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e7739b5c5f4626a9edde23f1b0c554?s=128&d=identicon&r=PG&f=1", "display_name": "JoeCondron", "link": "https://stackoverflow.com/users/3868428/joecondron"}, "reply_to_user": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "edited": false, "score": 0, "creation_date": 1435783009, "post_id": 31170860, "comment_id": 50350091, "body": "Sorry I had <code>num_calls</code> instead of <code>rate</code>. I&#39;ve edited the response. Try it now. You should always try to avoid loops in <code>pandas</code>"}], "tags": [], "owner": {"reputation": 6936, "user_id": 3868428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e7739b5c5f4626a9edde23f1b0c554?s=128&d=identicon&r=PG&f=1", "display_name": "JoeCondron", "link": "https://stackoverflow.com/users/3868428/joecondron"}, "is_accepted": false, "score": 1, "last_activity_date": 1435782981, "last_edit_date": 1435782981, "creation_date": 1435781922, "answer_id": 31170860, "question_id": 31170593, "link": "https://stackoverflow.com/questions/31170593/keyerror-in-for-loop-of-dataframe-in-pandas/31170860#31170860", "title": "KeyError in for loop of dataframe in pandas", "body": "<p>Try changing the loop to </p>\n\n<pre><code>for m in pivot_table.columns:\n</code></pre>\n\n<p>It seems you can achieve the same thing without any loops though. You're looping through the row index and column index to access each entry individually and appending them to a list, so <code>rate</code> is just a list of all elements in the data frame. You can achieve this by</p>\n\n<pre><code>rate= pivot_table.stack().astype(int).tolist()\ncolor = [colours[min(x - 2, 8)] for x in rate]\n</code></pre>\n\n<p>Am i missing something here?</p>\n"}, {"tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 1, "last_activity_date": 1435782875, "creation_date": 1435782875, "answer_id": 31171153, "question_id": 31170593, "link": "https://stackoverflow.com/questions/31170593/keyerror-in-for-loop-of-dataframe-in-pandas/31171153#31171153", "title": "KeyError in for loop of dataframe in pandas", "body": "<p>I've tried the following code and it works on my PC. I use <code>.loc</code> with the aim to avoid potential key error.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\n# just following your previous post to simulate your data\nnp.random.seed(0)\ndates = np.random.choice(pd.date_range('2015-01-01 00:00:00', '2015-06-30 00:00:00', freq='1h'), 10000)\ncompany = np.random.choice(['company' + x for x in '1 2 3 4 5'.split()], 10000)\ndf = pd.DataFrame(dict(recvd_dttm=dates, CompanyName=company)).set_index('recvd_dttm').sort_index()\ndf['C'] = 1\ndf.columns = ['CompanyName', '']\nresult = df.groupby([lambda idx: idx.month, 'CompanyName']).agg({df.columns[1]: sum}).reset_index()\nresult.columns = ['Month', 'CompanyName', 'counts']\npivot_table = result.pivot(index='CompanyName', columns='Month', values='counts')\n\n\n\n\ncolors = [\"#75968f\", \"#a5bab7\", \"#c9d9d3\", \"#e2e2e2\", \"#dfccce\",\n    \"#ddb7b1\", \"#cc7878\", \"#933b41\", \"#550b1d\" ]\n\nmonth = []\ncompany = []\ncolor = []\nrate = []\nfor y in pivot_table.index:\n    for m in pivot_table.columns:\n        month.append(m)\n        company.append(y)\n        num_calls = pivot_table.loc[y, m]\n        rate.append(num_calls)\n        color.append(colors[min(int(num_calls)-2, 8)])\n</code></pre>\n"}], "owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9396, "favorite_count": 0, "accepted_answer_id": 31171153, "answer_count": 2, "score": 2, "last_activity_date": 1571526924, "creation_date": 1435780887, "last_edit_date": 1571526924, "question_id": 31170593, "link": "https://stackoverflow.com/questions/31170593/keyerror-in-for-loop-of-dataframe-in-pandas", "title": "KeyError in for loop of dataframe in pandas", "body": "<p>I am putting my data into a bokeh layout of a heat map, but am getting a KeyError: '1'. It occurs right at the line <code>num_calls = pivot_table[m][y]</code> does anybody know why this would be? </p>\n\n<p>The pivot table I am using is below:</p>\n\n<pre><code>pivot_table.head()\nOut[101]: \nMonth                            1    2    3    4    5    6    7    8    9   CompanyName                                                                   \nCompany 1                 182  270  278  314  180  152  110  127  129   \nCompany 2           163  147  192  142  186  231  214  130  112   \nCompany 3       126   88   99  139   97   97   96   37   79   \nCompany 4   84   89   71   95   80   89   83   88  104   \nCompany 5       91   96   94   66   81   77   87   83   68   \n\nMonth                            10   11   12  \nCompanyName                                    \nCompany 1               117  127   81  \nCompany 2            117   93  101  \nCompany 3       116  111   95  \nCompany 4   93   78   64  \nCompany 5        83   95   65  \n</code></pre>\n\n<p>Below is the section of code leading up to the error:</p>\n\n<pre><code>pivot_table = pivot_table.reset_index()\npivot_table['CompanyName'] = [str(x) for x in pivot_table['CompanyName']]\nCompanies = list(pivot_table['CompanyName'])\nmonths = [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\"]\npivot_table = pivot_table.set_index('CompanyName')\n\n# this is the colormap from the original plot\ncolors = [\"#75968f\", \"#a5bab7\", \"#c9d9d3\", \"#e2e2e2\", \"#dfccce\",\n    \"#ddb7b1\", \"#cc7878\", \"#933b41\", \"#550b1d\" ]\n\n# Set up the data for plotting. We will need to have values for every\n# pair of year/month names. Map the rate to a color.\nmonth = []\ncompany = []\ncolor = []\nrate = []\nfor y in Companies:\n    for m in months:\n        month.append(m)\n        company.append(y)\n        num_calls = pivot_table[m][y]\n        rate.append(num_calls)\n        color.append(colors[min(int(num_calls)-2, 8)])\n</code></pre>\n\n<p>and upon request:</p>\n\n<pre><code>pivot_table.info()\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nIndex: 46 entries, Company1 to LastCompany\nData columns (total 12 columns):\n1.0     46 non-null float64\n2.0     46 non-null float64\n3.0     46 non-null float64\n4.0     46 non-null float64\n5.0     46 non-null float64\n6.0     46 non-null float64\n7.0     46 non-null float64\n8.0     46 non-null float64\n9.0     46 non-null float64\n10.0    46 non-null float64\n11.0    46 non-null float64\n12.0    46 non-null float64\ndtypes: float64(12)\nmemory usage: 4.5+ KB\n</code></pre>\n\n<p>and</p>\n\n<pre><code>pivot_table.columns\nOut[103]: Index([1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0], dtype='object')\n</code></pre>\n\n<p>Also the bokeh code is here: <a href=\"http://docs.bokeh.org/en/latest/docs/gallery/unemployment.html\" rel=\"nofollow noreferrer\">http://docs.bokeh.org/en/latest/docs/gallery/unemployment.html</a></p>\n"}, {"tags": ["python", "csv", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 1, "creation_date": 1435780805, "post_id": 31170550, "comment_id": 50348879, "body": "please provide a way to reproduce the error you saw."}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1435783292, "post_id": 31170550, "comment_id": 50350240, "body": "Where are the NaN values located? If they are all located in the beginning of the frame, this would explain why they are not filled with pad/ffill"}, {"owner": {"reputation": 2465, "user_id": 3291077, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/inXvn.jpg?s=128&g=1", "display_name": "rgalbo", "link": "https://stackoverflow.com/users/3291077/rgalbo"}, "edited": false, "score": 0, "creation_date": 1435783544, "post_id": 31170550, "comment_id": 50350382, "body": "Located at the end of the sheet"}], "answers": [{"comments": [{"owner": {"reputation": 2465, "user_id": 3291077, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/inXvn.jpg?s=128&g=1", "display_name": "rgalbo", "link": "https://stackoverflow.com/users/3291077/rgalbo"}, "edited": false, "score": 0, "creation_date": 1435784287, "post_id": 31171382, "comment_id": 50350785, "body": "This is a point in time database, back filling would imply having knowledge of the future when that is a false assumption. I have tried this and understand the example given in the pandas docs. fillna() still leaves my data with holes in random places."}, {"owner": {"reputation": 6217, "user_id": 1257953, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/afb18b489df58f20beabaa5dc268a8cb?s=128&d=identicon&r=PG", "display_name": "nitin", "link": "https://stackoverflow.com/users/1257953/nitin"}, "reply_to_user": {"reputation": 2465, "user_id": 3291077, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/inXvn.jpg?s=128&g=1", "display_name": "rgalbo", "link": "https://stackoverflow.com/users/3291077/rgalbo"}, "edited": false, "score": 1, "creation_date": 1435784534, "post_id": 31171382, "comment_id": 50350924, "body": "hmmm,   have tried to do a fillna with &#39;inplace=True&#39;"}, {"owner": {"reputation": 2465, "user_id": 3291077, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/inXvn.jpg?s=128&g=1", "display_name": "rgalbo", "link": "https://stackoverflow.com/users/3291077/rgalbo"}, "edited": false, "score": 0, "creation_date": 1435785591, "post_id": 31171382, "comment_id": 50351519, "body": "What does in place do?"}, {"owner": {"reputation": 6217, "user_id": 1257953, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/afb18b489df58f20beabaa5dc268a8cb?s=128&d=identicon&r=PG", "display_name": "nitin", "link": "https://stackoverflow.com/users/1257953/nitin"}, "reply_to_user": {"reputation": 2465, "user_id": 3291077, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/inXvn.jpg?s=128&g=1", "display_name": "rgalbo", "link": "https://stackoverflow.com/users/3291077/rgalbo"}, "edited": false, "score": 2, "creation_date": 1435785971, "post_id": 31171382, "comment_id": 50351702, "body": "If, &#39;inplace =True&#39; then the results of the fillna will be stored in the same df. If  &#39;inplace=False&#39; then the results of the fillna will be returned and not changes will be make to the df"}], "tags": [], "owner": {"reputation": 6217, "user_id": 1257953, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/afb18b489df58f20beabaa5dc268a8cb?s=128&d=identicon&r=PG", "display_name": "nitin", "link": "https://stackoverflow.com/users/1257953/nitin"}, "is_accepted": true, "score": 1, "last_activity_date": 1435783682, "creation_date": 1435783682, "answer_id": 31171382, "question_id": 31170550, "link": "https://stackoverflow.com/questions/31170550/pandas-df-fillnamethod-pad-not-working-on-28000-row-df/31171382#31171382", "title": "Pandas df.fillna(method = &#39;pad&#39;) not working on 28000 row df", "body": "<p>You are using the 'pad' method. This is basically a forward fill. See examples at <a href=\"http://pandas.pydata.org/pandas-docs/stable/missing_data.html\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/missing_data.html</a></p>\n\n<p>I am reproducing the relevant example here,</p>\n\n<pre><code>In [33]: df\nOut[33]: \n        one       two     three\na       NaN -0.282863 -1.509059\nc       NaN  1.212112 -0.173215\ne  0.119209 -1.044236 -0.861849\nf -2.104569 -0.494929  1.071804\nh       NaN -0.706771 -1.039575\n\nIn [34]: df.fillna(method='pad')\nOut[34]: \n        one       two     three\na       NaN -0.282863 -1.509059\nc       NaN  1.212112 -0.173215\ne  0.119209 -1.044236 -0.861849\nf -2.104569 -0.494929  1.071804\nh -2.104569 -0.706771 -1.039575\n</code></pre>\n\n<p>This method will not do a backfill. You should also consider doing a backfill if you want all your NaNs to go away. Also, 'inplace= False' by default. So you probably want to assign results of the operation back to ABCW.. like so,</p>\n\n<pre><code>ABCW = ABCW.fillna(method = 'pad')\nABCW = ABCW.fillna(method = 'bfill')\n</code></pre>\n"}], "owner": {"reputation": 2465, "user_id": 3291077, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/inXvn.jpg?s=128&g=1", "display_name": "rgalbo", "link": "https://stackoverflow.com/users/3291077/rgalbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6431, "favorite_count": 0, "accepted_answer_id": 31171382, "answer_count": 1, "score": 0, "last_activity_date": 1435783682, "creation_date": 1435780739, "last_edit_date": 1435782544, "question_id": 31170550, "link": "https://stackoverflow.com/questions/31170550/pandas-df-fillnamethod-pad-not-working-on-28000-row-df", "title": "Pandas df.fillna(method = &#39;pad&#39;) not working on 28000 row df", "body": "<p>Have been trying to just replace the NaN values in my DataFrame with the last valued item however this does not seem to do the job. Just wondering if anyone else has this same issue or what could be causing this problem.</p>\n\n<pre><code>In [16]: ABCW.info()\nOut[16]:&lt;class 'pandas.core.frame.DataFrame'&gt;\n         DatetimeIndex: 692 entries, 2014-10-22 10:30:00 to 2015-05-21   16:00:00\n         Data columns (total 6 columns):\n         Price              692 non-null float64\n         Volume             692 non-null float64\n         Symbol_Num         692 non-null object\n         Actual Price       577 non-null float64\n         Market Cap Rank    577 non-null float64\n         Market Cap         577 non-null float64\n         dtypes: float64(5), object(1)\n         memory usage: 37.8+ KB\n\n\nIn [18]: ABCW.fillna(method = 'pad')\n\nIn [19]: ABCW.info()\nOut [19]: &lt;class 'pandas.core.frame.DataFrame'&gt;\n         DatetimeIndex: 692 entries, 2014-10-22 10:30:00 to 2015-05-21 16:00:00\n         Data columns (total 6 columns):\n         Price              692 non-null float64\n         Volume             692 non-null float64\n         Symbol_Num         692 non-null object\n         Actual Price       577 non-null float64\n         Market Cap Rank    577 non-null float64\n         Market Cap         577 non-null float64\n         dtypes: float64(5), object(1)\n         memory usage: 37.8+ KB\n</code></pre>\n\n<p>There is no change in the number of non-null values and there is still all the preexisting NaN values that were previously in the data frame</p>\n"}, {"tags": ["python", "postgresql", "orm", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 1927, "user_id": 364604, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c4439624ce2c84ca369841109de9004?s=128&d=identicon&r=PG", "display_name": "JayD3e", "link": "https://stackoverflow.com/users/364604/jayd3e"}, "edited": false, "score": 0, "creation_date": 1435786447, "post_id": 31171506, "comment_id": 50351911, "body": "kk cool, is there any way I can do this while still returning course_joins?  I have other areas of the code that rely on that attribute."}], "tags": [], "owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "is_accepted": false, "score": 1, "last_activity_date": 1435789301, "last_edit_date": 1435789301, "creation_date": 1435784125, "answer_id": 31171506, "question_id": 31170543, "link": "https://stackoverflow.com/questions/31170543/how-do-you-use-the-secondary-kwarg-to-fit-this-situation-in-sqlalchemy/31171506#31171506", "title": "How do you use the `secondary` kwarg to fit this situation in SqlAlchemy?", "body": "<p>If you really just have many-to-many relationship (plus <code>created</code>) column, I think the right way to define the relationship is:</p>\n\n<pre><code>courses = relationship(\n    'Course',\n    secondary='course_joins',\n    primaryjoin='users.c.id == course_joins.c.user_id',\n    secondaryjoin='and_(courses.c.id == course_joins.c.course_id, courses.c.archived == None)',\n    order_by='course_joins.c.created',\n    viewonly=True,\n)\n</code></pre>\n\n<p>and use it like:</p>\n\n<pre><code>u1 = User(courses=[Course()])\nsession.add(u1)\nu2 = User(courses=[Course(archived=datetime.date(2013, 1, 1))])\nsession.add(u2)\n</code></pre>\n\n<p>Otherwise, just drop the <code>secondary</code> completely and add your other condition to <code>primaryjoin</code>:</p>\n\n<pre><code>courses = relationship(\n    'CourseJoin',\n    primaryjoin=\\\n    'and_(users.c.id == course_joins.c.user_id, '\n    'courses.c.id == course_joins.c.course_id, '\n    'courses.c.archived == None)',\n    order_by='course_joins.c.created',\n)\n</code></pre>\n"}], "owner": {"reputation": 1927, "user_id": 364604, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c4439624ce2c84ca369841109de9004?s=128&d=identicon&r=PG", "display_name": "JayD3e", "link": "https://stackoverflow.com/users/364604/jayd3e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435789301, "creation_date": 1435780705, "question_id": 31170543, "link": "https://stackoverflow.com/questions/31170543/how-do-you-use-the-secondary-kwarg-to-fit-this-situation-in-sqlalchemy", "title": "How do you use the `secondary` kwarg to fit this situation in SqlAlchemy?", "body": "<p>I have a situation where a user can belong to many courses, and a course can contain many users.  I have it modeled in SqlAlchemy like so:</p>\n\n<pre><code>class User(Base):\n    __tablename__ = 'users'\n\n    id = Column(Integer, primary_key=True)\n\n\nclass Course(Base):\n    __tablename__ = 'courses'\n\n    id = Column(Integer, primary_key=True)\n    archived = Column(DateTime)\n\n\nclass CourseJoin(Base):\n    __tablename__ = 'course_joins'\n\n    id = Column(Integer, primary_key=True)\n\n    # Foreign keys\n    user_id = Column(Integer, ForeignKey('users.id'))\n    course_id = Column(Integer, ForeignKey('courses.id'))\n</code></pre>\n\n<p>In the system, we have the ability to \"archive\" a course.  This is marked by a datetime field on the course model.  I would like to give the <code>User</code> model a relationship called <code>course_joins</code> that only contains CourseJoins where the respective <code>Course</code> hasn't been archived.  I'm trying to use the <code>secondary</code> kwarg to accomplish this like so:</p>\n\n<pre><code>class User(Base):\n    __tablename__ = 'users'\n\n    id = Column(Integer, primary_key=True)\n\n    course_joins = relationship('CourseJoin',\n                                secondary='join(Course, CourseJoin.course_id == Course.id)',\n                                primaryjoin='and_(CourseJoin.user_id == User.id,'\n                                                 'Course.archived == None)',\n                                order_by='CourseJoin.created')\n</code></pre>\n\n<p>However I'm getting this error:</p>\n\n<pre><code>InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers.  Original exception was: FROM expression expected\n</code></pre>\n\n<p>I believe this is the exact usecase for the <code>secondary</code> kwarg of <code>relationship()</code>, but I'm not sure what's going on.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3591, "user_id": 4107956, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LjlBF.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/4107956/will"}, "edited": false, "score": 0, "creation_date": 1435780782, "post_id": 31170528, "comment_id": 50348867, "body": "Check into <code>subprocess.Popen()</code>.<a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.Popen\" rel=\"nofollow noreferrer\">docs.python.org/2/library/subprocess.html&zwnj;&#8203;#subprocess.Popen</a>  I&#39;ve had far more luck with this with it&#39;s <code>communicate()</code> method than anything else."}, {"owner": {"reputation": 4093, "user_id": 4582273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b94fcc64a380a38b013479fbbcfffa9b?s=128&d=identicon&r=PG", "display_name": "lemonhead", "link": "https://stackoverflow.com/users/4582273/lemonhead"}, "reply_to_user": {"reputation": 3591, "user_id": 4107956, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LjlBF.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/4107956/will"}, "edited": false, "score": 0, "creation_date": 1435781282, "post_id": 31170528, "comment_id": 50349169, "body": "@Will, yeah but <code>subprocess.check_output()</code> is a wrapper around <code>communicate()</code> under the hood..."}, {"owner": {"reputation": 4093, "user_id": 4582273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b94fcc64a380a38b013479fbbcfffa9b?s=128&d=identicon&r=PG", "display_name": "lemonhead", "link": "https://stackoverflow.com/users/4582273/lemonhead"}, "edited": false, "score": 0, "creation_date": 1435781355, "post_id": 31170528, "comment_id": 50349213, "body": "@Eroji, can you describe what output you are currently getting? Or post it? Or is there a relevant traceback we could take a look at? It might also be helpful to post what the expected output looks like, e.g. if you just run the command in a shell"}, {"owner": {"reputation": 179, "user_id": 4946417, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-d6MezTzMtKc/AAAAAAAAAAI/AAAAAAAAHJY/wrpsCGrqHwY/photo.jpg?sz=128", "display_name": "Eroji", "link": "https://stackoverflow.com/users/4946417/eroji"}, "edited": false, "score": 0, "creation_date": 1435783788, "post_id": 31170528, "comment_id": 50350500, "body": "Instead of giving a single line of the codec used, it&#39;s giving the full mediainfo output of the file."}, {"owner": {"reputation": 15037, "user_id": 1111371, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/85fbe34f335b26ff6f6c8ef921a682ae?s=128&d=identicon&r=PG", "display_name": "ugoren", "link": "https://stackoverflow.com/users/1111371/ugoren"}, "edited": false, "score": 0, "creation_date": 1435784754, "post_id": 31170528, "comment_id": 50351067, "body": "Perhaps you should remove the <code>&#39;</code> characters. A shell would remove them, but <code>check_output</code> doesn&#39;t open a shell - it passes the string as-is."}, {"owner": {"reputation": 179, "user_id": 4946417, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-d6MezTzMtKc/AAAAAAAAAAI/AAAAAAAAHJY/wrpsCGrqHwY/photo.jpg?sz=128", "display_name": "Eroji", "link": "https://stackoverflow.com/users/4946417/eroji"}, "edited": false, "score": 0, "creation_date": 1435785325, "post_id": 31170528, "comment_id": 50351383, "body": "I just did a test using same format but calling echo instead to output what it&#39;s formulating as the command for mediainfo. Everything looks right and pasting that into shell also gives the expected output. Must admit I&#39;m at a loss now..."}, {"owner": {"reputation": 179, "user_id": 4946417, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-d6MezTzMtKc/AAAAAAAAAAI/AAAAAAAAHJY/wrpsCGrqHwY/photo.jpg?sz=128", "display_name": "Eroji", "link": "https://stackoverflow.com/users/4946417/eroji"}, "edited": false, "score": 0, "creation_date": 1435785542, "post_id": 31170528, "comment_id": 50351491, "body": "I thought about that too, but the problem is, it needs the quote there to tell mediainfo I only want a specific value. Without them, the command does not work."}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 4946417, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-d6MezTzMtKc/AAAAAAAAAAI/AAAAAAAAHJY/wrpsCGrqHwY/photo.jpg?sz=128", "display_name": "Eroji", "link": "https://stackoverflow.com/users/4946417/eroji"}, "edited": false, "score": 0, "creation_date": 1435785466, "post_id": 31170684, "comment_id": 50351453, "body": "Thanks for the suggestion. It does not appear to be the % sign after some testing, but still not working... If possibly I want to stick with subprocess (it sucks :/) just for the sake of portability."}, {"owner": {"reputation": 3191, "user_id": 119215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hOpgo.jpg?s=128&g=1", "display_name": "Jay Atkinson", "link": "https://stackoverflow.com/users/119215/jay-atkinson"}, "reply_to_user": {"reputation": 179, "user_id": 4946417, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-d6MezTzMtKc/AAAAAAAAAAI/AAAAAAAAHJY/wrpsCGrqHwY/photo.jpg?sz=128", "display_name": "Eroji", "link": "https://stackoverflow.com/users/4946417/eroji"}, "edited": false, "score": 0, "creation_date": 1435853619, "post_id": 31170684, "comment_id": 50384381, "body": "I understand.  But having worked with subprocesses warts for so long, I&#39;ve found envoy worth the effort :)"}, {"owner": {"reputation": 179, "user_id": 4946417, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-d6MezTzMtKc/AAAAAAAAAAI/AAAAAAAAHJY/wrpsCGrqHwY/photo.jpg?sz=128", "display_name": "Eroji", "link": "https://stackoverflow.com/users/4946417/eroji"}, "edited": false, "score": 0, "creation_date": 1435856971, "post_id": 31170684, "comment_id": 50386304, "body": "I&#39;ll definitely try it out. I personally would not have any problems using it. Thanks!"}], "tags": [], "owner": {"reputation": 3191, "user_id": 119215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hOpgo.jpg?s=128&g=1", "display_name": "Jay Atkinson", "link": "https://stackoverflow.com/users/119215/jay-atkinson"}, "is_accepted": false, "score": 0, "last_activity_date": 1435781255, "creation_date": 1435781255, "answer_id": 31170684, "question_id": 31170528, "link": "https://stackoverflow.com/questions/31170528/python-subprocess-check-output/31170684#31170684", "title": "Python subprocess.check_output", "body": "<p>I highly recommend you use Kenneth Reitz's <a href=\"https://github.com/kennethreitz/envoy\" rel=\"nofollow\">envoy</a> python wrapper for subprocess.  It makes calls to command line far easier to use.</p>\n\n<pre><code>import envoy\nres = envoy.run(\"mediainfo --Inform='Video;%CodecID%' {0}\".format(source))\nif res.status_code != 0:\n   print(\"media info failure: {0}\".format(res.std_out + \" \" + res.std_err))\n else:\n   print(res.std_out)\n   current_vcodec = res.std_out\n</code></pre>\n\n<p>If you needed, you can \"escape\" the % with a backslash, but I'm not sure that's the problem. The ; shouldn't be a problem.</p>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 4946417, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-d6MezTzMtKc/AAAAAAAAAAI/AAAAAAAAHJY/wrpsCGrqHwY/photo.jpg?sz=128", "display_name": "Eroji", "link": "https://stackoverflow.com/users/4946417/eroji"}, "is_accepted": true, "score": 0, "last_activity_date": 1435788901, "creation_date": 1435788901, "answer_id": 31172602, "question_id": 31170528, "link": "https://stackoverflow.com/questions/31170528/python-subprocess-check-output/31172602#31172602", "title": "Python subprocess.check_output", "body": "<p>Ok, I got it working. This is the syntax that gave the correct output.</p>\n\n<pre><code>current_vcodec = subprocess.check_output(\"mediainfo --Inform='Video;%%CodecID%%' %s\" % source, shell=True)\ncurrent_acodec = subprocess.check_output(\"mediainfo --Inform='Audio;%%CodecID%%' %s\" % source, shell=True)\nduration = subprocess.check_output(\"mediainfo --Inform='Video;%%Duration%%' %s\" % source, shell=True)\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 4946417, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-d6MezTzMtKc/AAAAAAAAAAI/AAAAAAAAHJY/wrpsCGrqHwY/photo.jpg?sz=128", "display_name": "Eroji", "link": "https://stackoverflow.com/users/4946417/eroji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 0, "accepted_answer_id": 31172602, "answer_count": 2, "score": 2, "last_activity_date": 1435788901, "creation_date": 1435780630, "last_edit_date": 1435784405, "question_id": 31170528, "link": "https://stackoverflow.com/questions/31170528/python-subprocess-check-output", "title": "Python subprocess.check_output", "body": "<p>I am trying to use a couple shell level commands from Python to get and set variables for later use in my program but it does not appear to be calling the commands properly as the outputs should be simple 1-liners. Not quite sure if it's due to the % or ; signs.</p>\n\n<pre><code>current_vcodec = subprocess.check_output([\"mediainfo\", \"--Inform='Video;%CodecID%'\", \"%s\" % source])\ncurrent_acodec = subprocess.check_output([\"mediainfo\", \"--Inform='Audio;%CodecID%'\", \"%s\" % source])\nduration = subprocess.check_output([\"mediainfo\", \"--Inform='Video;%Duration%'\", \"%s\" % source])\n</code></pre>\n"}, {"tags": ["python", "facet", "seaborn"], "comments": [{"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 13, "creation_date": 1435781471, "post_id": 31170480, "comment_id": 50349270, "body": "You need to pass <code>False</code> to <code>sharey</code> and <code>sharex</code> if you want the axes to have different limits."}], "answers": [{"tags": [], "owner": {"reputation": 1836, "user_id": 1153897, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6121fb0ca0c4926ba78c444f9c8a6a14?s=128&d=identicon&r=PG", "display_name": "Constantino", "link": "https://stackoverflow.com/users/1153897/constantino"}, "is_accepted": true, "score": 21, "last_activity_date": 1435785439, "creation_date": 1435785439, "answer_id": 31171855, "question_id": 31170480, "link": "https://stackoverflow.com/questions/31170480/set-axis-limits-on-individual-facets-of-seaborn-facetgrid/31171855#31171855", "title": "set axis limits on individual facets of seaborn facetgrid", "body": "<p><strong>mwaskom</strong> had the solution; posting here for completeness - just had to change the following line to:</p>\n\n<pre><code>g = sns.FacetGrid(mapping, col=options.facetCol, row=options.facetRow, col_order=sorted(cols), hue=options.group, sharex=False)\n</code></pre>\n"}], "owner": {"reputation": 1836, "user_id": 1153897, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6121fb0ca0c4926ba78c444f9c8a6a14?s=128&d=identicon&r=PG", "display_name": "Constantino", "link": "https://stackoverflow.com/users/1153897/constantino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9421, "favorite_count": 1, "accepted_answer_id": 31171855, "answer_count": 1, "score": 18, "last_activity_date": 1435785439, "creation_date": 1435780481, "question_id": 31170480, "link": "https://stackoverflow.com/questions/31170480/set-axis-limits-on-individual-facets-of-seaborn-facetgrid", "title": "set axis limits on individual facets of seaborn facetgrid", "body": "<p>I'm trying to set the x-axis limits to different values for each facet a Seaborn facetgrid distplot.  I understand that I can get access to all the axes within the subplots through <em>g.axes</em>, so I've tried to iterate over them and set the xlim with:</p>\n\n<pre><code>g = sns.FacetGrid(mapping, col=options.facetCol, row=options.facetRow, col_order=sorted(cols), hue=options.group)\ng = g.map(sns.distplot, options.axis)   \n\nfor i, ax in enumerate(g.axes.flat): # set every-other axis for testing purposes\n        if i % 2 == 0[enter link description here][1]:\n            ax.set_xlim(-400,500)\n        else:\n            ax.set_xlim(-200,200)\n</code></pre>\n\n<p>However, when I do this, all axes get set to (-200, 200) not just every other facet.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "mysql", "django"], "comments": [{"owner": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "edited": false, "score": 3, "creation_date": 1435780348, "post_id": 31170418, "comment_id": 50348604, "body": "Copy and paste your error <b>text</b> into the question, not a screenshot. It&#39;s much easier to read and help that way."}, {"owner": {"reputation": 9758, "user_id": 3033586, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mSQgK.jpg?s=128&g=1", "display_name": "madzohan", "link": "https://stackoverflow.com/users/3033586/madzohan"}, "edited": false, "score": 0, "creation_date": 1435780394, "post_id": 31170418, "comment_id": 50348637, "body": "<a href=\"http://stackoverflow.com/questions/1972259/cannot-open-include-file-config-win-h-no-such-file-or-directory-while-inst\" title=\"cannot open include file config win h no such file or directory while inst\">stackoverflow.com/questions/1972259/&hellip;</a>"}, {"owner": {"reputation": 2509, "user_id": 1629278, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a759fb62eff73d12b00073f20148ccbc?s=128&d=identicon&r=PG", "display_name": "Rafael Reyes", "link": "https://stackoverflow.com/users/1629278/rafael-reyes"}, "reply_to_user": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "edited": false, "score": 0, "creation_date": 1435781100, "post_id": 31170418, "comment_id": 50349063, "body": "Please check my edit @Andy"}], "answers": [{"comments": [{"owner": {"reputation": 2035, "user_id": 4324871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c8debc6271934c521ec1262fa7d7277?s=128&d=identicon&r=PG", "display_name": "Lorenzo Pe&#241;a", "link": "https://stackoverflow.com/users/4324871/lorenzo-pe%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1435781264, "post_id": 31170646, "comment_id": 50349157, "body": "Or probably install the python-dev to your mingwin environment."}], "tags": [], "owner": {"reputation": 2035, "user_id": 4324871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c8debc6271934c521ec1262fa7d7277?s=128&d=identicon&r=PG", "display_name": "Lorenzo Pe&#241;a", "link": "https://stackoverflow.com/users/4324871/lorenzo-pe%c3%b1a"}, "is_accepted": true, "score": 4, "last_activity_date": 1435781107, "creation_date": 1435781107, "answer_id": 31170646, "question_id": 31170418, "link": "https://stackoverflow.com/questions/31170418/django-mysql-connection-issue/31170646#31170646", "title": "django mysql connection issue", "body": "<p>If you are on Windows I would recommend installing the Mysql-python binaries (.exe), instead using pip to compile the source files, or use a wheel that matches your platform and architecture.</p>\n\n<p>Check the link:\n<a href=\"https://pypi.python.org/pypi/MySQL-python/1.2.5\" rel=\"nofollow\">https://pypi.python.org/pypi/MySQL-python/1.2.5</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5809742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e16adb38f87c338401e4358c2862443?s=128&d=identicon&r=PG&f=1", "display_name": "celroy", "link": "https://stackoverflow.com/users/5809742/celroy"}, "is_accepted": false, "score": 0, "last_activity_date": 1453198888, "creation_date": 1453198888, "answer_id": 34874199, "question_id": 31170418, "link": "https://stackoverflow.com/questions/31170418/django-mysql-connection-issue/34874199#34874199", "title": "django mysql connection issue", "body": "<p><a href=\"https://pypi.python.org/pypi/MySQL-python/1.2.5\" rel=\"nofollow\">install from this link</a></p>\n\n<p>then type </p>\n\n<blockquote>\n  <blockquote>\n    <p>python manage.py sqlmigrate {application_name} 0001\n    python manage.py runserver</p>\n  </blockquote>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1904, "user_id": 4143613, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nRk19.png?s=128&g=1", "display_name": "erajuan", "link": "https://stackoverflow.com/users/4143613/erajuan"}, "is_accepted": false, "score": 0, "last_activity_date": 1455929256, "creation_date": 1455929256, "answer_id": 35517697, "question_id": 31170418, "link": "https://stackoverflow.com/questions/31170418/django-mysql-connection-issue/35517697#35517697", "title": "django mysql connection issue", "body": "<p>Root privileges</p>\n\n<pre><code>(env)&gt; sudo pip install mysql-python\n</code></pre>\n\n<p>as root</p>\n\n<pre><code>(env)&gt; pip install mysql-python\n</code></pre>\n"}], "owner": {"reputation": 2509, "user_id": 1629278, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a759fb62eff73d12b00073f20148ccbc?s=128&d=identicon&r=PG", "display_name": "Rafael Reyes", "link": "https://stackoverflow.com/users/1629278/rafael-reyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3254, "favorite_count": 0, "accepted_answer_id": 31170646, "answer_count": 3, "score": 0, "last_activity_date": 1455929256, "creation_date": 1435780227, "last_edit_date": 1495540099, "question_id": 31170418, "link": "https://stackoverflow.com/questions/31170418/django-mysql-connection-issue", "title": "django mysql connection issue", "body": "<p>I'm trying to connect Django with a Mysql db so I change my settings.py file as follows:</p>\n\n<pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': 'mysite',\n        'USER': 'root',\n        'PASSWORD': '1234',\n        'HOST': 'localhost',   \n        'PORT': '3306',\n    }\n}\n</code></pre>\n\n<p>and when I try to run the server I get this:</p>\n\n<p>![enter image description here][1]\nso I fllowed the post <a href=\"https://stackoverflow.com/questions/2952187/getting-error-loading-mysqldb-module-no-module-named-mysqldb-have-tried-pre\">getting-error-loading-mysqldb-module-no-module-named-mysqldb</a> and now when I do : pip install MySql=python I get this error:</p>\n\n<pre><code>$ pip install MySQL-python\nCollecting MySQL-python\n  Using cached MySQL-python-1.2.5.zip\nBuilding wheels for collected packages: MySQL-python\n  Running setup.py bdist_wheel for MySQL-python\n  Complete output from command c:\\Python27\\python.exe -c \"import setuptools;__file__='c:\\\\users\\\\rafa\\\\appdata\\\\local\\\\temp\\\\pip-build-sfr5rp\\\\MySQL-python\\\\setup.py';exec(compile(open(__file__).read(\n).replace('\\r\\n', '\\n'), __file__, 'exec'))\" bdist_wheel -d c:\\users\\rafa\\appdata\\local\\temp\\tmpxuok6wpip-wheel-:\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build\\lib.win32-2.7\n  copying _mysql_exceptions.py -&gt; build\\lib.win32-2.7\n  creating build\\lib.win32-2.7\\MySQLdb\n  copying MySQLdb\\__init__.py -&gt; build\\lib.win32-2.7\\MySQLdb\n  copying MySQLdb\\converters.py -&gt; build\\lib.win32-2.7\\MySQLdb\n  copying MySQLdb\\connections.py -&gt; build\\lib.win32-2.7\\MySQLdb\n  copying MySQLdb\\cursors.py -&gt; build\\lib.win32-2.7\\MySQLdb\n  copying MySQLdb\\release.py -&gt; build\\lib.win32-2.7\\MySQLdb\n  copying MySQLdb\\times.py -&gt; build\\lib.win32-2.7\\MySQLdb\n  creating build\\lib.win32-2.7\\MySQLdb\\constants\n  copying MySQLdb\\constants\\__init__.py -&gt; build\\lib.win32-2.7\\MySQLdb\\constants\n  copying MySQLdb\\constants\\CR.py -&gt; build\\lib.win32-2.7\\MySQLdb\\constants\n  copying MySQLdb\\constants\\FIELD_TYPE.py -&gt; build\\lib.win32-2.7\\MySQLdb\\constants\n  copying MySQLdb\\constants\\ER.py -&gt; build\\lib.win32-2.7\\MySQLdb\\constants\n  copying MySQLdb\\constants\\FLAG.py -&gt; build\\lib.win32-2.7\\MySQLdb\\constants\n  copying MySQLdb\\constants\\REFRESH.py -&gt; build\\lib.win32-2.7\\MySQLdb\\constants\n  copying MySQLdb\\constants\\CLIENT.py -&gt; build\\lib.win32-2.7\\MySQLdb\\constants\n  running build_ext\n  building '_mysql' extension\n  creating build\\temp.win32-2.7\n  creating build\\temp.win32-2.7\\Release\n  C:\\Users\\Rafa\\AppData\\Local\\Programs\\Common\\Microsoft\\Visual C++ for Python\\9.0\\VC\\Bin\\cl.exe /c /nologo /Ox /MD /W3 /GS- /DNDEBUG -Dversion_info=(1,2,5,'final',1) -D__version__=1.2.5 \"-IC:\\Program\nFiles (x86)\\MySQL\\MySQL Connector C 6.0.2\\include\" -Ic:\\Python27\\include -Ic:\\Python27\\PC /Tc_mysql.c /Fobuild\\temp.win32-2.7\\Release\\_mysql.obj /Zl\n  _mysql.c\n  _mysql.c(42) : fatal error C1083: Cannot open include file: 'config-win.h': No such file or directory\n  error: command 'C:\\\\Users\\\\Rafa\\\\AppData\\\\Local\\\\Programs\\\\Common\\\\Microsoft\\\\Visual C++ for Python\\\\9.0\\\\VC\\\\Bin\\\\cl.exe' failed with exit status 2\n\n  ----------------------------------------\n\u2190[31m  Failed building wheel for MySQL-python\u2190[0m\nFailed to build MySQL-python\nInstalling collected packages: MySQL-python\n  Running setup.py install for MySQL-python\n    Complete output from command c:\\Python27\\python.exe -c \"import setuptools, tokenize;__file__='c:\\\\users\\\\rafa\\\\appdata\\\\local\\\\temp\\\\pip-build-sfr5rp\\\\MySQL-python\\\\setup.py';exec(compile(getattr(\ntokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record c:\\users\\rafa\\appdata\\local\\temp\\pip-p1pfvy-record\\install-record.txt --single-version-externally-m\nanaged --compile:\n    running install\n    running build\n    running build_py\n    copying MySQLdb\\release.py -&gt; build\\lib.win32-2.7\\MySQLdb\n    running build_ext\n    building '_mysql' extension\n    C:\\Users\\Rafa\\AppData\\Local\\Programs\\Common\\Microsoft\\Visual C++ for Python\\9.0\\VC\\Bin\\cl.exe /c /nologo /Ox /MD /W3 /GS- /DNDEBUG -Dversion_info=(1,2,5,'final',1) -D__version__=1.2.5 \"-IC:\\Progra\nm Files (x86)\\MySQL\\MySQL Connector C 6.0.2\\include\" -Ic:\\Python27\\include -Ic:\\Python27\\PC /Tc_mysql.c /Fobuild\\temp.win32-2.7\\Release\\_mysql.obj /Zl\n    _mysql.c\n    _mysql.c(42) : fatal error C1083: Cannot open include file: 'config-win.h': No such file or directory\n    error: command 'C:\\\\Users\\\\Rafa\\\\AppData\\\\Local\\\\Programs\\\\Common\\\\Microsoft\\\\Visual C++ for Python\\\\9.0\\\\VC\\\\Bin\\\\cl.exe' failed with exit status 2\n\n    ----------------------------------------\n\u2190[31mCommand \"c:\\Python27\\python.exe -c \"import setuptools, tokenize;__file__='c:\\\\users\\\\rafa\\\\appdata\\\\local\\\\temp\\\\pip-build-sfr5rp\\\\MySQL-python\\\\setup.py';exec(compile(getattr(tokenize, 'open', o\npen)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record c:\\users\\rafa\\appdata\\local\\temp\\pip-p1pfvy-record\\install-record.txt --single-version-externally-managed --compile\" f\nailed with error code 1 in c:\\users\\rafa\\appdata\\local\\temp\\pip-build-sfr5rp\\MySQL-python\u2190[0m\n</code></pre>\n\n<p>I appreciatte if someone can help me.</p>\n"}, {"tags": ["python", "matplotlib", "plot", "multiple-axes"], "answers": [{"comments": [{"owner": {"reputation": 14954, "user_id": 230468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c41468488de903f8284d03d2980bc3bc?s=128&d=identicon&r=PG&f=1", "display_name": "DilithiumMatrix", "link": "https://stackoverflow.com/users/230468/dilithiummatrix"}, "edited": false, "score": 0, "creation_date": 1436028294, "post_id": 31217481, "comment_id": 50445732, "body": "Thanks, That&#39;s the same workaround I had in mind.  Maybe I&#39;ll put in a feature request to matplotlib"}], "tags": [], "owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "is_accepted": false, "score": 1, "last_activity_date": 1435989801, "creation_date": 1435989801, "answer_id": 31217481, "question_id": 31170369, "link": "https://stackoverflow.com/questions/31170369/interwoven-zorder-for-lines-on-two-twin-axes/31217481#31217481", "title": "interwoven zorder for lines on two (twin) axes", "body": "<p>Axes have their own zorder as artists. From the <code>axes</code> documentation:</p>\n\n<blockquote>\n  <p>set_zorder(level) Set the zorder for the artist. Artists with lower\n  zorder values are drawn first.</p>\n  \n  <p>ACCEPTS: any number</p>\n</blockquote>\n\n<p>It seems reasonable that zorder of children within an axes, e.g. lines, is subordinate to zorder between multiple axes. And I think your code is a demonstration that this is so. </p>\n\n<p>Given your goal, you might have to renorm the y-values for the second set of data (e.g., red, here), plot them interleaved, and then add a floating spine with tick <em>labels</em> that describe the un-renormed y-values for the red data. </p>\n"}], "owner": {"reputation": 14954, "user_id": 230468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c41468488de903f8284d03d2980bc3bc?s=128&d=identicon&r=PG&f=1", "display_name": "DilithiumMatrix", "link": "https://stackoverflow.com/users/230468/dilithiummatrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 848, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1435989801, "creation_date": 1435780040, "question_id": 31170369, "link": "https://stackoverflow.com/questions/31170369/interwoven-zorder-for-lines-on-two-twin-axes", "title": "interwoven zorder for lines on two (twin) axes", "body": "<p>I'm plotting a series of lines on a pair of twin (<code>twinx</code>) axes.  I can control which lines are 'on top' of each axis using the <code>zorder</code> parameter, and I can set which axis (as a whole) is on top using the <code>Axes.set_zorder()</code> function --- making all of the lines on one axis above/below all of the lines on the other axis.  <strong>Is there a way to interweave the lines between the two axes?</strong></p>\n\n<p>For example, I want the upper plot (which uses a twin axis) to have the lines stacked in the same was as in the lower plot (which doesn't use a twin axis):</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nNUM_PNTS = 100\nNUM_LINES = 10\nscale = np.linspace(1.0,100.0,num=NUM)[::-1]\n\nlines_left  = [ np.random.uniform(low=-scale, high=scale, size=NUM) \n                for ii in xrange(NUM_LINES) ]\nlines_right = [ 50.0 + np.random.uniform(low=-scale, high=scale, size=NUM) \n                for ii in xrange(NUM_LINES) ]\nfig,ax = plt.subplots(figsize=[12,12], nrows=2)\ntw = ax[0].twinx()\n\nfor ll,lr in zip(lines_left,lines_right):\n    ax[0].plot(ll, c='b', lw=2.0)\n    tw.plot(lr, c='r', lw=2.0)\n\n    ax[1].plot(ll, c='b', lw=2.0)\n    ax[1].plot(lr, c='r', lw=2.0)\n\ntw.set_ylim(-150,150)\nfor axis in ax: axis.set_ylim(-150,150)\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/DWNgh.png\" alt=\"enter image description here\"></p>\n\n<p>I've tried setting the zorder to be interspaced, but on different axes it doesn't work, i.e.</p>\n\n<pre><code>for ii,(ll,lr) in enumerate(lines_left, lines_right):\n    ax[0].plot(ll, c='b', lw=2.0, zorder=2*ii  )\n    tw.plot(lr,    c='b', lw=2.0, zorder=2*ii+1)\n</code></pre>\n"}, {"tags": ["python", "logging"], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 24, "last_activity_date": 1435781047, "last_edit_date": 1435781047, "creation_date": 1435780068, "answer_id": 31170378, "question_id": 31170317, "link": "https://stackoverflow.com/questions/31170317/what-is-the-difference-between-logging-fatal-and-logging-critical/31170378#31170378", "title": "What is the difference between logging.fatal and logging.critical?", "body": "<p><code>logging.FATAL</code> has been equal to <code>logging.CRITICAL</code> from the very first commit of the <code>logging</code> package to the Python repository. </p>\n\n<p>It is there for compatibility reasons; the Java <code>log4j</code> package (which was one of the key influencers for this module) uses <code>FATAL</code> as the highest level, but Python felt the name <code>CRITICAL</code> better reflected the situation.</p>\n\n<p>See <a href=\"https://www.python.org/dev/peps/pep-0282/\" rel=\"noreferrer\">PEP 282 <em>A Logging System</em></a>, the Python Enhancement Proposal that added the <code>logging</code> package to Python:</p>\n\n<blockquote>\n  <p>The term CRITICAL is used in preference to FATAL, which is used by\n      log4j.  The levels are conceptually the same - that of a serious,\n      or very serious, error.  However, FATAL implies death, which in\n      Python implies a raised and uncaught exception, traceback, and\n      exit.  Since the logging module does not enforce such an outcome\n      from a FATAL-level log entry, it makes sense to use CRITICAL in\n      preference to FATAL.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "is_accepted": false, "score": 8, "last_activity_date": 1435780197, "creation_date": 1435780197, "answer_id": 31170408, "question_id": 31170317, "link": "https://stackoverflow.com/questions/31170317/what-is-the-difference-between-logging-fatal-and-logging-critical/31170408#31170408", "title": "What is the difference between logging.fatal and logging.critical?", "body": "<p>There is not a different between <code>FATAL</code> and <code>CRITICAL</code>. They have the same value:</p>\n\n<pre><code>import logging\n\nprint logging.FATAL\nprint logging.CRITICAL\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>50\n50\n</code></pre>\n\n<p><a href=\"https://www.python.org/dev/peps/pep-0282/\" rel=\"noreferrer\">PEP-282</a> explains the terminology:</p>\n\n<blockquote>\n  <p>The term CRITICAL is used in preference to FATAL, which is used by\n      log4j.  The levels are conceptually the same - that of a serious,\n      or very serious, error.  However, FATAL implies death, which in\n      Python implies a raised and uncaught exception, traceback, and\n      exit.  Since the logging module does not enforce such an outcome\n      from a FATAL-level log entry, it makes sense to use CRITICAL in\n      preference to FATAL.</p>\n</blockquote>\n"}], "owner": {"reputation": 2083, "user_id": 4168206, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6d786a53dba98b541f434043586b395f?s=128&d=identicon&r=PG&f=1", "display_name": "AlexC", "link": "https://stackoverflow.com/users/4168206/alexc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7579, "favorite_count": 1, "accepted_answer_id": 31170378, "answer_count": 2, "score": 17, "last_activity_date": 1435781047, "creation_date": 1435779861, "last_edit_date": 1435780079, "question_id": 31170317, "link": "https://stackoverflow.com/questions/31170317/what-is-the-difference-between-logging-fatal-and-logging-critical", "title": "What is the difference between logging.fatal and logging.critical?", "body": "<p>What is the difference between logging.fatal and logging.critical? Both seem to behave in exactly the same way in Python 3.4. Are both kept because of some kind of backwards compatibility?</p>\n"}, {"tags": ["python", "regex", "urlparse"], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 3694245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c898d4ba3219c5ca776eb207096615bf?s=128&d=identicon&r=PG&f=1", "display_name": "pythondetective", "link": "https://stackoverflow.com/users/3694245/pythondetective"}, "edited": false, "score": 2, "creation_date": 1435781646, "post_id": 31170256, "comment_id": 50349359, "body": "rsplit is more efficient than split because it saves splits using maxsplit argument."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 17, "last_activity_date": 1435779652, "creation_date": 1435779652, "answer_id": 31170256, "question_id": 31170220, "link": "https://stackoverflow.com/questions/31170220/python-split-url-into-its-components/31170256#31170256", "title": "Python - Split url into its components", "body": "<p>Alternatively, you can apply the <code>split()</code> method:</p>\n\n<pre><code>&gt;&gt;&gt; url = \"http://www.example.com/site/section1/VAR1/VAR2\"\n&gt;&gt;&gt; url.split(\"/\")[-2:]\n['VAR1', 'VAR2']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2330, "user_id": 1014508, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e12d101bc96cf4f266bc5f1247d8c972?s=128&d=identicon&r=PG", "display_name": "mislavcimpersak", "link": "https://stackoverflow.com/users/1014508/mislavcimpersak"}, "edited": false, "score": 3, "creation_date": 1563796165, "post_id": 31170267, "comment_id": 100805850, "body": "for python 3 it&#39;s <code>from urllib.parse import urlparse</code>"}], "tags": [], "owner": {"reputation": 865, "user_id": 4779492, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh3.googleusercontent.com/-bJAuXacuKIQ/AAAAAAAAAAI/AAAAAAAAAIg/-4kQQ_gAteA/photo.jpg?sz=128", "display_name": "Naman Sogani", "link": "https://stackoverflow.com/users/4779492/naman-sogani"}, "is_accepted": false, "score": 11, "last_activity_date": 1514112685, "last_edit_date": 1514112685, "creation_date": 1435779692, "answer_id": 31170267, "question_id": 31170220, "link": "https://stackoverflow.com/questions/31170220/python-split-url-into-its-components/31170267#31170267", "title": "Python - Split url into its components", "body": "<p>You can remember this in general. Different sections of the url can be obtained using <code>urlparse</code>. Here you can obtain the <code>path</code> by <code>urlparse(url).path</code> and then obtain the desired variable by <code>split()</code> function</p>\n\n<pre><code>&gt;&gt;&gt; from urlparse import urlparse\n&gt;&gt;&gt; url = 'http://www.example.com/site/section1/VAR1/VAR2' \n&gt;&gt;&gt; urlparse(url)\nParseResult(scheme='http', netloc='www.example.com', path='/site/section1/VAR1/VAR2', params='', query='', fragment='')\n&gt;&gt;&gt; urlparse(url).path\n'/site/section1/VAR1/VAR2'\n&gt;&gt;&gt; urlparse(url).path.split('/')[-2]\n'VAR1'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4142, "user_id": 2671338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7344e024ea8a040478ddc039f35955?s=128&d=identicon&r=PG", "display_name": "qmorgan", "link": "https://stackoverflow.com/users/2671338/qmorgan"}, "is_accepted": false, "score": 0, "last_activity_date": 1435779749, "creation_date": 1435779749, "answer_id": 31170282, "question_id": 31170220, "link": "https://stackoverflow.com/questions/31170220/python-split-url-into-its-components/31170282#31170282", "title": "Python - Split url into its components", "body": "<p>I would simply try </p>\n\n<pre><code>url = 'http://www.example.com/site/section1/VAR1/VAR2'\nvar1 = url.split('/')[-2]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 308, "user_id": 3694245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c898d4ba3219c5ca776eb207096615bf?s=128&d=identicon&r=PG&f=1", "display_name": "pythondetective", "link": "https://stackoverflow.com/users/3694245/pythondetective"}, "is_accepted": false, "score": 3, "last_activity_date": 1435780871, "creation_date": 1435780871, "answer_id": 31170589, "question_id": 31170220, "link": "https://stackoverflow.com/questions/31170220/python-split-url-into-its-components/31170589#31170589", "title": "Python - Split url into its components", "body": "<p>Check this one, It is quite efficient because it starts from end of the string with maxsplit option we can stop number of splits.</p>\n\n<p>Finally you can use indexing to get the last two part of the url</p>\n\n<pre><code>&gt;&gt;&gt; url.rsplit('/',2)[1:]\n['VAR1', 'VAR2']\n</code></pre>\n"}], "owner": {"reputation": 2145, "user_id": 4866484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2eeed273cdbbb92e20ab7fdca5110285?s=128&d=identicon&r=PG&f=1", "display_name": "Hyperion", "link": "https://stackoverflow.com/users/4866484/hyperion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14787, "favorite_count": 1, "accepted_answer_id": 31170256, "answer_count": 4, "score": 12, "last_activity_date": 1514112685, "creation_date": 1435779571, "question_id": 31170220, "link": "https://stackoverflow.com/questions/31170220/python-split-url-into-its-components", "title": "Python - Split url into its components", "body": "<p>I have a huge list of urls that are all like this:</p>\n\n<pre><code>http://www.example.com/site/section1/VAR1/VAR2\n</code></pre>\n\n<p>Where VAR1 and VAR2 are the dynamic elements of the url. What I want to do is to extract from this url string only the VAR1. I've tried to use <a href=\"https://docs.python.org/2/library/urlparse.html\" rel=\"noreferrer\">urlparse</a> but the output look like this:</p>\n\n<pre><code>ParseResult(scheme='http', netloc='www.example.com', path='/site/section1/VAR1/VAR2', params='', query='', fragment='')\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "plot", "seaborn"], "comments": [{"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1435781552, "post_id": 31170212, "comment_id": 50349311, "body": "I don&#39;t think I understand...Isn&#39;t the second code sample the answer to your question?"}, {"owner": {"reputation": 41, "user_id": 5071075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f937c01d579a250264094ab5295319e0?s=128&d=identicon&r=PG&f=1", "display_name": "tim__25", "link": "https://stackoverflow.com/users/5071075/tim-25"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1435821763, "post_id": 31170212, "comment_id": 50362451, "body": "Thx, mwaskom, for your response. Yes that would be the answer, but unfortunately, these methods don&#39;t exist or don&#39;t work that way..."}, {"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1435848556, "post_id": 31170212, "comment_id": 50380848, "body": "<code>ax_marg_x</code> and <code>ax_marg_y</code> are just the actual matplotlib Axes objects, so you could call any method on them (e.g. <code>ax.hist()</code>) or pass them to the <code>ax=</code> parameter of a seaborn function like <code>distplot</code>."}, {"owner": {"reputation": 41, "user_id": 5071075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f937c01d579a250264094ab5295319e0?s=128&d=identicon&r=PG&f=1", "display_name": "tim__25", "link": "https://stackoverflow.com/users/5071075/tim-25"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1435867339, "post_id": 31170212, "comment_id": 50392018, "body": "Thanks again for your reply. But unfortunately either it doesn&#39;t work or i didn&#39;t get what u tried me to do."}, {"owner": {"reputation": 41, "user_id": 5071075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f937c01d579a250264094ab5295319e0?s=128&d=identicon&r=PG&f=1", "display_name": "tim__25", "link": "https://stackoverflow.com/users/5071075/tim-25"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1435867697, "post_id": 31170212, "comment_id": 50392232, "body": "Thanks again for your reply. But unfortunately either it doesn&#39;t work or i didn&#39;t get what u tried me to do. <code>myPlot = sns.JointGrid(x=&quot;volume_x&quot;, y=&quot;volume_y&quot;, data=c); myPlot.plot_joint(plt.scatter); myPlot.ax_marg_x = plt.hist(c[&quot;volume_x&quot;]); myPlot.ax_marg_y = plt.hist(c[&quot;volume_y&quot;], orientation=&quot;horizontal&quot;)</code> all the single plots work fine if I just print them for themself, but if I add the histograms directly to the marginal axes using <code>=</code> nothing is shown on the grid. Can you perhaps write out the lines you wanted me to test? Thanks again for your great help!"}], "answers": [{"tags": [], "owner": {"reputation": 3333, "user_id": 1948982, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/289f9cfd5d29538b0dbab544c63805e6?s=128&d=identicon&r=PG", "display_name": "michael_j_ward", "link": "https://stackoverflow.com/users/1948982/michael-j-ward"}, "is_accepted": false, "score": 1, "last_activity_date": 1465667614, "creation_date": 1465667614, "answer_id": 37766868, "question_id": 31170212, "link": "https://stackoverflow.com/questions/31170212/how-to-add-manually-customised-seaborn-plots-to-jointgrid-jointplot/37766868#37766868", "title": "How to add manually customised seaborn plots to JointGrid/jointplot", "body": "<p>Well, the <a href=\"https://stanford.edu/~mwaskom/software/seaborn/generated/seaborn.JointGrid.html#seaborn.JointGrid\" rel=\"nofollow\">documentation has a few examples</a>. If you want the same <code>distPlot</code> on both marginals:</p>\n\n<pre><code>g = sns.JointGrid(x=\"total_bill\", y=\"tip\", data=tips)\ng = g.plot_joint(plt.scatter, color=\".5\", edgecolor=\"white\")\ng = g.plot_marginals(sns.distplot, kde=True, color=\".5\")\n</code></pre>\n\n<p>Or if you want a different plot on each marginal</p>\n\n<pre><code>g = sns.JointGrid(x=\"total_bill\", y=\"tip\", data=tips)\ng = g.plot_joint(sns.regplot, color=\"m\")\n_ = g.ax_marg_x.hist(tips[\"total_bill\"], color=\"b\", alpha=.6,\n                     bins=np.arange(0, 60, 5))\n_ = g.ax_marg_y.hist(tips[\"tip\"], color=\"r\", alpha=.6,\n                     orientation=\"horizontal\",\n                     bins=np.arange(0, 12, 1))\n</code></pre>\n\n<p>And then it took 2 seconds of experimenting to make sure you could pass your own custom plot functions to both the marginals and jointPlot, and had to set a breakpoint to figure out what parameter determined the orientation of the marginal plot</p>\n\n<pre><code>def customJoint(x,y,*args,**kwargs):\n    plt.scatter(x,y,color='red')\ndef customMarginal(x,*args,**kwargs):\n    sns.distplot(x,color='green', vertical=kwargs['vertical'])\n\ng = sns.JointGrid(x=\"total_bill\", y=\"tip\", data=tips)\ng = g.plot(customJoint, customMarginal)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5071075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f937c01d579a250264094ab5295319e0?s=128&d=identicon&r=PG&f=1", "display_name": "tim__25", "link": "https://stackoverflow.com/users/5071075/tim-25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2247, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1465667614, "creation_date": 1435779523, "last_edit_date": 1435821913, "question_id": 31170212, "link": "https://stackoverflow.com/questions/31170212/how-to-add-manually-customised-seaborn-plots-to-jointgrid-jointplot", "title": "How to add manually customised seaborn plots to JointGrid/jointplot", "body": "<p>I want to use the seaborn JointGrid/jointplot.</p>\n\n<p>In the middle I would like to add a sns.regplot. On the Margins two sns.distplots or histograms.</p>\n\n<p>Thats not a problem, but I would like to custmize all three pplots differently and add different fiiting functions and labels to all three of them.</p>\n\n<p>But I cant solve the problem, how to get the instances of the plots if i just use the predifined method:</p>\n\n<pre><code>g = sns.JointGrid(x=\"total_bill\", y=\"tip\", data=tips)\ng = g.plot(sns.regplot, sns.distplot)\n</code></pre>\n\n<p>to manually manipulated those.\nOr the other way around to create one regplot and two distplot instances, which I define the way I wnat and then add them to the JointGrid, something in the meaning of, but unfortinaltely, these below methods don't exist or don't work that way:</p>\n\n<pre><code>g = sns.JointGrid(x=\"total_bill\", y=\"tip\", data=tips)\ng.add_joint(myreg)           # That would be great but doesn't work\ng.ax_marg_x.add(mydist1)     # Just invented code\ng.ax_marg_y.add(mydist2)     # Just to show you, the way I'd like to solve the issue\n</code></pre>\n\n<p>Can you give me an advice, how to get around this issue?</p>\n"}, {"tags": ["python", "sockets", "csv"], "comments": [{"owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "edited": false, "score": 0, "creation_date": 1435779776, "post_id": 31170191, "comment_id": 50348297, "body": "<a href=\"http://stackoverflow.com/questions/7334199/getaddrinfo-failed-what-does-that-mean\" title=\"getaddrinfo failed what does that mean\">stackoverflow.com/questions/7334199/&hellip;</a>"}, {"owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "edited": false, "score": 0, "creation_date": 1435781095, "post_id": 31170191, "comment_id": 50349059, "body": "How does your csv look like?"}, {"owner": {"reputation": 1, "user_id": 5030008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9D8Rc.jpg?s=128&g=1", "display_name": "brievolz84", "link": "https://stackoverflow.com/users/5030008/brievolz84"}, "reply_to_user": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "edited": false, "score": 0, "creation_date": 1435870116, "post_id": 31170191, "comment_id": 50393400, "body": "@AnandSKumar stuff,stuff,stuff,stuff,stuff. The way that an excel spread sheet typically saves as a csv."}], "owner": {"reputation": 1, "user_id": 5030008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9D8Rc.jpg?s=128&g=1", "display_name": "brievolz84", "link": "https://stackoverflow.com/users/5030008/brievolz84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435779475, "creation_date": 1435779475, "question_id": 31170191, "link": "https://stackoverflow.com/questions/31170191/python-script-fails-to-get-ip-from-a-list-of-hostnames", "title": "Python Script Fails to Get IP from a List of Hostnames", "body": "<p>Here is my code:</p>\n\n<pre><code>    import socket\nimport csv\n\nwith open('afile.csv','r') as csv:\n    a_csv = csv.reader(csv)\n    next(a_csv)\n    csvList = list(a_csv)\ncount = 0\nfor row in csvList:\n    if count == len(csvList):\n        count = len(csvList)-1\n    hostname = socket.gethostbyname(csvList[count][0])\n    count += 1\n</code></pre>\n\n<p>The error I'm getting through the interpreter:\nsocket.gaierror: [Errno 11001] getaddrinfo failed</p>\n\n<p>The purpose of this little python script is to loop through a list that was generated form a csv file, extract the hostname and lookup the IP address.  Once it's done with that it should add it back into the list right after the original hostname (I have an open \"space\" within the csv for this).  So my question is what maybe causing this error to occur?</p>\n"}, {"tags": ["python", "django", "python-2.7", "django-forms", "django-1.5"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1435779508, "post_id": 31170141, "comment_id": 50348134, "body": "Why don&#39;t you make it a mix-in, instead?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1435779518, "post_id": 31170141, "comment_id": 50348139, "body": "Can you tell us how the <code>super()</code> call didn&#39;t work for you? That specific call should just work, actually, unless you subclassed <code>MyForm</code> further."}, {"owner": {"reputation": 240, "user_id": 1560330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9178a41376edb80227e115bb0e7d45bf?s=128&d=identicon&r=PG", "display_name": "gos1", "link": "https://stackoverflow.com/users/1560330/gos1"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1435780681, "post_id": 31170141, "comment_id": 50348802, "body": "@MartijnPieters see my comment in your answer below."}, {"owner": {"reputation": 240, "user_id": 1560330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9178a41376edb80227e115bb0e7d45bf?s=128&d=identicon&r=PG", "display_name": "gos1", "link": "https://stackoverflow.com/users/1560330/gos1"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1435780733, "post_id": 31170141, "comment_id": 50348831, "body": "@jonrsharpe Are mixins the preferred way of going about these kinds of thing?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1435780792, "post_id": 31170141, "comment_id": 50348870, "body": "If you want to add behaviour to multiple classes that shouldn&#39;t inherit each other, they&#39;re generally the best way to do so! Django comes with some of its own, too."}], "answers": [{"comments": [{"owner": {"reputation": 240, "user_id": 1560330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9178a41376edb80227e115bb0e7d45bf?s=128&d=identicon&r=PG", "display_name": "gos1", "link": "https://stackoverflow.com/users/1560330/gos1"}, "edited": false, "score": 0, "creation_date": 1435780588, "post_id": 31170188, "comment_id": 50348746, "body": "Thank you so much! I ended up going with the first alternative, I can&#39;t believe it didn&#39;t occur to me. Upon further inspection of the code, I think there was a further level of subclassing that I missed - very large codebase with no comments in it! - so maybe that&#39;s what was breaking my direct call to super. Thanks again!"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 4, "last_activity_date": 1435779462, "creation_date": 1435779462, "answer_id": 31170188, "question_id": 31170141, "link": "https://stackoverflow.com/questions/31170141/using-super-from-outside-a-class-in-django-or-alternative-to-it-if-any/31170188#31170188", "title": "Using super() from outside a class in Django (or alternative to it, if any)", "body": "<p>Your <code>super(type(instance), instance).clean()</code> <em>works too</em>; unless you are subclassing your forms further, at which point <code>type(instance)</code> would be the wrong object to pass in.</p>\n\n<p>Alternatively use <code>super()</code> <em>in the method</em> and pass that result in:</p>\n\n<pre><code>class MyForm(forms.ModelForm):\n    # ...\n\n    def clean(self):\n        return my_custom_clean_function(super(MyForm, form_instance).clean())\n\ndef my_custom_clean_function(cleaned_data):    \n    # other validation routines\n    return cleaned_data\n</code></pre>\n\n<p>Or you could just make it a mixin:</p>\n\n<pre><code>class SharedCleanupMixin:\n    def clean(self):\n        cleaned_data = super(SharedCleanupMixin, self).clean()\n        # other validation routines\n        return cleaned_data\n</code></pre>\n\n<p>and use that in your forms:</p>\n\n<pre><code>class MyForm(forms.ModelForm, SharedCleanupMixin):\n    # ...\n</code></pre>\n"}], "owner": {"reputation": 240, "user_id": 1560330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9178a41376edb80227e115bb0e7d45bf?s=128&d=identicon&r=PG", "display_name": "gos1", "link": "https://stackoverflow.com/users/1560330/gos1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1798, "favorite_count": 0, "accepted_answer_id": 31170188, "answer_count": 1, "score": 1, "last_activity_date": 1435779462, "creation_date": 1435779319, "question_id": 31170141, "link": "https://stackoverflow.com/questions/31170141/using-super-from-outside-a-class-in-django-or-alternative-to-it-if-any", "title": "Using super() from outside a class in Django (or alternative to it, if any)", "body": "<p>For the following I am using Python 2.7 / Django 1.5.</p>\n\n<p>I am trying to refactor some production code which overrides Django form's clean() method with a custom validation procedure. It is repeated in several of the forms so we want to abstract it to an external function that we can just call within the forms.</p>\n\n<p>Say I have the following,</p>\n\n<pre><code># ... imports ...\n\nclass MyProperties(models.Model):\n    label = models.CharField(max_length=100, blank=True, null=True, verbose_name=u'label'\n\n    def __unicode__(self):\n        return self.label\n\nclass MyForm(forms.ModelForm):\n    choices = forms.ModelChoiceField(required=False, ...)\n\n    class Meta:\n        model = MyProperties\n\n    def __init__(self, *args, **kwargs):\n        super(MyForm, self).__init__(*args, **kwargs)\n\n    def clean(self):\n        return my_custom_clean_function(self)\n\ndef my_custom_clean_function(form_instance):\n    cleaned_data = super(type(form_instance), form_instance).clean() ## DOES NOT WORK\n\n    # other validation routines\n    return cleaned_data\n</code></pre>\n\n<p>Calling super from the my_custom_clean_function from outside the class leads to exceeding the maximum recursive depth (is just calls the clean() method in the form_instance class, which calls the custom function, etc...</p>\n\n<p>Creating a temp instance of ModelForm and calling it's clean method does not seem to work, since it would have none of the fields.</p>\n\n<p>Is there any way to do this idiomatically, or would I be better off calling the parent clean method() from inside the form class, and then passing that data to my custom method for further validation?</p>\n"}, {"tags": ["python", "sql", "pandas"], "comments": [{"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1435780829, "post_id": 31170012, "comment_id": 50348897, "body": "To be specific, what you see is not an &#39;error&#39;, it says the the <code>df</code> object is a generator object."}], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 4844566, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5a6a546a194ba288d6abd7b5781b3336?s=128&d=identicon&r=PG&f=1", "display_name": "DavidH", "link": "https://stackoverflow.com/users/4844566/davidh"}, "edited": false, "score": 0, "creation_date": 1435780346, "post_id": 31170178, "comment_id": 50348601, "body": "Thanks. Do you mean that the error is uninformative?"}, {"owner": {"reputation": 1241, "user_id": 2594119, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EqzK5.png?s=128&g=1", "display_name": "gffbss", "link": "https://stackoverflow.com/users/2594119/gffbss"}, "reply_to_user": {"reputation": 519, "user_id": 4844566, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5a6a546a194ba288d6abd7b5781b3336?s=128&d=identicon&r=PG&f=1", "display_name": "DavidH", "link": "https://stackoverflow.com/users/4844566/davidh"}, "edited": false, "score": 0, "creation_date": 1435781467, "post_id": 31170178, "comment_id": 50349268, "body": "As the other answers indicate you can loop over the generator object to get specific data points."}], "tags": [], "owner": {"reputation": 1241, "user_id": 2594119, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EqzK5.png?s=128&g=1", "display_name": "gffbss", "link": "https://stackoverflow.com/users/2594119/gffbss"}, "is_accepted": false, "score": 0, "last_activity_date": 1435779431, "creation_date": 1435779431, "answer_id": 31170178, "question_id": 31170012, "link": "https://stackoverflow.com/questions/31170012/python-pandas-read-sql-returns-generator-object/31170178#31170178", "title": "Python pandas read_sql returns generator object", "body": "<p>I would prefer to comment but cannot yet. Regardless, that is not an error that is telling you that <code>df</code> is a generator object.</p>\n"}, {"comments": [{"owner": {"reputation": 664, "user_id": 7515189, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5KfF.jpg?s=128&g=1", "display_name": "Murtaza Haji", "link": "https://stackoverflow.com/users/7515189/murtaza-haji"}, "edited": false, "score": 0, "creation_date": 1591673192, "post_id": 31170524, "comment_id": 110137460, "body": "How to add all of them together in one dataframe?"}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "reply_to_user": {"reputation": 664, "user_id": 7515189, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5KfF.jpg?s=128&g=1", "display_name": "Murtaza Haji", "link": "https://stackoverflow.com/users/7515189/murtaza-haji"}, "edited": false, "score": 1, "creation_date": 1591710886, "post_id": 31170524, "comment_id": 110154987, "body": "You can use <code>pd.concat(list(chunks))</code> for that."}], "tags": [], "owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "is_accepted": true, "score": 8, "last_activity_date": 1435780977, "last_edit_date": 1435780977, "creation_date": 1435780617, "answer_id": 31170524, "question_id": 31170012, "link": "https://stackoverflow.com/questions/31170012/python-pandas-read-sql-returns-generator-object/31170524#31170524", "title": "Python pandas read_sql returns generator object", "body": "<p>As the explanation of <code>chunksize</code> says, when specified, it <em>returns an iterator where chunksize is the number of rows to include in each chunk</em>.<br>\nSo you can iterate through the result and do something with each chunk:</p>\n\n<pre><code>for chunk in pd.read_sql_query(sql_str, engine, chunksize=10):\n    do_something_with(chunk)\n</code></pre>\n\n<p>Typically you can process the chunk and add it to a list, and then after this for loop concat all processed chunks in this list together.</p>\n\n<p>Also see the docs on sql querying: <a href=\"http://pandas.pydata.org/pandas-docs/stable/io.html#querying\" rel=\"noreferrer\">http://pandas.pydata.org/pandas-docs/stable/io.html#querying</a> for an example.</p>\n"}], "owner": {"reputation": 519, "user_id": 4844566, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5a6a546a194ba288d6abd7b5781b3336?s=128&d=identicon&r=PG&f=1", "display_name": "DavidH", "link": "https://stackoverflow.com/users/4844566/davidh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8842, "favorite_count": 0, "accepted_answer_id": 31170524, "answer_count": 2, "score": 3, "last_activity_date": 1435828382, "creation_date": 1435778860, "last_edit_date": 1495541298, "question_id": 31170012, "link": "https://stackoverflow.com/questions/31170012/python-pandas-read-sql-returns-generator-object", "title": "Python pandas read_sql returns generator object", "body": "<p>I am pulling data from Oracle db using pyodbc and pandas read_sql.</p>\n\n<p>I see no errors when I enter this line</p>\n\n<pre><code>df = pd.read_sql(sql_str,cnxn,chunksize=10)\n</code></pre>\n\n<p>But when I try to see </p>\n\n<pre><code>df\n</code></pre>\n\n<p>I get this error</p>\n\n<pre><code>&lt;generator object _query_iterator at 0x092D40F8&gt;\n</code></pre>\n\n<p>My search as to what this error means or what could be causing it yielded no satisfactory answers. </p>\n\n<p>The reason for using chunksize is that I have a Oracle db table with 60 million rows, and plan to download in bits and then put them together, just like here: \n<a href=\"https://stackoverflow.com/questions/18107953/how-to-create-a-large-pandas-dataframe-from-an-sql-query-without-running-out-of\">How to create a large pandas dataframe from an sql query without running out of memory?</a></p>\n"}, {"tags": ["python", "linux", "datetime"], "comments": [{"owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "edited": false, "score": 0, "creation_date": 1435778944, "post_id": 31169999, "comment_id": 50347836, "body": "have a look at this: <a href=\"http://stackoverflow.com/questions/18722196/how-to-set-utc-offset-for-datetime\" title=\"how to set utc offset for datetime\">stackoverflow.com/questions/18722196/&hellip;</a>"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1435785354, "post_id": 31169999, "comment_id": 50351396, "body": "I doubt that <code>.now()</code> returns utc time unless your local timezone has zero utc offset. What is <code>datetime.utcnow()</code> in your case? Does <code>date</code> command show the expected local time?"}, {"owner": {"reputation": 19, "user_id": 5070883, "user_type": "registered", "profile_image": "https://graph.facebook.com/451722125002386/picture?type=large", "display_name": "Chets Goms", "link": "https://stackoverflow.com/users/5070883/chets-goms"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1435866564, "post_id": 31169999, "comment_id": 50391575, "body": "@J.F.Sebastian The date command at startup wont show expected local time. But when machine boots up completely, date command will show expected time."}, {"owner": {"reputation": 19, "user_id": 5070883, "user_type": "registered", "profile_image": "https://graph.facebook.com/451722125002386/picture?type=large", "display_name": "Chets Goms", "link": "https://stackoverflow.com/users/5070883/chets-goms"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1435870096, "post_id": 31169999, "comment_id": 50393388, "body": "@J.F.Sebastian The datetime.utcnow() is same as datetime.now()"}], "owner": {"reputation": 19, "user_id": 5070883, "user_type": "registered", "profile_image": "https://graph.facebook.com/451722125002386/picture?type=large", "display_name": "Chets Goms", "link": "https://stackoverflow.com/users/5070883/chets-goms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435866464, "creation_date": 1435778813, "last_edit_date": 1435866464, "question_id": 31169999, "link": "https://stackoverflow.com/questions/31169999/python-is-not-able-update-the-time-according-to-selected-timezone-in-inux", "title": "Python is not able update the time according to selected timezone in inux", "body": "<p>Python is not able update the time according to selected timezone in inux.</p>\n\n<p>I have python code which just trying to print time in ISO format using python date time module as in below code.</p>\n\n<pre><code>{\n\nimport datetime\n\ncurrent_time = datetime.datetime.now().isoformat()\n\nprint current_time\n\n}\n</code></pre>\n\n<p>I am trying to run this code in the startup script of linux. \nI have set the time zone in the linux as <code>UTC-05:30</code>. But still I am getting \"current_time\" as in UTC and not in <code>UTC-05:30</code>. The \"current_time\" is lags behind the system time by <code>05:30</code> hours.\nI am really sure why python is not able to use the system time during the boot up.\nPlease let me know anybody know about this issue.</p>\n\n<p>My problem has to do something about the starting python script at bootup. I think Linux is not able to set its time according to timezone at bootup . I have printed system time at boot up which is in UTC and not in UTC-05:30 though my timezone is UTC-05:30. Since my script is starting at bootup,it took system time which is set according to UTC and not UTC-05:30. Once the system boots up, system time is set correctly according to timezone.I will get correct output for date command. But some how my python application is not able get the time according to timezone.</p>\n\n<p>Please help!\nThanks in advance.</p>\n"}, {"tags": ["python", "django", "django-urls"], "comments": [{"owner": {"reputation": 33, "user_id": 5071013, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153450862348464/picture?type=large", "display_name": "GaoEy", "link": "https://stackoverflow.com/users/5071013/gaoey"}, "reply_to_user": {"reputation": 9758, "user_id": 3033586, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mSQgK.jpg?s=128&g=1", "display_name": "madzohan", "link": "https://stackoverflow.com/users/3033586/madzohan"}, "edited": false, "score": 0, "creation_date": 1435807485, "post_id": 31169996, "comment_id": 50357398, "body": "I use this [-_\\w] but I don&#39;t know why error shown this one  [-_\\\\w]."}], "answers": [{"tags": [], "owner": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "is_accepted": false, "score": 0, "last_activity_date": 1435835083, "creation_date": 1435835083, "answer_id": 31182828, "question_id": 31169996, "link": "https://stackoverflow.com/questions/31169996/noreversematch-in-django-url-ploblem/31182828#31182828", "title": "NoReverseMatch in Django (url ploblem)", "body": "<p>The <code>$</code> in your first url pattern <em>might</em> be the issue. The dollar sign indicates that it's the the end of the pattern, so it would never bother to include/check the product urls. Is the index url working?</p>\n"}], "owner": {"reputation": 33, "user_id": 5071013, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153450862348464/picture?type=large", "display_name": "GaoEy", "link": "https://stackoverflow.com/users/5071013/gaoey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1435838688, "creation_date": 1435778801, "last_edit_date": 1435838688, "question_id": 31169996, "link": "https://stackoverflow.com/questions/31169996/noreversematch-in-django-url-ploblem", "title": "NoReverseMatch in Django (url ploblem)", "body": "<p>I'm a beginner of Django\nI want to set my url with database field_name instead of use primary key from Django tutorial. This is my code. </p>\n\n<pre><code>*mysite*\n**dwru/urls.py**\nurlpatterns = [\n    url(r'^$', include('product.urls', namespace=\"product\")),\n]\n\n*myapp*\n**product/urls.py**\nurlpatterns = [\n   url(r'^$', views.index, name='index'),\n   url(r'^(?P&lt;name_catalog&gt;[-_\\w]+)/$', views.product_list_from_index, name='catalog'),\n]\n\n**product/views.py**\ndef product_list_from_index(request, name_catalog):\n   catalog = get_object_or_404(Catalog, name_catalog=name_catalog)\n   context = {\n   'catalog': catalog\n}\n   return render(request,'product/product_list.html', context)\n\n\n**product/models.py**\nclass Catalog(models.Model):\n  name_catalog = models.CharField(max_length=45)\n  product = models.ManyToManyField(Product)\n\n**template/product/index.html**\n{% for catalog in catalog_list %}\n    &lt;h1&gt;&lt;a href=\"{% url 'product:catalog' catalog.name_catalog %}\"&gt;{{ catalog.name_catalog }}&lt;/h1&gt;\n{% endfor %}\n</code></pre>\n\n<p>Then I add Catalog field with \"TestCa01\" then it shown an error</p>\n\n<pre><code>NoReverseMatch at /\nReverse for 'catalog' with arguments '(u'TestCa01',)' and keyword arguments '{}' not found. 1 pattern(s) tried: [u'$(?P&lt;name_catalog&gt;[-_\\\\w]+)/$']\n</code></pre>\n\n<p>it kind of some problem with this line in template</p>\n\n<pre><code>{% url 'product:catalog' catalog.name_catalog %}\n</code></pre>\n\n<p>any Idea?</p>\n"}, {"tags": ["python", "pandas", "filter", "merge", "group-by"], "answers": [{"comments": [{"owner": {"reputation": 1393, "user_id": 4263878, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c95a66d30180a95353e7e655d0020f51?s=128&d=identicon&r=PG&f=1", "display_name": "MJS", "link": "https://stackoverflow.com/users/4263878/mjs"}, "edited": false, "score": 0, "creation_date": 1435779720, "post_id": 31170106, "comment_id": 50348259, "body": "Jianxun - that&#39;s perfect! Thank you and sorry for not presenting a challenge."}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 5, "last_activity_date": 1435779161, "creation_date": 1435779161, "answer_id": 31170106, "question_id": 31169990, "link": "https://stackoverflow.com/questions/31169990/python-pandas-create-additional-dataframe-columns-by-grouping-on-existing-column/31170106#31170106", "title": "Python pandas create additional dataframe columns by grouping on existing column", "body": "<p>You can first convert the <code>df</code> to a multi-level index type and then <code>unstack</code> the level <code>Class</code> will give you what you want. Suppose df is the original dataframe shown on the very beginning of your post.</p>\n\n<pre><code>df.set_index(['Yr', 'Month', 'Class'])['Cost'].unstack('Class')\n\nOut[29]: \nClass             L        M        S         T\nYr   Month                                     \n2015 1      19.2361  29.4723  48.5980  169.7630\n     2      19.1506  30.0886  49.3765  167.0000\n     3      19.3465  29.1991  46.2580  157.7916\n     4      18.3165  28.2314  44.5844  162.3241\n     5      17.4556  27.0434  42.8841  159.3457\n     6      16.5343  24.9853  40.5612  153.4902\n</code></pre>\n"}], "owner": {"reputation": 1393, "user_id": 4263878, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c95a66d30180a95353e7e655d0020f51?s=128&d=identicon&r=PG&f=1", "display_name": "MJS", "link": "https://stackoverflow.com/users/4263878/mjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "accepted_answer_id": 31170106, "answer_count": 1, "score": 1, "last_activity_date": 1435779161, "creation_date": 1435778782, "question_id": 31169990, "link": "https://stackoverflow.com/questions/31169990/python-pandas-create-additional-dataframe-columns-by-grouping-on-existing-column", "title": "Python pandas create additional dataframe columns by grouping on existing column", "body": "<p>Trying to create new dataframe columns from the contents of an existing column. Easier to explain with an example. I would like to convert this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>.\tYr\tMonth\tClass\tCost\r\n1\t2015\t1\tL\t19.2361\r\n2\t2015\t1\tM\t29.4723\r\n3\t2015\t1\tS\t48.5980\r\n4\t2015\t1\tT\t169.7630\r\n5\t2015\t2\tL\t19.1506\r\n6\t2015\t2\tM\t30.0886\r\n7\t2015\t2\tS\t49.3765\r\n8\t2015\t2\tT\t167.0000\r\n9\t2015\t3\tL\t19.3465\r\n10\t2015\t3\tM\t29.1991\r\n11\t2015\t3\tS\t46.2580\r\n12\t2015\t3\tT\t157.7916\r\n13\t2015\t4\tL\t18.3165\r\n14\t2015\t4\tM\t28.2314\r\n15\t2015\t4\tS\t44.5844\r\n16\t2015\t4\tT\t162.3241\r\n17\t2015\t5\tL\t17.4556\r\n18\t2015\t5\tM\t27.0434\r\n19\t2015\t5\tS\t42.8841\r\n20\t2015\t5\tT\t159.3457\r\n21\t2015\t6\tL\t16.5343\r\n22\t2015\t6\tM\t24.9853\r\n23\t2015\t6\tS\t40.5612\r\n24\t2015\t6\tT\t153.4902</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>...into the following so that I can plot 4 separate lines [L, M, S, T]:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>.\t Yr\t  Month\t   L\t   M\t   S\t   T\r\n1\t2015\t1\t19.2361\t29.4723\t48.5980\t169.7630\r\n2\t2015\t2\t19.1506\t30.0886\t49.3765\t167.0000\r\n3\t2015\t3\t19.3465\t29.1991\t46.2580\t157.7916\r\n4\t2015\t4\t18.3165\t28.2314\t44.5844\t162.3241\r\n5\t2015\t5\t17.4556\t27.0434\t42.8841\t159.3457\r\n6\t2015\t6\t16.5343\t24.9853\t40.5612\t153.4902</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I was able to work through it in what feels like a very clumsy way, by filtering the dataframe on the 'class' column... and then 3 separate merges. </p>\n\n<pre><code>list_class = ['L', 'M', 'S', 'T']\nyear = 'Yr'\nmonth = 'Month'\ndf_class = pd.DataFrame()\ndf_class1 = pd.DataFrame()\ndf_class2 = pd.DataFrame()\ndf_class1 = merge(df[[month, year, 'Class','Cost']][df['Class']==list_class[0]], df[[month, year, 'Class','Cost']][df['Class']==list_class[1]], \\\n            left_on=[month, year], right_on=[month, year])\ndf_class2 = merge(df[[month, year, 'Class','Cost']][df['Class']==list_class[2]], df[[month, year, 'Class','Cost']][df['Class']==list_class[3]], \\\n            left_on=[month, year], right_on=[month, year])\ndf_class = merge(df_class1, df_class2, left_on=[month, year], right_on=[month, year]).groupby([year, month]).mean().plot(figsize(15,8))\n</code></pre>\n\n<p>There must be a more efficient way. Feels like it should be done with groupby, but I couldn't nail it down.</p>\n"}, {"tags": ["python", "csv"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5045108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e79351bf000bb870e79bd0eccfed129?s=128&d=identicon&r=PG", "display_name": "Camila Cavalcante", "link": "https://stackoverflow.com/users/5045108/camila-cavalcante"}, "edited": false, "score": 0, "creation_date": 1435780445, "post_id": 31170005, "comment_id": 50348658, "body": "Thanks! It seems so obvious now :)"}], "tags": [], "owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "is_accepted": true, "score": 2, "last_activity_date": 1435778832, "creation_date": 1435778832, "answer_id": 31170005, "question_id": 31169968, "link": "https://stackoverflow.com/questions/31169968/how-to-print-the-number-of-columns-and-lines-in-a-csv-file/31170005#31170005", "title": "How to print the number of columns and lines in a csv file?", "body": "<p>You are printing the length of row inside the inner loop, try printing it outside the inner loop.</p>\n\n<p>Example -</p>\n\n<pre><code>for row in rd:\n    list = []\n    list.append(row)\n    print list\n    for items in row:\n        pass # or whatever other logic you want, if you do not want to do anything remove this loop\n    print len(row)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13658, "user_id": 1338158, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7b1dd97725ef5d1afb914e159c42c9a2?s=128&d=identicon&r=PG", "display_name": "Maciej Gol", "link": "https://stackoverflow.com/users/1338158/maciej-gol"}, "is_accepted": false, "score": 0, "last_activity_date": 1435778909, "creation_date": 1435778909, "answer_id": 31170032, "question_id": 31169968, "link": "https://stackoverflow.com/questions/31169968/how-to-print-the-number-of-columns-and-lines-in-a-csv-file/31170032#31170032", "title": "How to print the number of columns and lines in a csv file?", "body": "<pre><code>import csv\n\nwith open('Test06242015.csv', 'rb') as f:\n    reader = csv.reader(f)\n    line = next(reader, [])\n    remaining = len(reader)\n    print len(line)  # Number of columns\n    if line:\n        remaining += 1\n    print remaining  # Total numer of rows.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1435778958, "creation_date": 1435778958, "answer_id": 31170043, "question_id": 31169968, "link": "https://stackoverflow.com/questions/31169968/how-to-print-the-number-of-columns-and-lines-in-a-csv-file/31170043#31170043", "title": "How to print the number of columns and lines in a csv file?", "body": "<p>You should be printing just the row and its length, not the entire list on each row and the row's length for every column.</p>\n\n<pre><code>counter = 1\nfor row in rd:\n    print counter, len(row), row\n    counter += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1052, "user_id": 3775577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2804dff0ffa1f7887e4d69355407a8bd?s=128&d=identicon&r=PG&f=1", "display_name": "mickkk", "link": "https://stackoverflow.com/users/3775577/mickkk"}, "is_accepted": false, "score": 0, "last_activity_date": 1439823105, "creation_date": 1439823105, "answer_id": 32053501, "question_id": 31169968, "link": "https://stackoverflow.com/questions/31169968/how-to-print-the-number-of-columns-and-lines-in-a-csv-file/32053501#32053501", "title": "How to print the number of columns and lines in a csv file?", "body": "<p>You could also use pandas which is incredibly fast to get the information you need:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_csv('filename.csv')\nprint(df.shape)\n</code></pre>\n\n<p>#Output</p>\n\n<p>#(number or rows, number of columns)</p>\n"}], "owner": {"reputation": 21, "user_id": 5045108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e79351bf000bb870e79bd0eccfed129?s=128&d=identicon&r=PG", "display_name": "Camila Cavalcante", "link": "https://stackoverflow.com/users/5045108/camila-cavalcante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 0, "accepted_answer_id": 31170005, "answer_count": 4, "score": 1, "last_activity_date": 1439823105, "creation_date": 1435778720, "last_edit_date": 1435778753, "question_id": 31169968, "link": "https://stackoverflow.com/questions/31169968/how-to-print-the-number-of-columns-and-lines-in-a-csv-file", "title": "How to print the number of columns and lines in a csv file?", "body": "<p>I am a Python newbie so this might sound like a silly question, but I have a CSV file and I want my script to print the number of lines and the number of columns in the file. This is my script:</p>\n\n<pre><code>import csv\n\nop = open(Test06242015.csv)\nrd = csv.reader(op)\n\n\nfor row in rd:\n    list = []\n    list.append(row)\n    print list\n    for items in row:\n        print len(row)\n\nop.close()\n</code></pre>\n\n<p>I am actually getting the right answer (320), but it prints out 320 times for each row (below):</p>\n\n<pre><code>[['19.385', '19.227', '18.308', ...]]\n320\n320\n320\n320\n320\n320\n320\n320\n(...and it keeps going)\n</code></pre>\n\n<p>How can I make it so that 320 only prints out once? Also, how can I read the number of rows as well?</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["python", "variables", "text", "storing-information"], "comments": [{"owner": {"reputation": 104, "user_id": 2502528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aabdc1cd1a00b2b0b285e769e6b5972?s=128&d=identicon&r=PG", "display_name": "Omid Goudazi", "link": "https://stackoverflow.com/users/2502528/omid-goudazi"}, "reply_to_user": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "edited": false, "score": 0, "creation_date": 1435778983, "post_id": 31169947, "comment_id": 50347854, "body": "I tried to use NLTK but ... i could n&#39;t"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1435779120, "post_id": 31169947, "comment_id": 50347923, "body": "But there is no <i>value</i>  within your text?"}], "answers": [{"comments": [{"owner": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "reply_to_user": {"reputation": 104, "user_id": 2502528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aabdc1cd1a00b2b0b285e769e6b5972?s=128&d=identicon&r=PG", "display_name": "Omid Goudazi", "link": "https://stackoverflow.com/users/2502528/omid-goudazi"}, "edited": false, "score": 0, "creation_date": 1435779925, "post_id": 31170066, "comment_id": 50348376, "body": "Because your text doesn&#39;t match what you posted. <code>chiptype</code> is only defined if your line starts with <code>Reported chip type:</code> (no spaces or other characters)"}], "tags": [], "owner": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1435779037, "creation_date": 1435779037, "answer_id": 31170066, "question_id": 31169947, "link": "https://stackoverflow.com/questions/31169947/how-to-mine-specified-from-text-in-python/31170066#31170066", "title": "How to mine Specified from text in python?", "body": "<p>Assuming that you can read the file and have read it into a variable named <code>text</code>:</p>\n\n<pre><code>for line in text:\n    if line.startswith(\"Reported chip type:\"):\n        _, chiptype = line.split(':')\n        break\n\nprint chiptype\n</code></pre>\n\n<p>This will put the first instance of \"Reported chip type:\"'s value into <code>chiptype</code>.</p>\n\n<p>Your output looks like this:</p>\n\n<pre><code> 2307\n</code></pre>\n\n<p>Notice that there is a leading space. We can convert this to an <code>int</code> if you know it is always an <code>int</code> you can do this:  <code>chiptype = int(chiptype)</code>. If it's just a string, you can strip of the leading space: <code>chiptype = chiptype.strip()</code></p>\n"}, {"tags": [], "owner": {"reputation": 4093, "user_id": 4582273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b94fcc64a380a38b013479fbbcfffa9b?s=128&d=identicon&r=PG", "display_name": "lemonhead", "link": "https://stackoverflow.com/users/4582273/lemonhead"}, "is_accepted": true, "score": 1, "last_activity_date": 1435779402, "creation_date": 1435779402, "answer_id": 31170167, "question_id": 31169947, "link": "https://stackoverflow.com/questions/31169947/how-to-mine-specified-from-text-in-python/31170167#31170167", "title": "How to mine Specified from text in python?", "body": "<p>You would usually do something like this with <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow\">regex</a></p>\n\n<pre><code>import re\nmatch = re.search('Reported chip type:\\s(?P&lt;chip_type&gt;\\d+)', my_text)\nchiptype = int(match.group('chip_type'))     \n\n&gt;&gt;&gt; print chiptype\n2307\n</code></pre>\n\n<p>In your case though, it's probably simple enough to just use a couple <a href=\"https://docs.python.org/2/library/stdtypes.html#str.split\" rel=\"nofollow\">splits</a>:</p>\n\n<pre><code>chiptype = int(my_text.split('Reported chip type:', 1)[-1].split('\\n')[0].strip())\n</code></pre>\n"}], "owner": {"reputation": 104, "user_id": 2502528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aabdc1cd1a00b2b0b285e769e6b5972?s=128&d=identicon&r=PG", "display_name": "Omid Goudazi", "link": "https://stackoverflow.com/users/2502528/omid-goudazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "closed_date": 1435787627, "accepted_answer_id": 31170167, "answer_count": 2, "score": -2, "last_activity_date": 1435779402, "creation_date": 1435778640, "last_edit_date": 1435779198, "question_id": 31169947, "link": "https://stackoverflow.com/questions/31169947/how-to-mine-specified-from-text-in-python", "closed_reason": "Needs more focus", "title": "How to mine Specified from text in python?", "body": "<p>I have an output from a program as a text like:</p>\n\n<pre><code>------------\nAction specified: GetInfo\n\nGathering information...\n\nReported chip type: 2307\n\nReported chip ID: 98-DE-94-93-76-50\n\nReported firmware version: 1.08.10\n\n------------\n</code></pre>\n\n<p>But I must save just, <code>Reported chip type: value \"2307\"</code> in a variable.\nhow it's possible? </p>\n"}, {"tags": ["python", "tkinter", "raspbian", "raspberry-pi2"], "comments": [{"owner": {"reputation": 6315, "user_id": 1555990, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a743aed2f5b809958ebb17d4d952b7b2?s=128&d=identicon&r=PG", "display_name": "That1Guy", "link": "https://stackoverflow.com/users/1555990/that1guy"}, "edited": false, "score": 0, "creation_date": 1435778816, "post_id": 31169838, "comment_id": 50347761, "body": "Unrelated, but what is <code>d</code> exactly? It is not defined in your snippet."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4209617"}, "is_accepted": true, "score": 0, "last_activity_date": 1435778906, "creation_date": 1435778906, "answer_id": 31170031, "question_id": 31169838, "link": "https://stackoverflow.com/questions/31169838/im-trying-to-create-a-tkinter-python-3-application-on-raspbian-but-wont-rep/31170031#31170031", "title": "I&#39;m trying to create a tkinter (python 3) application on raspbian, but won&#39;t repeat drawing", "body": "<p>The problem is your mainloop() call in the last line. This call will end, once the whole program has terminated.<br>\nI would suggest you to look at the <a href=\"https://docs.python.org/2.7/library/threading.html\" rel=\"nofollow\">threading facilities</a> of Python. You could create another thread that draws onto the canvas while the mainloop is executing.</p>\n"}], "owner": {"reputation": 7, "user_id": 5071029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BbVRx-fYaMA/AAAAAAAAAAI/AAAAAAAABAM/R7q4ciWxKlQ/photo.jpg?sz=128", "display_name": "Oliver", "link": "https://stackoverflow.com/users/5071029/oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 31170031, "answer_count": 1, "score": -1, "last_activity_date": 1435778906, "creation_date": 1435778283, "last_edit_date": 1435778639, "question_id": 31169838, "link": "https://stackoverflow.com/questions/31169838/im-trying-to-create-a-tkinter-python-3-application-on-raspbian-but-wont-rep", "title": "I&#39;m trying to create a tkinter (python 3) application on raspbian, but won&#39;t repeat drawing", "body": "<p>My code is as below; it should draw random colour and  size circles repeatedly, but only draws one. I have tried countless combinations of mainloop() and window1.update() but always have the same problem. </p>\n\n<pre><code>#!/usr/bin/env python3\nfrom tkinter import *\nfrom random import *\nWIDTH = 1024/2\nHEIGHT = 720/2\nwindow1 = Tk()\nc1 = Canvas(window1, width=WIDTH, height=HEIGHT, bg='#FFFFFF')\nc1.pack()\ncolours = ('#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF')\nwhile 3 == 3:\n    colchose = choice(colours)\n    x0 = randint(0, WIDTH)\n    y0 = randint(0, HEIGHT)\n    c1.create_oval(x0, y0, x0+d, y0+d, fill=colchose)\n    mainloop()\n</code></pre>\n"}, {"tags": ["python", "pandas", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 11, "last_activity_date": 1435781257, "last_edit_date": 1435781257, "creation_date": 1435778747, "answer_id": 31169977, "question_id": 31169774, "link": "https://stackoverflow.com/questions/31169774/subtract-a-year-from-a-datetime-column-in-pandas/31169977#31169977", "title": "Subtract a year from a datetime column in pandas", "body": "<p>You could use pd.Timedelta:</p>\n\n<pre><code>df[\"NEW_DATE\"] = df[\"ACC_DATE\"] - pd.Timedelta(days=365) \n</code></pre>\n\n<p>Or replace:</p>\n\n<pre><code>df[\"NEW_DATE\"] = df[\"ACC_DATE\"].apply(lambda x: x.replace(year=x.year - 1))\n</code></pre>\n\n<p>But neither will catch leap years so you could use <code>dateutil.relativedelta</code> :</p>\n\n<pre><code>from dateutil.relativedelta import  relativedelta\n\ndf[\"NEW_DATE\"] = df[\"ACC_DATE\"].apply(lambda x: x - relativedelta(years=1))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 6, "creation_date": 1435781913, "post_id": 31170136, "comment_id": 50349497, "body": "I&#39;m curious, what does it do when your starting date is Feb. 29?"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 2, "creation_date": 1435785887, "post_id": 31170136, "comment_id": 50351667, "body": "@MarkRansom good question I just tried this, for <code>2004-02-29</code> subtracting a year becomes <code>2003-02-28</code>"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 77, "last_activity_date": 1593121807, "last_edit_date": 1593121807, "creation_date": 1435779308, "answer_id": 31170136, "question_id": 31169774, "link": "https://stackoverflow.com/questions/31169774/subtract-a-year-from-a-datetime-column-in-pandas/31170136#31170136", "title": "Subtract a year from a datetime column in pandas", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/timeseries.html?highlight=dateoffset#dateoffset-objects\" rel=\"noreferrer\"><code>DateOffset</code></a> to achieve this:</p>\n<pre><code>In[88]:\ndf['NEW_DATE'] = df['ACC_DATE'] - pd.DateOffset(years=1)\ndf\n\nOut[88]: \n        ACC_DATE   NEW_DATE\nindex                      \n538   2006-04-07 2005-04-07\n550   2006-04-12 2005-04-12\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 17, "last_activity_date": 1506340591, "last_edit_date": 1506340591, "creation_date": 1506340419, "answer_id": 46404600, "question_id": 31169774, "link": "https://stackoverflow.com/questions/31169774/subtract-a-year-from-a-datetime-column-in-pandas/46404600#46404600", "title": "Subtract a year from a datetime column in pandas", "body": "<p>Use <a href=\"http://pandas.pydata.org/pandas-docs/stable/timeseries.html#dateoffset-objects\" rel=\"noreferrer\">DateOffset</a>:</p>\n\n<pre><code>df[\"NEW_DATE\"] = df[\"ACC_DATE\"] - pd.offsets.DateOffset(years=1)\nprint (df)\n        ACC_DATE   NEW_DATE\nindex                      \n538   2006-04-07 2005-04-07\n550   2006-04-12 2005-04-12\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40794, "user_id": 832230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bpevy.png?s=128&g=1", "display_name": "Acumenus", "link": "https://stackoverflow.com/users/832230/acumenus"}, "is_accepted": false, "score": 0, "last_activity_date": 1607709983, "creation_date": 1607709983, "answer_id": 65256445, "question_id": 31169774, "link": "https://stackoverflow.com/questions/31169774/subtract-a-year-from-a-datetime-column-in-pandas/65256445#65256445", "title": "Subtract a year from a datetime column in pandas", "body": "<p>If having a <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html\" rel=\"nofollow noreferrer\"><strong><code>pd.Timestamp</code></strong></a> object rather than a column,</p>\n<ol>\n<li>Using <code>pd.DateOffset(years=n)</code> is not ideal as it produces:</li>\n</ol>\n<blockquote>\n<p>UserWarning: Discarding nonzero nanoseconds in conversion</p>\n</blockquote>\n<ol start=\"2\">\n<li><code>pd.Timedelta()</code> doesn't accept years.</li>\n</ol>\n<p>The only approach that worked for me in this case is <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.replace.html\" rel=\"nofollow noreferrer\"><strong><code>pd.Timestamp.replace</code></strong></a>:</p>\n<pre><code>t = pd.Timestamp.now()\nt = t.replace(year=t.year - n)\n</code></pre>\n<p>This was hinted at in the <a href=\"https://stackoverflow.com/a/31169977/\">answer by Padriac</a> but it needed further clarity.</p>\n"}], "owner": {"reputation": 1135, "user_id": 2300461, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/R1qnR.jpg?s=128&g=1", "display_name": "0nir", "link": "https://stackoverflow.com/users/2300461/0nir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45049, "favorite_count": 4, "accepted_answer_id": 31170136, "answer_count": 4, "score": 37, "last_activity_date": 1608113591, "creation_date": 1435778047, "last_edit_date": 1608113591, "question_id": 31169774, "link": "https://stackoverflow.com/questions/31169774/subtract-a-year-from-a-datetime-column-in-pandas", "title": "Subtract a year from a datetime column in pandas", "body": "<p>I have a datetime column as below -</p>\n<pre><code>&gt;&gt;&gt; df['ACC_DATE'].head(2)\n538   2006-04-07\n550   2006-04-12\nName: ACC_DATE, dtype: datetime64[ns]\n</code></pre>\n<p>Now, I want to subtract an year from each row of this column. How can I achieve the same &amp; which library can I use?</p>\n<p>The expected field -</p>\n<pre><code>        ACC_DATE    NEW_DATE\n538   2006-04-07  2005-04-07\n549   2006-04-12  2005-04-12\n</code></pre>\n"}, {"tags": ["python", "list", "search", "find"], "comments": [{"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 1, "creation_date": 1435778221, "post_id": 31169773, "comment_id": 50347438, "body": "Just to be clear - <code>if x in L</code> where <code>L</code> is a list is still O(N)"}], "answers": [{"comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1435778502, "post_id": 31169820, "comment_id": 50347590, "body": "Or a general tree <code>def tree(): return defaultdict(tree)</code>"}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 2, "last_activity_date": 1435778217, "creation_date": 1435778217, "answer_id": 31169820, "question_id": 31169773, "link": "https://stackoverflow.com/questions/31169773/python-how-to-find-something-in-a-list-of-lists/31169820#31169820", "title": "Python: how to &#39;find&#39; something in a list of lists", "body": "<p>You could make nested dictionaries</p>\n\n<pre><code>&gt;&gt;&gt; d = {i[0]:{'ID':i[1], 'State':i[2]} for i in L}\n&gt;&gt;&gt; d\n{'Susan': {'ID': 8765, 'State': 'Nevada'},\n 'John': {'ID': 1234, 'State': 'California'},\n 'David': {'ID': 5678, 'State': 'Arizona'}}\n</code></pre>\n\n<p>Then lookup a person like</p>\n\n<pre><code>&gt;&gt;&gt; d['John']\n{'ID': 1234, 'State': 'California'}\n&gt;&gt;&gt; d['John']['State']\n'California'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 4898194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42344839dc9e9ff12462548180f34ff2?s=128&d=identicon&r=PG&f=1", "display_name": "chu1688", "link": "https://stackoverflow.com/users/4898194/chu1688"}, "edited": false, "score": 0, "creation_date": 1435788166, "post_id": 31169828, "comment_id": 50352666, "body": "What if there are two &quot;John&quot;s?:"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 31, "user_id": 4898194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42344839dc9e9ff12462548180f34ff2?s=128&d=identicon&r=PG&f=1", "display_name": "chu1688", "link": "https://stackoverflow.com/users/4898194/chu1688"}, "edited": false, "score": 0, "creation_date": 1435788682, "post_id": 31169828, "comment_id": 50352856, "body": "Then you could store the values in a <code>list</code>, appearing as <code>{&quot;John&quot;:[(1234, &#39;California&#39;), (3141, &quot;Canada&quot;)], &quot;David&quot;:...}</code> and then search through a given key&#39;s values. Unless your database is ridiculously lopsided (e.g. 10,000 people named &quot;John&quot; and one person named &quot;Susan&quot;), this is still fast."}, {"owner": {"reputation": 31, "user_id": 4898194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42344839dc9e9ff12462548180f34ff2?s=128&d=identicon&r=PG&f=1", "display_name": "chu1688", "link": "https://stackoverflow.com/users/4898194/chu1688"}, "edited": false, "score": 0, "creation_date": 1435789371, "post_id": 31169828, "comment_id": 50353084, "body": "Thanks. I think I like this solution the best!"}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 4, "last_activity_date": 1435778267, "creation_date": 1435778267, "answer_id": 31169828, "question_id": 31169773, "link": "https://stackoverflow.com/questions/31169773/python-how-to-find-something-in-a-list-of-lists/31169828#31169828", "title": "Python: how to &#39;find&#39; something in a list of lists", "body": "<p>You should create and use a dictionary.</p>\n\n<pre><code>L = [[\"John\", 1234, \"California\"], [\"David\", 5678, \"Arizona\"], [\"Susan\", 8765, \"Nevada\"]]\nD = {name:(number, state) for name, number, state in L}\n</code></pre>\n\n<p>This allows easy lookups:</p>\n\n<pre><code>&gt;&gt;&gt; D.get(\"John\", 'no')\n(1234, 'California')\n&gt;&gt;&gt; D.get(\"Jim\", 'no')\n'no'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1435778987, "last_edit_date": 1435778987, "creation_date": 1435778508, "answer_id": 31169908, "question_id": 31169773, "link": "https://stackoverflow.com/questions/31169773/python-how-to-find-something-in-a-list-of-lists/31169908#31169908", "title": "Python: how to &#39;find&#39; something in a list of lists", "body": "<p>You can convert your list to <code>set</code> or dictionary that use hash-table and they have order O(1) for checking membership. but this converting is O(n) or more.Also you'll waste more memory! </p>\n\n<p>But as an efficient and direct way I suggest to use a generator expression within <code>next</code> function :</p>\n\n<pre><code>&gt;&gt;&gt; next((j,k) for i,j,k in L if i=='John')\n(1234, 'California')\n</code></pre>\n\n<p>Note that using generators may be not efficient in terms of time but its efficient in memory! and you can save a lot of memory specially when you are dealing with long list! </p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 2675799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fafc1acc648b303f42b8df098f60a991?s=128&d=identicon&r=PG&f=1", "display_name": "RudyMenon", "link": "https://stackoverflow.com/users/2675799/rudymenon"}, "is_accepted": false, "score": 1, "last_activity_date": 1435782483, "creation_date": 1435782483, "answer_id": 31171038, "question_id": 31169773, "link": "https://stackoverflow.com/questions/31169773/python-how-to-find-something-in-a-list-of-lists/31171038#31171038", "title": "Python: how to &#39;find&#39; something in a list of lists", "body": "<p>If L has to be a list of lists, you can always make your own function.</p>\n\n<pre><code>def find(value,matrix):\n    for list in matrix:\n        if value in list:\n            return [matrix.index(list),list.index(value)]\n    return -1\n</code></pre>\n\n<p>Then if you say</p>\n\n<pre><code>L = [[\"John\", 1234, \"California\"], [\"David\", 5678, \"Arizona\"], [\"Susan\",  8765, \"Nevada\"]]\nx = \"John\"\nif find(x,L) != -1:\n    print(find(x,L))\n</code></pre>\n\n<p>it should print [0,0]</p>\n\n<p>Does this answer your question?</p>\n"}], "owner": {"reputation": 31, "user_id": 4898194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42344839dc9e9ff12462548180f34ff2?s=128&d=identicon&r=PG&f=1", "display_name": "chu1688", "link": "https://stackoverflow.com/users/4898194/chu1688"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5981, "favorite_count": 1, "answer_count": 4, "score": 2, "last_activity_date": 1435782483, "creation_date": 1435778045, "question_id": 31169773, "link": "https://stackoverflow.com/questions/31169773/python-how-to-find-something-in-a-list-of-lists", "title": "Python: how to &#39;find&#39; something in a list of lists", "body": "<p>In Python, you can do this:</p>\n\n<pre><code>L=[\"John\",\"David\",\"Susan\"]\nx = \"John\"\nif x in L:\n    print(L.index(x))\n</code></pre>\n\n<p>What if I have a list like this:</p>\n\n<pre><code>L = [[\"John\", 1234, \"California\"], [\"David\", 5678, \"Arizona\"], [\"Susan\", 8765, \"Nevada\"]]\n</code></pre>\n\n<p>and I want to do a search of name \"John\" and find out the State and ID number without iterating over all the elements of the list? What I looking for is if there's something similar to \"if {something} in L\". </p>\n\n<p>I guess it will be like a record search function. I have a list of lists, the elements are fixed length lists (or tuples), and I want to see if there's a O(1) type of search capability in Python, or something I can implement easily that will be able to do the search in one step (as supposed to O(N), which requres iterating over all the elements in the list)   </p>\n"}, {"tags": ["python", "selenium-webdriver", "webdriver", "return", "exit"], "comments": [{"owner": {"reputation": 404, "user_id": 4211267, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/17018080/picture?type=large", "display_name": "rwbyrd", "link": "https://stackoverflow.com/users/4211267/rwbyrd"}, "edited": false, "score": 0, "creation_date": 1435778898, "post_id": 31169660, "comment_id": 50347811, "body": "Scenario has been updated, @alecxe"}], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 4211267, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/17018080/picture?type=large", "display_name": "rwbyrd", "link": "https://stackoverflow.com/users/4211267/rwbyrd"}, "edited": false, "score": 0, "creation_date": 1435778850, "post_id": 31169830, "comment_id": 50347787, "body": "Thanks for your reply, @Kernel_Panic.  A few issues with this:  (1) I need it to print the message &amp; then exit the function [and test case located in a different file] if the identifier is not found similar to what I have shown above. (2) sys.exit() causes the test case to fail, which I don&#39;t want."}, {"owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "edited": false, "score": 1, "creation_date": 1435779204, "post_id": 31169830, "comment_id": 50347970, "body": "I would use <code>if not isIdentifierPresent:</code> instead of <code>if isIdentifierPresent == False:</code>"}], "tags": [], "owner": {"reputation": 481, "user_id": 4945132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02fbf4161483e844c9d7dc27e8cf7baf?s=128&d=identicon&r=PG", "display_name": "keberwein", "link": "https://stackoverflow.com/users/4945132/keberwein"}, "is_accepted": false, "score": 0, "last_activity_date": 1435778270, "creation_date": 1435778270, "answer_id": 31169830, "question_id": 31169660, "link": "https://stackoverflow.com/questions/31169660/exit-a-python-program-from-a-function-with-a-successful-run-result/31169830#31169830", "title": "Exit a Python Program (From a Function) with a Successful Run Result", "body": "<p>If you're in Python 3 you can use sys.exit() to get out. Something like this maybe?</p>\n\n<pre><code>if isIdentifierPresent == False:\n    print \"\\nNOTICE: IDENTIFIERS OBJECT \\\"\"+identifier+\"\\\" NOT LISTED IN TABLE\"\nelse:\n    print(\"Hooray!\")\n    sys.exit()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1435788633, "post_id": 31169892, "comment_id": 50352840, "body": "Yes, raising an exception is a good way to do &quot;multiple returns&quot; in one go."}, {"owner": {"reputation": 404, "user_id": 4211267, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/17018080/picture?type=large", "display_name": "rwbyrd", "link": "https://stackoverflow.com/users/4211267/rwbyrd"}, "edited": false, "score": 0, "creation_date": 1435788956, "post_id": 31169892, "comment_id": 50352952, "body": "Okay, one more question.  When I tried this method and put an optional message in the with... raise noIdentifier(&quot;&lt;&lt;message here&gt;&gt;&quot;)... the message was not printed.  Any ideas as to why!?"}, {"owner": {"reputation": 108, "user_id": 4358695, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000310460695/picture?type=large", "display_name": "Pallav Agarwal", "link": "https://stackoverflow.com/users/4358695/pallav-agarwal"}, "reply_to_user": {"reputation": 404, "user_id": 4211267, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/17018080/picture?type=large", "display_name": "rwbyrd", "link": "https://stackoverflow.com/users/4211267/rwbyrd"}, "edited": false, "score": 1, "creation_date": 1435824546, "post_id": 31169892, "comment_id": 50364016, "body": "@rwbyrd Edited my answer to use the message."}, {"owner": {"reputation": 404, "user_id": 4211267, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/17018080/picture?type=large", "display_name": "rwbyrd", "link": "https://stackoverflow.com/users/4211267/rwbyrd"}, "edited": false, "score": 0, "creation_date": 1435851987, "post_id": 31169892, "comment_id": 50383262, "body": "@Pallav Agarwal Thanks for your edit.  The change works smoothly."}], "tags": [], "owner": {"reputation": 108, "user_id": 4358695, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000310460695/picture?type=large", "display_name": "Pallav Agarwal", "link": "https://stackoverflow.com/users/4358695/pallav-agarwal"}, "is_accepted": true, "score": 2, "last_activity_date": 1435825084, "last_edit_date": 1435825084, "creation_date": 1435778439, "answer_id": 31169892, "question_id": 31169660, "link": "https://stackoverflow.com/questions/31169660/exit-a-python-program-from-a-function-with-a-successful-run-result/31169892#31169892", "title": "Exit a Python Program (From a Function) with a Successful Run Result", "body": "<p>The way I find best is to define an Exceptions class:</p>\n\n<pre><code>class noIdentifier(Exception):\n    pass\n</code></pre>\n\n<p>Now modify the code to look as such:</p>\n\n<pre><code>if isIdentifierPresent == False:\n    print \"\\nNOTICE: IDENTIFIERS OBJECT \\\"\"+identifier+\"\\\" NOT LISTED IN TABLE\"\n    raise noIdentifier(\"&lt;Optional message&gt;\")\n</code></pre>\n\n<p>In the test suite, wrap the test case call in try except:</p>\n\n<pre><code>try:\n    testCase()\nexcept noIdentifier:\n    pass\n</code></pre>\n\n<p>I'm sure there are other ways to do it. However I find this to be really convinient.</p>\n\n<p>EDIT: To use the optional message,</p>\n\n<pre><code>try:\n    testCase()\nexcept noIdentifier as e:\n    print e.message # or use print str(e)\n</code></pre>\n"}], "owner": {"reputation": 404, "user_id": 4211267, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/17018080/picture?type=large", "display_name": "rwbyrd", "link": "https://stackoverflow.com/users/4211267/rwbyrd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 737, "favorite_count": 1, "accepted_answer_id": 31169892, "answer_count": 2, "score": 0, "last_activity_date": 1435825084, "creation_date": 1435777644, "last_edit_date": 1435786342, "question_id": 31169660, "link": "https://stackoverflow.com/questions/31169660/exit-a-python-program-from-a-function-with-a-successful-run-result", "title": "Exit a Python Program (From a Function) with a Successful Run Result", "body": "<p>I'm trying to exit a Python test case that I'm running with a successful run result.  I have a program that uses a function I created to see if a table contains an identifier.</p>\n\n<pre><code>def test_LogsIdentifiersApache(driver, url):\n        loginToWebsite(driver, url).confirmLoginAndUnlocked()\n        driver.get(url('/LogsPage/'))\n        selectIdentifier(driver, \"gdm-simple-greeter\")\n</code></pre>\n\n<p>In that function [located in a different file], it searches the table for the identifier.  If it finds it, then it does a few other checks and returns to running the test case.  If it doesn't find the identifier in the table, then it sends a message to the screen notifying the tester that the identifier wasn't in the table &amp; exits with a successful run.</p>\n\n<pre><code>def selectIdentifier(driver, identifier):\n    &lt;&lt; Code to search for identifier here &gt;&gt;\n\n    # If identifier not found, print message to window &amp; exit test case with successful run\n    if isIdentifierPresent == False:\n        print \"\\nNOTICE: IDENTIFIERS OBJECT \\\"\"+identifier+\"\\\" NOT LISTED IN TABLE\"\n        return\n</code></pre>\n\n<p>Using 'return' worked fine when I had all the code within the test case.  Once I began creating functions, the test stopped exiting with a successful run.  I understand that 'return' makes it return to the test case and continue running, which is what I don't want.  Instead I would like to.. (1) Print the message that the identifier wasn't found and.. (2) exit out of this function [and the test case being ran] with a successful run &amp; continue running the test suite.  How can I do this?  Also, this test case is being ran directly from a folder with the 'py.test' command rather than from a test suite file, if that matters.</p>\n"}]