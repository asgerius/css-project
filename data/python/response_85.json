[{"tags": ["python"], "comments": [{"owner": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "edited": false, "score": 0, "creation_date": 1472083549, "post_id": 39134718, "comment_id": 65614807, "body": "What version of python are you using? Pretty sure relative imports got reworked with python 3"}, {"owner": {"reputation": 8099, "user_id": 2797476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9561473705b0e781edb4525bed2ac?s=128&d=identicon&r=PG", "display_name": "Christian Ternus", "link": "https://stackoverflow.com/users/2797476/christian-ternus"}, "edited": false, "score": 0, "creation_date": 1472085131, "post_id": 39134718, "comment_id": 65615147, "body": "Ugh, OK; can you post the full traceback, then? And the contents of both <code>__init__.py</code> files?"}, {"owner": {"reputation": 35121, "user_id": 577455, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2f5b02182d3fa5ca4afeb39c32f09953?s=128&d=identicon&r=PG", "display_name": "Leahcim", "link": "https://stackoverflow.com/users/577455/leahcim"}, "reply_to_user": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "edited": false, "score": 0, "creation_date": 1472085755, "post_id": 39134718, "comment_id": 65615273, "body": "I added the stack trace. thank you. Also, to answer @DarthVader &#39;s question, I&#39;m using python 2 but am also making the app to run on python 3 so I also use <code>from __future__ import absolute_import</code> at the top of each file in the sample folder"}, {"owner": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "edited": false, "score": 0, "creation_date": 1472086767, "post_id": 39134718, "comment_id": 65615466, "body": "@Leahcim if you comment out the <code>__future__</code> import, does it work?"}, {"owner": {"reputation": 352, "user_id": 5627244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07947d13febd529cc2659601aa4d7d6?s=128&d=identicon&r=PG", "display_name": "cuongnv23", "link": "https://stackoverflow.com/users/5627244/cuongnv23"}, "edited": false, "score": 0, "creation_date": 1472087382, "post_id": 39134718, "comment_id": 65615592, "body": "what if you execute <code>cd ..; python -m unittest test</code> (go back to upper dir, execute by calling <code>test</code> module, not <code>test_something</code> directly)"}, {"owner": {"reputation": 35121, "user_id": 577455, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2f5b02182d3fa5ca4afeb39c32f09953?s=128&d=identicon&r=PG", "display_name": "Leahcim", "link": "https://stackoverflow.com/users/577455/leahcim"}, "reply_to_user": {"reputation": 352, "user_id": 5627244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07947d13febd529cc2659601aa4d7d6?s=128&d=identicon&r=PG", "display_name": "cuongnv23", "link": "https://stackoverflow.com/users/5627244/cuongnv23"}, "edited": false, "score": 0, "creation_date": 1472217761, "post_id": 39134718, "comment_id": 65676973, "body": "@cuongnv see OP for update (sorry for delay, I was offline)"}, {"owner": {"reputation": 352, "user_id": 5627244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07947d13febd529cc2659601aa4d7d6?s=128&d=identicon&r=PG", "display_name": "cuongnv23", "link": "https://stackoverflow.com/users/5627244/cuongnv23"}, "edited": false, "score": 0, "creation_date": 1472255521, "post_id": 39134718, "comment_id": 65694394, "body": "can you post your <code>test_something.py</code>?"}, {"owner": {"reputation": 35121, "user_id": 577455, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2f5b02182d3fa5ca4afeb39c32f09953?s=128&d=identicon&r=PG", "display_name": "Leahcim", "link": "https://stackoverflow.com/users/577455/leahcim"}, "reply_to_user": {"reputation": 352, "user_id": 5627244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07947d13febd529cc2659601aa4d7d6?s=128&d=identicon&r=PG", "display_name": "cuongnv23", "link": "https://stackoverflow.com/users/5627244/cuongnv23"}, "edited": false, "score": 1, "creation_date": 1472303000, "post_id": 39134718, "comment_id": 65704322, "body": "@cuongnv I had already posted the relevant line from test_something.py, namely <code>from .context import sample</code>, which is what the linked to python guide said to do and which is what triggered the error. Unfortunately, I deleted the rest of the file because I found a way to run the tests by using a run_tests.py file (name of file obviously doesn&#39;t matter)  outside the test dir. However, I left the question posted because the problem it showed hadn&#39;t been answered (and the guide said it should work). But I think the rest of the test_something.py file was just a basic test case"}, {"owner": {"reputation": 352, "user_id": 5627244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07947d13febd529cc2659601aa4d7d6?s=128&d=identicon&r=PG", "display_name": "cuongnv23", "link": "https://stackoverflow.com/users/5627244/cuongnv23"}, "edited": false, "score": 0, "creation_date": 1472382085, "post_id": 39134718, "comment_id": 65721658, "body": "I don&#39;t think it&#39;s related to sys path, but the way you executed <code>unittest</code> in cli. The proper command is <code>python -m unittest test.test_something</code>. I&#39;m using exact structure like you and working fine. The output &quot;Ran 0 tests...&quot; maybe caused by test discovery doesn&#39;t work. HTH"}], "answers": [{"comments": [{"owner": {"reputation": 35121, "user_id": 577455, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2f5b02182d3fa5ca4afeb39c32f09953?s=128&d=identicon&r=PG", "display_name": "Leahcim", "link": "https://stackoverflow.com/users/577455/leahcim"}, "edited": false, "score": 2, "creation_date": 1472085022, "post_id": 39134755, "comment_id": 65615120, "body": "actually, I had an <b>init</b>.py in the <code>test</code> folder as well as in the <code>sample</code> folder and it didn&#39;t work. I had just forgot to add that to the OP. Updated now. Problem is the same."}], "tags": [], "owner": {"reputation": 8099, "user_id": 2797476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9561473705b0e781edb4525bed2ac?s=128&d=identicon&r=PG", "display_name": "Christian Ternus", "link": "https://stackoverflow.com/users/2797476/christian-ternus"}, "is_accepted": false, "score": 2, "last_activity_date": 1472083392, "creation_date": 1472083392, "answer_id": 39134755, "question_id": 39134718, "link": "https://stackoverflow.com/questions/39134718/how-to-add-a-package-to-sys-path-for-testing/39134755#39134755", "title": "how to add a package to sys path for testing", "body": "<p>Try adding an empty <code>__init__.py</code> to <code>tests/</code>: <code>touch tests/__init__.py</code> should do it.</p>\n"}, {"comments": [{"owner": {"reputation": 35121, "user_id": 577455, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2f5b02182d3fa5ca4afeb39c32f09953?s=128&d=identicon&r=PG", "display_name": "Leahcim", "link": "https://stackoverflow.com/users/577455/leahcim"}, "edited": false, "score": 0, "creation_date": 1472085109, "post_id": 39134904, "comment_id": 65615144, "body": "thank you for the explanation, but I had an <b>init</b>.py file already in both the sample and test folder, I just forgot to mention that in the OP.  So what could the problem be then?"}, {"owner": {"reputation": 352, "user_id": 5627244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07947d13febd529cc2659601aa4d7d6?s=128&d=identicon&r=PG", "display_name": "cuongnv23", "link": "https://stackoverflow.com/users/5627244/cuongnv23"}, "reply_to_user": {"reputation": 35121, "user_id": 577455, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2f5b02182d3fa5ca4afeb39c32f09953?s=128&d=identicon&r=PG", "display_name": "Leahcim", "link": "https://stackoverflow.com/users/577455/leahcim"}, "edited": false, "score": 3, "creation_date": 1472087807, "post_id": 39134904, "comment_id": 65615683, "body": "I think I figured it out, you&#39;re not calling your <code>test</code> as a package. Try to execute this command <code>cd ..; python -m unittest test.test_something</code>"}, {"owner": {"reputation": 1170, "user_id": 7454638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d561d513c2ddb28d2d321f2f8e495?s=128&d=identicon&r=PG&f=1", "display_name": "leoschet", "link": "https://stackoverflow.com/users/7454638/leoschet"}, "edited": false, "score": 0, "creation_date": 1524750393, "post_id": 39134904, "comment_id": 87105483, "body": "This comment should be in the actual answer"}], "tags": [], "owner": {"reputation": 352, "user_id": 5627244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07947d13febd529cc2659601aa4d7d6?s=128&d=identicon&r=PG", "display_name": "cuongnv23", "link": "https://stackoverflow.com/users/5627244/cuongnv23"}, "is_accepted": true, "score": 6, "last_activity_date": 1472084593, "creation_date": 1472084593, "answer_id": 39134904, "question_id": 39134718, "link": "https://stackoverflow.com/questions/39134718/how-to-add-a-package-to-sys-path-for-testing/39134904#39134904", "title": "how to add a package to sys path for testing", "body": "<blockquote>\n  <p>Question: How can I add my sample package to the sys path correctly? </p>\n</blockquote>\n\n<p>You're doing it the right way, but you missed declaring your folder to be a package. Try solution of Christian, it should work.</p>\n\n<p>Your path is stored in <code>sys.path</code>. By doing this:</p>\n\n<pre><code>sys.path.insert(0, os.path.abspath('..'))\n</code></pre>\n\n<p>You're telling your python to add upper folder (of current file) into your path. As <code>sys.path</code> is a list, you can using other methods of list like <code>insert</code>, <code>append</code>... </p>\n\n<p>In your case, you're inserting your upper dir at top of the path list.</p>\n\n<p>See:</p>\n\n<pre><code>In [1]: import sys\n\nIn [2]: sys.path\nOut[2]: \n['',\n '/usr/local/bin',\n '/usr/lib/python3.4',\n '/usr/lib/python3.4/plat-x86_64-linux-gnu',\n '/usr/lib/python3.4/lib-dynload',\n '/usr/local/lib/python3.4/dist-packages',\n '/usr/lib/python3/dist-packages',\n '/usr/local/lib/python3.4/dist-packages/IPython/extensions',\n '/home/cuong/.ipython']\n\nIn [3]: sys.path.insert(0, '/tmp/foo')\n\nIn [4]: sys.path\nOut[4]: \n['/tmp/foo', **&lt;-- on top**\n '',\n '/usr/local/bin',\n '/usr/lib/python3.4',\n '/usr/lib/python3.4/plat-x86_64-linux-gnu',\n '/usr/lib/python3.4/lib-dynload',\n '/usr/local/lib/python3.4/dist-packages',\n '/usr/lib/python3/dist-packages',\n '/usr/local/lib/python3.4/dist-packages/IPython/extensions',\n '/home/cuong/.ipython']\n</code></pre>\n\n<p>So, from here, when you have </p>\n\n<pre><code>import sample\n</code></pre>\n\n<p>your python will try to look in path to see if there is any <code>sample</code> package. </p>\n\n<p>Unfortunately, it can't find <code>sample</code> as you didn't make it as a package because your forgot <code>__init__.py</code> in <code>sample</code> folder.</p>\n\n<p>Hope my explanation would help you to understand and you can handle other situations different to this.</p>\n"}, {"comments": [{"owner": {"reputation": 577, "user_id": 9265663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2WCb.jpg?s=128&g=1", "display_name": "W. Dan", "link": "https://stackoverflow.com/users/9265663/w-dan"}, "edited": false, "score": 0, "creation_date": 1592897377, "post_id": 48083145, "comment_id": 110581280, "body": "sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(<b>file</b>) GJ!!!"}], "tags": [], "owner": {"reputation": 1778, "user_id": 7222588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A75G5.jpg?s=128&g=1", "display_name": "Oppy", "link": "https://stackoverflow.com/users/7222588/oppy"}, "is_accepted": false, "score": 2, "last_activity_date": 1593284294, "last_edit_date": 1593284294, "creation_date": 1515004077, "answer_id": 48083145, "question_id": 39134718, "link": "https://stackoverflow.com/questions/39134718/how-to-add-a-package-to-sys-path-for-testing/48083145#48083145", "title": "how to add a package to sys path for testing", "body": "<p>I had a battle to get my testing directory structure to work outside of an\nIDE. Please find my solution below. Tested on\nWindows 7 using python 3.6 and Linux Mint using python 3.4, running the code\nusing the command line:</p>\n<pre><code>python -m pytest test_compress_files.py\n</code></pre>\n<p>The file I wrote to be tested is called compress_files.py in a directory named\n\\src. The file containing tests to be run using pytest is called\ntest_compress_files.py in a subdirectory \\tests, so the full directory path is\n\\src\\tests. I needed to add a file called context.py to the \\src\\tests\ndirectory. This file is used in test_compress_files.py to enable access to compress_files.py in the directory above. The _<em>init</em>_.py files are empty.</p>\n<p>Directory structure</p>\n<pre><code>\\src\n__init__.py\ncompress_files.py\n\n\\src\\tests\n__init__.py\ncontext.py\ntest_compress_files.py  \n</code></pre>\n<p>compress_files.py contains the script to be tested.</p>\n<p>context.py:</p>\n<pre><code>import os\nimport sys\nsys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), '..')))\n\nimport compress_files  \n</code></pre>\n<p>The line:</p>\n<pre><code>sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), '..')))\n</code></pre>\n<p>comes from the suggestion at the hitch hikers guide to python at <a href=\"http://docs.python-guide.org/en/latest/writing/structure/\" rel=\"nofollow noreferrer\">http://docs.python-guide.org/en/latest/writing/structure/</a>. This adds the path of the directory above the /src/tests directory to sys.path, which in this case is /src.</p>\n<p>test_compress_files.py:</p>\n<pre><code>import os\nimport pytest\nfrom .context import compress_files\nfrom compress_files import *\n\n# tests start here\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 4626682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0kmRT.jpg?s=128&g=1", "display_name": "aldroid", "link": "https://stackoverflow.com/users/4626682/aldroid"}, "is_accepted": false, "score": 0, "last_activity_date": 1571873065, "creation_date": 1571873065, "answer_id": 58532165, "question_id": 39134718, "link": "https://stackoverflow.com/questions/39134718/how-to-add-a-package-to-sys-path-for-testing/58532165#58532165", "title": "how to add a package to sys path for testing", "body": "<p>I can't comment yet but i was trying out Oppy's answers in python 3.7 env and it fail as:</p>\n\n<p><code>ImportError: cannot import name 'compress_files' from '__main__' (test_compress_files.py)</code></p>\n\n<p>I resolved using a modified test_compress_files.py (notice the removed dot) :</p>\n\n<pre><code>import os\nimport pytest\nfrom context import compress_files\nfrom compress_files import *\n\n# tests start here\n...\n</code></pre>\n"}], "owner": {"reputation": 35121, "user_id": 577455, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2f5b02182d3fa5ca4afeb39c32f09953?s=128&d=identicon&r=PG", "display_name": "Leahcim", "link": "https://stackoverflow.com/users/577455/leahcim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7115, "favorite_count": 4, "accepted_answer_id": 39134904, "answer_count": 4, "score": 10, "last_activity_date": 1593284294, "creation_date": 1472083110, "last_edit_date": 1472217932, "question_id": 39134718, "link": "https://stackoverflow.com/questions/39134718/how-to-add-a-package-to-sys-path-for-testing", "title": "how to add a package to sys path for testing", "body": "<p>This question is occasioned by instructions in the <a href=\"http://docs.python-guide.org/en/latest/writing/structure/\" rel=\"noreferrer\">python guide</a> for adding a project to sys path to use in tests, which do not seem to work unless I am misunderstanding the instructions</p>\n\n<p>I have a directory structure for a python project like this</p>\n\n<pre><code>sample/a.py\nsample/b.py\nsample/c.py\nsample/__init__.py\ntest/context.py\ntest/test_something.py\ntest/__init__.py\ndocs\n</code></pre>\n\n<p>According to <a href=\"http://docs.python-guide.org/en/latest/writing/structure/\" rel=\"noreferrer\">the python guide</a>, I should create a test/context.py file and add this</p>\n\n<pre><code>import os\nimport sys\nsys.path.insert(0, os.path.abspath('..'))\n\nimport sample\n</code></pre>\n\n<p>Then, in my <code>test/test_something.py</code> file, it says I can do this</p>\n\n<pre><code>from .context import sample\n</code></pre>\n\n<p>The guide says \"This will always work as expected\".</p>\n\n<p>but, when I <code>cd</code> into test and run</p>\n\n<pre><code>python -m unittest test_something\n</code></pre>\n\n<p>I get an error</p>\n\n<pre><code>ValueError: Attempted relative import in non-package\n</code></pre>\n\n<p>and the error message specifically refers to this: <code>from .context import sample</code></p>\n\n<p>Question: How can I add my sample package to the sys path correctly? </p>\n\n<p>When answering, can you also clarify if the solution will handle absolute imports within the sample package. For example, my sample.a imports sample.b etc. When I had my tests structured a different way, I did an absolute import of sample.a, but since it has a relative import of <code>from .b import Boo</code>, it produced a similar error</p>\n\n<p>Update</p>\n\n<pre><code>`File \"/usr/local/lib/python2.7/runpy.py\", line 162 in _run_module_as_main \"__main__\", fname, loader, pkg_name)\nFile  \"/usr/local/lib/python2.7/runpy.py\", line 72, in _run_code exec code in run_globals\nFile  \"/usr/local/lib/python2.7/unittest/__main__.py\", line 12, in module main(module=None)\nFile  \"/usr/local/lib/python2.7/unittest/main.py\", line 94, in __init__ self.parseArgs(argv)\nFile  \"/usr/local/lib/python2.7/unittest/main.py\", line 149 in parseArgs self.createTests()\nFile  \"/usr/local/lib/python2.7/unittest/main.py\", line 158, in createTests self.module)\nFile  \"/usr/local/lib/python2.7/unittest/loader.py\", line 130, in loadTestsFromNames suites = [self.loadTestsFromName(name,module) for name in names]\nFile  \"/usr/local/lib/python2.7/unittest/loader.py\", line 91, in loadTestsFromName module = __import__('-'.join(parts_copy))\nFile \"test_something.py\", line 8, in module from .context import sample\n</code></pre>\n\n<p>Update</p>\n\n<p>if I run the following command from root directory</p>\n\n<pre><code>   python -m unittest test\n</code></pre>\n\n<p>It says , \"Ran 0 tests in 0.000s\"</p>\n\n<p>If, as was suggested in the comments by @cuongnv, I run this from root directory</p>\n\n<pre><code>python -m unittest test/test_something.py\n</code></pre>\n\n<p>or this (without the file extension)</p>\n\n<pre><code>python -m unittest test/test_something \n</code></pre>\n\n<p>It says \"Import by filename is not supported\"</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1472083153, "post_id": 39134696, "comment_id": 65614702, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/319426/how-do-i-do-a-case-insensitive-string-comparison-in-python\">How do I do a case insensitive string comparison in Python?</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472083182, "post_id": 39134696, "comment_id": 65614708, "body": "This is a duplicate, see <a href=\"http://stackoverflow.com/questions/319426/how-do-i-do-a-case-insensitive-string-comparison-in-python\">here</a>:"}], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 6754285, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70431543134c84959736ea64a820a11a?s=128&d=identicon&r=PG&f=1", "display_name": "cars", "link": "https://stackoverflow.com/users/6754285/cars"}, "edited": false, "score": 0, "creation_date": 1472083328, "post_id": 39134730, "comment_id": 65614746, "body": "I want to be able to check for both. for example if in the input I type in YeLlOw. I want it to still print Yellow is a primary colour for paint"}, {"owner": {"reputation": 318, "user_id": 6754285, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70431543134c84959736ea64a820a11a?s=128&d=identicon&r=PG&f=1", "display_name": "cars", "link": "https://stackoverflow.com/users/6754285/cars"}, "edited": false, "score": 0, "creation_date": 1472084002, "post_id": 39134730, "comment_id": 65614905, "body": "Suppose If I was to write OrANge in the input. then the output will be. orange is not a primary colour. When I want the output to be OrANge is not a primary colour."}, {"owner": {"reputation": 4209, "user_id": 1021177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1428d36c91a53a1e4c39fb2c7ceff15?s=128&d=identicon&r=PG", "display_name": "Kevin London", "link": "https://stackoverflow.com/users/1021177/kevin-london"}, "reply_to_user": {"reputation": 318, "user_id": 6754285, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70431543134c84959736ea64a820a11a?s=128&d=identicon&r=PG&f=1", "display_name": "cars", "link": "https://stackoverflow.com/users/6754285/cars"}, "edited": false, "score": 0, "creation_date": 1472086064, "post_id": 39134730, "comment_id": 65615330, "body": "@cars: Yes, you&#39;re right. For the last case, you&#39;d want to change it to: <code>print(a.capitalize(), &#39;is not a primary colour.&#39;)</code> or, if you want the exact output, you could store <code>a</code> as the original variable and then check if it&#39;s in <code>a.lower()</code> or make another temp variable (perhaps <code>a_lower = a.lower()</code>)."}], "tags": [], "owner": {"reputation": 4209, "user_id": 1021177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1428d36c91a53a1e4c39fb2c7ceff15?s=128&d=identicon&r=PG", "display_name": "Kevin London", "link": "https://stackoverflow.com/users/1021177/kevin-london"}, "is_accepted": false, "score": 2, "last_activity_date": 1472083170, "creation_date": 1472083170, "answer_id": 39134730, "question_id": 39134696, "link": "https://stackoverflow.com/questions/39134696/random-colours-in-the-spectrum/39134730#39134730", "title": "random colours in the spectrum", "body": "<p>Try this:</p>\n\n<pre><code>a = input(\"Enter Colour: \").lower()\nif 'yellow' in a:\n print('Yellow is a primary coulour for paint.')\nelif 'green' in a:\n print('Green is a primary colour for light.')\nelif 'blue' in a:\n print('blue is a primary colour for light and paint.')\nelif 'red' in a:\n print('red is a primary colour for light and paint')\nelse:\n print(a,'is not a primary colour.')\n</code></pre>\n\n<p>By converting the input to lowercase, you can check for just the lowercase version of the colors.</p>\n"}, {"comments": [{"owner": {"reputation": 318, "user_id": 6754285, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70431543134c84959736ea64a820a11a?s=128&d=identicon&r=PG&f=1", "display_name": "cars", "link": "https://stackoverflow.com/users/6754285/cars"}, "edited": false, "score": 0, "creation_date": 1472089748, "post_id": 39135042, "comment_id": 65616033, "body": "I want it to print exactly how it was written. For example Enter Colour: blue           output  =     blue is a primary colour for light and paint. The only problem I was having was with the program not interpreting the strings,"}], "tags": [], "owner": {"reputation": 17763, "user_id": 5317403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8TwWN.png?s=128&g=1", "display_name": "acw1668", "link": "https://stackoverflow.com/users/5317403/acw1668"}, "is_accepted": true, "score": 1, "last_activity_date": 1472091377, "last_edit_date": 1472091377, "creation_date": 1472085907, "answer_id": 39135042, "question_id": 39134696, "link": "https://stackoverflow.com/questions/39134696/random-colours-in-the-spectrum/39135042#39135042", "title": "random colours in the spectrum", "body": "<p>Try:</p>\n\n<pre><code>a = input(\"Enter Colour: \").strip()\ncolor = a.lower()\n\nif color in [\"red\", \"blue\"]:\n    print(color, \"is a primary colour for light and paint.\")\nelif color in [\"yellow\"]:\n    print(\"Yellow is a primary colour for paint.\")\nelif color in [\"green\"]:\n    print(\"Green is a primary colour for light.\")\nelse:\n    print(a, \"is not a primary colour.\")\n</code></pre>\n"}], "owner": {"reputation": 318, "user_id": 6754285, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70431543134c84959736ea64a820a11a?s=128&d=identicon&r=PG&f=1", "display_name": "cars", "link": "https://stackoverflow.com/users/6754285/cars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "accepted_answer_id": 39135042, "answer_count": 2, "score": 0, "last_activity_date": 1472110375, "creation_date": 1472082992, "last_edit_date": 1472110375, "question_id": 39134696, "link": "https://stackoverflow.com/questions/39134696/random-colours-in-the-spectrum", "title": "random colours in the spectrum", "body": "<p>Hi I am new to programming and I am writing a program that will ask the user to type in a colour. The program will then tell the user if that colour is a primary colour for paint, light, both or neither. </p>\n\n<p>primary colours are red, blue and yellow</p>\n\n<p>primary colours for light are red, blue and green.</p>\n\n<p>This is my code so far:</p>\n\n<pre><code>a = input(\"Enter Colour: \")\nif 'Yellow' in a:\n print('Yellow is a primary coulour for paint.')\nelif 'Green' in a:\n print('Green is a primary colour for light.')\nelif 'blue' in a:\n print('blue is a primary colour for light and paint.')\nelif 'red' in a:\n print('red is a primary colour for light and paint')\nelse:\n print(a,'is not a primary colour.')\n</code></pre>\n\n<p>The problem I am having with this code is when I use different cases.\nFor example the input blue should give the same output as Blue or BLUe.</p>\n\n<p>So I want the program to ignore the case.</p>\n\n<p>Anything would help thanks.</p>\n"}, {"tags": ["python", "django", "python-2.7", "email"], "answers": [{"comments": [{"owner": {"reputation": 516, "user_id": 4024584, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/3HT3q.png?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4024584/matthew"}, "edited": false, "score": 0, "creation_date": 1472082523, "post_id": 39134595, "comment_id": 65614565, "body": "I&#39;m on CentOS/Linux. My application is called oats and the settings file is called settings.py. So... I tried to:   export DJANGO_SETTINGS_MODULE=&quot;oats.settings&quot;  But it had no effect. The test application doesn&#39;t pick it up."}, {"owner": {"reputation": 1704, "user_id": 5978459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmIL.jpg?s=128&g=1", "display_name": "perfect5th", "link": "https://stackoverflow.com/users/5978459/perfect5th"}, "reply_to_user": {"reputation": 516, "user_id": 4024584, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/3HT3q.png?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4024584/matthew"}, "edited": false, "score": 0, "creation_date": 1472082698, "post_id": 39134595, "comment_id": 65614611, "body": "In your first code block, are you running it from the Python interpreter or the django shell? If the shell, then make sure you have TEMPLATE_DIRS=(&#39;/path_to_project&#39;,), DEBUG=False, TEMPLATE_DEBUG=False in your settings file, then call the shell with the option --settings=oats.settings. Use the same --settings option when you run your server."}, {"owner": {"reputation": 516, "user_id": 4024584, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/3HT3q.png?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4024584/matthew"}, "edited": false, "score": 0, "creation_date": 1472084318, "post_id": 39134595, "comment_id": 65614963, "body": "I&#39;m using the interpreter, not the shell. I&#39;ve tried to setup logging and logging works, but nothing related to mail comes out. Very frustrating."}], "tags": [], "owner": {"reputation": 1704, "user_id": 5978459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmIL.jpg?s=128&g=1", "display_name": "perfect5th", "link": "https://stackoverflow.com/users/5978459/perfect5th"}, "is_accepted": false, "score": 0, "last_activity_date": 1472082179, "creation_date": 1472082179, "answer_id": 39134595, "question_id": 39134580, "link": "https://stackoverflow.com/questions/39134580/how-do-i-set-the-django-settings-module-env-variable/39134595#39134595", "title": "How do I set the DJANGO_SETTINGS_MODULE env variable?", "body": "<p>Are you on Mac or Linux? Then simply <code>export DJANGO_SETTINGS_MODULE=\"project_name.settings.your_settings_file\"</code>\nMake sure that if your settings file is in a folder, that there is also an <code>__init__.py</code> file in there.</p>\n\n<p>On windows, I believe the equivalent is <code>SET DJANGO_SETTINGS_MODULE=\"project_name.settings.your_settings_file</code>, but I could be mistaken.</p>\n\n<p>For django logging, see <a href=\"https://docs.djangoproject.com/en/1.10/topics/logging/\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.10/topics/logging/</a></p>\n"}, {"comments": [{"owner": {"reputation": 516, "user_id": 4024584, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/3HT3q.png?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4024584/matthew"}, "edited": false, "score": 0, "creation_date": 1472082753, "post_id": 39134636, "comment_id": 65614622, "body": "Sure, that sounds great. Do you have an example? (for the entry)"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 516, "user_id": 4024584, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/3HT3q.png?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4024584/matthew"}, "edited": false, "score": 0, "creation_date": 1472082919, "post_id": 39134636, "comment_id": 65614648, "body": "Updated the answer"}, {"owner": {"reputation": 516, "user_id": 4024584, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/3HT3q.png?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4024584/matthew"}, "edited": false, "score": 0, "creation_date": 1472083047, "post_id": 39134636, "comment_id": 65614682, "body": "I checked my wsgi file and it already has:  os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;oats.settings&quot;)  I&#39;ll try without the setdefault."}, {"owner": {"reputation": 516, "user_id": 4024584, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/3HT3q.png?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4024584/matthew"}, "edited": false, "score": 0, "creation_date": 1472083516, "post_id": 39134636, "comment_id": 65614797, "body": "I tried adding os.environ[&#39;DJANGO_SETTINGS_MODULE&#39;] = &#39;oats.settings&#39;, but no progress. Still getting import errors."}, {"owner": {"reputation": 527, "user_id": 6752348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qplu9.jpg?s=128&g=1", "display_name": "lorenzo_campanile", "link": "https://stackoverflow.com/users/6752348/lorenzo-campanile"}, "edited": false, "score": 0, "creation_date": 1536850376, "post_id": 39134636, "comment_id": 91580102, "body": "Thank you! I did not think about it"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 7, "last_activity_date": 1472082908, "last_edit_date": 1472082908, "creation_date": 1472082531, "answer_id": 39134636, "question_id": 39134580, "link": "https://stackoverflow.com/questions/39134580/how-do-i-set-the-django-settings-module-env-variable/39134636#39134636", "title": "How do I set the DJANGO_SETTINGS_MODULE env variable?", "body": "<p>Do not set it from outside the application. Make a entry for <code>DJANGO_SETTINGS_MODULE</code> variable within your <code>wsgi</code> file. Everytime your server will be started, this variable will be set automatically.</p>\n\n<p>For example:</p>\n\n<pre><code>import os\nos.environ['DJANGO_SETTINGS_MODULE'] = '&lt;project_name&gt;.settings'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 9749972, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Leon Chang", "link": "https://stackoverflow.com/users/9749972/leon-chang"}, "is_accepted": false, "score": 0, "last_activity_date": 1566338077, "creation_date": 1566338077, "answer_id": 57581990, "question_id": 39134580, "link": "https://stackoverflow.com/questions/39134580/how-do-i-set-the-django-settings-module-env-variable/57581990#57581990", "title": "How do I set the DJANGO_SETTINGS_MODULE env variable?", "body": "<p>Just out of curiosity, I looked into the django code to find out where the settings for DJANGO_SETTINGS_MODULE in wsgi.py are executed.</p>\n\n<pre><code>$ python3\n&gt;&gt;&gt; from mysite import wsgi\nTraceback (most recent call last):\n\nfrom django.core.wsgi import get_wsgi_application\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'mysite.settings')\napplication = get_wsgi_application() =&gt;\n\nIn \"django/core/wsgi.py\"\n     def get_wsgi_application() =&gt; django.setup(set_prefix=False) =&gt;\nIn \"django/__init__.py\"\n      def setup(set_prefix=True):\n              from django.conf import settings\n              from django.utils.log import configure_logging\n              configure_logging(settings.LOGGING_CONFIG, settings.LOGGING)\nIn \"conf/__init__.py\"\n      settings = LazySettings()\nclass LazySettings(LazyObject):\n    def __getattr__(self, name=LOGGING_CONFIG):\n      self._setup(name)\n    def _setup(self, name=None):\n        settings_module = os.environ.get(ENVIRONMENT_VARIABLE)\n        self._wrapped = Settings(settings_module)\nclass Settings:\n    def __init__(self, settings_module):\n        mod = importlib.import_module(settings_module)  \n\nAfter which, we have settings.py imported and verified as below:\n&gt;&gt;&gt; mysite.settings.BASE_DIR            &lt;&lt;&lt;===  verified\n'/home/user/Documents/DjangoTutorial/mysite'\n&gt;&gt;&gt; mysite.settings.ROOT_URLCONF        &lt;&lt;&lt;===  verified\n'mysite.urls'\n</code></pre>\n\n<p>So it is first imported with configure_logging(settings.LOGGING_CONFIG)</p>\n"}], "owner": {"reputation": 516, "user_id": 4024584, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/3HT3q.png?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4024584/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5469, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1566338077, "creation_date": 1472082058, "question_id": 39134580, "link": "https://stackoverflow.com/questions/39134580/how-do-i-set-the-django-settings-module-env-variable", "title": "How do I set the DJANGO_SETTINGS_MODULE env variable?", "body": "<p>I'm trying to fix a bug I'm seeing in a django application where it isn't sending mail. Please note that the application works great, it's only the mail function that is failing. I've tried to collect error logs, but I can't come up with any errors related to sending the mail. So, I made a example to try and force the errors. Here is the example:</p>\n\n<pre><code>from django.core.mail import send_mail\n\nsend_mail('hi', 'hi', 'test@test.com', ['myname@yeah.com'], fail_silently=False)\n</code></pre>\n\n<p>When I run the above code, I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"dmail.py\", line 14, in &lt;module&gt;\n    send_mail('hi', 'hi', 'test@test.com', ['myname@yeah.com'], fail_silently=False)\n  File \"/data/servers/calendar_1/lib/python2.7/site-packages/django/core/mail/__init__.py\", line 59, in send_mail\n    fail_silently=fail_silently)\n  File \"/data/servers/calendar_1/lib/python2.7/site-packages/django/core/mail/__init__.py\", line 29, in get_connection\n    path = backend or settings.EMAIL_BACKEND\n  File \"/data/servers/calendar_1/lib/python2.7/site-packages/django/utils/functional.py\", line 184, in inner\n    self._setup()\n  File \"/data/servers/calendar_1/lib/python2.7/site-packages/django/conf/__init__.py\", line 39, in _setup\n    raise ImportError(\"Settings cannot be imported, because environment variable %s is undefined.\" % ENVIRONMENT_VARIABLE)\nImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.\n</code></pre>\n\n<p>I managed to fix my test example by changing the code to this:</p>\n\n<pre><code>from django.core.mail import send_mail\n\nfrom django.conf import settings\nsettings.configure(TEMPLATE_DIRS=('/path_to_project',), DEBUG=False, TEMPLATE_DEBUG=False)\n\nsend_mail('hi', 'hi', 'test@test.com', ['myname@yeah.com'], fail_silently=False)\n</code></pre>\n\n<p>However, when I try to add those settings to send_mail.py, I'm still not getting any mail from my actual application. Can someone explain to me, clearly, how I setup the DJANGO_SETTINGS_MODULE so that both my example and my application can see it? Failing that, can someone tell me how to setup meaningful logging in django so I actually see mail related errors in the logs? Any tips or guidance would be greatly appreciated. </p>\n"}, {"tags": ["python", "class"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 3, "creation_date": 1472082077, "post_id": 39134575, "comment_id": 65614463, "body": "<code>self.A</code> is 0, is it not? <code>answer()</code> is printing <code>self.A</code>"}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 4, "creation_date": 1472082144, "post_id": 39134575, "comment_id": 65614476, "body": "Because <code>answer()</code> says to print <code>self.A</code>, which is initialized to 0 in <code>__init__</code> and never changed."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1472082657, "post_id": 39134575, "comment_id": 65614599, "body": "Are you asking about the exit code 0 message?"}, {"owner": {"reputation": 3, "user_id": 6116357, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-d9CylQsznEA/AAAAAAAAAAI/AAAAAAAAAAo/xSx0etTY0-g/photo.jpg?sz=128", "display_name": "Lemon Tiger", "link": "https://stackoverflow.com/users/6116357/lemon-tiger"}, "edited": false, "score": 0, "creation_date": 1472082691, "post_id": 39134575, "comment_id": 65614610, "body": "Hello Barmar - not the exit code, I should have been more clear.  I was asking about the &#39;1, 1, 0&#39; output.      Also to everyone else....Why all the down votes?  I am a coding beginner and this is my first question posted on stack overflow.  I was under the impression this was a site for posting questions and answers at all levels."}, {"owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "edited": false, "score": 0, "creation_date": 1472082869, "post_id": 39134575, "comment_id": 65614639, "body": "@LemonTiger Don&#39;t let them bother you, your question is quite alright, at least it&#39;s <a href=\"http://stackoverflow.com/help/mcve\">mcve</a>. I&#39;ve seen worst questions than yours in this site by far  :P"}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1472082890, "post_id": 39134575, "comment_id": 65614644, "body": "What do you expect yourself?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6116357, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-d9CylQsznEA/AAAAAAAAAAI/AAAAAAAAAAo/xSx0etTY0-g/photo.jpg?sz=128", "display_name": "Lemon Tiger", "link": "https://stackoverflow.com/users/6116357/lemon-tiger"}, "edited": false, "score": 0, "creation_date": 1472083164, "post_id": 39134654, "comment_id": 65614703, "body": "Thank you, I rewrote it and it makes sense now."}, {"owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "reply_to_user": {"reputation": 3, "user_id": 6116357, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-d9CylQsznEA/AAAAAAAAAAI/AAAAAAAAAAo/xSx0etTY0-g/photo.jpg?sz=128", "display_name": "Lemon Tiger", "link": "https://stackoverflow.com/users/6116357/lemon-tiger"}, "edited": false, "score": 0, "creation_date": 1472083302, "post_id": 39134654, "comment_id": 65614740, "body": "@LemonTiger You&#39;re welcome, best way to thanks somebody here in stackoverflow is validating the answer it helped you the most. Also, don&#39;t be bothered by downvotes... In any case, maybe this <a href=\"http://stackoverflow.com/help/how-to-ask\">link</a> will help you next time you ask again. Welcome to SO"}], "tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": true, "score": 1, "last_activity_date": 1472082652, "creation_date": 1472082652, "answer_id": 39134654, "question_id": 39134575, "link": "https://stackoverflow.com/questions/39134575/why-does-this-code-return-a-zero/39134654#39134654", "title": "Why does this code return a zero?", "body": "<p>Maybe if you write it differently you'll understand what's going on:</p>\n\n<pre><code>class One(object):\n\n    def __init__(self):\n        self.A = 0\n\n    def Two(self, *args):\n        for x in args:\n            if x == 1:\n                print x\n        return self\n\n    def answer(self):\n        print(self.A)\n\nABC = One()\nABC.Two(1, 1, 9, 0, 7)\nprint '-' * 80\nABC.answer()\n</code></pre>\n\n<p>As you can see, the method <code>answer</code>is the one returning zero, not the method <code>Two</code></p>\n"}], "owner": {"reputation": 3, "user_id": 6116357, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-d9CylQsznEA/AAAAAAAAAAI/AAAAAAAAAAo/xSx0etTY0-g/photo.jpg?sz=128", "display_name": "Lemon Tiger", "link": "https://stackoverflow.com/users/6116357/lemon-tiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1472095723, "accepted_answer_id": 39134654, "answer_count": 1, "score": -4, "last_activity_date": 1472088998, "creation_date": 1472082020, "last_edit_date": 1472088998, "question_id": 39134575, "link": "https://stackoverflow.com/questions/39134575/why-does-this-code-return-a-zero", "closed_reason": "Needs details or clarity", "title": "Why does this code return a zero?", "body": "<p>The following is some simple Python 2.6 code that I wrote. The code works as expected, except I am curious why a zero (0) is returned in the output?</p>\n\n<p>Thank you very much!</p>\n\n<pre><code>class One(object):\n    def __init__(self):\n        self.A = 0\n\n    def Two(self, *args):\n        for x in args:\n            if x == 1:\n                print x\n        return self\n\n    def answer(self):\n        print (self.A)\n\nABC = One()\nABC.Two(1, 1, 9, 0, 7).answer()\n</code></pre>\n\n<p><strong><em>OUTPUT</em></strong></p>\n\n<pre><code>1\n1\n0\nProcess finished with exit code 0\n</code></pre>\n"}, {"tags": ["python", "nlp", "graph-theory", "bipartite"], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 4893008, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LZ37iMxOVjI/AAAAAAAAAAI/AAAAAAAAbPY/ODCh4KBI82g/photo.jpg?sz=128", "display_name": "Sohier Dane", "link": "https://stackoverflow.com/users/4893008/sohier-dane"}, "is_accepted": false, "score": 0, "last_activity_date": 1472085955, "last_edit_date": 1495542788, "creation_date": 1472085955, "answer_id": 39135049, "question_id": 39134571, "link": "https://stackoverflow.com/questions/39134571/network-model-of-document-similarity/39135049#39135049", "title": "Network model of document similarity", "body": "<p>Bit of an outline, but the overall steps for a quick solution are:\n 1. Convert your words to a format more suitable for machine processing with a tool like <a href=\"http://www.nltk.org/api/nltk.stem.html\" rel=\"nofollow noreferrer\">http://www.nltk.org/api/nltk.stem.html</a>\n 2. Follow the steps outlined here to calculate the tf-idf similarity: <a href=\"https://stackoverflow.com/questions/8897593/similarity-between-two-text-documents\">Similarity between two text documents</a>\n 3. Use np.argsort() to extract the most similar items.</p>\n"}, {"tags": [], "owner": {"reputation": 12740, "user_id": 3907250, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/RIhjj.jpg?s=128&g=1", "display_name": "Aerin", "link": "https://stackoverflow.com/users/3907250/aerin"}, "is_accepted": false, "score": 1, "last_activity_date": 1472162098, "creation_date": 1472162098, "answer_id": 39155334, "question_id": 39134571, "link": "https://stackoverflow.com/questions/39134571/network-model-of-document-similarity/39155334#39155334", "title": "Network model of document similarity", "body": "<p>First thought on my mind: For 50 pages of work, you might save more time by just doing it with a human.</p>\n\n<p>But, if you have a good data scientist in your team, you can try gensim. The most recent technology of comparing two different phrases is word embedding. You can think of it as converting words to high-dimensional vectors (from 200 to 1000 dimensions) by training on millions of documents.</p>\n\n<p>For example, if your string is \"Human computer interaction\", you would be looking for something like this.</p>\n\n<pre><code>[(2, 0.99844527), # The EPS user interface management system\n(0, 0.99809301), # Human machine interface for lab abc computer applications\n(3, 0.9865886), # System and human system engineering testing of EPS\n(1, 0.93748635), # A survey of user opinion of computer system response time\n(4, 0.90755945), # Relation of user perceived response time to error measurement\n(8, 0.050041795), # Graph minors A survey\n(7, -0.098794639), # Graph minors IV Widths of trees and well quasi ordering\n(6, -0.1063926), # The intersection graph of paths in trees\n(5, -0.12416792)] # The generation of random binary unordered trees   \n</code></pre>\n\n<p>from: <a href=\"https://radimrehurek.com/gensim/tut3.html\" rel=\"nofollow\">https://radimrehurek.com/gensim/tut3.html</a></p>\n"}], "owner": {"reputation": 11, "user_id": 4451698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06c19abe9d0d70260658a4fd4ea6e5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Cero", "link": "https://stackoverflow.com/users/4451698/ian-cero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1472162098, "creation_date": 1472082009, "question_id": 39134571, "link": "https://stackoverflow.com/questions/39134571/network-model-of-document-similarity", "title": "Network model of document similarity", "body": "<p>Thanks in advance for your help. Briefly, I have been asked to help my organization in an accreditation process that repeats every 5 years. The document we need to compile is roughly 50 pages long (150 or so questions, total), so we would like to reuse as much of the content we produced in our last round as possible. </p>\n\n<p><strong>The problem</strong>: The order and wording of the questions changed in this last round, but not completely (e.g., \"Please describe your organization's commitment to diversity\" vs. \"What policies are in place to ensure organizational diversity?\"). Thus, we need a way to find out which questions from the old round map onto the new round, or at least mostly (they don't need to be a perfect match, just similar).</p>\n\n<p><strong>My thought</strong> was to establish a bipartite network, with old questions and new questions as the vertex sets of the network. Edges would be weighted by some measure of word overlap in their questions or answers. </p>\n\n<p><strong><em>Does anyone know how to start to tackle this problem?</em></strong></p>\n\n<p>Again, thank you, any help you offer will likely save hours of time.</p>\n\n<p>PS - I am totally open to alternative solutions too. In case it helps, a picture of how I initially thought about modelling the problem is below.</p>\n\n<p><a href=\"http://i613.photobucket.com/albums/tt220/iancero/Untitled%20drawing_zpst3ektl8j.png\" rel=\"nofollow\">an example solution</a></p>\n"}, {"tags": ["python", "sorting", "combinations"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1472082687, "post_id": 39134563, "comment_id": 65614609, "body": "<a href=\"http://stackoverflow.com/questions/18909280/python-list-of-tuples-merge-2nd-element-with-unique-first-element\" title=\"python list of tuples merge 2nd element with unique first element\">stackoverflow.com/questions/18909280/&hellip;</a> this is an ideal case for a groupby"}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1472082757, "post_id": 39134563, "comment_id": 65614623, "body": "Well this is a very clear duplicate of that question @PadraicCunningham, thank you for pointing it out. Voting to close as duplicate."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 1, "creation_date": 1472082867, "post_id": 39134563, "comment_id": 65614638, "body": "Since you need to sort the result at the end it&#39;s better to use <code>groupby()</code> <code>&gt;&gt;&gt; [tuple(OrderedDict.fromkeys(chain.from_iterable(g))) for _,g in groupby(sorted(a, key=itemgetter(0)), itemgetter(0))] [(0, &#39;W&#39;, &#39;V&#39;), (1, &#39;J&#39;), (2, &#39;T&#39;, &#39;C&#39;)] </code>"}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1472083291, "post_id": 39134563, "comment_id": 65614738, "body": "Good one liner. You should add it to the older question @Kasramvd."}], "answers": [{"tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": true, "score": 1, "last_activity_date": 1472082259, "creation_date": 1472082259, "answer_id": 39134599, "question_id": 39134563, "link": "https://stackoverflow.com/questions/39134563/sort-and-combine-tuples-by-repeated-elements/39134599#39134599", "title": "Sort and combine tuples by repeated elements", "body": "<p>Here's a possible solution:</p>\n\n<pre><code>from collections import defaultdict\n\na = [(2, 'T'), (0, 'W'), (1, 'J'), (0, 'V'), (2, 'C')]\n\nb = defaultdict(list)\n\nfor v in a:\n    b[v[0]].append(v[1])\n\nb = [tuple([k] + [b[k]]) for k in sorted(b.keys())]\nprint b\n</code></pre>\n"}], "owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "closed_date": 1472082793, "accepted_answer_id": 39134599, "answer_count": 1, "score": 1, "last_activity_date": 1472082598, "creation_date": 1472081947, "question_id": 39134563, "link": "https://stackoverflow.com/questions/39134563/sort-and-combine-tuples-by-repeated-elements", "closed_reason": "Duplicate", "title": "Sort and combine tuples by repeated elements", "body": "<p>I have a list that resembles this one:</p>\n\n<pre><code>a = [(2, 'T'), (0, 'W'), (1, 'J'), (0, 'V'), (2, 'C')]\n</code></pre>\n\n<p>and I need to convert it into this:</p>\n\n<pre><code>b = [(0, 'W', 'V'), (1, 'J'), (2, 'T', 'C')]\n</code></pre>\n\n<p>This is: sort it by the first element in each tuple, and combine into a single tuple all those with repeated first elements.</p>\n\n<p>I could do this with some convoluted use of <code>for</code>, but I'm wondering if there might be an easier/simpler way (perhaps using <code>zip()</code> and <code>sorted()</code>?)</p>\n"}, {"tags": ["python", "loops", "iterator", "generator", "break"], "comments": [{"owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 0, "creation_date": 1472081792, "post_id": 39134524, "comment_id": 65614388, "body": "Why are you implementing customized loop behavior?"}], "answers": [{"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1472085656, "last_edit_date": 1472085656, "creation_date": 1472082261, "answer_id": 39134601, "question_id": 39134524, "link": "https://stackoverflow.com/questions/39134524/custom-iterator-or-generator-to-execute-closeout-after-break/39134601#39134601", "title": "custom iterator or generator to execute closeout after break", "body": "<p>You may use <code>__enter__</code> and <code>__exit__</code> magic function by defining it in class. To make a call, you may use it with <code>with</code>. <code>__enter__</code> method will be called before executing the code within <code>with</code> block and and when the <code>with</code> block will be exited, <code>__exit__</code> function will be called. For example:</p>\n\n<pre><code>&gt;&gt;&gt; class MyTestWrapper(object):\n...     def __enter__(self):\n...         print 'I am in __enter__'\n...     def __exit__(self, type, value, traceback):\n...         print 'I am in __exit__'\n...\n&gt;&gt;&gt; with MyTestWrapper() as s:\n...     print 'My Loop Logic'\n...\nI am in __enter__\nMy Loop Logic\nI am in __exit__\n</code></pre>\n\n<p>Now in order to make it as iterator, you have to define <code>__iter__</code> function. With this, you can call it as an iterator. Updated code will be:</p>\n\n<pre><code>&gt;&gt;&gt; class MyIterator(object):\n...     def __init__(self, iterable):\n...         self.iterable = iterable\n...         self.need_to_end = False\n...     def __enter__(self):\n...         print 'I am in __enter__'\n...         return self\n...     def __exit__(self, type, value, traceback):\n...         self.loop_end()\n...         print 'I am in __exit__'\n...     def loop_start(self):\n...         self.need_to_end = True\n...         print 'Starting Loop . . . '\n...     def loop_end(self):\n...         self.need_to_end = False\n...         print 'Ending Loop . . . '\n...     def __iter__(self):\n...         for i in self.iterable:\n...             self.loop_start()\n...             yield i\n...             self.loop_end()\n...\n&gt;&gt;&gt; with MyIterator([1,2,3, 4]) as my_iterator:\n...     for i in my_iterator:\n...         print 'I am: ', i\n...         if i == 2:\n...             break\n...\nI am in __enter__\nStarting Loop . . .\nI am:  1\nEnding Loop . . .\nStarting Loop . . .\nI am:  2\nEnding Loop . . .\nI am in __exit__\n</code></pre>\n\n<p>Refer <a href=\"https://docs.python.org/2/reference/datamodel.html#context-managers\" rel=\"nofollow\">Python's Context Manager</a> for more information on these and other inbuilt functions.</p>\n"}, {"comments": [{"owner": {"reputation": 173, "user_id": 6442723, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d576ec0fc539ebe24d97723b11fe010?s=128&d=identicon&r=PG&f=1", "display_name": "Adam S.", "link": "https://stackoverflow.com/users/6442723/adam-s"}, "edited": false, "score": 0, "creation_date": 1472086070, "post_id": 39134622, "comment_id": 65615332, "body": "Thanks that&#39;s it!  With the addition of a <code>self.exited</code> attribute, it can call <code>exit_loop()</code> at the end of the iterator (to be used as the generator I had), and conditionally calling <code>exit_loop()</code> in <code>__exit__()</code> still allows context managing.  Works like a charm!  I&#39;ll provide both ways to do it."}], "tags": [], "owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "is_accepted": true, "score": 0, "last_activity_date": 1472082436, "creation_date": 1472082436, "answer_id": 39134622, "question_id": 39134524, "link": "https://stackoverflow.com/questions/39134524/custom-iterator-or-generator-to-execute-closeout-after-break/39134622#39134622", "title": "custom iterator or generator to execute closeout after break", "body": "<p>You could use a <a href=\"https://docs.python.org/2/reference/datamodel.html#context-managers\" rel=\"nofollow\">context manager</a>:</p>\n\n<pre><code>class Looper(object):\n    def __init__(self, iterable):\n        self.iterable = iterable\n        self.need_to_end = False\n\n    def __enter__(self):\n        return self\n\n    def __exit__(self, exception_type, exception_value, traceback):\n        self.exit_loop()\n        # Handle exceptions or swallow them by returning True\n\n    def enter_loop(self):\n        print 'enter_loop'\n\n    def loop_start(self):\n        self.need_to_end = True\n        print 'loop_start'\n\n    def loop_end(self):\n        self.need_to_end = False\n        print 'loop_end'\n\n    def exit_loop(self):\n        if self.need_to_end:\n            self.loop_end()\n\n        print 'exit_loop'\n\n    def __iter__(self):\n        self.enter_loop()\n\n        for i in self.iterable:\n            self.loop_start()\n            yield i\n            self.loop_end()\n</code></pre>\n\n<p>Your code would get a little longer, but you can deal with exceptions and other things more cleanly:</p>\n\n<pre><code>with Looper([1, 2, 3, 4, 5, 6]) as loop:\n    for i in loop:\n        print i\n\n        if i == 2:\n            continue\n        elif i == 3:\n            break\n</code></pre>\n\n<p>It works as you'd expect:</p>\n\n<pre><code>enter_loop\nloop_start\n1\nloop_end\nloop_start\n2\nloop_end\nloop_start\n3\nloop_end\nexit_loop\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 6442723, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d576ec0fc539ebe24d97723b11fe010?s=128&d=identicon&r=PG&f=1", "display_name": "Adam S.", "link": "https://stackoverflow.com/users/6442723/adam-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 39134622, "answer_count": 2, "score": 0, "last_activity_date": 1472085656, "creation_date": 1472081657, "question_id": 39134524, "link": "https://stackoverflow.com/questions/39134524/custom-iterator-or-generator-to-execute-closeout-after-break", "title": "custom iterator or generator to execute closeout after break", "body": "<p>I'm implementing customized loop behavior, where I need things to happen on entering the loop, at every loop start, at every loop end, and on exiting the loop area.  So far this is beautifully simple in Python (2.7):</p>\n\n<pre><code>def my_for(loop_iterable):\n    enter_loop()\n    for i in loop_iterable:\n        loop_start()\n        yield i\n        loop_end()\n    exit_loop()\n\nfor i in my_for([1, 2, 3]):\n    print \"i: \", i\n    if i == 2:\n        break\n</code></pre>\n\n<p>The problem I'm having is in getting <code>loop_end()</code> and <code>exit_loop()</code> to execute after the <code>break</code>.  I have solved this by defining another function, which the user must put before break:</p>\n\n<pre><code>def break_loop():\n    loop_end()\n    exit_loop()\n\nfor i in my_for([1, 2, 3]):\n    print \"i: \", i\n    if i == 2:\n        break_loop()\n        break\n</code></pre>\n\n<p>But I would really like not to have the user have to remember to add that line.  I think if I re-write the generator function as an iterator class, maybe there is a way to still execute code on a <code>break</code>?</p>\n\n<p>Incidentally, <code>continue</code> works just fine as is!</p>\n"}, {"tags": ["python", "datetime", "pandas", "dataframe", "group-by"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5948793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01af3aaa24c194a3d0f45fb032317fb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5948793/vijay"}, "edited": false, "score": 0, "creation_date": 1472357131, "post_id": 39135260, "comment_id": 65716891, "body": "Hi @Daewon lee....thank you for the answer.  When I use this code, it throws an error saying Series object has no value hour.  Any thoughts?"}, {"owner": {"reputation": 565, "user_id": 4136588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JpLj5.png?s=128&g=1", "display_name": "Daewon Lee", "link": "https://stackoverflow.com/users/4136588/daewon-lee"}, "reply_to_user": {"reputation": 33, "user_id": 5948793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01af3aaa24c194a3d0f45fb032317fb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5948793/vijay"}, "edited": false, "score": 0, "creation_date": 1472455405, "post_id": 39135260, "comment_id": 65740939, "body": "@Vijay Which version of Python do you use? The above code has been test in Anaconda Python 3.5 (64bit) at Windows 10 64bit. (And which version of Pandas do you use? Mine is 0.18.1)"}], "tags": [], "owner": {"reputation": 565, "user_id": 4136588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JpLj5.png?s=128&g=1", "display_name": "Daewon Lee", "link": "https://stackoverflow.com/users/4136588/daewon-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1472087712, "last_edit_date": 1495540297, "creation_date": 1472087712, "answer_id": 39135260, "question_id": 39134523, "link": "https://stackoverflow.com/questions/39134523/using-python-how-to-group-a-column-in-dataframe-by-the-hour/39135260#39135260", "title": "using Python, How to group a column in Dataframe by the hour?", "body": "<p>You can use <code>pandas.DatetimeIndex</code> as follows.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\n# An example of time period\ndrange = pd.date_range('2016-08-01 00:00:00', '2016-09-01 00:00:00',\n                       freq='10min')\n\nN = len(drange)\n\n# The number of columns without 'time' is three.\ndf = pd.DataFrame(np.random.rand(N, 3))\ndf['time'] = drange\n\ntime_col = pd.DatetimeIndex(df['time'])\n\ngb = df.groupby([time_col.year,\n                 time_col.month,\n                 time_col.day,\n                 time_col.hour])\n\nfor col_name, gr in gb:\n    print(gr)  # If you want to see only the length, use print(len(gr))\n</code></pre>\n\n<p>[References]\n<a href=\"https://stackoverflow.com/questions/16266019/python-pandas-group-datetime-column-into-hour-and-minute-aggregations\">Python Pandas: Group datetime column into hour and minute aggregations</a></p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 5948793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01af3aaa24c194a3d0f45fb032317fb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5948793/vijay"}, "edited": false, "score": 0, "creation_date": 1472356881, "post_id": 39137005, "comment_id": 65716860, "body": "My problem is I have multiple columns that I am grouping by.  My code currently is  df2 = df1[&#39;count&#39;].groupby([df1[&#39;sc-status],df1[cs-method],df1[tim&zwnj;&#8203;e]).count()  Using the above code, and using my current data, I get time as it is in my input file (random requests through the hour).  I am struggling to go to the next step which is to group this grouped object (df2) every hour.  Hope this makes sense"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 2, "last_activity_date": 1472108818, "last_edit_date": 1472108818, "creation_date": 1472101319, "answer_id": 39137005, "question_id": 39134523, "link": "https://stackoverflow.com/questions/39134523/using-python-how-to-group-a-column-in-dataframe-by-the-hour/39137005#39137005", "title": "using Python, How to group a column in Dataframe by the hour?", "body": "<p>Use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.resample.html\" rel=\"nofollow\"><code>resample</code></a>:</p>\n\n<pre><code>#pandas version 0.18.0 and higher\ndf = df.resample('H').size()\n\n#pandas version below 0.18.0\n#df = df.resample('H', 'size')\n\nprint (df)\n2016-08-24 00:00:00    1\n2016-08-24 01:00:00    3\n2016-08-24 02:00:00    1\nFreq: H, dtype: int64\n</code></pre>\n\n<p>If need output as <code>DataFrame</code>:</p>\n\n<pre><code>df = df.resample('H').size().rename('count').to_frame()\nprint (df)\n                     count\n2016-08-24 00:00:00      1\n2016-08-24 01:00:00      3\n2016-08-24 02:00:00      1\n</code></pre>\n\n<hr>\n\n<p>Or you can remove from <code>DatetimeIndex</code> <code>minutes</code> and <code>seconds</code> by converting to <code>&lt;M8[h]</code> and then aggregating <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.size.html\" rel=\"nofollow\"><code>size</code></a>:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame({'time': {pd.Timestamp('2016-08-24 01:00:00'): pd.Timestamp('2016-08-13 00:00:00'), pd.Timestamp('2016-08-24 01:00:01'): pd.Timestamp('2016-08-13 00:00:01'), pd.Timestamp('2016-08-24 01:00:02'): pd.Timestamp('2016-08-13 00:00:02'), pd.Timestamp('2016-08-24 02:00:02'): pd.Timestamp('2016-08-13 00:00:02'), pd.Timestamp('2016-08-24 00:00:00'): pd.Timestamp('2016-08-13 00:00:00')}})\nprint (df)\n                                   time\n2016-08-24 00:00:00 2016-08-13 00:00:00\n2016-08-24 01:00:00 2016-08-13 00:00:00\n2016-08-24 01:00:01 2016-08-13 00:00:01\n2016-08-24 01:00:02 2016-08-13 00:00:02\n2016-08-24 02:00:02 2016-08-13 00:00:02\n\ndf= df.groupby([df.index.values.astype('&lt;M8[h]')]).size()\nprint (df)\n2016-08-24 00:00:00    1\n2016-08-24 01:00:00    3\n2016-08-24 02:00:00    1\ndtype: int64\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 5948793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01af3aaa24c194a3d0f45fb032317fb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5948793/vijay"}, "edited": false, "score": 0, "creation_date": 1472357087, "post_id": 39137189, "comment_id": 65716884, "body": "Yes  This works if I use groupby for a single column.  Do you know what happens when we use Multi column grouping?"}], "tags": [], "owner": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "is_accepted": true, "score": 3, "last_activity_date": 1472102270, "creation_date": 1472102270, "answer_id": 39137189, "question_id": 39134523, "link": "https://stackoverflow.com/questions/39134523/using-python-how-to-group-a-column-in-dataframe-by-the-hour/39137189#39137189", "title": "using Python, How to group a column in Dataframe by the hour?", "body": "<p>Using @jezrael setup. </p>\n\n<pre><code>df.resample(rule='H', how='count').rename(columns = {'time':'count'})\n\n                      count\n2016-08-24 00:00:00      1\n2016-08-24 01:00:00      3\n2016-08-24 02:00:00      1\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5948793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01af3aaa24c194a3d0f45fb032317fb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5948793/vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 39137189, "answer_count": 3, "score": 3, "last_activity_date": 1472108818, "creation_date": 1472081630, "last_edit_date": 1472101675, "question_id": 39134523, "link": "https://stackoverflow.com/questions/39134523/using-python-how-to-group-a-column-in-dataframe-by-the-hour", "title": "using Python, How to group a column in Dataframe by the hour?", "body": "<p>I have a python dataframe (<code>df1</code>) which has a column time.  I converted the column into a datetime series using <code>pd.to_datetime(df1['time'])</code>.  Now I get a column like this:</p>\n\n<pre><code>2016-08-24 00:00:00  2016-08-13  00:00:00   \n2016-08-24 00:00:00  2016-08-13  00:00:00     \n2016-08-24 00:00:00  2016-08-13  00:00:00   \n2016-08-24 00:00:00  2016-08-13  00:00:00  \n2016-08-24 00:00:01  2016-08-13  00:00:01   \n2016-08-24 00:00:01  2016-08-13  00:00:01   \n2016-08-24 00:00:02  2016-08-13  00:00:02  \n2016-08-24 00:00:02  2016-08-13  00:00:02     \n2016-08-24 00:00:02  2016-08-13  00:00:02    \n2016-08-24 00:00:02  2016-08-13  00:00:02     \n2016-08-24 00:00:02  2016-08-13  00:00:02     \n2016-08-24 00:00:02  2016-08-13  00:00:02     \n2016-08-24 00:00:02  2016-08-13  00:00:02    \n2016-08-24 00:00:02  2016-08-13  00:00:02    \n2016-08-24 00:00:02  2016-08-13  00:00:02     \n....\n\n2016-08-24 23:59:59  2016-08-13  00:00:02  \n</code></pre>\n\n<p>Essentially, I want the first column to be grouped by the hour, so that I can see how many entries are there in 1 hour.  Any help will be great.</p>\n"}, {"tags": ["python", "xss"], "comments": [{"owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 0, "creation_date": 1472081525, "post_id": 39134463, "comment_id": 65614321, "body": "How are you displaying a user-provided URL?"}, {"owner": {"reputation": 18219, "user_id": 627492, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a65ecbb7d583a75511cff7d78dd7d6e7?s=128&d=identicon&r=PG", "display_name": "Duke Dougal", "link": "https://stackoverflow.com/users/627492/duke-dougal"}, "reply_to_user": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 0, "creation_date": 1472083818, "post_id": 39134463, "comment_id": 65614862, "body": "@blender in a web browser, but that shouldn&#39;t matter in answering this question.  I&#39;m interested in knowing how to do it in Python."}, {"owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 0, "creation_date": 1472083996, "post_id": 39134463, "comment_id": 65614899, "body": "By &quot;how&quot;, I mean how are you putting the URL in your page? As a link? As an image? Or are you allowing the user to input HTML?"}, {"owner": {"reputation": 18219, "user_id": 627492, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a65ecbb7d583a75511cff7d78dd7d6e7?s=128&d=identicon&r=PG", "display_name": "Duke Dougal", "link": "https://stackoverflow.com/users/627492/duke-dougal"}, "reply_to_user": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 0, "creation_date": 1472085102, "post_id": 39134463, "comment_id": 65615142, "body": "I am sanitzing urls provided by end users which will then become hrefs in anchor tags."}], "owner": {"reputation": 18219, "user_id": 627492, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a65ecbb7d583a75511cff7d78dd7d6e7?s=128&d=identicon&r=PG", "display_name": "Duke Dougal", "link": "https://stackoverflow.com/users/627492/duke-dougal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 667, "favorite_count": 0, "answer_count": 0, "score": 6, "last_activity_date": 1472081090, "creation_date": 1472081090, "last_edit_date": 1495542180, "question_id": 39134463, "link": "https://stackoverflow.com/questions/39134463/how-to-xss-sanitize-a-url-in-python", "title": "How to xss sanitize a url in python", "body": "<p>There's tons of discussion on this topic on the web.  Lots of references saying \"you must sanitize urls\".</p>\n\n<p>Even Jeff Atwood has an answer for the topic: <a href=\"https://stackoverflow.com/questions/205923/best-way-to-handle-security-and-avoid-xss-with-user-entered-urls/205967#205967\">Best way to handle security and avoid XSS with user entered URLs</a> This answer must be disregarded because there are comments pointing out that it is wrong, but no response to those comments - so this is not a duplicate question.</p>\n\n<p>But nowhere can I find a straight answer to the question \"how, specifically, do I sanitize a URL in Python?\", with an example.</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 4156, "user_id": 5278205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/KBKWq.png?s=128&g=1", "display_name": "Cyrus Mohammadian", "link": "https://stackoverflow.com/users/5278205/cyrus-mohammadian"}, "edited": false, "score": 0, "creation_date": 1472084485, "post_id": 39134440, "comment_id": 65614994, "body": "we need more information from you. What&#39;s the website for example?"}], "answers": [{"tags": [], "owner": {"reputation": 2400, "user_id": 5266746, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cb43ae82055fed862c2ba3e6ed9c8e9f?s=128&d=identicon&r=PG&f=1", "display_name": "n1c9", "link": "https://stackoverflow.com/users/5266746/n1c9"}, "is_accepted": false, "score": 0, "last_activity_date": 1472081408, "creation_date": 1472081408, "answer_id": 39134498, "question_id": 39134440, "link": "https://stackoverflow.com/questions/39134440/selenium-webdriver-python-find-element-by-xpath-could-not-find-element/39134498#39134498", "title": "Selenium webdriver python find element by xpath - Could not find element", "body": "<p>that exception, unsurprisingly, means that that element wasn't available on the DOM.  There are a couple of options here:</p>\n\n<pre><code>driver.implicitly_wait(10)\n</code></pre>\n\n<p>will tell the driver to wait 10 seconds (or any amount of time) after an element is not found/not clickable etc., and tries again after.  Sometimes elements don't load right away, so an implicit wait fixes those types of problems.</p>\n\n<p>The other option here is to do an explicit wait.  This will wait until the element appears, and until the existence of that element is confirmed, the script will not move on to the next line:</p>\n\n<pre><code>from selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait \nfrom selenium.webdriver.support import expected_conditions as EC \n\nelement = WebDriverWait(ff, 10).until(EC.presence_of_element_located((By.XPATH, \"//*[@id='posted_1']/div[3]\")))\n</code></pre>\n\n<p>In my experience, an implicit wait is usually fine, but imprecise.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 6754662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Zrgux8I7ck/AAAAAAAAAAI/AAAAAAAAEBI/hkX9ox03pEA/photo.jpg?sz=128", "display_name": "Balamurugan PM", "link": "https://stackoverflow.com/users/6754662/balamurugan-pm"}, "edited": false, "score": 0, "creation_date": 1472083038, "post_id": 39134540, "comment_id": 65614677, "body": "Thanks Saurabh, but after implementing your suggestion this is what I get to see in the output. 0.00s   [INFO]  Starting measurement [160824_FW_3QJW] 0.36s   [INFO]  Executing WebDriver script 20.76s  [ERROR] TimeoutException:  Traceback (most recent call last): Line 34, in &lt;synthetic script&gt; \telement = wait.until(EC.visibility_of_element_located((By.XPATH, &quot;//*[@id=&#39;posted_1&#39;]/div[3]&quot;))) Line 80, in until \traise TimeoutException(message, screen, stacktrace)"}, {"owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "reply_to_user": {"reputation": 21, "user_id": 6754662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Zrgux8I7ck/AAAAAAAAAAI/AAAAAAAAEBI/hkX9ox03pEA/photo.jpg?sz=128", "display_name": "Balamurugan PM", "link": "https://stackoverflow.com/users/6754662/balamurugan-pm"}, "edited": false, "score": 0, "creation_date": 1472083222, "post_id": 39134540, "comment_id": 65614721, "body": "If your xpath is correct then make sure this element is not inside any frame or iframe... if it is then consider third provided point...:)"}, {"owner": {"reputation": 21, "user_id": 6754662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Zrgux8I7ck/AAAAAAAAAAI/AAAAAAAAEBI/hkX9ox03pEA/photo.jpg?sz=128", "display_name": "Balamurugan PM", "link": "https://stackoverflow.com/users/6754662/balamurugan-pm"}, "edited": false, "score": 0, "creation_date": 1472084218, "post_id": 39134540, "comment_id": 65614939, "body": "Hi Saurbah, yes i checked the xpath. Just to be safe - tried the find element by name for the same attribute but still getting the same error.This is the actual element. &lt;input name=&quot;searchBox&quot; placeholder=&quot;What are you looking for?&quot; type=&quot;text&quot; ng-model=&quot;search.keyword&quot; on-enter-key=&quot;doSuperSearch(search.keyword)&quot; ng-blur=&quot;onSearchBlur()&quot; class=&quot;ng-pristine ng-valid ng-empty ng-touched&quot; style=&quot;&quot;&gt;"}, {"owner": {"reputation": 21, "user_id": 6754662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Zrgux8I7ck/AAAAAAAAAAI/AAAAAAAAEBI/hkX9ox03pEA/photo.jpg?sz=128", "display_name": "Balamurugan PM", "link": "https://stackoverflow.com/users/6754662/balamurugan-pm"}, "edited": false, "score": 0, "creation_date": 1472084303, "post_id": 39134540, "comment_id": 65614961, "body": "This is what I put in my script. wait = driver.implicitly_wait(10)  element = wait.until(EC.visibility_of_element_located((By.NAME, &quot;searchBox&quot;)))"}, {"owner": {"reputation": 21, "user_id": 6754662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Zrgux8I7ck/AAAAAAAAAAI/AAAAAAAAEBI/hkX9ox03pEA/photo.jpg?sz=128", "display_name": "Balamurugan PM", "link": "https://stackoverflow.com/users/6754662/balamurugan-pm"}, "edited": false, "score": 0, "creation_date": 1472084366, "post_id": 39134540, "comment_id": 65614975, "body": "This is the output I got.  0.00s   [INFO]  Starting measurement [160825_5F_11V] 0.38s   [INFO]  Executing WebDriver script 11.32s  [ERROR] AttributeError: &#39;NoneType&#39; object has no attribute &#39;until&#39; Traceback (most recent call last): Line 34, in &lt;synthetic script&gt; \telement = wait.until(EC.visibility_of_element_located((By.NAME, &quot;searchBox&quot;)))"}, {"owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "reply_to_user": {"reputation": 21, "user_id": 6754662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Zrgux8I7ck/AAAAAAAAAAI/AAAAAAAAEBI/hkX9ox03pEA/photo.jpg?sz=128", "display_name": "Balamurugan PM", "link": "https://stackoverflow.com/users/6754662/balamurugan-pm"}, "edited": false, "score": 0, "creation_date": 1472084679, "post_id": 39134540, "comment_id": 65615045, "body": "Actually you&#39;re implementing wrong, it should be <code>wait = WebDriverWait(driver, 10) element = wait.until(EC.visibility_of_element_located((By.NAME, &quot;searchBox&quot;)))</code>"}, {"owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "reply_to_user": {"reputation": 21, "user_id": 6754662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Zrgux8I7ck/AAAAAAAAAAI/AAAAAAAAEBI/hkX9ox03pEA/photo.jpg?sz=128", "display_name": "Balamurugan PM", "link": "https://stackoverflow.com/users/6754662/balamurugan-pm"}, "edited": false, "score": 0, "creation_date": 1472084789, "post_id": 39134540, "comment_id": 65615072, "body": "You need to Initialize <code>WebDriverWait</code> instead of <code>implicitly_wait</code> as <code>wait = WebDriverWait(driver, 10)</code> then use <code>wait.until()</code>..see the provided answer carefully...:)"}, {"owner": {"reputation": 21, "user_id": 6754662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Zrgux8I7ck/AAAAAAAAAAI/AAAAAAAAEBI/hkX9ox03pEA/photo.jpg?sz=128", "display_name": "Balamurugan PM", "link": "https://stackoverflow.com/users/6754662/balamurugan-pm"}, "edited": false, "score": 0, "creation_date": 1472601616, "post_id": 39134540, "comment_id": 65814747, "body": "Hi,  I tried locating a id as well as it was more straightforward. Below is the error I got after implementing it.  26.23s  [ERROR] TimeoutException:  Traceback (most recent call last): Line 34, in &lt;synthetic script&gt; \telement = wait.until(EC.visibility_of_element_located((By.ID,&#39;paymentB&zwnj;&#8203;utton&#39;))) Line 80, in until \traise TimeoutException(message, screen, stacktrace)"}, {"owner": {"reputation": 21, "user_id": 6754662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Zrgux8I7ck/AAAAAAAAAAI/AAAAAAAAEBI/hkX9ox03pEA/photo.jpg?sz=128", "display_name": "Balamurugan PM", "link": "https://stackoverflow.com/users/6754662/balamurugan-pm"}, "edited": false, "score": 0, "creation_date": 1472601621, "post_id": 39134540, "comment_id": 65814748, "body": "Below is the HTML source  &lt;button ng-click=&quot;$state.go(&#39;main.payment.create&#39;, {fromAccount: defaultFromAccount})&quot; id=&quot;paymentButton&quot; class=&quot;btn btn-floating-primary dropdown-toggle&quot; dropdown-toggle=&quot;&quot;&gt;&lt;div ng-show=&quot;!hidePlus&quot; class=&quot;more animated&quot;&gt;&lt;i class=&quot;icon-plus&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;div ng-show=&quot;hidePlus&quot; class=&quot;pay animated ng-hide&quot; style=&quot;&quot;&gt;&lt;i class=&quot;icon-usd&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;/button&gt;   Can you please help/suggest?"}], "tags": [], "owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "is_accepted": false, "score": 2, "last_activity_date": 1472081739, "creation_date": 1472081739, "answer_id": 39134540, "question_id": 39134440, "link": "https://stackoverflow.com/questions/39134440/selenium-webdriver-python-find-element-by-xpath-could-not-find-element/39134540#39134540", "title": "Selenium webdriver python find element by xpath - Could not find element", "body": "<p>If you are getting <code>NoSuchElementException</code> as your provided exception, There may be following reasons :-</p>\n\n<ul>\n<li><p>May be you are locating with incorrect locator, So you need to share HTML for better locator solution. </p></li>\n<li><p>May be when you are going to find element, it would not be present on the <code>DOM</code>, So you should implement <code>WebDriverWait</code> to wait until element visible as below :-</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nwait = WebDriverWait(driver, 10)\n\nelement = wait.until(EC.visibility_of_element_located((By.XPATH, \"//*[@id='posted_1']/div[3]\")))\n</code></pre></li>\n<li><p>May be this element is inside any <code>frame</code> or <code>iframe</code>. If it is, you need to switch that <code>frame</code> or <code>iframe</code> before finding the element as below :-</p>\n\n<pre><code>driver.switch_to_frame(\"frame/iframe I'd or name\")\n\nwait = WebDriverWait(driver, 10)\n\nelement = wait.until(EC.visibility_of_element_located((By.XPATH, \"//*[@id='posted_1']/div[3]\")))\n\n#Once all your stuff done with this frame need to switch back to default\ndriver.switch_to_default_content();\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 21, "user_id": 6754662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Zrgux8I7ck/AAAAAAAAAAI/AAAAAAAAEBI/hkX9ox03pEA/photo.jpg?sz=128", "display_name": "Balamurugan PM", "link": "https://stackoverflow.com/users/6754662/balamurugan-pm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6402, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1472081739, "creation_date": 1472080917, "last_edit_date": 1472081076, "question_id": 39134440, "link": "https://stackoverflow.com/questions/39134440/selenium-webdriver-python-find-element-by-xpath-could-not-find-element", "title": "Selenium webdriver python find element by xpath - Could not find element", "body": "<p>I m trying to write a script with selenium webdriver python.\nWhen I try to do a </p>\n\n<pre><code>find_element_by_xpath(\"//*[@id='posted_1']/div[3]\") \n</code></pre>\n\n<p>it says </p>\n\n<blockquote>\n  <p>NoElementFoundException.</p>\n</blockquote>\n\n<p>Can someone please help me here?</p>\n\n<p>Regards\nBala</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "time-series"], "comments": [{"owner": {"reputation": 4079, "user_id": 5285918, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43d89ab985ec7bf11dec1adbac3827d4?s=128&d=identicon&r=PG&f=1", "display_name": "lanery", "link": "https://stackoverflow.com/users/5285918/lanery"}, "edited": false, "score": 0, "creation_date": 1472094310, "post_id": 39134407, "comment_id": 65617013, "body": "If your data is set up correctly, pandas will automatically plot x axis with datetime. Try <code>df.plot(x=&#39;datetime&#39;, y=&#39;data&#39;)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1264, "user_id": 3044692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b783d03d1ebb3b35ecb4404d91a4cac0?s=128&d=identicon&r=PG&f=1", "display_name": "omdv", "link": "https://stackoverflow.com/users/3044692/omdv"}, "is_accepted": true, "score": 1, "last_activity_date": 1472094579, "creation_date": 1472094579, "answer_id": 39136103, "question_id": 39134407, "link": "https://stackoverflow.com/questions/39134407/plot-sensor-boolean-data-matplotlib/39136103#39136103", "title": "plot sensor boolean data matplotlib", "body": "<p>You should have explained what you tried before asking a question for this to be meaningful. Anyway, below is the example.</p>\n\n<pre><code>%matplotlib inline\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ntrange = pd.date_range(\"11:00\", \"21:30\", freq=\"30min\")\ndf = pd.DataFrame({'time':trange,'sensor1':np.round(np.random.rand(len(trange))),\\\n                   'sensor2':np.round(np.random.rand(len(trange)))})\ndf = df.set_index('time')\ndf.plot(yticks=[0,1],ylim=[-0.1,1.1],style={'sensor1':'ro','sensor2':'bx'})\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HJQSp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HJQSp.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1657, "user_id": 3974476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/88f06daddc0d94f9e85e71b20c294cf3?s=128&d=identicon&r=PG&f=1", "display_name": "AMisra", "link": "https://stackoverflow.com/users/3974476/amisra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2911, "favorite_count": 0, "accepted_answer_id": 39136103, "answer_count": 1, "score": 1, "last_activity_date": 1472094579, "creation_date": 1472080691, "question_id": 39134407, "link": "https://stackoverflow.com/questions/39134407/plot-sensor-boolean-data-matplotlib", "title": "plot sensor boolean data matplotlib", "body": "<p>I have data from two sensors that I want to visualize. Both sensors take  only 0/1 values. How can I change the xaxis labels to show the time series and y axis should have 2 labels 0 and 1 representing the value of sensors along the time series.</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ndef drawgraph(inputFile):\n    df=pd.read_csv(inputFile)\n    fig=plt.figure()\n    ax=fig.add_subplot(111)\n    y = df[['sensor1']]\n    x=df.index\n    plt.plot(x,y)\n    plt.show()\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1472080712, "post_id": 39134400, "comment_id": 65614111, "body": "Would a <a href=\"https://docs.python.org/3/library/collections.html#collections.defaultdict\" rel=\"nofollow noreferrer\"><code>defaultdict</code></a> help?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472080944, "post_id": 39134400, "comment_id": 65614162, "body": "By the way, you should never shadow the built-in <code>dict</code> function. Name your dictionary something else, <code>dict_</code> if you must."}, {"owner": {"reputation": 1464, "user_id": 1836186, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jRHrr.jpg?s=128&g=1", "display_name": "JHixson", "link": "https://stackoverflow.com/users/1836186/jhixson"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472081046, "post_id": 39134400, "comment_id": 65614189, "body": "@juanpa.arrivillaga thanks for pointing that out, this was just throwaway code that i made just for this question, didn&#39;t even think about that.  I&#39;ll edit the question."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1472081096, "post_id": 39134400, "comment_id": 65614203, "body": "if baz in dict , don&#39;t need to and should not call .keys"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472081193, "post_id": 39134400, "comment_id": 65614229, "body": "@JHixson no worries. It seems relatively harmless, but it can lead to pernicious bugs."}, {"owner": {"reputation": 1464, "user_id": 1836186, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jRHrr.jpg?s=128&g=1", "display_name": "JHixson", "link": "https://stackoverflow.com/users/1836186/jhixson"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1472081254, "post_id": 39134400, "comment_id": 65614248, "body": "@PadraicCunningham thanks, fixed."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1472081416, "post_id": 39134400, "comment_id": 65614287, "body": "No worries, in Python 2, calling .keys and not is the difference between a linear scan or O(1)  lookup. In python3 it is an unnecessary function call"}], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 14, "last_activity_date": 1472082851, "last_edit_date": 1472082851, "creation_date": 1472080728, "answer_id": 39134412, "question_id": 39134400, "link": "https://stackoverflow.com/questions/39134400/pythonic-way-to-add-values-to-a-set-within-a-dictionary/39134412#39134412", "title": "Pythonic way to add values to a set within a dictionary", "body": "<p>Use <code>defaultdict</code></p>\n\n<pre><code>&gt;&gt;&gt; from collections import defaultdict\n&gt;&gt;&gt; d = defaultdict(set)\n&gt;&gt;&gt; d\ndefaultdict(&lt;class 'set'&gt;, {})\n&gt;&gt;&gt; d['foo'].add(1)\n&gt;&gt;&gt; d['foo'].add(2)\n&gt;&gt;&gt; d\ndefaultdict(&lt;class 'set'&gt;, {'foo': {1, 2}})\n&gt;&gt;&gt; d['bar'].add(3)\n&gt;&gt;&gt; d['bar'].add(4)\n&gt;&gt;&gt; d\ndefaultdict(&lt;class 'set'&gt;, {'foo': {1, 2}, 'bar': {3, 4}})\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Also, if you must use plain dict, you can use the <code>.setdefault</code> method:</p>\n\n<pre><code>&gt;&gt;&gt; d2 = {}\n&gt;&gt;&gt; d2.setdefault('foo',set()).add(1)\n&gt;&gt;&gt; d2.setdefault('foo',set()).add(2)\n&gt;&gt;&gt; d2\n{'foo': {1, 2}}\n&gt;&gt;&gt; d2.setdefault('bar',set()).add(3)\n&gt;&gt;&gt; d2.setdefault('bar',set()).add(4)\n&gt;&gt;&gt; d2\n{'foo': {1, 2}, 'bar': {3, 4}}\n&gt;&gt;&gt; \n</code></pre>\n\n<h2>Edit to add time comparisons</h2>\n\n<p>You should note that using <code>defaultdict</code> is faster:</p>\n\n<pre><code>&gt;&gt;&gt; setup = \"gen = ((letter,k) for letter in 'abcdefghijklmnopqrstuvwxyx'  for k in range(100)); d = {}\"\n&gt;&gt;&gt; s = \"\"\"for l,n in gen:\n...     d.setdefault(l,set()).add(n)\"\"\"\n&gt;&gt;&gt; setup2 = \"from collections import defaultdict; gen = ((letter,k) for letter in 'abcdefghijklmnopqrstuvwxyx'  for k in range(100)); d = defaultdict(set)\"\n&gt;&gt;&gt; s2 = \"\"\"for l,n in gen:\n...     d[l]=n\"\"\"\n&gt;&gt;&gt; \n&gt;&gt;&gt; import timeit\n&gt;&gt;&gt; timeit.timeit(stmt=s, setup=setup, number=10000)\n0.005325066005752888\n&gt;&gt;&gt; timeit.timeit(stmt=s2, setup=setup2, number=10000)\n0.0014927469965186901\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1464, "user_id": 1836186, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jRHrr.jpg?s=128&g=1", "display_name": "JHixson", "link": "https://stackoverflow.com/users/1836186/jhixson"}, "edited": false, "score": 0, "creation_date": 1472081374, "post_id": 39134464, "comment_id": 65614274, "body": "While the elegance is nice, it does looks like this is basically replicating the functionality of <code>d.setdefault(&#39;baz&#39;,set()).add(7)</code> in two lines"}, {"owner": {"reputation": 1639, "user_id": 1113788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2445f274f0326e682ef74aa21d1f8fc?s=128&d=identicon&r=PG", "display_name": "davidejones", "link": "https://stackoverflow.com/users/1113788/davidejones"}, "reply_to_user": {"reputation": 1464, "user_id": 1836186, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jRHrr.jpg?s=128&g=1", "display_name": "JHixson", "link": "https://stackoverflow.com/users/1836186/jhixson"}, "edited": false, "score": 0, "creation_date": 1472081925, "post_id": 39134464, "comment_id": 65614427, "body": "Ah thanks, yea that is a fair point. If you are doing this type of thing more than once then the defaultdict might server you better as others have suggested."}], "tags": [], "owner": {"reputation": 1639, "user_id": 1113788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2445f274f0326e682ef74aa21d1f8fc?s=128&d=identicon&r=PG", "display_name": "davidejones", "link": "https://stackoverflow.com/users/1113788/davidejones"}, "is_accepted": false, "score": 2, "last_activity_date": 1472081105, "creation_date": 1472081105, "answer_id": 39134464, "question_id": 39134400, "link": "https://stackoverflow.com/questions/39134400/pythonic-way-to-add-values-to-a-set-within-a-dictionary/39134464#39134464", "title": "Pythonic way to add values to a set within a dictionary", "body": "<p>trying to keep this simple, how about this</p>\n\n<pre><code>dict['baz'] = dict.get('baz', set())\ndict['baz'].add(7)\n</code></pre>\n"}], "owner": {"reputation": 1464, "user_id": 1836186, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jRHrr.jpg?s=128&g=1", "display_name": "JHixson", "link": "https://stackoverflow.com/users/1836186/jhixson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "accepted_answer_id": 39134412, "answer_count": 2, "score": 2, "last_activity_date": 1472082851, "creation_date": 1472080612, "last_edit_date": 1472081238, "question_id": 39134400, "link": "https://stackoverflow.com/questions/39134400/pythonic-way-to-add-values-to-a-set-within-a-dictionary", "title": "Pythonic way to add values to a set within a dictionary", "body": "<p>Lets say i have a dictionary of sets:</p>\n\n<pre><code>d = {\"foo\":{1,2,3},\n        \"bar\":{3,4,5}}\n</code></pre>\n\n<p>Now lets say I want to add the value <code>7</code> to the set found within the key <code>foo</code>.  This would be easy:</p>\n\n<pre><code>d[\"foo\"].add(7)\n</code></pre>\n\n<p>but what if we were unsure of the key already existing?  It doesn't feel very pythonic to check beforehand:</p>\n\n<pre><code>if \"baz\" in dict:\n    d[\"baz\"].add(7)\nelse:\n    d[\"baz\"] = {7}\n</code></pre>\n\n<p>I tried to be clever and do something like</p>\n\n<pre><code>d[\"baz\"] = set(d[\"baz\"]).add(7)\n</code></pre>\n\n<p>but then you just get a <code>KeyError</code> trying to access a bad key in the <code>set</code> constructor.</p>\n\n<p>Am i missing something, or do I need to just bite the bullet and look before I leap?  I would understand if that were the case, it would just be neat if there were a simple way to say \"Add this value to the set found at this location, or if there isn't a set at that location, make one, and then put it in.</p>\n"}, {"tags": ["python", "regex", "python-2.7", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "edited": false, "score": 0, "creation_date": 1472081790, "post_id": 39134454, "comment_id": 65614387, "body": "@this one is not working for the third row. it gives only fa+gq+hf+kg+is as output.. I want, fa+gq+hf+kg+is gl+jh+ke+oj+kp as output. can you help me in doing that?"}], "tags": [], "owner": {"reputation": 2295, "user_id": 792779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99528e625676b23a593f5a3daa005793?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/792779/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1472081004, "creation_date": 1472081004, "answer_id": 39134454, "question_id": 39134347, "link": "https://stackoverflow.com/questions/39134347/use-regex-to-parse-out-some-part-of-url-using-python/39134454#39134454", "title": "Use Regex to parse out some part of URL using python", "body": "<p>If you change <code>[^\\w\\+ ]([\\w\\+ ]+\\+[\\w\\+ ]+)(?:[^\\w\\+ ]|$)</code> to <code>[^\\w\\+ ]([\\w\\+ ]+\\+[\\w\\+ ]*)(?:[^\\w\\+ ]|$)</code> it will match the second URL as well.</p>\n\n<p>It will include the trailing '+', which isn't included in your desired output but does seem to meet the criteria you had mentioned, so this may take some modifying if you don't want any trailing '+'s.</p>\n"}, {"comments": [{"owner": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "edited": false, "score": 0, "creation_date": 1472081778, "post_id": 39134492, "comment_id": 65614383, "body": "this one is not working for the third row. it gives only fa+gq+hf+kg+is as output.. I want, fa+gq+hf+kg+is gl+jh+ke+oj+kp as output. can you help me in doing that?"}, {"owner": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "edited": false, "score": 0, "creation_date": 1472086058, "post_id": 39134492, "comment_id": 65615327, "body": "@chisrtian this doesnt work with <a href=\"http://hostname.com/wqs/ck$st=+fasd/\" rel=\"nofollow noreferrer\">hostname.com/wqs/ck$st=+fasd</a> . How can we make this work with this one as well"}, {"owner": {"reputation": 8099, "user_id": 2797476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9561473705b0e781edb4525bed2ac?s=128&d=identicon&r=PG", "display_name": "Christian Ternus", "link": "https://stackoverflow.com/users/2797476/christian-ternus"}, "reply_to_user": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "edited": false, "score": 0, "creation_date": 1472086211, "post_id": 39134492, "comment_id": 65615369, "body": "I tweaked it slightly to change the first <code>[\\w\\+]+</code> to <code>[\\w\\+]*</code>. Try that."}], "tags": [], "owner": {"reputation": 8099, "user_id": 2797476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9561473705b0e781edb4525bed2ac?s=128&d=identicon&r=PG", "display_name": "Christian Ternus", "link": "https://stackoverflow.com/users/2797476/christian-ternus"}, "is_accepted": true, "score": 2, "last_activity_date": 1472086182, "last_edit_date": 1472086182, "creation_date": 1472081338, "answer_id": 39134492, "question_id": 39134347, "link": "https://stackoverflow.com/questions/39134347/use-regex-to-parse-out-some-part-of-url-using-python/39134492#39134492", "title": "Use Regex to parse out some part of URL using python", "body": "<p>I used regexr to come up with this (<a href=\"http://regexr.com/3e3go\" rel=\"nofollow\">regexr link</a>):</p>\n\n<p><code>([\\w\\+]*\\+[\\w\\+]*)(?:[^\\w\\+]|$)</code></p>\n\n<p>Matches:</p>\n\n<p><code>fa+gw+hw+ek+ei\nfasd+\nfa+gq+hf+kg+is\ngl+jh+ke+oj+kp\n</code></p>\n\n<p>EDIT: Instead of using re.search, try using re.findall instead:</p>\n\n<pre><code>&gt;&gt;&gt; s = \"http://hostname.com/as/ck$st=fa+gq+hf+kg+is&amp;sadfnlslkdfn&amp;gl+jh+ke+oj+kp sfav\"\n&gt;&gt;&gt; re.findall(\"([\\w\\+]+\\+[\\w\\+]*)(?:[^\\w\\+]|$)\", s)\n['fa+gq+hf+kg+is', 'gl+jh+ke+oj+kp']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "edited": false, "score": 0, "creation_date": 1472086118, "post_id": 39134555, "comment_id": 65615344, "body": "this doesnt work with hostname.com/wqs/ck$st=+fasd . How can we make this work with this one as well ? Can you please in this?"}], "tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": false, "score": 0, "last_activity_date": 1472081849, "creation_date": 1472081849, "answer_id": 39134555, "question_id": 39134347, "link": "https://stackoverflow.com/questions/39134347/use-regex-to-parse-out-some-part-of-url-using-python/39134555#39134555", "title": "Use Regex to parse out some part of URL using python", "body": "<p>After trying to use unsuccesfully <a href=\"https://docs.python.org/2/library/urlparse.html\" rel=\"nofollow\">urlparse</a> it seems the best way to get the info you want is using regular expressions:</p>\n\n<pre><code>import urlparse\nimport re\n\nurls = [\n    \"http://hostname.com/as/ck$st=fa+gw+hw+ek+ei/\",\n    \"http://hostname.com/wqs/ck$st=fasd+/\",\n    \"http://hostname.com/as/ck$st=fa+gq+hf+kg+is&amp;sadfnlslkdfn&amp;gl+jh+ke+oj+kp sfav\"\n]\n\nfor myurl in urls:\n    parsed = urlparse.urlparse(myurl)\n\n    print 'scheme  :', parsed.scheme\n    print 'netloc  :', parsed.netloc\n    print 'path    :', parsed.path\n    print 'params  :', parsed.params\n    print 'query   :', parsed.query\n    print 'fragment:', parsed.fragment\n    print 'username:', parsed.username\n    print 'password:', parsed.password\n    print 'hostname:', parsed.hostname, '(netloc in lower case)'\n    print 'port    :', parsed.port\n\n    print urlparse.parse_qs(parsed.query)\n\n    print re.findall(r'([\\w\\+]+\\+[\\w\\+]*)(?:[^\\w\\+]|$)', parsed.path)\n    print '-' * 80\n</code></pre>\n"}], "owner": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 39134492, "answer_count": 3, "score": 0, "last_activity_date": 1472086182, "creation_date": 1472080235, "question_id": 39134347, "link": "https://stackoverflow.com/questions/39134347/use-regex-to-parse-out-some-part-of-url-using-python", "title": "Use Regex to parse out some part of URL using python", "body": "<p>Suppose I am having some like as the following,</p>\n\n<pre><code>URL\nhttp://hostname.com/as/ck$st=fa+gw+hw+ek+ei/\nhttp://hostname.com/wqs/ck$st=fasd+/\nhttp://hostname.com/as/ck$st=fa+gq+hf+kg+is&amp;sadfnlslkdfn&amp;gl+jh+ke+oj+kp sfav\n</code></pre>\n\n<p>I want to check for first + symbol in the url and move backward until we find a special character such as / or ? or = or any other special character and start from that and go on until we find a space or end of line or &amp; or /.</p>\n\n<p>The regex which I wrote with the help of stackoverflow forums is as follows,</p>\n\n<pre><code>re.search(r\"[^\\w\\+ ]([\\w\\+ ]+\\+[\\w\\+ ]+)(?:[^\\w\\+ ]|$)\", x).group(1)\n</code></pre>\n\n<p>This one works with the first row. But does not parse anything with second row. Also in the third row,  I want to check for multiple patterns like this in the row. The current regex checks only for one pattern.</p>\n\n<p>My output should be,</p>\n\n<pre><code>parsed\nfa+gw+hw+ek+ei\nfasd\nfa+gq+hf+kg+is gl+jh+ke+oj+kp\n</code></pre>\n\n<p>Can anybody help me to modify the regex which is already there to suit this needs?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "macos", "shell"], "comments": [{"owner": {"reputation": 8099, "user_id": 2797476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9561473705b0e781edb4525bed2ac?s=128&d=identicon&r=PG", "display_name": "Christian Ternus", "link": "https://stackoverflow.com/users/2797476/christian-ternus"}, "edited": false, "score": 0, "creation_date": 1472080207, "post_id": 39134324, "comment_id": 65613981, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/20060096/installing-pil-with-pip\">Installing PIL with pip</a>"}, {"owner": {"reputation": 647, "user_id": 3799389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30cb367973358cbfe84123ce78bac90e?s=128&d=identicon&r=PG&f=1", "display_name": "Saman", "link": "https://stackoverflow.com/users/3799389/saman"}, "edited": false, "score": 0, "creation_date": 1472080244, "post_id": 39134324, "comment_id": 65613994, "body": "I think somebody answered your question <a href=\"http://stackoverflow.com/questions/20060096/installing-pil-with-pip\">here</a>"}, {"owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 0, "creation_date": 1472080333, "post_id": 39134324, "comment_id": 65614019, "body": "Also <a href=\"http://stackoverflow.com/questions/35929306/how-to-install-pil-to-python-3-5-on-a-mac/35929343#35929343\">here</a>"}, {"owner": {"reputation": 13750, "user_id": 3830997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lg47I.png?s=128&g=1", "display_name": "Matthias Fripp", "link": "https://stackoverflow.com/users/3830997/matthias-fripp"}, "edited": false, "score": 0, "creation_date": 1472081339, "post_id": 39134324, "comment_id": 65614265, "body": "Those questions deal with installing PIL in general; this question is about how to use pip to install PIL in Python 3.5 when pip has been installed for Python 2.7."}, {"owner": {"reputation": 13750, "user_id": 3830997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lg47I.png?s=128&g=1", "display_name": "Matthias Fripp", "link": "https://stackoverflow.com/users/3830997/matthias-fripp"}, "edited": false, "score": 0, "creation_date": 1472081931, "post_id": 39134324, "comment_id": 65614428, "body": "How did you install your copies of Python 2.7 and 3.5? Do you only use Python 3.5, or also 2.7? You should probably get pip working with Python 3.5 instead of 2.7, but the best way to do that that depends on your answers to those questions."}, {"owner": {"reputation": 185, "user_id": 6707025, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/160319064403714/picture?type=large", "display_name": "Tony Chen", "link": "https://stackoverflow.com/users/6707025/tony-chen"}, "edited": false, "score": 0, "creation_date": 1472159261, "post_id": 39134324, "comment_id": 65653027, "body": "I just download it from <a href=\"http://python.org\" rel=\"nofollow noreferrer\">link</a> . I thought I saw a article about updating the Python on OS X but in the end of the article it says updating by substitute the default version of Python is dangerous because some system files are python files. So I end up using Python shell instead."}], "answers": [{"comments": [{"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1472158925, "post_id": 39134481, "comment_id": 65652874, "body": "You should consider <a href=\"https://pillow.readthedocs.io\" rel=\"nofollow noreferrer\">Pillow</a> instead of the &quot;old&quot; PIL library."}, {"owner": {"reputation": 185, "user_id": 6707025, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/160319064403714/picture?type=large", "display_name": "Tony Chen", "link": "https://stackoverflow.com/users/6707025/tony-chen"}, "edited": false, "score": 0, "creation_date": 1472159641, "post_id": 39134481, "comment_id": 65653182, "body": "It showed me this error:  &quot;Could not find a version that satisfies the requirement PIL (from versions: ) No matching distribution found for PIL&quot; so I tried pillow and it works. Thank you both of you! and I appreciate your specific answer! @mfripp"}], "tags": [], "owner": {"reputation": 13750, "user_id": 3830997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lg47I.png?s=128&g=1", "display_name": "Matthias Fripp", "link": "https://stackoverflow.com/users/3830997/matthias-fripp"}, "is_accepted": true, "score": 1, "last_activity_date": 1472081648, "last_edit_date": 1495542169, "creation_date": 1472081253, "answer_id": 39134481, "question_id": 39134324, "link": "https://stackoverflow.com/questions/39134324/how-to-install-pil-on-python-shell-on-os-x-10-9-5/39134481#39134481", "title": "how to install PIL on python shell on OS X 10.9.5", "body": "<p>You should run the <code>pip</code> command from a system terminal (BASH prompt), not from inside Python. Normally you would open /Applications/Utilities/Terminal.app, and then type <code>pip install PIL</code>. If that installs packages for Python 2.7 instead of 3.5, you could try this instead: <code>python3 $(which pip) install PIL</code>.</p>\n\n<p>Or from within Python 3.5 you could try this (from <a href=\"https://stackoverflow.com/questions/12332975/installing-python-module-within-code\">Installing python module within code</a>):</p>\n\n<pre><code>import pip\npip.main(['install', 'PIL'])\n</code></pre>\n\n<p>A longer-term solution would be to install pip to work with Python 3.5 instead of 2.7. To do that, you would run these commands from the system terminal:</p>\n\n<pre><code>curl --remote-name https://bootstrap.pypa.io/get-pip.py\npython3 get-pip.py\n</code></pre>\n\n<p>Then <code>pip install PIL</code> should install PIL in your 3.5 installation.</p>\n"}, {"tags": [], "owner": {"reputation": 3447, "user_id": 6734406, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/YtbQ6.jpg?s=128&g=1", "display_name": "turkus", "link": "https://stackoverflow.com/users/6734406/turkus"}, "is_accepted": false, "score": 1, "last_activity_date": 1472160131, "creation_date": 1472160131, "answer_id": 39154914, "question_id": 39134324, "link": "https://stackoverflow.com/questions/39134324/how-to-install-pil-on-python-shell-on-os-x-10-9-5/39154914#39154914", "title": "how to install PIL on python shell on OS X 10.9.5", "body": "<pre><code>pip install pillow\n</code></pre>\n\n<p><code>pillow</code> is a wrapper to an old <code>PIL</code> package and it works like a charm.</p>\n"}], "owner": {"reputation": 185, "user_id": 6707025, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/160319064403714/picture?type=large", "display_name": "Tony Chen", "link": "https://stackoverflow.com/users/6707025/tony-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1119, "favorite_count": 0, "accepted_answer_id": 39134481, "answer_count": 2, "score": 0, "last_activity_date": 1472160131, "creation_date": 1472079943, "last_edit_date": 1472158778, "question_id": 39134324, "link": "https://stackoverflow.com/questions/39134324/how-to-install-pil-on-python-shell-on-os-x-10-9-5", "title": "how to install PIL on python shell on OS X 10.9.5", "body": "<p>I am new to Python.\nI try to install PIL using Python 3.5.2 shell. \nI input <code>pip install PIL</code> into python interpreter first. It didn't work and showed me this: <code>SyntaxError: invalid syntax</code>.</p>\n\n<p>Then I searched online and tried this: <code>pip install --no-index -f http://dist.plone.org/thirdparty/ -U PIL</code>. Still a syntax error. </p>\n\n<p>Finally I tried this: <code>install PIL</code> and didn't work either. </p>\n\n<p>I wonder if a shell command is different with the terminal command? I am using OS X 10.9.5 at the moment and if I using terminal to write python it will be Python 2.7.X and because it's related to some system files so I can't change it.\nI want to ask how can I install PIL or other modules using a Python shell?</p>\n\n<p>This question is different with other questions related to \"How to install PIL\". I am trying to ask how to use Python 3.5 shell to install PIL. If I install PIL using terminal command then it will be installed into my system default python, which is Python 2.7.X.</p>\n"}, {"tags": ["python", "python-requests", "jet.com-apis"], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 3866487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/135742386aadd1ddd1855b40c8258e88?s=128&d=identicon&r=PG&f=1", "display_name": "shark3y", "link": "https://stackoverflow.com/users/3866487/shark3y"}, "is_accepted": true, "score": 2, "last_activity_date": 1472101657, "creation_date": 1472101657, "answer_id": 39137065, "question_id": 39134305, "link": "https://stackoverflow.com/questions/39134305/jet-api-bulk-json-upload-the-magic-number-in-gzip-header-is-not-correct/39137065#39137065", "title": "Jet API bulk JSON upload: The magic number in GZip header is not correct", "body": "<p>Figured out the answer. Must make sure to ONLY put the binary data (not a dictionary, like for files) inside the data parameter in requests. </p>\n\n<p>making it:</p>\n\n<pre><code>def file_upload_url(self, url, filename, data):\n    headers = {\"x-ms-blob-type\": \"blockblob\"}\n    with open(filename, 'rb') as f:\n        file_data=f.read()\n    response = requests.put(url, headers=headers, data=file_data) \n</code></pre>\n\n<p>Nice and easy.</p>\n"}], "owner": {"reputation": 156, "user_id": 3866487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/135742386aadd1ddd1855b40c8258e88?s=128&d=identicon&r=PG&f=1", "display_name": "shark3y", "link": "https://stackoverflow.com/users/3866487/shark3y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 39137065, "answer_count": 1, "score": 0, "last_activity_date": 1472101657, "creation_date": 1472079838, "last_edit_date": 1472087616, "question_id": 39134305, "link": "https://stackoverflow.com/questions/39134305/jet-api-bulk-json-upload-the-magic-number-in-gzip-header-is-not-correct", "title": "Jet API bulk JSON upload: The magic number in GZip header is not correct", "body": "<p>I attempted to contact Jet directly and was told to \u201ctry using 7zip to gzip the file\u201d and then received no further responses (despite further questions).</p>\n\n<p>Here's the error code:</p>\n\n<pre><code>\"error_excerpt\": [\n    \"Error parsing file: The magic number in GZip header is not correct. Make sure you are passing in a GZip stream.\"\n  ],\n</code></pre>\n\n<p>Here's what I'm trying:</p>\n\n<pre><code>def file_upload_url(self, url, filename, data):\n    headers = {\"x-ms-blob-type\": \"blockblob\"}\n    magic_number = open(filename, 'rb').read(2) # shows that magic number is correct for .gz file\n    print `magic_number`\n    with open(filename, 'rb') as f:\n        file_data=f.read()\n    response = requests.put(url, headers=headers, files={ \"test.json.gz\": file_data }) \n    # i've also tried data={\"test.json.gz\": file_data}\n</code></pre>\n\n<p>Which then you check with another call. The file was gzipped from the Ubuntu command line (to rule out Python's gzip module causing the problem).</p>\n\n<p>Here is the documentation provided: <a href=\"https://developer.jet.com/docs/\" rel=\"nofollow\">https://developer.jet.com/docs/</a></p>\n\n<p>I've implemented every other function without the slightest hiccup but this is just not working. Only thing I can think of is that I'm somehow sending the file data incorrectly. But I can't seem to figure out how.</p>\n\n<p>The <code>.json</code> file was confirmed to be valid from the Jet representative. </p>\n"}, {"tags": ["python", "html", "dictionary", "flask"], "comments": [{"owner": {"reputation": 1787, "user_id": 5770216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/oSvjP.jpg?s=128&g=1", "display_name": "Elias MP", "link": "https://stackoverflow.com/users/5770216/elias-mp"}, "edited": false, "score": 0, "creation_date": 1472079694, "post_id": 39134183, "comment_id": 65613825, "body": "Just pass the dictionary from controller to template and loop it twice. First one for recover each element of dictionary (key and value respectly), and the second one for recovering each element of each list (value recovered before), paint them using html (table tag, div formatted as a table would be the proper way, table&#180;s tag are being obsolete)."}], "answers": [{"tags": [], "owner": {"reputation": 1639, "user_id": 1113788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2445f274f0326e682ef74aa21d1f8fc?s=128&d=identicon&r=PG", "display_name": "davidejones", "link": "https://stackoverflow.com/users/1113788/davidejones"}, "is_accepted": false, "score": 0, "last_activity_date": 1472080441, "last_edit_date": 1472080441, "creation_date": 1472080118, "answer_id": 39134339, "question_id": 39134183, "link": "https://stackoverflow.com/questions/39134183/python-dictionary-convert-to-html-in-flask/39134339#39134339", "title": "Python Dictionary convert to HTML in flask", "body": "<p>Not the most efficient but gets the job done if you want to just pass the table already rendered as html as a variable to the view. A better way would be to pass just the data then have the template use template logic to loop over and output variables in the places you want.</p>\n\n<pre><code>data = {'sentiment_analysis_result': [{'article_title': u'These Digital Locks Help Keep Tabs on Tenants', 'score': u'0.139613', 'type': u'positive'}, {'article_title': u'You Can Get a $50 Phone From Amazon, If You Don\\u2019t Mind the Ads', 'score': u'0.239663', 'type': u'positive'}]}\n\ntable_string = '&lt;table&gt;'\nfor key, value in data.iteritems():\n    table_string += '&lt;thead&gt;'\n    table_string += '&lt;th&gt;' + key + '&lt;/th&gt;'\n    table_string += '&lt;/thead&gt;'\n    table_string += '&lt;tbody&gt;'\n    for i, d in enumerate(value):\n        if i == 0:\n            table_string += '&lt;tr&gt;'\n            for k in d.iterkeys():\n                table_string += '&lt;td&gt;' + k + '&lt;/td&gt;'\n            table_string += '&lt;/tr&gt;'\n        table_string += '&lt;tr&gt;'\n        for v in d.itervalues():\n            table_string += '&lt;td&gt;' + v + '&lt;/td&gt;'\n        table_string += '&lt;/tr&gt;'\n    table_string += '&lt;/tbody&gt;'\ntable_string += '&lt;/table&gt;'\n\nprint(table_string)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 251, "user_id": 6174784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5a37d4592b7c4c66b41758ad1b516362?s=128&d=identicon&r=PG&f=1", "display_name": "AlpU", "link": "https://stackoverflow.com/users/6174784/alpu"}, "edited": false, "score": 0, "creation_date": 1472080617, "post_id": 39134353, "comment_id": 65614091, "body": "Thank you for your answer. What does name_of_list and values represent here?"}, {"owner": {"reputation": 1787, "user_id": 5770216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/oSvjP.jpg?s=128&g=1", "display_name": "Elias MP", "link": "https://stackoverflow.com/users/5770216/elias-mp"}, "reply_to_user": {"reputation": 251, "user_id": 6174784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5a37d4592b7c4c66b41758ad1b516362?s=128&d=identicon&r=PG&f=1", "display_name": "AlpU", "link": "https://stackoverflow.com/users/6174784/alpu"}, "edited": false, "score": 0, "creation_date": 1472080817, "post_id": 39134353, "comment_id": 65614132, "body": "Wellcome @Pythoner1234 I was supossing you want to paint it, as a table with two column, first one the name&#180;s list, and second one each value of the list. So first column contains the name&#180;s list (first value of dictionary - key) and the second one will be another table with its values (loop over value&#180;s dictionary, means the list)."}, {"owner": {"reputation": 251, "user_id": 6174784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5a37d4592b7c4c66b41758ad1b516362?s=128&d=identicon&r=PG&f=1", "display_name": "AlpU", "link": "https://stackoverflow.com/users/6174784/alpu"}, "edited": false, "score": 0, "creation_date": 1472080951, "post_id": 39134353, "comment_id": 65614165, "body": "Thank you! I just tried the code and got the following error for some reason    {% for key, values in my_dictionary.items %} TypeError: &#39;builtin_function_or_method&#39; object is not iterable"}, {"owner": {"reputation": 1787, "user_id": 5770216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/oSvjP.jpg?s=128&g=1", "display_name": "Elias MP", "link": "https://stackoverflow.com/users/5770216/elias-mp"}, "reply_to_user": {"reputation": 251, "user_id": 6174784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5a37d4592b7c4c66b41758ad1b516362?s=128&d=identicon&r=PG&f=1", "display_name": "AlpU", "link": "https://stackoverflow.com/users/6174784/alpu"}, "edited": false, "score": 0, "creation_date": 1472081115, "post_id": 39134353, "comment_id": 65614209, "body": "Sorry @Pythoner1234. Edited. Guessing is missing items()"}, {"owner": {"reputation": 251, "user_id": 6174784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5a37d4592b7c4c66b41758ad1b516362?s=128&d=identicon&r=PG&f=1", "display_name": "AlpU", "link": "https://stackoverflow.com/users/6174784/alpu"}, "edited": false, "score": 0, "creation_date": 1472081378, "post_id": 39134353, "comment_id": 65614275, "body": "I just edited the question to include an image of the table. For some reason table seems disoriented. Please look at my main post @EliasMP"}, {"owner": {"reputation": 1787, "user_id": 5770216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/oSvjP.jpg?s=128&g=1", "display_name": "Elias MP", "link": "https://stackoverflow.com/users/5770216/elias-mp"}, "reply_to_user": {"reputation": 251, "user_id": 6174784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5a37d4592b7c4c66b41758ad1b516362?s=128&d=identicon&r=PG&f=1", "display_name": "AlpU", "link": "https://stackoverflow.com/users/6174784/alpu"}, "edited": false, "score": 0, "creation_date": 1472081590, "post_id": 39134353, "comment_id": 65614341, "body": "Ups @Pythoner1234. Just trying, not tested, but after recover the list, each element will be a dictionary, so you have to loop it again."}, {"owner": {"reputation": 1787, "user_id": 5770216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/oSvjP.jpg?s=128&g=1", "display_name": "Elias MP", "link": "https://stackoverflow.com/users/5770216/elias-mp"}, "reply_to_user": {"reputation": 251, "user_id": 6174784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5a37d4592b7c4c66b41758ad1b516362?s=128&d=identicon&r=PG&f=1", "display_name": "AlpU", "link": "https://stackoverflow.com/users/6174784/alpu"}, "edited": false, "score": 0, "creation_date": 1472081835, "post_id": 39134353, "comment_id": 65614404, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/121791/discussion-between-eliasmp-and-pythoner1234\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1787, "user_id": 5770216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/oSvjP.jpg?s=128&g=1", "display_name": "Elias MP", "link": "https://stackoverflow.com/users/5770216/elias-mp"}, "is_accepted": false, "score": 1, "last_activity_date": 1472108658, "last_edit_date": 1472108658, "creation_date": 1472080291, "answer_id": 39134353, "question_id": 39134183, "link": "https://stackoverflow.com/questions/39134183/python-dictionary-convert-to-html-in-flask/39134353#39134353", "title": "Python Dictionary convert to HTML in flask", "body": "<p>Just pass the dictionary from controller to template and loop it twice. First one for recovering each element of dictionary (key and value respectly), and the second one for recovering each element of each list (value recovered before), paint them using html (table tag, div formatted as a table would be the proper way, table\u00b4s tag are being obsolete)    </p>\n\n<pre><code>&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;name_of_list&lt;/th&gt;\n        &lt;th&gt;values&lt;/th&gt;\n    &lt;/tr&gt;\n\n    {% for key, values in your_dictionary.items() %}\n    &lt;tr&gt;\n        &lt;td&gt;{{key}}&lt;/td&gt;\n        &lt;td&gt;\n        &lt;table&gt;\n           &lt;tr&gt;\n             &lt;th&gt;article_title&lt;/th&gt;\n             &lt;th&gt;score&lt;/th&gt;\n             &lt;th&gt;type&lt;/th&gt;\n           &lt;/tr&gt;\n           &lt;tr&gt;\n           {% for articles in values %}\n               &lt;td&gt;{{article.article_title}}&lt;/td&gt;\n               &lt;td&gt;{{article.score}}&lt;/td&gt;\n               &lt;td&gt;{{article.type}}&lt;/td&gt;\n           {% endfor %}\n           &lt;/tr&gt;\n        &lt;/td&gt;\n     &lt;/tr&gt;\n    {% endfor %}\n\n&lt;/table&gt;\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 6174784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5a37d4592b7c4c66b41758ad1b516362?s=128&d=identicon&r=PG&f=1", "display_name": "AlpU", "link": "https://stackoverflow.com/users/6174784/alpu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 994, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1472108658, "creation_date": 1472079142, "last_edit_date": 1472081339, "question_id": 39134183, "link": "https://stackoverflow.com/questions/39134183/python-dictionary-convert-to-html-in-flask", "title": "Python Dictionary convert to HTML in flask", "body": "<p>I have python dictionary that have a list of dictionaries inside. I am trying to convert this to an HTML table that I can give to Flask render_template</p>\n\n<p>My dictionary format is:</p>\n\n<pre><code>{'sentiment_analysis_result': [{'article_title': u'These Digital Locks Help Keep Tabs on Tenants', 'score': u'0.139613', 'type': u'positive'}, {'article_title': u'You Can Get a $50 Phone From Amazon, If You Don\\u2019t Mind the Ads', 'score': u'0.239663', 'type': u'positive'}]}\n</code></pre>\n\n<p>I want the key to be title and values to be values. Any help would be much apprecited!</p>\n\n<p>After trying @EliasMP 's answer the format of the table is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iQ0Fz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iQ0Fz.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "html"], "comments": [{"owner": {"reputation": 8099, "user_id": 2797476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9561473705b0e781edb4525bed2ac?s=128&d=identicon&r=PG", "display_name": "Christian Ternus", "link": "https://stackoverflow.com/users/2797476/christian-ternus"}, "edited": false, "score": 1, "creation_date": 1472079249, "post_id": 39134172, "comment_id": 65613718, "body": "Do you have to do this in Python? <code>wget -p -k</code> will do exactly what you want: <a href=\"http://stackoverflow.com/questions/6348289/download-a-working-local-copy-of-a-webpage\" title=\"download a working local copy of a webpage\">stackoverflow.com/questions/6348289/&hellip;</a>"}, {"owner": {"reputation": 2724, "user_id": 4268602, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/730410991/picture?type=large", "display_name": "Daniel Paczuski Bak", "link": "https://stackoverflow.com/users/4268602/daniel-paczuski-bak"}, "reply_to_user": {"reputation": 8099, "user_id": 2797476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9561473705b0e781edb4525bed2ac?s=128&d=identicon&r=PG", "display_name": "Christian Ternus", "link": "https://stackoverflow.com/users/2797476/christian-ternus"}, "edited": false, "score": 0, "creation_date": 1472086236, "post_id": 39134172, "comment_id": 65615374, "body": "It doesn&#39;t need to be in Python, but it&#39;s gotta work on Windows."}], "answers": [{"tags": [], "owner": {"reputation": 8099, "user_id": 2797476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9561473705b0e781edb4525bed2ac?s=128&d=identicon&r=PG", "display_name": "Christian Ternus", "link": "https://stackoverflow.com/users/2797476/christian-ternus"}, "is_accepted": false, "score": 0, "last_activity_date": 1472086378, "creation_date": 1472086378, "answer_id": 39135091, "question_id": 39134172, "link": "https://stackoverflow.com/questions/39134172/copy-html-save-all-images-on-that-page-and-redirect-the-images-in-the-html/39135091#39135091", "title": "Copy HTML, save all images on that page and redirect the images in the html", "body": "<p>Doesn't need to be Python? Great. Try downloading <a href=\"http://gnuwin32.sourceforge.net/packages/wget.htm\" rel=\"nofollow\">Wget for Windows</a> and doing</p>\n\n<p><code>wget -p -k http://the-site-you-want.com/fileName.html</code></p>\n"}], "owner": {"reputation": 2724, "user_id": 4268602, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/730410991/picture?type=large", "display_name": "Daniel Paczuski Bak", "link": "https://stackoverflow.com/users/4268602/daniel-paczuski-bak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472086395, "creation_date": 1472079089, "last_edit_date": 1472086395, "question_id": 39134172, "link": "https://stackoverflow.com/questions/39134172/copy-html-save-all-images-on-that-page-and-redirect-the-images-in-the-html", "title": "Copy HTML, save all images on that page and redirect the images in the html", "body": "<p>Here's what I want to do:</p>\n\n<p>Hit a url,\nsave all of the html to a .html file\nsave all of the images\ncreate a copy of that .html where all of the images are redirected to the local copy.</p>\n\n<p>At this point, I can now open the second file while my computer is disconnected from the internet.</p>\n\n<p>Here's what I'm doing right now just to pull the HTML:</p>\n\n<pre><code>urllib.urlretrieve(pageURL, \"fileName.html\")\n</code></pre>\n\n<p>Is there something I can just plug in to get this to work? I haven't managed to find any utilities.</p>\n"}, {"tags": ["python", "python-3.x", "generator", "generator-expression"], "answers": [{"comments": [{"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 1, "creation_date": 1472080151, "post_id": 39134115, "comment_id": 65613962, "body": "yes, but you get the order wrong, the generator is exhausted in the <code>yield from s</code> the first time it enter the while loop"}, {"owner": {"reputation": 3409, "user_id": 3105485, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b4c41125ff9c7b20ca07d0845e7af7ae?s=128&d=identicon&r=PG&f=1", "display_name": "Caridorc", "link": "https://stackoverflow.com/users/3105485/caridorc"}, "reply_to_user": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1472081214, "post_id": 39134115, "comment_id": 65614236, "body": "@Copperfield In fact the <code>yield from</code> in the loop is executed only once, thanks for clarifying"}], "tags": [], "owner": {"reputation": 3409, "user_id": 3105485, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b4c41125ff9c7b20ca07d0845e7af7ae?s=128&d=identicon&r=PG&f=1", "display_name": "Caridorc", "link": "https://stackoverflow.com/users/3105485/caridorc"}, "is_accepted": false, "score": 1, "last_activity_date": 1472129337, "last_edit_date": 1472129337, "creation_date": 1472078700, "answer_id": 39134115, "question_id": 39134067, "link": "https://stackoverflow.com/questions/39134067/generator-expression-makes-binary-string-generator-freeze-forever/39134115#39134115", "title": "Generator expression makes binary string generator freeze forever", "body": "<p>I found the answer, the line <code>yield from s</code> was exhausting the generator so the line <code>yield from s</code> yielded from an empty generator (the comprehension before yields empty as <code>s</code> is empty) hence freezeing forever.</p>\n\n<p>A list instead can be iterated arbitrarly many times so this problem does not appear.</p>\n\n<p>The problem appears only after an iteration because at the start <code>s</code> is a list and becomes a generator afterwards.</p>\n"}], "owner": {"reputation": 3409, "user_id": 3105485, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b4c41125ff9c7b20ca07d0845e7af7ae?s=128&d=identicon&r=PG&f=1", "display_name": "Caridorc", "link": "https://stackoverflow.com/users/3105485/caridorc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1472129337, "creation_date": 1472078370, "question_id": 39134067, "link": "https://stackoverflow.com/questions/39134067/generator-expression-makes-binary-string-generator-freeze-forever", "title": "Generator expression makes binary string generator freeze forever", "body": "<p>I have written a function to generate binary strings starting from a given list <code>s</code> (all binary strings that end in one of <code>s</code> items):</p>\n\n<pre><code>def binary_strings(s):\n    yield from s\n    while True:\n        s = [b + x for x in s for b in \"01\"]\n        yield from s\n</code></pre>\n\n<p>It works as you can see from the output:</p>\n\n<pre><code>&gt;&gt;&gt; for i in binary_strings([\"10\", \"01\"]): print(i)\n\n10\n01\n010\n110\n001\n101\n0010\n1010\n0110\n1110\n0001\n1001\n0101\n1101\n00010\n10010\n01010\n11010\n00110\n10110\n01110\n11110\n00001\n10001\n01001\n11001\n00101\n10101\n01101\n11101\n000010\n100010\n... # Output is infinite so I must truncate it.\n</code></pre>\n\n<p>Now I modify <code>s</code> and use a generator expression for it instead of a list:</p>\n\n<pre><code>def binary_strings(s):\n    yield from s\n    while True:\n        s = (b + x for x in s for b in \"01\")\n        yield from s\n</code></pre>\n\n<p>Now the execution abruptly stops after exhausting the 3-length possibilities:</p>\n\n<pre><code>&gt;&gt;&gt; for i in binary_strings([\"10\",\"01\"]): print(i)\n\n10\n01\n010\n110\n001\n101\n# Output is not truncated, the function freezes at this points \n# and yield no more output\n</code></pre>\n\n<p>I expected the second version to work just as well as the first because I never use list methods on <code>s</code> and I just iterate through it, why isn't the second version working?</p>\n"}, {"tags": ["javascript", "python", "function"], "comments": [{"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 0, "creation_date": 1472077781, "post_id": 39133959, "comment_id": 65613308, "body": "Nope. Python does not run in the browser. The browser implementors would have to include a Python interpreter. You could look for a Python to Javascript transpiler and convert your Python to JS before running it in the browser."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1472077782, "post_id": 39133959, "comment_id": 65613309, "body": "Unless you use a browser with a built-in Python interpreter, it won&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "is_accepted": false, "score": 2, "last_activity_date": 1472078345, "last_edit_date": 1472078345, "creation_date": 1472077921, "answer_id": 39133999, "question_id": 39133959, "link": "https://stackoverflow.com/questions/39133959/can-python-functions-run-in-html-as-javascript-does/39133999#39133999", "title": "Can python functions run in html as javascript does?", "body": "<p>It is not possible to run Python in any modern browser because, while theoretically possible, none contain a python interpreter. Javascript is the only language which runs in a browser without plugins like Flash or ActiveX.</p>\n\n<p>One possibility for being able to write Python code that will eventually run in the browser is to use a \"transpiler\". This is a tool that will compile the python code into Javascript. So the browser is ultimately running the language it knows, but you're writing Python. There are already a number of languages like <a href=\"http://coffeescript.org/\" rel=\"nofollow noreferrer\">CoffeeScript</a>, <a href=\"https://www.typescriptlang.org/\" rel=\"nofollow noreferrer\">TypeScript</a> and even <a href=\"https://facebook.github.io/react/docs/jsx-in-depth.html\" rel=\"nofollow noreferrer\">React JSX templates</a> that compile down to raw javascript.</p>\n\n<p>An example of a Python to Javascript transpiler is <a href=\"http://www.transcrypt.org/\" rel=\"nofollow noreferrer\">Transcript</a>. Just keep in mind, since it's not actually Python, there are no guarantees for performance or compatibility since that's largely up to how well the transpiler does it's conversion. You may start with a 2 line Python script that compiles into 30 lines of javascript in order to replicate what you're trying to do.</p>\n\n<p>Below is an example of Transcript compilation:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zwqWI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwqWI.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 81, "user_id": 5583082, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rq-PXSGFzIU/AAAAAAAAAAI/AAAAAAAACR4/npynlmfSQPc/photo.jpg?sz=128", "display_name": "Fernando Soares", "link": "https://stackoverflow.com/users/5583082/fernando-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "closed_date": 1472079212, "answer_count": 1, "score": 1, "last_activity_date": 1472078345, "creation_date": 1472077731, "question_id": 39133959, "link": "https://stackoverflow.com/questions/39133959/can-python-functions-run-in-html-as-javascript-does", "closed_reason": "Duplicate", "title": "Can python functions run in html as javascript does?", "body": "<p>How should I go about turning my JavaScript functions into Python functions so as to have my project's code structure as close as possible to what I already have? Would for instance Python functions run embedded in HTML as JavaScript functions do? Of course, I did not try that yet and I am assuming it is not that simple, but I don't understand why. Would it only be because browsers don't have Python available out of the box?</p>\n\n<pre><code>&lt;script type=\"text/python\"&gt;\n    def myFunction (x):\n        if x &gt; 10:\n            print(\"x is larger than 10\")\n&lt;/script&gt;\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function myFunction () {\n        if (x &gt; 10) {\n            alert(\"x is larger than 10\");\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["python", "docker"], "comments": [{"owner": {"reputation": 18731, "user_id": 1220269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KVjUY.jpg?s=128&g=1", "display_name": "Nathaniel Waisbrot", "link": "https://stackoverflow.com/users/1220269/nathaniel-waisbrot"}, "edited": false, "score": 0, "creation_date": 1472081236, "post_id": 39133956, "comment_id": 65614240, "body": "Post your docker-compose.yaml"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6723321"}, "reply_to_user": {"reputation": 18731, "user_id": 1220269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KVjUY.jpg?s=128&g=1", "display_name": "Nathaniel Waisbrot", "link": "https://stackoverflow.com/users/1220269/nathaniel-waisbrot"}, "edited": false, "score": 0, "creation_date": 1472081510, "post_id": 39133956, "comment_id": 65614318, "body": "Just posted. Thanks for help"}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1472081623, "post_id": 39133956, "comment_id": 65614345, "body": "It&#39;s not clear to me what you are trying to achieve."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6723321"}, "edited": false, "score": 0, "creation_date": 1472081892, "post_id": 39133956, "comment_id": 65614414, "body": "I have a db and one python script set up on docker. The python script is a Flask Admin interface for the db. I have another standalone (script2) python script that scrapes websites to be entered into the db. I don&#39;t know how to get script2 in the docker package to be set up with the db"}], "answers": [{"tags": [], "owner": {"reputation": 18731, "user_id": 1220269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KVjUY.jpg?s=128&g=1", "display_name": "Nathaniel Waisbrot", "link": "https://stackoverflow.com/users/1220269/nathaniel-waisbrot"}, "is_accepted": true, "score": 0, "last_activity_date": 1472082601, "creation_date": 1472082601, "answer_id": 39134645, "question_id": 39133956, "link": "https://stackoverflow.com/questions/39133956/multiple-python-scripts-in-docker/39134645#39134645", "title": "Multiple Python Scripts in Docker", "body": "<p>Exactly what to write depends on your directory configuration, but you basically want</p>\n\n<pre><code>version: '2'\nservices:\n  db:\n    image: postgres\n    environment:\n      - PG_PASSWORD=XXXXX\n  dev:\n    build: &lt;path-to-dev&gt;\n    volumes:\n      - ./app:/code/app\n      - ./run.sh:/code/run.sh\n    ports:\n      - \"5000:5000\"\n    depends_on:\n      - db\n  scraper:\n    build: &lt;path-to-scraper&gt;\n    depends_on:\n      - db\n</code></pre>\n\n<p>The two paths might be the same. You might push an image and then reference that instead of building it on the fly. You might do the same business of just mounting the code directory instead of building it into the image (but don't do that for actual deployment).</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6723321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 0, "accepted_answer_id": 39134645, "answer_count": 1, "score": 0, "last_activity_date": 1472082601, "creation_date": 1472077694, "last_edit_date": 1472081499, "question_id": 39133956, "link": "https://stackoverflow.com/questions/39133956/multiple-python-scripts-in-docker", "title": "Multiple Python Scripts in Docker", "body": "<p>This is quite a basic question but I haven't been able to get an answer from researching on Google, although I think its more due to my lack of understanding, than the answer not being out there.</p>\n\n<p>I am getting to grips with Docker and have a python Flask Admin script and a postgres db both in two separate containers but under on docker-compose file. I would like another python script to run at the same time which will be scraping a website. I have the file all set up but how do I include it in the same Docker-Compose or DockerFile? </p>\n\n<pre><code>version: '2'\nservices:\n  db:\n    image: postgres\n    environment:\n      - PG_PASSWORD=XXXXX\n  dev:\n    build: .\n    volumes:\n      - ./app:/code/app\n      - ./run.sh:/code/run.sh\n    ports:\n      - \"5000:5000\"\n    depends_on:\n       - db\n</code></pre>\n"}, {"tags": ["python", "django", "loops", "docker", "interrupt"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6035987, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4VYazixJwZI/AAAAAAAAAAI/AAAAAAAAEpM/IRV1SlrEo9I/photo.jpg?sz=128", "display_name": "Joke Durnez", "link": "https://stackoverflow.com/users/6035987/joke-durnez"}, "is_accepted": false, "score": 0, "last_activity_date": 1472680644, "creation_date": 1472680644, "answer_id": 39259636, "question_id": 39133927, "link": "https://stackoverflow.com/questions/39133927/docker-django-loop-break-using-forms/39259636#39259636", "title": "docker + django : loop + break using forms", "body": "<p>Found the solution ! Number of threads in the uwsgi.ini was only 1.  Increasing this solved the problem.</p>\n\n<p><strong>uwsgi.ini</strong></p>\n\n<pre><code>[uwsgi]\nmaster = true\nprocesses = 4\nthreads = 4 \nsocket = :3031\nchdir = /code/\npost-buffering = true\nlog-date = true\nmax-requests = 5000\nwsgi-file = neuropowertools/wsgi.py\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6035987, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4VYazixJwZI/AAAAAAAAAAI/AAAAAAAAEpM/IRV1SlrEo9I/photo.jpg?sz=128", "display_name": "Joke Durnez", "link": "https://stackoverflow.com/users/6035987/joke-durnez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472680644, "creation_date": 1472077546, "last_edit_date": 1472077847, "question_id": 39133927, "link": "https://stackoverflow.com/questions/39133927/docker-django-loop-break-using-forms", "title": "docker + django : loop + break using forms", "body": "<p>I am using django in a docker container.  I have a page with two buttons: 'Run' and 'Stop'.  When someone presses 'Run' it should start an optimisation process, when you press 'Stop', it should stop.</p>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>def runGA(request):\n  #read from database and initate form\n  rundata = RunModel.objects.get(SID=sid)\n  runform = RunForm(request.POST or None, instance = rundata)\n  form = runform.save(commit=False)           # initiating the form, to allow writing form.stop to db.stop\n\n    if request.method==\"POST\":\n\n        if request.POST.get(\"GA\")==\"Stop\":\n          form.stop = True\n\n        if request.POST.get(\"GA\")==\"Run\":\n          for iteration in range(cycles):\n            *optimise something with iteration*\n            rundata = RunModel.objects.get(SID=sid)\n            if rundata.stop == True:\n              break\n          form.stop = False\n\n        form.save()\n        return render(request,\"runGA.html\",{})\n</code></pre>\n\n<p>This works when I don't use the docker container but just run it locally.  This structure allows to interrupt a loop, but it also allows to show an updating figure while running, or to check settings on other pages while running, etc...\n(so I need a solution that would work for all those problems as well)</p>\n\n<p>However, if I run this code in the docker container, it seems as though there's a problem with the request.POST.  It executes all the requests <strong>after</strong> the loop is done, and not <strong>during</strong> as it should be.  And this <strong>only</strong> happens when I run this in a docker container. </p>\n\n<p>Any ideas how come?</p>\n\n<p>Thanks!</p>\n\n<p><strong>Docker version:</strong></p>\n\n<pre><code>    Client:\n    Version:      1.11.1\n    API version:  1.23\n   Go version:   go1.6.2\n   Git commit:   5604cbe\n   Built:        Wed Apr 27 15:27:26 UTC 2016\n   OS/Arch:      darwin/amd64\n\n  Server:\n   Version:      1.12.0\n   API version:  1.24\n   Go version:   go1.6.3\n   Git commit:   8eab29e\n   Built:        Thu Jul 28 23:54:00 2016\n   OS/Arch:      linux/amd64\n</code></pre>\n\n<p>Docker file probably doesn't matter, but is here: <a href=\"https://github.com/neuropower/neuropower-web/blob/development/neuropower/Dockerfile\" rel=\"nofollow\">https://github.com/neuropower/neuropower-web/blob/development/neuropower/Dockerfile</a>.</p>\n"}, {"tags": ["python", "json", "hl7-fhir"], "comments": [{"owner": {"reputation": 3722, "user_id": 5249203, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/62ade2eeb123f33d7fdc8d54fd4122f9?s=128&d=identicon&r=PG&f=1", "display_name": "user5249203", "link": "https://stackoverflow.com/users/5249203/user5249203"}, "edited": false, "score": 0, "creation_date": 1556298909, "post_id": 39133855, "comment_id": 98404439, "body": "Hi, do you have a complete example on importing data into python from FHIR?, is so can you share. I would like to learn how I can get the FHIR data into R"}], "answers": [{"comments": [{"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1472148459, "post_id": 39137796, "comment_id": 65647564, "body": "@ Pascal Thanks for the additional details!  I think I gather what you are suggesting.  In my circumstance, I have written all my complete patient FHIR bundles (from $everything) into individual json files in a directory, since the server in question does not utilize Smart on FHIR.  So I was hoping to manually use the Smart Models on these arbitrary bundles as opposed to iterate through so many fields.  It does not appear that &quot;import fhirclient.models.object.bundle as b&quot; allows me to do the same as the patient example I posted."}, {"owner": {"reputation": 16269, "user_id": 148335, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9e841e6de8be494ed6806d8e13db09b3?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/148335/pascal"}, "reply_to_user": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1472376132, "post_id": 39137796, "comment_id": 65720143, "body": "Hy @Pylander. This should definitely work, I&#39;ve added complete code that I just executed from the command line, reading the file <code>Bundle-example.json</code> available from the FHIR website. Is that what you&#39;re trying to achieve?"}], "tags": [], "owner": {"reputation": 16269, "user_id": 148335, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9e841e6de8be494ed6806d8e13db09b3?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/148335/pascal"}, "is_accepted": true, "score": 1, "last_activity_date": 1472376075, "last_edit_date": 1472376075, "creation_date": 1472105201, "answer_id": 39137796, "question_id": 39133855, "link": "https://stackoverflow.com/questions/39133855/smart-on-fhir-python-client-with-bundles/39137796#39137796", "title": "Smart-on-FHIR Python Client with Bundles", "body": "<p>Yes, you can instantiate a <code>Bundle</code> like you can instantiate any other model, either manually from JSON or by a <code>read</code> from the server. Every <code>search</code> returns a Bundle as well. Then you can just iterate over the bundle's entries and work with them, like put them in an array:</p>\n\n<pre><code>resources = []\nif bundle.entry is not None:\n    for entry in bundle.entry:\n        resources.append(entry.resource)\n</code></pre>\n\n<p>p.s.\nIt should be possible to execute any <code>$operation</code> with the client, returning the <code>Bundle</code> you mention, but I have to check if we've exposed that or if it has not been committed.</p>\n\n<hr>\n\n<p>Command line example:</p>\n\n<pre><code>import fhirclient.models.bundle as b\nimport json\nwith open('fhir-parser/downloads/bundle-example.json', 'r') as h:\n    js = json.load(h)\nbundle = b.Bundle(js)\nbundle.entry\n[&lt;fhirclient.models.bundle.BundleEntry object at 0x10f40ae48&gt;, \n &lt;fhirclient.models.bundle.BundleEntry object at 0x10f40ac88&gt;]\nfor entry in bundle.entry:\n    print(entry.resource)\n\n// prints\n&lt;fhirclient.models.medicationorder.MedicationOrder object at 0x10f407390&gt;\n&lt;fhirclient.models.medication.Medication object at 0x10f407e48&gt;\n</code></pre>\n"}], "owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2153, "favorite_count": 0, "accepted_answer_id": 39137796, "answer_count": 1, "score": 2, "last_activity_date": 1472627126, "creation_date": 1472077085, "last_edit_date": 1472627126, "question_id": 39133855, "link": "https://stackoverflow.com/questions/39133855/smart-on-fhir-python-client-with-bundles", "title": "Smart-on-FHIR Python Client with Bundles", "body": "<p>So I have a FHIR patient bundle json from the \"$everything\" operation:\n<a href=\"https://www.hl7.org/fhir/operation-patient-everything.html\" rel=\"nofollow\">https://www.hl7.org/fhir/operation-patient-everything.html</a></p>\n\n<p>I am now interested in using the Smart on FHIR Python Client Models to make working with the json file a lot easier.  An example given is the following:</p>\n\n<pre><code>import json\nimport fhirclient.models.patient as p\nwith open('path/to/patient.json', 'r') as h:\n     pjs = json.load(h)\npatient = p.Patient(pjs)\npatient.name[0].given\n# prints patient's given name array in the first `name` property\n</code></pre>\n\n<p>Would it be possible to do instantiate something with just a generic bundle object class to be able access different resources inside the bundle?</p>\n"}, {"tags": ["python", "python-3.x", "matplotlib", "tkinter"], "comments": [{"owner": {"reputation": 1157, "user_id": 5601431, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/MSYp6.jpg?s=128&g=1", "display_name": "Parviz Karimli", "link": "https://stackoverflow.com/users/5601431/parviz-karimli"}, "edited": false, "score": 0, "creation_date": 1472076886, "post_id": 39133820, "comment_id": 65613002, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/7546050/switch-between-two-frames-in-tkinter\">Switch between two frames in tkinter</a>"}, {"owner": {"reputation": 73, "user_id": 6326831, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1118972191457606/picture?type=large", "display_name": "Linh Phan", "link": "https://stackoverflow.com/users/6326831/linh-phan"}, "reply_to_user": {"reputation": 1157, "user_id": 5601431, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/MSYp6.jpg?s=128&g=1", "display_name": "Parviz Karimli", "link": "https://stackoverflow.com/users/5601431/parviz-karimli"}, "edited": false, "score": 0, "creation_date": 1472077261, "post_id": 39133820, "comment_id": 65613127, "body": "@ParvizKarimli That post tells me how to switch between frames which I already did... It was the calling a function of one frame from another frame that I have problem with :("}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 6326831, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1118972191457606/picture?type=large", "display_name": "Linh Phan", "link": "https://stackoverflow.com/users/6326831/linh-phan"}, "edited": false, "score": 0, "creation_date": 1472079480, "post_id": 39133968, "comment_id": 65613777, "body": "Thank you so much! That did get rid of the errors, which is just fantastic!!! However, now that the <code>update</code> function in <code>GraphPage</code> runs, for some reason the <code>self.iso</code> field still remains empty string even if I&#39;ve input a string before hitting button. What could be wrong? Thank you so much!!! (I&#39;ve put update of code up on edit section :) )"}, {"owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "reply_to_user": {"reputation": 73, "user_id": 6326831, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1118972191457606/picture?type=large", "display_name": "Linh Phan", "link": "https://stackoverflow.com/users/6326831/linh-phan"}, "edited": false, "score": 0, "creation_date": 1472114420, "post_id": 39133968, "comment_id": 65625409, "body": "Did you change <code>command=self.gpUpdate()</code> to <code>command=self.gpUpdate()</code>?"}, {"owner": {"reputation": 73, "user_id": 6326831, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1118972191457606/picture?type=large", "display_name": "Linh Phan", "link": "https://stackoverflow.com/users/6326831/linh-phan"}, "edited": false, "score": 0, "creation_date": 1472247822, "post_id": 39133968, "comment_id": 65692319, "body": "If you meant to <code>self.gpUpdate</code>, then yes I have. I just don&#39;t know what the problem is at this point :("}], "tags": [], "owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "is_accepted": true, "score": 3, "last_activity_date": 1472077782, "creation_date": 1472077782, "answer_id": 39133968, "question_id": 39133820, "link": "https://stackoverflow.com/questions/39133820/how-to-pass-self-parameter-of-one-class-to-another-class/39133968#39133968", "title": "How to pass &#39;self&#39; parameter of one class to another class", "body": "<p>This is the problem:</p>\n\n<pre><code>GraphPage.update(graphPage)\n</code></pre>\n\n<p>You call the method on the class itself. You need to create an instance of that class and then call the <code>update</code> method with a parent and a controller, for example:</p>\n\n<pre><code>self.grpage = GraphPage(parent, controller)\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>self.grpage.update()\n</code></pre>\n\n<p>Aside from this, you have another problem <code>in button3</code>- change this:</p>\n\n<pre><code>command=self.gpUpdate()\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>command=self.gpUpdate\n</code></pre>\n\n<p>without parenthesis. This is a function that you pass to the button, and will be invoked upon button click. </p>\n"}], "owner": {"reputation": 73, "user_id": 6326831, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1118972191457606/picture?type=large", "display_name": "Linh Phan", "link": "https://stackoverflow.com/users/6326831/linh-phan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2921, "favorite_count": 0, "accepted_answer_id": 39133968, "answer_count": 1, "score": 0, "last_activity_date": 1472079353, "creation_date": 1472076803, "last_edit_date": 1472079353, "question_id": 39133820, "link": "https://stackoverflow.com/questions/39133820/how-to-pass-self-parameter-of-one-class-to-another-class", "title": "How to pass &#39;self&#39; parameter of one class to another class", "body": "<p>I am trying to incorporate matplotlib into tkinter by having multiple frames. I need to pass the entry inputs from <code>StartPage</code> frame to update the plot in <code>GraphPage</code> once the button in <code>StartPage</code> is clicked. Therefore, I'm trying to bind the update function of <code>GraphPage</code> to the button in <code>StartPage</code>, but the update function requires <code>self</code> parameter which I can't get. Here's the set up of my code right now:</p>\n\n<pre><code>import matplotlib\nmatplotlib.use(\"TkAgg\")\nfrom matplotlib.backends.backend_tkagg import FigureCanvasTkAgg, NavigationToolbar2TkAgg\nfrom matplotlib.figure import Figure\n\nimport tkinter as tk\nfrom tkinter import ttk\n\n\nclass PeakFitting(tk.Tk):\n\n    def __init__(self, *args, **kwargs):\n\n        tk.Tk.__init__(self, *args, **kwargs)\n\n        container = tk.Frame(self)\n        container.pack(side=\"top\", fill=\"both\", expand = True)\n        container.grid_rowconfigure(0, weight=1)\n        container.grid_columnconfigure(0, weight=1)\n\n        self.frames = {}\n\n        for F in (StartPage, GraphPage):\n\n            frame = F(container, self)\n\n            self.frames[F] = frame\n\n            frame.grid(row=0, column=0, sticky=\"nsew\")\n\n        self.show_frame(StartPage)\n\n    def show_frame(self, cont):\n\n        frame = self.frames[cont]\n\n        frame.tkraise()\n\n    def get_page(self, classname):\n    '''Returns an instance of a page given it's class name as a string'''\n        for page in self.frames.values():\n            if str(page.__class__.__name__) == classname:\n                return page\n        return None\n\nclass StartPage(tk.Frame):\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self, parent)\n\n        self.controller = controller\n\n       # Setting up frame and widget\n\n        self.entry1 = tk.Entry(self)\n        self.entry1.grid(row=4, column=1)\n\n        button3 = ttk.Button(self, text=\"Graph Page\",\n                         command=self.gpUpdate())\n        button3.grid(row=7, columnspan=2)\n\n    def gpUpdate(self):\n        graphPage = self.controller.get_page(\"GraphPage\")\n        GraphPage.update(graphPage)\n        self.controller.show_frame(\"GraphPage\")\n\nclass GraphPage(tk.Frame):\n    def __init__(self, parent, controller):\n\n        tk.Frame.__init__(self, parent)\n        self.controller = controller\n\n        fig = Figure(figsize=(5, 5), dpi=100)\n        self.a = fig.add_subplot()\n\n        canvas = FigureCanvasTkAgg(fig, self)\n        canvas.show()\n        canvas.get_tk_widget().pack(side=tk.BOTTOM, fill=tk.BOTH, expand=True)\n\n        toolbar = NavigationToolbar2TkAgg(canvas, self)\n        toolbar.update()\n        canvas._tkcanvas.pack(side=tk.TOP, fill=tk.BOTH, expand=True)\n\n        startpage = self.controller.get_page(\"StartPage\")\n\n\n    def update(self):\n\n        startpage = self.controller.get_page(\"StartPage\")\n        self.iso = startpage.entry1.get()\n\n##Calculation code for analysis not needed for question\n\napp = PeakFitting()\napp.mainloop()\n</code></pre>\n\n<p>for <code>gpUpdate</code> function in <code>StartPage</code>, I tried to pass <code>graphPage</code> as <code>self</code>, but got an Error that it's a <code>NoneType</code>. I also tried <code>GraphPage.update(GraphPage)</code> but get 'type object 'GraphPage' has no attribute 'controller'' Error. </p>\n\n<p>I'm very sorry if my explanation wasn't clear, but I am very new to Python and has been struggling for weeks now to pass the entries to GraphPage class after the button is clicked but still can't do it... Can anyone please help me with this problem?</p>\n\n<p>Thank you so much!!!</p>\n\n<p>EDIT: I guess my main problem is how to call a function of one class in another class, because I don't know what the <code>self</code> parameter should be :(</p>\n\n<p>EDIT2: Changes to code thanks to suggestion:</p>\n\n<pre><code>def gpUpdate(self):\n    self.parent = PeakFitting()\n    self.grpage = GraphPage(self.parent.container, self.parent)\n    self.grpage.update()\n    self.controller.show_frame(GraphPage)\n</code></pre>\n\n<p>However, when I input something in the entry and hit the button, the <code>self.iso</code> field still remains empty...</p>\n"}, {"tags": ["python", "set"], "comments": [{"owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 1, "creation_date": 1472076701, "post_id": 39133758, "comment_id": 65612955, "body": "An <code>O(1)</code> operation can still take 5 hours."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 2, "creation_date": 1472076705, "post_id": 39133758, "comment_id": 65612960, "body": "The code you show is invalid since <code>temp</code> is a dict there."}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "reply_to_user": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 0, "creation_date": 1472076754, "post_id": 39133758, "comment_id": 65612975, "body": "@Blender you are right, but this is not the case I think"}, {"owner": {"reputation": 332, "user_id": 6445776, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/41eab6db54ab757c111a463ab64d9db2?s=128&d=identicon&r=PG&f=1", "display_name": "RetroCode", "link": "https://stackoverflow.com/users/6445776/retrocode"}, "edited": false, "score": 0, "creation_date": 1472076758, "post_id": 39133758, "comment_id": 65612976, "body": "@BrenBam my bad. edited my post."}, {"owner": {"reputation": 2922, "user_id": 378826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0eed752c6937edcf8597e360c627582?s=128&d=identicon&r=PG", "display_name": "Dilettant", "link": "https://stackoverflow.com/users/378826/dilettant"}, "edited": false, "score": 0, "creation_date": 1472076800, "post_id": 39133758, "comment_id": 65612984, "body": "The fine print often rightfully states amortized O(1) - in sets and dicts key search may approach linear complexity, if many collisions arise on hash &quot;place&quot; calculation. As then alternate subsequent &quot;places&quot; have to be checked for the &quot;in&quot; test you added (as an example)."}, {"owner": {"reputation": 295, "user_id": 1594326, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/bbaf955f4c9b90e49361b593f1f7c1e2?s=128&d=identicon&r=PG", "display_name": "Ramon Moraes", "link": "https://stackoverflow.com/users/1594326/ramon-moraes"}, "edited": false, "score": 0, "creation_date": 1472076876, "post_id": 39133758, "comment_id": 65612999, "body": "<code>if i in second_100_million_set:</code> is a array look-up: <code>O(N)</code>"}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "reply_to_user": {"reputation": 295, "user_id": 1594326, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/bbaf955f4c9b90e49361b593f1f7c1e2?s=128&d=identicon&r=PG", "display_name": "Ramon Moraes", "link": "https://stackoverflow.com/users/1594326/ramon-moraes"}, "edited": false, "score": 1, "creation_date": 1472076938, "post_id": 39133758, "comment_id": 65613017, "body": "@vyscond no. Set is always <code>O( log(N) )</code> or better."}, {"owner": {"reputation": 295, "user_id": 1594326, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/bbaf955f4c9b90e49361b593f1f7c1e2?s=128&d=identicon&r=PG", "display_name": "Ramon Moraes", "link": "https://stackoverflow.com/users/1594326/ramon-moraes"}, "reply_to_user": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1472077003, "post_id": 39133758, "comment_id": 65613035, "body": "@karloss if you say so."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1472077062, "post_id": 39133758, "comment_id": 65613053, "body": "What are the objects in the sets?"}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1472077106, "post_id": 39133758, "comment_id": 65613078, "body": "@ayhan So it means Python set can only contain hashable elements, that is the difference from C++ for example. Therefore <code>O(1)</code>."}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "reply_to_user": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1472077190, "post_id": 39133758, "comment_id": 65613103, "body": "@karlosss Yes, you cannot add lists for example."}, {"owner": {"reputation": 7576, "user_id": 1603840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJhqE.jpg?s=128&g=1", "display_name": "Karin", "link": "https://stackoverflow.com/users/1603840/karin"}, "edited": false, "score": 0, "creation_date": 1472077204, "post_id": 39133758, "comment_id": 65613110, "body": "I think it would be very helpful if you showed us how these sets were constructed."}, {"owner": {"reputation": 332, "user_id": 6445776, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/41eab6db54ab757c111a463ab64d9db2?s=128&d=identicon&r=PG&f=1", "display_name": "RetroCode", "link": "https://stackoverflow.com/users/6445776/retrocode"}, "edited": false, "score": 0, "creation_date": 1472077283, "post_id": 39133758, "comment_id": 65613133, "body": "@BrenBam The objects are strings with a maximum length of 20."}, {"owner": {"reputation": 332, "user_id": 6445776, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/41eab6db54ab757c111a463ab64d9db2?s=128&d=identicon&r=PG&f=1", "display_name": "RetroCode", "link": "https://stackoverflow.com/users/6445776/retrocode"}, "reply_to_user": {"reputation": 7576, "user_id": 1603840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJhqE.jpg?s=128&g=1", "display_name": "Karin", "link": "https://stackoverflow.com/users/1603840/karin"}, "edited": false, "score": 0, "creation_date": 1472077446, "post_id": 39133758, "comment_id": 65613175, "body": "@Karin What difference would that make ? I constructed the sets by reading 2 files from disk using a library called ujson (similar to simplejson) and then converting the returned lists into sets . Both sets contain strings of maximum 20 length and can only take values from &#39;abcdefghijklmnopqrstuvwxyz&#39;"}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1472077611, "post_id": 39133758, "comment_id": 65613233, "body": "@RetroCode your code looks okay, if it is too slow, then I am afraid you have to implement your own set (with blackjack and hookers, as Bender would say :) ). Maybe Python&#39;s set reallocates the hashtable too late or uses a bad hashing function for your case."}, {"owner": {"reputation": 7576, "user_id": 1603840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJhqE.jpg?s=128&g=1", "display_name": "Karin", "link": "https://stackoverflow.com/users/1603840/karin"}, "edited": false, "score": 0, "creation_date": 1472077630, "post_id": 39133758, "comment_id": 65613238, "body": "I&#39;m also having trouble reproducing the 6-hour timing (finding the difference of two 100-million-element sets only takes a few seconds on my machine), so I wanted a sanity check that the second set is actually a set and also to get info on what kind of information is in these sets so we can try to reproduce the issue."}, {"owner": {"reputation": 332, "user_id": 6445776, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/41eab6db54ab757c111a463ab64d9db2?s=128&d=identicon&r=PG&f=1", "display_name": "RetroCode", "link": "https://stackoverflow.com/users/6445776/retrocode"}, "reply_to_user": {"reputation": 7576, "user_id": 1603840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJhqE.jpg?s=128&g=1", "display_name": "Karin", "link": "https://stackoverflow.com/users/1603840/karin"}, "edited": false, "score": 0, "creation_date": 1472077826, "post_id": 39133758, "comment_id": 65613328, "body": "@Karin do your sets contain strings of maximum length 20 with values from  &#39;abcdefghijklmnopqrstuvwxyz&#39;  and it finishes in minutes ?"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1472104873, "post_id": 39133758, "comment_id": 65619859, "body": "Youshould definitely add more details on your OS, computer, etc, Python version, and preferably code to <i>generate</i> the input."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1552928047, "post_id": 39133758, "comment_id": 97187321, "body": "Side-note: You claim your code is equivalent to <code>set(a) - set(b)</code>, but it&#39;s not. Your code produces a <code>temp</code> that contains only the elements in <i>both</i> <code>first_100_million_set</code> and <code>second_100_million_set</code> (the intersection), not the elements in <code>first_100_million_set</code> that are not in <code>second_100_million_set</code> (the difference). To make it equivalent, your second loop&#39;s test should be <code>if i not in second_100_million_set:</code> (note added <code>not</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 12, "last_activity_date": 1472080613, "last_edit_date": 1472080613, "creation_date": 1472077659, "answer_id": 39133943, "question_id": 39133758, "link": "https://stackoverflow.com/questions/39133758/operations-on-large-python-sets/39133943#39133943", "title": "Operations on Large Python Sets", "body": "<p>When talking about 100 million element sets, I'd worry about data being evicted from RAM (going to swap/pagefile). A 100M element <code>set</code> on Python 3.5 built for a 64 bit processor (which you're using, because you couldn't even create such a <code>set</code> in a 32 bit build of Python) uses 4 GB of memory just for the <code>set</code> overhead (ignoring the memory used by the objects it contains).</p>\n\n<p>Your code that creates a new <code>set</code> without membership testing the second <code>set</code> accesses this memory sequentially, so the OS can predict the access patterns and it's likely pulling data into the cache before you need it even if most of the <code>set</code> is paged out. The only random access occurs in the building of the second <code>set</code> (but conveniently, the objects being inserted are already in cache because you pulled them from the original <code>set</code>). So you grow from no random access to maybe 4 GB (plus size of contained objects) worth of memory that is being accessed randomly and <em>must</em> not be paged out w/o causing performance problems.</p>\n\n<p>In your second case, the <code>set</code> being membership tested is accessed randomly on every test, and it has to load every object in the bucket collision chain with a matching hash (admittedly, with good hash generation, there shouldn't be too many of these matches). But it means the size of your randomly accessed memory went from growing from 0 to 4 GB to growing from 4 to as much as 8 GB (depending on how much overlap exists between the <code>set</code>s; again, ignoring the access to the stored objects themselves). I wouldn't be surprised if this pushed you from performing mostly RAM accesses to incurring page faults requiring reads from the page file, which is several orders of magnitude slower than RAM access. Not coincidentally, that code is taking a few orders of magnitude longer to execute.</p>\n\n<p>For the record, the <code>set</code> overhead is likely to be a fraction of the cost of the objects stored. The smallest useful objects in Python are <code>float</code>s (24 bytes a piece on Python 3.5 x64) though they're poor choices for <code>set</code>s due to issues with exact equality testing. <code>int</code>s that require less than 30 bits of magnitude are conceivably useful, and eat 28 bytes a piece (add 4 bytes for every full 30 bits required to store the value). So a 100M element set might \"only\" use 4 GB for the data structure itself, but the values are another 2.6 GB or so minimum; if they're not Python built-in types, user-defined objects, even using <code>__slots__</code>, would at least double this (quintuple it if not using <code>__slots__</code>), before they even pay the RAM for their attributes. I've got 12 GB of RAM on my machine, and your second use case would cause massive page thrashing on it, while your first case would run just fine for a <code>set</code> initialized with <code>range(100000000)</code> (though it would cause most of the other processes to page out; Python with two <code>set</code>s plus the <code>int</code>s shared between them use ~11 GB).</p>\n\n<p>Update: Your data (strings from 1-20 ASCII characters) would use 50-69 bytes each on Python 3.5 x64 (probably a little more including allocator overhead), or 4.65-6.43 GB per <code>set</code> (assuming none of the strings are shared, that's 9-13 GB for the raw data). Add the three <code>set</code>s involved, and you're looking at up to 25 GB of RAM (you don't pay again for the members of the third <code>set</code> since they're shared with the first <code>set</code>). I wouldn't try to run your code on any machine with less than 32 GB of RAM.</p>\n\n<p>As for \"is there a better solution?\" it depends on what you need. If you don't actually need the original <code>set</code>s, just the resulting difference, streaming your data would help. For example:</p>\n\n<pre><code>with open(file1) as f:\n    # Assume one string per line with newlines separating\n    myset = set(map(str.rstrip, f))\n\nwith open(file2) as f:\n    myset.difference_update(map(str.rstrip, f))\n</code></pre>\n\n<p>That would peak at about 10-11 GB of memory, then drop as elements from the second input were removed, leaving you with just the difference <code>set</code> and nothing else. Other options include using sorted <code>list</code>s of data, which would reduce the overhead from 4 GB per <code>set</code> to ~850 MB per <code>list</code>, then iterate them both in parallel (but not simultaneously; <code>zip</code> is no good here) to find the elements that exist in the first <code>list</code> but not the second, removing some of the random access costs too.</p>\n"}, {"tags": [], "owner": {"reputation": 3691, "user_id": 546465, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/394a7bce849c51df4e9371ec3ecd8b0f?s=128&d=identicon&r=PG", "display_name": "Bastiaan", "link": "https://stackoverflow.com/users/546465/bastiaan"}, "is_accepted": false, "score": 0, "last_activity_date": 1472082977, "creation_date": 1472082977, "answer_id": 39134693, "question_id": 39133758, "link": "https://stackoverflow.com/questions/39133758/operations-on-large-python-sets/39134693#39134693", "title": "Operations on Large Python Sets", "body": "<p>Checking if an element is in a set does appear to be O(1), see below code. A set must be internally made with a hash function. The rate of success of hash tables depends on the key's you use, and the way Python guesses what you did. using a <code>range(n)</code> for a set is then sort of ideal.  </p>\n\n<pre><code>import time\ndef foo(n):\n  myset = set(range(n))\n  to = time.time()\n    for e in myset:     #O(n)\n      if e in myset:    #O(n) or O(1)?\n        pass\n      else:\n        raise \"Error!\"\n  print time.time() - to\n  return\n\n&gt;&gt;&gt; foo(10**6)\n0.0479998588562\n&gt;&gt;&gt; foo(10**7)\n0.476000070572\n</code></pre>\n\n<p>Thus the function foo executes in O(n) and the check if the element is in the set used O(1) only.</p>\n"}], "owner": {"reputation": 332, "user_id": 6445776, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/41eab6db54ab757c111a463ab64d9db2?s=128&d=identicon&r=PG&f=1", "display_name": "RetroCode", "link": "https://stackoverflow.com/users/6445776/retrocode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1746, "favorite_count": 3, "accepted_answer_id": 39133943, "answer_count": 2, "score": 5, "last_activity_date": 1472082977, "creation_date": 1472076514, "last_edit_date": 1472078595, "question_id": 39133758, "link": "https://stackoverflow.com/questions/39133758/operations-on-large-python-sets", "title": "Operations on Large Python Sets", "body": "<p><strong>UPDATE 1</strong></p>\n\n<p>Both sets contain strings of maximum length 20  and can only take values from 'abcdefghijklmnopqrstuvwxyz'</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>I constructed the sets by reading 2 files from disk using a library called ujson (similar to simplejson) and then converting the returned lists into sets . </p>\n\n<hr>\n\n<p>I am trying to take the difference of 2 sets containing 100 million elements each.</p>\n\n<p>This code executes in 2 minutes:</p>\n\n<pre><code>temp = set()                              #O(1)\nfor i in first_100_million_set:           #O(N)\n    temp.add(i)                           #O(1)\n</code></pre>\n\n<p>This code executes in 6 hours:</p>\n\n<pre><code>temp = set()                              #O(1)\nfor i in first_100_million_set:           #O(N)\n    if i in second_100_million_set:       #O(1)\n        temp.add(i)                       #O(1)\n</code></pre>\n\n<p>All I did was add membership check which , if I am not mistaken is done in O(1)? Where is this massive reduction coming from ?</p>\n\n<p><em>I know about set(a) - set(b) , it is practically doing exactly what my second block of code is doing , takes 6 hours to complete as well, I just wanted to write the whole procedure to demonstrate my point of confusion.</em></p>\n\n<p><strong>Do you think there is a better solution for what I am trying to do ?</strong></p>\n"}, {"tags": ["python", "python-3.x", "gtk", "gtk3"], "comments": [{"owner": {"reputation": 12075, "user_id": 2241569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMrPS.jpg?s=128&g=1", "display_name": "Jussi Kukkonen", "link": "https://stackoverflow.com/users/2241569/jussi-kukkonen"}, "edited": false, "score": 0, "creation_date": 1472122392, "post_id": 39133741, "comment_id": 65630708, "body": "Have you tried anything? If you did, what part did not work? Can you show the code? It&#39;s quite difficult to answer open-ended questions of type &quot;how do I do X&quot; without an idea what you have already solved ..."}, {"owner": {"reputation": 894, "user_id": 5913854, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/782826775148383/picture?type=large", "display_name": "Matheus Saraiva", "link": "https://stackoverflow.com/users/5913854/matheus-saraiva"}, "reply_to_user": {"reputation": 12075, "user_id": 2241569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMrPS.jpg?s=128&g=1", "display_name": "Jussi Kukkonen", "link": "https://stackoverflow.com/users/2241569/jussi-kukkonen"}, "edited": false, "score": 0, "creation_date": 1472131251, "post_id": 39133741, "comment_id": 65636710, "body": "I have not tried anything because according to my <a href=\"http://lazka.github.io/pgi-docs/index.html#Gtk-3.0/classes/Box.html#methods\" rel=\"nofollow noreferrer\">research</a>, <code>GtkBox</code> does not have a method where you can inform the desired position. <code>GtkGrid</code> has the <a href=\"http://lazka.github.io/pgi-docs/index.html#Gtk-3.0/classes/Grid.html#Gtk.Grid.attach\" rel=\"nofollow noreferrer\">attach method</a>, but <code>GtkBox</code> seems that does not have something similar. <code>GtkGrid</code> seems to be more flexible to choose positions, but I do not need columns just lines, so I think that <code>GtkBox</code> is enough."}], "answers": [{"tags": [], "owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "is_accepted": true, "score": 3, "last_activity_date": 1472189623, "creation_date": 1472189623, "answer_id": 39158925, "question_id": 39133741, "link": "https://stackoverflow.com/questions/39133741/how-to-attach-a-component-in-a-specific-line-of-gtkbox/39158925#39158925", "title": "How to attach a component in a specific line of GtkBox?", "body": "<p>There are multiple solutions to your problem:</p>\n\n<ol>\n<li>Containers store their children's packing properties (stuff like <code>expand</code> and <code>fill</code> and, you guessed it, <code>position</code>). You can use <code>container_widget.child_set_property(child_widget, 'position', index)</code> to change the position of a child widget.</li>\n<li>Use a Grid instead of a Box. You can choose where to add a child widget if you use the <code>grid.attach</code> method, or add widgets as if it were a Box (because both inherit from GtkContainer).</li>\n<li>Instead of leaving the spot empty, insert another (invisible) container widget. This way you can easily add child widgets, and without needing to hard-code their position in the box.</li>\n</ol>\n"}], "owner": {"reputation": 894, "user_id": 5913854, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/782826775148383/picture?type=large", "display_name": "Matheus Saraiva", "link": "https://stackoverflow.com/users/5913854/matheus-saraiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 39158925, "answer_count": 1, "score": 0, "last_activity_date": 1472189623, "creation_date": 1472076372, "last_edit_date": 1472132580, "question_id": 39133741, "link": "https://stackoverflow.com/questions/39133741/how-to-attach-a-component-in-a-specific-line-of-gtkbox", "title": "How to attach a component in a specific line of GtkBox?", "body": "<p>I created a <code>GtkBox</code> with Glade, I added some components at the beginning and end of the <code>GtkBox</code> and left a empty line in the middle.\nNow, how do I add a new component in the empty line through code? E.g:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!-- Generated with glade 3.18.3 --&gt;\n&lt;interface&gt;\n  &lt;requires lib=\"gtk+\" version=\"3.12\"/&gt;\n  &lt;object class=\"GtkWindow\" id=\"window1\"&gt;\n    &lt;property name=\"can_focus\"&gt;False&lt;/property&gt;\n    &lt;child&gt;\n      &lt;object class=\"GtkBox\" id=\"box1\"&gt;\n        &lt;property name=\"visible\"&gt;True&lt;/property&gt;\n        &lt;property name=\"can_focus\"&gt;False&lt;/property&gt;\n        &lt;property name=\"orientation\"&gt;vertical&lt;/property&gt;\n        &lt;child&gt;\n          &lt;object class=\"GtkButton\" id=\"button1\"&gt;\n            &lt;property name=\"label\" translatable=\"yes\"&gt;button&lt;/property&gt;\n            &lt;property name=\"visible\"&gt;True&lt;/property&gt;\n            &lt;property name=\"can_focus\"&gt;True&lt;/property&gt;\n            &lt;property name=\"receives_default\"&gt;True&lt;/property&gt;\n          &lt;/object&gt;\n          &lt;packing&gt;\n            &lt;property name=\"expand\"&gt;False&lt;/property&gt;\n            &lt;property name=\"fill\"&gt;True&lt;/property&gt;\n            &lt;property name=\"position\"&gt;0&lt;/property&gt;\n          &lt;/packing&gt;\n        &lt;/child&gt;\n        &lt;child&gt;\n          &lt;placeholder/&gt;\n        &lt;/child&gt;\n        &lt;child&gt;\n          &lt;object class=\"GtkEntry\" id=\"entry1\"&gt;\n            &lt;property name=\"visible\"&gt;True&lt;/property&gt;\n            &lt;property name=\"can_focus\"&gt;True&lt;/property&gt;\n          &lt;/object&gt;\n          &lt;packing&gt;\n            &lt;property name=\"expand\"&gt;False&lt;/property&gt;\n            &lt;property name=\"fill\"&gt;True&lt;/property&gt;\n            &lt;property name=\"position\"&gt;2&lt;/property&gt;\n          &lt;/packing&gt;\n        &lt;/child&gt;\n      &lt;/object&gt;\n    &lt;/child&gt;\n  &lt;/object&gt;\n&lt;/interface&gt;\n</code></pre>\n\n<p>How do I add a component in position one of the <code>GtkBox</code>, through code?</p>\n\n<p><strong>EDIT:</strong>\nApparently <code>GtkBox</code> does not have a method, like <a href=\"http://lazka.github.io/pgi-docs/index.html#Gtk-3.0/classes/Grid.html#Gtk.Grid.attach\" rel=\"nofollow\">attach</a> of <code>GtkGrid</code></p>\n"}, {"tags": ["python", "pyqt"], "answers": [{"tags": [], "owner": {"reputation": 45749, "user_id": 21974, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/61d62f97373c96dea8ad1e774b127cdd?s=128&d=identicon&r=PG", "display_name": "ypnos", "link": "https://stackoverflow.com/users/21974/ypnos"}, "is_accepted": true, "score": 3, "last_activity_date": 1472076920, "creation_date": 1472076920, "answer_id": 39133834, "question_id": 39133740, "link": "https://stackoverflow.com/questions/39133740/pyqt-qlineedit-with-attached-label/39133834#39133834", "title": "PyQt: QLineEdit with attached label", "body": "<p>What you need here is:</p>\n\n<ul>\n<li>Set the widget up in a vertical layout, not grid layout</li>\n<li>In that vertical layout, add two horizontal layouts</li>\n<li>Add the two tree widgets to the first horizontal layout</li>\n<li>Add your label and lineedit to the second horizontal layout</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "is_accepted": false, "score": 3, "last_activity_date": 1472079486, "creation_date": 1472079486, "answer_id": 39134248, "question_id": 39133740, "link": "https://stackoverflow.com/questions/39133740/pyqt-qlineedit-with-attached-label/39134248#39134248", "title": "PyQt: QLineEdit with attached label", "body": "<p>Here is the answer to my question, based on the suggestion by ypnos:</p>\n\n<pre><code>import sys\nfrom PyQt4 import Qt, QtCore, QtGui\n\nclass MainWindow(QtGui.QWidget):\n     def __init__(self):\n        QtGui.QWidget.__init__(self)\n\n        verticalLayout = QtGui.QVBoxLayout()\n        verticalLayout.setSpacing(2)\n        horizontalLayout1 = QtGui.QHBoxLayout()\n        horizontalLayout2 = QtGui.QHBoxLayout()\n        treelist1 = QtGui.QTreeWidget()\n        treelist2 = QtGui.QTreeWidget()\n        treelist1.setColumnCount(1)\n        treelist1.setHeaderLabels([\"List 1\"])\n        treelist2.setColumnCount(1)\n        treelist2.setHeaderLabels([\"List 2\"])\n        label = QtGui.QLabel(\"Line:\")\n        linedit = QtGui.QLineEdit()\n        horizontalLayout1.addWidget(treelist1)\n        horizontalLayout1.addWidget(treelist2)\n        horizontalLayout2.addWidget(label)\n        horizontalLayout2.addWidget(linedit)\n        verticalLayout.addLayout(horizontalLayout1)\n        verticalLayout.addLayout(horizontalLayout2)\n        self.setLayout(verticalLayout)\n        self.show()\n\nif __name__ == '__main__':\n    app = QtGui.QApplication(sys.argv)\n    mw = MainWindow()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/VTOrv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VTOrv.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7260, "favorite_count": 0, "accepted_answer_id": 39133834, "answer_count": 2, "score": 2, "last_activity_date": 1472158520, "creation_date": 1472076371, "last_edit_date": 1472158520, "question_id": 39133740, "link": "https://stackoverflow.com/questions/39133740/pyqt-qlineedit-with-attached-label", "title": "PyQt: QLineEdit with attached label", "body": "<p>This is probably a very silly question, but anyway I am struck by it :-(</p>\n\n<p>I have a window with two side-by-side lists and a line edit control with a label below them (see the attached image). What I want is to have the line edit field placed just after the corresponding label and not below the second list.</p>\n\n<p><a href=\"https://i.stack.imgur.com/J530M.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J530M.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my test code:</p>\n\n<pre><code>import sys\nfrom PyQt4 import Qt, QtCore, QtGui\n\nclass MainWindow(QtGui.QWidget):\n     def __init__(self):\n        QtGui.QWidget.__init__(self)\n\n        centralLayout = QtGui.QGridLayout()\n        centralLayout.setSpacing(2)\n        treelist1 = QtGui.QTreeWidget()\n        treelist2 = QtGui.QTreeWidget()\n        treelist1.setColumnCount(1)\n        treelist1.setHeaderLabels([\"List 1\"])\n        treelist2.setColumnCount(1)\n        treelist2.setHeaderLabels([\"List 2\"])\n        label = QtGui.QLabel(\"Line:\")\n        linedit = QtGui.QLineEdit()\n        centralLayout.setRowStretch(0, 8)\n        centralLayout.setRowStretch(1, 1)\n        centralLayout.addWidget(treelist1, 0, 0)\n        centralLayout.addWidget(treelist2, 0, 1)\n        centralLayout.addWidget(label, 1, 0)\n        centralLayout.addWidget(linedit, 1, 1)\n        self.setLayout(centralLayout)\n        self.show()\n\nif __name__ == '__main__':\n    app = QtGui.QApplication(sys.argv)\n    mw = MainWindow()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Thanks in advance for any assistance you can provide!</p>\n"}, {"tags": ["python", "arrays", "string", "numpy"], "comments": [{"owner": {"reputation": 48633, "user_id": 832621, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xOSw3.png?s=128&g=1", "display_name": "Saullo G. P. Castro", "link": "https://stackoverflow.com/users/832621/saullo-g-p-castro"}, "edited": false, "score": 0, "creation_date": 1472078434, "post_id": 39133682, "comment_id": 65613494, "body": "You can do <code>bool_array = a.astype(object) != &#39;Single&#39;</code>, for example"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1472104453, "post_id": 39133682, "comment_id": 65619683, "body": "<code>modMask != b&#39;Single&#39;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 4806852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f17314e0b3e5d3e241a8eed9319228e?s=128&d=identicon&r=PG&f=1", "display_name": "manbearpig", "link": "https://stackoverflow.com/users/4806852/manbearpig"}, "is_accepted": true, "score": 0, "last_activity_date": 1472104168, "last_edit_date": 1472104168, "creation_date": 1472081514, "answer_id": 39134509, "question_id": 39133682, "link": "https://stackoverflow.com/questions/39133682/numpy-convert-array-of-strings-to-integers-or-boolean-for-masking/39134509#39134509", "title": "numpy convert array of strings to integers or boolean (for masking)", "body": "<p>You could use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.vectorize.html\" rel=\"nofollow\">numpy.vectorize</a></p>\n\n<pre><code>import numpy as np\n\ndef f(x):\n    return not x == b'Single'\n\nvfunc = np.vectorize(f)\nx = np.array([b'Single', b'', b'', b'', b'', b'Single'])\n\nresult = vfunc(x)\n</code></pre>\n\n<p>where</p>\n\n<pre><code>result = [False  True  True  True  True False]\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6754380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ef658ec0c953d8e4cb3581b7c2ef677?s=128&d=identicon&r=PG&f=1", "display_name": "DanZee", "link": "https://stackoverflow.com/users/6754380/danzee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 997, "favorite_count": 0, "accepted_answer_id": 39134509, "answer_count": 1, "score": 1, "last_activity_date": 1472104168, "creation_date": 1472076037, "question_id": 39133682, "link": "https://stackoverflow.com/questions/39133682/numpy-convert-array-of-strings-to-integers-or-boolean-for-masking", "title": "numpy convert array of strings to integers or boolean (for masking)", "body": "<p>I'm new to Python and I'm challenged with converting an array of strings to numbers. \nMy data was extracted from a larger data set of numbers and strings. It looks like:</p>\n\n<pre><code>array([b'Single', b'', b'', b'', b'', b'Single', b'Single',\nb'', b'Single', ...])\n</code></pre>\n\n<p>I would like to use this data to create a mask, basically if 'Single' exists I would like to have a False or 0, so that I can mask the original data set. I don't know why there are b's there. </p>\n\n<p>I've found similar questions answered but not string-to-number or string-to-boolean, only the reverse or converting a \"string of numbers\" to an integer.</p>\n\n<p>My closest solution is something like:</p>\n\n<pre><code>np.where(modMask = 'Single' [False, True])\n</code></pre>\n\n<p>But then I get the error:</p>\n\n<pre><code>TypeError                  Traceback (most recent call last)\n\n&lt;ipython-input-64-4ad8a8f10b9b&gt; in &lt;module&gt;()\n----&gt; 1 np.where(modMask = 'Single' [False, True])\n\nTypeError: string indices must be integers\n</code></pre>\n"}, {"tags": ["python", "matlab"], "answers": [{"tags": [], "owner": {"reputation": 443, "user_id": 1809023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/812ffa2fc2ba4aa33246ce8b5688c150?s=128&d=identicon&r=PG", "display_name": "Ascurion", "link": "https://stackoverflow.com/users/1809023/ascurion"}, "is_accepted": false, "score": 0, "last_activity_date": 1472078025, "creation_date": 1472078025, "answer_id": 39134006, "question_id": 39133678, "link": "https://stackoverflow.com/questions/39133678/how-to-import-multiple-csv-files-then-make-a-master-table/39134006#39134006", "title": "How to Import multiple CSV files then make a Master Table?", "body": "<p>I don't know or use matlab so my answer is pure python based. I think python and matlab should be equally well suited to read csv files and generate a master table.</p>\n\n<p>Please consider this answer more as pointer to how to address the problem in python.</p>\n\n<p>In python one would typically address this problem using the <a href=\"http://pandas.pydata.org/\" rel=\"nofollow\">pandas</a> package. This package provides \"high-performance, easy-to-use data structures and data analysis tools\" and can read natively a large set of file formats including CSV files. A master table  from two CSV files \"foo.csv\" and \"bar.csv\" could be generated e.g. as follows:</p>\n\n<pre><code>import pandas as pd\ndf = pd.read_csv('foo.csv')\ndf2 = pd.read_csv('bar.cvs')\n\nmaster_table = pd.concat([df, df2])\n</code></pre>\n\n<p>Pandas further allows to group and structure the data in many ways. The <a href=\"http://pandas.pydata.org/pandas-docs/stable/index.html\" rel=\"nofollow\">pandas documentation</a> has very good descriptions of its various features.</p>\n\n<p>One can install pandas with the python package installer <code>pip</code>:</p>\n\n<pre><code>sudo pip install pandas\n</code></pre>\n\n<p>if on Linux or OSX.</p>\n"}, {"tags": [], "owner": {"reputation": 259, "user_id": 6477242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74544829bdef8193ada2b97b78b8d0ba?s=128&d=identicon&r=PG&f=1", "display_name": "OsJoe", "link": "https://stackoverflow.com/users/6477242/osjoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1472426879, "last_edit_date": 1472426879, "creation_date": 1472426372, "answer_id": 39196660, "question_id": 39133678, "link": "https://stackoverflow.com/questions/39133678/how-to-import-multiple-csv-files-then-make-a-master-table/39196660#39196660", "title": "How to Import multiple CSV files then make a Master Table?", "body": "<p>The counts from the different analyses should be named differently, i.e., YCounts_1, YCounts_2, and YCounts_3 from analyses 1, 2, and 3, respectively, in the different datasets before joining them. However, the M/Z name (i.e., XThompson) should be the same since this is the key that will be used to join the datasets. The code below is for MATLAB.</p>\n\n<p>This step is not needed (just recreates your tables) and I copied dataset2 to create dataset3 for illustration. You could use 'readtable' to import your data i.e.,  imported_data = readtable('filename'); </p>\n\n<pre><code>  dataset1 = table([0.0; 0.5; 2.0; 3.0], [5; 3; 7; 1], 'VariableNames', {'XThompson', 'YCounts_1'});\n  dataset2 = table([0.0; 0.5; 1.0; 2.5; 3.0], [2; 6; 9; 1; 4], 'VariableNames', {'XThompson', 'YCounts_2'});\n  dataset3 = table([0.0; 0.5; 1.0; 2.5; 3.0], [2; 6; 9; 1; 4], 'VariableNames', {'XThompson', 'YCounts_3'});\n</code></pre>\n\n<p>Merge tables using outerjoin. You could use loop if you have many datasets.</p>\n\n<pre><code>  combined_dataset = outerjoin(dataset1,dataset2, 'MergeKeys', true);\n</code></pre>\n\n<p>Add dataset3 to the combined_dataset</p>\n\n<pre><code>  combined_dataset = outerjoin(combined_dataset,dataset3, 'MergeKeys', true);\n</code></pre>\n\n<p>You could export the combined data as Excel Sheet by using writetable</p>\n\n<pre><code>  writetable(combined_dataset, 'joined_icp_ms_data.xlsx');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 6750988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154088979950695/picture?type=large", "display_name": "Patrick B.", "link": "https://stackoverflow.com/users/6750988/patrick-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1472748910, "creation_date": 1472748910, "answer_id": 39277031, "question_id": 39133678, "link": "https://stackoverflow.com/questions/39133678/how-to-import-multiple-csv-files-then-make-a-master-table/39277031#39277031", "title": "How to Import multiple CSV files then make a Master Table?", "body": "<p>I managed to create a solution to my problem based on learning through everyone's input and taking an online matlab courses. I am not a natural coder so my script is not as elegant as the geniuses here, but hopefully it is clear enough for other non-programming scientists to use.</p>\n\n<p>Here's the result that works for me:</p>\n\n<p>% Reads a directory containing *.csv files and corrects the x-axis to an evenly spaced (0.1 unit) interval.</p>\n\n<pre><code>% Create a matrix with the input x range then convert it to a table\nprompt = 'Input recorded min/max data range separated by space \\n(ex. 1 to 100 = 1 100): ';\ninputrange = input(prompt,'s');\nmin_max = str2num(inputrange)\ndatarange = (min_max(1):0.1:min_max(2))';\ndatarange = array2table(datarange,'VariableNames',{'XAxis'});\n\nfiles = dir('*.csv');\nfor q=1:length(files);\n\n    % Extract each XY pair from the csvread cell and convert it to an array, then back to a table.\n    data{q} = csvread(files(q).name,2,1); \n    data1 = data(q);\n    data2 = cell2mat(data1);\n    data3 = array2table(data2,'VariableNames',{'XAxis','YAxis'});\n\n    % Join the datarange table and the intensity table to obtain an evenly spaced m/z range\n    data3 = outerjoin(datarange,data3,'MergeKeys',true);\n    data3.YAxis(isnan(data3.YAxis)) = 0;\n    data3.XAxis = round(data3.XAxis,1);\n\n    % Remove duplicate values\n    data4 = sortrows(data3,[1 -2]);\n    [~, idx] = unique(data4.XAxis);\n    data4 = data4(idx,:);\n\n    % Save the file as the same name in CSV without underscores or dashes\n    filename = files(q).name;\n    filename = strrep(filename,'_','');\n    filename = strrep(filename,'-','');\n    filename = strrep(filename,'.csv','');\n    writetable(data4,filename,'FileType','text');\n    clear data data1 data2 data3 data4 filename\n\nend\nclear\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6750988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154088979950695/picture?type=large", "display_name": "Patrick B.", "link": "https://stackoverflow.com/users/6750988/patrick-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "accepted_answer_id": 39277031, "answer_count": 3, "score": 0, "last_activity_date": 1472748910, "creation_date": 1472076021, "question_id": 39133678, "link": "https://stackoverflow.com/questions/39133678/how-to-import-multiple-csv-files-then-make-a-master-table", "title": "How to Import multiple CSV files then make a Master Table?", "body": "<p>I am a research chemist and have carried out a measurement where I record 'signal intensity' vs 'mass-to-charge (<em>m/z</em>)' . I have repeated this experiment 15x, by changing a specific parameter (Collision Energy). As a result, I have 15 CSV files and would like to align/join them within the same range of <em>m/z</em> values and same interval values. Due to the instrument thresholding rules, certain <em>m/z</em> values were not recorded, thus I have files that cannot simply be exported into excel and copy/pasted. The data looks a bit like the tables posted below</p>\n\n<pre><code>Dataset 1:  x  |  y          Dataset 2:   x  | y\n           ---------                    ---------       \n            0.0   5                      0.0   2\n            0.5   3                      0.5   6\n            2.0   7                      1.0   9\n            3.0   1                      2.5   1\n                                         3.0   4\n</code></pre>\n\n<p>Using matlab I started with this code:</p>\n\n<pre><code>%% Create a table for the set m/z range with an interval of 0.1 Da\nmzrange = 50:0.1:620;\nmzrange = mzrange';\nmzrange = array2table(mzrange,'VariableNames',{'XThompsons'}); \n</code></pre>\n\n<p>Then I manually imported 1 X/Y CSV (Xtitle=XThompson, Ytitle=YCounts) to align with the specified <em>m/z</em> range.</p>\n\n<pre><code>%% Join/merge the two tables using a common Key variable 'XThompson' (m/z value)\nmzspectrum = outerjoin(mzrange,ReserpineCE00,'MergeKeys',true);\n\n% Replace all NaN values with zero\nmzspectrum.YCounts(isnan(mzspectrum.YCounts)) = 0;\n</code></pre>\n\n<p>At this point I am stuck because repeating this process with a separate file will overwrite my YCounts column. The title of the YCounts column doesnt matter to me as I can change it later, however I would like to have the table continue as such:</p>\n\n<pre><code> XThompson | YCounts_1 | YCounts_2 | YCounts_3 | etc...\n--------------------------------------------------------\n</code></pre>\n\n<p>How can I carry this out in Matlab so that this is at least semi-automated? I've had posted earlier describing a similar scenario but it turned out that it could not carry out what I need. I must admit that my mind is not of a programmer so I have been struggling with this problem quite a bit.</p>\n\n<p>PS- Is this problem best executed in Matlab or Python?</p>\n"}, {"tags": ["python", "parsing", "unicode", "python-requests"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1472076187, "post_id": 39133669, "comment_id": 65612783, "body": "Use <code>.content</code> not <code>.text</code>, also where are you running it from?#"}, {"owner": {"reputation": 1872, "user_id": 4091324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/razpB.jpg?s=128&g=1", "display_name": "Darth Kotik", "link": "https://stackoverflow.com/users/4091324/darth-kotik"}, "edited": false, "score": 0, "creation_date": 1472076195, "post_id": 39133669, "comment_id": 65612787, "body": "I believe it&#39;s <code>print</code> problem. Python need to convert text to ascii to print it in terminal, but it&#39;s imposible"}, {"owner": {"reputation": 115, "user_id": 6754487, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VijHl.jpg?s=128&g=1", "display_name": "GolovDanil", "link": "https://stackoverflow.com/users/6754487/golovdanil"}, "edited": false, "score": 0, "creation_date": 1472077152, "post_id": 39133669, "comment_id": 65613089, "body": "I run it from Sublime Text with anaconda Yes, I&#39;ve tried to run this code from console, and r.text returned html. But r.encoding still returns &quot;windows-1251&quot;. But type(r.text) returns &quot;unicode&quot; It makes me crazy"}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 1, "creation_date": 1472077909, "post_id": 39133669, "comment_id": 65613351, "body": "When I run the above code, I get all the text.  I don&#39;t get the error you mention."}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1472078666, "post_id": 39133669, "comment_id": 65613547, "body": "Can you provide the <i>full</i> error message, so we can confirm it&#39;s coming from where you think it&#39;s coming from?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1472078706, "post_id": 39133669, "comment_id": 65613557, "body": "@GreenAsJade, it is coming from <code>print r.text</code> which is trying to decode as ascii hence the error"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1472078821, "post_id": 39133669, "comment_id": 65613589, "body": "@GreenAsJade, read the output,  <i>windows-1251</i> then the error. The data is windows-1251 encoded, the print r.text is 100 percent causing the error"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1472079078, "post_id": 39133669, "comment_id": 65613669, "body": "@GreenAsJade, the full traceback is there, it literally cannot be any other part of the code causing the error. Where else do you think it could be from?"}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1472079104, "post_id": 39133669, "comment_id": 65613675, "body": "@PadraicCunningham only if there is no more content in the OP&#39;s program."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1472079207, "post_id": 39133669, "comment_id": 65613707, "body": "@GreenAsJade, I have absolutely no doubt what is causing the error and that  the OP has provided the relevant code."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1472079337, "post_id": 39133669, "comment_id": 65613743, "body": "@GreenAsJade, there are a million dupes of any scenario it happens to be, I am waiting for an answer to the question I asked so I can close it with the correct one."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1472079818, "post_id": 39133669, "comment_id": 65613872, "body": "@GreenAsJade,   You have already stated the code does not error for you  so how do you think requests guessed the wrong encoding? Have a look at the headers the server sets and look at the charset in the source  inside the meta tags. requests also does not guess the encoding is ascii so where do you think the ascii error comes from, maybe the print?"}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1472079972, "post_id": 39133669, "comment_id": 65613912, "body": "@PadraicCunningham  OK - thanks, will do"}], "answers": [{"tags": [], "owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "is_accepted": true, "score": 3, "last_activity_date": 1472080604, "last_edit_date": 1472080604, "creation_date": 1472077853, "answer_id": 39133988, "question_id": 39133669, "link": "https://stackoverflow.com/questions/39133669/python-2-7-requests-library-cant-get-unicode/39133988#39133988", "title": "Python 2.7, Requests library, can&#39;t get unicode", "body": "<p>From the <a href=\"http://docs.python-requests.org/en/master/user/quickstart/#response-content\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>Requests will automatically decode content from the server. Most\n  unicode charsets are seamlessly decoded.</p>\n  \n  <p>When you make a request, Requests makes educated guesses about the\n  encoding of the response based on the HTTP headers.</p>\n</blockquote>\n\n<p><code>requests.get().encoding</code> is telling you the encoding that was used to convert the bitstream from the server into the Unicode text that is in the response.</p>\n\n<p>In your case it is correct: the headers in the response say that the character set is windows-1251</p>\n\n<p>The error you are having is after that.   The python you are using is trying to encode the Unicode into ascii to print it, and failing.</p>\n\n<p>You can say print <code>r.text.encode(r.encoding)</code> ... which is the same result as Padraic's suggestion in comments - that is <code>r.content</code>.</p>\n\n<hr>\n\n<p>Note:\n<code>requests.get().encoding</code> is an lvar: you can set it to what you want, if it guessed wrongly.</p>\n"}], "owner": {"reputation": 115, "user_id": 6754487, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VijHl.jpg?s=128&g=1", "display_name": "GolovDanil", "link": "https://stackoverflow.com/users/6754487/golovdanil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2599, "favorite_count": 1, "accepted_answer_id": 39133988, "answer_count": 1, "score": 0, "last_activity_date": 1472080604, "creation_date": 1472075944, "question_id": 39133669, "link": "https://stackoverflow.com/questions/39133669/python-2-7-requests-library-cant-get-unicode", "title": "Python 2.7, Requests library, can&#39;t get unicode", "body": "<p>Documentation for Request library says that requests.get() method returns unicode always. But when I try to know what an encoding was returned, I see \"windows-1251\". That's a problem. When I try to get requests.get(url).text, there's an error, because current url's content has a Cyrillic symbols.</p>\n\n<pre><code>import requests\n\nurl = 'https://www.weblancer.net/jobs/'\nr = requests.get(url)\nprint r.encoding\nprint r.text\n</code></pre>\n\n<p>I got something like that:</p>\n\n<pre><code>windows-1251\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 256-263: ordinal not in range(128)\n</code></pre>\n\n<p>Is it a problem of Python 2.7 or there is not a problem at all ?\nHelp me</p>\n"}, {"tags": ["python", "xml"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6744918, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e20c1526a53a557d28529b19e4841017?s=128&d=identicon&r=PG&f=1", "display_name": "KAz", "link": "https://stackoverflow.com/users/6744918/kaz"}, "edited": false, "score": 0, "creation_date": 1472076373, "post_id": 39133655, "comment_id": 65612854, "body": "Thank you alecuxe. Now it is working. The working code is,     root = ET.Element(&quot;video_data&quot;)      for image in image_list:         doc = ET.SubElement(root, &#39;frame&#39;)         doc.set(&#39;name&#39;, image)         # predicted_item = predicted_list[i]         subdoc = ET.SubElement(doc, &#39;object_name&#39;)         subdoc.text = predicted_list[i]         i += 1"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1472075838, "creation_date": 1472075838, "answer_id": 39133655, "question_id": 39133613, "link": "https://stackoverflow.com/questions/39133613/add-child-of-child-to-python-xml/39133655#39133655", "title": "Add child of child to python xml", "body": "<p>The problem is that <code>doc</code> becomes <code>None</code> since it equals to the result of <code>set()</code> call. Instead, you meant to have <code>doc</code> pointing to the <code>SubElement</code> instance: </p>\n\n<pre><code>doc = ET.SubElement(root, 'frame')\ndoc.set('name', image)\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 6744918, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e20c1526a53a557d28529b19e4841017?s=128&d=identicon&r=PG&f=1", "display_name": "KAz", "link": "https://stackoverflow.com/users/6744918/kaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 39133655, "answer_count": 1, "score": 0, "last_activity_date": 1472075838, "creation_date": 1472075616, "question_id": 39133613, "link": "https://stackoverflow.com/questions/39133613/add-child-of-child-to-python-xml", "title": "Add child of child to python xml", "body": "<p>I create a code which writes the data to xml file.But it is not working properly. It gives a error called \"TypeError: must be Element, not None\n\"</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import xml.etree.cElementTree as ET\nimport lxml.etree\nimport lxml.builder\n\nclass create_xml:\n  def __init__(self):\n      pass\n\n\ndef write_xml(predicted_list, image_list):\n\n   print predicted_list\n   print image_list\n   i = 0\n   root = ET.Element(\"video_data\")\n\n   for image in image_list:\n     doc = ET.SubElement(root, 'frame').set('name', image)\n     predicted_item = predicted_list[i]\n     ET.SubElement(doc, predicted_item) **Gives error in here**\n     # doc.text = predicted_list[i]\n     i += 1\n\n tree = ET.ElementTree(root)\n tree.write(\"/opt/lampp/htdocs/video_frames/test.xml\")\n</code></pre>\n\n<p>I need the out put as below,</p>\n\n<pre><code>&lt;video_data&gt;\n  &lt;frame name=\"\"&gt;\n   &lt;predicted_item&gt;output&lt;/predicted_item&gt;\n  &lt;/frame&gt;\n&lt;/video_data&gt;\n</code></pre>\n\n<p>But without the error occuring code segment it gives the output as below:</p>\n\n<pre><code> &lt;video_data&gt;&lt;frame name=\"/opt/lampp/htdocs/video_frames/bb/frame48.jpg\" /&gt;&lt;/video_data&gt;\n</code></pre>\n\n<p>please help me to solve this, Thank you</p>\n"}, {"tags": ["python", "imdb", "imdbpy"], "answers": [{"comments": [{"owner": {"reputation": 9194, "user_id": 2038257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d7c4839a46ca7fc6d9a950aa362166ba?s=128&d=identicon&r=PG", "display_name": "Marco Dinatsoli", "link": "https://stackoverflow.com/users/2038257/marco-dinatsoli"}, "edited": false, "score": 0, "creation_date": 1472076066, "post_id": 39133618, "comment_id": 65612751, "body": "it work, thank you, will accept it once the system allow"}, {"owner": {"reputation": 3997, "user_id": 8305660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/41rZg.jpg?s=128&g=1", "display_name": "pyd", "link": "https://stackoverflow.com/users/8305660/pyd"}, "edited": false, "score": 0, "creation_date": 1529773777, "post_id": 39133618, "comment_id": 89000270, "body": "how to get movie id by giving movie name"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 5, "last_activity_date": 1472075636, "creation_date": 1472075636, "answer_id": 39133618, "question_id": 39133599, "link": "https://stackoverflow.com/questions/39133599/movie-imdb-get-the-id-of-the-actor/39133618#39133618", "title": "movie imdb get the id of the actor", "body": "<p>Use the <code>.personID</code> property of a <code>Person</code> object:</p>\n\n<pre><code>actor.personID\n</code></pre>\n"}], "owner": {"reputation": 9194, "user_id": 2038257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d7c4839a46ca7fc6d9a950aa362166ba?s=128&d=identicon&r=PG", "display_name": "Marco Dinatsoli", "link": "https://stackoverflow.com/users/2038257/marco-dinatsoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1472075636, "creation_date": 1472075551, "question_id": 39133599, "link": "https://stackoverflow.com/questions/39133599/movie-imdb-get-the-id-of-the-actor", "title": "movie imdb get the id of the actor", "body": "<p>I have an actor object, and it has both name and id, i could take the name, but it couldn't take the id</p>\n\n<p>look please</p>\n\n<pre><code>&gt;&gt;&gt; actor\n&lt;Person id:0000199[http] name:_Pacino, Al_&gt;\n&gt;&gt;&gt; actor[\"name\"]\nu'Al Pacino'\n&gt;&gt;&gt; actor[\"id\"]\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/IMDbPY-5.0-py2.7-macosx-10.6-intel.egg/imdb/utils.py\", line 1469, in __getitem__\n    rawData = self.data[key]\nKeyError: 'id'\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python", "c", "arrays", "numpy", "cython"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 3, "creation_date": 1472075888, "post_id": 39133578, "comment_id": 65612697, "body": "regular expressions are not slower in Python than in C."}, {"owner": {"reputation": 151, "user_id": 6037476, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8a00ea92195de535ffc5ae8f6cc3d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/6037476/max"}, "reply_to_user": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1472120475, "post_id": 39133578, "comment_id": 65629465, "body": "Yes I&#39;m aware the speed of compiled regexes is comparable between C and python. I&#39;m looking to avoid overhead in other areas by building the numpy array in C."}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 6037476, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8a00ea92195de535ffc5ae8f6cc3d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/6037476/max"}, "edited": false, "score": 0, "creation_date": 1472122079, "post_id": 39134223, "comment_id": 65630518, "body": "Thanks for the well- informed comment. I would add that converting a numpy array of strings into an array of Objects basically kills any performance gain you get out of numpy. After reading your response, I think the best thing for me to do is (1) Create a numpy array of appropiate size and dtype (2) obtain the numpy array&#39;s bytes in C with PyArray_BYTES and then (3) copy my strings into that memory with memcpy."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 3, "last_activity_date": 1472095139, "last_edit_date": 1472095139, "creation_date": 1472079343, "answer_id": 39134223, "question_id": 39133578, "link": "https://stackoverflow.com/questions/39133578/fastest-way-to-expose-c-strings-to-numpy/39134223#39134223", "title": "Fastest way to expose C strings to NumPy?", "body": "<p>To give a sense of how an array of strings is stored, I'll make one, and view it in several ways:</p>\n\n<pre><code>In [654]: np.array(['one','two','three','four'],dtype='S5')\nOut[654]: \narray([b'one', b'two', b'three', b'four'], \n      dtype='|S5')\nIn [655]: x=np.array(['one','two','three','four'],dtype='S5')\nIn [656]: x.tostring()\nOut[656]: b'one\\x00\\x00two\\x00\\x00threefour\\x00'\nIn [657]: x.view(np.uint8)\nOut[657]: \narray([111, 110, 101,   0,   0, 116, 119, 111,   0,   0, 116, 104, 114,\n       101, 101, 102, 111, 117, 114,   0], dtype=uint8)\n</code></pre>\n\n<p>So its databuffer consists of 20 bytes (4*S5).  For strings that are shorter than 5, it puts (or leaves) <code>0</code> in the byte.</p>\n\n<p>Yes, there are <code>C</code> functions for creating new arrays of a given size and dtype.  And functions for copying blocks of data to those arrays.  Look at the <code>C</code> side of the numpy documentation, or look at some of the numpy code on it's github repository.</p>\n\n<p>Regarding the <code>pandas</code> transfer, beware that <code>pandas</code> readily changes the dtype of its columns.  For example if you put <code>None</code> or <code>nan</code> in a column it is likely to change it to object dtype.</p>\n\n<p>Object arrays store pointers in the databuffer.</p>\n\n<pre><code>In [658]: y=np.array(['one','two','three','four'],dtype=object)\nIn [659]: y\nOut[659]: array(['one', 'two', 'three', 'four'], dtype=object)\nIn [660]: y.tostring()\nOut[660]: b'\\xe0\\x0f\\xc5\\xb5\\xa0\\xfah\\xb5\\x80\\x0b\\x8c\\xb4\\xc09\\x8b\\xb4'\n</code></pre>\n\n<p>If I interpret that right, the databuffer has 16 bytes - 4 4byte pointers.  The strings are stored elsewhere in memory as regular Python strings (in this case unicode strings (Py3)).</p>\n\n<p>=================</p>\n\n<p><code>fromstring</code> and <code>frombuffer</code> lets me recreate an array from a buffer</p>\n\n<pre><code>In [696]: x=np.array(['one','two','three','four'],dtype='S5')\nIn [697]: xs=x.tostring()\nIn [698]: np.fromstring(xs,'S5')\nOut[698]: \narray([b'one', b'two', b'three', b'four'], \n      dtype='|S5')\nIn [700]: np.frombuffer(xs,'S5')\nOut[700]: \narray([b'one', b'two', b'three', b'four'], \n      dtype='|S5')\n</code></pre>\n\n<p>This works without copying the buffer.</p>\n\n<p>However, if the are multiple strings in different parts of memory, then building an array from them will require copying into on contiguous buffer.</p>\n"}], "owner": {"reputation": 151, "user_id": 6037476, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8a00ea92195de535ffc5ae8f6cc3d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/6037476/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 3, "accepted_answer_id": 39134223, "answer_count": 1, "score": 3, "last_activity_date": 1523373814, "creation_date": 1472075454, "last_edit_date": 1523373814, "question_id": 39133578, "link": "https://stackoverflow.com/questions/39133578/fastest-way-to-expose-c-strings-to-numpy", "title": "Fastest way to expose C strings to NumPy?", "body": "<p>I'm working on converting some old text logs to a usable format in Python. \nThe files are huge, so I'm writing my own C extensions to run through the files as quickly as possible and parse out the relevant fields with regular expressions. My ultimate goal is to export these fields into <code>NumPy</code> arrays of <code>strings</code>. I know it's possible to create the <code>NumPy</code> array as a <code>PyObject</code> in C and then call <code>SetItem</code> on each element, but I'm looking to optimize as much as I can. </p>\n\n<p><strong>Can I use something like <code>memcpy</code> or <code>PyBuffer_FromMemory</code> to read the C strings into a <code>NumPy</code> <code>string</code> array directly?</strong> I understand that <code>NumPy</code> arrays are internally similar to C arrays, but do I have to ensure the <code>NumPy</code> array will be contiguously allocated?</p>\n\n<p>I intend to use the <code>NumPy</code> arrays to build columns <code>Pandas</code> for statistical analysis. As I understand it, <code>Pandas</code> uses <code>NumPy</code> arrays to store columns in a <code>DataFrame</code> so I won't have a large overhead going from <code>NumPy</code> into <code>Pandas</code>. I'd like to avoid <code>cython</code> if possible.</p>\n"}, {"tags": ["python", "pandas", "duplicates"], "comments": [{"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 3, "creation_date": 1472075585, "post_id": 39133572, "comment_id": 65612574, "body": "Your attempt seems correct. Did you get an error or an unexpected result?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 3, "creation_date": 1472075629, "post_id": 39133572, "comment_id": 65612592, "body": "I think there are some whitespaces in <code>Symbol</code> column, so you need <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.strip.html\" rel=\"nofollow noreferrer\"><code>strip</code></a> -  <code>df[&#39;Symbol&#39;] = df.Symbol.str.strip()</code>, because your code works perfectly."}, {"owner": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "edited": false, "score": 1, "creation_date": 1472075835, "post_id": 39133572, "comment_id": 65612673, "body": "What didnt work? what was the output?"}, {"owner": {"reputation": 491, "user_id": 4933348, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ace7c237032a8a1f2f96e15da1532133?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/4933348/john"}, "edited": false, "score": 0, "creation_date": 1472138393, "post_id": 39133572, "comment_id": 65641586, "body": "It was me, I had white spaces in the data, once removed all was fine."}], "owner": {"reputation": 491, "user_id": 4933348, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ace7c237032a8a1f2f96e15da1532133?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/4933348/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 735, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1472075867, "creation_date": 1472075432, "last_edit_date": 1472075867, "question_id": 39133572, "link": "https://stackoverflow.com/questions/39133572/removing-duplicates-on-a-subset-of-columns-in-pandas", "title": "removing duplicates on a subset of columns in Pandas", "body": "<p>I have the below data in a dataframe df:</p>\n\n<pre><code>Date    Symbol     ClosingPrice     Weight\n1/13/2016   A      36.52            -0.000002\n1/13/2016   A      37               -0.001\n1/14/2016   A      36.35            -0.000002\n1/15/2016   A      36.35            -0.000002\n1/13/2016   AA      7.01             0.000112\n1/14/2016   AA      7.01             0.000112\n1/15/2016   AA      6.7              0.000112\n1/13/2016   AAC    15.91            -0.000004\n1/13/2016   AAC    15.91            -0.0002\n1/13/2016   AAC    18                0.0002\n</code></pre>\n\n<p>I want to filter out duplicates where the Data and Symbol are equal with no reference to the values of Closing price or Weight</p>\n\n<p>the final result should look like this</p>\n\n<pre><code>Date    Symbol     ClosingPrice     Weight\n1/13/2016   A      36.52            -0.000002\n1/14/2016   A      36.35            -0.000002\n1/15/2016   A      36.35            -0.000002\n1/13/2016   AA      7.01             0.000112\n1/14/2016   AA      7.01             0.000112\n1/15/2016   AA      6.7              0.000112\n1/13/2016   AAC    15.91            -0.000004\n</code></pre>\n\n<p>I wish to keep the first occurrence  if a duplicate exisits</p>\n\n<p>I tried this <code>df2=df.drop_duplicates(['Date','Symbol'], keep='first')</code>\nbut it did not work.</p>\n\n<p>Thanks for any assistance on this</p>\n"}, {"tags": ["python", "django", "django-migrations"], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 1781291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229cdde69e84d8051658a0a2c7c1d865?s=128&d=identicon&r=PG", "display_name": "Raff89", "link": "https://stackoverflow.com/users/1781291/raff89"}, "edited": false, "score": 0, "creation_date": 1472108648, "post_id": 39134659, "comment_id": 65621706, "body": "Thanks for the link to the discussion on this topic, it seems that the design of the db/migrations subsystems does not allow for my preferred solution. I will try your suggestion."}], "tags": [], "owner": {"reputation": 36561, "user_id": 2395796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8786484468219bcf403bbdce5eb37c8d?s=128&d=identicon&r=PG", "display_name": "Kevin Christopher Henry", "link": "https://stackoverflow.com/users/2395796/kevin-christopher-henry"}, "is_accepted": true, "score": 3, "last_activity_date": 1472082713, "creation_date": 1472082713, "answer_id": 39134659, "question_id": 39133559, "link": "https://stackoverflow.com/questions/39133559/automatic-db-router-for-migrations-in-django/39134659#39134659", "title": "Automatic db router for migrations in django", "body": "<p>I don't know of any way to do that automatically. However, a simple approach might be to <a href=\"https://docs.djangoproject.com/en/dev/howto/custom-management-commands/\" rel=\"nofollow\">write your own version</a> of the <code>migrate</code> command that calls the Django <code>migrate</code> command multiple times with the appropriate <code>--database</code> and app arguments.</p>\n\n<p>According to the author of Django migrations, this is <a href=\"https://code.djangoproject.com/ticket/23273#comment:7\" rel=\"nofollow\">a conscious design decision</a>, so I wouldn't expect it to change: \"Just like syncdb, migrate only runs on one database at a time, so you must execute it individually for each database, as you suggest. This is by design.\"</p>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 1781291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229cdde69e84d8051658a0a2c7c1d865?s=128&d=identicon&r=PG", "display_name": "Raff89", "link": "https://stackoverflow.com/users/1781291/raff89"}, "is_accepted": false, "score": 11, "last_activity_date": 1472150378, "creation_date": 1472150378, "answer_id": 39152567, "question_id": 39133559, "link": "https://stackoverflow.com/questions/39133559/automatic-db-router-for-migrations-in-django/39152567#39152567", "title": "Automatic db router for migrations in django", "body": "<p>For anyone facing the issue I was having, here is what I finally settled on:</p>\n\n<p>routers.py:</p>\n\n<pre><code>from django.conf import settings\nclass DatabaseAppsRouter(object):\n\n    def db_for_read(self, model, **hints):\n        #  your db routing\n\n    def db_for_write(self, model, **hints):\n        #  your db routing\n\n    def allow_relation(self, obj1, obj2, **hints):\n        #  your db routing\n\n    def allow_syncdb(self, db, model):\n        #  your db routing\n\n    def allow_migrate(self, db, app_label, model_name=None, **hints):\n        if db in settings.DATABASE_APPS_MAPPING.values():\n            return settings.DATABASE_APPS_MAPPING.get(app_label) == db\n        elif app_label in settings.DATABASE_APPS_MAPPING:\n            return False\n</code></pre>\n\n<hr>\n\n<p>settings.py</p>\n\n<pre><code>DATABASE_ROUTERS = ['project.routers.DatabaseAppsRouter']\nDATABASE_APPS_MAPPING = {'contenttypes': 'default',\n                     'auth': 'default',\n                     'admin': 'default',\n                     'sessions': 'default',\n                     'messages': 'default',\n                     'staticfiles': 'default',\n                     'myapp': 'mydb',\n                     }\n</code></pre>\n\n<hr>\n\n<p>this setup lets me to run two commands:</p>\n\n<pre><code>python manage.py migrate\npython manage.py migrate --database=mydb\n</code></pre>\n\n<p>which is still one to many but at least now I cannot mistakenly migrate myapp to the default database which happened more times that I want to admit. </p>\n\n<hr>\n\n<p>Warning - rant:</p>\n\n<p>Up to this point I was finding the Django design to be quircky but very logical and programmer friendly, like python itself. But the way that migrations interact with multiple database setups is really inconvenient makes it so easy to flood your default database with unwanted tables.\nDiscussion linked by kevin in his answer shows that I am not the only one to have this kind of difficulties. </p>\n"}], "owner": {"reputation": 333, "user_id": 1781291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229cdde69e84d8051658a0a2c7c1d865?s=128&d=identicon&r=PG", "display_name": "Raff89", "link": "https://stackoverflow.com/users/1781291/raff89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2874, "favorite_count": 2, "accepted_answer_id": 39134659, "answer_count": 2, "score": 8, "last_activity_date": 1472150378, "creation_date": 1472075372, "question_id": 39133559, "link": "https://stackoverflow.com/questions/39133559/automatic-db-router-for-migrations-in-django", "title": "Automatic db router for migrations in django", "body": "<p>I am building a Django powered site and I want to have separate databases for some of the apps, I build a flexible router that routes each app to predefined database, this works fine.\nThe problem is that when I am migrating my models I have to set the <code>--database</code> parameter every time and I find this annoying and redundant. Also many times I flooded my default database with tables from migrated app (by forgetting to add <code>--database</code>).\nI experimented with <code>allow_migrate(...)</code> function in my router but all I could achieve is safety mechanism that will not run the migration if I forget to specify the database.\nMy question is: is there a way to set up a automatic database selection for models migrations in Django?\nMy approach might be wrong, it surprises me that no one seems to have done that before.</p>\n"}, {"tags": ["python", "json", "django"], "comments": [{"owner": {"reputation": 7099, "user_id": 1475548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/09sbK.jpg?s=128&g=1", "display_name": "Octopus", "link": "https://stackoverflow.com/users/1475548/octopus"}, "edited": false, "score": 1, "creation_date": 1472075689, "post_id": 39133537, "comment_id": 65612613, "body": "Apparently, <code>request.is_ajax()</code> is false. The answers to <a href=\"http://stackoverflow.com/questions/8587693/django-request-is-ajax-returning-false\">this other question</a> might help. How are you sending the request when you test? It must have a certain header in order for it to appear to be an ajax request. Specifically the HTTP_X_REQUESTED_WITH header must be equal to &quot;XMLHttpRequest&quot;."}, {"owner": {"reputation": 1439, "user_id": 6344954, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dfe73b34173e78c09be7cdd8454bcf88?s=128&d=identicon&r=PG&f=1", "display_name": "sshussain270", "link": "https://stackoverflow.com/users/6344954/sshussain270"}, "reply_to_user": {"reputation": 7099, "user_id": 1475548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/09sbK.jpg?s=128&g=1", "display_name": "Octopus", "link": "https://stackoverflow.com/users/1475548/octopus"}, "edited": false, "score": 0, "creation_date": 1472076403, "post_id": 39133537, "comment_id": 65612869, "body": "I am sending an ajax request from my webpage"}], "answers": [{"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1472080007, "creation_date": 1472080007, "answer_id": 39134328, "question_id": 39133537, "link": "https://stackoverflow.com/questions/39133537/django-json-not-sending-proper-data/39134328#39134328", "title": "Django JSON not sending proper data", "body": "<p>The only reason possible for it is <code>is_ajax()</code> is return False. That means your are not making the <code>AJAX</code> request. I believe you are making normal HTTP call to your endpoint.</p>\n"}, {"tags": [], "owner": {"reputation": 15574, "user_id": 457571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2318229ef6310b03ab828bff43d2ad66?s=128&d=identicon&r=PG", "display_name": "dr jimbob", "link": "https://stackoverflow.com/users/457571/dr-jimbob"}, "is_accepted": false, "score": 0, "last_activity_date": 1472081137, "last_edit_date": 1472081137, "creation_date": 1472080301, "answer_id": 39134355, "question_id": 39133537, "link": "https://stackoverflow.com/questions/39133537/django-json-not-sending-proper-data/39134355#39134355", "title": "Django JSON not sending proper data", "body": "<p>See the <a href=\"https://docs.djangoproject.com/en/1.10/ref/request-response/#django.http.HttpRequest.is_ajax\" rel=\"nofollow\">django documentation</a> and check that your HTTP request has the HTTP header <code>HTTP_X_REQUESTED_WITH</code> set with the string 'XMLHttpRequest'.  Then <code>request.is_ajax()</code> will return <code>True</code>.</p>\n\n<p>Note modern libraries like jQuery will automatically set this HTTP header for you; e.g., if you get jquery and do</p>\n\n<pre><code>&lt;script&gt;\n$.get('/api/get_RuleStatement', {'term': 'xxx'})\n&lt;/script&gt;\n</code></pre>\n\n<p>Alternatively, you can get rid of the <code>if request.is_ajax():</code> line and make it</p>\n\n<pre><code>def get_RuleStatement(request):\n    q = request.GET.get('term', '')\n    rule_statements = RuleStatement.objects.filter(content__icontains = q)[:1]\n    results = []\n    for rule_statement in rule_statements:\n        results.append({'content': rule_statement.content})\n    data = json.dumps(results)\n    mimetype = 'application/json'\n    return HttpResponse(data, mimetype)\n</code></pre>\n\n<p>if you don't care about it being an ajax call and want to be able to see the response otherwise.  Also you may want to consider using <a href=\"https://docs.djangoproject.com/en/1.10/ref/request-response/#jsonresponse-objects\" rel=\"nofollow\"><code>JsonResponse</code></a> instead of HttpResponse so you don't have to serialize or set MIME-type yourself.  E.g., </p>\n\n<pre><code>def get_RuleStatement(request):\n    q = request.GET.get('term', '')\n    rule_statements = RuleStatement.objects.filter(content__icontains = q)[:1]\n    results = []\n    for rule_statement in rule_statements:\n        results.append({'content': rule_statement.content})\n    return JsonResponse(results, safe=False) \n           # the safe = False is neccessary when\n           # you serialize non-dicts like results which is a list\n</code></pre>\n"}], "owner": {"reputation": 1439, "user_id": 6344954, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dfe73b34173e78c09be7cdd8454bcf88?s=128&d=identicon&r=PG&f=1", "display_name": "sshussain270", "link": "https://stackoverflow.com/users/6344954/sshussain270"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1472081137, "creation_date": 1472075245, "question_id": 39133537, "link": "https://stackoverflow.com/questions/39133537/django-json-not-sending-proper-data", "title": "Django JSON not sending proper data", "body": "<p>I am developing a django python web application. In my webpage, I am sending a request to my API by sending a 'term' and my API is supposed to return the 'content' field of the search.</p>\n\n<p>My content contains 'xxx is good' in my database.</p>\n\n<p>Here is my code in views.py</p>\n\n<pre><code>def get_RuleStatement(request):\n    if request.is_ajax():\n        q = request.GET.get('term', '')\n        rule_statements = RuleStatement.objects.filter(content__icontains = q )[:1]\n        results = []\n        for rule_statement in rule_statements:\n            rule_statement_json = {}\n            rule_statement_json['content'] = rule_statement.content\n            results.append(rule_statement_json)\n        data = json.dumps(results)\n    else:\n        data = 'fail'\n    mimetype = 'application/json'\n    return HttpResponse(data, mimetype)\n</code></pre>\n\n<p>For some reason, whenever I send the following request: <a href=\"http://website.com/api/get_RuleStatement/?term=xxx\" rel=\"nofollow\">http://website.com/api/get_RuleStatement/?term=xxx</a></p>\n\n<p>It returns 'fail' even through my database contains data 'xxx is good'. Can anyone suggest where I am going wrong?</p>\n"}, {"tags": ["python", "django", "export", "xlsxwriter"], "comments": [{"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1472075484, "post_id": 39133529, "comment_id": 65612534, "body": "You can return exactly one response from your view. If you need multiple responses, you also need to make multiple requests from the browser."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 1, "creation_date": 1472079107, "post_id": 39133529, "comment_id": 65613677, "body": "You can not do that. As a work around you may save the file on you static folder and the return the path of all the files. On receiving the response, client may open (or, download) all the files"}, {"owner": {"reputation": 307, "user_id": 2731086, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/72YZe.png?s=128&g=1", "display_name": "DGG", "link": "https://stackoverflow.com/users/2731086/dgg"}, "reply_to_user": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1472079484, "post_id": 39133529, "comment_id": 65613779, "body": "@MoinuddinQuadri - Sounds promising! Unfamiliar with saving files to a static folder: could you elaborate possibly as an answer to the question?"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1472079758, "post_id": 39133529, "comment_id": 65613848, "body": "You have to configure <code>static</code> file settings within your <code>django</code> project and save the file in static folder and then return the path to that file. You will easiliy find various examples online on how to achieve that"}], "answers": [{"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 1, "last_activity_date": 1472079620, "creation_date": 1472079620, "answer_id": 39134274, "question_id": 39133529, "link": "https://stackoverflow.com/questions/39133529/return-multiple-httpresponse-objects-that-are-excel-spreadsheets/39134274#39134274", "title": "Return multiple HttpResponse objects that are Excel spreadsheets", "body": "<p>You <strong>can not return multiple HttpResponse</strong> object with single API call. However as a workaround, you can:</p>\n\n<ul>\n<li><p><strong>Approach 1: <em>If content is going to be always dynamic and file reference is not needed in future</em></strong>:\nMake multiple request each returning <code>HttpResponse</code></p></li>\n<li><p><strong>Approach 2: <em>If content is going to be static, and you may need the same file in future</em></strong>: Make a single request, upload the file to <code>aws s3</code>, <code>google cloud storage</code>, or on your server. Return the path of each file with response and download those file at client side.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 3568729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43322b00b9397123674dbcdff092da7b?s=128&d=identicon&r=PG&f=1", "display_name": "nodarai", "link": "https://stackoverflow.com/users/3568729/nodarai"}, "is_accepted": false, "score": 4, "last_activity_date": 1503499014, "creation_date": 1503499014, "answer_id": 45842751, "question_id": 39133529, "link": "https://stackoverflow.com/questions/39133529/return-multiple-httpresponse-objects-that-are-excel-spreadsheets/45842751#45842751", "title": "Return multiple HttpResponse objects that are Excel spreadsheets", "body": "<p>You can't return multiple HttpResponse objects, but you can return multiple files in one HttpResponse if you combine them to one zipped file.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/42814732/how-to-return-multiple-files-in-httpresponse-django\">How to return multiple files in HttpResponse Django</a></p>\n"}], "owner": {"reputation": 307, "user_id": 2731086, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/72YZe.png?s=128&g=1", "display_name": "DGG", "link": "https://stackoverflow.com/users/2731086/dgg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2545, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1503499014, "creation_date": 1472075218, "last_edit_date": 1472076167, "question_id": 39133529, "link": "https://stackoverflow.com/questions/39133529/return-multiple-httpresponse-objects-that-are-excel-spreadsheets", "title": "Return multiple HttpResponse objects that are Excel spreadsheets", "body": "<p>The desired outcome is to export a spreadsheet of all users in the database, but rather than export them all at once - break up the users into 3 groups and export each of these groups as a spread sheet.</p>\n\n<p>I am using xlsxwriter and StringIO</p>\n\n<p>Thus far the code is returning only the first HttpResponse object out of the 3 (aka the first chunk of users). I tried using StreamingHttpResponse but believe I misapplied it/it wasn't appropriate for this task.</p>\n\n<p>The question/s: Can I return multiple spreadsheets in one response? If not, would the best thing to do be to call this function multiple times, once for each user group? (<em>edited after first comment</em>)</p>\n\n<p>Thanks Much!</p>\n\n<p>Code below:</p>\n\n<pre><code>def export_users(request):\n# all users\nusers = User.objects.all()\n# breaks up all users into 3 groups\nuser_groups = [users[x:x+2] for x in xrange(0, len(users), 2)]\n\n#  FUNCTIONALITY NOTES --&gt; idea is to split number of users for exporting into groups of 3 then export each group. right now it stops after the first group\n\n\n# list var for storing all responses\nfull_response = []\n\nfor group in user_groups:\n    response = HttpResponse(content_type='application/vnd.ms-excel')\n    response['Content-Disposition'] = 'attachment; filename=UserReport.xlsx'\n\n    # user group\n    print \"group! ---&gt; %s\"%(group)\n\n    # creates data variable to write to response\n    xlsx_data = WriteToExcel(group)\n    response.write(xlsx_data)\n\n    # appending each response to an array\n    full_response.append(response)\n    print len(full_response)\n\n# all response objects \nprint full_response\n\n# returning one here \nreturn response\n\n# non-functioning attempt to return all responses\n\n# for response in full_response:\n#     print response\n#     return response\n</code></pre>\n"}, {"tags": ["python", "r", "algorithm"], "comments": [{"owner": {"reputation": 162158, "user_id": 2372064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vFfVt.jpg?s=128&g=1", "display_name": "MrFlick", "link": "https://stackoverflow.com/users/2372064/mrflick"}, "edited": false, "score": 2, "creation_date": 1472075527, "post_id": 39133511, "comment_id": 65612549, "body": "This is basically what you want in R: <a href=\"http://stackoverflow.com/a/38663293/2372064\">stackoverflow.com/a/38663293/2372064</a>"}, {"owner": {"reputation": 80563, "user_id": 496803, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b8556bc403e46083a0cac69f902fa04f?s=128&d=identicon&r=PG", "display_name": "thelatemail", "link": "https://stackoverflow.com/users/496803/thelatemail"}, "edited": false, "score": 0, "creation_date": 1472076528, "post_id": 39133511, "comment_id": 65612917, "body": "Also - <a href=\"http://stackoverflow.com/questions/12135971/identify-groups-of-linked-episodes-which-chain-together\" title=\"identify groups of linked episodes which chain together\">stackoverflow.com/questions/12135971/&hellip;</a>"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1472080226, "post_id": 39133511, "comment_id": 65613985, "body": "if in the list is <code>[(1,2), (3,4)]</code>. You want it as: <code>{a: (1,2), b:(3,4)}</code> or <code>{a: (1,2,3,4)}</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 740, "user_id": 6749977, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qCl1RXbggE8/AAAAAAAAAAI/AAAAAAAADII/FTmrt4BaGYA/photo.jpg?sz=128", "display_name": "Martin Milichovsky", "link": "https://stackoverflow.com/users/6749977/martin-milichovsky"}, "edited": false, "score": 0, "creation_date": 1472078330, "post_id": 39133910, "comment_id": 65613471, "body": "I want to note that the <code>components = ...</code> step is quadratic in the number of unique elements on input. Probably faster would be groupby <code>import itertools;  list(map(lambda group: list([uniques[el[0]] for el in group[1]]),itertools.groupby(enumerate(labels), lambda x: x[1])))</code> but I didnt like to make another import, and the readability.... (I personally do not like python because one cannot write readable and briefly at once)"}], "tags": [], "owner": {"reputation": 740, "user_id": 6749977, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qCl1RXbggE8/AAAAAAAAAAI/AAAAAAAADII/FTmrt4BaGYA/photo.jpg?sz=128", "display_name": "Martin Milichovsky", "link": "https://stackoverflow.com/users/6749977/martin-milichovsky"}, "is_accepted": false, "score": 3, "last_activity_date": 1472077461, "creation_date": 1472077461, "answer_id": 39133910, "question_id": 39133511, "link": "https://stackoverflow.com/questions/39133511/identifying-collections-from-pair-wise-combinations/39133910#39133910", "title": "Identifying collections from pair wise combinations", "body": "<p>You basically want to find connected components. For that there is a function <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csgraph.connected_components.html\" rel=\"nofollow\">connected_components</a> in scipy. You just have to reinterpret your data a bit:</p>\n\n<pre><code>l = [(1,2), (2,3), (3,1), (4,5), (5,4), (6,7)]\n\nfrom scipy.sparse.csgraph import connected_components\nfrom scipy.sparse import csr_matrix\n\n# make list of unique elements\nuniques = list(set(list(map(lambda a: a[0], l)) + list(map(lambda a: a[1], l)))) \n# reverse index to lookup elements index\nunique2index = dict([(el, i) for (i, el) in enumerate(uniques)]) \n\n# prepare data for csr_matrix construction\ndata = [1 for x in l] # value 1 -- means edge\ndata_i = [unique2index.get(x[0]) for x in l] # source node\ndata_j = [unique2index.get(x[1]) for x in l] # target node\n\ngraphMatrix = csr_matrix((data, (data_i, data_j)),shape=(len(uniques), len(uniques)))\n(numComponents, labels) = connected_components(graphMatrix) # here is the work done\n# interpret labels back to original elements\ncomponents = [[uniques[j] for (j,x) in enumerate(labels) if x==i] for i in range(0, numComponents)] \n\nprint(components) # [[1, 2, 3], [4, 5], [6, 7]] is printed\n</code></pre>\n"}], "owner": {"reputation": 1978, "user_id": 1312137, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/69b1ce0cd6b0cdc181a139c54693e768?s=128&d=identicon&r=PG", "display_name": "sriramn", "link": "https://stackoverflow.com/users/1312137/sriramn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472077461, "creation_date": 1472075135, "question_id": 39133511, "link": "https://stackoverflow.com/questions/39133511/identifying-collections-from-pair-wise-combinations", "title": "Identifying collections from pair wise combinations", "body": "<p>I have a list of tuples that identifies pair wise relations between items.</p>\n\n<pre><code>[(1,2), (2,3), (3,1), (4,5), (5,4), (6,7)]\n</code></pre>\n\n<p>I want to look across the tuples and collapse them into unique collections as below (maybe as a hash map - any other efficient data structures?):</p>\n\n<pre><code>{a: (1,2,3), b: (4,5), c(6,7)}\n</code></pre>\n\n<p>Is there an algorithm that does this efficiently - I can only think of a brute force approach right now.</p>\n\n<p>Looking to implement this in Python or R. My original examples has about 28 million tuples.</p>\n"}, {"tags": ["python", "api", "client", "twisted"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 1211653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/521e80ac70146344b8bc4ea050ee175d?s=128&d=identicon&r=PG", "display_name": "JLarrimore", "link": "https://stackoverflow.com/users/1211653/jlarrimore"}, "edited": false, "score": 0, "creation_date": 1472155167, "post_id": 39136513, "comment_id": 65650964, "body": "Thanks @notorious.no you rebel scum you"}], "tags": [], "owner": {"reputation": 4101, "user_id": 2172464, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/e5wRv.jpg?s=128&g=1", "display_name": "notorious.no", "link": "https://stackoverflow.com/users/2172464/notorious-no"}, "is_accepted": true, "score": 1, "last_activity_date": 1554397141, "last_edit_date": 1554397141, "creation_date": 1472097738, "answer_id": 39136513, "question_id": 39133507, "link": "https://stackoverflow.com/questions/39133507/writing-a-twisted-client-to-send-looping-get-request-to-multiple-api-calls-and-r/39136513#39136513", "title": "Writing a Twisted Client to send looping GET request to multiple API calls and record response", "body": "<p>Look what the cat dragged in!</p>\n\n<blockquote>\n  <p>So how do I create multiple call agent</p>\n</blockquote>\n\n<p>Use <a href=\"http://treq.readthedocs.io/en/latest/index.html\" rel=\"nofollow noreferrer\"><code>treq</code></a>. You rarely want to get tangled up with the <code>Agent</code> class.</p>\n\n<blockquote>\n  <p>This API GET call should be repeated every 60 seconds</p>\n</blockquote>\n\n<p>Use <a href=\"http://twistedmatrix.com/documents/current/core/howto/time.html\" rel=\"nofollow noreferrer\"><code>LoopingCalls</code></a> instead of <code>callLater</code>, in this case it's easier and you'll run into less problems later.</p>\n\n<pre><code>import treq\nfrom twisted.internet import task, reactor\n\nfilename = 'test.csv'\n\ndef writeToFile(content):\n    with open(filename, 'ab') as f:\n        f.write(content)\n\ndef everyMinute(*urls):\n    for url in urls:\n        d = treq.get(url)\n        d.addCallback(treq.content)\n        d.addCallback(writeToFile)\n\n#----- Main -----#            \nsites = [\n    'https://www.google.com',\n    'https://www.amazon.com',\n    'https://www.facebook.com']\n\nrepeating = task.LoopingCall(everyMinute, *sites)\nrepeating.start(60)\n\nreactor.run()\n</code></pre>\n\n<p>It starts in the <code>everyMinute()</code> function, which runs every 60 seconds.  Within that function, each endpoint is queried and once the contents of the response becomes available, the <code>treq.content</code> function takes the response and returns the contents. Finally the contents are written to a file.</p>\n\n<p>PS</p>\n\n<p>Are you scraping or trying to extract something from those sites?  If you are <a href=\"http://scrapy.org/\" rel=\"nofollow noreferrer\"><code>scrapy</code></a> might be a good option for you.</p>\n"}], "owner": {"reputation": 79, "user_id": 1211653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/521e80ac70146344b8bc4ea050ee175d?s=128&d=identicon&r=PG", "display_name": "JLarrimore", "link": "https://stackoverflow.com/users/1211653/jlarrimore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 0, "accepted_answer_id": 39136513, "answer_count": 1, "score": 1, "last_activity_date": 1554397141, "creation_date": 1472075119, "question_id": 39133507, "link": "https://stackoverflow.com/questions/39133507/writing-a-twisted-client-to-send-looping-get-request-to-multiple-api-calls-and-r", "title": "Writing a Twisted Client to send looping GET request to multiple API calls and record response", "body": "<p>I haven't done twisted programming in a while so I'm trying to get back into it for a new project. I'm attempting to set up a twisted client that can take a list of servers as an argument, and for each server it sends an API GET call and writes the return message to a file.  This API GET call should be repeated every 60 seconds.</p>\n\n<p>I've done it successfully with a single server using Twisted's agent class:</p>\n\n<pre><code>from StringIO import StringIO\n\nfrom twisted.internet import reactor\nfrom twisted.internet.protocol import Protocol\nfrom twisted.web.client import Agent\nfrom twisted.web.http_headers import Headers\nfrom twisted.internet.defer import Deferred\n\nimport datetime\nfrom datetime import timedelta\nimport time\n\ncount = 1\nfilename = \"test.csv\"\n\nclass server_response(Protocol):\n    def __init__(self, finished):\n        print \"init server response\"\n        self.finished = finished\n        self.remaining = 1024 * 10\n\n    def dataReceived(self, bytes):\n        if self.remaining:\n            display = bytes[:self.remaining]\n            print 'Some data received:'\n            print display\n            with open(filename, \"a\") as myfile:\n                myfile.write(display)\n\n            self.remaining -= len(display)\n\n\n    def connectionLost(self, reason):\n        print 'Finished receiving body:', reason.getErrorMessage()\n\n        self.finished.callback(None)\n\ndef capture_response(response): \n    print \"Capturing response\"\n    finished = Deferred()\n    response.deliverBody(server_response(finished))\n    print \"Done capturing:\", finished\n\n    return finished\n\ndef responseFail(err):\n    print \"error\" + err\n    reactor.stop()\n\n\ndef cl(ignored):\n    print \"sending req\"\n    agent = Agent(reactor)\n    headers = {\n    'authorization': [&lt;snipped&gt;],\n    'cache-control': [&lt;snipped&gt;],\n    'postman-token': [&lt;snipped&gt;]\n    }\n\n    URL = &lt;snipped&gt;\n    print URL\n\n    a = agent.request(\n        'GET',\n        URL,\n        Headers(headers),\n        None)\n\n    a.addCallback(capture_response)\n    reactor.callLater(60, cl, None)\n    #a.addBoth(cbShutdown, count)\n\n\ndef cbShutdown(ignored, count):\n    print \"reactor stop\"\n    reactor.stop()\n\ndef parse_args():\n    usage = \"\"\"usage: %prog [options] [hostname]:port ...\n    Run it like this:\n      python test.py hostname1:instanceName1 hostname2:instancename2 ...\n    \"\"\"\n\n    parser = optparse.OptionParser(usage)\n\n    _, addresses = parser.parse_args()\n\n    if not addresses:\n        print parser.format_help()\n        parser.exit()\n\n    def parse_address(addr):\n        if ':' not in addr:\n            hostName = '127.0.0.1'\n            instanceName = addr\n        else:\n            hostName, instanceName = addr.split(':', 1)\n\n        return hostName, instanceName\n\n    return map(parse_address, addresses)\n\nif __name__ == '__main__':\n    d = Deferred()\n    d.addCallbacks(cl, responseFail)\n    reactor.callWhenRunning(d.callback, None)\n\n    reactor.run()\n</code></pre>\n\n<p>However I'm having a tough time figuring out how to have multiple agents sending calls. With this, I'm relying on the end of the write in cl() ---reactor.callLater(60, cl, None) to create the call loop. <strong>So how do I create multiple call agent protocols (server_response(Protocol)) and continue to loop through the GET for each of them once my reactor is started?</strong></p>\n"}, {"tags": ["python", "json"], "answers": [{"comments": [{"owner": {"reputation": 597, "user_id": 2869323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rtIcR.jpg?s=128&g=1", "display_name": "Vitor Figueredo", "link": "https://stackoverflow.com/users/2869323/vitor-figueredo"}, "edited": false, "score": 0, "creation_date": 1472075621, "post_id": 39133531, "comment_id": 65612584, "body": "Thank you for your quick answer, i tried your first solution, using &quot;map&quot; and python returns this error: AttributeError: &#39;str&#39; object has no attribute &#39;read&#39;. I&#39;m going to try your 2nd solution. Thank you again."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 597, "user_id": 2869323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rtIcR.jpg?s=128&g=1", "display_name": "Vitor Figueredo", "link": "https://stackoverflow.com/users/2869323/vitor-figueredo"}, "edited": false, "score": 0, "creation_date": 1472075689, "post_id": 39133531, "comment_id": 65612614, "body": "@VitorFigueredo whoops should have been <code>json.loads</code> since its a string now not a file (fixed)"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 3, "last_activity_date": 1472075666, "last_edit_date": 1472075666, "creation_date": 1472075227, "answer_id": 39133531, "question_id": 39133505, "link": "https://stackoverflow.com/questions/39133505/how-to-read-and-write-multiple-related-json-structures-in-a-single-file-on-pytho/39133531#39133531", "title": "How to read and write multiple related JSON structures in a single file on Python?", "body": "<pre><code>data = map(json.loads,open(\"xtext.txt\"))\n</code></pre>\n\n<p>each line is a json structure ... but when together as a single file thats not valid json</p>\n\n<p>although really you should just write the json.dump once</p>\n\n<pre><code>medias = [{\"name\":\"name\", \"media\":media} for name,media in all_media]\njson.dump(medias,open(\"xtext.txt\",\"wb\")) \n</code></pre>\n"}], "owner": {"reputation": 597, "user_id": 2869323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rtIcR.jpg?s=128&g=1", "display_name": "Vitor Figueredo", "link": "https://stackoverflow.com/users/2869323/vitor-figueredo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 39133531, "answer_count": 1, "score": 0, "last_activity_date": 1515817320, "creation_date": 1472075110, "last_edit_date": 1515817320, "question_id": 39133505, "link": "https://stackoverflow.com/questions/39133505/how-to-read-and-write-multiple-related-json-structures-in-a-single-file-on-pytho", "title": "How to read and write multiple related JSON structures in a single file on Python?", "body": "<p>I've written a Python script to randomly create a JSON structure containing a student and a grade. The script to create each student and its final grade is: </p>\n\n<pre><code>import json\nfor i in range(1000):\n    finalMedia = {\"name\":\"name\", \"media\":media}\n    json.dump(finalMedia, open(\"xtext.txt\",'w'))\n    txt.write(\"\\n\")\n</code></pre>\n\n<p>Resulting in a file like this: </p>\n\n<pre><code>...\n{\"media\": 7, \"nome\": \"Bernardo\"}\n{\"media\": 7, \"nome\": \"Isadora\"}\n{\"media\": 7, \"nome\": \"Pedro\"}\n{\"media\": 9, \"nome\": \"Agatha\"}\n...\n</code></pre>\n\n<p>When it comes to reading, I wrote another script that also uses the JSON module: </p>\n\n<pre><code>import json\ndata = json.load(open(\"xtext.txt\"))\nprint data\n</code></pre>\n\n<p>I was expecting the whole file data, but instead, I'm getting the following error: <em><code>Extra data: line 2 column 1 - line 1001 column 1 (char 32 - 31997)</code></em></p>\n\n<p>At first, I thought the error was the resulting of breaking the lines. I've decided to remove the txt.write(\"\\n\") but after that, I was still getting the same error. Then, I've tried to change txt.write(\"\\n\") to txt.write(\",\") but that didn't work either. So the error must be on my reading. Is there something I have to do with JSON module or it's indeed the way I'm writing my file?</p>\n"}, {"tags": ["python", "matlab", "input", "interpolation", "data-analysis"], "comments": [{"owner": {"reputation": 11973, "user_id": 2748311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7578b7380f9af68b327f0ab26961cb83?s=128&d=identicon&r=PG", "display_name": "excaza", "link": "https://stackoverflow.com/users/2748311/excaza"}, "edited": false, "score": 0, "creation_date": 1472075035, "post_id": 39133448, "comment_id": 65612332, "body": "I&#39;m not really understanding the supposed difference between SciPy&#39;s <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp1d.html\" rel=\"nofollow noreferrer\"><code>interp1d</code></a> and MATLAB&#39;s <a href=\"http://www.mathworks.com/help/matlab/ref/interp1.html\" rel=\"nofollow noreferrer\"><code>interp1</code></a>. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> explaining your issue with it."}, {"owner": {"reputation": 251, "user_id": 3776468, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/675945875/picture?type=large", "display_name": "naomig", "link": "https://stackoverflow.com/users/3776468/naomig"}, "reply_to_user": {"reputation": 11973, "user_id": 2748311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7578b7380f9af68b327f0ab26961cb83?s=128&d=identicon&r=PG", "display_name": "excaza", "link": "https://stackoverflow.com/users/2748311/excaza"}, "edited": false, "score": 0, "creation_date": 1472075106, "post_id": 39133448, "comment_id": 65612360, "body": "The difference is that MATLAB&#39;S interpolating function has the form: <code>vq = interp1(x,v,xq)</code>  where x is the table of x values, v is the table of y values, and xq is the finer table of x values that the function is interpolated over. Scope&#39;s function on the other hand has the form: <code>vq = interp1d(x,v)</code> where x is the table of x values and v is the table of y values. You can then use vq(any_value) to get the value of the interpolating function at any value you wish."}, {"owner": {"reputation": 11973, "user_id": 2748311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7578b7380f9af68b327f0ab26961cb83?s=128&d=identicon&r=PG", "display_name": "excaza", "link": "https://stackoverflow.com/users/2748311/excaza"}, "edited": false, "score": 0, "creation_date": 1472075462, "post_id": 39133448, "comment_id": 65612520, "body": "<a href=\"http://www.mathworks.com/help/matlab/ref/interp1.html#outputarg_pp\" rel=\"nofollow noreferrer\">interp1 has this syntax</a>"}, {"owner": {"reputation": 251, "user_id": 3776468, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/675945875/picture?type=large", "display_name": "naomig", "link": "https://stackoverflow.com/users/3776468/naomig"}, "reply_to_user": {"reputation": 11973, "user_id": 2748311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7578b7380f9af68b327f0ab26961cb83?s=128&d=identicon&r=PG", "display_name": "excaza", "link": "https://stackoverflow.com/users/2748311/excaza"}, "edited": false, "score": 0, "creation_date": 1472075691, "post_id": 39133448, "comment_id": 65612617, "body": "lol thank u @excaza"}], "answers": [{"comments": [{"owner": {"reputation": 11973, "user_id": 2748311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7578b7380f9af68b327f0ab26961cb83?s=128&d=identicon&r=PG", "display_name": "excaza", "link": "https://stackoverflow.com/users/2748311/excaza"}, "edited": false, "score": 0, "creation_date": 1472076280, "post_id": 39133530, "comment_id": 65612814, "body": "See <a href=\"https://gist.github.com/sco1/c2edee435f83baa6f5183c292263958a\" rel=\"nofollow noreferrer\">this gist</a> for a MATLAB example."}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": false, "score": 2, "last_activity_date": 1472075223, "creation_date": 1472075223, "answer_id": 39133530, "question_id": 39133448, "link": "https://stackoverflow.com/questions/39133448/continuous-interpolation-in-matlab/39133530#39133530", "title": "Continuous Interpolation in MATLAB?", "body": "<p>That appears to be what <a href=\"http://www.mathworks.com/help/matlab/ref/ppval.html\" rel=\"nofollow\"><code>ppval</code></a> is for.  It looks like many of the <a href=\"http://www.mathworks.com/help/matlab/1-d-interpolation.html\" rel=\"nofollow\">1D interpolation functions</a> have a <code>pp</code> variant that plugs into this.</p>\n\n<p><strong>Disclaimer:</strong> I haven't actually tried this.</p>\n"}], "owner": {"reputation": 251, "user_id": 3776468, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/675945875/picture?type=large", "display_name": "naomig", "link": "https://stackoverflow.com/users/3776468/naomig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1472075223, "creation_date": 1472074811, "question_id": 39133448, "link": "https://stackoverflow.com/questions/39133448/continuous-interpolation-in-matlab", "title": "Continuous Interpolation in MATLAB?", "body": "<p>I have a set of data that I would like to get an interpolating function for. MATLAB's interpolating functions seem to only return values at a finer set of discrete points. However, for my purposes, I need to be able to look up the function value for <em>any</em> input. What I'm looking for is something like SciPy's \"interp1d.\"</p>\n"}, {"tags": ["python", "macos", "python-3.x", "ssl", "errbot"], "comments": [{"owner": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "edited": false, "score": 0, "creation_date": 1472077023, "post_id": 39133428, "comment_id": 65613045, "body": "two quick things: 1) did you try forcing brew to update openssl first before linking? <code>brew install openssl</code> then <code>brew link openssl --force</code> 2) did you check for multiple openssl instances in your path?"}, {"owner": {"reputation": 1965, "user_id": 3133885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fcfe8388e9a8c029a4135e6c7bdf9e07?s=128&d=identicon&r=PG&f=1", "display_name": "Beginner", "link": "https://stackoverflow.com/users/3133885/beginner"}, "reply_to_user": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "edited": false, "score": 0, "creation_date": 1472077324, "post_id": 39133428, "comment_id": 65613144, "body": "Yes I did update openssl to <code>openssl-1.0.2h_1</code>. WHen I do <code>$ echo $PYTHONPATH</code> in my virtualenv , it returns an empty string"}, {"owner": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "edited": false, "score": 0, "creation_date": 1472080277, "post_id": 39133428, "comment_id": 65614000, "body": "I need a little more info about your path. Try this: enter <code>which openssl</code>, then see if there is an openssl in <code>&#47;usr&#47;bin</code> and <code>&#47;usr&#47;local&#47;bin</code>. I am guessing/hoping you will find one in both."}, {"owner": {"reputation": 1965, "user_id": 3133885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fcfe8388e9a8c029a4135e6c7bdf9e07?s=128&d=identicon&r=PG&f=1", "display_name": "Beginner", "link": "https://stackoverflow.com/users/3133885/beginner"}, "reply_to_user": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "edited": false, "score": 0, "creation_date": 1472082404, "post_id": 39133428, "comment_id": 65614542, "body": "@Upsampled <code>which openssl</code> returns <code>&#47;usr&#47;local&#47;bin&#47;openssl</code>"}, {"owner": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "edited": false, "score": 0, "creation_date": 1472085391, "post_id": 39133428, "comment_id": 65615197, "body": "Try the instructions underneath the EDIT in this <a href=\"http://stackoverflow.com/questions/38670295/brew-refusing-to-link-openssl\">post</a>"}, {"owner": {"reputation": 1965, "user_id": 3133885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fcfe8388e9a8c029a4135e6c7bdf9e07?s=128&d=identicon&r=PG&f=1", "display_name": "Beginner", "link": "https://stackoverflow.com/users/3133885/beginner"}, "reply_to_user": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "edited": false, "score": 0, "creation_date": 1472094063, "post_id": 39133428, "comment_id": 65616960, "body": "Both commands return <code>File exists</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11126, "user_id": 369874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81f310942fe5989105a6b474cda4c843?s=128&d=identicon&r=PG", "display_name": "Paul Kehrer", "link": "https://stackoverflow.com/users/369874/paul-kehrer"}, "is_accepted": false, "score": 1, "last_activity_date": 1472232559, "creation_date": 1472232559, "answer_id": 39171768, "question_id": 39133428, "link": "https://stackoverflow.com/questions/39133428/python-3-5-openssl-error/39171768#39171768", "title": "Python 3.5 OpenSSL error", "body": "<p>Upgrade your pip. pip 8.1+ will download a binary wheel that will have cryptography precompiled. If you want to compile it yourself the correct environment variables for homebrew can also be found in the docs on the <a href=\"https://cryptography.io/en/latest/installation/\" rel=\"nofollow\">installation</a> page.</p>\n"}], "owner": {"reputation": 1965, "user_id": 3133885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fcfe8388e9a8c029a4135e6c7bdf9e07?s=128&d=identicon&r=PG&f=1", "display_name": "Beginner", "link": "https://stackoverflow.com/users/3133885/beginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1527, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1472232559, "creation_date": 1472074712, "last_edit_date": 1495541957, "question_id": 39133428, "link": "https://stackoverflow.com/questions/39133428/python-3-5-openssl-error", "title": "Python 3.5 OpenSSL error", "body": "<p>SO I am was working with <a href=\"https://github.com/errbotio/errbot\" rel=\"nofollow noreferrer\">errbot</a> and fired up a virtualenv with python3.5. When I run the errbot command I get this error </p>\n\n<pre><code>from OpenSSL import crypto\n  File \"/Users/me/workspace/chatbotv2/chatbot_venv3/lib/python3.5/site-packages/OpenSSL/__init__.py\", line 8, in &lt;module&gt;\n    from OpenSSL import rand, crypto, SSL\n  File \"/Users/me/workspace/chatbotv2/chatbot_venv3/lib/python3.5/site-packages/OpenSSL/rand.py\", line 12, in &lt;module&gt;\n    from OpenSSL._util import (\n  File \"/Users/me/workspace/chatbotv2/chatbot_venv3/lib/python3.5/site-packages/OpenSSL/_util.py\", line 6, in &lt;module&gt;\n    from cryptography.hazmat.bindings.openssl.binding import Binding\n  File \"/Users/me/workspace/chatbotv2/chatbot_venv3/lib/python3.5/site-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 250, in &lt;module&gt;\n    _verify_openssl_version(Binding.lib.SSLeay())\n  File \"/Users/me/workspace/chatbotv2/chatbot_venv3/lib/python3.5/site-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 230, in _verify_openssl_version\n    \"You are linking against OpenSSL 0.9.8, which is no longer \"\n</code></pre>\n\n<p>This is 'asked to death' topic on SO so obviously I was abel to get a solution asap. I followed this <a href=\"https://stackoverflow.com/a/37757206/1664675\">answer</a>. However When I run <code>brew link --force openssl</code> I get this :</p>\n\n<pre><code>Warning: Refusing to link: openssl\nLinking keg-only openssl means you may end up linking against the insecure,\ndeprecated system OpenSSL while using the headers from Homebrew's openssl.\nInstead, pass the full include/library paths to your compiler e.g.:\n  -I/usr/local/opt/openssl/include -L/usr/local/opt/openssl/lib\n</code></pre>\n\n<p>For which I tried :</p>\n\n<pre><code>export CPPFLAGS='-I/usr/local/opt/openssl/include'\nexport LDFLAGS='-L/usr/local/opt/openssl/lib'\n</code></pre>\n\n<p>After this I am lost and do not know what to do. When I try : <code>python -c \"import ssl; print (ssl.OPENSSL_VERSION)\"</code> I still get <code>OpenSSL 0.9.8zg 14 July 2015</code>. <strong>I am on OSX</strong></p>\n"}, {"tags": ["python", "django", "gunicorn", "supervisord"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1472085445, "post_id": 39133380, "comment_id": 65615204, "body": "Too few infomation, I can make a guesd only: app not configured in the settings."}, {"owner": {"reputation": 177, "user_id": 3166104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/stp6I.jpg?s=128&g=1", "display_name": "N3TC4T", "link": "https://stackoverflow.com/users/3166104/n3tc4t"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1472116132, "post_id": 39133380, "comment_id": 65626508, "body": "but its work lke a charm in local , the problem is just in production"}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 3166104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/stp6I.jpg?s=128&g=1", "display_name": "N3TC4T", "link": "https://stackoverflow.com/users/3166104/n3tc4t"}, "is_accepted": true, "score": 0, "last_activity_date": 1479192921, "last_edit_date": 1479192921, "creation_date": 1472123662, "answer_id": 39143766, "question_id": 39133380, "link": "https://stackoverflow.com/questions/39133380/django-user-permissions-not-showing-in-production/39143766#39143766", "title": "Django user permissions not showing in production", "body": "<p>Problem was from os default encoding , I had some unicode permission names in my records and it's wont load and error happened . </p>\n\n<p>so I just add this three line in my wsgi.py </p>\n\n<pre><code>import sys\nreload(sys)\nsys.setdefaultencoding('utf8')\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 3166104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/stp6I.jpg?s=128&g=1", "display_name": "N3TC4T", "link": "https://stackoverflow.com/users/3166104/n3tc4t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 39143766, "answer_count": 1, "score": 1, "last_activity_date": 1479192921, "creation_date": 1472074449, "last_edit_date": 1479153046, "question_id": 39133380, "link": "https://stackoverflow.com/questions/39133380/django-user-permissions-not-showing-in-production", "title": "Django user permissions not showing in production", "body": "<p>I have a weird problem.  In production I can't see the user permissions list in Django admin and after opening the group edit page it shows nothing and page language transforms to another language.</p>\n\n<p>I have some custom permission defined in app models.</p>\n\n<p>What I have done:</p>\n\n<ol>\n<li>Sync my local database with production database.</li>\n<li>Setting default encoding in supervisor (I thought maybe if my app verbose name is a Unicode name so that's why it won't load)</li>\n</ol>\n\n<p>I'm using Django version 1.7.</p>\n\n<p>Update: It looks like the problem is from gunicorn or supervisord because it's working in direct runserver. </p>\n"}, {"tags": ["python", "tensorflow", "protocol-buffers", "protoc"], "answers": [{"comments": [{"owner": {"reputation": 702, "user_id": 5579136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fa3Qx.jpg?s=128&g=1", "display_name": "Vinny M", "link": "https://stackoverflow.com/users/5579136/vinny-m"}, "edited": false, "score": 0, "creation_date": 1472083009, "post_id": 39134460, "comment_id": 65614673, "body": "Thank you, this is a huge help. I am attempting to recreate a trained network and deploy it like this new <a href=\"https://developer.apple.com/library/prerelease/content/samplecode/MetalImageRecognition/Introduction/Intro.html\" rel=\"nofollow noreferrer\">iOS example</a>. Given your expertise, is this the right way to go about establishing the network parameters (binary .dat files for each layer&#39;s weight and bias as arrays of floats) ? End goal will be a TensorFlow trained network, inference on Metal."}, {"owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "reply_to_user": {"reputation": 702, "user_id": 5579136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fa3Qx.jpg?s=128&g=1", "display_name": "Vinny M", "link": "https://stackoverflow.com/users/5579136/vinny-m"}, "edited": false, "score": 0, "creation_date": 1472083198, "post_id": 39134460, "comment_id": 65614712, "body": "Hmm, it depends on how complex the network is. You might be able to go straight to the checkpoint (e.g. using <code>tf.train.NewCheckpointReader()</code>) and read out NumPy arrays from the checkpoint file, bypassing the <code>MetaGraphDef</code>. Indeed you might even be able to use the C++ implementation of the <code>CheckpointReader</code> in your iOS program, if you are able to link it in (though I&#39;m not sure how difficult that linking would be)."}, {"owner": {"reputation": 702, "user_id": 5579136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fa3Qx.jpg?s=128&g=1", "display_name": "Vinny M", "link": "https://stackoverflow.com/users/5579136/vinny-m"}, "edited": false, "score": 0, "creation_date": 1472163863, "post_id": 39134460, "comment_id": 65654732, "body": "The <code>tf.train.NewCheckpointReader()</code> is a wonderful API. I loaded it with an inception_v3 checkpoint hoping to recreate the arrays stored in the aforementioned dat files. There is a disconnect for me as to how they are producing their network parameters. They load in 190 files (1 bias, 1 weight file for each node) as network parameters, yet TF has over 1200 stored variables for the inception model. Any pointers to bridge the gap?"}], "tags": [], "owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "is_accepted": true, "score": 9, "last_activity_date": 1472081044, "creation_date": 1472081044, "answer_id": 39134460, "question_id": 39133285, "link": "https://stackoverflow.com/questions/39133285/weights-and-bias-from-trained-meta-graph/39134460#39134460", "title": "Weights and Bias from Trained Meta Graph", "body": "<p>The <code>MetaGraphDef</code> proto doesn't actually contain the values of the weights and biases. Instead it provides a way to associate a <code>GraphDef</code> with the weights stored in one or more checkpoint files, written by a <a href=\"https://www.tensorflow.org/versions/r0.10/api_docs/python/state_ops.html#Saver\" rel=\"noreferrer\"><code>tf.train.Saver</code></a>. The <a href=\"https://www.tensorflow.org/versions/r0.10/how_tos/meta_graph/index.html\" rel=\"noreferrer\"><code>MetaGraphDef</code> tutorial</a> has more details, but the approximate structure is as follows:</p>\n\n<ol>\n<li><p>In you training program, write out a checkpoint using a <code>tf.train.Saver</code>. This will also write a <code>MetaGraphDef</code> to a <code>.meta</code> file in the same directory.</p>\n\n<pre><code>saver = tf.train.Saver(...)\n# ...\nsaver.save(sess, \"model\")\n</code></pre>\n\n<p>You should find files called <code>model.meta</code> and <code>model-NNNN</code> (for some integer <code>NNNN</code>) in your checkpoint directory.</p></li>\n<li><p>In another program, you can import the <code>MetaGraphDef</code> you just created, and restore from a checkpoint.</p>\n\n<pre><code>saver = tf.train.import_meta_graph(\"model.meta\")\nsaver.restore(\"model-NNNN\")  # Or whatever checkpoint filename was written.\n</code></pre>\n\n<p>If you want to get the value of each variable, you can (for example) find the variable in <code>tf.all_variables()</code> collection and pass it to <code>sess.run()</code> to get its value. For example, to print the values of all variables, you can do the following:</p>\n\n<pre><code>for var in tf.all_variables():\n  print var.name, sess.run(var)\n</code></pre>\n\n<p>You could also filter <code>tf.all_variables()</code> to find the particular weights and biases that you're trying to extract from the model.</p></li>\n</ol>\n"}], "owner": {"reputation": 702, "user_id": 5579136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fa3Qx.jpg?s=128&g=1", "display_name": "Vinny M", "link": "https://stackoverflow.com/users/5579136/vinny-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2170, "favorite_count": 4, "accepted_answer_id": 39134460, "answer_count": 1, "score": 4, "last_activity_date": 1472081044, "creation_date": 1472074000, "last_edit_date": 1472078422, "question_id": 39133285, "link": "https://stackoverflow.com/questions/39133285/weights-and-bias-from-trained-meta-graph", "title": "Weights and Bias from Trained Meta Graph", "body": "<p>I have successfully exported a re-trained InceptionV3 NN as a TensorFlow meta graph. I have read this protobuf back into python successfully, but I am struggling to see a way to export each layers weight and bias values, which I am assuming is stored within the meta graph protobuf, for recreating the nn outside of TensorFlow.</p>\n\n<p>My workflow is as such:</p>\n\n<pre><code>Retrain final layer for new categories\nExport meta graph tf.train.export_meta_graph(filename='model.meta')\nBuild python pb2.py using Protoc and meta_graph.proto\nLoad Protobuf:\n\nimport meta_graph_pb2\nsaved = meta_graph_pb2.CollectionDef()\nwith open('model.meta', 'rb') as f:\n  saved.ParseFromString(f.read())\n</code></pre>\n\n<p>From here I can view most aspects of the graph, like node names and such, but I think my inexperience is making it difficult to track down the correct way to access the weight and bias values for each relevant layer.</p>\n"}, {"tags": ["python", "performance", "numpy"], "comments": [{"owner": {"reputation": 1934, "user_id": 4477223, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3b43bfabaa11289da8b265e98e90f460?s=128&d=identicon&r=PG&f=1", "display_name": "NoBackingDown", "link": "https://stackoverflow.com/users/4477223/nobackingdown"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1472074333, "post_id": 39133279, "comment_id": 65612061, "body": "@Divakar Of course, already late over here^^."}, {"owner": {"reputation": 2778, "user_id": 4950339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VX3JJ.jpg?s=128&g=1", "display_name": "percusse", "link": "https://stackoverflow.com/users/4950339/percusse"}, "edited": false, "score": 0, "creation_date": 1480820574, "post_id": 39133279, "comment_id": 69119384, "body": "Note that LDL^T does not have necessarily 1x1 blocks on the diagonal"}], "answers": [{"comments": [{"owner": {"reputation": 1934, "user_id": 4477223, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3b43bfabaa11289da8b265e98e90f460?s=128&d=identicon&r=PG&f=1", "display_name": "NoBackingDown", "link": "https://stackoverflow.com/users/4477223/nobackingdown"}, "edited": false, "score": 0, "creation_date": 1472075165, "post_id": 39133425, "comment_id": 65612390, "body": "Awesome, I think approach #1 is fastest (quickly checked some timings but no formal benchmarking). I thought element-wise refers to really elements and not multiplying each column by the respective element in the right hand vector."}, {"owner": {"reputation": 1934, "user_id": 4477223, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3b43bfabaa11289da8b265e98e90f460?s=128&d=identicon&r=PG&f=1", "display_name": "NoBackingDown", "link": "https://stackoverflow.com/users/4477223/nobackingdown"}, "edited": false, "score": 0, "creation_date": 1472075687, "post_id": 39133425, "comment_id": 65612611, "body": "Thanks for benchmarking. I think relative performance will crucially depend on the dimensions, and the second approach will be increasingly favorable as compared to the first."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 1934, "user_id": 4477223, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3b43bfabaa11289da8b265e98e90f460?s=128&d=identicon&r=PG&f=1", "display_name": "NoBackingDown", "link": "https://stackoverflow.com/users/4477223/nobackingdown"}, "edited": false, "score": 0, "creation_date": 1472076004, "post_id": 39133425, "comment_id": 65612735, "body": "@Dominik It&#39;s hard to choose I guess as app#1 does matrix-mult and this problem is essentially based on it. Though the negative aspect with app#1 is creating the intermediate array on which app#2 shines. I guess with bigger arrays, <code>einsum</code> might be better given the memory efficiency."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1472075271, "last_edit_date": 1472075271, "creation_date": 1472074688, "answer_id": 39133425, "question_id": 39133279, "link": "https://stackoverflow.com/questions/39133279/numpy-array-multiplication-of-ldlt-factorization-of-symmetric-matrix/39133425#39133425", "title": "Numpy array multiplication of LDL^T factorization of symmetric matrix", "body": "<p><strong>Approach #1</strong></p>\n\n<p>We could use <code>elementwise multiplication</code> and then <code>matrix-multiplication</code>. This basically replaces <code>np.dot(L, np.diag(D))</code> with a direct <code>element-wise multiplication</code> for hopefully some speedup. So, with it, the implementation would become -</p>\n\n<pre><code>(L*D).dot(L.T)\n</code></pre>\n\n<p><strong>Approach #2</strong></p>\n\n<p>Another approach could be with <code>np.einsum</code> to do all those things in one-go, like so -</p>\n\n<pre><code>np.einsum('ij,j,kj-&gt;ik',L,D,L)\n</code></pre>\n\n<hr>\n\n<p><strong>Runtime test</strong></p>\n\n<pre><code>In [303]: L = np.random.randint(0,9,(1000,1000))\n\nIn [304]: D = np.random.randint(0,9,(1000))\n\nIn [305]: %timeit np.dot(np.dot(L, np.diag(D)), L.T)\n1 loops, best of 3: 3.87 s per loop\n\nIn [306]: %timeit (L*D).dot(L.T)\n1 loops, best of 3: 1.39 s per loop\n\nIn [307]: %timeit np.einsum('ij,j,kj-&gt;ik',L,D,L)\n1 loops, best of 3: 1.71 s per loop\n</code></pre>\n"}], "owner": {"reputation": 1934, "user_id": 4477223, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3b43bfabaa11289da8b265e98e90f460?s=128&d=identicon&r=PG&f=1", "display_name": "NoBackingDown", "link": "https://stackoverflow.com/users/4477223/nobackingdown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 1, "accepted_answer_id": 39133425, "answer_count": 1, "score": 2, "last_activity_date": 1472076565, "creation_date": 1472073975, "last_edit_date": 1472076565, "question_id": 39133279, "link": "https://stackoverflow.com/questions/39133279/numpy-array-multiplication-of-ldlt-factorization-of-symmetric-matrix", "title": "Numpy array multiplication of LDL^T factorization of symmetric matrix", "body": "<p>Suppose I have an \"LDL^T\" decomposition of a symmetric, positive-semidefinite matrix A (<code>numpy</code> array), and I would like to multiply all factors together to obtain A.</p>\n\n<p>What is the most efficient way to achieve this?</p>\n\n<p>Currently, I am doing (D is available as \"vector\"):\n    <code>np.dot(np.dot(L, np.diag(D)), L.T)</code>,\nwhich is quite obviously a bad solution.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7576, "user_id": 1603840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJhqE.jpg?s=128&g=1", "display_name": "Karin", "link": "https://stackoverflow.com/users/1603840/karin"}, "edited": false, "score": 0, "creation_date": 1472074132, "post_id": 39133230, "comment_id": 65611963, "body": "The code seems to already work exactly as you&#39;ve described as is. Could you clarify a bit?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1472074133, "post_id": 39133230, "comment_id": 65611966, "body": "You could try putting the variable into a module and import the module."}, {"owner": {"reputation": 4234, "user_id": 612258, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kvtkZ.png?s=128&g=1", "display_name": "Illusionist", "link": "https://stackoverflow.com/users/612258/illusionist"}, "edited": false, "score": 2, "creation_date": 1472074166, "post_id": 39133230, "comment_id": 65611983, "body": "Can you put this in a class ?  import the class in your other file."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 2, "creation_date": 1472074224, "post_id": 39133230, "comment_id": 65612005, "body": "This is kind of weasel-worded. You want to avoid the use of a global but you want some kind of state that persists across files in the form of a variable? <b>That&#39;s what global is.</b> In order to avoid global state, you need to refactor it into a class, save it in a database, etc."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1472074317, "post_id": 39133230, "comment_id": 65612054, "body": "This is exactly why you want to avoid global, by the way. You wouldn&#39;t want something happening in another file (action at a distance) to change the state your program depends on. That would be very difficult to reason about and therefore to debug."}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1472074449, "post_id": 39133230, "comment_id": 65612118, "body": "@Two-BitAlchemist globals are not the only mechanism in Python for sharing things between two files."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1472074597, "post_id": 39133230, "comment_id": 65612178, "body": "@MarkRansom That&#39;s not what I said. But there&#39;s a big difference between &quot;sharing things between two files&quot; and &quot;I change a variable in file A and file B sees the change without me doing anything different.&quot;"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1472074932, "post_id": 39133230, "comment_id": 65612297, "body": "Can somebody reopen this question so I can leave a proper answer? I mistakenly closed it and reopened it earlier, so now I can&#39;t reopen it again by myself."}, {"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1472075321, "post_id": 39133230, "comment_id": 65612461, "body": "if <code>status</code> is in <code>file_1.py</code>, then import file_1 into the <code>get_status()</code> file, and print <code>file_1.status</code>"}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1472075950, "post_id": 39133230, "comment_id": 65612719, "body": "Very true that this isn&#39;t a duplicate of &quot;How do I pass a variable by reference?&quot;... but it certainly feels like a duplicate of <i>something</i>. Surely someone has asked this before. At the very least, if this is to be reopened, it should be rehabilitated into a better-quality question, starting with a title that better reflects what is actually being asked."}], "answers": [{"tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": true, "score": 2, "last_activity_date": 1472571509, "creation_date": 1472571509, "answer_id": 39231803, "question_id": 39133230, "link": "https://stackoverflow.com/questions/39133230/share-a-variable-between-two-files/39231803#39231803", "title": "Share a variable between two files?", "body": "<p>You can share variables without making them global by putting them in a module. Anybody who imports the module gets the <em>same</em> module object, so its contents are shared; changes made at one location show up in all the others.</p>\n\n<p>notglobal.py:</p>\n\n<pre><code>status = 0\n</code></pre>\n\n<p>get.py:</p>\n\n<pre><code>import notglobal\n\ndef getStatus():\n    return notglobal.status\n</code></pre>\n\n<p>Testing:</p>\n\n<pre><code>&gt;&gt;&gt; import notglobal\n&gt;&gt;&gt; import get\n&gt;&gt;&gt; notglobal.status = 5\n&gt;&gt;&gt; get.getStatus()\n5\n&gt;&gt;&gt; notglobal.status = 1\n&gt;&gt;&gt; get.getStatus()\n1\n</code></pre>\n"}], "owner": {"reputation": 2837, "user_id": 2603817, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zqSbL.jpg?s=128&g=1", "display_name": "Rahat Mahbub", "link": "https://stackoverflow.com/users/2603817/rahat-mahbub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 39231803, "answer_count": 1, "score": -2, "last_activity_date": 1472571509, "creation_date": 1472073735, "last_edit_date": 1472164099, "question_id": 39133230, "link": "https://stackoverflow.com/questions/39133230/share-a-variable-between-two-files", "title": "Share a variable between two files?", "body": "<p>What is a mechanism in Python by which I can do the following:</p>\n\n<p>file1.py:</p>\n\n<pre><code>def getStatus():\n    print status\n</code></pre>\n\n<p>file2.py:</p>\n\n<pre><code>status = 5\ngetStatus() # 5\nstatus = 1\ngetStatus() # 1\n</code></pre>\n\n<p>The function and the variable are in two different files and I'd like to avoid the use of a global.</p>\n"}, {"tags": ["python", "c", "arrays", "python-c-api", "python-embedding"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472074762, "post_id": 39133222, "comment_id": 65612242, "body": "What do you mean by &quot;list of arrays&quot;? You can&#39;t put C arrays in a Python list."}, {"owner": {"reputation": 11, "user_id": 6736912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4922f7b0bee13d89a557e62ebec32f50?s=128&d=identicon&r=PG&f=1", "display_name": "suzaku", "link": "https://stackoverflow.com/users/6736912/suzaku"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472113002, "post_id": 39133222, "comment_id": 65624450, "body": "I think a two dimensional array (in terms of C) (which would be like a list of lists in terms of Python) would be more appropriate. You can refer to the example I gave of the input I wanted."}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1472116532, "post_id": 39133222, "comment_id": 65626763, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/30330279/how-to-pass-two-dimensional-array-from-c-to-python\">How to Pass Two-dimensional array from C to Python</a>"}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1472116653, "post_id": 39133222, "comment_id": 65626836, "body": "I know this isn&#39;t a perfect duplicate - they&#39;re using <code>std::vector</code> rather than 2D C array and they return tuples rather than lists - but it&#39;s pretty close and the answer is good so you should probably be able to get what you want from it."}, {"owner": {"reputation": 11, "user_id": 6736912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4922f7b0bee13d89a557e62ebec32f50?s=128&d=identicon&r=PG&f=1", "display_name": "suzaku", "link": "https://stackoverflow.com/users/6736912/suzaku"}, "edited": false, "score": 0, "creation_date": 1472118937, "post_id": 39133222, "comment_id": 65628442, "body": "Thanks, yes it helped me solve my first part of the query, but how do I return a list back to C?"}, {"owner": {"reputation": 11, "user_id": 6736912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4922f7b0bee13d89a557e62ebec32f50?s=128&d=identicon&r=PG&f=1", "display_name": "suzaku", "link": "https://stackoverflow.com/users/6736912/suzaku"}, "edited": false, "score": 0, "creation_date": 1472120065, "post_id": 39133222, "comment_id": 65629175, "body": "I think I get it, I probably need to return a PyList object, and extract each element using PyList_GetItem macro and then, add it to an array."}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1472121157, "post_id": 39133222, "comment_id": 65629880, "body": "@suzaku Sorry - I didn&#39;t realise you wanted to go transfer the data both ways! The other thing you could look at are numpy arrays"}], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 6037476, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8a00ea92195de535ffc5ae8f6cc3d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/6037476/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1472560768, "last_edit_date": 1472560768, "creation_date": 1472256800, "answer_id": 39176243, "question_id": 39133222, "link": "https://stackoverflow.com/questions/39133222/embedding-python-in-c-passing-a-two-dimensional-array-and-retrieving-back-a-lis/39176243#39176243", "title": "Embedding Python in C: Passing a two dimensional array and retrieving back a list", "body": "<p>I think what you want to do is to pass in some Lists, have them converted to C arrays and then back to Lists before returning to Python.</p>\n\n<p>The Lists are received in C as a pointer to a PyObject, so to get the data from you'll have to use <a href=\"https://docs.python.org/3.4/extending/extending.html\" rel=\"nofollow\">PyArg_ParseXX</a>(YY), where XX and YY depend on what type of list object you had in Python and how you want it to be interpreted in C. This is where you would specify the shape information of the input lists and turn it into whatever shape you need for processing.</p>\n\n<p>To return the arrays back to python you'll have to look at the Python-C API, which gives methods for creating and manipulating Python objects in C. As othera have suggested, using the <a href=\"http://docs.scipy.org/doc/numpy/user/c-info.how-to-extend.html\" rel=\"nofollow\">numpy-C API</a> is also an option with many advantages. In this case, you can use the PyArray_SimpleNew to create an array and populate it with your output.</p>\n"}], "owner": {"reputation": 11, "user_id": 6736912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4922f7b0bee13d89a557e62ebec32f50?s=128&d=identicon&r=PG&f=1", "display_name": "suzaku", "link": "https://stackoverflow.com/users/6736912/suzaku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 463, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1472560768, "creation_date": 1472073710, "last_edit_date": 1472140613, "question_id": 39133222, "link": "https://stackoverflow.com/questions/39133222/embedding-python-in-c-passing-a-two-dimensional-array-and-retrieving-back-a-lis", "title": "Embedding Python in C: Passing a two dimensional array and retrieving back a list", "body": "<p>I want to pass a list of arrays (or a 2D array) such as <code>[[1,2,3],[4,5,6]]</code> from C to a Python script which computes and returns a list. What possible changes would be required to the embedding <a href=\"https://docs.python.org/3/extending/embedding.html#pure-embedding\" rel=\"nofollow\">code</a> in order to achieve this? The python script to be executed is as follows:</p>\n\n<p><em>abc.py</em></p>\n\n<pre><code>import math\ndef xyz(size,wss):\n    result=[0 for i in range(size)]\n    for i in range(size):    \n        wss_mag=math.sqrt(wss[i][0]*wss[i][0]+wss[i][1]*wss[i][1]+wss[i][2]*wss[i][2])\n        result[i]=1/wss_mag\n    return result\n</code></pre>\n\n<p>Here size is the number of 1D arrays in WSS (for e.g. 2 in case <code>wss=[[1,2,3],[4,5,6]]</code>) The question is different than the suggested duplicate in the sense it has to return back a list as a 1-D array to C.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "filter"], "comments": [{"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 1, "creation_date": 1472073468, "post_id": 39133121, "comment_id": 65611651, "body": "See the <a href=\"http://pandas.pydata.org/pandas-docs/stable/indexing.html#query-use-cases\" rel=\"nofollow noreferrer\">query() Use Cases</a> section of the documentation."}], "answers": [{"comments": [{"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 4, "creation_date": 1472074597, "post_id": 39133196, "comment_id": 65612177, "body": "So I misunderstood. In 0.18.0 you can do this too: <a href=\"http://pandas.pydata.org/pandas-docs/version/0.18.1/whatsnew.html#method-chaininng-improvements\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/version/0.18.1/&hellip;</a> (I mean just <code>cut = lambda df: df.area &gt; 10</code> and <code>df[cut]</code>"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 1, "creation_date": 1472075823, "post_id": 39133196, "comment_id": 65612665, "body": "@ayhan brilliant!  Stored in the memory banks."}, {"owner": {"reputation": 135, "user_id": 6268172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9744c62eda2a9df92470c22fccec940?s=128&d=identicon&r=PG&f=1", "display_name": "oscarafone", "link": "https://stackoverflow.com/users/6268172/oscarafone"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1472133455, "post_id": 39133196, "comment_id": 65638300, "body": "@ayhan That&#39;s beautiful."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 5, "last_activity_date": 1472096167, "last_edit_date": 1472096167, "creation_date": 1472073562, "answer_id": 39133196, "question_id": 39133121, "link": "https://stackoverflow.com/questions/39133121/apply-same-selection-cut-to-multiple-dataframes/39133196#39133196", "title": "Apply same selection (cut) to multiple dataframes", "body": "<p>I can get something similar</p>\n\n<pre><code>cut = lambda df: df[df.area &gt; 10]\ncut(df)\n</code></pre>\n\n<p>Per @root</p>\n\n<pre><code>cut = 'area &gt; 10'\ndf.query(cut)\n</code></pre>\n\n<p>Per @ayhan</p>\n\n<pre><code>cut = lambda x: x.area &gt; 10\ndf[cut]\n</code></pre>\n\n<hr>\n\n<h3>Timing</h3>\n\n<p><strong><em>100 rows</em></strong></p>\n\n<pre><code>df = pd.DataFrame(np.random.randint(0, 20, 100), columns=['area'])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/F1NWU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F1NWU.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>1,000,000 rows</em></strong></p>\n\n<pre><code>df = pd.DataFrame(np.random.randint(0, 20, 1000000), columns=['area'])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/EoUZr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EoUZr.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 135, "user_id": 6268172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9744c62eda2a9df92470c22fccec940?s=128&d=identicon&r=PG&f=1", "display_name": "oscarafone", "link": "https://stackoverflow.com/users/6268172/oscarafone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 39133196, "answer_count": 1, "score": 1, "last_activity_date": 1478330861, "creation_date": 1472073196, "last_edit_date": 1478330861, "question_id": 39133121, "link": "https://stackoverflow.com/questions/39133121/apply-same-selection-cut-to-multiple-dataframes", "title": "Apply same selection (cut) to multiple dataframes", "body": "<p>My question is about making selections in <code>pandas</code> (python.)</p>\n\n<p>As you know, one can apply a <code>selection</code> (or 'cut') to a dataframe by doing</p>\n\n<pre><code>df = df[df.area &gt; 10]\n</code></pre>\n\n<p>if you wanted to (say) select all rows whose column value of <code>area</code> was greater than <code>10</code>. But suppose you have many dataframes, and you'd like to eventually apply this cut to all of them. It would be nice to do something like</p>\n\n<pre><code>cut = dataframe.area &gt; 10\n</code></pre>\n\n<p>and then somehow be able to do</p>\n\n<pre><code>df = df[cut]\n</code></pre>\n\n<p>Obviously given the strategy above it won't work because <code>cut</code> refers to a specific dataframe. But is there a way to approximate this behavior?</p>\n\n<p>That is, is it possible to define a <code>cut</code> that refers to no dataframe in particular and can be applied as <code>df = df[cut]</code>?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19107, "user_id": 216356, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dc105cdd75395154274f9da3d7612a9f?s=128&d=identicon&r=PG", "display_name": "Noctis Skytower", "link": "https://stackoverflow.com/users/216356/noctis-skytower"}, "edited": false, "score": 0, "creation_date": 1472131436, "post_id": 39133088, "comment_id": 65636848, "body": "You can replace <code>A = C + A[k-1:n]</code> with <code>A[0:k-1] = C</code> in your code. The code in my answer below uses a similar technique."}], "answers": [{"tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": true, "score": 2, "last_activity_date": 1472073378, "creation_date": 1472073378, "answer_id": 39133159, "question_id": 39133088, "link": "https://stackoverflow.com/questions/39133088/confusion-about-variables-in-python/39133159#39133159", "title": "Confusion about variables in python", "body": "<p>At the start of the function, the list <code>A</code> inside the function is the same as the list outside of the function, and any modifications made to one will be reflected in the other (it's a mutable object).</p>\n\n<p>When you do an assignment to a list, you're substituting a new list object for the old list object. This breaks the connection to the outside object.</p>\n\n<p>Instead of assigning a new list to <code>A</code>, you can assign to a <em>slice</em> of <code>A</code> and the original object will be modified in place instead.</p>\n\n<pre><code>A[:] = C + A[k-1:n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 690, "user_id": 5763213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mCpSb.jpg?s=128&g=1", "display_name": "sethmlarson", "link": "https://stackoverflow.com/users/5763213/sethmlarson"}, "is_accepted": false, "score": 1, "last_activity_date": 1472073405, "creation_date": 1472073405, "answer_id": 39133165, "question_id": 39133088, "link": "https://stackoverflow.com/questions/39133088/confusion-about-variables-in-python/39133165#39133165", "title": "Confusion about variables in python", "body": "<pre><code>A = C + A[k-1:n]\n</code></pre>\n\n<p>This is the line responsible for the behaviour you're seeing. By setting A equal to A[0:k-1] + A[k-1:n] you are making a copy of all of A's elements. If you want your changes to persist within the list you passed in you must assign the list to all the elements of A like so:</p>\n\n<pre><code>A[:] = C + A[k-1:n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19107, "user_id": 216356, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dc105cdd75395154274f9da3d7612a9f?s=128&d=identicon&r=PG", "display_name": "Noctis Skytower", "link": "https://stackoverflow.com/users/216356/noctis-skytower"}, "is_accepted": false, "score": 1, "last_activity_date": 1472131220, "last_edit_date": 1472131220, "creation_date": 1472074927, "answer_id": 39133472, "question_id": 39133088, "link": "https://stackoverflow.com/questions/39133088/confusion-about-variables-in-python/39133472#39133472", "title": "Confusion about variables in python", "body": "<p>The following implementation shows a rewrite of your code but includes an alternate solution above the last call to the <code>print</code> function. The commented-out line may replace the line directly above it, or you may choose to return <code>a</code> at the end of the <code>heap_sort</code> function and rebind the value of <code>a</code> in your <code>main</code> function instead.</p>\n\n<pre><code>def main():\n    a = [2, 4, 1, 3, 7, 5, 9]\n    heap_sort(a)\n    print(a)\n\nparent = lambda i: (i + 1 &gt;&gt; 1) - 1\nleft = lambda i: (i &lt;&lt; 1) + 1\nright = lambda i: i + 1 &lt;&lt; 1\n\ndef max_heapify(a, i, n):\n    l = left(i)\n    r = right(i)\n    largest = l if l &lt; n and a[i] &lt; a[l] else i\n    if r &lt; n and a[largest] &lt; a[r]:\n        largest = r\n    if largest != i:\n        a[i], a[largest] = a[largest], a[i]\n        max_heapify(a, largest, n)\n\ndef build_max_heap(a, n):\n    for i in reversed(range(n + 2 &gt;&gt; 1)):\n        max_heapify(a, i, n)\n\ndef heap_sort(a):\n    n = len(a)\n    build_max_heap(a, n)\n    for k in reversed(range(n)):\n        a[0], a[k] = a[k], a[0]\n        c = a[:k]\n        max_heapify(c, 0, k)\n        a[:k] = c\n        # the following would change \"a\" in this scope only\n        # a = c + a[k:]\n    # print(a)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 6275672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ad96f53097266499d51f0ff80a00e0?s=128&d=identicon&r=PG&f=1", "display_name": "Mercury Bench", "link": "https://stackoverflow.com/users/6275672/mercury-bench"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 39133159, "answer_count": 3, "score": 3, "last_activity_date": 1472131220, "creation_date": 1472073057, "question_id": 39133088, "link": "https://stackoverflow.com/questions/39133088/confusion-about-variables-in-python", "title": "Confusion about variables in python", "body": "<p>I am trying to implement heapsort but I am getting unexpected results. I think this is due to something I don't understand about how Python handles variables (I am talking about side effects). Here's the code:</p>\n\n<pre><code>from math import *\n\ndef parent(i):\n    return floor((i+1)/2)-1\n\ndef left(i):\n    return 2*i+1\n\ndef right(i):\n    return 2*i+2\n\ndef maxheapify(A, i):\n    l = left(i)\n    r = right(i)\n    if l &lt; len(A) and A[i] &lt; A[l]:\n        largest = l\n    else:\n        largest = i\n    if r &lt; len(A) and A[largest] &lt; A[r]:\n        largest = r\n    if largest != i:\n        temp = A[i]\n        A[i] = A[largest]\n        A[largest] = temp\n        maxheapify(A, largest) \n\n\ndef buildmaxheap(A):\n    for i in range(int(floor(len(A)/2)), -1, -1):\n        maxheapify(A, i)\n\ndef heapsort(A):\n    n = len(A)\n    buildmaxheap(A)\n    for k in range(len(A), 0, -1):  \n        temp = A[0]\n        A[0] = A[k-1]\n        A[k-1] = temp\n        C = A[0:k-1]\n        maxheapify(C, 0)\n        A = C + A[k-1:n]\n    print(A)\n</code></pre>\n\n<p>Now when I run </p>\n\n<pre><code>A = [2, 4, 1, 3, 7, 5, 9]\nheapsort(A)\nprint(A)\n</code></pre>\n\n<p>I obtain two printed lines (one from inside the heapsort showing that the sorting worked and one from the last print):</p>\n\n<pre><code>[1, 2, 3, 4, 5, 7, 9]\n[1, 7, 5, 3, 4, 2, 9]\n</code></pre>\n\n<p>Obviously, I'd like them both to be the same (which would mean that the sorting actually worked and A is sorted after calling heapsort(A))</p>\n\n<p>So what I don't get is:</p>\n\n<ol>\n<li><p>If A is correctly sorted (at the point of the last line in heapsort(A)), why doesn't this change persist after leaving the function block?</p></li>\n<li><p>If this is due to some permanence of the variable A, why isn't the end result the original value of A, but the intermediate step in heapsort, which is the result of the maxheapify call?</p></li>\n</ol>\n"}, {"tags": ["python", "binary", "hex"], "comments": [{"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1472073218, "post_id": 39133057, "comment_id": 65611545, "body": "What ways have you tried so far?"}, {"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1472073809, "post_id": 39133057, "comment_id": 65611818, "body": "do you know about for loops, and slicing, and list comprehensions?  If you do, I think you can do this in a line or two"}, {"owner": {"reputation": 137, "user_id": 5155814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4908985e40c6246243df519753b93f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Romeo", "link": "https://stackoverflow.com/users/5155814/romeo"}, "edited": false, "score": 0, "creation_date": 1472073818, "post_id": 39133057, "comment_id": 65611821, "body": "I converted string into bit array, followed by looping over bit array and adding &#39;_&#39; on every 4th element followed by printing it out. Very much like a c function."}, {"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 2, "creation_date": 1472073917, "post_id": 39133057, "comment_id": 65611864, "body": "Show the code you have"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 5155814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4908985e40c6246243df519753b93f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Romeo", "link": "https://stackoverflow.com/users/5155814/romeo"}, "edited": false, "score": 0, "creation_date": 1472076301, "post_id": 39133266, "comment_id": 65612825, "body": "Thanks. that sees to work."}], "tags": [], "owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "is_accepted": false, "score": 1, "last_activity_date": 1472091641, "last_edit_date": 1472091641, "creation_date": 1472073917, "answer_id": 39133266, "question_id": 39133057, "link": "https://stackoverflow.com/questions/39133057/python-convert-hex-string-to-formated-binary-string/39133266#39133266", "title": "python convert hex string to formated binary string", "body": "<p>Not sure if there's a better way, but this works (assuming the numbers are always 16-bit):</p>\n\n<pre><code># Takes a hex-encoded 16-bit number and returns a binary representation with\n# leading zeros and underscores as a nibble separator.\ndef binary_representation(string):\n    return '0b' + '_'.join(\n        ''.join(nibble) for nibble in zip(*([iter('{:&gt;016b}'.format(int(string, 16)))]*4)))\n\nassert binary_representation('0x1234') == '0b0001_0010_0011_0100'\n</code></pre>\n\n<p>The <code>zip</code> trick is a good one that comes from the <a href=\"https://docs.python.org/3.1/library/itertools.html#recipes\" rel=\"nofollow\"><code>grouper</code> example in the Python docs</a>. That call essentially emits <code>[('0', '0', '0', '1'), ('0', '0', '1', '0'), ...]</code>. From there, you just need to turn each nibble into a single string and then join them all with underscores.</p>\n\n<p>The other interesting bit here is the <code>{:&gt;016b}</code> format, which gives you a right-aligned, zero-padded binary representation of a number. If you need to support different sizes of numbers, this is the part you'll need to change.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Given that your number starts out as a string, this approach is even simpler, inspired by @Joran's answer but without the lookup table.</p>\n\n<pre><code>def binary_representation(string):\n    return '0b' + '_'.join(['{:&gt;04b}'.format(int(d, 16)) for d in string[2:]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2096, "user_id": 6732794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xH8SY.gif?s=128&g=1", "display_name": "lazy dog", "link": "https://stackoverflow.com/users/6732794/lazy-dog"}, "is_accepted": false, "score": 2, "last_activity_date": 1472074950, "last_edit_date": 1495535624, "creation_date": 1472074369, "answer_id": 39133360, "question_id": 39133057, "link": "https://stackoverflow.com/questions/39133057/python-convert-hex-string-to-formated-binary-string/39133360#39133360", "title": "python convert hex string to formated binary string", "body": "<p>As an alternative to <a href=\"https://stackoverflow.com/q/312443\">generic sequence chunking</a>, for strings, you can use a regex to group and replace:</p>\n\n<pre><code>&gt;&gt;&gt; '0b' + re.sub(r'(\\d{4})(?!$)', r'\\1_', format(int('0x1234', 16), '016b'))\n'0b0001_0010_0011_0100'\n</code></pre>\n\n<p>In Python 3.6, you will be able to do this with a format specifier (see <a href=\"https://www.python.org/dev/peps/pep-0515/#further-changes\" rel=\"nofollow noreferrer\">PEP 515</a>)</p>\n\n<pre><code>'0b' + format(int('0x1234', 16), '016_b')\n</code></pre>\n\n<p>or, if you prefer:</p>\n\n<pre><code>'0b{:016_b}'.format(int('0x1234', 16))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2096, "user_id": 6732794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xH8SY.gif?s=128&g=1", "display_name": "lazy dog", "link": "https://stackoverflow.com/users/6732794/lazy-dog"}, "edited": false, "score": 0, "creation_date": 1472075280, "post_id": 39133403, "comment_id": 65612441, "body": "I like that this avoids the roundabout conversion from string -&gt; number -&gt; back to string."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 2096, "user_id": 6732794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xH8SY.gif?s=128&g=1", "display_name": "lazy dog", "link": "https://stackoverflow.com/users/6732794/lazy-dog"}, "edited": false, "score": 0, "creation_date": 1472075362, "post_id": 39133403, "comment_id": 65612478, "body": "plus dict lookups are O(1) ... thats really the benefit.... str-&gt;num-&gt;str is really a pretty quick operation"}, {"owner": {"reputation": 137, "user_id": 5155814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4908985e40c6246243df519753b93f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Romeo", "link": "https://stackoverflow.com/users/5155814/romeo"}, "edited": false, "score": 0, "creation_date": 1472076240, "post_id": 39133403, "comment_id": 65612801, "body": "Thanks!. that makes sense."}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1472091724, "post_id": 39133403, "comment_id": 65616478, "body": "Nice approach! Inspired by this, I added a second approach to my answer which is quite similar to this but avoids the lookup table. (Also, you&#39;re missing the handling of the &quot;0x&quot; at the beginning of the input and the &quot;0b&quot; expected at the beginning of the output.)"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 4, "last_activity_date": 1472075102, "last_edit_date": 1472075102, "creation_date": 1472074592, "answer_id": 39133403, "question_id": 39133057, "link": "https://stackoverflow.com/questions/39133057/python-convert-hex-string-to-formated-binary-string/39133403#39133403", "title": "python convert hex string to formated binary string", "body": "<p>hex maps one digit to one nibble ... so you can do it quite easily with a lookup table</p>\n\n<pre><code>hex2bin_map = {\n   \"0\":\"0000\",\n   \"1\":\"0001\",\n   \"2\":\"0010\",\n   \"3\":\"0011\",\n   \"4\":\"0100\",\n   \"5\":\"0101\",\n   \"6\":\"0110\",    \n   \"7\":\"0111\",\n   \"8\":\"1000\",\n   \"9\":\"1001\",\n   \"A\":\"1010\",\n   \"B\":\"1011\",\n   \"C\":\"1100\",\n   \"D\":\"1101\",\n   \"E\":\"1110\",\n   \"F\":\"1111\",\n}\nhex_num=\"1234\"\nprint \"_\".join(hex2bin_map[i] for i in hex_num)\n# 0001_0010_0011_0100\n</code></pre>\n\n<p>this isnt as terse as the other answer(s) im sure ... but its probably the most performant ... and its pretty dang easy to read (ie you dont need to worry about the grouper pattern of zip, nor regex's, which are bound to confuse newer programmers)</p>\n"}], "owner": {"reputation": 137, "user_id": 5155814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4908985e40c6246243df519753b93f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Romeo", "link": "https://stackoverflow.com/users/5155814/romeo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6864, "favorite_count": 0, "closed_date": 1472096092, "accepted_answer_id": 39133403, "answer_count": 3, "score": 1, "last_activity_date": 1472091641, "creation_date": 1472072910, "last_edit_date": 1472079215, "question_id": 39133057, "link": "https://stackoverflow.com/questions/39133057/python-convert-hex-string-to-formated-binary-string", "closed_reason": "Needs more focus", "title": "python convert hex string to formated binary string", "body": "<p>From input <code>0x1234</code>\nI need to output: <code>0b0001_0010_0011_0100</code>.</p>\n\n<p>I can think of all the bad ways to do this, but what's the most pythonic way to achieve this. </p>\n\n<p>I can easily convert to bin string <code>(bin(int('0x1234', 16))</code>, but that only gives me <code>0001001000110100</code>. I need a <code>_</code> between nibbles.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "set"], "comments": [{"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 1, "creation_date": 1472073010, "post_id": 39133053, "comment_id": 65611453, "body": "the constructor you are using, as you&#39;d know if you&#39;d read the doc, takes an iterable, which a tuple is. Hence, it creates a set that contains all elements of the tuple. To add a tuple to your set, simply use the <code>add</code> method"}, {"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 1, "creation_date": 1472073018, "post_id": 39133053, "comment_id": 65611455, "body": "set constructor takes <i>iterable</i> as argument. Your tuple is a two-element iterable. You need to pass single-element iterable (e.g. <code>set([x]</code>), or use a Python 2.7+ syntactic sugar - <code>z = {x}</code>"}, {"owner": {"reputation": 3389, "user_id": 3121975, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/27507c7b9958f8863c6640543baec276?s=128&d=identicon&r=PG&f=1", "display_name": "Woody1193", "link": "https://stackoverflow.com/users/3121975/woody1193"}, "reply_to_user": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1472074932, "post_id": 39133053, "comment_id": 65612298, "body": "@njzk2 As a matter of fact, I did read the doc and then asked this question because the doc wasn&#39;t clear to me. Maybe next time don&#39;t assume ignorance ;)"}], "answers": [{"tags": [], "owner": {"reputation": 1321, "user_id": 4695752, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/vh2Hd.jpg?s=128&g=1", "display_name": "Jan van der Vegt", "link": "https://stackoverflow.com/users/4695752/jan-van-der-vegt"}, "is_accepted": false, "score": 1, "last_activity_date": 1472073010, "creation_date": 1472073010, "answer_id": 39133074, "question_id": 39133053, "link": "https://stackoverflow.com/questions/39133053/set-membership-in-python/39133074#39133074", "title": "Set membership in Python", "body": "<p>Pass tuples to your set constructor. If you would pass it like this:</p>\n\n<pre><code>x = ((1, 2), )\nz = set(x)\n1 in z       # False\n2 in z       # False\n(1, 2) in z  # True\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19107, "user_id": 216356, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dc105cdd75395154274f9da3d7612a9f?s=128&d=identicon&r=PG", "display_name": "Noctis Skytower", "link": "https://stackoverflow.com/users/216356/noctis-skytower"}, "is_accepted": true, "score": 1, "last_activity_date": 1472141892, "last_edit_date": 1472141892, "creation_date": 1472073016, "answer_id": 39133077, "question_id": 39133053, "link": "https://stackoverflow.com/questions/39133053/set-membership-in-python/39133077#39133077", "title": "Set membership in Python", "body": "<p>Try doing any of these instead:</p>\n\n<ul>\n<li><code>z = {x}</code></li>\n<li><code>z = set([x])</code></li>\n<li><code>z = set(); z.add(x)</code></li>\n<li><code>z = set(); z.update([x])</code></li>\n</ul>\n"}], "owner": {"reputation": 3389, "user_id": 3121975, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/27507c7b9958f8863c6640543baec276?s=128&d=identicon&r=PG&f=1", "display_name": "Woody1193", "link": "https://stackoverflow.com/users/3121975/woody1193"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 39133077, "answer_count": 2, "score": -1, "last_activity_date": 1472141892, "creation_date": 1472072890, "question_id": 39133053, "link": "https://stackoverflow.com/questions/39133053/set-membership-in-python", "title": "Set membership in Python", "body": "<p>I have a tuple x such that <code>x = (1, 2)</code> and I have a set z. Suppose I do this:</p>\n\n<pre><code>z = set(x)\n1 in z            # True\n2 in z            # True\nx in z            # False\n</code></pre>\n\n<p>Why does this happen and how can I add tuples to a set and preserve their properties as tuples?</p>\n"}, {"tags": ["python", "list", "sorting", "asymptotic-complexity"], "comments": [{"owner": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 3, "creation_date": 1472073109, "post_id": 39133033, "comment_id": 65611491, "body": "try <a href=\"http://www.grantjenks.com/docs/sortedcontainers/sortedlistwithkey.html\" rel=\"nofollow noreferrer\">sortedcontainers</a>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1472077319, "post_id": 39133033, "comment_id": 65613142, "body": "This <a href=\"http://code.activestate.com/recipes/577197-sortedcollection/\" rel=\"nofollow noreferrer\"><code>SortedCollection</code></a> reciple may be helpful (which uses <code>bisect</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "is_accepted": false, "score": 1, "last_activity_date": 1472074519, "creation_date": 1472074519, "answer_id": 39133388, "question_id": 39133033, "link": "https://stackoverflow.com/questions/39133033/how-to-keep-a-sorted-list-while-entering-data-into-it-in-python/39133388#39133388", "title": "How to keep a sorted list while entering data into it in Python", "body": "<p>It depends on the data structure you are using:</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Dynamic_array\" rel=\"nofollow\">Dynamic Array</a>\n\n<ul>\n<li>Finding the right index on a sorted array is <code>O(log n)</code> using a bisect</li>\n<li>Inserting is <code>O(n)</code> as you have to shift everything</li>\n<li>Total `O(n)</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Linked_list\" rel=\"nofollow\">Linked List</a>\n\n<ul>\n<li>Finding the right index on a sorted linked list requires browsing the list until you get there. (<code>O(n)</code>)</li>\n<li>Inserting is a simple operation, takes only <code>O(1)</code>.</li>\n<li>Total <code>O(n)</code></li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Self-balancing_binary_search_tree\" rel=\"nofollow\">Self-balancing BST</a>\n\n<ul>\n<li>Inserting while maintaining the order and the balance is <code>O(log n)</code> <em>amortized</em></li>\n<li>There are links to implementations in <a href=\"https://stackoverflow.com/questions/2298165/pythons-standard-library-is-there-a-module-for-balanced-binary-tree\">this question</a></li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Heap_(data_structure)\" rel=\"nofollow\">Heap</a>. Not exactly what you ask, but inserting into a heap is <code>O(log n)</code> or <code>Theta(1)</code> depending on the implementation you use. <a href=\"https://docs.python.org/3/library/heapq.html\" rel=\"nofollow\">heapq</a> in python is one implementation. You simple push items in your heap, and when you are done, you can get the sorted result in <code>O(n)</code>. Meanwhile you can access the root of the tree in <code>O(1)</code>, and the k smallest, sorted, in <code>O(k)</code>.</li>\n</ul>\n"}], "owner": {"reputation": 13, "user_id": 6373432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8980d326cab7b23fec779e142939f386?s=128&d=identicon&r=PG&f=1", "display_name": "djtama", "link": "https://stackoverflow.com/users/6373432/djtama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1472074519, "creation_date": 1472072808, "last_edit_date": 1472074145, "question_id": 39133033, "link": "https://stackoverflow.com/questions/39133033/how-to-keep-a-sorted-list-while-entering-data-into-it-in-python", "title": "How to keep a sorted list while entering data into it in Python", "body": "<p>I have a list of lists which need to be sorted based on the length of the lists. What I am doing now is first inserting the lists into the main list and then sort the main list giving <code>key=len</code>. This steps will take a total time of <code>n + nlg(n)</code>. Is it possible to maintain a sorted list while entering the data into the main list? Can it be done using bisect (or is there any better way) and if so will it perform better than<code>n + nlg(n)</code>? </p>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt4"], "owner": {"reputation": 249, "user_id": 2719859, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f492c4165b3f0da8d9d5431e567cd895?s=128&d=identicon&r=PG", "display_name": "Ross Wardrup", "link": "https://stackoverflow.com/users/2719859/ross-wardrup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472072720, "creation_date": 1472072720, "question_id": 39133009, "link": "https://stackoverflow.com/questions/39133009/qtablewidget-causing-main-window-to-crash-in-windows", "title": "QTableWidget causing main window to crash in Windows", "body": "<p>I'm using Python 3.4 and PyQt4. I've got a QTableWidget in my main window that I've found to the the reason the main window is crashing upon launch. I found this by removing the widget and testing. It runs fine on OS X and Linux.</p>\n\n<p>The program returns no traceback when it crashes. I've tried adding try/except all over the place, and around the entire code, but it still returns nothing. </p>\n\n<p>Anyway, I'm not doing anything special with it. The actual Python code for my program that is relevant to the widget launching is: </p>\n\n<pre><code>class MainWindow(GUI.QtGui.QMainWindow, GUI.Ui_MainWindow):\n    \"\"\"\n    Contains the main window code\n    \"\"\"\n\n    def __init__(self, data_path, settings_path, test_mode):\n        \"\"\"\n        Initialize the GUI stuff\n        \"\"\"\n        super(MainWindow, self).__init__()\n\n        if not test_mode:\n            GUI.QtGui.QMainWindow.__init__(self)\n            GUI.Ui_MainWindow.__init__(self)\n            self.setupUi(self)\n</code></pre>\n\n<p>I could post the actual GUI code in Python but it's very long. I'm not doing anything complicated with the table at all, just displaying some data via SQLAlchemy. Is there anything else I can check?</p>\n"}, {"tags": ["python", "pyqt", "pyqt5", "qthread", "qtimer"], "answers": [{"tags": [], "owner": {"reputation": 570, "user_id": 2461129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0c2f2c4b3c6da3922673f04e4272206?s=128&d=identicon&r=PG", "display_name": "camelBack", "link": "https://stackoverflow.com/users/2461129/camelback"}, "is_accepted": true, "score": 0, "last_activity_date": 1472151469, "creation_date": 1472151469, "answer_id": 39152844, "question_id": 39133008, "link": "https://stackoverflow.com/questions/39133008/qthread-fails-to-use-a-qtimer-properly/39152844#39152844", "title": "QThread fails to use a QTimer properly", "body": "<p>I resolved this by not using a timer.\nWhat I ended up doing was:</p>\n\n<pre><code>class SomeClass(QtCore.QObject):\n  ...\n  DATA_EXPIRE_THRESHOLD = 3\n  ...\n  def __init__(self):\n    ...\n    self._counter = 0 # Just for debugging\n    self._dataExpireTime = None\n    self._data = None\n\n  def setNewData(self, new_data):\n    self._counter += 1\n    if self._dataExpireTime is None or self._isExpired():\n      print \"self._isExpired(): [%s], counter: [%s]\" % (self._isExpired(), self.counter)\n      self._data = new_data\n      self._dataExpireTime = time.time() + self.DATA_EXPIRE_THRESHOLD\n\n  def _isExpired(self):\n    return time.time() &gt;= self._dataExpireTime \n</code></pre>\n\n<p>so setting the threshold to three seconds, the output is:</p>\n\n<pre><code>self._isExpired(): [True], counter: [1] \nself._isExpired(): [True], counter: [2]\nself._isExpired(): [True], counter: [6]\nself._isExpired(): [True], counter: [15]\nself._isExpired(): [True], counter: [17]\nself._isExpired(): [True], counter: [18]\n</code></pre>\n\n<p>I was trying to use a mutex, but it had a similar issue to the timer.\nI would still appreciate an explanation, or advice to dealing with such issues.</p>\n"}], "owner": {"reputation": 570, "user_id": 2461129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0c2f2c4b3c6da3922673f04e4272206?s=128&d=identicon&r=PG", "display_name": "camelBack", "link": "https://stackoverflow.com/users/2461129/camelback"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 39152844, "answer_count": 1, "score": 0, "last_activity_date": 1559909660, "creation_date": 1472072718, "last_edit_date": 1559909660, "question_id": 39133008, "link": "https://stackoverflow.com/questions/39133008/qthread-fails-to-use-a-qtimer-properly", "title": "QThread fails to use a QTimer properly", "body": "<p>In my application, I have a custom QThread responsible for communicating with the backend, and call a utility function with a url and data from the run() method:</p>\n\n<pre><code>class SomeThread(QtCore.QThread):\n  def __init__(self, parent=None...):\n    QtCore.QThread.__init__(self, parent)\n    ...\n  def run(self):\n    final_desired_content = some_utility_method(url, data ...)\n    # emitting success with final_desired_content\n</code></pre>\n\n<p>In the utility method(s), I'm making an http POST, getting a response back, parsing the response, and eventually passing the desired information to the above thread variable final_desired_content. Before I pass the information back, I am parsing some more information which I don't want to return, and would like to store in a SomeClass singleton instance:</p>\n\n<pre><code>def some_utility_method( ... ):\n  ...\n  return response_parsing(response)\n\ndef response_parsing(response):\n  ...\n  some_file.SomeClass.instance().setNewData(otherData)\n  return mainParsedData\n</code></pre>\n\n<p>Because there may be multiple threads contacting the BE within a few seconds (specifically during the application start) I would like to prevent the writing of data before  has passed (it is ok that data we ignore is thrown away):</p>\n\n<pre><code>class SomeClass(QtCore.QObject):\n\n  _instance = None\n\n  @classmethod\n  def instance(klass):\n    if not klass._instance:\n      klass._instance = SomeClass()\n    return klass._instance\n\n  def __init__(self):\n    QtCore.QObject.__init__(self)\n    self._recentlyUpdatedTimer = QtCore.QTimer()\n    self._recentlyUpdatedTimer.setSingleShot(True)\n    self._recentlyUpdatedTimer.timeout.connect(self._setOkToUpdateCB)\n    self._storedData = None\n    self._allowUpdate = True\n\n  def _setOkToUpdateCB(self):\n    self._allowUpdate = True\n\n  def setNewData(self, newData):\n    if self._allowUpdate:\n      print \"UPDATING!\"\n      self._allowUpdate = False\n      self._storedData = newData\n      self._recentlyUpdatedTimer.start(&lt;some_time&gt;)\n    else:\n      print \"BLOCKED!\" # ok to ignore newData\n</code></pre>\n\n<p>The problem is that this successfully updates once, then after the second update succeeds, I am getting this error: QObject::startTimer: Timers cannot be started from another thread</p>\n\n<p>From what I know and read about threads, the run() in the QThread is another thread, that might not know what has been happening in the main thread. \nDebugging, it appears that the timer is still running, even though it is set to singleShot.</p>\n\n<p>I will appreciate any suggestions :)</p>\n"}, {"tags": ["python", "web-services", "queue"], "answers": [{"comments": [{"owner": {"reputation": 241, "user_id": 3889320, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cc999e4ead1d8f02ea1ad4b27b0d5bdc?s=128&d=identicon&r=PG&f=1", "display_name": "Thisisstackoverflow", "link": "https://stackoverflow.com/users/3889320/thisisstackoverflow"}, "edited": false, "score": 0, "creation_date": 1472076241, "post_id": 39133126, "comment_id": 65612804, "body": "Thanks for the info Matt. One of our interns surprised me and implemented <a href=\"https://devcenter.heroku.com/articles/python-rq\" rel=\"nofollow noreferrer\">rqueue</a> to solve this. Out of curiosities sake, did I even ask the question correctly? I&#39;ll be checking your links out later."}, {"owner": {"reputation": 176, "user_id": 1768682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6745281c82ad0e7a243883dba1219346?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1768682/matt"}, "reply_to_user": {"reputation": 241, "user_id": 3889320, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cc999e4ead1d8f02ea1ad4b27b0d5bdc?s=128&d=identicon&r=PG&f=1", "display_name": "Thisisstackoverflow", "link": "https://stackoverflow.com/users/3889320/thisisstackoverflow"}, "edited": false, "score": 0, "creation_date": 1472077102, "post_id": 39133126, "comment_id": 65613075, "body": "Your question dropped the right amount of keywords/breadcrumbs to figure out what you were trying to get at. The problem of  &quot;something on a webpage that takes minutes and is spammable&quot; is unfortunately not uncommon; putting a queuing system behind it and the &quot;worker&quot; is a common solution."}], "tags": [], "owner": {"reputation": 176, "user_id": 1768682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6745281c82ad0e7a243883dba1219346?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1768682/matt"}, "is_accepted": true, "score": 3, "last_activity_date": 1472073209, "creation_date": 1472073209, "answer_id": 39133126, "question_id": 39132981, "link": "https://stackoverflow.com/questions/39132981/how-to-implement-a-queue-system-that-is-shared-between-separate-python-processes/39133126#39133126", "title": "How to implement a queue system that is shared between separate python processes?", "body": "<p>Welcome to the wild world of distributing your computation!</p>\n\n<p>Implementing your own queuing system (even in Python) can lead to a world of hurt. A very popular, enterprise-grade and open source message queuing application is RabbitMQ. They have a <a href=\"http://www.rabbitmq.com/tutorials/tutorial-one-python.html\" rel=\"nofollow\">great starter tutorial</a> that talks about ways you can begin configuring it and examples of its uses.</p>\n\n<p>Additionally there is a Python task queue library called Celery that consequently uses RabbitMQ under the hood. It is a bit smaller in focus and capability but offers easy of use and a faster start up time as a tradeoff. One thing that it does not trade-off is RabbitMQs <em>consistency</em> which as you delve deeper into queuing and distributed systems, you will learn is extremely important. There getting started docs can be found <a href=\"http://docs.celeryproject.org/en/latest/getting-started/index.html\" rel=\"nofollow\">here</a></p>\n\n<p><strong>Links</strong>:</p>\n\n<ul>\n<li><a href=\"http://celeryproject.org\" rel=\"nofollow\">http://celeryproject.org</a></li>\n<li><a href=\"http://www.rabbitmq.com\" rel=\"nofollow\">http://www.rabbitmq.com</a></li>\n</ul>\n"}], "owner": {"reputation": 241, "user_id": 3889320, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cc999e4ead1d8f02ea1ad4b27b0d5bdc?s=128&d=identicon&r=PG&f=1", "display_name": "Thisisstackoverflow", "link": "https://stackoverflow.com/users/3889320/thisisstackoverflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "accepted_answer_id": 39133126, "answer_count": 1, "score": 1, "last_activity_date": 1472073209, "creation_date": 1472072584, "question_id": 39132981, "link": "https://stackoverflow.com/questions/39132981/how-to-implement-a-queue-system-that-is-shared-between-separate-python-processes", "title": "How to implement a queue system that is shared between separate python processes?", "body": "<p>We have a python script that is kicked off after a user enters some data in a web form. The entire script takes 10-20 minutes to complete. A user can technically kick off 10 of these within 10 seconds if they so chose. If this happens, we'll have 10 of the same python scripts running at once and causing each other to fail due to various things the script is processing.</p>\n\n<p>What is the go-to way to code an overarching queueing system so that these scripts know of each other and will wait in line to execute? We are people who usually write one off scripts but need to have this constant queueing system in place for the web form... sadly we aren't developers or have that background.</p>\n\n<p>We're also open to different ways of architecting the solution in general. We went into this hacking it together. We've never made a process/service broker/worker but would that might make sense here?</p>\n\n<p>How do people normally do this stuff?</p>\n"}, {"tags": ["python", "subprocess"], "comments": [{"owner": {"reputation": 647, "user_id": 4328122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4VBJ.png?s=128&g=1", "display_name": "Lei Shi", "link": "https://stackoverflow.com/users/4328122/lei-shi"}, "edited": false, "score": 0, "creation_date": 1472100716, "post_id": 39132961, "comment_id": 65618491, "body": "How do you tell the times? by some dump from test.py? It seems that the code is too simple to be not working?"}], "owner": {"reputation": 1155, "user_id": 3050852, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/92ad71952fc8d28ec1b68a42ec90c660?s=128&d=identicon&r=PG&f=1", "display_name": "confused", "link": "https://stackoverflow.com/users/3050852/confused"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 10, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1472072501, "creation_date": 1472072501, "question_id": 39132961, "link": "https://stackoverflow.com/questions/39132961/python-subprocess-doesnt-run-the-number-of-times-indicates", "title": "Python subprocess doesn&#39;t run the number of times indicates", "body": "<pre><code>#!/usr/bin/python3.4\nimport sys\nimport subprocess\nprocs=[]\nfor i in range(9):\n    proc=subprocess.Popen(['python3.4','test.py'])\n    procs.append(proc)\n\nfor proc in procs:\n    proc.wait()\n</code></pre>\n\n<p>Sometimes it runs the code 9 times other times it may only run the code 7 times, maybe 8, maybe 6...you know one time to the next how many copies of the program to expect it to run.  It doesn't always run the associated program the same number of times everytime.  How do I correct this so it always runs as many times as desired?</p>\n"}, {"tags": ["python", "cron", "crontab"], "comments": [{"owner": {"reputation": 9884, "user_id": 690204, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/92091e0d874221db9e1c8cc90c47e43e?s=128&d=identicon&r=PG", "display_name": "alonisser", "link": "https://stackoverflow.com/users/690204/alonisser"}, "edited": false, "score": 0, "creation_date": 1474710681, "post_id": 39132911, "comment_id": 66650364, "body": "Does it have write permission to /dir/with/the/logfile.log What does syslog show in that time?"}], "owner": {"reputation": 649, "user_id": 3840102, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5ca6aec62434367a1cc23d39efecaefb?s=128&d=identicon&r=PG&f=1", "display_name": "wildthing", "link": "https://stackoverflow.com/users/3840102/wildthing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2733, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472202775, "creation_date": 1472072304, "last_edit_date": 1492086162, "question_id": 39132911, "link": "https://stackoverflow.com/questions/39132911/crontab-no-mta-installed-discarding-output", "title": "Crontab &#39;No MTA installed, discarding output&#39;", "body": "<p>Crontab does not write into the specified logfile. Is there any syntax error in my command?</p>\n\n<pre><code>*/5 * * * * (cd /some/dir &amp;&amp; python -m some.python.module)  &gt;&gt; /dir/with/the/logfile.log 2&gt;&amp;1\n</code></pre>\n\n<p>I used <a href=\"https://askubuntu.com/questions/222512/cron-info-no-mta-installed-discarding-output-error-in-the-syslog\">this</a> as reference where </p>\n\n<pre><code>0 3 * * * (cmd1;  cmd2)  &gt;&gt; /some/log/file 2&gt;&amp;1\n</code></pre>\n\n<p>is suggested. When I execute the two commands by hand they work perfectly fine and I can see the output on <code>stdout</code>.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 6754285, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70431543134c84959736ea64a820a11a?s=128&d=identicon&r=PG&f=1", "display_name": "cars", "link": "https://stackoverflow.com/users/6754285/cars"}, "edited": false, "score": 0, "creation_date": 1472073819, "post_id": 39133144, "comment_id": 65611822, "body": "How would I move the bottom of the triangle a bit higher. Suppose when you write size: 3, the gap from the bottom is to big,"}, {"owner": {"reputation": 7576, "user_id": 1603840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJhqE.jpg?s=128&g=1", "display_name": "Karin", "link": "https://stackoverflow.com/users/1603840/karin"}, "reply_to_user": {"reputation": 318, "user_id": 6754285, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70431543134c84959736ea64a820a11a?s=128&d=identicon&r=PG&f=1", "display_name": "cars", "link": "https://stackoverflow.com/users/6754285/cars"}, "edited": false, "score": 0, "creation_date": 1472073960, "post_id": 39133144, "comment_id": 65611884, "body": "You would have to use another character that is a higher line than the underscore. One option is the overline character: <code>\u203e</code>."}], "tags": [], "owner": {"reputation": 7576, "user_id": 1603840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJhqE.jpg?s=128&g=1", "display_name": "Karin", "link": "https://stackoverflow.com/users/1603840/karin"}, "is_accepted": false, "score": 1, "last_activity_date": 1472073292, "creation_date": 1472073292, "answer_id": 39133144, "question_id": 39132905, "link": "https://stackoverflow.com/questions/39132905/changing-shapes-pro/39133144#39133144", "title": "changing shapes (pro)", "body": "<p>Here's something I think will work. One key thing is that you aren't drawing the left side for all rows after the first, nor account for additional left space needed to align your triangle.</p>\n\n<pre><code>steps = int(input('Size: '))\n\nfor i in range(steps):\n    left_space = steps - i - 1\n    inner_space = i\n    print('{}/{}\\\\'.format(' ' * left_space, ' ' * inner_space * 2))\nprint(steps * '__')\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>Size: 2\n /\\\n/  \\\n____\n\nSize: 3\n  /\\\n /  \\\n/    \\\n______\n\nSize: 4\n   /\\\n  /  \\\n /    \\\n/      \\\n________\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 318, "user_id": 6754285, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70431543134c84959736ea64a820a11a?s=128&d=identicon&r=PG&f=1", "display_name": "cars", "link": "https://stackoverflow.com/users/6754285/cars"}, "edited": false, "score": 0, "creation_date": 1472074031, "post_id": 39133205, "comment_id": 65611919, "body": "wouldnt you need to do steps=int(input"}, {"owner": {"reputation": 1031, "user_id": 6229429, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9d6f8e127ab5e28cf21206e01dc1b81?s=128&d=identicon&r=PG&f=1", "display_name": "Annapoornima Koppad", "link": "https://stackoverflow.com/users/6229429/annapoornima-koppad"}, "reply_to_user": {"reputation": 318, "user_id": 6754285, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70431543134c84959736ea64a820a11a?s=128&d=identicon&r=PG&f=1", "display_name": "cars", "link": "https://stackoverflow.com/users/6754285/cars"}, "edited": false, "score": 0, "creation_date": 1472074089, "post_id": 39133205, "comment_id": 65611942, "body": "no, you wouldn&#39;t. When you have only input, that cares of the number, but if you have raw_input, then you will need int(raw_input())."}], "tags": [], "owner": {"reputation": 1031, "user_id": 6229429, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9d6f8e127ab5e28cf21206e01dc1b81?s=128&d=identicon&r=PG&f=1", "display_name": "Annapoornima Koppad", "link": "https://stackoverflow.com/users/6229429/annapoornima-koppad"}, "is_accepted": true, "score": 2, "last_activity_date": 1472074218, "last_edit_date": 1472074218, "creation_date": 1472073625, "answer_id": 39133205, "question_id": 39132905, "link": "https://stackoverflow.com/questions/39132905/changing-shapes-pro/39133205#39133205", "title": "changing shapes (pro)", "body": "<p>Here is my code:</p>\n\n<pre><code>steps=input(\"Size: \")\n\nfor i in range(steps):\n    j=steps-i-1\n    print ' '*j+\"/\"+' '*i+' '*i+'\\\\'\nprint '-'*(steps*2+1)\n</code></pre>\n\n<p>Which is the same thing as below:</p>\n\n<pre><code>steps=input(\"Size: \")\n\nfor i in range(steps):\n    j=steps-i-1\n    print ' '*j+\"/\"+' '*(i*2)+'\\\\'\nprint '-'*(steps*2+1)\n</code></pre>\n"}], "owner": {"reputation": 318, "user_id": 6754285, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70431543134c84959736ea64a820a11a?s=128&d=identicon&r=PG&f=1", "display_name": "cars", "link": "https://stackoverflow.com/users/6754285/cars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 39133205, "answer_count": 2, "score": 1, "last_activity_date": 1472102568, "creation_date": 1472072279, "last_edit_date": 1472102568, "question_id": 39132905, "link": "https://stackoverflow.com/questions/39132905/changing-shapes-pro", "title": "changing shapes (pro)", "body": "<p>Hi I am new to programming and I am trying to write a code that will gather information from the input and apply it to the triangle.</p>\n\n<p>This is my code so far</p>\n\n<pre><code>steps = int(input(\"Size: \"))\n\nprint('/\\\\')\nfor i in range(steps - 1):\n\n    print(\" \"*i+\"  \\\\\")\nprint(steps * \"__\" )\n</code></pre>\n\n<p>suppose if the input was three then my program would look like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/SCa6f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SCa6f.png\" alt=\"![enter image description here\"></a></p>\n\n<p>when I want the output to look like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LBRbo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LBRbo.png\" alt=\"![enter image description here\"></a></p>\n"}, {"tags": ["python", "pandas", "k-means"], "comments": [{"owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "edited": false, "score": 1, "creation_date": 1472072408, "post_id": 39132880, "comment_id": 65611163, "body": "You should post this question on <a href=\"http://stats.stackexchange.com\">CrossValidated</a>, since this is not really a question about programming but about how to do clustering in general. Of course, do a search beforehand --- I&#39;m pretty sure this has been asked before."}, {"owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "edited": false, "score": 0, "creation_date": 1472072752, "post_id": 39132880, "comment_id": 65611327, "body": "Funnily enough, a search on CrossValidated yields some posts that end up referring to StackOverflow --- <a href=\"http://stackoverflow.com/questions/1793532/how-do-i-determine-k-when-using-k-means-clustering\">this answer</a> in particular."}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 2, "creation_date": 1472072841, "post_id": 39132880, "comment_id": 65611378, "body": "You can ask on <a href=\"http://datascience.stackexchange.com/\">Data Science SE</a> too. Although there are some approaches to determine the optimal number of <i>k</i>, they all have their own criteria and those criteria may not match your needs. In practice, people generally try different k values and judge the results themselves."}, {"owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1472073489, "post_id": 39132880, "comment_id": 65611660, "body": "@ayhan: I didn&#39;t even know about the Data Science SE... Thanks for the pointer!"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "reply_to_user": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "edited": false, "score": 0, "creation_date": 1472073560, "post_id": 39132880, "comment_id": 65611698, "body": "@AlbertoGarcia-Raboso It is still in beta but has very nice discussions."}], "answers": [{"comments": [{"owner": {"reputation": 8790, "user_id": 668624, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/qMFcJ.jpg?s=128&g=1", "display_name": "codingknob", "link": "https://stackoverflow.com/users/668624/codingknob"}, "edited": false, "score": 0, "creation_date": 1472075632, "post_id": 39133382, "comment_id": 65612593, "body": "what I mean by &quot;further processing&quot; is based on the identified clusters I want to make a selection algorithm that enforces a limit on the number of cities that can be selected from any cluster."}, {"owner": {"reputation": 1016, "user_id": 3856624, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b18b401d3a489632aa8eb16cb9eb04cf?s=128&d=identicon&r=PG&f=1", "display_name": "ivan7707", "link": "https://stackoverflow.com/users/3856624/ivan7707"}, "reply_to_user": {"reputation": 8790, "user_id": 668624, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/qMFcJ.jpg?s=128&g=1", "display_name": "codingknob", "link": "https://stackoverflow.com/users/668624/codingknob"}, "edited": false, "score": 0, "creation_date": 1472081157, "post_id": 39133382, "comment_id": 65614216, "body": "@codingknob follow what I outlined above to get an initial clustering.  Then ask specific questions."}], "tags": [], "owner": {"reputation": 1016, "user_id": 3856624, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b18b401d3a489632aa8eb16cb9eb04cf?s=128&d=identicon&r=PG&f=1", "display_name": "ivan7707", "link": "https://stackoverflow.com/users/3856624/ivan7707"}, "is_accepted": false, "score": 2, "last_activity_date": 1472075470, "last_edit_date": 1472075470, "creation_date": 1472074475, "answer_id": 39133382, "question_id": 39132880, "link": "https://stackoverflow.com/questions/39132880/k-means-x-means-or-other-clustering-in-pandas-python/39133382#39133382", "title": "k-means / x-means (or other?) clustering in pandas/python", "body": "<p>I don't know what you mean by \"for further processing\" but here is a super simple explanation to get you started.</p>\n\n<p>1) get the data into a dataframe (pandas) with the variables (x1-x23) across the top (column headers) and each row representing a different city (so that your df.head() shows x1-x23 for column headers). </p>\n\n<p>2) standardize the variables</p>\n\n<p>3) decide whether to use PCA before using Kmeans</p>\n\n<p>4) use kmeans- <a href=\"http://scikit-learn.org/stable/modules/clustering.html#k-means\" rel=\"nofollow\">scikit learn makes this part easy</a> check this too <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html\" rel=\"nofollow\">and this</a> </p>\n\n<p>5) try this <a href=\"http://scikit-learn.org/stable/auto_examples/cluster/plot_kmeans_silhouette_analysis.html\" rel=\"nofollow\">silhouette analysis</a> for choosing the number of clusters to get a start  </p>\n\n<p>references that are good:<br>\n<a href=\"http://statweb.stanford.edu/~tibs/ElemStatLearn/\" rel=\"nofollow\">Hastie and Tibshirani book</a></p>\n\n<p><a href=\"https://lagunita.stanford.edu/courses/HumanitiesSciences/StatLearning/Winter2016/about\" rel=\"nofollow\">Hastie and Tibshirani free course, but use R</a></p>\n\n<p>Udacity, Coursera, EDX courses on machine learning</p>\n\n<p>EDIT: forgot to mention, don't use your whole dataset while you are testing out the processes.  Use a much smaller portion of the data (e.g. 100K cities) so that the processing time is much less until you get everything right.</p>\n"}], "owner": {"reputation": 8790, "user_id": 668624, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/qMFcJ.jpg?s=128&g=1", "display_name": "codingknob", "link": "https://stackoverflow.com/users/668624/codingknob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4642, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1472084345, "creation_date": 1472072177, "last_edit_date": 1495542788, "question_id": 39132880, "link": "https://stackoverflow.com/questions/39132880/k-means-x-means-or-other-clustering-in-pandas-python", "title": "k-means / x-means (or other?) clustering in pandas/python", "body": "<p>I have a dataframe that can be reconstructed from the dict below. </p>\n\n<p>The dataframe represents <code>23 statistics (X1-X23)</code> for various cities around the world. Each city occupies a single row in the dataframe with the 23 statistics as separate columns.  </p>\n\n<p>My actual df has <code>~6 million</code> cities so its a large dataframe.</p>\n\n<p>What I want to do is:</p>\n\n<p><strong>Step#1</strong>: Identify clusters of cities based on the <code>23 statistics (X1-X23)</code>. </p>\n\n<p><strong>Step#2</strong>: Given the identified clusters in <strong>Step#1</strong>, I want to construct a portfolio of cities such that:</p>\n\n<p><strong>a)</strong> number of cities selected from any given cluster is limited (limit may be different for each cluster)</p>\n\n<p><strong>b)</strong> avoid certain clusters altogether</p>\n\n<p><strong>c)</strong> apply additional criteria to the portfolio selection such that the correlation of poor weather between cities in the portfolio is minimized and correlation of good weather between cities is maximized. </p>\n\n<p>My problem set is such that the <code>K for a K-means algo</code> would be quite large but I'm not sure what that value is. </p>\n\n<p>I've been reading the following on clustering:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15376075/cluster-analysis-in-r-determine-the-optimal-number-of-clusters/15376462#15376462\">Cluster analysis in R: determine the optimal number of clusters</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/1793532/how-do-i-determine-k-when-using-k-means-clustering\">How do I determine k when using k-means clustering?</a></p>\n\n<p><a href=\"http://www.aladdin.cs.cmu.edu/papers/pdfs/y2000/xmeans.pdf\" rel=\"nofollow noreferrer\">X-means: Extending K-means...</a></p>\n\n<p>However, a lot of the literature is foreign to me and will take me months to understand. I'm not a data scientist and don't have the time to take a course on machine learning.</p>\n\n<p>At this point I have the dataframe and am now twiddling my thumbs. </p>\n\n<p>I'd be grateful if you can help me move forward in actually implementing <code>Steps#1 to Steps#2</code> in pandas with an example dataset.  </p>\n\n<p>The dict below can be reconstructed to a dataframe by <code>pd.DataFrame(x)</code> where x is the dict below:</p>\n\n<p><strong>Output of df.head().to_dict('rec'):</strong></p>\n\n<pre><code>[{'X1': 123.40000000000001,\n  'X2': -67.900000000000006,\n  'X3': 172.0,\n  'X4': -2507.1999999999998,\n  'X5': 80.0,\n  'X6': 1692.0999999999999,\n  'X7': 13.5,\n  'X8': 136.30000000000001,\n  'X9': -187.09999999999999,\n  'X10': 50.0,\n  'X11': -822.0,\n  'X12': 13.0,\n  'X13': 260.80000000000001,\n  'X14': 14084.0,\n  'X15': -944.89999999999998,\n  'X16': 224.59999999999999,\n  'X17': -23.100000000000001,\n  'X18': -16.199999999999999,\n  'X19': 1825.9000000000001,\n  'X20': 710.70000000000005,\n  'X21': -16.199999999999999,\n  'X22': 1825.9000000000001,\n  'X23': 66.0,\n  'city': 'SFO'},\n {'X1': -359.69999999999999,\n  'X2': -84.299999999999997,\n  'X3': 86.0,\n  'X4': -1894.4000000000001,\n  'X5': 166.0,\n  'X6': 882.39999999999998,\n  'X7': -19.0,\n  'X8': -133.30000000000001,\n  'X9': -84.799999999999997,\n  'X10': 27.0,\n  'X11': -587.29999999999995,\n  'X12': 36.0,\n  'X13': 332.89999999999998,\n  'X14': 825.20000000000005,\n  'X15': -3182.5,\n  'X16': -210.80000000000001,\n  'X17': 87.400000000000006,\n  'X18': -443.69999999999999,\n  'X19': -3182.5,\n  'X20': 51.899999999999999,\n  'X21': -443.69999999999999,\n  'X22': -722.89999999999998,\n  'X23': -3182.5,\n  'city': 'YYZ'},\n {'X1': -24.800000000000001,\n  'X2': -34.299999999999997,\n  'X3': 166.0,\n  'X4': -2352.6999999999998,\n  'X5': 87.0,\n  'X6': 1941.3,\n  'X7': 56.600000000000001,\n  'X8': 120.2,\n  'X9': -65.400000000000006,\n  'X10': 44.0,\n  'X11': -610.89999999999998,\n  'X12': 19.0,\n  'X13': 414.80000000000001,\n  'X14': 4891.1999999999998,\n  'X15': -2396.0999999999999,\n  'X16': 181.59999999999999,\n  'X17': 177.0,\n  'X18': -92.900000000000006,\n  'X19': -2396.0999999999999,\n  'X20': 805.60000000000002,\n  'X21': -92.900000000000006,\n  'X22': -379.69999999999999,\n  'X23': -2396.0999999999999,\n  'city': 'DFW'},\n {'X1': -21.300000000000001,\n  'X2': -47.399999999999999,\n  'X3': 166.0,\n  'X4': -2405.5999999999999,\n  'X5': 85.0,\n  'X6': 1836.8,\n  'X7': 55.700000000000003,\n  'X8': 130.80000000000001,\n  'X9': -131.09999999999999,\n  'X10': 47.0,\n  'X11': -690.60000000000002,\n  'X12': 16.0,\n  'X13': 297.30000000000001,\n  'X14': 5163.3999999999996,\n  'X15': -2446.4000000000001,\n  'X16': 182.30000000000001,\n  'X17': 83.599999999999994,\n  'X18': -36.0,\n  'X19': -2446.4000000000001,\n  'X20': 771.29999999999995,\n  'X21': -36.0,\n  'X22': -378.30000000000001,\n  'X23': -2446.4000000000001,\n  'city': 'PDX'},\n {'X1': -22.399999999999999,\n  'X2': -9.0,\n  'X3': 167.0,\n  'X4': -2405.5999999999999,\n  'X5': 86.0,\n  'X6': 2297.9000000000001,\n  'X7': 41.0,\n  'X8': 109.7,\n  'X9': 64.900000000000006,\n  'X10': 42.0,\n  'X11': -558.29999999999995,\n  'X12': 21.0,\n  'X13': 753.10000000000002,\n  'X14': 5979.6999999999998,\n  'X15': -2370.1999999999998,\n  'X16': 187.40000000000001,\n  'X17': 373.10000000000002,\n  'X18': -224.30000000000001,\n  'X19': -2370.1999999999998,\n  'X20': 759.5,\n  'X21': -224.30000000000001,\n  'X22': -384.39999999999998,\n  'X23': -2370.1999999999998,\n  'city': 'EWR'}]\n</code></pre>\n"}, {"tags": ["python", "image", "python-imaging-library"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 2, "creation_date": 1472072312, "post_id": 39132878, "comment_id": 65611128, "body": "jpeg-files can contain a orientation."}], "answers": [{"comments": [{"owner": {"reputation": 1663, "user_id": 916672, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/56c85230b3c9262e003bade8156e48be?s=128&d=identicon&r=PG", "display_name": "Kevin Meier", "link": "https://stackoverflow.com/users/916672/kevin-meier"}, "edited": false, "score": 0, "creation_date": 1472074900, "post_id": 39132990, "comment_id": 65612284, "body": "Thank you for this hint:)!"}], "tags": [], "owner": {"reputation": 45749, "user_id": 21974, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/61d62f97373c96dea8ad1e774b127cdd?s=128&d=identicon&r=PG", "display_name": "ypnos", "link": "https://stackoverflow.com/users/21974/ypnos"}, "is_accepted": true, "score": 2, "last_activity_date": 1472072620, "creation_date": 1472072620, "answer_id": 39132990, "question_id": 39132878, "link": "https://stackoverflow.com/questions/39132878/python-image-library-image-is-turned-by-90-degree/39132990#39132990", "title": "Python Image Library: Image is turned by 90 degree?", "body": "<p>When you do a portrait picture with your smartphone and a landscape picture, both will be done with the same coordinate system, that is, relative to the orientation of the imaging sensor in your phone.</p>\n\n<p>However, the phone's gyroscope detects the rotation of the device, so it \"knows\" whether it is a portrait or landscape picture. This information is saved in the JPEG's metadata.</p>\n\n<p>Software to display images typically evaluates this information to rotate the picture accordingly. In image editing software, you should typically be asked if you want to apply the rotation to the picture (e.g. The Gimp does this).</p>\n\n<p>However, image processing libraries typically completely ignore this information. They only access the image pixels, and they access them in the order they are stored. As you can see there is nothing wrong with python imaging, however it would be interested if there is an interface to also read this information, so you can deal with it accordingly.</p>\n"}], "owner": {"reputation": 1663, "user_id": 916672, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/56c85230b3c9262e003bade8156e48be?s=128&d=identicon&r=PG", "display_name": "Kevin Meier", "link": "https://stackoverflow.com/users/916672/kevin-meier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 658, "favorite_count": 1, "accepted_answer_id": 39132990, "answer_count": 1, "score": 3, "last_activity_date": 1472074002, "creation_date": 1472072159, "last_edit_date": 1495542180, "question_id": 39132878, "link": "https://stackoverflow.com/questions/39132878/python-image-library-image-is-turned-by-90-degree", "title": "Python Image Library: Image is turned by 90 degree?", "body": "<p>I have an image on my computer which has the dimensions width=1932 and height=2576. It was made with a smartphone and uses the \"jpeg\"-format.</p>\n\n<p>If i open the image with any tool i like it is shown correctly.</p>\n\n<p>I tried to open it with python:</p>\n\n<pre><code>from PIL import Image\nimg_in = Image.open(input_image_path)\n</code></pre>\n\n<p>Unfortunately in python it always has the dimensions width=2576 and height=1932. It this would always happen, i could fix it, but it seems only to happen for some of my images. The images are always rotated clockwise.</p>\n\n<p>Do i use the the open-function wrong or how could i fix this?</p>\n\n<p>Thank you very much.</p>\n\n<p>Regards</p>\n\n<p>Kevin</p>\n\n<p>-- Edit --</p>\n\n<p>Solution:</p>\n\n<p>1) Please read the accepted answer</p>\n\n<p>2) The following code may be used to avoid this problem: <a href=\"https://stackoverflow.com/a/11543365/916672\">https://stackoverflow.com/a/11543365/916672</a></p>\n"}, {"tags": ["python", "break"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 5, "creation_date": 1472072133, "post_id": 39132847, "comment_id": 65611046, "body": "Your indentation is messed up."}, {"owner": {"reputation": 3495, "user_id": 6282011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b77715e47dc5e168ba0f573529099a?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Tomas", "link": "https://stackoverflow.com/users/6282011/juan-tomas"}, "edited": false, "score": 1, "creation_date": 1472072350, "post_id": 39132847, "comment_id": 65611145, "body": "<i>This is madness...</i>   This is PYTHON!"}], "answers": [{"comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1472073523, "post_id": 39133148, "comment_id": 65611682, "body": "Indentation <i>is</i> the problem, but <i>this part</i> is fine (or irrelevant)."}], "tags": [], "owner": {"reputation": 156, "user_id": 6596077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/163290b321671a258dace685f3fe8c20?s=128&d=identicon&r=PG&f=1", "display_name": "peaches", "link": "https://stackoverflow.com/users/6596077/peaches"}, "is_accepted": false, "score": 0, "last_activity_date": 1472073300, "creation_date": 1472073300, "answer_id": 39133148, "question_id": 39132847, "link": "https://stackoverflow.com/questions/39132847/why-am-i-getting-a-break-outside-loop-error-for-this-python-program-but-not-for/39133148#39133148", "title": "Why am I getting a break outside loop error for this python program but not for a similar program?", "body": "<p>Indentation is strict in Python. This:</p>\n\n<pre><code>if topping == \"quit\":\n break\n</code></pre>\n\n<p>should be this:</p>\n\n<pre><code>if topping == \"quit\":\n    break\n</code></pre>\n\n<p>Very subtle, but very important in Python.</p>\n"}, {"tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1472074144, "last_edit_date": 1495535624, "creation_date": 1472074144, "answer_id": 39133315, "question_id": 39132847, "link": "https://stackoverflow.com/questions/39132847/why-am-i-getting-a-break-outside-loop-error-for-this-python-program-but-not-for/39133315#39133315", "title": "Why am I getting a break outside loop error for this python program but not for a similar program?", "body": "<p>In Python, the scope of loops and <code>if/else</code> blocks is determined solely by indentation, so if your indentation is messed up -- as it seems to be the case in your code -- it will produce strange results, or not compile at all if certain elements like <code>break</code> are used in an unexpected context.</p>\n\n<p>Your code, in both examples, should be indented like this:</p>\n\n<pre><code>while True:  \n    city = raw_input(prompt)\n\n    if city == 'quit':\n        break\n    else:\n        print \"I'd love to go to \" + city.title() + \"!\"\n</code></pre>\n\n<p>Note how <code>city</code>, <code>if</code>, and <code>else</code> are all (a) further indented than <code>while</code>, and (b) indented exactly the same amount. <em>How</em> you indent is not too important, but good practice dictates <a href=\"https://stackoverflow.com/q/119562/1639625\">4 spaces per level of indentation (although some prefer 1 tab)</a>. Also, never mix tabs and spaces, or your indentation may <em>look</em> correct in your editor, but in reality be totally messed up.</p>\n"}], "owner": {"reputation": 13, "user_id": 6754297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bad6fb6bde1d2d289c91b26b8bcda9c?s=128&d=identicon&r=PG&f=1", "display_name": "Allen Carl", "link": "https://stackoverflow.com/users/6754297/allen-carl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 39133315, "answer_count": 2, "score": 1, "last_activity_date": 1472074144, "creation_date": 1472072038, "question_id": 39132847, "link": "https://stackoverflow.com/questions/39132847/why-am-i-getting-a-break-outside-loop-error-for-this-python-program-but-not-for", "title": "Why am I getting a break outside loop error for this python program but not for a similar program?", "body": "<p>I am new to coding and Stack Exchange. Please forgive any errors  in terms of formatting questions (corrections are welcomed). My question is this. I am doing exercise 7-4 in \"Python Crash Course\". I have two programs that are very similar in terms of formatting and output. city_visits was the example given by the author and did not lead to a \"break outside loop\" error. However Pizza_toppings leads to a \"break outside loop\" error. Can anyone please explain what the difference is that leads to the error in one but not the other? Thanks for the help!    </p>\n\n<p>Pizza_toppings.py</p>\n\n<pre><code>prompt = \"\\nWelcome to Pizza by the sea!\" \nprompt += \"\\nYou can add as manty toppings as you like! Just tell us!\"\nprompt += \"\\nWhen you are finished type 'quit'. Tell us what you want: \"\n\nwhile True:\ntopping = raw_input(prompt) \n\nif topping == \"quit\":\n break\nelse: \n    print \"Adding \" + topping + \".\" \n</code></pre>\n\n<p>city_visits</p>\n\n<pre><code>prompt = \"\\nPlease enter the name of a city you have visited:\"\nprompt += \"\\n(Enter 'quit' when you are finished.)\"\n\nwhile True:  \ncity = raw_input(prompt)\n\nif city == 'quit':\n    break\nelse:\n    print \"I'd love to go to \" + city.title() + \"!\"\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1472072145, "post_id": 39132819, "comment_id": 65611051, "body": "Add a check if the index of the number 13 in the list == list[-1]"}], "answers": [{"tags": [], "owner": {"reputation": 7576, "user_id": 1603840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJhqE.jpg?s=128&g=1", "display_name": "Karin", "link": "https://stackoverflow.com/users/1603840/karin"}, "is_accepted": false, "score": 2, "last_activity_date": 1472072583, "last_edit_date": 1472072583, "creation_date": 1472072114, "answer_id": 39132865, "question_id": 39132819, "link": "https://stackoverflow.com/questions/39132819/adding-numbers-in-a-list-except-a-specific-number-and-the-following-number/39132865#39132865", "title": "Adding numbers in a list except a specific number and the following number", "body": "<p>In Python, an index of <code>-1</code> means the last item in a list. So, in your code, when <code>i</code> is <code>0</code> (the first number), it will not count it because the last item in the list is <code>13</code>.</p>\n\n<p>You can fix this with a simple check that <code>i &gt; 1</code> on that condition:</p>\n\n<pre><code>if nums[i] == 13 or (i &gt; 0 and nums[i - 1] == 13):\n</code></pre>\n\n<p>Also for what it's worth, because we all love one-liners, here's an equivalent function in a line:</p>\n\n<pre><code>return sum(num for i, num in enumerate(nums) if num != 13 and (i == 0 or nums[i - 1] != 13))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3523, "user_id": 1344854, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5da308997df4d7afd4b4e3de8be07ad5?s=128&d=identicon&r=PG", "display_name": "gwaramadze", "link": "https://stackoverflow.com/users/1344854/gwaramadze"}, "is_accepted": false, "score": 0, "last_activity_date": 1472074574, "creation_date": 1472074574, "answer_id": 39133398, "question_id": 39132819, "link": "https://stackoverflow.com/questions/39132819/adding-numbers-in-a-list-except-a-specific-number-and-the-following-number/39133398#39133398", "title": "Adding numbers in a list except a specific number and the following number", "body": "<p>My proposition:</p>\n\n<pre><code>def sum13(numbers):\n    total = 0\n    skip = False\n    for i, number in enumerate(numbers):\n        if number == 13:\n            skip = True\n            continue\n        if skip:\n            skip = False\n            continue\n        total += number\n\n    return total\n\n\ndef test():\n    cases = [\n        ([13, 1, 1], 1),\n        ([13, 1, 5, 13], 5),\n        ([1, 13, 5, 1], 2),\n        ([1, 2, 2, 1, 13], 6),\n        ([1, 2, 13, 2, 1, 13], 4),\n    ]\n    for case in cases:\n        assert sum13(case[0]) == case[1]\n\n\ntest()\n</code></pre>\n\n<p>Read about enumerate if it's new for you:\n<a href=\"https://docs.python.org/3.4/library/functions.html#enumerate\" rel=\"nofollow\">https://docs.python.org/3.4/library/functions.html#enumerate</a></p>\n"}], "owner": {"reputation": 31, "user_id": 6754366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c71540fc7946b62ae5833736ef74ee?s=128&d=identicon&r=PG&f=1", "display_name": "kdlayton", "link": "https://stackoverflow.com/users/6754366/kdlayton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1472074574, "creation_date": 1472071895, "question_id": 39132819, "link": "https://stackoverflow.com/questions/39132819/adding-numbers-in-a-list-except-a-specific-number-and-the-following-number", "title": "Adding numbers in a list except a specific number and the following number", "body": "<p>I am new to programming and I am trying to add up all the numbers in a given list except for the the number 13 and any number following the number 13.  the problem that I am having is that if 13 is on the end of the list it won't add the first number. Any help would be appreciated.  The code I have is as follows:</p>\n\n<pre><code>def sum13(nums):\n    total = 0\n    for i in range(len(nums)):\n        if nums[i] == 13 or nums[i-1] == 13:\n            total += 0\n        else:\n            total += nums[i]\n\n    return total\n\ndef main():\n    print sum13([1, 2, 2, 1, 13])\n    print sum13([1, 2, 13, 2, 1, 13])\nmain()\n</code></pre>\n\n<p>The two examples should result in 6 and 4 however it results in 5 and 3 because it isn't adding the 1 at the beginning.</p>\n"}, {"tags": ["python", "scipy", "mathematical-optimization"], "answers": [{"comments": [{"owner": {"reputation": 500, "user_id": 4759645, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2336d65f6f587e8b268e3c3dcd62d61d?s=128&d=identicon&r=PG&f=1", "display_name": "heracho", "link": "https://stackoverflow.com/users/4759645/heracho"}, "edited": false, "score": 0, "creation_date": 1472133557, "post_id": 39133446, "comment_id": 65638377, "body": "Very fast solution, but it lost accuracy near the bifurcations. eg: <code>[a, b, c] \u2248 [5, 10, 1.81]</code>"}], "tags": [], "owner": {"reputation": 4503, "user_id": 6212875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63785a00c56fd72d4e9199a973920873?s=128&d=identicon&r=PG&f=1", "display_name": "Stelios", "link": "https://stackoverflow.com/users/6212875/stelios"}, "is_accepted": false, "score": 3, "last_activity_date": 1472076261, "last_edit_date": 1472076261, "creation_date": 1472074804, "answer_id": 39133446, "question_id": 39132786, "link": "https://stackoverflow.com/questions/39132786/need-to-improve-accuracy-in-fsolve-to-find-multiples-roots/39133446#39133446", "title": "need to improve accuracy in fsolve to find multiples roots", "body": "<p>What you need is an automatic way to obtain good initial estimates of the roots of the function. This is in general a difficult task, however, for univariate, continuous functions, it is rather simple. The idea is to note that (a) this class of functions can be approximated to an arbitrary precision by a polynomial of appropriately large order, and (b) there are efficient algorithms for finding (all) the roots of a polynomial. Fortunately, Numpy provides functions for both performing polynomial approximation and finding polynomial roots.</p>\n\n<p>Let's consider a specific function</p>\n\n<pre><code>[a, b, c] = [5, 10, -1.5]\n\ndef func(x):\n    return -(x+a) + b / (1 + np.exp(-(x + c)))\n</code></pre>\n\n<p>The following code uses <code>polyfit</code> and <code>poly1d</code> to approximate <code>func</code> over the range of interest (<code>-10&lt;x&lt;10</code>) by a polynomial function <code>f_poly</code> of order <code>10</code>.</p>\n\n<pre><code>x_range = np.linspace(-10,10,100)\ny_range = func(x_range)\n\npfit = np.polyfit(x_range,y_range,10)\n\nf_poly = np.poly1d(pfit)\n</code></pre>\n\n<p>As the following plot shows, <code>f_poly</code> is indeed a good approximation of <code>func</code>. Even greater accuracy can be obtained by increasing the order. However, there is no point in pursuing extreme accuracy in the polynomial approximation, since we are looking for approximate estimates of the roots that will be later refined by <code>fsolve</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/3OZpW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3OZpW.png\" alt=\"enter image description here\"></a></p>\n\n<p>The roots of the polynomial approximation can be simply obtained as </p>\n\n<pre><code>roots = np.roots(pfit)\nroots\n</code></pre>\n\n<blockquote>\n  <p>array([-10.4551+1.4893j, -10.4551-1.4893j,  11.0027+0.j    ,\n           8.6679+2.482j ,   8.6679-2.482j ,  -5.7568+3.2928j,\n          -5.7568-3.2928j,  -4.9269+0.j    ,   4.7486+0.j    ,   2.9158+0.j    ])</p>\n</blockquote>\n\n<p>As expected, Numpy returns 10 complex roots. However, we are only interested for real roots within the interval <code>[-10,10]</code>. These can be extracted as follows:</p>\n\n<pre><code>x0 = roots[np.where(np.logical_and(np.logical_and(roots.imag==0, roots.real&gt;-10), roots.real&lt;10))].real\nx0\n</code></pre>\n\n<blockquote>\n  <p>array([-4.9269,  4.7486,  2.9158])</p>\n</blockquote>\n\n<p>Array <code>x0</code> can serve as the initialization for <code>fsolve</code>:</p>\n\n<pre><code>fsolve(func, x0)\n</code></pre>\n\n<blockquote>\n  <p>array([-4.9848,  4.5462,  2.7192])</p>\n</blockquote>\n\n<p>Remark: The <a href=\"https://github.com/pychebfun/pychebfun\" rel=\"nofollow noreferrer\">pychebfun</a> package provides a function that directly gives all the roots of a function within an interval. It is also based on the idea of performing polynomial approximation, however, it uses a more sophisticated (yet, more efficient) approach. It automatically chooses the best polynomial order of the approximation (no user input), with the polynomial roots being practically equal to the true ones (no need to refine them via <code>fsolve</code>).</p>\n\n<p>This simple code gives the same roots as those by <code>fsolve</code></p>\n\n<pre><code>import pychebfun\n\nf_cheb = pychebfun.Chebfun.from_function(func, domain = (-10,10))\nf_cheb.roots()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 500, "user_id": 4759645, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2336d65f6f587e8b268e3c3dcd62d61d?s=128&d=identicon&r=PG&f=1", "display_name": "heracho", "link": "https://stackoverflow.com/users/4759645/heracho"}, "edited": false, "score": 0, "creation_date": 1472132949, "post_id": 39133895, "comment_id": 65637954, "body": "It&#39;s quite accurate solution, but slow."}, {"owner": {"reputation": 500, "user_id": 4759645, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2336d65f6f587e8b268e3c3dcd62d61d?s=128&d=identicon&r=PG&f=1", "display_name": "heracho", "link": "https://stackoverflow.com/users/4759645/heracho"}, "edited": false, "score": 0, "creation_date": 1472133402, "post_id": 39133895, "comment_id": 65638257, "body": "I never tried Sympy. It&#39;s a way to calculate the zeros for N values (let&#39;s said of c) without increase N times the computing time?"}, {"owner": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "reply_to_user": {"reputation": 500, "user_id": 4759645, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2336d65f6f587e8b268e3c3dcd62d61d?s=128&d=identicon&r=PG&f=1", "display_name": "heracho", "link": "https://stackoverflow.com/users/4759645/heracho"}, "edited": false, "score": 0, "creation_date": 1472240835, "post_id": 39133895, "comment_id": 65689620, "body": "I am not aware of any method to find the zeros analytically for <code>f(x)</code>. For improving speed you can check beforehand if a zero exists in the interval: Assume the stationary points to to be <code>x1, x2</code>. By evaluating <code>sign(f(x1)) == sign(f(x2))</code> =&gt; no zero inbetween. Also, since  <code>f(+inf)=-inf&#39;</code>, you know: <code>f(x2)&lt;0&#39;  =&gt; no zero. Furthermore, you can use </code>scipy.optimize.minimize()` for minimizing on bounded intervals instead of <code>sy.nsolve()</code>. It&#39;s probably faster."}], "tags": [], "owner": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1472077843, "last_edit_date": 1472077843, "creation_date": 1472077336, "answer_id": 39133895, "question_id": 39132786, "link": "https://stackoverflow.com/questions/39132786/need-to-improve-accuracy-in-fsolve-to-find-multiples-roots/39133895#39133895", "title": "need to improve accuracy in fsolve to find multiples roots", "body": "<p>Between two stationary points (i.e., <code>df/dx=0</code>), you have one or zero roots. In your case it is possible to calculate the two stationary points analytically:</p>\n\n<pre><code>[-c + log(1/(b - sqrt(b*(b - 4)) - 2)) + log(2),\n -c + log(1/(b + sqrt(b*(b - 4)) - 2)) + log(2)]\n</code></pre>\n\n<p>So you have three intervals where you need to find a zero. Using Sympy saves you from doing the calculations by hand. Its <code>sy.nsolve()</code> allows to robustly find a zero in an interval:</p>\n\n<pre><code>import sympy as sy\n\na, b, c, x = sy.symbols(\"a, b, c, x\", real=True)\n\n# The function:\nf = -(x+a) + b / (1 + sy.exp(-(x + c)))\ndf = f.diff(x)  # calculate f' = df/dx\nxxs = sy.solve(df, x)  # Solving for f' = 0 gives two solutions\n\n# numerical values:\npp = {a: 5, b: 10, c: .5}  # values for a, b, c\nfpp = f.subs(pp)\nxxs_pp = [xpr.subs(pp).evalf() for xpr in xxs]  # numerical stationary points\nxxs_pp.sort()  # in ascending order\n\n# resulting intervals:\nxx_low = [-1e9,      xxs_pp[0], xxs_pp[1]]\nxx_hig = [xxs_pp[0], xxs_pp[1],       1e9]\n\n# calculate roots for each interval:\nxx0 = []\nfor xl_, xh_ in zip(xx_low, xx_hig):\n    try:\n        x0 = sy.nsolve(fpp, (xl_, xh_), solver=\"bisect\")  # calculate zero\n    except ValueError:  # no solution found\n        continue\n    xx0.append(x0)\n\nprint(\"The zeros are:\")\nprint(xx0)\n\nsy.plot(fpp)  # plot function\n</code></pre>\n"}], "owner": {"reputation": 500, "user_id": 4759645, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2336d65f6f587e8b268e3c3dcd62d61d?s=128&d=identicon&r=PG&f=1", "display_name": "heracho", "link": "https://stackoverflow.com/users/4759645/heracho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1137, "favorite_count": 1, "accepted_answer_id": 39133895, "answer_count": 2, "score": 4, "last_activity_date": 1472077843, "creation_date": 1472071725, "question_id": 39132786, "link": "https://stackoverflow.com/questions/39132786/need-to-improve-accuracy-in-fsolve-to-find-multiples-roots", "title": "need to improve accuracy in fsolve to find multiples roots", "body": "<p>I'm using this code to get the zeros of a nonlinear function.\nMost certainly, the function should have 1 or 3 zeros</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pylab as plt\nfrom scipy.optimize import fsolve\n\n[a, b, c] = [5, 10, 0]\n\ndef func(x):\n    return -(x+a) + b / (1 + np.exp(-(x + c)))\n\nx = np.linspace(-10, 10, 1000)\n\nprint(fsolve(func, [-10, 0,  10]))\nplt.plot(x, func(x))\nplt.show()\n</code></pre>\n\n<p>In this case the code give the 3 expected roots without any problem.\nBut, with c = -1.5 the code miss a root, and with c = -3 it find a non existing root.</p>\n\n<p>I want to calculate the roots for many different parameter combinations, so changing the seeds manually is not a practical solution.</p>\n\n<p>I appreciate any solution, trick or advice.</p>\n"}, {"tags": ["python", "regex", "python-3.x", "unicode"], "answers": [{"comments": [{"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 2, "creation_date": 1472078299, "post_id": 39133712, "comment_id": 65613458, "body": "Point 1 sure looks like a bug, and I suggest you report it, if you haven&#39;t already.  It&#39;s hard to say about point 2.  Searching for &quot;vowel&quot; on unicode.org gives a number of hits for various Asian languages, but nothing about French or Italian.  The OP&#39;s examples certainly seem correct, but I can&#39;t see that Annex 29 addresses them specifically."}], "tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": true, "score": 6, "last_activity_date": 1472372525, "last_edit_date": 1472372525, "creation_date": 1472076172, "answer_id": 39133712, "question_id": 39132743, "link": "https://stackoverflow.com/questions/39132743/matching-unicode-word-boundaries-in-python/39133712#39133712", "title": "Matching Unicode word boundaries in Python", "body": "<p>1- <em>RIGHT SINGLE QUOTATION MARK  <code>\u2019</code></em> seems to be just simply missed in <a href=\"https://bitbucket.org/mrabarnett/mrab-regex/src/f21447bf288780d8dd9b1633820480484ce8f677/regex_3/regex/_regex.c?at=default&amp;fileviewer=file-view-default#_regex.c-1657\" rel=\"nofollow\">source file</a>:</p>\n\n<pre><code>/* Break between apostrophe and vowels (French, Italian). */\n/* WB5a */\nif (pos_m1 &gt;= 0 &amp;&amp; char_at(state-&gt;text, pos_m1) == '\\'' &amp;&amp;\n  is_unicode_vowel(char_at(state-&gt;text, text_pos)))\n    return TRUE;\n</code></pre>\n\n<p>2- Unicode vowels are determined with <a href=\"https://bitbucket.org/mrabarnett/mrab-regex/src/f21447bf288780d8dd9b1633820480484ce8f677/regex_3/regex/_regex.c?at=default&amp;fileviewer=file-view-default#_regex.c-1522\" rel=\"nofollow\"><code>is_unicode_vowel()</code></a> function which translates to this list:</p>\n\n<pre><code>a, \u00e0, \u00e1, \u00e2, e, \u00e8, \u00e9, \u00ea, i, \u00ec, \u00ed, \u00ee, o, \u00f2, \u00f3, \u00f4, u, \u00f9, \u00fa, \u00fb\n</code></pre>\n\n<p>So a <a href=\"http://www.utf8-chartable.de/unicode-utf8-table.pl?start=256\" rel=\"nofollow\">LATIN SMALL LIGATURE OE</a> <code>\u0153</code> character is not considered as a unicode vowel:</p>\n\n<pre><code>Py_LOCAL_INLINE(BOOL) is_unicode_vowel(Py_UCS4 ch) {\n#if PY_VERSION_HEX &gt;= 0x03030000\n    switch (Py_UNICODE_TOLOWER(ch)) {\n#else\n    switch (Py_UNICODE_TOLOWER((Py_UNICODE)ch)) {\n#endif\n    case 'a': case 0xE0: case 0xE1: case 0xE2:\n    case 'e': case 0xE8: case 0xE9: case 0xEA:\n    case 'i': case 0xEC: case 0xED: case 0xEE:\n    case 'o': case 0xF2: case 0xF3: case 0xF4:\n    case 'u': case 0xF9: case 0xFA: case 0xFB:\n        return TRUE;\n    default:\n        return FALSE;\n    }\n}\n</code></pre>\n\n<p><strong>This bug is now fixed in regex 2016.08.27 after a <a href=\"https://bitbucket.org/mrabarnett/mrab-regex/issues/219/unicode-word-boundries\" rel=\"nofollow\">bug report</a>.</strong> [<a href=\"https://bitbucket.org/mrabarnett/mrab-regex/src/63d0aacd9395318daeb3ff8bf8696a7651528415/regex_3/regex/_regex.c?at=default&amp;fileviewer=file-view-default#_regex.c-1668\" rel=\"nofollow\">_regex.c:#1668</a>]</p>\n"}], "owner": {"reputation": 11364, "user_id": 5351549, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f5c11fbd301040b24865853a1d73c914?s=128&d=identicon&r=PG&f=1", "display_name": "ewcz", "link": "https://stackoverflow.com/users/5351549/ewcz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 4, "accepted_answer_id": 39133712, "answer_count": 1, "score": 13, "last_activity_date": 1472372525, "creation_date": 1472071530, "last_edit_date": 1472075202, "question_id": 39132743, "link": "https://stackoverflow.com/questions/39132743/matching-unicode-word-boundaries-in-python", "title": "Matching Unicode word boundaries in Python", "body": "<p>In order to match the Unicode word boundaries [as defined in the <a href=\"http://unicode.org/reports/tr29/#Word_Boundary_Rules\">Annex #29</a>] in Python, I have been using the <code>regex</code> package with flags <code>regex.WORD | regex.V1</code> (<code>regex.UNICODE</code> should be default since the pattern is a Unicode string) in the following way:</p>\n\n<pre><code>&gt;&gt;&gt; s=\"here are some words\"\n&gt;&gt;&gt; regex.findall(r'\\w(?:\\B\\S)*', s, flags = regex.V1 | regex.WORD)\n['here', 'are', 'some', 'words']\n</code></pre>\n\n<p>It works well in this rather simple cases. However, I was wondering what is the expected behavior in case the input string contains certain punctuation. It seems to me that <a href=\"http://unicode.org/reports/tr29/#WB7\">WB7</a> says that for example the apostrophe in <code>x'z</code> does not qualify as a word boundary which seems to be indeed the case:</p>\n\n<pre><code>&gt;&gt;&gt; regex.findall(r'\\w(?:\\B\\S)*', \"x'z\", flags = regex.V1 | regex.WORD)\n[\"x'z\"]\n</code></pre>\n\n<p>However, if there is a vowel, the situation changes:</p>\n\n<pre><code>&gt;&gt;&gt; regex.findall(r'\\w(?:\\B\\S)*', \"l'avion\", flags = regex.V1 | regex.WORD)\n[\"l'\", 'avion']\n</code></pre>\n\n<p>This would suggest that the regex module implements the rule <code>WB5a</code> mentioned in the standard in the <em>Notes</em> section. However, this rule also says that the behavior should be the same with <code>\\u2019</code> (right single quotation mark) which I can't reproduce:</p>\n\n<pre><code>&gt;&gt;&gt; regex.findall(r'\\w(?:\\B\\S)*', \"l\\u2019avion\", flags = regex.V1 | regex.WORD)\n['l\u2019avion']\n</code></pre>\n\n<p>Moreover, even with \"normal\" apostrophe, a ligature (or <code>y</code>) seems to behave as a \"non-vowel\":</p>\n\n<pre><code>&gt;&gt;&gt; regex.findall(r'\\w(?:\\B\\S)*', \"l'\u0153il\", flags = regex.V1 | regex.WORD)\n[\"l'\u0153il\"]\n&gt;&gt;&gt; regex.findall(r'\\w(?:\\B\\S)*', \"J'y suis\", flags = regex.V1 | regex.WORD)\n[\"J'y\", 'suis']\n</code></pre>\n\n<p>Is this the expected behavior? (all examples above were executed with regex 2.4.106 and Python 3.5.2)</p>\n"}, {"tags": ["python", "pandas", "dataframe", "crosstab", "pandas-groupby"], "answers": [{"comments": [{"owner": {"reputation": 180675, "user_id": 1090562, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d675b3e6225683ba6432496ec23ed806?s=128&d=identicon&r=PG", "display_name": "Salvador Dali", "link": "https://stackoverflow.com/users/1090562/salvador-dali"}, "edited": false, "score": 0, "creation_date": 1472072003, "post_id": 39132761, "comment_id": 65610988, "body": "wow wow wow, you are amazing. And it took you only 3 minutes (the same time it took me to write a loop, and less time then it took me to write this question). I would really appreciate if you can write some explanation of why this works, but most probably I will be able to understand it by myself in a few minutes."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 180675, "user_id": 1090562, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d675b3e6225683ba6432496ec23ed806?s=128&d=identicon&r=PG", "display_name": "Salvador Dali", "link": "https://stackoverflow.com/users/1090562/salvador-dali"}, "edited": false, "score": 0, "creation_date": 1472072226, "post_id": 39132761, "comment_id": 65611082, "body": "In your case <code>crosstab</code> is better as <code>pivot_table</code>, because default aggregating function is <code>len</code> (it is same as <code>size</code>) and I think it is also faster solution. <code>Crosstab</code> use first argument as <code>index</code> and <code>second</code> of columns. Give me a time, I try add timings."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 180675, "user_id": 1090562, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d675b3e6225683ba6432496ec23ed806?s=128&d=identicon&r=PG", "display_name": "Salvador Dali", "link": "https://stackoverflow.com/users/1090562/salvador-dali"}, "edited": false, "score": 0, "creation_date": 1472072319, "post_id": 39132761, "comment_id": 65611131, "body": "But I think better it is explain in <a href=\"http://pandas.pydata.org/pandas-docs/stable/reshaping.html#cross-tabulations\" rel=\"nofollow noreferrer\"><code>docs</code></a>."}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 8, "last_activity_date": 1472076145, "last_edit_date": 1472076145, "creation_date": 1472071645, "answer_id": 39132761, "question_id": 39132742, "link": "https://stackoverflow.com/questions/39132742/groupby-value-counts-on-the-dataframe-pandas/39132761#39132761", "title": "Groupby value counts on the dataframe pandas", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.crosstab.html\" rel=\"noreferrer\"><code>crosstab</code></a>:</p>\n\n<pre><code>print (pd.crosstab([df.id, df.group], df.term))\nterm      term1  term2  term3\nid group                     \n1  1          2      1      0\n   2          0      1      0\n2  2          1      0      1\n   3          1      0      0\n</code></pre>\n\n<p>Another solution with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"noreferrer\"><code>groupby</code></a> with aggregating <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.size.html\" rel=\"noreferrer\"><code>size</code></a>, reshaping by <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.unstack.html\" rel=\"noreferrer\"><code>unstack</code></a>:</p>\n\n<pre><code>df.groupby(['id', 'group', 'term'])['term'].size().unstack(fill_value=0)\n\nterm      term1  term2  term3\nid group                     \n1  1          2      1      0\n   2          0      1      0\n2  2          1      0      1\n   3          1      0      0\n</code></pre>\n\n<p><strong>Timings</strong>:</p>\n\n<pre><code>df = pd.concat([df]*10000).reset_index(drop=True)\n\nIn [48]: %timeit (df.groupby(['id', 'group', 'term']).size().unstack(fill_value=0))\n100 loops, best of 3: 12.4 ms per loop\n\nIn [49]: %timeit (df.groupby(['id', 'group', 'term'])['term'].size().unstack(fill_value=0))\n100 loops, best of 3: 12.2 ms per loop\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1472072827, "post_id": 39132838, "comment_id": 65611372, "body": "I was just trying to update timings with larger sample :-)"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1472072896, "post_id": 39132838, "comment_id": 65611402, "body": "wow!  pivot seems just as efficient at larger scales.  I&#39;ll have to remember that.  I&#39;d give you +1 but I already did a while ago."}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1472073040, "post_id": 39132838, "comment_id": 65611468, "body": "So <code>size</code> was the alias that we forgot <a href=\"http://stackoverflow.com/a/38279370/2285236\">here</a> :)"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1472073413, "post_id": 39132838, "comment_id": 65611627, "body": "@ayhan, very strange - this time the solution with <code>df.assign(ones = np.ones(len(df))).pivot_table(index=[&#39;id&#39;,&#39;group&#39;], columns=&#39;term&#39;, values = &#39;ones&#39;, aggfunc=np.sum, fill_value=0)</code> is bit slower - <code>1 loop, best of 3: 2.55 s per loop</code>"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1472073499, "post_id": 39132838, "comment_id": 65611667, "body": "I think it is because you used <code>len</code> there, instead of &#39;size&#39;. <code>len</code> is a Python function but the functions we pass as strings are aliases to optimized C functions."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1472073675, "post_id": 39132838, "comment_id": 65611760, "body": "@ayhan, i have the same timing if i use <code>df.shape[0]</code> instead of <code>len(df)</code>"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1472076189, "post_id": 39132838, "comment_id": 65612786, "body": "@MaxU - can you add to timings <code>df.groupby([&#39;id&#39;, &#39;group&#39;, &#39;term&#39;])[&#39;term&#39;].size().unstack(fill_value=0)</code> ? Thanks."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1472109454, "post_id": 39132838, "comment_id": 65622225, "body": "@jezrael, i&#39;ve added a timing for this solution"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1472109599, "post_id": 39132838, "comment_id": 65622326, "body": "@MaxU - very interesting, Iget same timings with fastest method, but you get different. Thank you for timings."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 22, "last_activity_date": 1472109430, "last_edit_date": 1472109430, "creation_date": 1472071994, "answer_id": 39132838, "question_id": 39132742, "link": "https://stackoverflow.com/questions/39132742/groupby-value-counts-on-the-dataframe-pandas/39132838#39132838", "title": "Groupby value counts on the dataframe pandas", "body": "<p>using <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.pivot_table.html\" rel=\"noreferrer\">pivot_table()</a> method:</p>\n\n<pre><code>In [22]: df.pivot_table(index=['id','group'], columns='term', aggfunc='size', fill_value=0)\nOut[22]:\nterm      term1  term2  term3\nid group\n1  1          2      1      0\n   2          0      1      0\n2  2          1      0      1\n   3          1      0      0\n</code></pre>\n\n<p>Timing against 700K rows DF:</p>\n\n<pre><code>In [24]: df = pd.concat([df] * 10**5, ignore_index=True)\n\nIn [25]: df.shape\nOut[25]: (700000, 3)\n\nIn [3]: %timeit df.groupby(['id', 'group', 'term'])['term'].size().unstack(fill_value=0)\n1 loop, best of 3: 226 ms per loop\n\nIn [4]: %timeit df.pivot_table(index=['id','group'], columns='term', aggfunc='size', fill_value=0)\n1 loop, best of 3: 236 ms per loop\n\nIn [5]: %timeit pd.crosstab([df.id, df.group], df.term)\n1 loop, best of 3: 355 ms per loop\n\nIn [6]: %timeit df.groupby(['id','group','term'])['term'].size().unstack().fillna(0).astype(int)\n1 loop, best of 3: 232 ms per loop\n\nIn [7]: %timeit df.groupby(['id', 'group', 'term']).size().unstack(fill_value=0)\n1 loop, best of 3: 231 ms per loop\n</code></pre>\n\n<p>Timing against 7M rows DF:</p>\n\n<pre><code>In [9]: df = pd.concat([df] * 10, ignore_index=True)\n\nIn [10]: df.shape\nOut[10]: (7000000, 3)\n\nIn [11]: %timeit df.groupby(['id', 'group', 'term'])['term'].size().unstack(fill_value=0)\n1 loop, best of 3: 2.27 s per loop\n\nIn [12]: %timeit df.pivot_table(index=['id','group'], columns='term', aggfunc='size', fill_value=0)\n1 loop, best of 3: 2.3 s per loop\n\nIn [13]: %timeit pd.crosstab([df.id, df.group], df.term)\n1 loop, best of 3: 3.37 s per loop\n\nIn [14]: %timeit df.groupby(['id','group','term'])['term'].size().unstack().fillna(0).astype(int)\n1 loop, best of 3: 2.28 s per loop\n\nIn [15]: %timeit df.groupby(['id', 'group', 'term']).size().unstack(fill_value=0)\n1 loop, best of 3: 1.89 s per loop\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1472072550, "post_id": 39132900, "comment_id": 65611235, "body": "@jezrael thx, <code>size</code> is quicker too.  <code>crosstab</code> is oddly inefficient"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1472072979, "post_id": 39132900, "comment_id": 65611440, "body": "And I am surprised that <code>crosstab</code> is so lazy ;)"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1472073150, "post_id": 39132900, "comment_id": 65611513, "body": "@jezrael, <code>crosstab</code> uses <code>pivot_table</code> internally... ;)"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1472076220, "post_id": 39132900, "comment_id": 65612795, "body": "@piRSquared - can you add to timings <code>df.groupby([&#39;id&#39;, &#39;group&#39;, &#39;term&#39;])[&#39;term&#39;].size().unstack(fill_value=0)</code> ? It seems faster for me. Thanks."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1472076502, "post_id": 39132900, "comment_id": 65612909, "body": "@piRSquared - I try it in larger df and a bit faster (0.2ms, maybe it is same ;))"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1472076870, "post_id": 39132900, "comment_id": 65612997, "body": "@jezrael all are same except for <code>crosstab</code>"}, {"owner": {"reputation": 2315, "user_id": 2205916, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b94c32f9f3d58691775c304526abe634?s=128&d=identicon&r=PG", "display_name": "user2205916", "link": "https://stackoverflow.com/users/2205916/user2205916"}, "edited": false, "score": 0, "creation_date": 1611165040, "post_id": 39132900, "comment_id": 116365613, "body": "@piRSquared How would you create the same table except with proportions of respective classes?"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 111, "last_activity_date": 1472076818, "last_edit_date": 1592644375, "creation_date": 1472072261, "answer_id": 39132900, "question_id": 39132742, "link": "https://stackoverflow.com/questions/39132742/groupby-value-counts-on-the-dataframe-pandas/39132900#39132900", "title": "Groupby value counts on the dataframe pandas", "body": "<p>I use <code>groupby</code> and <code>size</code></p>\n<pre><code>df.groupby(['id', 'group', 'term']).size().unstack(fill_value=0)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uEOMQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uEOMQ.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h1>Timing</h1>\n<p><a href=\"https://i.stack.imgur.com/Qz8dM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Qz8dM.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong>1,000,000 rows</strong></em></p>\n<pre><code>df = pd.DataFrame(dict(id=np.random.choice(100, 1000000),\n                       group=np.random.choice(20, 1000000),\n                       term=np.random.choice(10, 1000000)))\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FZ3GD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FZ3GD.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": [], "owner": {"reputation": 6351, "user_id": 6342575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de518e31dfbc2e8a7af2ebd584f25e?s=128&d=identicon&r=PG&f=1", "display_name": "A.Kot", "link": "https://stackoverflow.com/users/6342575/a-kot"}, "is_accepted": false, "score": 18, "last_activity_date": 1472075213, "creation_date": 1472075213, "answer_id": 39133528, "question_id": 39132742, "link": "https://stackoverflow.com/questions/39132742/groupby-value-counts-on-the-dataframe-pandas/39133528#39133528", "title": "Groupby value counts on the dataframe pandas", "body": "<p>Instead of remembering lengthy solutions, how about the one that pandas has built in for you:</p>\n\n<pre><code>df.groupby(['id', 'group', 'term']).count()\n</code></pre>\n"}], "owner": {"reputation": 180675, "user_id": 1090562, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d675b3e6225683ba6432496ec23ed806?s=128&d=identicon&r=PG", "display_name": "Salvador Dali", "link": "https://stackoverflow.com/users/1090562/salvador-dali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96104, "favorite_count": 24, "accepted_answer_id": 39132900, "answer_count": 4, "score": 65, "last_activity_date": 1509781843, "creation_date": 1472071524, "last_edit_date": 1509781843, "question_id": 39132742, "link": "https://stackoverflow.com/questions/39132742/groupby-value-counts-on-the-dataframe-pandas", "title": "Groupby value counts on the dataframe pandas", "body": "<p>I have the following dataframe:</p>\n\n<pre><code>df = pd.DataFrame([\n    (1, 1, 'term1'),\n    (1, 2, 'term2'),\n    (1, 1, 'term1'),\n    (1, 1, 'term2'),\n    (2, 2, 'term3'),\n    (2, 3, 'term1'),\n    (2, 2, 'term1')\n], columns=['id', 'group', 'term'])\n</code></pre>\n\n<p>I want to group it by <code>id</code> and <code>group</code> and calculate the number of each term for this id, group pair.</p>\n\n<p>So in the end I am going to get something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DIwPYm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DIwPYm.png\" alt=\"enter image description here\"></a></p>\n\n<p>I was able to achieve what I want by looping over all the rows with <code>df.iterrows()</code> and creating a new dataframe, but this is clearly inefficient. (If it helps, I know the list of all terms beforehand and there are ~10 of them).</p>\n\n<p>It looks like I have to group by and then count values, so I tried that with <code>df.groupby(['id', 'group']).value_counts()</code> which does not work because <a href=\"http://pandas.pydata.org/pandas-docs/version/0.17.0/generated/pandas.core.groupby.SeriesGroupBy.value_counts.html\" rel=\"noreferrer\">value_counts</a> operates on the groupby series and not a dataframe.</p>\n\n<p>Anyway I can achieve this without looping?</p>\n"}, {"tags": ["python", "pandas", "group-by"], "answers": [{"comments": [{"owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "edited": false, "score": 1, "creation_date": 1472072096, "post_id": 39132762, "comment_id": 65611032, "body": "Indeed. <code>axis=0</code> is the default, so you can leave it out."}, {"owner": {"reputation": 6033, "user_id": 1429714, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/89Cr8.png?s=128&g=1", "display_name": "gongzhitaao", "link": "https://stackoverflow.com/users/1429714/gongzhitaao"}, "edited": false, "score": 0, "creation_date": 1472072245, "post_id": 39132762, "comment_id": 65611095, "body": "The above produces a Series.  <code>s = pd.DataFrame(df.sum()).transpose()</code> produce what is specified in your question."}, {"owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "reply_to_user": {"reputation": 6033, "user_id": 1429714, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/89Cr8.png?s=128&g=1", "display_name": "gongzhitaao", "link": "https://stackoverflow.com/users/1429714/gongzhitaao"}, "edited": false, "score": 0, "creation_date": 1472072513, "post_id": 39132762, "comment_id": 65611214, "body": "@gongzhitaao And that&#39;s exactly what I do in my answer."}], "tags": [], "owner": {"reputation": 1243, "user_id": 2718796, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b556307b30d0c851497e9591f13a73b6?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/2718796/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1472071647, "creation_date": 1472071647, "answer_id": 39132762, "question_id": 39132739, "link": "https://stackoverflow.com/questions/39132739/simplest-group-by-sum-in-pandas/39132762#39132762", "title": "Simplest Group By / Sum in Pandas", "body": "<p>I was overthinking. Can just do </p>\n\n<pre><code>df = df.sum(axis=0)   \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "is_accepted": true, "score": 2, "last_activity_date": 1472072038, "last_edit_date": 1472072038, "creation_date": 1472071735, "answer_id": 39132791, "question_id": 39132739, "link": "https://stackoverflow.com/questions/39132739/simplest-group-by-sum-in-pandas/39132791#39132791", "title": "Simplest Group By / Sum in Pandas", "body": "<pre><code>df.sum().to_frame().T\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>         sum1     sum2\n0  112267.055  15255.0\n</code></pre>\n\n<p>You could just do <code>df.sum()</code> to get the series</p>\n\n<pre><code>sum1    112267.055\nsum2     15255.000\ndtype: float64\n</code></pre>\n"}], "owner": {"reputation": 1243, "user_id": 2718796, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b556307b30d0c851497e9591f13a73b6?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/2718796/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 39132791, "answer_count": 2, "score": 1, "last_activity_date": 1472074782, "creation_date": 1472071503, "last_edit_date": 1472074782, "question_id": 39132739, "link": "https://stackoverflow.com/questions/39132739/simplest-group-by-sum-in-pandas", "title": "Simplest Group By / Sum in Pandas", "body": "<p>What's the simplest way to sum a two column pandas dataframe but keep it as a dataframe?</p>\n\n<p>I have a dataframe that looks like   </p>\n\n<pre><code>         sum1  sum2\n0    8153.035  1132\n1   12730.100  1559\n2   10845.360  1268\n3    6694.075   900\n4    3740.105   608\n5    3247.225   232\n6    4579.725   646\n7    9225.150  1184\n8   12371.885  2346\n9   11670.025  1805\n10   1088.000   183\n11     14.460     3\n12   9027.055  1282\n13  18880.855  2107\n</code></pre>\n\n<p>What's the simplest and most efficient way to sum it to a dataframe that looks like:</p>\n\n<pre><code>        sum1   sum2\n0  109019.83  15023\n</code></pre>\n"}, {"tags": ["python", "scrapy", "scrapy-spider"], "comments": [{"owner": {"reputation": 11096, "user_id": 541208, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2dfc2e563d2150994a6e06ef37f9e7be?s=128&d=identicon&r=PG", "display_name": "TankorSmash", "link": "https://stackoverflow.com/users/541208/tankorsmash"}, "edited": false, "score": 0, "creation_date": 1472071895, "post_id": 39132733, "comment_id": 65610937, "body": "It might check your useragent and always redirect you, if you haven&#39;t been respecting their site with your bot"}], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 6651168, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b45f362ea8f2d6346f9008a1df0afff?s=128&d=identicon&r=PG&f=1", "display_name": "Jimbo", "link": "https://stackoverflow.com/users/6651168/jimbo"}, "edited": false, "score": 0, "creation_date": 1472072548, "post_id": 39132833, "comment_id": 65611234, "body": "This worked, thank you so much! I&#39;m guessing that because my user agent wasn&#39;t a browser, they would instantly redirect me. Is this correct?"}, {"owner": {"reputation": 684, "user_id": 3608635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7be2d4bddd0148cacbc6ab4d89b23b7?s=128&d=identicon&r=PG&f=1", "display_name": "Jim K.", "link": "https://stackoverflow.com/users/3608635/jim-k"}, "reply_to_user": {"reputation": 327, "user_id": 6651168, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b45f362ea8f2d6346f9008a1df0afff?s=128&d=identicon&r=PG&f=1", "display_name": "Jimbo", "link": "https://stackoverflow.com/users/6651168/jimbo"}, "edited": false, "score": 0, "creation_date": 1472080205, "post_id": 39132833, "comment_id": 65613979, "body": "They could be looking for nonstandard user agents or spacy&#39;s default might be something they&#39;re explicitly watching out for.  There&#39;s essentially an arms race against content scrapers and content publishers."}], "tags": [], "owner": {"reputation": 684, "user_id": 3608635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7be2d4bddd0148cacbc6ab4d89b23b7?s=128&d=identicon&r=PG&f=1", "display_name": "Jim K.", "link": "https://stackoverflow.com/users/3608635/jim-k"}, "is_accepted": true, "score": 4, "last_activity_date": 1472071965, "creation_date": 1472071965, "answer_id": 39132833, "question_id": 39132733, "link": "https://stackoverflow.com/questions/39132733/website-forces-scrapy-redirect/39132833#39132833", "title": "Website forces scrapy redirect", "body": "<p>Did you try setting an explicit <code>USER_AGENT</code> in your settings?</p>\n\n<p><a href=\"http://doc.scrapy.org/en/latest/topics/settings.html#user-agent\" rel=\"nofollow\">http://doc.scrapy.org/en/latest/topics/settings.html#user-agent</a></p>\n\n<p>Something like this might work as a starting point:</p>\n\n<pre><code>USER_AGENT = \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1700.102 Safari/537.36\"`\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "edited": false, "score": 0, "creation_date": 1472115706, "post_id": 39138489, "comment_id": 65626226, "body": "you can also do this as Request meta key i.e. <code>Request(url, meta={&#39;handdle_httpstatus_list&#39;: [303, 301]}</code>"}, {"owner": {"reputation": 749, "user_id": 1765410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6a32b0f25e94db005bb9b3fe1c27a2f6?s=128&d=identicon&r=PG", "display_name": "Niranjan Sagar", "link": "https://stackoverflow.com/users/1765410/niranjan-sagar"}, "reply_to_user": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "edited": false, "score": 0, "creation_date": 1472124060, "post_id": 39138489, "comment_id": 65631797, "body": "Yes, you are correct we can do like that as well. But the one I mentioned will have effect global."}], "tags": [], "owner": {"reputation": 749, "user_id": 1765410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6a32b0f25e94db005bb9b3fe1c27a2f6?s=128&d=identicon&r=PG", "display_name": "Niranjan Sagar", "link": "https://stackoverflow.com/users/1765410/niranjan-sagar"}, "is_accepted": false, "score": 0, "last_activity_date": 1472107785, "creation_date": 1472107785, "answer_id": 39138489, "question_id": 39132733, "link": "https://stackoverflow.com/questions/39132733/website-forces-scrapy-redirect/39138489#39138489", "title": "Website forces scrapy redirect", "body": "<p>You can specify handle_http_status. You can initialize this list post start_urls. </p>\n\n<pre><code>handle_http_status = ['303', '301']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 291, "user_id": 5022565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HdRX9.jpg?s=128&g=1", "display_name": "Janib Soomro", "link": "https://stackoverflow.com/users/5022565/janib-soomro"}, "edited": false, "score": 0, "creation_date": 1553499186, "post_id": 55240093, "comment_id": 97391282, "body": "or disable the retry middle: &#39;scrapy.downloadermiddlewares.redirect.RedirectMiddleware&#39;: None,"}], "tags": [], "owner": {"reputation": 291, "user_id": 5022565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HdRX9.jpg?s=128&g=1", "display_name": "Janib Soomro", "link": "https://stackoverflow.com/users/5022565/janib-soomro"}, "is_accepted": false, "score": 0, "last_activity_date": 1552995353, "creation_date": 1552995353, "answer_id": 55240093, "question_id": 39132733, "link": "https://stackoverflow.com/questions/39132733/website-forces-scrapy-redirect/55240093#55240093", "title": "Website forces scrapy redirect", "body": "<p>Use a custom download middleware to handle such redirections:</p>\n\n<pre><code>'DOWNLOADER_MIDDLEWARES' : {\n    'projectname.middlewares.RandomProxyForReDirectedUrls': 650\n}\n</code></pre>\n\n<p>Add a new class in projectname\\middlewares.py:</p>\n\n<pre><code>class RandomProxyForReDirectedUrls(object):\n    def process_response(self, request, response, spider):\n        if response.status in [303, 301]:\n            if \"_some_wrongly_redirected_url_identifier_\" in response.url:\n                request = request.replace(url=request.meta['redirect_urls'][0])\n                request.dont_filter = True\n                logging.error(\"Redirecting back to original url: %s\" % request.meta['redirect_urls'][0])\n                return request\n            else:\n                return response\n</code></pre>\n\n<p>This will redirect to original link if condition is meet, otherwise continue as normal.</p>\n"}], "owner": {"reputation": 327, "user_id": 6651168, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b45f362ea8f2d6346f9008a1df0afff?s=128&d=identicon&r=PG&f=1", "display_name": "Jimbo", "link": "https://stackoverflow.com/users/6651168/jimbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1867, "favorite_count": 2, "accepted_answer_id": 39132833, "answer_count": 3, "score": 2, "last_activity_date": 1552995353, "creation_date": 1472071465, "question_id": 39132733, "link": "https://stackoverflow.com/questions/39132733/website-forces-scrapy-redirect", "title": "Website forces scrapy redirect", "body": "<p>I keep on getting redirected from www.caribbeanjobs.com. I've programmed my spider to not obey the robot.txt, disabled cookies, tried meta=dont_redirect. What else can I do?</p>\n\n<p>This is my spider below:</p>\n\n<pre><code>import scrapy\n\nfrom tutorial.items import CaribbeanJobsItem\n\nclass CaribbeanJobsSpider(scrapy.Spider):\n        name = \"caribbeanjobs\"\n        allowed_domains = [\"caribbeanjobs.com/\"]\n        start_urls = [\n        \"http://www.caribbeanjobs.com/\"\n        ]\n        def start_requests(self):\n            for url in self.start_urls:\n                yield scrapy.Request(url, meta={'dont_redirect':True})\n\n        def parse(self, response):\n                if \".com\" in response.url:\n                        from scrapy.shell import inspect_response\n                        inspect_response(response, self)\n</code></pre>\n\n<p>These are my settings:</p>\n\n<pre><code>BOT_NAME = 'tutorial'\n\nSPIDER_MODULES = ['tutorial.spiders']\nNEWSPIDER_MODULE = 'tutorial.spiders'\n\n\n# Crawl responsibly by identifying yourself (and your website) on the user-agent\n#USER_AGENT = 'tutorial (+http://www.yourdomain.com)'\n\n# Obey robots.txt rules\nROBOTSTXT_OBEY = False\n\n# Configure maximum concurrent requests performed by Scrapy (default: 16)\n#CONCURRENT_REQUESTS = 32\n\n# Configure a delay for requests for the same website (default: 0)\n# See http://scrapy.readthedocs.org/en/latest/topics/settings.html#download-delay\n# See also autothrottle settings and docs\nDOWNLOAD_DELAY = 3\n# The download delay setting will honor only one of:\n#CONCURRENT_REQUESTS_PER_DOMAIN = 16\n#CONCURRENT_REQUESTS_PER_IP = 16\n\n# Disable cookies (enabled by default)\nCOOKIES_ENABLED = False\n\n# Disable Telnet Console (enabled by default)\n#TELNETCONSOLE_ENABLED = False\n\n# Override the default request headers:\n#DEFAULT_REQUEST_HEADERS = {\n#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n#   'Accept-Language': 'en',\n#}\n\n# Enable or disable spider middlewares\n# See http://scrapy.readthedocs.org/en/latest/topics/spider-middleware.html\n#SPIDER_MIDDLEWARES = {\n#    'tutorial.middlewares.MyCustomSpiderMiddleware': 543,\n#}\n\n# Enable or disable downloader middlewares\n# See http://scrapy.readthedocs.org/en/latest/topics/downloader-middleware.html\n#DOWNLOADER_MIDDLEWARES = {\n#    'tutorial.middlewares.MyCustomDownloaderMiddleware': 543,\n#}\n\n# Enable or disable extensions\n# See http://scrapy.readthedocs.org/en/latest/topics/extensions.html\n#EXTENSIONS = {\n#    'scrapy.extensions.telnet.TelnetConsole': None,\n#}\n\n# Configure item pipelines\n# See http://scrapy.readthedocs.org/en/latest/topics/item-pipeline.html\n#ITEM_PIPELINES = {\n#    'tutorial.pipelines.SomePipeline': 300,\n#}\n\n# Enable and configure the AutoThrottle extension (disabled by default)\n# See http://doc.scrapy.org/en/latest/topics/autothrottle.html\n#AUTOTHROTTLE_ENABLED = True\n# The initial download delay\n#AUTOTHROTTLE_START_DELAY = 5\n# The maximum download delay to be set in case of high latencies\n#AUTOTHROTTLE_MAX_DELAY = 60\n# The average number of requests Scrapy should be sending in parallel to\n# each remote server\n#AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0\n# Enable showing throttling stats for every response received:\n#AUTOTHROTTLE_DEBUG = False\n\n# Enable and configure HTTP caching (disabled by default)\n# See http://scrapy.readthedocs.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings\n#HTTPCACHE_ENABLED = True\n#HTTPCACHE_EXPIRATION_SECS = 0\n#HTTPCACHE_DIR = 'httpcache'\n#HTTPCACHE_IGNORE_HTTP_CODES = []\n#HTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'\n</code></pre>\n"}, {"tags": ["python", "sqlite"], "comments": [{"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 1, "creation_date": 1472071488, "post_id": 39132715, "comment_id": 65610744, "body": "I think the goal should be to let the SQL machine do the work, not the Python one. Try to shrink the amount of SQL queries."}], "answers": [{"comments": [{"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 1, "creation_date": 1472108137, "post_id": 39133431, "comment_id": 65621372, "body": "UNION ALL is faster than UNION."}, {"owner": {"reputation": 69, "user_id": 6754362, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-srROxdl-le8/AAAAAAAAAAI/AAAAAAAAA9A/xIq-LVzN4sw/photo.jpg?sz=128", "display_name": "Arif Akhtar", "link": "https://stackoverflow.com/users/6754362/arif-akhtar"}, "edited": false, "score": 0, "creation_date": 1472115158, "post_id": 39133431, "comment_id": 65625885, "body": "Thanks @TripleD. You suggestion really helped. I was to reduce the number of queries from 34 to only 1. However, I need one more help: Given that my db is going to have 1M rows, I believe sqlite is not a good solution. Is there any other solution."}, {"owner": {"reputation": 177, "user_id": 4111370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6iID.png?s=128&g=1", "display_name": "TripleD", "link": "https://stackoverflow.com/users/4111370/tripled"}, "reply_to_user": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1472134688, "post_id": 39133431, "comment_id": 65639115, "body": "@Cl I did not know that. Thanks."}, {"owner": {"reputation": 177, "user_id": 4111370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6iID.png?s=128&g=1", "display_name": "TripleD", "link": "https://stackoverflow.com/users/4111370/tripled"}, "reply_to_user": {"reputation": 69, "user_id": 6754362, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-srROxdl-le8/AAAAAAAAAAI/AAAAAAAAA9A/xIq-LVzN4sw/photo.jpg?sz=128", "display_name": "Arif Akhtar", "link": "https://stackoverflow.com/users/6754362/arif-akhtar"}, "edited": false, "score": 0, "creation_date": 1472135301, "post_id": 39133431, "comment_id": 65639557, "body": "@Arif If you want to stay open source, then the two most popular choices are MySQL and PostGreSQL. I can&#39;t give you any personal advice on their performance; the only time I&#39;ve worked with data sets that large was when I was at a company using SQL Server and Oracle. This website has a comparison between the two and SQLite: <a href=\"https://www.digitalocean.com/community/tutorials/sqlite-vs-mysql-vs-postgresql-a-comparison-of-relational-database-management-systems\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a>."}], "tags": [], "owner": {"reputation": 177, "user_id": 4111370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6iID.png?s=128&g=1", "display_name": "TripleD", "link": "https://stackoverflow.com/users/4111370/tripled"}, "is_accepted": true, "score": 1, "last_activity_date": 1472074718, "creation_date": 1472074718, "answer_id": 39133431, "question_id": 39132715, "link": "https://stackoverflow.com/questions/39132715/increase-query-speed-in-sqlite/39133431#39133431", "title": "Increase Query Speed in Sqlite", "body": "<p>Sending and retrieving an SQL query is \"expensive\" in terms of time. The easiest way to speed things up would be to use SQL functions to reduce the number of queries.</p>\n\n<p>For example, the first two queries could be reduced to a single call using COUNT(), UNION, and Aliases.</p>\n\n<pre><code>SELECT COUNT(*)\n FROM\n ( SELECT rowid FROM rawdata where ...\n   UNION\n   SELECT rowid FROM rawdata where ...\n ) totalmatch\n</code></pre>\n\n<p>In this case we take the two original queries (with your conditions in place of the \"...\") combine them with a UNION statement, give that union the alias \"totalmatch\", and count all the rows in it.</p>\n\n<p>Same thing can be done with the second set of queries. Instead of cycling 16 times over 2 queries (resulting in 32 calls to the SQL engine) you can replace it with one query by also using GROUP BY.</p>\n\n<pre><code>SELECT PolPosition, COUNT(PolPosition)\nFROM\n( SELECT PolPosition FROM rawdata WHERE ...\n  UNION\n  SELECt PolPosition FROM rawdata WHERE ...\n) totalmatch\nGROUP BY PolPosition\n</code></pre>\n\n<p>In this case we take the exact same query as before and group it by PolPosition, using COUNT to display how many rows are in each group.</p>\n\n<p>W3Schools is a great resource for how these functions work:\n<a href=\"http://www.w3schools.com/sql/default.asp\" rel=\"nofollow\">http://www.w3schools.com/sql/default.asp</a></p>\n"}], "owner": {"reputation": 69, "user_id": 6754362, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-srROxdl-le8/AAAAAAAAAAI/AAAAAAAAA9A/xIq-LVzN4sw/photo.jpg?sz=128", "display_name": "Arif Akhtar", "link": "https://stackoverflow.com/users/6754362/arif-akhtar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 869, "favorite_count": 0, "accepted_answer_id": 39133431, "answer_count": 1, "score": 0, "last_activity_date": 1472074718, "creation_date": 1472071371, "question_id": 39132715, "link": "https://stackoverflow.com/questions/39132715/increase-query-speed-in-sqlite", "title": "Increase Query Speed in Sqlite", "body": "<p>I am a very newbie in using python and sqlite. I am trying to create a script that reads a data from a table (rawdata) and then performs some calculations which is then stored in a new table. I am counting the number race that a player has won before that date at a particular track position and calculating the percentage. There are 15 track positions in total. Overall the script is very slow. Any suggestions to improve its speed. I have already used the PRAGMA parameters.</p>\n\n<p>Below is the script.</p>\n\n<pre><code>for item in result:\n        l1 = str(item[0])\n        l2 = item[1]\n        l3 = int(item[2])\n\n        winpost = []\n        key = l1.split(\"|\")\n        dt = l2\n\n        ###Denominator--------------\n        cursor.execute(\n            \"SELECT rowid FROM rawdata WHERE Track = ? AND Date&lt; ? AND Distance = ? AND Surface =? AND OfficialFinish=1\",\n            (key[2], dt, str(key[4]), str(key[5]),))\n        result_den1 = cursor.fetchall()\n        cursor.execute(\n            \"SELECT rowid FROM rawdata WHERE Track = ? AND RaceSN&lt;= ? AND Date= ? AND Distance = ? AND Surface =? AND OfficialFinish=1\",\n            (key[2], int(key[3]), dt, str(key[4]), str(key[5]),))\n        result_den2 = cursor.fetchall()\n        totalmat = len(result_den1) + len(result_den2)\n\n        if totalmat &gt; 0:\n\n            for i in range(1, 16):\n                cursor.execute(\n                    \"SELECT rowid FROM rawdata WHERE Track = ? AND Date&lt; ? AND PolPosition = ? AND Distance = ? AND Surface =? AND OfficialFinish=1\",\n                    (key[2], dt, i, str(key[4]), str(key[5]),))\n                result_num1 = cursor.fetchall()\n                cursor.execute(\n                    \"SELECT rowid FROM rawdata WHERE Track = ? AND RaceSN&lt;= ?  AND Date= ? AND PolPosition = ? AND Distance = ? AND Surface =? AND OfficialFinish=1\",\n                    (key[2], int(key[3]), dt, i, str(key[4]), str(key[5]),))\n                result_num2 = cursor.fetchall()\n                winpost.append(len(result_num1) + len(result_num2))\n\n            winpost = [float(x) / totalmat for x in winpost]\n            rank = rankmin(winpost)\n            franks = list(rank)\n            franks.insert(0, int(key[3]))\n            franks.insert(0, dt)\n            franks.insert(0, l1)\n            table1.append(franks)\n            franks = []\n\n    cursor.executemany(\"INSERT INTO posttable VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\", table1)\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 443, "user_id": 1809023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/812ffa2fc2ba4aa33246ce8b5688c150?s=128&d=identicon&r=PG", "display_name": "Ascurion", "link": "https://stackoverflow.com/users/1809023/ascurion"}, "edited": false, "score": 0, "creation_date": 1472074498, "post_id": 39132712, "comment_id": 65612141, "body": "Could you please specify the <code>product</code> function you are using. As posted the code does not work for me."}], "answers": [{"tags": [], "owner": {"reputation": 443, "user_id": 1809023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/812ffa2fc2ba4aa33246ce8b5688c150?s=128&d=identicon&r=PG", "display_name": "Ascurion", "link": "https://stackoverflow.com/users/1809023/ascurion"}, "is_accepted": false, "score": 0, "last_activity_date": 1472075353, "creation_date": 1472075353, "answer_id": 39133555, "question_id": 39132712, "link": "https://stackoverflow.com/questions/39132712/numpy-array-converted-to-pandas-dataframe-drops-values/39133555#39133555", "title": "numpy array converted to pandas dataframe drops values", "body": "<p>I can't fully reproduce your code.</p>\n\n<p>But I find the problem is that you have to turn the lower and upper boundaries around in the <code>between</code> query. The following works for me:</p>\n\n<pre><code>print(node_df[(node_df.depth==10) &amp; node_df.xx.between(-31,-30)])\n</code></pre>\n\n<p>when using:</p>\n\n<pre><code>ng = np.array([[-30.9,  10. ],\n                [-30.8,  10. ],\n                [-30.7,  10. ],\n                [-30.6,  10. ],\n                [-30.5,  10. ],\n                [-30.4,  10. ],\n                [-30.3,  10. ],\n                [-30.2,  10. ],\n                [-30.1,  10. ]])\nnode_df = pd.DataFrame(ng)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 6754540, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/5db34884fb8df5155c7b5023dfb22c4e?s=128&d=identicon&r=PG", "display_name": "scottD", "link": "https://stackoverflow.com/users/6754540/scottd"}, "is_accepted": true, "score": 1, "last_activity_date": 1472077055, "last_edit_date": 1472077055, "creation_date": 1472075412, "answer_id": 39133567, "question_id": 39132712, "link": "https://stackoverflow.com/questions/39132712/numpy-array-converted-to-pandas-dataframe-drops-values/39133567#39133567", "title": "numpy array converted to pandas dataframe drops values", "body": "<p>the \"between\" function demands that the first argument be less than the latter.</p>\n\n<p><code>\nIn: print(node_df[(node_df.depth==10) &amp; node_df.xx.between(-31,-30)])\n          xx  depth\n116390 -31.0   10.0\n116791 -30.9   10.0\n117192 -30.8   10.0\n117593 -30.7   10.0\n117994 -30.6   10.0\n118395 -30.5   10.0\n118796 -30.4   10.0\n119197 -30.3   10.0\n119598 -30.2   10.0\n119999 -30.1   10.0\n120400 -30.0   10.0</code></p>\n\n<p>For clarity the <code>product()</code> function used comes from the <code>itertools</code> package, i.e., <code>from itertools import product</code></p>\n"}], "owner": {"reputation": 989, "user_id": 845888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/62a278879009d837b1d64fa011046183?s=128&d=identicon&r=PG", "display_name": "mnky9800n", "link": "https://stackoverflow.com/users/845888/mnky9800n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 1, "accepted_answer_id": 39133567, "answer_count": 2, "score": 2, "last_activity_date": 1472077055, "creation_date": 1472071361, "question_id": 39132712, "link": "https://stackoverflow.com/questions/39132712/numpy-array-converted-to-pandas-dataframe-drops-values", "title": "numpy array converted to pandas dataframe drops values", "body": "<p>I need to calculate statistics for each node of a 2D grid. I figured the easy way to do this was to take the cross join (AKA cartesian product) of two ranges. I implemented this using <code>numpy</code> as this function:</p>\n\n<pre><code>def node_grid(x_range, y_range, x_increment, y_increment):\n    x_min = float(x_range[0])\n    x_max = float(x_range[1])\n    x_num = (x_max - x_min)/x_increment + 1\n    y_min = float(y_range[0])\n    y_max = float(y_range[1])\n    y_num = (y_max - y_min)/y_increment + 1\n\n    x = np.linspace(x_min, x_max, x_num)\n    y = np.linspace(y_min, y_max, y_num)\n\n    ng = list(product(x, y))\n    ng = np.array(ng)\n    return ng, x, y\n</code></pre>\n\n<p>However when I convert this to a <code>pandas</code> dataframe it drops values. For example:</p>\n\n<pre><code>In [2]: ng = node_grid(x_range=(-60, 120), y_range=(0, 40), x_increment=0.1, y_increment=0.1)\nIn [3]: ng[0][(ng[0][:,0] &gt; -31) &amp; (ng[0][:,0] &lt; -30) &amp; (ng[0][:,1]==10)]\nOut[3]: array([[-30.9,  10. ],\n   [-30.8,  10. ],\n   [-30.7,  10. ],\n   [-30.6,  10. ],\n   [-30.5,  10. ],\n   [-30.4,  10. ],\n   [-30.3,  10. ],\n   [-30.2,  10. ],\n   [-30.1,  10. ]])\n\nIn [4]: node_df = pd.DataFrame(ng[0])\nnode_df.columns = ['xx','depth']\nprint(node_df[(node_df.depth==10) &amp; node_df.xx.between(-30,-31)])\nOut[4]:Empty DataFrame\nColumns: [xx, depth]\nIndex: []\n</code></pre>\n\n<p>The dataframe isn't empty:</p>\n\n<pre><code>In [5]: print(node_df.head())\nOut[5]:      xx  depth\n0 -60.0    0.0\n1 -60.0    0.1\n2 -60.0    0.2\n3 -60.0    0.3\n4 -60.0    0.4\n</code></pre>\n\n<p>values from the numpy array are being dropped when they are being put into the pandas array. Why?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1472072012, "post_id": 39132661, "comment_id": 65610993, "body": "<a href=\"https://docs.python.org/3/library/struct.html#format-strings\" rel=\"nofollow noreferrer\">docs.python.org/3/library/struct.html#format-strings</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472072515, "post_id": 39132661, "comment_id": 65611217, "body": "What&#39;s up with the crazy byte order? That&#39;s not big-endian or little-endian."}, {"owner": {"reputation": 10633, "user_id": 607846, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/969d957d597e253d658a5f6cce8b6123?s=128&d=identicon&r=PG", "display_name": "Baz", "link": "https://stackoverflow.com/users/607846/baz"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472150501, "post_id": 39132661, "comment_id": 65648652, "body": "@user2357112 I&#39;m sorry. The reason it was messed up was because I was using &quot;hexdump -x&quot; to view the bytes in the file. Without the -x it makes more sense."}], "answers": [{"comments": [{"owner": {"reputation": 10633, "user_id": 607846, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/969d957d597e253d658a5f6cce8b6123?s=128&d=identicon&r=PG", "display_name": "Baz", "link": "https://stackoverflow.com/users/607846/baz"}, "edited": false, "score": 0, "creation_date": 1472148694, "post_id": 39132879, "comment_id": 65647681, "body": "Outputting [hex(i) for i in t] for your answer gives [&#39;0x1e&#39;, &#39;0x6e&#39;, &#39;0xa&#39;, &#39;0x0&#39;]. I&#39;m looking for  [&#39;0x6e&#39;, &#39;0x1e&#39;, &#39;0x0&#39;,&#39;0xa&#39;]"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 10633, "user_id": 607846, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/969d957d597e253d658a5f6cce8b6123?s=128&d=identicon&r=PG", "display_name": "Baz", "link": "https://stackoverflow.com/users/607846/baz"}, "edited": false, "score": 0, "creation_date": 1472149473, "post_id": 39132879, "comment_id": 65648110, "body": "so you really want this mixed little-big-endian stuff. So see my updated answer."}, {"owner": {"reputation": 10633, "user_id": 607846, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/969d957d597e253d658a5f6cce8b6123?s=128&d=identicon&r=PG", "display_name": "Baz", "link": "https://stackoverflow.com/users/607846/baz"}, "edited": false, "score": 0, "creation_date": 1472150668, "post_id": 39132879, "comment_id": 65648737, "body": "I&#39;m sorry @Daniel, your original answer was indeed correct. I was using &quot;hexdump -x&quot; to view the file which was switching things around. I&#39;ve edited my question with the correct bytes."}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 10633, "user_id": 607846, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/969d957d597e253d658a5f6cce8b6123?s=128&d=identicon&r=PG", "display_name": "Baz", "link": "https://stackoverflow.com/users/607846/baz"}, "edited": false, "score": 0, "creation_date": 1472151932, "post_id": 39132879, "comment_id": 65649311, "body": "so back again, again."}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 2, "last_activity_date": 1472151904, "last_edit_date": 1472151904, "creation_date": 1472072164, "answer_id": 39132879, "question_id": 39132661, "link": "https://stackoverflow.com/questions/39132661/represent-number-as-a-bytes-using-16-bit-blocks/39132879#39132879", "title": "Represent number as a bytes using 16-bit blocks", "body": "<p>Use the <code>.tobytes</code>-method:</p>\n\n<pre><code>num = 683550\nbytes = num.to_bytes((num.bit_length()+15)//16*2, \"little\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10633, "user_id": 607846, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/969d957d597e253d658a5f6cce8b6123?s=128&d=identicon&r=PG", "display_name": "Baz", "link": "https://stackoverflow.com/users/607846/baz"}, "edited": false, "score": 0, "creation_date": 1472149759, "post_id": 39134342, "comment_id": 65648252, "body": "You need to output bytes not a string."}, {"owner": {"reputation": 141, "user_id": 6480801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd135b23915df90b7a98c4deec1c1a29?s=128&d=identicon&r=PG&f=1", "display_name": "Eduardo Cuesta", "link": "https://stackoverflow.com/users/6480801/eduardo-cuesta"}, "reply_to_user": {"reputation": 10633, "user_id": 607846, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/969d957d597e253d658a5f6cce8b6123?s=128&d=identicon&r=PG", "display_name": "Baz", "link": "https://stackoverflow.com/users/607846/baz"}, "edited": false, "score": 0, "creation_date": 1472174303, "post_id": 39134342, "comment_id": 65657505, "body": "Then just return encoded_num_in_bytes instead of encoded_num in the function."}], "tags": [], "owner": {"reputation": 141, "user_id": 6480801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd135b23915df90b7a98c4deec1c1a29?s=128&d=identicon&r=PG&f=1", "display_name": "Eduardo Cuesta", "link": "https://stackoverflow.com/users/6480801/eduardo-cuesta"}, "is_accepted": false, "score": 0, "last_activity_date": 1472080156, "creation_date": 1472080156, "answer_id": 39134342, "question_id": 39132661, "link": "https://stackoverflow.com/questions/39132661/represent-number-as-a-bytes-using-16-bit-blocks/39134342#39134342", "title": "Represent number as a bytes using 16-bit blocks", "body": "<p>Using python3:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def encode_to_my_hex_format(num, bytes_group_len=2, byteorder='little'):\n  \"\"\"\n  @param byteorder can take the values 'little' or 'big'\n  \"\"\"\n  bytes_needed = abs(-len(bin(num)[2: ]) // 8)\n\n  if bytes_needed % bytes_group_len:\n    bytes_needed += bytes_group_len - bytes_needed % bytes_group_len\n\n  num_in_bytes = num.to_bytes(bytes_needed, byteorder)\n  encoded_num_in_bytes = b''\n\n  for index in range(0, len(num_in_bytes), bytes_group_len):\n    bytes_group = num_in_bytes[index: index + bytes_group_len]\n\n    if byteorder == 'little':\n      bytes_group = bytes_group[-1: -len(bytes_group) -1 : -1]\n\n    encoded_num_in_bytes += bytes_group\n\n  encoded_num = ''\n\n  for byte in encoded_num_in_bytes:\n    encoded_num += r'\\x' + hex(byte)[2: ].zfill(2)\n\n  return encoded_num\n\nprint(encode_to_my_hex_format(683550))\n</code></pre>\n"}], "owner": {"reputation": 10633, "user_id": 607846, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/969d957d597e253d658a5f6cce8b6123?s=128&d=identicon&r=PG", "display_name": "Baz", "link": "https://stackoverflow.com/users/607846/baz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 39132879, "answer_count": 2, "score": 2, "last_activity_date": 1472151904, "creation_date": 1472071135, "last_edit_date": 1472150195, "question_id": 39132661, "link": "https://stackoverflow.com/questions/39132661/represent-number-as-a-bytes-using-16-bit-blocks", "title": "Represent number as a bytes using 16-bit blocks", "body": "<p>I wish to convert a number like <code>683550</code> (0xA6E1E) to <code>b'\\x1e\\x6e\\x0a\\x00'</code>, where the number of bytes in the array is a multiple of 2 and where the len of the bytes object is only so long as it needs to be to represent the number.</p>\n\n<p>This is as far as I got:</p>\n\n<pre><code>\"{0:0{1}x}\".format(683550,8)\n</code></pre>\n\n<p>giving:</p>\n\n<pre><code>'000a6e1e' \n</code></pre>\n"}, {"tags": ["python", "multithreading", "wxpython", "pyserial"], "answers": [{"tags": [], "owner": {"reputation": 16948, "user_id": 4637585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2ff170e0cfa0be15efaabd3acef4df34?s=128&d=identicon&r=PG&f=1", "display_name": "Rolf of Saxony", "link": "https://stackoverflow.com/users/4637585/rolf-of-saxony"}, "is_accepted": false, "score": 1, "last_activity_date": 1472139247, "last_edit_date": 1495541800, "creation_date": 1472139247, "answer_id": 39149329, "question_id": 39132641, "link": "https://stackoverflow.com/questions/39132641/python-pyserial-wxpython-threading/39149329#39149329", "title": "Python PYserial WxPython Threading", "body": "<p>Don't use the <code>.join</code> commands. They are blocking the main thread.<br>\nSee this SO question for an in depth description:<br>\n<a href=\"https://stackoverflow.com/questions/15085348/what-is-the-use-of-join-in-python-threading\">what is the use of join() in python threading</a></p>\n"}, {"tags": [], "owner": {"reputation": 5783, "user_id": 395984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57d4a16205f08542f455a3f1a15ab2ce?s=128&d=identicon&r=PG", "display_name": "RobinDunn", "link": "https://stackoverflow.com/users/395984/robindunn"}, "is_accepted": false, "score": 1, "last_activity_date": 1472139457, "creation_date": 1472139457, "answer_id": 39149414, "question_id": 39132641, "link": "https://stackoverflow.com/questions/39132641/python-pyserial-wxpython-threading/39149414#39149414", "title": "Python PYserial WxPython Threading", "body": "<p><code>Thread.join</code> will block until the thread terminates.  If your GUI's event handlers are blocked and unable to return to the MainLoop then other events can not be received and dispatched, and so the application appears to be frozen.</p>\n"}], "owner": {"reputation": 808, "user_id": 4463825, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/1d305404404727e4c1dc80b8e020547a?s=128&d=identicon&r=PG&f=1", "display_name": "Jesh Kundem", "link": "https://stackoverflow.com/users/4463825/jesh-kundem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1472139457, "creation_date": 1472071054, "last_edit_date": 1472071892, "question_id": 39132641, "link": "https://stackoverflow.com/questions/39132641/python-pyserial-wxpython-threading", "title": "Python PYserial WxPython Threading", "body": "<p>Can any one please tell me whats wrong with this piece of code. </p>\n\n<p>When I press button 1 - everything is good. I want to press button2 - to stop the process started by button 1 and do an another process. I am unable to do it - MY GUI is going irresponsive. </p>\n\n<p>You are welcome to edit the serial communication with PRINT statements if you like in doit and doit2 functions. </p>\n\n<p>Please dont comment about how I made the GUI  - it is just a quick example. Please comment on why I am unable to pass the pill2kill - when I press the button 2. And why my GUI is going to irresponsive state. </p>\n\n<pre><code>import threading\nimport time\nimport numpy as np\nimport serial\nfrom Transmit import Write\nfrom Receive import Read\nimport struct\nimport time\nimport serial.tools.list_ports\n\n\nimport wx\n\n\n\n\n\n\n\nclass windowClass(wx.Frame):\ndef __init__(self, parent, title):\n\n    appSize_x = 1100\n    appSize_y = 800\n\n    super(windowClass, self).__init__(parent, title = title, style = wx.MINIMIZE_BOX | wx.SYSTEM_MENU | wx.CLOSE_BOX |wx.CAPTION, size = (appSize_x, appSize_y))\n\n    self.basicGUI()\n    self.Centre()\n    self.Show()\n\ndef basicGUI(self):\n\n\n    # Main Panel\n    panel1 = wx.Panel(self)\n\n    panel1.SetBackgroundColour('#D3D3D3')\n\n    firmware_version = wx.StaticText(panel1, -1, \"RANDOM1\", pos = (70, 10) )\n\n    firmware_version_text_control = wx.TextCtrl(panel1, -1, size = (70,25), pos = (105,40))\n\n    pump_model_serial_number = wx.StaticText(panel1, -1, \"RANDOM2\", pos=(25, 75))\n    pump_model_serial_number.SetBackgroundColour('yellow')\n\n    model = wx.StaticText(panel1, -1, \"RANDOM3\", pos=(110, 100))\n\n    self.listbox = wx.ListBox(panel1, -1, size = (300,250), pos = (20,135))\n\n    clear_history = wx.Button(panel1, -1, 'BUTTON1', size = (225,30), pos = (40, 400))\n    clear_history.SetBackgroundColour('RED')\n    clear_history.Bind(wx.EVT_BUTTON, self.OnClearHistory)\n\n    clear_history2 = wx.Button(panel1, -1, 'BUTTON2', size=(225, 30), pos=(40, 500))\n    clear_history2.SetBackgroundColour('GREEN')\n    clear_history2.Bind(wx.EVT_BUTTON, self.OnClearHistory2)\n\n\n\ndef OnClearHistory(self, event):\n\n    self.pill2kill = threading.Event()\n    self.t = threading.Thread(target=self.doit, args=(self.pill2kill, \"task\"))\n    self.t.start()\n    self.t.join()\n\ndef OnClearHistory2(self, event):\n\n    self.pill2kill.set()\n\n    self.t1 = threading.Thread(target=self.doit2)\n    self.t1.start()\n    time.sleep(5)\n    self.t1.join()\n\n\ndef doit(self, stop_event, arg):\n\n    while not stop_event.wait(1):\n        print (\"working on %s\" % arg)\n\n        ser = serial.Serial(3, 115200)\n        c = ser.write('\\x5A\\x03\\x02\\x02\\x02\\x09')\n        print c\n        d = ser.read(7)\n        print d.encode('hex')\n        ser.close()\n\n\n    print(\"Stopping as you wish.\")\n\n\ndef doit2(self):\n    #print (\"working on %s\" % arg)\n\n    ser = serial.Serial(3, 115200)\n    c = ser.write('\\x5A\\x03\\x02\\x08\\x02\\x0F') # Writing to an MCU\n    print c\n    d = ser.read(7)\n    print d.encode('hex')\n    ser.close()\n\n\n\n\ndef random():\n    app = wx.App()\n    windowClass(None, title='random')\n    app.MainLoop()\n\nrandom()\n</code></pre>\n"}, {"tags": ["python", "css", "web-scraping"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1472075625, "post_id": 39132613, "comment_id": 65612587, "body": "You don&#39;t need to use <code>CSSSelector</code>, you can call <code>tree.cssselect</code> as per my answer to your last question."}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 2, "last_activity_date": 1472071257, "creation_date": 1472071257, "answer_id": 39132688, "question_id": 39132613, "link": "https://stackoverflow.com/questions/39132613/webscraping-multiline-cells-in-tables-using-css-selectors-and-python/39132688#39132688", "title": "Webscraping multiline cells in tables using CSS Selectors and Python", "body": "<p>The problem is that some of the cells contain multiple text nodes delimited by a <code>&lt;br&gt;</code>. In cases like this, <em>find all text nodes</em> and join them:</p>\n\n<pre><code>data1 = [\", \".join(result.xpath(\"text()\")) for result in rows] \n</code></pre>\n\n<p>For the provided rows in the screenshot, you would get:</p>\n\n<pre><code>OSCAR HUISSOON, FREJA WEBBER\nELLIE LAWLEY, RHYS TIPPINGS\nALLISON MILES, ALEX MILES\nNICOLA RUDGE, DEBORAH CRUMP\n</code></pre>\n\n<p>You could have also used <code>.text_content()</code> method, but you would lose the delimiter between the text nodes, getting things like  <code>OSCAR HUISSOONFREJA WEBBER</code> in the result.</p>\n"}], "owner": {"reputation": 300, "user_id": 5102848, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10153568500384835/picture?type=large", "display_name": "cstaff91", "link": "https://stackoverflow.com/users/5102848/cstaff91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 1, "accepted_answer_id": 39132688, "answer_count": 1, "score": 2, "last_activity_date": 1472071257, "creation_date": 1472070950, "question_id": 39132613, "link": "https://stackoverflow.com/questions/39132613/webscraping-multiline-cells-in-tables-using-css-selectors-and-python", "title": "Webscraping multiline cells in tables using CSS Selectors and Python", "body": "<p>So I'm webscraping a page (<a href=\"http://canoeracing.org.uk/marathon/results/burton2016.htm\" rel=\"nofollow noreferrer\">http://canoeracing.org.uk/marathon/results/burton2016.htm</a>) where there are multiline cells in tables:\n<a href=\"https://i.stack.imgur.com/DHlLQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DHlLQ.png\" alt=\"\"></a></p>\n\n<p>I'm using the following code to scrape each column (the one below so happens to scrape the names):</p>\n\n<pre><code>import lxml.html\nfrom lxml.cssselect import CSSSelector\n\n# get some html\nimport requests\n\nr = requests.get('http://canoeracing.org.uk/marathon/results/burton2016.htm')\n# build the DOM Tree\ntree = lxml.html.fromstring(r.text)\n# construct a CSS Selector\nsel1 = CSSSelector('body &gt; table &gt; tr &gt; td:nth-child(2)')\n# Apply the selector to the DOM tree.\nresults1 = sel1(tree)\n# get the text out of all the results\ndata1 = [result.text for result in results1]\n</code></pre>\n\n<p>Unfortunately it's only returning the first name from each cell, not both. I've tried a similar thing on the webscraping tool Kimono and I'm able to scrape both, however I want to sent up a Python code as Kimono falls down when running over multiple webpages.</p>\n"}, {"tags": ["python", "python-3.x", "file-io", "glob"], "comments": [{"owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "edited": false, "score": 0, "creation_date": 1472071187, "post_id": 39132566, "comment_id": 65610621, "body": "Frankenstein&#39;ed together - ha ha ha :-)"}], "answers": [{"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 2, "last_activity_date": 1472070988, "creation_date": 1472070988, "answer_id": 39132623, "question_id": 39132566, "link": "https://stackoverflow.com/questions/39132566/iterate-through-all-files-in-a-directory-and-find-and-replace-text-python/39132623#39132623", "title": "Iterate through all files in a directory and find and replace text - Python", "body": "<p>You should loop over the result of <code>glob</code> and not a tuple with the function object <code>glob</code>:</p>\n\n<pre><code>for filename in glob('*.LIC'):\n    with fileinput.FileInput(filename, inplace=True, backup='.bak') as file:\n        for line in file:\n            print(line.replace('findText', 'replaceText'),  end='')\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3818310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nahs0.jpg?s=128&g=1", "display_name": "DavidU", "link": "https://stackoverflow.com/users/3818310/davidu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1385, "favorite_count": 0, "accepted_answer_id": 39132623, "answer_count": 1, "score": 1, "last_activity_date": 1472138499, "creation_date": 1472070737, "last_edit_date": 1472138499, "question_id": 39132566, "link": "https://stackoverflow.com/questions/39132566/iterate-through-all-files-in-a-directory-and-find-and-replace-text-python", "title": "Iterate through all files in a directory and find and replace text - Python", "body": "<p>Baby brand new. This was Frankenstein'ed together from a few similar topics, none of which seemed to cover the necessary step of nesting a find and replace inside a file loop. </p>\n\n<p>I am attempting to iterate through every file in a folder (not recursively, I only have one folder level) of a specific type (listed here as a '.LIC') and replace a short bit of text. The following is as close as I could come:    </p>\n\n<pre><code>import glob, os, fileinput\nfrom glob import glob\nroot_dir = r\"myPath\"\nos.chdir(root_dir)\n    for file in glob, glob('*.LIC'):\n    filename = str(file)\n    with fileinput.FileInput(filename, inplace=True, backup='.bak') as file:\n        for line in file:\n            print(line.replace('findText', 'replaceText'),  end='')\n</code></pre>\n\n<p>As you can imagine this went swimmingly. The error code is placed below.</p>\n\n<pre><code>OSError                                   Traceback (most recent call last)\n&lt;ipython-input-61-e2fd0e9a5df9&gt; in &lt;module&gt;()\n      6     filename = str(file)\n      7     with fileinput.FileInput(filename, inplace=True, backup='.bak') as file:\n----&gt; 8         for line in file:\n      9             print(line.replace('findText', 'replaceText'), end='')\n     10 \n\nC:\\Users\\Me\\Anaconda3\\lib\\fileinput.py in __next__(self)\n    246     def __next__(self):\n    247         while True:\n--&gt; 248             line = self._readline()\n    249             if line:\n    250                 self._filelineno += 1\n\nC:\\Users\\Me\\Anaconda3\\lib\\fileinput.py in _readline(self)\n    333                     pass\n    334                 # The next few lines may raise OSError\n--&gt; 335                 os.rename(self._filename, self._backupfilename)\n    336                 self._file = open(self._backupfilename, self._mode)\n    337                 try:\n\nOSError: [WinError 123] The filename, directory name, or volume label syntax is incorrect: '&lt;function glob at 0x00000000013D3400&gt;' -&gt; '&lt;function glob at 0x00000000013D3400&gt;.bak'\n</code></pre>\n\n<p>I think my problem is nesting a reference to 'file', but I am unsure how to resolve this.</p>\n\n<p>Thank you for the help in advance.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1545, "user_id": 1872234, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ebaa7e51aa78b438266d08deb48fcfc4?s=128&d=identicon&r=PG", "display_name": "Wajahat", "link": "https://stackoverflow.com/users/1872234/wajahat"}, "edited": false, "score": 2, "creation_date": 1472070785, "post_id": 39132563, "comment_id": 65610405, "body": "What is the problem with your current code?"}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1472070817, "post_id": 39132563, "comment_id": 65610427, "body": "@AndrewL. because a tuple is more correct than a list here, the values are not meant to be changed."}, {"owner": {"reputation": 5, "user_id": 6745157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf573ece9acc5f9785f65030ccc77be?s=128&d=identicon&r=PG&f=1", "display_name": "Gu--", "link": "https://stackoverflow.com/users/6745157/gu"}, "reply_to_user": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1472070892, "post_id": 39132563, "comment_id": 65610476, "body": "@karlosss what do you mean?"}, {"owner": {"reputation": 1545, "user_id": 1872234, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ebaa7e51aa78b438266d08deb48fcfc4?s=128&d=identicon&r=PG", "display_name": "Wajahat", "link": "https://stackoverflow.com/users/1872234/wajahat"}, "edited": false, "score": 1, "creation_date": 1472070906, "post_id": 39132563, "comment_id": 65610486, "body": "The error you have posted is inconsistent with the code you have posted."}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1472071187, "post_id": 39132563, "comment_id": 65610622, "body": "@Gu-- as long as Python has no constants, it uses tuples as &quot;immutable lists&quot;. So you are correct with your keyword list definition, what @AndrewL. suggested was doing <code>kwlist=[&quot;pain&quot;, &quot;suffering&quot;, &quot;hurt&quot;]</code>"}, {"owner": {"reputation": 5, "user_id": 6745157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf573ece9acc5f9785f65030ccc77be?s=128&d=identicon&r=PG&f=1", "display_name": "Gu--", "link": "https://stackoverflow.com/users/6745157/gu"}, "edited": false, "score": 0, "creation_date": 1472073426, "post_id": 39132563, "comment_id": 65611633, "body": "I have found the answer below. Sorry for not accurately asking the question, but what was wrong is that the user could answer question1 with &quot;I am suffering&quot; and the print statement wouldnt work.  it asks &quot;how are you feeling&quot; and if you said &quot;hurt&quot; it wouldnt follow through with the print statement"}], "answers": [{"comments": [{"owner": {"reputation": 721, "user_id": 3504681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f005ac82beff2db9514fda0eeef6f65?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kravetz Malabud", "link": "https://stackoverflow.com/users/3504681/daniel-kravetz-malabud"}, "edited": false, "score": 0, "creation_date": 1472071239, "post_id": 39132606, "comment_id": 65610647, "body": "To add to this reply; if the user inputs &quot;I am suffering&quot;, when you <code>split()</code> the input, it will end up in a list like <code>(&quot;I&quot;, &quot;am&quot;, &quot;suffering&quot;)</code>, thus you can iterate on it and confirm if each word is in your <code>keywordlist</code>"}, {"owner": {"reputation": 5, "user_id": 6745157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf573ece9acc5f9785f65030ccc77be?s=128&d=identicon&r=PG&f=1", "display_name": "Gu--", "link": "https://stackoverflow.com/users/6745157/gu"}, "edited": false, "score": 0, "creation_date": 1472073240, "post_id": 39132606, "comment_id": 65611559, "body": "Okay so, this actually worked. I placed it in my actual code which is very similar to the one I used for reference, the problem is:  If you reply to question1 with more than one of the key words like &quot;I am in pain and I hurt a lot&quot; it will print &quot;something here&quot; two times..."}], "tags": [], "owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "is_accepted": false, "score": 0, "last_activity_date": 1472070913, "creation_date": 1472070913, "answer_id": 39132606, "question_id": 39132563, "link": "https://stackoverflow.com/questions/39132563/check-if-user-input-contains-a-word-from-an-array-python-3/39132606#39132606", "title": "Check if user input contains a word from an array - Python 3", "body": "<p>Splitting the string should work. You can split on spaces so each individual word ends up being an element in a list. Like so</p>\n\n<pre><code>keywordlist = (\"pain\", \"suffering\", \"hurt\")\nquestion1 = input(\"how are you feeling?\")\nquestion_parts = question1.split(\" \")\nfor part in question_parts:\n    if part.lower() in keywordlist:\n        print(\"something here\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 6745157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf573ece9acc5f9785f65030ccc77be?s=128&d=identicon&r=PG&f=1", "display_name": "Gu--", "link": "https://stackoverflow.com/users/6745157/gu"}, "edited": false, "score": 0, "creation_date": 1472073516, "post_id": 39132725, "comment_id": 65611677, "body": "THANK YOU!! That is the dumbed down version I was looking for haha I appreciate it! Thumbs up (: Both the methods posted on this question worked! Thanks"}], "tags": [], "owner": {"reputation": 1545, "user_id": 1872234, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ebaa7e51aa78b438266d08deb48fcfc4?s=128&d=identicon&r=PG", "display_name": "Wajahat", "link": "https://stackoverflow.com/users/1872234/wajahat"}, "is_accepted": true, "score": 2, "last_activity_date": 1472071419, "creation_date": 1472071419, "answer_id": 39132725, "question_id": 39132563, "link": "https://stackoverflow.com/questions/39132563/check-if-user-input-contains-a-word-from-an-array-python-3/39132725#39132725", "title": "Check if user input contains a word from an array - Python 3", "body": "<p>Assuming that you want the user to input a sentence and want to check if any word is in the keyword list:</p>\n\n<pre><code>keywordlist = (\"pain\", \"suffering\", \"hurt\")\nquestion1 = input(\"how are you feeling?\")\ninput_words=question1.lower().split()\nfor word in input_words:\n    if word in keywordlist:\n        print(\"something here\")\n</code></pre>\n\n<p>The reason <code>if any(word in Question1 for word in keywordlist.split(\",\")):</code> gave you that error is because you called the <code>split()</code> method on <code>keywordlist</code> which is a tuple. So the error is telling you exactly what you did wrong. You want to split the input into words, the <code>keywordlist</code> already contains words split up into a tuple.</p>\n"}], "owner": {"reputation": 5, "user_id": 6745157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf573ece9acc5f9785f65030ccc77be?s=128&d=identicon&r=PG&f=1", "display_name": "Gu--", "link": "https://stackoverflow.com/users/6745157/gu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2357, "favorite_count": 1, "accepted_answer_id": 39132725, "answer_count": 2, "score": 1, "last_activity_date": 1472079132, "creation_date": 1472070730, "last_edit_date": 1495541697, "question_id": 39132563, "link": "https://stackoverflow.com/questions/39132563/check-if-user-input-contains-a-word-from-an-array-python-3", "title": "Check if user input contains a word from an array - Python 3", "body": "<p>I am writing a code that asks a set amount of questions. \nI am trying to have the user input an answer and the code checks the users input for any word in a list of several words. </p>\n\n<pre><code>keywordlist = (\"pain\", \"suffering\", \"hurt\")\nquestion1 = input(\"how are you feeling?\")\nif question1.lower() in keywordlist:\n    print(\"something here\")\n</code></pre>\n\n<p>I ended up browsing stackoverflow for the answer and came across a post about splitting a string, but I didn't understand it. It was <a href=\"https://stackoverflow.com/questions/37174119/check-a-string-for-any-items-in-an-array/37174142#37174142\">this</a> question.</p>\n\n<p>using this link I switched my code to : </p>\n\n<pre><code>if any(word in Question1 for word in keywordlist.split(\",\")):\n</code></pre>\n\n<p>but I got the error: </p>\n\n<pre><code>AttributeError: 'tuple' object has no attribute 'split'\n</code></pre>\n\n<p>I am new to Python and need the dumbed down version of the accurate way to do this. </p>\n"}, {"tags": ["python", "python-2.7", "scipy", "normal-distribution", "kolmogorov-smirnov"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472499375, "post_id": 39132537, "comment_id": 65766460, "body": "It sounds to me like you trying to estimate the parameters of the distribution given some data? You should use the <code>.fit</code> method for the <a href=\"http://docs.scipy.org/doc/scipy-0.14.0/reference/stats.html#continuous-distributions\" rel=\"nofollow noreferrer\">corresponding distribution</a>."}, {"owner": {"reputation": 131, "user_id": 5756526, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50cd20a99acb4c7134a70252afdd8700?s=128&d=identicon&r=PG&f=1", "display_name": "layces", "link": "https://stackoverflow.com/users/5756526/layces"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472501065, "post_id": 39132537, "comment_id": 65767322, "body": "@juanpa.arrivillaga Dang.. yeah I need to do individual KS tests for each parameter of the distribution, and cannot use the <code>.fit</code> method due to those corresponding distributions not accounting for the parameter examples above (sigma for norm, gamma for Cauchy), as they are the standard formulas and have simplified out the chance to vary those parameters. Let me add an edit for the visual."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1472501482, "post_id": 39132537, "comment_id": 65767531, "body": "@No, they haven&#39;t. For example, for the <code>norm</code> distribution, sigma corresponds to the <code>scale</code> parameter. mu corresponds to <code>loc</code>. Similarly, for Cauchy, gamma is <code>scale</code> and x0 is <code>loc</code>"}, {"owner": {"reputation": 131, "user_id": 5756526, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50cd20a99acb4c7134a70252afdd8700?s=128&d=identicon&r=PG&f=1", "display_name": "layces", "link": "https://stackoverflow.com/users/5756526/layces"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472502113, "post_id": 39132537, "comment_id": 65767853, "body": "@juanpa.arrivillaga Oh my, whoa. Whoa.. so can i vary them over <code>i</code> and <code>j</code> in some <code>cauchy(x, loc=i,scale=j)</code> way?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472502199, "post_id": 39132537, "comment_id": 65767894, "body": "Yes, exactly. That would solve your original problem, but you still likely want <code>.fit</code>"}, {"owner": {"reputation": 131, "user_id": 5756526, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50cd20a99acb4c7134a70252afdd8700?s=128&d=identicon&r=PG&f=1", "display_name": "layces", "link": "https://stackoverflow.com/users/5756526/layces"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472502473, "post_id": 39132537, "comment_id": 65768032, "body": "@juanpa.arrivillaga And that would estimate the parameters for chi-squared to be minimized, right?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472502741, "post_id": 39132537, "comment_id": 65768154, "body": "chi-squared to be minimized? No, it&#39;s the MLE. Why are you bringing up chi-squared?"}, {"owner": {"reputation": 131, "user_id": 5756526, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50cd20a99acb4c7134a70252afdd8700?s=128&d=identicon&r=PG&f=1", "display_name": "layces", "link": "https://stackoverflow.com/users/5756526/layces"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472505431, "post_id": 39132537, "comment_id": 65769381, "body": "Ah nevermind, I got confused with how the reduced chi squared played into curve_fit and leastsquared. Could you post in the answers section so that I can mark you as an accepted answer? Thank you for your help."}], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 1, "last_activity_date": 1472506526, "creation_date": 1472506526, "answer_id": 39215584, "question_id": 39132537, "link": "https://stackoverflow.com/questions/39132537/non-standard-distributions-variables-for-ks-testing/39215584#39215584", "title": "Non-standard distributions variables for KS testing?", "body": "<p>It seems that what you really want to do is parameter estimation.Using the KT-test in this manner is not really what it is meant for. You should use the <code>.fit</code> method for the <a href=\"http://docs.scipy.org/doc/scipy-0.14.0/reference/stats.html#continuous-distributions\" rel=\"nofollow\">corresponding distribution</a>.</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np, scipy.stats as stats\n&gt;&gt;&gt; arr = stats.norm.rvs(loc=10, scale=3, size=10) # generate 10 random samples from a normal distribution\n&gt;&gt;&gt; arr\narray([ 11.54239861,  15.76348509,  12.65427353,  13.32551871,\n        10.5756376 ,   7.98128118,  14.39058752,  15.08548683,\n         9.21976924,  13.1020294 ])\n&gt;&gt;&gt; stats.norm.fit(arr)\n(12.364046769964004, 2.3998164726918607)\n&gt;&gt;&gt; stats.cauchy.fit(arr)\n(12.921113834451496, 1.5012714431045815)\n</code></pre>\n\n<p>Now to quickly check the documentation:</p>\n\n<pre><code>&gt;&gt;&gt; help(cauchy.fit)\n\nHelp on method fit in module scipy.stats._distn_infrastructure:\n\nfit(data, *args, **kwds) method of scipy.stats._continuous_distns.cauchy_gen instance\n    Return MLEs for shape, location, and scale parameters from data.\n\n    MLE stands for Maximum Likelihood Estimate.  Starting estimates for\n    the fit are given by input arguments; for any arguments not provided\n    with starting estimates, ``self._fitstart(data)`` is called to generate\n    such.\n\n    One can hold some parameters fixed to specific values by passing in\n    keyword arguments ``f0``, ``f1``, ..., ``fn`` (for shape parameters)\n    and ``floc`` and ``fscale`` (for location and scale parameters,\n    respectively).\n\n...\n\nReturns\n-------\nshape, loc, scale : tuple of floats\n    MLEs for any shape statistics, followed by those for location and\n    scale.\n\nNotes\n-----\nThis fit is computed by maximizing a log-likelihood function, with\npenalty applied for samples outside of range of the distribution. The\nreturned answer is not guaranteed to be the globally optimal MLE, it\nmay only be locally optimal, or the optimization may fail altogether.\n</code></pre>\n\n<p>So, let's say I wanted to hold one of those parameters constant, you could easily do:</p>\n\n<pre><code>&gt;&gt;&gt; stats.cauchy.fit(arr, floc=10)\n(10, 2.4905786982353786)\n&gt;&gt;&gt; stats.norm.fit(arr, floc=10)\n(10, 3.3686549590571668)\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 5756526, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50cd20a99acb4c7134a70252afdd8700?s=128&d=identicon&r=PG&f=1", "display_name": "layces", "link": "https://stackoverflow.com/users/5756526/layces"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 39215584, "answer_count": 1, "score": 2, "last_activity_date": 1472506526, "creation_date": 1472070634, "last_edit_date": 1472501879, "question_id": 39132537, "link": "https://stackoverflow.com/questions/39132537/non-standard-distributions-variables-for-ks-testing", "title": "Non-standard distributions variables for KS testing?", "body": "<p>Could you use the kstest in scipy.stats for the non-standard distribution functions (ie. vary the DOF for Students t, or vary gamma for Cauchy)? My end goal is to find the max p-value and corresponding parameter for my distribution fit but that isn't the issue.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p><strong>\"</strong></p>\n\n<p>scipy.stat's cauchy pdf is:</p>\n\n<pre><code>cauchy.pdf(x) = 1 / (pi * (1 + x**2))\n</code></pre>\n\n<p>where it implies <code>x_0 = 0</code> for the location parameter and for gamma, <code>Y = 1</code>. I actually need it to look like this</p>\n\n<pre><code>cauchy.pdf(x, x_0, Y) = Y**2 / [(Y * pi) * ((x - x_0)**2 + Y**2)]\n</code></pre>\n\n<p><strong>\"</strong></p>\n\n<p>Q1) Could Students t, at least, could be used in a way perhaps like</p>\n\n<pre><code>stuff = []\nfor dof in xrange(0,100):\n    d, p, dof = scipy.stats.kstest(data, \"t\", args = (dof, ))\n    stuff.append(np.hstack((d, p, dof)))\n</code></pre>\n\n<p>since it seems to have the option to vary the parameter?</p>\n\n<p>Q2) How would you do this if you needed the full normal distribution equation (need to vary sigma) and Cauchy as written above (need to vary gamma)? <strong>EDIT: Instead of searching <code>scipy.stats</code> for non-standard distributions, is it actually possible to feed a function I write into the kstest that will find p-value's?</strong></p>\n\n<p>Thanks kindly</p>\n"}, {"tags": ["python", "numpy", "machine-learning", "scipy", "statistics"], "answers": [{"comments": [{"owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 0, "creation_date": 1472086012, "post_id": 39133792, "comment_id": 65615320, "body": "What do you recommend the best way to determine which distribution best describes the data? Do you think this is the best way? How about the first statistic in the kstest output? Sorry for all the questions."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 0, "creation_date": 1472087196, "post_id": 39133792, "comment_id": 65615562, "body": "@O.rka Honestly, I think you would be better off asking these sorts of questions about your approach to model generation and evalutation at <a href=\"http://stats.stackexchange.com/\">CrossValidated</a>. If you then have specific questions about how to implement these approaches, bring those back here to StackOverflow."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 1, "creation_date": 1472087537, "post_id": 39133792, "comment_id": 65615629, "body": "@O.rka But, if you want my opinion, using this approach isn&#39;t entirely unreasonable.  Low p-values can help you weed out certain models, but the test-statistic is simply the max error. You could have a low max-error but have a high overall average error."}, {"owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 0, "creation_date": 1472096946, "post_id": 39133792, "comment_id": 65617612, "body": "yea, I&#39;m still not sure which questions are better suited for either platform sometimes. I agree that those followup questions are crossvalidated worthy.  I think I know what to do from here now.  thanks again for your help and explanations.  makes way more sense now."}, {"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 1, "creation_date": 1472138562, "post_id": 39133792, "comment_id": 65641689, "body": "The p-values are wrong if the parameters are estimated. However, the test statistic or p-values can still be interpreted as a distance measure. The distribution that describes the data &quot;best&quot;, is the one with the smallest distance to the ECDF. KS uses a max or sup norm. Anderson-Darling or Von-Mises use weighted squared differences."}, {"owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 0, "creation_date": 1472409017, "post_id": 39133792, "comment_id": 65729567, "body": "sorry about that . that wasn&#39;t accident when my internet was acting up"}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 10, "last_activity_date": 1472076678, "last_edit_date": 1495540476, "creation_date": 1472076678, "answer_id": 39133792, "question_id": 39132469, "link": "https://stackoverflow.com/questions/39132469/how-to-interpret-scipy-stats-kstest-and-ks-2samp-to-evaluate-fit-of-data-t/39133792#39133792", "title": "How to interpret `scipy.stats.kstest` and `ks_2samp` to evaluate `fit` of data to a distribution?", "body": "<p>So the null-hypothesis for the KT test is that the distributions are the same. Thus, the lower your p value the greater the statistical evidence you have to reject the null hypothesis and <em>conclude the distributions are different</em>. The test only really lets you speak of your confidence that the distributions are different, not the same, since the test is designed to find <strong>alpha</strong>, the probability of Type I error. </p>\n\n<p>Also, I'm pretty sure the KT test is only valid if you have a fully specified distribution in mind beforehand. Here, you simply <em>fit</em> a gamma distribution on some data, so of course, it's no surprise the test yielded a high p-value (i.e. you cannot reject the null hypothesis that the distributions are the same). \n<p></p> Real quickly, here is the pdf of the Gamma you fit (in blue) against the pdf of the normal distribution you sampled from (in green):</p>\n\n<pre><code>In [13]: paramsd = dict(zip(('shape','loc','scale'),params))\n\nIn [14]: a = paramsd['shape']\n\nIn [15]: del paramsd['shape']\n\nIn [16]: paramsd\nOut[16]: {'loc': -71.588039241913037, 'scale': 0.051114096301755507}\n\nIn [17]: X = np.linspace(-55, -45, 100)\n\nIn [18]: plt.plot(X, stats.gamma.pdf(X,a,**paramsd))\nOut[18]: [&lt;matplotlib.lines.Line2D at 0x7ff820f21d68&gt;]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dp4i6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dp4i6.png\" alt=\"enter image description here\"></a></p>\n\n<p>It should be obvious these aren't very different. Really, the test compares the empirical CDF (ECDF) vs the CDF of you candidate distribution (which again, you derived from fitting your data to that distribution), and the test statistic is the maximum difference. Borrowing an implementation of ECDF <a href=\"https://stackoverflow.com/a/37660583/5014455\">from here</a>, we can see that any such maximum difference will be small, and the test will clearly not reject the null hypothesis:</p>\n\n<pre><code>In [32]: def ecdf(x):\n   .....:         xs = np.sort(x)\n   .....:         ys = np.arange(1, len(xs)+1)/float(len(xs))\n   .....:         return xs, ys\n   .....: \n\nIn [33]: plt.plot(X, stats.gamma.cdf(X,a,**paramsd))\nOut[33]: [&lt;matplotlib.lines.Line2D at 0x7ff805223a20&gt;]\n\nIn [34]: plt.plot(*ecdf(x))\nOut[34]: [&lt;matplotlib.lines.Line2D at 0x7ff80524c208&gt;]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/VcJH7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VcJH7.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15636, "favorite_count": 3, "accepted_answer_id": 39133792, "answer_count": 1, "score": 8, "last_activity_date": 1472247490, "creation_date": 1472070400, "last_edit_date": 1495540476, "question_id": 39132469, "link": "https://stackoverflow.com/questions/39132469/how-to-interpret-scipy-stats-kstest-and-ks-2samp-to-evaluate-fit-of-data-t", "title": "How to interpret `scipy.stats.kstest` and `ks_2samp` to evaluate `fit` of data to a distribution?", "body": "<p><strong>I'm trying to evaluate/test how well my data fits a particular distribution.</strong>  </p>\n\n<p>There are several questions about it and I was told to use either the <code>scipy.stats.kstest</code> or <code>scipy.stats.ks_2samp</code>.  It seems straightforward, give it: (A) the data; (2) the distribution; and (3) the fit parameters.  The only problem is my results don't make any sense?  I want to test the \"goodness\" of my data and it's fit to different distributions but from the output of <code>kstest</code>, I don't know if I can do this? </p>\n\n<p><a href=\"https://stackoverflow.com/questions/11268632/goodness-of-fit-tests-in-scipy\">Goodness of fit tests in SciPy</a></p>\n\n<blockquote>\n  <p>\"[SciPy] contains K-S\"</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/17901112/using-scipys-stats-kstest-module-for-goodness-of-fit-testing\">Using Scipy&#39;s stats.kstest module for goodness-of-fit testing</a> says </p>\n\n<blockquote>\n  <p>\"first value is the test statistics, and second value is the p-value. if the p-value is less than 95 (for a level of significance of 5%), this means that you cannot reject the Null-Hypothese that the two sample distributions are identical.\"</p>\n</blockquote>\n\n<p>This is just showing how to fit:\n<a href=\"https://stackoverflow.com/questions/6615489/fitting-distributions-goodness-of-fit-p-value-is-it-possible-to-do-this-with\">Fitting distributions, goodness of fit, p-value. Is it possible to do this with Scipy (Python)?</a></p>\n\n<pre><code>np.random.seed(2)\n# Sample from a normal distribution w/ mu: -50 and sigma=1\nx = np.random.normal(loc=-50, scale=1, size=100)\nx\n#array([-50.41675785, -50.05626683, -52.1361961 , -48.35972919,\n#        -51.79343559, -50.84174737, -49.49711858, -51.24528809,\n#        -51.05795222, -50.90900761, -49.44854596, -47.70779199,\n\n# ...\n#        -50.46200535, -49.64911151, -49.61813377, -49.43372456,\n#        -49.79579202, -48.59330376, -51.7379595 , -48.95917605,\n#        -49.61952803, -50.21713527, -48.8264685 , -52.34360319])\n\n# Try against a Gamma Distribution\ndistribution = \"gamma\"\ndistr = getattr(stats, distribution)\nparams = distr.fit(x)\n\nstats.kstest(x,distribution,args=params)\nKstestResult(statistic=0.078494356486987549, pvalue=0.55408436218441004)\n</code></pre>\n\n<p><strong>A p_value of <code>pvalue=0.55408436218441004</code> is saying that the <code>normal</code> and <code>gamma</code> sampling are from the same distirbutions?</strong> </p>\n\n<p>I thought gamma distributions have to contain positive values?<a href=\"https://en.wikipedia.org/wiki/Gamma_distribution\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Gamma_distribution</a> </p>\n\n<p>Now against a normal distribution:</p>\n\n<pre><code># Try against a Normal Distribution\ndistribution = \"norm\"\ndistr = getattr(stats, distribution)\nparams = distr.fit(x)\n\nstats.kstest(x,distribution,args=params)\nKstestResult(statistic=0.070447707170256002, pvalue=0.70801104133244541)\n</code></pre>\n\n<p>According to this, if I took the lowest p_value, then <strong>I would conclude my data came from a <code>gamma</code> distribution even though they are all negative values?</strong> </p>\n\n<pre><code>np.random.seed(0)\n\ndistr = getattr(stats, \"norm\")\nx = distr.rvs(loc=0, scale=1, size=50)\nparams = distr.fit(x)\nstats.kstest(x,\"norm\",args=params, N=1000)\n\nKstestResult(statistic=0.058435890774587329, pvalue=0.99558592119926814)\n</code></pre>\n\n<p><strong>This means at a 5% level of significance, I can reject the null hypothesis that distributions are identical.  So I conclude they are different but they clearly aren't?</strong>  Am I interpreting this incorrectly? If I make it one-tailed, would that make it so the larger the value the more likely they are from the same distribution? </p>\n"}, {"tags": ["python", "json", "google-maps", "google-places-api"], "comments": [{"owner": {"reputation": 2335, "user_id": 806600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64bd072832db199cd426ddabe8c06f12?s=128&d=identicon&r=PG", "display_name": "spiv", "link": "https://stackoverflow.com/users/806600/spiv"}, "edited": false, "score": 0, "creation_date": 1472182016, "post_id": 39132449, "comment_id": 65659206, "body": "Try <code>place.details[u&#39;opening_hours&#39;]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 58, "user_id": 5826781, "user_type": "registered", "profile_image": "https://graph.facebook.com/1298588543491953/picture?type=large", "display_name": "George Zachariadis", "link": "https://stackoverflow.com/users/5826781/george-zachariadis"}, "edited": false, "score": 0, "creation_date": 1476887522, "post_id": 39204529, "comment_id": 67538595, "body": "\u0399&#39;ve wrote my own custom python function that goes into the JSON grabs the opening hours and prints it accordingly by Day"}, {"owner": {"reputation": 58, "user_id": 5826781, "user_type": "registered", "profile_image": "https://graph.facebook.com/1298588543491953/picture?type=large", "display_name": "George Zachariadis", "link": "https://stackoverflow.com/users/5826781/george-zachariadis"}, "edited": false, "score": 0, "creation_date": 1476887540, "post_id": 39204529, "comment_id": 67538616, "body": "Thanks for the help though!"}], "tags": [], "owner": {"reputation": 687, "user_id": 6477565, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Okyp0.jpg?s=128&g=1", "display_name": "Albin Antony", "link": "https://stackoverflow.com/users/6477565/albin-antony"}, "is_accepted": true, "score": 1, "last_activity_date": 1472468106, "creation_date": 1472468106, "answer_id": 39204529, "question_id": 39132449, "link": "https://stackoverflow.com/questions/39132449/python-google-places-api/39204529#39204529", "title": "Python Google Places Api", "body": "<p>try google places text search api to find place_id</p>\n\n<p><a href=\"https://maps.googleapis.com/maps/api/place/textsearch/json?query=StarbucksCoffee,GulsonRoad,CoventryUniversity,CoventryCV12JH,UK&amp;key=YOUR_API_KEY\" rel=\"nofollow\">https://maps.googleapis.com/maps/api/place/textsearch/json?query=StarbucksCoffee,GulsonRoad,CoventryUniversity,CoventryCV12JH,UK&amp;key=YOUR_API_KEY</a></p>\n\n<p>This api will return you a json response.Parse 'place_id' of this place which is \"ChIJV0Xu7bdLd0gRyYvYroskQ0k\"</p>\n\n<p>use this 'place_id' in google place details api to get opening hours</p>\n\n<p><a href=\"https://maps.googleapis.com/maps/api/place/details/json?ChIJV0Xu7bdLd0gRyYvYroskQ0k=&amp;key=YOUR_API_KEY\" rel=\"nofollow\">https://maps.googleapis.com/maps/api/place/details/json?ChIJV0Xu7bdLd0gRyYvYroskQ0k=&amp;key=YOUR_API_KEY</a></p>\n\n<p>this will return a json response that includes opening hours</p>\n"}], "owner": {"reputation": 58, "user_id": 5826781, "user_type": "registered", "profile_image": "https://graph.facebook.com/1298588543491953/picture?type=large", "display_name": "George Zachariadis", "link": "https://stackoverflow.com/users/5826781/george-zachariadis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1013, "favorite_count": 0, "accepted_answer_id": 39204529, "answer_count": 1, "score": -2, "last_activity_date": 1472468106, "creation_date": 1472070299, "question_id": 39132449, "link": "https://stackoverflow.com/questions/39132449/python-google-places-api", "title": "Python Google Places Api", "body": "<p>I am trying to capture details of Starbucks shops in Coventry like Name,Location,Address and the google maps url, but I can't seem to wrap my head around the schedule (opening hours)</p>\n\n<pre><code>print place.details \n</code></pre>\n\n<p>will give you all the details on a JSON format, how do I keep just the opening hours</p>\n\n<pre><code>Starbucks Coffee\nThis is the address of the place :  Gulson Road Coventry University, Coventry CV1 2JH, UK\nThe google map page :  https://maps.google.com/?cid=5279103370560834505\nThe type of place :  [u'cafe', u'food', u'store', u'point_of_interest', u'establishment']\n{u'website': u'http://www.starbucks.co.uk/store/91356/gb/coventry-university-ecb/gulson-road-ecb-engineering-computing-building', u'utc_offset': 60, u'name': u'Starbucks Coffee', u'reference': u'CnRjAAAADvWg02OACGcjnA6lDYaiHaLuZDZkFnL3lGuw_QOw0i4fmmgcaUXXyROMIKW3eZR1tvorm-T6fAG0b815POJV7mSg4MnISitEn_SKGcs5hq5I2DY2CyAiwAFFjDsJkEWrj6NFEjnaF916KuQ-JXfzghIQdSyG6bHTdaMvn-ZZFXLR5hoUFsXDJ9gx-l0Ys5D6BG9IQV1emGU', u'price_level': 2, u'geometry': {u'location': {u'lat': Decimal('52.4055608'), u'lng': Decimal('-1.4997924')}, u'viewport': {u'northeast': {u'lat': Decimal('52.40569205'), u'lng': Decimal('-1.49939775')}, u'southwest': {u'lat': Decimal('52.40551705000001'), u'lng': Decimal('-1.49992395')}}}, u'adr_address': u'Gulson Road Coventry University, &lt;span class=\"locality\"&gt;Coventry&lt;/span&gt; &lt;span class=\"postal-code\"&gt;CV1 2JH&lt;/span&gt;, &lt;span class=\"country-name\"&gt;UK&lt;/span&gt;', u'place_id': u'ChIJV0Xu7bdLd0gRyYvYroskQ0k', u'international_phone_number': u'+44 24 7622 5719', u'vicinity': u'Coventry, Gulson Road Coventry University, Coventry', u'reviews': [{u'rating': 4, u'aspects': [{u'rating': 2, u'type': u'overall'}], u'profile_photo_url': u'//lh5.googleusercontent.com/-Ksa5MB3V150/AAAAAAAAAAI/AAAAAAAAN1g/Oc9XyOBsRAI/photo.jpg', u'language': u'en', u'text': u\"It's Starbucks in EC building, save you walking in town for a hot beverage\", u'author_name': u'Dhruv Bhakta', u'author_url': u'https://plus.google.com/106741921003476599081', u'time': 1453209416}], u'formatted_phone_number': u'024 7622 5719', u'scope': u'GOOGLE', u'url': u'https://maps.google.com/?cid=5279103370560834505',---&gt; I want just that u'opening_hours': {u'weekday_text': [u'Monday: 8:00 AM \\u2013 6:30 PM', u'Tuesday: 8:00 AM \\u2013 6:30 PM', u'Wednesday: 8:00 AM \\u2013 6:30 PM', u'Thursday: 8:00 AM \\u2013 6:30 PM', u'Friday: 8:00 AM \\u2013 6:00 PM', u'Saturday: Closed', u'Sunday: Closed'], u'open_now': False, u'periods': [{u'close': {u'day': 1, u'time': u'1830'}, u'open': {u'day': 1, u'time': u'0800'}}, {u'close': {u'day': 2, u'time': u'1830'}, u'open': {u'day': 2, u'time': u'0800'}}, {u'close': {u'day': 3, u'time': u'1830'}, u'open': {u'day': 3, u'time': u'0800'}}, {u'close': {u'day': 4, u'time': u'1830'}, u'open': {u'day': 4, u'time': u'0800'}}, {u'close': {u'day': 5, u'time': u'1800'}, u'open': {u'day': 5, u'time': u'0800'}}]}, &lt;---- until here u'address_components': [{u'long_name': u'Coventry', u'types': [u'locality', u'political'], u'short_name': u'Coventry'}, {u'long_name': u'Coventry', u'types': [u'postal_town'], u'short_name': u'Coventry'}, {u'long_name': u'West Midlands', u'types': [u'administrative_area_level_2', u'political'], u'short_name': u'West Midlands'}, {u'long_name': u'England', u'types': [u'administrative_area_level_1', u'political'], u'short_name': u'England'}, {u'long_name': u'United Kingdom', u'types': [u'country', u'political'], u'short_name': u'GB'}, {u'long_name': u'CV1 2JH', u'types': [u'postal_code'], u'short_name': u'CV1 2JH'}], u'formatted_address': u'Gulson Road Coventry University, Coventry CV1 2JH, UK', u'id': u'7fd44a38d5776818e51953ee7188f10d54b768cc', u'types': [u'cafe', u'food', u'store', u'point_of_interest', u'establishment'], u'icon': u'https://maps.gstatic.com/mapfiles/place_api/icons/cafe-71.png'}\n</code></pre>\n\n<p>The details output is the above but I want just the schedule.</p>\n"}, {"tags": ["python", "python-requests", "put"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1472075132, "post_id": 39132439, "comment_id": 65612373, "body": "should it not be <code>data=...</code>? What curl command are you using?"}, {"owner": {"reputation": 39, "user_id": 6754289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7523a078cac57f4adaa976a6de76ac54?s=128&d=identicon&r=PG&f=1", "display_name": "fengda", "link": "https://stackoverflow.com/users/6754289/fengda"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1472186717, "post_id": 39132439, "comment_id": 65660291, "body": "I think it&#39;s <code>params=...</code>, and it is working with small number of records.    my curl command line is:   <code>curl -X PUT -F &quot;records=asf@gmail1.com,asf@gmail1.com,asf@gmail1.com,asf@gm&zwnj;&#8203;ail1.com,asf@gmail1.&zwnj;&#8203;com&quot; -F &quot;name=test records&quot; &quot;https:&#47;&#47;...&quot;</code>"}], "owner": {"reputation": 39, "user_id": 6754289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7523a078cac57f4adaa976a6de76ac54?s=128&d=identicon&r=PG&f=1", "display_name": "fengda", "link": "https://stackoverflow.com/users/6754289/fengda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 631, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1472070256, "creation_date": 1472070256, "question_id": 39132439, "link": "https://stackoverflow.com/questions/39132439/how-to-increase-the-put-request-size-limitation-in-python-requests", "title": "How to increase the PUT request size limitation in python-requests?", "body": "<p>I'm reading the content from file and send PUT request to the API, the code is</p>\n\n<pre><code>json_dict = {\n    'name': 'test records',\n    'records': ','.join([elem.strip() for elem in open(file_path).readlines()])}\n\nr = requests.put(url, params=json_dict)\nprint r.url\nprint r.request.body\nprint r.text\n</code></pre>\n\n<p>It works if the file content is short, but it got error below when I increased the file:</p>\n\n<pre><code>    r = requests.put(url, params=json_dict)\n  File \"/Library/Python/2.7/site-packages/requests/api.py\", line 122, in put\n    return request('put', url, data=data, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/api.py\", line 50, in request\n    response = session.request(method=method, url=url, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 468, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 576, in send\n    r = adapter.send(request, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/adapters.py\", line 412, in send\n    raise ConnectionError(err, request=request)\nrequests.exceptions.ConnectionError: ('Connection aborted.', BadStatusLine('&lt;html&gt;\\r\\n',))\n</code></pre>\n\n<p>Additionally, it works well if I'm using <code>curl</code>, so i think it's in python requests side. How to increase the PUT request limitation?</p>\n\n<p>Moreover, is this the only way to upload a file? (use <code>records: &lt;file_content&gt;</code>)</p>\n"}, {"tags": ["python", "parsing"], "comments": [{"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1472070363, "post_id": 39132429, "comment_id": 65610189, "body": "I just hope you understand that <code>z-z</code> has to be always zero for numbers :)"}, {"owner": {"reputation": 1231, "user_id": 5525619, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-yHXcLpAuId0/AAAAAAAAAAI/AAAAAAAAASU/F5mLz3Wua5c/photo.jpg?sz=128", "display_name": "MBasith", "link": "https://stackoverflow.com/users/5525619/mbasith"}, "reply_to_user": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1472070496, "post_id": 39132429, "comment_id": 65610254, "body": "@karloss, yes I understand that quite well.  What I was trying there is to see if the loop filled in z with the next value."}], "answers": [{"comments": [{"owner": {"reputation": 1231, "user_id": 5525619, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-yHXcLpAuId0/AAAAAAAAAAI/AAAAAAAAASU/F5mLz3Wua5c/photo.jpg?sz=128", "display_name": "MBasith", "link": "https://stackoverflow.com/users/5525619/mbasith"}, "edited": false, "score": 0, "creation_date": 1472070744, "post_id": 39132504, "comment_id": 65610382, "body": "Thanks for the tip and the explanation. That worked well thanks."}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "reply_to_user": {"reputation": 1231, "user_id": 5525619, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-yHXcLpAuId0/AAAAAAAAAAI/AAAAAAAAASU/F5mLz3Wua5c/photo.jpg?sz=128", "display_name": "MBasith", "link": "https://stackoverflow.com/users/5525619/mbasith"}, "edited": false, "score": 0, "creation_date": 1472070934, "post_id": 39132504, "comment_id": 65610498, "body": "No problem, glad I could help :)"}], "tags": [], "owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "is_accepted": false, "score": 3, "last_activity_date": 1472070509, "creation_date": 1472070509, "answer_id": 39132504, "question_id": 39132429, "link": "https://stackoverflow.com/questions/39132429/python-subtraction-in-for-loop/39132504#39132504", "title": "Python subtraction in for loop", "body": "<pre><code>with open('datecount.txt') as data:\n    prev = 0\n    for line in data:\n        value = int(line.strip().split()[1])\n        print(value - prev)\n        prev = value\n</code></pre>\n\n<p>It is a good idea to name the variables so that their names make sense. In other words, leave <code>x, y, z</code> in maths.</p>\n"}, {"comments": [{"owner": {"reputation": 1231, "user_id": 5525619, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-yHXcLpAuId0/AAAAAAAAAAI/AAAAAAAAASU/F5mLz3Wua5c/photo.jpg?sz=128", "display_name": "MBasith", "link": "https://stackoverflow.com/users/5525619/mbasith"}, "edited": false, "score": 0, "creation_date": 1472071122, "post_id": 39132541, "comment_id": 65610593, "body": "yes that is a good point. My files are sorted by time so I can assume that the hour is following the previous hour. This code also worked well. Thanks for the help!"}], "tags": [], "owner": {"reputation": 818, "user_id": 4164147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SynD0.jpg?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/4164147/luke"}, "is_accepted": true, "score": 1, "last_activity_date": 1472070653, "creation_date": 1472070653, "answer_id": 39132541, "question_id": 39132429, "link": "https://stackoverflow.com/questions/39132429/python-subtraction-in-for-loop/39132541#39132541", "title": "Python subtraction in for loop", "body": "<p>Well if you can assume that each consecutive line in your file will be the hour following the previous hour, you don't need to even worry about messing with the time column.  Just use this..</p>\n\n<pre><code>with open('datecount.txt') as data:\n    z = 0\n    for line in data:\n        x = (line.strip().split())\n        num = int(x[1])\n        print(num - z)\n        z = num\n</code></pre>\n\n<p>Your code was pretty much doing this already, you just needed to print (num - z) before assigning z to num.  And also you had print(z-z) not print(num - z)</p>\n"}], "owner": {"reputation": 1231, "user_id": 5525619, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-yHXcLpAuId0/AAAAAAAAAAI/AAAAAAAAASU/F5mLz3Wua5c/photo.jpg?sz=128", "display_name": "MBasith", "link": "https://stackoverflow.com/users/5525619/mbasith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2032, "favorite_count": 0, "accepted_answer_id": 39132541, "answer_count": 2, "score": 0, "last_activity_date": 1472070653, "creation_date": 1472070221, "question_id": 39132429, "link": "https://stackoverflow.com/questions/39132429/python-subtraction-in-for-loop", "title": "Python subtraction in for loop", "body": "<p>I am in need of some help doing some simple calculations in a for loop.  I have two columns in the below example file. Column 1 is the date-time-hr-min-ss and column 2 is a value. I would like to print through the file and calculate the difference between the current value and the value of the previous hour. I attempted the code below but not able to subtract the previous hour value.  Can I get some help/direction in correcting my code below? Thanks in advance.</p>\n\n<p>File Contents:</p>\n\n<pre><code>20160823220000 1208091708\n20160823230000 1209559863\n20160824000000 1210706089\n20160824010000 1211612458\n20160824020000 1212410614\n20160824030000 1213059346\n</code></pre>\n\n<p>My Code:</p>\n\n<pre><code>with open('datecount.txt') as data:\n    z = 0\n    for line in data:\n        x = (line.strip().split())\n        num = int(x[1])\n        z = num\n        print(z - z)\n</code></pre>\n\n<p>Desired Output:</p>\n\n<pre><code>date-time-hr-min-ss Value       Delta-from-prev-Hr\n==========================================================\n20160823220000      1208091708  N/A \n20160823230000      1209559863  1468155 \n20160824000000      1210706089  1146226\n20160824010000      1211612458  906369\n20160824020000      1212410614  798156\n20160824030000      1213059346  648732\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "datetime", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1472070694, "post_id": 39132408, "comment_id": 65610359, "body": "Is necessary convert <code>NaT</code> to <code>None</code> ?"}, {"owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1472070795, "post_id": 39132408, "comment_id": 65610414, "body": "I&#39;ll have to trying pushing to the database. I think it will recognize that as a <code>Null</code>/<code>None</code> value so probably not. Just to clarify <code>NaT</code> is Not a Time?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1472070834, "post_id": 39132408, "comment_id": 65610431, "body": "Yes, it is Not a Time."}, {"owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1472072705, "post_id": 39132408, "comment_id": 65611304, "body": "Is there a way to differential your <code>NaT</code> from <code>NaN</code> if it was missing in the original data set?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1472072805, "post_id": 39132408, "comment_id": 65611357, "body": "No, it is same. It is <code>NaN</code> for <code>Datetime</code>."}, {"owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1472073020, "post_id": 39132408, "comment_id": 65611457, "body": "@Jerzrael How would you suggest I seperate Dates that come from a file with no data and the ones that become <code>NaT</code>?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1472073199, "post_id": 39132408, "comment_id": 65611538, "body": "Hmmm, do you need data with <code>NaT</code> ? Do you need split output to <code>2</code> <code>DataFrames</code> - with <code>NaT</code> and with <code>not NaT</code> ?"}, {"owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1472073354, "post_id": 39132408, "comment_id": 65611607, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/121784/discussion-between-user2242044-and-jezrael\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 3, "last_activity_date": 1472070494, "last_edit_date": 1472070494, "creation_date": 1472070091, "answer_id": 39132408, "question_id": 39132367, "link": "https://stackoverflow.com/questions/39132367/alternatives-to-looping-in-pandas-when-you-need-to-update-a-column-based-on-anot/39132408#39132408", "title": "Alternatives to looping in Pandas when you need to update a column based on another", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.to_datetime.html\" rel=\"nofollow\"><code>to_datetime</code></a> with parameter <code>errors='coerce'</code> and <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.isnull.html\" rel=\"nofollow\"><code>isnull</code></a>:</p>\n\n<pre><code>data = 10 *[['010115', None],\n        ['320115', None]]\n\n\ndf = pd.DataFrame(data=data,\n                  columns=['Date', 'Error'])\n\nprint (df)\n      Date Error\n0   010115  None\n1   320115  None\n2   010115  None\n3   320115  None\n4   010115  None\n5   320115  None\n6   010115  None\n7   320115  None\n8   010115  None\n9   320115  None\n10  010115  None\n11  320115  None\n12  010115  None\n13  320115  None\n14  010115  None\n15  320115  None\n16  010115  None\n17  320115  None\n18  010115  None\n19  320115  None\n</code></pre>\n\n\n\n<pre><code>df['Date'] = pd.to_datetime(df['Date'], format='%d%m%y',errors='coerce') \ndf['Error'] = df['Date'].isnull()\nprint (df)\n         Date  Error\n0  2015-01-01  False\n1         NaT   True\n2  2015-01-01  False\n3         NaT   True\n4  2015-01-01  False\n5         NaT   True\n6  2015-01-01  False\n7         NaT   True\n8  2015-01-01  False\n9         NaT   True\n10 2015-01-01  False\n11        NaT   True\n12 2015-01-01  False\n13        NaT   True\n14 2015-01-01  False\n15        NaT   True\n16 2015-01-01  False\n17        NaT   True\n18 2015-01-01  False\n19        NaT   True\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1472071862, "post_id": 39132466, "comment_id": 65610918, "body": "@AlbertoGarcia-Raboso I&#39;ve updated my answer.  As you can see, The main point of differentiation between your&#39;s and jezreal&#39;s answer is that you leveraged the dataframe the OP already created.  I&#39;m trying to make the point that creating a full dataframe only to overwrite its contents is inefficient."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 2, "last_activity_date": 1472071716, "last_edit_date": 1472071716, "creation_date": 1472070385, "answer_id": 39132466, "question_id": 39132367, "link": "https://stackoverflow.com/questions/39132367/alternatives-to-looping-in-pandas-when-you-need-to-update-a-column-based-on-anot/39132466#39132466", "title": "Alternatives to looping in Pandas when you need to update a column based on another", "body": "<p>You can skip the initial creation of <code>df</code> and construct it from the specific columns you need instead.</p>\n\n<pre><code># I push a list of first elements from data via a comprehension\ndates = pd.to_datetime([d[0] for d in data], format='%d%m%y', errors='coerce')\n\n# Construct df from scratch here\ndf = pd.DataFrame({'Date': dates})\ndf['Error'] = df.Date.isnull()\ndf.head()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/UXFGt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXFGt.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<h3>Timing</h3>\n\n<p>This is the difference between using an already constructed <code>df</code> versus building it from scratch</p>\n\n<p><a href=\"https://i.stack.imgur.com/kyv4f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kyv4f.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 39132408, "answer_count": 2, "score": 3, "last_activity_date": 1472074619, "creation_date": 1472069914, "last_edit_date": 1472074619, "question_id": 39132367, "link": "https://stackoverflow.com/questions/39132367/alternatives-to-looping-in-pandas-when-you-need-to-update-a-column-based-on-anot", "title": "Alternatives to looping in Pandas when you need to update a column based on another", "body": "<p>I have a <code>Pandas</code> <code>dataframe</code> with text dates that'd I like to convert to <code>datetime</code>. The problem is some of my text dates are bad data and thus can't be converted. In cases for which a date can't be converted, I want to update an <code>Error</code> column to a value of <code>True</code> as well as set the <code>Date</code> column to <code>None</code> so that it can later be added to a database column that is formatted as a <code>datetime</code>.</p>\n\n<p>This is a simplified example. My <code>dataframe</code> may have 1 million rows and multiple date columns this needs to be done for, so I need a faster way of doing this. I know the typical convention is to avoid looping with <code>Pandas</code>, but I can't figure out a way around it.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport datetime\n\ndata = 1000 *[['010115', None],\n        ['320115', None]]\n\n\ndf = pd.DataFrame(data=data,\n                  columns=['Date', 'Error'])\n\nfor index, row in df.iterrows():\n    try:\n        datetime.datetime.strptime(row['Date'], '%d%m%y')\n    except ValueError:\n        row['Date'] = None\n        row['Error'] = True\n    except TypeError:\n        pass\n\nprint df\n</code></pre>\n"}, {"tags": ["python", "google-chrome", "selenium", "webdriver", "command-prompt"], "comments": [{"owner": {"reputation": 1167, "user_id": 1622858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/546a8ffbb68c044b68b1e8ce99b0fe0b?s=128&d=identicon&r=PG", "display_name": "Michael Platt", "link": "https://stackoverflow.com/users/1622858/michael-platt"}, "edited": false, "score": 0, "creation_date": 1472070026, "post_id": 39132330, "comment_id": 65610035, "body": "When you say you run this code, do you mean you are running it through command line with the python command like this <code>python my_file.py</code> or do you mean when you double click on the .py file?"}, {"owner": {"reputation": 355, "user_id": 5965427, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/392fe3505cf5e083f439182bdb518eff?s=128&d=identicon&r=PG&f=1", "display_name": "Senor Penguin", "link": "https://stackoverflow.com/users/5965427/senor-penguin"}, "reply_to_user": {"reputation": 1167, "user_id": 1622858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/546a8ffbb68c044b68b1e8ce99b0fe0b?s=128&d=identicon&r=PG", "display_name": "Michael Platt", "link": "https://stackoverflow.com/users/1622858/michael-platt"}, "edited": false, "score": 0, "creation_date": 1472075058, "post_id": 39132330, "comment_id": 65612346, "body": "@Michael Platt Sorry, I have the code in a .py file and I run the file by clicking &quot;Run&quot; on the tool bar followed by &quot;Run Module&quot;.  I did see something that said to save it as a .pyw file to open it as a .exe but it still opens the command prompt."}, {"owner": {"reputation": 1167, "user_id": 1622858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/546a8ffbb68c044b68b1e8ce99b0fe0b?s=128&d=identicon&r=PG", "display_name": "Michael Platt", "link": "https://stackoverflow.com/users/1622858/michael-platt"}, "edited": false, "score": 0, "creation_date": 1472150511, "post_id": 39132330, "comment_id": 65648660, "body": "I believe it&#39;s the case that if you run the code like that you&#39;ll always have a popup showing because that&#39;s how it&#39;s supposed to work right?  Output needs to be redirected somewhere, in this case, to a command prompt that will open.  However, if you run it through command line using the python command it shouldn&#39;t open the extra window."}], "answers": [{"tags": [], "owner": {"reputation": 359, "user_id": 11373443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yRGtm.png?s=128&g=1", "display_name": "Maghil vannan", "link": "https://stackoverflow.com/users/11373443/maghil-vannan"}, "is_accepted": false, "score": 1, "last_activity_date": 1565795017, "creation_date": 1565795017, "answer_id": 57497354, "question_id": 39132330, "link": "https://stackoverflow.com/questions/39132330/python-chromedriver-opens-command-prompt-with-browser/57497354#57497354", "title": "Python Chromedriver opens command prompt with browser", "body": "<p>It's nothing abnormal,It's just how selenium works.You can hide command prompt by</p>\n\n<pre><code>driverService.HideCommandPromptWindow = true;\n</code></pre>\n\n<p>The above code hides the command prompt</p>\n"}], "owner": {"reputation": 355, "user_id": 5965427, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/392fe3505cf5e083f439182bdb518eff?s=128&d=identicon&r=PG&f=1", "display_name": "Senor Penguin", "link": "https://stackoverflow.com/users/5965427/senor-penguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1575, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1565795017, "creation_date": 1472069722, "question_id": 39132330, "link": "https://stackoverflow.com/questions/39132330/python-chromedriver-opens-command-prompt-with-browser", "title": "Python Chromedriver opens command prompt with browser", "body": "<p>I am on Windows and trying to run a pretty simple code:</p>\n\n<pre><code>from selenium import webdriver\n\nchromedriver = '/path/to/chromedriver'\ndriver = webdriver.Chrome(chromedriver)\ndriver.get('https://www.google.com')\n</code></pre>\n\n<p>For some reason when I run this code I will get the browser to open but the command prompt will open as well.  Did I do something wrong or is this supposed to happen?  How can I get it to only open the browser and not command prompt?</p>\n"}, {"tags": ["python", "django", "django-models", "django-templates", "django-views"], "comments": [{"owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "edited": false, "score": 1, "creation_date": 1472070143, "post_id": 39132285, "comment_id": 65610096, "body": "Why not use <code>&#39;{% url &quot;detail&quot; id=obj.id %}&#39;</code> for your <code>href</code>?"}, {"owner": {"reputation": 153, "user_id": 5491446, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d8ae42458a88079e24d15cc7b2e6cb6?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld", "link": "https://stackoverflow.com/users/5491446/helloworld"}, "reply_to_user": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "edited": false, "score": 0, "creation_date": 1472070631, "post_id": 39132285, "comment_id": 65610330, "body": "That seems to work but i don&#39;t know why"}, {"owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "edited": false, "score": 0, "creation_date": 1472070794, "post_id": 39132285, "comment_id": 65610411, "body": "As far as I know this is the standard way to wire up views in your templates, I don&#39;t quite follow what you were trying to achieve the other way. Glad it works though! Maybe read up on the template tags documentation, or try rephrasing your question if you have a good reason for wanting to do it the other way."}, {"owner": {"reputation": 153, "user_id": 5491446, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d8ae42458a88079e24d15cc7b2e6cb6?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld", "link": "https://stackoverflow.com/users/5491446/helloworld"}, "reply_to_user": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "edited": false, "score": 0, "creation_date": 1472071493, "post_id": 39132285, "comment_id": 65610746, "body": "i was following tutorial online and that is how the tutor did. but unfortunately it didn&#39;t work on my side. spend so much time trying to see what was wrong."}], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 1, "last_activity_date": 1472070846, "last_edit_date": 1472070846, "creation_date": 1472070493, "answer_id": 39132500, "question_id": 39132285, "link": "https://stackoverflow.com/questions/39132285/errors-with-django-urls/39132500#39132500", "title": "Errors with django urls", "body": "<p>Your <code>get_absolute_url</code> method returns URLs in the form <code>/posts/&lt;id&gt;</code> but your urlconf is expecting <code>/posts/detail/&lt;id&gt;</code>.</p>\n\n<p>Instead of hard-coding a URL like that in the method, you should use the <code>reverse</code> functionality:</p>\n\n<pre><code>from django.urls import reverse\n...\ndef get_absolute_url(self):\n    return reverse('detail', kwargs={'id': self.id})\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 5491446, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d8ae42458a88079e24d15cc7b2e6cb6?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld", "link": "https://stackoverflow.com/users/5491446/helloworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 39132500, "answer_count": 1, "score": 0, "last_activity_date": 1524183872, "creation_date": 1472069552, "last_edit_date": 1472070366, "question_id": 39132285, "link": "https://stackoverflow.com/questions/39132285/errors-with-django-urls", "title": "Errors with django urls", "body": "<p>I'm getting an error 404 when i click the link on django, i have spent so much time trying to see what i'm doing wrong but no luck.</p>\n\n<p>here is my index.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Page Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;h1&gt;{{title}}&lt;/h1&gt;\n\n{% for obj in object_list %}\n{% url \"detail\" id=obj.id %}\n&lt;a href = '{{obj.get_absolute_url}}'&gt; {{obj.title}}&lt;/a&gt;&lt;br/&gt;\n{{obj.content}} &lt;br/&gt;\n{{obj.timestamp}} &lt;br/&gt;\n{{obj.updated}} &lt;br/&gt;\n{{obj.id}} &lt;br/&gt;\n\n\n{% endfor %}    \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is my urls.py</p>\n\n<pre><code>from django.conf.urls import url\nfrom django.contrib import admin\n\nfrom .views import (\n    post_list,\n    post_create,\n    post_detail,\n    post_update,\n    post_delete,\n    )\n\nurlpatterns = [\n    url(r'^$', post_list),\n    url(r'^create/$', post_create),\n    url(r'^detail/(?P&lt;id&gt;\\d+)/$', post_detail, name='detail'),\n    url(r'^update/$', post_update),\n    url(r'^delete/$', post_delete),\n\n]\n</code></pre>\n\n<p>This is my views.py</p>\n\n<pre><code>from django.http import HttpResponse\nfrom django.shortcuts import render, get_object_or_404\n\nfrom .models import Post\n\n# Create your views here.\n\ndef post_create(request):\n    return HttpResponse(\"&lt;h1&gt;Create&lt;/h1&gt;\")\n\ndef post_detail(request, id): # retreive\n    instance = get_object_or_404(Post, id=id)\n    context = {\n        \"title\": instance.title,\n        \"instance\": instance,\n    }\n    return render(request, \"post_detail.html\", context) \n\ndef post_list(request): # list of posts\n    queryset = Post.objects.all\n    context = {\n        \"title\": \"List\",\n        \"object_list\": queryset,\n    }\n    return render(request, \"index.html\", context) \n\ndef post_update(request):\n    return HttpResponse(\"&lt;h1&gt;Update&lt;/h1&gt;\")  \n\ndef post_delete(request):\n    return HttpResponse(\"&lt;h1&gt;Delete&lt;/h1&gt;\")    \n</code></pre>\n\n<p>and this is my models.py</p>\n\n<pre><code>from __future__ import unicode_literals\n\nfrom django.db import models\n\n# Create your models here.\nclass Post(models.Model):\n    title = models.CharField(max_length = 120)\n    content = models.TextField()\n    updated = models.DateTimeField(auto_now=True, auto_now_add = False )\n    timestamp = models.DateTimeField(auto_now=False, auto_now_add = True )\n\n    def __unicode__(self):\n        return self.title\n\n\n    def __str__(self):\n        return self.title\n\n    def get_absolute_url(self):\n        return \"/posts/%s\" %(self.id)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "scrapy", "scrapy-spider"], "comments": [{"owner": {"reputation": 193, "user_id": 2613943, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/967ca0ce5ca3d6684d7cb4e29b482b0c?s=128&d=identicon&r=PG", "display_name": "m3nthal", "link": "https://stackoverflow.com/users/2613943/m3nthal"}, "edited": false, "score": 0, "creation_date": 1472142905, "post_id": 39132263, "comment_id": 65644475, "body": "I&#39;ve tried rewriting the spider to use CrawlSpider, Rule and LinkExtractor and it worked exactly the same, closing the spider after getting the next page."}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 2613943, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/967ca0ce5ca3d6684d7cb4e29b482b0c?s=128&d=identicon&r=PG", "display_name": "m3nthal", "link": "https://stackoverflow.com/users/2613943/m3nthal"}, "edited": false, "score": 0, "creation_date": 1472125757, "post_id": 39138567, "comment_id": 65632902, "body": "Thank you for the reply. I had problem with robots.txt on the first page and I fixed it, so it should work for the other pages on this domain. I will try the second option."}, {"owner": {"reputation": 193, "user_id": 2613943, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/967ca0ce5ca3d6684d7cb4e29b482b0c?s=128&d=identicon&r=PG", "display_name": "m3nthal", "link": "https://stackoverflow.com/users/2613943/m3nthal"}, "edited": false, "score": 0, "creation_date": 1472142298, "post_id": 39138567, "comment_id": 65644069, "body": "<code>DOWNLOAD_DELAY = 3</code> did not help, it just delayed the inevitable."}, {"owner": {"reputation": 749, "user_id": 1765410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6a32b0f25e94db005bb9b3fe1c27a2f6?s=128&d=identicon&r=PG", "display_name": "Niranjan Sagar", "link": "https://stackoverflow.com/users/1765410/niranjan-sagar"}, "reply_to_user": {"reputation": 193, "user_id": 2613943, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/967ca0ce5ca3d6684d7cb4e29b482b0c?s=128&d=identicon&r=PG", "display_name": "m3nthal", "link": "https://stackoverflow.com/users/2613943/m3nthal"}, "edited": false, "score": 0, "creation_date": 1472193867, "post_id": 39138567, "comment_id": 65663151, "body": "Can you please provide the exact domain/website name. I can check further."}], "tags": [], "owner": {"reputation": 749, "user_id": 1765410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6a32b0f25e94db005bb9b3fe1c27a2f6?s=128&d=identicon&r=PG", "display_name": "Niranjan Sagar", "link": "https://stackoverflow.com/users/1765410/niranjan-sagar"}, "is_accepted": false, "score": 1, "last_activity_date": 1472108058, "creation_date": 1472108058, "answer_id": 39138567, "question_id": 39132263, "link": "https://stackoverflow.com/questions/39132263/the-spider-doesnt-go-to-the-next-page/39138567#39138567", "title": "The spider doesn&#39;t go to the next page", "body": "<p>You need to check following this.</p>\n\n<ol>\n<li>Check if the urls that you are trying to crawl is not Robots.txt, which you can find by looking into <a href=\"http://blabla.org/robots.txt\" rel=\"nofollow\">http://blabla.org/robots.txt</a>. By default scrapy obeys robots.txt. <em>It is recommended that you abide to robots.txt</em></li>\n<li>By default the download delay for the scrapy is 0.25, you can increase it 2 Sec or more than that and try.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 2613943, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/967ca0ce5ca3d6684d7cb4e29b482b0c?s=128&d=identicon&r=PG", "display_name": "m3nthal", "link": "https://stackoverflow.com/users/2613943/m3nthal"}, "is_accepted": true, "score": 0, "last_activity_date": 1472144995, "creation_date": 1472144995, "answer_id": 39151077, "question_id": 39132263, "link": "https://stackoverflow.com/questions/39132263/the-spider-doesnt-go-to-the-next-page/39151077#39151077", "title": "The spider doesn&#39;t go to the next page", "body": "<p>The problem was that the response from the next page was a response for robots and did not contain any links.</p>\n"}], "owner": {"reputation": 193, "user_id": 2613943, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/967ca0ce5ca3d6684d7cb4e29b482b0c?s=128&d=identicon&r=PG", "display_name": "m3nthal", "link": "https://stackoverflow.com/users/2613943/m3nthal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "accepted_answer_id": 39151077, "answer_count": 2, "score": 0, "last_activity_date": 1472144995, "creation_date": 1472069452, "question_id": 39132263, "link": "https://stackoverflow.com/questions/39132263/the-spider-doesnt-go-to-the-next-page", "title": "The spider doesn&#39;t go to the next page", "body": "<p>Spider code:</p>\n\n<pre><code>import scrapy\nfrom crawler.items import Item\n\nclass DmozSpider(scrapy.Spider):\n    name = 'blabla'\n    allowed_domains = ['blabla']\n\n    def start_requests(self):\n        yield scrapy.Request('http://blabla.org/forum/viewforum.php?f=123', self.parse)\n\n    def parse(self, response):\n        item = Item()\n        item['Title'] = response.xpath('//a[@class=\"title\"/text()').extract()\n        yield item\n\n        next_page = response.xpath('//a[text()=\"Next\"]/@href')\n        if next_page:\n            url = response.urljoin(next_page[0].extract())\n            yield scrapy.Request(url, callback=self.parse)\n</code></pre>\n\n<p>Problem: spider stops after the first page even though next page_page and url exist and are correct.</p>\n\n<p>Here is the last debug message before stop:</p>\n\n<pre><code>[scrapy] DEBUG: Crawled (200) &lt;GET http://blabla.org/forum/viewforum.php?f=123&amp;start=50&gt; (referer: http://blabla.org/forum/viewforum.php?f=123)\n[scrapy] INFO: Closing spider (finished)\n</code></pre>\n"}, {"tags": ["python", "bitwise-operators", "bitwise-and"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1472069331, "post_id": 39132191, "comment_id": 65609731, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11633421/python-syntaxerror-keyword-cant-be-an-expression\">Python: SyntaxError: keyword can&#39;t be an expression</a>"}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 2, "creation_date": 1472069367, "post_id": 39132191, "comment_id": 65609746, "body": "The question of <code>==</code> and <code>=</code> has been asked tons and tons of times"}], "answers": [{"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1472069299, "creation_date": 1472069299, "answer_id": 39132219, "question_id": 39132191, "link": "https://stackoverflow.com/questions/39132191/python-syntaxerror-using-bitwise-function/39132219#39132219", "title": "Python: SyntaxError using bitwise function", "body": "<p>equal comparsion is <code>==</code>:</p>\n\n<pre><code>ind=np.where(data['COLUMN_NAME'] &amp; (2**9) == 0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1611, "user_id": 463009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e9a278a8a02a62007a3bf703ef6cac3f?s=128&d=identicon&r=PG", "display_name": "TheRealNeo", "link": "https://stackoverflow.com/users/463009/therealneo"}, "is_accepted": false, "score": 1, "last_activity_date": 1472069359, "creation_date": 1472069359, "answer_id": 39132239, "question_id": 39132191, "link": "https://stackoverflow.com/questions/39132191/python-syntaxerror-using-bitwise-function/39132239#39132239", "title": "Python: SyntaxError using bitwise function", "body": "<p>Could it be because you use '=' (assignment) instead of '==' (equality) in the call to 'where'?</p>\n"}], "owner": {"reputation": 3, "user_id": 6754220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/281a07b64a1b72797f8df196506d5049?s=128&d=identicon&r=PG&f=1", "display_name": "hlew528", "link": "https://stackoverflow.com/users/6754220/hlew528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 39132219, "answer_count": 2, "score": -1, "last_activity_date": 1472069359, "creation_date": 1472069197, "question_id": 39132191, "link": "https://stackoverflow.com/questions/39132191/python-syntaxerror-using-bitwise-function", "title": "Python: SyntaxError using bitwise function", "body": "<p>I am trying to create a basic bitwise function that filters out a certain subset of my data for me.</p>\n\n<pre><code>&gt;&gt;&gt;heads=fits.open('datafile.fits')\n&gt;&gt;&gt;data=heads[1].data\n</code></pre>\n\n<p>Now, I need to mask out data points that are in a certain column and which are set to bit 0.</p>\n\n<pre><code>&gt;&gt;&gt;ind=np.where(data['COLUMN_NAME'] &amp; np.power(2,9) = 0)\n</code></pre>\n\n<p>However, this input throws the error</p>\n\n<pre><code>File \"&lt;stdin&gt;\", line 1\nSyntaxError: keyword cant be an expression\n</code></pre>\n\n<p>The error does not give the normal ^ which shows where the error is, so I'm not sure which part of my input python is having an issue with.</p>\n"}, {"tags": ["python", "django", "django-admin"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1472072242, "post_id": 39132187, "comment_id": 65611093, "body": "If it&#39;s not working when you edit the source template, then something seriously weird is going on. Are you sure you&#39;re running the server from where you think you are?"}, {"owner": {"reputation": 357, "user_id": 6705888, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b3c254c816a1562b92ed2ba9ff483482?s=128&d=identicon&r=PG&f=1", "display_name": "Hansong Li", "link": "https://stackoverflow.com/users/6705888/hansong-li"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1472073026, "post_id": 39132187, "comment_id": 65611459, "body": "@DanielRoseman yeah I am quite sure about that. So I am really scratching my head for this now"}, {"owner": {"reputation": 9722, "user_id": 991572, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32c3a43c2f79abe038e8ec5d9f306b29?s=128&d=identicon&r=PG", "display_name": "allcaps", "link": "https://stackoverflow.com/users/991572/allcaps"}, "edited": false, "score": 0, "creation_date": 1472078735, "post_id": 39132187, "comment_id": 65613565, "body": "<a href=\"https://docs.djangoproject.com/en/1.10/ref/contrib/admin/#customizing-adminsite\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.10/ref/contrib/admin/&hellip;</a>"}, {"owner": {"reputation": 91, "user_id": 9131305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c0No4.jpg?s=128&g=1", "display_name": "Rodolfo Ortega", "link": "https://stackoverflow.com/users/9131305/rodolfo-ortega"}, "edited": false, "score": 0, "creation_date": 1583024066, "post_id": 39132187, "comment_id": 106979058, "body": "This seems to be related to: <a href=\"https://stackoverflow.com/questions/4938491/django-admin-change-header-django-administration-text\" title=\"django admin change header django administration text\">stackoverflow.com/questions/4938491/&hellip;</a> Need to set a new value to site_header and site_title fields."}], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 6705888, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b3c254c816a1562b92ed2ba9ff483482?s=128&d=identicon&r=PG&f=1", "display_name": "Hansong Li", "link": "https://stackoverflow.com/users/6705888/hansong-li"}, "edited": false, "score": 0, "creation_date": 1472073054, "post_id": 39132843, "comment_id": 65611476, "body": "Thanks but I am pretty sure I did all those already, still in vain"}, {"owner": {"reputation": 1041, "user_id": 7026014, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207485189949207/picture?type=large", "display_name": "jturi", "link": "https://stackoverflow.com/users/7026014/jturi"}, "edited": false, "score": 1, "creation_date": 1533033374, "post_id": 39132843, "comment_id": 90187292, "body": "I did not now that the loading order is crucial in the INSTALLED_APPS. I put my app above the 3. party package, now it is using my custom template, thx!"}, {"owner": {"reputation": 35977, "user_id": 24718, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/0kiYe.jpg?s=128&g=1", "display_name": "monkut", "link": "https://stackoverflow.com/users/24718/monkut"}, "edited": false, "score": 0, "creation_date": 1564713194, "post_id": 39132843, "comment_id": 101129408, "body": "This was my problem, and hard to find."}, {"owner": {"reputation": 820, "user_id": 5626341, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/225ed59da2a212f403bb7948cf396b5e?s=128&d=identicon&r=PG&f=1", "display_name": "kloddant", "link": "https://stackoverflow.com/users/5626341/kloddant"}, "reply_to_user": {"reputation": 1041, "user_id": 7026014, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207485189949207/picture?type=large", "display_name": "jturi", "link": "https://stackoverflow.com/users/7026014/jturi"}, "edited": false, "score": 0, "creation_date": 1569960564, "post_id": 39132843, "comment_id": 102762590, "body": "@jturi That fixed my problem, thank you!  If the templates folder that you have base_site.html in is inside of an app, then that app must be included before django.contrib.admin."}], "tags": [], "owner": {"reputation": 178, "user_id": 3212346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0717e27834cdf8c898901f3f231b671b?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Rustagi", "link": "https://stackoverflow.com/users/3212346/mohit-rustagi"}, "is_accepted": false, "score": 10, "last_activity_date": 1569995285, "last_edit_date": 1569995285, "creation_date": 1472072030, "answer_id": 39132843, "question_id": 39132187, "link": "https://stackoverflow.com/questions/39132187/django-how-do-i-actually-override-admin-site-template/39132843#39132843", "title": "django: how do I actually override admin site template", "body": "<p>Add your Django app above \u2018Django.contrib.admin\u2019 in settings.INSTALLED_APPS. The ordering matters.</p>\n\n<p>use my_site/my_app/templates/admin/base_site.html </p>\n\n<blockquote>\n  <p>put your app where you define this template before\n  'django.contrib.admin', in INSTALLED_APPS</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/4938491/django-admin-change-header-django-administration-text\">source link</a></p>\n"}, {"tags": [], "owner": {"reputation": 2719, "user_id": 3298964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27a4016e4c577c57d71fe6eca0e41cd8?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Ernst", "link": "https://stackoverflow.com/users/3298964/tobias-ernst"}, "is_accepted": true, "score": 9, "last_activity_date": 1505074332, "creation_date": 1505074332, "answer_id": 46145133, "question_id": 39132187, "link": "https://stackoverflow.com/questions/39132187/django-how-do-i-actually-override-admin-site-template/46145133#46145133", "title": "django: how do I actually override admin site template", "body": "<p>First open your settings.py and add a template folder:</p>\n\n<pre><code>TEMPLATES = [\n{\n    'DIRS': [\n        '/path/to/your/django-project/templates', # Absolute Path\n        # os.path.join(BASE_DIR, 'templates') # Relative Path\n    ],\n    ... \n</code></pre>\n\n<p>Then move the file base_site.html to the following directory. \nIt's important to keep the structure on the file system.</p>\n\n<blockquote>\n  <p>/path/to/your/django-project/templates/admin/base_site.html</p>\n</blockquote>\n\n<p>Content of base_site.html:</p>\n\n<pre><code>{% extends \"admin/base_site.html\" %}\n\n{% block title %}{{ title }} | {{ site_title|default:_('NEW TITLE') }}{% endblock %}\n\n{% block branding %}\n&lt;h1 id=\"site-name\"&gt;&lt;a href=\"{% url 'admin:index' %}\"&gt;Your new Title&lt;/a&gt;&lt;/h1&gt;\n{% endblock %}\n\n{% block nav-global %}{% endblock %}\n</code></pre>\n\n<p><a href=\"https://docs.djangoproject.com/en/dev/ref/contrib/admin/#overriding-admin-templates\" rel=\"noreferrer\">Django Documentation - Overriding Admin Site</a></p>\n\n<p>Hope that helps.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 4750403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2b63D.jpg?s=128&g=1", "display_name": "Murat Simav", "link": "https://stackoverflow.com/users/4750403/murat-simav"}, "is_accepted": false, "score": 3, "last_activity_date": 1508967345, "last_edit_date": 1508967345, "creation_date": 1508966389, "answer_id": 46942229, "question_id": 39132187, "link": "https://stackoverflow.com/questions/39132187/django-how-do-i-actually-override-admin-site-template/46942229#46942229", "title": "django: how do I actually override admin site template", "body": "<p>So you should delete including the curly braces, and just write the text you want.</p>\n\n<pre>\nRemove: `{{ site_title|default:_('NEW TITLE') }}`  Write: NEW TITLE\nRemove: `{{ site_header|default:_('NEW TITLE' }}`  Write: NEW TITLE\n</pre>\n\n<p>Also be sure that you placed the folders (templates/admin) in the root directory of your project. root directory is the container for all your app folders and also the manage.py file.</p>\n\n<p>In other words, \"templates\" folder you want to create should be at the same level with manage.py file.</p>\n\n<p>Your folder structure should look like this:</p>\n\n<pre>\nmysite/\n    <i><b>templates/\n        admin/\n            base_site.html</i>\n    manage.py</b>\n    mysite/\n        __init__.py\n        settings.py\n        urls.py\n        wsgi.py\n    ...\n    ...\n</pre>\n"}, {"comments": [{"owner": {"reputation": 421, "user_id": 9152980, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J5rJrv3q9rs/AAAAAAAAAAI/AAAAAAAAKYg/qFp_4TNsNa8/photo.jpg?sz=128", "display_name": "azmirfakkri", "link": "https://stackoverflow.com/users/9152980/azmirfakkri"}, "edited": false, "score": 0, "creation_date": 1590246794, "post_id": 61669119, "comment_id": 109611427, "body": "I like to put <code>admin.site.site_header = &#39;My New Title&#39;</code> and <code>admin.site.site_title = &#39;My New Title&#39;</code> in admin.py of Django app"}], "tags": [], "owner": {"reputation": 708, "user_id": 6258636, "user_type": "registered", "profile_image": "https://graph.facebook.com/1093708107337475/picture?type=large", "display_name": "Ken", "link": "https://stackoverflow.com/users/6258636/ken"}, "is_accepted": false, "score": 1, "last_activity_date": 1588891960, "creation_date": 1588891960, "answer_id": 61669119, "question_id": 39132187, "link": "https://stackoverflow.com/questions/39132187/django-how-do-i-actually-override-admin-site-template/61669119#61669119", "title": "django: how do I actually override admin site template", "body": "<p>I am not sure if I understand right.  but you can easy to change the title by doing this:</p>\n\n<p>in the \"urls.py\" file</p>\n\n<pre><code>from django.contrib import admin\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    .......\n]\n\nadmin.site.site_header = 'My New Title'\nadmin.site.site_title = 'My New Title'\n</code></pre>\n\n<p>Then it should get the job done for you.</p>\n"}, {"tags": [], "owner": {"reputation": 421, "user_id": 9152980, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J5rJrv3q9rs/AAAAAAAAAAI/AAAAAAAAKYg/qFp_4TNsNa8/photo.jpg?sz=128", "display_name": "azmirfakkri", "link": "https://stackoverflow.com/users/9152980/azmirfakkri"}, "is_accepted": false, "score": 0, "last_activity_date": 1590247093, "creation_date": 1590247093, "answer_id": 61974243, "question_id": 39132187, "link": "https://stackoverflow.com/questions/39132187/django-how-do-i-actually-override-admin-site-template/61974243#61974243", "title": "django: how do I actually override admin site template", "body": "<p>To change Django Admin site title, you can add these two lines in the <code>admin.py</code> of your Django app:</p>\n\n<pre><code>from django.contrib import admin\n\n# change Django admin title\nadmin.site.site_title = 'My Blog Admin'\n\n# change Django admin site header\nadmin.site.site_header = 'My Blog Admin'\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 6705888, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b3c254c816a1562b92ed2ba9ff483482?s=128&d=identicon&r=PG&f=1", "display_name": "Hansong Li", "link": "https://stackoverflow.com/users/6705888/hansong-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11505, "favorite_count": 1, "accepted_answer_id": 46145133, "answer_count": 5, "score": 5, "last_activity_date": 1590247093, "creation_date": 1472069192, "last_edit_date": 1592644375, "question_id": 39132187, "link": "https://stackoverflow.com/questions/39132187/django-how-do-i-actually-override-admin-site-template", "title": "django: how do I actually override admin site template", "body": "<p>I know this is asked and answered several times but I basically went over all the post on stack overflow and still couldn't get this to work. Right now I am just trying simply change the admin site title. I have the following:</p>\n<pre><code>#base_site.html\n{% extends &quot;admin/base_site.html&quot; %}\n\n{% block title %}{{ title }} | {{ site_title|default:_('NEW TITLE') }}{% endblock %}\n\n{% block branding %}\n&lt;h1 id=&quot;site-name&quot;&gt;&lt;a href=&quot;{% url 'admin:index' %}&quot;&gt;{{ site_header|default:_('NEW TITLE') }}&lt;/a&gt;&lt;/h1&gt;\n{% endblock %}\n\n{% block nav-global %}{% endblock %}\n</code></pre>\n<p>And I tried to put this in</p>\n<blockquote>\n<p>my_site/templates/admin/base_site.html,</p>\n<p>my_site/templates/admin/my_app/base_site.html, and</p>\n<p>my_site/my_app/templates/admin/base_site.html,</p>\n</blockquote>\n<p>but none of these work.</p>\n<pre><code>settings.py:\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n            'loaders': [\n                'django.template.loaders.filesystem.Loader',\n                'django.template.loaders.app_directories.Loader',\n            ],\n        },\n    },\n]\n</code></pre>\n<p>I also tried just directly changing django\\contrib\\admin\\templates\\admin\\base_site.html but still nothing happens.</p>\n<p>I am really frustrated now and definitely could use some help, thanks</p>\n<p>Updates:\nActually I found out that the local template does have effect.\n<a href=\"https://i.stack.imgur.com/PvybC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PvybC.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Like here, the topmost white bar displays &quot;#base_site.html!!@#&quot; which is what I put in my_site/templates/admin/base_site.html as a comment by chance. So it kinda working, but I still don't understand why I can't change the site title.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 7, "creation_date": 1472069253, "post_id": 39132181, "comment_id": 65609679, "body": "<code>df.index = df.First</code>"}, {"owner": {"reputation": 411, "user_id": 7333883, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QMvRYuB8R1I/AAAAAAAAAAI/AAAAAAAACl0/TVBxB33YZ28/photo.jpg?sz=128", "display_name": "Sumanth Lazarus", "link": "https://stackoverflow.com/users/7333883/sumanth-lazarus"}, "edited": false, "score": 2, "creation_date": 1566237936, "post_id": 39132181, "comment_id": 101585434, "body": "Note: as others have mentioned, if you would like to make an existing column as index <b>opt-1</b>: <code>df.set_index(&#39;col_name&#39;, inplace=True)</code>, if you would like to use an external object like list, pd.Series as your index instead <b>opt-2</b>: <code>df.index = list_1</code>"}], "answers": [{"comments": [{"owner": {"reputation": 838, "user_id": 5161552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c9cf9a1aac13016b6179feada79a1c06?s=128&d=identicon&r=PG&f=1", "display_name": "Dipen Gajjar", "link": "https://stackoverflow.com/users/5161552/dipen-gajjar"}, "edited": false, "score": 0, "creation_date": 1567101451, "post_id": 39132236, "comment_id": 101872969, "body": "If I want to set another list as index (let say [&#39;x&#39;,&#39;y&#39;]) which is not the existing column of the data frame then how can I do it?"}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 12, "last_activity_date": 1472069352, "creation_date": 1472069352, "answer_id": 39132236, "question_id": 39132181, "link": "https://stackoverflow.com/questions/39132181/dataframe-set-index-from-list/39132236#39132236", "title": "dataframe, set index from list", "body": "<pre><code>&gt;&gt;&gt; pd.DataFrame(tmp, columns=[\"First\", \"Second\"]).set_index('First', drop=False)\n      First Second\nFirst             \na         a     a1\nb         b     b1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6528, "user_id": 2740380, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/da67a0ebb5bfe35b4393aa34797ded1b?s=128&d=identicon&r=PG&f=1", "display_name": "ragesz", "link": "https://stackoverflow.com/users/2740380/ragesz"}, "is_accepted": false, "score": 6, "last_activity_date": 1472069576, "creation_date": 1472069576, "answer_id": 39132290, "question_id": 39132181, "link": "https://stackoverflow.com/questions/39132181/dataframe-set-index-from-list/39132290#39132290", "title": "dataframe, set index from list", "body": "<p>If you don't want index name:</p>\n\n<pre><code>df = pd.DataFrame(tmp, columns=[\"First\", \"Second\"], index=[i[0] for i in tmp])\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>  First Second\na     a     a1\nb     b     b1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 411, "user_id": 7333883, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QMvRYuB8R1I/AAAAAAAAAAI/AAAAAAAACl0/TVBxB33YZ28/photo.jpg?sz=128", "display_name": "Sumanth Lazarus", "link": "https://stackoverflow.com/users/7333883/sumanth-lazarus"}, "edited": false, "score": 0, "creation_date": 1566237783, "post_id": 51918297, "comment_id": 101585391, "body": "This option is versatile, enables creating index from external objects (lists, pd.Series etc), and also answers OP&#39;s question too."}], "tags": [], "owner": {"reputation": 385, "user_id": 1102007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbcab46a00ebe1e6ca668e967d10846e?s=128&d=identicon&r=PG", "display_name": "Aman Singh Kamboj", "link": "https://stackoverflow.com/users/1102007/aman-singh-kamboj"}, "is_accepted": false, "score": 9, "last_activity_date": 1534686357, "creation_date": 1534686357, "answer_id": 51918297, "question_id": 39132181, "link": "https://stackoverflow.com/questions/39132181/dataframe-set-index-from-list/51918297#51918297", "title": "dataframe, set index from list", "body": "<p>Change it to list before assigning it to index</p>\n\n<pre><code>df.index = list(df[\"First\"])\n</code></pre>\n"}], "owner": {"reputation": 1395, "user_id": 6359147, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a72bf7b3d8598739568189ccd448ecc?s=128&d=identicon&r=PG&f=1", "display_name": "vandelay", "link": "https://stackoverflow.com/users/6359147/vandelay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38025, "favorite_count": 3, "accepted_answer_id": 39132236, "answer_count": 3, "score": 15, "last_activity_date": 1534686357, "creation_date": 1472069170, "question_id": 39132181, "link": "https://stackoverflow.com/questions/39132181/dataframe-set-index-from-list", "title": "dataframe, set index from list", "body": "<p>Is it possible when creating a dataframe from a list, to set the index as one of the values?</p>\n\n<pre><code>import pandas as pd\n\ntmp = [['a', 'a1'], ['b',' b1']]\n\ndf = pd.DataFrame(tmp, columns=[\"First\", \"Second\"])\n\n        First  Second\n0          a   a1\n1          b   b1\n</code></pre>\n\n<p>And how I'd like it to look:</p>\n\n<pre><code>        First  Second\na          a   a1\nb          b   b1\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5442, "user_id": 105886, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7d3264fa6d952319521078713f453372?s=128&d=identicon&r=PG", "display_name": "RoadieRich", "link": "https://stackoverflow.com/users/105886/roadierich"}, "edited": false, "score": 0, "creation_date": 1472070097, "post_id": 39132091, "comment_id": 65610066, "body": "Do you not have the option of installing Python 3, say bundling it all with an installer script, or as an RPM with a Python3 dependency?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1472070655, "post_id": 39132091, "comment_id": 65610343, "body": "Side-notes: <code>file</code> is a deprecated name, gone in Py3. You probably want to use <code>open</code>. Additionally, reopening the file each <code>print</code> is going to be slow; ideally you open it once and reuse the handle. Of course, depending on use, repeated accumulating writes is often best done with the <code>logging</code> module, which avoids the compatibility problems of <code>print</code> entirely; I rarely see a <code>print</code> (statement or function) in production code, because text logging is done through the <code>logging</code> module, and general file I/O is done with the methods on file-like objects directly without <code>print</code> overhead."}], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 6491182, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-DYtsdb7vwgI/AAAAAAAAAAI/AAAAAAAAAJk/1L0O9F_LEu0/photo.jpg?sz=128", "display_name": "Haydentech", "link": "https://stackoverflow.com/users/6491182/haydentech"}, "edited": false, "score": 0, "creation_date": 1476732663, "post_id": 39132131, "comment_id": 67461104, "body": "I ended up using the Six compatibility library, as suggested.  Thanks!"}], "tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": true, "score": 4, "last_activity_date": 1476733327, "last_edit_date": 1476733327, "creation_date": 1472068986, "answer_id": 39132131, "question_id": 39132091, "link": "https://stackoverflow.com/questions/39132091/redirect-print-to-file-in-python-2-4/39132131#39132131", "title": "Redirect print() to file in python 2.4", "body": "<p>The syntax is pretty awful:</p>\n\n<pre><code>print &gt;&gt; file('/tmp/bar', 'ab'), 'Foo'\n</code></pre>\n\n<p>Though of course you should rather write:</p>\n\n<pre><code>f = open('/tmp/bar', 'ab')\ntry:\n    print &gt;&gt; f, 'Foo'\nfinally:\n    f.close()\n</code></pre>\n\n<p>to make sure that the output is actually closed and flushed. (Python 2.4 doesn't have <code>with</code> statement!).</p>\n\n<hr>\n\n<p>As an alternative to converting everything to <code>print</code> statement, you could also try the <a href=\"https://bitbucket.org/gutworth/six/src/ca4580a5a648fc75abc568907e81abc80b05d58c/six.py?at=default&amp;fileviewer=file-view-default#six.py-738\" rel=\"nofollow\"><code>print_</code></a> function from the <a href=\"https://pythonhosted.org/six/\" rel=\"nofollow\">Six: Python 2 and 3 Compatibility Library</a>. I am not sure whether the whole library supports 2.4 any longer, but that one function should be OK in 2.4.</p>\n"}], "owner": {"reputation": 789, "user_id": 6491182, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-DYtsdb7vwgI/AAAAAAAAAAI/AAAAAAAAAJk/1L0O9F_LEu0/photo.jpg?sz=128", "display_name": "Haydentech", "link": "https://stackoverflow.com/users/6491182/haydentech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 39132131, "answer_count": 1, "score": 4, "last_activity_date": 1476733327, "creation_date": 1472068812, "question_id": 39132091, "link": "https://stackoverflow.com/questions/39132091/redirect-print-to-file-in-python-2-4", "title": "Redirect print() to file in python 2.4", "body": "<p>I'm backporting a modern python script to 2.4 to make it compatible with stock RHEL 5.X.  While most of the work has been fairly straight-forward, I can't figure out how to handle this case where I am appending to a file:</p>\n\n<pre><code>print(\"Foo\",file=file(\"/tmp/bar\",'ab'))\n</code></pre>\n\n<p>This is a very common construct in the code I'm porting.  I am using the print function from <strong>future</strong>, which works fine, but here it chokes on the \"file=file(\"filename\", 'ab')\" part.  Apparently this kind of redirection is not supported in 2.4.  Likewise, I haven't found a way for the print function to support the >> operator from the old print.  It would be an enormous task to re-write this script without the print function, so I'd like a solution based on the print function.</p>\n\n<p>I've found plenty of docs showing how to use >> in the old print, or file=file() in the new print function, but nothing that actually works in 2.4.</p>\n\n<p>What is the equivalent Python 2.4 compatible code for this?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 6879, "user_id": 780719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZwWs8.png?s=128&g=1", "display_name": "Codie CodeMonkey", "link": "https://stackoverflow.com/users/780719/codie-codemonkey"}, "edited": false, "score": 1, "creation_date": 1472069306, "post_id": 39132087, "comment_id": 65609715, "body": "Could you provide some more examples of the type of query you will be doing?  For example, are you always going to provide the full sequence of letters?  Will you use wild-cards, such as A*L?"}], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1472070360, "post_id": 39132269, "comment_id": 65610188, "body": "You probably want to use <a href=\"https://docs.python.org/3/library/re.html#re.escape\" rel=\"nofollow noreferrer\"><code>re.escape</code></a> on the pattern you receive, unless you&#39;re intending to allow regex specials to be passed and used by the caller. Obviously not an issue if the patterns never contain regex special characters, but that&#39;s a bad assumption to make most of the time."}], "tags": [], "owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "is_accepted": false, "score": 1, "last_activity_date": 1472069479, "creation_date": 1472069479, "answer_id": 39132269, "question_id": 39132087, "link": "https://stackoverflow.com/questions/39132087/extracting-a-section-of-a-string-in-python-with-limitations/39132269#39132269", "title": "Extracting a section of a string in python with limitations", "body": "<p>You could use <code>re</code> module. And making a function should be convenient.</p>\n\n<pre><code>import re\ndef SearchDistance(pattern,text):\n    pattern = pattern.replace(' ','\\s')\n    print re.findall(r'{0}.+'.format(pattern),a)\n\nSearchDistance('Distance AAAH',a)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['Distance AAAH: ,0.11404,0.11450,0.00120,0.00110,-0.00046,,']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1472070127, "post_id": 39132309, "comment_id": 65610086, "body": "That&#39;s a really terrible condition, unless you can make clear guarantees that the data on the line won&#39;t contain <code>AAAH</code>. <code>if line.startswith(&#39;Distance AAAH:&#39;):</code> would be a lot safer and clearly indicates your intent."}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 3, "creation_date": 1472070257, "post_id": 39132309, "comment_id": 65610143, "body": "Instead of <code>split(&#39;\\n&#39;)</code>, you can use <code>splitlines()</code>. Also, <code>str</code> is a terrible variable name, as it shadows the type."}, {"owner": {"reputation": 463, "user_id": 6277642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qhV1u.jpg?s=128&g=1", "display_name": "Hamed Mahmoudkhani", "link": "https://stackoverflow.com/users/6277642/hamed-mahmoudkhani"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1472071951, "post_id": 39132309, "comment_id": 65610959, "body": "@ShadowRanger Right, edited. But i think good to know for peoples ; use  <b><code>if &quot;AAAH&quot; in line:</code></b> when need search in whole line"}], "tags": [], "owner": {"reputation": 463, "user_id": 6277642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qhV1u.jpg?s=128&g=1", "display_name": "Hamed Mahmoudkhani", "link": "https://stackoverflow.com/users/6277642/hamed-mahmoudkhani"}, "is_accepted": true, "score": 1, "last_activity_date": 1472072342, "last_edit_date": 1472072342, "creation_date": 1472069647, "answer_id": 39132309, "question_id": 39132087, "link": "https://stackoverflow.com/questions/39132087/extracting-a-section-of-a-string-in-python-with-limitations/39132309#39132309", "title": "Extracting a section of a string in python with limitations", "body": "<p>You can search your text by this script :</p>\n\n<pre><code>#fullText = YOUR STRING\ntext = fullText.splitlines()\nfor line in text:\n    if line.startswith('Distance AAAH:'):\n        print line\n</code></pre>\n\n<p>Output:<code>Distance AAAH: ,0.11404,0.11450,0.00120,0.00110,-0.00046,,</code></p>\n"}], "owner": {"reputation": 107, "user_id": 6664623, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/95cf885fc3496390a823ba67e2d1018a?s=128&d=identicon&r=PG&f=1", "display_name": "Chase Garfield", "link": "https://stackoverflow.com/users/6664623/chase-garfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 39132309, "answer_count": 2, "score": 0, "last_activity_date": 1472072342, "creation_date": 1472068782, "last_edit_date": 1472069602, "question_id": 39132087, "link": "https://stackoverflow.com/questions/39132087/extracting-a-section-of-a-string-in-python-with-limitations", "title": "Extracting a section of a string in python with limitations", "body": "<p>I have a string output that looks like this:</p>\n\n<pre><code>Distance AAAB: ,0.13634,0.13700,0.00080,0.00080,-0.00066,.00001,\nDistance AAAC: ,0.12617,0.12680,0.00080,0.00080,-0.00063,,\nDistance AAAD: ,0.17045,0.16990,0.00080,0.00080,0.00055,,\nDistance AAAE: ,0.09330,0.09320,0.00080,0.00080,0.00010,,\nDistance AAAF: ,0.21048,0.21100,0.00080,0.00080,-0.00052,,\nDistance AAAG: ,0.02518,0.02540,0.00040,0.00040,-0.00022,,\nDistance AAAH: ,0.11404,0.11450,0.00120,0.00110,-0.00046,,\nDistance AAAI: ,0.10811,0.10860,0.00080,0.00070,-0.00049,,\nDistance AAAJ: ,0.02430,0.02400,0.00200,0.00200,0.00030,,\nDistance AAAK: ,0.09449,0.09400,0.00200,0.00100,0.00049,,\nDistance AAAL: ,0.07689,0.07660,0.00050,0.00050,0.00029,\n</code></pre>\n\n<p>What I want to do is extract a specific set of data out of this block, for example only Distance AAAH like so:</p>\n\n<pre><code>Distance AAAH: ,0.11404,0.11450,0.00120,0.00110,-0.00046,,\n</code></pre>\n\n<p>The measurements will always begin with Distance AAA*: with the star being the only character that will change.</p>\n\n<p>Complications:\nThis needs to be generic, because I have a lot of different data sets and so Distance AAAH might not always be followed by Distance AAAI or preceded by Distance AAAG, since the measurements for different items vary. I also can't rely on .len(), because the last measurement can sometimes be blank (As it is with Distance AAAH) or can be filled (As with Distance AAAB. And I don't think I can use .find(), because I need all of the numbers following Distance AAAH. </p>\n\n<p>I am still very new and I tried my best to find a solution similar to this problem, but have not had much luck.</p>\n"}, {"tags": ["python", "for-loop", "dictionary"], "comments": [{"owner": {"reputation": 5109, "user_id": 2373748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/moadr.png?s=128&g=1", "display_name": "galaxyan", "link": "https://stackoverflow.com/users/2373748/galaxyan"}, "edited": false, "score": 2, "creation_date": 1472068486, "post_id": 39131926, "comment_id": 65609296, "body": "&quot;mo=appNumSep.findall(appNum)&quot;  you reset value every iteration."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1472069974, "post_id": 39131926, "comment_id": 65610018, "body": "Side-note: In general, and particularly if this is Python 2, you rarely want to use the <code>keys</code> method of <code>dict</code>s. <code>dict</code>s are already iterables of their keys, so <code>for num in appDict:</code> gets the same results (and avoids making a temporary <code>list</code> that contains a shallow copy of the <code>keys</code> in Python 2; in Python 3 it only avoids creating a simple wrapper object). Of course, since you want the value too, you should really iterate the items: <code>for num, val in appDict.items():</code> (<code>.viewitems()</code> in Py2 to avoid copy) <code>if num in mo: appInfo[num] = val</code>."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 6754119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7536057265f641715a2785c8cf4d825b?s=128&d=identicon&r=PG", "display_name": "bcparker21", "link": "https://stackoverflow.com/users/6754119/bcparker21"}, "edited": false, "score": 0, "creation_date": 1472070332, "post_id": 39132167, "comment_id": 65610176, "body": "That is an interesting catch. My mo array is operating properly now, but appInfo is completely empty. Thanks for finding that problem in my problem-filled code!"}, {"owner": {"reputation": 156, "user_id": 6596077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/163290b321671a258dace685f3fe8c20?s=128&d=identicon&r=PG&f=1", "display_name": "peaches", "link": "https://stackoverflow.com/users/6596077/peaches"}, "reply_to_user": {"reputation": 65, "user_id": 6754119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7536057265f641715a2785c8cf4d825b?s=128&d=identicon&r=PG", "display_name": "bcparker21", "link": "https://stackoverflow.com/users/6754119/bcparker21"}, "edited": false, "score": 0, "creation_date": 1472072883, "post_id": 39132167, "comment_id": 65611394, "body": "I changed the append() line. I was appending an array returned by findall() without joining it into a single string. The edited code should work."}], "tags": [], "owner": {"reputation": 156, "user_id": 6596077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/163290b321671a258dace685f3fe8c20?s=128&d=identicon&r=PG&f=1", "display_name": "peaches", "link": "https://stackoverflow.com/users/6596077/peaches"}, "is_accepted": true, "score": 1, "last_activity_date": 1472072521, "last_edit_date": 1472072521, "creation_date": 1472069111, "answer_id": 39132167, "question_id": 39131926, "link": "https://stackoverflow.com/questions/39131926/using-a-for-loop-to-populate-a-dictionary/39132167#39132167", "title": "Using a for loop to populate a dictionary", "body": "<p>Your array <strong>mo</strong> gets overwritten through each iteration of the while loop. When you loop through appDict.keys() <strong>mo</strong> only contains the most recent input. I think you meant to append to <strong>mo</strong> like this:</p>\n\n<pre><code>appDict={'AA':{'appType':'app name one','fileLoc':'C:\\\\app1.docx'},\n     'BB':{'appType':'app name two','fileLoc':'C:\\\\app2.docx'},\n     'CC':{'appType':'app name three','baseDoc':'C:\\\\app3.docx'},\n     'DD':{'appType':'app name four','baseDoc':'C:\\\\app4.docx'},\n     'EE':{'appType':'app name five','baseDoc':'C:\\\\app5.docx'},\n     'FF':{'appType':'app name six','baseDoc':'C:\\\\app6.docx'}}\nappInfo=dict()\nappNumList=[]\nmo=[]\n\nwhile True:\n    print('Enter an application number (XX-00-00). Press Enter to stop:')\n    appNum=str(input())\n    if appNum=='':\n        break\n    appNumList=appNumList+[appNum]\n    appShow='/'.join(appNumList)\n    appNumLength=len(appNumList)\n    appNumSep=re.compile(r'[A-Z]+')\n    mo.append(''.join(appNumSep.findall(appNum))\n\nfor num in appDict.keys():\n    if num in mo:\n        appInfo[num]=appDict[num]\n\nprint(appInfo)\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6754119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7536057265f641715a2785c8cf4d825b?s=128&d=identicon&r=PG", "display_name": "bcparker21", "link": "https://stackoverflow.com/users/6754119/bcparker21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 688, "favorite_count": 0, "accepted_answer_id": 39132167, "answer_count": 1, "score": 1, "last_activity_date": 1472072521, "creation_date": 1472068171, "question_id": 39131926, "link": "https://stackoverflow.com/questions/39131926/using-a-for-loop-to-populate-a-dictionary", "title": "Using a for loop to populate a dictionary", "body": "<p>I'm having some trouble generating the dictionary I've named \"appInfo\" using the code below. When it is run like this, only the last application number entered gets saved in the appInfo dictionary. It seems like it should be pretty easy, but I haven't been able to find a fix. I'm using Python 3.5.2.</p>\n\n<pre><code>appDict={'AA':{'appType':'app name one','fileLoc':'C:\\\\app1.docx'},\n     'BB':{'appType':'app name two','fileLoc':'C:\\\\app2.docx'},\n     'CC':{'appType':'app name three','baseDoc':'C:\\\\app3.docx'},\n     'DD':{'appType':'app name four','baseDoc':'C:\\\\app4.docx'},\n     'EE':{'appType':'app name five','baseDoc':'C:\\\\app5.docx'},\n     'FF':{'appType':'app name six','baseDoc':'C:\\\\app6.docx'}}\nappInfo=dict()\nappNumList=[]\nwhile True:\n    print('Enter an application number (XX-00-00). Press Enter to stop:')\n    appNum=str(input())\n    if appNum=='':\n        break\n    appNumList=appNumList+[appNum]\n    appShow='/'.join(appNumList)\n    appNumLength=len(appNumList)\n    appNumSep=re.compile(r'[A-Z]+')\n    mo=appNumSep.findall(appNum)\nfor num in appDict.keys():\n    if num in mo:\n        appInfo[num]=appDict[num]\nprint(appInfo)\n</code></pre>\n"}, {"tags": ["python", "pandas", "group-by", "multi-index", "pandas-groupby"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 4, "last_activity_date": 1472068910, "last_edit_date": 1472068910, "creation_date": 1472068370, "answer_id": 39131965, "question_id": 39131900, "link": "https://stackoverflow.com/questions/39131900/how-to-check-if-a-column-exists-in-a-pandas-multiindex/39131965#39131965", "title": "How to check if a column exists in a pandas MultiIndex", "body": "<p>IIUC</p>\n\n<pre><code>df.xs(2, axis=1, level=1).groupby(axis=1, level=1).first().columns.values\n\narray([2000, 2001])\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>df.xs(2, axis=1, level=1).columns.get_level_values(level=1).unique()\n</code></pre>\n"}], "owner": {"reputation": 1753, "user_id": 1456830, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/bf6c46a8118d93dbd1ece61570b2d46a?s=128&d=identicon&r=PG", "display_name": "LateCoder", "link": "https://stackoverflow.com/users/1456830/latecoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1449, "favorite_count": 0, "accepted_answer_id": 39131965, "answer_count": 1, "score": 2, "last_activity_date": 1510463281, "creation_date": 1472068087, "last_edit_date": 1510463281, "question_id": 39131900, "link": "https://stackoverflow.com/questions/39131900/how-to-check-if-a-column-exists-in-a-pandas-multiindex", "title": "How to check if a column exists in a pandas MultiIndex", "body": "<p>Let's say I have a DataFrame with a MultiIndex of columns like this:</p>\n\n<pre><code>In [29]: df = pd.DataFrame([[0] * 8], columns = pd.MultiIndex.from_product(\n    [['a', 'b'], [1, 2], [2000, 2001]])\n)\n\nIn [30]: df\nOut[30]:\n     a                   b\n     1         2         1         2\n  2000 2001 2000 2001 2000 2001 2000 2001\n0    0    0    0    0    0    0    0    0\n\nIn [46]: df.columns.levels\nOut[46]: FrozenList([[u'a', u'b'], [1, 2], [2000, 2001]])\n</code></pre>\n\n<p>I need to know, for all values of level 0 and some specific value of level 1, what are all the existing unique values of level 2 (say the DataFrame goes through some process in which for some values of level 1 and level 0, level 2 is dropped). The best I've been able to come up with so far is this:</p>\n\n<pre><code>In [54]: level_1_val = 2\n\nIn [55]: cols_series = df.columns.to_series()\n\nIn [56]: cols_series[\n   ....:     cols_series.index.get_level_values(1) == level_1_val\n   ....: ].index.get_level_values(2).unique()\n\narray([2000, 2001])\n</code></pre>\n\n<p>What's a better way to do this?</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 31791, "user_id": 529630, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2c2dd297abe572bd192b1f01322dec83?s=128&d=identicon&r=PG", "display_name": "Dunes", "link": "https://stackoverflow.com/users/529630/dunes"}, "edited": false, "score": 0, "creation_date": 1472069473, "post_id": 39131811, "comment_id": 65609792, "body": "So, each returned array always has the same shape? For example, given a  value passed into <code>func</code>, the returned <code>arr1_t.shape</code> is always the same?"}], "answers": [{"tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": true, "score": 2, "last_activity_date": 1472068323, "creation_date": 1472068323, "answer_id": 39131951, "question_id": 39131811, "link": "https://stackoverflow.com/questions/39131811/python-elegant-way-to-combine-output-variables-of-a-function-run-many-times/39131951#39131951", "title": "Python: Elegant way to combine output variables of a function run many times", "body": "<p>You can just make <code>arr1</code>, <code>arr2</code>, etc. a list of lists (of vectors or matrices or whatever). Then use a loop to iterate the results obtained from <code>func</code> and add them to the individual lists.</p>\n\n<pre><code>arrN = [[] for _ in range(N)]  # N being number of results from func\nfor t in range(t_max):\n    results = func(data[t])\n    for i, res in enumerate(results):\n        arrN[i].append(res)\n</code></pre>\n\n<p>The elements in the different sub-lists do not have to have the same dimensions.</p>\n"}, {"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 0, "last_activity_date": 1472069436, "creation_date": 1472069436, "answer_id": 39132260, "question_id": 39131811, "link": "https://stackoverflow.com/questions/39131811/python-elegant-way-to-combine-output-variables-of-a-function-run-many-times/39132260#39132260", "title": "Python: Elegant way to combine output variables of a function run many times", "body": "<p>Not sure if it counts as \"elegant\", but you can build a <code>list</code> of the result <code>tuple</code>s then use <code>zip</code> to group them into <code>tuple</code>s by return position instead of by call number, then optionally <code>map</code> to convert those <code>tuple</code>s to the final data type. For example, with <code>numpy</code> <code>array</code>:</p>\n\n<pre><code>from future_builtins import map, zip  # Only on Python 2, to minimize temporaries\nimport numpy as np\n\ndef func(x):\n     'Dumb function to return tuple of powers of x from 1 to 27'\n     return tuple(x ** i for i in range(1, 28))\n\n# Example inputs for func\ndata = [np.array([[x]*10]*10, dtype=np.uint8) for  in range(10)]\n\n# Output is generator of results for each call to func\noutputs = map(func, data)\n\n# Pass each complete result of func as a positional argument to zip via star\n# unpacking to regroup, so the first return from each func call is the first\n# group, then the second return the second group, etc.\npositional_groups = zip(*outputs)\n\n# Convert regrouped data (`tuple`s of 2D results) to numpy 3D result type, unpack to names\narr1,arr2,arr3,arr4,arr5, ...,arr27 = map(np.array, positional_groups)\n</code></pre>\n\n<p>If the elements returned from func at a given position might have inconsistent dimensions (e.g. one call might return 10x10 as the first return, and another 5x5), you'd avoid the final <code>map</code> step (since the <code>array</code> wouldn't have consistent dimensions and just replace the second-to last step with:</p>\n\n<pre><code>arr1,arr2,arr3,arr4,arr5, ...,arr27 = zip(*outputs)\n</code></pre>\n\n<p>making <code>arr#</code> a <code>tuple</code> of 2D <code>array</code>s, or if the need to be mutable:</p>\n\n<pre><code>arr1,arr2,arr3,arr4,arr5, ...,arr27 = map(list, zip(*outputs))\n</code></pre>\n\n<p>to make them <code>list</code>s of 2D <code>array</code>s.</p>\n"}, {"tags": [], "owner": {"reputation": 31791, "user_id": 529630, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2c2dd297abe572bd192b1f01322dec83?s=128&d=identicon&r=PG", "display_name": "Dunes", "link": "https://stackoverflow.com/users/529630/dunes"}, "is_accepted": false, "score": 0, "last_activity_date": 1472071699, "creation_date": 1472071699, "answer_id": 39132781, "question_id": 39131811, "link": "https://stackoverflow.com/questions/39131811/python-elegant-way-to-combine-output-variables-of-a-function-run-many-times/39132781#39132781", "title": "Python: Elegant way to combine output variables of a function run many times", "body": "<p>This answer gives a solution using <a href=\"http://docs.scipy.org/doc/numpy/user/basics.rec.html\" rel=\"nofollow\">structured arrays</a>. It has the following requirement: Ggven a function <code>f</code> that returns <code>N</code> arrays, and the size of each of the returned arrays can be different -- <em>then for all results of <code>f</code>, <code>len(array_i)</code> must always be same</em>. eg.</p>\n\n<pre><code>arrs_a = f(\"a\")\narrs_b = f(\"b\")\nfor sub_arr_a, sub_arr_b in zip(arrs_a, arrs_b):\n   assert len(sub_arr_a) == len(sub_arr_b)\n</code></pre>\n\n<p>If the above is true, then you can use structured arrays. A structured array is like a normal array, just with a complex data type. For instance, I could specify a data type that is made up of one array of ints of shape <code>5</code>, and a second array of floats of shape <code>(2, 2)</code>. eg.</p>\n\n<pre><code># define what a record looks like\ndtype = [\n    # tuples of (field_name, data_type)\n    (\"a\", \"5i4\"), # array of five 4-byte ints\n    (\"b\", \"(2,2)f8\"), # 2x2 array of 8-byte floats\n]\n</code></pre>\n\n<p>Using <code>dtype</code> you can create a structured array, and set all the results on the structured array in one go.</p>\n\n<pre><code>import numpy as np\n\ndef func(n):\n    \"mock implementation of func\"\n    return (\n        np.ones(5) * n,\n        np.ones((2,2))* n\n    )\n\n# define what a record looks like\ndtype = [\n    # tuples of (field_name, data_type)\n    (\"a\", \"5i4\"), # array of five 4-byte ints\n    (\"b\", \"(2,2)f8\"), # 2x2 array of 8-byte floats\n]\n\nsize = 5\n# create array\narr = np.empty(size, dtype=dtype)\n# fill in values\nfor i in range(size):\n    # func must return a tuple\n    # or you must convert the returned value to a tuple\n    arr[i] = func(i)\n\n# alternate way of instantiating arr\narr = np.fromiter((func(i) for i in range(size)), dtype=dtype, count=size)\n\n# How to use structured arrays\n# access individual record\nprint(arr[1]) # prints ([1, 1, 1, 1, 1], [[1, 1], [1, 1]])\n# access specific value -- get second record -&gt; get b field -&gt; get value at 0,0\nassert arr[2]['b'][0,0] == 2\n# access all values of a specific field\nprint(arr['a']) # prints all the a arrays\n</code></pre>\n"}], "owner": {"reputation": 1160, "user_id": 3826115, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/64deaa69ef71ef12623f3ced55f16d2d?s=128&d=identicon&r=PG&f=1", "display_name": "hm8", "link": "https://stackoverflow.com/users/3826115/hm8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 39131951, "answer_count": 3, "score": 0, "last_activity_date": 1472071699, "creation_date": 1472067728, "last_edit_date": 1472068444, "question_id": 39131811, "link": "https://stackoverflow.com/questions/39131811/python-elegant-way-to-combine-output-variables-of-a-function-run-many-times", "title": "Python: Elegant way to combine output variables of a function run many times", "body": "<p>I have a function that returns many output arrays of varying size.</p>\n\n<pre><code>arr1,arr2,arr3,arr4,arr5, ... = func(data)\n</code></pre>\n\n<p>I want to run this function many times over a time series of data, and combine each output variable into one array that covers the whole time series.</p>\n\n<p>To elaborate: If the output arr1 has dimensions (x,y) when the function is called, I want to run the function 't' times and end up with an array that has dimensions (x,y,t). A list of 't' arrays with size (x,y) would also be acceptable, but not preferred.</p>\n\n<p>Again, the output arrays do not all have the same dimensions, or even the same number of dimensions. Arr2 might have size (x2,y2), arr3 might be only a vector of length (x3). I do not know the size of all of these arrays before hand.</p>\n\n<p>My current solution is something like this:</p>\n\n<pre><code>arr1 = []\narr2 = []\narr3 = []\n...\n\nfor t in range(t_max):\n   arr1_t, arr2_t, arr3_t, ... = func(data[t])\n\n   arr1.append(arr1_t)\n   arr2.append(arr2_t)\n   arr3.append(arr3_t)\n...\n</code></pre>\n\n<p>and so on. However this is inelegant looking when repeated 27 times for each output array.</p>\n\n<p>Is there a better way to do this?</p>\n"}, {"tags": ["python", "amazon-s3"], "comments": [{"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1472067682, "post_id": 39131766, "comment_id": 65608885, "body": "Maybe try changing <code>s3_image_prefix</code> to <code>https</code> instead of <code>http</code>..."}], "answers": [{"comments": [{"owner": {"reputation": 2292, "user_id": 6754140, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7bd518bf683e48b801f3005f0ac9f17b?s=128&d=identicon&r=PG&f=1", "display_name": "dizzyf", "link": "https://stackoverflow.com/users/6754140/dizzyf"}, "edited": false, "score": 0, "creation_date": 1472073035, "post_id": 39131947, "comment_id": 65611465, "body": "Thanks! This was it. The machine clock on that server was about ~20 minutes behind."}], "tags": [], "owner": {"reputation": 502, "user_id": 3513395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4d228bf40eda1cf99e04d579ad6eadb?s=128&d=identicon&r=PG&f=1", "display_name": "thomaskeefe", "link": "https://stackoverflow.com/users/3513395/thomaskeefe"}, "is_accepted": true, "score": 2, "last_activity_date": 1472068308, "last_edit_date": 1495540397, "creation_date": 1472068308, "answer_id": 39131947, "question_id": 39131766, "link": "https://stackoverflow.com/questions/39131766/getting-a-403-client-error-using-tinys3-python-package/39131947#39131947", "title": "Getting a 403 Client Error using tinys3 python package", "body": "<p>If the machine's system clock is more than 15 minutes behind, you can get this error. The time is put into the request and checked by Amazon. Check the system time with the <code>date</code> command.</p>\n\n<p>This has been discussed by some other questions:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/24433198/amazon-s3-403-accessdenied-error\">Amazon S3 403 AccessDenied error</a></li>\n<li><a href=\"https://stackoverflow.com/questions/26594944/getting-boto-exception-s3responseerror-s3responseerror-403-forbidden-when-uplo/27984752#27984752\">Getting boto.exception.S3ResponseError: S3ResponseError: 403 Forbidden when uploading file</a></li>\n</ul>\n"}], "owner": {"reputation": 2292, "user_id": 6754140, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7bd518bf683e48b801f3005f0ac9f17b?s=128&d=identicon&r=PG&f=1", "display_name": "dizzyf", "link": "https://stackoverflow.com/users/6754140/dizzyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1618, "favorite_count": 0, "accepted_answer_id": 39131947, "answer_count": 1, "score": 1, "last_activity_date": 1487144392, "creation_date": 1472067556, "question_id": 39131766, "link": "https://stackoverflow.com/questions/39131766/getting-a-403-client-error-using-tinys3-python-package", "title": "Getting a 403 Client Error using tinys3 python package", "body": "<p>I'm getting a 403 Client Error when making an S3 connection on one of our production servers using the tinys3 python package. Any ideas? I think the credentials are right, as this script runs on my local machine without issue. </p>\n\n<p>I'm getting the same issue on a test script I wrote to help debug this. Pasted below:</p>\n\n<pre><code>import tinys3 as s3\n\nS3_ACCESS_KEY = \"[redacted]\"`\nS3_SECRET_KEY = \"[redacted]\"\nbucket = \"test-bucket\"\ns3_image_prefix = \"http://s3.amazonaws.com/\" + bucket + \"/\"\nconn = s3.Connection(S3_ACCESS_KEY, S3_SECRET_KEY, default_bucket=bucket)\nconn.get('test_file.gif', bucket)\n</code></pre>\n\n<p>And the error:</p>\n\n<pre><code>requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: http://s3.amazonaws.com/test-bucket/test_file.gif\n</code></pre>\n"}, {"tags": ["python", "windows", "winapi", "gps", "pywin32"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1472067801, "post_id": 39131762, "comment_id": 65608930, "body": "It&#39;d depend on the devices themselves too. unless it itself has some unique manufacture-determined software-accessible value burned into it somewhere, there WON&#39;T be any way to differentiate between two instances of the same device. e.g. on a network card, you can (hopefully/usually) depend on the MAC address being different. if your gps devices&#39; only difference, electrically/software-wise is that they came in different boxes, then there&#39;s no way to tell which one is which if you ever unplug/shuffle them/replug."}, {"owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1472068147, "post_id": 39131762, "comment_id": 65609113, "body": "If this is the case, is there any way that I can assign ID to the device? (Or is that a separate question?)"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1472068267, "post_id": 39131762, "comment_id": 65609180, "body": "you can probably assign anything you want, but where would this be stored? If there&#39;s no writable &quot;memory&quot; on the device, that id would be LOST when unplugged. If you have device P in port X, and Q-&gt;Y, what happens if they get unplugged and get replugged as P-&gt;Y and Q-&gt;X? without any device-side storage, there&#39;ll  be absolutely NO way to tell that they&#39;ve been swapped."}, {"owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1472069047, "post_id": 39131762, "comment_id": 65609583, "body": "If I have 2 USB ports, X and Y, and I label them X and Y, and then always plug P into X and Q into Y, will the devices be assigned the same COM Port? To make it more complicated, I&#39;ll need external USB hubs for multiple devices."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1472070916, "post_id": 39131762, "comment_id": 65610488, "body": "that I can&#39;t answer. I have no idea what/how windows enumerates things as they get pluggedin."}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 1, "creation_date": 1472071601, "post_id": 39131762, "comment_id": 65610784, "body": "This is why Windows uses the port they&#39;re plugged into as a part of the device ID. As others have said, if the devices are identical, they&#39;re identical. If it&#39;s important that they&#39;re not you need to find another device."}, {"owner": {"reputation": 826, "user_id": 4438429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ddc13cb3128b3ca0a9299a717c1021?s=128&d=identicon&r=PG&f=1", "display_name": "topshot", "link": "https://stackoverflow.com/users/4438429/topshot"}, "edited": false, "score": 1, "creation_date": 1476202336, "post_id": 39131762, "comment_id": 67242171, "body": "The COM ports won&#39;t remain the same, but you should be able to find which USB port a device is plugged into, Then your previous solution of always plugging into the same port should work. Find your devices, find the USB port, find the current assigned COM port for that USB port and then open the COM port assigned."}, {"owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "reply_to_user": {"reputation": 826, "user_id": 4438429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ddc13cb3128b3ca0a9299a717c1021?s=128&d=identicon&r=PG&f=1", "display_name": "topshot", "link": "https://stackoverflow.com/users/4438429/topshot"}, "edited": false, "score": 0, "creation_date": 1476281165, "post_id": 39131762, "comment_id": 67279204, "body": "@topshot - can you expand your comment as an answer? So far I&#39;ve connected a USB hub to the same USB port, and then 10 devices to marked ports on the hub. The COM and USB identification numbers, as a pair, have remained the same (so far)"}, {"owner": {"reputation": 826, "user_id": 4438429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ddc13cb3128b3ca0a9299a717c1021?s=128&d=identicon&r=PG&f=1", "display_name": "topshot", "link": "https://stackoverflow.com/users/4438429/topshot"}, "edited": false, "score": 0, "creation_date": 1476282630, "post_id": 39131762, "comment_id": 67280258, "body": "Sorry, I haven&#39;t gotten around to writing any code for that yet. I just know I&#39;ve had the COM ports assigned to a given USB port switch on me for no reason. I also expect I&#39;ll have to deal with identical hardware at some point as you are since I&#39;ve had to in the past (using real COM ports, not USB). In my search to solve this future issue I&#39;ve come across code that pulls out the actual USB port description. So my intent will be to store what specific USB port scanner 3 is on for example instead of what COM port it uses. From that USB port see what COM port is currently assigned and open it."}, {"owner": {"reputation": 826, "user_id": 4438429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ddc13cb3128b3ca0a9299a717c1021?s=128&d=identicon&r=PG&f=1", "display_name": "topshot", "link": "https://stackoverflow.com/users/4438429/topshot"}, "edited": false, "score": 0, "creation_date": 1476282756, "post_id": 39131762, "comment_id": 67280367, "body": "And my code would be VB.Net anyway, not python. I was looking far and wide for any better solutions to this issue that someone may have come across."}], "owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2539, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1472070833, "creation_date": 1472067545, "last_edit_date": 1495541791, "question_id": 39131762, "link": "https://stackoverflow.com/questions/39131762/determine-unique-device-id-e-g-serial-number-for-identical-usb-devices", "title": "Determine unique device ID (e.g. serial number) for identical USB devices", "body": "<p>I have multiple identical <a href=\"http://www.qstarz.com/Products/GPS%20Products/BT-Q1300ST-F.htm\" rel=\"nofollow noreferrer\">GPS logging devices</a> that I can transfer the tracking data with the command line using <a href=\"http://www.gpsbabel.org/\" rel=\"nofollow noreferrer\">GPSBabel</a>.</p>\n\n<p><strong>Question: Using Python 2.7, Windows 7, and these GPS logging devices, how can I identify each identical device, uniquely and repeatedly?</strong> A good example would be a serial number, which is unique for each identical devices (and physically printed on the device).</p>\n\n<p>I'm working with a Python 2.7 and Windows 7 (must be Windows and not Linux because of drivers).</p>\n\n<hr>\n\n<p>Here's what I've tried so far:</p>\n\n<p>When two devices are plugged into USB ports, the device manager shows the following for <strong>Ports (COM &amp; LPT)</strong>. (The USB devices are <strong>not</strong> mounted as USB disks.)</p>\n\n<p><a href=\"https://i.stack.imgur.com/cp1cy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cp1cy.png\" alt=\"enter image description here\"></a></p>\n\n<p>(Ports 8 and 10)</p>\n\n<p>Selecting <strong>Properties</strong> - <strong>Details</strong> of the device on Port 10 gives me one unique looking ID, called <strong>ContainerID</strong>, but I can't programmatically find any unique ID like a serial number for multiple, identical devices. </p>\n\n<p><a href=\"https://i.stack.imgur.com/OzcA2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OzcA2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Using the code from <a href=\"https://stackoverflow.com/a/9087586/2327328\">this question</a>, </p>\n\n<pre><code>import win32com.client\n\nwmi = win32com.client.GetObject (\"winmgmts:\")\nfor usb in wmi.InstancesOf (\"Win32_SerialPort\"):\n    if usb.Name.startswith('GPS'):\n        print usb.DeviceID, usb.Name, usb.PNPDeviceID\n</code></pre>\n\n<p>I get this response:</p>\n\n<pre><code>COM10 GPS USB Serial Interface Driver (COM10) USB\\VID_0E8D&amp;PID_3329\\6&amp;21C2E9BE&amp;0&amp;1\nCOM8 GPS USB Serial Interface Driver (COM8) USB\\VID_0E8D&amp;PID_3329\\6&amp;25E9E978&amp;0&amp;3\n</code></pre>\n\n<p>(Not unique! the trailing ID <code>6&amp;21C2E9BE&amp;0&amp;1</code> is actually related to the port, and not the device. I can test this by taking the same device and running the code with just 1 device connected, or 2 devices connected.)</p>\n\n<p>I can find this number in the Device Manager / Details view under <em>Device Instance Path</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/DVCEn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DVCEn.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've gone through the <a href=\"https://msdn.microsoft.com/en-us/library/aa394413(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Win32 API documentation</a> the options for Win32_SerialPort, and some others. I can't find any API class that returns anything that is unique, like a serial number.</p>\n\n<p><a href=\"https://i.stack.imgur.com/vs5ZW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vs5ZW.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "bash"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1472067728, "post_id": 39131755, "comment_id": 65608901, "body": "do you have occurrences of <code>six.b</code> that shouldn&#39;t change? e.g. <code>six.begin</code> or etc. You marked this as Python, are you open to a Python solution too?"}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472071345, "post_id": 39131881, "comment_id": 65610680, "body": "Isn&#39;t that going to keep the parentheses, turning <code>six.b(&quot;asdf&quot;)</code> into <code>b(&quot;asdf&quot;)</code>? I think it also gives wrong output for strings with escaped quotes, like <code>six.b(&quot;asdf\\&quot;)&quot;)</code>. It doesn&#39;t handle <code>&#39;</code> quotes or triple-quotes either, but at least it just doesn&#39;t touch those instead of producing mangled output."}], "tags": [], "owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "is_accepted": true, "score": 1, "last_activity_date": 1472071037, "last_edit_date": 1472071037, "creation_date": 1472068000, "answer_id": 39131881, "question_id": 39131755, "link": "https://stackoverflow.com/questions/39131755/removing-six-b-from-multiple-files/39131881#39131881", "title": "Removing six.b from multiple files", "body": "<p>It's possible entirely in Python, But I would first make a backup of my project tree, and then:</p>\n\n<pre><code>\nimport re\nimport os\n\nindir = 'files'\n\nfor root, dirs, files in os.walk(indir):\n    for f in files:\n        fname = os.path.join(root, f)\n        with open(fname) as f:\n            txt = f.read()\n        txt = re.sub(r'six\\.(b\\(\"[^\"]*\"\\))', r'\\1', txt)\n        with open(fname, 'w') as f:\n            f.write(txt)\n        print(fname)\n\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 3403663, "user_type": "registered", "profile_image": "https://graph.facebook.com/767083125/picture?type=large", "display_name": "Larry McQueary", "link": "https://stackoverflow.com/users/3403663/larry-mcqueary"}, "is_accepted": false, "score": 1, "last_activity_date": 1472077895, "last_edit_date": 1472077895, "creation_date": 1472077313, "answer_id": 39133891, "question_id": 39131755, "link": "https://stackoverflow.com/questions/39131755/removing-six-b-from-multiple-files/39133891#39133891", "title": "Removing six.b from multiple files", "body": "<p>A relatively simple bash solution (change *.foo to *.py or whatever filename pattern suits your situation):</p>\n\n<pre><code>#!/bin/bash\n\nexport FILES=`find . -type f -name '*.foo' -exec egrep -l 'six\\.b\\(\"[^\\\"]*\"\\)' {} \\; 2&gt;/dev/null`\nfor file in $FILES\ndo\n    cp $file $file.bak\n    sed 's/six\\.b(\\(\\\"[^\\\"]*[^\\\\]\\\"\\))/b\\1/' $file.bak &gt; $file\n    echo $file\ndone\n</code></pre>\n\n<p>Notes:</p>\n\n<ol>\n<li><p>It will only consider/modify files that match the pattern</p></li>\n<li><p>It will make a '.bak' copy of each file it modifies</p></li>\n<li><p>It won't handle embedded <code>\\\")</code>, e.g. <code>six.b(\"asdf\\\")\")</code>, but I don't know that there is a trivial solution to that problem, without knowing more about the files you're manipulating. Is the end of <code>six.b(\"\")</code> guaranteed to be the last <code>\")</code> on the line? etc.</p></li>\n</ol>\n"}], "owner": {"reputation": 3080, "user_id": 2375119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oB60l.png?s=128&g=1", "display_name": "ArekBulski", "link": "https://stackoverflow.com/users/2375119/arekbulski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 39131881, "answer_count": 2, "score": 0, "last_activity_date": 1474241891, "creation_date": 1472067529, "last_edit_date": 1474241891, "question_id": 39131755, "link": "https://stackoverflow.com/questions/39131755/removing-six-b-from-multiple-files", "title": "Removing six.b from multiple files", "body": "<p>I have dozens of files in the project and I want to change all occurences of <code>six.b(\"...\")</code> to <code>b\"...\"</code>. Can I do that with some sort of regex bash script?</p>\n"}, {"tags": ["python", "linux", "bash"], "comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1472067675, "post_id": 39131719, "comment_id": 65608880, "body": "How do you get the output as of now?"}, {"owner": {"reputation": 17342, "user_id": 763269, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0c27474bcff67974d6a9fcb43cb7ba4e?s=128&d=identicon&r=PG", "display_name": "Chris Johnson", "link": "https://stackoverflow.com/users/763269/chris-johnson"}, "edited": false, "score": 0, "creation_date": 1472068278, "post_id": 39131719, "comment_id": 65609183, "body": "Show us what you&#39;ve tried"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1472068566, "post_id": 39131719, "comment_id": 65609338, "body": "what value is returned by <code>os.system(&quot;iwlist wlan0 s&quot;) </code>?"}, {"owner": {"reputation": 1, "user_id": 6754149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b853ddd5378c7cff41935e555008e1be?s=128&d=identicon&r=PG&f=1", "display_name": "grinningveil72", "link": "https://stackoverflow.com/users/6754149/grinningveil72"}, "edited": false, "score": 0, "creation_date": 1472072723, "post_id": 39131719, "comment_id": 65611312, "body": "the whole thing is too long so heres one access point&#39;s output:"}, {"owner": {"reputation": 1, "user_id": 6754149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b853ddd5378c7cff41935e555008e1be?s=128&d=identicon&r=PG&f=1", "display_name": "grinningveil72", "link": "https://stackoverflow.com/users/6754149/grinningveil72"}, "edited": false, "score": 0, "creation_date": 1472072831, "post_id": 39131719, "comment_id": 65611374, "body": "its still too long but its a bunch of info about the AP like the address channel frequency and its all like this: Address: &lt;MAC address&gt; Channel: 11 etc."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1472139832, "post_id": 39131719, "comment_id": 65642486, "body": "Please <a href=\"https://stackoverflow.com/posts/39131719/edit\">edit</a> your question to show <a href=\"http://whathaveyoutried.com\" rel=\"nofollow noreferrer\">what you have tried so far</a>.  You should include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the code that you are having problems with, then we can try to help with the specific problem. You should also read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}], "owner": {"reputation": 1, "user_id": 6754149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b853ddd5378c7cff41935e555008e1be?s=128&d=identicon&r=PG&f=1", "display_name": "grinningveil72", "link": "https://stackoverflow.com/users/6754149/grinningveil72"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490788193, "creation_date": 1472067420, "last_edit_date": 1490788193, "question_id": 39131719, "link": "https://stackoverflow.com/questions/39131719/reordering-output-from-bash-commands-in-a-python-script", "title": "Reordering output from Bash commands in a Python script", "body": "<p>I am working on a Python script that deals with Wi-Fi access points. In the script I call os.system (\"iwlist wlan0 s\") to scan the wireless APs nearby.</p>\n\n<p>There are only two pieces of information I need from each one: the name and the MAC address. I can grep the output to get a list of the names or the addresses, but is there a way to sort of line them up? For instance right now I can get:</p>\n\n<pre><code>ESSID: point 1\nESSID: point 2\netc,\n</code></pre>\n\n<p>And I can get</p>\n\n<pre><code>Address: gh:45:df:etc\nAddress: ofweiofjw\n</code></pre>\n\n<p>but is it possible to get the following?</p>\n\n<pre><code>name - address\nname - address\n</code></pre>\n\n<p>I was thinking either in the Bash commands themselves or by taking the output in the Python script and editing it somehow.</p>\n"}, {"tags": ["python", "cryptography"], "comments": [{"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1472067218, "post_id": 39131630, "comment_id": 65608653, "body": "Never use textbook RSA. Using no padding or a bad padding is very insecure. Nowadays, you should use OAEP instead of the default PKCS#1 v1.5 padding. So you should probably use <code>Cipher.getInstance(&quot;RSA&#47;ECB&#47;OAEPWithSHA-256AndMGF1Padding&quot;);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4478, "user_id": 557406, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/99836456ec6d87389df32d2cdcf8d825?s=128&d=identicon&r=PG", "display_name": "Charles L.", "link": "https://stackoverflow.com/users/557406/charles-l"}, "edited": false, "score": 0, "creation_date": 1581751011, "post_id": 39150602, "comment_id": 106547962, "body": "Should it be <code>from Crypto.Cipher import PKCS1_v1_5</code> instead?"}, {"owner": {"reputation": 190, "user_id": 3061747, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/5iOD1.jpg?s=128&g=1", "display_name": "Sunny Chaudhari", "link": "https://stackoverflow.com/users/3061747/sunny-chaudhari"}, "edited": false, "score": 3, "creation_date": 1610535253, "post_id": 39150602, "comment_id": 116162746, "body": "what is &lt;some default&gt; ? Please can you elaborate"}], "tags": [], "owner": {"reputation": 655, "user_id": 1842486, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/43599f0bcd71d12175881666710d4467?s=128&d=identicon&r=PG", "display_name": "Dutta", "link": "https://stackoverflow.com/users/1842486/dutta"}, "is_accepted": true, "score": 7, "last_activity_date": 1561003591, "last_edit_date": 1561003591, "creation_date": 1472143197, "answer_id": 39150602, "question_id": 39131630, "link": "https://stackoverflow.com/questions/39131630/python-decryption-using-private-key/39150602#39150602", "title": "Python Decryption using private key", "body": "<p>I figured out the solution:</p>\n\n<pre><code>from Crypto.PublicKey import RSA\nfrom Crypto.Signature import PKCS1_v1_5\nfrom base64 import b64decode\n\nrsa_key = RSA.importKey(open('private.txt', \"rb\").read())\ncipher = PKCS1_v1_5.new(rsa_key)\nraw_cipher_data = b64decode(&lt;your cipher data&gt;)\nphn = cipher.decrypt(raw_cipher_data, &lt;some default&gt;)\n</code></pre>\n\n<p>This is the most basic form of code. What I learned is first you have to get the RSA_key(private key). For me <code>RSA.importKey</code> took care of everything. Really simple.</p>\n"}], "owner": {"reputation": 655, "user_id": 1842486, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/43599f0bcd71d12175881666710d4467?s=128&d=identicon&r=PG", "display_name": "Dutta", "link": "https://stackoverflow.com/users/1842486/dutta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14305, "favorite_count": 3, "accepted_answer_id": 39150602, "answer_count": 1, "score": 2, "last_activity_date": 1561003591, "creation_date": 1472067073, "last_edit_date": 1474663941, "question_id": 39131630, "link": "https://stackoverflow.com/questions/39131630/python-decryption-using-private-key", "title": "Python Decryption using private key", "body": "<p>I have an encrypted string. The Encryption is done using java code. I decrypt the encrypted string using following java code</p>\n\n<pre><code>InputStream fileInputStream = getClass().getResourceAsStream(\n                    \"/private.txt\");\n            byte[] bytes = IOUtils.toByteArray(fileInputStream);\n\n\n\nprivate String decrypt(String inputString, byte[] keyBytes) {\n        String resultStr = null;\n        PrivateKey privateKey = null;\n        try {\n            KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n            EncodedKeySpec privateKeySpec = new PKCS8EncodedKeySpec(keyBytes);\n            privateKey = keyFactory.generatePrivate(privateKeySpec);\n        } catch (Exception e) {\n            System.out.println(\"Exception privateKey:::::::::::::::::  \"\n                    + e.getMessage());\n            e.printStackTrace();\n        }\n        byte[] decodedBytes = null;\n        try {\n            Cipher c = Cipher.getInstance(\"RSA/ECB/NoPadding\");\n            c.init(Cipher.DECRYPT_MODE, privateKey);\n            decodedBytes = c.doFinal(Base64.decodeBase64(inputString));\n\n        } catch (Exception e) {\n            System.out\n                    .println(\"Exception while using the cypher:::::::::::::::::  \"\n                            + e.getMessage());\n            e.printStackTrace();\n        }\n        if (decodedBytes != null) {\n            resultStr = new String(decodedBytes);\n            resultStr = resultStr.split(\"MNSadm\")[0];\n            // System.out.println(\"resultStr:::\" + resultStr + \":::::\");\n            // resultStr = resultStr.replace(salt, \"\");\n        }\n        return resultStr;\n\n    }\n</code></pre>\n\n<p>Now I have to use Python to decrypt the encrypted string. I have the private key. When I use Cryptography package using following code </p>\n\n<pre><code>key = load_pem_private_key(keydata, password=None, backend=default_backend())\n</code></pre>\n\n<p>It throws <code>ValueError: Could not unserialize key data.</code></p>\n\n<p>Can anyone help what I am missing here?</p>\n"}, {"tags": ["python", "pandas", "string-formatting"], "answers": [{"comments": [{"owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 0, "creation_date": 1472068297, "post_id": 39131761, "comment_id": 65609195, "body": "Got it, so the <code>*</code> does the tuple part for me.  Brilliant, thanks -- not sure why someone downvoted us"}], "tags": [], "owner": {"reputation": 1651, "user_id": 2214597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6178e77520e767eb5f2d0a841ada7cde?s=128&d=identicon&r=PG", "display_name": "Asish M.", "link": "https://stackoverflow.com/users/2214597/asish-m"}, "is_accepted": true, "score": 3, "last_activity_date": 1472068103, "last_edit_date": 1472068103, "creation_date": 1472067545, "answer_id": 39131761, "question_id": 39131620, "link": "https://stackoverflow.com/questions/39131620/using-a-dataframe-with-columns-as-named-arguments-to-str-format/39131761#39131761", "title": "using a DataFrame with columns as named arguments to str.format()", "body": "<pre><code>&gt;&gt;&gt; [\"Some guy {author} wrote a book called {title} that uses \"\n   \"{subject} as a metaphor for the human condition.\".format(**x._asdict())\n      for x in df.itertuples(index=False)]\n\n['Some guy Melville wrote a book called Moby Dick that uses whaling as a metaphor for the human condition.', 'Some guy Hemingway wrote a book called The Sun Also Rises that uses bullfighting as a metaphor for the human condition.', 'Some guy Faulkner wrote a book called The Sound and the Fury that uses a messed-up family as a metaphor for the human condition.']\n</code></pre>\n\n<p>Note that <code>_asdict()</code> is not meant to be part of the public api, so relying on it may break in future updates to pandas.</p>\n\n<p>You could do this instead:</p>\n\n<pre><code>&gt;&gt;&gt; [\"Some guy {} wrote a book called {} that uses \"\n   \"{} as a metaphor for the human condition.\".format(*x)\n      for x in df.values]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "is_accepted": false, "score": 1, "last_activity_date": 1472070611, "last_edit_date": 1472070611, "creation_date": 1472069625, "answer_id": 39132305, "question_id": 39131620, "link": "https://stackoverflow.com/questions/39131620/using-a-dataframe-with-columns-as-named-arguments-to-str-format/39132305#39132305", "title": "using a DataFrame with columns as named arguments to str.format()", "body": "<p>You could also use <code>DataFrame.iterrows()</code> like this:</p>\n\n<pre><code>[\"The book {title} by {author} uses \"\n   \"{subject} as a metaphor for the human condition.\".format(**x) \n     for i, x in df.iterrows()]\n</code></pre>\n\n<p>Which is nice if you want to:</p>\n\n<ul>\n<li>use named arguments, so the order of use didn't have to match the order of columns (like above)</li>\n<li>not use an internal function like <code>_asdict()</code></li>\n</ul>\n\n<p><strong>Timing</strong>: the fastest appears to be M. Klugerford's second solution, even if we note the warning about caching and take the slowest run.</p>\n\n<pre><code># example\n%%timeit\n (\"Some guy \" + df['author'] + \" wrote a book called \" + \n   df['title'] + \" that uses \" + df['subject'] + \n   \" as a metaphor for the human condition.\")\n# 1000 loops, best of 3: 883 \u00b5s per loop\n\n%%timeit\n    [\"Some guy {author} wrote a book called {title} that uses \"\n       \"{subject} as a metaphor for the human condition.\".format(**x._asdict())\n          for x in df.itertuples(index=False)]\n#1000 loops, best of 3: 962 \u00b5s per loop\n\n%%timeit\n    [\"Some guy {} wrote a book called {} that uses \"\n     \"{} as a metaphor for the human condition.\".format(*x)\n          for x in df.values]   \n#The slowest run took 5.90 times longer than the fastest. This could mean that an intermediate result is being cached.\n#10000 loops, best of 3: 18.9 \u00b5s per loop\n\n%%timeit\n    from collections import OrderedDict\n    [\"The book {title} by {author} uses \"\n       \"{subject} as a metaphor for the human condition.\".format(**x) \n         for x in [OrderedDict(row) for i, row in df.iterrows()]]\n#1000 loops, best of 3: 308 \u00b5s per loop            \n\n%%timeit \n    [\"The book {title} by {author} uses \"\n       \"{subject} as a metaphor for the human condition.\".format(**x) \n         for i, x in df.iterrows()]\n#1000 loops, best of 3: 413 \u00b5s per loop         \n</code></pre>\n\n<p>Why the next-to-last is faster than the last is beyond me.</p>\n"}], "owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 39131761, "answer_count": 2, "score": 1, "last_activity_date": 1472070611, "creation_date": 1472067035, "question_id": 39131620, "link": "https://stackoverflow.com/questions/39131620/using-a-dataframe-with-columns-as-named-arguments-to-str-format", "title": "using a DataFrame with columns as named arguments to str.format()", "body": "<p>I have a DataFrame like:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'author':[\"Melville\",\"Hemingway\",\"Faulkner\"],\n                   'title':[\"Moby Dick\",\"The Sun Also Rises\",\"The Sound and the Fury\"],\n                   'subject':[\"whaling\",\"bullfighting\",\"a messed-up family\"]\n                   })\n</code></pre>\n\n<p>I know that I can do this:</p>\n\n<pre><code># produces desired output                   \n(\"Some guy \" + df['author'] + \" wrote a book called \" + \n   df['title'] + \" that uses \" + df['subject'] + \n   \" as a metaphor for the human condition.\")\n</code></pre>\n\n<p>but is it possible to write this more clearly using <code>str.format()</code>, something along the lines of:</p>\n\n<pre><code># returns KeyError:'author'\n[\"Some guy {author} wrote a book called {title} that uses \"\n   \"{subject} as a metaphor for the human condition.\".format(x) \n      for x in df.itertuples(index=False)]\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "indexing"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 2, "creation_date": 1472067045, "post_id": 39131559, "comment_id": 65608550, "body": "<a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 18120, "user_id": 2587797, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/8H6jK.png?s=128&g=1", "display_name": "RustyShackleford", "link": "https://stackoverflow.com/users/2587797/rustyshackleford"}, "edited": false, "score": 0, "creation_date": 1472067107, "post_id": 39131559, "comment_id": 65608595, "body": "You should breakpoint line 116 and see what my_event.attributes actually contains"}, {"owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 0, "creation_date": 1472067139, "post_id": 39131559, "comment_id": 65608618, "body": "You should take some time and properly format this post (your code in particular, given that it&#39;s python). Secondly, you need to pull out and highlight the specific line you&#39;re having a problem with (how do we know what line 116 references?), and preferably a minimal, verifiable, complete example. See <a href=\"http://www.sscce.org\" rel=\"nofollow noreferrer\">sscce</a> for more."}, {"owner": {"reputation": 1343, "user_id": 3185502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c65699a0d998330d47145a96b2b54b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vasif", "link": "https://stackoverflow.com/users/3185502/vasif"}, "edited": false, "score": 0, "creation_date": 1472067221, "post_id": 39131559, "comment_id": 65608656, "body": "The length of increased data columns possibly reflects in increased length of whatever <code>event</code> variable contains. And, hence forth increased values of <code>i</code>. Subsequently, <code>i-3</code>. However, length of your <code>my_event.attributes</code> possibly remains the same. And, hence the <code>IndexError</code>."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 6615697, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--U6o9UcTTnU/AAAAAAAAAAI/AAAAAAAAAMs/vpINfVOCDIk/photo.jpg?sz=128", "display_name": "Akash Sharma", "link": "https://stackoverflow.com/users/6615697/akash-sharma"}, "edited": false, "score": 0, "creation_date": 1472067684, "post_id": 39131709, "comment_id": 65608887, "body": "Thanks @zaychee. Any recommendations of fixing this ?"}, {"owner": {"reputation": 308, "user_id": 4338914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0fb777427006b9828ec40f2efdb99e5?s=128&d=identicon&r=PG&f=1", "display_name": "zachyee", "link": "https://stackoverflow.com/users/4338914/zachyee"}, "reply_to_user": {"reputation": 39, "user_id": 6615697, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--U6o9UcTTnU/AAAAAAAAAAI/AAAAAAAAAMs/vpINfVOCDIk/photo.jpg?sz=128", "display_name": "Akash Sharma", "link": "https://stackoverflow.com/users/6615697/akash-sharma"}, "edited": false, "score": 0, "creation_date": 1472067923, "post_id": 39131709, "comment_id": 65608987, "body": "How are <code>len(entry)</code> and <code>my_event.attributes</code> related?"}], "tags": [], "owner": {"reputation": 308, "user_id": 4338914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0fb777427006b9828ec40f2efdb99e5?s=128&d=identicon&r=PG&f=1", "display_name": "zachyee", "link": "https://stackoverflow.com/users/4338914/zachyee"}, "is_accepted": true, "score": 0, "last_activity_date": 1472068108, "last_edit_date": 1472068108, "creation_date": 1472067362, "answer_id": 39131709, "question_id": 39131559, "link": "https://stackoverflow.com/questions/39131559/python-indexerror-list-index-out-of-shape/39131709#39131709", "title": "Python : IndexError: list index out of shape", "body": "<p>You're creating an index based off of the length of <code>entry</code>, but using that index in <code>my_event.attributes</code>:</p>\n\n<pre><code>for i in range(3, len(entry)):\n    ...\n    except:\n        ...\n        my_event.attributes[i-3] += temp\n        ...\n    ...\n</code></pre>\n\n<p>This is probably the problem, but it's kind of tough to tell what your code is doing. Generally, you'll only want to use an index on whatever object the index was created with / whatever object the index is supposed to refer to (in this case <code>entry</code>).</p>\n"}], "owner": {"reputation": 39, "user_id": 6615697, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--U6o9UcTTnU/AAAAAAAAAAI/AAAAAAAAAMs/vpINfVOCDIk/photo.jpg?sz=128", "display_name": "Akash Sharma", "link": "https://stackoverflow.com/users/6615697/akash-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 39131709, "answer_count": 1, "score": -3, "last_activity_date": 1472068108, "creation_date": 1472066839, "last_edit_date": 1472067747, "question_id": 39131559, "link": "https://stackoverflow.com/questions/39131559/python-indexerror-list-index-out-of-shape", "title": "Python : IndexError: list index out of shape", "body": "<p>This piece of code works well when I used my earlier set of data. However Now I have added a couple more columns to the input data set and I am getting indexing errors. I am not exactly sure on how to fix this. Any inputs ? . The following code is giving me error:</p>\n\n<pre><code>with open(\"master_aggregated_monthly.csv\", 'rb') as csvfile:\n    data_reader = csv.reader(csvfile, delimiter = ',', quotechar = '\"')\n    rolling_queue = []\n    for row in data_reader:\n        if row[0].lower() == \"salesforceid\":\n            continue\n\n        # most recent rows go in first\n        rolling_queue.insert(0,row)\n        if len(rolling_queue) &gt; 12:\n            rolling_queue.pop()\n\n        id = row[0]\n        date = row[2]\n        if id in company_dictionary:\n            account = company_dictionary[id]\n            #See if we are at the final event\n            #get the final event from the list\n            # most recent date for data collection\n            if date == \"6/1/2016\":\n                new_event = event()\n                new_event.date = \"7/1/2016\"\n                new_event.type = \"Current Period\"\n                account.events.append(new_event)\n                my_event = account.events[0]\n                for entry in rolling_queue:\n                # don't do anything if the entry in the rolling queue is not from the same account\n                    if entry[0] != id:\n                        continue\n\n                    nonzero_row = False\n                    # loop through the entries in the rolling queue to find at most the last 12 months of data\n                    for i in range(3, len(entry)):\n                        try:\n                            my_event.attributes[i-3] += float(entry[i])\n                        except:\n                            #handle all of the odd string things\n                            temp = entry[i].split(' ')\n                            if temp[0] == '':\n                                temp = float(temp[1])\n                            else:\n                                temp = float(temp[0])\n                            my_event.attributes[i-3] += temp\n                        # discover if this row is nonzero\n                        if entry[i] != 0 and entry[i] != '0':\n                            nonzero_row = True\n                    # don't include this rown in the average if it's a zero row\n                    if nonzero_row:\n                        #print \"Month increment\"\n                        my_event.months += 1\n</code></pre>\n\n<p>This code is giving me the following error</p>\n\n<pre><code>&lt;type 'exceptions.IndexError'&gt;\nTraceback (most recent call last):\n  File \"P:/Testing/The Scripts, JIC Test/Q4_12month.py\", line 116, in main\n    my_event.attributes[i-3] += temp\nIndexError: list index out of range\n</code></pre>\n"}, {"tags": ["python", "numpy", "matplotlib", "scikit-learn", "svm"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1472066382, "post_id": 39131424, "comment_id": 65608184, "body": "<code>deprecation</code> != <code>depreciation</code>... &quot;about to be obsolete&quot; v.s &quot;losing monetary value&quot;."}, {"owner": {"reputation": 73, "user_id": 6455328, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cf33820b44ca9bba2c628ddbf5c6611d?s=128&d=identicon&r=PG&f=1", "display_name": "wowdavers", "link": "https://stackoverflow.com/users/6455328/wowdavers"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1472066872, "post_id": 39131424, "comment_id": 65608461, "body": "Sorry, I didn&#39;t quite understand your point. Reading another post about the same issue I&#39;m under the impression X had to be a 2D array and y had to be 1D, which is the case. I&#39;m unclear why the error is occurring (esp. because it doesn&#39;t happen in the tutorial I&#39;m watching) and what it means exactly."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1472067026, "post_id": 39131424, "comment_id": 65608542, "body": "look at your title... typo"}, {"owner": {"reputation": 2134, "user_id": 6107054, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5d3d2798d6e68fa3d2b0c3af524d9345?s=128&d=identicon&r=PG&f=1", "display_name": "aberger", "link": "https://stackoverflow.com/users/6107054/aberger"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1472067103, "post_id": 39131424, "comment_id": 65608591, "body": "@MarcB It is not a typo on D. Wang&#39;s behalf. That is the exact text from the warning message."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1472067170, "post_id": 39131424, "comment_id": 65608631, "body": "Interesting. Guess the app itself has a typo, then. it uses both in the error text."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 6455328, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cf33820b44ca9bba2c628ddbf5c6611d?s=128&d=identicon&r=PG&f=1", "display_name": "wowdavers", "link": "https://stackoverflow.com/users/6455328/wowdavers"}, "edited": false, "score": 0, "creation_date": 1472067255, "post_id": 39131611, "comment_id": 65608671, "body": "Ah, alright. I&#39;m a total novice at the moment, so I just wanted to know if the error affected anything, and what it meant. Thanks a lot!"}], "tags": [], "owner": {"reputation": 2134, "user_id": 6107054, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5d3d2798d6e68fa3d2b0c3af524d9345?s=128&d=identicon&r=PG&f=1", "display_name": "aberger", "link": "https://stackoverflow.com/users/6107054/aberger"}, "is_accepted": true, "score": 0, "last_activity_date": 1472067009, "creation_date": 1472067009, "answer_id": 39131611, "question_id": 39131424, "link": "https://stackoverflow.com/questions/39131424/machine-learning-basics-depreciationwarning/39131611#39131611", "title": "Machine Learning: Basics DepreciationWarning", "body": "<p>Since your data has more than a single feature and it contains more than a single sample you are fine. This is just a warning and shouldn't interfere with the algorithm's behavior.</p>\n"}], "owner": {"reputation": 73, "user_id": 6455328, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cf33820b44ca9bba2c628ddbf5c6611d?s=128&d=identicon&r=PG&f=1", "display_name": "wowdavers", "link": "https://stackoverflow.com/users/6455328/wowdavers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 39131611, "answer_count": 1, "score": 0, "last_activity_date": 1472067009, "creation_date": 1472066303, "question_id": 39131424, "link": "https://stackoverflow.com/questions/39131424/machine-learning-basics-depreciationwarning", "title": "Machine Learning: Basics DepreciationWarning", "body": "<p>I'm running a basic machine learning tutorial code snippet (which compiles properly on the computer of the person teaching), and I can't seem to find what's wrong. I understand the question has been 'answered', but I can't seem to understand the answer.</p>\n\n<blockquote>\n  <p>DeprecationWarning: Passing 1d arrays as data is deprecated in 0.17 and willraise ValueError in 0.19. Reshape your data either using X.reshape(-1, 1) if your data has a single feature or X.reshape(1, -1) if it contains a single sample.\n    DeprecationWarning)\n  [0]</p>\n</blockquote>\n\n<p>Apparently I just use X.reshape(-1, 1) or X.reshape(1, -1), but I'm not sure exactly how either work in a general situation, or if they should be placed before or after I plot/for the data.</p>\n\n<p>Here's my source code. Any help is much appreciated :-)</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib import style\nstyle.use(\"ggplot\")\nfrom sklearn import svm\n\nx = [1, 5, 1.5, 8, 1, 9]\ny = [2, 8, 1.8, 8, 0.6, 11]\n\nplt.scatter(x,y)\nplt.show()\n\nX = np.array([[1,2],\n            [5,8],\n            [1.5,1.8],\n            [8,8],\n            [1,0.6],\n            [9,11]])\n\ny = [0,1,0,1,0,1]\n\nclf = svm.SVC(kernel='linear', C = 1.0)\n\n\nclf.fit(X,y)\n\nprint(clf.predict([0.58,0.76]))\n</code></pre>\n"}, {"tags": ["python", "web-services", "klein-mvc"], "comments": [{"owner": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "edited": false, "score": 1, "creation_date": 1473179906, "post_id": 39131368, "comment_id": 66037622, "body": "You should be able to extract an file in an HTTP request (normally a POST) just like any other variable. Looks like Klein is based on twisted, so maybe <a href=\"http://www.cristinagreen.com/uploading-files-using-twisted-web.html\" rel=\"nofollow noreferrer\">this persons solution</a> will work for you."}, {"owner": {"reputation": 853, "user_id": 1294529, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/86f3c49bcdab97efcc8893a9eec26973?s=128&d=identicon&r=PG", "display_name": "JLTChiu", "link": "https://stackoverflow.com/users/1294529/jltchiu"}, "reply_to_user": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "edited": false, "score": 0, "creation_date": 1473276753, "post_id": 39131368, "comment_id": 66083393, "body": "Thank you, I will take a look."}], "answers": [{"tags": [], "owner": {"reputation": 4101, "user_id": 2172464, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/e5wRv.jpg?s=128&g=1", "display_name": "notorious.no", "link": "https://stackoverflow.com/users/2172464/notorious-no"}, "is_accepted": true, "score": 3, "last_activity_date": 1473614036, "creation_date": 1473614036, "answer_id": 39438647, "question_id": 39131368, "link": "https://stackoverflow.com/questions/39131368/how-to-receive-uploaded-file-with-klein-like-flask-in-python/39438647#39438647", "title": "How to receive uploaded file with Klein like Flask in python", "body": "<p>As <code>Liam Kelly</code> commented, the snippets from <a href=\"http://www.cristinagreen.com/uploading-files-using-twisted-web.html\" rel=\"nofollow\">this post</a> should work. Using <code>cgi.FieldStorage</code> makes it possible to easily send file metadata without explicitly sending it. A Klein/Twisted approach would look something like this:</p>\n\n<pre><code>from cgi import FieldStorage\nfrom klein import Klein\nfrom werkzeug import secure_filename\n\napp = Klein()\n\n@app.route('/')\ndef formpage(request):\n    return '''\n    &lt;form action=\"/images\" enctype=\"multipart/form-data\" method=\"post\"&gt;\n    &lt;p&gt;\n        Please specify a file, or a set of files:&lt;br&gt;\n        &lt;input type=\"file\" name=\"datafile\" size=\"40\"&gt;\n    &lt;/p&gt;\n    &lt;div&gt;\n        &lt;input type=\"submit\" value=\"Send\"&gt;\n    &lt;/div&gt;\n    &lt;/form&gt;\n    '''\n\n@app.route('/images', methods=['POST'])\ndef processImages(request):\n    method = request.method.decode('utf-8').upper()\n    content_type = request.getHeader('content-type')\n\n    img = FieldStorage(\n        fp = request.content,\n        headers = request.getAllHeaders(),\n        environ = {'REQUEST_METHOD': method, 'CONTENT_TYPE': content_type})\n    name = secure_filename(img[b'datafile'].filename)\n\n    with open(name, 'wb') as fileOutput:\n        # fileOutput.write(img['datafile'].value)\n        fileOutput.write(request.args[b'datafile'][0])\n\napp.run('localhost', 8000)\n</code></pre>\n\n<p>For whatever reason, my Python 3.4 (Ubuntu 14.04) version of <code>cgi.FieldStorage</code> doesn't return the correct results. I tested this on Python 2.7.11 and it works fine. With that being said, you could also collect the filename and other metadata on the frontend and send them in an ajax call to klein. This way you won't have to do too much processing on the backend (which is usually a good thing). Alternatively, you could figure out how to use the utilities provided by werkzeug. The functions <code>werkzeug.secure_filename</code> and <code>request.files</code> (ie. <code>FileStorage</code>) aren't particularly difficult to implement or recreate.</p>\n"}], "owner": {"reputation": 853, "user_id": 1294529, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/86f3c49bcdab97efcc8893a9eec26973?s=128&d=identicon&r=PG", "display_name": "JLTChiu", "link": "https://stackoverflow.com/users/1294529/jltchiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1023, "favorite_count": 0, "accepted_answer_id": 39438647, "answer_count": 1, "score": 8, "last_activity_date": 1473614036, "creation_date": 1472066066, "question_id": 39131368, "link": "https://stackoverflow.com/questions/39131368/how-to-receive-uploaded-file-with-klein-like-flask-in-python", "title": "How to receive uploaded file with Klein like Flask in python", "body": "<p>When setting up a Flask server, we can try to receive the file user uploaded by </p>\n\n<pre><code>imagefile = flask.request.files['imagefile']\nfilename_ = str(datetime.datetime.now()).replace(' ', '_') + \\\n    werkzeug.secure_filename(imagefile.filename)\nfilename = os.path.join(UPLOAD_FOLDER, filename_)\nimagefile.save(filename)\nlogging.info('Saving to %s.', filename)\nimage = exifutil.open_oriented_im(filename)\n</code></pre>\n\n<p>When I am looking at the <code>Klein</code> documentation, I've seen <code>http://klein.readthedocs.io/en/latest/examples/staticfiles.html</code>, however this seems like providing file from the webservice instead of receiving a file that's been uploaded to the web service. If I want to let my <code>Klein</code> server able to receive an <code>abc.jpg</code> and save it in the file system, is there any documentation that can guide me towards that objective? </p>\n"}, {"tags": ["python", "json", "jstree"], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 6735593, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a38394a4ce2418c9af42b13606d6b514?s=128&d=identicon&r=PG&f=1", "display_name": "Infinity8", "link": "https://stackoverflow.com/users/6735593/infinity8"}, "edited": false, "score": 0, "creation_date": 1472070196, "post_id": 39131887, "comment_id": 65610121, "body": "Awesome.  Thank you.  I have to figure out how you did that!"}, {"owner": {"reputation": 525, "user_id": 6735593, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a38394a4ce2418c9af42b13606d6b514?s=128&d=identicon&r=PG&f=1", "display_name": "Infinity8", "link": "https://stackoverflow.com/users/6735593/infinity8"}, "edited": false, "score": 0, "creation_date": 1472070649, "post_id": 39131887, "comment_id": 65610338, "body": "Is there anyway to not have the double back slashes? &quot;U:\\\\PROJECTS\\\\MXD_to_PDF\\\\TEST2&quot;   I see we can add codecs.escape_decode but not sure where to place this?"}, {"owner": {"reputation": 2445, "user_id": 5798064, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70f046dc404ac803a3cdfceda77696b1?s=128&d=identicon&r=PG&f=1", "display_name": "phev8", "link": "https://stackoverflow.com/users/5798064/phev8"}, "reply_to_user": {"reputation": 525, "user_id": 6735593, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a38394a4ce2418c9af42b13606d6b514?s=128&d=identicon&r=PG&f=1", "display_name": "Infinity8", "link": "https://stackoverflow.com/users/6735593/infinity8"}, "edited": false, "score": 0, "creation_date": 1472071762, "post_id": 39131887, "comment_id": 65610870, "body": "That&#39;s plattform specific, on windows you have something like you write. I see two options there:  1. you can play with <code>os.sep</code> to replace it with something you want (<a href=\"https://docs.python.org/2/library/os.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/os.html</a>) 2. Since at the end the path is just a string, you can use <code>d[&quot;text&quot;].replace(&quot;\\\\&quot;, &quot;\\&quot;)</code>"}], "tags": [], "owner": {"reputation": 2445, "user_id": 5798064, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70f046dc404ac803a3cdfceda77696b1?s=128&d=identicon&r=PG&f=1", "display_name": "phev8", "link": "https://stackoverflow.com/users/5798064/phev8"}, "is_accepted": true, "score": 0, "last_activity_date": 1472068024, "creation_date": 1472068024, "answer_id": 39131887, "question_id": 39131343, "link": "https://stackoverflow.com/questions/39131343/python-export-list-of-folders-full-path-as-json-for-jstree/39131887#39131887", "title": "Python export list of folders &amp; full path as JSON for JSTree", "body": "<p>For me the following solution works: (you wanted only directories)</p>\n\n<pre><code>def get_list_of_dirs(path):\n    output_dictonary = {}\n    list_of_dirs = [os.path.join(path, item) for item in os.listdir(path) if os.path.isdir(os.path.join(path, item))]\n    output_dictonary[\"text\"] = path\n    output_dictonary[\"type\"] = \"directory\"\n\n    output_dictonary[\"children\"] = []\n\n    for dir in list_of_dirs:\n        output_dictonary[\"children\"].append(get_list_of_dirs(dir))\n    return output_dictonary\n\nprint(json.dumps(get_list_of_dirs(path)))\n</code></pre>\n\n<p>(You can insert the import, your path, and saving to file as you wish)</p>\n"}], "owner": {"reputation": 525, "user_id": 6735593, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a38394a4ce2418c9af42b13606d6b514?s=128&d=identicon&r=PG&f=1", "display_name": "Infinity8", "link": "https://stackoverflow.com/users/6735593/infinity8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "accepted_answer_id": 39131887, "answer_count": 1, "score": 0, "last_activity_date": 1472068024, "creation_date": 1472065966, "question_id": 39131343, "link": "https://stackoverflow.com/questions/39131343/python-export-list-of-folders-full-path-as-json-for-jstree", "title": "Python export list of folders &amp; full path as JSON for JSTree", "body": "<p>I am trying to create a JSON file for jstree.  But I'm having trouble getting this code to output the full path of the folders and only show folders.  I am new to Python and would appreciate any insight!  </p>\n\n<p>The goal is to have users select a folder and bring back the full path of that folder in JSTree.  (Not in this code).</p>\n\n<pre><code>import os\nimport json\n\ndef path_to_dict(path):\n    d = {'text': os.path.basename(path)}\n    if os.path.isdir(path):\n                d['type'] = \"directory\"\n                for root, directories, filenames in os.walk('U:\\PROJECTS\\MXD_to_PDF'):\n                    for directory in directories:\n                        d['path']= os.path.join(root, directory)\n                d['children'] = [path_to_dict(os.path.join(path,x)) for x in os.listdir\\\n\n        (path)]\n    else:\n        d['type'] = \"file\"\n        #del d[\"type\"]\n\n    return d\n\nprint json.dumps(path_to_dict('U:\\PROJECTS\\MXD_to_PDF\\TEST'))\n\nwith open('U:\\PROJECTS\\MXD_to_PDF\\TEST\\JSONData.json', 'w') as f:\n     json.dump(path_to_dict('U:\\PROJECTS\\MXD_to_PDF\\TEST'), f)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n\"text\": \"TEST\"\n, \"type\": \"directory\"\n, \"children\": [{\n    \"text\": \"JSONData.json\"\n    , \"type\": \"file\"\n}, {\n    \"text\": \"Maps\"\n    , \"type\": \"directory\"\n    , \"children\": [{\n        \"text\": \"MAY24MODIFIED.mxd\"\n        , \"type\": \"file\"\n    }, {\n        \"text\": \"MAY24MODIFIED 2016-05-24 16.16.16.pdf\"\n        , \"type\": \"file\"\n    }, {\n        \"text\": \"testst\"\n        , \"type\": \"directory\"\n        , \"children\": []\n        , \"path\": \"U:\\\\PROJECTS\\\\MXD_to_PDF\\\\TEST2\\\\Maps\\\\exported\"\n    }]\n    , \"path\": \"U:\\\\PROJECTS\\\\MXD_to_PDF\\\\TEST2\\\\Maps\\\\exported\"\n}]\n, \"path\": \"U:\\\\PROJECTS\\\\MXD_to_PDF\\\\TEST2\\\\Maps\\\\exported\"\n</code></pre>\n\n<p>}</p>\n"}]