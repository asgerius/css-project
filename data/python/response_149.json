[{"tags": ["python", "list-comprehension"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510790533, "post_id": 47319355, "comment_id": 81589933, "body": "Why are you using <code>&amp;</code> instead of <code>and</code>?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1510790718, "post_id": 47319355, "comment_id": 81589978, "body": "Also, why do you want to cram everything into a list comprehension? The original code format is much more readable."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510790764, "post_id": 47319355, "comment_id": 81589990, "body": "Yes, and note, if you ever <i>do</i> read your elif, the <code>not in vowels</code> will *always be <code>True</code>, since you already first check <code>if each in vowels</code>"}, {"owner": {"reputation": 797, "user_id": 1883547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37973bd527c92750cf68ba9431e58958?s=128&d=identicon&r=PG", "display_name": "adambullmer", "link": "https://stackoverflow.com/users/1883547/adambullmer"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1510791230, "post_id": 47319355, "comment_id": 81590105, "body": "@roganjosh you want to use list comprehensions where you can as list comprehensions gain performance boosts in python. In this case, a list comprehension is the best structure to use to iterate <i>and</i> return a list. If they were just iterating a loop and not expecting an array out of it, a normal for loop would be most performant."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 797, "user_id": 1883547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37973bd527c92750cf68ba9431e58958?s=128&d=identicon&r=PG", "display_name": "adambullmer", "link": "https://stackoverflow.com/users/1883547/adambullmer"}, "edited": false, "score": 0, "creation_date": 1510791349, "post_id": 47319355, "comment_id": 81590134, "body": "@adambullmer I&#39;m actually not sure that your solution is any faster than the OP&#39;s original code (though I&#39;m not saying it&#39;s not an elegant approach). You now have a function call overhead for every item in the list (which may or may not balance against <code>append</code> cost). You&#39;d have to use <code>timeit</code> to see."}, {"owner": {"reputation": 57, "user_id": 3035168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5941aa40db4fc52b54c8cda8a6d5ea?s=128&d=identicon&r=PG&f=1", "display_name": "user3035168", "link": "https://stackoverflow.com/users/3035168/user3035168"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1510792935, "post_id": 47319355, "comment_id": 81590557, "body": "Its class assignment. @roganjosh"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 797, "user_id": 1883547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37973bd527c92750cf68ba9431e58958?s=128&d=identicon&r=PG", "display_name": "adambullmer", "link": "https://stackoverflow.com/users/1883547/adambullmer"}, "edited": false, "score": 1, "creation_date": 1510793685, "post_id": 47319355, "comment_id": 81590800, "body": "@adambullmer I <i>highly highly</i> disagree. You should use a list-comprehension where it is <i>readable</i>, doesn&#39;t use side-effects, and you want a <code>list</code> as an end-result. The performance gains from list-comprehensions are marginal."}], "answers": [{"tags": [], "owner": {"reputation": 797, "user_id": 1883547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37973bd527c92750cf68ba9431e58958?s=128&d=identicon&r=PG", "display_name": "adambullmer", "link": "https://stackoverflow.com/users/1883547/adambullmer"}, "is_accepted": false, "score": 3, "last_activity_date": 1510791332, "last_edit_date": 1510791332, "creation_date": 1510790897, "answer_id": 47319429, "question_id": 47319355, "link": "https://stackoverflow.com/questions/47319355/list-comprehension-python-with-multiple-control-flow/47319429#47319429", "title": "List comprehension Python with multiple control flow", "body": "<p>Sometimes it's best to make a function to be called in your list comprehension. Still gives you the speed improvements of a list comprehension while cleaning up the insides a bit.</p>\n\n<pre><code>def char_code(character):\n  if character in vowels:\n    return 'v'\n  elif character in alphabet:\n    return 'c'\n  else:\n    return '?'\n\nprint([char_code(c) for c in characters])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510793721, "post_id": 47319480, "comment_id": 81590809, "body": "`\\` is not required inside brackets of any kind!"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510793932, "post_id": 47319480, "comment_id": 81590899, "body": "Right.  Local coding convention, just so we don&#39;t have to remember."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 2, "last_activity_date": 1510793913, "last_edit_date": 1510793913, "creation_date": 1510791251, "answer_id": 47319480, "question_id": 47319355, "link": "https://stackoverflow.com/questions/47319355/list-comprehension-python-with-multiple-control-flow/47319480#47319480", "title": "List comprehension Python with multiple control flow", "body": "<p>You had several errors in your comprehension syntax.  Most of all, you inserted your <code>for</code> clause into the middle of your conditional expression; it has to go at the end of the expression.</p>\n\n<pre><code>modified_list = ['v' if each in vowels else\n                ('c' if each in alphabet else '?')\n                     for each in characters]\n</code></pre>\n\n<p>I also removed the useless <code>for</code> clauses, and the redundant test for a consonant: when you're in the <code>else</code> clause of your expression, you already know it's not a vowel -- no need to re-test.</p>\n\n<p><strong>FULL TEST</strong></p>\n\n<p>vowels = \"aeiou\"\nalphabet = \"qwertyuiopasdfghjklzxcvbnm\"\ncharacters = \"Now is the time\"</p>\n\n<pre><code>templist = []\nfor each in characters:\n    if each in vowels:\n        templist.append('v')\n    elif (each in alphabet) &amp; (each not in vowels):\n        templist.append('c')\n    else:\n        templist.append('?')\n\nprint(\"     original\", ''.join(templist))\n\nmodified_list = ['v' if each in vowels else \\\n                ('c' if (each in alphabet) else '?') \\\n                     for each in characters]\n\nprint(\"comprehension\", ''.join(modified_list))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>     original ?vc?vc?ccv?cvcv\ncomprehension ?vc?vc?ccv?cvcv\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3236, "user_id": 6876009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201968908078a1f1ea776c886d93631a?s=128&d=identicon&r=PG&f=1", "display_name": "f5r5e5d", "link": "https://stackoverflow.com/users/6876009/f5r5e5d"}, "is_accepted": false, "score": 1, "last_activity_date": 1510794112, "creation_date": 1510794112, "answer_id": 47319891, "question_id": 47319355, "link": "https://stackoverflow.com/questions/47319355/list-comprehension-python-with-multiple-control-flow/47319891#47319891", "title": "List comprehension Python with multiple control flow", "body": "<p>just a line breaking style mention: <a href=\"https://stackoverflow.com/questions/4172448/is-it-possible-to-break-a-long-line-to-multiple-lines-in-python\">Is it possible to break a long line to multiple lines in Python</a> shows some options</p>\n\n<p>the list comp brackets in this case make <code>\\</code> unnecessary</p>\n\n<p>sometimes I play with leading space inside the line continuation to indicate logical hiearchy - the leading space is syntactically ignored inside a code line continuation</p>\n\n<pre><code>['v' if each in vowels\n     else ('c' if each in alphabet\n               else '?')\n for each in characters]\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 3035168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5941aa40db4fc52b54c8cda8a6d5ea?s=128&d=identicon&r=PG&f=1", "display_name": "user3035168", "link": "https://stackoverflow.com/users/3035168/user3035168"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1510794112, "creation_date": 1510790332, "last_edit_date": 1510792938, "question_id": 47319355, "link": "https://stackoverflow.com/questions/47319355/list-comprehension-python-with-multiple-control-flow", "title": "List comprehension Python with multiple control flow", "body": "<p>I am trying to convert this function:</p>\n\n<pre><code>templist = []\nfor each in characters:\n    if each in vowels:\n        templist.append('v')\n    elif (each in alphabet) &amp; (each not in vowels):\n        templist.append('c')\n    else:\n        templist.append('?')\ncharacters = templist\nprint(characters)\n</code></pre>\n\n<p>into list comprehension </p>\n\n<pre><code>modified_list = ['v' for each in characters for item in vowels \n                     if item in vowels \n                 else 'c' if (item in alphabet) &amp; (item not in vowels)\n                 else '?']`\n</code></pre>\n\n<p>Kinda stuck here! Can't figure out what I am doing wrong.</p>\n"}, {"tags": ["python", "css", "web", "automation", "bots"], "answers": [{"comments": [{"owner": {"reputation": 2624, "user_id": 4535716, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10153111554884185/picture?type=large", "display_name": "Luke Allison", "link": "https://stackoverflow.com/users/4535716/luke-allison"}, "edited": false, "score": 1, "creation_date": 1510790658, "post_id": 47319375, "comment_id": 81589962, "body": "Edited my question to be more clear. I&#39;d like to monitor somebody else&#39;s websites. Not my own."}], "tags": [], "owner": {"reputation": 191, "user_id": 8371390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0846190f1f3fe9e0f013ff6592f870f9?s=128&d=identicon&r=PG", "display_name": "Billy Fischbach", "link": "https://stackoverflow.com/users/8371390/billy-fischbach"}, "is_accepted": false, "score": 0, "last_activity_date": 1510790517, "creation_date": 1510790517, "answer_id": 47319375, "question_id": 47319351, "link": "https://stackoverflow.com/questions/47319351/how-to-monitor-changes-to-a-particular-website-css/47319375#47319375", "title": "How to monitor changes to a particular website CSS?", "body": "<p>I would suggest using Github in your workflow. That gives you a good idea of changes and ways to revert back to older versions.</p>\n"}, {"tags": [], "owner": {"reputation": 1023, "user_id": 5414158, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/918756374872436/picture?type=large", "display_name": "Tobias Sch&#228;fer", "link": "https://stackoverflow.com/users/5414158/tobias-sch%c3%a4fer"}, "is_accepted": false, "score": 0, "last_activity_date": 1510790641, "creation_date": 1510790641, "answer_id": 47319389, "question_id": 47319351, "link": "https://stackoverflow.com/questions/47319351/how-to-monitor-changes-to-a-particular-website-css/47319389#47319389", "title": "How to monitor changes to a particular website CSS?", "body": "<p>One possible solution:</p>\n\n<p>Crawl website for .css files, save change dates and/or filesize. </p>\n\n<p>After each crawl compare information and if changes detected use slack API to notify. I haven't worked with slack that, for this part of the solution maybe someone else can give advice.</p>\n"}, {"tags": [], "owner": {"reputation": 221, "user_id": 2166476, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/a953170a7a9a78c267fc40c2aac459ec?s=128&d=identicon&r=PG", "display_name": "Samantha", "link": "https://stackoverflow.com/users/2166476/samantha"}, "is_accepted": false, "score": 1, "last_activity_date": 1510863222, "creation_date": 1510863222, "answer_id": 47338327, "question_id": 47319351, "link": "https://stackoverflow.com/questions/47319351/how-to-monitor-changes-to-a-particular-website-css/47338327#47338327", "title": "How to monitor changes to a particular website CSS?", "body": "<p>I would suggest a modification of tschaefermedia's answer.  </p>\n\n<blockquote>\n  <ol>\n  <li>Crawl website for .css files, save.</li>\n  <li>Take an md5 of each file.  </li>\n  <li>Then compare md5 of the new file will the old file.  </li>\n  <li>If the md5 is different then the file changed.</li>\n  </ol>\n</blockquote>\n\n<p>Below is a function to take md5 of large files. </p>\n\n<pre><code>def md5(file_name):\n\n    # make a md5 hash object\n    hash_md5 = hashlib.md5()\n\n    # open file as binary and read only\n    with open(file_name, 'rb') as f:\n        i = 0\n\n        # read 4096 bytes at a time and take the md5 hash of it and add it to the hash total\n        # b converts string literal to bytes\n        for chunk in iter(lambda: f.read(4096), b''):\n            i += 1\n\n            # get sum of md5 hashes\n            # m.update(a); m.update(b) is equivalent to m.update(a+b)\n            hash_md5.update(chunk)\n\n        # check for correct number of iterations\n        file_size = os.path.getsize(file_name)\n        expected_i = int(math.ceil(float(file_size) / float(4096)))\n        correct_i = i == expected_i\n\n        # check if md5 correct\n        md5_chunk_file = hash_md5.hexdigest()\n\n    return md5_chunk_file\n</code></pre>\n"}], "owner": {"reputation": 2624, "user_id": 4535716, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10153111554884185/picture?type=large", "display_name": "Luke Allison", "link": "https://stackoverflow.com/users/4535716/luke-allison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1510863222, "creation_date": 1510790303, "last_edit_date": 1510790612, "question_id": 47319351, "link": "https://stackoverflow.com/questions/47319351/how-to-monitor-changes-to-a-particular-website-css", "title": "How to monitor changes to a particular website CSS?", "body": "<p>I wish to monitor the CSS of a few websites (these websites aren't my own) for changes and receive a notification of some sort when they do. If you could please share any experience you've had with this to point me in the right direction for how to code it I'd appreciate it greatly. </p>\n\n<p>I'd like this script/app to notify a Slack group on change, which I assume will require a webhook. </p>\n\n<p>Not asking for code, just any advice about particular APIs and other tools that may be of benefit.</p>\n"}, {"tags": ["php", "python", "apache", "server", "cgi"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1510790276, "post_id": 47319325, "comment_id": 81589844, "body": "PHP is not allowed in HTML."}, {"owner": {"reputation": 4677, "user_id": 519348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TIdre.jpg?s=128&g=1", "display_name": "TZHX", "link": "https://stackoverflow.com/users/519348/tzhx"}, "edited": false, "score": 1, "creation_date": 1510790342, "post_id": 47319325, "comment_id": 81589870, "body": "The languages you can mix in with html depends on what modules your web server has installed. Modules do indeed exist for python in apache same as php."}, {"owner": {"reputation": 53, "user_id": 6766971, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IQadjfTegA4/AAAAAAAAAAI/AAAAAAAAABk/6IytV4gX2Uo/photo.jpg?sz=128", "display_name": "AndiS", "link": "https://stackoverflow.com/users/6766971/andis"}, "edited": false, "score": 0, "creation_date": 1510790506, "post_id": 47319325, "comment_id": 81589923, "body": "I meant the way we use php:  &quot;&lt;?php ... ?&gt;"}, {"owner": {"reputation": 53, "user_id": 6766971, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IQadjfTegA4/AAAAAAAAAAI/AAAAAAAAABk/6IytV4gX2Uo/photo.jpg?sz=128", "display_name": "AndiS", "link": "https://stackoverflow.com/users/6766971/andis"}, "edited": false, "score": 0, "creation_date": 1510790784, "post_id": 47319325, "comment_id": 81589993, "body": "But i never seen that anyone write python code in html file."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1510800386, "post_id": 47319325, "comment_id": 81592499, "body": "@AndiS you&#39;ve never seen anyone write PHP in an HTML file either. Again, with the appropriate apache mods you can mix templates and programming in the same Python file like you can in a PHP file. Its just that people have largely quit doing that except in PHP."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1510791924, "creation_date": 1510791924, "answer_id": 47319579, "question_id": 47319325, "link": "https://stackoverflow.com/questions/47319325/why-only-php-allowed-in-html-code-but-other-languages-use-cgi/47319579#47319579", "title": "Why only PHP allowed in html code but other languages use CGI?", "body": "<p>PHP was initially designed primarily as a programming language for creating web applications (the name stands for Personal Home Page). To make this easier, they tightly integrated the language into the web pages. In fact, in early versions of PHP, the code was embedded in HTML comments (similar to the way early Javascript had to be embedded). The <a href=\"http://php.net/manual/en/history.php.php\" rel=\"nofollow noreferrer\">PHP History</a> page shows examples of this (this was called PHP/FI -- PHP Forms Interpreter):</p>\n\n<pre><code>&lt;!--include /text/header.html--&gt;\n\n&lt;!--getenv HTTP_USER_AGENT--&gt;\n&lt;!--ifsubstr $exec_result Mozilla--&gt;\n  Hey, you are using Netscape!&lt;p&gt;\n&lt;!--endif--&gt;\n</code></pre>\n\n<p>Later on, the name PHP became the recursive acrynym PHP Hypertext Preprocessor. This indicates that it's intended to be embedded in HTML, much the way C preprocessor code is embedded in C and C++ programs.</p>\n\n<p>The embedded nature makes it easy to write web pages with lots of static HTML interspersed with dynamic code. In any other language, you'd need hundreds or thousands of <code>print</code> statements, while PHP allows you to just escape out of scripting mode into raw output for all the static parts.</p>\n\n<p>There's no reason other languages couldn't be embedded into HTML in similar ways. But the designers simply didn't have that as a priority, they intended them as more general purpose languages, so they didn't put this feature into them. PHP can be used as a standalone programming language (my company uses it extensively in cron jobs), it's just not its original design emphasis.</p>\n"}], "owner": {"reputation": 53, "user_id": 6766971, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IQadjfTegA4/AAAAAAAAAAI/AAAAAAAAABk/6IytV4gX2Uo/photo.jpg?sz=128", "display_name": "AndiS", "link": "https://stackoverflow.com/users/6766971/andis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1510800427, "accepted_answer_id": 47319579, "answer_count": 1, "score": -1, "last_activity_date": 1603142747, "creation_date": 1510790089, "last_edit_date": 1603142747, "question_id": 47319325, "link": "https://stackoverflow.com/questions/47319325/why-only-php-allowed-in-html-code-but-other-languages-use-cgi", "closed_reason": "Needs details or clarity", "title": "Why only PHP allowed in html code but other languages use CGI?", "body": "<p>For example, why developers of Python don't make the interpreter for using Python like PHP in HTML code? <br><br></p>\n"}, {"tags": ["java", "python", "excel", "api", "bloomberg"], "answers": [{"tags": [], "owner": {"reputation": 360, "user_id": 6901159, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154600676381340/picture?type=large", "display_name": "Tanguy Bretagne", "link": "https://stackoverflow.com/users/6901159/tanguy-bretagne"}, "is_accepted": true, "score": 1, "last_activity_date": 1510839921, "creation_date": 1510839921, "answer_id": 47331288, "question_id": 47319322, "link": "https://stackoverflow.com/questions/47319322/accessing-bloombergs-api-through-excel-vs-python-java-other-programming-la/47331288#47331288", "title": "Accessing Bloomberg&#39;s API through Excel vs. Python / Java / other programming languages", "body": "<p>I have only used the Python API, and via wrappers. As such I imagine there are ways to get data faster than what I currently do.\nBut for what I do, I'd say I can get a few years of daily data for roughly 50 securities in a matter of seconds.\nSo I imagine it could improve your workflow to move to a more robust API.\nRegarding intraday data on the other hand I don't find much improvement. But I am not using concurrent calls (which I'm sure would help my speed on that front).</p>\n"}], "owner": {"reputation": 4165, "user_id": 7489488, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d045abb9b1a093eef729729702d11cea?s=128&d=identicon&r=PG&f=1", "display_name": "p4t", "link": "https://stackoverflow.com/users/7489488/p4t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 47331288, "answer_count": 1, "score": 0, "last_activity_date": 1510839921, "creation_date": 1510790070, "last_edit_date": 1510792078, "question_id": 47319322, "link": "https://stackoverflow.com/questions/47319322/accessing-bloombergs-api-through-excel-vs-python-java-other-programming-la", "title": "Accessing Bloomberg&#39;s API through Excel vs. Python / Java / other programming languages", "body": "<p>I've used Excel in the past to fetch daily price data on more than 1000 equity securities over a period of a month and it was a really slow experience (1 hour wait in some circumstances) since I was making a large amount of calls using the Bloomberg Excel Plugin. </p>\n\n<p>I've always wondered if there was a substantial performance improvement to do the same task if I was using Python or Java to pull data from Bloomberg's API instead.</p>\n\n<p>Would like to know from those who have had experience with both Excel and a programming language before I dive head first into trying to implement a Python or Java solution.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1510790172, "post_id": 47319313, "comment_id": 81589811, "body": "... By slicing them."}], "answers": [{"tags": [], "owner": {"reputation": 12982, "user_id": 7668911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6VtZT.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/7668911/neil"}, "is_accepted": true, "score": 5, "last_activity_date": 1510790286, "creation_date": 1510790286, "answer_id": 47319346, "question_id": 47319313, "link": "https://stackoverflow.com/questions/47319313/get-filenames-in-a-directory-without-extension-python/47319346#47319346", "title": "get filenames in a directory without extension - Python", "body": "<p>You can use <code>os</code>'s splitext.</p>\n\n<pre><code>import os\n\npath = '/Users/vivek/Desktop/buffer/xmlTest/' \nfiles = [os.path.splitext(filename)[0] for filename in os.listdir(path)]\nprint (files)\n</code></pre>\n\n<p>Just a heads up: <code>basename</code> won't work for this.  <code>basename</code> doesn't remove the extension.</p>\n"}, {"comments": [{"owner": {"reputation": 4705, "user_id": 746461, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cab04a8efb05937830be8df8a033e5fd?s=128&d=identicon&r=PG", "display_name": "Gqqnbig", "link": "https://stackoverflow.com/users/746461/gqqnbig"}, "edited": false, "score": 2, "creation_date": 1603264855, "post_id": 47319353, "comment_id": 113978426, "body": "<code>basename(&quot;&#47;a&#47;b&#47;c.txt&quot;)</code> returns c.txt, WITH extension."}], "tags": [], "owner": {"reputation": 50, "user_id": 8948102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a347dede705b4efbd263b62cbbdc197?s=128&d=identicon&r=PG&f=1", "display_name": "kkj", "link": "https://stackoverflow.com/users/8948102/kkj"}, "is_accepted": false, "score": 1, "last_activity_date": 1510790315, "creation_date": 1510790315, "answer_id": 47319353, "question_id": 47319313, "link": "https://stackoverflow.com/questions/47319313/get-filenames-in-a-directory-without-extension-python/47319353#47319353", "title": "get filenames in a directory without extension - Python", "body": "<p>Here are two options</p>\n\n<pre><code>import os\nprint(os.path.splitext(\"path_to_file\")[0])\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>from os.path import basename\nprint(basename(\"/a/b/c.txt\"))\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 8570987, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/120cfb120675c14699723491552b15cf?s=128&d=identicon&r=PG&f=1", "display_name": "Veejay", "link": "https://stackoverflow.com/users/8570987/veejay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6809, "favorite_count": 0, "closed_date": 1557217608, "accepted_answer_id": 47319346, "answer_count": 2, "score": 1, "last_activity_date": 1510790315, "creation_date": 1510790001, "question_id": 47319313, "link": "https://stackoverflow.com/questions/47319313/get-filenames-in-a-directory-without-extension-python", "closed_reason": "Duplicate", "title": "get filenames in a directory without extension - Python", "body": "<p>I am trying to get the filenames in a directory without getting the extension. With my current code - </p>\n\n<pre><code>import os\n\npath = '/Users/vivek/Desktop/buffer/xmlTest/' \nfiles = os.listdir(path) \nprint (files)\n</code></pre>\n\n<p>I end up with an output like so:</p>\n\n<pre><code>['img_8111.jpg', 'img_8120.jpg', 'img_8127.jpg', 'img_8128.jpg', 'img_8129.jpg', 'img_8130.jpg']\n</code></pre>\n\n<p>However I want the output to look more like so:</p>\n\n<pre><code>['img_8111', 'img_8120', 'img_8127', 'img_8128', 'img_8129', 'img_8130']\n</code></pre>\n\n<p>How can I make this happen? </p>\n"}, {"tags": ["java", "python", "tensorflow", "tensorflow-serving"], "answers": [{"tags": [], "owner": {"reputation": 5655, "user_id": 6708503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b6830ee25bc34994df9835cc17b64aa?s=128&d=identicon&r=PG&f=1", "display_name": "ash", "link": "https://stackoverflow.com/users/6708503/ash"}, "is_accepted": true, "score": 2, "last_activity_date": 1510802046, "creation_date": 1510802046, "answer_id": 47320961, "question_id": 47319291, "link": "https://stackoverflow.com/questions/47319291/how-to-parse-string-output-of-a-tensorflow-model/47320961#47320961", "title": "How to parse String output of a tensorflow model", "body": "<p>The <code>DT_STRING</code> typed TensorFlow tensors contain <a href=\"https://www.tensorflow.org/api_docs/java/reference/org/tensorflow/DataType\" rel=\"nofollow noreferrer\">arbitrary byte sequences</a> as elements, not Java <code>String</code>s (sequence of characters).</p>\n\n<p>Thus, what you want is something like this:</p>\n\n<pre><code>byte[][][] classes = new byte[2][1][];\noutputs.get(0).copyTo(classes);\n</code></pre>\n\n<p>If you'd like to get Java <code>String</code> objects, then you'll need to know what encoding your model produces the classes in, and then could do something like (assuming UTF-8 encoding):</p>\n\n<pre><code>String[][] classesStrings = new String[2][1];\nfor (int i = 0; i &lt; classes.length; ++i) {\n  for (int j = 0; j &lt; classes[i].length; ++j) {\n    classesString[i][j] = new String(classes[i][j], UTF_8);\n  }\n}\n</code></pre>\n\n<p>Hope that helps.\nYou might also find the <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.4/tensorflow/java/src/test/java/org/tensorflow/TensorTest.java#L393\" rel=\"nofollow noreferrer\">unittest</a> instructive.</p>\n"}], "owner": {"reputation": 159, "user_id": 5091288, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-R6dKM1lkRdg/AAAAAAAAAAI/AAAAAAAAIo8/kOrGR8RKPy4/photo.jpg?sz=128", "display_name": "gagan malhotra", "link": "https://stackoverflow.com/users/5091288/gagan-malhotra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1281, "favorite_count": 0, "accepted_answer_id": 47320961, "answer_count": 1, "score": 0, "last_activity_date": 1510809014, "creation_date": 1510789872, "last_edit_date": 1510809014, "question_id": 47319291, "link": "https://stackoverflow.com/questions/47319291/how-to-parse-string-output-of-a-tensorflow-model", "title": "How to parse String output of a tensorflow model", "body": "<p>Created a model using the code here : <a href=\"https://gist.github.com/gaganmalhotra/1424bd3d0617e784976b29d5846b16b1\" rel=\"nofollow noreferrer\">https://gist.github.com/gaganmalhotra/1424bd3d0617e784976b29d5846b16b1</a></p>\n\n<p>To get the predictions of the probabilites in java it can be done using below code:</p>\n\n<pre><code>  public static void main(String[] args) {\n    Session session = SavedModelBundle.load(\"/Users/gagandeep.malhotra/Documents/SampleTF_projects/tf_iris_model/1510707746/\", \"serve\").session();\n\n    Tensor x =\n        Tensor.create(\n            new long[] {2, 4},\n            FloatBuffer.wrap(\n                new float[] {\n                  6.4f, 3.2f, 4.5f, 1.5f,\n                  5.8f, 3.1f, 5.0f, 1.7f\n                }));\n\n    final String xName = \"Placeholder:0\";\n    final String scoresName = \"dnn/head/predictions/probabilities:0\";\n\n    List&lt;Tensor&lt;?&gt;&gt; outputs = session.runner()\n        .feed(xName, x)\n        .fetch(scoresName)\n        .run();\n\n    // Outer dimension is batch size; inner dimension is number of classes\n    float[][] scores = new float[2][3];\n\n    outputs.get(0).copyTo(scores);\n    System.out.println(Arrays.deepToString(scores));\n  }\n</code></pre>\n\n<p><strong>However if we want to copy over the predicted classes (string type) for the code below:</strong></p>\n\n<pre><code>final String xName = \"Placeholder:0\";\nfinal String className = \"dnn/head/predictions/str_classes:0\";\n\nList&lt;Tensor&lt;?&gt;&gt; outputs = session.runner()\n    .feed(xName, x)\n    .fetch(className)\n    .run();\n\n// Outer dimension is batch size; inner dimension is number of classes\nString[][] classes = new String[2][1];\n\noutputs.get(0).copyTo(classes);\nSystem.out.println(Arrays.deepToString(classes));\n</code></pre>\n\n<p>I end up with an error like this: </p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: cannot copy Tensor with 2 dimensions into an object with 1\n    at org.tensorflow.Tensor.throwExceptionIfTypeIsIncompatible(Tensor.java:739)\n    at org.tensorflow.Tensor.copyTo(Tensor.java:450)\n    at deeplearning.IrisTFLoad.main(IrisTFLoad.java:71)\n</code></pre>\n\n<p><strong>But the dimension is same as the output tensor: [STRING tensor with shape [2, 1]]</strong></p>\n\n<p>PS: The signature definition can be found as below - </p>\n\n<pre><code>The given SavedModel SignatureDef contains the following input(s):\n    inputs['x'] tensor_info:\n        dtype: DT_FLOAT\n        shape: (-1, 4)\n        name: Placeholder:0\n    The given SavedModel SignatureDef contains the following output(s):\n    outputs['class_ids'] tensor_info:\n        dtype: DT_INT64\n        shape: (-1, 1)\n        name: dnn/head/predictions/ExpandDims:0\n    outputs['classes'] tensor_info:\n        dtype: DT_STRING\n        shape: (-1, 1)\n        name: dnn/head/predictions/str_classes:0\n    outputs['logits'] tensor_info:\n        dtype: DT_FLOAT\n        shape: (-1, 3)\n        name: dnn/head/logits:0\n    outputs['probabilities'] tensor_info:\n        dtype: DT_FLOAT\n        shape: (-1, 3)\n        name: dnn/head/predictions/probabilities:0\n    Method name is: tensorflow/serving/predict\n</code></pre>\n\n<p>Things tried :</p>\n\n<p>Tensor tensor = (Tensor) outputs.get(0);\n   byte[][][] result = tensor.copyTo(new byte[2][1][]);</p>\n\n<p>but errors out as below:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException: invalid DataType(7)\n    at org.tensorflow.Tensor.readNDArray(Native Method)\n    at org.tensorflow.Tensor.copyTo(Tensor.java:451)\n    at deeplearning.IrisTFLoad.main(IrisTFLoad.java:74)\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "random", "curve-fitting"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1510790221, "post_id": 47319277, "comment_id": 81589825, "body": "It is not really clear what you mean by &quot;points&quot;. If you draw a random number from a distribution (may it be an exponential one or some other) it is a number, not a point. It hence has only one coordinate, not two, so where in the plot would it appear? It is hence also not possible to fit a function through some numbers."}, {"owner": {"reputation": 5512, "user_id": 525169, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/074ef4d038759067691dbb7fb0a4d19f?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/525169/praveen"}, "edited": false, "score": 2, "creation_date": 1510790229, "post_id": 47319277, "comment_id": 81589826, "body": "You&#39;re confusing two things: drawing from an exponential distribution will give you a bunch of numbers which are more likely to be close to zero and the probability of them being farther away from zero falls off exponentially. In other words, the <b>histogram</b> of these numbers will look like an exponential decay function, not the numbers themselves. For your purpose, you are better off selecting some x-values (randomly if you want) and computing y-values by applying <code>exp(-beta*x) + noise</code>, where your noise can be Gaussian. Then compare <code>beta</code> to <code>a</code> from your fit."}, {"owner": {"reputation": 2633, "user_id": 7372165, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/PCyvJ.png?s=128&g=1", "display_name": "JAG2024", "link": "https://stackoverflow.com/users/7372165/jag2024"}, "reply_to_user": {"reputation": 5512, "user_id": 525169, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/074ef4d038759067691dbb7fb0a4d19f?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/525169/praveen"}, "edited": false, "score": 0, "creation_date": 1510790586, "post_id": 47319277, "comment_id": 81589943, "body": "Ok, I updated my question the points vs. numbers issue. Perhaps someone&#39;s answer can use @Praveen&#39;s suggesting of selecting x-values randomly and computing the y-values with <code>exp(-beta*x) + noise</code>."}], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 7, "last_activity_date": 1510792586, "creation_date": 1510792586, "answer_id": 47319673, "question_id": 47319277, "link": "https://stackoverflow.com/questions/47319277/generate-random-numbers-from-exponential-distribution-and-model-using-python/47319673#47319673", "title": "Generate random numbers from exponential distribution and model using python", "body": "<p>I would guess that the following is close to what you want. You can generate some random numbers drawn from an exponential distribution with numpy, </p>\n\n<pre><code>data = numpy.random.exponential(5, size=1000)\n</code></pre>\n\n<p>You can then create a histogram of them using <code>numpy.hist</code> and draw the histogram values into a plot. You may decide to take the middle of the bins as position for the point (this assumption is of course wrong, but gets the more valid the more bins you use).</p>\n\n<p>Fitting works as in the code from the question. You will then find out that our fit roughly finds the parameter used for the data generation (in this case below ~5).</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.optimize import curve_fit\n\ndata = np.random.exponential(5, size=1000)\n\nhist,edges = np.histogram(data,bins=\"auto\",density=True )\n\nx = edges[:-1]+np.diff(edges)/2.\nplt.scatter(x,hist)\n\nfunc = lambda x,beta: 1./beta*np.exp(-x/beta)\n\npopt, pcov = curve_fit(f=func, xdata=x, ydata=hist) \n\nprint(popt)\n\nxx = np.linspace(0, x.max(), 101)\nplt.plot(xx, func(xx,*popt), ls=\"--\", color=\"k\", \n         label=\"fit, $beta = ${}\".format(popt))\nplt.legend()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/msDv7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/msDv7.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 2939, "user_id": 803359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pnuDZ.jpg?s=128&g=1", "display_name": "mikuszefski", "link": "https://stackoverflow.com/users/803359/mikuszefski"}, "is_accepted": false, "score": 2, "last_activity_date": 1510820363, "creation_date": 1510820363, "answer_id": 47324702, "question_id": 47319277, "link": "https://stackoverflow.com/questions/47319277/generate-random-numbers-from-exponential-distribution-and-model-using-python/47324702#47324702", "title": "Generate random numbers from exponential distribution and model using python", "body": "<p>I agree with the solution of @ImportanceOfBeingErnes, but I'd like to add a (well known?) general solution for distributions. If you have a distribution function <code>f</code> with integral <code>F</code> (i.e. <code>f = dF / dx</code>) then you get the required distribution by mapping random numbers with <code>inv F</code> i.e. the inverse function of the integral. In case of the exponential function, the integral is, again, an exponential and the inverse is the logarithm. So it can be done like this:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nfrom random import random\n\n\ndef gen( a ):\n    y=random()\n    return( -np.log( y ) / a )\n\n\ndef dist_func( x, a ):\n    return( a * np.exp( -a * x) )\n\n\ndata = [ gen(3.14) for x in range(20000) ]\nfig = plt.figure()\nax = fig.add_subplot( 1, 1, 1 )\nax.hist(data, bins=80, normed=True, histtype=\"step\") \nax.plot(np.linspace(0,5,150), dist_func( np.linspace(0,5,150), 3.14 ) )\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eOWYK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eOWYK.png\" alt=\"mapped by inverse integral\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 2633, "user_id": 7372165, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/PCyvJ.png?s=128&g=1", "display_name": "JAG2024", "link": "https://stackoverflow.com/users/7372165/jag2024"}, "edited": false, "score": 0, "creation_date": 1510934469, "post_id": 47341360, "comment_id": 81661672, "body": "Hi @Bill Bell thanks for your answer. This is helpful for for me. Could you point me to the function or perhaps documentation on how to get the residuals using python?"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "reply_to_user": {"reputation": 2633, "user_id": 7372165, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/PCyvJ.png?s=128&g=1", "display_name": "JAG2024", "link": "https://stackoverflow.com/users/7372165/jag2024"}, "edited": false, "score": 0, "creation_date": 1510941374, "post_id": 47341360, "comment_id": 81665752, "body": "I&#39;ve changed the answer starting with &#39;Here&#39;s how to calculate the residuals.&#39;"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "reply_to_user": {"reputation": 2633, "user_id": 7372165, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/PCyvJ.png?s=128&g=1", "display_name": "JAG2024", "link": "https://stackoverflow.com/users/7372165/jag2024"}, "edited": false, "score": 0, "creation_date": 1511065854, "post_id": 47341360, "comment_id": 81699996, "body": "@JAG2024: If this is what you needed then would you <a href=\"https://stackoverflow.com/help/someone-answers\">accept the link</a>?"}], "tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": true, "score": 4, "last_activity_date": 1510941329, "last_edit_date": 1510941329, "creation_date": 1510878057, "answer_id": 47341360, "question_id": 47319277, "link": "https://stackoverflow.com/questions/47319277/generate-random-numbers-from-exponential-distribution-and-model-using-python/47341360#47341360", "title": "Generate random numbers from exponential distribution and model using python", "body": "<p>I think you are <em>actually</em> asking about a <strong>regression problem</strong>, which is what Praveen was suggesting.</p>\n\n<p>You have a bog standard exponential decay that arrives at the y-axis at about y=0.27. Its equation is therefore <code>y = 0.27*exp(-0.27*x)</code>. I can model gaussian error around the values of this function and plot the result using the following code.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom math import exp\nfrom scipy.stats import norm\n\n\nx = range(0, 16)\nY = [0.27*exp(-0.27*_) for _ in x]\nerror = norm.rvs(0, scale=0.05, size=9)\nsimulated_data = [max(0, y+e) for (y,e) in zip(Y[:9],error)]\n\nplt.plot(x, Y, 'b-')\nplt.plot(x[:9], simulated_data, 'r.')\nplt.show()\n\nprint (x[:9])\nprint (simulated_data)\n</code></pre>\n\n<p>Here's the plot. Notice that I save the output values for subsequent use.</p>\n\n<p><a href=\"https://i.stack.imgur.com/OvYDX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OvYDX.png\" alt=\"exponential decay with noise\"></a></p>\n\n<p>Now I can calculate the nonlinear regression of the exponential decay values, contaminated with noise, on the independent variable, which is what <code>curve_fit</code> does.</p>\n\n<pre><code>from math import exp\nfrom scipy.optimize import curve_fit\nimport numpy as np\n\ndef model(x, p):\n    return p*np.exp(-p*x)\n\nx = list(range(9))\nY = [0.22219001972988275, 0.15537454187341937, 0.15864069451825827, 0.056411162886672819, 0.037398831058143338, 0.10278251869912845, 0.03984605649260467, 0.0035360087611421981, 0.075855255999424692]\n\npopt, pcov = curve_fit(model, x, Y)\nprint (popt[0])\nprint (pcov)\n</code></pre>\n\n<p>The bonus is that, not only does <code>curve_fit</code> calculate an estimate for the parameter \u2014 0.207962159793 \u2014 it also offers an estimate for this estimate's variance \u2014 0.00086071 \u2014 as an element of <code>pcov</code>. This would appear to be a fairly small value, given the small sample size.</p>\n\n<p>Here's how to calculate the residuals. Notice that each residual is the difference between the data value and the value estimated from <code>x</code> using the parameter estimate.</p>\n\n<pre><code>residuals = [y-model(_, popt[0]) for (y, _) in zip(Y, x)]\nprint (residuals)\n</code></pre>\n\n<p>If you wanted to further 'test that my function is indeed going through the data points' then I would suggest looking for patterns in the residuals. But discussions like this might be beyond what's welcomed on stackoverflow: Q-Q and P-P plots, plots of residuals vs <code>y</code> or <code>x</code>, and so on.</p>\n"}], "owner": {"reputation": 2633, "user_id": 7372165, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/PCyvJ.png?s=128&g=1", "display_name": "JAG2024", "link": "https://stackoverflow.com/users/7372165/jag2024"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10761, "favorite_count": 0, "accepted_answer_id": 47341360, "answer_count": 3, "score": 3, "last_activity_date": 1510941329, "creation_date": 1510789782, "last_edit_date": 1510790511, "question_id": 47319277, "link": "https://stackoverflow.com/questions/47319277/generate-random-numbers-from-exponential-distribution-and-model-using-python", "title": "Generate random numbers from exponential distribution and model using python", "body": "<p>My goal is to create a dataset of random points whose histogram looks like an exponential decay function and then plot an exponential decay function through those points. </p>\n\n<p>First I tried to create a series of random numbers (but did not do so successfully since these should be points, not numbers) from an exponential distribution. </p>\n\n<pre><code>from pylab import *\nfrom scipy.optimize import curve_fit\nimport random\nimport numpy as np\nimport pandas as pd\n\ntestx = pd.DataFrame(range(10)).astype(float)\ntestx = testx[0]\n\nfor i in range(1,11):\n   x = random.expovariate(15) # rate = 15 arrivals per second\n   data[i] = [x]\n\ntesty = pd.DataFrame(data).T.astype(float)\ntesty = testy[0]; testy\n\nplot(testx, testy, 'ko')\n</code></pre>\n\n<p>The result could look something like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/VJP4U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJP4U.png\" alt=\"enter image description here\"></a></p>\n\n<p>And then I define a function to draw a line through my points:</p>\n\n<pre><code>def func(x, a, e):\nreturn a*np.exp(-a*x)+e\n\npopt, pcov = curve_fit(f=func, xdata=testx, ydata=testy, p0 = None, sigma = None) \n\nprint popt # parameters\nprint pcov # covariance\n\nplot(testx, testy, 'ko')\n\nxx = np.linspace(0, 15, 1000)\nplot(xx, func(xx,*popt))\n\nplt.show()\n</code></pre>\n\n<p>What I'm looking for is: (1) a more elegant way to create an array of random numbers from an exponential (decay) distribution and (2) how to test that my function is indeed going through the data points. </p>\n\n<p><a href=\"https://i.stack.imgur.com/zIqir.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zIqir.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510790010, "post_id": 47319276, "comment_id": 81589765, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510790332, "post_id": 47319276, "comment_id": 81589864, "body": "When I enter a name not in the file, it tells me that the name is invalid -- i.e. cannot reproduce."}], "answers": [{"tags": [], "owner": {"reputation": 242, "user_id": 8226733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OBIrK.jpg?s=128&g=1", "display_name": "TheQuestioner", "link": "https://stackoverflow.com/users/8226733/thequestioner"}, "is_accepted": true, "score": 0, "last_activity_date": 1510793609, "last_edit_date": 1510793609, "creation_date": 1510792942, "answer_id": 47319731, "question_id": 47319276, "link": "https://stackoverflow.com/questions/47319276/python-account-system/47319731#47319731", "title": "Python account system", "body": "<p>In your code it will jumpback to <code>print(\"Correct username.\")</code> after a correct username was typed in. So you are stuck in a endless loop. Your <code>break</code> should be part of the while loop. Further I changed the second <code>while</code> to <code>if</code>.</p>\n\n<p>Try this:</p>\n\n<pre><code>acc = input(\"Do you have an existing account? y/n\")\nif acc == \"y\":\n    accnick= input(\"Enter your username. \")\n    while accnick in open(\"file.txt\").read():\n        print(\"Correct username.\")\n        accpass= input(\"Enter your password. \")\n        if len(accpass) == 0:\n            accpass = input(\"Try again. \")\n        if accpass in open(\"file.txt\").read():\n            print(\"Correct password. \")\n        break\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8926209, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i-1ChmMjkH8/AAAAAAAAAAI/AAAAAAAAA38/sK4-S5q5LNI/photo.jpg?sz=128", "display_name": "ms1021 s", "link": "https://stackoverflow.com/users/8926209/ms1021-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 47319731, "answer_count": 1, "score": 0, "last_activity_date": 1550710327, "creation_date": 1510789776, "last_edit_date": 1550710327, "question_id": 47319276, "link": "https://stackoverflow.com/questions/47319276/python-account-system", "title": "Python account system", "body": "<p>I'm trying to practice because I'm doing Not Examined Assessment in school and I'm stuck with my code, it doesn't work as intended because it doesn't matter whatever I write in accnick it says that the username is correct :/ </p>\n\n<pre><code> acc = input(\"Do you have an existing account? y/n \")\nif acc == \"y\":\n    accnick= input(\"Enter your username. \")\n    while accnick in open(\"file.txt\").read():\n        print(\"Correct username.\")\n        accpass= input(\"Enter your password. \")\n        if len(accpass) == 0:\n            accpass = input(\"Try again. \")\n        while accpass in open(\"file.txt\").read():\n            print(\"Correct password. \")\n            break\n\n    else:\n        accnick = input(\"Wrong username, try again. \")\n\nelif acc == \"n\":\n    name = input(\"Enter your name. \")\n    while len(name) == 0:\n        name = input(\"You haven't entered anything, try again. \")\n    age = int(input(\"Enter your age. \"))\n    age = str(age)\n    while len(age) == 0:\n        age = input(\"Enter your age again. \")\n    password = input(\"Enter your password. \")\n    nick = name[:3]\n    nickname = nick+str(age)\n    file=open(\"file.txt\",\"w+\") #w+ is to write to a file and create a file if it doesnt exist yet\n    file.write(name+' '+str(age)+' '+nickname+' '+' '+password)\n    file=open(\"file.txt\",\"r\")\n    kurwa=file.read()\n    print(kurwa)\n    name = input(\"Enter your name. \") ###\n    if 'Test Test' in open('file.txt').read():\n        print(\"Someone with that name already exists. \")\n</code></pre>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1510792103, "post_id": 47319273, "comment_id": 81590320, "body": "you have to remember previous <code>get_pressed()</code> to compare with current <code>get_pressed()</code> - if it changed from <code>True</code> to <code>False</code> then button was released. Or you have to remeber MOUSEBUTTONUP as global value and check in your function."}], "answers": [{"tags": [], "owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "is_accepted": true, "score": 1, "last_activity_date": 1510805072, "creation_date": 1510805072, "answer_id": 47321412, "question_id": 47319273, "link": "https://stackoverflow.com/questions/47319273/pygame-other-way-of-checking-mouse-button-up/47321412#47321412", "title": "Pygame: Other way of checking mouse button up", "body": "<p>You can just iterate over the sprite group if a <code>MOUSEBUTTONUP</code> event appears and then kill the sprite if it collides with the <code>event.pos</code> or <code>pygame.mouse.get_pos()</code>.</p>\n\n<pre><code>import pygame as pg\n\n\nclass Player(pg.sprite.Sprite):\n\n    def __init__(self, pos):\n        super().__init__()\n        self.image = pg.Surface((30, 50))\n        self.image.fill(pg.Color('dodgerblue2'))\n        self.rect = self.image.get_rect(center=pos)\n\n\nclass Game:\n\n    def __init__(self):\n        self.screen = pg.display.set_mode((640, 480))\n        self.clock = pg.time.Clock()\n        self.all_sprites = pg.sprite.Group(Player((200, 200)), Player((400, 200)))\n        self.done = False\n\n    def run(self):\n        while not self.done:\n            self.handle_events()\n            self.run_logic()\n            self.draw()\n            self.clock.tick(30)\n\n    def handle_events(self):\n        for event in pg.event.get():\n            if event.type == pg.QUIT:\n                self.done = True\n            elif event.type == pg.MOUSEBUTTONUP:\n                if event.button == 1:  # Left mouse button.\n                    for sprite in self.all_sprites:\n                        if sprite.rect.collidepoint(event.pos):\n                            sprite.kill()\n\n    def run_logic(self):\n        self.all_sprites.update()\n\n    def draw(self):\n        self.screen.fill((30, 30, 30))\n        self.all_sprites.draw(self.screen)\n        pg.display.flip()\n\n\nif __name__ == '__main__':\n    pg.init()\n    Game().run()\n    pg.quit()\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 8840041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30711bb746f7c58ebaed95618a3dc48f?s=128&d=identicon&r=PG&f=1", "display_name": "ThomasNL", "link": "https://stackoverflow.com/users/8840041/thomasnl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 47321412, "answer_count": 1, "score": 1, "last_activity_date": 1510805072, "creation_date": 1510789761, "question_id": 47319273, "link": "https://stackoverflow.com/questions/47319273/pygame-other-way-of-checking-mouse-button-up", "title": "Pygame: Other way of checking mouse button up", "body": "<p>I'm creating a game via a game class setup like this:</p>\n\n<pre><code>class Game:\n   def __init__(self)\n\n   def new(self)\n       run()\n\n   def events(self)\n\n   def update(self)\n\n   def draw(self)\n\n   def run(self)\n       while True:\n           events()\n           update()\n           draw()\n\ng = Game()\nwhile g.isrunning:\n    g.new()\n</code></pre>\n\n<p>Rough sketch of the template. Also probably need to tell I'm working with sprites, created from another class.</p>\n\n<p>I first wanted a sprite to be removed when you click on it so in the update function i checked:</p>\n\n<pre><code>self.mouseState = pygame.mouse.get_pressed()\nif (sprite.rect.collidepoint(pygame.mouse.get_pos()) and self.mouseState[0]):\n    sprite.kill()\n</code></pre>\n\n<p>this works and made me happy. But now i want it to happen when you RELEASE the mousebutton. I know you can check MOUSEBUTTONUP in the events function via \"for event in pygame.event.get():\" but with the way my template works i can't call that in the game loop (the update function) right?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1510789712, "post_id": 47319245, "comment_id": 81589659, "body": "Please include your code.  Is there any chance of there being nested brackets, and, if so, can you show us an example of this?"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1510789836, "post_id": 47319245, "comment_id": 81589694, "body": "What&#39;s wrong with <code>[\\]\\[]</code>?"}, {"owner": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "edited": false, "score": 0, "creation_date": 1510789872, "post_id": 47319245, "comment_id": 81589713, "body": "In python, if your pattern contains back slashes you need to either specify it as a raw string by putting an &quot;r&quot; in front of it (ex: <code>r&quot;\\[\\[&quot;</code>) or double escape the slashes (ex: <code>&quot;\\\\[\\\\[&quot;</code>)"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1510790247, "post_id": 47319245, "comment_id": 81589833, "body": "Use <a href=\"https://ideone.com/4z9Dqc\" rel=\"nofollow noreferrer\"><code>re.findall(r&#39;[^][]+&#39;, s)</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 4261, "user_id": 3552975, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a3afcf08cd317313539eeca4b605c0ad?s=128&d=identicon&r=PG&f=1", "display_name": "Lerner Zhang", "link": "https://stackoverflow.com/users/3552975/lerner-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1510797868, "last_edit_date": 1510797868, "creation_date": 1510797405, "answer_id": 47320301, "question_id": 47319245, "link": "https://stackoverflow.com/questions/47319245/python-split-on-brackets-with-regular-expressions/47320301#47320301", "title": "Python split on brackets with regular expressions", "body": "<pre><code>In [16]: import re                                                                                  \n\nIn [17]: a = \"4[ab]\"                                                                                \n\nIn [18]: re.findall(\"(\\d)\\[(\\w+)]\", a)[0]                                                           \nOut[18]: ('4', 'ab')\n</code></pre>\n\n<p>You can refer to <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow noreferrer\">the documentation</a> which reads that: </p>\n\n<blockquote>\n  <p>To match a literal ']' inside a set, precede it with a backslash, or\n  <strong>place it at the beginning of the set</strong>. </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 255, "user_id": 6948568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83d5042734b60398ecbf4c3c18374dcc?s=128&d=identicon&r=PG&f=1", "display_name": "Dlamini", "link": "https://stackoverflow.com/users/6948568/dlamini"}, "is_accepted": false, "score": 0, "last_activity_date": 1510800994, "creation_date": 1510800994, "answer_id": 47320803, "question_id": 47319245, "link": "https://stackoverflow.com/questions/47319245/python-split-on-brackets-with-regular-expressions/47320803#47320803", "title": "Python split on brackets with regular expressions", "body": "<p>This gives you the list form:</p>\n\n<pre><code>import re\nm = \"4[ab]\"\nn = re.findall('(\\w+)\\[', m)\nn.extend(re.findall('(\\w+)\\]', m))\nprint(n)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>['4','ab']\n</code></pre>\n"}], "owner": {"reputation": 1166, "user_id": 5701535, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/s61ht.png?s=128&g=1", "display_name": "Q.H.", "link": "https://stackoverflow.com/users/5701535/q-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2442, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1510801260, "creation_date": 1510789613, "last_edit_date": 1510801260, "question_id": 47319245, "link": "https://stackoverflow.com/questions/47319245/python-split-on-brackets-with-regular-expressions", "title": "Python split on brackets with regular expressions", "body": "<p>If I have a string <code>\"4[ab]\"</code> and I want to split this string such that I get an array <code>[\"4\", \"ab\"]</code>, how would I use a regular expression in python for this?</p>\n\n<p>I've used the following regular expressions with no luck:</p>\n\n<pre><code>\"\\[\\[\"\n\"\\]\\[\"\n\"[\\[\\]]\"\n\"[\\]\\[]\"\n</code></pre>\n\n<p>From what I understand with python syntax you have to escape characters like square brackets because it will compute the values inside the brackets as the regular expression.</p>\n\n<p>What else is required?</p>\n\n<p>Edit, sorry for the delay: </p>\n\n<p>Here's the code though I doubt it's anything special:</p>\n\n<pre><code>import re\nre.split(\"[\\[\\]]\",\"4[ab]\")\n</code></pre>\n\n<p>This returns the correct output I'm looking for but does not work for </p>\n\n<pre><code>\"4[ab]\".split(\"[\\[\\]]\")\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10253483"}, "edited": false, "score": 0, "creation_date": 1562068562, "post_id": 47321921, "comment_id": 100253829, "body": "Help, this piece of code encounters error, which is 100% reproducible with <a href=\"https://colab.research.google.com/drive/1sUUb52yPZZP7dqJ0B5HiD_9UsBlXMJI3\" rel=\"nofollow noreferrer\">colab.research.google.com/drive/&hellip;</a>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6764549"}, "is_accepted": true, "score": 7, "last_activity_date": 1510808296, "creation_date": 1510808296, "answer_id": 47321921, "question_id": 47319238, "link": "https://stackoverflow.com/questions/47319238/python-plot-3d-vectors/47321921#47321921", "title": "Python Plot 3d Vectors", "body": "<p>The <code>quiver()</code> function needs locations of the arrows as <code>X,Y,Z</code> and <code>U,V,W</code> as the components of the arrow. So the following script can plot your data:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\n\np0 = [0.799319, -3.477045e-01, 0.490093]\np1 = [0.852512, 9.113778e-16, -0.522708]\np2 = [0.296422, 9.376042e-01, 0.181748]\n\norigin = [0,0,0]\nX, Y, Z = zip(origin,origin,origin) \nU, V, W = zip(p0,p1,p2)\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nax.quiver(X,Y,Z,U,V,W,arrow_length_ratio=0.01)\nplt.show()\n</code></pre>\n\n<p>But the results are not pretty. If you would like to use <a href=\"http://docs.enthought.com/mayavi/mayavi/\" rel=\"noreferrer\">Mayavi</a>, the following works:</p>\n\n<pre><code>import numpy as np\nimport mayavi.mlab as m\n\np0 = [0.799319, -3.477045e-01, 0.490093]\np1 = [0.852512, 9.113778e-16, -0.522708]\np2 = [0.296422, 9.376042e-01, 0.181748]\n\norigin = [0,0,0]\nX, Y, Z = zip(origin,origin,origin) \nU, V, W = zip(p0,p1,p2)\n\nm.quiver3d(X,Y,Z,U,V,W)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 459, "user_id": 11213215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45c36ac5dc0f8b029ec4cbb051475ca6?s=128&d=identicon&r=PG&f=1", "display_name": "rashid", "link": "https://stackoverflow.com/users/11213215/rashid"}, "is_accepted": false, "score": 8, "last_activity_date": 1573136908, "creation_date": 1573136908, "answer_id": 58750876, "question_id": 47319238, "link": "https://stackoverflow.com/questions/47319238/python-plot-3d-vectors/58750876#58750876", "title": "Python Plot 3d Vectors", "body": "<p>A good and pretty alternative to using matplolib's quiver() will be to plot using plotly which has the advantage of being interactive. The following function can plot vectors using the Scatter3d() in plotly. Here, the vectors have a big point to mark the direction instead of an arrowhead.</p>\n\n<pre><code>import numpy as np \nimport plotly.graph_objs as go\n\ndef vector_plot(tvects,is_vect=True,orig=[0,0,0]):\n    \"\"\"Plot vectors using plotly\"\"\"\n\n    if is_vect:\n        if not hasattr(orig[0],\"__iter__\"):\n            coords = [[orig,np.sum([orig,v],axis=0)] for v in tvects]\n        else:\n            coords = [[o,np.sum([o,v],axis=0)] for o,v in zip(orig,tvects)]\n    else:\n        coords = tvects\n\n    data = []\n    for i,c in enumerate(coords):\n        X1, Y1, Z1 = zip(c[0])\n        X2, Y2, Z2 = zip(c[1])\n        vector = go.Scatter3d(x = [X1[0],X2[0]],\n                              y = [Y1[0],Y2[0]],\n                              z = [Z1[0],Z2[0]],\n                              marker = dict(size = [0,5],\n                                            color = ['blue'],\n                                            line=dict(width=5,\n                                                      color='DarkSlateGrey')),\n                              name = 'Vector'+str(i+1))\n        data.append(vector)\n\n    layout = go.Layout(\n             margin = dict(l = 4,\n                           r = 4,\n                           b = 4,\n                           t = 4)\n                  )\n    fig = go.Figure(data=data,layout=layout)\n    fig.show()\n</code></pre>\n\n<p>Plotting can be done simply by,</p>\n\n<pre><code>p0 = [0.799319, -3.477045e-01, 0.490093]\np1 = [0.852512, 9.113778e-16, -0.522708]\np2 = [0.296422, 9.376042e-01, 0.181748]\n\nvector_plot([p0,p1,p2])\n</code></pre>\n\n<p>The output of the above looks:</p>\n\n<p><a href=\"https://i.stack.imgur.com/f5ror.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f5ror.png\" alt=\"\"></a></p>\n"}], "owner": {"reputation": 233, "user_id": 5705545, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3622dfbaaca1988a14697272a51b4a20?s=128&d=identicon&r=PG&f=1", "display_name": "RedShift", "link": "https://stackoverflow.com/users/5705545/redshift"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12054, "favorite_count": 2, "accepted_answer_id": 47321921, "answer_count": 2, "score": 6, "last_activity_date": 1573136908, "creation_date": 1510789587, "question_id": 47319238, "link": "https://stackoverflow.com/questions/47319238/python-plot-3d-vectors", "title": "Python Plot 3d Vectors", "body": "<p>Supppse that I wanted to take the following three [x,y,z] coordinates:</p>\n\n<p>[0.799319 -3.477045e-01  0.490093]</p>\n\n<p>[0.852512  9.113778e-16 -0.522708]</p>\n\n<p>[0.296422  9.376042e-01  0.181748]</p>\n\n<p>And plot them as vectors where the vector's start at the origin [0,0,0]. How can I go about doing this? I've been trying to use matplotlib's quiver, but I keep geting the following value error:</p>\n\n<pre><code>ValueError: need at least one array to concatenate\n</code></pre>\n\n<p>Here's my code (document_matrix_projections are the three coordinates above represented as a matrix):</p>\n\n<pre><code>D1, D2, D3 = zip(*document_matrix_projections)\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nax.quiver(D1)\nplt.show()\n</code></pre>\n"}, {"tags": ["php", "python", "video", "networking", "upload"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1510788764, "post_id": 47319090, "comment_id": 81589364, "body": "Any errors?  What does your <code>$_FILES</code> array contain?"}, {"owner": {"reputation": 19, "user_id": 4179488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MmQX.jpg?s=128&g=1", "display_name": "Jean", "link": "https://stackoverflow.com/users/4179488/jean"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1510789248, "post_id": 47319090, "comment_id": 81589523, "body": "it contains the video that I&#39;m uploading. I used the same code to upload another video with less size, it did work!! but still there&#39;s a problem. I can&#39;t play the video.  the extension is .h264"}, {"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1510789755, "post_id": 47319090, "comment_id": 81589673, "body": "Right. Post an array_dump of the $_FILES array so we can see.  It may give you an error code (probably relating to max_upload_size).  Not being able to play is another issue."}], "owner": {"reputation": 19, "user_id": 4179488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MmQX.jpg?s=128&g=1", "display_name": "Jean", "link": "https://stackoverflow.com/users/4179488/jean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510793439, "creation_date": 1510788604, "last_edit_date": 1510793439, "question_id": 47319090, "link": "https://stackoverflow.com/questions/47319090/uploading-video-file-from-pi-to-web-server", "title": "Uploading video file from Pi to Web Server", "body": "<p>I'm trying yo upload video from raspberry pi to a web server. I'm able to upload an image, but using the same way to upload a video is not giving any output.</p>\n\n<p>The code that I've used to upload an image is below:</p>\n\n<pre><code>import pi camera\nfrom time import sleep\n\ncamera = camera.PiCamera()\ncamera.capture('preview.jpeg')\n\nurl = \".../camupload.php\"\nfiles = {'file' : open('preview.jpeg','rb')}\n\nr = requests.post(url,files=files)\n</code></pre>\n\n<p>The server side <code>php</code> code I'm using is below:</p>\n\n<pre><code>&lt;?php\nprint_r($_FILES);\nmove_uploaded_file($_FILES[\"file\"][\"tmp_name\"],$_FILES[\"file\"][\"name\"]);\n?&gt;\n</code></pre>\n\n<p>Any thoughts? Thank you in advance</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1510788772, "post_id": 47319066, "comment_id": 81589366, "body": "First of all, you can&#39;t have leading <code>__</code> in a variable name and then access it as you are."}, {"owner": {"reputation": 308, "user_id": 1787841, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6b309c2191d4358ca6f16026380d291?s=128&d=identicon&r=PG", "display_name": "kosmos", "link": "https://stackoverflow.com/users/1787841/kosmos"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1510788798, "post_id": 47319066, "comment_id": 81589372, "body": "@COLDSPEED why did it not throw an error?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1510788808, "post_id": 47319066, "comment_id": 81589379, "body": "Second, you could&#39;ve just separated that argument with a comma: <code>print(&quot;Your pet is:&quot;, dog.isgood)</code> A quick read of a python tutorial/doc would&#39;ve solved this."}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 2, "creation_date": 1510788830, "post_id": 47319066, "comment_id": 81589383, "body": "Because you have <code>Animal.isgood</code> regardless."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1510788855, "post_id": 47319066, "comment_id": 81589393, "body": "Whhhhhhhy are you use double-leading-underscores? Do you <i>want</i> name-mangling? Because that&#39;s how you get name-mangling. It doesn&#39;t <i>look</i> like you want name-mangling. Also, why do you have two random class-level variables, that look like the should be instance variables?"}, {"owner": {"reputation": 308, "user_id": 1787841, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6b309c2191d4358ca6f16026380d291?s=128&d=identicon&r=PG", "display_name": "kosmos", "link": "https://stackoverflow.com/users/1787841/kosmos"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510788939, "post_id": 47319066, "comment_id": 81589422, "body": "@juanpa.arrivillaga I am new, do not know about name mangling -- will google. It was a typo......forgot to remove it..."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510789027, "post_id": 47319066, "comment_id": 81589456, "body": "So you just randomly decided to use two-leading-underscores? Well, that does something special in Python. I would just avoid it completely if you are new. Also, you are defining two class-level variables (i.e. &quot;static&quot;) variables in your class, probably <i>not</i> what you want, especially since you <i>shadow</i> <code>Animal.Name</code> in <code>nameset</code>"}, {"owner": {"reputation": 308, "user_id": 1787841, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6b309c2191d4358ca6f16026380d291?s=128&d=identicon&r=PG", "display_name": "kosmos", "link": "https://stackoverflow.com/users/1787841/kosmos"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510789475, "post_id": 47319066, "comment_id": 81589586, "body": "@juanpa.arrivillaga as for class level variable (which I learnt only now that it is static) it was a formatting error in stackoverflow."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510789686, "post_id": 47319066, "comment_id": 81589650, "body": "@kosmos huh? How so? Can you format your code to reflect what you are actually doing? Indentation has semantic content in Python. It is literally impossible to understand without the proper spacing."}, {"owner": {"reputation": 308, "user_id": 1787841, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6b309c2191d4358ca6f16026380d291?s=128&d=identicon&r=PG", "display_name": "kosmos", "link": "https://stackoverflow.com/users/1787841/kosmos"}, "edited": false, "score": 0, "creation_date": 1510789936, "post_id": 47319066, "comment_id": 81589729, "body": "I am confused.---"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510790047, "post_id": 47319066, "comment_id": 81589778, "body": "Well, now that you&#39;ve clarified your formatting, you are <i>definitely</i> creating class-level variables. So it <i>wasn&#39;t</i> a formatting error."}], "answers": [{"tags": [], "owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "is_accepted": false, "score": 1, "last_activity_date": 1510788625, "creation_date": 1510788625, "answer_id": 47319093, "question_id": 47319066, "link": "https://stackoverflow.com/questions/47319066/boolean-attribute-in-python-object/47319093#47319093", "title": "Boolean attribute in python object", "body": "<p>So then convert it to a string.</p>\n\n<pre><code>print(\"Your pet is: {}\".format(dog.isgood))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510789319, "post_id": 47319170, "comment_id": 81589541, "body": "This will print <code>&quot;Your pet is:None&quot;</code>, given the most reasonable interpretation of what the indentation looks like."}, {"owner": {"reputation": 142, "user_id": 5153628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfcbf1e8236dc94601a83285389f0ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Ian E", "link": "https://stackoverflow.com/users/5153628/ian-e"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510789504, "post_id": 47319170, "comment_id": 81589595, "body": "You are right, I will add a note about proper spacing."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510790122, "post_id": 47319170, "comment_id": 81589799, "body": "You probably shouldn&#39;t be using class-level (i.e. static) variables, then shadowing them with instance variables. Instead, you should just be using instance variables."}, {"owner": {"reputation": 142, "user_id": 5153628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfcbf1e8236dc94601a83285389f0ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Ian E", "link": "https://stackoverflow.com/users/5153628/ian-e"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510790618, "post_id": 47319170, "comment_id": 81589951, "body": "Yes, that shouldn&#39;t be done. I was attempting to focus on answering the question as opposed to picking apart each aspect of the sample code. While I suspect that class-level variables were not intended based on your exchange with kosmos, it is entirely possible that it was intentional."}, {"owner": {"reputation": 308, "user_id": 1787841, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6b309c2191d4358ca6f16026380d291?s=128&d=identicon&r=PG", "display_name": "kosmos", "link": "https://stackoverflow.com/users/1787841/kosmos"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510790888, "post_id": 47319170, "comment_id": 81590014, "body": "@juanpa.arrivillaga The original code gives the output &quot;Your pet is:False&quot; it would have given None if I write print(&quot;Your pet is:&quot;, Animal.isgood)."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 308, "user_id": 1787841, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6b309c2191d4358ca6f16026380d291?s=128&d=identicon&r=PG", "display_name": "kosmos", "link": "https://stackoverflow.com/users/1787841/kosmos"}, "edited": false, "score": 1, "creation_date": 1510791029, "post_id": 47319170, "comment_id": 81590054, "body": "@kosmos no, it doesn&#39;t, not if you use <code>self.__isgood = goodornot</code> as you do in the code you posted, which I assume is what you mean by &quot;original code&quot;. I&#39;m running it right now."}, {"owner": {"reputation": 308, "user_id": 1787841, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6b309c2191d4358ca6f16026380d291?s=128&d=identicon&r=PG", "display_name": "kosmos", "link": "https://stackoverflow.com/users/1787841/kosmos"}, "edited": false, "score": 0, "creation_date": 1510791131, "post_id": 47319170, "comment_id": 81590084, "body": "Ok. Now everything is clear to me. Python is a quite different from Java."}], "tags": [], "owner": {"reputation": 142, "user_id": 5153628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfcbf1e8236dc94601a83285389f0ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Ian E", "link": "https://stackoverflow.com/users/5153628/ian-e"}, "is_accepted": false, "score": 1, "last_activity_date": 1510790693, "last_edit_date": 1510790693, "creation_date": 1510789113, "answer_id": 47319170, "question_id": 47319066, "link": "https://stackoverflow.com/questions/47319066/boolean-attribute-in-python-object/47319170#47319170", "title": "Boolean attribute in python object", "body": "<pre><code>print(\"Your pet is:\"+dog.isgood)\n</code></pre>\n\n<p>is attempting to concatenate a boolean and a string, which cannot be done. In order to do so, you either need to convert dog.isgood into a string</p>\n\n<pre><code>print(\"Your pet is:\" + str(dog.isgood))\n</code></pre>\n\n<p>like TheoretiCAL suggested in the comments, or use format</p>\n\n<pre><code>print(\"Your pet is:{}\".format(dog.isgood))\n</code></pre>\n\n<p>like Ignacio Vazquez-Abrams answer, or</p>\n\n<pre><code>print(\"Your pet is:%s\" % dog.isgood)\n</code></pre>\n\n<p>or,</p>\n\n<pre><code>print(\"Your pet is:\", dog.isgood)\n</code></pre>\n\n<p>All of these examples will result in the following output:</p>\n\n<pre><code>Your pet is:False\n</code></pre>\n\n<p>Edit:\nThank you juanpa for pointing this out. The spacing on the class is incorrect and should be causing an issue (I guess I assumed initially that it was just a copy paste thing).</p>\n\n<pre><code>class Animal:\n    def __init__(self):\n        self.Name = \"\"\n        self.isgood = None\n\n    def setisgood(self,goodornot):\n        self.isgood = goodornot\n\n    def nameset(self,name):\n        self.Name = name\n\n\ndog = Animal()\ndog.setisgood(False)\ndog.nameset(\"jaang\")\nprint(\"Your pet is:\", dog.isgood)\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 1787841, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6b309c2191d4358ca6f16026380d291?s=128&d=identicon&r=PG", "display_name": "kosmos", "link": "https://stackoverflow.com/users/1787841/kosmos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2473, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1510790693, "creation_date": 1510788487, "last_edit_date": 1510789786, "question_id": 47319066, "link": "https://stackoverflow.com/questions/47319066/boolean-attribute-in-python-object", "title": "Boolean attribute in python object", "body": "<p>It requires isgood to be a string only. I want it to be boolean. \nAlso <code>self.__isgood = goodornot</code> should throw an error, why not?</p>\n\n<pre><code>class Animal:\n    Name = \"\"\n    isgood = None\n\n    def setisgood(self,goodornot):\n        self.__isgood = goodornot\n\n    def nameset(self,name):\n        self.Name = name\n\n\ndog = Animal()\ndog.setisgood(False)\ndog.nameset(\"jaang\")\nprint(\"Your pet is:\"+dog.isgood)\n</code></pre>\n"}, {"tags": ["python", "alpha", "gensim", "topic-modeling"], "answers": [{"comments": [{"owner": {"reputation": 5259, "user_id": 1434041, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/8dMvM.jpg?s=128&g=1", "display_name": "Zahra", "link": "https://stackoverflow.com/users/1434041/zahra"}, "edited": false, "score": 0, "creation_date": 1510959817, "post_id": 47319235, "comment_id": 81674038, "body": "I think explicitly setting it to an array, like you mentioned, is what I&#39;ll do."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 5259, "user_id": 1434041, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/8dMvM.jpg?s=128&g=1", "display_name": "Zahra", "link": "https://stackoverflow.com/users/1434041/zahra"}, "edited": false, "score": 1, "creation_date": 1510960199, "post_id": 47319235, "comment_id": 81674144, "body": "@r2d2oid cool. I would definitely suggest trying out <code>&#39;auto&#39;</code>, letting the algorithm learn the asymmetric priors has given me good results in the past!"}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 1, "last_activity_date": 1510789568, "creation_date": 1510789568, "answer_id": 47319235, "question_id": 47319033, "link": "https://stackoverflow.com/questions/47319033/how-to-adjust-alpha-parameter-in-gensim-ldamodel/47319235#47319235", "title": "How to adjust alpha parameter in gensim LdaModel", "body": "<p>Looking as the <a href=\"https://radimrehurek.com/gensim/models/ldamodel.html\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<p>It seems like <code>gensim.models.ldamodel.LdaModel</code> takes an <code>alpha</code> parameter that defaults to <code>'symmetric'</code>. You can either explicitly provide it an array of alphas, or set it to <code>'auto'</code> and it will learn the priors from your data.</p>\n\n<p>I suggest trying it with <code>alpha='auto'</code> to let it learn the priors.</p>\n"}], "owner": {"reputation": 5259, "user_id": 1434041, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/8dMvM.jpg?s=128&g=1", "display_name": "Zahra", "link": "https://stackoverflow.com/users/1434041/zahra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1619, "favorite_count": 0, "accepted_answer_id": 47319235, "answer_count": 1, "score": 0, "last_activity_date": 1510789568, "creation_date": 1510788304, "question_id": 47319033, "link": "https://stackoverflow.com/questions/47319033/how-to-adjust-alpha-parameter-in-gensim-ldamodel", "title": "How to adjust alpha parameter in gensim LdaModel", "body": "<p>I have trained an topic model using a symmetric alpha in my lda distibution:</p>\n\n<pre><code>model = gensim.models.ldamodel.LdaModel(bows, num_topics = 20, id2word = dictionary, passes = 100)\n</code></pre>\n\n<p>I can see that:</p>\n\n<pre><code>model.alpha\narray([ 0.05,  0.05,  0.05,  0.05,  0.05,  0.05,  0.05,  0.05,  0.05,\n    0.05,  0.05,  0.05,  0.05,  0.05,  0.05,  0.05,  0.05,  0.05,\n    0.05,  0.05])\n</code></pre>\n\n<p>where </p>\n\n<pre><code>numpy.sum(model.alpha)\n1.0000000000000002\n</code></pre>\n\n<p>I can't quite understand how gensim allows for lowering alpha parameter to allow each document to be a mixture of fewer topics?</p>\n"}, {"tags": ["python", "python-multiprocessing"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1510787656, "post_id": 47318908, "comment_id": 81588991, "body": "What is <code>def pool_process(f,data,pool_size)</code> and why is it in your code? What is <code>f</code> and where is <i>that</i>?"}, {"owner": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1510788016, "post_id": 47318908, "comment_id": 81589114, "body": "I am not entirely sure, as this is code I have been given and I have to make it work with the prime function. I have seen a similar example where result=p.map(sqrt,[1,2,3]) if that helps"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1510788335, "post_id": 47318908, "comment_id": 81589233, "body": "So where&#39;s <code>f</code>?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510788497, "post_id": 47318908, "comment_id": 81589287, "body": "What is the prime function? How are you <i>calling the code above?</i> We don&#39;t know what you don&#39;t show us, if you can&#39;t get something to work, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and also, a description of how it doesn&#39;t work."}, {"owner": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "edited": false, "score": 0, "creation_date": 1510788613, "post_id": 47318908, "comment_id": 81589318, "body": "I have the following comment in my notes: #  f is a function that takes a single argument My best guess is that f(x) is the prime function( checks if the number is a prime) and that by calling f in the pool_process function I am invoking f(x)."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510788641, "post_id": 47318908, "comment_id": 81589327, "body": "So, from what I can gather, you are trying to use your <code>pool_process</code> function with some &quot;prime function&quot; as <code>f</code>, but how can we know how the prime function isn&#39;t working if you haven&#39;t provided it?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510790376, "post_id": 47318908, "comment_id": 81589884, "body": "Cool. So, what exactly is the problem you are encountering? Are you getting an error somewhere?"}, {"owner": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510835087, "post_id": 47318908, "comment_id": 81609803, "body": "@juanpa.arrivillaga I&#39;m getting the following error: <code>&#39;int&#39; object is not iterable </code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510854286, "post_id": 47318908, "comment_id": 81623620, "body": "Because you need to pass <code>pool.map</code> an <i>iterable</i>, like a <code>list</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "edited": false, "score": 0, "creation_date": 1510850294, "post_id": 47334574, "comment_id": 81621040, "body": "I did try it with the data variable in the form of a list <code>data = [15488801]</code> but it just gets stuck in an infinite loop."}, {"owner": {"reputation": 225, "user_id": 8952900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/873aad07630eacd1c190043fab558e4d?s=128&d=identicon&r=PG", "display_name": "creativecoding", "link": "https://stackoverflow.com/users/8952900/creativecoding"}, "reply_to_user": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "edited": false, "score": 0, "creation_date": 1510851241, "post_id": 47334574, "comment_id": 81621694, "body": "Have you tried with a lower value for testing, e.g. <code>data = [11]</code>?"}, {"owner": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "edited": false, "score": 0, "creation_date": 1510851621, "post_id": 47334574, "comment_id": 81621952, "body": "Yes, just tried it. Infinite loop. Also tried it with <code>data = [1, 2, 3, 4]</code> just to be thorough. What did you mean by &quot;correcting the <code>import</code> statements&quot;?"}, {"owner": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "edited": false, "score": 0, "creation_date": 1510851759, "post_id": 47334574, "comment_id": 81622056, "body": "It runs if <code>data = ()</code>"}, {"owner": {"reputation": 225, "user_id": 8952900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/873aad07630eacd1c190043fab558e4d?s=128&d=identicon&r=PG", "display_name": "creativecoding", "link": "https://stackoverflow.com/users/8952900/creativecoding"}, "reply_to_user": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "edited": false, "score": 0, "creation_date": 1510853380, "post_id": 47334574, "comment_id": 81623138, "body": "The <code>import</code> statements in first snippet lack two new lines, but I guess these just got lost during copy-pasting. When I run locally, I get this as output: <code>15488801 is a prime number &#47; Time: 1.539153814315796 &#47; Results [True] &#47; Overall Time: 1.6721937656402588</code> I copied all your code to a file and run locally with python3. Have you tried executing only that specific method, e.g. with <code>print(check_prime(15488801))</code>?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "edited": false, "score": 0, "creation_date": 1510854252, "post_id": 47334574, "comment_id": 81623596, "body": "@Mariyana Are you on Windows?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510854315, "post_id": 47334574, "comment_id": 81623635, "body": "@creativecoding let me guess, are you <i>not</i> on Windows?"}, {"owner": {"reputation": 225, "user_id": 8952900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/873aad07630eacd1c190043fab558e4d?s=128&d=identicon&r=PG", "display_name": "creativecoding", "link": "https://stackoverflow.com/users/8952900/creativecoding"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510855483, "post_id": 47334574, "comment_id": 81624345, "body": "@juanpa.arrivillaga I&#39;m using Ubuntu 17.04. Are you hinting that <a href=\"https://docs.python.org/3/library/multiprocessing.html#contexts-and-start-methods\" rel=\"nofollow noreferrer\">platform-dependent starting methods</a> might be an issue? <i>Starting a process using this [&quot;spawn&quot;] method is rather slow compared to using &quot;fork&quot; or &quot;forkserver&quot;.</i>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510855889, "post_id": 47334574, "comment_id": 81624586, "body": "@creativecoding no, I&#39;m thinking the lack of <code>if __name__ == &#39;__main__&#39;</code> guard: <a href=\"https://stackoverflow.com/questions/11367835/importing-and-using-a-module-that-uses-multiprocessing-without-causing-infinite/\" title=\"importing and using a module that uses multiprocessing without causing infinite\">stackoverflow.com/questions/11367835/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510860702, "post_id": 47334574, "comment_id": 81627391, "body": "@juanpa.arrivillaga I have Windows 10. I also tried using it on Ubuntu with my VirtualBox and I get the same error. I have ran it on both jupyter notebook and through IDLE. Throws the same error every time. If the number is in list form it creates an infinite loop. If the number is not in a list form it says <code>&#39;int&#39; object is not iterable</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "edited": false, "score": 1, "creation_date": 1510860767, "post_id": 47334574, "comment_id": 81627420, "body": "@Mariyana yes, as I explained, it will always throw that error because <code>map</code> expects an <i>iterable</i>, like a list. That infinite loop is probably because you haven&#39;t used an <code>if __name__ ==  &#39;__main__&#39;:</code> guard, which is <i>required</i> on Windows."}, {"owner": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510861143, "post_id": 47334574, "comment_id": 81627634, "body": "@juanpa.arrivillaga sorry I was just reiterating the outputs I\u2019ve been getting. I will include the guard you mentioned but I\u2019m not sure where it\u2019s meant to go in the code? Thanks for your help"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "edited": false, "score": 0, "creation_date": 1510861223, "post_id": 47334574, "comment_id": 81627672, "body": "@Mariyana the part that calls <code>pool_process(check_prime, data, 1)</code> needs to be guarded. Realize, <code>multiprocessing</code> is essentially opening up a bunch of Python interpreters, and running your code. In Windows, due to the way the operating system branchese processes, it has to <i>copy everything</i>, which unfortunately, means that your code enters an infinite loop. Just follow the examples in the <code>multiprocessing</code> docs."}, {"owner": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1510870497, "post_id": 47334574, "comment_id": 81632346, "body": "@juanpa.arrivillaga placing <code>if __name__==&quot;__main__&quot;:</code> immediately after defining the pool_processes function worked! Thank you for your help! @creativecoding thank you for your help!"}, {"owner": {"reputation": 225, "user_id": 8952900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/873aad07630eacd1c190043fab558e4d?s=128&d=identicon&r=PG", "display_name": "creativecoding", "link": "https://stackoverflow.com/users/8952900/creativecoding"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510916654, "post_id": 47334574, "comment_id": 81650172, "body": "Glad, things worked out! :-) @juanpa.arrivillaga You might want to create a separate answer based such that it can be marked as the solution."}], "tags": [], "owner": {"reputation": 225, "user_id": 8952900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/873aad07630eacd1c190043fab558e4d?s=128&d=identicon&r=PG", "display_name": "creativecoding", "link": "https://stackoverflow.com/users/8952900/creativecoding"}, "is_accepted": false, "score": 0, "last_activity_date": 1510849441, "creation_date": 1510849441, "answer_id": 47334574, "question_id": 47318908, "link": "https://stackoverflow.com/questions/47318908/combining-pythons-multiprocessing-module-with-a-prime-number-function/47334574#47334574", "title": "Combining python&#39;s multiprocessing module with a prime number function", "body": "<p><code>data</code> in the third code snippet needs to be a list.</p>\n\n<p>The variable <code>data</code> is fed into <code>pool_process</code> as second argument.</p>\n\n<pre><code>data = [15488801]\npool_process(check_prime, data, 1)\n</code></pre>\n\n<p>In there it is given to <a href=\"https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.map\" rel=\"nofollow noreferrer\"><code>Pool.map</code></a> as argument to iterate over.</p>\n\n<pre><code>def pool_process(f,data,pool_size):\n    # ...\n    result = pool.map(f, data)\n</code></pre>\n\n<p>After I put that integer into a list (and correcting the <code>import</code> statements) the code runs fine on my machine.</p>\n"}], "owner": {"reputation": 21, "user_id": 8948222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlM5N.jpg?s=128&g=1", "display_name": "Mariyana", "link": "https://stackoverflow.com/users/8948222/mariyana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 666, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1510849441, "creation_date": 1510787543, "last_edit_date": 1510832728, "question_id": 47318908, "link": "https://stackoverflow.com/questions/47318908/combining-pythons-multiprocessing-module-with-a-prime-number-function", "title": "Combining python&#39;s multiprocessing module with a prime number function", "body": "<p>I am using the python multiprocessing/pool module to compare program running times of a function that checks if a number is a prime. I can get the prime function to work by itself, but can't seem to merge the two so they work together. The pool function below:</p>\n\n<pre><code>import math import time\nimport multiprocessing from multiprocessing import Pool\n\ndef pool_process(f,data,pool_size):\n\n    tp1 = time.time()\n    pool = Pool(processes = pool_size)\n    result = pool.map(f, data)\n    pool.close()\n    pool.join()\n    #enter code here\n    print(\"Results\", result)\n    print(\"Overall Time:\", (time.time()-tp1))\n</code></pre>\n\n<p>The function I am using to check if a number is a prime is the following:</p>\n\n<pre><code>def check_prime(num):\n\n    t1 = time.time()\n    res = False\n\n    if num &gt; 0:\n\n        for i in range(2,num):\n            if (num % i) == 0:\n                print(num,\"is not a prime number\")\n                print(i,\"times\",num//i,\"is\",num)\n                print(\"Time:\", (time.time()-t1))\n                break\n        else:\n            print(num,\"is a prime number\")\n            print(\"Time:\", time.time()-t1) \n            res = True\n\n    return res\n</code></pre>\n\n<p>Then I am calling the pool_process function</p>\n\n<pre><code>data = 15488801\npool_process(check_prime, data, 1)\n</code></pre>\n\n<p>And I am getting the following error:</p>\n\n<pre><code>'int' object is not iterable\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 3, "user_id": 8618391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/920123d86b377fec2e3a01de697339a4?s=128&d=identicon&r=PG&f=1", "display_name": "George Hendry", "link": "https://stackoverflow.com/users/8618391/george-hendry"}, "edited": false, "score": 0, "creation_date": 1510787555, "post_id": 47318905, "comment_id": 81588949, "body": "[Notepad which contains the Dictionaries ][1] [Error I have been getting][2] [Username and Password][3]     [1]: <a href=\"https://gyazo.com/8ea5faab3027411927762305535cb0c3\" rel=\"nofollow noreferrer\">gyazo.com/8ea5faab3027411927762305535cb0c3</a>   [2]: <a href=\"https://gyazo.com/2d6a5d659020ee5aa259b61f5cbf3c08\" rel=\"nofollow noreferrer\">gyazo.com/2d6a5d659020ee5aa259b61f5cbf3c08</a>   [3]: <a href=\"https://gyazo.com/1f7f87a17ce5749fa92e717fc6327035\" rel=\"nofollow noreferrer\">gyazo.com/1f7f87a17ce5749fa92e717fc6327035</a>"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1510836662, "post_id": 47318905, "comment_id": 81610905, "body": "Please include the shortest possible example data in your question. Nobody wants to click on links to download data just to test your code. Also, please reduce your code to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. There is a whole lot of code which is completely unrelated to the question you&#39;re asking."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1510839476, "post_id": 47318905, "comment_id": 81612873, "body": "you have button <code>{}</code> to correctly format selected code. Put error message as text in question, not screenshot. Put <code>Questions.txt</code> as text in question, not screenshot. Now nobody can copy it to test it."}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1510840744, "creation_date": 1510840744, "answer_id": 47331582, "question_id": 47318905, "link": "https://stackoverflow.com/questions/47318905/tkinter-python-trying-to-load-a-string-from-a-dictionary-which-is-loaded-from/47331582#47331582", "title": "Tkinter Python , Trying to load a string from a dictionary which is loaded from file", "body": "<p>You use <code>DictFromFile()</code> in wrong way in </p>\n\n<pre><code>tk.Label(self, text=DictFromFile(TempDict[QuizSelection(Topic, DifficultyInput)][\"Question1\"])\n</code></pre>\n\n<p>You can't run <code>DictFromFile()</code> with arguments.<br>\nIt returns dictionary which you have to assing to variable and then you can get question.</p>\n\n<p>It should be something like</p>\n\n<pre><code>temp_dict = DictFromFile()\n\nquestion = temp_dict[QuizSelection(Topic, DifficultyInput)][\"Question1\"]\n\ntk.Label(self, text=question)\n</code></pre>\n\n<p>Now you have dictionary <code>TempDict</code> in variable <code>temp_dict</code>.</p>\n\n<p>But I see other problem - you use other variables which doesn't exists in this place - <code>QuizSelection</code>, <code>Topic</code>, <code>DifficultyInput</code>.<br>\nThey exists as local variables in other functions and you can't use it like global variables. </p>\n\n<p>You can get <code>QuizSelection</code> from function <code>QuizType()</code> </p>\n\n<pre><code>quiz_selection = QuizType(Topic, DifficultyInput)\nquestion = temp_dict[quiz_selection][\"Question1\"]\n</code></pre>\n\n<p>but still you don't have access to variables <code>Topic</code>, <code>DifficultyInput</code>.</p>\n\n<hr>\n\n<p>It looks like you don't know how to use functions. </p>\n\n<p>You have to learn how to use <code>self.</code> in classes, too. </p>\n"}], "owner": {"reputation": 3, "user_id": 8618391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/920123d86b377fec2e3a01de697339a4?s=128&d=identicon&r=PG&f=1", "display_name": "George Hendry", "link": "https://stackoverflow.com/users/8618391/george-hendry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1510840744, "creation_date": 1510787539, "last_edit_date": 1510836688, "question_id": 47318905, "link": "https://stackoverflow.com/questions/47318905/tkinter-python-trying-to-load-a-string-from-a-dictionary-which-is-loaded-from", "title": "Tkinter Python , Trying to load a string from a dictionary which is loaded from file", "body": "<p>I have been coding this as a personal practice/test of Tkinter with python and I'm trying to load a file which contains a dictionary inside a dictionary and read that which shouldn't be the problem, however the problem is, that TempDict is not classed as defined. </p>\n\n<p>I am also very sorry if some of the code is not indented properly it didn't copy and paste over very well so I had to make some corrections.</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import *\nfrom tkinter import ttk\nimport tkinter.messagebox as tm\nimport os\nimport pickle\n\n\nclass Quiz (tk.Tk):\n    def __init__ (self, *args , **kwargs):\n\n\n        tk.Tk.__init__(self, *args , **kwargs)\n        tk.Tk.wm_title(self, \"Quiz\")\n\n        container = tk.Frame (self)\n        container.pack (side = \"top\" , fill = \"both\" , expand = True)\n        container.grid_rowconfigure (0,weight = 1)\n        container.grid_columnconfigure (0,weight = 1)\n\n        self.frames = {}\n        for F in (StartPage, Menu, Difficulty, QuestionsStart):\n\n            frame = F(container, self)\n            self.frames[F] = frame\n            frame.grid (row = 0, column = 0 , sticky = \"nsew\")\n\n        self.show_frame(StartPage)\n\n    def show_frame(self,cont):\n\n        frame = self.frames[cont]\n        frame.tkraise()\n\nclass StartPage(tk.Frame):\n\n    def __init__(self, parent, controller):\n\n\n        tk.Frame.__init__(self,parent)\n        label = tk.Label(self, text = \"Login\")\n        label.pack(pady = 10 , padx = 10)\n\n        global Username\n        User = tk.Label (self, text = \"Username\")\n        User.pack()\n\n        Username = tk.Entry(self)\n        Username.pack()\n        Pass = tk.Label (self, text = \"Password\")\n        Pass.pack()\n\n        Password = tk.Entry (self, show = \"*\")\n        Password.pack()\n\n        button1 = ttk.Button(self, text = \"Login\",\n                        command = lambda: Login(Username,Password,parent,controller,self) )\n        button1.pack()\n\n        button2 = ttk.Button(self, text = \"Sign Up\",\n                        command = lambda: Signup())\n        button2.pack()\n\n\n\nclass Menu(tk.Frame):\n\n    def __init__ (self, parent, controller):\n\n        tk.Frame.__init__(self, parent)\n        label = tk.Label(self, text = \"Menu\")\n        label.pack()\n\n        Label = tk.Label(self, text = \"Please enter Maths or Chemsitry\")\n        Label.pack()\n\n        Topic = tk.Entry(self)\n        Topic.pack()\n\n        Proceed = ttk.Button(self, text = \"Proceed\", command = lambda: controller.show_frame(Difficulty))\n        Proceed.pack()\n\n        Result = ttk.Button(self, text = \"Results\",\n                       command = lambda: Results(controller))\n        Result.pack()\n\n        Logout = ttk.Button(self, text = \"Log Out\",\n                        command = lambda: controller.show_frame(StartPage))\n        Logout.pack()\n\n\n\nclass Difficulty(tk.Frame):\n\n    def __init__ (self, parent, controller):\n\n        tk.Frame.__init__(self,parent)\n        label = tk.Label(self, text = \"Difficulty\")\n        label.pack()\n\n        Label = tk.Label(self, text = \"Please enter Easy, Medium or Hard\")\n        Label.pack()\n\n        DifficultyInput = tk.Entry(self)\n        DifficultyInput.pack()\n\n        StartQuiz = tk.Button(self , text = \"Start Quiz\", command = lambda: controller.show_frame(QuestionsStart))\n        StartQuiz.pack()\n\n\n\n        backtomenu = ttk.Button(self, text = \"Back to Menu\",\n                           command = lambda: controller.show_frame(Menu))\n        backtomenu.pack()\n\n\ndef DictFromFile ():\n    TempDict = {}\n    try:\n        with open(\"Questions.txt\" , \"r\") as file:\n            TempDict = eval(file.read())\n            file.close()\n    except IOError as error:\n        print (error)\n    print(TempDict)\n    return TempDict\n\nDictFromFile()\n\ndef QuizType(Topic, DifficultyInput):\n\n    QuizSelection = str(Topic.get().lower() + DifficultyInput.get().lower())\n    return QuizSelection\n\nclass QuestionsStart (tk.Frame):\n    def __init__(self , parent, controller):\n\n        tk.Frame.__init__(self,parent)\n        Label = tk.Label(self, text = DictFromFile(TempDict[QuizSelection(Topic, DifficultyInput)][\"Question1\"]))\n        Label.pack()\n\n\n\n\ndef Login(Username,Password,parent,controller,self):\n\n    Usernames = []\n    Login = True\n    Username = Username.get()\n    Password = Password.get()\n\n    try:\n\n        with open (\"Usernames&amp;Passwords.txt\" , \"rb\" ) as file:\n            for each in pickle.load(file):\n                Usernames.append(each.strip(\"\\n\"))\n            file.close()\n\n    except IOError as error:\n        print (error)\n\n    for each in range(len(Usernames)):\n        if Usernames[each] == Username :\n            if Usernames[each + 1] == Password:\n                Login = True\n                controller.show_frame(Menu)\n                break\n            else:\n                Login = False\n        else:\n           Login = False\n    if Login == False:\n        tm.showinfo(\"Your Username or Password is incorrect\" , \"Your Usename or Password is incorrect\")\n\ndef Results (controller):\n\n    UsersResults = []\n    Counter = 0\n    Topic = []\n    Difficulty = []\n    Mark = []\n    Percentage = []\n    Grade = []\n\n    try:                      \n        with open(Username.get() + \".txt\" , \"r\" , encoding = \"UTF-8\") as file:\n            for each in file:\n                UsersResults.append(each.strip(\"\\n\"))\n\n    except IOError as error:\n        print(error)\n    print (UsersResults)\n    print (Counter)\n    for each in range (len(UsersResults)):\n        Topic = UsersResults[Counter]\n        Difficulty = UsersResults[Counter + 1]\n        Mark = UsersResults[Counter + 2]\n        Percentage = UsersResults[Counter + 3]\n        Grade = UsersResults[Counter + 4]\n        Counter += 5\n\n\n\n    return UsersResults\n\n\n\n\n\n\napp = Quiz()\napp.geometry (\"500x300\")\napp.mainloop()\n</code></pre>\n"}, {"tags": ["python", "mysql", "string.format"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1510787864, "post_id": 47318901, "comment_id": 81589057, "body": "The code you show is syntactically incorrect. What is your actual code?"}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1510787919, "post_id": 47318901, "comment_id": 81589074, "body": "Well you can&#39;t use format on an int, so there&#39;s that."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510788704, "post_id": 47318901, "comment_id": 81589348, "body": "Check my answer, hope it helped. If so please mark as correct. Best of luck!"}], "answers": [{"comments": [{"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1510788818, "post_id": 47319082, "comment_id": 81589381, "body": "I know...He should use prepared statements"}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 1, "creation_date": 1510788849, "post_id": 47319082, "comment_id": 81589391, "body": "Then why not show an example of that instead? Don&#39;t confused what the asker has said and what they want. It&#39;s more likely they want the equivalent in sql - which is prepared statements."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1510788903, "post_id": 47319082, "comment_id": 81589408, "body": "Because as written: Title of question"}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1510788914, "post_id": 47319082, "comment_id": 81589415, "body": "Besides, sql injection will never ever happen with his example."}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 2, "creation_date": 1510788955, "post_id": 47319082, "comment_id": 81589429, "body": "It will happen when someone comes alone to the site and copy pastes this example for user input. There&#39;s no good reason to teach bad habits like this one, except to show why it&#39;s a bad habit."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1510789030, "post_id": 47319082, "comment_id": 81589458, "body": "Still, wanting to answer users question and did so. Thank you for your input though!"}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 1, "creation_date": 1510789182, "post_id": 47319082, "comment_id": 81589507, "body": "And good on you. +1 for the bold text, though I think you could also swap them around (ie, this is the way to do it correctly, and this is the dangerous way if you really want to know) as it&#39;ll help readers chose the correct one."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 2, "creation_date": 1510789241, "post_id": 47319082, "comment_id": 81589522, "body": "You are right, really grateful for input, didnt consider fact other users might copy answer. High five bro/sis!"}, {"owner": {"reputation": 99308, "user_id": 107744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d6a34fb9a78937e1500b7ae0b5aee37?s=128&d=identicon&r=PG&f=1", "display_name": "spencer7593", "link": "https://stackoverflow.com/users/107744/spencer7593"}, "edited": false, "score": 1, "creation_date": 1510789456, "post_id": 47319082, "comment_id": 81589578, "body": "Very nice. +10. In this particular case, the code wasn&#39;t subject to SQL Injection... but it did follow the same pattern we see in code that <i>is</i> vulnerable to SQL Injection. It&#39;s much better to do it the right way, with prepared statement and bind placeholder. It&#39;s much easier for the reader to see (right there where the SQL text is constructed) that it&#39;s not a pattern vulnerable to SQL Injection. And it&#39;s not hard to do. Exploits of a Mom <b><a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">xkcd.com/327</a></b> and OWASP SQL Injection <b><a href=\"https://www.owasp.org/index.php/SQL_Injection\" rel=\"nofollow noreferrer\">owasp.org/index.php/SQL_Injection</a></b>"}, {"owner": {"reputation": 65, "user_id": 8684946, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1682270268458377/picture?type=large", "display_name": "Michael Blair", "link": "https://stackoverflow.com/users/8684946/michael-blair"}, "edited": false, "score": 0, "creation_date": 1510790061, "post_id": 47319082, "comment_id": 81589782, "body": "thank you so much for the help! and also thanks for info on SQL Injection (i&#39;m a beginner so very useful to know what not to do!)"}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1510791141, "post_id": 47319082, "comment_id": 81590086, "body": "Any time @alexisdevarennes."}, {"owner": {"reputation": 112, "user_id": 7246334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ecfb9ae77ce6ef7acbbd67a54389291?s=128&d=identicon&r=PG&f=1", "display_name": "jde-chil", "link": "https://stackoverflow.com/users/7246334/jde-chil"}, "edited": false, "score": 0, "creation_date": 1555428090, "post_id": 47319082, "comment_id": 98103857, "body": "in the case where the parameter comes from the user input is it sufficient to escape single quote characters by doubling them. i.e <code>today = &quot;2019-01-01 16:00:00&#39; and &#39;2019-01-01 16:00:00&#39; or run_start_date notnull--&quot;</code> vs <code>today = &quot;2019-01-01 16:00:00&#39; and &#39;2019-01-01 16:00:00&#39; or run_start_date notnull--&quot;.replace(&#39;\\&#39;&#39;, &#39;\\&#39;\\&#39;&#39;)</code>"}], "tags": [], "owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "is_accepted": true, "score": 6, "last_activity_date": 1510789474, "last_edit_date": 1510789474, "creation_date": 1510788567, "answer_id": 47319082, "question_id": 47318901, "link": "https://stackoverflow.com/questions/47318901/how-to-use-format-string-in-a-mysql-statement/47319082#47319082", "title": "How to use .format() string in a MySQL statement?", "body": "<h2>Using prepared statements (safe way):</h2>\n\n<pre><code>qry = \"\"\"\n    SELECT *\n    FROM db\n    WHERE run_start_date BETWEEN '%s 16:00:00' AND '%s 16:00:00'\n\"\"\" # \n\ntoday = DT.date.today()\nweek_ago = today - DT.timedelta(days=7)\ntoday = str(today.strftime('%Y-%m-%d'))  # Convert to string\nweek_ago = str(week_ago.strftime('%Y-%m-%d'))  # Convert to string\n\ncursor.execute(qry, [today, week_ago])\n</code></pre>\n\n<h2>Using .format() which leaves you at risk for sql injections (if you pass user input to .format() e.g.)</h2>\n\n<pre><code>qry = \"\"\"\n    SELECT *\n    FROM db\n    WHERE run_start_date BETWEEN '{today} 16:00:00' AND '{week_ago} 16:00:00'\n\"\"\" # Use named placeholders, nicer to read, prevents you having to repeat variables multiple time when calling .format()\n\ntoday = DT.date.today()\nweek_ago = today - DT.timedelta(days=7)\ntoday = str(today.strftime('%Y-%m-%d'))  # Convert to string\nweek_ago = str(week_ago.strftime('%Y-%m-%d'))  # Convert to string\n\nqry = qry.format(today=today, week_ago=week_ago)\ncursor.execute(qry)\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 8684946, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1682270268458377/picture?type=large", "display_name": "Michael Blair", "link": "https://stackoverflow.com/users/8684946/michael-blair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7038, "favorite_count": 2, "accepted_answer_id": 47319082, "answer_count": 1, "score": 2, "last_activity_date": 1599269876, "creation_date": 1510787512, "last_edit_date": 1599269876, "question_id": 47318901, "link": "https://stackoverflow.com/questions/47318901/how-to-use-format-string-in-a-mysql-statement", "title": "How to use .format() string in a MySQL statement?", "body": "<p>I'm trying to format a MySQL statement with today's data, as well as 7 days back. I'm pretty sure the date is in the correct format, so I don't think that's the issue.</p>\n<p>The error report is:</p>\n<pre><code> Warning: (1292, &quot;Incorrect datetime value: '{} 16:00:00' for column 'run_start_date' at row 1&quot;)\n      result = self._query(query)\n    Traceback (most recent call last):\n         AttributeError: 'int' object has no attribute 'format'\n</code></pre>\n<p>e.g.</p>\n<pre><code>today = DT.date.today()\nweek_ago = today - DT.timedelta(days=7)\nprint(today.strftime('%Y-%m-%d'))\nprint(week_ago.strftime('%Y-%m-%d'))\n\ncursor.execute(SELECT * FROM db WHERE run_start_date BETWEEN '{} 16:00:00' AND '{} 16:00:00'format(week_ago, today)\n</code></pre>\n"}, {"tags": ["python", "design-patterns", "singleton", "python-3.6", "observer-pattern"], "owner": {"reputation": 2341, "user_id": 4332644, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b58ce98e1b4a8b5738ed68a053499b0a?s=128&d=identicon&r=PG", "display_name": "LNI", "link": "https://stackoverflow.com/users/4332644/lni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510787413, "creation_date": 1510787413, "question_id": 47318881, "link": "https://stackoverflow.com/questions/47318881/observer-singleton-in-python-3", "title": "Observer Singleton in Python 3", "body": "<p>I am creating an Observer in a Python 3 app to be shared across modules, so I'm trying to combine both Observer and Singleton patterns. Using the Borg approach specified in \"Software Architecture with Python\" and elsewhere, I came up with the following:</p>\n\n<pre><code>class Borg(object):\n__shared_state = {}\ndef __init__(self):\n    self.__dict__ = self.__shared_state\n\nclass Publisher(Borg):\n    def __init__(self):\n        Borg.__init__(self)\n        self.subscribers = {}\n</code></pre>\n\n<p>Now I can use a \"subscribe\" function on Publisher to add subscribers. Any new subscribers are added to self.subscribers and the code works fine. </p>\n\n<p>The problem is the line <code>self.subscribers = {}</code>. I have created a race condition, so if a module using this observer starts a bit later, that line erases all current subscribers. If I was using discrete values, like <code>p.x = 5</code> (where <code>p = Publisher()</code>) then this wouldn't have been an issue.</p>\n\n<p>Any suggestions on how I can preserve the subscribers list across multiple Publisher instantiations? I did put subscribers in Borg itself and that seems to work, but I'm wondering if a more Pythonic way exists. I can get rid of __dict__ altogether if all I am doing is keeping the shared state in Borg.</p>\n"}, {"tags": ["python", "xml", "svg", "xsd", "xsd-validation"], "answers": [{"comments": [{"owner": {"reputation": 23570, "user_id": 1477421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ad4c0d74e420261aa2926787ab1c468?s=128&d=identicon&r=PG", "display_name": "C. M. Sperberg-McQueen", "link": "https://stackoverflow.com/users/1477421/c-m-sperberg-mcqueen"}, "edited": false, "score": 0, "creation_date": 1510792950, "post_id": 47319598, "comment_id": 81590566, "body": "Actually, the OP does import the SVG schema.  It&#39;s kind of buried in the XSD extract, but it&#39;s there.  I&#39;ve edited to make it stand out a little better."}], "tags": [], "owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "is_accepted": false, "score": 1, "last_activity_date": 1510792086, "creation_date": 1510792086, "answer_id": 47319598, "question_id": 47318785, "link": "https://stackoverflow.com/questions/47318785/how-to-extend-xsd-scheme-for-supporting-svg/47319598#47319598", "title": "How to extend XSD scheme for supporting SVG?", "body": "<p>The message seems clear enough to me, I'm not sure which part of it you don't understand. Your schema document imports schema components for various namespaces (mathml, xlink, xml, etc) but it makes no attempt to import the schema for SVG, and the error message is telling you so.</p>\n"}, {"tags": [], "owner": {"reputation": 23570, "user_id": 1477421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ad4c0d74e420261aa2926787ab1c468?s=128&d=identicon&r=PG", "display_name": "C. M. Sperberg-McQueen", "link": "https://stackoverflow.com/users/1477421/c-m-sperberg-mcqueen"}, "is_accepted": false, "score": 1, "last_activity_date": 1510794075, "last_edit_date": 1510794075, "creation_date": 1510792370, "answer_id": 47319641, "question_id": 47318785, "link": "https://stackoverflow.com/questions/47318785/how-to-extend-xsd-scheme-for-supporting-svg/47319641#47319641", "title": "How to extend XSD scheme for supporting SVG?", "body": "<p>I replicated your three modifications (declaring a namespace binding for the SVG namespace, importing the SVG namespace, and referring to the svg:svg element), but got no error from Xerces or Saxon EE.</p>\n\n<p>So it seems to me that you've done everything right.</p>\n\n<p>The error message suggests that your XSD validator is not picking up the import.</p>\n\n<p>If I had to guess (and I suppose I have to, since while you've given a very concise statement of the problem, we don't have a reproducible error), your validator is looking at an interim version of the schema document in which the reference to svg:svg has been added to the content model of p, but the xs:import statement has not yet been added to the beginning of the schema document.</p>\n\n<p>Possibly your Python bytecode is out of date and your Python needs to be recompiled?  (Pure conjecture; I don't know how much schema information lxml generates at compile time and how much it generates at run time.)</p>\n"}, {"tags": [], "owner": {"reputation": 8285, "user_id": 1920758, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hjSJA.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/1920758/nick"}, "is_accepted": false, "score": 0, "last_activity_date": 1510808845, "creation_date": 1510808845, "answer_id": 47322032, "question_id": 47318785, "link": "https://stackoverflow.com/questions/47318785/how-to-extend-xsd-scheme-for-supporting-svg/47322032#47322032", "title": "How to extend XSD scheme for supporting SVG?", "body": "<p>Problem solved using next XSD schema for SVG: <a href=\"https://github.com/dumistoklus/svg-xsd-schema\" rel=\"nofollow noreferrer\">https://github.com/dumistoklus/svg-xsd-schema</a></p>\n"}], "owner": {"reputation": 8285, "user_id": 1920758, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hjSJA.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/1920758/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1510808845, "creation_date": 1510786904, "last_edit_date": 1510793099, "question_id": 47318785, "link": "https://stackoverflow.com/questions/47318785/how-to-extend-xsd-scheme-for-supporting-svg", "title": "How to extend XSD scheme for supporting SVG?", "body": "<p>I try to extend <a href=\"https://www.iso.org/schema/isosts/\" rel=\"nofollow noreferrer\">ISOSTS</a> XSD scheme for supporting SVG images tags.\nI found <a href=\"https://www.w3.org/TR/2002/WD-SVG11-20020108/SVG.xsd\" rel=\"nofollow noreferrer\">XSD scheme for SVG</a> and has put it near <code>ISOSTS.xsd</code>.\nNow I try to extend <code>ISOSTS.xsd</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;xs:schema\n        xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n        xmlns:mml=\"http://www.w3.org/1998/Math/MathML\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:tbx=\"urn:iso:std:iso:30042:ed-1\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\n&lt;!-- my line --&gt;   \n        xmlns:svg=\"http://www.w3.org/2000/svg\"\n\n        elementFormDefault=\"qualified\"&gt;\n      &lt;xs:import namespace=\"http://www.w3.org/1998/Math/MathML\" \n                 schemaLocation=\"ncbi-mathml2/mathml2.xsd\"/&gt;\n      &lt;xs:import namespace=\"http://www.w3.org/1999/xlink\" \n                 schemaLocation=\"xlink.xsd\"/&gt;\n      &lt;!-- XSD import of namespace http://www.w3.org/2001/XMLSchema-instance suppressed (not necessary) --&gt;\n      &lt;xs:import namespace=\"http://www.w3.org/XML/1998/namespace\" \n                 schemaLocation=\"xml.xsd\"/&gt;\n      &lt;xs:import namespace=\"urn:iso:std:iso:30042:ed-1\" \n                 schemaLocation=\"tbx.xsd\"/&gt;\n\n&lt;!-- my line --&gt;   \n      &lt;xs:import namespace=\"http://www.w3.org/2000/svg\" \n                 schemaLocation=\"SVG.xsd\"/&gt;\n\n....\n&lt;xs:element name=\"p\"&gt;\n  &lt;xs:complexType mixed=\"true\"&gt;\n    &lt;xs:choice minOccurs=\"0\" maxOccurs=\"unbounded\"&gt;\n&lt;!-- my line --&gt;   &lt;xs:element ref=\"svg:svg\"/&gt;\n                   &lt;xs:element ref=\"email\"/&gt;\n....\n</code></pre>\n\n<p>But I have error when try to load scheme:</p>\n\n<pre><code>    from lxml.etree import parse, XMLSchema\n\n    schema_file = open(self._schema_filename)\n\n    schema_doc = parse(schema_file)\n    schema_file.close()\n\n    self._xmlschema = XMLSchema(schema_doc)  # Error\n</code></pre>\n\n<p>Error message:</p>\n\n<blockquote>\n  <p>File \"src/lxml/xmlschema.pxi\", line 87, in lxml.etree.XMLSchema.<strong>init</strong> (src/lxml/lxml.etree.c:197819)</p>\n  \n  <p>lxml.etree.XMLSchemaParseError: Element '{<a href=\"http://www.w3.org/2001/XMLSchema\" rel=\"nofollow noreferrer\">http://www.w3.org/2001/XMLSchema</a>}element', attribute 'ref': References from this schema to components in the namespace '<a href=\"http://www.w3.org/2000/svg\" rel=\"nofollow noreferrer\">http://www.w3.org/2000/svg</a>' are not allowed, since not indicated by an import statement., line 4664</p>\n</blockquote>\n\n<p>What is wrong?</p>\n"}, {"tags": ["python", "interpolation"], "answers": [{"tags": [], "owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1520023121, "creation_date": 1520023121, "answer_id": 49077016, "question_id": 47318782, "link": "https://stackoverflow.com/questions/47318782/python-time-series-linear-interpolation/49077016#49077016", "title": "Python time series linear interpolation", "body": "<p>There is an indentation problem with your code:</p>\n\n<pre><code>if _vv[0] == 'date':\n    continue\n\n    _date = _vv[0].split('-')\n    ls.append((datetime.datetime(int(_date[0]),int(_date[1]),int(_date[2])),int(_vv[1])))\n</code></pre>\n\n<p>The bottom two lines will never get hit, because the iteration continues immediately prior.</p>\n"}], "owner": {"reputation": 9, "user_id": 8948068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e8fde9693f545935d313f2f1adbbd5?s=128&d=identicon&r=PG&f=1", "display_name": "xianghong che", "link": "https://stackoverflow.com/users/8948068/xianghong-che"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520023121, "creation_date": 1510786895, "last_edit_date": 1510789235, "question_id": 47318782, "link": "https://stackoverflow.com/questions/47318782/python-time-series-linear-interpolation", "title": "Python time series linear interpolation", "body": "<p>I try to interpolate irregular data to monthly resolution. the error is like this \n<a href=\"https://i.stack.imgur.com/RDLJe.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>File \"/usr/local/lib/python2.7/dist-packages/traces/timeseries.py\", line 122, in _get_linear_interpolate\n    return self.default\n  File \"/usr/local/lib/python2.7/dist-packages/traces/timeseries.py\", line 106, in default\n    raise KeyError(msg)\nKeyError: \"can't get value without a measurement (or a default)\"\nthe code is like this:</p>\n\n<pre><code>import datetime \n\nfrom datetime import timedelta\n\nimport traces\n\nimport re\n\nimport os\n\nls = []\n\ndef cal_time_series(_ff):\n\n    with open(_ff) as _fi:\n\n        for _l in _fi.read().splitlines():\n\n            _vv = _l.split(',')\n\n            if _vv[0] == 'date':\n\n                continue\n\n                _date = _vv[0].split('-')\n                ls.append((datetime.datetime(int(_date[0]),int(_date[1]),int(_date[2])),int(_vv[1])))\n\nts = traces.TimeSeries(ls)\n\nts.sample(sampling_period=datetime.timedelta(days=30),start=datetime.datetime(2000,1,15),end=datetime.datetime(2015,12,15),interpolate='linear',)\n\n\ncal_time_series('/mnt/d/thesis/code/point1.csv')\n</code></pre>\n"}, {"tags": ["python", "binary"], "comments": [{"owner": {"reputation": 1224, "user_id": 4889443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AG841.png?s=128&g=1", "display_name": "NendoTaka", "link": "https://stackoverflow.com/users/4889443/nendotaka"}, "edited": false, "score": 2, "creation_date": 1510787127, "post_id": 47318771, "comment_id": 81588798, "body": "So you aren&#39;t allowed to just do <code>DecValue= int(input(&quot;enter a binary value. &quot;), 2)</code>?"}, {"owner": {"reputation": 873, "user_id": 2096148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ltO2o.png?s=128&g=1", "display_name": "Sam van Kampen", "link": "https://stackoverflow.com/users/2096148/sam-van-kampen"}, "edited": false, "score": 0, "creation_date": 1510787276, "post_id": 47318771, "comment_id": 81588857, "body": "Or something like stringifying the integer, reversing it, and iterating over it, adding increasing powers of two as you progress through the string."}, {"owner": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "reply_to_user": {"reputation": 1224, "user_id": 4889443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AG841.png?s=128&g=1", "display_name": "NendoTaka", "link": "https://stackoverflow.com/users/4889443/nendotaka"}, "edited": false, "score": 0, "creation_date": 1510787715, "post_id": 47318771, "comment_id": 81589011, "body": "@NendoTaka What I&#39;m interpreting from that code is that the user input is going to be in base 2? What would this achieve?  Thank you for the comment.  Sam van, This concept does remind me of some of the stuff I found in the forums.  But addressing each digit and manipulating them individually is still a mystery to me.  Thank you both; it feels like I&#39;m getting into the &quot;code this for me&quot; territory.  I&#39;ve basically had to teach the basics to myself.. Thank you again"}, {"owner": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "reply_to_user": {"reputation": 873, "user_id": 2096148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ltO2o.png?s=128&g=1", "display_name": "Sam van Kampen", "link": "https://stackoverflow.com/users/2096148/sam-van-kampen"}, "edited": false, "score": 0, "creation_date": 1510787756, "post_id": 47318771, "comment_id": 81589025, "body": "@SamvanKampen   sorry, trying to refer to you as well.  Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1510789951, "post_id": 47319027, "comment_id": 81589735, "body": "Hello, thank you for comment.  I had to change the raw_input to just input for my version of python.  Reverse the bits so we can manipulate them in an easier fashion?  Then the loop adds &quot;(2 to the power of counter times the user&#39;s binary value)&quot;?"}, {"owner": {"reputation": 1389, "user_id": 3362334, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/62fe1642a05913b0f523b3f705825fd0?s=128&d=identicon&r=PG&f=1", "display_name": "user3362334", "link": "https://stackoverflow.com/users/3362334/user3362334"}, "reply_to_user": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1510792506, "post_id": 47319027, "comment_id": 81590429, "body": "When you&#39;re converting from binary to decimal the formula is 2^0*bit_val(0 or 1) + 2^1*bit_val + 2^2*bit_val...where you take the last bit first, then the next one from right to left until you get to the first bit. That&#39;s why you need to reverse the bits. So, you take the user input, make a list of bits from it, then reverse the list and apply the above formula....The last bit represents the 0 or 1 in decimal, the nest bit from right to left represents 2 or 0 in decimal, the next one 4 or 0, the next one 8 or 0 etc. When you add all those values you get the decimal representation of the value"}, {"owner": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1510793698, "post_id": 47319027, "comment_id": 81590803, "body": "Thanks for elaborating on the methodology. I don\u2019t feel quite as left out in the wild as i did. It sounds like making a list separates the bits so they can be individually manipulated."}, {"owner": {"reputation": 1389, "user_id": 3362334, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/62fe1642a05913b0f523b3f705825fd0?s=128&d=identicon&r=PG&f=1", "display_name": "user3362334", "link": "https://stackoverflow.com/users/3362334/user3362334"}, "reply_to_user": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1510793975, "post_id": 47319027, "comment_id": 81590912, "body": "That&#39;s the idea. I&#39;m glad I helped"}], "tags": [], "owner": {"reputation": 1389, "user_id": 3362334, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/62fe1642a05913b0f523b3f705825fd0?s=128&d=identicon&r=PG&f=1", "display_name": "user3362334", "link": "https://stackoverflow.com/users/3362334/user3362334"}, "is_accepted": false, "score": 1, "last_activity_date": 1510956955, "last_edit_date": 1510956955, "creation_date": 1510788256, "answer_id": 47319027, "question_id": 47318771, "link": "https://stackoverflow.com/questions/47318771/converting-binary-to-decimal-in-python-without-built-in-binary-function/47319027#47319027", "title": "Converting Binary to Decimal in python (without built in binary function)", "body": "<p>To convert binary value to decimal you need to do the following:</p>\n\n<p>Take the least significant bit and multiply it by 2^0, then take the next least significant beat and multiply it by 2^1, next one by 2^2 and so on...</p>\n\n<p>Let's say, for example you need to convert a number 1010 to decimal:</p>\n\n<p>You would have 0*2^0 + 1*2^1 + 0*2^2 + 1*2^3 = 0 + 2 + 0 + 8 = 10</p>\n\n<p>So in your python code, you need to:</p>\n\n<ul>\n<li>read the int that the user inputted (representing the binary value).</li>\n<li>convert that int and convert it to string, so you can break it into list of digits</li>\n<li>make a list of digits from the string you created (a list int python can be created from a string not an int, that's why you need the conversion to string first)</li>\n<li>go trough that list of bits in reverse and multiply every bit by 2^k, k being the counter starting from 0</li>\n</ul>\n\n<p>Here's the code that demonstrates what I just tried to explain:</p>\n\n<pre><code>user_input = int(input(\"enter a binary value\"))\n\nbits = list(str(user_input))\n\ndecimal = 0\n\ncounter = 0\n\nfor i in reversed(bits):\n    decimal += 2**counter * int(i)\n    counter+=1\n\nprint 'The decimal value is: ', decimal\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1510789756, "post_id": 47319060, "comment_id": 81589674, "body": "Thanks Sam; that formula would take the user&#39;s binary value, divide it by &quot;(2 to the power of B)&quot;, correct? And B is going to be a counter of some sort I&#39;ll set up?  Namely which bit I&#39;m referring and which power of two to use?"}, {"owner": {"reputation": 873, "user_id": 2096148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ltO2o.png?s=128&g=1", "display_name": "Sam van Kampen", "link": "https://stackoverflow.com/users/2096148/sam-van-kampen"}, "reply_to_user": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1510790363, "post_id": 47319060, "comment_id": 81589879, "body": "When a bit tests positive (e.g. <code>n % 2 == 1</code>), you want to add the right power of two to the decimal value. This means you&#39;ll have to keep track of the current power of two in some variable.  Thereafter, you want to go on to the next bit (e.g. <code>1001</code> should become <code>100</code>). To do that, you need to do something akin to a <a href=\"https://en.wikipedia.org/wiki/Logical_shift\" rel=\"nofollow noreferrer\">bit shift</a>, but in decimal."}, {"owner": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1510791031, "post_id": 47319060, "comment_id": 81590056, "body": "Thank you Kampen. It looks like there is no operator for bit shifting in python, so figuring out some way to emulate that would be necessary. Cheers."}], "tags": [], "owner": {"reputation": 873, "user_id": 2096148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ltO2o.png?s=128&g=1", "display_name": "Sam van Kampen", "link": "https://stackoverflow.com/users/2096148/sam-van-kampen"}, "is_accepted": false, "score": 0, "last_activity_date": 1510788454, "creation_date": 1510788454, "answer_id": 47319060, "question_id": 47318771, "link": "https://stackoverflow.com/questions/47318771/converting-binary-to-decimal-in-python-without-built-in-binary-function/47319060#47319060", "title": "Converting Binary to Decimal in python (without built in binary function)", "body": "<p>I'll agree this is close to the \"code this for me\" territory, but I'll try to answer in a way that gets you on the right track, instead of just posting a working code snippet.</p>\n\n<p>A simple way of doing this is just to use <code>int()</code>'s base argument, but I'm guessing that is disallowed.</p>\n\n<p>You already have a way of testing the current bit in your question, namely checking whether <code>n % 2 == 1</code>. If this is the case, we need to add a power of two.</p>\n\n<p>Then, we need some way of going to the next bit. In binary, we would use bit shifts, but sadly, we don't have those. <code>a &gt;&gt; b</code> is equivalent to <code>a // (2**b)</code> - can you write a decimal equivalent to that?</p>\n\n<p>You also need to keep a counter of which power of two the current bit represents, a loop, and some way of detecting an end condition. Those are left as exercises to the reader.</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1510790048, "post_id": 47319266, "comment_id": 81589779, "body": "Thanks for the comment and link.  If you were to post code, it may be clear by now that it probably wouldn&#39;t do me much good other than copy and pasting.  Thank you again, and I will read into the wiki page."}, {"owner": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1510791501, "post_id": 47319266, "comment_id": 81590164, "body": "So I did run into the formula for converting to decimal which i had found before. The other day I got lost in trying to use the \u201clen()\u201d of the user input and emulating the formula for conversion. It was overwhelming."}, {"owner": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1511053711, "post_id": 47319266, "comment_id": 81698119, "body": "I\u2019m having trouble checking whether or not the user input is binary or not. Is there a way to implement that before the formula?"}, {"owner": {"reputation": 1, "user_id": 8839458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f86dd10fbb39b33529616ace96eb1d7?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/8839458/vlad"}, "reply_to_user": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1511080515, "post_id": 47319266, "comment_id": 81702435, "body": "I&#39;ve added some code with description. Let me know if it helps."}], "tags": [], "owner": {"reputation": 1, "user_id": 8839458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f86dd10fbb39b33529616ace96eb1d7?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/8839458/vlad"}, "is_accepted": false, "score": 0, "last_activity_date": 1511080472, "last_edit_date": 1511080472, "creation_date": 1510789731, "answer_id": 47319266, "question_id": 47318771, "link": "https://stackoverflow.com/questions/47318771/converting-binary-to-decimal-in-python-without-built-in-binary-function/47319266#47319266", "title": "Converting Binary to Decimal in python (without built in binary function)", "body": "<p>I\u2019d recommend reading the following articles on Wikipedia:\n<a href=\"https://en.wikipedia.org/wiki/Radix\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Radix</a>\n<a href=\"https://en.wikipedia.org/wiki/Binary_number\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Binary_number</a></p>\n\n<p>The first one gives you an idea how the numeral systems work in general and the second one explains and shows the formula to convert between binary and decimal systems.\nTry to implement the solution after reading this. That\u2019s what I did when I dealt with this problem. If that doesn\u2019t help, let me know and I\u2019ll post the code.</p>\n\n<p>Hopefully, this code clarifies things a bit.</p>\n\n<pre><code>x = input(\"Enter binary number: \").strip()\ndecimal = 0\nfor i in range(len(x)):\n    decimal += int(x[i]) * 2**abs((i - (len(x) - 1)))\nprint(decimal)\n</code></pre>\n\n<p>This code takes in a binary number as a string, converts it to a decimal number and outputs it as an integer. The procedure is the following:</p>\n\n<p>1st element of binary number * 2^(length of binary number - 1)</p>\n\n<p>2nd element of binary number * 2^(length of binary number - 2)</p>\n\n<p>and so on till we get to the last element and ...2^0</p>\n\n<p>If we take number 10011, the conversion using this formula will look like this:\n1*2^4 + 0*2^3 + 0*2^2 + 1*2^1 + 1*2^0, which equals to 19.</p>\n\n<p>This code, however, assumes that the binary number is valid. Let me know if it helps.</p>\n\n<p>Another implementation using while loop might look like this. Maybe it'll be easier to understand than the code with the for loop.</p>\n\n<pre><code>x = input(\"Enter binary number: \").strip()\ndecimal = 0\nindex = 0\nexp = len(x) - 1\nwhile index != len(x):\n    decimal += int(x[index]) * 2**exp\n    index += 1\n    exp -= 1\nprint(decimal)\n</code></pre>\n\n<p>In this one we start from the beginning of the number with the highest power, which is <em>length of binary number minus one</em>, we loop through the number, lowering the power and changing index.</p>\n\n<p>Regarding checking if number is binary.\nTry using helper function to determine if number is binary and then insert this function inside your main function. For example:</p>\n\n<pre><code>def is_binary(x):\n    \"\"\" Returns True if number x is binary and False otherwise.\n\n    input: x as a string\n    \"\"\"\n    for i in list(x):\n        if i not in [\"1\", \"0\"]:\n            return False\n    return True\n\n\ndef binary_decimal(x):\n    \"\"\" Converts binary to decimal.\n    input: binary number x as a string\n    output: decimal number as int\n    \"\"\"\n    if not is_binary(x):\n        return \"Number is invalid\"\n    decimal = 0\n    for i in range(len(x)):\n        decimal += int(x[i]) * 2**abs((i - (len(x) - 1)))\n    return decimal\n</code></pre>\n\n<p>The first function checks if number consists only of ones and zeros and the second function actually converts your number only if it's binary according to the first function.\nYou can also try using assert statement or try / except if you'd better raise an error if number is not binary instead of simply printing the message.</p>\n\n<p>Of course, you can implement this solution without any functions.</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1510801436, "post_id": 47320302, "comment_id": 81592790, "body": "Thanks for the response! I think I can conceptualize your code at this point, but I also don\u2019t think my instructor would accept just the three lines. I think i have an idea how to put it all together after chatting here, but I\u2019ve got to explain the method and use a more expanded formula. Your code is saying \u201cStore user\u2019s string, and then convert that string into an integer in base 2?"}, {"owner": {"reputation": 37, "user_id": 8847993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/552cfd3c26b687679a1711bc52260092?s=128&d=identicon&r=PG&f=1", "display_name": "apk", "link": "https://stackoverflow.com/users/8847993/apk"}, "reply_to_user": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "edited": false, "score": 0, "creation_date": 1510870714, "post_id": 47320302, "comment_id": 81632426, "body": "yup, you introduce a string of binary digits and it converts to decimal, you can add a loop if you need to convert more than one"}], "tags": [], "owner": {"reputation": 37, "user_id": 8847993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/552cfd3c26b687679a1711bc52260092?s=128&d=identicon&r=PG&f=1", "display_name": "apk", "link": "https://stackoverflow.com/users/8847993/apk"}, "is_accepted": false, "score": 1, "last_activity_date": 1510797410, "creation_date": 1510797410, "answer_id": 47320302, "question_id": 47318771, "link": "https://stackoverflow.com/questions/47318771/converting-binary-to-decimal-in-python-without-built-in-binary-function/47320302#47320302", "title": "Converting Binary to Decimal in python (without built in binary function)", "body": "<p>you can use this code:</p>\n\n<pre><code>binary= raw_input(\"Binary: \")\nd= int(binary, 2)\nprint d\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8936599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad61623d2d49ce12696b585226e902c?s=128&d=identicon&r=PG&f=1", "display_name": "relytkadReh", "link": "https://stackoverflow.com/users/8936599/relytkadreh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7197, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1511080472, "creation_date": 1510786851, "last_edit_date": 1511052421, "question_id": 47318771, "link": "https://stackoverflow.com/questions/47318771/converting-binary-to-decimal-in-python-without-built-in-binary-function", "title": "Converting Binary to Decimal in python (without built in binary function)", "body": "<p>Alrighty, first post here, so please forgive and ignore if the question is not workable;</p>\n\n<p>Background:\nI'm in computer science 160.  I haven't taken any computer related classes since high school, so joining this class was a big shift for me. It all seemed very advanced.  We have been working in Python and each week we are prompted to write a program.  </p>\n\n<p>I have been working with this problem for over a week and am having a hard time even starting.<br>\nThe prompt is to read an integer containing only 1's and 0's,\nprocess the binary number digit by digit and report the decimal equivalent.  Now, I have gotten some tips from a classmate and it sent me at least in a direction.  </p>\n\n<p>Set up a couple of counters;\nusing the <code>%</code> operator to check the remainder of the number divided by 2, and slicing off the last number (to the right) to move on to and process the next digit.  </p>\n\n<p>I am having an incredibly hard time wrapping my head around what formula to use on the binary digits themselves which will convert the number to decimal.  </p>\n\n<pre><code>setbitval = 0\ncounter = 0\n\nuser = int(input(\"enter a binary value. \"))\n\nif user % 2 == 1:\n        user = (user/10) - .1\n        setbitval += 1\n</code></pre>\n\n<p>This is all I've got so far.. My thinking is getting in the way.  I've searched and searched, even through these forums.</p>\n\n<p>\nAny information or thoughts are extremely appreciated,<br/>\nT\n</p>\n\n<p>Edit: okay guys, everyone's help has been extremely useful but I'm having a problem checking if the user input is not a binary number.  </p>\n\n<pre><code>for i in reversed(bits):   \ndecimal += 2**counter * int(i)\n\ncounter += 1    \n</code></pre>\n\n<p>This is the formula someone here gave me and I've been trying different iterations of \"for i in bits:  if i in bits: != 0 or 1\" and also \"if i in bits: >= 1 or &lt;=0\".<br>\nAny thoughts?</p>\n"}, {"tags": ["python", "python-2.7", "import", "module"], "answers": [{"comments": [{"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1510787014, "post_id": 47318742, "comment_id": 81588765, "body": "why would this be different for Python 3? :D"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1510787151, "post_id": 47318742, "comment_id": 81588810, "body": "you could additionally <code>del</code> <code>excluded_symbols</code> and <code>all_symbols</code>"}, {"owner": {"reputation": 2065, "user_id": 1729703, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/YTDAA.jpg?s=128&g=1", "display_name": "Mark Gerolimatos", "link": "https://stackoverflow.com/users/1729703/mark-gerolimatos"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1510787440, "post_id": 47318742, "comment_id": 81588911, "body": "Frankly, I was assuming that Python3 solved this issue. Bad on <code>Guido</code> for not addressing it."}, {"owner": {"reputation": 2065, "user_id": 1729703, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/YTDAA.jpg?s=128&g=1", "display_name": "Mark Gerolimatos", "link": "https://stackoverflow.com/users/1729703/mark-gerolimatos"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1510787507, "post_id": 47318742, "comment_id": 81588928, "body": "Good point about the &quot;del&quot;. You don&#39;t need to <code>del all_symbols</code> because <code>all_symbols</code> does not actually contain &quot;all_symbols&quot; (pretty ironic!) :-)"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1510787751, "post_id": 47318742, "comment_id": 81589021, "body": "no, I mean it is an useless set after it has been used"}], "tags": [], "owner": {"reputation": 2065, "user_id": 1729703, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/YTDAA.jpg?s=128&g=1", "display_name": "Mark Gerolimatos", "link": "https://stackoverflow.com/users/1729703/mark-gerolimatos"}, "is_accepted": false, "score": 0, "last_activity_date": 1510787162, "last_edit_date": 1510787162, "creation_date": 1510786692, "answer_id": 47318742, "question_id": 47318741, "link": "https://stackoverflow.com/questions/47318741/python-2-how-do-i-limit-from-file-import-only-import-defined-symbols/47318742#47318742", "title": "Python 2: How do I limit &quot; from file import * &quot; ONLY import defined symbols?", "body": "<p>One answer in Python2 (likely different in Python 3) is to generate a symbol table after the imports but before your code, and at the end. Then you define <code>__all__</code> to be the difference of the two sets:</p>\n\n<p>Example:</p>\n\n<pre><code>from some_gross_package import some_gross_symbol\nimport another_gross_package\nfrom some_other_gross_package import *\n\n# Anything above this line will be ignored.\nexcluded_symbols = set(dir())\n\nfrom some_package_I_like import a_useful_symbol\n\n# Now start generating symbols. Note that there will be a problem\n# if you re-define a symbol from the excluded zone. Don't do that.\nexport_this1 = 1\nexport_this2 = \"abc\"\n\n# Put this as the last line of your file\nall_symbols = set(dir())\n__all__ = list(all_symbols - excluded_symbols - {'excluded_symbols'})\n</code></pre>\n\n<h2>Caveats:</h2>\n\n<ul>\n<li><p>As noted, this will break if you redefine a symbol that you actually want to export that was originally in the excluded set. But don't do that.</p></li>\n<li><p>Note also that this is really only for those cases in your local module where you want one <code>defs.py</code> file that contains all the various global symbols/classes (typically because you are refactoring code). But this is more of a religious issue of using <code>from XYZ import *</code>.</p></li>\n<li>It is NOT the purpose of this question to get into a religious fight about <code>import *</code> :)</li>\n</ul>\n"}], "owner": {"reputation": 2065, "user_id": 1729703, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/YTDAA.jpg?s=128&g=1", "display_name": "Mark Gerolimatos", "link": "https://stackoverflow.com/users/1729703/mark-gerolimatos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "closed_date": 1510788093, "answer_count": 1, "score": 0, "last_activity_date": 1510787697, "creation_date": 1510786692, "question_id": 47318741, "link": "https://stackoverflow.com/questions/47318741/python-2-how-do-i-limit-from-file-import-only-import-defined-symbols", "closed_reason": "Duplicate", "title": "Python 2: How do I limit &quot; from file import * &quot; ONLY import defined symbols?", "body": "<p>In Python2:</p>\n\n<p>We all know about <code>__all__</code> to limit the imports from a module using <code>__init__.py</code> This allows you to limit what gets imported when you issue:</p>\n\n<pre><code>from some_module import *\n</code></pre>\n\n<p>How do you do this for all symbols in FILE (some_file.py) without generating a nasty <code>__all__</code> list?</p>\n\n<p>Say you have a local <code>defs.py</code> which contains all the global variables, classes, etc you want to use thruout your code. This typically occurs when you are refactoring code and/or do not want every symbol to have a namespace prefix and/or do not want a humongo <code>from ... import</code> statement. In many cases, you <strong>DO NOT</strong> want to include the symbols <code>defs.py</code> imports (perhaps the import itself has a side effect you want to preserve, or you do NOT want a symbol that <code>defs.py</code> imported)</p>\n\n<p>How do you do this?</p>\n"}, {"tags": ["python", "tensorflow", "tensorflow-datasets"], "answers": [{"comments": [{"owner": {"reputation": 1101, "user_id": 2426955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f266a64c1fe618b6f530280519b14022?s=128&d=identicon&r=PG", "display_name": "zephyrus", "link": "https://stackoverflow.com/users/2426955/zephyrus"}, "edited": false, "score": 0, "creation_date": 1510787863, "post_id": 47318830, "comment_id": 81589056, "body": "If I use &quot;from_tensors&quot; and then batch the dataset, will it call myfunc multiple times?  I don&#39;t want it just to repeat the same tensor multiple times, if that makes sense?"}, {"owner": {"reputation": 4713, "user_id": 934904, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b3b6bc75132115c4299964be9c8e2c5f?s=128&d=identicon&r=PG", "display_name": "MatthewScarpino", "link": "https://stackoverflow.com/users/934904/matthewscarpino"}, "reply_to_user": {"reputation": 1101, "user_id": 2426955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f266a64c1fe618b6f530280519b14022?s=128&d=identicon&r=PG", "display_name": "zephyrus", "link": "https://stackoverflow.com/users/2426955/zephyrus"}, "edited": false, "score": 0, "creation_date": 1510788077, "post_id": 47318830, "comment_id": 81589144, "body": "No, I don&#39;t think &quot;from_tensors&quot; will call myfunc multiple times. If you&#39;d like to create a dataset from a generator function, you can call Dataset.from_generator."}, {"owner": {"reputation": 1101, "user_id": 2426955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f266a64c1fe618b6f530280519b14022?s=128&d=identicon&r=PG", "display_name": "zephyrus", "link": "https://stackoverflow.com/users/2426955/zephyrus"}, "edited": false, "score": 0, "creation_date": 1510788784, "post_id": 47318830, "comment_id": 81589369, "body": "right, but Dataset.from_generator does not accept generators that create <i>tensor</i> objects"}, {"owner": {"reputation": 4713, "user_id": 934904, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b3b6bc75132115c4299964be9c8e2c5f?s=128&d=identicon&r=PG", "display_name": "MatthewScarpino", "link": "https://stackoverflow.com/users/934904/matthewscarpino"}, "reply_to_user": {"reputation": 1101, "user_id": 2426955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f266a64c1fe618b6f530280519b14022?s=128&d=identicon&r=PG", "display_name": "zephyrus", "link": "https://stackoverflow.com/users/2426955/zephyrus"}, "edited": false, "score": 0, "creation_date": 1510788954, "post_id": 47318830, "comment_id": 81589427, "body": "Are you saying you want to create a dataset whose tensors will change every time you call myfunc? If so, you could create one dataset and then concatenate more data as it becomes available."}, {"owner": {"reputation": 1101, "user_id": 2426955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f266a64c1fe618b6f530280519b14022?s=128&d=identicon&r=PG", "display_name": "zephyrus", "link": "https://stackoverflow.com/users/2426955/zephyrus"}, "edited": false, "score": 0, "creation_date": 1510790410, "post_id": 47318830, "comment_id": 81589893, "body": "No, I would like to use something like from_generator, but slightly different.  I have two tensors, x and t, that each time they are called in a graph they evaluate to new training data.  You might think of them like x = tf.random_uniform(args), t = tf.random_uniform(args).  Does that make sense?"}, {"owner": {"reputation": 1101, "user_id": 2426955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f266a64c1fe618b6f530280519b14022?s=128&d=identicon&r=PG", "display_name": "zephyrus", "link": "https://stackoverflow.com/users/2426955/zephyrus"}, "edited": false, "score": 0, "creation_date": 1510790512, "post_id": 47318830, "comment_id": 81589926, "body": "The problem being I would like to not just put x and t in my graph but make a dataset from them so that I can use the same dataset processing that I have implemented for (normal) finite datasets I can load into memory and feed into the same graph using an initializable iterator."}], "tags": [], "owner": {"reputation": 4713, "user_id": 934904, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b3b6bc75132115c4299964be9c8e2c5f?s=128&d=identicon&r=PG", "display_name": "MatthewScarpino", "link": "https://stackoverflow.com/users/934904/matthewscarpino"}, "is_accepted": false, "score": 0, "last_activity_date": 1510787126, "creation_date": 1510787126, "answer_id": 47318830, "question_id": 47318734, "link": "https://stackoverflow.com/questions/47318734/on-the-fly-generation-with-dataset-api-tensorflow/47318830#47318830", "title": "on the fly generation with Dataset api tensorflow", "body": "<p>If x and t are tensors, you can create a dataset by calling <code>tf.data.Dataset.from_tensors</code> or <code>tf.data.Dataset.from_tensor_slices</code> (documentation <a href=\"https://www.tensorflow.org/api_docs/python/tf/data/Dataset#from_tensor_slices\" rel=\"nofollow noreferrer\">here</a>). </p>\n\n<p>The difference between them is that <code>from_tensors</code> combines the input tensors into a single element in the dataset. <code>from_tensor_slices</code> creates a dataset with one element for each slice.</p>\n"}, {"comments": [{"owner": {"reputation": 1101, "user_id": 2426955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f266a64c1fe618b6f530280519b14022?s=128&d=identicon&r=PG", "display_name": "zephyrus", "link": "https://stackoverflow.com/users/2426955/zephyrus"}, "edited": false, "score": 0, "creation_date": 1516254838, "post_id": 47638799, "comment_id": 83614942, "body": "If I want to do the computation of my_func() on the gpu device by default, would I put the &quot;with tf.device(&#39;/device:GPU:1&#39;):&quot; wrapper on the first, second, or both of the lines you suggested?  This may or may not make a difference but &quot;my_func()&quot; in my case is actually a method of another class (i.e. &quot;my_class.my_func()&quot; is what I would actually use in your code) -- so do I also have to use &quot;with tf.device(&#39;/device:GPU:1&#39;):&quot; when instantiating the class?"}], "tags": [], "owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "is_accepted": true, "score": 2, "last_activity_date": 1512408533, "creation_date": 1512408533, "answer_id": 47638799, "question_id": 47318734, "link": "https://stackoverflow.com/questions/47318734/on-the-fly-generation-with-dataset-api-tensorflow/47638799#47638799", "title": "on the fly generation with Dataset api tensorflow", "body": "<p>Assuming <code>x</code> and <code>t</code> are <code>tf.Tensor</code> objects, and <code>my_func()</code> builds a TensorFlow graph, you may be able to use the following approach with `Dataset.map():</p>\n\n<pre><code># Creates an infinite dataset with a dummy value. You can make this finite by\n# specifying an explicit number of elements to `repeat()`.\ndummy_dataset = tf.data.Dataset.from_tensors(0).repeat(None)\n\n# Evaluates `my_func` once for each element in `dummy_dataset`.\ndataset = dummy_dataset.map(lambda _: my_func())\n</code></pre>\n"}], "owner": {"reputation": 1101, "user_id": 2426955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f266a64c1fe618b6f530280519b14022?s=128&d=identicon&r=PG", "display_name": "zephyrus", "link": "https://stackoverflow.com/users/2426955/zephyrus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 4, "accepted_answer_id": 47638799, "answer_count": 2, "score": 3, "last_activity_date": 1512408533, "creation_date": 1510786625, "last_edit_date": 1510790647, "question_id": 47318734, "link": "https://stackoverflow.com/questions/47318734/on-the-fly-generation-with-dataset-api-tensorflow", "title": "on the fly generation with Dataset api tensorflow", "body": "<p>I have a function which produces feature and target tensors.  E.g. </p>\n\n<pre><code>x,t = myfunc() ##x,t tensors\n</code></pre>\n\n<p>How can I integrate this with TensorFlow's dataset API for continuous training?  Ideally I would like to use dataset to set things like batch, transformations.  </p>\n\n<p>Edit for clarification: The problem being I would like to not just put x and t in my graph but make a dataset from them so that I can use the same dataset processing that I have implemented for (normal) finite datasets I can load into memory and feed into the same graph using an initializable iterator.</p>\n"}, {"tags": ["python", "escaping", "python-unicode", "unicode-string"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1510786322, "post_id": 47318639, "comment_id": 81588526, "body": "Can you give us a before-and-after example of the transformation you want?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1510786467, "post_id": 47318639, "comment_id": 81588577, "body": "One of the answers to your linked question says this: &quot;<i>There should be a way to do this in the python stdlib, but there is not. I filed a bug report: <a href=\"http://bugs.python.org/issue18679\" rel=\"nofollow noreferrer\">bugs.python.org/issue18679</a></i>&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1520023298, "creation_date": 1520023298, "answer_id": 49077063, "question_id": 47318639, "link": "https://stackoverflow.com/questions/47318639/escape-control-characters-in-unicode-in-python2-module/49077063#49077063", "title": "escape control characters in unicode in python2 module", "body": "<p>Yes and no: per <a href=\"https://stackoverflow.com/a/19016117/3474146\">this answer</a>, the <code>unicodedata</code> module has utilities related to this, but it does not have an <code>escape_control_characters()</code> function natively.</p>\n"}], "owner": {"reputation": 6964, "user_id": 1424739, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/19d3c927744b5ad3b94afbf88e1c3844?s=128&d=identicon&r=PG", "display_name": "user1424739", "link": "https://stackoverflow.com/users/1424739/user1424739"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520023298, "creation_date": 1510786084, "question_id": 47318639, "link": "https://stackoverflow.com/questions/47318639/escape-control-characters-in-unicode-in-python2-module", "title": "escape control characters in unicode in python2 module", "body": "<p>Here is a solution to escape only control characters in a unicode string.</p>\n\n<pre><code>control_chars = [unichr(c) for c in range(0x20)] # you may extend this as required\n\ndef control_escape2(s):\n    return u''.join([c.encode('unicode_escape') if c in control_chars else c for c in s])\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/9778550/which-is-the-correct-way-to-encode-escape-characters-in-python-2-without-killing\">Which is the correct way to encode escape characters in Python 2 without killing Unicode?</a></p>\n\n<p>This sounds to be a feature that may be worthwhile to put a module so that I don't have to always copy the same code around. Is there anything like this in existing python modules?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1510786710, "post_id": 47318638, "comment_id": 81588670, "body": "If this is Python 2.x, use <code>raw_input</code> instead of <code>input</code>."}], "answers": [{"comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1510786845, "post_id": 47318746, "comment_id": 81588718, "body": "Wrapping the code in functions is generally good practice but won&#39;t help with the particular problem."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1510786888, "post_id": 47318746, "comment_id": 81588728, "body": "Why? Hed like to input the number again. This will run the code again. Explain?"}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1510787151, "post_id": 47318746, "comment_id": 81588809, "body": "Updated, this works both 2.7 and 3&gt;. Casting choice to str()"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1510787201, "post_id": 47318746, "comment_id": 81588831, "body": "C0DY shows how it can work (except for the <code>input</code> on Python 2.x)."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 2, "creation_date": 1510787212, "post_id": 47318746, "comment_id": 81588838, "body": "Recursion is general a poor substitute for a loop. No the OP probably won&#39;t run this code the 9000+ times required to overflow the call stack, but it&#39;s better practice to use the right construct for the job: a loop."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1510787415, "post_id": 47318746, "comment_id": 81588899, "body": "@ChristianDean Please explain why using a while loop would be better than using a function and a nested function and calling it recursively? Anyway, this doesn&#39;t change the fact that other answers still do not solve OPs problem"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1510787570, "post_id": 47318746, "comment_id": 81588957, "body": "@alexisdevarennes Depending how deep the recursion becomes a &lt;name of this website&gt; can happen :)"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1510787599, "post_id": 47318746, "comment_id": 81588969, "body": "@alexisdevarennes Well probably the biggest problem with using recursion vs a normal loop is that recursion uses much more memory.  Each time a function is call, a new frame must be pushed on the call stack."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510787671, "post_id": 47318746, "comment_id": 81588997, "body": "Sure, true. But not something I&#39;d consider for OPs usecase."}, {"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "edited": false, "score": 1, "creation_date": 1510788074, "post_id": 47318746, "comment_id": 81589142, "body": "@alexisdevarennes It is not necessarily about efficiency, it also about good practices,  any loop can be translated to recursion to a certain degree, but using the right approach is what defines good programmers. Now, even if in my opinion the <code>while</code> loop is more pythonic, I agree with you that both works and are acceptable. I would still recommend using iteration in this case mainly for readability."}], "tags": [], "owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "is_accepted": false, "score": 0, "last_activity_date": 1510788215, "last_edit_date": 1510788215, "creation_date": 1510786720, "answer_id": 47318746, "question_id": 47318638, "link": "https://stackoverflow.com/questions/47318638/input-for-def-in-if-statement-trouble/47318746#47318746", "title": "input for def in if statement trouble", "body": "<p>You'll want to wrap the rest of the logic in a function and call it at the end again instead of <code>start()</code></p>\n\n<pre><code>def question():\n\n    def start():\n        print(\"\\nWhat would you like to do?\")\n        print(\"1) Call out to someone\")\n        print(\"2) Stand up\")\n        print(\"3) Touch your head\")\n        print(\"4) Sleep\\n\")\n        choice = input(\"Make your decision!: \")\n\n        return choice\n\n    choice = start()\n\n    if str(choice) == \"1\":\n        print(\"You call out\")\n        print(\"No one came\")\n        question()\n    else:\n        print(\"nope\")\n\nquestion()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510787417, "post_id": 47318817, "comment_id": 81588901, "body": "@alexisdevarennes Why not?"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "reply_to_user": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 3, "creation_date": 1510787427, "post_id": 47318817, "comment_id": 81588906, "body": "@alexisdevarennes Before and in the loop <code>start()</code> is called and <code>choice</code> is set with the result and the while-loop evaluates <code>choice</code> on each turn. No problem."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510787446, "post_id": 47318817, "comment_id": 81588913, "body": "Wow im tired. Sorry"}], "tags": [], "owner": {"reputation": 181, "user_id": 1987947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f2362bee2642e6f753812cc63838b8?s=128&d=identicon&r=PG", "display_name": "C0DY", "link": "https://stackoverflow.com/users/1987947/c0dy"}, "is_accepted": false, "score": 3, "last_activity_date": 1510787789, "last_edit_date": 1510787789, "creation_date": 1510787061, "answer_id": 47318817, "question_id": 47318638, "link": "https://stackoverflow.com/questions/47318638/input-for-def-in-if-statement-trouble/47318817#47318817", "title": "input for def in if statement trouble", "body": "<p>You could use a <code>while</code> loop. If you really want to try to figure the assignment out by yourself, stop reading now, otherwise:</p>\n\n<pre><code>def start():\n    print(\"\\nWhat would you like to do?\")\n    print(\"1) Call out to someone\")\n    print(\"2) Stand up\")\n    print(\"3) Touch your head\")\n    print(\"4) Sleep\\n\")\n    choice = input(\"Make your decision!: \")\n    return choice\n\nchoice = start()\n\nwhile choice==\"1\":\n    print(\"You call out\")\n    print(\"No one came\")\n    choice = start()\n\nprint(\"nope\")\n</code></pre>\n\n<p>The indented block after <code>while</code> gets executed as long as the expression <code>choice==\"1\"</code> evaluates to <code>True</code>.</p>\n\n<ol>\n<li>The return value of function <code>start</code> is assigned to the variable <code>choice</code> (right after your function defintion).</li>\n<li>If the expression <code>choice==\"1\"</code> evaluates to <code>False</code> (anything other than 1 was entered by the user), the block under while loop <em>won't</em> get executed and the program prints \"nope\".</li>\n<li>If the expression <code>choice==\"1\"</code> evalutes to <code>True</code> (1 was entered by the user), the block under the while loop <em>will</em> be executed (print, and assign the return value of function <code>start</code> to the variable <code>choice</code> again).</li>\n<li>The expression after the <code>while</code> will be evaluated again.</li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 8948175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b974baadd8aa16ee3802c7e4dadcec26?s=128&d=identicon&r=PG&f=1", "display_name": "firerune0550", "link": "https://stackoverflow.com/users/8948175/firerune0550"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510823428, "creation_date": 1510786080, "last_edit_date": 1510823428, "question_id": 47318638, "link": "https://stackoverflow.com/questions/47318638/input-for-def-in-if-statement-trouble", "title": "input for def in if statement trouble", "body": "<p>When i start this code i want it to restart def start() inside my if part and make it so i can input 1 again and itll post it again but that doesnt work. I really dont know why and i would appreciate the help. I need this answered fairly quickly so i can finish my assignment. If it helps im using python in visual studio 2017.</p>\n\n<pre><code>def start():\n    print(\"\\nWhat would you like to do?\")\n    print(\"1) Call out to someone\")\n    print(\"2) Stand up\")\n    print(\"3) Touch your head\")\n    print(\"4) Sleep\\n\")\n    choice = input(\"Make your decision!: \")\n    return choice\n\nchoice = start()\n\nif choice==\"1\":\n    print(\"You call out\")\n    print(\"No one came\")\n    print(start())\n\n\nelse:\n   print(\"nope\")\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 650, "user_id": 7175454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e23aac6a74aa3c00aabbaf10a563b5c?s=128&d=identicon&r=PG&f=1", "display_name": "collector", "link": "https://stackoverflow.com/users/7175454/collector"}, "edited": false, "score": 0, "creation_date": 1510785815, "post_id": 47318556, "comment_id": 81588349, "body": "Could it be that names[2] is an empty string? And what is <code>END</code> ?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1510786580, "post_id": 47318556, "comment_id": 81588618, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Though, you should be able to debug this yourself. I don&#39;t see any signs that you&#39;ve tried. Perhaps you should add some debugging statements, such as printing out the value of <code>pos</code> to see if it&#39;s what you think it is (clearly, it&#39;s not)."}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1510843987, "creation_date": 1510843987, "answer_id": 47332710, "question_id": 47318556, "link": "https://stackoverflow.com/questions/47318556/not-able-to-highlight-a-number-of-words-in-a-text-on-python/47332710#47332710", "title": "Not able to highlight a number of words in a text on python", "body": "<p>The error comes at the start of the second iteration of the <code>for</code> loop. </p>\n\n<p>The first iteration can only end when the <code>while</code> loop ends, and it can only end when <code>pos</code> is the empty string. Thus, when the second iteration of the <code>for</code> loop starts, <code>pos</code> is the empty string which you then try to use when calling <code>search</code>.</p>\n\n<p>The solution is to reset <code>pos</code> to <code>\"1.0\"</code> at the start of the <code>for</code> loop, assuming that the purpose of the <code>for</code> loop is to search then entire widget for each word or phrase in <code>names</code>.</p>\n\n<p>By the way, the pythonic way to iterate over a loop isn't to get the length and then iterate over the indexes. Instead, directly iterate over the list:</p>\n\n<pre><code>for name in names:\n    pos = \"1.0\"\n    while True:\n        pos = ArticleTextBox.search(name, ...)\n        ...\n    ...\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 8875986, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/23de9a3ad90e9ed890b3a2c66dd53206?s=128&d=identicon&r=PG&f=1", "display_name": "R watt", "link": "https://stackoverflow.com/users/8875986/r-watt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510843987, "creation_date": 1510785589, "question_id": 47318556, "link": "https://stackoverflow.com/questions/47318556/not-able-to-highlight-a-number-of-words-in-a-text-on-python", "title": "Not able to highlight a number of words in a text on python", "body": "<p><br> I was wondering what is wrong here? It should be highlighting all the words in a list when a button is clicked. However, this is the error that comes up:<br></p>\n\n<pre><code>Exception in Tkinter callback &lt;br&gt;\nTraceback (most recent call last):\n  File \"C:\\Users\\Reuben_2\\AppData\\Local\\Programs\\Python\\Python36\\lib\\tkinter\\__init__.py\", line 1699, in __call__\n    return self.func(*args)\n  File \"C:/Users/Reuben_2/AppData/Local/Programs/Python/Python36/Writing is hard/MyHighlighter.py\", line 54, in highlight_text\n    pos = ArticleTextBox.search(names[2], pos, stopindex=END, count=lenght)\n  File \"C:\\Users\\Reuben_2\\AppData\\Local\\Programs\\Python\\Python36\\lib\\tkinter\\__init__.py\", line 3332, in search\n    return str(self.tk.call(tuple(args)))\n_tkinter.TclError: bad text index \"\" \n</code></pre>\n\n<p>Here is my code: </p>\n\n<pre><code>  def highlight_text():\n        article=ArticleTextBox.get(0.0,tk.END)\n        my_sent=article\n        names=(get_continuous_chunks(my_sent))\n        lenght = StringVar()\n        pos = '1.0'\n        for w in range(0,nameslistlength):\n            while True:\n                pos = ArticleTextBox.search(names[w], pos, stopindex=END, count=lenght)\n                if not pos:\n                    break\n                ArticleTextBox.tag_add('highlight', pos, '{}+{}c'.format(pos, lenght.get()))\n                pos += '+1c'\n</code></pre>\n\n<p>Thank you for your help. Please let me know if you have any questions + any tips on how to improve my stack overflow questions.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 650, "user_id": 7175454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e23aac6a74aa3c00aabbaf10a563b5c?s=128&d=identicon&r=PG&f=1", "display_name": "collector", "link": "https://stackoverflow.com/users/7175454/collector"}, "edited": false, "score": 1, "creation_date": 1510785656, "post_id": 47318552, "comment_id": 81588296, "body": "It would help if you post the error log as well"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1510785834, "post_id": 47318552, "comment_id": 81588357, "body": "In your real code, do you actually call <code>mainloop</code>? You generate a new random number on each go. So you are guessing a moving target. You should generate the number at the start and compare all subsequent guesses to that number."}, {"owner": {"reputation": 302, "user_id": 5671682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcb2e38ed640ab9e2cffaa8afe02f812?s=128&d=identicon&r=PG", "display_name": "fernand0", "link": "https://stackoverflow.com/users/5671682/fernand0"}, "edited": false, "score": 1, "creation_date": 1510785896, "post_id": 47318552, "comment_id": 81588378, "body": "I think the problem is that you are generating a random number each time you call to <code>checkInput</code> so previous indications do not apply...."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8910724"}, "edited": false, "score": 0, "creation_date": 1510788833, "post_id": 47318722, "comment_id": 81589387, "body": "Thank you so much, but I still have one question. You said it would be changed everytime I pressed the &quot;Check&quot; button, but I&#39;ve only pressed it once.?"}, {"owner": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 0, "creation_date": 1510845098, "post_id": 47318722, "comment_id": 81617218, "body": "@DatOneNoobCoder: It really does not matter how many times you press the &quot;Check&quot; button, it is incorrect to create the random number inside the &quot;checkInput&quot; function. The idea of the game is that the code needs to create a random number first, store it in a variable  and keep its value unchanged until the end of program. Meanwhile the user keeps guessing until their guess matches the  random number."}, {"owner": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 0, "creation_date": 1510845116, "post_id": 47318722, "comment_id": 81617233, "body": "@DatOneNoobCoder: The point here is that if you create the random number inside the &quot;checkInput()&quot; a new random number will be created every time this function is called, which is every time the &quot;Check&quot; button is pressed according to your code. You can get lucky and guess a number which matches the random number in the first trial, however the code will not behave as expected if more guesses are required. That&#39;s why you see the code tells you that the number is larger than 74 and smaller than 75!!! Let me explain what happens in your code and why you get this strange behaviour."}, {"owner": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 0, "creation_date": 1510845138, "post_id": 47318722, "comment_id": 81617245, "body": "@DatOneNoobCoder: When you first run your code, &quot;randomNumber&quot; does not have any value because it has not been created yet because you have not pressed the &quot;Check&quot; button yet! Then you put in some number say 74 and press the &quot;Check&quot; button which calls the &quot;checkInput&quot; function. Inside this function &quot;randomNumber&quot; is just created (and this is after you have already made your guess!!!) and say its 80. Now the code compares 80 with 74 and tells you that you need to guess a larger value."}, {"owner": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 0, "creation_date": 1510845179, "post_id": 47318722, "comment_id": 81617282, "body": "@DatOneNoobCoder: Now you put in 75 and press the &quot;check&quot; button again which calls the &quot;checkInput&quot; function again. Now the &quot;randomNumber&quot; changes and is assigned to a new value say 13, it is no longer 80! Now the code compares 13 with 75 and tells you that you need to put in a smaller number!!! You get confused because how an integer number can be larger than 74 and smaller than 75."}, {"owner": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 0, "creation_date": 1510845195, "post_id": 47318722, "comment_id": 81617298, "body": "@DatOneNoobCoder : However what has happened is that the random number has changed from e.g. 80 to 13 during two successive calls to the &quot;checkInput&quot; function. That&#39;s why if you assign &quot;randomNumber&quot; to some fixed value (instead of random.randint() function) you get the expected behaviour because it does not change between guesses.  I hope this explanation helps."}], "tags": [], "owner": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "is_accepted": true, "score": 1, "last_activity_date": 1510786514, "creation_date": 1510786514, "answer_id": 47318722, "question_id": 47318552, "link": "https://stackoverflow.com/questions/47318552/python-guessing-game-error/47318722#47318722", "title": "Python Guessing Game Error?", "body": "<p>the problem is that you are generating the random number in the \"checkInput\" function which will be called and changed everytime you press the \"Check\" button. What you should do is to generate the random number once and outside the \"checkInput\" function, for example look at the following code:</p>\n\n<pre><code>import random\nfrom tkinter import *\n\ndef checkInput():  \n\n   user_guess = int(user_input.get())\n\n   if user_guess == randomNumber:\n        print(\"You got it!\")\n   if user_guess &gt; randomNumber:\n        print(\"Guess lower!\")\n   if user_guess &lt; randomNumber:\n        print(\"Guess higher!\")\n\nrandomNumber = random.randint(1,100)\nroot = Tk()\n\nuser_input = Entry(root)\nuser_input.pack()\ncheck_button = Button(root,text=\"Check\",command=checkInput) .pack()\nreset_button = Button(root,text=\"Reset\") .pack()\n\nroot.mainloop()\n</code></pre>\n\n<p>It is basically your own code with a minor change which is that the line where you generate the random number has been now moved out of the \"checkInput\" function.</p>\n\n<p>Good Luck ...</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8910724"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 47318722, "answer_count": 1, "score": 2, "last_activity_date": 1510786668, "creation_date": 1510785569, "last_edit_date": 1510786668, "question_id": 47318552, "link": "https://stackoverflow.com/questions/47318552/python-guessing-game-error", "title": "Python Guessing Game Error?", "body": "<p>I created a number guessing game. However, I keep on running into an error.      </p>\n\n<p>The problem is when I run it and enter the number it will eventually say the number is higher than 74 (this is an example) but lower than 75... If I set a specific number it works fine, but when I generate a random number it doesn't work.</p>\n\n<pre><code>import random\nfrom tkinter import *\n\ndef checkInput():  \n\n\n   randomNumber = random.randint(1,100)\n   user_guess = int(user_input.get())\n\n\n   if user_guess == randomNumber:\n        print(\"You got it!\")\n   if user_guess &gt; randomNumber:\n        print(\"Guess lower!\")\n   if user_guess &lt; randomNumber:\n        print(\"Guess higher!\")\n\nroot = Tk()\n\nuser_input = Entry(root)\nuser_input.pack()\ncheck_button = Button(root,text=\"Check\",command=checkInput) .pack()\nreset_button = Button(root,text=\"Reset\") .pack()\n\nroot.mainloop\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1717, "user_id": 981427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a64d23ca49ec3193cef39d770d970cde?s=128&d=identicon&r=PG", "display_name": "Francisco Valdez", "link": "https://stackoverflow.com/users/981427/francisco-valdez"}, "edited": false, "score": 0, "creation_date": 1510787124, "post_id": 47318477, "comment_id": 81588797, "body": "This has nothing to do with Python, the &#39;open&#39; command is native from OS X, open a terminal and type &#39;open&#39; since it needs more arguments it will show its help text."}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1510788998, "post_id": 47318477, "comment_id": 81589443, "body": "<a href=\"https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man1/open.1.html\" rel=\"nofollow noreferrer\">developer.apple.com/legacy/library/documentation/Darwin/&hellip;</a>"}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1510789016, "post_id": 47318477, "comment_id": 81589452, "body": "Why are you using <code>popen()</code>? Are you trying to interact with the applications?"}], "owner": {"reputation": 13851, "user_id": 7301792, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K6k1M.png?s=128&g=1", "display_name": "AbstProcDo", "link": "https://stackoverflow.com/users/7301792/abstprocdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510791016, "creation_date": 1510785213, "last_edit_date": 1510791016, "question_id": 47318477, "link": "https://stackoverflow.com/questions/47318477/open-files-or-apps-and-position-them-on-appropriate-screen-respectively", "title": "Open files (or apps) and position them on appropriate screen respectively", "body": "<p>Open files(or apps) and position them on appropriate screen respectively.</p>\n\n<p>I have files and apps which are required to open daily.</p>\n\n<pre><code>cmds = [\n'open task_record.md',\n'open diary.md',\n'open terminal',\n'open chrome'\n]\n\nfor i in cmds:\n    os.popen('{}'.format(i))\n</code></pre>\n\n<p>After they are opened, I draw them to appropriate screen one by one.</p>\n\n<p>I decide to solve the problem and read over the standard lib with no hints provided.</p>\n\n<p>How to posit each on appropriate screen?\n(Mac OS)</p>\n"}, {"tags": ["python", "python-2.7", "unicode", "anaconda"], "answers": [{"tags": [], "owner": {"reputation": 1255, "user_id": 3103059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ace5267f00efbd4a9a1d6af5beefd00?s=128&d=identicon&r=PG&f=1", "display_name": "agcala", "link": "https://stackoverflow.com/users/3103059/agcala"}, "is_accepted": false, "score": 0, "last_activity_date": 1568578787, "last_edit_date": 1568578787, "creation_date": 1551786419, "answer_id": 55002136, "question_id": 47318438, "link": "https://stackoverflow.com/questions/47318438/change-anaconda-environments-folder/55002136#55002136", "title": "Change anaconda environment&#39;s folder", "body": "<p><strong>Windows 7:</strong></p>\n\n<p>Go to the Anaconda folder in the <strong>Start Menu/All Programs</strong> and find there the <strong>Anaconda Prompt</strong> shortcut. Open the shortcut properties. <strong>You will see the \"Start in\" field pointing to %HOME% (your user folder).</strong> Feel free to change it to whichever folder you want Anaconda to point at.\nCheers.</p>\n\n<p><strong>Windows 10:</strong></p>\n\n<ul>\n<li>Click on the <strong>Windows icon</strong> (left corner) and look for <strong>All Apps</strong>.</li>\n<li>Open down <strong>Anaconda</strong> and look for <strong>Anaconda Prompt</strong> and right-click on it.</li>\n<li>On the Menu look for <strong>More</strong> and then <strong>Open file location</strong>. There you will\nsee the Anaconda shortcut. </li>\n<li>Right Click on it and look for <strong>Properties</strong>.\nOn the box <strong>Start in:</strong> you will probably see <strong>%HOME%</strong>. Feel free to\nchange it to any folder you want.</li>\n</ul>\n"}], "owner": {"reputation": 3277, "user_id": 5019586, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/60b763a46dbd40938a6031a75cfe7d29?s=128&d=identicon&r=PG&f=1", "display_name": "ysearka", "link": "https://stackoverflow.com/users/5019586/ysearka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 568, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1568578787, "creation_date": 1510785025, "question_id": 47318438, "link": "https://stackoverflow.com/questions/47318438/change-anaconda-environments-folder", "title": "Change anaconda environment&#39;s folder", "body": "<p>I am by default using python 3.4, but sometimes I have to use python 2, therefore I created an anaconda environment using the following command:</p>\n\n<pre><code>conda create -n py27 python=2.7 anaconda\n</code></pre>\n\n<p>The command is computed without issue. BUT the folder within which the environment is created is in my user folder and I have a \"\u00eb\" in the name of this folder (under windows 8 I can't change my user's folder name unfortunately). </p>\n\n<p>Then I try to launch the environment: <code>conda activate py27</code> still no problem, but when I try to launch a <code>jupyter notebook</code> command (no matter the folder I'm in) I get the following error:</p>\n\n<pre><code>UnicodeDecodeError: 'ascii' codec can't decode byte 0xeb in position 9: ordinal not in range(128)\n</code></pre>\n\n<p>My question is: how can I get python 2.7 to work given this problem?\nIf you can give me a way to:</p>\n\n<p>-change the user's folder name under windows 8</p>\n\n<p>-create an anaconda's environment in a different folder</p>\n\n<p>-get the py27 environment to work no matter the \"\u00eb\" in the anaconda environment's folder path </p>\n\n<p>-get a way to work under python 2.7 without having to install two independant different versions of python</p>\n\n<p>etc...</p>\n\n<p>that would be greatly appreciated!</p>\n"}, {"tags": ["python", "textbox", "pygame"], "comments": [{"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 2, "creation_date": 1510805822, "post_id": 47318421, "comment_id": 81593915, "body": "Take a look at <a href=\"https://stackoverflow.com/a/46390412/6220679\">this answer</a>."}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1510787879, "last_edit_date": 1510787879, "creation_date": 1510787233, "answer_id": 47318844, "question_id": 47318421, "link": "https://stackoverflow.com/questions/47318421/how-do-i-make-a-text-box-in-pygame/47318844#47318844", "title": "How do I make a text box in pygame?", "body": "<p>PyGame is low-level library and it doesn't have widgets. </p>\n\n<p>You can use other modules like <a href=\"https://github.com/parogers/pgu\" rel=\"nofollow noreferrer\">PGU</a>, <a href=\"http://ocemp.sourceforge.net/gui.html\" rel=\"nofollow noreferrer\">OcempGUI</a> or <a href=\"https://program.sambull.org/sgc/\" rel=\"nofollow noreferrer\">SGC</a>. Most of them have examples.</p>\n\n<p>Most of them use own event loop so you have to learn how to use it instead of loop <code>while True:</code>.</p>\n\n<p>See more on PyGame page:</p>\n\n<ul>\n<li><a href=\"https://www.pygame.org/wiki/gui\" rel=\"nofollow noreferrer\">https://www.pygame.org/wiki/gui</a></li>\n<li><a href=\"https://www.pygame.org/tags/gui\" rel=\"nofollow noreferrer\">https://www.pygame.org/tags/gui</a> </li>\n</ul>\n\n<hr>\n\n<p>BTW:</p>\n\n<p><code>SGC</code> doesn't use own event loop and it shows how to use it in own mailoop in <a href=\"https://program.sambull.org/sgc/tutorial.get_started.html\" rel=\"nofollow noreferrer\">Getting Started</a> </p>\n\n<p><code>PGU</code> uses own event loop but it shows how to use it in own mainloop (only) in  <a href=\"https://github.com/parogers/pgu/blob/master/examples/gui10.py\" rel=\"nofollow noreferrer\">example 10</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8896166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Hu1XU.jpg?s=128&g=1", "display_name": "groot", "link": "https://stackoverflow.com/users/8896166/groot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1437, "favorite_count": 0, "closed_date": 1552300713, "answer_count": 1, "score": 0, "last_activity_date": 1510787879, "creation_date": 1510784946, "question_id": 47318421, "link": "https://stackoverflow.com/questions/47318421/how-do-i-make-a-text-box-in-pygame", "closed_reason": "Duplicate", "title": "How do I make a text box in pygame?", "body": "<p>So I\u2019m new with pygame and I was wondering how do you make a basic text box</p>\n\n<p>I know you have to create a window as so:</p>\n\n<pre><code>import pygame, sys\npygame.init()\n\nscreen= pygame.display.set_mode([800,600]) \npygame.display.flip\n</code></pre>\n\n<p>but then I have no idea where to go from there </p>\n\n<p>any help much appreciated :)</p>\n"}, {"tags": ["python", "python-2.7", "multiprocessing", "python-multiprocessing"], "comments": [{"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 2, "creation_date": 1510784865, "post_id": 47318371, "comment_id": 81587947, "body": "Multiprocessing may not help you as much as you think here... Unless your XML files are on different volumes, you&#39;re probably more likely to thrash the disk then get any considerable performance gains. Multithreading/processing is better suited to application with network usage or distributable cpu loads..."}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "reply_to_user": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1510785176, "post_id": 47318371, "comment_id": 81588095, "body": "@Shadow - not necessarily, if those XML files are huge and complex, XML parsing can eat a sizeable chunk of CPU time guaranteeing at least some speed-up (assuming multicore/multiprocessor environment, of course)."}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1510785305, "post_id": 47318371, "comment_id": 81588147, "body": "Please provide the full stack trace. I don&#39;t see any cause for an attribute error here... Also the filename you are passing it is not a string..."}], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 860052, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/979066de2e5b95bfed6d8b984d90c930?s=128&d=identicon&r=PG", "display_name": "Man Wa kileleshwa", "link": "https://stackoverflow.com/users/860052/man-wa-kileleshwa"}, "edited": false, "score": 0, "creation_date": 1510821410, "post_id": 47318933, "comment_id": 81600485, "body": "lxml works fine on Windows. I have sucessuflly parsed many files using in in my setup. However when I introduce the multiprocessing part, I get the error"}, {"owner": {"reputation": 5000, "user_id": 8405835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sN3eq.png?s=128&g=1", "display_name": "Abhijit Pritam Dutta", "link": "https://stackoverflow.com/users/8405835/abhijit-pritam-dutta"}, "reply_to_user": {"reputation": 397, "user_id": 860052, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/979066de2e5b95bfed6d8b984d90c930?s=128&d=identicon&r=PG", "display_name": "Man Wa kileleshwa", "link": "https://stackoverflow.com/users/860052/man-wa-kileleshwa"}, "edited": false, "score": 0, "creation_date": 1510821670, "post_id": 47318933, "comment_id": 81600633, "body": "Can you try this in Linux or Unix first and check. It clearly Library/Module issue."}, {"owner": {"reputation": 397, "user_id": 860052, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/979066de2e5b95bfed6d8b984d90c930?s=128&d=identicon&r=PG", "display_name": "Man Wa kileleshwa", "link": "https://stackoverflow.com/users/860052/man-wa-kileleshwa"}, "edited": false, "score": 0, "creation_date": 1510858887, "post_id": 47318933, "comment_id": 81626335, "body": "Unfortunately I don&#39;t have Linux or Unix, I only have Windows. Thanks"}], "tags": [], "owner": {"reputation": 5000, "user_id": 8405835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sN3eq.png?s=128&g=1", "display_name": "Abhijit Pritam Dutta", "link": "https://stackoverflow.com/users/8405835/abhijit-pritam-dutta"}, "is_accepted": false, "score": 0, "last_activity_date": 1510787691, "creation_date": 1510787691, "answer_id": 47318933, "question_id": 47318371, "link": "https://stackoverflow.com/questions/47318371/python-2-7-multiprocessing-on-windows/47318933#47318933", "title": "Python 2.7 Multiprocessing on Windows", "body": "<p><code>from lxml import etree</code> seems like your python does not have module <code>lxml</code> in it. Some module are different based on OS. Please check whether module <code>lxml</code> is available for windows or not.</p>\n"}], "owner": {"reputation": 397, "user_id": 860052, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/979066de2e5b95bfed6d8b984d90c930?s=128&d=identicon&r=PG", "display_name": "Man Wa kileleshwa", "link": "https://stackoverflow.com/users/860052/man-wa-kileleshwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510821265, "creation_date": 1510784764, "last_edit_date": 1510821265, "question_id": 47318371, "link": "https://stackoverflow.com/questions/47318371/python-2-7-multiprocessing-on-windows", "title": "Python 2.7 Multiprocessing on Windows", "body": "<p>I am new to multiprocessing, but I need to parse a large number of xml files, the parsing is part of a larger application. Parsing can happen in the \"background\" so it doesn't affect the main application. To that end I have the following (exerpt)</p>\n\n<pre><code>from lxml import etree\nfrom StringIO import StringIO\nimport multiprocessing as mp\n\n\ndef parseBookXML(xmlFile):\n\n    f = open(xmlFile)\n    xml = f.read()\n    f.close()\n\n    tree = etree.parse(StringIO(xml))\n\n    #now write it out to file\n    with open(\"out_filename\", \"w\") as fout:\n    fout.write(ET.tostring(tree))\n\ndef do_process_file():\n     process = mp.Process(target=parseBookXML, args=(c:\\my_xml_file.xml))\n     process.start()\n</code></pre>\n\n<p>Essentially I want to call the parseBookXML function, pass it a file as a parameter (or even a list of xml files) and let the parsing happen it its own process and complete.</p>\n\n<p>When doing this normally (i.e without process.start()) it works fine. </p>\n\n<pre><code>def do_process_file():\n     self.parseBookXML(c:\\my_xml_file.xml)\n</code></pre>\n\n<p>The above works fine, the xml_file is parsed no errors.</p>\n\n<p>But making use of the do_process_file function gives me errors, along the lines of </p>\n\n<blockquote>\n  <p>AttributeError no module etree</p>\n</blockquote>\n\n<p>I am on Windows using python 2.7, not using the REPL or interactive interpreter. I have read that windows differs from linux, </p>\n\n<p>I have read a little about mulitprocessing not pickling in Windows (i'm not sure what that means)</p>\n\n<p>what I really need to know is how to make this kind of function work. </p>\n"}, {"tags": ["python", "sql-server", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 2293, "user_id": 294836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39669186deaaafaa691ac0605fb0b8ce?s=128&d=identicon&r=PG", "display_name": "WombatPM", "link": "https://stackoverflow.com/users/294836/wombatpm"}, "edited": false, "score": 0, "creation_date": 1510786927, "post_id": 47318485, "comment_id": 81588744, "body": "MSSQL Server, Oracle, MySQL, POSTGRESQL all have slightly different but very similar syntax."}, {"owner": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510843204, "post_id": 47318485, "comment_id": 81615737, "body": "This is working in a sql statement that I execute with cursor.execute(), where cursor is the connection.cursor() object. Could you elaborate on how I could upload a pandas dataframe with this type of statement? I&#39;m experimenting with the bcp as noted in the other answer but I&#39;ll try out a multitude of things since this process will be utilized more heavily in the future in our company and it&#39;d be nice to have a wider breadth of knowledge.  Thanks!"}, {"owner": {"reputation": 878, "user_id": 2445273, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7CgrG.jpg?s=128&g=1", "display_name": "LoMaPh", "link": "https://stackoverflow.com/users/2445273/lomaph"}, "edited": false, "score": 0, "creation_date": 1570121657, "post_id": 47318485, "comment_id": 102822623, "body": "The statement is supported in SQL Server 2016 onward."}], "tags": [], "owner": {"reputation": 111, "user_id": 1518867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33444f32025fa80ab08433d1271c0fc1?s=128&d=identicon&r=PG", "display_name": "ben", "link": "https://stackoverflow.com/users/1518867/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1510785245, "creation_date": 1510785245, "answer_id": 47318485, "question_id": 47318359, "link": "https://stackoverflow.com/questions/47318359/python-3-6-connection-to-ms-sql-server-for-large-dataframe/47318485#47318485", "title": "Python 3.6 connection to MS SQL Server for large dataframe", "body": "<p>'DROP TABLE IF EXISTS test_table' just looks like invalid tsql syntax.\nyou can do something like this:</p>\n\n<pre><code>if (object_id('test_table') is not null) \nDROP TABLE test_table\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510845255, "post_id": 47320720, "comment_id": 81617344, "body": "Thanks Babu. Can you elaborate on where the command string is read by the call statement? Also I&#39;m getting the following error in my test: SQLState = 22005, NativeError = 0 Error = [Microsoft][ODBC Driver 13 for SQL Server]Invalid character value for cast specification  I&#39;ve Google this some but can&#39;t figure out how to change the code you&#39;ve put up to make it work. Any help would be appreciated! My test was done with integers but the actual tables I&#39;ll deal with will be all strings if that changes anything. Finally I am on a Windows machine if that also changes anything. Thanks so much!"}, {"owner": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510846124, "post_id": 47320720, "comment_id": 81617980, "body": "Babu, I went into Microsoft SQL Server Management Studio and manually changed the types of the columns to VARCHAR(8000) and the bcp call worked just fine! I&#39;m going to try it with a real dataset I have and I&#39;ll post an update after. Thank you!"}, {"owner": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510846530, "post_id": 47320720, "comment_id": 81618257, "body": "Sorry to blow-up the comments with real-time live updates... The data that I&#39;ll be uploading has dates involved and I need to try to get the date format uploaded correctly (ie, not uploading &#39;2017-10-31&#39; as a string). Can you please post a short example of specifying column types using the bcp call statement? Thank you so much again!"}, {"owner": {"reputation": 216, "user_id": 8792491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6014ca4293352e6f850b0c31139bd5be?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Arunachalam", "link": "https://stackoverflow.com/users/8792491/babu-arunachalam"}, "reply_to_user": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510852620, "post_id": 47320720, "comment_id": 81622647, "body": "Typically you get the invalid value for cast when the csv file is parsed incorrectly and cast of type from csv to database column is incorrect.  Another frequent error is with String truncation if the size of the data for a column in csv is larger than database column size.  As long as data type in csv matches schema and the parsing of csv matches the columns correctly you should be good.  The -e option logs errors.  You can check the error file to see the rows that failed."}, {"owner": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510853068, "post_id": 47320720, "comment_id": 81622941, "body": "So then is there no way to specify that the date columns should be read by bcp as the SQL Server datetime type?"}, {"owner": {"reputation": 216, "user_id": 8792491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6014ca4293352e6f850b0c31139bd5be?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Arunachalam", "link": "https://stackoverflow.com/users/8792491/babu-arunachalam"}, "reply_to_user": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510853748, "post_id": 47320720, "comment_id": 81623365, "body": "You could try a format file to match the fields.  bcp expects date as &#39;2017-10-31&#39; or &#39;20171031&#39;.  If you leave out &#39;-c&#39; option, then bcp will prompt you for the type of each column in database.  You can use DATE to see if it solves your problem.  The format file can be saved and used with a &#39;-f&#39; option.  Hope this helps."}, {"owner": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510860542, "post_id": 47320720, "comment_id": 81627307, "body": "Babu I&#39;ve read about the format file but I&#39;m not sure how to make/use it. I&#39;m executing everything from Python(the goal is that this will be an automated process). Can you do me one last favor and post an example of setting up the format file then using it in the call statement? I really really appreciate your help! (Your help has given me more progress in a few hours than I&#39;ve gotten in days on my own)"}, {"owner": {"reputation": 216, "user_id": 8792491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6014ca4293352e6f850b0c31139bd5be?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Arunachalam", "link": "https://stackoverflow.com/users/8792491/babu-arunachalam"}, "reply_to_user": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510862724, "post_id": 47320720, "comment_id": 81628412, "body": "Hi Nick, generate the csv file and then from shell command line do the following - bcp &lt;table&gt; in &lt;csv file&gt; -S &lt;server&gt; -U &lt;user&gt; -P &lt;password&gt; -d &lt;database&gt; -t &quot;\\t&quot; -r &quot;\\n&quot; -e &lt;errror file&gt;.  This will prompt you to enter the SQL type for each column.  Notice the &quot;-c&quot; option missing in bcp."}, {"owner": {"reputation": 216, "user_id": 8792491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6014ca4293352e6f850b0c31139bd5be?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Arunachalam", "link": "https://stackoverflow.com/users/8792491/babu-arunachalam"}, "reply_to_user": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510863251, "post_id": 47320720, "comment_id": 81628681, "body": "You&#39;ll have an option to save the format file.  After saving the format file, you can then automate from python by using -f &lt;format file&gt; instead of -c in your script."}, {"owner": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510869969, "post_id": 47320720, "comment_id": 81632093, "body": "Thanks so much Babu! I meant to comment here earlier that I had figured out another way to solve my problem, but it&#39;s kind of hacky. I&#39;ll upload the dates as strings and then each time the script runs at the end it&#39;ll alter the column types within SQL Server. Then on subsequent runs it&#39;ll change them back to VARCHAR to upload the date-strings again. It&#39;s not pretty but it&#39;s working. Thanks so so much for your help today!!"}, {"owner": {"reputation": 216, "user_id": 8792491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6014ca4293352e6f850b0c31139bd5be?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Arunachalam", "link": "https://stackoverflow.com/users/8792491/babu-arunachalam"}, "reply_to_user": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1510870486, "post_id": 47320720, "comment_id": 81632341, "body": "Great.  I&#39;m glad i could help you."}, {"owner": {"reputation": 1250, "user_id": 5382796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNY1n.jpg?s=128&g=1", "display_name": "GSazheniuk", "link": "https://stackoverflow.com/users/5382796/gsazheniuk"}, "reply_to_user": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "edited": false, "score": 0, "creation_date": 1511206168, "post_id": 47320720, "comment_id": 81752596, "body": "Hey @NicPayne, I believe if you just specify datetime as a format for the column in the final table, it should all work as desired. SQL will take care for casting, assuming that you do not have bad entries in the source data."}], "tags": [], "owner": {"reputation": 216, "user_id": 8792491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6014ca4293352e6f850b0c31139bd5be?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Arunachalam", "link": "https://stackoverflow.com/users/8792491/babu-arunachalam"}, "is_accepted": true, "score": 2, "last_activity_date": 1510816703, "last_edit_date": 1510816703, "creation_date": 1510800439, "answer_id": 47320720, "question_id": 47318359, "link": "https://stackoverflow.com/questions/47318359/python-3-6-connection-to-ms-sql-server-for-large-dataframe/47320720#47320720", "title": "Python 3.6 connection to MS SQL Server for large dataframe", "body": "<p>If you only need to replace the existing table, truncate it and use bcp utility to upload the table.  It's much faster.</p>\n\n<pre><code>from subprocess import call\n\ncommand = \"TRUNCATE TABLE test_table\"\ntake_rates.to_csv('take_rates.csv', sep='\\t', index=False)\ncall('bcp {t} in {f} -S {s} -U {u} -P {p} -d {db} -c -t \"{sep}\" -r \"{nl}\" -e {e}'.format(t='test_table', f='take_rates.csv', s=server, u=user, p=password, db=database, sep='\\t', nl='\\n')\n</code></pre>\n\n<p>You will need to install bcp utility (yum install mssql-tools on CentOS/RedHat).</p>\n"}], "owner": {"reputation": 45, "user_id": 4379734, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P11AAS9tljQ/AAAAAAAAAAI/AAAAAAAAAC4/zWQ-C6qd3R8/photo.jpg?sz=128", "display_name": "Nic Payne", "link": "https://stackoverflow.com/users/4379734/nic-payne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1004, "favorite_count": 1, "accepted_answer_id": 47320720, "answer_count": 2, "score": 1, "last_activity_date": 1510816703, "creation_date": 1510784707, "last_edit_date": 1510784951, "question_id": 47318359, "link": "https://stackoverflow.com/questions/47318359/python-3-6-connection-to-ms-sql-server-for-large-dataframe", "title": "Python 3.6 connection to MS SQL Server for large dataframe", "body": "<p>I am a new Python coder and also a new data scientist so please forgive any foolish sounding things here. I'll keep the details out unless anyone's curious but basically I need to connect to Microsoft SQL Server and upload a Pandas DF that is relatively large (~500k rows) and I need to do this almost every day as the project currently stands. </p>\n\n<p>It doesn't have to be a Pandas DF - I've read about using odo for csv files but I haven't been able to get anything to work. The issue I'm having is that I can't bulk insert the DF because the file isn't on the same machine as the SQL Server instance. I'm consistently getting errors like the following:</p>\n\n<blockquote>\n  <p>pyodbc.ProgrammingError: ('42000', \"[42000] [Microsoft][ODBC SQL\n  Server Driver][SQL Server]Incorrect syntax near the keyword 'IF'.\n  (156) (SQLExecDirectW)\")</p>\n</blockquote>\n\n<p>As I've attempted different SQL statements you can replace <code>IF</code> with whatever has been the first <code>COL_NAME</code> in the <code>CREATE</code> statement. I'm using SQLAlchemy to create the engine and connect to the database. This may go without saying but the <code>pd.to_sql()</code> method is just way too slow for how much data I'm moving so that's why I need something faster. </p>\n\n<p>I'm using Python 3.6 by the way. I've put down here most of the things that I've tried that haven't been successful.</p>\n\n<pre><code>import pandas as pd\nfrom sqlalchemy import create_engine\nimport numpy as np    \ndf = pd.DataFrame(np.random.randint(0,100,size=(100, 1)), columns=list('test_col'))\naddress = 'mssql+pyodbc://uid:pw@server/path/database?driver=SQL Server'\nengine = create_engine(address)\nconnection = engine.raw_connection()\ncursor = connection.cursor()\n# Attempt 1 &lt;- This failed to even create a table at the cursor_execute statement so my issues could be way in the beginning here but I know that I have a connection to the SQL Server because I can use pd.to_sql() to create tables successfully (just incredibly slowly for my tables of interest)\ncreate_statement = \"\"\"\nDROP TABLE test_table\nCREATE TABLE test_table (test_col)\n\"\"\"\ncursor.execute(create_statement)\ntest_insert = '''\nINSERT INTO test_table\n(test_col)\nvalues ('abs');\n'''\ncursor.execute(test_insert)\n\nAttempt 2 &lt;- From iabdb WordPress blog I came across\ndef chunker(seq, size):\n    return (seq[pos:pos + size] for pos in range(0, len(seq), size))\nrecords = [str(tuple(x)) for x in take_rates.values]\n\ninsert_ = \"\"\"\nINSERT INTO test_table\n(\"A\")\nVALUES\n\"\"\"\n\nfor batch in chunker(records, 2): # This would be set to 1000 in practice I hope\n    print(batch)\n    rows = str(batch).strip('[]')\n    print(rows)\n    insert_rows = insert_ + rows\n    print(insert_rows)\n    cursor.execute(insert_rows)\n    #conn.commit() # don't know when I would need to commit\n\nconn.close()\n\n# Attempt 3 # From a related Stack Exchange Post\n create the table but first drop if it already exists\ncommand = \"\"\"DROP TABLE IF EXISTS test_table\nCREATE TABLE test_table # these columns are from my real dataset\n\"Serial Number\" serial primary key,\n\"Dealer Code\" text,\n\"FSHIP_DT\" timestamp without time zone,\n;\"\"\"\ncursor.execute(command)\nconnection.commit()\n\n# stream the data using 'to_csv' and StringIO(); then use sql's 'copy_from' function\noutput = io.StringIO()\n# ignore the index\ntake_rates.to_csv(output, sep='~', header=False, index=False)\n# jump to start of stream\noutput.seek(0)\ncontents = output.getvalue()\ncur = connection.cursor()\n# null values become ''\ncur.copy_from(output, 'Config_Take_Rates_TEST', null=\"\")\nconnection.commit()\ncur.close()\n</code></pre>\n\n<p>It seems to me that MS SQL Server is just not a nice Database to play around with...\nI want to apologize for the rough formatting - I've been at this script for weeks now but just finally decided to try to organize something for StackOverflow. Thank you very much for any help anyone can offer!</p>\n"}, {"tags": ["python", "json", "amazon-web-services", "datetime", "boto3"], "comments": [{"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1511974778, "post_id": 47318357, "comment_id": 82073497, "body": "What&#39;s script.py doing?"}, {"owner": {"reputation": 119, "user_id": 2241296, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4d8e6e9a6dfc5d060a2f576915dfb6c5?s=128&d=identicon&r=PG", "display_name": "RaptorPete", "link": "https://stackoverflow.com/users/2241296/raptorpete"}, "reply_to_user": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1511995104, "post_id": 47318357, "comment_id": 82083919, "body": "It&#39;s sending API commands to my monitoring application, Centreon."}, {"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1511997025, "post_id": 47318357, "comment_id": 82084662, "body": "This looks like an issue with Boto3 send_command API. It&#39;s unable to serialize the response of the API request. Open an issue on the <a href=\"https://github.com/boto/boto3/issues/808\" rel=\"nofollow noreferrer\">project repository</a> after you confirm one doesn&#39;t exist for it. You may want to patch <code>json.encode</code> to handle serialization of datetime objects for the time being."}, {"owner": {"reputation": 302, "user_id": 1432213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dec3d578f4aa2bc33c11cac65aa03ea?s=128&d=identicon&r=PG", "display_name": "belial", "link": "https://stackoverflow.com/users/1432213/belial"}, "edited": false, "score": 0, "creation_date": 1518523200, "post_id": 47318357, "comment_id": 84532816, "body": "Did you get a resolution to this issue? I have the same issue when trying to return back the result of an s3.Object.copy_from() function."}, {"owner": {"reputation": 119, "user_id": 2241296, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4d8e6e9a6dfc5d060a2f576915dfb6c5?s=128&d=identicon&r=PG", "display_name": "RaptorPete", "link": "https://stackoverflow.com/users/2241296/raptorpete"}, "reply_to_user": {"reputation": 302, "user_id": 1432213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dec3d578f4aa2bc33c11cac65aa03ea?s=128&d=identicon&r=PG", "display_name": "belial", "link": "https://stackoverflow.com/users/1432213/belial"}, "edited": false, "score": 1, "creation_date": 1520302924, "post_id": 47318357, "comment_id": 85250355, "body": "@belial yes, I did.  AWS doesn&#39;t have any library for time, so Just add &quot;import time&quot; to the top of your code.  Once I added that it worked."}], "owner": {"reputation": 119, "user_id": 2241296, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4d8e6e9a6dfc5d060a2f576915dfb6c5?s=128&d=identicon&r=PG", "display_name": "RaptorPete", "link": "https://stackoverflow.com/users/2241296/raptorpete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 634, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510784702, "creation_date": 1510784702, "question_id": 47318357, "link": "https://stackoverflow.com/questions/47318357/lambda-function-using-ssm-send-command-from-boto3-library-getting-error-dateti", "title": "Lambda Function using ssm.send_command from boto3 library- getting error &quot;datetime.datetimeis not JSON serializable&quot;", "body": "<p>Using this code:</p>\n\n<pre><code>command = ssm.send_command( InstanceIds=[ 'i-xxxxxxxxxx' ], DocumentName='AWS-RunPowerShellScript', Comment='Restarting Server', Parameters={ \"commands\":[\".\\\\python.exe C:\\\\Users\\\\user\\\\Desktop\\\\script.py\"], \"workingDirectory\": [\"C:\\\\Python36\"] } )\nreturn command\n</code></pre>\n\n<p>I am receiving this error in my AWS Lambda function:</p>\n\n<pre><code>An error occurred during JSON serialization of response: datetime.datetime(2017, 11, 16, 0, 16, 2, 314000, tzinfo=tzlocal()) is not JSON serializable\nTraceback (most recent call last):\n  File \"/var/lang/lib/python3.6/json/__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n  File \"/var/lang/lib/python3.6/json/encoder.py\", line 199, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"/var/lang/lib/python3.6/json/encoder.py\", line 257, in iterencode\n    return _iterencode(o, 0)\n  File \"/var/runtime/awslambda/bootstrap.py\", line 110, in decimal_serializer\n    raise TypeError(repr(o) + \" is not JSON serializable\")\nTypeError: datetime.datetime(2017, 11, 16, 0, 16, 2, 314000, tzinfo=tzlocal()) is not JSON serializable\n</code></pre>\n\n<p>This doesn't make any sense to me because I'm not using any method that has to do with datetime.datetime.<br>\nThat command variable I guess has JSON in it but I'm not sure why it appears to be using datetime.</p>\n"}, {"tags": ["java", "python", "tensorflow", "tensorflow-serving"], "owner": {"reputation": 159, "user_id": 5091288, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-R6dKM1lkRdg/AAAAAAAAAAI/AAAAAAAAIo8/kOrGR8RKPy4/photo.jpg?sz=128", "display_name": "gagan malhotra", "link": "https://stackoverflow.com/users/5091288/gagan-malhotra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510964130, "creation_date": 1510784260, "last_edit_date": 1510964130, "question_id": 47318271, "link": "https://stackoverflow.com/questions/47318271/dense-and-sparse-tensor-input-to-tensorflow-model-in-java", "title": "Dense and Sparse Tensor Input to TensorFlow Model in Java", "body": "<p>After training the model in python &amp; loading it in Java, for making predictions, how is it possible to create sparse tensors for categorical inputs.</p>\n\n<p>I could successfully create tensors for numeric values as : </p>\n\n<pre><code>   Tensor x =\n        Tensor.create(\n            new long[] {2, 4},\n            FloatBuffer.wrap(\n                new float[] {\n                  6.4f, 3.2f, 4.5f, 1.5f,\n                  5.8f, 3.1f, 5.0f, 1.7f\n                }));\n</code></pre>\n\n<p><strong>But for Categorical data, we need Sparse Tensors, how can we create it?</strong></p>\n\n<p>Please find my input_fn() as :</p>\n\n<pre><code>def input_fn(df):\n  # Creates a dictionary mapping from each continuous feature column name (k) to\n  # the values of that column stored in a constant Tensor.\n  continuous_cols = {k: tf.constant(df[k].values)\n                     for k in CONTINUOUS_COLUMNS}\n\n  # Creates a dictionary mapping from each categorical feature column name (k)\n  categorical_cols = {k: tf.SparseTensor(\n      indices=[[i, 0] for i in range(df[k].size)],\n      values=df[k].values,\n      dense_shape=[df[k].size, 1])\n                      for k in CATEGORICAL_COLUMNS}\n\n  # Merges the two dictionaries into one.\n  feature_cols = dict(continuous_cols.items() + categorical_cols.items())\n\n  # Converts the label column into a constant Tensor.\n  label = tf.constant(df[LABEL_COLUMN].values)\n\n  # Returns the feature columns and the label.\n  return feature_cols, label\n</code></pre>\n\n<p>So what if i have input like below: </p>\n\n<pre><code>age   workclass fnlwgt  education education_num  marital_status occupation      race   LABEL(Income_bracket)\n39   State-gov  77516    Bachelors  13          Never-married    Adm-clerical    White    3\n</code></pre>\n\n<p><strong>How can i create a tensor for continous values and categorical values and merge them to be provided as the input to Tensorflow in JAVA.</strong></p>\n\n<p>Find the code for training the model in python - <a href=\"https://gist.github.com/gaganmalhotra/cd6a5898b9caf9005a05c8831a9b9153\" rel=\"nofollow noreferrer\">https://gist.github.com/gaganmalhotra/cd6a5898b9caf9005a05c8831a9b9153</a></p>\n\n<p>@ash</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1510784299, "post_id": 47318266, "comment_id": 81587657, "body": "are you sure the passwordText doesn&#39;t have any spaces or other characters with it?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1510784315, "post_id": 47318266, "comment_id": 81587665, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 1, "creation_date": 1510784320, "post_id": 47318266, "comment_id": 81587667, "body": "Try printing <code>repr(passwordAttempt)</code> and <code>repr(passwordText</code>. They won&#39;t be the same - computers do not lie."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510784377, "post_id": 47318266, "comment_id": 81587702, "body": "Please demonstrate the problem explicitly.  Among other things, you need to display the strings you&#39;re comparing, with some way to distinguish white space: leading/trailing blanks, line feeds, etc."}], "answers": [{"tags": [], "owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "is_accepted": true, "score": 0, "last_activity_date": 1510784887, "creation_date": 1510784887, "answer_id": 47318400, "question_id": 47318266, "link": "https://stackoverflow.com/questions/47318266/python-two-variables-are-the-same-but-python-doesnt-think-that-they-are/47318400#47318400", "title": "Python two variables are the same but python doesnt think that they are", "body": "<p>When you run <code>passwordText = linecache.getline(\"logins.txt\", passwordLine)</code>, if your file has multiple lines, it may return the string with <code>\\n</code> at the end.</p>\n"}], "owner": {"reputation": 29, "user_id": 8948090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4991632db7617aab9f3abf1ba58efab?s=128&d=identicon&r=PG&f=1", "display_name": "hazzerjt", "link": "https://stackoverflow.com/users/8948090/hazzerjt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 47318400, "answer_count": 1, "score": -4, "last_activity_date": 1510784887, "creation_date": 1510784234, "question_id": 47318266, "link": "https://stackoverflow.com/questions/47318266/python-two-variables-are-the-same-but-python-doesnt-think-that-they-are", "title": "Python two variables are the same but python doesnt think that they are", "body": "<p>I am making a program which has a login; it checks the input against the user's input. However, it won't accept that they have entered the correct password, even when it is correct:</p>\n\n<pre><code>for i in range(5):\n    existingUsername = input(\"What is your user name?\")\n    if existingUsername in open('logins.txt').read():\n        with open(\"logins.txt\", \"r\") as myFile:\n            for num, line in enumerate(myFile, 1):\n                if existingUsername in line:\n                    passwordLine = num + 1\n                    passwordAttempt = input(str(\"What is your password?\"))\n                    passwordText = linecache.getline(\"logins.txt\", passwordLine)\n                    if passwordAttempt == passwordText:\n                        print(\"That is correct\")\n                        quizSelection()\n                        break\n                    else:\n                        print(\"That doesn't seem to match. Please try again\")\n</code></pre>\n\n<p>The text file it references only has Har16 and Google in it, on separate lines with Har16 at the top</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2201, "user_id": 1488801, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6uYLp.jpg?s=128&g=1", "display_name": "James Elderfield", "link": "https://stackoverflow.com/users/1488801/james-elderfield"}, "edited": false, "score": 1, "creation_date": 1510784422, "post_id": 47318240, "comment_id": 81587733, "body": "I hate to be rude but this coding style is pretty weird. Take a look at <a href=\"http://wiki.c2.com/?GlobalVariablesConsideredHarmful\" rel=\"nofollow noreferrer\">this</a> for why you might want to avoid all those globals and <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">this</a> for a style guide that many people follow when writing python code."}, {"owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "edited": false, "score": 0, "creation_date": 1510784428, "post_id": 47318240, "comment_id": 81587738, "body": "You&#39;ll need another variable that&#39;ll keep track of the number of spaces that needs to go between the symbols in one line."}, {"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 0, "creation_date": 1510784440, "post_id": 47318240, "comment_id": 81587742, "body": "Try printing out the values of your variables at various stages of your program (e.g. at the beginning/end of your main loop).  Or even better, learn to use a debugger and step through your code so you can see where it is going wrong."}], "answers": [{"tags": [], "owner": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "is_accepted": true, "score": 1, "last_activity_date": 1510785188, "last_edit_date": 1510785188, "creation_date": 1510784616, "answer_id": 47318334, "question_id": 47318240, "link": "https://stackoverflow.com/questions/47318240/code-for-making-a-triangle-not-working/47318334#47318334", "title": "Code for making a triangle not working", "body": "<p>edited since a commenter mentioned it was for python 3</p>\n\n<p>one of the issues that you are facing is that print statements automatically move to the next line. Change print statements from </p>\n\n<pre><code>print(something) \n</code></pre>\n\n<p>to</p>\n\n<pre><code>print(something, end = \"\")\n</code></pre>\n\n<p>note the use of the comma after the print</p>\n"}], "owner": {"reputation": 3, "user_id": 8948011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bf762dc248007d0b078b7c128f8319d?s=128&d=identicon&r=PG", "display_name": "Torrent", "link": "https://stackoverflow.com/users/8948011/torrent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "closed_date": 1510831187, "accepted_answer_id": 47318334, "answer_count": 1, "score": -3, "last_activity_date": 1510785188, "creation_date": 1510784095, "last_edit_date": 1510784548, "question_id": 47318240, "link": "https://stackoverflow.com/questions/47318240/code-for-making-a-triangle-not-working", "closed_reason": "Needs more focus", "title": "Code for making a triangle not working", "body": "<p>So I am trying to make a code for school where it makes a hollow triangle with a symbol input and a maximum number of symbol input. Instead of creating a triangle, it is instead making a vertical line of the symbols, so with an input of A and 9, instead of this:    </p>\n\n<pre><code>    A\n   A A\n  A   A\n A     A\nAAAAAAAAA\n</code></pre>\n\n<p>It Gives me a long line of A's</p>\n\n<p>Here is my code</p>\n\n<pre><code>def SetValues():\n    global symbol\n    symbol = input(\"Enter Symbol: \")\n    InputMaxNumberOfSymbols()\n    global NumberOfSpaces\n    NumberOfSpaces = (MaxNumberOfSymbols - 1) / 2\n    global NumberOfSymbols\n    NumberOfSymbols = 1\n\n\ndef InputMaxNumberOfSymbols():\n    global MaxNumberOfSymbols\n    MaxNumberOfSymbols = int(input(\"Max Number of symbols: \"))\n    while MaxNumberOfSymbols % 2 == 0:\n        MaxNumberOfSymbols = int(input(\"Max Number of symbols: \"))\n\ndef OutputSpaces():\n    for i in range(0, int(NumberOfSpaces)):\n        print(\" \")\n\n\ndef OutputSymbols():\n    for i in range(0, NumberOfSymbols):\n        print(symbol)\n        print(\"\\n\")\n\n\ndef AdjustValuesForNextRow():\n    global NumberOfSpaces\n    NumberOfSpaces -= 1\n    global NumberOfSymbols\n    NumberOfSymbols += 2\n\n\n#Main Code\nSetValues()\nwhile not NumberOfSymbols &gt; MaxNumberOfSymbols:\n    OutputSpaces()\n    OutputSymbols()\n    AdjustValuesForNextRow()\n</code></pre>\n"}, {"tags": ["python", "django", "postgresql", "ubuntu", "psycopg2"], "comments": [{"owner": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "edited": false, "score": 1, "creation_date": 1510784653, "post_id": 47318227, "comment_id": 81587830, "body": "You installed Python3 headers, but Python in your virt. environment is 2.7 (/usr/include/python2.7)."}, {"owner": {"reputation": 443, "user_id": 3541909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7367db02c616e5101691cd873a36e8fd?s=128&d=identicon&r=PG&f=1", "display_name": "unpaid-intern", "link": "https://stackoverflow.com/users/3541909/unpaid-intern"}, "reply_to_user": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "edited": false, "score": 0, "creation_date": 1510784756, "post_id": 47318227, "comment_id": 81587889, "body": "Hmmm.. okay, I only barely understand package management tools for linux conceptually, so I&#39;m struggling with this (obviously)."}, {"owner": {"reputation": 443, "user_id": 3541909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7367db02c616e5101691cd873a36e8fd?s=128&d=identicon&r=PG&f=1", "display_name": "unpaid-intern", "link": "https://stackoverflow.com/users/3541909/unpaid-intern"}, "reply_to_user": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "edited": false, "score": 0, "creation_date": 1510784785, "post_id": 47318227, "comment_id": 81587912, "body": "I thought I had installed python 3 on this virtual environment. How can I set it to point  to python 3?"}, {"owner": {"reputation": 443, "user_id": 3541909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7367db02c616e5101691cd873a36e8fd?s=128&d=identicon&r=PG&f=1", "display_name": "unpaid-intern", "link": "https://stackoverflow.com/users/3541909/unpaid-intern"}, "reply_to_user": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "edited": false, "score": 0, "creation_date": 1510785146, "post_id": 47318227, "comment_id": 81588076, "body": "Fair enough :)  I guess next step is to google: &quot;how to set python version when creation new virtual envrionment in virtaulenv&quot; ?"}], "answers": [{"comments": [{"owner": {"reputation": 443, "user_id": 3541909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7367db02c616e5101691cd873a36e8fd?s=128&d=identicon&r=PG&f=1", "display_name": "unpaid-intern", "link": "https://stackoverflow.com/users/3541909/unpaid-intern"}, "edited": false, "score": 0, "creation_date": 1510784842, "post_id": 47318374, "comment_id": 81587936, "body": "Looks like you and Maurice are in agreement."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 443, "user_id": 3541909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7367db02c616e5101691cd873a36e8fd?s=128&d=identicon&r=PG&f=1", "display_name": "unpaid-intern", "link": "https://stackoverflow.com/users/3541909/unpaid-intern"}, "edited": false, "score": 0, "creation_date": 1510784864, "post_id": 47318374, "comment_id": 81587946, "body": "Yup, but: pip3 install &lt;module-name&gt;"}, {"owner": {"reputation": 443, "user_id": 3541909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7367db02c616e5101691cd873a36e8fd?s=128&d=identicon&r=PG&f=1", "display_name": "unpaid-intern", "link": "https://stackoverflow.com/users/3541909/unpaid-intern"}, "edited": false, "score": 0, "creation_date": 1510784883, "post_id": 47318374, "comment_id": 81587956, "body": "I am still new to  package management and linux in general, how can I pint my env. to the right version of python?"}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 443, "user_id": 3541909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7367db02c616e5101691cd873a36e8fd?s=128&d=identicon&r=PG&f=1", "display_name": "unpaid-intern", "link": "https://stackoverflow.com/users/3541909/unpaid-intern"}, "edited": false, "score": 0, "creation_date": 1510784898, "post_id": 47318374, "comment_id": 81587969, "body": "Updated answer :) Use pip3"}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 443, "user_id": 3541909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7367db02c616e5101691cd873a36e8fd?s=128&d=identicon&r=PG&f=1", "display_name": "unpaid-intern", "link": "https://stackoverflow.com/users/3541909/unpaid-intern"}, "edited": false, "score": 0, "creation_date": 1510785382, "post_id": 47318374, "comment_id": 81588178, "body": "Glad I could help! Best of luck, hope to see you back soon as paid-intern :)"}], "tags": [], "owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "is_accepted": true, "score": 20, "last_activity_date": 1613108293, "last_edit_date": 1613108293, "creation_date": 1510784783, "answer_id": 47318374, "question_id": 47318227, "link": "https://stackoverflow.com/questions/47318227/cannot-install-psycopg2-ubuntu/47318374#47318374", "title": "Cannot install psycopg2 Ubuntu", "body": "<p>You've installed the python-dev libraries for Python 3. Your psycopg2 install is using python 2.7</p>\n<p>Make sure you've installed python3-pip</p>\n<pre><code>sudo apt-get install python3-pip\n</code></pre>\n<p>Then:</p>\n<pre><code>pip3 install psycopg2\n</code></pre>\n<p>If that still fails, try installing the development headers for postgresql:</p>\n<pre><code>sudo apt install python3-dev libpq-dev\npip3 install psycopg2\n</code></pre>\n<p><strong>If on Python 2</strong></p>\n<pre><code>sudo apt update\nsudo apt-get install postgresql postgresql-contrib\nsudo apt-get install libpq-dev\nsudo apt-get install python-dev\nsudo apt-get install python-pip\npip2 install psycopg2-binary\n</code></pre>\n<p><strong>If on Ubuntu 20.04</strong></p>\n<pre><code>sudo apt-get install build-essential\n</code></pre>\n<p>Then run the other steps for either Python 2 or 3.</p>\n"}, {"comments": [{"owner": {"reputation": 3360, "user_id": 1472001, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/9ded8b0d0dd47a41e100fd201a58a8c9?s=128&d=identicon&r=PG", "display_name": "Fabien Quatravaux", "link": "https://stackoverflow.com/users/1472001/fabien-quatravaux"}, "edited": false, "score": 2, "creation_date": 1594283471, "post_id": 55086010, "comment_id": 111073538, "body": "This one was missing for me <code>sudo apt-get install libpq-dev</code>. After installing this package I was able to <code>pip install psycopg2</code>"}, {"owner": {"reputation": 2310, "user_id": 5559590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HpqGU.jpg?s=128&g=1", "display_name": "Manzurul Hoque Rumi", "link": "https://stackoverflow.com/users/5559590/manzurul-hoque-rumi"}, "reply_to_user": {"reputation": 3360, "user_id": 1472001, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/9ded8b0d0dd47a41e100fd201a58a8c9?s=128&d=identicon&r=PG", "display_name": "Fabien Quatravaux", "link": "https://stackoverflow.com/users/1472001/fabien-quatravaux"}, "edited": false, "score": 0, "creation_date": 1606472825, "post_id": 55086010, "comment_id": 114977360, "body": "@FabienQuatravaux Thanks. After installing <code>libpq-dev</code>, now it&#39;s working."}], "tags": [], "owner": {"reputation": 1397, "user_id": 4160889, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9b850842917dfd4220bdda00e2ecfa82?s=128&d=identicon&r=PG&f=1", "display_name": "ForeverLearner", "link": "https://stackoverflow.com/users/4160889/foreverlearner"}, "is_accepted": false, "score": 13, "last_activity_date": 1552209094, "last_edit_date": 1552209094, "creation_date": 1552208010, "answer_id": 55086010, "question_id": 47318227, "link": "https://stackoverflow.com/questions/47318227/cannot-install-psycopg2-ubuntu/55086010#55086010", "title": "Cannot install psycopg2 Ubuntu", "body": "<p>I was testing my application on a ubuntu docker image that only has python2.7.6 installed (as happens in most big orgs)</p>\n\n<p>If you are using python2.x (though you should plan to move to 3.x asap), check the below dependencies:</p>\n\n<pre><code>sudo apt update\nsudo apt-get install postgresql postgresql-contrib\nsudo apt-get install libpq-dev # this is required as psycopg2 uses pg_config\nsudo apt-get install python-dev\nsudo apt-get install python-pip\n</code></pre>\n\n<p>Now install psycopg2 using:</p>\n\n<pre><code>pip2 install psycopg2-binary\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 644, "user_id": 8676374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dafe7e892676d3f39d68362179815a56?s=128&d=identicon&r=PG&f=1", "display_name": "KingNonso", "link": "https://stackoverflow.com/users/8676374/kingnonso"}, "edited": false, "score": 0, "creation_date": 1605314456, "post_id": 59117151, "comment_id": 114621705, "body": "I used ` pip install psycopg2==2.8.3`"}], "tags": [], "owner": {"reputation": 131, "user_id": 11214262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7tdtkyusA-4/AAAAAAAAAAI/AAAAAAAAACw/DkedGydk3Tg/photo.jpg?sz=128", "display_name": "ANDRESMA", "link": "https://stackoverflow.com/users/11214262/andresma"}, "is_accepted": false, "score": 13, "last_activity_date": 1592821534, "last_edit_date": 1592821534, "creation_date": 1575124768, "answer_id": 59117151, "question_id": 47318227, "link": "https://stackoverflow.com/questions/47318227/cannot-install-psycopg2-ubuntu/59117151#59117151", "title": "Cannot install psycopg2 Ubuntu", "body": "<p>I had the same error trying to install it in a <strong>virtualenv</strong> (<em>with python3</em>)</p>\n<p>I solved it by installing a previous version of <strong>psycopg2</strong>.</p>\n<blockquote>\n<p>pip install psycopg2==2.7.5</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 6852081, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mU0cIEoTN6I/AAAAAAAAAAI/AAAAAAAAAAA/MOXyXcXUgEM/photo.jpg?sz=128", "display_name": "Shahar Gino", "link": "https://stackoverflow.com/users/6852081/shahar-gino"}, "is_accepted": false, "score": 1, "last_activity_date": 1593885752, "creation_date": 1593885752, "answer_id": 62732659, "question_id": 47318227, "link": "https://stackoverflow.com/questions/47318227/cannot-install-psycopg2-ubuntu/62732659#62732659", "title": "Cannot install psycopg2 Ubuntu", "body": "<p>I had to install this one as well on my Ubuntu 20.04 LTS:</p>\n<pre><code>sudo apt-get install build-essential\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8520849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oR2Zu.jpg?s=128&g=1", "display_name": "belal_bh", "link": "https://stackoverflow.com/users/8520849/belal-bh"}, "is_accepted": false, "score": 0, "last_activity_date": 1596869621, "creation_date": 1596869621, "answer_id": 63312617, "question_id": 47318227, "link": "https://stackoverflow.com/questions/47318227/cannot-install-psycopg2-ubuntu/63312617#63312617", "title": "Cannot install psycopg2 Ubuntu", "body": "<p>I faced same issue on my ubuntu 18.04 LTS OS.\nAlso, face some issues in <code>Pillow</code>. In both cases (<code>psycopg2</code> and <code>Pillow</code>) these command solved my issue.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>sudo apt install -y build-essential libssl-dev libffi-dev python3-dev libjpeg-dev libjpeg8-dev\n\nsudo apt install libpq-dev\n\nsudo apt-get install python3-pip\n</code></pre>\n<p>Note: I have installed <code>psycopg2</code> in <code>python=3.8.5</code> environment.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 13664194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whGx4.jpg?s=128&g=1", "display_name": "Shabeer", "link": "https://stackoverflow.com/users/13664194/shabeer"}, "is_accepted": false, "score": 6, "last_activity_date": 1600503890, "creation_date": 1600503890, "answer_id": 63966759, "question_id": 47318227, "link": "https://stackoverflow.com/questions/47318227/cannot-install-psycopg2-ubuntu/63966759#63966759", "title": "Cannot install psycopg2 Ubuntu", "body": "<p>This solved mine. I am using Python 3.8.2, Ubuntu 20.04 LTS:</p>\n<pre><code>sudo apt-get install python3-dev\nsudo apt-get install python3-pip\npip install psycopg2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1050, "user_id": 6244201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EuVjr.jpg?s=128&g=1", "display_name": "Gitau Harrison", "link": "https://stackoverflow.com/users/6244201/gitau-harrison"}, "is_accepted": false, "score": 4, "last_activity_date": 1601681297, "creation_date": 1601681297, "answer_id": 64179301, "question_id": 47318227, "link": "https://stackoverflow.com/questions/47318227/cannot-install-psycopg2-ubuntu/64179301#64179301", "title": "Cannot install psycopg2 Ubuntu", "body": "<p>Note that on many distros, the development headers needed for compiling against libraries are not installed by default. For psycopg2 on Ubuntu you'll need the python3 and postgresql headers:</p>\n<pre><code>sudo apt install python3-dev libpq-dev\npip3 install psycopg2\n</code></pre>\n<p>These can be installed in your activated virtual environment.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14752121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFWbe.jpg?s=128&g=1", "display_name": "Fabian Mesaglio", "link": "https://stackoverflow.com/users/14752121/fabian-mesaglio"}, "is_accepted": false, "score": 1, "last_activity_date": 1614103144, "last_edit_date": 1614103144, "creation_date": 1612713348, "answer_id": 66089901, "question_id": 47318227, "link": "https://stackoverflow.com/questions/47318227/cannot-install-psycopg2-ubuntu/66089901#66089901", "title": "Cannot install psycopg2 Ubuntu", "body": "<p>To install <code>psycopg2</code> in ubuntu or mate 20 you need first to install:</p>\n<p><code>sudo apt install libpq-dev</code></p>\n<p>and then:</p>\n<p><code>pip3 install psycopg2</code></p>\n"}], "owner": {"reputation": 443, "user_id": 3541909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7367db02c616e5101691cd873a36e8fd?s=128&d=identicon&r=PG&f=1", "display_name": "unpaid-intern", "link": "https://stackoverflow.com/users/3541909/unpaid-intern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24237, "favorite_count": 3, "accepted_answer_id": 47318374, "answer_count": 8, "score": 12, "last_activity_date": 1614103144, "creation_date": 1510784044, "question_id": 47318227, "link": "https://stackoverflow.com/questions/47318227/cannot-install-psycopg2-ubuntu", "title": "Cannot install psycopg2 Ubuntu", "body": "<p>Trying to get a server ready for a django project and I'm running into some issues with setup for postgres.</p>\n\n<p>I'm following this guide:\n<a href=\"https://jee-appy.blogspot.com/2017/01/deply-django-with-nginx.html\" rel=\"noreferrer\">https://jee-appy.blogspot.com/2017/01/deply-django-with-nginx.html</a></p>\n\n<p>And I'm at step 5:</p>\n\n<blockquote>\n  <ol start=\"5\">\n  <li>Now, we need to configure postgreSQL so that it can communicate with our Django application. For this, install psycopg2 database\n  adapter. But this adapter have some package dependencies, so first\n  install them.</li>\n  </ol>\n  \n  <p>run:</p>\n  \n  <p>(django_env) $ sudo apt-get install libpq-dev python3-dev</p>\n  \n  <p>then...</p>\n  \n  <p>(django_env) $ pip install psycopg2</p>\n</blockquote>\n\n<p>I do that, and this point in the instructions, I get a \"compilation failed\" error.</p>\n\n<p>I tried the solutions suggested in this stack exchange question:\n<a href=\"https://stackoverflow.com/questions/24157533/trouble-with-psycopg2-in-virtualenv-python3-for-use-with-django\">Trouble with psycopg2 in virtualenv python3 for use with Django</a>\nand this one:\n<a href=\"https://stackoverflow.com/questions/27195490/cannot-install-psycopg2-on-virtualenv\">Cannot install psycopg2 on virtualenv</a></p>\n\n<p>I am very much a linux and django noob, so if this is a duplicate issue, please have mercy on me and leave a comment explaining why you are marking it as a duplicate as you do so. </p>\n\n<p>Thanks for your time!</p>\n\n<p>Here's the output and install command that caused it:</p>\n\n<pre><code>(django_env1) user:/home/projects/sample_project$ sudo pip install psycopg2\nDownloading/unpacking psycopg2\n  Downloading psycopg2-2.7.3.2.tar.gz (425kB): 425kB downloaded\n  Running setup.py (path:/tmp/pip_build_root/psycopg2/setup.py) egg_info for package psycopg2\n\nInstalling collected packages: psycopg2\n  Running setup.py install for psycopg2\n    building 'psycopg2._psycopg' extension\n    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.7.3.2 (dt dec pq3 ext lo64)\" -DPG_VERSION_NUM=90320 -DHAVE_LO64=1 -I/usr/include/python2.7 -I. -I/usr/include/postgresql -I/usr/include/postgresql/9.3/server -c psycopg/psycopgmodule.c -o build/temp.linux-x86_64-2.7/psycopg/psycopgmodule.o -Wdeclaration-after-statement\n    In file included from psycopg/psycopgmodule.c:27:0:\n    ./psycopg/psycopg.h:34:20: fatal error: Python.h: No such file or directory\n     #include &lt;Python.h&gt;\n                        ^\n    compilation terminated.\n    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n    Complete output from command /usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/pip_build_root/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-_0zc1L-record/install-record.txt --single-version-externally-managed --compile:\n    running install\n\nrunning build\n\nrunning build_py\n\ncreating build\n\ncreating build/lib.linux-x86_64-2.7\n\ncreating build/lib.linux-x86_64-2.7/psycopg2\n\ncopying lib/_ipaddress.py -&gt; build/lib.linux-x86_64-2.7/psycopg2\n\ncopying lib/tz.py -&gt; build/lib.linux-x86_64-2.7/psycopg2\n\ncopying lib/_json.py -&gt; build/lib.linux-x86_64-2.7/psycopg2\n\ncopying lib/__init__.py -&gt; build/lib.linux-x86_64-2.7/psycopg2\n\ncopying lib/errorcodes.py -&gt; build/lib.linux-x86_64-2.7/psycopg2\n\ncopying lib/psycopg1.py -&gt; build/lib.linux-x86_64-2.7/psycopg2\n\ncopying lib/_range.py -&gt; build/lib.linux-x86_64-2.7/psycopg2\n\ncopying lib/extensions.py -&gt; build/lib.linux-x86_64-2.7/psycopg2\n\ncopying lib/sql.py -&gt; build/lib.linux-x86_64-2.7/psycopg2\n\ncopying lib/pool.py -&gt; build/lib.linux-x86_64-2.7/psycopg2\n\ncopying lib/extras.py -&gt; build/lib.linux-x86_64-2.7/psycopg2\n\ncreating build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_bug_gc.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_psycopg2_dbapi20.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_types_extras.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_async_keyword.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_sql.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_ipaddress.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/dbapi20.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_fast_executemany.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/__init__.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_copy.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_with.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_connection.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_module.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_replication.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_extras_dictcursor.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_dates.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_bugX000.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/testconfig.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_errcodes.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_transaction.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_async.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/testutils.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_cursor.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_quote.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/dbapi20_tpc.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_notify.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_lobject.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_cancel.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_green.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\ncopying tests/test_types_basic.py -&gt; build/lib.linux-x86_64-2.7/psycopg2/tests\n\nrunning build_ext\n\nbuilding 'psycopg2._psycopg' extension\n\ncreating build/temp.linux-x86_64-2.7\n\ncreating build/temp.linux-x86_64-2.7/psycopg\n\nx86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.7.3.2 (dt dec pq3 ext lo64)\" -DPG_VERSION_NUM=90320 -DHAVE_LO64=1 -I/usr/include/python2.7 -I. -I/usr/include/postgresql -I/usr/include/postgresql/9.3/server -c psycopg/psycopgmodule.c -o build/temp.linux-x86_64-2.7/psycopg/psycopgmodule.o -Wdeclaration-after-statement\n\nIn file included from psycopg/psycopgmodule.c:27:0:\n\n./psycopg/psycopg.h:34:20: fatal error: Python.h: No such file or directory\n\n #include &lt;Python.h&gt;\n\n                    ^\n\ncompilation terminated.\n\nerror: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n\n----------------------------------------\nCleaning up...\nCommand /usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/pip_build_root/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-_0zc1L-record/install-record.txt --single-version-externally-managed --compile failed with error code 1 in /tmp/pip_build_root/psycopg2\n</code></pre>\n"}, {"tags": ["python", "keras"], "comments": [{"owner": {"reputation": 101, "user_id": 8628438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2247a0958860d2c5c41cc6f6df882b04?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan", "link": "https://stackoverflow.com/users/8628438/brendan"}, "edited": false, "score": 0, "creation_date": 1510784020, "post_id": 47318211, "comment_id": 81587522, "body": "Which version of Keras are you using?"}, {"owner": {"reputation": 7436, "user_id": 5514476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP6t0.jpg?s=128&g=1", "display_name": "DJK", "link": "https://stackoverflow.com/users/5514476/djk"}, "edited": false, "score": 0, "creation_date": 1510797194, "post_id": 47318211, "comment_id": 81591688, "body": "<code>return_sequences=True</code> on last layer"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 8687359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d22be41a0c7ae5c0f0553bc331d013a4?s=128&d=identicon&r=PG&f=1", "display_name": "Sasquatch Man", "link": "https://stackoverflow.com/users/8687359/sasquatch-man"}, "edited": false, "score": 0, "creation_date": 1510787105, "post_id": 47318267, "comment_id": 81588793, "body": "Thanks for the suggestion. I was actually running Keras 2.0.8. But I tried updating to 2.0.9 anyway and I&#39;m still encountering the same issue."}], "tags": [], "owner": {"reputation": 101, "user_id": 8628438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2247a0958860d2c5c41cc6f6df882b04?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan", "link": "https://stackoverflow.com/users/8628438/brendan"}, "is_accepted": false, "score": 0, "last_activity_date": 1510784235, "creation_date": 1510784235, "answer_id": 47318267, "question_id": 47318211, "link": "https://stackoverflow.com/questions/47318211/issue-trying-to-implement-stacked-lstm-layers-with-keras/47318267#47318267", "title": "Issue trying to implement stacked LSTM layers with Keras", "body": "<p>This is a bug that was introduced in Keras 2.1.0 (and wasn't completely fixed in 2.1.1). Try installing Keras 2.0.9 or earlier:</p>\n\n<pre><code>pip uninstall keras\npip install keras==2.0.9\n</code></pre>\n\n<p><a href=\"https://github.com/fchollet/keras/issues/8481\" rel=\"nofollow noreferrer\">https://github.com/fchollet/keras/issues/8481</a></p>\n"}, {"tags": [], "owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "is_accepted": false, "score": 1, "last_activity_date": 1510837458, "creation_date": 1510837458, "answer_id": 47330412, "question_id": 47318211, "link": "https://stackoverflow.com/questions/47318211/issue-trying-to-implement-stacked-lstm-layers-with-keras/47330412#47330412", "title": "Issue trying to implement stacked LSTM layers with Keras", "body": "<p>Your labels array has three dimensions: <code>(385,128,1)</code>. </p>\n\n<p>So, what is your purpose?</p>\n\n<ul>\n<li>Classify all steps in each sequence? - All LSTMs must use <code>return_sequence=True</code>    </li>\n<li>One class for the entire sequence? - Fix your labels array somehow to be <code>(samples,1)</code>.</li>\n</ul>\n"}], "owner": {"reputation": 73, "user_id": 8687359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d22be41a0c7ae5c0f0553bc331d013a4?s=128&d=identicon&r=PG&f=1", "display_name": "Sasquatch Man", "link": "https://stackoverflow.com/users/8687359/sasquatch-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1510837458, "creation_date": 1510783976, "question_id": 47318211, "link": "https://stackoverflow.com/questions/47318211/issue-trying-to-implement-stacked-lstm-layers-with-keras", "title": "Issue trying to implement stacked LSTM layers with Keras", "body": "<p>I'm trying to add more LSTM layers to my neural net, but I keep getting the following error:</p>\n\n<pre><code>ValueError: Error when checking target: expected dense_4 to have 2 dimensions, but got array with shape (385, 128, 1) \n</code></pre>\n\n<p>The code for my model is as follows:</p>\n\n<pre><code>model = Sequential()\n\nmodel.add(LSTM(60, return_sequences=True, input_shape=(128, 14)))\n\nmodel.add(LSTM(60, return_sequences=False))\n\nmodel.add(Dense(1))\n\nmodel.compile(loss='mean_squared_error', optimizer='adam')\n\nmodel.fit(data_train, RUL_train, epochs=number_epochs, batch_size=batch_size, verbose=1)\n</code></pre>\n\n<p>It works fine when I remove the second LSTM layer. Or if I add more dense layers. Just not when I add the LSTM layer. RUL_train has shape (385, 128, 1).\nThe output of model.summary is as follows:</p>\n\n<pre><code>_________________________________________________________________\n   Layer (type)                 Output Shape              Param #   \n=================================================================\nlstm_15 (LSTM)               (None, 128, 60)           18000     \n_________________________________________________________________\nlstm_16 (LSTM)               (None, 60)                29040     \n_________________________________________________________________\ndense_7 (Dense)              (None, 1)                 61        \n=================================================================\nTotal params: 47,101\nTrainable params: 47,101\nNon-trainable params: 0\n_________________________________________________________________\n</code></pre>\n\n<p>Any help appreciated.</p>\n"}, {"tags": ["python", "pandas", "segment", "labeling"], "answers": [{"comments": [{"owner": {"reputation": 481, "user_id": 2875917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9VM5O.jpg?s=128&g=1", "display_name": "Wall-E", "link": "https://stackoverflow.com/users/2875917/wall-e"}, "edited": false, "score": 0, "creation_date": 1510793093, "post_id": 47318261, "comment_id": 81590620, "body": "Doesn&#39;t the <b>freq</b> option assume a constant number of entries per blocks of 12s? Your example satifies this as it&#39;s generated with a given frequency but as I described, in my case, a given block spanning over 12s does not span over a constant number of rows as those 12s are sampled at random. Would that work also in that case?"}, {"owner": {"reputation": 481, "user_id": 2875917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9VM5O.jpg?s=128&g=1", "display_name": "Wall-E", "link": "https://stackoverflow.com/users/2875917/wall-e"}, "edited": false, "score": 0, "creation_date": 1510846811, "post_id": 47318261, "comment_id": 81618474, "body": "Any idea why it does not work if the &#39;Time&#39; column is set as the index of the dataFrame?  In that case I had <code>pd.Grouper(key=&#39;index&#39;, freq=&#39;12S&#39;)</code>. This is resulting in: <code>TypeError: unhashable type: &#39;DatetimeIndex&#39;</code>"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 481, "user_id": 2875917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9VM5O.jpg?s=128&g=1", "display_name": "Wall-E", "link": "https://stackoverflow.com/users/2875917/wall-e"}, "edited": false, "score": 1, "creation_date": 1510848038, "post_id": 47318261, "comment_id": 81619407, "body": "@Wall-E, if <code>Time</code> is set as an index, use: <code>df.groupby(pd.Grouper(freq=&#39;12S&#39;)).ngroup()</code>"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 4, "last_activity_date": 1510784217, "creation_date": 1510784217, "answer_id": 47318261, "question_id": 47318200, "link": "https://stackoverflow.com/questions/47318200/python-dataframe-group-labeling/47318261#47318261", "title": "Python dataframe group labeling", "body": "<p>Demo:</p>\n\n<p>Sample DF:</p>\n\n<pre><code>In [32]: df = pd.DataFrame({'Time':pd.date_range('2017-01-01 00:00:01', freq='3S', periods=15)})\n\nIn [33]: df\nOut[33]:\n                  Time\n0  2017-01-01 00:00:01\n1  2017-01-01 00:00:04\n2  2017-01-01 00:00:07\n3  2017-01-01 00:00:10\n4  2017-01-01 00:00:13\n5  2017-01-01 00:00:16\n6  2017-01-01 00:00:19\n7  2017-01-01 00:00:22\n8  2017-01-01 00:00:25\n9  2017-01-01 00:00:28\n10 2017-01-01 00:00:31\n11 2017-01-01 00:00:34\n12 2017-01-01 00:00:37\n13 2017-01-01 00:00:40\n14 2017-01-01 00:00:43\n</code></pre>\n\n<p>Solution:</p>\n\n<pre><code>In [34]: df['label'] = df.groupby(pd.Grouper(key='Time', freq='12S')).ngroup()\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>In [35]: df\nOut[35]:\n                  Time  label\n0  2017-01-01 00:00:01      0\n1  2017-01-01 00:00:04      0\n2  2017-01-01 00:00:07      0\n3  2017-01-01 00:00:10      0\n4  2017-01-01 00:00:13      1\n5  2017-01-01 00:00:16      1\n6  2017-01-01 00:00:19      1\n7  2017-01-01 00:00:22      1\n8  2017-01-01 00:00:25      2\n9  2017-01-01 00:00:28      2\n10 2017-01-01 00:00:31      2\n11 2017-01-01 00:00:34      2\n12 2017-01-01 00:00:37      3\n13 2017-01-01 00:00:40      3\n14 2017-01-01 00:00:43      3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 0, "last_activity_date": 1510784735, "last_edit_date": 1510784735, "creation_date": 1510784406, "answer_id": 47318294, "question_id": 47318200, "link": "https://stackoverflow.com/questions/47318200/python-dataframe-group-labeling/47318294#47318294", "title": "Python dataframe group labeling", "body": "<p>IIUC, and Time(s) is an integer dtype, then I think what you need is the floordiv.</p>\n\n<pre><code>df['label'] = df['Time(s)'] // 12\n</code></pre>\n"}], "owner": {"reputation": 481, "user_id": 2875917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9VM5O.jpg?s=128&g=1", "display_name": "Wall-E", "link": "https://stackoverflow.com/users/2875917/wall-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1062, "favorite_count": 1, "accepted_answer_id": 47318261, "answer_count": 2, "score": 3, "last_activity_date": 1510784735, "creation_date": 1510783938, "question_id": 47318200, "link": "https://stackoverflow.com/questions/47318200/python-dataframe-group-labeling", "title": "Python dataframe group labeling", "body": "<p>Is there any tool in Pandas or other python package to facilitate the labeling of groups of varying number rows in a Pandas\u2019 dataFrame? Here are more detail: </p>\n\n<p>My dataFrame has a column of datetime.datetime objects used as the dataFrame index. The time is not evenly spaced and during a given amount of time, the number of rows varies. </p>\n\n<p>In that dataFrame, I need to make a column that has a different label for each series of rows that span over a constant time span (12 seconds in my case). </p>\n\n<p>For example, using examples with seconds </p>\n\n<pre><code>Time(s) | label\n1           |   0\n2           |   0\n3           |   0\n7           |   0\n12         |   1\n15         |   1\n20         |   1\n24          |   2 \nEtc\u2026 \n</code></pre>\n\n<p>I\u2019m looking for an alternative as a brute-force loop. Algorithms somewhat related to that are labeling, segmenting, mapping but i'm not sure what to look for exactly. I was hoping there would be something exploiting python, Pandas and/or Numpy in a more efficient way since the number of rows is gonna be of the order of a hundred millions. </p>\n\n<p>Thanks </p>\n"}, {"tags": ["python", "shell", "command-line-arguments"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1510784092, "post_id": 47318189, "comment_id": 81587570, "body": "Why do you expect literal quotes?"}, {"owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1510784147, "post_id": 47318189, "comment_id": 81587594, "body": "Why shouldn&#39;t I?  I&#39;m not asking python to do anything but extract what&#39;s <i>actually</i> on the command-line."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1510784177, "post_id": 47318189, "comment_id": 81587605, "body": "...that is to say, if you call <code>subprocess.Popen([&#39;foo&#39;, &#39;hello&#39;])</code>, you don&#39;t (well, shouldn&#39;t) expect <code>foo</code> to see the Python quotes around the literal argument <code>hello</code>. In the same way, you can&#39;t expect other programs to see quotes that are purely shell syntax and not passed to the software being executed."}, {"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1510784189, "post_id": 47318189, "comment_id": 81587612, "body": "@BrianBruggeman It has extracted exactly what you put on the command line ... your misunderstanding is around how <code>bash</code> works and what literal quotes mean to <code>bash</code> ... also worth trying <code>python tmp.py &#39;find&#39; &#39;-name&#39; &#39;*.py&#39;</code>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1510784262, "post_id": 47318189, "comment_id": 81587644, "body": "...so, when you talk about a &quot;command line&quot; -- that&#39;s a shell construct. The <i>actual</i> calling convention when one UNIX program starts another is an array of C strings."}, {"owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1510784300, "post_id": 47318189, "comment_id": 81587658, "body": "@CharlesDuffy I completely am find with your Popen example.  My question is really around how python is reading in the command-line arguments."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1510784320, "post_id": 47318189, "comment_id": 81587668, "body": "Where is the <code>&#39;.&#39;</code> supposed to come from?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1510784332, "post_id": 47318189, "comment_id": 81587679, "body": "As an array of C strings, which is what they <i>actually are</i>. It has no way of knowing what they were before they were transformed into that by the shell."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1510784342, "post_id": 47318189, "comment_id": 81587685, "body": "@user2357112 probably typo, since <code>find</code> needs a start dir."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1510784394, "post_id": 47318189, "comment_id": 81587712, "body": "Take a quick look at <code>man 2 execve</code> -- that&#39;s what a program actually calls at the OS level to start another program. You&#39;ll see there&#39;s nowhere you can put a command line in that, so <i>the command line isn&#39;t available to the program being started</i>. Thus, Python has no possible way it could tell how the shell command that started it was originally quoted."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1510784761, "post_id": 47318189, "comment_id": 81587892, "body": "The point of my Python example is that it&#39;s the same thing happening in shell -- the quotes are <i>syntax</i>, not data; and being as they&#39;re syntax, they aren&#39;t part of what&#39;s passed to the program being started."}, {"owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "edited": false, "score": 0, "creation_date": 1510785291, "post_id": 47318189, "comment_id": 81588138, "body": "I&#39;m sad someone downvoted this question.  Thanks for the explanation and the question title edit."}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 5, "last_activity_date": 1510784059, "last_edit_date": 1510784059, "creation_date": 1510783994, "answer_id": 47318213, "question_id": 47318189, "link": "https://stackoverflow.com/questions/47318189/why-arent-there-quotes-in-sys-argv-when-they-were-used-at-the-command-line/47318213#47318213", "title": "Why aren&#39;t there quotes in sys.argv when they were used at the command line?", "body": "<p>no, because your shell removes the quotes before passing the argument to python (else it would <em>expand</em> the <code>*.py</code> wildcard)</p>\n\n<p>To get what you want you'd need:</p>\n\n<pre><code>python tmp.py find -name \"'*.py'\"\n</code></pre>\n\n<p>Note that this behaviour is shell dependent. On windows, since single quotes have no particular meaning, passing <code>'*.py'</code>, you would get:</p>\n\n<pre><code>['tmp.py', 'find', '.', '-name', \"'*.py'\"]\n</code></pre>\n\n<p>Also note that quote-protected wildcards have no real interest on the python side, since you'd need to strip the quotes to be able to evaluate them with <code>glob.glob</code></p>\n"}, {"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 2, "last_activity_date": 1510784641, "creation_date": 1510784641, "answer_id": 47318339, "question_id": 47318189, "link": "https://stackoverflow.com/questions/47318189/why-arent-there-quotes-in-sys-argv-when-they-were-used-at-the-command-line/47318339#47318339", "title": "Why aren&#39;t there quotes in sys.argv when they were used at the command line?", "body": "<p>The shell is responsible for breaking down the command it's running into a list of C strings. <em>Those strings</em> are then passed to the program being run.</p>\n\n<p>In the example:</p>\n\n<pre><code>python tmp.py find . -name '*.py'\n</code></pre>\n\n<p>...the argument list a correctly-implemented shell will generate for the <code>argv</code> element of <a href=\"http://man7.org/linux/man-pages/man2/execve.2.html\" rel=\"nofollow noreferrer\">the <code>execve</code> syscall</a> would look (in C syntax) like:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>char[][]{ \"python\", \"tmp.py\", \"find\", \".\", \"-name\", \"*.py\", NULL }\n</code></pre>\n\n<hr>\n\n<p>When Python runs, it doesn't know what the original command was: It has no way of knowing if you typed <code>'*.py'</code> or <code>\\*.py</code> or any other thing; it only sees the argument list the shell handed off to the operating system.</p>\n"}], "owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1087, "favorite_count": 0, "accepted_answer_id": 47318339, "answer_count": 2, "score": 2, "last_activity_date": 1510784641, "creation_date": 1510783908, "last_edit_date": 1510784510, "question_id": 47318189, "link": "https://stackoverflow.com/questions/47318189/why-arent-there-quotes-in-sys-argv-when-they-were-used-at-the-command-line", "title": "Why aren&#39;t there quotes in sys.argv when they were used at the command line?", "body": "<p>Is this a bug?</p>\n\n<pre><code>#!/usr/bin/env python3.6\n# filename: tmp.py\nimport sys\n\nprint(sys.argv)\n</code></pre>\n\n<p>Invoked:</p>\n\n<pre><code>python tmp.py find . -name '*.py'\n</code></pre>\n\n<p>Actual output:</p>\n\n<pre><code>['tmp.py', 'find', '.', '-name', '*.py']\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>['tmp.py', 'find', '.', '-name', \"'*.py'\"]\n</code></pre>\n\n<p>Note the lack of quotations within the actual output.</p>\n"}, {"tags": ["python", "windows", "python-3.x", "ftp", "ftputil"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 3850068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab8c5c214bf81d06dfc8e7293e6f90f6?s=128&d=identicon&r=PG&f=1", "display_name": "cdog1019", "link": "https://stackoverflow.com/users/3850068/cdog1019"}, "edited": false, "score": 0, "creation_date": 1510785854, "post_id": 47318327, "comment_id": 81588365, "body": "Just asking to expand my own knowledge, the != means while not exit correct?"}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "reply_to_user": {"reputation": 9, "user_id": 3850068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab8c5c214bf81d06dfc8e7293e6f90f6?s=128&d=identicon&r=PG&f=1", "display_name": "cdog1019", "link": "https://stackoverflow.com/users/3850068/cdog1019"}, "edited": false, "score": 0, "creation_date": 1510786190, "post_id": 47318327, "comment_id": 81588487, "body": "While <code>userinput</code> does not equal the string <code>&quot;exit&quot;</code>, continue to repeat."}, {"owner": {"reputation": 9, "user_id": 3850068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab8c5c214bf81d06dfc8e7293e6f90f6?s=128&d=identicon&r=PG&f=1", "display_name": "cdog1019", "link": "https://stackoverflow.com/users/3850068/cdog1019"}, "edited": false, "score": 0, "creation_date": 1510786303, "post_id": 47318327, "comment_id": 81588517, "body": "where would you place that in the code i have, i placed it like so    ` userinput = input()`    ` while userinput != &quot;exit&quot;:`    ` if userinput == &#39;list&#39;:` `        print(names)`  and it infinitly loops the list output"}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "reply_to_user": {"reputation": 9, "user_id": 3850068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab8c5c214bf81d06dfc8e7293e6f90f6?s=128&d=identicon&r=PG&f=1", "display_name": "cdog1019", "link": "https://stackoverflow.com/users/3850068/cdog1019"}, "edited": false, "score": 0, "creation_date": 1510786403, "post_id": 47318327, "comment_id": 81588554, "body": "As I showed in my answer, the while loop should start just <b>before</b> requesting user input (and remember to indent everything you wish to repeat)"}, {"owner": {"reputation": 9, "user_id": 3850068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab8c5c214bf81d06dfc8e7293e6f90f6?s=128&d=identicon&r=PG&f=1", "display_name": "cdog1019", "link": "https://stackoverflow.com/users/3850068/cdog1019"}, "edited": false, "score": 0, "creation_date": 1510786481, "post_id": 47318327, "comment_id": 81588580, "body": "i tried a couple times to use the code block, both by spaces and in comments help it says use ``&#39;s to no avail.  i ended up placing it After userinput () because it would say user input wasn&#39;t defined when placed before it"}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "reply_to_user": {"reputation": 9, "user_id": 3850068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab8c5c214bf81d06dfc8e7293e6f90f6?s=128&d=identicon&r=PG&f=1", "display_name": "cdog1019", "link": "https://stackoverflow.com/users/3850068/cdog1019"}, "edited": false, "score": 0, "creation_date": 1510786630, "post_id": 47318327, "comment_id": 81588643, "body": "So define it before the loop as well. A simple <code>userinput = &quot;&quot;</code> would do the trick."}, {"owner": {"reputation": 9, "user_id": 3850068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab8c5c214bf81d06dfc8e7293e6f90f6?s=128&d=identicon&r=PG&f=1", "display_name": "cdog1019", "link": "https://stackoverflow.com/users/3850068/cdog1019"}, "edited": false, "score": 1, "creation_date": 1510786736, "post_id": 47318327, "comment_id": 81588680, "body": "I thank you for the help and im proud to have figured that out just before i read your comment. success is rare but oh so sweet"}], "tags": [], "owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "is_accepted": true, "score": 0, "last_activity_date": 1510784591, "creation_date": 1510784591, "answer_id": 47318327, "question_id": 47318181, "link": "https://stackoverflow.com/questions/47318181/python-3-4-ftputil-3-4-only-runs-a-single-command-then-exits/47318327#47318327", "title": "Python 3.4/Ftputil 3.4 only runs a single command then exits", "body": "<p>You need to tell python you want to repeat the section of the code. In this case, a while loop probably would do the trick.</p>\n\n<pre><code>import ftputil\n# ...\nwhile True:\n    userinput = input()\n    # ...\n</code></pre>\n\n<p>This is an infinite loop, so to kill it you'll probably have to press <code>Ctrl+C</code>. Alternatively, if you want to implement an exit command you could do so by doing something like the following;</p>\n\n<pre><code>while userinput != \"exit\":\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 3850068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab8c5c214bf81d06dfc8e7293e6f90f6?s=128&d=identicon&r=PG&f=1", "display_name": "cdog1019", "link": "https://stackoverflow.com/users/3850068/cdog1019"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 47318327, "answer_count": 1, "score": -2, "last_activity_date": 1510785793, "creation_date": 1510783863, "last_edit_date": 1510785793, "question_id": 47318181, "link": "https://stackoverflow.com/questions/47318181/python-3-4-ftputil-3-4-only-runs-a-single-command-then-exits", "title": "Python 3.4/Ftputil 3.4 only runs a single command then exits", "body": "<p>I'm currently making the base of a personal ftp program, using ftputil 3.4 and python 3.4, ive successfully gotten it to log in and i can run follow up commands in the python interpreter but after a single command it goes back to the main interpreter. as an example if i login, then run list, then it lists once, if i were to try it again it returns the result of typing list in pythons idle shell.</p>\n\n<pre><code>import ftputil\n\nUser = input()\nPassword = input()\nftp = ftputil.FTPHost('ip', User, Password)\n\nnames = ftp.listdir(ftp.curdir)\nprint(names)\n\nuserinput = input()\nif userinput == 'list':\nprint(names)\n\n#not yet implemented download function\n#if userinput == 'get': \n#   ftp.\n</code></pre>\n\n<p>I'm looking for a way to keep the program from 'closing' so that i can continue running commands to and from the ftp server</p>\n"}, {"tags": ["python", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 1, "last_activity_date": 1510783952, "creation_date": 1510783952, "answer_id": 47318203, "question_id": 47318174, "link": "https://stackoverflow.com/questions/47318174/color-variables-but-alpha-separate/47318203#47318203", "title": "Color Variables but Alpha Separate", "body": "<p>Tuples can be concatenated by addition:</p>\n\n<pre><code>pygame.draw.ellipse(self.image, WHITE + (50,), self.rect) \n</code></pre>\n\n<hr>\n\n<p>For example,</p>\n\n<pre><code>&gt;&gt;&gt; (255, 255, 255) + (50,)\n(255, 255, 255, 50)\n</code></pre>\n\n<p>Lists, by the way, behave analogously:</p>\n\n<pre><code>&gt;&gt;&gt; [255, 255, 255] + [50]\n[255, 255, 255, 50]\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 8840041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30711bb746f7c58ebaed95618a3dc48f?s=128&d=identicon&r=PG&f=1", "display_name": "ThomasNL", "link": "https://stackoverflow.com/users/8840041/thomasnl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 47318203, "answer_count": 1, "score": 1, "last_activity_date": 1523809800, "creation_date": 1510783839, "last_edit_date": 1523809800, "question_id": 47318174, "link": "https://stackoverflow.com/questions/47318174/color-variables-but-alpha-separate", "title": "Color Variables but Alpha Separate", "body": "<p>I stored all basic colors in variables for example:</p>\n\n<pre><code>WHITE = (255, 255, 255)\n</code></pre>\n\n<p>I then use those variables to draw ellipes, but i want different alpha values for those ellipses. I dont want to create variables for all the different alpha values. I tried doing</p>\n\n<pre><code>pygame.draw.ellipse(self.image, (WHITE, 50), self.rect) \n</code></pre>\n\n<p>But that does not work sadly. Any Solution?</p>\n"}, {"tags": ["python", "python-2.7", "list", "pointers", "dereference"], "comments": [{"owner": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 1, "creation_date": 1510783915, "post_id": 47318136, "comment_id": 81587469, "body": "Python has pointers just like most languages. They are just hidden to the casual user. Here is a blog post on the idea. <a href=\"http://scottlobdell.me/2013/08/understanding-python-variables-as-pointers/\" rel=\"nofollow noreferrer\">scottlobdell.me/2013/08/&hellip;</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 0, "creation_date": 1510784052, "post_id": 47318136, "comment_id": 81587543, "body": "@PeterH no, <i>Python does not have pointers</i>. The CPython implementation uses pointers, and if you understand C, the perhaps understanding some implementation details will help you understand how Python is working, but <i>Python itself</i> does not have pointers (outside of the <code>ctypes</code> FFI)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510784285, "post_id": 47318136, "comment_id": 81587654, "body": "&quot; I&#39;ve tried doing a list copy to dereference the pointer passed by <code>initial_grid</code>&quot; Is a <i>perfect</i> example of <i>why</i> talking about pointers can often lead to more confusion than not. Copying a list does not &quot;dereference a pointer passed to the function&quot;, there <i>is no pointer</i>, and there certainly isn&#39;t any dereferencing."}, {"owner": {"reputation": 21, "user_id": 8947952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a1c34d87ca7a03fc584b0419c4a0b?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8947952/jakob-lovern"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510784512, "post_id": 47318136, "comment_id": 81587776, "body": "@juanpa.arrivillaga Well... python does have pointers, of a sort. if you do <code>a=4;b=a;b=5;print a</code>, it&#39;ll return 5."}, {"owner": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 0, "creation_date": 1510784658, "post_id": 47318136, "comment_id": 81587835, "body": "I do agree that there are no &#39;pointers&#39; in python, however variables act like pointers when referencing a complex data type. And no there is no dereferencing, but if you keep passing the value of a variable to another variable without explicitly calling copy or deepcopy the variable is passing a reference (similar to a pointer, but not exactly the same) to the following variable. IMO this can cause a host of problems for people new to python that could be avoided if when being taught python they think of variables as pointers to memory."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510784711, "post_id": 47318136, "comment_id": 81587860, "body": "@JakobLovern Firstly, no, it <i>prints 4</i>. That is not a pointer. You are just incorrectly demonstrating the way Python assignment works. Again, <i>there are no pointers in Python</i> (except in the <code>ctypes</code> foreign-function library, but that is not really relevant)."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 0, "creation_date": 1510784779, "post_id": 47318136, "comment_id": 81587910, "body": "@PeterH NO. Python variabels <b>do not act like pointers to memory</b>. Indeed, your <i>own mistaken example</i> perfectly demonstrates why they do <b>not act that way</b>. IOW: <code>a=4;b=a;b=5;print a</code> <b>prints 4</b> IOW, while <i>yes</i>, in CPython, everything is essentially a pointer to a <code>Py_Object</code> struct, that doesn&#39;t mean that the semantics of Python assignment will work like the semantics of C-pointers."}, {"owner": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510784876, "post_id": 47318136, "comment_id": 81587952, "body": "@juanpa.arrivillaga not my example... Also complex data types... <code>a = []; b = a; b.append(12); print a</code> prints <code>[12]</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 0, "creation_date": 1510784899, "post_id": 47318136, "comment_id": 81587972, "body": "@PeterH whoops, sorry, got confused with the screen names."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510784924, "post_id": 47318136, "comment_id": 81587984, "body": "There are no &quot;complex data types&quot; in Python. The semantics for Python variables works <i>exactly the same</i> for <i>all Python objects</i>. In other words, <code>x = 300; y = x; id(x) == id(y)</code>. That works no matter the object you assign to <code>x</code>, and is the reason your example works the way it does. In Python <code>int</code> objects are just as much full-fledged objects as <code>list</code> objects, they just happen to lack any mutator methods. If you are willing to engage in some serious dark magic, you <i>can</i> actually change the value of <code>int</code> objects, and the changes will be reflected."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 0, "creation_date": 1510785262, "post_id": 47318136, "comment_id": 81588123, "body": "@PeterH but anyway, if you simply want to say that Python variables act like you are passing around pointers to python objects, that is true and I cannot disagree. I still think it is much more confusing (unless you are coming directly form a C background) than simply learning Python semantics on their own terms."}, {"owner": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510785970, "post_id": 47318136, "comment_id": 81588409, "body": "@juanpa.arrivillaga You are right. There is no &#39;complex data type&#39;. I was using the wrong term. What I meant was immutable data types. I realise I am biased (and wrong) when it comes to referring to python variables as pointers (I learned to program in c/c++). They act like pointers but should not be called pointers. Thank you for clarifying my clear as mud comments."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510820623, "post_id": 47318136, "comment_id": 81600027, "body": "@juanpa.arrivillaga I want to learn more about dark magic."}], "answers": [{"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": true, "score": 1, "last_activity_date": 1510784154, "creation_date": 1510784154, "answer_id": 47318250, "question_id": 47318136, "link": "https://stackoverflow.com/questions/47318136/python-function-dereferences-a-pointer-but-still-alters-the-original-list/47318250#47318250", "title": "Python function dereferences a pointer but still alters the original list", "body": "<p><code>list(initial_grid)</code> makes a shallow copy of your list. The inner lists are not copied.</p>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; l = [[1, 2], [0, 0]]\n&gt;&gt;&gt; c = list(l)\n&gt;&gt;&gt; l is c\nFalse\n&gt;&gt;&gt; all(x is y for x,y in zip(l, c))\nTrue\n&gt;&gt;&gt; c[0][0] = 5\n&gt;&gt;&gt; c\n[[5, 2], [0, 0]]\n&gt;&gt;&gt; l\n[[5, 2], [0, 0]]\n</code></pre>\n\n<p>If you want a deep copy, use <code>copy.deepcopy</code>. Or for a 2D list, write</p>\n\n<pre><code>&gt;&gt;&gt; d = [sub[:] for sub in l]\n&gt;&gt;&gt; d[0][0] = 7\n&gt;&gt;&gt; d\n[[7, 2], [0, 0]]\n&gt;&gt;&gt; l\n[[5, 2], [0, 0]]\n</code></pre>\n\n<p>Also, your lingo is off. We don't have pointers in Python. We have names and values.</p>\n"}], "owner": {"reputation": 21, "user_id": 8947952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a1c34d87ca7a03fc584b0419c4a0b?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8947952/jakob-lovern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 47318250, "answer_count": 1, "score": 0, "last_activity_date": 1510788091, "creation_date": 1510783690, "question_id": 47318136, "link": "https://stackoverflow.com/questions/47318136/python-function-dereferences-a-pointer-but-still-alters-the-original-list", "title": "Python function dereferences a pointer but still alters the original list", "body": "<p>I was playing around with python for the last few days and I keep getting a weird problem. (For reference, I'm working on project euler's 345.) \nSo... I'm trying to zero a row and a column of a 2D array, but not the point where they intersect. Now, I understand that there might be a more pythonic way of solving this, but I'm mainly concerned with why the code I have here isn't working. </p>\n\n<pre><code>def choose(initial_grid,row,col):\n  \"\"\"Return a grid with a given row and column zeroed except where intersect.\n  \"\"\"\n  grid = list(initial_grid)                 #FLAG 1\n  Special_value = grid[row][col] \n  grid[row] = [0]*len(grid[row]) \n  for i in xrange(len(grid)):\n    grid[i][col] = 0\n  grid[row][col] = Special_value\n  return grid\nqwer = [[ 1, 2, 3, 4],\n        [ 5, 6, 7, 8],\n        [ 9,10,11,12],\n        [13,14,15,16]]\nprint choose(qwer,1,1)\nprint qwer\n</code></pre>\n\n<p>Anyways, I'd expect the function output to be </p>\n\n<pre><code>[[1, 0, 3, 4], [0, 6, 0, 0], [9, 0, 11, 12], [13, 0, 15, 16]]\n[[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12], [13, 14, 15, 16]]\n</code></pre>\n\n<p>But... It isn't. For whatever reason, <code>qwer</code> gets its column 1 cleared. I've tried doing a list copy to dereference the pointer passed by <code>initial_grid,</code> and I've tried using <code>grid = initial_grid[:]</code>, but nothing seems to work. </p>\n\n<p>So what's wrong? How do I fix this? And why is this wrong?</p>\n"}, {"tags": ["python", "regex", "string"], "comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1510784163, "post_id": 47318128, "comment_id": 81587599, "body": "Can these strings be found in the wild?"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1510784223, "post_id": 47318128, "comment_id": 81587626, "body": "What about <code>Clydesmithia_canadensis_1a_2b</code>?"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1510784352, "post_id": 47318128, "comment_id": 81587690, "body": "Something like <a href=\"https://regex101.com/r/P69Uw8/1/\" rel=\"nofollow noreferrer\"><b><code>\\b([^_\\W]+)(?:\\([^()]+\\))?_(\\w+)\\b</code></b></a> ?"}], "answers": [{"tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": false, "score": 1, "last_activity_date": 1510785076, "last_edit_date": 1510785076, "creation_date": 1510783971, "answer_id": 47318208, "question_id": 47318128, "link": "https://stackoverflow.com/questions/47318128/separate-first-word-in-a-string-in-python-re/47318208#47318208", "title": "separate first word in a string in python re", "body": "<h2>Code</h2>\n\n<h3>Option 1</h3>\n\n<p><a href=\"https://regex101.com/r/18IKc9/5\" rel=\"nofollow noreferrer\">See regex in use here</a></p>\n\n<pre><code>(\\w+?(?=[(_])).*?_(\\w+)\n</code></pre>\n\n<p>Replacement</p>\n\n<pre><code>$1 $2\n</code></pre>\n\n<h3>Option 2</h3>\n\n<p><a href=\"https://regex101.com/r/18IKc9/6\" rel=\"nofollow noreferrer\">See regex in use here</a></p>\n\n<pre><code>([^_\\W]+).*?[)_](\\w+)\n</code></pre>\n\n<p>Replacement</p>\n\n<pre><code>$1 $2\n</code></pre>\n\n<hr>\n\n<h2>Results</h2>\n\n<h3>Input</h3>\n\n<pre><code>Aphis(Aphis)_asclepiadis, Cinara_011, Clydesmithia_canadensis_1a,\nAphis(Aphis)test_asclepiadis, Cinara_011, Clydesmithia_canadensis_1a_test,\n</code></pre>\n\n<h3>Output</h3>\n\n<p><strong>Option 1</strong></p>\n\n<pre><code>Aphis asclepiadis, Cinara 011, Clydesmithia canadensis_1a,\nAphis asclepiadis, Cinara 011, Clydesmithia canadensis_1a_test,\n</code></pre>\n\n<p><strong>Option 2</strong></p>\n\n<pre><code>Aphis _asclepiadis, Cinara 011, Clydesmithia canadensis_1a,\nAphis test_asclepiadis, Cinara 011, Clydesmithia canadensis_1a_test,\n</code></pre>\n\n<hr>\n\n<h2>Explanation</h2>\n\n<h3>Option 1</h3>\n\n<ul>\n<li><code>(\\w+?(?=[(_]))</code> Capture the following into capture group 1\n\n<ul>\n<li><code>\\w+?</code> Match one or more word characters, but as few as possible</li>\n<li><code>(?=[(_])</code> Positive lookahead ensuring what follows matches a character in the set <code>(_</code></li>\n</ul></li>\n<li><code>.*?</code> Match any character any number of times, but as few as possible</li>\n<li><code>_</code> Match the underscore character <code>_</code> literally</li>\n<li><code>(\\w+)</code> Capture any word character one or more times into capture group 2</li>\n</ul>\n\n<h3>Option 2</h3>\n\n<ul>\n<li><code>([^_\\W]+)</code> Capture one or more word characters except <code>_</code> into capture group 1</li>\n<li><code>.*?</code> Match any character any number of times, but as few as possible</li>\n<li><code>[)_]</code> Match either <code>)</code> or <code>_</code> literally</li>\n<li><code>(\\w+)</code> Capture one or more word characters into capture group 2</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 1, "creation_date": 1510784583, "post_id": 47318303, "comment_id": 81587801, "body": "How about <code>Aphis(Aphis)test_asclepiadis, Cinara_011, Clydesmithia_canadensis_1a_test,</code>?"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1510784640, "post_id": 47318303, "comment_id": 81587825, "body": "@revo: Not sure what OP wants, really."}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 1, "last_activity_date": 1510784616, "last_edit_date": 1510784616, "creation_date": 1510784474, "answer_id": 47318303, "question_id": 47318128, "link": "https://stackoverflow.com/questions/47318128/separate-first-word-in-a-string-in-python-re/47318303#47318303", "title": "separate first word in a string in python re", "body": "<p>For the given strings, you could use</p>\n\n<pre><code>\\b([^_\\W]+)(?:\\([^()]+\\))?_(\\w+)\\b\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/P69Uw8/1/\" rel=\"nofollow noreferrer\"><strong>a demo on regex101.com</strong></a>.\n<hr>\nIn <code>Python</code>:</p>\n\n<pre><code>import re\n\nstrings = 'Aphis(Aphis)_asclepiadis, Cinara_011, Clydesmithia_canadensis_1a,'\n\nrx = re.compile(r'\\b([^_\\W]+)(?:\\([^()]+\\))?_(\\w+)\\b')\n\nstrings = rx.sub(\"\\g&lt;1&gt; \\g&lt;2&gt;\", strings)\nprint(strings)\n# Aphis asclepiadis, Cinara 011, Clydesmithia canadensis_1a,\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 8948012, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7fe223e8bf3ad51ca47f73dda4a1ed77?s=128&d=identicon&r=PG", "display_name": "birdoptera", "link": "https://stackoverflow.com/users/8948012/birdoptera"}, "edited": false, "score": 0, "creation_date": 1510858562, "post_id": 47318458, "comment_id": 81626152, "body": "Hi; thanks for your answer. I have two questions: 1. how can I rewrite the code so I&#39;m avoiding compiling twice; there are other actions I need to perform on the record, but I don&#39;t know how to do them without compiling. 2.  I tried using the code you provided, but my terminal says &#39;&#39;dict&#39; object has no attribute &#39;split&#39;. I&#39;m in csv.DictReader- could that be causing this, or is there another problem? Using split may fix some of the other problems I&#39;m having, so it might be really useful."}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "reply_to_user": {"reputation": 97, "user_id": 8948012, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7fe223e8bf3ad51ca47f73dda4a1ed77?s=128&d=identicon&r=PG", "display_name": "birdoptera", "link": "https://stackoverflow.com/users/8948012/birdoptera"}, "edited": false, "score": 0, "creation_date": 1510859288, "post_id": 47318458, "comment_id": 81626561, "body": "@birdoptera: Simply move the <code>re.compile</code> lines before the for loop. <code>split</code> should be called on a string, not a dict."}], "tags": [], "owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "is_accepted": false, "score": 0, "last_activity_date": 1510785131, "creation_date": 1510785131, "answer_id": 47318458, "question_id": 47318128, "link": "https://stackoverflow.com/questions/47318128/separate-first-word-in-a-string-in-python-re/47318458#47318458", "title": "separate first word in a string in python re", "body": "<p>There are already good regex answers. You can achieve your goal with <a href=\"https://docs.python.org/2/library/stdtypes.html#str.split\" rel=\"nofollow noreferrer\"><code>str.split</code></a> alone, though. It accepts an argument specifying the maximum number of splits:</p>\n\n<pre><code>records = [\"Aphis(Aphis)_asclepiadis\", \"Cinara_011\", \"Clydesmithia_canadensis_1a\"]\n\nfor record in records:\n    left, right = record.split('_', 1) # Split no more than once.\n    left = left.split('(')[0]          # Remove anything after '('\n    print(' '.join([left, right]))\n# Aphis asclepiadis\n# Cinara 011\n# Clydesmithia canadensis_1a\n</code></pre>\n\n<p>By the way, you shouldn't call <code>re.compile</code> inside the loop. It's an expensive operation and the pattern doesn't change between records.</p>\n"}, {"tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": false, "score": 0, "last_activity_date": 1510786797, "last_edit_date": 1510786797, "creation_date": 1510785710, "answer_id": 47318583, "question_id": 47318128, "link": "https://stackoverflow.com/questions/47318128/separate-first-word-in-a-string-in-python-re/47318583#47318583", "title": "separate first word in a string in python re", "body": "<p>Requirements are not clear enough, hence some ambiguous use cases. But looking at your own code and subject string together, I'd offer such Regular Expression:</p>\n\n<pre><code>\\(\\w+\\)_(\\w+)|_(\\w+)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/meiDhG/1\" rel=\"nofollow noreferrer\">RegEx live demo</a></p>\n\n<p><a href=\"https://ideone.com/OkGq4i\" rel=\"nofollow noreferrer\">Python live demo</a></p>\n"}], "owner": {"reputation": 97, "user_id": 8948012, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7fe223e8bf3ad51ca47f73dda4a1ed77?s=128&d=identicon&r=PG", "display_name": "birdoptera", "link": "https://stackoverflow.com/users/8948012/birdoptera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1510786797, "creation_date": 1510783640, "last_edit_date": 1510783784, "question_id": 47318128, "link": "https://stackoverflow.com/questions/47318128/separate-first-word-in-a-string-in-python-re", "title": "separate first word in a string in python re", "body": "<p>I need to separate strings into two groups; the first word and the second word or group of words. The words are separated by an underscore and when I use my current code, if there are more than one underscores, it only separates off the last. Here is the code I currently have:</p>\n\n<pre><code>for record in reader:\ns = record['trial']\npatternsubgen = re.compile(r'(\\w+)\\(\\w+\\)\\_(\\w+)')\nsource = \"Footit\"\nif patternsubgen.search(s):\n    resultsubgen = patternsubgen.search(s)\n    genussubgen = resultsubgen.group(1)\n    speciessubgen = resultsubgen.group(2)\n    subgen = '%s %s' % (genussubgen, speciessubgen)\n    #print(subgen)\nelse:\n    pattern = re.compile(r'(\\w+)\\_(\\w+)')\n    if pattern.search(s):\n        result = pattern.search(s)\n        genus = result.group(1)\n        species = result.group(2)\n        new = '%s %s' % (genus, species)\n        print(new)\n</code></pre>\n\n<p>Here are some examples of the strings:</p>\n\n<pre><code>Aphis(Aphis)_asclepiadis, Cinara_011, Clydesmithia_canadensis_1a,\n</code></pre>\n\n<p>what I need is:</p>\n\n<pre><code>Aphis asclepiadis,\nCinara 011,\nClydesmithia canadensis_1a,\n</code></pre>\n\n<p>what I am getting is:</p>\n\n<pre><code>Aphis asclepiadis,\nCinara 011,\nClydesmithia_canadensis 1a\n</code></pre>\n"}, {"tags": ["python", "windows", "python-3.x", "pandas", "pyinstaller"], "answers": [{"comments": [{"owner": {"reputation": 1951, "user_id": 1639671, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ceb641b4780723faf54488b277ca1ce?s=128&d=identicon&r=PG", "display_name": "flutefreak7", "link": "https://stackoverflow.com/users/1639671/flutefreak7"}, "edited": false, "score": 0, "creation_date": 1539392682, "post_id": 47390303, "comment_id": 92498636, "body": "I was getting recursion errors today even with the hiddenimports stuff, and I figured that if all else fails, just including the whole pandas folder would probably be a viable solution, similar to how matplotlib provides a data files list. This looks even better or equivalent. I won&#39;t get a chance to try it until Monday, but wanted to say thanks until then."}, {"owner": {"reputation": 151, "user_id": 10203382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f4b699278470a87591a6fe9b7fa3009?s=128&d=identicon&r=PG&f=1", "display_name": "ali", "link": "https://stackoverflow.com/users/10203382/ali"}, "edited": false, "score": 0, "creation_date": 1544604405, "post_id": 47390303, "comment_id": 94330780, "body": "@Simon -- After using your suggestion, my program worked great for me with console=True, but it is not working when the console=False. But, when I say True I get the black command window at the end along with my wanted exe window which is not required. When I try deleting the black window my desired window also get closed. Can you please suggest me!"}, {"owner": {"reputation": 303, "user_id": 4351937, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jRPqI.png?s=128&g=1", "display_name": "Nebi M Aydin", "link": "https://stackoverflow.com/users/4351937/nebi-m-aydin"}, "edited": false, "score": 0, "creation_date": 1581032438, "post_id": 47390303, "comment_id": 106304263, "body": "what is Tree in this case?"}, {"owner": {"reputation": 181, "user_id": 3249312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b10c4c66b139f94a34af1ea534fb7a?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/3249312/simon"}, "edited": false, "score": 0, "creation_date": 1581351185, "post_id": 47390303, "comment_id": 106394405, "body": "It&#39;s a class from pyinstaller that help handling directory content : <a href=\"https://pyinstaller.readthedocs.io/en/stable/advanced-topics.html#the-toc-and-tree-classes\" rel=\"nofollow noreferrer\">pyinstaller.readthedocs.io/en/stable/&hellip;</a>"}], "tags": [], "owner": {"reputation": 181, "user_id": 3249312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b10c4c66b139f94a34af1ea534fb7a?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/3249312/simon"}, "is_accepted": false, "score": 14, "last_activity_date": 1511175189, "creation_date": 1511175189, "answer_id": 47390303, "question_id": 47318119, "link": "https://stackoverflow.com/questions/47318119/no-module-named-pandas-libs-tslibs-timedeltas-in-pyinstaller/47390303#47390303", "title": "No module named &#39;pandas._libs.tslibs.timedeltas&#39; in PyInstaller", "body": "<p>I'm not sure it may help you but following the solution on the post you mention work for me with python 3.6 pyinstaller 3.3 and pandas 0.21.0 on windows 7.</p>\n\n<p>So adding this to the spec file just after analysis :</p>\n\n<pre><code>def get_pandas_path():\n    import pandas\n    pandas_path = pandas.__path__[0]\n    return pandas_path\n\ndict_tree = Tree(get_pandas_path(), prefix='pandas', excludes=[\"*.pyc\"])\na.datas += dict_tree\na.binaries = filter(lambda x: 'pandas' not in x[0], a.binaries)\n</code></pre>\n\n<p>Also my spec file format is the same as the one in <a href=\"https://stackoverflow.com/questions/29109324/pyinstaller-and-pandas/32974358#32974358\">the post you mention</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 745, "user_id": 7920758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a23192c650066a1e13774ab38dab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Szturc", "link": "https://stackoverflow.com/users/7920758/petr-szturc"}, "edited": false, "score": 0, "creation_date": 1550579490, "post_id": 47528057, "comment_id": 96312859, "body": "I believe this is fixed in pyinstaller 3.4 - the hook is there out of the box. See linked issue."}], "tags": [], "owner": {"reputation": 745, "user_id": 7920758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a23192c650066a1e13774ab38dab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Szturc", "link": "https://stackoverflow.com/users/7920758/petr-szturc"}, "is_accepted": false, "score": 50, "last_activity_date": 1588839379, "last_edit_date": 1588839379, "creation_date": 1511861386, "answer_id": 47528057, "question_id": 47318119, "link": "https://stackoverflow.com/questions/47318119/no-module-named-pandas-libs-tslibs-timedeltas-in-pyinstaller/47528057#47528057", "title": "No module named &#39;pandas._libs.tslibs.timedeltas&#39; in PyInstaller", "body": "<p>PyInstaller 3.3, Pandas 0.21.0, Python 3.6.1.</p>\n\n<p>I was able to solve this thanks to not-yet published/committed fix to PyInstaller, see <a href=\"https://github.com/pyinstaller/pyinstaller/issues/2978\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://github.com/lneuhaus/pyinstaller/blob/017b247064f9bd51a620cfb2172c05d63fc75133/PyInstaller/hooks/hook-pandas.py\" rel=\"nofollow noreferrer\">this</a>. AND keeping the ability to pack it into one executable file.</p>\n\n<p>Basically:</p>\n\n<ol>\n<li><p>Locate PyInstaller folder..\\hooks, e.g. <code>C:\\Program Files\\Python\\Lib\\site-packages\\PyInstaller\\hooks</code>.</p></li>\n<li><p>Create file hook-pandas.py with contents (or anything similar based on your error):</p>\n\n<pre><code>hiddenimports = ['pandas._libs.tslibs.timedeltas']\n</code></pre></li>\n<li><p>Save it + I deleted .spec file, build and dist folders just to be sure.</p></li>\n<li><p>Run <code>pyinstaller -F my_app.py</code>.</p></li>\n</ol>\n\n<p>This fix should work as long as you don't upgrade or reinstall PyInstaller. So you don't need to edit .spec file.</p>\n\n<p>Maybe they will include the fix sooner for us! :)</p>\n"}, {"comments": [{"owner": {"reputation": 2317, "user_id": 4466589, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uPR5Y.jpg?s=128&g=1", "display_name": "Bora M. Alper", "link": "https://stackoverflow.com/users/4466589/bora-m-alper"}, "edited": false, "score": 0, "creation_date": 1617271685, "post_id": 51304514, "comment_id": 118260548, "body": "Thanks a ton! Also, you can use <code>--hidden-import</code> as many times as needed."}], "tags": [], "owner": {"reputation": 111, "user_id": 9879505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f9967c97d1cada9badafd7125ef235?s=128&d=identicon&r=PG&f=1", "display_name": "Stephan", "link": "https://stackoverflow.com/users/9879505/stephan"}, "is_accepted": false, "score": 11, "last_activity_date": 1531394961, "creation_date": 1531394961, "answer_id": 51304514, "question_id": 47318119, "link": "https://stackoverflow.com/questions/47318119/no-module-named-pandas-libs-tslibs-timedeltas-in-pyinstaller/51304514#51304514", "title": "No module named &#39;pandas._libs.tslibs.timedeltas&#39; in PyInstaller", "body": "<p>I managed to solve this problem by using the \"--hidden-import\" flag. Hopefully this can be helpful to someone else that comes across this thread.</p>\n\n<pre><code>pyinstaller --onefile --hidden-import pandas._libs.tslibs.timedeltas myScript.py\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 745, "user_id": 7920758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a23192c650066a1e13774ab38dab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Szturc", "link": "https://stackoverflow.com/users/7920758/petr-szturc"}, "edited": false, "score": 0, "creation_date": 1554738346, "post_id": 55262582, "comment_id": 97853101, "body": "You can use some basic formatting to distinguish what is just text and what is meant to be run etc, like <code>print(&quot;Hello&quot;)</code>"}], "tags": [], "owner": {"reputation": 145, "user_id": 9114275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc0a166bffc87954b723ab88da00ccd?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak", "link": "https://stackoverflow.com/users/9114275/deepak"}, "is_accepted": false, "score": 1, "last_activity_date": 1554743665, "last_edit_date": 1554743665, "creation_date": 1553090523, "answer_id": 55262582, "question_id": 47318119, "link": "https://stackoverflow.com/questions/47318119/no-module-named-pandas-libs-tslibs-timedeltas-in-pyinstaller/55262582#55262582", "title": "No module named &#39;pandas._libs.tslibs.timedeltas&#39; in PyInstaller", "body": "<p>If you are using Anaconda, it is highly likely that when you were trying to uninstall some package it has disrupted pandas dependency and unable to get the required script. If you just run <code>conda install pandas</code> you might end up with another error:</p>\n\n<blockquote>\n  <p><code>module 'pandas' has no attribute 'compat'</code>.</p>\n</blockquote>\n\n<p>So, try uninstalling and reinstalling pandas <code>conda uninstall pandas</code>, Install it again using <code>conda install pandas</code> this will solve the problem.\nOn the other hand, if you are not using  Anaconda., try doing the same on Command prompt pointing to Python scripts folder <code>pip uninstall pandas &amp; pip install pandas</code>. </p>\n\n<p>Most of the times, this should solve the problem. Just to be cover all the possibilities, don't forget to Launch Spyder from Anaconda after installing pandas.</p>\n"}], "owner": {"reputation": 303, "user_id": 8436718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54725f97e8ff13f2c76db4b15603ecfa?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard Fidler", "link": "https://stackoverflow.com/users/8436718/eduard-fidler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26324, "favorite_count": 20, "protected_date": 1535693861, "answer_count": 4, "score": 27, "last_activity_date": 1588839379, "creation_date": 1510783617, "last_edit_date": 1515714004, "question_id": 47318119, "link": "https://stackoverflow.com/questions/47318119/no-module-named-pandas-libs-tslibs-timedeltas-in-pyinstaller", "title": "No module named &#39;pandas._libs.tslibs.timedeltas&#39; in PyInstaller", "body": "<p>I am trying to wrap a Python script into an exe using PyInstaller (development version) for windows. </p>\n\n<p>The script uses Pandas and I have been running into an error when running the exe.</p>\n\n<pre><code>Traceback (most recent call last):   File \"site-packages\\pandas\\__init__.py\", line 26, in &lt;module&gt;   File \"C:\\Users\\Eddie\\Anaconda3\\lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 631, in exec_module\n    exec(bytecode, module.__dict__)   File \"site-packages\\pandas\\_libs\\__init__.py\", line 4, in &lt;module&gt;   File \"C:\\Users\\Eddie\\Anaconda3\\lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 714, in load_module\n    module = loader.load_module(fullname)   File \"pandas/_libs/tslib.pyx\", line 1, in init pandas._libs.tslib ModuleNotFoundError: No module named 'pandas._libs.tslibs.timedeltas'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):   File \"G5k Version file Extract (with tkinter).py\", line 15, in &lt;module&gt;   File \"C:\\Users\\Eddie\\Anaconda3\\lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 631, in exec_module\n    exec(bytecode, module.__dict__)   File \"site-packages\\pandas\\__init__.py\", line 35, in &lt;module&gt; ImportError: C extension: No module named 'pandas._libs.tslibs.timedeltas' not built. If you want to import pandas from the source directory, you may need to run 'python setup.py build_ext --inplace --force' to build the C extensions first.\n</code></pre>\n\n<p>I have tried doing this for programs without pandas and everything was fine.</p>\n\n<p>This is very similar to <a href=\"https://stackoverflow.com/questions/29109324/pyinstaller-and-pandas/32974358#32974358\">another question</a> already solved for Python 2, but I am using Python 3 and that solution does not apply the same way due to the changed .spec file format.</p>\n\n<p>Python 3.6<br>\nPyInstaller - version 3.3<br>\nPandas - version 0.20.3</p>\n"}, {"tags": ["python", "list", "tuples", "typeerror", "networkx"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510783549, "post_id": 47318093, "comment_id": 81587280, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1510784459, "post_id": 47318093, "comment_id": 81587750, "body": "You can&#39;t index an item in a list with a tuple. A tuple can be used as a dictionary key.  Have you tried <code>x in totallist</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 8512629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b504750ffa77c41356780da0be8e0?s=128&d=identicon&r=PG&f=1", "display_name": "lkriener", "link": "https://stackoverflow.com/users/8512629/lkriener"}, "is_accepted": false, "score": 0, "last_activity_date": 1510784553, "creation_date": 1510784553, "answer_id": 47318320, "question_id": 47318093, "link": "https://stackoverflow.com/questions/47318093/how-to-solve-typeerror-list-indices-must-be-integers-or-slices-not-tuple-w/47318320#47318320", "title": "How to solve &quot; TypeError: list indices must be integers or slices, not tuple &quot; when comparing tuples in two different lists?", "body": "<p>The Error is caused by the fact, that x is a tuple and you can not use a tuple as an index for the totallist. This has to be an integer.</p>\n\n<p>The problem is avoided if you compare the tuples directly by looping through both list. </p>\n\n<pre><code>no_dupes = [(1,2), (3,4), (5,6)]\ntotallist = [(8,9), (7,8), (6,7), (5,6), (4,5), (3,4), (2,3), (1,2)]\n\nfor tup in no_dupes:\n    found = False;\n    for other_tup in totallist:\n        if tup == other_tup:\n            found = True\n            break\n    if found:\n        print \"Tuple\", str(tup), \"was found\"\n    else:\n        print \"Tuple\", str(tup), \"was not found\"\n</code></pre>\n\n<p>In this example the output is</p>\n\n<pre><code>Tuple (1, 2) was found\nTuple (3, 4) was found\nTuple (5, 6) was found\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8947569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474aa32ead90b60b43126f78ed7a71c5?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/8947569/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 628, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1510788583, "creation_date": 1510783527, "last_edit_date": 1510788583, "question_id": 47318093, "link": "https://stackoverflow.com/questions/47318093/how-to-solve-typeerror-list-indices-must-be-integers-or-slices-not-tuple-w", "title": "How to solve &quot; TypeError: list indices must be integers or slices, not tuple &quot; when comparing tuples in two different lists?", "body": "<pre><code>for x in no_dupes: #looks at tuple in list \n    if x != totallist[x]: #checks when a tuple in no_dupes is not in totallist \n        return \"The graph violates the STC\" #ends the function, because as soon as one tuple in no_dupes isn't in totallist, the graph violats the STC.\n</code></pre>\n\n<p>I want to compare all the tuples from one list (in the list no_dupes) with another list (totallist), in order to see whether a tuple of a list in no_dupes is <strong>not</strong> in totallist. </p>\n\n<p>This is how no_dupes looks like</p>\n\n<p><img src=\"https://i.stack.imgur.com/HUo3Q.jpg\" alt=\"img\"></p>\n\n<p>This is how totallist looks like</p>\n\n<p><img src=\"https://i.stack.imgur.com/71M0Z.jpg\" alt=\"img\"></p>\n\n<p>How the error looks like</p>\n\n<p><img src=\"https://i.stack.imgur.com/NB5hN.jpg\" alt=\"img\"></p>\n\n<p>How can this error be solved?</p>\n"}, {"tags": ["python", "python-3.x", "python-2.7"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1510783387, "post_id": 47318027, "comment_id": 81587207, "body": "Out of all these, I&#39;m afraid Python is the least important for web development."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 1, "creation_date": 1510783428, "post_id": 47318027, "comment_id": 81587222, "body": "You may have learned HTML and CSS while you were asking this question."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510783479, "post_id": 47318027, "comment_id": 81587243, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/on-topic\">on topic</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> apply here."}], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 3319175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db294f371e2d3838aa03bf84e4b0546?s=128&d=identicon&r=PG", "display_name": "lathrisk", "link": "https://stackoverflow.com/users/3319175/lathrisk"}, "is_accepted": true, "score": 2, "last_activity_date": 1510783523, "creation_date": 1510783523, "answer_id": 47318092, "question_id": 47318027, "link": "https://stackoverflow.com/questions/47318027/use-of-python-in-web-develpment/47318092#47318092", "title": "Use of Python in web develpment", "body": "<p>I'd highly recommend learning HTML, JS, and CSS. It is essential for web development. It should be fairly straightforward though, especially compared to learning python. I expect you'll pick it up quickly.</p>\n\n<p>I'm not sure you'd really understand the underpinnings of frameworks like Django without those first.</p>\n\n<p>I'm sure you can learn it as you go though.</p>\n\n<p>Good luck.</p>\n"}], "owner": {"reputation": 973, "user_id": 7023562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1291556954197383/picture?type=large", "display_name": "theboringdeveloper", "link": "https://stackoverflow.com/users/7023562/theboringdeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1510809089, "accepted_answer_id": 47318092, "answer_count": 1, "score": -4, "last_activity_date": 1517840960, "creation_date": 1510783282, "last_edit_date": 1517840960, "question_id": 47318027, "link": "https://stackoverflow.com/questions/47318027/use-of-python-in-web-develpment", "closed_reason": "Opinion-based", "title": "Use of Python in web develpment", "body": "<p>Right now i am learning python and i want to start doing web development with Python. </p>\n\n<p>I wanted to know about the different types of things we can do with python in web development.</p>\n"}, {"tags": ["python", "mysql", "database", "sqlalchemy"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1510783578, "post_id": 47317999, "comment_id": 81587296, "body": "How are you calling this code?"}, {"owner": {"reputation": 450, "user_id": 6775715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-WFXHejgHHew/AAAAAAAAAAI/AAAAAAAAAl0/vFbrYjsoFNw/photo.jpg?sz=128", "display_name": "M Leonard", "link": "https://stackoverflow.com/users/6775715/m-leonard"}, "edited": false, "score": 0, "creation_date": 1510783957, "post_id": 47317999, "comment_id": 81587489, "body": "@Blurp updated."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1510784088, "post_id": 47317999, "comment_id": 81587565, "body": "Where is <code>update_render_progress()</code> called?"}, {"owner": {"reputation": 450, "user_id": 6775715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-WFXHejgHHew/AAAAAAAAAAI/AAAAAAAAAl0/vFbrYjsoFNw/photo.jpg?sz=128", "display_name": "M Leonard", "link": "https://stackoverflow.com/users/6775715/m-leonard"}, "edited": false, "score": 0, "creation_date": 1510784323, "post_id": 47317999, "comment_id": 81587671, "body": "@Blurp added :-) (separate file)"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1510812460, "post_id": 47317999, "comment_id": 81596208, "body": "This might be due to MySQL&#39;s default transaction isolation level REPEATABLE_READ, though it is a bit mysterious how. If it should happen that your <code>&#47;api&#47;jobs</code> route handler were to use the same connection between calls, without a rollback or commit in between, the transaction would keep on seeing the same state it had when it began. Try adding a call to <code>self.db.session.rollback()</code> before the query in <code>db.queue_rendering_items()</code> and see what happens."}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1510812653, "post_id": 47317999, "comment_id": 81596276, "body": "I noticed that you&#39;re not using Flask-SQLAlchemy, so have you remembered to hook the session to the request/app life cycle as described <a href=\"http://flask.pocoo.org/docs/0.12/patterns/sqlalchemy/#manual-object-relational-mapping\" rel=\"nofollow noreferrer\">here</a>? If not, then I&#39;m pretty sure that you&#39;re leaking transactional state between requests."}], "owner": {"reputation": 450, "user_id": 6775715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-WFXHejgHHew/AAAAAAAAAAI/AAAAAAAAAl0/vFbrYjsoFNw/photo.jpg?sz=128", "display_name": "M Leonard", "link": "https://stackoverflow.com/users/6775715/m-leonard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 390, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510784302, "creation_date": 1510783154, "last_edit_date": 1510784302, "question_id": 47317999, "link": "https://stackoverflow.com/questions/47317999/sqlalchemy-is-not-returning-updated-row-information", "title": "sqlalchemy is not returning updated row information", "body": "<p>I have a web application that is on top of mysql. When I started it, I built the mysql database from scratch, and connected to it using pymysql. </p>\n\n<p>Fast forward...</p>\n\n<p>I've rewritten everything using sqlalchemy to connect to the db (non-declarative?) I can connect to the db, read the db, update, etc. I also use MySQLWorkbench to view the database in a graphic way. </p>\n\n<p>My webapp has a few tables that will poll the database for changes, and update the table. For instance, I have a job queue which will update the percentage-done. Here's the kicker:</p>\n\n<p>When I send a job through, I will watch the database in MySQLWorkbench. I can verify that the job is going through (I see the percentage climbing). This confirms that the webapp is writing to the database. But! On the other end, where the table is asking for the status, it is not recieving the updated information (I've done print outs in the models, as well as in the flask app, as well as the FE js). </p>\n\n<p>What is going on here? Even though I can see it in MySQLWorkbench is the connection not 'releasing' or something? Here is some of my code:</p>\n\n<pre><code>#models.py\nfrom sqlalchemy.ext.automap import automap_base\nfrom sqlalchemy.orm import Session\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import scoped_session, sessionmaker, Query\nimport os\nimport json\n\n\nBase = automap_base()\n\nengine = create_engine(\"mysql+pymysql://user:asdas758ef10d2364d54d7e8@localhost:{}/metadatacontroller\".format(3306))\n\n# reflect the tables\nBase.prepare(engine, reflect=True)\n\nEncodeQueue = Base.classes.encode_queue\n\ndb_session = scoped_session(sessionmaker(bind=engine))\n\nclass DataStore:\n    def __init__(self):\n        self.db = db_session()\n\n    #receive status\n    def queue_rendering_items(self):\n        query = self.db.query(EncodeQueue).filter(EncodeQueue.status.in_(['queue', 'rendering', 'rendering thumbnails'])).all()\n        return_query = []\n        for item in query:\n            row = {'artist_id': item.artist_id,\n                   'art_id': item.art_id,\n                   'status': item.status,\n                   'progress': item.errors,\n                   'artwork_title': item.artwork_title,\n                   'artist_name': item.artist_name,\n                   }\n            return_query.append(row)\n\n        return return_query\n\n    #update status\n    def update_render_progress(self, job_id, progress):\n        self.db.query(EncodeQueue).filter_by(job_id=job_id).update\\({'errors': json.dumps(progress)})\n        self.db.commit()\n</code></pre>\n\n<p>(ignore the back slash in <code>update_render_progress</code> ... weird SO formatting)</p>\n\n<p>This is how 'status' code is being called on a flask end point:</p>\n\n<pre><code>@app.route('/api/jobs', methods=[\"GET\"])\ndef get_all_jobs():\n    db = models.DataStore()\n    all_art = db.queue_rendering_items()\n    print(all_art)\n\n    return jsonify({'data':all_art})\n</code></pre>\n\n<p>Lastly, the status is being updated by a different file, on a different machine:</p>\n\n<pre><code>import models\ndb = models.DataStore()    \ndb.update_render_progress(job_id, {'percentage': percentage_complete, 'time_remain': render.render_estimated_seconds_remaining})\n</code></pre>\n\n<p>What the heck is happening?</p>\n"}, {"tags": ["python", "dll", "pycharm", "exe", "py2exe"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1510783038, "post_id": 47317929, "comment_id": 81587051, "body": "I had the same issue and fixed it by copying the DLL in <code>%WINDIR%\\system32</code> (where there&#39;s a system path). Then it worked fine. You say you &quot;have it&quot;, but where is it?"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1514987450, "post_id": 47317929, "comment_id": 83131287, "body": "<i>msvcr90.dll</i> (part of <i>VStudio2008</i>) is delivered as an <b>assembly</b> (it&#39;s linked into its clients <i>exe</i>s / <i>dll</i>s via a manifest file, which 3 characteristics - other than the name must be matched). <i>Ms</i> dropped this architecture due to the so called <i>DLL hell</i>. There are many <i>Google</i> results on these topics. Typically, assemblies are located in <i>%WINDIR%\\WinSxS</i> (this one is placed there by the (<i>vcredist*.exe</i>) installer). So you have to run that installer as a prerequisite of your module. Or -  a possibility that I didn&#39;t explore, include the required <i>dll</i>s + the manifest."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1515015996, "post_id": 47317929, "comment_id": 83146097, "body": "So in your dist folder contains a <i>Microsoft.VC90.CRT</i> folder containing 3 dlls (<i>msvc?90.dll</i>) and a <i>Microsoft.VC90.CRT.manifest</i>? Also, do you plan to distribute your app publicly (to customers)? If yes, you should be aware of the redistribution terms. The 2nd part seems a different question totally unrelated to this."}], "owner": {"reputation": 261, "user_id": 8199529, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8f7eb7320cbf4281577fa2b1d0f52838?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Bi", "link": "https://stackoverflow.com/users/8199529/jerry-bi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1510784745, "creation_date": 1510782811, "last_edit_date": 1510784745, "question_id": 47317929, "link": "https://stackoverflow.com/questions/47317929/py2exe-executable-on-windows-says-i-dont-have-msvcr90-dll-even-though-i-do", "title": "Py2exe executable on Windows says I don&#39;t have MSVCR90.dll even though I do", "body": "<p>I'm following this <a href=\"http://www.py2exe.org/index.cgi/Tutorial\" rel=\"nofollow noreferrer\" title=\"tutorial\">tutorial</a> in order to make py2exe executable. But even though I followed the steps and there are the proper dlls in the project, when I try running the exe file, it still says that the dll is not available. Excluding them doesn't help either. Also, I'm using Pycharm and I don't know if the py2exe manages to catch the imports from the interpreter. I'm very confused with this whole thing and I need help. Thanks.</p>\n\n<p>Edit: I put the msvcr90.dll in my dist folder, and I'm not getting the error anymore. However, now I'm getting another problem in that py2exe doesn't recognize the modules that I installed in my PyCharm interpreter. Do I need to download them onto my computer or is there something I'm missing?</p>\n"}, {"tags": ["python", "python-3.x", "signal-processing"], "comments": [{"owner": {"reputation": 493, "user_id": 6111465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72fJG.png?s=128&g=1", "display_name": "gammazero", "link": "https://stackoverflow.com/users/6111465/gammazero"}, "edited": false, "score": 0, "creation_date": 1510784843, "post_id": 47317921, "comment_id": 81587938, "body": "You can get the lag, and then shift one signal by that lag, then do your linear regression scale computation. <a href=\"https://stackoverflow.com/questions/39336727/get-lag-with-cross-correlation\" title=\"get lag with cross correlation\">stackoverflow.com/questions/39336727/&hellip;</a>  I would also look at scipy signal cross-correlation: <a href=\"https://docs.scipy.org/doc/scipy-0.16.1/reference/generated/scipy.signal.correlate.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/scipy-0.16.1/reference/generated/&hellip;</a>"}, {"owner": {"reputation": 31, "user_id": 7810672, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tvLRYGj7Xgc/AAAAAAAAAAI/AAAAAAAAAAs/sQlSDxlVRZA/photo.jpg?sz=128", "display_name": "Chris Bremner", "link": "https://stackoverflow.com/users/7810672/chris-bremner"}, "reply_to_user": {"reputation": 493, "user_id": 6111465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72fJG.png?s=128&g=1", "display_name": "gammazero", "link": "https://stackoverflow.com/users/6111465/gammazero"}, "edited": false, "score": 0, "creation_date": 1510785837, "post_id": 47317921, "comment_id": 81588360, "body": "Thanks for the response! I looked into doing this but my problem was that my lag was not consistent over the whole measurement period (e.g. one peak might be 6 mins behind, then the next one might be 10). Do you have any good strategies for reconciling that?"}, {"owner": {"reputation": 372, "user_id": 8568787, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a89f0fc803ad700b627a8b417901c1bc?s=128&d=identicon&r=PG&f=1", "display_name": "Max Krappmann", "link": "https://stackoverflow.com/users/8568787/max-krappmann"}, "edited": false, "score": 0, "creation_date": 1510812335, "post_id": 47317921, "comment_id": 81596151, "body": "Can&#39;t you use an RBT with a KL divergence measurement to &quot;find the closest&quot; match between both curves? (Your problem should be the same as a 2D Image fusion). So you can formulate a minimization problem and use sk learn or scipy to solve it."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7810672, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tvLRYGj7Xgc/AAAAAAAAAAI/AAAAAAAAAAs/sQlSDxlVRZA/photo.jpg?sz=128", "display_name": "Chris Bremner", "link": "https://stackoverflow.com/users/7810672/chris-bremner"}, "is_accepted": true, "score": 0, "last_activity_date": 1510965117, "creation_date": 1510965117, "answer_id": 47361235, "question_id": 47317921, "link": "https://stackoverflow.com/questions/47317921/how-to-correlate-a-sample-curve-with-a-reference-curve/47361235#47361235", "title": "How to correlate a sample curve with a reference curve", "body": "<p>Thanks for the help. What I ended up doing was finding all the local maxima and minima on the reference curve, then used those peak locations to search for the same maxima or minima on the sample curve. I basically used the reference curve's maxima/minima points as the center of a \"window\" and I would search for the highest/lowest point on the sample curve within a few minutes of the center point.</p>\n\n<p>Once I had found all the matched maxima/minima on the sample curve, I then could perform a linear regression between these points to determine a scaling factor.</p>\n\n<p><a href=\"https://i.stack.imgur.com/OtxOC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OtxOC.png\" alt=\"Sample\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Cavm2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cavm2.png\" alt=\"Reference\"></a><a href=\"https://i.stack.imgur.com/Xfq6b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xfq6b.png\" alt=\"Correlation\"></a></p>\n"}], "owner": {"reputation": 31, "user_id": 7810672, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tvLRYGj7Xgc/AAAAAAAAAAI/AAAAAAAAAAs/sQlSDxlVRZA/photo.jpg?sz=128", "display_name": "Chris Bremner", "link": "https://stackoverflow.com/users/7810672/chris-bremner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "accepted_answer_id": 47361235, "answer_count": 1, "score": 1, "last_activity_date": 1510965117, "creation_date": 1510782748, "question_id": 47317921, "link": "https://stackoverflow.com/questions/47317921/how-to-correlate-a-sample-curve-with-a-reference-curve", "title": "How to correlate a sample curve with a reference curve", "body": "<p>I have a sensor that is continually collecting data (shown in blue) every minute  that outputs a voltage output. I have a reference sensor collecting data (shown in red) that outputs in the units that I am interested. I am interested in determining a scaling factor so that I can scale the blue sensor's data to match the red sensor's data. </p>\n\n<p>Normally, I would do a simple linear regression between the values of two sensors at any given time, which would give me a scaling factor based on the slope of the regression. I have noticed, however, that red sensor is slower at sensing a change in the environment, and can anywhere from 6-15 minutes behind -- this makes a regression difficult because at any given time, the two sensors may be measuring different things.</p>\n\n<p>I was wondering if there is any sort of curve fitting that can be performed such that I can extract a scaling factor so that I can scale the blue sensor's data to match the red sensors.</p>\n\n<p>I typically work in Python, so any Python packages (e.g. Numpy/Scipy) that would help with this would be especially helpful.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dNJUz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dNJUz.png\" alt=\"curve calibration\"></a></p>\n"}, {"tags": ["python", "django", "web-applications", "subdomain"], "comments": [{"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 1, "creation_date": 1510787404, "post_id": 47317901, "comment_id": 81588894, "body": "Have you considered using the built-in <a href=\"https://docs.djangoproject.com/en/1.11/ref/contrib/sites/\" rel=\"nofollow noreferrer\">&quot;sites&quot; framework</a>"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1510854342, "post_id": 47317901, "comment_id": 81623648, "body": "@H&#229;kenLid I haven&#39;t seen that before. Could you demonstrate an example?"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1510855747, "post_id": 47317901, "comment_id": 81624498, "body": "I don&#39;t really have much experience with it."}, {"owner": {"reputation": 383, "user_id": 6622232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7020fc520cd6a44d375bb2b6fcdcd1a8?s=128&d=identicon&r=PG&f=1", "display_name": "ppython", "link": "https://stackoverflow.com/users/6622232/ppython"}, "edited": false, "score": 0, "creation_date": 1511190323, "post_id": 47317901, "comment_id": 81743034, "body": "@MalikBrahimi, there&#39;s <a href=\"https://docs.djangoproject.com/en/1.11/ref/contrib/sites/#associating-content-with-multiple-sites\" rel=\"nofollow noreferrer\">a short example on the Sites framework documentation</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1511020006, "post_id": 47364483, "comment_id": 81688133, "body": "Is there an alternative for sqlite?"}, {"owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 3, "creation_date": 1511025367, "post_id": 47364483, "comment_id": 81689989, "body": "Why would you want to use sqlite? It&#39;s not really a backend for production environments. <a href=\"https://sqlite.org/whentouse.html\" rel=\"nofollow noreferrer\">sqlite.org/whentouse.html</a>"}], "tags": [], "owner": {"reputation": 24142, "user_id": 3955830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f57e29619783576502a620f47ad2e3b?s=128&d=identicon&r=PG", "display_name": "solarissmoke", "link": "https://stackoverflow.com/users/3955830/solarissmoke"}, "is_accepted": true, "score": 5, "last_activity_date": 1536358964, "last_edit_date": 1536358964, "creation_date": 1510997213, "answer_id": 47364483, "question_id": 47317901, "link": "https://stackoverflow.com/questions/47317901/django-isolated-subdomains/47364483#47364483", "title": "Django Isolated Subdomains", "body": "<p>One option is to use <a href=\"https://github.com/bernardopires/django-tenant-schemas\" rel=\"nofollow noreferrer\">django-tenant-schemas</a> which is designed for this purpose:</p>\n\n<blockquote>\n  <p>Django provides currently no simple way to support multiple tenants using the same project instance, even when only the data is different. Because we don't want you running many copies of your project, you'll be able to have:</p>\n  \n  <ul>\n  <li>Multiple customers running on the same instance</li>\n  <li>Shared and Tenant-Specific data</li>\n  <li>Tenant View-Routing <em>(i.e., subdomain mapping)</em></li>\n  </ul>\n</blockquote>\n\n<p>This will result in you having separate database schema for each tenant (event, in your case), each with its own isolated models. Without too much effort you can create tenants (events) on the fly - it sounds like your use case would require that.</p>\n\n<p>Note: <code>tenant-schemas</code> only work with Postgres.</p>\n"}, {"tags": [], "owner": {"reputation": 633, "user_id": 4558602, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lAKtLomiKDU/AAAAAAAAAAI/AAAAAAAAAB0/GSkJkVYn9HM/photo.jpg?sz=128", "display_name": "Abhishek Menon", "link": "https://stackoverflow.com/users/4558602/abhishek-menon"}, "is_accepted": false, "score": 0, "last_activity_date": 1511208990, "creation_date": 1511208990, "answer_id": 47400308, "question_id": 47317901, "link": "https://stackoverflow.com/questions/47317901/django-isolated-subdomains/47400308#47400308", "title": "Django Isolated Subdomains", "body": "<p>You don't have to write separate apps for each event. If each event shares the same schema, you could just make your architecture <a href=\"https://en.wikipedia.org/wiki/Multitenancy\" rel=\"nofollow noreferrer\">Multitenant</a></p>\n\n<p>Here are all the packages available for this. <a href=\"https://djangopackages.org/grids/g/multi-tenancy/\" rel=\"nofollow noreferrer\">Link here</a></p>\n\n<p>I personally recommend <code>django-hosts</code> But it doesn't offer good data-isolation features. This is good if you already have an existing project and just want to introduce multitenancy. However, if you are just starting the project, <code>django-tenancy</code> is a great option. </p>\n"}], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 47364483, "answer_count": 2, "score": 2, "last_activity_date": 1536358964, "creation_date": 1510782666, "question_id": 47317901, "link": "https://stackoverflow.com/questions/47317901/django-isolated-subdomains", "title": "Django Isolated Subdomains", "body": "<p>Let's say we have a model called <code>Event</code> with a slug <code>name</code>. I'm looking to configure my Django app to basically isolate all my other models into separate apps depending on the event. For example:</p>\n\n<pre><code>\"http://annualmeetup.domain.com\" # in the form of \"http://{}.domain.com\".format(e.name)\n</code></pre>\n\n<p>How would I create completed isolated apps such that my models for users, meetings, and others only work in the context of the given subdomain? I was thinking about writing multiple apps for each event and copying the same models via a command script, but I still don't know how to point an app to a subdomain.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1510782670, "post_id": 47317850, "comment_id": 81586835, "body": "Your Python script isn&#39;t logged in to your Facebook account, while your browser is."}, {"owner": {"reputation": 101, "user_id": 1191450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a865bca963721743c7a52fe4d90cacf?s=128&d=identicon&r=PG", "display_name": "cdhanson", "link": "https://stackoverflow.com/users/1191450/cdhanson"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1510782871, "post_id": 47317850, "comment_id": 81586963, "body": "@kindall There we go. So I need to figure out how to pass the facebook authentication with the get request."}], "answers": [{"comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1510782650, "post_id": 47317886, "comment_id": 81586825, "body": "This won&#39;t cause the wrong data to end up in the file."}, {"owner": {"reputation": 101, "user_id": 1191450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a865bca963721743c7a52fe4d90cacf?s=128&d=identicon&r=PG", "display_name": "cdhanson", "link": "https://stackoverflow.com/users/1191450/cdhanson"}, "edited": false, "score": 0, "creation_date": 1510782680, "post_id": 47317886, "comment_id": 81586840, "body": "Technically true, but not relevant to the topic."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 101, "user_id": 1191450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a865bca963721743c7a52fe4d90cacf?s=128&d=identicon&r=PG", "display_name": "cdhanson", "link": "https://stackoverflow.com/users/1191450/cdhanson"}, "edited": false, "score": 1, "creation_date": 1510782754, "post_id": 47317886, "comment_id": 81586888, "body": "@cdhanson You are missing cookies from the browser!"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1510783016, "post_id": 47317886, "comment_id": 81587036, "body": "@kindall Are you supervising me or something? Hahaha, I am joking. I was editing the question. I was going to post how to authenticate to Facebook but it is worth another question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1510784030, "post_id": 47317886, "comment_id": 81587530, "body": "Your correction regarding <code>open</code> should recommend using <code>with open(...) as f</code>."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1510784134, "post_id": 47317886, "comment_id": 81587587, "body": "@Blurp Yes, it is recommended. I will explain it in answer."}], "tags": [], "owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "is_accepted": true, "score": 0, "last_activity_date": 1510784595, "last_edit_date": 1510784595, "creation_date": 1510782600, "answer_id": 47317886, "question_id": 47317850, "link": "https://stackoverflow.com/questions/47317850/downloading-a-file-with-python-with-a-download-request-url/47317886#47317886", "title": "Downloading a file with Python with a download request url", "body": "<p>You need to authenticate to Facebook and use these cookies to download this file. It is not hard to do it but it is worth another question.</p>\n\n<p>You are using <code>open</code> builtin function wrong.<br>\nYou have to write downloaded file like this:</p>\n\n<pre><code>import requests\nurl = 'https://www.facebook.com/ads/manage/download_report.php?act=\\\n       &lt;account_id&gt;&amp;report_run_id=&lt;run_id&gt;&amp;format=csv&amp;source=email_v2'\nr = requests.get(url, allow_redirects=True)\nf = open('test.txt', 'a+')\nf.write(r.content)\nf.close()\n</code></pre>\n\n<p>When working with multiple files, an <code>IOError: [Errno 24] Too many open files</code> exception will be raised if file objects are not deleted.<br>\nQuoting from Python <a href=\"https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>It is good practice to use the <code>with</code> keyword when dealing with file objects. The advantage is that the file is properly closed after its suite finishes, even if an exception is raised at some point. Using with is also much shorter than writing equivalent try-finally blocks</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>with open('test.txt', 'a+') as f:\n    f.write(r.content)\n    # f.close()  # it is redundant\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 1191450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a865bca963721743c7a52fe4d90cacf?s=128&d=identicon&r=PG", "display_name": "cdhanson", "link": "https://stackoverflow.com/users/1191450/cdhanson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 47317886, "answer_count": 1, "score": -2, "last_activity_date": 1510784595, "creation_date": 1510782455, "question_id": 47317850, "link": "https://stackoverflow.com/questions/47317850/downloading-a-file-with-python-with-a-download-request-url", "title": "Downloading a file with Python with a download request url", "body": "<p>We're trying to automate the downloading of auto-generated reports from Facebook Ads. When a report is ready to download, we get an email with a download link in the body. We parse the body of the message and get this (redacted) url to download the csv file:</p>\n\n<pre><code>https://www.facebook.com/ads/manage/download_report.php?act=&lt;account_id&gt;&amp;report_run_id=&lt;run_id&gt;&amp;format=csv&amp;source=email_v2\n</code></pre>\n\n<p>If I put this file into the browser address bar, the file download starts, but when I try to download the content using the python library <code>requests</code> or <code>urllib2</code>:</p>\n\n<pre><code>import requests\nurl = 'https://www.facebook.com/ads/manage/download_report.php?act=\\\n       &lt;account_id&gt;&amp;report_run_id=&lt;run_id&gt;&amp;format=csv&amp;source=email_v2'\nr = requests.get(url, allow_redirects=True)\nopen('test.txt', 'a+').write(r.content)\n</code></pre>\n\n<p>The resultant file is just HTML that contains none of the data I expected, so it's clear that there's no resource attached to this file path. </p>\n\n<p>How can I initiate the download with python? </p>\n"}, {"tags": ["python", "django", "python-3.x", "django-forms"], "comments": [{"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1510787195, "post_id": 47317837, "comment_id": 81588824, "body": "is <code>user</code> a field in SkillForm? If not, the form will not perform the unique_together validation."}, {"owner": {"reputation": 108, "user_id": 8052573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1151527308327367/picture?type=large", "display_name": "Ilya  Osipov", "link": "https://stackoverflow.com/users/8052573/ilya-osipov"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1510787874, "post_id": 47317837, "comment_id": 81589061, "body": "@H&#229;kenLid No, user field is not in form. So this is one of the problems. I don&#39;t want to let users select for whom they creating Skill"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 1, "creation_date": 1510787958, "post_id": 47317837, "comment_id": 81589089, "body": "Then can try to override <code>SkillForm.validate_unique()</code>. See the duplicate question I linked for details."}, {"owner": {"reputation": 108, "user_id": 8052573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1151527308327367/picture?type=large", "display_name": "Ilya  Osipov", "link": "https://stackoverflow.com/users/8052573/ilya-osipov"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1510788644, "post_id": 47317837, "comment_id": 81589328, "body": "@H&#229;kenLid Thanks for answer! I&#39;ll try."}], "owner": {"reputation": 108, "user_id": 8052573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1151527308327367/picture?type=large", "display_name": "Ilya  Osipov", "link": "https://stackoverflow.com/users/8052573/ilya-osipov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "closed_date": 1510823927, "answer_count": 0, "score": 1, "last_activity_date": 1510787931, "creation_date": 1510782418, "last_edit_date": 1510787931, "question_id": 47317837, "link": "https://stackoverflow.com/questions/47317837/proper-way-to-validate-django-unique-together", "closed_reason": "Duplicate", "title": "proper way to validate django unique_together", "body": "<p>I've searched lots of answers about unique_together, but haven't found anything appropriate. I've got model like this:</p>\n\n<pre><code>class Skill(models.Model):\n    user = models.ForeignKey(User, blank = True)\n    title = models.CharField()\n    ...\n\n    class Meta:\n        unique_together = (\"user\", \"title\")\n</code></pre>\n\n<p>And form like this:</p>\n\n<pre><code>class SkillForm(forms.ModelForm):\n\nclass Meta:\n    model = Skill\n    fields = (\n        'title',\n        ...\n        )\n</code></pre>\n\n<p>But now when I try to create new Skill with same user and title I got:<br>\n<code>IntegrityError at /skill/new/ UNIQUE constraint failed: personal_page_platform_skill.user_id, personal_page_platform_skill.title</code></p>\n\n<p>I need a proper way to catch this situation without user field in form. I don't want to let users select for whom they are creating Skill.\nProblem is not in blank=True of user, because in my view I got user from request. Also  get_or_create method is not for me, I guess.</p>\n\n<p>Here my view, if needed:</p>\n\n<pre><code>@login_required\ndef skill_new(request):\n    if request.method != \"POST\":\n        form = SkillForm()\n        return render(request, '...', {'form': form})\n    form = SkillForm(request.POST)\n    if not form.is_valid():\n        return render(request, '...', {'form': form})\n    skill = form.save(commit=False)\n    skill.user = request.user\n    skill.save()\n    return redirect('...', username=request.user.username)\n</code></pre>\n"}, {"tags": ["python", "html", "web-scraping", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 410, "user_id": 5530626, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/94e8f8cf3148b10f80793caf11fa568b?s=128&d=identicon&r=PG&f=1", "display_name": "jvalenti", "link": "https://stackoverflow.com/users/5530626/jvalenti"}, "edited": false, "score": 0, "creation_date": 1510963508, "post_id": 47317998, "comment_id": 81675053, "body": "is there a way to show the table?  Or at least send the csv file to a folder?"}, {"owner": {"reputation": 12982, "user_id": 7668911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6VtZT.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/7668911/neil"}, "reply_to_user": {"reputation": 410, "user_id": 5530626, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/94e8f8cf3148b10f80793caf11fa568b?s=128&d=identicon&r=PG&f=1", "display_name": "jvalenti", "link": "https://stackoverflow.com/users/5530626/jvalenti"}, "edited": false, "score": 0, "creation_date": 1510971855, "post_id": 47317998, "comment_id": 81676646, "body": "Open it in excel or notepad"}], "tags": [], "owner": {"reputation": 12982, "user_id": 7668911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6VtZT.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/7668911/neil"}, "is_accepted": false, "score": 1, "last_activity_date": 1510790576, "last_edit_date": 1510790576, "creation_date": 1510783152, "answer_id": 47317998, "question_id": 47317828, "link": "https://stackoverflow.com/questions/47317828/scraping-a-single-html-table-in-python-using-find/47317998#47317998", "title": "scraping a single html table in python using find", "body": "<p>This can be accomplished via <code>csv</code> writer and the <code>find_all</code> function.</p>\n\n<pre><code>import bs4, csv\nfrom urllib2 import urlopen as uReq\nfrom bs4 import BeautifulSoup as soup\n\n#name a page to scrape\nmy_url = 'https://www.basketball-reference.com/players/a/abdelal01.html'\n\nuClient = uReq(my_url)\npage_html = uClient.read()\nuClient.close()\n\n#perform html parsing\npage_soup = soup(page_html, \"html.parser\")\n\nwith open('csvOut.csv','w') as myFile:\n    writer = csv.writer(myFile, lineterminator='\\n')\n    table = page_soup.find({\"class\" : \"full_table\"})\n    for row in page_soup.find_all(\"tr\"):\n        rowTds = [td.text for td in row.find_all(\"td\")]\n        if len(rowTds):\n            writer.writerow(rowTds)\n</code></pre>\n"}], "owner": {"reputation": 410, "user_id": 5530626, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/94e8f8cf3148b10f80793caf11fa568b?s=128&d=identicon&r=PG&f=1", "display_name": "jvalenti", "link": "https://stackoverflow.com/users/5530626/jvalenti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1510790576, "creation_date": 1510782386, "question_id": 47317828, "link": "https://stackoverflow.com/questions/47317828/scraping-a-single-html-table-in-python-using-find", "title": "scraping a single html table in python using find", "body": "<p>I am absolutely new to python and am trying to scrape a single table from a webpage.  I have accessed the html via \"inspect\" in Chrome.  The web page is here:</p>\n\n<p><a href=\"https://www.basketball-reference.com/players/a/abdelal01.html\" rel=\"nofollow noreferrer\">https://www.basketball-reference.com/players/a/abdelal01.html</a></p>\n\n<p>The following is the code I have used</p>\n\n<pre><code>import bs4\nfrom urllib2 import urlopen as uReq\nfrom bs4 import BeautifulSoup as soup\n\n#name a page to scrape\nmy_url = 'https://www.basketball-reference.com/players/a/abdelal01.html'\n\nuClient = uReq(my_url)\npage_html = uClient.read()\nuClient.close()\n\n#perform html parsing\npage_soup = soup(page_html, \"html.parser\")\n</code></pre>\n\n<p>There is a table on the page called \"Salaries\".  I would like to scrape this table, along with the Title of the page and eventually put them in a csv file.  However, I first need to get the salary table.  I have been trying to use the <code>find</code> function from <code>BeautifulSoup</code> since it's only one table that I am interested in. The problem is that I get no results when I run the following code:</p>\n\n<pre><code>page_soup.find(\"table\", id = \"all_salaries\")\n</code></pre>\n\n<p>I am using Chrome and when I use the \"inspect\" tool on the table it looks like the id is \"all_salaries\" but I am getting no results.  Is there a reason why I am getting no results?  What is the proper way to do this?  </p>\n"}, {"tags": ["python", "python-2.7", "azure", "azure-storage-blobs"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510782454, "post_id": 47317826, "comment_id": 81586731, "body": "Provide the full error message including the stack trace. Also, you should be providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What is <code>BlockBlobService</code>? As it stands, your example would throw a <code>NameError</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510782621, "post_id": 47317826, "comment_id": 81586808, "body": "But it <i>seems</i> like whatever <code>.create_blob_from_text</code> is, it requires some sort of string object for the third argument."}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1510782637, "post_id": 47317826, "comment_id": 81586818, "body": "A list is not a blob. A bytes object is. You need to serialize your list, e.g. by <i>pickling</i>."}, {"owner": {"reputation": 289, "user_id": 6614967, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/306000706408468/picture?type=large", "display_name": "Mohammad Shahbaz", "link": "https://stackoverflow.com/users/6614967/mohammad-shahbaz"}, "edited": false, "score": 0, "creation_date": 1510782691, "post_id": 47317826, "comment_id": 81586850, "body": "update my question"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1510782693, "post_id": 47317826, "comment_id": 81586851, "body": "(And then use <code>create_blob_from_bytes</code>)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1510782875, "post_id": 47317826, "comment_id": 81586965, "body": "@AnttiHaapala looking at the API docs, there seems to be a <code>create_blob_from_text</code> method which defaults to a utf8 encoding, so you can just pass it a string. But yes, likely, they want to pickle then send the bytes. Or maybe JSON?"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1510782961, "post_id": 47317826, "comment_id": 81587009, "body": "ya maybe JSON would be ok too :D"}], "answers": [{"tags": [], "owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "is_accepted": true, "score": 0, "last_activity_date": 1510783190, "creation_date": 1510783190, "answer_id": 47318011, "question_id": 47317826, "link": "https://stackoverflow.com/questions/47317826/list-object-has-no-attribute-encode-when-storing-list-of-values-in-blob-on-a/47318011#47318011", "title": "&#39;list&#39; object has no attribute &#39;encode&#39; when storing list of values in blob on azure", "body": "<p>You need to give <a href=\"https://docs.microsoft.com/en-us/azure/storage/blobs/storage-python-how-to-use-blob-storage\" rel=\"nofollow noreferrer\"><code>BlockBlobService.create_blob_from_text</code></a> a string. You could, for example, use:</p>\n\n<pre><code>my_list = [firstName, lastName, address, contact]\nblock_blob_service.create_blob_from_text('mycontainer', 'myblockblob', ','.join(my_list))\n</code></pre>\n\n<p>to create a comma-separated string of the values from your list, then create a blob from that.</p>\n\n<p>Alternatively, as suggested in the comments, serialize your data in a pickle or JSON and then use <code>create_blob_from_bytes</code>.</p>\n"}], "owner": {"reputation": 289, "user_id": 6614967, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/306000706408468/picture?type=large", "display_name": "Mohammad Shahbaz", "link": "https://stackoverflow.com/users/6614967/mohammad-shahbaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "accepted_answer_id": 47318011, "answer_count": 1, "score": 2, "last_activity_date": 1511008661, "creation_date": 1510782369, "last_edit_date": 1511008661, "question_id": 47317826, "link": "https://stackoverflow.com/questions/47317826/list-object-has-no-attribute-encode-when-storing-list-of-values-in-blob-on-a", "title": "&#39;list&#39; object has no attribute &#39;encode&#39; when storing list of values in blob on azure", "body": "<p>I am trying to enter multiple values in my blob on azure.</p>\n\n<p>I have four values which i want to enter in a blob.</p>\n\n<pre><code>firstname\nlastname\naddress\ncontact\n</code></pre>\n\n<p>So I have written code like this:</p>\n\n<pre><code>from azure.storage.blob import BlockBlobService\nfrom azure.storage.blob import PublicAccess\n\nfirstName = u'john'\nlastName  = u'doe'\naddress = u'new york'\ncontact = u'2222222222'\n\nblock_blob_service = BlockBlobService(account_name='myAccountName', account_key='myAccountkey')\nblock_blob_service.create_container('mycontainer')\nblock_blob_service.create_blob_from_text('mycontainer','myblockblob',[firstName,lastName,address,contact])\n</code></pre>\n\n<p>But I am getting below error:</p>\n\n<pre><code>'list' object has no attribute 'encode'\n</code></pre>\n\n<p>Full error:</p>\n\n<pre><code>Django Version: 1.8\nException Type: AttributeError\nException Value:    \n'list' object has no attribute 'encode'\nException Location: D:\\home\\site\\wwwroot\\env\\Lib\\site-\npackages\\azure\\storage\\blob\\blockblobservice.py in create_blob_from_text, \nline 773\nPython Executable:  D:\\Python27\\python.exe\nPython Version: 2.7.8\nPython Path:    \n[u'D:\\\\home\\\\site\\\\wwwroot\\\\env\\\\Lib\\\\site-packages',\n'.',\n'D:\\\\Windows\\\\SYSTEM32\\\\python27.zip',\n'D:\\\\Python27\\\\DLLs',\n'D:\\\\Python27\\\\lib',\n'D:\\\\Python27\\\\lib\\\\plat-win',\n'D:\\\\Python27\\\\lib\\\\lib-tk',\n'D:\\\\Python27',\n'D:\\\\Python27\\\\lib\\\\site-packages',\n'D:\\\\home\\\\site\\\\wwwroot']\nServer time:    Wed, 15 Nov 2017 21:43:33 +0000\n</code></pre>\n\n<p>is there a way I can get these values in my blob.</p>\n"}, {"tags": ["python", "indentation"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 3, "creation_date": 1510782380, "post_id": 47317803, "comment_id": 81586690, "body": "You need to have some code in your <code>if</code> block. At least a <code>pass</code>."}, {"owner": {"reputation": 1482, "user_id": 7154241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a74dcc562d696b6a7ba6f5814946ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Baaing Cow", "link": "https://stackoverflow.com/users/7154241/baaing-cow"}, "edited": false, "score": 0, "creation_date": 1510782531, "post_id": 47317803, "comment_id": 81586775, "body": "Comments are thrown away by the interpreter, essentially leaving nothing after the if block."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1510782777, "post_id": 47317803, "comment_id": 81586903, "body": "This isn&#39;t the problem, but you don&#39;t need <code>elif</code> here; just <code>else</code> will do. (And things generally read better when you put the affirmative case first.)"}, {"owner": {"reputation": 13, "user_id": 8947933, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lFshl3wLtCw/AAAAAAAAAAI/AAAAAAAAAMs/k74FBoiNGGM/photo.jpg?sz=128", "display_name": "Huskie", "link": "https://stackoverflow.com/users/8947933/huskie"}, "edited": false, "score": 0, "creation_date": 1510783144, "post_id": 47317803, "comment_id": 81587101, "body": "Right, thank you kindall."}], "answers": [{"tags": [], "owner": {"reputation": 300, "user_id": 6538600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hY8nR.png?s=128&g=1", "display_name": "StegSchreck", "link": "https://stackoverflow.com/users/6538600/stegschreck"}, "is_accepted": false, "score": 2, "last_activity_date": 1510782504, "creation_date": 1510782504, "answer_id": 47317863, "question_id": 47317803, "link": "https://stackoverflow.com/questions/47317803/python-3-elif-indentation-error/47317863#47317863", "title": "Python 3 Elif Indentation Error", "body": "<p>Your <code>if</code> is empty (as comments are ignored), therefore Python expects a statement to execute in the <code>True</code> case in the next not-commented line with a indentation.</p>\n\n<p>Just put a <code>pass</code> in the <code>if</code> block, in order to fix this.</p>\n"}, {"tags": [], "owner": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "is_accepted": false, "score": 0, "last_activity_date": 1510782583, "creation_date": 1510782583, "answer_id": 47317877, "question_id": 47317803, "link": "https://stackoverflow.com/questions/47317803/python-3-elif-indentation-error/47317877#47317877", "title": "Python 3 Elif Indentation Error", "body": "<p>you need to have a code block after the if statement, you cannot have an if statement and directly jump to the elif condition</p>\n"}], "owner": {"reputation": 13, "user_id": 8947933, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lFshl3wLtCw/AAAAAAAAAAI/AAAAAAAAAMs/k74FBoiNGGM/photo.jpg?sz=128", "display_name": "Huskie", "link": "https://stackoverflow.com/users/8947933/huskie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "closed_date": 1510839002, "answer_count": 2, "score": -1, "last_activity_date": 1510782583, "creation_date": 1510782281, "last_edit_date": 1510782441, "question_id": 47317803, "link": "https://stackoverflow.com/questions/47317803/python-3-elif-indentation-error", "closed_reason": "Duplicate", "title": "Python 3 Elif Indentation Error", "body": "<p>I am working on a simple script in Python, and when I attempt to use an elif statement, it throws an error saying that it expected an indented block. I know this may be something simple, but I have tried everything and I am stuck, so anyone willing to help is welcome. Thank you in advance.</p>\n\n<pre><code>import math as m\n\nmass = input(\"Enter the mass of the object (kg)\")\ni = 0\nwhile i == 0:\n  if type(mass)!= type(1.1):\n    #mass = input(\"You have entered an incorrect value, please enter a numerical value.\")\n\n  elif type(mass) == type(1.1):\n    print(\"test\")\n    break\n</code></pre>\n\n<p>The full error message is below:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"python\", line 9\n    elif type(mass) == type(1.1):\n       ^\nIndentationError: expected an indented block\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "function", "defined"], "comments": [{"owner": {"reputation": 1016, "user_id": 3856624, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b18b401d3a489632aa8eb16cb9eb04cf?s=128&d=identicon&r=PG&f=1", "display_name": "ivan7707", "link": "https://stackoverflow.com/users/3856624/ivan7707"}, "edited": false, "score": 0, "creation_date": 1510782204, "post_id": 47317751, "comment_id": 81586616, "body": "welcome to SO.  <a href=\"https://stackoverflow.com/help/mcve\">Please read this to understand the MVCE</a>.  Show what you have attempted, then come back and ask a specific question."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510782308, "post_id": 47317751, "comment_id": 81586659, "body": "Not using loops is a strange request: using a function and using loops aren&#39;t mutually exclusive. Probably most functions I write have some sort of loop in them. But, I suggest that you try to implement something yourself, and report the <i>specific difficulties</i> you are experience, otherwise, this question is going to be too broad for stack-overflow."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510782975, "post_id": 47317858, "comment_id": 81587016, "body": "Um, what&#39;s the point of using a <code>dict</code> if <i>you always have to iterate over it?</i> Why not <code>if, elif, else</code>?"}, {"owner": {"reputation": 11, "user_id": 8692936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b618d94dc78ed08852439cd312908a?s=128&d=identicon&r=PG&f=1", "display_name": "Erika G", "link": "https://stackoverflow.com/users/8692936/erika-g"}, "edited": false, "score": 0, "creation_date": 1510783096, "post_id": 47317858, "comment_id": 81587082, "body": "I tried to use if and elif in my iteration but it doesn&#39;t work... do you think I should share that code and that could help me?"}, {"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 0, "creation_date": 1510783129, "post_id": 47317858, "comment_id": 81587097, "body": "Because the answer he&#39;s looking for is so simple it&#39;s not worth the effort to code. This however was a bit of a challenge, I enjoyed it and it&#39;s an answer to his question (plus its saved in my history for future reference)"}, {"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "reply_to_user": {"reputation": 11, "user_id": 8692936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b618d94dc78ed08852439cd312908a?s=128&d=identicon&r=PG&f=1", "display_name": "Erika G", "link": "https://stackoverflow.com/users/8692936/erika-g"}, "edited": false, "score": 0, "creation_date": 1510783362, "post_id": 47317858, "comment_id": 81587196, "body": "@ErikaG if you want an answer on SO you should always share code. Otherwise you will be downvoted into oblivion"}], "tags": [], "owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "is_accepted": false, "score": 0, "last_activity_date": 1510782489, "creation_date": 1510782489, "answer_id": 47317858, "question_id": 47317751, "link": "https://stackoverflow.com/questions/47317751/create-a-function-that-outputs-spending-level-based-on-money-spent-python/47317858#47317858", "title": "Create a function that outputs spending level based on money spent - Python", "body": "<p>Create a dictionary which maps the different increment keys to a value. Then you just need to calculate which key your 'amount_spent' is closest to and choose the value from the dictionary which this corresponds to</p>\n\n<pre><code>def prestige_level(amount_spent):\n    levels = {0: 'bronze', \n              100: 'silver', \n              200: 'gold'}\n\n    key = min([x for x in levels if amount_spent &gt;= x], key=lambda x: abs(x - amount_spent))\n    return levels[key]\n\n\nprint(prestige_level(1))\n&gt;&gt; bronze\nprint(prestige_level(100))\n&gt;&gt; silver\nprint(prestige_level(101))\n&gt;&gt; silver\nprint(prestige_level(199))\n&gt;&gt; silver\nprint(prestige_level(200))\n&gt;&gt; gold\nprint(prestige_level(201))\n&gt;&gt; gold\nprint(prestige_level(1000))\n&gt;&gt; gold\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8692936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b618d94dc78ed08852439cd312908a?s=128&d=identicon&r=PG&f=1", "display_name": "Erika G", "link": "https://stackoverflow.com/users/8692936/erika-g"}, "edited": false, "score": 0, "creation_date": 1510783675, "post_id": 47318109, "comment_id": 81587353, "body": "I tried something very similarly to this originally, and at the end I said else : level &#39; does not exist&#39; and then I said return level, but it didn&#39;t work."}, {"owner": {"reputation": 13, "user_id": 5245643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dfgVgxJzsac/AAAAAAAAAAI/AAAAAAAAADY/SDW3tT7ciMs/photo.jpg?sz=128", "display_name": "Da Monster", "link": "https://stackoverflow.com/users/5245643/da-monster"}, "reply_to_user": {"reputation": 11, "user_id": 8692936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b618d94dc78ed08852439cd312908a?s=128&d=identicon&r=PG&f=1", "display_name": "Erika G", "link": "https://stackoverflow.com/users/8692936/erika-g"}, "edited": false, "score": 0, "creation_date": 1510783952, "post_id": 47318109, "comment_id": 81587486, "body": "What was the code that you wrote? Can you share it in the question?"}], "tags": [], "owner": {"reputation": 13, "user_id": 5245643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dfgVgxJzsac/AAAAAAAAAAI/AAAAAAAAADY/SDW3tT7ciMs/photo.jpg?sz=128", "display_name": "Da Monster", "link": "https://stackoverflow.com/users/5245643/da-monster"}, "is_accepted": false, "score": 0, "last_activity_date": 1510783723, "last_edit_date": 1510783723, "creation_date": 1510783581, "answer_id": 47318109, "question_id": 47317751, "link": "https://stackoverflow.com/questions/47317751/create-a-function-that-outputs-spending-level-based-on-money-spent-python/47318109#47318109", "title": "Create a function that outputs spending level based on money spent - Python", "body": "<p>What you'd likely want to use here is an If Statement with comparative operators.</p>\n\n<p>You could make a python function to do this like so.</p>\n\n<pre><code>def findSpendingLevel(moneySpent):\n  if (moneySpent &lt;= 100):\n    return 'bronze'\n\n  if (moneySpent &gt; 100 and moneySpent &lt;= 200):\n    return 'silver'\n\n  if (moneySpent &gt; 200 and moneySpent &lt;= 300):\n    return 'gold'\n\n  if (moneySpent &gt; 300):\n    return 'diamond'\n</code></pre>\n\n<p>Would likely be good for your purposes. Notice how this works by taking in an <em>argument</em> which is the <em>moneySpent</em> variable, and comparing it to the boundaries of your money levels with <strong>less-than-or-equal-to</strong> (<strong>&lt;=</strong>) and <strong>greater-than</strong> (<strong>></strong>) comparative operators.</p>\n"}], "owner": {"reputation": 11, "user_id": 8692936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b618d94dc78ed08852439cd312908a?s=128&d=identicon&r=PG&f=1", "display_name": "Erika G", "link": "https://stackoverflow.com/users/8692936/erika-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1510783723, "creation_date": 1510782101, "question_id": 47317751, "link": "https://stackoverflow.com/questions/47317751/create-a-function-that-outputs-spending-level-based-on-money-spent-python", "title": "Create a function that outputs spending level based on money spent - Python", "body": "<p>How do I create a function that says that for example if a person spends 100 dollars they are bronze, whereas if they spend between 100 dollars and 200 dollars they are silver?</p>\n\n<p>I am trying to learn how to use user defined functions rather than loops, so would prefer no suggestions using loops.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "matlab", "interpolation"], "comments": [{"owner": {"reputation": 75, "user_id": 8538668, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7MyxG0wBfo4/AAAAAAAAAAI/AAAAAAAAADU/E1qwz2mi_Cs/photo.jpg?sz=128", "display_name": "Adam", "link": "https://stackoverflow.com/users/8538668/adam"}, "edited": false, "score": 0, "creation_date": 1511365334, "post_id": 47317736, "comment_id": 81831932, "body": "I&#39;m bumping this because I haven&#39;t gotten a response yet."}], "owner": {"reputation": 75, "user_id": 8538668, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7MyxG0wBfo4/AAAAAAAAAAI/AAAAAAAAADU/E1qwz2mi_Cs/photo.jpg?sz=128", "display_name": "Adam", "link": "https://stackoverflow.com/users/8538668/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1510831852, "creation_date": 1510782043, "last_edit_date": 1510831852, "question_id": 47317736, "link": "https://stackoverflow.com/questions/47317736/python3-ode-solver-matlab-to-python-interp1d", "title": "Python3 ODE Solver: MATLAB to Python interp1d", "body": "<p>I have a MATLAB code that looks like:</p>\n\n<pre><code>options = odeset('RelTol', 1e-3, 'AbsTol',[1e-3 1e-3]);\n[Tx,X]  = ode45(@(t,x) stateEq(t,x,u1,Tu), [t0 tf], initx, options);\n</code></pre>\n\n<p>where in <code>stateEq</code> I define:</p>\n\n<pre><code>function dx = stateEq(t,x,u1,Tu)\n\n    global E d G k b\n\n    dx = zeros(2,1);\n    u1 = interp1(Tu,u1,t);    % Interploate the control at time t\n</code></pre>\n\n<p>and I'm trying to get it to work in python3 by doing:</p>\n\n<pre><code>Tx, X = integrate.ode(stateEq(t,x,u1,Tu,G)).set_integrator('dopri5').set_initial_value(t0Range, initx, 'rtol', 'atol')\n</code></pre>\n\n<p>where:</p>\n\n<pre><code>def stateEq(t,x,u1,Tu,G):\n\n    import numpy as np\n    import scipy as sp\n    from scipy import interpolate\n\n    #global E d G k b\n    dx = []\n    x  = np.array(x)\n\n    #print(x)\n    u1 = np.interp(Tu,u1,t)\n</code></pre>\n\n<p>Here is the issue:</p>\n\n<p>In MATLAB it takes this variable <code>t</code> from using the command <code>@(t,x)</code> in <code>ode45</code>, but how does this get defined in python? Because right now <code>interp1d</code> is failing because there is no defined <code>t</code> parameter.</p>\n"}, {"tags": ["python", "flask", "jinja2", "flask-security"], "answers": [{"tags": [], "owner": {"reputation": 1418, "user_id": 4626943, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1275ynWe0WA/AAAAAAAAAAI/AAAAAAAADSc/-SchGJ5tdio/photo.jpg?sz=128", "display_name": "sayan", "link": "https://stackoverflow.com/users/4626943/sayan"}, "is_accepted": false, "score": 1, "last_activity_date": 1511245770, "creation_date": 1511245770, "answer_id": 47406580, "question_id": 47317722, "link": "https://stackoverflow.com/questions/47317722/how-do-i-embed-a-flask-security-login-form-on-my-page/47406580#47406580", "title": "How do I embed a Flask-Security login form on my page?", "body": "<p>Your stack trace reads:\n<code>jinja2.exceptions.UndefinedError: 'login_user_form' is undefined</code></p>\n\n<p>This error message is coming from Jinja, which is saying that <code>login_user_form</code> is undefined.</p>\n\n<p>To solve this, if this was your <code>base.html</code>,</p>\n\n<pre><code>...\n{% block content %}\n&lt;form action=\"\" method=\"post\" name=\"post\"&gt;\n    {{form.hidden_tag()}}\n...\n</code></pre>\n\n<p>you've to pass <code>login_user_form</code> as a context variable to your render template. So, in your <code>/login</code> route, you should return something like this:</p>\n\n<pre><code>return render_template(\"base.html\",\n        title = 'Home',\n        form = login_user_form)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": false, "score": 13, "last_activity_date": 1511289150, "last_edit_date": 1511289150, "creation_date": 1511281434, "answer_id": 47417901, "question_id": 47317722, "link": "https://stackoverflow.com/questions/47317722/how-do-i-embed-a-flask-security-login-form-on-my-page/47417901#47417901", "title": "How do I embed a Flask-Security login form on my page?", "body": "<p><code>security/login_user.html</code> is the full page template for the login form. It's not what you would want to embed on each page because it deals with other things like flashed messages, errors, and layout.</p>\n\n<p>Write your own template to render just the form and include <em>that</em>, or add it to your base template.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form action=\"{{ url_for_security('login') }}\" method=\"POST\"&gt;\n  {{ login_user_form.hidden_tag() }}\n  {{ login_user_form.email(placeholder='Email') }}\n  {{ login_user_form.password(placeholder='Password') }}\n  {{ login_user_form.remember.label }} {{ login_user_form.remember }}\n  {{ login_user_form.submit }}\n&lt;/form&gt;\n</code></pre>\n\n<p><sup>(This is just an example, you'll want to style it to fit your page.)</sup></p>\n\n<p>None of your views will deal with the login form directly, so <code>login_form</code> and <code>url_for_security</code> aren't available while rendering most templates (this was causing the original issue you observed). Inject them for each request using <code>app.context_processor</code>.</p>\n\n<pre><code>from flask_security import LoginForm, url_for_security\n\n@app.context_processor\ndef login_context():\n    return {\n        'url_for_security': url_for_security,\n        'login_user_form': LoginForm(),\n    }\n</code></pre>\n"}], "owner": {"reputation": 703, "user_id": 3933805, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/zxxrX.jpg?s=128&g=1", "display_name": "Nicholas Tulach", "link": "https://stackoverflow.com/users/3933805/nicholas-tulach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2316, "favorite_count": 1, "answer_count": 2, "score": 11, "last_activity_date": 1511289150, "creation_date": 1510781957, "question_id": 47317722, "link": "https://stackoverflow.com/questions/47317722/how-do-i-embed-a-flask-security-login-form-on-my-page", "title": "How do I embed a Flask-Security login form on my page?", "body": "<p>Using the example code provided by Flask-Security, I can access the <code>login_user.html</code> form from the <code>/login</code> route normally and that works just fine. However, I would like to embed the login form on all my site's pages in the upper left. I thought I could use a Jinja <code>{% include \"security/login_user.html\" %}</code> statement to place the form in <code>base.html</code>, but that doesn't seem to work. I get the following error:</p>\n\n<pre><code>jinja2.exceptions.UndefinedError: 'login_user_form' is undefined\n</code></pre>\n\n<p>Is there a way to include or embed the login form inside another template and still get access to the respective form object?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 2, "last_activity_date": 1510782072, "creation_date": 1510782072, "answer_id": 47317742, "question_id": 47317717, "link": "https://stackoverflow.com/questions/47317717/renaming-column-names-after-dropping-from-dataframe/47317742#47317742", "title": "Renaming Column names after dropping from dataframe", "body": "<p><code>DataFrame.drop()</code> doesn't change DF in place. So you either need to assign it back or to use <code>inplace=True</code></p>\n\n<p>You can do it in one step:</p>\n\n<pre><code>cols_to_drop = ['DTM02','TDS01',...]\ndata_xls = data_xls.drop(cols_to_drop, axis=1)\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5438168, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-r5-EwU74y_E/AAAAAAAAAAI/AAAAAAAAACc/K7a_ToapiM8/photo.jpg?sz=128", "display_name": "chris clifton", "link": "https://stackoverflow.com/users/5438168/chris-clifton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1571, "favorite_count": 0, "closed_date": 1510782110, "accepted_answer_id": 47317742, "answer_count": 1, "score": 0, "last_activity_date": 1510782072, "creation_date": 1510781941, "question_id": 47317717, "link": "https://stackoverflow.com/questions/47317717/renaming-column-names-after-dropping-from-dataframe", "closed_reason": "Duplicate", "title": "Renaming Column names after dropping from dataframe", "body": "<p>Below is just a snippet. I started with 28 columns, and dropped and number of them down to 13. Once I reduce my dataframe I would like to give all of the columns proper names.</p>\n\n<p>Do I need to redim the dataframe after removing the columns?</p>\n\n<pre><code>data_xls.drop('DTM02', axis=1)\ndata_xls.drop('TDS01', axis=1)\ndata_xls.drop('CAD05', axis=1)\ndata_xls.drop('CAD07', axis=1)\ndata_xls.drop('REFX1', axis=1)\n\ndata_xls.columns = ['INV_NO','PO_NO','SHIP_TO','SHIP_ADD_1','SHIP_ADD_2','SHIP_CITY','SHIP_ZIP','INV_QTY','PART_NO','PO_NO','BL_NO','BLUE_BIN_Y_N', 'SHIP_LOC']\n</code></pre>\n\n<p>ValueError: Length mismatch: Expected axis has 28 elements, new values have 13 elements</p>\n"}, {"tags": ["python", "python-2.7", "opencv", "google-app-engine"], "answers": [{"comments": [{"owner": {"reputation": 14220, "user_id": 136598, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/55c76f58f63ba7cbb85658158b3a82f8?s=128&d=identicon&r=PG&f=1", "display_name": "gaefan", "link": "https://stackoverflow.com/users/136598/gaefan"}, "edited": false, "score": 0, "creation_date": 1510834476, "post_id": 47319223, "comment_id": 81609387, "body": "Another option could be to use <a href=\"https://cloud.google.com/vision/\" rel=\"nofollow noreferrer\">Google Cloud Vision API</a> if it provides the needed functionality."}], "tags": [], "owner": {"reputation": 21495, "user_id": 62288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01239dcaa443502ce71059f5308bca74?s=128&d=identicon&r=PG", "display_name": "Dave W. Smith", "link": "https://stackoverflow.com/users/62288/dave-w-smith"}, "is_accepted": true, "score": 3, "last_activity_date": 1510789504, "creation_date": 1510789504, "answer_id": 47319223, "question_id": 47317700, "link": "https://stackoverflow.com/questions/47317700/install-opencv-on-google-app-engine-python-2-7/47319223#47319223", "title": "Install opencv on Google App Engine Python 2.7", "body": "<p>This is less something you need to configure, and more something to abandon. OpenCV won't run in the standard App Engine environment. OpenCV is a big chunk of C++ (with Python wrappers). App Engine only supports libraries that are pure Python unless they're on the list in  <a href=\"https://cloud.google.com/appengine/docs/standard/python/tools/using-libraries-python-27\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/python/tools/using-libraries-python-27</a></p>\n\n<p>If you need OpenCV, consider using the Flex environment.</p>\n"}, {"tags": [], "owner": {"reputation": 1218, "user_id": 8478253, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07c1ef455f01e9f9f158258c0d9b0591?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/8478253/santhosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1520428333, "creation_date": 1520428333, "answer_id": 49152814, "question_id": 47317700, "link": "https://stackoverflow.com/questions/47317700/install-opencv-on-google-app-engine-python-2-7/49152814#49152814", "title": "Install opencv on Google App Engine Python 2.7", "body": "<p>You could try using <a href=\"https://cloud.google.com/functions/\" rel=\"nofollow noreferrer\">Cloud Function</a> which might make life simpler</p>\n\n<p>You can see in <a href=\"https://googlecloudplatform.uservoice.com/forums/299943--google-cloud-platform/suggestions/18981547-support-python-in-cloud-functions\" rel=\"nofollow noreferrer\">Support Python in Cloud Functions</a> the last comment you can find a link to this <a href=\"https://github.com/MartinSahlen/cloud-functions-python?#readme\" rel=\"nofollow noreferrer\">cloud-functions-python</a></p>\n\n<p>You can just list <code>opencv</code> as one libraries required along with other libraries such as <code>numpy</code> and <code>matplotlib</code> generally used along with any others you might actually want to use.</p>\n\n<p>How to install <code>OpenCV</code> using pip here's a nice answer I found on <a href=\"https://stackoverflow.com/questions/44439443/can-i-pip-install-opencv2-for-python/44439955#44439955\">stackoverflow answers</a> </p>\n"}], "owner": {"reputation": 81, "user_id": 7285656, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209983101926861/picture?type=large", "display_name": "Pregunton", "link": "https://stackoverflow.com/users/7285656/pregunton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1652, "favorite_count": 0, "accepted_answer_id": 47319223, "answer_count": 2, "score": 1, "last_activity_date": 1520428333, "creation_date": 1510781873, "last_edit_date": 1510804590, "question_id": 47317700, "link": "https://stackoverflow.com/questions/47317700/install-opencv-on-google-app-engine-python-2-7", "title": "Install opencv on Google App Engine Python 2.7", "body": "<p>Hi I installed on a Google App Engine Python 2.7, opencv using </p>\n\n<pre><code>pip install -t lib -r requirements.txt\n</code></pre>\n\n<p>requirements.txt is:</p>\n\n<pre><code>Flask==0.12.1\nWerkzeug==0.12.2\nOpencv_python==3.3.0.10\n</code></pre>\n\n<p>Install worked, I can use other libraries, but when I try to import opencv on code, it throws the next exception:</p>\n\n<pre><code>  File \"/google/google-cloud-sdk/platform/google_appengine/google/appengine/runtime/wsgi.py\", line 85, in LoadObject\n    obj = __import__(path[0])\n  File \"/home/tcarrillof/python-docs-hello-world/main.py\", line 23, in &lt;module&gt;\n    import cv2\n  File \"/home/tcarrillof/python-docs-hello-world/lib/cv2/__init__.py\", line 6, in &lt;module&gt;\n    os.environ[\"PATH\"] += os.pathsep + os.path.dirname(os.path.realpath(__file__))\n  File \"/google/google-cloud-sdk/platform/google_appengine/google/appengine/runtime/request_environment.py\", line 126, in __getitem__\n    return self._request.environ[key]\nKeyError: 'PATH'\n</code></pre>\n\n<p>Is it there something I need to configure?, Any help is welcome in advance :)</p>\n\n<p>Note:</p>\n\n<p>app.yaml is:</p>\n\n<pre><code>runtime: python27\napi_version: 1\nthreadsafe: true\n\nhandlers:\n- url: /static\n  static_dir: static\n- url: /.*\n  script: main.app\n</code></pre>\n\n<p>and appengine_config.py is:</p>\n\n<pre><code>import os\nfrom google.appengine.ext import vendor\n\nvendor.add(os.path.join(os.path.dirname(os.path.realpath(__file__)), 'lib'))\n</code></pre>\n"}, {"tags": ["python", "regression", "beta"], "comments": [{"owner": {"reputation": 654, "user_id": 1812073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e1528a0485287e39da9f6c653176515?s=128&d=identicon&r=PG", "display_name": "Konrad", "link": "https://stackoverflow.com/users/1812073/konrad"}, "edited": false, "score": 0, "creation_date": 1543663354, "post_id": 47317626, "comment_id": 94005228, "body": "Interested in how you solved this using Python"}, {"owner": {"reputation": 701, "user_id": 3124438, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ae8d252e1dfaa06bc5dd3ec9c902a4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Spandyie", "link": "https://stackoverflow.com/users/3124438/spandyie"}, "edited": false, "score": 1, "creation_date": 1569634516, "post_id": 47317626, "comment_id": 102671384, "body": "Does this gist help ? <a href=\"https://gist.github.com/brentp/089c7d6d69d78d26437f\" rel=\"nofollow noreferrer\">gist.github.com/brentp/089c7d6d69d78d26437f</a>"}], "owner": {"reputation": 111, "user_id": 8947896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c2ee665efa477cdf2739a621c4922c0?s=128&d=identicon&r=PG&f=1", "display_name": "user8947896", "link": "https://stackoverflow.com/users/8947896/user8947896"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2385, "favorite_count": 2, "answer_count": 0, "score": 11, "last_activity_date": 1528740337, "creation_date": 1510781624, "question_id": 47317626, "link": "https://stackoverflow.com/questions/47317626/transformed-beta-regression-in-python", "title": "Transformed beta regression in python", "body": "<p>Has anyone tried implementing beta transformed regression python? It is used to model values that lie between 0 and 1 and has a distribution with heteroskedasticity ineherently present. Essentially you first transform the dependent variable to a beta distribution and apply a second transformation or a link function such as logit or probit to restrict its values bw 0 and 1. The link below explains in detail the code for R:\n<a href=\"https://cran.r-project.org/web/packages/betareg/vignettes/betareg.pdf\" rel=\"noreferrer\">https://cran.r-project.org/web/packages/betareg/vignettes/betareg.pdf</a></p>\n\n<p>However, I'm having a hard time finding functions/libraries to do this in python. Even if i try using brute force method, once we have the predicted transformed Ys, transforming it back to original Ys is challenging. Moreover I don't want to go the brute force route and was wondering if there is a sophisticated way to implement this in python. Thanks a lot!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 3, "creation_date": 1510781751, "post_id": 47317617, "comment_id": 81586372, "body": "<a href=\"https://docs.python.org/2/library/stdtypes.html#str.split\" rel=\"nofollow noreferrer\"><code>str.split()</code></a>"}, {"owner": {"reputation": 16757, "user_id": 2799941, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/260db848f0eb7e3cd55998969a7a43a4?s=128&d=identicon&r=PG&f=1", "display_name": "andrew_reece", "link": "https://stackoverflow.com/users/2799941/andrew-reece"}, "edited": false, "score": 0, "creation_date": 1510781864, "post_id": 47317617, "comment_id": 81586428, "body": "<code>values</code> is a reserved term in Pandas, and you&#39;ll get unexpected output if you try and do operations on <code>df.values</code>.  Consider renaming that column."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1510786663, "post_id": 47317617, "comment_id": 81588652, "body": "You want <code>df[&#39;values&#39;].str.split().tolist()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": false, "score": 2, "last_activity_date": 1510781765, "creation_date": 1510781765, "answer_id": 47317661, "question_id": 47317617, "link": "https://stackoverflow.com/questions/47317617/pandas-iterrows-get-row-string-as-list/47317661#47317661", "title": "Pandas iterrows get row string as list", "body": "<p>You need to split the data</p>\n\n<pre><code>df['values'].str.split()\n\n0     [cat, dog]\n1    [bird, fly]\n</code></pre>\n\n<p>To get the individual element, </p>\n\n<pre><code>df['values'].str.split().str[0]\n</code></pre>\n\n<p>And you get</p>\n\n<pre><code>0     cat\n1    bird\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 2, "last_activity_date": 1510781833, "creation_date": 1510781833, "answer_id": 47317681, "question_id": 47317617, "link": "https://stackoverflow.com/questions/47317617/pandas-iterrows-get-row-string-as-list/47317681#47317681", "title": "Pandas iterrows get row string as list", "body": "<p>Like this:</p>\n\n<pre><code>for index, row in df.iterrows():\n     print(row[\"values\"].split())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['cat', 'dog']\n['bird', 'fly']\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 4135037, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8a700171a114aea911db9cd4fd203c03?s=128&d=identicon&r=PG&f=1", "display_name": "popopret", "link": "https://stackoverflow.com/users/4135037/popopret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3969, "favorite_count": 0, "accepted_answer_id": 47317681, "answer_count": 2, "score": 1, "last_activity_date": 1510781833, "creation_date": 1510781579, "question_id": 47317617, "link": "https://stackoverflow.com/questions/47317617/pandas-iterrows-get-row-string-as-list", "title": "Pandas iterrows get row string as list", "body": "<p>I have a df in pandas which looks like:</p>\n\n<pre><code>id  name  values\n\n1    a    cat dog\n2    b    bird fly\n</code></pre>\n\n<p>I'm currently doing:\n</p>\n\n<pre><code>for index, row in df.iterrows():\n     print row[\"values\"]\n</code></pre>\n\n<p>However, that prints the entire cell: <code>\"cat dog\"</code> or <code>\"bird fly\"</code>.</p>\n\n<p>I've tried doing:\n</p>\n\n<pre><code>print row[\"values\"][0] \n</code></pre>\n\n<p>That instead prints a single character, so <code>\"c\"</code> and <code>\"b\"</code>.</p>\n\n<p>How can I get instead something like <code>[\"cat\", \"dog\"]</code> and <code>[\"bird\", \"fly\"]</code></p>\n"}, {"tags": ["python", "python-3.x", "class", "methods", "namespaces"], "comments": [{"owner": {"reputation": 6568, "user_id": 5276734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UxwnY.png?s=128&g=1", "display_name": "bastelflp", "link": "https://stackoverflow.com/users/5276734/bastelflp"}, "edited": false, "score": 1, "creation_date": 1510782497, "post_id": 47317588, "comment_id": 81586758, "body": "Have a look at <a href=\"https://stackoverflow.com/questions/13900515/how-can-i-access-a-classmethod-from-inside-a-class-in-python\">How can I access a classmethod from inside a class in Python</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1510782756, "post_id": 47317588, "comment_id": 81586890, "body": "The <i>class doesn&#39;t exist until after the class body is finished executing</i>. Therefore, you cannot use the class inside the class body (unless in a method)."}, {"owner": {"reputation": 3723, "user_id": 3731622, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/34ed93a2cf922f7064184109e4b9c16a?s=128&d=identicon&r=PG&f=1", "display_name": "user3731622", "link": "https://stackoverflow.com/users/3731622/user3731622"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510787950, "post_id": 47317588, "comment_id": 81589085, "body": "@juanpa.arrivillaga What you said is what I was thinking.  However, if I can&#39;t use the class inside the class body, why does it work?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510788342, "post_id": 47317588, "comment_id": 81589238, "body": "@user3731622 this <i>does not work</i>, it raises a <code>NameError</code>, just as the IDE warns you it will. I suspect you have left-over variables in your interactive interpreter session (e.g., previous runs)."}, {"owner": {"reputation": 3723, "user_id": 3731622, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/34ed93a2cf922f7064184109e4b9c16a?s=128&d=identicon&r=PG&f=1", "display_name": "user3731622", "link": "https://stackoverflow.com/users/3731622/user3731622"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510788631, "post_id": 47317588, "comment_id": 81589323, "body": "@juanpa.arrivillaga I was just checking that.  What happened was, in Spyder I ran the script containing the class def without the attribute.  Then I added the class atrribute which used the class name and ran the script again.  Now I could access <code>SomeClass.some_class_attribute</code>.  Seems like the interpreter got a little fooled and used the previously defined <code>SomeClass</code> name when it encountered the line <code>some_class_attribute = SomeClass.create_attribute()</code>."}], "owner": {"reputation": 3723, "user_id": 3731622, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/34ed93a2cf922f7064184109e4b9c16a?s=128&d=identicon&r=PG&f=1", "display_name": "user3731622", "link": "https://stackoverflow.com/users/3731622/user3731622"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "closed_date": 1510782614, "answer_count": 0, "score": 1, "last_activity_date": 1510782436, "creation_date": 1510781475, "last_edit_date": 1510782436, "question_id": 47317588, "link": "https://stackoverflow.com/questions/47317588/namespace-of-class-in-python", "closed_reason": "Duplicate", "title": "Namespace of class in python", "body": "<p>I'm unclear on the namespace of the class name inside the class.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>class SomeClass():\n    some_class_attribute = SomeClass.create_attribute()\n    @classmethod \n    def create_attribute(cls, int): \n        return str(int) \n</code></pre>\n\n<p>Is there any problem with the line <code>some_class_attribute = SomeClass.create_attribute()</code>?</p>\n\n<p>When I'm writing a class in Spyder IDE, the class works, but Spyder displays a warning \"Undefined name SomeClass\".</p>\n"}, {"tags": ["python", "scikit-learn", "sentiment-analysis", "multiclass-classification"], "comments": [{"owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "edited": false, "score": 0, "creation_date": 1510781996, "post_id": 47317567, "comment_id": 81586493, "body": "see here: <a href=\"http://scikit-learn.org/stable/modules/multiclass.html\" rel=\"nofollow noreferrer\">scikit-learn.org/stable/modules/multiclass.html</a> Also can you add some data and code ?"}], "answers": [{"comments": [{"owner": {"reputation": 1198, "user_id": 2146052, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b60f10dea4225e89eb2f72c922e710c5?s=128&d=identicon&r=PG", "display_name": "bjonen", "link": "https://stackoverflow.com/users/2146052/bjonen"}, "edited": false, "score": 0, "creation_date": 1585611979, "post_id": 47377588, "comment_id": 107817223, "body": "Just a follow up on point 3: Could you clarify the role of logistic regression on top of the prediction? Given predictions yhat from the regression in the first step, are you not again confronted with an ordered classification problem (that sklearn has not implemented)? I assume for this step you would label the yhat from the regression model by &quot;rounding&quot; to the closest sentiment (-1, 0, 1). Why not use those rounded values as the prediction in the first place?"}, {"owner": {"reputation": 8351, "user_id": 6498293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NhNtK.jpg?s=128&g=1", "display_name": "David Dale", "link": "https://stackoverflow.com/users/6498293/david-dale"}, "reply_to_user": {"reputation": 1198, "user_id": 2146052, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b60f10dea4225e89eb2f72c922e710c5?s=128&d=identicon&r=PG", "display_name": "bjonen", "link": "https://stackoverflow.com/users/2146052/bjonen"}, "edited": false, "score": 0, "creation_date": 1585641607, "post_id": 47377588, "comment_id": 107824823, "body": "I suggested logistic regression because it explicitly predicts probabilities. And it may happen that when regression predicts e.g. -0.3, the actual probabilities of classes (-1, 0, 1) are respectively (0.5, 0.3, 0.2), so the most probable label is -1, although the prediction is closer to 0 than to -1."}, {"owner": {"reputation": 1198, "user_id": 2146052, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b60f10dea4225e89eb2f72c922e710c5?s=128&d=identicon&r=PG", "display_name": "bjonen", "link": "https://stackoverflow.com/users/2146052/bjonen"}, "edited": false, "score": 0, "creation_date": 1585646918, "post_id": 47377588, "comment_id": 107827482, "body": "Ok point taken. So if I understand your proposal correct it is:  1) Run regression on original data and get continuous yhat 2) Run <i>unordered</i> logistic regression of original labels on one feature which is prediction from the previous step.  It sounds interesting. My concern would be the information loss due to the unordered model in step 2. Anyway, thanks for the clarification!"}, {"owner": {"reputation": 8351, "user_id": 6498293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NhNtK.jpg?s=128&g=1", "display_name": "David Dale", "link": "https://stackoverflow.com/users/6498293/david-dale"}, "reply_to_user": {"reputation": 1198, "user_id": 2146052, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b60f10dea4225e89eb2f72c922e710c5?s=128&d=identicon&r=PG", "display_name": "bjonen", "link": "https://stackoverflow.com/users/2146052/bjonen"}, "edited": false, "score": 1, "creation_date": 1585731354, "post_id": 47377588, "comment_id": 107862055, "body": "Yes, you understand it correctly. I worked it out as an approximation of classical ordered logistic regression. And you can treat step 2 as just putting the right cutpoints on the regression output, so there isn&#39;t much opportunity to lose information."}], "tags": [], "owner": {"reputation": 8351, "user_id": 6498293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NhNtK.jpg?s=128&g=1", "display_name": "David Dale", "link": "https://stackoverflow.com/users/6498293/david-dale"}, "is_accepted": true, "score": 1, "last_activity_date": 1511099278, "creation_date": 1511099278, "answer_id": 47377588, "question_id": 47317567, "link": "https://stackoverflow.com/questions/47317567/sentiment-analysis-with-3-classes-positive-neutral-and-negative/47377588#47377588", "title": "Sentiment Analysis with 3 classes (positive, neutral, and negative)?", "body": "<p>There are three possible approaches:</p>\n\n<ol>\n<li>Use <a href=\"http://scikit-learn.org/stable/modules/multiclass.html\" rel=\"nofollow noreferrer\">multiclass algorithms</a>, such as logistic regression or decision tree (they are inherently multiclass) or one-vs-one or one-vs-rest wrappers for binary algorithms such as SVM.</li>\n<li>If you want to exploit the fact that neutral texts are \"somewhere between\" positive and negative ones, you can use ordered classification models, such as ordered logistic regression in the <a href=\"http://pythonhosted.org/mord/\" rel=\"nofollow noreferrer\">mord</a> package.</li>\n<li>If you want to exploit the ordering of classes, but want to stay within scikit-learn, I would suggest to fit any regression model to your data first (e.g. gradient boosing regressor), and then use logistic regression on top of its prediction.</li>\n</ol>\n"}], "owner": {"reputation": 2313, "user_id": 7375754, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/830f6d236ab0502a68fd9b9daf7f729f?s=128&d=identicon&r=PG&f=1", "display_name": "Jane Sully", "link": "https://stackoverflow.com/users/7375754/jane-sully"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1254, "favorite_count": 0, "accepted_answer_id": 47377588, "answer_count": 1, "score": 0, "last_activity_date": 1511099278, "creation_date": 1510781376, "question_id": 47317567, "link": "https://stackoverflow.com/questions/47317567/sentiment-analysis-with-3-classes-positive-neutral-and-negative", "title": "Sentiment Analysis with 3 classes (positive, neutral, and negative)?", "body": "<p>I want to do sentiment analysis with 3 classes (positive, neutral, and negative). I have seen lots of work on sentiment analysis with two classes (positive and negative), but much less so for 3 classes. If I wanted to use a bag-of-words approach and a classifier such as Logistic Regression or SVMs in Scikit-learn, how would this work? What would the steps be for my output to predict with 3 classes?</p>\n\n<p>Do I have to treat each class as a binary classification and do something to combine the results, or is sklearn able to do some processing for me so I do not have to specify this?</p>\n"}, {"tags": ["python", "opencv", "module", "raspberry-pi", "simplecv"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8947878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/354201a7f2e1894135577926e108b523?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Cobley", "link": "https://stackoverflow.com/users/8947878/ben-cobley"}, "is_accepted": false, "score": 1, "last_activity_date": 1510782926, "creation_date": 1510782926, "answer_id": 47317952, "question_id": 47317547, "link": "https://stackoverflow.com/questions/47317547/simplecv-and-raspberry-pi-no-module-named-simplecv/47317952#47317952", "title": "simpleCV and Raspberry Pi: no module named simplecv", "body": "<p>Resolved!</p>\n\n<p>For future readers make sure you capitalise all 3 letters in <code>from SimpleCV import *</code></p>\n\n<p>Stupid mistake, thought I'd tried every combination of capitals. </p>\n"}], "owner": {"reputation": 21, "user_id": 8947878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/354201a7f2e1894135577926e108b523?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Cobley", "link": "https://stackoverflow.com/users/8947878/ben-cobley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1601283953, "creation_date": 1510781291, "question_id": 47317547, "link": "https://stackoverflow.com/questions/47317547/simplecv-and-raspberry-pi-no-module-named-simplecv", "title": "simpleCV and Raspberry Pi: no module named simplecv", "body": "<p><strong>No module named SimpleCv</strong></p>\n\n<p>I installed simplecv on my RPi using the tutorial link: <a href=\"http://simplecv.readthedocs.io/en/latest/HOWTO-Install%20on%20RaspberryPi.html\" rel=\"nofollow noreferrer\">http://simplecv.readthedocs.io/en/latest/HOWTO-Install%20on%20RaspberryPi.html</a> and installed svgwrite.</p>\n\n<p>I have the simplecv working alone, but when running a python file I get the error: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"my-file.py\", line 1, in &lt;module&gt;\n    from SimpleCv import *\nImportError: No module named SimpleCv\n</code></pre>\n\n<p>Is it to do with that my Python and simplecv are in different locations? </p>\n\n<p><code>which python</code> gives: <code>/usr/bin/python</code></p>\n\n<p><code>which simplecv</code> gives: <code>/usr/local/bin/simplecv</code></p>\n\n<p>Many thanks,</p>\n\n<p>Ben</p>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt4"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1510782694, "post_id": 47317530, "comment_id": 81586855, "body": "explain better Please"}, {"owner": {"reputation": 167, "user_id": 4646499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c7c1cfcb24b468b479399272b038c8e?s=128&d=identicon&r=PG&f=1", "display_name": "ZeZe", "link": "https://stackoverflow.com/users/4646499/zeze"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1510782747, "post_id": 47317530, "comment_id": 81586886, "body": "I don&#39;t understand, what do you mean?"}, {"owner": {"reputation": 416, "user_id": 7766131, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfa5fab901435124564e46cb0c195b5f?s=128&d=identicon&r=PG&f=1", "display_name": "paper man", "link": "https://stackoverflow.com/users/7766131/paper-man"}, "edited": false, "score": 0, "creation_date": 1510782862, "post_id": 47317530, "comment_id": 81586957, "body": "I&#39;m guessing this is a fairly simple question with a simple answer, but we don&#39;t have context, so no one can answer."}, {"owner": {"reputation": 167, "user_id": 4646499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c7c1cfcb24b468b479399272b038c8e?s=128&d=identicon&r=PG&f=1", "display_name": "ZeZe", "link": "https://stackoverflow.com/users/4646499/zeze"}, "edited": false, "score": 0, "creation_date": 1510783016, "post_id": 47317530, "comment_id": 81587037, "body": "Basically, when a user changes the value of a combo box, I want to call a function that takes 3 parameters, the value of the combo box, &quot;stringparameter1&quot;, and &quot;stringparameter2&quot;."}, {"owner": {"reputation": 167, "user_id": 4646499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c7c1cfcb24b468b479399272b038c8e?s=128&d=identicon&r=PG&f=1", "display_name": "ZeZe", "link": "https://stackoverflow.com/users/4646499/zeze"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1510783081, "post_id": 47317530, "comment_id": 81587074, "body": "@eyllanesc  does that make it clearer?"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1510783671, "post_id": 47317530, "comment_id": 81587350, "body": "@ZeZe. What are the other parameters? Are they constant values, or are they generated dynamically?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1510783728, "post_id": 47317530, "comment_id": 81587378, "body": "@ZeZe Check my answer  :P"}, {"owner": {"reputation": 167, "user_id": 4646499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c7c1cfcb24b468b479399272b038c8e?s=128&d=identicon&r=PG&f=1", "display_name": "ZeZe", "link": "https://stackoverflow.com/users/4646499/zeze"}, "edited": false, "score": 0, "creation_date": 1510783840, "post_id": 47317530, "comment_id": 81587441, "body": "The parameters are constant values, strings in this case."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 1, "creation_date": 1510783921, "post_id": 47317530, "comment_id": 81587472, "body": "In that case, you can just do <code>.connect(lambda text: self.on_combo_activated(text, &#39;str1&#39;, &#39;str2&#39;))</code>."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 1, "creation_date": 1510784428, "post_id": 47317530, "comment_id": 81587736, "body": "PS: another alternative is to use <a href=\"https://docs.python.org/3/library/functools.html#functools.partial\" rel=\"nofollow noreferrer\">functools.partial</a>."}, {"owner": {"reputation": 167, "user_id": 4646499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c7c1cfcb24b468b479399272b038c8e?s=128&d=identicon&r=PG&f=1", "display_name": "ZeZe", "link": "https://stackoverflow.com/users/4646499/zeze"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1510784845, "post_id": 47317530, "comment_id": 81587939, "body": "@ekhumoro works perfectly! Answer with post and I&#39;ll give you the correct answer!"}], "answers": [{"tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 1, "last_activity_date": 1510788877, "creation_date": 1510788877, "answer_id": 47319132, "question_id": 47317530, "link": "https://stackoverflow.com/questions/47317530/send-several-parameters-when-combo-box-activated/47319132#47319132", "title": "Send several parameters when combo box activated", "body": "<p>One way to solve this is by using a <code>lambda</code> function:</p>\n\n<pre><code>self.comboBox.activated[str].connect(\n    lambda text: self.on_combo_activated(text, 'str1', 'str2'))\n...\n\ndef on_combo_activated(self, text, arg1, arg2):\n    print(text, arg1, arg2) \n</code></pre>\n\n<p>The <a href=\"https://docs.python.org/3/library/functools.html#functools.partial\" rel=\"nofollow noreferrer\">functools.partial</a> function does something similar, but it can sometimes be awkward to use it with positional arguments. If you used it to connect the above slot like this:</p>\n\n<pre><code>self.comboBox.activated[str].connect(\n    partial(self.on_combo_activated, 'str1', 'str1')\n</code></pre>\n\n<p>the slot would actually print <code>str1 str2 text</code>, because extra positional arguments are always <em>appended</em>, rather than inserted. However, with keyword arguments, it would work as expected:</p>\n\n<pre><code>self.comboBox.activated[str].connect(\n    partial(self.on_combo_activated, arg1='str1', arg2='str1'))\n</code></pre>\n\n<p>This last approach might be preferred over the others as it is self-documenting, and therefore perhaps more readable.</p>\n"}], "owner": {"reputation": 167, "user_id": 4646499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c7c1cfcb24b468b479399272b038c8e?s=128&d=identicon&r=PG&f=1", "display_name": "ZeZe", "link": "https://stackoverflow.com/users/4646499/zeze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 47319132, "answer_count": 1, "score": 0, "last_activity_date": 1510788877, "creation_date": 1510781214, "question_id": 47317530, "link": "https://stackoverflow.com/questions/47317530/send-several-parameters-when-combo-box-activated", "title": "Send several parameters when combo box activated", "body": "<pre><code>self.comboBox.activated[str].connect(self.on_combo_activated)\n</code></pre>\n\n<p>At the moment when a combo box gets selected only the value of the combo box gets passed on to the function on_combo_activated.</p>\n\n<p>How would I do if I wanted to send another two variables?</p>\n"}, {"tags": ["python", "logging"], "comments": [{"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1510865383, "post_id": 47317503, "comment_id": 81629772, "body": "There is no lazy evaluation in Python."}], "answers": [{"tags": [], "owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "is_accepted": false, "score": 2, "last_activity_date": 1510865325, "last_edit_date": 1510865325, "creation_date": 1510781327, "answer_id": 47317554, "question_id": 47317503, "link": "https://stackoverflow.com/questions/47317503/performance-penalty-of-long-list-in-python-logging-debug/47317554#47317554", "title": "Performance penalty of long list in python logging.debug()", "body": "<p>You will have a performance penalty because <code>list(x for x in long_generator)</code> will be created before calling <code>logging.debug()</code> even if debug messages are ignored.  </p>\n\n<p>There is no lazy evaluation in Python. Every line is evaluated/executed before the next line. It means that expressions are evaluated when they are bound to variables.</p>\n"}, {"tags": [], "owner": {"reputation": 14484, "user_id": 2291710, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0232aab5638a75f2286dccc43ecf4df3?s=128&d=identicon&r=PG&f=1", "display_name": "Delgan", "link": "https://stackoverflow.com/users/2291710/delgan"}, "is_accepted": true, "score": 5, "last_activity_date": 1510781934, "last_edit_date": 1510781934, "creation_date": 1510781491, "answer_id": 47317593, "question_id": 47317503, "link": "https://stackoverflow.com/questions/47317503/performance-penalty-of-long-list-in-python-logging-debug/47317593#47317593", "title": "Performance penalty of long list in python logging.debug()", "body": "<p>This will not be lazily evaluated, but Python logging has a solution to this problem: <a href=\"https://docs.python.org/3/howto/logging.html#optimization\" rel=\"nofollow noreferrer\"><code>isEnabledFor()</code></a>.</p>\n\n<pre><code>if logger.isEnabledFor(logging.DEBUG):\n    logger.debug('My very long list: %s' % list(x for x in long_generator))\n</code></pre>\n\n<p>Your list will be built and formatted <strong>only</strong> if logger's level is higher than <code>DEBUG</code>.</p>\n"}], "owner": {"reputation": 1478, "user_id": 1557256, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/WStyh.jpg?s=128&g=1", "display_name": "Qi Chen", "link": "https://stackoverflow.com/users/1557256/qi-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 47317593, "answer_count": 2, "score": 3, "last_activity_date": 1542206024, "creation_date": 1510781103, "question_id": 47317503, "link": "https://stackoverflow.com/questions/47317503/performance-penalty-of-long-list-in-python-logging-debug", "title": "Performance penalty of long list in python logging.debug()", "body": "<p>How lazy is evaluation in Python? If I have code that looks like</p>\n\n<p><code>logging.debug('My very long list: %s' % list(x for x in long_generator))</code></p>\n\n<p>and the logging effective level is such that debug messages are ignored, do I incur a performance penalty for having this line?</p>\n"}, {"tags": ["python", "variables", "dictionary"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 2, "creation_date": 1510781252, "post_id": 47317493, "comment_id": 81586127, "body": "This is a &quot;variable variables&quot; question. Use a dictionary."}, {"owner": {"reputation": 275, "user_id": 8792284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bd875967f2692b458165c1298f64e9?s=128&d=identicon&r=PG&f=1", "display_name": "Agrippa", "link": "https://stackoverflow.com/users/8792284/agrippa"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1510781648, "post_id": 47317493, "comment_id": 81586321, "body": "I know. I looked at that already but using dictionaries didn&#39;t make sense to me."}, {"owner": {"reputation": 139, "user_id": 6153888, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/852cc7d959c5183692035d6079d2fd82?s=128&d=identicon&r=PG", "display_name": "Yuan Fu", "link": "https://stackoverflow.com/users/6153888/yuan-fu"}, "edited": false, "score": 1, "creation_date": 1510781863, "post_id": 47317493, "comment_id": 81586425, "body": "Using dictionary would be the best practice"}, {"owner": {"reputation": 275, "user_id": 8792284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bd875967f2692b458165c1298f64e9?s=128&d=identicon&r=PG&f=1", "display_name": "Agrippa", "link": "https://stackoverflow.com/users/8792284/agrippa"}, "edited": false, "score": 0, "creation_date": 1510781934, "post_id": 47317493, "comment_id": 81586466, "body": "Could you spell out how that would work in my case?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510781941, "post_id": 47317493, "comment_id": 81586470, "body": "Just use a dictionary. They are a <i>core</i> feature of Python, and now is <i>always</i> a good time to learn how to use them."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510782063, "post_id": 47317493, "comment_id": 81586532, "body": "First, make your <code>dict</code>: <code>df_imp = {}</code>, then <code>for country in countries: df_imp[country] = pd.read_csv(r&#39;%s_final_forecasts.csv&#39; % country)</code> Now you can access the <code>dict</code> like this: <code>df_imp[&#39;USA&#39;]</code> or <code>df_imp[&#39;CAN&#39;]</code>"}, {"owner": {"reputation": 275, "user_id": 8792284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bd875967f2692b458165c1298f64e9?s=128&d=identicon&r=PG&f=1", "display_name": "Agrippa", "link": "https://stackoverflow.com/users/8792284/agrippa"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510783155, "post_id": 47317493, "comment_id": 81587107, "body": "@juanpa.arrivillaga Thanks. I actually understand the dictionary method now - and have got it working in my code. It solves some of my problem but maybe not all. Have to go to bed now but I&#39;ll look into it tomorrow evening. Tks again."}, {"owner": {"reputation": 275, "user_id": 8792284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bd875967f2692b458165c1298f64e9?s=128&d=identicon&r=PG&f=1", "display_name": "Agrippa", "link": "https://stackoverflow.com/users/8792284/agrippa"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510999153, "post_id": 47317493, "comment_id": 81682249, "body": "@juanpa.arrivillaga Thx for the code. It actually works really well. I reduced the amount of lines in my code by a factor of 3 in some parts. I updated the question to include the answer. Cheers."}], "owner": {"reputation": 275, "user_id": 8792284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bd875967f2692b458165c1298f64e9?s=128&d=identicon&r=PG&f=1", "display_name": "Agrippa", "link": "https://stackoverflow.com/users/8792284/agrippa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1510782091, "answer_count": 0, "score": 0, "last_activity_date": 1510999056, "creation_date": 1510781056, "last_edit_date": 1510999056, "question_id": 47317493, "link": "https://stackoverflow.com/questions/47317493/appending-a-string-to-a-variable-name", "closed_reason": "Duplicate", "title": "Appending a string to a variable name", "body": "<p><strong>This question has been edited to include the answer.</strong> </p>\n\n<p>Simple question. I would like to append a variable with the string from another variable. For example:</p>\n\n<pre><code>countries = ['USA','CAN','MEX']\ndf_imp_USA = read_csv(r'%s_final_forecasts.csv' % countries[0]);\n</code></pre>\n\n<p>What syntax would allow me to automatically change <code>df_imp_USA</code> according to the contents in <code>countries</code>? I need to do this because I want to put this line into a for loop. Thanks.</p>\n\n<p><strong>Answer</strong></p>\n\n<p>As the comments suggest, using dictionaries is preferable to creating new variables. I saw this in previous answers but couldn't figure out how to use dictionaries in my code. I include the syntax below in case it may help others.</p>\n\n<pre><code>df_imp = {} # define the dic\nfor country in countries:\n    df_imp[country] = read_csv(r'%s_final_forecasts.csv' % country)\n</code></pre>\n\n<p>Now you can access the dict like this: </p>\n\n<pre><code>df_imp['USA']\n</code></pre>\n"}, {"tags": ["python", "macos", "virtualenv"], "comments": [{"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1510786425, "post_id": 47317408, "comment_id": 81588558, "body": "$PATH has nothing with import. Compare sys.path in ipython and python: <code>python -c &quot;import sys; print(sys.path)&quot;</code>."}, {"owner": {"reputation": 950, "user_id": 3614855, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/267970129056459ed1a52d4373fc438b?s=128&d=identicon&r=PG&f=1", "display_name": "fiacre", "link": "https://stackoverflow.com/users/3614855/fiacre"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1510847136, "post_id": 47317408, "comment_id": 81618722, "body": "Alas, there is the problem.  ipython has the virtualenv path, python does not."}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1510852380, "post_id": 47317408, "comment_id": 81622496, "body": "This means that python is not from the virtual env. Have you activated the virtual env?"}, {"owner": {"reputation": 950, "user_id": 3614855, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/267970129056459ed1a52d4373fc438b?s=128&d=identicon&r=PG&f=1", "display_name": "fiacre", "link": "https://stackoverflow.com/users/3614855/fiacre"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1510852971, "post_id": 47317408, "comment_id": 81622876, "body": "Yes, the virtualenv is activated"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511364620, "post_id": 47317408, "comment_id": 81831426, "body": "Please post the output of commands <code>$ ipython -c &quot;import sys; print(sys.version); print(sys.executable)&quot;</code> and <code>$ python -c &quot;import sys; print(sys.version); print(sys.executable)&quot;</code>, both executed in your virtual environment (note the difference between them!). Note that <code>ipython</code> should be explicitly installed in the virtual environment if you want it to pick up the virtualenv&#39;s python executable. Otherwise, it will print a warning and use the first python found in path."}, {"owner": {"reputation": 950, "user_id": 3614855, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/267970129056459ed1a52d4373fc438b?s=128&d=identicon&r=PG&f=1", "display_name": "fiacre", "link": "https://stackoverflow.com/users/3614855/fiacre"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511893761, "post_id": 47317408, "comment_id": 82033940, "body": "@hoefling:  ipython -c &quot;import sys; print(sys.version);  &gt; print(sys.executable)&quot; 3.6.3 (v3.6.3:2c5fed86e0, Oct  3 2017, 00:32:08)  [GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] /Users/my_user/projects/my_project/venv/bin/python3.6  And ...  python -c &quot;import sys; print(sys.version); print(sys.executable)&quot; 3.6.3 (v3.6.3:2c5fed86e0, Oct  3 2017, 00:32:08)  [GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] /Library/Frameworks/Python.framework/Versions/3.6/bin/python&zwnj;&#8203;3.6  Clearly, not what I want"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511895136, "post_id": 47317408, "comment_id": 82034645, "body": "Please execute <code>which python</code> with your venv activated. Your venv seems to be broken, maybe missing the shim to python executable. It should use the shim <code>venv&#47;bin&#47;python</code>. Instead, the system python executable is being used."}, {"owner": {"reputation": 950, "user_id": 3614855, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/267970129056459ed1a52d4373fc438b?s=128&d=identicon&r=PG&f=1", "display_name": "fiacre", "link": "https://stackoverflow.com/users/3614855/fiacre"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511895987, "post_id": 47317408, "comment_id": 82035111, "body": "@hoefling  $ which python /Users/my_ser/projects/My_project/venv/bin/python"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511904067, "post_id": 47317408, "comment_id": 82039424, "body": "This makes no sense - <code>python -c &quot;import sys; print(sys.version); print(sys.executable)&quot;</code> points to the system python, while <code>which python</code> points to the venv one. Both outputs are mutually exclusive."}, {"owner": {"reputation": 950, "user_id": 3614855, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/267970129056459ed1a52d4373fc438b?s=128&d=identicon&r=PG&f=1", "display_name": "fiacre", "link": "https://stackoverflow.com/users/3614855/fiacre"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1511916616, "post_id": 47317408, "comment_id": 82043741, "body": "@hoefling : Exactly!  There is something very wonky about this virtualenv.  Indeed several virtual environments on this box have a similar problem."}], "owner": {"reputation": 950, "user_id": 3614855, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/267970129056459ed1a52d4373fc438b?s=128&d=identicon&r=PG&f=1", "display_name": "fiacre", "link": "https://stackoverflow.com/users/3614855/fiacre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510780640, "creation_date": 1510780640, "question_id": 47317408, "link": "https://stackoverflow.com/questions/47317408/winky-virtualenv-python-cannot-import-flask-but-ipython-can", "title": "winky virtualenv: python cannot import flask, but ipython can", "body": "<p>I have not run into this problem before and it has me scratching my head:</p>\n\n<p>On Mac OSX (High Sierra) in a virtualenv I see do <code>ls -l venv/lib/python3.6/site-packages/flask</code> and see the expected output.</p>\n\n<p>When I load ipython and run:</p>\n\n<pre><code>from flask import Flask\n</code></pre>\n\n<p>again, I get the expected behavior.</p>\n\n<p>typing <code>which python</code> gives \n<code>/Users/my_user/projects/my_project/venv/bin/python</code>, ok -- all looks good!</p>\n\n<p>Now, when I go to a python prompt and try:</p>\n\n<pre><code>from flask import Flask\n</code></pre>\n\n<p>I get: <code>ModuleNotFoundError: No module named 'flask'</code></p>\n\n<p>Whaaaa?</p>\n\n<p>Yet ipython (installed in the same virtualenv) I have no problem.</p>\n\n<p>print(os.environ['PATH']) seems right:</p>\n\n<p><code>/Users/my_user/projects/my_project/venv/bin:/usr/local/sbin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/Cellar/ruby/2.4.2_1/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/andrew/projects/go/bin:/usr/local/opt/go/libexec/bin</code></p>\n\n<p>Any pointers would be helpful.</p>\n\n<p>TIA</p>\n"}, {"tags": ["python", "python-2.6", "pep8", "flake8"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1510780961, "post_id": 47317393, "comment_id": 81585981, "body": "Please explain your intention!"}, {"owner": {"reputation": 550, "user_id": 3545806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4bd08c73006f268281c9e001da13e12f?s=128&d=identicon&r=PG&f=1", "display_name": "VladimirS", "link": "https://stackoverflow.com/users/3545806/vladimirs"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1510781173, "post_id": 47317393, "comment_id": 81586090, "body": "I added inline."}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1510781523, "post_id": 47317393, "comment_id": 81586259, "body": "A syntax error usually stops the parser since it does not have a defined state anymore. So I guess you won&#39;t be able to just jump over it. But I&#39;m wondering what you need the template for. Python is a very dynamic language and in many years of Python I had no need for a code template so far."}, {"owner": {"reputation": 550, "user_id": 3545806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4bd08c73006f268281c9e001da13e12f?s=128&d=identicon&r=PG&f=1", "display_name": "VladimirS", "link": "https://stackoverflow.com/users/3545806/vladimirs"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1510781905, "post_id": 47317393, "comment_id": 81586451, "body": "I do not need template for python code itself. I need template for the imported c++ library, I have 2 versions of the same c++ library, with almost same python wrapper."}], "answers": [{"comments": [{"owner": {"reputation": 550, "user_id": 3545806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4bd08c73006f268281c9e001da13e12f?s=128&d=identicon&r=PG&f=1", "display_name": "VladimirS", "link": "https://stackoverflow.com/users/3545806/vladimirs"}, "edited": false, "score": 0, "creation_date": 1513087740, "post_id": 47752405, "comment_id": 82510101, "body": "You guys are doing great job, but Isn&#39;t it own limitation? Note, I am not insisting. And btw you have parsed correctly the rest of the file."}, {"owner": {"reputation": 20540, "user_id": 1953283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396e3de53320abf9855d912cd3d9431f?s=128&d=identicon&r=PG", "display_name": "Ian Stapleton Cordasco", "link": "https://stackoverflow.com/users/1953283/ian-stapleton-cordasco"}, "reply_to_user": {"reputation": 550, "user_id": 3545806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4bd08c73006f268281c9e001da13e12f?s=128&d=identicon&r=PG&f=1", "display_name": "VladimirS", "link": "https://stackoverflow.com/users/3545806/vladimirs"}, "edited": false, "score": 0, "creation_date": 1515255550, "post_id": 47752405, "comment_id": 83235288, "body": "Some checks use the AST which requires the syntax to be valid Python. Other checks parse the file differently using a far less strict parsing engine. That means that you will not be able to get the benefit of some checks but we degrade service gracefully."}, {"owner": {"reputation": 550, "user_id": 3545806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4bd08c73006f268281c9e001da13e12f?s=128&d=identicon&r=PG&f=1", "display_name": "VladimirS", "link": "https://stackoverflow.com/users/3545806/vladimirs"}, "edited": false, "score": 0, "creation_date": 1515438580, "post_id": 47752405, "comment_id": 83292192, "body": "Since my usage is lonely, I believe it does not make sense to invest your time in it."}], "tags": [], "owner": {"reputation": 20540, "user_id": 1953283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396e3de53320abf9855d912cd3d9431f?s=128&d=identicon&r=PG", "display_name": "Ian Stapleton Cordasco", "link": "https://stackoverflow.com/users/1953283/ian-stapleton-cordasco"}, "is_accepted": false, "score": 0, "last_activity_date": 1512993302, "creation_date": 1512993302, "answer_id": 47752405, "question_id": 47317393, "link": "https://stackoverflow.com/questions/47317393/how-to-disable-e901-syntaxerror-in-flake8/47752405#47752405", "title": "How to disable E901 SyntaxError in flake8", "body": "<p>You should lint the version produced by the template, not the template itself. Flake8 cannot skip over SyntaxErrors as we try to build an Abstract Syntax Tree which requires a valid Python file.</p>\n"}], "owner": {"reputation": 550, "user_id": 3545806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4bd08c73006f268281c9e001da13e12f?s=128&d=identicon&r=PG&f=1", "display_name": "VladimirS", "link": "https://stackoverflow.com/users/3545806/vladimirs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512993302, "creation_date": 1510780545, "last_edit_date": 1510781141, "question_id": 47317393, "link": "https://stackoverflow.com/questions/47317393/how-to-disable-e901-syntaxerror-in-flake8", "title": "How to disable E901 SyntaxError in flake8", "body": "<p>I have an intentional syntax error in python code.\nThe python file is a template where certain values would be later substituted with real python code. Those parts of the python should be ignored during checkup.</p>\n\n<p>Sample to reproduce</p>\n\n<pre><code>from --syntax-error-- import --syntax--error--  # noqa\n# second attempt:\nfrom --syntax-error2-- import --syntax--error2--  # noqa: E901\n</code></pre>\n\n<p>I am trying to disable E901 but noqa command is ignored.\nIs it possible to disable any other way?</p>\n\n<p>Flake8 version is 2.6.2</p>\n"}, {"tags": ["python", "email", "parsing", "imap", "imaplib"], "comments": [{"owner": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 2, "creation_date": 1510780570, "post_id": 47317367, "comment_id": 81585789, "body": "so whats your problem?!"}, {"owner": {"reputation": 483, "user_id": 7276784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DSxpQ.png?s=128&g=1", "display_name": "Abhinav Anand", "link": "https://stackoverflow.com/users/7276784/abhinav-anand"}, "reply_to_user": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 0, "creation_date": 1510781389, "post_id": 47317367, "comment_id": 81586202, "body": "@DRPK Sorry I forgot to mention. Editted now"}], "answers": [{"tags": [], "owner": {"reputation": 9633, "user_id": 2532946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lPZj.png?s=128&g=1", "display_name": "mti2935", "link": "https://stackoverflow.com/users/2532946/mti2935"}, "is_accepted": true, "score": 1, "last_activity_date": 1510781091, "creation_date": 1510781091, "answer_id": 47317501, "question_id": 47317367, "link": "https://stackoverflow.com/questions/47317367/parsing-the-html-content-in-email/47317501#47317501", "title": "Parsing the HTML content in email", "body": "<p>The body of the message is MIME-encoded - that's why it contains the text in both plaintext and HTML formats.  In order to get just the plaintext of the body, you first need to MIME-decode the message.  You can use python's <a href=\"https://docs.python.org/2/library/email.html#module-email\" rel=\"nofollow noreferrer\">email package</a> to do the MIME-decoding.  Also, see <a href=\"https://stackoverflow.com/questions/3449220/how-do-i-recieve-a-html-email-as-a-regular-text\">this question</a> for more information.</p>\n"}], "owner": {"reputation": 483, "user_id": 7276784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DSxpQ.png?s=128&g=1", "display_name": "Abhinav Anand", "link": "https://stackoverflow.com/users/7276784/abhinav-anand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7123, "favorite_count": 0, "accepted_answer_id": 47317501, "answer_count": 1, "score": 1, "last_activity_date": 1510781285, "creation_date": 1510780428, "last_edit_date": 1510781285, "question_id": 47317367, "link": "https://stackoverflow.com/questions/47317367/parsing-the-html-content-in-email", "title": "Parsing the HTML content in email", "body": "<p>I'm trying to write a python script to read my emails.\nI'm able to get most of the things properly like <code>To</code>, <code>From</code>, <code>Subject</code>.\nBut in the <code>body</code>, I get the text as well as it's HTML code too as shown below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ns4be.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ns4be.png\" alt=\"enter image description here\"></a></p>\n\n<p>Below is the part of code that does the extraction of content from the email</p>\n\n<pre><code>email_message = email.message_from_string(raw_email)\nprint 'To:', email_message['To']\nprint 'Sent from:', email_message['From']\nprint 'Date:', email_message['Date']\nprint 'Subject:', email_message['Subject']\nprint '*'*30, 'MESSAGE', '*'*30\nmaintype = email_message.get_content_maintype()\n#print maintype\n\nif maintype == 'multipart':\n    for part in email_message.get_payload():\n            if part.get_content_maintype() == 'text':\n                print part.get_payload()\nelif maintype == 'text':\n    print email_message.get_payload()\nprint '*'*69\n</code></pre>\n\n<p>Git link for the complete code: <a href=\"https://github.com/ab-anand/Python-works/blob/master/new.py\" rel=\"nofollow noreferrer\">Email-parser</a></p>\n\n<p>How to get rid of that HTML code and get only the plain text?</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9003548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4916e8d2f841cfca9ca26b0f9c8385cd?s=128&d=identicon&r=PG&f=1", "display_name": "\u5c09\u601d\u8c1c", "link": "https://stackoverflow.com/users/9003548/%e5%b0%89%e6%80%9d%e8%b0%9c"}, "is_accepted": false, "score": 0, "last_activity_date": 1511772432, "creation_date": 1511772432, "answer_id": 47506876, "question_id": 47317319, "link": "https://stackoverflow.com/questions/47317319/models-tutorials-rnn-ptb-fails-on-r1-4-line-271-no-attribute-rnnparamssaveable/47506876#47506876", "title": "models/tutorials/rnn/ptb fails on R1.4 line 271 no attribute RNNParamsSaveable", "body": "<p>I change the code as follows, then it works:</p>\n\n<pre><code>if self._cell and rnn_params:\n    params_saveable = tf.contrib.cudnn_rnn.CudnnLSTMSaveable(\n        rnn_params,\n        self._cell.num_layers,\n        self._cell.num_units,\n        self._cell.input_size,\n        self._cell.input_mode,\n        self._cell.direction,\n        scope=\"Model/RNN\")\n</code></pre>\n\n<p>remove this line\"tf.add_to_collection(tf.GraphKeys.SAVEABLE_OBJECTS, params_saveable)\"</p>\n"}], "owner": {"reputation": 21, "user_id": 8345795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d26eac27f989fcd59432d98a760c035a?s=128&d=identicon&r=PG&f=1", "display_name": "levinth", "link": "https://stackoverflow.com/users/8345795/levinth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511772432, "creation_date": 1510780241, "question_id": 47317319, "link": "https://stackoverflow.com/questions/47317319/models-tutorials-rnn-ptb-fails-on-r1-4-line-271-no-attribute-rnnparamssaveable", "title": "models/tutorials/rnn/ptb fails on R1.4 line 271 no attribute RNNParamsSaveable", "body": "<p>the API contrib.cudnn_rnn.RNNParamsSaveable has been deprecated in r1.4, but is used in the tensorflow tutorial <a href=\"https://www.tensorflow.org/tutorials/recurrent\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/tutorials/recurrent</a>. It is not entirely clear how to modify lines 271->276 in ptb_word_lm.py to use the new API which presumably should be contrib.cudnn_rnn.CudnnLSTMSaveable for a default run. Can somebody enlighten me on what needs to be changed?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 2, "creation_date": 1510780215, "post_id": 47317290, "comment_id": 81585603, "body": "try &quot;readlines&quot;, that&#39;ll get you all of the lines."}, {"owner": {"reputation": 692, "user_id": 3789716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H6gk9.png?s=128&g=1", "display_name": "Alessandro", "link": "https://stackoverflow.com/users/3789716/alessandro"}, "edited": false, "score": 0, "creation_date": 1510780260, "post_id": 47317290, "comment_id": 81585628, "body": "You have to iterate on line."}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 1, "creation_date": 1510780263, "post_id": 47317290, "comment_id": 81585629, "body": "Hint: the first time you find a line that&#39;s even, your <code>while</code> loop will exit."}, {"owner": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "edited": false, "score": 0, "creation_date": 1510780672, "post_id": 47317290, "comment_id": 81585837, "body": "<a href=\"https://docs.python.org/3/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">Check this out</a>"}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510780817, "post_id": 47317290, "comment_id": 81585909, "body": "Answered your question, should work as long as each line only contains a number. If the lines contain more than one number let me know and ill update the answer."}], "answers": [{"comments": [{"owner": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 1, "creation_date": 1510781788, "post_id": 47317402, "comment_id": 81586389, "body": "nice for your pythonic way bro :)"}], "tags": [], "owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "is_accepted": false, "score": 3, "last_activity_date": 1510781643, "last_edit_date": 1510781643, "creation_date": 1510780613, "answer_id": 47317402, "question_id": 47317290, "link": "https://stackoverflow.com/questions/47317290/reading-data-from-a-file-python-3/47317402#47317402", "title": "Reading data from a file (python 3)", "body": "<p>Assuming each line only contains one number and not multiple numbers:</p>\n\n<pre><code>with open('data.txt') as infile:  # using `with open()` you do not need to do `infile.close()`, that is done for you.\n    even_sum = 0\n    for line in infile:  # Iterate over the lines\n        num = int(line)  # Avoid calling int() multiple times if you can.\n        if num  % 2 == 0:  # Its an even number.\n            even_sum += num\n    print('Sum of even numbers: ' + str(even_sum))\n</code></pre>\n\n<p>One-liner that uses <code>sum()</code> just for giggles:</p>\n\n<pre><code>print('Sum of even numbers: ' + str(sum([int(l) for l in open('data.txt') if int(l) % 2 == 0])))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 1, "creation_date": 1510780898, "post_id": 47317442, "comment_id": 81585948, "body": "Try to introduce the user to using with open(file) as it removes the necessity of doing f.close(), also, default mode is &#39;r&#39; on open() so no need to set it. Just some suggestions"}, {"owner": {"reputation": 1121, "user_id": 4818853, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/8f2ce7111f8a67efb9e4c3fd9f91bb0f?s=128&d=identicon&r=PG&f=1", "display_name": "user_dev", "link": "https://stackoverflow.com/users/4818853/user-dev"}, "reply_to_user": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 1, "creation_date": 1510780995, "post_id": 47317442, "comment_id": 81586004, "body": "yeah that&#39;s right, I just though of providing the solution."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510781058, "post_id": 47317442, "comment_id": 81586037, "body": "Sure thing - :)"}], "tags": [], "owner": {"reputation": 1121, "user_id": 4818853, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/8f2ce7111f8a67efb9e4c3fd9f91bb0f?s=128&d=identicon&r=PG&f=1", "display_name": "user_dev", "link": "https://stackoverflow.com/users/4818853/user-dev"}, "is_accepted": false, "score": 1, "last_activity_date": 1510781185, "last_edit_date": 1510781185, "creation_date": 1510780829, "answer_id": 47317442, "question_id": 47317290, "link": "https://stackoverflow.com/questions/47317290/reading-data-from-a-file-python-3/47317442#47317442", "title": "Reading data from a file (python 3)", "body": "<p>Your while loop is going into infinite loop and you missed on iterating over file as well:\nHere is the solution:</p>\n\n<pre><code>def sum_even():\n    with open('test1.txt') as input_file: \n    # Looping through the file line by line\n        even_sum = 0\n        for line in input_file:\n            if int(line) % 2 == 0:\n                print line\n                even_sum += int(line)\n\n        print('Sum of even numbers: ' + str(even_sum))\n\nif __name__ == \"__main__\":\n    sum_even()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8947797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651cb9507032b1efaa2e8e6c46efd6c3?s=128&d=identicon&r=PG&f=1", "display_name": "J. A. G.", "link": "https://stackoverflow.com/users/8947797/j-a-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1510781643, "creation_date": 1510780146, "question_id": 47317290, "link": "https://stackoverflow.com/questions/47317290/reading-data-from-a-file-python-3", "title": "Reading data from a file (python 3)", "body": "<p>I'm working on an assignment that reads data from a file. I'm trying to sum up all the even numbers in the file but I can't get it to read more than the first line. Here is the code I have so far:</p>\n\n<pre><code>infile = open('data.txt', 'r')\neven_sum = 0\nline = infile.readline()\n\nwhile int(line) % 2 == 0:\n    even_sum += int(line)\n    line = infile.readline()\n\n\ninfile.close()\n\nprint('Sum of even numbers: ' + str(even_sum))\n</code></pre>\n"}, {"tags": ["python", "scipy", "constants"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1510780439, "post_id": 47317238, "comment_id": 81585722, "body": "<a href=\"https://docs.scipy.org/doc/scipy/reference/constants.html\" rel=\"nofollow noreferrer\">Reading the docs</a> it&#39;s easy to get the unit, but there seems to be no support for conversions except maybe for temperature and optics."}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1510787840, "last_edit_date": 1510787840, "creation_date": 1510780548, "answer_id": 47317396, "question_id": 47317238, "link": "https://stackoverflow.com/questions/47317238/how-to-get-physical-constant-in-scipy-in-cgs-unit/47317396#47317396", "title": "how to get physical constant in scipy in cgs unit?", "body": "<p>From browsing the <code>constants.py</code> file (documentation) I deduce that I can get:</p>\n\n<pre><code>In [183]: constants.value('Thomson cross section')\nOut[183]: 6.6524587158e-29\nIn [184]: constants.unit('Thomson cross section')\nOut[184]: 'm^2'\nIn [187]: constants.precision('Thomson cross section')\nOut[187]: 1.367915290986615e-09\n</code></pre>\n\n<p>This value is in a dictionary:</p>\n\n<pre><code>In [196]: constants.physical_constants['Thomson cross section']\nOut[196]: (6.6524587158e-29, 'm^2', 9.1e-38)\n</code></pre>\n\n<p>See the <code>scipy.constants.codata.py</code> file for more information.</p>\n\n<p>I don't see any code in the <code>constants.py</code> file to do unit conversions.  Guess you'll have to do that yourself.</p>\n"}], "owner": {"reputation": 819, "user_id": 4936409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/455864806ee3a86bd59707bfd347cea3?s=128&d=identicon&r=PG&f=1", "display_name": "bhjghjh", "link": "https://stackoverflow.com/users/4936409/bhjghjh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1510787840, "creation_date": 1510779978, "question_id": 47317238, "link": "https://stackoverflow.com/questions/47317238/how-to-get-physical-constant-in-scipy-in-cgs-unit", "title": "how to get physical constant in scipy in cgs unit?", "body": "<p>I was wondering how do I get some physical constants from scipy.constants in cgs unit.</p>\n\n<p>for example: if I want thomson cross section constant from scipy I do,</p>\n\n<pre><code>constants.value(u'Thomson cross section')\n6.6524587158e-29\n</code></pre>\n\n<p>But this is built in SI unit. Also it does not show me the unit that comes with it. I want to import it in cgs:\nIs there any command in scipy that will allow me select the unit as well? Maybe something like the following:</p>\n\n<pre><code>constants.value(u'Thomson cross section').in_units_of(cm**2)\n</code></pre>\n\n<p>Your suggestion is appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1510780254, "post_id": 47317231, "comment_id": 81585627, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "edited": false, "score": 0, "creation_date": 1510780333, "post_id": 47317305, "comment_id": 81585663, "body": "def __init__(self, item_name=&quot;Item&quot;, item_price=0, item_quantity=0):          self.item_name = item_name          self.item_price = item_price          self.item_quantity = item_quantity       def item_Name(self):          return self.item_name       def item_Price(self):          return self.item_price       def item_Quantity(self):          return self.item_quantity"}, {"owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "reply_to_user": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "edited": false, "score": 0, "creation_date": 1510838513, "post_id": 47317305, "comment_id": 81612179, "body": "Okay, so look at the place where the object is instantiated or later modified. Somewhere there price has been set to a string. Do you have a setter method for it? I suggest you put throwing typechecks in the ctor and setter to find the exact place."}], "tags": [], "owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "is_accepted": false, "score": 1, "last_activity_date": 1510780731, "last_edit_date": 1510780731, "creation_date": 1510780185, "answer_id": 47317305, "question_id": 47317231, "link": "https://stackoverflow.com/questions/47317231/error-cant-multiply-sequence-by-non-int-of-type-str/47317305#47317305", "title": "Error: can&#39;t multiply sequence by non-int of type &#39;str&#39;", "body": "<p><code>self.item_Price() * (self.item_Quantity())</code></p>\n\n<p>If you're using Python 3, as it turns out singleton tuples don't need a comma, so your right multiplier is actually a tuple.</p>\n\n<p>Somehow <code>item_Price</code> returns a string.</p>\n\n<p>You didn't mention where your <code>item_Price</code> and <code>item_Quantity</code>come from but in the <code>__str__</code> method they both are explicitly converted to <code>int</code>. Is it perchance they both are strings? </p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "edited": false, "score": 0, "creation_date": 1510782331, "post_id": 47317381, "comment_id": 81586666, "body": "Shopping Cart - 3/3/3 Number of Items: 8  soda 3 @ $3 = $sodasodasoda checkout 5 @ $4 = $checkoutcheckoutcheckoutcheckoutcheckout       value += (i.total()) TypeError: unsupported operand type(s) for +=: &#39;int&#39; and &#39;str&#39; &gt;&gt;&gt;"}, {"owner": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "edited": false, "score": 0, "creation_date": 1510782360, "post_id": 47317381, "comment_id": 81586676, "body": "value = 0          for i in self.shopping_item:              value += (i.total())          return value"}, {"owner": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "edited": false, "score": 0, "creation_date": 1510782371, "post_id": 47317381, "comment_id": 81586683, "body": "now i get this error"}, {"owner": {"reputation": 5000, "user_id": 8405835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sN3eq.png?s=128&g=1", "display_name": "Abhijit Pritam Dutta", "link": "https://stackoverflow.com/users/8405835/abhijit-pritam-dutta"}, "reply_to_user": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "edited": false, "score": 0, "creation_date": 1510782510, "post_id": 47317381, "comment_id": 81586761, "body": "@Ansh, it is not clear exactly what error message you are getting. Please edit your original question and put the latest error message at the bottom."}, {"owner": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "edited": false, "score": 0, "creation_date": 1510783799, "post_id": 47317381, "comment_id": 81587415, "body": "error - Traceback (most recent call last):   File &quot;X:\\My Documents\\Programming assignment 6.py&quot;, line 236, in &lt;module&gt;     print_menu(objct)   File &quot;X:\\My Documents\\Programming assignment 6.py&quot;, line 197, in print_menu     objct3 = ItemToPurchase(item_name, item_price, item_quantity)   File &quot;X:\\My Documents\\Programming assignment 6.py&quot;, line 7, in <b>init</b>     self.item_price = int(item_price) ValueError: invalid literal for int() with base 10: &#39;2.3&#39;"}, {"owner": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "edited": false, "score": 0, "creation_date": 1510783828, "post_id": 47317381, "comment_id": 81587435, "body": "code - self.item_price = int(item_price)          self.item_quantity = int(item_quantity)"}, {"owner": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "edited": false, "score": 0, "creation_date": 1510783940, "post_id": 47317381, "comment_id": 81587480, "body": "I dindn&#39;t made change to anything else"}, {"owner": {"reputation": 5000, "user_id": 8405835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sN3eq.png?s=128&g=1", "display_name": "Abhijit Pritam Dutta", "link": "https://stackoverflow.com/users/8405835/abhijit-pritam-dutta"}, "reply_to_user": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "edited": false, "score": 0, "creation_date": 1510784022, "post_id": 47317381, "comment_id": 81587523, "body": "add print statement and print the value first and check whether they are integer value or not. like print(item_price)."}, {"owner": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "edited": false, "score": 0, "creation_date": 1510784436, "post_id": 47317381, "comment_id": 81587741, "body": "oh ok thanks i&#39;ll try"}], "tags": [], "owner": {"reputation": 5000, "user_id": 8405835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sN3eq.png?s=128&g=1", "display_name": "Abhijit Pritam Dutta", "link": "https://stackoverflow.com/users/8405835/abhijit-pritam-dutta"}, "is_accepted": false, "score": 0, "last_activity_date": 1510780505, "creation_date": 1510780505, "answer_id": 47317381, "question_id": 47317231, "link": "https://stackoverflow.com/questions/47317231/error-cant-multiply-sequence-by-non-int-of-type-str/47317381#47317381", "title": "Error: can&#39;t multiply sequence by non-int of type &#39;str&#39;", "body": "<p>In the following line of code one of the method returning a sequence and one is returning a string for which it failed</p>\n\n<pre><code> return (self.item_Price() * (self.item_Quantity()))\n</code></pre>\n\n<p>check the return type of <code>item_Price</code> <code>item_Quentity</code> first and fix it.</p>\n\n<p>also try with</p>\n\n<pre><code>price = int(self.item_Price())\nqty = int(self.item_Quantity())\nreturn(price * qty)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8947463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f9be68be39003679ca9f46f713c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Ansh ", "link": "https://stackoverflow.com/users/8947463/ansh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "closed_date": 1510827733, "answer_count": 2, "score": -3, "last_activity_date": 1510781127, "creation_date": 1510779954, "last_edit_date": 1510781127, "question_id": 47317231, "link": "https://stackoverflow.com/questions/47317231/error-cant-multiply-sequence-by-non-int-of-type-str", "closed_reason": "Not suitable for this site", "title": "Error: can&#39;t multiply sequence by non-int of type &#39;str&#39;", "body": "<p>My code:</p>\n\n<pre><code>def print_item_cost(self):\n\n        print((self.item_name, self.item_quantity, self.item_price), end='')\n\n        print(int(self.item_price) + int(self.item_quantity))\n\n    def __str__(self):\n\n        return '%s %d @ $%d = $%d' % (\n\n            (self.item_name), (self.item_quantity), (self.item_price),\n\n            int(self.item_price) * int(self.item_quantity))\n\n    def total(self):\n\n        return (self.item_Price() * (self.item_Quantity()))\n</code></pre>\n\n<p>The error that I'm getting is: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"X:\\My Documents\\Programming assignment 6.py\", line 236, in &lt;module&gt;\n    print_menu(objct)\n  File \"X:\\My Documents\\Programming assignment 6.py\", line 180, in print_menu\n    objct.print_total()\n  File \"X:\\My Documents\\Programming assignment 6.py\", line 139, in print_total\n    print(\"{} {} @ ${} = ${}\".format(i.item_Name(), i.item_Quantity(), i.item_Price(), i.total()))\n  File \"X:\\My Documents\\Programming assignment 6.py\", line 47, in total\n    return (self.item_Price() * (self.item_Quantity()))\nTypeError: can't multiply sequence by non-int of type 'str'\n</code></pre>\n\n<p>I don't understand where I made a mistake. The program should add and multiply total cost of the items.</p>\n"}, {"tags": ["python", "pygame", "pygame-surface"], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 8922731, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f9394dd43414facf0638932841d19fe?s=128&d=identicon&r=PG&f=1", "display_name": "Delly", "link": "https://stackoverflow.com/users/8922731/delly"}, "edited": false, "score": 0, "creation_date": 1510783539, "post_id": 47318017, "comment_id": 81587274, "body": "Yes, I am trying to load inidividual images in image_list. I thought the indexing would do that. Is there an error in how I set it up?"}], "tags": [], "owner": {"reputation": 416, "user_id": 7766131, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfa5fab901435124564e46cb0c195b5f?s=128&d=identicon&r=PG&f=1", "display_name": "paper man", "link": "https://stackoverflow.com/users/7766131/paper-man"}, "is_accepted": false, "score": 1, "last_activity_date": 1510783242, "creation_date": 1510783242, "answer_id": 47318017, "question_id": 47317212, "link": "https://stackoverflow.com/questions/47317212/pygame-error-unsupported-image-format/47318017#47318017", "title": "Pygame Error: Unsupported Image Format", "body": "<p>Near the bottom you have the line:</p>\n\n<pre><code>stimulus= pygame.image.load('image_list')\n</code></pre>\n\n<p>Here you are trying to load an image titled <code>image_list</code>. There's no file extension there, so your OS doesn't recognize the filetype.  But even if you did include a file extension, I think you're trying to load the individual images in the list <code>image_list</code>, and that's a whole other story.</p>\n"}, {"tags": [], "owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "is_accepted": true, "score": 1, "last_activity_date": 1510810626, "creation_date": 1510810626, "answer_id": 47322369, "question_id": 47317212, "link": "https://stackoverflow.com/questions/47317212/pygame-error-unsupported-image-format/47322369#47322369", "title": "Pygame Error: Unsupported Image Format", "body": "<p>The first mistake is the same as in your <a href=\"https://stackoverflow.com/a/47244326/6220679\">previous question</a>: <code>types= '*.tif'</code>. That means <code>types</code> is a string, but you actually wanted a tuple with the allowed file types: <code>types = '*.tif',</code> (the comma turns it into a tuple). So you iterate over the letters in <code>'*.tif'</code> and pass them to <code>glob.glob</code> which gives you all files in the directory and of course <code>image_list.append(pygame.image.load(artwork).convert())</code> can't work if you pass it for example a <code>.py</code> file.</p>\n\n<p>The next mistake is the <code>stimulus = pygame.image.load('image_list')</code> line which doesn't work because you need to pass a complete file name or path to the <code>load</code> function. I think your <code>stimulus</code> variable should actually be the <code>current_image</code>.</p>\n\n<p>Here's a complete example that also shows you how to implement a timer.</p>\n\n<pre><code>import glob\nimport random\nimport pygame\n\n\npygame.init()\nclock = pygame.time.Clock()\nwindow = pygame.display.set_mode((640, 480))\n\nfile_types = '*.tif',  # The comma turns it into a tuple.\n# file_types = ['*.tif']  # Or use a list.\nartfile_names = []\nfor file_type in file_types:\n    artfile_names.extend(glob.glob(file_type))\n\nimage_list = []\nfor artwork in artfile_names:\n    image_list.append(pygame.image.load(artwork).convert())\n\nrandom.shuffle(image_list)\n\nindex = 0\ncurrent_image = image_list[index]\nprevious_time = pygame.time.get_ticks()\n\ndone = False\n\nwhile not done:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            done = True\n\n    # Calcualte the passed time, then increment the index, use\n    # modulo to keep it in the correct range and finally change\n    # the image.\n    current_time = pygame.time.get_ticks()\n    if current_time - previous_time &gt; 500: # milliseconds\n        index += 1\n        index %= len(image_list)\n        current_image = image_list[index]\n        previous_time = current_time\n\n    # Draw everything.\n    window.fill((30, 30, 30))  # Clear the screen.\n    # Blit the current image.\n    window.blit(current_image, (100, 100))\n\n    pygame.display.update()\n    clock.tick(30)\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 8922731, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f9394dd43414facf0638932841d19fe?s=128&d=identicon&r=PG&f=1", "display_name": "Delly", "link": "https://stackoverflow.com/users/8922731/delly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1471, "favorite_count": 0, "accepted_answer_id": 47322369, "answer_count": 2, "score": 1, "last_activity_date": 1510810626, "creation_date": 1510779897, "question_id": 47317212, "link": "https://stackoverflow.com/questions/47317212/pygame-error-unsupported-image-format", "title": "Pygame Error: Unsupported Image Format", "body": "<p>Hi I'm trying to follow these instructions from my last question:\n<a href=\"https://stackoverflow.com/questions/47234156/pygame-how-to-load-150-images-and-present-each-one-for-only-5sec-per-trial\">Pygame: how to load 150 images and present each one for only .5sec per trial</a></p>\n\n<p>This is the code I currently have and I'm unsure where I'm going wrong.</p>\n\n<pre><code>import pygame, glob\npygame.init()\npygame.mixer.init()\nclock=pygame.time.Clock()\n\n#### Set up window\nwindow=pygame.display.set_mode((0,0),pygame.FULLSCREEN)\ncentre=window.get_rect().center\npygame.mouse.set_visible(False)\n\n#colours\nblack = (0, 0, 0)\nwhite = (255, 255, 255)\n\n\ntypes= '*.tif'\nartfile_names= []\nfor files in types:\n    artfile_names.extend(glob.glob(files))\n\nimage_list = []\nfor artwork in artfile_names:\n    image_list.append(pygame.image.load(artwork).convert())\n\n##Randomizing\nindex=0\ncurrent_image = image_list[index]\n\nif image_list[index]&gt;= 150:\n    index=0\n\nstimulus= pygame.image.load('image_list')\nsoundPlay=True\ndef artwork():\n    window.blit(stimulus,pygame.FULLSCREEN)\n\nwhile not soundPlay:\n    for imageEvent in pygame.event.get():\n        artwork()\n        pygame.display.update()\n        clock.tick()\n</code></pre>\n"}, {"tags": ["python", "python-3.5", "centos7", "torch", "pytorch"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1510780052, "post_id": 47317141, "comment_id": 81585524, "body": "<code>&gt;&gt;&gt; help(torch)</code> or <code>&gt;&gt;&gt; torch</code> or <code>&gt;&gt;&gt; dir(torch)</code>, etc. you have more information than us"}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1510780116, "post_id": 47317141, "comment_id": 81585556, "body": "Here&#39;s it: <code>Help on package torch:  NAME     torch  PACKAGE CONTENTS   FILE     (built-in)  (END)</code>"}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1510781210, "post_id": 47317141, "comment_id": 81586109, "body": "<code>&gt;&gt;&gt; torch &lt;module &#39;torch&#39; (namespace)&gt;</code>"}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1510781264, "post_id": 47317141, "comment_id": 81586132, "body": "<code>&gt;&gt;&gt; dir(torch); [&#39;__doc__&#39;, &#39;__loader__&#39;, &#39;__name__&#39;, &#39;__package__&#39;, &#39;__path__&#39;, &#39;__spec__&#39;] </code>"}, {"owner": {"reputation": 2016, "user_id": 6076729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-4HZYb101vrI/AAAAAAAAAAI/AAAAAAAAHP0/F4XjN3SAfq4/photo.jpg?sz=128", "display_name": "Manuel Lagunas", "link": "https://stackoverflow.com/users/6076729/manuel-lagunas"}, "edited": false, "score": 0, "creation_date": 1510786817, "post_id": 47317141, "comment_id": 81588712, "body": "Try to dive into your python folder and find the torch library to check what went wrong"}, {"owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "edited": false, "score": 0, "creation_date": 1510807606, "post_id": 47317141, "comment_id": 81594435, "body": "uninstall pytorch completely and install again. otherwise finding the error will be tedious."}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "reply_to_user": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "edited": false, "score": 0, "creation_date": 1511387266, "post_id": 47317141, "comment_id": 81843960, "body": "@WasiAhmad I tried and did not work..."}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "reply_to_user": {"reputation": 2016, "user_id": 6076729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-4HZYb101vrI/AAAAAAAAAAI/AAAAAAAAHP0/F4XjN3SAfq4/photo.jpg?sz=128", "display_name": "Manuel Lagunas", "link": "https://stackoverflow.com/users/6076729/manuel-lagunas"}, "edited": false, "score": 0, "creation_date": 1511387282, "post_id": 47317141, "comment_id": 81843967, "body": "@ManuelLagunas Thanks but I don&#39;t know how to do that..."}, {"owner": {"reputation": 5515, "user_id": 4946896, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbe7e09627974c401e4eca85d23cefe5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4946896/rafael"}, "edited": false, "score": 0, "creation_date": 1511387827, "post_id": 47317141, "comment_id": 81844204, "body": "How did you tried to install <code>PyTorch</code>?"}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "reply_to_user": {"reputation": 5515, "user_id": 4946896, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbe7e09627974c401e4eca85d23cefe5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4946896/rafael"}, "edited": false, "score": 0, "creation_date": 1511388428, "post_id": 47317141, "comment_id": 81844460, "body": "@Rafael I used conda"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1511395920, "post_id": 47317141, "comment_id": 81846788, "body": "What does <code>torch.__path__</code> give you?"}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1518820053, "post_id": 47317141, "comment_id": 84676224, "body": "@TarunLalwani It returns <code>&#39;&#47;home&#47;davide&#47;torch&#39;</code>"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1518846294, "post_id": 47317141, "comment_id": 84681049, "body": "Please rename that folder <code>&#47;home&#47;davide&#47;torch</code> to something else and try again. It may be interfering with the original torch package"}, {"owner": {"reputation": 5993, "user_id": 1609514, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e62d27c486199ea834abd203fbb841b?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1609514/bill"}, "edited": false, "score": 0, "creation_date": 1526844903, "post_id": 47317141, "comment_id": 87891370, "body": "@DavideChicco.it what version of torch have you installed?  I am finding similar issues using version <code>0.4.0</code> where features in the pytorch tutorials do not exist in this version."}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "reply_to_user": {"reputation": 5993, "user_id": 1609514, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e62d27c486199ea834abd203fbb841b?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1609514/bill"}, "edited": false, "score": 0, "creation_date": 1526933537, "post_id": 47317141, "comment_id": 87925373, "body": "@Bill Unfortunately, I was unable to solve the problem. I will not edit the original Torch package, nor remove it. If you find a solution, please post it here. Thanks"}, {"owner": {"reputation": 5993, "user_id": 1609514, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e62d27c486199ea834abd203fbb841b?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1609514/bill"}, "edited": false, "score": 0, "creation_date": 1526948594, "post_id": 47317141, "comment_id": 87929808, "body": "@DavideChicco.it I was trying to find out what version of pytorch you had this problem with."}], "answers": [{"comments": [{"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 1, "creation_date": 1518820109, "post_id": 47457330, "comment_id": 84676242, "body": "Thanks, but it does not work. I followed all your steps but nothing changed. Additional ideas?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1518822913, "post_id": 47457330, "comment_id": 84677157, "body": "@DavideChicco it can you create a pastie or gist with your output, so we can diagnose what might be going wrong? Does <code>python3.5 -m pip freeze</code> list torch at all?"}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1519051401, "post_id": 47457330, "comment_id": 84740507, "body": "Here&#39;s the output of <code>python3.5 -m -pip freeze</code>: <code>python3.5 -m pip freeze numexpr==2.6.1 numpy==1.11.1 olefile==0.44 pandas==0.18.1 Pillow==4.3.0 python-dateutil==2.5.3 pytz==2016.6.1 PyYAML==3.12 scikit-learn==0.17.1 scipy==0.17.1 six==1.10.0 tables==3.2.3.1 torch==0.2.0.post3 torchvision==0.1.9</code>"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1519052098, "post_id": 47457330, "comment_id": 84740934, "body": "@DavideChicco.it: so <code>torch</code> is there as version <code>0.2.0.post3</code>. Does <code>python3.5 -c &#39;import torch&#39;</code> still produce the traceback in your question?"}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1519142100, "post_id": 47457330, "comment_id": 84783480, "body": "<code>python3.5 -c &#39;import torch&#39;</code> to works fine. Also <code>import torch</code> from the Python3.5 shell works fine. Any idea? Thanks"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1519331103, "post_id": 47457330, "comment_id": 84879889, "body": "@DavideChicco.it: I thought I had already responded, sorry for the delay. I asked for the wrong thing, <code>import torch</code> clearly worked before. What does <code>python3.5 -c &#39;import torch; print(torch)</code> produce? Does <code>torch.Torch</code> still fail with an attribute error?"}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1519333094, "post_id": 47457330, "comment_id": 84880919, "body": "Thanks for your interest. <code>python3.5 -c &#39;import torch; print(torch)</code> prints nothing. <code>torch.Torch</code> prints/does nothing."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1519396948, "post_id": 47457330, "comment_id": 84907010, "body": "@DavideChicco.it: that&#39;s.. <b>very</b> unexpected. <code>torch.Torch</code> is not a valid attribute (I meant to ask for <code>torch.Tensor</code>). Even the first one should produce output. I see I missed out a closing <code>&#39;</code> quote, so perhaps the shell is waiting for more input. The correct commands are <code>python3.5 -c &#39;import torch; print(torch)&#39;</code> and <code>python3.5 -c &#39;import torch; print(torch.Tensor)</code>. If the latter produces an attribute error, then the first one tells us what was imported instead of the expected package."}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1520007852, "post_id": 47457330, "comment_id": 85152121, "body": "Thanks. I ran <code>python3.5 -c &#39;import torch; print(torch)&#39;</code> and I got: <code>&lt;module &#39;torch&#39; from &#39;&#47;home&#47;davide&#47;torch&#47;__init__.py&#39;&gt;</code>. I ran <code>python3.5 -c &#39;import torch; print(torch.Tensor)</code> and got <code>Traceback (most recent call last): File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt; AttributeError: module &#39;torch&#39; has no attribute &#39;Tensor&#39;</code>. Any suggestion?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1520008200, "post_id": 47457330, "comment_id": 85152344, "body": "@DavideChicco.it: that&#39;s a change from before, you now have a <code>torch</code> package <i>in your homedirectory</i>. What is <code>&#47;home&#47;davide&#47;torch&#47;</code> and why is there a <code>__init__.py</code> file in it? It is now masking the versions installed by <code>pip</code>."}, {"owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1520012368, "post_id": 47457330, "comment_id": 85154830, "body": "<code>&#47;home&#47;davide&#47;torch&#47;</code> is my normal install folder for Torch. I think my problems might come up because I have installed Torch years ago and now I&#39;m trying to install PyTorch, and there might be some conflict. What should I do? Thanks"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1520014435, "post_id": 47457330, "comment_id": 85155921, "body": "@DavideChicco.it rename or move that folder."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1520441214, "post_id": 47457330, "comment_id": 85319040, "body": "@DavideChicco.it: You don&#39;t need to have Lua Torch installed to run PyTorch. Also, Python only adds <code>.</code> (the current working directory) to the Python path, so if you changed directories to somewhere else (<code>mkdir pytorch_workarea; cd pytorch_workarea</code>) then Python would also not try to import <code>torch</code> from the home directory."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "edited": false, "score": 0, "creation_date": 1520441297, "post_id": 47457330, "comment_id": 85319098, "body": "@DavideChicco.it: Last but not least, it is safe to rename the <code>torch</code> directory in your home directory. You can then edit the <code>. &#47;home&#47;davide&#47;torch&#47;bin&#47;torch-activate</code> line in your <code>&#47;home&#47;davide&#47;.bashrc</code> file to point  to the new directory name, and re-run the <code>.&#47;install.sh -s</code> in the Lua Torch directory to update any local paths."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 13, "last_activity_date": 1520008730, "last_edit_date": 1520008730, "creation_date": 1511445828, "answer_id": 47457330, "question_id": 47317141, "link": "https://stackoverflow.com/questions/47317141/pytorch-attributeerror-module-torch-has-no-attribute-tensor/47457330#47457330", "title": "pytorch, AttributeError: module &#39;torch&#39; has no attribute &#39;Tensor&#39;", "body": "<p>The Python binary that you are running does not have <code>torch</code> installed. It <em>does</em> have a directory named <code>torch</code> on the module search path, and it is treated as a <a href=\"https://www.python.org/dev/peps/pep-0420/\" rel=\"nofollow noreferrer\">namespace package</a>:</p>\n\n<pre><code>$ pwd\n/some/path\n$ python3 -c 'import torch; print(torch); print(torch.__path__)'\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\nModuleNotFoundError: No module named 'torch'\n$ mkdir torch\n$ python3 -c 'import torch; print(torch); print(torch.__path__)'\n&lt;module 'torch' (namespace)&gt;\n_NamespacePath(['/some/path/torch'])\n</code></pre>\n\n<p>Any directory without a <code>__init__.py</code> file present in it, located on your module search path, will be treated as a namespace, provided <em>no other Python modules or packages by that name are found</em> anywhere else along the search path.</p>\n\n<p>This means that if <code>torch</code> was installed for your Python binary, it doesn't matter if there is a local <code>torch</code> directory:</p>\n\n<pre><code>$ ls -ld torch/\ndrwxr-xr-x  2 mjpieters users  68 Nov 23 13:57 torch/\n$ mkdir -p additional_path/torch/\n$ touch additional_path/torch/__init__.py\n$ PYTHONPATH=\"./additional_path\" python3 -c 'import os.path as p, sys; print(*(t for t in (p.join(e, \"torch\") for e in sys.path) if p.exists(t)), sep=\"\\n\")'\ntorch\n/some/path/additional_path/torch\n$ PYTHONPATH=\"./additional_path\" python3 -c 'import torch; print(torch); print(torch.__path__)'\n&lt;module 'torch' from '/some/path/additional_path/torch/__init__.py'&gt;\n['/some/path/additional_path/torch']\n</code></pre>\n\n<p>The above shows that <code>sys.path</code> lists the <code>torch</code> directory first, followed by <code>additional_path/torch</code>, but the latter is loaded as the <code>torch</code> module when you try to import it. That's because Python gives priority to top-level modules and packages before loading a namespace package.</p>\n\n<p>You need to install torch correctly for your current Python binary, see the <a href=\"http://pytorch.org/\" rel=\"nofollow noreferrer\">project homepage</a>; when using <code>pip</code> you may want to use the Python binary with the <code>-m</code> switch instead:</p>\n\n<pre><code>python3.5 -m pip install http://download.pytorch.org/whl/cu80/torch-0.2.0.post3-cp35-cp35m-manylinux1_x86_64.whl \npython3.5 -m pip install torchvision\n</code></pre>\n\n<p>So replace the <code>pip3</code> the homepage instructions use with <code>python3.5 -m pip</code>; <code>python3.5</code> can also be the full path to your Python binary.</p>\n\n<p>Do use the correct <code>download.pytorch.org</code> URL for the latest version.</p>\n\n<p>You don't have to move the directory aside, but if you do want to and don't know where it is located, use <code>print(torch.__path__)</code> as I've shown above.</p>\n\n<p>Again, note that if you <em>do</em> have an <code>__init__.py</code> file in a local <code>torch</code> directory, it becomes a regular package and it'll mask packages installed by <code>pip</code> into the normal <code>site-packages</code> location. If you have such a package, or a local <code>torch.py</code> single-file module, you need to rename those. The diagnostic information looks different in that case:</p>\n\n<pre><code>$ pwd\n/some/path\n$ python3 -c 'import torch; print(torch); print(torch.__path__)'\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\nModuleNotFoundError: No module named 'torch'\n$ mkdir torch\n$ touch torch/__init__.py  # make it a package\n$ python3 -c 'import torch; print(torch); print(torch.__path__)'\n&lt;module 'torch' from '/some/path/torch/__init__.py'&gt;\n['/some/path/torch']\n$ rm -rf torch/\n$ touch torch.py           # make it a module\n$ python3 -c 'import torch; print(torch); print(torch.__file__)'\n&lt;module 'torch' from '/some/path/torch.py'&gt;\n/some/path/torch.py\n</code></pre>\n\n<p>Note the differences; a namespace package, above, uses <code>&lt;module 'name' (namespace)&gt;</code>, while a regular package uses <code>)</code><code>, while a plain module uses</code>`. </p>\n\n<p>Such packages and modules (not namespace packages) are found first and stop the search. If the found package or module is not the one you wanted, you need to move them aside or rename them.</p>\n"}, {"tags": [], "owner": {"reputation": 5800, "user_id": 6163736, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/TKHBG.jpg?s=128&g=1", "display_name": "stacksonstacks", "link": "https://stackoverflow.com/users/6163736/stacksonstacks"}, "is_accepted": false, "score": 0, "last_activity_date": 1519371484, "creation_date": 1519371484, "answer_id": 48943242, "question_id": 47317141, "link": "https://stackoverflow.com/questions/47317141/pytorch-attributeerror-module-torch-has-no-attribute-tensor/48943242#48943242", "title": "pytorch, AttributeError: module &#39;torch&#39; has no attribute &#39;Tensor&#39;", "body": "<p>Looks like the notebook is running with <code>python2</code>.<br>\nSee the <code>metadata</code> section of the <a href=\"https://raw.githubusercontent.com/mila-udem/welcome_tutorials/master/pytorch/1.%20The%20Torch%20Tensor%20Library%20and%20Basic%20Operations.ipynb\" rel=\"nofollow noreferrer\">notebook file</a> (open in a text editor)</p>\n\n<pre><code> \"metadata\": {\n  \"kernelspec\": {\n   \"display_name\": \"Python 2\",\n   \"language\": \"python\",\n   \"name\": \"python2\"\n  },\n  \"language_info\": {\n   \"codemirror_mode\": {\n    \"name\": \"ipython\",\n    \"version\": 2\n   },\n   \"file_extension\": \".py\",\n   \"mimetype\": \"text/x-python\",\n   \"name\": \"python\",\n   \"nbconvert_exporter\": \"python\",\n   \"pygments_lexer\": \"ipython2\",\n   \"version\": \"2.7.13\"\n  }\n }\n</code></pre>\n\n<p><br>\n<strong>FIX</strong><br>\n1. Ensure the <code>python3.5</code> kernel for ipython/jupyter is installed:<br>\n<code>python3.5 -m ipykernel install --name python3.5.1</code><br>\n<br>\n2. Run <code>jupyter notebook</code> and change kernel version in the notebook:<br>\n<a href=\"https://i.stack.imgur.com/GauaC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GauaC.png\" alt=\"enter image description here\"></a></p>\n\n<p><br>\n<br>\nor hackily edit the <code>&lt;notebook.ipynb&gt;</code> directly (not recommended):  </p>\n\n<pre><code> \"metadata\": {\n  \"kernelspec\": {\n   \"display_name\": \"Python 3.5.1\",\n   \"language\": \"python\",\n   \"name\": \"python3.5.1\"\n  },\n  \"language_info\": {\n   \"codemirror_mode\": {\n    \"name\": \"ipython\",\n    \"version\": 3\n   },\n   \"file_extension\": \".py\",\n   \"mimetype\": \"text/x-python\",\n   \"name\": \"python\",\n   \"nbconvert_exporter\": \"python\",\n   \"pygments_lexer\": \"ipython3\",\n   \"version\": \"3.5.1\"\n  }\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12703284, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/0b4af18146609b09f98685a1bb1c6a97?s=128&d=identicon&r=PG", "display_name": "user12703284", "link": "https://stackoverflow.com/users/12703284/user12703284"}, "is_accepted": false, "score": -1, "last_activity_date": 1578910759, "last_edit_date": 1578910759, "creation_date": 1578907673, "answer_id": 59713714, "question_id": 47317141, "link": "https://stackoverflow.com/questions/47317141/pytorch-attributeerror-module-torch-has-no-attribute-tensor/59713714#59713714", "title": "pytorch, AttributeError: module &#39;torch&#39; has no attribute &#39;Tensor&#39;", "body": "<p>I got the same question, one .py works well and another report this error.\nTry to run the following command:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import torch\nprint(torch.__path__)\nIf (you get a wrong path): \n  then you know what you need to do.\nElse if (even can not get the path printed): \n  just remove the temp file of your IDE\uff08.idea or __pycache__\uff09. \n</code></pre>\n\n<p>I do not know why, but it works for me. I hope it helps.</p>\n"}, {"comments": [{"owner": {"reputation": 894, "user_id": 4410133, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh6.googleusercontent.com/-Wsd24rhvY3k/AAAAAAAAAAI/AAAAAAAAAOY/zuzuR7SNY0A/photo.jpg?sz=128", "display_name": "Dave Kielpinski", "link": "https://stackoverflow.com/users/4410133/dave-kielpinski"}, "edited": false, "score": 2, "creation_date": 1585003986, "post_id": 60822529, "comment_id": 107611559, "body": "this answer needs more detail. suggest you include your python version and OS version at the very least"}], "tags": [], "owner": {"reputation": 1, "user_id": 13112695, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/2c999118f54661abe15ef504dcc92734?s=128&d=identicon&r=PG", "display_name": "Sarthak", "link": "https://stackoverflow.com/users/13112695/sarthak"}, "is_accepted": false, "score": 0, "last_activity_date": 1585003231, "creation_date": 1585003231, "answer_id": 60822529, "question_id": 47317141, "link": "https://stackoverflow.com/questions/47317141/pytorch-attributeerror-module-torch-has-no-attribute-tensor/60822529#60822529", "title": "pytorch, AttributeError: module &#39;torch&#39; has no attribute &#39;Tensor&#39;", "body": "<p>I Faced similar issue. \nJust install pytorch in new conda environment. It will work\nYou may have to install jupyter in new conda environment again, if you want to work on jupyter notebook.</p>\n"}], "owner": {"reputation": 2568, "user_id": 1082019, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e229d00ce8dc85556c2bc2978bb1b7c4?s=128&d=identicon&r=PG", "display_name": "DavideChicco.it", "link": "https://stackoverflow.com/users/1082019/davidechicco-it"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35006, "favorite_count": 2, "answer_count": 4, "score": 17, "last_activity_date": 1585003231, "creation_date": 1510779599, "question_id": 47317141, "link": "https://stackoverflow.com/questions/47317141/pytorch-attributeerror-module-torch-has-no-attribute-tensor", "title": "pytorch, AttributeError: module &#39;torch&#39; has no attribute &#39;Tensor&#39;", "body": "<p>I'm working with <strong>Python 3.5.1</strong> on a computer having <strong>CentOS Linux 7.3.1611</strong> (Core) operating system.</p>\n\n<p>I'm trying to use <strong>PyTorch</strong> and I'm getting started with <a href=\"https://github.com/mila-udem/welcome_tutorials/blob/master/pytorch/1.%20The%20Torch%20Tensor%20Library%20and%20Basic%20Operations.ipynb\" rel=\"noreferrer\">this tutorial</a>.</p>\n\n<p>Unfortunately, the #4 line of the example creates troubles:</p>\n\n<pre><code>&gt;&gt;&gt; torch.Tensor(5, 3)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: module 'torch' has no attribute 'Tensor'\n</code></pre>\n\n<p>I cannot understand this error... of course in Torch the 'torch' does have an attribute 'Tensor'. The same command works in Torch.</p>\n\n<p>How can I solve this problem?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 4337, "user_id": 649727, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1cb3b3d7e0ccce5f039c37f9bd85de11?s=128&d=identicon&r=PG", "display_name": "phynfo", "link": "https://stackoverflow.com/users/649727/phynfo"}, "edited": false, "score": 0, "creation_date": 1510779352, "post_id": 47317047, "comment_id": 81585124, "body": "Python 4.7? Is this the number of an exercise? Surely not the language version ..."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 3, "creation_date": 1510779367, "post_id": 47317047, "comment_id": 81585134, "body": "Python 4.7? You may be asking from the future. However, we do not do homeworks."}, {"owner": {"reputation": 4337, "user_id": 649727, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1cb3b3d7e0ccce5f039c37f9bd85de11?s=128&d=identicon&r=PG", "display_name": "phynfo", "link": "https://stackoverflow.com/users/649727/phynfo"}, "edited": false, "score": 1, "creation_date": 1510779408, "post_id": 47317047, "comment_id": 81585159, "body": "Just use the <code>count</code>-method from class <code>list</code>: <code>[1,1,2,1].count(1)</code> for example"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 3, "creation_date": 1510779472, "post_id": 47317047, "comment_id": 81585198, "body": "Do not be too harsh. First time asking a question. Give him some advice."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510779661, "post_id": 47317047, "comment_id": 81585304, "body": "Answered and someone please edit the title and write 2.7"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 1, "creation_date": 1510780472, "post_id": 47317047, "comment_id": 81585734, "body": "@alexisdevarennes Leave the title as it is. Editing it will make all these comments off-topic."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1510779969, "post_id": 47317108, "comment_id": 81585476, "body": "Calling <code>count</code> in a loop requires a separate pass over the input for every <code>count</code> call. It&#39;s catastrophically slow for inputs with a lot of distinct items."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1510780173, "post_id": 47317108, "comment_id": 81585579, "body": "Catastrophically means its time complexity in O(n) where n is length of list."}, {"owner": {"reputation": 12982, "user_id": 7668911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6VtZT.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/7668911/neil"}, "edited": false, "score": 1, "creation_date": 1510781668, "post_id": 47317108, "comment_id": 81586333, "body": "No, I&#39;m pretty sure this would be O(n^2) worst case scenario.  Let&#39;s say we have a list of unique values, then we are looping through each value in the <code>list</code>.  Then we have to loop (again) over each item to get the count of the item for every item in the list."}, {"owner": {"reputation": 12982, "user_id": 7668911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6VtZT.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/7668911/neil"}, "edited": false, "score": 0, "creation_date": 1510782042, "post_id": 47317108, "comment_id": 81586521, "body": "@alexisdevarennes While I do appreciate the gesture, it doesn&#39;t fix the underlying issue.  What if every value is unique in the list, except there is 1 duplicate.  Still it would have to iterate over it in an n^2 manner."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 12982, "user_id": 7668911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6VtZT.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/7668911/neil"}, "edited": false, "score": 0, "creation_date": 1510782096, "post_id": 47317108, "comment_id": 81586553, "body": "@nfnneil I was talking about the <code>count()</code> method time complexity. I forgot to write <code>count()</code>. You are right. <code>else</code> block time complexity is O(n^2) in the worst case scenario."}, {"owner": {"reputation": 12982, "user_id": 7668911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6VtZT.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/7668911/neil"}, "edited": false, "score": 0, "creation_date": 1510782321, "post_id": 47317108, "comment_id": 81586664, "body": "@alexisdevarennes Here is a similar version with a time complexity of O(n):  <a href=\"https://pastebin.com/LiP93Buj\" rel=\"nofollow noreferrer\">pastebin.com/LiP93Buj</a> .  Note: <code>item in di</code> is O(1)."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "reply_to_user": {"reputation": 12982, "user_id": 7668911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6VtZT.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/7668911/neil"}, "edited": false, "score": 0, "creation_date": 1510783028, "post_id": 47317108, "comment_id": 81587043, "body": "@nfnneil I added your version, I hope that is OK"}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510783035, "post_id": 47317108, "comment_id": 81587049, "body": "I also did some benchmarks"}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510783055, "post_id": 47317108, "comment_id": 81587062, "body": "<a href=\"https://pastebin.com/S8X2g2tm\" rel=\"nofollow noreferrer\">pastebin.com/S8X2g2tm</a>"}, {"owner": {"reputation": 12982, "user_id": 7668911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6VtZT.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/7668911/neil"}, "edited": false, "score": 0, "creation_date": 1510783311, "post_id": 47317108, "comment_id": 81587172, "body": "You may want to automatically generate a much larger list of random numbers to get a more accurate read.  But, anyway,  good answer, upvoted."}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510783580, "post_id": 47317108, "comment_id": 81587297, "body": "<a href=\"https://pastebin.com/dWS8UH7c\" rel=\"nofollow noreferrer\">pastebin.com/dWS8UH7c</a>"}], "tags": [], "owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "is_accepted": false, "score": 4, "last_activity_date": 1510784013, "last_edit_date": 1510784013, "creation_date": 1510779500, "answer_id": 47317108, "question_id": 47317047, "link": "https://stackoverflow.com/questions/47317047/python-4-7-how-to-count-the-frequency-of-specific-value-in-array/47317108#47317108", "title": "Python 4.7: How to count the frequency of specific value in array", "body": "<h1>I assume this will still be the case in python 4.7</h1>\n\n<p>Jokes aside, this will work in Python 2.7 (and 3 etc)</p>\n\n<p>Using count():</p>\n\n<pre><code>your_list = [1,1,2,3,4,5,6,7,8]\ndistinct_values = set(your_list)\nif len(distinct_values) == len(your_list)\n    print('All values have a tf count of 1')\nelse:\n    for distinct_value in distinct_values:\n        print('%s n occurences: %s' % (distinct_value, str(your_list.count(distinct_value))))\n</code></pre>\n\n<p>Using in (Solution provided by @nfn neil via comments):</p>\n\n<pre><code>your_list = [1,1,2,3,4,5,6,7,8]\ndi = {}\nfor item in your_list:\n    if item in di:\n        di[item] += 1\n    else:\n        di[item] = 1\nprint(di)\n</code></pre>\n\n<p>benchmarks running both variants 300 times with a list of 500 000 items:</p>\n\n<p>The runtime for using_in took 18.3120000362 seconds to complete</p>\n\n<p>The runtime for using_count took 743.9941547110 seconds to complete</p>\n\n<p>Benchmark code:</p>\n\n<p><a href=\"https://pastebin.com/dWS8UH7c\" rel=\"nofollow noreferrer\">https://pastebin.com/dWS8UH7c</a></p>\n"}, {"comments": [{"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510779704, "post_id": 47317158, "comment_id": 81585324, "body": "Nice way to do it!"}, {"owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 2, "creation_date": 1510779724, "post_id": 47317158, "comment_id": 81585340, "body": "Would upvote, but out of points. Still leaving my answer so he gets the logic behind it."}, {"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "reply_to_user": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "edited": false, "score": 0, "creation_date": 1510779888, "post_id": 47317158, "comment_id": 81585436, "body": "yours is better in the case that a human readable result is needed anyway :)"}], "tags": [], "owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "is_accepted": false, "score": 5, "last_activity_date": 1510779676, "creation_date": 1510779676, "answer_id": 47317158, "question_id": 47317047, "link": "https://stackoverflow.com/questions/47317047/python-4-7-how-to-count-the-frequency-of-specific-value-in-array/47317158#47317158", "title": "Python 4.7: How to count the frequency of specific value in array", "body": "<p>This exists natively in Python</p>\n\n<pre><code>from collections import Counter\n\nA = [1,1,1,1,1,2,2,2,3,3,3,3,3,4,4,4,4]\nB = Counter(A)\n</code></pre>\n\n<p>outputs <code>Counter({1: 5, 3: 5, 4: 4, 2: 3})</code></p>\n"}], "owner": {"reputation": 37, "user_id": 8947766, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209980625304497/picture?type=large", "display_name": "Jason Dougenis", "link": "https://stackoverflow.com/users/8947766/jason-dougenis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1381, "favorite_count": 0, "closed_date": 1510779695, "answer_count": 2, "score": -1, "last_activity_date": 1510784013, "creation_date": 1510779213, "question_id": 47317047, "link": "https://stackoverflow.com/questions/47317047/python-4-7-how-to-count-the-frequency-of-specific-value-in-array", "closed_reason": "Duplicate", "title": "Python 4.7: How to count the frequency of specific value in array", "body": "<p>Basically I have a list with 250 elements, some of them are 1 some 2 and some 3. How do I get a variable that represents the number of \u20181\u2019s ?</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 1, "creation_date": 1510779590, "post_id": 47317085, "comment_id": 81585274, "body": "And though it&#39;s not really related to your primary question, I&#39;d remark that <code>strip()</code> is redundant when you also <code>split()</code> (provided you don&#39;t pass arguments to <code>split()</code>)."}, {"owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "edited": false, "score": 0, "creation_date": 1510779790, "post_id": 47317085, "comment_id": 81585381, "body": "Thanks, I had forgotten that split also strips."}, {"owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "edited": false, "score": 0, "creation_date": 1510779890, "post_id": 47317085, "comment_id": 81585437, "body": "You&#39;re right about not needing the last <code>for</code>. I think it makes the code easier to read because I give the pieces names. I&#39;ve never measured for a speed difference, though."}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "reply_to_user": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "edited": false, "score": 1, "creation_date": 1510780170, "post_id": 47317085, "comment_id": 81585578, "body": "@Harvey Yeah, I doubt there&#39;s a significant performance difference. Personally, I find that 2 is usually my limit for nested <code>for</code> loops in comprehensions for readability, but it&#39;s certainly a matter of personal preference."}, {"owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "edited": false, "score": 0, "creation_date": 1510780299, "post_id": 47317085, "comment_id": 81585645, "body": "I&#39;ve done as many as 6 or so, but if you format them clearly and use easy to read statements, they usually make perfect sense to the coder coming behind you."}, {"owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "edited": false, "score": 0, "creation_date": 1510780362, "post_id": 47317085, "comment_id": 81585678, "body": "I wish there was an &quot;as&quot; statement in comprehensions so that last line could be <code>with line.split() as items</code>. Maybe <code>using</code> as a new keyword instead of <code>with</code>."}], "tags": [], "owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "is_accepted": false, "score": 1, "last_activity_date": 1510779421, "creation_date": 1510779421, "answer_id": 47317085, "question_id": 47317000, "link": "https://stackoverflow.com/questions/47317000/is-there-a-single-call-method-of-splitting-a-list-iterable-into-two-parts/47317085#47317085", "title": "Is there a single call method of splitting a list (iterable) into two parts?", "body": "<p>The only comment I'd make is that there's no real reason for your last <code>for</code> in that comprehension.</p>\n\n<pre><code>{items[0]:items[1:]\n for line in io.StringIO(txt_file)\n for items in (line.strip().split(),)}\n</code></pre>\n\n<p>And I don't know of a \"better\" way to split a list in two.</p>\n"}], "owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1510780940, "creation_date": 1510779041, "last_edit_date": 1510780940, "question_id": 47317000, "link": "https://stackoverflow.com/questions/47317000/is-there-a-single-call-method-of-splitting-a-list-iterable-into-two-parts", "title": "Is there a single call method of splitting a list (iterable) into two parts?", "body": "<p>Is there a built-in or Pythonic way to do this? Or maybe my question should be: Is there a better way to write the dictionary comprehension example at the end of this question?</p>\n\n<pre><code>def split_list(list, index):\n    return list[:index], list[index:]\n</code></pre>\n\n<p>I find myself needing to do this in list comprehensions where I get lists from some generator and want to split the lists into two pieces. For example, a text file like the following:</p>\n\n<pre><code>txt_file = \"\"\"key1 value value value value\nkey2 value value value value\n\"\"\"\nimport io\n{k:v\n for line in io.StringIO(txt_file)\n for items in (line.strip().split(),)\n for k, v in ((items[0], items[1:]),)}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'key1': ['value', 'value', 'value', 'value'],\n 'key2': ['value', 'value', 'value', 'value']}\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "logging"], "comments": [{"owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 0, "creation_date": 1510780743, "post_id": 47316999, "comment_id": 81585879, "body": "for a simple example, are you asking why for some <code>x = pd.Series(range(5))</code>, <code>np.log(x)</code> gives you a pandas Series and <code>np.diff(x)</code> gives you a numpy array?"}, {"owner": {"reputation": 407, "user_id": 2925833, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1f849d2a7e94e68bd2467d9f306ebb62?s=128&d=identicon&r=PG&f=1", "display_name": "MJMacarty", "link": "https://stackoverflow.com/users/2925833/mjmacarty"}, "reply_to_user": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 0, "creation_date": 1510781518, "post_id": 47316999, "comment_id": 81586256, "body": "Yes that&#39;s right"}, {"owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 0, "creation_date": 1510781772, "post_id": 47316999, "comment_id": 81586380, "body": "I would just ask the simpler question then.  I don&#39;t know the answer, but you are more likely to get help with a simple reproducible question that doesn&#39;t require someone to <code>pip install pandas_datareader</code>"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1510781930, "post_id": 47316999, "comment_id": 81586461, "body": "What is your Pandas and Numpy versions? Your code is working just fine for me (Pandas 0.21, Numpy 1.13.3)"}, {"owner": {"reputation": 407, "user_id": 2925833, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1f849d2a7e94e68bd2467d9f306ebb62?s=128&d=identicon&r=PG&f=1", "display_name": "MJMacarty", "link": "https://stackoverflow.com/users/2925833/mjmacarty"}, "edited": false, "score": 0, "creation_date": 1510784081, "post_id": 47316999, "comment_id": 81587559, "body": "You mean you get a Series with as the result of both change and another_change? With the date index preserved? I have the same version of numpy and pandas 0.20.3"}], "answers": [{"tags": [], "owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "is_accepted": true, "score": 2, "last_activity_date": 1510782985, "last_edit_date": 1510782985, "creation_date": 1510782298, "answer_id": 47317809, "question_id": 47316999, "link": "https://stackoverflow.com/questions/47316999/alternate-methods-of-computing-log-change-yield-different-structures/47317809#47317809", "title": "alternate methods of computing log change yield different structures", "body": "<p>I can't find documentation to back this up, but it seems that the type returned is being converted to <code>ndarray</code> when there's a reduction in dimension from the <code>Series</code> input. This happens with <code>diff</code> but not with <code>log</code>. </p>\n\n<p>Taking the simple example:</p>\n\n<pre><code>x = pd.Series(range(5))\n\nchange = np.log(x / x.shift(1)) # Series of float64 of length 5\n\nanother_change = np.diff(np.log(x)) # array of float64 of length 4\n</code></pre>\n\n<p>We can observe that <code>x / x.shift(1)</code> is still a 5-element Series (even though elements 0 and 1 are <code>NaN</code> and <code>inf</code>)  So <code>np.log</code>, which doesn't reduce dimension, will still return a 5-element something, which matches the dimensionality of <code>x</code>.</p>\n\n<p>However, <code>np.diff</code> does reduce dimension -- it is <strong>supposed to</strong> return (according to <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.diff.html\" rel=\"nofollow noreferrer\">doc</a>) </p>\n\n<blockquote>\n  <p><strong>diff</strong> : <em>ndarray</em>\n  The n-th differences. The shape of the output is the same as a except along axis where the dimension is smaller by n. [...]</p>\n</blockquote>\n\n<p>The next sentence appears in the above doc for numpy 1.13 but not <a href=\"https://docs.scipy.org/doc/numpy-1.12.0/reference/generated/numpy.diff.html\" rel=\"nofollow noreferrer\">1.12</a> and earlier:</p>\n\n<blockquote>\n  <p>[...] The type of the output is the same as that of the input.</p>\n</blockquote>\n\n<p>So the type of the output is still an array-like structure, but because of the dimension being reduced, perhaps it doesn't get re-converted to a Series (the array-like input).  At least in versions 1.12 and earlier. </p>\n\n<p>That's my best guess.</p>\n"}], "owner": {"reputation": 407, "user_id": 2925833, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1f849d2a7e94e68bd2467d9f306ebb62?s=128&d=identicon&r=PG&f=1", "display_name": "MJMacarty", "link": "https://stackoverflow.com/users/2925833/mjmacarty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 47317809, "answer_count": 1, "score": 1, "last_activity_date": 1510782985, "creation_date": 1510779038, "last_edit_date": 1510781689, "question_id": 47316999, "link": "https://stackoverflow.com/questions/47316999/alternate-methods-of-computing-log-change-yield-different-structures", "title": "alternate methods of computing log change yield different structures", "body": "<p>Can anyone explain why the second method of computing log change yields a numpy array, discarding the index instead of DataFrame? If I specify DataFrame I get one with integer based index.  The first method works as desired. Thanks for any insight.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport pandas_datareader as pdr\naapl = pdr.get_data_yahoo('AAPL')\nclose = pd.DataFrame(aapl['Close'])\nchange = np.log(close['Close'] / close['Close'].shift(1))\nanother_change = np.diff(np.log(close['Close']))\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pysnmp"], "comments": [{"owner": {"reputation": 5210, "user_id": 1175029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v80j0.jpg?s=128&g=1", "display_name": "Ilya Etingof", "link": "https://stackoverflow.com/users/1175029/ilya-etingof"}, "edited": false, "score": 0, "creation_date": 1510794480, "post_id": 47316917, "comment_id": 81591026, "body": "Try <code>varBind[1].prettyPrint()</code> to get the named value. Although I am not sure what is your ultimate goal wrt the dissection. Do you want to get hold of MIB name, MIB object and possible indices?"}, {"owner": {"reputation": 167, "user_id": 2935526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbadd5fa3a9b0b085d9c97ea98d7024a?s=128&d=identicon&r=PG&f=1", "display_name": "luke_16", "link": "https://stackoverflow.com/users/2935526/luke-16"}, "reply_to_user": {"reputation": 5210, "user_id": 1175029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v80j0.jpg?s=128&g=1", "display_name": "Ilya Etingof", "link": "https://stackoverflow.com/users/1175029/ilya-etingof"}, "edited": false, "score": 0, "creation_date": 1510831888, "post_id": 47316917, "comment_id": 81607658, "body": "I had already tried it, but in fact it complains that one positional argument is missing. So I even tried <code>varBind[1].prettyPrint(varBind[1])</code> which still gives me <code>1</code>"}, {"owner": {"reputation": 167, "user_id": 2935526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbadd5fa3a9b0b085d9c97ea98d7024a?s=128&d=identicon&r=PG&f=1", "display_name": "luke_16", "link": "https://stackoverflow.com/users/2935526/luke-16"}, "reply_to_user": {"reputation": 5210, "user_id": 1175029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v80j0.jpg?s=128&g=1", "display_name": "Ilya Etingof", "link": "https://stackoverflow.com/users/1175029/ilya-etingof"}, "edited": false, "score": 0, "creation_date": 1510848898, "post_id": 47316917, "comment_id": 81620029, "body": "And how to get the names of the indexes (<code>myTimeStamp</code> and <code>myName</code>) when looping through them?"}, {"owner": {"reputation": 167, "user_id": 2935526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbadd5fa3a9b0b085d9c97ea98d7024a?s=128&d=identicon&r=PG&f=1", "display_name": "luke_16", "link": "https://stackoverflow.com/users/2935526/luke-16"}, "reply_to_user": {"reputation": 5210, "user_id": 1175029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v80j0.jpg?s=128&g=1", "display_name": "Ilya Etingof", "link": "https://stackoverflow.com/users/1175029/ilya-etingof"}, "edited": false, "score": 0, "creation_date": 1510854351, "post_id": 47316917, "comment_id": 81623656, "body": "@Ilya &quot;Do you want to get hold of MIB name, MIB object and possible indices?&quot; Yes, and values, named-values when existent."}], "answers": [{"tags": [], "owner": {"reputation": 5210, "user_id": 1175029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v80j0.jpg?s=128&g=1", "display_name": "Ilya Etingof", "link": "https://stackoverflow.com/users/1175029/ilya-etingof"}, "is_accepted": true, "score": 1, "last_activity_date": 1510908683, "creation_date": 1510908683, "answer_id": 47346579, "question_id": 47316917, "link": "https://stackoverflow.com/questions/47316917/how-to-properly-get-table-row-indexes-and-named-values-from-trapped-var-binds-in/47346579#47346579", "title": "How to properly get table-row indexes and named values from trapped var-binds in pysnmp", "body": "<p>To resolve SNMP PDU var-bindings against a MIB you can use <a href=\"http://snmplabs.com/pysnmp/examples/smi/manager/browsing-mib-tree.html#pdu-var-binds-to-mib-objects\" rel=\"nofollow noreferrer\">this snippet</a> what I think you have done already:</p>\n\n<pre><code>from pysnmp.smi.rfc1902 import *\n\nvar_binds = [ObjectType(ObjectIdentity(x[0]), x[1]).resolveWithMib(mibViewController)\n            for x in var_binds]\n</code></pre>\n\n<p>By this point you have a list of <a href=\"http://snmplabs.com/pysnmp/docs/api-reference.html#pysnmp.smi.rfc1902.ObjectType\" rel=\"nofollow noreferrer\">rfc1902.ObjectType</a> objects. The <code>ObjectType</code> instance mimics a two-element tuple: <a href=\"http://snmplabs.com/pysnmp/docs/api-reference.html#pysnmp.smi.rfc1902.ObjectIdentity\" rel=\"nofollow noreferrer\">ObjectIdentity</a> and <a href=\"http://snmplabs.com/pysnmp/docs/api-reference.html#snmp-base-types\" rel=\"nofollow noreferrer\">SNMP value object</a>.</p>\n\n<pre><code>var_bind = var_binds[0]\nobject_identity, object_value = var_bind\n</code></pre>\n\n<p>Now, <a href=\"http://snmplabs.com/pysnmp/docs/api-reference.html#pysnmp.smi.rfc1902.ObjectIdentity.getMibSymbol\" rel=\"nofollow noreferrer\">getMibSymbol()</a> will give you MIB name, MIB object name and the tuple of indices made up from the trailing part of the OID. Index elements are <a href=\"http://snmplabs.com/pysnmp/docs/api-reference.html#snmp-base-types\" rel=\"nofollow noreferrer\">SNMP value objects</a> just as <code>object_value</code>:</p>\n\n<pre><code>&gt;&gt;&gt; object_identity.getMibSymbol()\n('SNMPv2-MIB', 'sysDescr', (0,))\n</code></pre>\n\n<p>The enumeration, should it present, is reported by <code>.prettyPrint()</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from pysnmp.proto.rfc1902 import *\n&gt;&gt;&gt; Error = Integer.withNamedValues(**{'disk-full': 1, 'no-disk': -1})\n&gt;&gt;&gt; error = Error(1)\n&gt;&gt;&gt; error.prettyPrint()\n'disk-full'\n&gt;&gt;&gt; int(error)\n1\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 2935526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbadd5fa3a9b0b085d9c97ea98d7024a?s=128&d=identicon&r=PG&f=1", "display_name": "luke_16", "link": "https://stackoverflow.com/users/2935526/luke-16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 805, "favorite_count": 0, "accepted_answer_id": 47346579, "answer_count": 1, "score": 0, "last_activity_date": 1511268206, "creation_date": 1510778695, "last_edit_date": 1511268206, "question_id": 47316917, "link": "https://stackoverflow.com/questions/47316917/how-to-properly-get-table-row-indexes-and-named-values-from-trapped-var-binds-in", "title": "How to properly get table-row indexes and named values from trapped var-binds in pysnmp", "body": "<p>I'm trying to keep my code as clean as possible but I'm not completely satisfied with what I achieved so far.</p>\n\n<p>I built a SNMP manager which receive traps from another device using a custom MIB, which I will refer to as MY-MIB.</p>\n\n<p>I am not sure this is the cleanest way, but essentially I have:</p>\n\n<pre><code>from pysnmp.entity import engine, config\nfrom pysnmp.carrier.asynsock.dgram import udp\nfrom pysnmp.entity.rfc3413 import ntfrcv, context\nfrom pysnmp.smi import builder, rfc1902\nfrom pysnmp.smi.view import MibViewController\nfrom pysnmp.entity.rfc3413 import mibvar\n\n_snmp_engine = engine.SnmpEngine()\n_snmpContext = context.SnmpContext(_snmpEngine)\n_mibBuilder = _snmpContext.getMibInstrum().getMibBuilder()\n#Add local path where MY-MIB is located\n_mibSources = _mibBuilder.getMibSources() + (builder.DirMibSource('.'),)\n_mibBuilder.setMibSources(*mibSources)\n_mibBuilder.loadModules('MY-MIB')\n_view_controller = MibViewController(_mibBuilder)    \n\n\ndef my_callback_trap_processor(snmp_engine, state_reference,\n                                   context_id, context_name, var_binds, ctx):\n\n    #...CALLBACK CODE...\n\n\nconfig.addV1System(snmp_engine, 'my-area', 'MYCOMMUNITY')\nconfig.addTargetParams(snmp_engine, 'my-creds', 'my-area',\n                       'noAuthNoPriv', 1)\n\nconfig.addSocketTransport(snmp_engine,\n                          udp.domainName + (1,),\n                          udp.UdpTransport().openServerMode((IP_ADDRESS,\n                                                             PORT)))\n\nntfrcv.NotificationReceiver(snmp_engine, my_callback_trap_processor)\n\nsnmp_engine.transportDispatcher.jobStarted(1)\n\ntry:\n    snmp_engine.transportDispatcher.runDispatcher()\nexcept:\n    snmp_engine.transportDispatcher.closeDispatcher()\n    raise\n</code></pre>\n\n<p>In the callback function above I can get a pretty intelligible print by just using the following code:</p>\n\n<pre><code>    varBinds = [rfc1902.ObjectType(rfc1902.ObjectIdentity(x[0]), x[1]).resolveWithMib(_view_controller) for x in var_binds]\n    for varBind in varBinds:\n        print(varBind.prettyPrint())\n</code></pre>\n\n<p>which, from a given trap that I receive, gives me:</p>\n\n<pre><code>SNMPv2-MIB::sysUpTime.0 = 0\nSNMPv2-MIB::snmpTrapOID.0 = MY-MIB::myNotificationType\nMY-MIB::myReplyKey.47746.\"ABC\" = 0x00000000000000000000000000000000000\nMY-MIB::myTime.0 = 20171115131544Z\nMY-MIB::myOperationMode.0 = 'standalone'\n</code></pre>\n\n<p>Nice. But I want to manipulate/dissect each bit of information from the given var-binds, especially in a higher level way.</p>\n\n<p>Looking at the innards of the library I was able to gather this code up:</p>\n\n<pre><code>for varBind in var_binds:   \n    objct = rfc1902.ObjectIdentity(varBind[0]).resolveWithMib(self._view_controller)\n    (symName, modName), indices = mibvar.oidToMibName(\n                self._view_controller, objct.getOid()\n                )\n    print(symName, modName, indices, varBind[1])\n</code></pre>\n\n<p>that gives me:</p>\n\n<pre><code>sysUpTime SNMPv2-MIB (Integer(0),) 0\nsnmpTrapOID SNMPv2-MIB (Integer(0),) 1.3.6.1.X.Y.Z.A.B.C.D\nmyReplyKey MY-MIB (myTimeStamp(47746), myName(b'X00080')) 0x00000000000000000000000000000000000\nmyTime MY-MIB (Integer(0),) 20171115131544Z\nmyOperationMode MY-MIB (Integer(0),) 1\n</code></pre>\n\n<p>and in the case of myReplyKey indexes I can just do a:</p>\n\n<pre><code>    for idx in indices:\n        try:\n            print(idx.getValue())\n        except AttributeError:\n            print(int(idx))\n</code></pre>\n\n<p>But in the case of the <code>myOperationMode</code> var-bind, how do I get the named-value <code>'standalone'</code> instead of <code>1</code>? And how to get the names of the indexes (<code>myTimeStamp</code> and <code>myName</code>)?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>After Ilya's suggestions I researched the library a little bit more for getting the namedValues and, also, I used some Python hacking to get what I was looking for on the indices.</p>\n\n<pre><code>varBinds = [rfc1902.ObjectType(rfc1902.ObjectIdentity(x[0]), x[1]).resolveWithMib(_view_controller) for x in var_binds]\nprocessed_var_binds = []\nfor var_bind in resolved_var_binds:   \n\n    object_identity, object_value = var_bind\n    mod_name, var_name, indices = object_identity.getMibSymbol()\n\n    var_bind_dict = {'mib': mod_name, 'name': var_name, 'indices': {}}\n\n    for idx in indices:\n        try:\n            value = idx.getValue()\n        except AttributeError:\n            var_bind_dict['indices'] = int(idx.prettyPrint())\n        else:\n            var_bind_dict['indices'][type(value).__name__] = str(value)\n\n    try:\n        var_bind_dict['value'] = object_value.namedValues[object_value]\n    except (AttributeError, KeyError):\n        try:\n            var_bind_dict['value'] = int(object_value.prettyPrint())\n        except ValueError:\n            var_bind_dict['value'] = object_value.prettyPrint()\n\n    processed_var_binds.append(var_bind_dict)\n</code></pre>\n"}, {"tags": ["python", "numpy", "machine-learning", "out-of-memory"], "comments": [{"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1510779133, "post_id": 47316912, "comment_id": 81585007, "body": "How can I reproduce this error?"}, {"owner": {"reputation": 63, "user_id": 8242605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75152389ea0d2ace7b502d5c54c9afd8?s=128&d=identicon&r=PG", "display_name": "Payden K. Pringle", "link": "https://stackoverflow.com/users/8242605/payden-k-pringle"}, "edited": false, "score": 0, "creation_date": 1510779228, "post_id": 47316912, "comment_id": 81585057, "body": "You&#39;re going to have to give us the exact error code, and more specifics about what you are doing for us to help you."}, {"owner": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 0, "creation_date": 1510779857, "post_id": 47316912, "comment_id": 81585423, "body": "plz show us your original error message?"}, {"owner": {"reputation": 5, "user_id": 4119612, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-LkJpHhAI5yU/AAAAAAAAAAI/AAAAAAAAACw/cwp2JS3T5pg/photo.jpg?sz=128", "display_name": "Samah", "link": "https://stackoverflow.com/users/4119612/samah"}, "reply_to_user": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1510787063, "post_id": 47316912, "comment_id": 81588780, "body": "@ElisByberi I updated my question to include the code and the error msg. Thank you"}, {"owner": {"reputation": 5, "user_id": 4119612, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-LkJpHhAI5yU/AAAAAAAAAAI/AAAAAAAAACw/cwp2JS3T5pg/photo.jpg?sz=128", "display_name": "Samah", "link": "https://stackoverflow.com/users/4119612/samah"}, "reply_to_user": {"reputation": 63, "user_id": 8242605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75152389ea0d2ace7b502d5c54c9afd8?s=128&d=identicon&r=PG", "display_name": "Payden K. Pringle", "link": "https://stackoverflow.com/users/8242605/payden-k-pringle"}, "edited": false, "score": 0, "creation_date": 1510787141, "post_id": 47316912, "comment_id": 81588804, "body": "@PaydenK.Pringle I provided the exact error msg and the code. Thank you"}, {"owner": {"reputation": 5, "user_id": 4119612, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-LkJpHhAI5yU/AAAAAAAAAAI/AAAAAAAAACw/cwp2JS3T5pg/photo.jpg?sz=128", "display_name": "Samah", "link": "https://stackoverflow.com/users/4119612/samah"}, "reply_to_user": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 0, "creation_date": 1510787206, "post_id": 47316912, "comment_id": 81588836, "body": "@DRPK I have added the error I got when running the script.Thank you"}], "answers": [{"tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1510780179, "creation_date": 1510780179, "answer_id": 47317301, "question_id": 47316912, "link": "https://stackoverflow.com/questions/47316912/memory-error-with-python-64bit/47317301#47317301", "title": "Memory error with python 64bit", "body": "<p>Just make the operation yourself : 264,549 * 21,000  * size of  a cell = ?</p>\n\n<p>Generally such data must be treated chunk by chunk.  </p>\n"}], "owner": {"reputation": 5, "user_id": 4119612, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-LkJpHhAI5yU/AAAAAAAAAAI/AAAAAAAAACw/cwp2JS3T5pg/photo.jpg?sz=128", "display_name": "Samah", "link": "https://stackoverflow.com/users/4119612/samah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 845, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1510825903, "creation_date": 1510778683, "last_edit_date": 1510786847, "question_id": 47316912, "link": "https://stackoverflow.com/questions/47316912/memory-error-with-python-64bit", "title": "Memory error with python 64bit", "body": "<p>I have added the code and the error message.\nI have installed python3 64bit and anaconda 3.5 and I am facing memory error when I am extracting features from text file that result in a 2D array of 264,549 X21,000 . I am using Windows 10 64bit and 16GB Ram.\nwhen I check the python version I have this is the result:\nPython 3.6.2 |Anaconda, Inc.| (default, Sep 19 2017, 08:03:39) [MSC v.1900 64 bit (AMD64)] on win32</p>\n\n<p>is it a problem with python? or the array cannot be fitted into the memory? </p>\n\n<p>This is the error I have:</p>\n\n<blockquote>\n  <p>extracting the list of bow from training data...\n  Traceback (most recent call last):\n    File \"tweet_fea_bow.py\", line 27, in \n      train_bow=vect.fit_transform(training).toarray()\n    File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\scipy\\sparse\\compressed.py\", line 964, in toarray\n      return self.tocoo(copy=False).toarray(order=order, out=out)\n    File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\scipy\\sparse\\coo.py\", line 252, in toarray\n      B = self._process_toarray_args(order, out)\n    File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\scipy\\sparse\\base.py\", line 1039, in _process_toarray_args\n      return np.zeros(self.shape, dtype=self.dtype, order=order)\n  MemoryError</p>\n</blockquote>\n\n<pre><code>import sys,os,traceback\nimport numpy as np\nimport sklearn\nfrom sklearn.feature_extraction.text import CountVectorizer\n\nprint(sys.argv)\nif len(sys.argv) == 2:\n  print( \"Reading data from file \" + (sys.argv[1]))\n  query_file_name = sys.argv[1] \n  tf_num = int(sys.argv[1])\nelse:\n  print ('Number of arguments = %d, expecting 1 arguments, program     terminated.') % (len(sys.argv) - 1)\nsys.exit (1)\n\ntraining=open('../training_data.txt','r').read().splitlines()\nprint('extracting bow from training data...')\nvect=CountVectorizer(min_df=tf_num, ngram_range=(2,2))\ntrain_bow=vect.fit_transform(training).toarray()\nprint('training matrix size:',train_bow.shape)\nprint('writing the training matrix...')\noutfile=(path+'../bow_bi_gram_%s.npy'%(tf_num))\ntry:\n   np.save(outfile,train_bow)\nexcept:\n   print('error')\n   e=sys.exc_info()\n   print(e)\nprint('extracting bow from testing data..')\ntesting=open('../testing_red_len_remove_@andurl.txt','r')\n.read().splitlines()\ntest_bow=vect.transform(testing).toarray()\nprint('size of testing matrix:',test_bow.shape)\nprint('writing the testing matrix...')\noutfile=('../testing_bow_bi_gram_%s.npy'%(tf_num))\nnp.save(outfile,test_bow)\n</code></pre>\n"}, {"tags": ["python", "datetime", "timestamp", "difference"], "answers": [{"comments": [{"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1510784385, "post_id": 47317113, "comment_id": 81587706, "body": "When I write the table out to Excel I still see the time stamp in the cell value ..... help?"}, {"owner": {"reputation": 768, "user_id": 5080669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab31e0ae217530fad8878facd993a24?s=128&d=identicon&r=PG&f=1", "display_name": "O.Suleiman", "link": "https://stackoverflow.com/users/5080669/o-suleiman"}, "reply_to_user": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1510816383, "post_id": 47317113, "comment_id": 81597934, "body": "I have modified the code a bit, I have called the &#39;days&#39; attribute instead of the &#39;total_seconds()&#39; to give you the difference in days as a number, then you can concat it with the word &#39;days&#39; to give the representation you want."}, {"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1510849759, "post_id": 47317113, "comment_id": 81620636, "body": "ah this is perfect!  I was missing the .dt.days code"}], "tags": [], "owner": {"reputation": 768, "user_id": 5080669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab31e0ae217530fad8878facd993a24?s=128&d=identicon&r=PG&f=1", "display_name": "O.Suleiman", "link": "https://stackoverflow.com/users/5080669/o-suleiman"}, "is_accepted": true, "score": 0, "last_activity_date": 1510816014, "last_edit_date": 1510816014, "creation_date": 1510779510, "answer_id": 47317113, "question_id": 47316886, "link": "https://stackoverflow.com/questions/47316886/python-dataframe-remove-timestamp-from-calculated-days-field/47317113#47317113", "title": "Python Dataframe: Remove timestamp from calculated Days field", "body": "<p>I think there might be some dates with time stamps in the data, try subtracting the date only:</p>\n\n<pre><code>df_EVENT5_5['age'] = dt.date.today() - df_EVENT5_5['dt_old'].apply(dt.datetime.date)\n#This gives you the days difference as a number\ndf_EVENT5_5['age_no_days'] = df_EVENT5_5['age'].dt.days\n#If you want it to have 'Days' in the end, you can use concatenation:\ndf_EVENT5_5['age_with_days'] = df_EVENT5_5['age_no_days'].astype('str') + ' Days'\n</code></pre>\n"}], "owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 47317113, "answer_count": 1, "score": 0, "last_activity_date": 1510816014, "creation_date": 1510778609, "question_id": 47316886, "link": "https://stackoverflow.com/questions/47316886/python-dataframe-remove-timestamp-from-calculated-days-field", "title": "Python Dataframe: Remove timestamp from calculated Days field", "body": "<p>I calculated a column using the following code:     </p>\n\n<pre><code>df_EVENT5_5['age'] = dt.datetime.now().date() - df_EVENT5_5['dt_old']\n    df_EVENT5_5['age_no_days'] = df_EVENT5_5['age'].dt.total_seconds()/ (24 * 60 * 60)\n</code></pre>\n\n<p>The output column contains the timestamp for some reason.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/eNFSG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eNFSG.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I remove the time stamp? </p>\n\n<p>I tried below but didn't work: </p>\n\n<pre><code>remove_timestamp_col = ['COL_1', 'COL_2']\n\n    for i in remove_timestamp_col:\n        df_EVENT5_13[i] = df_EVENT5_13[i].age.days()\n</code></pre>\n"}, {"tags": ["python", "string", "list"], "comments": [{"owner": {"reputation": 695, "user_id": 2506949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52e5d8756b5535046a2560c4169a464c?s=128&d=identicon&r=PG", "display_name": "David Bern", "link": "https://stackoverflow.com/users/2506949/david-bern"}, "edited": false, "score": 2, "creation_date": 1510778524, "post_id": 47316854, "comment_id": 81584633, "body": "&#39;&#39;.join(list).replace(&#39; &#39;,&#39;,&#39;)"}, {"owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 1, "creation_date": 1510778877, "post_id": 47316854, "comment_id": 81584858, "body": "Good work closing the question guys, now he has to read two other answers and combine them to achieve what he wants in a less-than-idiomatic fashion. <b>When did enforcing the rules become more important than teaching people?</b> I&#39;m voting to reopen, there&#39;s a difference between keeping the site clean and a question witch hunt."}, {"owner": {"reputation": 695, "user_id": 2506949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52e5d8756b5535046a2560c4169a464c?s=128&d=identicon&r=PG", "display_name": "David Bern", "link": "https://stackoverflow.com/users/2506949/david-bern"}, "reply_to_user": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 1, "creation_date": 1510779203, "post_id": 47316854, "comment_id": 81585045, "body": "@slezica I dont think its about the rules in this case, more about what he is asking. there is a difference, but is it a witch hunt in this case?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1510780132, "post_id": 47316854, "comment_id": 81585565, "body": "<code>(a, b, c, d, e)</code> is a tuple, not a list. Lists are in <code>[]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "edited": false, "score": 1, "creation_date": 1510779663, "post_id": 47316914, "comment_id": 81585306, "body": "Note, you can also just use the condition <code>if string</code>, so <code>&#39;,&#39;.join(string for string in lst if string)</code> works the same and is slightly more concise."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1510784899, "post_id": 47316914, "comment_id": 81587971, "body": "&quot;and this doesn&#39;t create a new in-memory list either&quot; - no, <a href=\"https://github.com/python/cpython/blob/v3.6.3/Objects/unicodeobject.c#L9950\" rel=\"nofollow noreferrer\">it totally does</a>, because <code>join</code> materializes the argument into a list so it can make two passes."}], "tags": [], "owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "is_accepted": true, "score": 5, "last_activity_date": 1510778992, "last_edit_date": 1510778992, "creation_date": 1510778688, "answer_id": 47316914, "question_id": 47316854, "link": "https://stackoverflow.com/questions/47316854/select-non-empty-elements-of-list-in-python/47316914#47316914", "title": "Select non empty elements of list in Python", "body": "<p>Using a generator expression:</p>\n\n<pre><code>\",\".join(string for string in lst if len(string) &gt; 0)\n</code></pre>\n\n<p>The <code>\",\".join()</code> part is using the <code>join()</code> method of strings, which takes an iterable argument and outputs a new string that concatenates the items using <code>\",\"</code> as delimiter.</p>\n\n<p>The generator expression between parenthesis is being used to filter empty strings out of the list.</p>\n\n<p>The original list doesn't change, and this doesn't create a new in-memory list either.</p>\n"}, {"tags": [], "owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1510779534, "creation_date": 1510779534, "answer_id": 47317122, "question_id": 47316854, "link": "https://stackoverflow.com/questions/47316854/select-non-empty-elements-of-list-in-python/47317122#47317122", "title": "Select non empty elements of list in Python", "body": "<p>You can try this one too:</p>\n\n<pre><code>a = 'aaa'\nb = ''\nc = 'ccc'\nd = ''\ne = 'eee'\ntup = (a, b, c, d, e)\n\nres = \",\".join(filter(lambda i: not i=='', tup))\n\nprint(res)\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>aaa,ccc,eee\n</code></pre>\n\n<p>It is also a good practice not to use <code>list</code> as a variable name, as it is a reserved keyword from Python.</p>\n"}, {"tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": false, "score": 1, "last_activity_date": 1510780333, "last_edit_date": 1510780333, "creation_date": 1510779954, "answer_id": 47317232, "question_id": 47316854, "link": "https://stackoverflow.com/questions/47316854/select-non-empty-elements-of-list-in-python/47317232#47317232", "title": "Select non empty elements of list in Python", "body": "<p>You can use a <code>generator-expression</code>:</p>\n\n<pre><code>','.join(s for s in list if s)\n</code></pre>\n\n<p>which <code>outputs</code>:</p>\n\n<pre><code>'aaa,ccc,eee'\n</code></pre>\n\n<hr>\n\n<p><strong>Why?</strong></p>\n\n<p>This takes advantage of the fact that an <code>empty</code> <code>string</code> evaluates to <code>False</code>.</p>\n\n<p>This can be seen clearer through some examples:</p>\n\n<pre><code>&gt;&gt;&gt; if \"a\":\n...     print(\"yes\")\n... \nyes\n&gt;&gt;&gt; if \" \":\n...     print(\"yes\")\n... \nyes\n&gt;&gt;&gt; if \"\":\n...     print(\"yes\")\n... \n&gt;&gt;&gt;\n</code></pre>\n\n<p>So the <code>generator</code> says: for each <code>string</code> in <code>list</code>, keep '<em>if</em> <code>string'</code> - i.e. if the <code>string</code> is not empty.</p>\n\n<p>We then finally use the <code>str.join</code> method that will take each <code>string</code> in the <code>iterator</code> that is passed into it (here a <code>generator</code>) and concatenate them together with whatever the <code>str</code> is. So here we use a <code>','</code> as the <code>string</code> to get the desired result.</p>\n\n<p>A little example of this:</p>\n\n<pre><code>&gt;&gt;&gt; ','.join(['abc', 'def', 'ghi'])\n'abc,def,ghi'\n</code></pre>\n\n<hr>\n\n<p>**As a side note, you shouldn't name your <code>variable</code> <code>list</code> as it overrides the built-in <code>list()</code> function:</p>\n\n<pre><code>&gt;&gt;&gt; list((1, 2, 3))\n[1, 2, 3]\n&gt;&gt;&gt; list = 1\n&gt;&gt;&gt; list((1, 2, 3))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: 'int' object is not callable\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 1, "last_activity_date": 1510780013, "creation_date": 1510780013, "answer_id": 47317251, "question_id": 47316854, "link": "https://stackoverflow.com/questions/47316854/select-non-empty-elements-of-list-in-python/47317251#47317251", "title": "Select non empty elements of list in Python", "body": "<p>The shortest thing you can do is</p>\n\n<pre><code>','.join(filter(None, mytuple))\n</code></pre>\n\n<p>(I renamed <code>list</code> to <code>mytuple</code> in oder to not shadow the builtin <code>list</code>.)</p>\n"}], "owner": {"reputation": 4953, "user_id": 3396911, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/JJTmY.jpg?s=128&g=1", "display_name": "hernanavella", "link": "https://stackoverflow.com/users/3396911/hernanavella"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7159, "favorite_count": 2, "closed_date": 1510783396, "accepted_answer_id": 47316914, "answer_count": 4, "score": 4, "last_activity_date": 1510780333, "creation_date": 1510778462, "question_id": 47316854, "link": "https://stackoverflow.com/questions/47316854/select-non-empty-elements-of-list-in-python", "closed_reason": "Duplicate", "title": "Select non empty elements of list in Python", "body": "<p>Given:</p>\n\n<pre><code>a = 'aaa'\nb = ''\nc = 'ccc'\nd = ''\ne = 'eee'\n\nlist = (a, b, c, d, e)\n</code></pre>\n\n<p>How can I get a string using all the non empty elements of the list ?</p>\n\n<p>Desired output:</p>\n\n<pre><code>'aaa,ccc,eee'\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1510778545, "post_id": 47316835, "comment_id": 81584645, "body": "Your syntax is incorrect. It should look like <code>&quot;&quot;&quot;%f %f&quot;&quot;&quot; % (measures[90], measures[108])</code>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8885661, "user_type": "registered", "profile_image": "https://graph.facebook.com/818464578314639/picture?type=large", "display_name": "Nick Honings", "link": "https://stackoverflow.com/users/8885661/nick-honings"}, "edited": false, "score": 0, "creation_date": 1510845377, "post_id": 47316901, "comment_id": 81617433, "body": "I&#39;m sorry, it was a typo. There are supposed to be six arguments, but thanks!"}], "tags": [], "owner": {"reputation": 2161, "user_id": 8332700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1zCdU.png?s=128&g=1", "display_name": "Verv", "link": "https://stackoverflow.com/users/8332700/verv"}, "is_accepted": false, "score": 1, "last_activity_date": 1510778963, "last_edit_date": 1510778963, "creation_date": 1510778652, "answer_id": 47316901, "question_id": 47316835, "link": "https://stackoverflow.com/questions/47316835/how-can-i-print-a-multi-line-code-with-built-in-variables/47316901#47316901", "title": "How can i print a multi line code with built in variables?", "body": "<p>The multiple <code>%</code> are what's causing your syntax error. You also seem to have an extra parenthesis in there. You might as well just get rid of superfluous parenthesis while you're at it.</p>\n\n<p>Try this:</p>\n\n<pre><code>print(\"\"\"\n                     %f              %f    \n           %f                                %f\n\n       %f                                       %f\n\n    \"\"\" % (measures[90], measures[108], measures[72] ,measures[126], measures[54]))\n</code></pre>\n\n<p>Looks like you haven't fully understood how the formatting operator works, you might wanna read through <a href=\"https://docs.python.org/2/library/stdtypes.html#string-formatting\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p>Also note that you'll get another error after that. You have 6 format strings but only 5 format arguments. It should look like this:</p>\n\n<pre><code>TypeError: not enough arguments for format string\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 8885661, "user_type": "registered", "profile_image": "https://graph.facebook.com/818464578314639/picture?type=large", "display_name": "Nick Honings", "link": "https://stackoverflow.com/users/8885661/nick-honings"}, "edited": false, "score": 0, "creation_date": 1510845419, "post_id": 47318143, "comment_id": 81617463, "body": "It really is useful!"}], "tags": [], "owner": {"reputation": 179, "user_id": 8226646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b2639ad2004d31b47f3d4df51e16f8?s=128&d=identicon&r=PG&f=1", "display_name": "nsaura", "link": "https://stackoverflow.com/users/8226646/nsaura"}, "is_accepted": false, "score": 1, "last_activity_date": 1511177418, "last_edit_date": 1511177418, "creation_date": 1510783712, "answer_id": 47318143, "question_id": 47316835, "link": "https://stackoverflow.com/questions/47316835/how-can-i-print-a-multi-line-code-with-built-in-variables/47318143#47318143", "title": "How can i print a multi line code with built in variables?", "body": "<p>As said by Verv earlier, your error comes from multiple <code>%</code> after the last <code>\"</code> inside your <code>print</code> function. </p>\n\n<p>I suggest you to try the pair \"<code>{} .format</code>\" in your print or when you construct a string variable, a path and so.</p>\n\n<p>It is according to me a generalization of the <code>%</code> because you don't have to know precisely what is the type of your variable.</p>\n\n<p>To give you a simple example of how to use it :</p>\n\n<pre><code>a = [i**2 for i in xrange(4)]\nprint (\"{}\".format(a)) # ints\n&gt;&gt;&gt; [0, 1, 4, 9]\n\na.append(\"s\") # string\na.append(2.4) # float\nprint \"{}, {}\".format(a[-1], a[-2])\n&gt;&gt;&gt; 's', 2.4\n</code></pre>\n\n<p>Here again you only have to write <code>.format</code> once and near the last <code>\"</code> and to match the number of <code>{}</code> with the number of elements you put in the <code>.format()</code></p>\n\n<p>I hope this will be useful</p>\n"}], "owner": {"reputation": 31, "user_id": 8885661, "user_type": "registered", "profile_image": "https://graph.facebook.com/818464578314639/picture?type=large", "display_name": "Nick Honings", "link": "https://stackoverflow.com/users/8885661/nick-honings"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1511177418, "creation_date": 1510778397, "question_id": 47316835, "link": "https://stackoverflow.com/questions/47316835/how-can-i-print-a-multi-line-code-with-built-in-variables", "title": "How can i print a multi line code with built in variables?", "body": "<p>Hey I keep getting this Syntax Error with this code in the last line of the print statement. Did I miss something obvious or am i just doing it wrong. Radar() is supposed to get distances in steps of 18 degrees, which it does. Visual_radar() is then supposed to display them in a half circle. if there's any more information you need let me know.</p>\n\n<pre><code>def radar():\n    measures = {}\n    angle = 18\n    servo(0)\n    for x in range(9):\n        servo(angle)\n        dist = distance()\n        measures[angle] = dist\n        angle += 18\n\n    for number in measures:\n        if number &lt; min_distance:\n            print('Too close!', number)\n            can_move_forward = False\n\ndef visual_radar():\n\n    print \"\"\"\n                     %f              %f    \n           %f                                %f\n\n       %f                                       %f\n\n    \"\"\" %(measures[90]), %(measures[108]),%(measures[72]),measures[126]),%(measures[54]))\n\nradar()\nvisual_radar()\n</code></pre>\n"}, {"tags": ["python", "google-chrome", "selenium", "selenium-chromedriver", "google-chrome-headless"], "comments": [{"owner": {"reputation": 1054, "user_id": 2146761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88d3bc29238e60d795bd6644a548358d?s=128&d=identicon&r=PG", "display_name": "chris-crush-code", "link": "https://stackoverflow.com/users/2146761/chris-crush-code"}, "edited": false, "score": 0, "creation_date": 1510778562, "post_id": 47316810, "comment_id": 81584657, "body": "have the headless browser take a screenshot. It might be a matter of either scrolling to the element first or you may need to resize the headless browser when you initialize it - if it&#39;s not big enough the site may be sized for mobile and doesn&#39;t have the admin link in that view."}, {"owner": {"reputation": 36798, "user_id": 2887618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e643417e67e5a3bb9f659e4491ed26b0?s=128&d=identicon&r=PG&f=1", "display_name": "Florent B.", "link": "https://stackoverflow.com/users/2887618/florent-b"}, "edited": false, "score": 1, "creation_date": 1510778580, "post_id": 47316810, "comment_id": 81584674, "body": "Use a comma for the size of the window: <code>--window-size=1920,1080</code>. Take a screenshot or dump the HTML from the page to figure out why the element is not present."}, {"owner": {"reputation": 107, "user_id": 6132064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef6cee282e64c4d2b2e4b8c4d3f3af9?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba Wernerowski", "link": "https://stackoverflow.com/users/6132064/kuba-wernerowski"}, "edited": false, "score": 0, "creation_date": 1510782369, "post_id": 47316810, "comment_id": 81586682, "body": "Okay so I&#39;ve found that the webpage isn&#39;t loading properly, and ends up just displaying a blank white page. When loading normally, the page is white a for a few seconds, so I tried using time.sleep(30) to give it plenty of time to load, and it still shows up as a white page."}, {"owner": {"reputation": 8717, "user_id": 3124333, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MCMEh.jpg?s=128&g=1", "display_name": "SiKing", "link": "https://stackoverflow.com/users/3124333/siking"}, "edited": false, "score": 1, "creation_date": 1510789127, "post_id": 47316810, "comment_id": 81589483, "body": "Chrome-headless does not work with invalid https certificates. You will only get a blank page! See <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=721739\" rel=\"nofollow noreferrer\">bugs.chromium.org/p/chromium/issues/detail?id=721739</a>"}, {"owner": {"reputation": 107, "user_id": 6132064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef6cee282e64c4d2b2e4b8c4d3f3af9?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba Wernerowski", "link": "https://stackoverflow.com/users/6132064/kuba-wernerowski"}, "edited": false, "score": 0, "creation_date": 1510792195, "post_id": 47316810, "comment_id": 81590349, "body": "Thanks! Is there no work around for this, or will I have to switch to a different headless browser?"}], "answers": [{"tags": [], "owner": {"reputation": 1647, "user_id": 2055669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oW3KI.png?s=128&g=1", "display_name": "browserless", "link": "https://stackoverflow.com/users/2055669/browserless"}, "is_accepted": true, "score": 4, "last_activity_date": 1510937155, "creation_date": 1510937155, "answer_id": 47355504, "question_id": 47316810, "link": "https://stackoverflow.com/questions/47316810/unable-to-locate-elements-on-webpage-with-headless-chrome/47355504#47355504", "title": "Unable to locate elements on webpage with headless chrome", "body": "<p>If it's an issue with SSL certs, you can start Chrome without certs using a command line flag (assuming that's how you're starting it). I believe the switch is <code>--allow-running-insecure-content</code>, and I located that from this list found <a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2753, "user_id": 2532408, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gnVSN.jpg?s=128&g=1", "display_name": "Marcel Wilson", "link": "https://stackoverflow.com/users/2532408/marcel-wilson"}, "is_accepted": false, "score": 1, "last_activity_date": 1525379610, "creation_date": 1525379610, "answer_id": 50163446, "question_id": 47316810, "link": "https://stackoverflow.com/questions/47316810/unable-to-locate-elements-on-webpage-with-headless-chrome/50163446#50163446", "title": "Unable to locate elements on webpage with headless chrome", "body": "<p>@siking pointed out in the comments...</p>\n\n<blockquote>\n  <p>Chrome-headless does not work with invalid https certificates. You\n  will only get a blank page! See\n  <a href=\"http://bugs.chromium.org/p/chromium/issues/detail?id=721739\" rel=\"nofollow noreferrer\">http://bugs.chromium.org/p/chromium/issues/detail?id=721739</a></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 11238764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DV8KT.jpg?s=128&g=1", "display_name": "NumberzQA", "link": "https://stackoverflow.com/users/11238764/numberzqa"}, "is_accepted": false, "score": 1, "last_activity_date": 1553186533, "last_edit_date": 1553186533, "creation_date": 1553185302, "answer_id": 55284973, "question_id": 47316810, "link": "https://stackoverflow.com/questions/47316810/unable-to-locate-elements-on-webpage-with-headless-chrome/55284973#55284973", "title": "Unable to locate elements on webpage with headless chrome", "body": "<p>I had the same problem and found that the elements were loading slower in headless.\nBy adding the following line of code, the problem went away:</p>\n\n<pre><code>driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 1416927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a07cc3a1d59062d6b5aedae96cc13847?s=128&d=identicon&r=PG", "display_name": "mushroom_lb", "link": "https://stackoverflow.com/users/1416927/mushroom-lb"}, "is_accepted": false, "score": 6, "last_activity_date": 1557479961, "creation_date": 1557479961, "answer_id": 56074474, "question_id": 47316810, "link": "https://stackoverflow.com/questions/47316810/unable-to-locate-elements-on-webpage-with-headless-chrome/56074474#56074474", "title": "Unable to locate elements on webpage with headless chrome", "body": "<p>I met the same situation. After studying, the following is correct\uff1a</p>\n\n<pre><code>self.chrome_options = webdriver.ChromeOptions()\nself.chrome_options.add_argument(\"--window-size=1920,1080\")\nself.chrome_options.add_argument(\"--disable-extensions\")\nself.chrome_options.add_argument(\"--proxy-server='direct://'\")\nself.chrome_options.add_argument(\"--proxy-bypass-list=*\")\nself.chrome_options.add_argument(\"--start-maximized\")\nself.chrome_options.add_argument('--headless')\nself.chrome_options.add_argument('--disable-gpu')\nself.chrome_options.add_argument('--disable-dev-shm-usage')\nself.chrome_options.add_argument('--no-sandbox')\nself.chrome_options.add_argument('--ignore-certificate-errors')\nself.browser = webdriver.Chrome(options=self.chrome_options)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 12959670, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--jOb0gN8-sw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcgdSLAIO-liuKwAtzLQ7uaR8HQfg/photo.jpg?sz=128", "display_name": "Raj NIgam", "link": "https://stackoverflow.com/users/12959670/raj-nigam"}, "is_accepted": false, "score": 2, "last_activity_date": 1595568528, "last_edit_date": 1595568528, "creation_date": 1595489242, "answer_id": 63049009, "question_id": 47316810, "link": "https://stackoverflow.com/questions/47316810/unable-to-locate-elements-on-webpage-with-headless-chrome/63049009#63049009", "title": "Unable to locate elements on webpage with headless chrome", "body": "<p>I had the same problem. You could take screenshots to understand whats wrong.</p>\n<pre><code>driver.get_screenshot_as_file(&quot;screenshot.png&quot;)\n</code></pre>\n<p>A few reasons why selenium works when run normally but stops working in headless mode -</p>\n<p>1)It might have switched to a mobile template. Can be fixed by changing the window size.</p>\n<pre><code>chrome_options.add_argument(&quot;--window-size=1920,1080&quot;)\n</code></pre>\n<p>2)If its a blank page (screenshot), it might be due to an invalid SSL certificate.(see @Marcel_Wilson post) It should be fixed by -</p>\n<pre><code>chrome_options.add_argument('--ignore-certificate-errors')\nchrome_options.add_argument('--allow-running-insecure-content')\n</code></pre>\n<p>3)Its possible that the website blocks 'headless' mode. (Your screenshots might show errors which you cannot recreate in normal mode)\nYou could try this-</p>\n<pre><code>user_agent = 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.50 Safari/537.36'\noptions.add_argument(f'user-agent={user_agent}')\n</code></pre>\n<p>However, the above code won't work if the website has a more robust blocking method. You can find more about this here <a href=\"https://intoli.com/blog/making-chrome-headless-undetectable/\" rel=\"nofollow noreferrer\">https://intoli.com/blog/making-chrome-headless-undetectable/</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 577, "user_id": 9939807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vlYeE.jpg?s=128&g=1", "display_name": "Mahadev Gouda", "link": "https://stackoverflow.com/users/9939807/mahadev-gouda"}, "is_accepted": false, "score": 1, "last_activity_date": 1599895145, "creation_date": 1599895145, "answer_id": 63857908, "question_id": 47316810, "link": "https://stackoverflow.com/questions/47316810/unable-to-locate-elements-on-webpage-with-headless-chrome/63857908#63857908", "title": "Unable to locate elements on webpage with headless chrome", "body": "<p>I did face the issue but the below code worked like a champ for me.</p>\n<pre><code>    final ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--window-size=1920,1080&quot;);\n    options.addArguments(&quot;--allow-insecure-localhost&quot;);\n    options.addArguments(&quot;--headless&quot;);\n    options.addArguments(&quot;--disable-gpu&quot;);\n    options.addArguments(&quot;--no-sandbox&quot;);\n    DesiredCapabilities caps = DesiredCapabilities.chrome();\n    caps.setCapability(ChromeOptions.CAPABILITY, options);\n    caps.setCapability(&quot;acceptInsecureCerts&quot;, caps);\n    WebDriver driver = new ChromeDriver(options);\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 6132064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef6cee282e64c4d2b2e4b8c4d3f3af9?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba Wernerowski", "link": "https://stackoverflow.com/users/6132064/kuba-wernerowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11478, "favorite_count": 2, "accepted_answer_id": 47355504, "answer_count": 6, "score": 6, "last_activity_date": 1599895145, "creation_date": 1510778309, "question_id": 47316810, "link": "https://stackoverflow.com/questions/47316810/unable-to-locate-elements-on-webpage-with-headless-chrome", "title": "Unable to locate elements on webpage with headless chrome", "body": "<p>I have a script that's accessing printers, and my code works totally fine when chrome is run normally, but when it's run headless, selenium can't seem to find elements on the webpage.</p>\n\n<p>Here's the relevant code:</p>\n\n<p>init method:</p>\n\n<pre><code>def __init__(self, ip_address):\n    \"\"\" Initialize a new Printer_Webpage object.\"\"\"\n    self.ip_address = ip_address\n    chrome_options = Options()\n    chrome_options.add_argument(\"--headless\")\n    chrome_options.add_argument(\"--disable-gpu\")\n    chrome_options.add_argument(\"--window-size=1920x1080\")\n    self.browser = webdriver.Chrome(chrome_options=chrome_options)\n    # Ignore lack of cert for each printer web page.\n    # Otherwise, can't open page.\n    self.browser.accept_untrusted_certs = True\n</code></pre>\n\n<p>Login method:</p>\n\n<pre><code>def login(self):\n    \"\"\"Navigates through the login page for the printer.\"\"\"\n    # Open login page\n    self.browser.get(f'https://{self.ip_address}/wcd/top.xml')\n    # STEPS TO LOGIN:\n    # 1) Select 'Administrator' radio button and click.\n    self.browser.find_element_by_id('Admin').click()\n    # 2) Select Login button and click.\n    self.browser.find_element_by_xpath(\"//input[@type='submit' \\\n                                        and @value='Login']\").click()\n    # 3) Select admin (user mode)\n    self.browser.find_element_by_id('R_ADM2').click()\n    # 4) Select password field and input PASSWORD, then submit.\n    password_field = self.browser.find_element_by_id('Admin_Pass')\n    password_field.send_keys(PASSWORD)\n    password_field.send_keys(Keys.RETURN)\n</code></pre>\n\n<p>Full error message:</p>\n\n<pre><code>selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {\"method\":\"id\",\"selector\":\"Admin\"}\n</code></pre>\n\n<p>And here's some other info that might be of use:</p>\n\n<pre><code>(Session info: headless chrome=62.0.3202.94)\n\n(Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 10.0.14393 x86_64)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1510788523, "post_id": 47316809, "comment_id": 81589291, "body": "Can you print <code>df.word.dtype</code> and tell me what is shown? Or just look at my answer."}], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 3849475, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/24026cec7deff05c66df29cdfe3904dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3849475", "link": "https://stackoverflow.com/users/3849475/user3849475"}, "edited": false, "score": 0, "creation_date": 1510779081, "post_id": 47316884, "comment_id": 81584985, "body": "I had an error message,it said that <code>TypeError: can only concatenate list (not &quot;str&quot;) to list</code>"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 247, "user_id": 3849475, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/24026cec7deff05c66df29cdfe3904dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3849475", "link": "https://stackoverflow.com/users/3849475/user3849475"}, "edited": false, "score": 0, "creation_date": 1510779226, "post_id": 47316884, "comment_id": 81585056, "body": "@user3849475 is the can you show me the result of <code>df.word.apply(type)</code> and doing this before my solution <code>df[&#39;word&#39;]=df[&#39;word&#39;].apply(ast.literal_eval)</code>"}, {"owner": {"reputation": 247, "user_id": 3849475, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/24026cec7deff05c66df29cdfe3904dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3849475", "link": "https://stackoverflow.com/users/3849475/user3849475"}, "edited": false, "score": 0, "creation_date": 1510779362, "post_id": 47316884, "comment_id": 81585130, "body": "The result is list type.<code>0     &lt;type &#39;list&#39;&gt; 1     &lt;type &#39;list&#39;&gt;  </code>"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 247, "user_id": 3849475, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/24026cec7deff05c66df29cdfe3904dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3849475", "link": "https://stackoverflow.com/users/3849475/user3849475"}, "edited": false, "score": 0, "creation_date": 1510779420, "post_id": 47316884, "comment_id": 81585168, "body": "@user3849475 make sure it is list of list not list of str ."}, {"owner": {"reputation": 247, "user_id": 3849475, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/24026cec7deff05c66df29cdfe3904dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3849475", "link": "https://stackoverflow.com/users/3849475/user3849475"}, "edited": false, "score": 0, "creation_date": 1510779470, "post_id": 47316884, "comment_id": 81585197, "body": "It said <code>Name: word, dtype: object</code>"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 247, "user_id": 3849475, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/24026cec7deff05c66df29cdfe3904dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3849475", "link": "https://stackoverflow.com/users/3849475/user3849475"}, "edited": false, "score": 0, "creation_date": 1510779547, "post_id": 47316884, "comment_id": 81585244, "body": "@user3849475 I have attach the data I am used"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 247, "user_id": 3849475, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/24026cec7deff05c66df29cdfe3904dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3849475", "link": "https://stackoverflow.com/users/3849475/user3849475"}, "edited": false, "score": 0, "creation_date": 1510784256, "post_id": 47316884, "comment_id": 81587640, "body": "@user3849475 you can try to convert it back to list of list"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 247, "user_id": 3849475, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/24026cec7deff05c66df29cdfe3904dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3849475", "link": "https://stackoverflow.com/users/3849475/user3849475"}, "edited": false, "score": 0, "creation_date": 1510844003, "post_id": 47316884, "comment_id": 81616317, "body": "@user3849475 ok"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1510779502, "last_edit_date": 1510779502, "creation_date": 1510778609, "answer_id": 47316884, "question_id": 47316809, "link": "https://stackoverflow.com/questions/47316809/convert-each-words-into-one-list-dataframe/47316884#47316884", "title": "convert each words into one list dataframe", "body": "<p>flatten then <code>list</code> then <code>join</code> it  </p>\n\n<pre><code>df.word=df.word.apply(lambda x : ' '.join(sum(x,[])))\n\ndf\nOut[847]: \n    cate       word\n0  apple  a b c d e\n1    pen    f g h j\n\ndf.word.tolist()\nOut[848]: ['a b c d e', 'f g h j']\n</code></pre>\n\n<p>Data input :</p>\n\n<pre><code>df = pd.DataFrame({\"cate\": ['apple','pen'],'word':[[['a','b'],['c','d','e']],[['f','g','h'],['j']]]})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 247, "user_id": 3849475, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/24026cec7deff05c66df29cdfe3904dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3849475", "link": "https://stackoverflow.com/users/3849475/user3849475"}, "edited": false, "score": 0, "creation_date": 1510843213, "post_id": 47318759, "comment_id": 81615745, "body": "I just fixed my bug.Thanks for your advice."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 247, "user_id": 3849475, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/24026cec7deff05c66df29cdfe3904dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3849475", "link": "https://stackoverflow.com/users/3849475/user3849475"}, "edited": false, "score": 0, "creation_date": 1510843238, "post_id": 47318759, "comment_id": 81615776, "body": "@user3849475 Accept an answer if it helped, thanks. Also, you can upvote all helpful answers."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 0, "last_activity_date": 1510786785, "creation_date": 1510786785, "answer_id": 47318759, "question_id": 47316809, "link": "https://stackoverflow.com/questions/47316809/convert-each-words-into-one-list-dataframe/47318759#47318759", "title": "convert each words into one list dataframe", "body": "<p>One efficient solution would be using <code>np.concatenate</code> + <code>str.join</code>:</p>\n\n<pre><code>df['word'] = df.word.apply(np.concatenate).str.join(' ')    \ndf\n\n    cate       word\n0  apple  a b c d e\n1    pen    f g h j\n\ndf.word.tolist()\n['a b c d e', 'f g h j']\n</code></pre>\n\n<p>If <code>df['word']</code> is not a column of lists (but of <em>strings</em>), you'll need to convert it using <code>ast.literal_eval</code> (the safe eval):</p>\n\n<pre><code>import ast\ndf['word'] = df.word.apply(ast.literal_eval)\n</code></pre>\n\n<p>The rest of the solution is the same. </p>\n"}], "owner": {"reputation": 247, "user_id": 3849475, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/24026cec7deff05c66df29cdfe3904dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3849475", "link": "https://stackoverflow.com/users/3849475/user3849475"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 47318759, "answer_count": 2, "score": 0, "last_activity_date": 1510786908, "creation_date": 1510778303, "last_edit_date": 1510786908, "question_id": 47316809, "link": "https://stackoverflow.com/questions/47316809/convert-each-words-into-one-list-dataframe", "title": "convert each words into one list dataframe", "body": "<p>I have a dataframe <code>df</code>:</p>\n\n<p>Suppose a,b,c,d,e,f,g,h,j is a word ,not a single letter.</p>\n\n<pre><code>cate  word\napple [['a','b'],['c','d','e']]\npen   [['f','g','h'],['j']]\n</code></pre>\n\n<p>I want to get one list in <code>word</code> column.So the expected output should be <code>word_list =[u'a b c d e',u'f g h j']</code> </p>\n\n<p>However,when I use the following code: </p>\n\n<pre><code>word_list =[]\n\nfor line in df['word']:\n    for word in line:\n        word_list.append(word)\n</code></pre>\n\n<p>So the output is not what I expected.</p>\n"}, {"tags": ["python", "openerp", "odoo-8"], "answers": [{"tags": [], "owner": {"reputation": 1384, "user_id": 8395046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6Z1Rt.png?s=128&g=1", "display_name": "Dayana", "link": "https://stackoverflow.com/users/8395046/dayana"}, "is_accepted": true, "score": 2, "last_activity_date": 1510779133, "creation_date": 1510779133, "answer_id": 47317025, "question_id": 47316803, "link": "https://stackoverflow.com/questions/47316803/loop-through-record-lines-method-odoo-v8/47317025#47317025", "title": "Loop through record lines method - Odoo v8", "body": "<p>you could try:</p>\n\n<pre><code>@api.onchange('qty', 'consumed_qty')\ndef _remaining_func(self):\n    for s in self:\n        for qty in s.isbn:\n            if s.qty or s.consumed_qty:\n                s.remaining_qty = s.qty +(-s.consumed_qty)\n</code></pre>\n\n<p>I hope this help you.</p>\n"}], "owner": {"reputation": 3765, "user_id": 2089267, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/44215d587ff1f8bc581d4098bfec2154?s=128&d=identicon&r=PG&f=1", "display_name": "NeoVe", "link": "https://stackoverflow.com/users/2089267/neove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 1, "accepted_answer_id": 47317025, "answer_count": 1, "score": 3, "last_activity_date": 1510779133, "creation_date": 1510778283, "question_id": 47316803, "link": "https://stackoverflow.com/questions/47316803/loop-through-record-lines-method-odoo-v8", "title": "Loop through record lines method - Odoo v8", "body": "<p>I have this method:</p>\n\n<pre><code>@api.onchange('qty', 'consumed_qty')\ndef _remaining_func(self):\n    for qty in self.isbn:\n        if self.qty or self.consumed_qty:\n            self.remaining_qty = self.qty +(-self.consumed_qty)\n</code></pre>\n\n<p>But I need it to loop through records of my line (One2many field), right now, if I add just one record it works just fine, but if I add two or more, it throws the <code>Expected singleton</code> error.</p>\n\n<p>So, how can I loop with this method?</p>\n\n<p>I have added the <code>for qty in self.isbn</code> but with no success.</p>\n\n<p>This is the class where this method is declared:</p>\n\n<pre><code>class bsi_production_order_lines(models.Model):\n    _name = 'bsi.production.order.lines'\n\n    production_order = fields.Many2one('bsi.production.order', string=\"Production Orders\")\n    isbn = fields.Many2one('product.product', string=\"ISBN\", domain=\"[('is_isbn', '=', True)]\")\n    qty = fields.Float(string=\"Quantity\")\n    consumed_qty = fields.Float(string=\"Consumed quantity\")\n    remaining_qty = fields.Float(string=\"Remaining quantity\", compute=\"_remaining_func\")\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "string", "ascii"], "comments": [{"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1510778346, "post_id": 47316800, "comment_id": 81584541, "body": "Please update your question with your expected output."}, {"owner": {"reputation": 783, "user_id": 1084262, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wf8h8.jpg?s=128&g=1", "display_name": "seveninstl", "link": "https://stackoverflow.com/users/1084262/seveninstl"}, "reply_to_user": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1510778669, "post_id": 47316800, "comment_id": 81584724, "body": "&quot;h&quot; = 104 (first 3 digits of the returned string).  I would like it to return 0000104.  &quot;e&quot; = 101.  I would like it to return 0000101.  So that the string &quot;he&quot; would return 00001040000101 instead of 104101."}, {"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 1, "creation_date": 1510778861, "post_id": 47316800, "comment_id": 81584848, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5676646/how-can-i-fill-out-a-python-string-with-spaces\">How can I fill out a Python string with spaces?</a>"}, {"owner": {"reputation": 3203, "user_id": 2763915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b53d3b3f8b36383de69ab29d9633251?s=128&d=identicon&r=PG&f=1", "display_name": "atru", "link": "https://stackoverflow.com/users/2763915/atru"}, "edited": false, "score": 0, "creation_date": 1510779021, "post_id": 47316800, "comment_id": 81584941, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/339007/nicest-way-to-pad-zeroes-to-string\">Nicest way to pad zeroes to string</a> ... quite possible."}, {"owner": {"reputation": 783, "user_id": 1084262, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wf8h8.jpg?s=128&g=1", "display_name": "seveninstl", "link": "https://stackoverflow.com/users/1084262/seveninstl"}, "edited": false, "score": 0, "creation_date": 1510779490, "post_id": 47316800, "comment_id": 81585210, "body": "I looked at both of the suggested Stack Overflow questions above, along with many others.  (I searched for 6 hours).  I continued to get errors with my syntax.  Joald&#39;s answer worked perfectly!"}], "answers": [{"tags": [], "owner": {"reputation": 954, "user_id": 3104621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27f0df827e6c87c5738d9ab26f30ca3e?s=128&d=identicon&r=PG&f=1", "display_name": "Joald", "link": "https://stackoverflow.com/users/3104621/joald"}, "is_accepted": true, "score": 1, "last_activity_date": 1510778816, "creation_date": 1510778816, "answer_id": 47316943, "question_id": 47316800, "link": "https://stackoverflow.com/questions/47316800/how-to-convert-each-character-of-string-to-ascii-and-pad-to-given-length/47316943#47316943", "title": "How to Convert Each Character of String to ASCII and Pad to Given Length", "body": "<pre><code>asciiString = ''.join(str('{num:07d}'.format(num=ord(c))) for c in myString)\n</code></pre>\n"}], "owner": {"reputation": 783, "user_id": 1084262, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wf8h8.jpg?s=128&g=1", "display_name": "seveninstl", "link": "https://stackoverflow.com/users/1084262/seveninstl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 47316943, "answer_count": 1, "score": 1, "last_activity_date": 1510778816, "creation_date": 1510778247, "last_edit_date": 1510778617, "question_id": 47316800, "link": "https://stackoverflow.com/questions/47316800/how-to-convert-each-character-of-string-to-ascii-and-pad-to-given-length", "title": "How to Convert Each Character of String to ASCII and Pad to Given Length", "body": "<p>Using Python 3.4, I am trying to convert a string to padded ASCII values (for each character).</p>\n\n<p>Given a sting:</p>\n\n<pre><code>myString = \"hello world\"\n</code></pre>\n\n<p>Convert each character to ASCII and join back into a single string:</p>\n\n<pre><code>asciiString = ''.join(str(ord(c)) for c in myString)\n</code></pre>\n\n<p>This works great, returning:</p>\n\n<pre><code>'10410110810811132119111114108100'\n</code></pre>\n\n<p>I would like to pad <strong>EACH CHARACTER</strong> to 7 digits and then join. I've been trying to do this with <code>format</code> and have tried so many combinations of <code>join</code>, <code>format</code>, <code>str</code>, and <code>ord</code> that I can't even list them all. Can someone please help me figure out how to add format to the \"asciiString =\" line?  Maybe this can't be done in a single line of code?</p>\n"}, {"tags": ["python", "string", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1510800440, "post_id": 47319326, "comment_id": 81592507, "body": "Amazing! thank you"}, {"owner": {"reputation": 141, "user_id": 3505206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhSzz.png?s=128&g=1", "display_name": "Carson", "link": "https://stackoverflow.com/users/3505206/carson"}, "edited": false, "score": 0, "creation_date": 1564604749, "post_id": 47319326, "comment_id": 101090720, "body": "The first solution (with regex) does not work, the second solution (with OrderedDict) does work."}, {"owner": {"reputation": 207, "user_id": 10938315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c755cc9fdabbb2d9bcf04779df2953?s=128&d=identicon&r=PG&f=1", "display_name": "Omega", "link": "https://stackoverflow.com/users/10938315/omega"}, "edited": false, "score": 0, "creation_date": 1586981334, "post_id": 47319326, "comment_id": 108334073, "body": "How do you ignore case sensitivity? For example if you had &#39;Cat cat&#39; and wanted to remove &#39;cat&#39;?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 207, "user_id": 10938315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c755cc9fdabbb2d9bcf04779df2953?s=128&d=identicon&r=PG&f=1", "display_name": "Omega", "link": "https://stackoverflow.com/users/10938315/omega"}, "edited": false, "score": 0, "creation_date": 1586988967, "post_id": 47319326, "comment_id": 108337288, "body": "@Omega try converting the whole string to lower case first, assuming the result case doesn&#39;t matter to you."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 13, "last_activity_date": 1554889901, "last_edit_date": 1554889901, "creation_date": 1510790092, "answer_id": 47319326, "question_id": 47316783, "link": "https://stackoverflow.com/questions/47316783/python-dataframe-remove-duplicate-words-in-the-same-cell-within-a-column-in-pyt/47319326#47319326", "title": "Python Dataframe: Remove duplicate words in the same cell within a column in Python", "body": "<p>If you're looking to get rid of consecutive duplicates <em>only</em>, this should suffice:</p>\n\n<pre><code>df['Desired'] = df['Current'].str.replace(r'\\b(\\w+)(\\s+\\1)+\\b', r'\\1')\ndf\n\n           Current          Desired\n0       Racoon Dog       Racoon Dog\n1          Cat Cat              Cat\n2  Dog Dog Dog Dog              Dog\n3  Rat Fox Chicken  Rat Fox Chicken\n</code></pre>\n\n<p><strong>Details</strong></p>\n\n<pre><code>\\b        # word boundary\n(\\w+)     # 1st capture group of a single word\n( \n\\s+       # 1 or more spaces\n\\1        # reference to first group \n)+        # one or more repeats\n\\b\n</code></pre>\n\n<p><sub>Regex from <a href=\"https://stackoverflow.com/a/2823037/4909087\">here</a>.</sub></p>\n\n<hr>\n\n<p>To remove non-consecutive duplicates, I'd suggest a solution involving the <code>OrderedDict</code> data structure:</p>\n\n<pre><code>from collections import OrderedDict\n\ndf['Desired'] = (df['Current'].str.split()\n                              .apply(lambda x: OrderedDict.fromkeys(x).keys())\n                              .str.join(' '))\ndf\n\n           Current          Desired\n0       Racoon Dog       Racoon Dog\n1          Cat Cat              Cat\n2  Dog Dog Dog Dog              Dog\n3  Rat Fox Chicken  Rat Fox Chicken\n</code></pre>\n"}], "owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5208, "favorite_count": 2, "closed_date": 1510833932, "accepted_answer_id": 47319326, "answer_count": 1, "score": 5, "last_activity_date": 1554889901, "creation_date": 1510778179, "last_edit_date": 1510790448, "question_id": 47316783, "link": "https://stackoverflow.com/questions/47316783/python-dataframe-remove-duplicate-words-in-the-same-cell-within-a-column-in-pyt", "closed_reason": "Needs more focus", "title": "Python Dataframe: Remove duplicate words in the same cell within a column in Python", "body": "<p>Below shows a column with data I have and another column with the de-duplicated data I want.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/bHyD1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bHyD1.png\" alt=\"enter image description here\"></a></p>\n\n<p>I honestly don't even know how to start doing this in Python code.  I've read a couple of posts on this in R, but not in Python.  </p>\n"}, {"tags": ["python", "ip-address", "broadcast"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1510780913, "post_id": 47316777, "comment_id": 81585958, "body": "Why do you do <code>int(bin(int(octet)), 2)</code>? That&#39;s the same as <code>int(octet)</code>."}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 1, "creation_date": 1510784804, "post_id": 47316777, "comment_id": 81587918, "body": "Don&#39;t reinvent the wheel. Use the lib! <a href=\"https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Network.broadcast_address\" rel=\"nofollow noreferrer\">docs.python.org/3/library/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26934, "user_id": 8316315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44d833a8a46fea39d7bfca1540ea9c07?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Weimer", "link": "https://stackoverflow.com/users/8316315/florian-weimer"}, "is_accepted": true, "score": 1, "last_activity_date": 1547068067, "last_edit_date": 1547068067, "creation_date": 1510782478, "answer_id": 47317854, "question_id": 47316777, "link": "https://stackoverflow.com/questions/47316777/calculate-broadcast-by-ip-and-mask/47317854#47317854", "title": "Calculate broadcast by IP and mask", "body": "<p>-64 and 192 are actually the same value as 8-bit bytes.  You just need to mask the bytes with <code>0xff</code> to get numbers in the more standard 0\u2026255 range instead of the -128\u2026127 range you have now.  Something like this:</p>\n\n<pre><code>broadcast = [(ioctet | ~moctet) &amp; 0xff for ioctet, moctet in zip(ip, mask)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 493, "user_id": 6111465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72fJG.png?s=128&g=1", "display_name": "gammazero", "link": "https://stackoverflow.com/users/6111465/gammazero"}, "is_accepted": false, "score": 7, "last_activity_date": 1510783606, "creation_date": 1510783606, "answer_id": 47318117, "question_id": 47316777, "link": "https://stackoverflow.com/questions/47316777/calculate-broadcast-by-ip-and-mask/47318117#47318117", "title": "Calculate broadcast by IP and mask", "body": "<p>Instead of optimizing the Python code, use the <code>ipaddress</code> module to do the work.\n<a href=\"https://docs.python.org/3/library/ipaddress.html\" rel=\"noreferrer\">https://docs.python.org/3/library/ipaddress.html</a></p>\n\n<pre><code>import ipaddress\n\nIP = '192.168.32.16'\nMASK = '255.255.0.0'\n\nhost = ipaddress.IPv4Address(IP)\nnet = ipaddress.IPv4Network(IP + '/' + MASK, False)\nprint('IP:', IP)\nprint('Mask:', MASK)\nprint('Subnet:', ipaddress.IPv4Address(int(host) &amp; int(net.netmask)))\nprint('Host:', ipaddress.IPv4Address(int(host) &amp; int(net.hostmask)))\nprint('Broadcast:', net.broadcast_address)\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>IP: 192.168.32.16\nMask: 255.255.0.0\nSubnet: 192.168.0.0\nHost: 0.0.32.16\nBroadcast: 192.168.255.255\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 8446014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/164b31b5e546e7221b095ff7778569f2?s=128&d=identicon&r=PG&f=1", "display_name": "Vladislav Pavlowski", "link": "https://stackoverflow.com/users/8446014/vladislav-pavlowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6871, "favorite_count": 1, "closed_date": 1510784935, "accepted_answer_id": 47317854, "answer_count": 2, "score": 6, "last_activity_date": 1547068067, "creation_date": 1510778139, "last_edit_date": 1510780685, "question_id": 47316777, "link": "https://stackoverflow.com/questions/47316777/calculate-broadcast-by-ip-and-mask", "closed_reason": "Duplicate", "title": "Calculate broadcast by IP and mask", "body": "<p>i'm trying to calculate broadcast address by logic OR and NOT with specified ip and mask, but the func return me smth strange. Why?</p>\n\n<pre><code> IP = '192.168.32.16'\n MASK = '255.255.0.0' \n\n def get_ID(ip, mask):\n    ip = ip.split('.')\n    mask = mask.split('.')\n    ip = [int(bin(int(octet)), 2) for octet in ip]\n    mask = [int(bin(int(octet)), 2) for octet in mask]\n    subnet = [str(int(bin(ioctet &amp; moctet), 2)) for ioctet, moctet in zip(ip, mask)]\n    host = [str(int(bin(ioctet &amp; ~moctet), 2)) for ioctet, moctet in zip(ip, mask)]\n    broadcast = [str(int(bin(ioctet | ~moctet), 2)) for ioctet, moctet in zip(ip, mask)] # a mistake, i guess\n    print('Subnet: {0}'.format('.'.join(subnet)))\n    print('Host: {0}'.format('.'.join(host)))\n    print('Broadcast address: {0}'.format('.'.join(broadcast)))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/SPWDo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SPWDo.png\" alt=\"screenshot\"></a></p>\n"}, {"tags": ["python", "list", "tuples", "networkx", "valuetuple"], "answers": [{"tags": [], "owner": {"reputation": 4530, "user_id": 2973474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004343619888/picture?type=large", "display_name": "alexisdevarennes", "link": "https://stackoverflow.com/users/2973474/alexisdevarennes"}, "is_accepted": false, "score": 0, "last_activity_date": 1510778285, "creation_date": 1510778285, "answer_id": 47316805, "question_id": 47316770, "link": "https://stackoverflow.com/questions/47316770/how-can-you-loop-over-lists-of-tuples-where-you-compare-the-tuple-in-one-list-to/47316805#47316805", "title": "How can you loop over lists of tuples where you compare the tuple in one list to the other tuples in the same list?", "body": "<p>Use <code>in</code> and not <code>==</code></p>\n\n<pre><code>for x in check:\n    this = sorted(x) #the first tuple\n    for y in check:\n        that = sorted(y) #the other tuples in the list? in order to compare with 'this'.\n        if this in that:\n            check.remove(x) \n     # alternatively you might need to loop through this if its a tuple of tuples\n     # for t in this:\n     #     if t in that:\n     #         check.remove(x)\n\nprint(check)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 8947569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474aa32ead90b60b43126f78ed7a71c5?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/8947569/anna"}, "edited": false, "score": 0, "creation_date": 1510779128, "post_id": 47316920, "comment_id": 81585004, "body": "I tried to implement the code in my function but get this error: &quot;unhashable type: &#39;list&#39; &quot; . Have I perhaps implemented it wrong?"}], "tags": [], "owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "is_accepted": true, "score": 2, "last_activity_date": 1510779037, "last_edit_date": 1510779037, "creation_date": 1510778709, "answer_id": 47316920, "question_id": 47316770, "link": "https://stackoverflow.com/questions/47316770/how-can-you-loop-over-lists-of-tuples-where-you-compare-the-tuple-in-one-list-to/47316920#47316920", "title": "How can you loop over lists of tuples where you compare the tuple in one list to the other tuples in the same list?", "body": "<p>Repeated removal from a list is never a good a idea since it is <code>O(N)</code>.\nYou can do the cleaning in one non-nested run-through, however. It is better to build a clean list from scratch and possibly reassign it to the same variable:</p>\n\n<pre><code>seen, no_dupes = set(), []\nfor c in check:\n    s = tuple(sorted(c))\n    if s not in seen:\n         seen.add(s)\n         no_dupes.append(c)\n# check[:] = no_dupes  # if you must\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 8947569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474aa32ead90b60b43126f78ed7a71c5?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/8947569/anna"}, "edited": false, "score": 1, "creation_date": 1510779486, "post_id": 47316974, "comment_id": 81585209, "body": "It works for the first list in the list &#39;check&#39;, but it doesn&#39;t show the rest of the lists. Perhaps because of the return? as the for loop then stops (so it&#39;s only for the first list in the list &#39;check&#39;)?"}, {"owner": {"reputation": 29, "user_id": 7781320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09d1584274e18c04b3707caa8e286adf?s=128&d=identicon&r=PG&f=1", "display_name": "Khanh Nghiem", "link": "https://stackoverflow.com/users/7781320/khanh-nghiem"}, "reply_to_user": {"reputation": 23, "user_id": 8947569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474aa32ead90b60b43126f78ed7a71c5?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/8947569/anna"}, "edited": false, "score": 0, "creation_date": 1510780610, "post_id": 47316974, "comment_id": 81585807, "body": "Yes, take out the return"}], "tags": [], "owner": {"reputation": 29, "user_id": 7781320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09d1584274e18c04b3707caa8e286adf?s=128&d=identicon&r=PG&f=1", "display_name": "Khanh Nghiem", "link": "https://stackoverflow.com/users/7781320/khanh-nghiem"}, "is_accepted": false, "score": 0, "last_activity_date": 1510778924, "creation_date": 1510778924, "answer_id": 47316974, "question_id": 47316770, "link": "https://stackoverflow.com/questions/47316770/how-can-you-loop-over-lists-of-tuples-where-you-compare-the-tuple-in-one-list-to/47316974#47316974", "title": "How can you loop over lists of tuples where you compare the tuple in one list to the other tuples in the same list?", "body": "<p>Consider the instance <code>[(1,1), (1,1), (1,1)]</code>\nIn the first iteration, <code>x</code> is assigned to the first element in the list, <code>y</code> is also assigned to the first element, since <code>x=y</code>, remove <code>x</code>. Now when <code>y</code> is iterated to the second element, <code>x=y</code>, but now <code>x</code> has already been removed in the previous iteration. You should use dynamic programming:</p>\n\n<pre><code>new_check = []\nfor x in check:\n   this = sorted(x)\n   if x not in new_check:\n      new_check.append(x)\nreturn new_check\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8947569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474aa32ead90b60b43126f78ed7a71c5?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/8947569/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 996, "favorite_count": 0, "accepted_answer_id": 47316920, "answer_count": 3, "score": 0, "last_activity_date": 1510779037, "creation_date": 1510778113, "question_id": 47316770, "link": "https://stackoverflow.com/questions/47316770/how-can-you-loop-over-lists-of-tuples-where-you-compare-the-tuple-in-one-list-to", "title": "How can you loop over lists of tuples where you compare the tuple in one list to the other tuples in the same list?", "body": "<pre><code>    for x in check:\n        this = sorted(x) #the first tuple\n        for y in check:\n            that = sorted(y) #the other tuples in the list? in order to compare with 'this'.\n            if this == that:\n                check.remove(x) \n\n    print(check)\n</code></pre>\n\n<p>I basically want to check for every list (in the list 'check') if there are tuples that are the same, such as (1, 3) and (3, 1). Then I want to remove the the last one ((3,1)) out of the list 'check'. However, the function returns a \"list.remove(x): x not in list\" error when I use \"check.remove(x)\". When I used \"check.remove(y)\", the result was :</p>\n\n<p><a href=\"https://i.stack.imgur.com/2g85C.jpg\" rel=\"nofollow noreferrer\">output of \"check.remove(y)\"</a></p>\n\n<p>I noticed that the first tuple (of the tuple with the same value) got deleted and that in the second last list, that there is still a pair of tuples that have the same values. </p>\n\n<p><a href=\"https://i.stack.imgur.com/I3Ktc.jpg\" rel=\"nofollow noreferrer\">How the list 'check' looks like</a></p>\n\n<p>How can I compare the tuples with each other in the same list and remove the second one that contains the same values?</p>\n"}, {"tags": ["python", "recursion", "quandl"], "comments": [{"owner": {"reputation": 7796, "user_id": 2334254, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-6e2XuTZAjgM/AAAAAAAAAAI/AAAAAAAAABU/JpF2-AkHsH4/photo.jpg?sz=128", "display_name": "kpie", "link": "https://stackoverflow.com/users/2334254/kpie"}, "edited": false, "score": 0, "creation_date": 1510778216, "post_id": 47316763, "comment_id": 81584464, "body": "Have you tried using a smaller date range for your query?"}, {"owner": {"reputation": 721, "user_id": 3380902, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/301f0eae2d831fb52be6257140419762?s=128&d=identicon&r=PG&f=1", "display_name": "kms", "link": "https://stackoverflow.com/users/3380902/kms"}, "reply_to_user": {"reputation": 7796, "user_id": 2334254, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-6e2XuTZAjgM/AAAAAAAAAAI/AAAAAAAAABU/JpF2-AkHsH4/photo.jpg?sz=128", "display_name": "kpie", "link": "https://stackoverflow.com/users/2334254/kpie"}, "edited": false, "score": 0, "creation_date": 1510779056, "post_id": 47316763, "comment_id": 81584969, "body": "Yes. I tried using last 10 months - still seeing the error."}], "owner": {"reputation": 721, "user_id": 3380902, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/301f0eae2d831fb52be6257140419762?s=128&d=identicon&r=PG&f=1", "display_name": "kms", "link": "https://stackoverflow.com/users/3380902/kms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510868161, "creation_date": 1510778071, "last_edit_date": 1510868161, "question_id": 47316763, "link": "https://stackoverflow.com/questions/47316763/python-maximum-recursion-depth-exceeded-error-working-with-quandl-api-to-fetc", "title": "Python: Maximum Recursion depth exceeded Error | Working with Quandl API to fetch stock price data", "body": "<p>I am trying to fetch stock market data from Quandl for a list of ticker symbols scraped from S&amp;P 500.</p>\n\n<p>The API call is wrapped in a function and a for loop that iterates over a list of ticker symbols and passes them to the API call statement. However, upon running the function I am running into Recursion error.</p>\n\n<p>Here's my code block. The function takes two argument, API call and a list of tickr symbols.</p>\n\n<p>The API call is made by qd.get_table statement:</p>\n\n<pre><code>def get_quandl_data(quandl_code, tickr):\n    tickr_list = []\n    for i in tickr:\n        tickr_list.append(i)\n        #print(tickr_list[0])\n        #API call to fetch data\n        df = qd.get_table(quandl_code, qopts = {'columns': ['ticker', 'date', 'close']}, ticker=tickr_list, date = { 'gte': '2014-01-01', 'lte': '2017-11-01' }, paginate=True)\n        tickr_list.remove(i)\n        #Save data as pickle\n        df.to_pickle('qd_data.pickle')\nreturn df\n</code></pre>\n\n<p>The error thrown is: \n\"RecursionError: maximum recursion depth exceeded while calling a Python object\" and it points to the API call line in the code.</p>\n\n<p>Traceback:</p>\n\n<pre><code>---------------------------------------------------------------------------\nRecursionError                            Traceback (most recent call last)\n&lt;ipython-input-49-950ac093b844&gt; in &lt;module&gt;()\n----&gt; 1 qd_data = get_quandl_data('WIKI/PRICES', tickrs)\n      2 qd_data.head()\n\n&lt;ipython-input-48-d23d88ffb155&gt; in get_quandl_data(quandl_code, tickr)\n      5         #print(tickr_list[0])\n      6         #API call to fetch data\n----&gt; 7         df = qd.get_table(quandl_code, qopts = {'columns': ['ticker', 'date', 'close']}, ticker=tickr_list, date = { 'gte': '2014-01-01', 'lte': '2017-11-01' }, paginate=True)\n      8         tickr_list.remove(i)\n      9         #Save data as pickle\n</code></pre>\n\n<p>The desired behavior of the code is to create a data frame with stock market data fetched by the API for all ticker symbols in the list. </p>\n"}, {"tags": ["python", "csv", "outlook", "calendar"], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 8947008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fd64e2dfd8e3b9b35594a38e15a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "K. Freestone", "link": "https://stackoverflow.com/users/8947008/k-freestone"}, "is_accepted": false, "score": 0, "last_activity_date": 1510948060, "creation_date": 1510948060, "answer_id": 47358240, "question_id": 47316737, "link": "https://stackoverflow.com/questions/47316737/matching-outlook-calendar-dates-to-csv-dates-and-appending-match-to-list/47358240#47358240", "title": "Matching Outlook Calendar Dates to CSV Dates and Appending Match to List", "body": "<p>Nevermind, I solved the TypeError by converting </p>\n\n<pre><code>and i[4] in appointmentItem.Start:\n# to\nand i[4] in str(appointmentItem.Start):\n</code></pre>\n\n<p>Moreover, I reformatted my CSV beforehand so it will now match Outlook's format. As for my matches being appended in the wrong rows, I think I will solve that by appending matches to a separate CSV/dataframe, and then joining that dataframe to the original CSV/dataframe.</p>\n"}], "owner": {"reputation": 3, "user_id": 8947008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fd64e2dfd8e3b9b35594a38e15a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "K. Freestone", "link": "https://stackoverflow.com/users/8947008/k-freestone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510948060, "creation_date": 1510777987, "question_id": 47316737, "link": "https://stackoverflow.com/questions/47316737/matching-outlook-calendar-dates-to-csv-dates-and-appending-match-to-list", "title": "Matching Outlook Calendar Dates to CSV Dates and Appending Match to List", "body": "<p>Disclaimer: I'm relatively new to Python. I am attempting to write a script that will go through a CSV, check if certain columns match Outlook calendar items (by subject, organizer, and date match), and then have the script note that there was a successful match in a new column (I stole heavily from <a href=\"https://stackoverflow.com/questions/21477599/read-outlook-events-via-python\">this question</a>). Below is my whole script.</p>\n\n<pre><code>import win32com.client, datetime, re, os, csv, shutil\n\n# set cwd, create copy of original CSV, and access outlook API\nos.chdir('C:\\\\')\nshutil.copy('masterCheck.csv', 'inspectCheck.csv')\noutlook = win32com.client.Dispatch(\"Outlook.Application\").GetNamespace(\"MAPI\")\n\ninspectors = {'ASMITH': 'Smith, Aaron', 'JDOE': 'Doe, Jane', 'KZEEBOP': 'Zeebop, Kim'}\n\n#access csv and put it into a list\nwith open('inspectCheck.csv', 'r', newline = '', encoding='utf-8') as csvAppointments:\n    reader = csv.reader(csvAppointments)\n    masterList = list(reader)\n    del masterList[-1] # delete blank nested list\n    del masterList[1] #delete header\n    for i in masterList: # switch out names so they can match Outlook descriptors later\n        for key, value in inspectors.items():\n            if i[3] in key:\n                i[3] = value\n\n# create another list for appending later in the script\nfinalList = []\nfinalList += masterList\n\n# access the inspectors' calendars\nx = 0\ntry:\n    for inspector in inspectors.values():\n        recipient = outlook.createRecipient(inspector)\n        resolved = recipient.Resolve()\n        sharedCalendar = outlook.GetSharedDefaultFolder(recipient, 9)\n        codeAppointments = sharedCalendar.Items\n\n        #restrict to items in the next year\n        begin = datetime.date.today()\n        end = begin + datetime.timedelta(days = 365);\n        restriction = \"[Start] &gt;= '\" + begin.strftime(\"%m/%d/%Y\") + \"' AND [End] &lt;= '\" +end.strftime(\"%m/%d/%Y\") + \"'\"\n        restrictedItems = codeAppointments.Restrict(restriction)\n\n        # loop through inspectors' appointments and match\n        for appointmentItem in restrictedItems:\n            for i in masterList:\n                addressSearch = i[1]\n                if re.search(r'%s' % addressSearch, appointmentItem.Subject, re.IGNORECASE)\\\n                   and i[3] in appointmentItem.Organizer\\\n                   and i[4] in appointmentItem.Start:\n                    finalList[x].append(appointmentItem.Subject)\n                    x += 1\nexcept IndexError:\n    pass\n\n# update spreadsheet\nwith open('inspectCheckFinal.csv', 'w', newline = '') as csvAppointments:\n    appointmentsWriter = csv.writer(csvAppointments)\n    appointmentsWriter.writerows(finalList)\n</code></pre>\n\n<p>I have had success matching columns from my CSV to Outlook items. For example, I can get this to match.</p>\n\n<pre><code>if re.search(r'%s' % addressSearch, appointmentItem.Subject, re.IGNORECASE)\n</code></pre>\n\n<p>However, as soon as I try to match it to my date column (i[4]), it throws the error: <strong>TypeError: argument of type 'pywintypes.datetime' is not iterable</strong>. The dates in my CSV look like <em>2/11/2018</em> but the dates (when printed) in Outlook look like <em>2017-11-16 11:00:00+00:00</em>. I'm at a loss on how to match these two.</p>\n\n<p>Moreover, I am having trouble marking the CSV with successful matches. While the script will append a value to the end of each nested list (and then write it to a CSV), it will not append the value to the matched row of the CSV. For example, my output looks like:</p>\n\n<pre><code>Inspector     |Address     |Date     |Success?(print Address)\nASMITH        |212 Clark St|11/21/18 |Yes. 33 Blart Ave\nASMITH        |33 Blart Ave|11/20/18 |Yes. 212 Clark St\n</code></pre>\n\n<p>My guess is that my script finds a match in Outlook, and then appends that value to the end of a nested list. What I would like it to do is to match it in the row/nested list where it was actually matched. Apologies for the long post and thank you to those who read it.</p>\n"}, {"tags": ["python", "matplotlib"], "owner": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510777948, "creation_date": 1510777948, "question_id": 47316726, "link": "https://stackoverflow.com/questions/47316726/why-is-it-that-without-switching-to-pgf-cm-fonts-are-not-found-by-matplotlib", "title": "Why is it that without switching to `pgf`, CM fonts are not found by Matplotlib?", "body": "<p>I noticed that I cannot use Computer Modern fonts without loading the backend <code>pgf</code>. How come <code>matplotlib</code> is able to find CM fonts with <code>pgf</code> as backend, but cannot find them when using the default backend? Here is a toy example:</p>\n\n<h3>With <code>pgf</code></h3>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nplt.switch_backend('pgf')\nplt.rc('font',**{'family':'serif', 'serif': ['computer modern roman']})\n\nplt.plot(np.arange(10), np.random.randint(0, 10, 10))\nplt.xlabel(\"Count\")\nplt.ylabel(\"Value\")\nplt.title(\"Random Plots\")\n\nplt.savefig('test.pdf') # Saves figure with CM fonts\n</code></pre>\n\n<h3>Without <code>pgf</code></h3>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\n#plt.switch_backend('pgf')\nplt.rc('font',**{'family':'serif', 'serif': ['computer modern roman']})\n\nplt.plot(np.arange(10), np.random.randint(0, 10, 10))\nplt.xlabel(\"Count\")\nplt.ylabel(\"Value\")\nplt.title(\"Random Plots\")\n\nplt.savefig('test.pdf') # Warns that font family could not be found:\n\n/home/kartik/miniconda3/lib/python3.6/site-packages/matplotlib/font_manager.py:1297:\nUserWarning: findfont: Font family ['serif'] not found. Falling back to DejaVu Sans\n  (prop.get_family(), self.defaultFamily[fontext]))\n</code></pre>\n\n<hr>\n\n<p>Versions:</p>\n\n<pre><code>python: 3.6.2.final.0\npython-bits: 64\nOS: Linux\nOS-release: 4.10.0-38-generic\nmachine: x86_64\nprocessor: x86_64\nbyteorder: little\nLC_ALL: None\nLANG: en_US.UTF-8\nLOCALE: en_US.UTF-8\n\npandas: 0.21.0\nnumpy: 1.13.3\nmatplotlib: 2.0.2\n</code></pre>\n\n<hr>\n\n<p>Follow-up question: What other backends can find CM fonts?</p>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1510778277, "post_id": 47316688, "comment_id": 81584502, "body": "this is a javascript rendering problem, you&#39;ll have to check all the requests that are being created when visiting that url to get all the information. It doesn&#39;t come with that simple GET request."}, {"owner": {"reputation": 333, "user_id": 4730628, "user_type": "registered", "profile_image": "https://graph.facebook.com/868608303200862/picture?type=large", "display_name": "Aafaque Abdullah", "link": "https://stackoverflow.com/users/4730628/aafaque-abdullah"}, "edited": false, "score": 1, "creation_date": 1510778290, "post_id": 47316688, "comment_id": 81584509, "body": "This is because <code>urlopen(url)</code> returns you static content that has been loaded without JavaScript enabled. Just try disabling Javascript for <a href=\"https://www.basketball-reference.com/players/b/bryanko01.html\" rel=\"nofollow noreferrer\">basketball-reference.com/players/b/bryanko01.html</a> and see you wil get only one table. To get dynamic content in your html try <code>selenium</code> or similar packages to get html content."}, {"owner": {"reputation": 300, "user_id": 6538600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hY8nR.png?s=128&g=1", "display_name": "StegSchreck", "link": "https://stackoverflow.com/users/6538600/stegschreck"}, "edited": false, "score": 0, "creation_date": 1510778310, "post_id": 47316688, "comment_id": 81584516, "body": "I see that the tables are loaded dynamically. Are you sure, that they are present, when your script tries to access them? Maybe you need a <code>sleep(2)</code> just after the <code>urlopen</code> command in order to wait for the page to be loaded."}, {"owner": {"reputation": 51, "user_id": 8146053, "user_type": "registered", "profile_image": "https://graph.facebook.com/1625486817473075/picture?type=large", "display_name": "harir", "link": "https://stackoverflow.com/users/8146053/harir"}, "reply_to_user": {"reputation": 300, "user_id": 6538600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hY8nR.png?s=128&g=1", "display_name": "StegSchreck", "link": "https://stackoverflow.com/users/6538600/stegschreck"}, "edited": false, "score": 0, "creation_date": 1510778700, "post_id": 47316688, "comment_id": 81584747, "body": "@StegSchreck I tried including the a time.sleep(2) call right after the urlopen and it didn&#39;t seem to change anything...any other ideas?"}, {"owner": {"reputation": 51, "user_id": 8146053, "user_type": "registered", "profile_image": "https://graph.facebook.com/1625486817473075/picture?type=large", "display_name": "harir", "link": "https://stackoverflow.com/users/8146053/harir"}, "reply_to_user": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1510778750, "post_id": 47316688, "comment_id": 81584789, "body": "@eLRuLL any ideas on how to check all the requests that are being created when visiting the url?"}, {"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "reply_to_user": {"reputation": 300, "user_id": 6538600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hY8nR.png?s=128&g=1", "display_name": "StegSchreck", "link": "https://stackoverflow.com/users/6538600/stegschreck"}, "edited": false, "score": 0, "creation_date": 1510778930, "post_id": 47316688, "comment_id": 81584893, "body": "you can use Chrome&#39;s developer tools (View -&gt; Developer -&gt; Developer Tools) on the Network Tab. @StegSchreck suggestion is totally incorrect, <code>urlopen</code> will only make the asked request. If you really want to emulate a browser you should look into <code>selenium</code>."}], "owner": {"reputation": 51, "user_id": 8146053, "user_type": "registered", "profile_image": "https://graph.facebook.com/1625486817473075/picture?type=large", "display_name": "harir", "link": "https://stackoverflow.com/users/8146053/harir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1581188997, "creation_date": 1510777811, "last_edit_date": 1581188997, "question_id": 47316688, "link": "https://stackoverflow.com/questions/47316688/python-beautifulsoup-find-all-only-returns-first-table-from-html-instead-of-al", "title": "Python BeautifulSoup find_all() only returns first table from html instead of all tables?", "body": "<p>I'm trying to use BeautifulSoup to get the tables from this website: <a href=\"https://www.basketball-reference.com/players/b/bryanko01.html\" rel=\"nofollow noreferrer\">https://www.basketball-reference.com/players/b/bryanko01.html</a></p>\n\n<p>My code is as follows:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nfrom urllib.request import urlopen\n\n\nf = open(\"testhtml.txt\", 'w')\nurl = \"https://www.basketball-reference.com/players/b/bryanko01.html\"\nhtml = urlopen(url)\nbs = BeautifulSoup(html, \"html5lib\")\ntotals = [s.encode('utf-8') for s in bs.find_all(\"table\")]\nprint(len(totals)) # prints 1\nf.write(bs.prettify().encode('utf-8'))\nf.close()\n</code></pre>\n\n<p>I write to a file to look at the raw html and there are multiple tables (with the table tags), but for some reason, my call to <code>find_all(\"table\")</code> only returns one table.</p>\n\n<p>Please let me know if you have any thoughts as to what I may be doing wrong.f</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171, "user_id": 4174975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNpRi.png?s=128&g=1", "display_name": "Projski", "link": "https://stackoverflow.com/users/4174975/projski"}, "edited": false, "score": 0, "creation_date": 1510777752, "post_id": 47316635, "comment_id": 81584190, "body": "Is the number ever more than a single digit at the end of the string?"}, {"owner": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "reply_to_user": {"reputation": 171, "user_id": 4174975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNpRi.png?s=128&g=1", "display_name": "Projski", "link": "https://stackoverflow.com/users/4174975/projski"}, "edited": false, "score": 0, "creation_date": 1510778063, "post_id": 47316635, "comment_id": 81584363, "body": "@Projski No, they can be multi-digit."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1510781878, "post_id": 47316635, "comment_id": 81586436, "body": "StackOverflow expects you to <a href=\"http://meta.stackoverflow.com/questions/261592\">try to solve your own problem first</a>, and we also <a href=\"https://softwareengineering.meta.stackexchange.com/questions/6166\">don&#39;t answer homework questions</a>. Please update your question to show what you have already tried in a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. For further information, please see <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask good questions</a>, and take the <a href=\"http://stackoverflow.com/tour\">tour of the site</a> :)"}], "answers": [{"comments": [{"owner": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "edited": false, "score": 0, "creation_date": 1510778902, "post_id": 47316673, "comment_id": 81584869, "body": "I do not know why somebody&#39;s been messing with your answer, but it works just fine for me. Thanks :)"}], "tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": false, "score": 1, "last_activity_date": 1510778220, "last_edit_date": 1510778220, "creation_date": 1510777732, "answer_id": 47316673, "question_id": 47316635, "link": "https://stackoverflow.com/questions/47316635/how-to-convert-strings-with-even-or-odd-numbers-to-0-or-1/47316673#47316673", "title": "How to convert strings with even or odd numbers to 0 or 1?", "body": "<p>Using str.extract</p>\n\n<pre><code>df = df.apply(lambda x: ((x.str.extract('(\\d+)', expand = False)).astype(int) % 2 != 0).astype(int))\n\n\n    col_1   col_2\n0   1       0\n1   1       1\n2   0       0\n3   1       0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "edited": false, "score": 0, "creation_date": 1510778482, "post_id": 47316764, "comment_id": 81584609, "body": "Thanks, but as much I know :) I more have a problem how to combine it with combing the entire data frame for conversion. And can be done without regex?"}], "tags": [], "owner": {"reputation": 771, "user_id": 3844625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b97cddab4993aea5e55b0ae90ac0bcf7?s=128&d=identicon&r=PG", "display_name": "tjadli", "link": "https://stackoverflow.com/users/3844625/tjadli"}, "is_accepted": false, "score": 0, "last_activity_date": 1510778079, "creation_date": 1510778079, "answer_id": 47316764, "question_id": 47316635, "link": "https://stackoverflow.com/questions/47316635/how-to-convert-strings-with-even-or-odd-numbers-to-0-or-1/47316764#47316764", "title": "How to convert strings with even or odd numbers to 0 or 1?", "body": "<p>I am not sure about the context of this, but here you go : </p>\n\n<ol>\n<li><p>First step: extract the numbers you want to apply check. \nI think the best aproach is using regex, something like </p>\n\n<p>/.*(\\d+)/</p></li>\n<li><p>Second step is check if the number is odd or even: </p>\n\n<p>result = number % 2</p></li>\n</ol>\n\n<p>I hope it helps</p>\n"}, {"tags": [], "owner": {"reputation": 306, "user_id": 6272169, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10156870110820287/picture?type=large", "display_name": "mickNeill", "link": "https://stackoverflow.com/users/6272169/mickneill"}, "is_accepted": false, "score": 0, "last_activity_date": 1510778719, "creation_date": 1510778719, "answer_id": 47316922, "question_id": 47316635, "link": "https://stackoverflow.com/questions/47316635/how-to-convert-strings-with-even-or-odd-numbers-to-0-or-1/47316922#47316922", "title": "How to convert strings with even or odd numbers to 0 or 1?", "body": "<p>If you have the data in a list of lists(dataList), this works</p>\n\n<pre><code>newData = []\nfor lst in dataList:\n    data = []\n    for item in lst:\n        num = int(item[1::])%2\n        data.append(num)\n    newData.append(data)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>[1, 0]\n[1, 1]\n[0, 0]\n[1, 0]\n</code></pre>\n\n<p>Then you can output the data however you like</p>\n"}, {"comments": [{"owner": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "edited": false, "score": 0, "creation_date": 1510779644, "post_id": 47317023, "comment_id": 81585298, "body": "as always reliable:D Thanks:)"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "edited": false, "score": 0, "creation_date": 1510779707, "post_id": 47317023, "comment_id": 81585328, "body": "@TomaszPrzemski Yw~ :-) happy coding"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1510779127, "creation_date": 1510779127, "answer_id": 47317023, "question_id": 47316635, "link": "https://stackoverflow.com/questions/47316635/how-to-convert-strings-with-even-or-odd-numbers-to-0-or-1/47317023#47317023", "title": "How to convert strings with even or odd numbers to 0 or 1?", "body": "<pre><code>import re\ndf.applymap(lambda x : int(re.findall(r'\\d+',x)[0])%2)\nOut[866]: \n   col_1  col_2\n0      1      0\n1      1      1\n2      0      0\n3      1      0\n</code></pre>\n"}], "owner": {"reputation": 1049, "user_id": 8820330, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/UUBoU.jpg?s=128&g=1", "display_name": "Tomasz Przemski", "link": "https://stackoverflow.com/users/8820330/tomasz-przemski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "closed_date": 1510781867, "accepted_answer_id": 47317023, "answer_count": 4, "score": 0, "last_activity_date": 1510782076, "creation_date": 1510777595, "last_edit_date": 1510782076, "question_id": 47316635, "link": "https://stackoverflow.com/questions/47316635/how-to-convert-strings-with-even-or-odd-numbers-to-0-or-1", "closed_reason": "Needs more focus", "title": "How to convert strings with even or odd numbers to 0 or 1?", "body": "<p>Starting with the data of this form:</p>\n\n<pre><code>    col_1   col_2\n0   a1      a6\n1   a3      a7\n2   a4      a2\n3   a5      a8\n</code></pre>\n\n<p>Where values are letters with numbers at the end. And I would like to convert values to 0 or 1 depending on the parity or oddness of the number at the end string, to data frame:</p>\n\n<pre><code>    col_1   col_2\n0   1       0\n1   1       1\n2   0       0\n3   1       0\n</code></pre>\n\n<p>How I can approach this?</p>\n"}, {"tags": ["jquery", "python", "ajax", "django", "autocomplete"], "comments": [{"owner": {"reputation": 3034, "user_id": 1207003, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/zriiT.png?s=128&g=1", "display_name": "navyad", "link": "https://stackoverflow.com/users/1207003/navyad"}, "edited": false, "score": 0, "creation_date": 1510778087, "post_id": 47316584, "comment_id": 81584377, "body": "what issue are you facing ?"}, {"owner": {"reputation": 13, "user_id": 4204578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e27b758dde3b4ed0f51ff759a47343b?s=128&d=identicon&r=PG&f=1", "display_name": "Gamal Ali", "link": "https://stackoverflow.com/users/4204578/gamal-ali"}, "reply_to_user": {"reputation": 3034, "user_id": 1207003, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/zriiT.png?s=128&g=1", "display_name": "navyad", "link": "https://stackoverflow.com/users/1207003/navyad"}, "edited": false, "score": 0, "creation_date": 1510778418, "post_id": 47316584, "comment_id": 81584576, "body": "@navyad I want the Redirect to occur immediately after I click on the suggested list item, but it only happens after I choose the item and then press enter."}], "owner": {"reputation": 13, "user_id": 4204578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e27b758dde3b4ed0f51ff759a47343b?s=128&d=identicon&r=PG&f=1", "display_name": "Gamal Ali", "link": "https://stackoverflow.com/users/4204578/gamal-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 432, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510784804, "creation_date": 1510777401, "last_edit_date": 1510784804, "question_id": 47316584, "link": "https://stackoverflow.com/questions/47316584/autocomplete-select-will-redirect-to-new-url", "title": "Autocomplete Select will redirect to new url", "body": "<p>I am using the <code>.autocomplete</code> from jQuery-ui. I would like to search through my ajax URL and return whatever is in my database. When I click on the autocomplete suggestions, I want it to redirect to another URL with whatever item I click to be a New Board and displaying on that page as a new board. </p>\n\n<p>I have seen some questions that ask for what I want, but I can't seem to get the redirect going. My python view only GET's the <code>'q'</code> after I click on the item and it fills the input with the name then I press 'Enter' and then it'll redirect. </p>\n\n<p>I am using Django, and inserting all the js/jQuery code inside of my templates for now. </p>\n\n<p>views.py</p>\n\n<pre><code>def search_boards(request):\n  boards = Board.objects.all()\n  query = request.GET.get('q')\n  if query:\n    print(query)\n    boards = boards.filter(name__icontains=query).distinct()\n    if boards:\n      print(len(boards))\n      board = Board(name=[b.name for b in boards][0]\n      board.save()\n      return HttpResponseRedirect(reverse('home'))\n  return render(request, 'search_boards.html', {'boards': boards})\n\n\ndef ajax_search_boards(request):\n    if request.is_ajax():\n        search_text = request.GET.get('term', '')\n        boards = Board.objects.filter(name__icontains=search_text)\n        return JsonResponse([{'id': i, 'value': v.name} for i, v in enumerate(boards)], safe=False)\n</code></pre>\n\n<p>search_boards.html</p>\n\n<pre><code>&lt;body&gt;\n  &lt;form method=\"GET\" class=\"post-form\"&gt;{% csrf_token %}\n    &lt;label for=\"autocomplete\"&gt;Select a programming language: &lt;/label&gt;\n    &lt;input name=\"q\" id=\"autocomplete\"&gt;\n  &lt;/form&gt;\n\n  &lt;script&gt;\n    $(\"input[name='q']\").autocomplete({\n      source: '/ajax_search_boards/',\n      select: function(e, ui) {\n        if ($(\"input[name='q']\").val(ui.item.value)) {\n          $(\"#autocomplete\").val(ui.item.value);\n          $(\"#autocomplete\").submit();\n          location.href = '/'; // this will redirect me, but it wont redirect me with a new board created. \n        }\n      }\n    });\n  &lt;/script&gt;\n\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": ["python", "unit-testing"], "comments": [{"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1510777714, "post_id": 47316575, "comment_id": 81584167, "body": "Could you give some examples of input values and expected output values?"}, {"owner": {"reputation": 49, "user_id": 5368424, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000881068464/picture?type=large", "display_name": "Atif Imam", "link": "https://stackoverflow.com/users/5368424/atif-imam"}, "reply_to_user": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1510777937, "post_id": 47316575, "comment_id": 81584280, "body": "@quamrana . I have added the expected input and output . Kindly have a look at this."}, {"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1510778065, "post_id": 47316575, "comment_id": 81584364, "body": "The unit test looks fine. What happens when you run it?"}, {"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1510778119, "post_id": 47316575, "comment_id": 81584395, "body": "Just a comment: Try to write functions that don&#39;t print anything. You&#39;ll never be able to write unit tests that show that they print correctly."}, {"owner": {"reputation": 49, "user_id": 5368424, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000881068464/picture?type=large", "display_name": "Atif Imam", "link": "https://stackoverflow.com/users/5368424/atif-imam"}, "reply_to_user": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1510778149, "post_id": 47316575, "comment_id": 81584414, "body": "@quamrana. It passes well . I am asking because ,this is my first try on unittesting ,so i am not sure I am doing it the right way or not"}, {"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1510778287, "post_id": 47316575, "comment_id": 81584508, "body": "Everything looks fine. You should make sure that you have more cases. One assert in each of many test functions. You need to make sure that you have covered all of the operators."}, {"owner": {"reputation": 49, "user_id": 5368424, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000881068464/picture?type=large", "display_name": "Atif Imam", "link": "https://stackoverflow.com/users/5368424/atif-imam"}, "reply_to_user": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1510778474, "post_id": 47316575, "comment_id": 81584602, "body": "@quamrana . Okay . Thanks for the help dude  ^_^"}], "owner": {"reputation": 49, "user_id": 5368424, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000881068464/picture?type=large", "display_name": "Atif Imam", "link": "https://stackoverflow.com/users/5368424/atif-imam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1510778089, "creation_date": 1510777350, "last_edit_date": 1510778089, "question_id": 47316575, "link": "https://stackoverflow.com/questions/47316575/how-to-write-unit-test-for-following-function-in-unittest-module-in-python", "title": "How to write unit test for following function in unittest module in python?", "body": "<p><strong>test_new.py</strong> is my main script file.</p>\n\n<p>So I am writing a python program to perform mathematical operation on Roman numbers . So I am writing test cases for that also . I have written test-cases for all other function but can't figure out how to write for this function </p>\n\n<pre><code>def operate(input_expression):\n    tokens = re.split(r'([+*/-])', input_expression)\n    expression = ''\n    for roman in tokens:\n        if(validate_roman(roman)==True):\n            expression+=str(roman_to_dec(roman))\n        else:\n            expression+=str(roman)\n    print (expression)\n    retVal = (eval(expression))\n    return (dec_to_roman(retVal))\n</code></pre>\n\n<p>Kindly help me with this .</p>\n\n<p><br>\nI am providing input as:<br></p>\n\n<pre><code>print(operate(\"I+III+I\"))\n</code></pre>\n\n<p>output will be :<br></p>\n\n<pre><code>1+3+1\nV\n</code></pre>\n\n<p><br>\nSo I made this unittest for this function :<br></p>\n\n<pre><code>def test_operate(self):\n        result=test_new.operate(\"X+X/X\")\n        self.assertEqual(result,\"XI\")\n</code></pre>\n\n<p>Is it correct ? Or I need to make some changes  ?</p>\n"}]