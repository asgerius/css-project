[{"tags": ["python", "django", "django-admin", "django-autocomplete-light"], "comments": [{"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 3, "creation_date": 1490229212, "post_id": 42964856, "comment_id": 73024309, "body": "You don&#39;t need to \u201cset where the static files for the DAL are\u201d. You need to run <code>.&#47;manage.py collectstatic</code> in the server."}], "answers": [{"tags": [], "owner": {"reputation": 397, "user_id": 6868271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a14f95450cb1818f30fa5f4987572f84?s=128&d=identicon&r=PG&f=1", "display_name": "Goun2", "link": "https://stackoverflow.com/users/6868271/goun2"}, "is_accepted": true, "score": 1, "last_activity_date": 1490233813, "creation_date": 1490233813, "answer_id": 42965822, "question_id": 42964856, "link": "https://stackoverflow.com/questions/42964856/django-autocomplete-select-does-not-work-when-deployed/42965822#42965822", "title": "Django autocomplete select does not work when deployed", "body": "<p>I solved by doing the following</p>\n\n<pre><code>STATIC_URL = '/static/'\nSTATIC_ROOT = '/home/myuser/myapp/static'\n</code></pre>\n\n<p>Static Files</p>\n\n<p>URL              Directory  </p>\n\n<pre><code>/static/    /home/myuser/myapp/static\n</code></pre>\n"}], "owner": {"reputation": 397, "user_id": 6868271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a14f95450cb1818f30fa5f4987572f84?s=128&d=identicon&r=PG&f=1", "display_name": "Goun2", "link": "https://stackoverflow.com/users/6868271/goun2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 42965822, "answer_count": 1, "score": 1, "last_activity_date": 1490233813, "creation_date": 1490227181, "last_edit_date": 1490233479, "question_id": 42964856, "link": "https://stackoverflow.com/questions/42964856/django-autocomplete-select-does-not-work-when-deployed", "title": "Django autocomplete select does not work when deployed", "body": "<p>I deployed an app in Pythonanywhere, and the Django autocomplete light for the admin page isn't being loaded, However when I run the app in the local host it works.</p>\n\n<p>For it to load, I need to set where the static files for the DAL are</p>\n\n<pre><code>/home/myusername/.virtualenvs/django17/lib/python3.4/site-packages/dal/static/autocomplete_light\n\n/home/myusername/.virtualenvs/django17/lib/python3.4/site-packages/dal_select2/static/autocomplete_light\n</code></pre>\n\n<p>I'm using django 1.10, python 3.4</p>\n"}, {"tags": ["python", "json", "python-2.7"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7753971, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GB7Uwd3sv9E/AAAAAAAAAAI/AAAAAAAAAMs/y5iIbekfDto/photo.jpg?sz=128", "display_name": "dacharya64", "link": "https://stackoverflow.com/users/7753971/dacharya64"}, "edited": false, "score": 1, "creation_date": 1490258057, "post_id": 42965163, "comment_id": 73034056, "body": "Thank you for the help and explanation -- this solved my problem!"}], "tags": [], "owner": {"reputation": 688, "user_id": 3934904, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eb37eab7ffaa3a64f2300cdcf156598d?s=128&d=identicon&r=PG&f=1", "display_name": "iafisher", "link": "https://stackoverflow.com/users/3934904/iafisher"}, "is_accepted": true, "score": 1, "last_activity_date": 1490229356, "creation_date": 1490229356, "answer_id": 42965163, "question_id": 42964845, "link": "https://stackoverflow.com/questions/42964845/writing-to-text-file-is-cut-off/42965163#42965163", "title": "Writing to text file is cut off", "body": "<p>Python2 loads JSON strings as <code>unicode</code> objects, which need to be encoded before they can be written to a file object. The reason your script is failing at item 31 is because that is apparently the first item which contains a non-ASCII character (in this case, U+2013 \"\u2013\").</p>\n\n<p>You'll want your code to look something like this:</p>\n\n<pre><code>import json\n\nfWrite = open('spelllistparsed.txt', 'w')\n\nwith open('spells.json') as data_file:\n    data = json.load(data_file)\n\n# note that you do not need to use enumerate here as you never use the index\nfor item in data:\n    name = item[\"fields\"][\"name\"].encode(\"utf-8\")\n    desc = item[\"fields\"][\"short_description\"].encode(\"utf-8\")\n    fWrite.write(\"'\" + name + \"': \" + \"'\" + desc + \"',\\n\")\n\n# always close open files when you're done!\nfWrite.close()\n</code></pre>\n\n<p>Alternatively, you could use Python3, in which case you'd just have to add the keyword argument <code>encoding='utf-8'</code> to the first call to <code>open</code> in your script. And you'd still want to close the file at the end.</p>\n"}, {"tags": [], "owner": {"reputation": 935, "user_id": 738924, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ee57204de04a618ddf0bfefae8429c6f?s=128&d=identicon&r=PG", "display_name": "theannouncer", "link": "https://stackoverflow.com/users/738924/theannouncer"}, "is_accepted": false, "score": 0, "last_activity_date": 1490229358, "creation_date": 1490229358, "answer_id": 42965165, "question_id": 42964845, "link": "https://stackoverflow.com/questions/42964845/writing-to-text-file-is-cut-off/42965165#42965165", "title": "Writing to text file is cut off", "body": "<p>You need to do <code>fWrite.close()</code> at the end of the file or use the same \"with\" context manager as with the spells file.</p>\n\n<p>Files are closed when Python exists, but file output is usually buffered and if there is no newline, pending output will not be flushed to the file system.</p>\n"}, {"tags": [], "owner": {"reputation": 7745, "user_id": 3926995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2l63X.jpg?s=128&g=1", "display_name": "Chiheb Nexus", "link": "https://stackoverflow.com/users/3926995/chiheb-nexus"}, "is_accepted": false, "score": 0, "last_activity_date": 1490230254, "last_edit_date": 1490230254, "creation_date": 1490229505, "answer_id": 42965187, "question_id": 42964845, "link": "https://stackoverflow.com/questions/42964845/writing-to-text-file-is-cut-off/42965187#42965187", "title": "Writing to text file is cut off", "body": "<p>You can try this example using <code>Python2</code> which fetch the data from the given URL:</p>\n\n<pre><code>from urllib2 import urlopen\nfrom json import loads\n# Fetching the data from this URL\nurl = \"https://raw.githubusercontent.com/machinalis/django-srd20/master/pathfinder/spells.json\"\n\ndef load_from_url(url = \"\"):\n    data = urlopen(url)\n    response = data.read()\n    return loads(response.decode('utf-8'))\n\n\ndef get_data(data = \"\"):\n    # The output file is called new_data\n    with open(\"new_data\", \"a\") as f:\n        for k in data:\n            f.write(\"'%s':'%s',\\n\" % (k[\"fields\"][\"name\"].encode('utf-8'), k[\"fields\"][\"short_description\"].encode('utf-8')))\n\ndata = load_from_url(url)\nget_data(data)\n</code></pre>\n\n<p>Also, you can achieve the task within <code>Python3</code>:</p>\n\n<pre><code>from urllib.request import urlopen\nfrom json import loads\n# Fetching the data from this URL\nurl = \"https://raw.githubusercontent.com/machinalis/django-srd20/master/pathfinder/spells.json\"\n\ndef load_from_url(url = \"\"):\n    with urlopen(url) as data:\n        response = data.read()\n        return loads(response.decode('utf-8'))\n\n\ndef get_data(data = \"\"):\n    # New file is called new_data\n    with open(\"new_data\", \"a\") as f:\n        for k in data:\n            f.write(\"'{0}':'{1}',\\n\".format(k[\"fields\"][\"name\"], k[\"fields\"][\"short_description\"]))\n\ndata = load_from_url(url)\nget_data(data)\n</code></pre>\n\n<p>Output (for the code using <code>Python2</code> and <code>Python3</code>:</p>\n\n<pre><code>'Acid Arrow':'Ranged touch attack; 2d4 damage for 1 round + 1 round/3 levels.',\n'Acid Fog':'Fog deals acid damage.',\n'Acid Splash':'Orb deals 1d3 acid damage.',\n'Aid':'+1 on attack rolls and saves against fear, 1d8 temporary hp +1/level (max +10).',\n'Air Walk':'Subject treads on air as if solid (climb or descend at 45-degree angle).',\n'Alarm':'Wards an area for 2 hours/level.',\n'Align Weapon':'Weapon becomes good, evil, lawful, or chaotic.',\n\n...\n\n'Weaken Powder':'Targeted firearm's ammunition halves the firearm's range and imposes a \u20132 penalty on damage rolls.',\n'Wilderness Soldiers':'Nearby plants aid you in combat.',\n'Wreath of Blades':'Four mithral daggers speed around you, attacking nearby creatures and protecting your spellcasting from attacks of opportunity.',\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7753971, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GB7Uwd3sv9E/AAAAAAAAAAI/AAAAAAAAAMs/y5iIbekfDto/photo.jpg?sz=128", "display_name": "dacharya64", "link": "https://stackoverflow.com/users/7753971/dacharya64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1294, "favorite_count": 1, "accepted_answer_id": 42965163, "answer_count": 3, "score": 1, "last_activity_date": 1490230254, "creation_date": 1490227091, "last_edit_date": 1490228913, "question_id": 42964845, "link": "https://stackoverflow.com/questions/42964845/writing-to-text-file-is-cut-off", "title": "Writing to text file is cut off", "body": "<p>I'm currently working on a some Python code to take certain text elements of a JSON file and write this text to a file in a <code>'spell name': 'description'</code> format. For instance, taking the name and short description elements of the following JSON file (edited for brevity):</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        \"pk\": 0,\n        \"model\": \"srd20.spell\",\n        \"fields\": {\n            \"description\": \"&lt;p&gt;An arrow of acid springs from your hand and speeds to its target. You must succeed on a &lt;a href=\\\"../combat.html#_ranged-touch-spells-in-combat-95\\\"&gt;ranged touch attack&lt;/a&gt; to hit your target. The arrow deals 2d4 points of acid damage with no splash damage. For every three caster levels you possess, the acid, unless neutralized, lasts for another round (to a maximum of 6 additional rounds at 18th level), dealing another 2d4 points of damage in each round.&lt;/p&gt;\",\n            \"school\": \"conjuration\",\n            \"saving_throw\": \"none\",\n            \"name\": \"Acid Arrow\",\n            \"reference\": \"prd/spells\",\n            \"level\": \"sorcerer/wizard 2\",\n            \"spell_resistance\": \"no\",\n            \"area\": \"\",\n            \"casting_time\": \"1 standard action\",\n            \"effect\": \"one arrow of acid\",\n            \"descriptor\": \"acid\",\n            \"range\": \"long (400 ft. + 40 ft./level)\",\n            \"short_description\": \"Ranged touch attack; 2d4 damage for 1 round + 1 round/3 levels.\",\n            \"components\": \"V, S, M (rhubarb leaf and an adder's stomach), F (a dart)\",\n            \"altname\": \"acid-arrow\",\n            \"duration\": \"1 round + 1 round per three levels\",\n            \"subschool\": \"creation\",\n            \"target\": \"\"\n        }\n    },\n...\n]\n</code></pre>\n\n<p>and writing these details to a file like so:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>'Acid Arrow': 'Ranged touch attack; 2d4 damage for 1 round + 1 round/3 levels.',\n</code></pre>\n\n<p>What I have so far seems to <em>almost</em> do the trick. It takes the JSON, runs through each element (spell on the list) and writes that spell's name and description to the file <code>spelllistparsed.txt</code> in the format I want:</p>\n\n<pre><code>import json\n\nfWrite = open('spelllistparsed.txt', 'w')\n\nwith open('spells.json') as data_file:\n    data = json.load(data_file)\n\nfor count, item in enumerate(data, start=0):\n    fWrite.write(\"'\" + data[count][\"fields\"][\"name\"] + \"': \" + \"'\"\n                 + data[count][\"fields\"][\"short_description\"] + \"',\\n\")\n</code></pre>\n\n<p>But the problem is when I run the program, it only ends up writing part of the list to the new file. The end result when I run it will show around 30 spells out of the thousand-or-so that are supposed to be there. Based on some trial and error, I've found the following things:</p>\n\n<ul>\n<li>This seems to happen no matter which method I use to iterate. I've tried using an integer count instead, and <code>for spell in data:</code> but they result in the same thing. Also tried incrementing by 2 -- every other spell gets written but it still gets cut off after around 50 or so spells.</li>\n<li>When I use a different second field for spells (not \"short_description\", but a different element of the spell, like \"description\" or \"effect\") a different amount of text is written to the file. For short text all 1000-or-so <code>spell name : second field</code> will be displayed, and for lots of text in the second field, it will only write a few spells over to the <code>spelllistparsed.txt</code>. I don't think there is a specific character limit on what is being written to the file, but this does seem to be part of the problem</li>\n<li>When I set the second field to always print the same thing (<code>data[0][\"fields\"][\"short_description\"]</code>) it successfully wrote all of the spells to the file as <code>'spell name': 'description for spell 0'</code> so the problem may be with processing many different descriptions</li>\n<li>As far as I know the JSON is valid and this should be possible (ran it through a JSONLint)</li>\n<li>When running the current code it writes to file the spells Acid Arrow through Baleful Polymorph</li>\n</ul>\n\n<p>Any help would be greatly appreciated! I feel like this should be relatively simple, but it's my first time with Python and my searching for a solution has been fruitless so far. Let me know if there's any other info I should include here that can help.</p>\n\n<p>JSON file of spells: <a href=\"https://github.com/machinalis/django-srd20/blob/master/pathfinder/spells.json\" rel=\"nofollow noreferrer\">https://github.com/machinalis/django-srd20/blob/master/pathfinder/spells.json</a></p>\n"}, {"tags": ["python", "list", "file-io", "filesystems"], "comments": [{"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 0, "creation_date": 1490229709, "post_id": 42964829, "comment_id": 73024457, "body": "did you try tarfile module?"}, {"owner": {"reputation": 173, "user_id": 6170426, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-hdBmlXJpntM/AAAAAAAAAAI/AAAAAAAAAt4/FPAHg2FZ-oM/photo.jpg?sz=128", "display_name": "Aramza", "link": "https://stackoverflow.com/users/6170426/aramza"}, "reply_to_user": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 0, "creation_date": 1490229868, "post_id": 42964829, "comment_id": 73024506, "body": "@user1753919 I know I have to use this, and I&#39;ve tried a few things, but I&#39;m stumped on how to go about using this with what I&#39;m trying to do. I haven&#39;t been able to find much help online."}], "answers": [{"tags": [], "owner": {"reputation": 746, "user_id": 7644596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/178d41ea6715a98f5aa2fafde437cb27?s=128&d=identicon&r=PG&f=1", "display_name": "jberrio", "link": "https://stackoverflow.com/users/7644596/jberrio"}, "is_accepted": false, "score": 0, "last_activity_date": 1490231136, "creation_date": 1490231136, "answer_id": 42965422, "question_id": 42964829, "link": "https://stackoverflow.com/questions/42964829/creating-empty-files-with-different-extensions-from-list-of-file-paths/42965422#42965422", "title": "Creating &quot;empty&quot; files with different extensions from list of file paths", "body": "<p>If the list of files is being created correctly, you can use some additional lines to create the empty files.  Hope this helps.</p>\n\n<pre><code>viszFiles = [] #List of .visz file paths\n    for root, dirs, files in os.walk('/Users/Blake/Desktop/'):\n        [viszFiles.append(os.path.join('/Users/Blake/Deskop/', _file))\n            for _file in files if\n            fnmatch.fnmatch(_file, '*.visz')]\n\nfor file in viszFiles:\n    filename, file_extension = os.path.splitext(file)\n    filename += '.visz'\n    with open(filename,'w') as f:\n        pass\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 6170426, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-hdBmlXJpntM/AAAAAAAAAAI/AAAAAAAAAt4/FPAHg2FZ-oM/photo.jpg?sz=128", "display_name": "Aramza", "link": "https://stackoverflow.com/users/6170426/aramza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490231136, "creation_date": 1490227000, "last_edit_date": 1490229044, "question_id": 42964829, "link": "https://stackoverflow.com/questions/42964829/creating-empty-files-with-different-extensions-from-list-of-file-paths", "title": "Creating &quot;empty&quot; files with different extensions from list of file paths", "body": "<p>I have a list called <code>viszFiles</code> and it has all the file paths to .visz files in a folder <code>['/Users/Blake/Deskop/blake.shelton.visz', '/Users/Blake/Deskop/bill.bob-1.visz']</code>. </p>\n\n<p>The list is generated by this snippet of code:</p>\n\n<pre><code>viszFiles = [] #List of .visz file paths\nfor root, dirs, files in os.walk('/Users/Blake/Desktop/'):\n    [viszFiles.append(os.path.join('/Users/Blake/Deskop/', _file))\n        for _file in files if\n            fnmatch.fnmatch(_file, '*.visz')]\n</code></pre>\n\n<p>I have searched long and hard and have been unsuccessful in finding out how to exactly go about this: Opening the .visz files (which are basically .tar.gz files) and then creating \"empty\" .ovpn versions of those files keeping just their root name, such as blake.shelton.visz would become blake.shelton.ovpn and so on for any other files with paths in the list. I don't want to copy any data, just create a .ovpn (basically a .tar.gz file I believe) \"empty\" copy with the same root name while maintaining the originals.</p>\n\n<p>I'd really appreciate the help!</p>\n"}, {"tags": ["python", "panel", "wxwidgets", "boxsizer"], "answers": [{"tags": [], "owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "is_accepted": false, "score": 0, "last_activity_date": 1490228738, "creation_date": 1490228738, "answer_id": 42965078, "question_id": 42964815, "link": "https://stackoverflow.com/questions/42964815/resizing-a-panel-after-constructing-it-with-boxsizer/42965078#42965078", "title": "Resizing a panel after constructing it with BoxSizer", "body": "<p>There's no chicken and egg because windows and sizers are not parent/children related. Sizers are a very good tool (they are not windows!) used to size windows.\n<p>If your panel is the only child of a frame then no sizer is needed: The panel will be sized to fit the client area of its parent frame.\n<p>If you want that the window who set the sizer changes its size when the sizer needs it (perhaps due to yo did use SetSize() in a panel whose size is managed by that sizer) just call Fit(), <code>self.Fit()</code> in your test() function.\n<p>I recomend reading <a href=\"http://docs.wxwidgets.org/trunk/overview_windowsizing.html#overview_windowsizing_func\" rel=\"nofollow noreferrer\">official docs for window sizing</a></p>\n"}, {"comments": [{"owner": {"reputation": 1141, "user_id": 1859744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a568c533bce0b4e7c0f18e303946d0f?s=128&d=identicon&r=PG", "display_name": "harmonica141", "link": "https://stackoverflow.com/users/1859744/harmonica141"}, "edited": false, "score": 0, "creation_date": 1563789409, "post_id": 57143166, "comment_id": 100801928, "body": "Could you please add some explanation as to why this code solves the problem so we all can learn from it?"}], "tags": [], "owner": {"reputation": 1, "user_id": 11743895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ce9f117515789369b88074660552a5?s=128&d=identicon&r=PG&f=1", "display_name": "kazuri", "link": "https://stackoverflow.com/users/11743895/kazuri"}, "is_accepted": false, "score": 0, "last_activity_date": 1563788317, "creation_date": 1563788317, "answer_id": 57143166, "question_id": 42964815, "link": "https://stackoverflow.com/questions/42964815/resizing-a-panel-after-constructing-it-with-boxsizer/57143166#57143166", "title": "Resizing a panel after constructing it with BoxSizer", "body": "<p>class MainFrame(wx.Frame):</p>\n\n<pre><code>def __init__(self):\n\n    wx.Frame.__init__(self, None, id = -1, title = 'Hello, World!', size = (500, 500))\n\n    self.__myPanel = wx.Panel(self, size = (50, 50), style = wx.SIMPLE_BORDER)\n\ndef test(self):\n\n    self.__myPanel.SetSize((400, 400))\n\n    vertBoxSizer = wx.BoxSizer(wx.VERTICAL)\n\n    vertBoxSizer.AddSpacer((0, 10))\n    vertBoxSizer.Add(self.__myPanel, 0, wx.ALL, 0)\n\n    self.SetSizer(vertBoxSizer)\n\n    self.Layout() \n</code></pre>\n\n<p>self.Fit()</p>\n"}], "owner": {"reputation": 303, "user_id": 4860686, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/69bf8a625946ce73aa19f37dc706d112?s=128&d=identicon&r=PG&f=1", "display_name": "Erik343", "link": "https://stackoverflow.com/users/4860686/erik343"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 775, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1563788317, "creation_date": 1490226920, "question_id": 42964815, "link": "https://stackoverflow.com/questions/42964815/resizing-a-panel-after-constructing-it-with-boxsizer", "title": "Resizing a panel after constructing it with BoxSizer", "body": "<p>I have a situation where I have to create a panel with content in the panel, and then after creating the panel, I need to resize it.\nThe size of the panel depends on the child content, and when you create the child content, you need to specify the parent panel; like a chicken and the egg problem.\nSo, I have a need to create the panel and its content, then based on the content, resize the panel...</p>\n\n<p>So, I made a mock up code example, where the panel starts out at 50 x 50, and after constructing it at that size, I want it to instead be 400 x 400.\nBut, when you run this on your computer, you just see it as 50 x 50. The SetSize((400, 400)) has no effect!</p>\n\n<p>How can I fix this and make SetSize take effect after applying the sizer?\nAny help is appreiciated...</p>\n\n<pre><code>import wx\n\nclass MainFrame(wx.Frame):\n\n    def __init__(self):\n\n        wx.Frame.__init__(self, None, id = -1, title = 'Hello, World!', size = (500, 500))\n\n        self.__myPanel = wx.Panel(self, size = (50, 50), style = wx.SIMPLE_BORDER)\n\n    def test(self):\n\n        self.__myPanel.SetSize((400, 400))\n\n        vertBoxSizer = wx.BoxSizer(wx.VERTICAL)\n\n        vertBoxSizer.AddSpacer((0, 10))\n        vertBoxSizer.Add(self.__myPanel, 0, wx.ALL, 0)\n\n        self.SetSizer(vertBoxSizer)\n\n        self.Layout()\n\nif __name__ == '__main__':\n    app = wx.App()\n\n    frame = MainFrame()    \n    frame.test()\n\n    frame.Show(True)\n    app.MainLoop()\n\n    print 'Exiting...'\n</code></pre>\n"}, {"tags": ["python", "neural-network", "theano", "keras"], "comments": [{"owner": {"reputation": 8468, "user_id": 1586200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111c497a3eb270092100e5ee807d9994?s=128&d=identicon&r=PG&f=1", "display_name": "Autonomous", "link": "https://stackoverflow.com/users/1586200/autonomous"}, "edited": false, "score": 1, "creation_date": 1490227283, "post_id": 42964800, "comment_id": 73023732, "body": "Please show your effort. <a href=\"http://stackoverflow.com/q/42792405/1586200\">This</a> question is a good starting point. It discusses Jacobian and Hessian."}, {"owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "edited": false, "score": 0, "creation_date": 1490239048, "post_id": 42964800, "comment_id": 73026990, "body": "When using Theano backend you have access to a method (<code>theano.gradient.jacobian()</code>) for calculating the jacobian: <a href=\"http://deeplearning.net/software/theano/library/gradient.html#theano.gradient.jacobian\" rel=\"nofollow noreferrer\">deeplearning.net/software/theano/library/&hellip;</a>"}, {"owner": {"reputation": 517, "user_id": 560587, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fa5bcd09f4af004e4f4df157386bd24a?s=128&d=identicon&r=PG", "display_name": "What what", "link": "https://stackoverflow.com/users/560587/what-what"}, "edited": false, "score": 0, "creation_date": 1490265477, "post_id": 42964800, "comment_id": 73039345, "body": "Gotcha, I was trying theano.function([model.layers[0].input], T.jacobian(model.layers[-1].output.flatten(), model.layers[0].input)) but the output shape was weird. (number of items * output size, number of items, input size)"}, {"owner": {"reputation": 2757, "user_id": 818663, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5593d77e46f458308087a5aa890ec24e?s=128&d=identicon&r=PG", "display_name": "Maystro", "link": "https://stackoverflow.com/users/818663/maystro"}, "edited": false, "score": 1, "creation_date": 1560783544, "post_id": 42964800, "comment_id": 99839524, "body": "How can we compute it if the backend is tensorflow?"}], "owner": {"reputation": 517, "user_id": 560587, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fa5bcd09f4af004e4f4df157386bd24a?s=128&d=identicon&r=PG", "display_name": "What what", "link": "https://stackoverflow.com/users/560587/what-what"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1167, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1490226841, "creation_date": 1490226841, "question_id": 42964800, "link": "https://stackoverflow.com/questions/42964800/get-jacobian-of-outputs-with-respect-to-inputs-in-keras", "title": "Get jacobian of outputs with respect to inputs in keras", "body": "<p>I'd like to get the jacobian of dy/dx in keras, I'm using theano as the backend.</p>\n"}, {"tags": ["python", "scipy", "numerical-methods", "solver", "numerical-integration"], "comments": [{"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1490234609, "post_id": 42964776, "comment_id": 73025826, "body": "If I read your code correctly, the way you&#39;ve set it up you are wasting 9 digits of accuracy; no wonder scipy is struggling. Can&#39;t you perform the integral from <i>t</i> to +infinity?"}, {"owner": {"reputation": 129, "user_id": 5983652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14d0a092319ddf207aad574f653acea?s=128&d=identicon&r=PG&f=1", "display_name": "oirectine", "link": "https://stackoverflow.com/users/5983652/oirectine"}, "reply_to_user": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1490285923, "post_id": 42964776, "comment_id": 73055269, "body": "@PaulPanzer Sorry, but where do the 9 digits come from?"}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1490293272, "post_id": 42964776, "comment_id": 73060000, "body": "If I understand you correctly you ultimately want to match <i>flag</i>, a term of order 1e-9. But you do the actual root finding on 1 - <i>flag</i> meaning that if you solve that with a relative accuracy of for example 1e-12 (which is quite demanding and not always possible) and then transform back from 1 - <i>S</i> to <i>S</i> then <i>S</i> will have an absolute error of order 1e-12, so the relative error will be of order 1e-3. If you could instead integrate from <i>tau</i> to +infinity, then you could compare directly to <i>flag</i> and this problem would go away."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 5983652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14d0a092319ddf207aad574f653acea?s=128&d=identicon&r=PG&f=1", "display_name": "oirectine", "link": "https://stackoverflow.com/users/5983652/oirectine"}, "edited": false, "score": 0, "creation_date": 1493160353, "post_id": 43327000, "comment_id": 74293388, "body": "Thanks! I&#39;ve since gotten this to work with other integration methods, but would like to try and get quadpy to work - I&#39;ve made an edit to the post above."}, {"owner": {"reputation": 36288, "user_id": 353337, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/500a1e2e864ae08f386afde2cd21add0?s=128&d=identicon&r=PG", "display_name": "Nico Schl&#246;mer", "link": "https://stackoverflow.com/users/353337/nico-schl%c3%b6mer"}, "reply_to_user": {"reputation": 129, "user_id": 5983652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14d0a092319ddf207aad574f653acea?s=128&d=identicon&r=PG&f=1", "display_name": "oirectine", "link": "https://stackoverflow.com/users/5983652/oirectine"}, "edited": false, "score": 0, "creation_date": 1493203210, "post_id": 43327000, "comment_id": 74311576, "body": "@oirectine Adapted my answer."}, {"owner": {"reputation": 129, "user_id": 5983652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14d0a092319ddf207aad574f653acea?s=128&d=identicon&r=PG&f=1", "display_name": "oirectine", "link": "https://stackoverflow.com/users/5983652/oirectine"}, "edited": false, "score": 0, "creation_date": 1493317247, "post_id": 43327000, "comment_id": 74377485, "body": "Thanks again - I&#39;ve tried both relaxing the tolerance and decreasing the minimum_interval_length to no avail. I don&#39;t know much about adaptive quadrature; do certain functions potentially not play nice with it? I have also tried to run the <code>adaptive_integrate</code> function outside of <code>fsolve</code> with known values and have gotten some nonsensical results. Any help is much appreciated!"}, {"owner": {"reputation": 36288, "user_id": 353337, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/500a1e2e864ae08f386afde2cd21add0?s=128&d=identicon&r=PG", "display_name": "Nico Schl&#246;mer", "link": "https://stackoverflow.com/users/353337/nico-schl%c3%b6mer"}, "reply_to_user": {"reputation": 129, "user_id": 5983652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14d0a092319ddf207aad574f653acea?s=128&d=identicon&r=PG&f=1", "display_name": "oirectine", "link": "https://stackoverflow.com/users/5983652/oirectine"}, "edited": false, "score": 0, "creation_date": 1493363206, "post_id": 43327000, "comment_id": 74394068, "body": "Best file a bug report over at quadpy with an MWE."}], "tags": [], "owner": {"reputation": 36288, "user_id": 353337, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/500a1e2e864ae08f386afde2cd21add0?s=128&d=identicon&r=PG", "display_name": "Nico Schl&#246;mer", "link": "https://stackoverflow.com/users/353337/nico-schl%c3%b6mer"}, "is_accepted": true, "score": 1, "last_activity_date": 1572951298, "last_edit_date": 1572951298, "creation_date": 1491837445, "answer_id": 43327000, "question_id": 42964776, "link": "https://stackoverflow.com/questions/42964776/improving-accuracy-in-scipy-optimize-fsolve-with-equations-involving-integration/43327000#43327000", "title": "Improving accuracy in scipy.optimize.fsolve with equations involving integration", "body": "<p>As an example, I tried <code>1 / x</code> for the integration between <code>1</code> and <code>alpha</code> to retrieve the target integral <code>2.0</code>. This</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import quadpy\nfrom scipy.optimize import fsolve\n\ndef f(alpha):\n    beta, _ = quadpy.quad(lambda x: 1.0/x, 1, alpha)\n    return beta\n\ntarget = 2.0\nres = fsolve(lambda alpha: target - f(alpha), x0=2.0)\nprint(res)\n</code></pre>\n\n<p>correctly returns <code>7.38905611</code>.</p>\n\n<p>The failing quadpy assertion</p>\n\n<blockquote>\n  <p><code>assert all(lengths &gt; minimum_interval_length)</code></p>\n</blockquote>\n\n<p>you're getting means that the adaptive integration hit its limit: Either relax your tolerance a bit, or decrease the <code>minimum_interval_length</code> (see <a href=\"https://github.com/nschloe/quadpy/blob/master/quadpy/line_segment.py#L80\" rel=\"nofollow noreferrer\">here</a>).</p>\n"}], "owner": {"reputation": 129, "user_id": 5983652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14d0a092319ddf207aad574f653acea?s=128&d=identicon&r=PG&f=1", "display_name": "oirectine", "link": "https://stackoverflow.com/users/5983652/oirectine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1117, "favorite_count": 0, "accepted_answer_id": 43327000, "answer_count": 1, "score": 1, "last_activity_date": 1572951298, "creation_date": 1490226676, "last_edit_date": 1493160282, "question_id": 42964776, "link": "https://stackoverflow.com/questions/42964776/improving-accuracy-in-scipy-optimize-fsolve-with-equations-involving-integration", "title": "Improving accuracy in scipy.optimize.fsolve with equations involving integration", "body": "<p>I'm trying to solve an integral equation using the following code (irrelevant parts removed):</p>\n\n<pre><code>def _pdf(self, a, b, c, t):\n    pdf = some_pdf(a,b,c,t)\n    return pdf\n\ndef _result(self, a, b, c, flag):\n    return fsolve(lambda t: flag - 1 + quad(lambda tau: self._pdf(a, b, c, tau), 0, t)[0], x0)[0]\n</code></pre>\n\n<p>Which takes a probability density function and finds a result <code>tau</code> such that the integral of pdf from tau to infinity is equal to <code>flag</code>. Note that <code>x0</code> is a (float) estimate of the root defined elsewhere in the script. Also note that <code>flag</code> is an extremely small number, on the order of <code>1e-9</code>.  </p>\n\n<p>In my application fsolve only successfully finds a root about 50% of the time. It often just returns <code>x0</code>, significantly biasing my results. There is no closed form for the integral of pdf, so I am forced to integrate numerically and feel that this might be introducing some inaccuracy?</p>\n\n<p>EDIT:</p>\n\n<p>This has since been solved using a method other than that described below, but I'd like to get quadpy to work and see if the results improve at all. The specific code I'm trying to get to work is as follows:</p>\n\n<pre><code>import quadpy\nimport numpy as np\nfrom scipy.optimize import *\nfrom scipy.special import gammaln, kv, gammaincinv, gamma\nfrom scipy.integrate import quad, simps\n\nl = 226.02453163\nmu = 0.00212571582056\nnu = 4.86569872444\nflag = 2.5e-09\nestimate = 3 * mu\n\ndef pdf(l, mu, nu, t):\n    return np.exp(np.log(2) + (l + nu - 1 + 1) / 2 * np.log(l * nu / mu) + (l + nu - 1 - 1) / 2 * np.log(t) + np.log(\n        kv(nu - l, 2 * np.sqrt(l * nu / mu * t))) - gammaln(l) - gammaln(nu))\n\n\ndef tail_cdf(l, mu, nu, tau):\n    i, error = quadpy.line_segment.adaptive_integrate(\n        lambda t: pdf(l, mu, nu, t), [tau, 10000], 1.0e-10\n    )\n    return i\n\nresult = fsolve(lambda tau: flag - tail_cdf(l, mu, nu, tau[0]), estimate)\n</code></pre>\n\n<p>When I run this I get an assertion error from <code>assert all(lengths &gt; minimum_interval_length)</code>. I'm not quite sure of how to remedy this; any help would be very much appreciated!</p>\n"}, {"tags": ["python", "macos", "opencv"], "answers": [{"tags": [], "owner": {"reputation": 104, "user_id": 2754799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/332537d256ec62357950882fa49f1c7a?s=128&d=identicon&r=PG&f=1", "display_name": "user2754799", "link": "https://stackoverflow.com/users/2754799/user2754799"}, "is_accepted": true, "score": 0, "last_activity_date": 1498813976, "creation_date": 1498813976, "answer_id": 44842819, "question_id": 42964766, "link": "https://stackoverflow.com/questions/42964766/open-cv-libgtk2-0-dev-and-pkg-config-error-mac/44842819#44842819", "title": "Open CV libgtk2.0-dev and pkg-config error mac", "body": "<p>You might be using <code>opencv-python</code> , which doesn't support many features. You have to uninstall <code>opencv-python</code> and then reinstall or rebuild OpenCV.</p>\n\n<pre><code>pip uninstall opencv-python\n</code></pre>\n\n<p>On mac OS, you can reinstall OpenCV with</p>\n\n<pre><code>brew uninstall opencv3\nbrew install opencv3 --with-ffmpeg -v\n</code></pre>\n\n<p>Make sure you are using correct Python, you might have different versions of Python installed with either brew, pyenv, or anaconda. Check <code>which python</code> you are using by executing this:</p>\n\n<pre><code>which python\n</code></pre>\n\n<p>where <code>/usr/local/bin/python</code> is from brew, and you'll know the others from the keyword shown in path.</p>\n"}], "owner": {"reputation": 13, "user_id": 4833074, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--QA_vM5xgFM/AAAAAAAAAAI/AAAAAAAAGX4/Tfh1WxMPvzc/photo.jpg?sz=128", "display_name": "rvaidun", "link": "https://stackoverflow.com/users/4833074/rvaidun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1776, "favorite_count": 0, "accepted_answer_id": 44842819, "answer_count": 1, "score": 1, "last_activity_date": 1528696089, "creation_date": 1490226632, "last_edit_date": 1490227453, "question_id": 42964766, "link": "https://stackoverflow.com/questions/42964766/open-cv-libgtk2-0-dev-and-pkg-config-error-mac", "title": "Open CV libgtk2.0-dev and pkg-config error mac", "body": "<p>Hi I am fairly new to OpenCV and I am trying to get OpenCV demo-code for blur detection working on my mac but I get an error every time I run the code.</p>\n\n<p>Here is the code I try to run:</p>\n\n<pre><code>    # import the necessary packages\nfrom imutils import paths\nimport argparse\nimport cv2\n\ndef variance_of_laplacian(image):\n    # compute the Laplacian of the image and then return the focus\n    # measure, which is simply the variance of the Laplacian\n    return cv2.Laplacian(image, cv2.CV_64F).var()\n\n\n# construct the argument parse and parse the arguments\nap = argparse.ArgumentParser()\nap.add_argument(\"-i\", \"--images\", required=True,\n                help=\"path to input directory of images\")\nap.add_argument(\"-t\", \"--threshold\", type=float, default=100.0,\n                help=\"focus measures that fall below this value will be considered 'blurry'\")\nargs = vars(ap.parse_args())\n# loop over the input images\nfor imagePath in paths.list_images(args[\"images\"]):\n    # load the image, convert it to grayscale, and compute the\n    # focus measure of the image using the Variance of Laplacian\n    # method\n    image = cv2.imread(imagePath)\n    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\n    fm = variance_of_laplacian(gray)\n    text = \"Not Blurry\"\n\n    # if the focus measure is less than the supplied threshold,\n    # then the image should be considered \"blurry\"\n    if fm &lt; args[\"threshold\"]:\n        text = \"Blurry\"\n\n    # show the image\n    cv2.putText(image, \"{}: {:.2f}\".format(text, fm), (10, 30),\n                cv2.FONT_HERSHEY_SIMPLEX, 0.8, (0, 0, 255), 3)\n    cv2.imshow(\"Image\", image)\n    key = cv2.waitKey(0)\n</code></pre>\n\n<p>I run the code by executing:</p>\n\n<pre><code>python detect_blur.py --images images\n</code></pre>\n\n<p>This is my terminal output:</p>\n\n<pre><code>OpenCV Error: Unspecified error (The function is not implemented. Rebuild the library with Windows, GTK+ 2.x or Carbon support. If you are on Ubuntu or Debian, install libgtk2.0-dev and pkg-config, then re-run cmake or configure script) in cvShowImage, file /Users/travis/build/skvark/opencv-python/opencv/modules/highgui/src/window.cpp, line 583\nTraceback (most recent call last):\n  File \"detect_blur.py\", line 37, in &lt;module&gt;\n    cv2.imshow(\"Image\", image)\ncv2.error: /Users/travis/build/skvark/opencv-python/opencv/modules/highgui/src/window.cpp:583: error: (-2) The function is not implemented. Rebuild the library with Windows, GTK+ 2.x or Carbon support. If you are on Ubuntu or Debian, install libgtk2.0-dev and pkg-config, then re-run cmake or configure script in function cvShowImage\n</code></pre>\n\n<p>I have already installed GTK+ and pkg-config but I still get the same error. I am not sure what to do next. I am fairly confident the problem is not with the code but with the installation</p>\n\n<p>This is the tutorial I followed to install OpenCV\n<a href=\"http://www.pyimagesearch.com/2016/12/19/install-opencv-3-on-macos-with-homebrew-the-easy-way/\" rel=\"nofollow noreferrer\">http://www.pyimagesearch.com/2016/12/19/install-opencv-3-on-macos-with-homebrew-the-easy-way/</a></p>\n"}, {"tags": ["python", "glob", "ros"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 4, "creation_date": 1490226302, "post_id": 42964691, "comment_id": 73023464, "body": "<code>glob</code> is a standard module. Which version of Python are you using?"}, {"owner": {"reputation": 335, "user_id": 3545586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce5e931498475c0536106584d48d1df4?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Amr", "link": "https://stackoverflow.com/users/3545586/omar-amr"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1490226487, "post_id": 42964691, "comment_id": 73023511, "body": "Python 3.5.2  Some solutions recommended reinstalling Ubuntu, but i&#39;m keeping that as plan B."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1490226522, "post_id": 42964691, "comment_id": 73023522, "body": "Please include the output of <code>python -m site</code>"}, {"owner": {"reputation": 335, "user_id": 3545586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce5e931498475c0536106584d48d1df4?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Amr", "link": "https://stackoverflow.com/users/3545586/omar-amr"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1490226827, "post_id": 42964691, "comment_id": 73023600, "body": "@wim I added it to the question"}, {"owner": {"reputation": 3388, "user_id": 4192897, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ypTqj.jpg?s=128&g=1", "display_name": "AmiNadimi", "link": "https://stackoverflow.com/users/4192897/aminadimi"}, "edited": false, "score": 0, "creation_date": 1610870501, "post_id": 42964691, "comment_id": 116264605, "body": "glob is part of the Standard Library in Python so you do not need to install it"}], "answers": [{"tags": [], "owner": {"reputation": 7503, "user_id": 1059273, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f49fd78553be0a74aef8736864937b5d?s=128&d=identicon&r=PG", "display_name": "cjds", "link": "https://stackoverflow.com/users/1059273/cjds"}, "is_accepted": false, "score": 1, "last_activity_date": 1490309353, "creation_date": 1490309353, "answer_id": 42988403, "question_id": 42964691, "link": "https://stackoverflow.com/questions/42964691/how-to-install-the-glob-module/42988403#42988403", "title": "How to install the &#39;glob&#39; module?", "body": "<p>ROS does not support Python 3 in the first place, so I would not recommend you use it. You should install 2.7. </p>\n\n<p>Redownload it: <a href=\"https://www.python.org/downloads/\" rel=\"nofollow noreferrer\">https://www.python.org/downloads/</a></p>\n\n<p>Here's the source for glob: <a href=\"https://docs.python.org/2/library/glob.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/glob.html</a></p>\n\n<p>As you can see it's in the Lib package which marks it as standard</p>\n"}, {"comments": [{"owner": {"reputation": 86, "user_id": 11749212, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QbaWV495OLw/AAAAAAAAAAI/AAAAAAAAAFQ/EPVtQa0ISMY/photo.jpg?sz=128", "display_name": "Skyler Wiernik", "link": "https://stackoverflow.com/users/11749212/skyler-wiernik"}, "edited": false, "score": 2, "creation_date": 1587512766, "post_id": 53029023, "comment_id": 108540202, "body": "You really shouldn&#39;t sudo install packages for security purposes."}, {"owner": {"reputation": 101, "user_id": 12392360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/902d83c8cb1e93b8f113d7f3d694d4b6?s=128&d=identicon&r=PG&f=1", "display_name": "J. Tylka", "link": "https://stackoverflow.com/users/12392360/j-tylka"}, "edited": false, "score": 1, "creation_date": 1610064795, "post_id": 53029023, "comment_id": 116022033, "body": "even for pip3 it&#39;s still glob2, not glob3 :-D"}], "tags": [], "owner": {"reputation": 405, "user_id": 7228335, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QsW2pjzag7o/AAAAAAAAAAI/AAAAAAAAvlU/Ag8VomKlMOk/photo.jpg?sz=128", "display_name": "Ishan Khatri", "link": "https://stackoverflow.com/users/7228335/ishan-khatri"}, "is_accepted": true, "score": 24, "last_activity_date": 1561599140, "last_edit_date": 1561599140, "creation_date": 1540709015, "answer_id": 53029023, "question_id": 42964691, "link": "https://stackoverflow.com/questions/42964691/how-to-install-the-glob-module/53029023#53029023", "title": "How to install the &#39;glob&#39; module?", "body": "<p>You are using Python 3.X and you are installing glob2 \nhere are the correct glob versions </p>\n\n<h1>for python 2.7</h1>\n\n<pre><code>sudo pip install glob2 \n</code></pre>\n\n<h1>for python 3.7</h1>\n\n<pre><code>sudo pip3 install glob3\n</code></pre>\n\n<p>hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 14810600, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjVa-V847408czZC7EZZpa6szu1QtoyoBpUI5CaZA=k-s128", "display_name": "H.A. R", "link": "https://stackoverflow.com/users/14810600/h-a-r"}, "is_accepted": false, "score": 2, "last_activity_date": 1610190931, "creation_date": 1610190931, "answer_id": 65641984, "question_id": 42964691, "link": "https://stackoverflow.com/questions/42964691/how-to-install-the-glob-module/65641984#65641984", "title": "How to install the &#39;glob&#39; module?", "body": "<p>for python 3, there is no glob3</p>\n<p>So use</p>\n<pre><code>sudo pip3 install glob2\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 3545586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce5e931498475c0536106584d48d1df4?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Amr", "link": "https://stackoverflow.com/users/3545586/omar-amr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68776, "favorite_count": 1, "accepted_answer_id": 53029023, "answer_count": 3, "score": 11, "last_activity_date": 1610190931, "creation_date": 1490226215, "last_edit_date": 1490229235, "question_id": 42964691, "link": "https://stackoverflow.com/questions/42964691/how-to-install-the-glob-module", "title": "How to install the &#39;glob&#39; module?", "body": "<p>I am running ubuntu 14.04 and trying to launch ROS Simulator. I have this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ImportError: No module named 'glob'\n</code></pre>\n\n<p>Installing glob2 does not solve the problem.</p>\n\n<p><code>python -m site</code> output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sys.path = [\n    '/home/omar',\n    '/opt/ros/indigo/lib/python2.7/dist-packages',\n    '/home/omar/anaconda3/lib/python35.zip',\n    '/home/omar/anaconda3/lib/python3.5',\n    '/home/omar/anaconda3/lib/python3.5/plat-linux',\n    '/home/omar/anaconda3/lib/python3.5/lib-dynload',\n    '/home/omar/anaconda3/lib/python3.5/site-packages',\n    '/home/omar/anaconda3/lib/python3.5/site-packages/Sphinx-1.4.6-py3.5.egg',\n    '/home/omar/anaconda3/lib/python3.5/site-packages/numba-0.29.0-py3.5-linux-x86_64.egg',\n    '/home/omar/anaconda3/lib/python3.5/site-packages/glob2-0.4.1-py3.5.egg',\n    '/home/omar/anaconda3/lib/python3.5/site-packages/setuptools-27.2.0-py3.5.egg',\n]\nUSER_BASE: '/home/omar/.local' (exists)\nUSER_SITE: '/home/omar/.local/lib/python3.5/site-packages' (doesn't exist)\nENABLE_USER_SITE: True\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 339, "user_id": 7335256, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gNjY8.png?s=128&g=1", "display_name": "Reen", "link": "https://stackoverflow.com/users/7335256/reen"}, "is_accepted": false, "score": 1, "last_activity_date": 1490226527, "creation_date": 1490226527, "answer_id": 42964746, "question_id": 42964664, "link": "https://stackoverflow.com/questions/42964664/list-of-dictionaries-to-pandas-dataframe/42964746#42964746", "title": "List of Dictionaries to Pandas Dataframe", "body": "<p>If every dictionary has the same keys, then this should work for what I think you're trying to do. </p>\n\n<pre><code>cols = list_of_dicts[0]['data'].keys()\ncols = list(cols)\ndf=pd.DataFrame(columns=cols)\nfor d in list_of_dicts:\n    df.append(d['data'], ignore_index=True)\n</code></pre>\n\n<p>If not, make sure you use a representative dictionary to initialize the dataframe.\nA little slow because it's in a for loop, but should do the trick.</p>\n"}, {"tags": [], "owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "is_accepted": true, "score": 2, "last_activity_date": 1490227071, "creation_date": 1490227071, "answer_id": 42964843, "question_id": 42964664, "link": "https://stackoverflow.com/questions/42964664/list-of-dictionaries-to-pandas-dataframe/42964843#42964843", "title": "List of Dictionaries to Pandas Dataframe", "body": "<p>you can pass list of dictionaries to pandas dataframe. For example see below</p>\n\n<pre><code>my_list = [\n\n{u'data': {u'approved_by': None,\nu'archived': False,\nu'author': u'des-tal',\nu'controversiality': 0,\nu'user_reports': []},\nu'kind': u't1'},\n\n {u'data': {u'approved_by': None,\nu'archived': True,\nu'author': u'des-tal',\nu'controversiality': 0,\nu'user_reports': []},\nu'kind': u't1'}\n\n]\n\nimport pandas as pd\ndf = pd.DataFrame([i['data'] for i in my_list])\nprint df.head()\n</code></pre>\n\n<p>results in </p>\n\n<pre><code>  approved_by archived   author  controversiality user_reports\n0        None    False  des-tal                 0           []\n1        None     True  des-tal                 0           []\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 2529977, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/229c555ccf29dd81ec0d1c3c8ed5d602?s=128&d=identicon&r=PG", "display_name": "Adam Makharita", "link": "https://stackoverflow.com/users/2529977/adam-makharita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5553, "favorite_count": 0, "accepted_answer_id": 42964843, "answer_count": 2, "score": 0, "last_activity_date": 1490241915, "creation_date": 1490225959, "last_edit_date": 1490241915, "question_id": 42964664, "link": "https://stackoverflow.com/questions/42964664/list-of-dictionaries-to-pandas-dataframe", "title": "List of Dictionaries to Pandas Dataframe", "body": "<p>I have a list of dictionaries that I want to convert to a dataframe. Here's what I'm doing:</p>\n\n<pre><code>comments = getComments(submission) #returns list of dicts\ntree = flattenTree(comments) #this just removes indentation from one of the text fields\ndf = pd.DataFrame(tree)['data']\n</code></pre>\n\n<p>df.head() returns:</p>\n\n<pre><code>0    {u'subreddit_id': u't5_2qj9g', u'banned_by': N...\n1    {u'subreddit_id': u't5_2qj9g', u'banned_by': N...\n2    {u'subreddit_id': u't5_2qj9g', u'banned_by': N...\n3    {u'subreddit_id': u't5_2qj9g', u'banned_by': N...\n4    {u'subreddit_id': u't5_2qj9g', u'banned_by': N...\nName: data, dtype: object\n</code></pre>\n\n<p>raw data is a list of nested dictionaries:</p>\n\n<pre><code>[{u'data': {u'approved_by': None,\nu'archived': False,\nu'author': u'des-tal',\nu'controversiality': 0,\n...\nu'user_reports': []},\nu'kind': u't1'},\n{u'data': {u'approved_by': None,\nu'archived': False,\n...\n</code></pre>\n\n<p>The format I'm looking for is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dciXC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dciXC.png\" alt=\"enter image description here\"></a></p>\n\n<p>which I can get by selecting rows from the dataframe like this: </p>\n\n<pre><code>...\ndf = pd.DataFrame(tree)['data']\ninddf = pd.DataFrame([df[0],df[1],df[3]])\nprint inddf\n</code></pre>\n\n<p>How can I form my dataframe from my dataset for all rows without manually selecting all the rows? I was trying to iterate through the index, but I'm sure there's a better way. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "rabbitmq", "celery"], "comments": [{"owner": {"reputation": 5369, "user_id": 2757561, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9bI2E.png?s=128&g=1", "display_name": "cralfaro", "link": "https://stackoverflow.com/users/2757561/cralfaro"}, "edited": false, "score": 0, "creation_date": 1490616243, "post_id": 42964642, "comment_id": 73175861, "body": "Basically my problem was, a confusion with the documentation, I was using 3.x version and was using documentation of 4.x...epic fail"}], "answers": [{"tags": [], "owner": {"reputation": 22648, "user_id": 2698552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/608fa09693cef8d410834bd55755dbed?s=128&d=identicon&r=PG", "display_name": "ChillarAnand", "link": "https://stackoverflow.com/users/2698552/chillaranand"}, "is_accepted": true, "score": 6, "last_activity_date": 1490372516, "creation_date": 1490372516, "answer_id": 43004486, "question_id": 42964642, "link": "https://stackoverflow.com/questions/42964642/celery-one-broker-multiple-queues-and-workers/43004486#43004486", "title": "celery one broker multiple queues and workers", "body": "<p>There is no need to get into complex routing for submitting tasks into different queues. Define your tasks as usual.</p>\n\n<pre><code>from celery import celery\n\napp = Celery('tasks', broker='pyamqp://guest@localhost//')\n\n@app.task\ndef task_1():\n    print \"Task of level 1\"\n\n\n@app.task\ndef task_2():\n    print \"Task of level 2\"\n</code></pre>\n\n<p>Now while queuing the tasks, put the tasks in proper queue. Here is an example on how to do it.</p>\n\n<pre><code>In [12]: from tasks import *\n\nIn [14]: result = task_1.apply_async(queue='queueA')\n\nIn [15]: result = task_2.apply_async(queue='queueB')\n</code></pre>\n\n<p>This will put the <code>task_1</code> in queue named <code>queueA</code> and <code>task_2</code> in <code>queueB</code>.</p>\n\n<p>Now you can just start your workers to consume them.</p>\n\n<pre><code>celery -A tasks worker --loglevel=debug -Q queueA --logfile=celery-A.log -n W1&amp;\ncelery -A tasks worker --loglevel=debug -Q queueB --logfile=celery-B.log -n W2&amp;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2173, "user_id": 520554, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/b71Bt.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/520554/abhishek"}, "is_accepted": false, "score": 0, "last_activity_date": 1540374871, "creation_date": 1540374871, "answer_id": 52966040, "question_id": 42964642, "link": "https://stackoverflow.com/questions/42964642/celery-one-broker-multiple-queues-and-workers/52966040#52966040", "title": "celery one broker multiple queues and workers", "body": "<p>Note: <code>task</code> and <code>message</code> are used interchangeably in the answer. It is basically a payload that the <code>producer</code> sends to RabbitMQ</p>\n\n<p>You can either follow approach suggested by Chillar or you can define and use the <code>task_routes</code> configuration to route the messages to appropriate queue. This way you don't need to specify queue name every time you call <code>apply_async</code>.</p>\n\n<p>Example: Route <strong>task1</strong> to <code>QueueA</code> and route <strong>task2</strong> to <code>QueueB</code></p>\n\n<pre><code>app = Celery('my_app')\napp.conf.update(\n    task_routes={\n        'task1': {'queue': 'QueueA'},\n        'task2': {'queue': 'QueueB'}\n    }\n)\n</code></pre>\n\n<p>Sending a task to multiple queue is a bit tricky. You will have to declare an exchange, and then route your task with appropriate <code>routing_key</code>. You can get more information about type of exchange <a href=\"https://www.rabbitmq.com/tutorials/amqp-concepts.html#exchanges\" rel=\"nofollow noreferrer\">here</a>. Let's go with <code>direct</code> for purpose of illustration.</p>\n\n<ol>\n<li><p>Create Exchange</p>\n\n<pre><code>from kombu import Exchange, Queue, binding\nexchange_for_queueA_and_B = Exchange('exchange_for_queueA_and_B', type='direct')\n</code></pre></li>\n<li><p>Create bindings on Queues to that exchange </p>\n\n<pre><code>app.conf.update(\n    task_queues=(\n        Queue('QueueA', [\n            binding(exchange_for_queueA_and_B, routing_key='queue_a_and_b')\n        ]),\n        Queue('QueueB', [\n            binding(exchange_for_queueA_and_B, routing_key='queue_a_and_b')\n        ])\n    )\n)\n</code></pre></li>\n<li><p>Define the <code>task_route</code> to send <strong>task1</strong> to the exchange</p>\n\n<pre><code>app.conf.update(\n    task_routes={\n        'task1': {'exchange': 'exchange_for_queueA_and_B', 'routing_key': 'queue_a_and_b'}\n    }\n)\n</code></pre></li>\n</ol>\n\n<p>You can also declare these options of <code>exchange</code> and <code>routing_key</code> in your <code>apply_async</code> method as suggested by Chillar in the above answer.</p>\n\n<p>After that, you can define your workers on same machine or different machines, to consume from those queues.</p>\n\n<pre><code>celery -A my_app worker -n consume_from_QueueA_and_QueueB -Q QueueA,QueueB\ncelery -A my_app worker -n consume_from_QueueA_only -Q QueueA\n</code></pre>\n"}], "owner": {"reputation": 5369, "user_id": 2757561, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9bI2E.png?s=128&g=1", "display_name": "cralfaro", "link": "https://stackoverflow.com/users/2757561/cralfaro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4300, "favorite_count": 1, "accepted_answer_id": 43004486, "answer_count": 2, "score": 1, "last_activity_date": 1540374871, "creation_date": 1490225844, "last_edit_date": 1490371961, "question_id": 42964642, "link": "https://stackoverflow.com/questions/42964642/celery-one-broker-multiple-queues-and-workers", "title": "celery one broker multiple queues and workers", "body": "<p>I have a python file called <code>tasks.py</code> in which I am defining 4 single tasks. I would like to configure celery in order to use 4 queues because each queue would have a different number of workers assigned. I was reading I should use <strong>route_task</strong> property but I tried several options and not a success. </p>\n\n<p>I was following this doc <a href=\"http://docs.celeryproject.org/en/latest/userguide/routing.html#manual-routing\" rel=\"nofollow noreferrer\">celery route_tasks docs</a></p>\n\n<p>My goal would be run 4 workers, one for each task, and don't mix tasks from different workers in different queues. It's possible? It's a good approach?</p>\n\n<p>If I am doing something wrong I would be happy to change my code to make it work</p>\n\n<p>Here is my config so far</p>\n\n<p>tasks.py</p>\n\n<pre><code>app = Celery('tasks', broker='pyamqp://guest@localhost//')\napp.conf.task_default_queue = 'default'\napp.conf.task_queues = (\n    Queue('queueA',    routing_key='tasks.task_1'),\n    Queue('queueB',    routing_key='tasks.task_2'),\n    Queue('queueC',    routing_key='tasks.task_3'),\n    Queue('queueD',    routing_key='tasks.task_4')\n)\n\n\n@app.task\ndef task_1():\n    print \"Task of level 1\"\n\n\n@app.task\ndef task_2():\n    print \"Task of level 2\"\n\n\n@app.task\ndef task_3():\n    print \"Task of level 3\"\n\n\n@app.task\ndef task_4():\n    print \"Task of level 4\"\n</code></pre>\n\n<p>Run celery one worker for each queue</p>\n\n<pre><code>celery -A tasks worker --loglevel=debug -Q queueA --logfile=celery-A.log -n W1&amp;\ncelery -A tasks worker --loglevel=debug -Q queueB --logfile=celery-B.log -n W2&amp;\ncelery -A tasks worker --loglevel=debug -Q queueC --logfile=celery-C.log -n W3&amp;\ncelery -A tasks worker --loglevel=debug -Q queueD --logfile=celery-D.log -n W4&amp;\n</code></pre>\n"}, {"tags": ["python", "regex", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 5288, "user_id": 6277525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cdd8aedc14bc95b56efed36de1dd034?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew L", "link": "https://stackoverflow.com/users/6277525/andrew-l"}, "edited": false, "score": 0, "creation_date": 1490226293, "post_id": 42964627, "comment_id": 73023460, "body": "Does this work? energy[&#39;Country&#39;].replace(&#39;...&#39;, &#39;a&#39;, inplace=True)"}, {"owner": {"reputation": 1464, "user_id": 6422477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfe77ac77c45773f62ee2c12d3e06c92?s=128&d=identicon&r=PG&f=1", "display_name": "CezarySzulc", "link": "https://stackoverflow.com/users/6422477/cezaryszulc"}, "reply_to_user": {"reputation": 5288, "user_id": 6277525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cdd8aedc14bc95b56efed36de1dd034?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew L", "link": "https://stackoverflow.com/users/6277525/andrew-l"}, "edited": false, "score": 0, "creation_date": 1490265621, "post_id": 42964627, "comment_id": 73039429, "body": "I need change whole values, not just the triple dots."}], "answers": [{"comments": [{"owner": {"reputation": 1464, "user_id": 6422477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfe77ac77c45773f62ee2c12d3e06c92?s=128&d=identicon&r=PG&f=1", "display_name": "CezarySzulc", "link": "https://stackoverflow.com/users/6422477/cezaryszulc"}, "edited": false, "score": 0, "creation_date": 1490265486, "post_id": 42968182, "comment_id": 73039350, "body": "I try .replace(r&#39;\\.\\.\\.&#39;, &#39;a&#39;), but result is the same like before (no change in values which have &#39;...&#39;)."}], "tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1490248116, "creation_date": 1490248116, "answer_id": 42968182, "question_id": 42964627, "link": "https://stackoverflow.com/questions/42964627/python-regular-expressions-search-dots-in-pandas-data-frame/42968182#42968182", "title": "Python, regular expressions - search dots in pandas data frame", "body": "<p><code>.replace(r'[...]', 'a')</code> treats the first parameter as a regular expression, but you want to treat it literally. So, you need <code>.replace(r'\\.\\.\\.', 'a')</code>. </p>\n\n<p>As for your actual question, <code>.str.replace</code> requires a string as the second parameter. It attempts to convert <code>np.nan</code> to a string (which is not possible) and fails. For the reason not known to me, instead of raising a <code>TypeError</code>, it instead returns <code>np.nan</code> for each row.</p>\n"}, {"tags": [], "owner": {"reputation": 756, "user_id": 5768636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/572024692c500c36ccd8f41574b5e308?s=128&d=identicon&r=PG&f=1", "display_name": "b2002", "link": "https://stackoverflow.com/users/5768636/b2002"}, "is_accepted": true, "score": 0, "last_activity_date": 1517777208, "creation_date": 1517777208, "answer_id": 48612855, "question_id": 42964627, "link": "https://stackoverflow.com/questions/42964627/python-regular-expressions-search-dots-in-pandas-data-frame/48612855#48612855", "title": "Python, regular expressions - search dots in pandas data frame", "body": "<p>Is this what you want when you say \"I need change whole values, not just the triple dots\"?</p>\n\n<pre><code>mask = df.Country.str.contains(r'\\.\\.\\.', na=False)\ndf.Country[mask] = 'a'\n</code></pre>\n"}], "owner": {"reputation": 1464, "user_id": 6422477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfe77ac77c45773f62ee2c12d3e06c92?s=128&d=identicon&r=PG&f=1", "display_name": "CezarySzulc", "link": "https://stackoverflow.com/users/6422477/cezaryszulc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 48612855, "answer_count": 2, "score": 0, "last_activity_date": 1521029947, "creation_date": 1490225753, "last_edit_date": 1521029947, "question_id": 42964627, "link": "https://stackoverflow.com/questions/42964627/python-regular-expressions-search-dots-in-pandas-data-frame", "title": "Python, regular expressions - search dots in pandas data frame", "body": "<p>I have pandas.dataFrame with column 'Country', head() is below:</p>\n\n<pre><code>0                                                  tmp   \n1                     Environmental Indicators: Energy   \n2                                                  tmp   \n3    Energy Supply and Renewable Electricity Produc...   \n4                                                  NaN   \n5                                                  NaN   \n6                                                  NaN   \n7    Choose a country from the following drop-down ...   \n8                                                  NaN   \n9                                              Country\n</code></pre>\n\n<p>When I use this line:</p>\n\n<pre><code>energy['Country'] = energy['Country'].str.replace(r'[...]', 'a')\n</code></pre>\n\n<p>There is no change.\nBut when I use this line instead:</p>\n\n<pre><code>energy['Country'] = energy['Country'].str.replace(r'[...]', np.nan)\n</code></pre>\n\n<p>All values are NaN.</p>\n\n<p>Why does only second code change output? My goal is change valuses with triple dot only.</p>\n"}, {"tags": ["python", "matplotlib", "tkinter"], "comments": [{"owner": {"reputation": 1810, "user_id": 4955956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FR8x2.png?s=128&g=1", "display_name": "maz", "link": "https://stackoverflow.com/users/4955956/maz"}, "edited": false, "score": 0, "creation_date": 1490225613, "post_id": 42964565, "comment_id": 73023256, "body": "animate function returns nothing. Check an example <a href=\"http://matplotlib.org/2.0.0/examples/animation/animate_decay.html\" rel=\"nofollow noreferrer\">matplotlib.org/2.0.0/examples/animation/animate_decay.html</a>"}, {"owner": {"reputation": 119, "user_id": 7741988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1917235921878852/picture?type=large", "display_name": "Naseem Tomkinson", "link": "https://stackoverflow.com/users/7741988/naseem-tomkinson"}, "reply_to_user": {"reputation": 1810, "user_id": 4955956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FR8x2.png?s=128&g=1", "display_name": "maz", "link": "https://stackoverflow.com/users/4955956/maz"}, "edited": false, "score": 0, "creation_date": 1490226038, "post_id": 42964565, "comment_id": 73023382, "body": "Still gives me the error"}, {"owner": {"reputation": 1810, "user_id": 4955956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FR8x2.png?s=128&g=1", "display_name": "maz", "link": "https://stackoverflow.com/users/4955956/maz"}, "edited": false, "score": 0, "creation_date": 1490227130, "post_id": 42964565, "comment_id": 73023685, "body": "What did you change? Your animate function should return a line object, such as in`` line, = ax.plot([], [], lw=2)`` in the example. Yours returns nothing."}, {"owner": {"reputation": 119, "user_id": 7741988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1917235921878852/picture?type=large", "display_name": "Naseem Tomkinson", "link": "https://stackoverflow.com/users/7741988/naseem-tomkinson"}, "reply_to_user": {"reputation": 1810, "user_id": 4955956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FR8x2.png?s=128&g=1", "display_name": "maz", "link": "https://stackoverflow.com/users/4955956/maz"}, "edited": false, "score": 0, "creation_date": 1490228115, "post_id": 42964565, "comment_id": 73023994, "body": "i added the line return a"}, {"owner": {"reputation": 1810, "user_id": 4955956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FR8x2.png?s=128&g=1", "display_name": "maz", "link": "https://stackoverflow.com/users/4955956/maz"}, "edited": false, "score": 0, "creation_date": 1490229311, "post_id": 42964565, "comment_id": 73024332, "body": "line is one of the returns of ax.plot, not a return from .add_subplot"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 1810, "user_id": 4955956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FR8x2.png?s=128&g=1", "display_name": "maz", "link": "https://stackoverflow.com/users/4955956/maz"}, "edited": false, "score": 0, "creation_date": 1490258335, "post_id": 42964565, "comment_id": 73034217, "body": "@maz  don&#39;t confuse people. The animate function <b>does not need to return anything</b>, as long as no blitting is used, which isn&#39;t the case here. The <a href=\"http://matplotlib.org/2.0.0/examples/animation/animate_decay.html\" rel=\"nofollow noreferrer\">animate_decay example</a> is just set up this way such that blitting can be easily set to True. In any case this is not the cause of the error."}], "answers": [{"comments": [{"owner": {"reputation": 24988, "user_id": 435129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JA1hK.jpg?s=128&g=1", "display_name": "P i", "link": "https://stackoverflow.com/users/435129/p-i"}, "edited": false, "score": 0, "creation_date": 1564328131, "post_id": 42971250, "comment_id": 100985768, "body": "Might you consider putting contact details in your profile page? I (and surely others) would greatly value professional consultancy re: MatPlotLib."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 24988, "user_id": 435129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JA1hK.jpg?s=128&g=1", "display_name": "P i", "link": "https://stackoverflow.com/users/435129/p-i"}, "edited": false, "score": 0, "creation_date": 1564328932, "post_id": 42971250, "comment_id": 100985966, "body": "@Pi I would think that people who really want to contact me, are profilient enough to find out my contact details, e.g. via the matplotlib project&#39;s <a href=\"https://github.com/matplotlib/matplotlib/blob/8d3e817d35937ecb303acb8601dd563919eb300b/.mailmap#L75\" rel=\"nofollow noreferrer\">mailmap</a>"}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 4, "last_activity_date": 1490259363, "last_edit_date": 1495540920, "creation_date": 1490259363, "answer_id": 42971250, "question_id": 42964565, "link": "https://stackoverflow.com/questions/42964565/matplotlib-animation-attributeerror-nonetype-object-has-no-attribute-new-t/42971250#42971250", "title": "matplotlib.animation - AttributeError: &#39;NoneType&#39; object has no attribute &#39;new_timer&#39;", "body": "<p>The error basically tells you that the figure does not have a canvas. </p>\n\n<p>To prevent that you need to make sure to only start the animation once the figure is added to the <code>FigureCanvasTkAgg</code>. Since we lack the complete code in the question, I can only link you to some other complete examples that are reported to work:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/a/42600436/4124317\">Embedding matplotlib canvas into tkinter GUI - plot is not showing up, but no error is thrown</a></li>\n<li><a href=\"https://stackoverflow.com/a/42834862/4124317\">Python. Error using animation.FuncAnimation</a></li>\n</ol>\n\n<p>In the second case the code from the question produces exactly the same error and a possible solution is to incorporate the animation in the tk class. </p>\n"}], "owner": {"reputation": 119, "user_id": 7741988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1917235921878852/picture?type=large", "display_name": "Naseem Tomkinson", "link": "https://stackoverflow.com/users/7741988/naseem-tomkinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10704, "favorite_count": 0, "accepted_answer_id": 42971250, "answer_count": 1, "score": 5, "last_activity_date": 1490259363, "creation_date": 1490225343, "question_id": 42964565, "link": "https://stackoverflow.com/questions/42964565/matplotlib-animation-attributeerror-nonetype-object-has-no-attribute-new-t", "title": "matplotlib.animation - AttributeError: &#39;NoneType&#39; object has no attribute &#39;new_timer&#39;", "body": "<p>The code below is a snippet of the code i have written, It basically shows a graph in a tkinter window but then struggles when it comes to adding animation(updating) the graph. The following is the error i keep getting, any help would be much appreciated.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\nasto\\Documents\\Company\\CMSFRAME.py\", line 163, in &lt;module&gt;\n    ani = animation.FuncAnimation (f, animate, interval=1000)\n  File \"C:\\Users\\nasto\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\matplotlib\\animation.py\", line 1462, in __init__\n    TimedAnimation.__init__(self, fig, **kwargs)\n  File \"C:\\Users\\nasto\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\matplotlib\\animation.py\", line 1225, in __init__\n    event_source = fig.canvas.new_timer()\nAttributeError: 'NoneType' object has no attribute 'new_timer'\n</code></pre>\n\n<hr>\n\n<p>The snippet of my code:</p>\n\n<pre><code>      canvas =  FigureCanvasTkAgg(f, self)\n      canvas.show()\n      canvas.get_tk_widget().pack(side=tk.LEFT,  fill=tk.BOTH, expand = True)\n      toolbar = NavigationToolbar2TkAgg(canvas, self)\n      toolbar.update()\n      canvas._tkcanvas.pack(side=tk.LEFT,  fill=tk.BOTH, expand = True)\n\nf = Figure(figsize = (5,5), dpi=100)\na = f.add_subplot(111)\n\ndef  animate(interval):\n    pullData = open('financeData.txt','r').read()\n    dataList = pullData.split('\\n')\n    xList = []\n    yList=[]\n    for eachLine in dataList:\n        if len(eachline) &gt;1:\n            x,  y = eachLine.split(',')\n            xList.append(int(x))\n            yList.append(int(x))\n    a.clear()\n    a.plot(xList, yList)\n\napp = start()\nani = animation.FuncAnimation (f, animate, interval=1000)\n</code></pre>\n"}, {"tags": ["python", "package", "anaconda", "uninstallation"], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 5775203, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/546d8322a7df2c44d8c551fee3d000ef?s=128&d=identicon&r=PG&f=1", "display_name": "geek2000", "link": "https://stackoverflow.com/users/5775203/geek2000"}, "is_accepted": false, "score": 1, "last_activity_date": 1490226740, "creation_date": 1490226740, "answer_id": 42964783, "question_id": 42964564, "link": "https://stackoverflow.com/questions/42964564/how-do-i-uninstall-a-package-locally-in-anaconda/42964783#42964783", "title": "How do I uninstall a package locally in anaconda?", "body": "<p>OK. I think I figured it out. I need to add --offline to the command!</p>\n"}], "owner": {"reputation": 361, "user_id": 5775203, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/546d8322a7df2c44d8c551fee3d000ef?s=128&d=identicon&r=PG&f=1", "display_name": "geek2000", "link": "https://stackoverflow.com/users/5775203/geek2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1486, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1490226740, "creation_date": 1490225343, "question_id": 42964564, "link": "https://stackoverflow.com/questions/42964564/how-do-i-uninstall-a-package-locally-in-anaconda", "title": "How do I uninstall a package locally in anaconda?", "body": "<p>I am trying to remove a package in anaconda (python) on a Linux server. The system cannot connect to the outside because of firewalls. So I need to do it locally. I tried this:</p>\n\n<p>#conda remove package-name</p>\n\n<p>but it wants to connect to the outside. How can I uninstall a package locally? If I just delete it, would it be uninstalled properly?</p>\n"}, {"tags": ["python", "pygame", "python-asyncio", "discord"], "answers": [{"tags": [], "owner": {"reputation": 48, "user_id": 8358140, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7U8BGQoKwW8/AAAAAAAAAAI/AAAAAAAAAIY/AA9poeHJVHc/photo.jpg?sz=128", "display_name": "VoxelVortex", "link": "https://stackoverflow.com/users/8358140/voxelvortex"}, "is_accepted": false, "score": 0, "last_activity_date": 1515443770, "creation_date": 1515443770, "answer_id": 48157690, "question_id": 42964486, "link": "https://stackoverflow.com/questions/42964486/discord-py-sending-message-twice/48157690#48157690", "title": "Discord.py sending message twice", "body": "<p>Well, you're making a function called <code>send_message()</code>. It's possible that it calls the method in <code>discord.py</code> and the function in your code. Remove your function as it doesn't really do anything for you anyways.</p>\n"}], "owner": {"reputation": 37, "user_id": 7736632, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/067cefd1d2d10aec993aaccd017803b2?s=128&d=identicon&r=PG&f=1", "display_name": "URFMODEG", "link": "https://stackoverflow.com/users/7736632/urfmodeg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1888, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515443770, "creation_date": 1490224883, "last_edit_date": 1490305277, "question_id": 42964486, "link": "https://stackoverflow.com/questions/42964486/discord-py-sending-message-twice", "title": "Discord.py sending message twice", "body": "<p>I want my bot to send one message but it often sends two of the same message (repeats the message even when I only wanted it to show once), this only occurs randomly from what I can tell from using the bot. Here is my code:</p>\n\n<pre><code>import discord, pygame, time, asyncio\nimport random\nfrom threading import Thread\n\n\nclient = discord.Client()\nsong = {0:\"LOL\",1:\"https://www.youtube.com/watch?v=cUbFzEMQ2Fs\",2:\"https://www.youtube.com/watch?v=YlomIQF2zbI\",3:\"https://www.youtube.com/watch?v=2yhhK_2HZzQ\" ,4:\"https://www.youtube.com/playlist?list=PLge2NVqdJnpDoUhLAdnaQiUCylTnMpWJQ\",5:\"https://www.youtube.com/watch?v=O6NvsM49N6w&amp;index=62\"}\nsongs = -1\nsongnum = 1\nsongmax = 3\n\nsongname = {1: \"Run\", 2: \"Windows down\", 3:\"Remember when\",4:\"Playlist\",5:\"How to be a heart breaker\"}\nsongmax = len(songname)\npygame.init()      # put these in the beginning\ngameDisplay = pygame.display.set_mode((500, 500))\nwhite = (255, 255, 255)\n\nclock = pygame.time.Clock()\n\ngreen = (0, 255, 0)\nred = (255, 0, 0)\nblack = (0, 0, 0)\nlightred = (230, 0, 0)\n\n\n\n\nasync def send_message(msg,channel):\n    await client.send_message(client.get_channel(channel), msg)     \n\ndef text(msg,x,y,color):\n    myfont = pygame.font.SysFont(\"monospace\", 15)\n\n\n    label = myfont.render(msg, 1, color)\n    gameDisplay.blit(label, (x, y))\n\n\n\n\ndef button(x, y, w, h, ac, ic, songs):\n    global songnum\n    global songmax\n\n    mouse = pygame.mouse.get_pos()\n    click = pygame.mouse.get_pressed()\n    if x + w &gt; mouse[0] &gt; x and y + h &gt; mouse[1] &gt; y:\n\n        pygame.draw.rect(gameDisplay, ac, (x, y, w, h))\n\n        if click[0] == 1:\n\n            if songs == 0:\n                if songnum == songmax:\n                    songnum = 1\n                else:\n                    songnum += 1\n            elif songs == 1:\n                if songnum == 1:\n                    songnum = songmax\n                else:\n                    songnum += -1\n            elif songs == 2:\n                asyncio.ensure_future(send_message(msg=\";;play \" + (song[songnum]), channel=\"channel id\"))\n                asyncio.ensure_future(send_message(msg=\"Added to queue: \" + (songname[songnum]), channel=\"channel id\"))\n                print(\"Added:\"+(songname[songnum]))\n            elif songs == 3:\n                asyncio.ensure_future(send_message(msg=\";;skip\" , channel=\"channel id\"))\n                asyncio.ensure_future(send_message(msg=\"Skipped a song\", channel=\"channel id\"))\n                print(\"Skipped\")\n            elif songs == 4:\n                asyncio.ensure_future(send_message(msg=\";;stop\" , channel=\"293852321912455169\"))\n                asyncio.ensure_future(send_message(msg=\"Stopped the music\", channel=\"259075498213113856\"))\n                print(\"Stopped music\")\n\n\n    else:\n        pygame.draw.rect(gameDisplay, ic, (x, y, w, h))\n\n\ndef run_gui():\n    gameDisplay.fill(white)\n    done = True\n    global songname\n    while done:\n        pygame.display.update()\n\n        for event in pygame.event.get():\n            gameDisplay.fill(white)\n            button(400, 300, 75, 100, red, black, 0)\n            text(\"Up\",400,300,white)\n            button(400, 100, 75, 100, red, black, 1)\n            text(\"Down\", 400, 100,white)\n            button(50, 50, 75, 100, red, black, 2)\n            text(\"Play\", 50, 50, white)\n            text(\"Music\", 50, 65, white)\n            button(50, 350, 75, 100, red, black, 3)\n            text(\"Skip\", 50, 350, white)\n            button(150, 350, 75, 100, red, black, 4)\n            text(\"Stop\", 150, 350, white)\n            text(str(songname[songnum]), 150, 250, black)\n\n\n\n        clock.tick(60)\n\ndef run_bot():\n    client.run('token')\n\n@client.event\nasync def on_ready():\n    print('Logged in as')\n    print(client.user.name)\n    print(client.user.id)\n    print('------')\n\n    channel = client.get_channel('id')      \n    #259075498213113857 for gernal\n    await client.join_voice_channel(channel)\n    print('Bot should joined the Channel')\n\n\n\nThread(target=run_bot).start()\nrun_gui()\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "exception", "traceback"], "comments": [{"owner": {"reputation": 1330, "user_id": 4041795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001661342971/picture?type=large", "display_name": "Montmons", "link": "https://stackoverflow.com/users/4041795/montmons"}, "edited": false, "score": 0, "creation_date": 1490225471, "post_id": 42964467, "comment_id": 73023203, "body": "Maybe just use an ordered dict? Not sure what it is you are asking though.."}, {"owner": {"reputation": 8920, "user_id": 691859, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5333743a4b84fe403d8429a9eab75d94?s=128&d=identicon&r=PG", "display_name": "2rs2ts", "link": "https://stackoverflow.com/users/691859/2rs2ts"}, "reply_to_user": {"reputation": 1330, "user_id": 4041795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001661342971/picture?type=large", "display_name": "Montmons", "link": "https://stackoverflow.com/users/4041795/montmons"}, "edited": false, "score": 0, "creation_date": 1490226164, "post_id": 42964467, "comment_id": 73023426, "body": "I want to raise an exception with that type, value, and traceback as if it had occurred in my code, even though all I have is this dict."}], "owner": {"reputation": 8920, "user_id": 691859, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5333743a4b84fe403d8429a9eab75d94?s=128&d=identicon&r=PG", "display_name": "2rs2ts", "link": "https://stackoverflow.com/users/691859/2rs2ts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490230913, "creation_date": 1490224808, "last_edit_date": 1495542728, "question_id": 42964467, "link": "https://stackoverflow.com/questions/42964467/reconstructing-an-exception-from-an-extracted-traceback", "title": "Reconstructing an exception from an extracted traceback", "body": "<p>I have a dict like this:</p>\n\n<pre><code>{\n  \"stackTrace\": [\n    [\"/path/to/some/code.py\", 10, \"some_function\", \"do_something()\"],\n    [\"/path/to/some/code.py\", 20, \"do_something\", \"raise MyException('aaaa')\"]\n  ],\n  \"errorType\": \"MyException\",\n  \"errorMessage\": \"aaaa\",\n}\n</code></pre>\n\n<p>I can make it pretty with <code>traceback.format_list</code> but I was wondering if there was a way to reconstruct the actual exception and raise it. I figure I can dynamically create the exception type and use the same message but how can I preserve the stack trace?</p>\n\n<p>edit: so, I've tried this, but I'm stuck on turning the <code>stackTrace</code> in my dict into a <code>traceback</code> object. I've no idea how to do it - <a href=\"https://stackoverflow.com/questions/27138440/how-to-create-a-traceback-object\">apparently it is very difficult to do</a> so I'm wondering if there's a different way to accomplish what I want.</p>\n\n<pre><code>raise type(mydict['errorType'], (Exception,), {}), mydict['errorMessage'], traceback???\n</code></pre>\n"}, {"tags": ["python", "opencv", "ubuntu"], "comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1490308230, "post_id": 42964408, "comment_id": 73067961, "body": "which python is pycharm using? is it the same python into which you install cv2?"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 6842747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GQKLV.jpg?s=128&g=1", "display_name": "Lucifer", "link": "https://stackoverflow.com/users/6842747/lucifer"}, "edited": false, "score": 0, "creation_date": 1490303110, "post_id": 42964500, "comment_id": 73065502, "body": "I have tried that, this is what I get for doing that :   Could not find a version that satisfies the requirement cv2 (from versions: )  No matching distribution found for cv2"}, {"owner": {"reputation": 316, "user_id": 5579161, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1HVpGdUHlRs/AAAAAAAAAAI/AAAAAAAAC8Q/SdM3W1kkwEU/photo.jpg?sz=128", "display_name": "Nathan Thompson", "link": "https://stackoverflow.com/users/5579161/nathan-thompson"}, "reply_to_user": {"reputation": 75, "user_id": 6842747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GQKLV.jpg?s=128&g=1", "display_name": "Lucifer", "link": "https://stackoverflow.com/users/6842747/lucifer"}, "edited": false, "score": 0, "creation_date": 1490308203, "post_id": 42964500, "comment_id": 73067951, "body": "Ah yes, apparently the the package is called <code>opencv-python</code> on pip. Edited answer to reflect--does this work?"}, {"owner": {"reputation": 75, "user_id": 6842747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GQKLV.jpg?s=128&g=1", "display_name": "Lucifer", "link": "https://stackoverflow.com/users/6842747/lucifer"}, "edited": false, "score": 0, "creation_date": 1517908512, "post_id": 42964500, "comment_id": 84274924, "body": "Yes it did. <code>opencv-python</code> did the job."}], "tags": [], "owner": {"reputation": 316, "user_id": 5579161, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1HVpGdUHlRs/AAAAAAAAAAI/AAAAAAAAC8Q/SdM3W1kkwEU/photo.jpg?sz=128", "display_name": "Nathan Thompson", "link": "https://stackoverflow.com/users/5579161/nathan-thompson"}, "is_accepted": true, "score": 4, "last_activity_date": 1490308102, "last_edit_date": 1490308102, "creation_date": 1490224975, "answer_id": 42964500, "question_id": 42964408, "link": "https://stackoverflow.com/questions/42964408/how-do-i-install-the-open-cv-library-for-use-in-pycharm-ide-on-a-ubuntu-16-04-sy/42964500#42964500", "title": "How do I install the open-cv library for use in Pycharm IDE on a Ubuntu 16.04 system using pip?", "body": "<p>Have you installed the package? Try running </p>\n\n<pre><code>pip install opencv-python\n</code></pre>\n\n<p>in the command line prompt, the proceed with <code>import cv2</code> in a python console.</p>\n"}, {"tags": [], "owner": {"reputation": 54, "user_id": 5606759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc0e77852eab78cf441c0a03b0432d7e?s=128&d=identicon&r=PG", "display_name": "Danushka herath", "link": "https://stackoverflow.com/users/5606759/danushka-herath"}, "is_accepted": false, "score": -1, "last_activity_date": 1490260321, "creation_date": 1490260321, "answer_id": 42971593, "question_id": 42964408, "link": "https://stackoverflow.com/questions/42964408/how-do-i-install-the-open-cv-library-for-use-in-pycharm-ide-on-a-ubuntu-16-04-sy/42971593#42971593", "title": "How do I install the open-cv library for use in Pycharm IDE on a Ubuntu 16.04 system using pip?", "body": "<p>Follow These Steps in this Tutorial:- </p>\n\n<p><a href=\"https://itsfoss.com/install-pycharm-ubuntu/\" rel=\"nofollow noreferrer\">https://itsfoss.com/install-pycharm-ubuntu/</a></p>\n"}], "owner": {"reputation": 75, "user_id": 6842747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GQKLV.jpg?s=128&g=1", "display_name": "Lucifer", "link": "https://stackoverflow.com/users/6842747/lucifer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5518, "favorite_count": 0, "accepted_answer_id": 42964500, "answer_count": 2, "score": 3, "last_activity_date": 1511648388, "creation_date": 1490224487, "last_edit_date": 1511648388, "question_id": 42964408, "link": "https://stackoverflow.com/questions/42964408/how-do-i-install-the-open-cv-library-for-use-in-pycharm-ide-on-a-ubuntu-16-04-sy", "title": "How do I install the open-cv library for use in Pycharm IDE on a Ubuntu 16.04 system using pip?", "body": "<p><code>main.py</code> : has line <code>import cv2</code>, but on running </p>\n\n<p><code>python main.py</code> and error is thrown.</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p><code>pip install opencv-python</code> installs cv2 package.</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "numpy"], "comments": [{"owner": {"reputation": 2631, "user_id": 1202834, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/518724a126e37579e4d114eddb0bc5c9?s=128&d=identicon&r=PG", "display_name": "aquil.abdullah", "link": "https://stackoverflow.com/users/1202834/aquil-abdullah"}, "edited": false, "score": 0, "creation_date": 1490235016, "post_id": 42964405, "comment_id": 73025931, "body": "I can&#39;t really tell what you are trying to do from the title and your description. Are you trying to fill NaN values in <code>CO2</code>? Or are you trying to find lines that meet a specific condition? If so can you please try and write that expression as a boolean expression? For example, radiation &gt; 0.002 and temperature &lt; 23.6."}, {"owner": {"reputation": 135, "user_id": 5676108, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/3Lcm8.jpg?s=128&g=1", "display_name": "Lucas Fagundes", "link": "https://stackoverflow.com/users/5676108/lucas-fagundes"}, "reply_to_user": {"reputation": 2631, "user_id": 1202834, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/518724a126e37579e4d114eddb0bc5c9?s=128&d=identicon&r=PG", "display_name": "aquil.abdullah", "link": "https://stackoverflow.com/users/1202834/aquil-abdullah"}, "edited": false, "score": 0, "creation_date": 1490267371, "post_id": 42964405, "comment_id": 73040719, "body": "I&#39;m trying to fill CO2 NaN values with conditions."}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1490288418, "post_id": 42964405, "comment_id": 73056957, "body": "Show us your code you have so far"}, {"owner": {"reputation": 135, "user_id": 5676108, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/3Lcm8.jpg?s=128&g=1", "display_name": "Lucas Fagundes", "link": "https://stackoverflow.com/users/5676108/lucas-fagundes"}, "edited": false, "score": 0, "creation_date": 1490355968, "post_id": 42964405, "comment_id": 73087003, "body": "I don&#39;t have a good code."}], "owner": {"reputation": 135, "user_id": 5676108, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/3Lcm8.jpg?s=128&g=1", "display_name": "Lucas Fagundes", "link": "https://stackoverflow.com/users/5676108/lucas-fagundes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490700803, "creation_date": 1490224467, "last_edit_date": 1490700803, "question_id": 42964405, "link": "https://stackoverflow.com/questions/42964405/python-dataframe-filling", "title": "Python dataframe filling", "body": "<p>Good morning, I'm having a big data failure problem in my <code>df</code>. I need to find the <code>CO2</code> value similar to another time using conditions I can not do with the line information. I have a 1-year df, with values every <code>30 minutes</code>. The values of <code>Temperature</code> and <code>Radiation</code> have no missing, I only have missing values in <code>CO2</code>.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\ndf = pd.read_hdf('./dados.hd5')\n\ndf.head()\n\nYear_DoY_Hour          Temperatura    radiacao        CO2\n2016-01-01 00:00:00    22.44570        0              380\n2016-01-01 00:30:00    22.445700       0              390 \n.\n.\n2016-01-15 00:00:00    22.88300        0              379\n2016-01-15 00:30:00    22.445700       0              381 \n2016-01-15 01:00:00    22.388300       0              NaN\n.\n.\n.\n2016-01-30 00:00:00    22.400000       0              350       \n2016-01-30 00:30:00    16.393900       0              375                \n2016-01-30 01:00:00    17.133900       0              365 \n</code></pre>\n\n<p>(a) Temperature must be between <code>+- 2.5 \u00b0 C</code>;\n(b) Radiation <code>+- 50W / m\u00b2</code>;</p>\n\n<p>I have to have a window of <code>-+ 3 days</code> between the value with NaN of <code>CO2</code>.</p>\n\n<p>Calculate the mean of the <code>CO2</code> values when <code>(a)</code> and <code>(b)</code> are accepted in the condition and place where I have the missing <code>CO2</code> data. In the df above we have that for the day and time <code>2016-01-15 01:00:00</code> we have NaN in the <code>CO2</code> and then I can not find a <code>temperature</code> and <code>radiation</code> to fill the value of <code>CO2</code>. I believe that with conditions I can do it, but I can not.</p>\n"}, {"tags": ["python", "django", "django-admin", "django-orm", "django-model-field"], "comments": [{"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1490229367, "post_id": 42964384, "comment_id": 73024350, "body": "Did you add migrations after you changed the field type?"}, {"owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "reply_to_user": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1490231490, "post_id": 42964384, "comment_id": 73024948, "body": "yes i did makemigrations and then did a migrate with no errors reported"}, {"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1490231662, "post_id": 42964384, "comment_id": 73024993, "body": "What&#39;s <code>student=student=None</code>?"}, {"owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "reply_to_user": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1490231705, "post_id": 42964384, "comment_id": 73025007, "body": "sorry typo let me fix it"}, {"owner": {"reputation": 408, "user_id": 4421994, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/206fadd490ea245d1447d0f775ca2d20?s=128&d=identicon&r=PG&f=1", "display_name": "laurenll", "link": "https://stackoverflow.com/users/4421994/laurenll"}, "edited": false, "score": 0, "creation_date": 1490244850, "post_id": 42964384, "comment_id": 73028469, "body": "Did you try cleaning out your migrations folder? You should be able to just delete everything except <code>__init__.py</code>. Then run makemigrations and migrate again. Not sure if that will solve this problem but I always do that when I get weird errors while messing with models."}, {"owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "edited": false, "score": 0, "creation_date": 1490246173, "post_id": 42964384, "comment_id": 73028892, "body": "Ill give that a try and post back however when i ran migrations after making the change i got no errors during the prcoess"}, {"owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "edited": false, "score": 0, "creation_date": 1490250768, "post_id": 42964384, "comment_id": 73030630, "body": "yep that did not help"}, {"owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "edited": false, "score": 0, "creation_date": 1490251190, "post_id": 42964384, "comment_id": 73030815, "body": "I think the problem is django doesnot support bulk update for manytomany fields.Adopted from <a href=\"http://stackoverflow.com/questions/33642949/admin-action-queryset-to-apply-many-to-many\" title=\"admin action queryset to apply many to many\">stackoverflow.com/questions/33642949/&hellip;</a>"}, {"owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "edited": false, "score": 0, "creation_date": 1490251222, "post_id": 42964384, "comment_id": 73030831, "body": "Still not sure how to use that knowledge to fix my problem"}], "answers": [{"tags": [], "owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "is_accepted": true, "score": 0, "last_activity_date": 1490254977, "last_edit_date": 1495540000, "creation_date": 1490254977, "answer_id": 42969958, "question_id": 42964384, "link": "https://stackoverflow.com/questions/42964384/exception-when-swapping-a-foreignkey-with-manytomany-field/42969958#42969958", "title": "Exception when swapping a ForeignKey with ManyToMany Field", "body": "<p>Fixed the problem. The problem is django does not support bulk update for manytomany fields <a href=\"https://stackoverflow.com/questions/33642949/admin-action-queryset-to-apply-many-to-many\">source</a></p>\n\n<p>Fixed this in the following way</p>\n\n<pre><code>def save(self, *args, **kwargs):\n    try:\n        instance = super(adminStudentForm, self).save(commit=False)\n        patients_qset = self.cleaned_data['patients']\n        for pqset in patients_qset:\n            pqset.student.add(instance)\n\n    except Exception as e:\n        print(e)\n        raise\n    return instance\n</code></pre>\n"}], "owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 42969958, "answer_count": 1, "score": 0, "last_activity_date": 1490254977, "creation_date": 1490224401, "last_edit_date": 1490231764, "question_id": 42964384, "link": "https://stackoverflow.com/questions/42964384/exception-when-swapping-a-foreignkey-with-manytomany-field", "title": "Exception when swapping a ForeignKey with ManyToMany Field", "body": "<p>I am getting the following error after I changed a ForeignKey relation to a ManyToMany relationship.Does update method work on Many to Many ?.</p>\n\n<blockquote>\n  <p>Cannot update model field\n   (only\n  non-relations and foreign keys permitted).</p>\n</blockquote>\n\n<p>Now this happens in the admin section when attempting to save a <code>modelStudent</code> model.This is the model whose field I changed to <code>ManytoMany</code></p>\n\n<p>Exhibit A:</p>\n\n<pre><code>class modelPatient(models.Model):\n    #student            = models.ForeignKey(modelStudent ,null=True, blank=True ) #Mutlipe Patients for single student\n    student            = models.ManyToManyField(modelStudent,null=True,default=None,blank=True)\n    patient_name       = models.CharField(max_length=128, unique=False)\n</code></pre>\n\n<p>Now this is what I have in my admin section (admin.py). Basically the purpose of this form was to allow the user to assign multiple students to a modelPatient in the admin interface.I would still like that feature</p>\n\n<p>Exhibit B:</p>\n\n<pre><code>class adminStudentForm(forms.ModelForm):\n    class Meta:\n        model = modelStudent\n        fields = '__all__'\n    patients = forms.ModelMultipleChoiceField(queryset=modelPatient.objects.all())\n\n    def __init__(self, *args, **kwargs):\n        super(adminStudentForm, self).__init__(*args, **kwargs)\n        if self.instance:\n\n            self.fields['patients'].initial = self.instance.modelpatient_set.all()\n\n    def save(self, *args, **kwargs):\n        try:\n            instance = super(adminStudentForm, self).save(commit=False)\n            self.fields['patients'].initial.update(student=None) &lt;-------EXCEPTION HERE\n            self.cleaned_data['patients'].update(student=instance)\n        except Exception as e:\n            print(e)\n        return instance\n</code></pre>\n\n<p>and then this is the registered interface</p>\n\n<p>Exhibit C:</p>\n\n<pre><code>class modelStudentAdmin(admin.ModelAdmin):\n    form = adminStudentForm\n    search_fields = ('first_name','user__username')\n#What records to show when the model is clicked in the admin\n#The super user should get everything and staff should get limited data\ndef get_queryset(self, request):\n    qs = super(modelStudentAdmin, self).get_queryset(request)\n\n    if request.user.is_superuser:\n        return qs\n    else:\n        # Get the school instance\n        # Only show the students that belong to this school\n        schoolInstance = modelSchool.objects.get(user=request.user)\n        qs = modelStudent.objects.filter(school=schoolInstance)\n        return qs\n\n#Limit the no. of options of Foreign Key that could be assigned\ndef formfield_for_foreignkey(self, db_field, request, **kwargs):\n    if request.user.is_superuser:\n        return super(modelStudentAdmin, self).formfield_for_foreignkey(db_field, request, **kwargs)\n\n    #Not superuser only staff\n    #Check what fields to pull out for field school\n    if db_field.name == 'school':\n        kwargs['queryset'] =  modelSchool.objects.filter(user=request.user)\n\n    # Check what fields to pull out for field user\n    elif db_field.name == 'user':\n        t = modelSchool.objects.filter(user=request.user)\n        kwargs['queryset'] = User.objects.filter(modelschool=t)\n\n    return super(modelStudentAdmin,self).formfield_for_foreignkey(db_field, request, **kwargs)\n</code></pre>\n\n<p>Then I register the model as this:</p>\n\n<pre><code>admin.site.register(modelStudent,modelStudentAdmin)\n</code></pre>\n\n<p>In short why am I getting an error of</p>\n\n<blockquote>\n  <p>Cannot update model field\n   (only\n  non-relations and foreign keys permitted).</p>\n</blockquote>\n\n<p>in my admin application when I attempt to save the model since I have changed a <code>ForeignKey</code> to <code>ManyToMany</code> relationship.Any suggestions on how I can resolve this ?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 615, "user_id": 6912791, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fa73c2c3cffb26545cbc77259ee9a0f1?s=128&d=identicon&r=PG&f=1", "display_name": "Pike D.", "link": "https://stackoverflow.com/users/6912791/pike-d"}, "edited": false, "score": 0, "creation_date": 1490224353, "post_id": 42964321, "comment_id": 73022811, "body": "What isn&#39;t working?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490224404, "post_id": 42964321, "comment_id": 73022828, "body": "Well, yeah. This code doesn&#39;t actually do anything by itself. I don&#39;t think there&#39;s any actual blackjack implementation here, and there&#39;s nothing that would cause a blackjack game to start when the code is run. It just defines some variables and classes."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1490224423, "post_id": 42964321, "comment_id": 73022837, "body": "(1) For your program, read the error messages.  Fix the inconsistent indentation: statements at the same level have to line up vertically.  (2) To get help here, you need to post according to the guidelines.  This includes a full problem description, including the entire error message."}], "answers": [{"comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1490224596, "post_id": 42964393, "comment_id": 73022899, "body": "Note to OP: This still doesn&#39;t print anything, because your main program doesn&#39;t call anything in the classes.  It just defines the two lists, defines the classes, and quits without using all that work."}, {"owner": {"reputation": 8483, "user_id": 677022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jJlWr.png?s=128&g=1", "display_name": "Nicol&#225;s Ozimica", "link": "https://stackoverflow.com/users/677022/nicol%c3%a1s-ozimica"}, "edited": false, "score": 0, "creation_date": 1490226116, "post_id": 42964393, "comment_id": 73023402, "body": "I updated my answer. Your code has many errors, and you must learn how to understand the error codes and messages Python gives you."}], "tags": [], "owner": {"reputation": 8483, "user_id": 677022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jJlWr.png?s=128&g=1", "display_name": "Nicol&#225;s Ozimica", "link": "https://stackoverflow.com/users/677022/nicol%c3%a1s-ozimica"}, "is_accepted": false, "score": -1, "last_activity_date": 1490226056, "last_edit_date": 1495541845, "creation_date": 1490224420, "answer_id": 42964393, "question_id": 42964321, "link": "https://stackoverflow.com/questions/42964321/cannot-execute-black-jack-code-python/42964393#42964393", "title": "Cannot execute black jack code Python", "body": "<p>You have way too many problems with your program:</p>\n\n<ul>\n<li>indentation</li>\n<li>some instance variables passed as parameteres to other methods in the same class.</li>\n<li>in <code>Card</code> you define a method called <code>c1</code>, but with it you mean the constructor of the class.</li>\n<li>method <code>d1</code> in <code>Deck</code> was also a constructor. So, I erased it from your global calls</li>\n<li>to print an object, you must define its string representation. Look at <a href=\"https://stackoverflow.com/questions/4932438/how-to-create-a-custom-string-representation-for-a-class-object\">How to create a custom string representation for a class object?</a></li>\n</ul>\n\n<p>Besides that, you're doing <code>print</code> without an argument. In that case, you can just do <code>print('')</code>.</p>\n\n<p>Here is your code, with proper indentation, and the <code>print</code> statements to work with both Python2 and Python3.</p>\n\n<pre><code>import random\n\nranks = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A']\nsuits = ['Hearts', 'Clubs', 'Spades', 'Diamonds']\nclass Card:\n    def __init__(self, rank, suit):\n        self.rank = rank\n        self.suit = suit\n    def value(self):\n        if self.rank in ['J', 'Q', 'K']:\n            return 10\n        elif self.rank == 'A':\n            return 1,11\n        else:\n            return int(self.rank)\n    def c2_(self):\n        return self.rank + '-' + self.suit\nclass Deck:\n    def __init__(self):\n        self.cards = []\n        for rank in ranks:\n            for suit in suits:\n                c = Card(rank, suit)\n                self.cards.append(c)\n    def shuffle(self):\n        random.shuffle(self.cards)\n    def draw_card(self):\n        if not self.cards:\n            raise Exception(\"No more cards: empty deck!\")\n        card = self.cards.pop()\n        return card\n    def d2(self):\n        cards = []\n        for c in self.cards:\n            cards.append(str(c))\n        return str(cards)\n    def test2(self):\n        deck = Deck()\n        print('')\n        print(deck)\n        deck.shuffle()\n        print('')\n        print(deck)\n\nif __name__ == '__main__':\n    tryss= Deck()\n    tryss.draw_card()\n    tryss.shuffle()\n    tryss.d2()\n    tryss.test2()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28, "user_id": 7239942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42060bf6802d48061dd6092ab37d070?s=128&d=identicon&r=PG&f=1", "display_name": "bloominonion", "link": "https://stackoverflow.com/users/7239942/bloominonion"}, "is_accepted": false, "score": 1, "last_activity_date": 1490226471, "creation_date": 1490226471, "answer_id": 42964736, "question_id": 42964321, "link": "https://stackoverflow.com/questions/42964321/cannot-execute-black-jack-code-python/42964736#42964736", "title": "Cannot execute black jack code Python", "body": "<p>As stated by others, you have a decent amount of indentation errors, those you will have to chase down.</p>\n\n<p>You main issue you will run into is you aren't initializing the classes with anything. If you change the c1 and d1 functions to <code>__init__</code>, it will initialize them to be a class item that is then accessible with <code>self</code>.</p>\n\n<p>Otherwise, for your prints  in <code>test2</code>, don't print the class item by doing <code>print(deck)</code>, but print the value using <code>deck.d2()</code> since that exists to stringify the cards in the deck.</p>\n\n<p>The function <code>d2</code> also has an error in that it should be <code>str(c.c2_())</code> since that is your function to stringify the card name.</p>\n\n<p>You still have a lot to get a Blackjack game out of it, but that should at least get the current code close to functional. If you have a clear description of what is not working, then please revise the question to ask that.</p>\n"}], "owner": {"reputation": 21, "user_id": 6652470, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7310fdf7bde5e209e0f79474e21e618d?s=128&d=identicon&r=PG&f=1", "display_name": "Aika", "link": "https://stackoverflow.com/users/6652470/aika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1490226471, "creation_date": 1490224058, "last_edit_date": 1490224471, "question_id": 42964321, "link": "https://stackoverflow.com/questions/42964321/cannot-execute-black-jack-code-python", "title": "Cannot execute black jack code Python", "body": "<p>Hi I am really a totally beginner any help or advice is much appreciated I am trying to study the code below but when I execute the code I got nothing\nI tried what I can but it gives me lot of error.Kindly take a look and any advice thank you very much </p>\n\n<pre><code>import random\n\nranks = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A']\nsuits = ['Hearts', 'Clubs', 'Spades', 'Diamonds']\nclass Card:\n    def c1(self, rank, suit):\n        self.rank = rank\n        self.suit = suit\n    def value(self):\n        if self.rank in ['J', 'Q', 'K']:\n            return 10\n        elif self.rank == 'A':\n            return 1,11\n        else:\n            return int(self.rank)\n    def c2_(self):\n        return self.rank + '-' + self.suit\nclass Deck:\n    def d1(self):\n       self.cards = []\n        for rank in ranks:\n            for suit in suits:\n               c = Card(rank, suit)\n               self.cards.append(c)\n    def shuffle(self):\n       random.shuffle(self.cards)\n   def draw_card(self):\n       if not self.cards:\n            raise Exception(\"No more cards: empty deck!\")\n        card = self.cards.pop()\n        return card\n    def d2(self):\n        cards = []\n        for c in self.cards:\n            cards.append(str(c))\n        return str(cards)\n    def test2(self):\n       deck = Deck()\n       print \n       print deck\n       deck.shuffle()\n       print \n       print deck\n\ntryss= Deck()\ntryss.d1()\ntryss.draw_card()\ntryss.dshuffle()\ntryss.d2()\ntryss.test2()\n</code></pre>\n"}, {"tags": ["python", "string", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 1444, "user_id": 5245032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38ff968d478fc79749ada034222566df?s=128&d=identicon&r=PG&f=1", "display_name": "Robert I", "link": "https://stackoverflow.com/users/5245032/robert-i"}, "is_accepted": false, "score": 0, "last_activity_date": 1490224655, "creation_date": 1490224655, "answer_id": 42964445, "question_id": 42964304, "link": "https://stackoverflow.com/questions/42964304/why-doesnt-my-list-print-side-by-side/42964445#42964445", "title": "Why doesn&#39;t my list print side by side?", "body": "<p><strong>Try using zip and lists</strong></p>\n\n<p>To have them print side by side you will need to concat them with zip</p>\n\n<pre><code>die1 = ('+-------+','|       |','|   *   |','|       |','+-------+')\ndie2 = ('+-------+','| *     |','|       |','|     * |','+-------+')\ndie3 = ('+-------+','| *     |','|   *   |','|     * |','+-------+')\ndie4 = ('+-------+','| *   * |','|       |','| *   * |','+-------+')\ndie5 = ('+-------+','| *   * |','|   *   |','| *   * |','+-------+')\ndie6 = ('+-------+','| * * * |','|       |','| * * * |','+-------+')\n\nlist_die = ['0',die1,die2,die3,die4,die5,die6];\n\ndie_a = list_die[1];\ndie_b = list_die[2];\n\nfor line in zip(die_a,die_b):\n    print line;\n\noutput:\n('+-------+', '+-------+')\n('|       |', '| *     |')\n('|   *   |', '|       |')\n('|       |', '|     * |')\n('+-------+', '+-------+')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7572959, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3p5BeGaVOQc/AAAAAAAAAAI/AAAAAAAAABM/utWtloAFXGQ/photo.jpg?sz=128", "display_name": "kas713", "link": "https://stackoverflow.com/users/7572959/kas713"}, "edited": false, "score": 0, "creation_date": 1490250897, "post_id": 42964462, "comment_id": 73030691, "body": "Thank you for you help. However, is it possible to do this without the zip function?"}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "reply_to_user": {"reputation": 11, "user_id": 7572959, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3p5BeGaVOQc/AAAAAAAAAAI/AAAAAAAAABM/utWtloAFXGQ/photo.jpg?sz=128", "display_name": "kas713", "link": "https://stackoverflow.com/users/7572959/kas713"}, "edited": false, "score": 0, "creation_date": 1490270553, "post_id": 42964462, "comment_id": 73042778, "body": "@kas713 It is of course possible to do it without zip, although the result is less Pythonic. In an edit I showed how to adjust the <code>pair</code> function. The final function I wrote (which can handle arbitrarily many arguments) can also be de-zipped, but would require nested loops and be something of a headache to write."}], "tags": [], "owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "is_accepted": false, "score": 0, "last_activity_date": 1490270393, "last_edit_date": 1490270393, "creation_date": 1490224756, "answer_id": 42964462, "question_id": 42964304, "link": "https://stackoverflow.com/questions/42964304/why-doesnt-my-list-print-side-by-side/42964462#42964462", "title": "Why doesn&#39;t my list print side by side?", "body": "<p>Take apart to get the individual lines, concatenate those lines, and then rejoin. Note that the final result has fewer <code>\\n</code> than a simple concatenation of the original strings:</p>\n\n<pre><code>def pair(i,j):\n    linesI = list_die[i].split('\\n')\n    linesJ = list_die[j].split('\\n')\n    return '\\n'.join(x+y for x,y in zip(linesI,linesJ))\n</code></pre>\n\n<p>For example,</p>\n\n<pre><code>&gt;&gt;&gt; print(pair(1,2))\n+-------++-------+\n|       || *     |\n|   *   ||       |\n|       ||     * |\n+-------++-------+\n</code></pre>\n\n<p><strong>On Edit;</strong> It is inefficient to repeatedly split the same strings again and again. Keeping your original definitions, you could use the following lines:</p>\n\n<pre><code>list_die = ['0',die1,die2,die3,die4,die5,die6]\nlist_die = [d.split('\\n') for d in list_die]\n</code></pre>\n\n<p>Now <code>list_die</code> contains the splits.</p>\n\n<p>You could now simply use:</p>\n\n<pre><code>def pair(i,j):\n    return '\\n'.join(x+y for x,y in zip(list_die[i],list_die[j]))\n</code></pre>\n\n<p>Which is functionally the same as above.</p>\n\n<p>At the risk of being a little too cute, you can make a more flexible version which will print any number of dice on a single line (useful for e.g. coding the game of Risk or Yahtzee, with often involve three or more dice):</p>\n\n<pre><code>def dice(*args):\n    return '\\n'.join(''.join(t) for t in zip(*(list_die[i] for i in args)))\n</code></pre>\n\n<p>So, for example:</p>\n\n<pre><code>&gt;&gt;&gt; print(dice(1))\n+-------+\n|       |\n|   *   |\n|       |\n+-------+\n&gt;&gt;&gt; print(dice(1,2))\n+-------++-------+\n|       || *     |\n|   *   ||       |\n|       ||     * |\n+-------++-------+\n&gt;&gt;&gt; print(dice(3,1,4))\n+-------++-------++-------+\n| *     ||       || *   * |\n|   *   ||   *   ||       |\n|     * ||       || *   * |\n+-------++-------++-------+\n</code></pre>\n\n<p><strong>On Further Edit:</strong> You can do this without <code>zip</code>, although at the cost of making the code longer. <code>zip</code> is designed for <em>parallel iteration</em>. For example, you assemble the pair of side-by-side dice but iterating down the two dice face in parallel. Without using <code>zip</code>, you would need to use list indices to keep the iteration parallel. For example, the second version of <code>pair()</code> (where <code>list_die</code> contains the dice faces already split into lines) would look like:</p>\n\n<pre><code>def pair(i,j):\n    lines = []\n    for k in range(len(list_die[i])):\n        lines.append(list_die[i][k] + list_die[j][k])\n    return '\\n'.join(lines)\n</code></pre>\n\n<p>This works, but is over 200% longer (5 lines rather than 2).</p>\n"}, {"tags": [], "owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "is_accepted": false, "score": 0, "last_activity_date": 1490230766, "creation_date": 1490230766, "answer_id": 42965370, "question_id": 42964304, "link": "https://stackoverflow.com/questions/42964304/why-doesnt-my-list-print-side-by-side/42965370#42965370", "title": "Why doesn&#39;t my list print side by side?", "body": "<p>To answer the question  of why this behavior happens, note that your calls to <code>print</code> and explicit <code>\\n</code>s  insert a newline in the text, which forces the output to go down a line.</p>\n\n<p>Unless you use code that manipulates the console, once you go down a line, you can't go back up. You print left to right, top to down, like a printer. You can't unprint. </p>\n\n<p>If you want this functionality, look into graphics libraries \n. Curses is the easy goto library for C++, and may have a python equivalent. </p>\n\n<p>Of course, as the other answers mention, you can just format the text side-by-side, which for you current purpose is probably the better option. </p>\n"}], "owner": {"reputation": 11, "user_id": 7572959, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3p5BeGaVOQc/AAAAAAAAAAI/AAAAAAAAABM/utWtloAFXGQ/photo.jpg?sz=128", "display_name": "kas713", "link": "https://stackoverflow.com/users/7572959/kas713"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1490270393, "creation_date": 1490224004, "last_edit_date": 1490224718, "question_id": 42964304, "link": "https://stackoverflow.com/questions/42964304/why-doesnt-my-list-print-side-by-side", "title": "Why doesn&#39;t my list print side by side?", "body": "<p>I'm writing a program where I want the dice to print side by side. However, the actual output only places the top base of the second die next to the bottom base of the first die. Can anyone help me understand why this is happening?</p>\n\n<pre><code>die1 = ('+-------+\\n|       |\\n|   *   |\\n|       |\\n+-------+')\ndie2 = ('+-------+\\n| *     |\\n|       |\\n|     * |\\n+-------+')\ndie3 = ('+-------+\\n| *     |\\n|   *   |\\n|     * |\\n+-------+')\ndie4 = ('+-------+\\n| *   * |\\n|       |\\n| *   * |\\n+-------+')\ndie5 = ('+-------+\\n| *   * |\\n|   *   |\\n| *   * |\\n+-------+')\ndie6 = ('+-------+\\n| * * * |\\n|       |\\n| * * * |\\n+-------+')\n\nlist_die = ['0', die1, die2, die3, die4, die5, die6]\n\nx = list_die[1]+'   ' + list_die[2]\nprint(x)\n\nmy output\n+-------+\n|       |\n|   *   |\n|       |\n+-------+   +-------+\n| *     |\n|       |\n|     * |\n+-------+\n</code></pre>\n"}, {"tags": ["python", "git"], "comments": [{"owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1490238412, "post_id": 42964217, "comment_id": 73026833, "body": "That solution is going to fail in some cases (not necessarily all!) when you do a force-push to &quot;rewrite history&quot; (e.g., after <code>git rebase</code>). It also does not check any intermediate commits, nor any additional updated references beyond the first, if you push more than one (e.g., <code>git push --all</code> or <code>git push</code> with <code>push.default</code> set to <code>matching</code>). If that&#39;s all you want, though, it should suffice. (Well, it needs some work for Python3, but that&#39;s fine as well: you can just stick with Python 2.7.)"}, {"owner": {"reputation": 6206, "user_id": 2155605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aJYNR.jpg?s=128&g=1", "display_name": "Ogen", "link": "https://stackoverflow.com/users/2155605/ogen"}, "reply_to_user": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1490301021, "post_id": 42964217, "comment_id": 73064415, "body": "@torek Well that&#39;s lame... So if I commit 3 times then push it will only run pre-push on the last push..."}, {"owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1490306095, "post_id": 42964217, "comment_id": 73067077, "body": "That&#39;s why I suggested (1) reading <i>all</i> of stdin, and then (2) using <code>git rev-list</code> (which does require an occasional <code>git fetch</code> to fill in unknown hash IDs\u2014this probably <i>can</i> be done inside the pre-push hook but I have never tried it) on <i>each</i> update and walking the commits looking at <code>git diff-tree</code> results."}, {"owner": {"reputation": 6206, "user_id": 2155605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aJYNR.jpg?s=128&g=1", "display_name": "Ogen", "link": "https://stackoverflow.com/users/2155605/ogen"}, "reply_to_user": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1490306869, "post_id": 42964217, "comment_id": 73067409, "body": "@torek I thought <code>sys.stdin.read()</code> <i>does</i> read all of stdin"}, {"owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1490306956, "post_id": 42964217, "comment_id": 73067451, "body": "It does, but then you have to actually use it all. (Poor wording on my part, since <code>sys.stdin.read()</code> does <i>read</i> all of it. :-) )"}, {"owner": {"reputation": 6206, "user_id": 2155605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aJYNR.jpg?s=128&g=1", "display_name": "Ogen", "link": "https://stackoverflow.com/users/2155605/ogen"}, "reply_to_user": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1490401980, "post_id": 42964217, "comment_id": 73112063, "body": "@torek I just tested my code and it does work. If I commit three times without pushing - and then I push, the remote sha1 is the hash for the commit before my three commits and the local sha1 is the hash for the latest commit on my local branch. So the diff shows all the differences. The only time it fails is when I create a local branch - commit 3 times - then push. It fails because the remote sha1 in this case is 0000000... which is a fatal/bad object. Not sure how to get around this case..."}, {"owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1490412471, "post_id": 42964217, "comment_id": 73113830, "body": "Not what I meant. Try creating branches <code>b1</code> and <code>b2</code> and push their creation (with no changes\u2014this is the all-zeros case) to remote; then check out <code>b1</code>, change one file, and commit; and <b>without pushing</b> check out <code>b2</code> and change a separate file and commit. <i>Now</i> run <code>git push origin b1 b2</code>."}, {"owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1490412544, "post_id": 42964217, "comment_id": 73113845, "body": "(Meanwhile, if you do want to handle branch creation, there are <i>some</i> ways to do it, but none I&#39;d call fully satisfactory.)"}], "answers": [{"comments": [{"owner": {"reputation": 6206, "user_id": 2155605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aJYNR.jpg?s=128&g=1", "display_name": "Ogen", "link": "https://stackoverflow.com/users/2155605/ogen"}, "edited": false, "score": 0, "creation_date": 1490493214, "post_id": 42964971, "comment_id": 73135201, "body": "I updated my hook to handle multiple branches being included in a push by running my code validation for each branch.   I am checking if the remote hash is only zeros - in which case I am just terminating the push and telling the user to push the branch. However this is unacceptable because now i can&#39;t push new branches... my hooks fail the process. I can only push commits to an existing branch because the remote hash isn&#39;t only zeros in that case."}, {"owner": {"reputation": 6206, "user_id": 2155605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aJYNR.jpg?s=128&g=1", "display_name": "Ogen", "link": "https://stackoverflow.com/users/2155605/ogen"}, "edited": false, "score": 0, "creation_date": 1490493720, "post_id": 42964971, "comment_id": 73135291, "body": "I updated the question to include the code I am currently using too"}, {"owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "reply_to_user": {"reputation": 6206, "user_id": 2155605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aJYNR.jpg?s=128&g=1", "display_name": "Ogen", "link": "https://stackoverflow.com/users/2155605/ogen"}, "edited": false, "score": 0, "creation_date": 1490501785, "post_id": 42964971, "comment_id": 73136712, "body": "Well: it may be worth trying a <code>git fetch</code> where I have suggested it (and then see if we acquire the missing object), and for the case where we are creating the branch, treat <i>all</i> files at the local branch-tip as &quot;added&quot; by diffing against the hash of the <a href=\"http://stackoverflow.com/q/9765453/1256452\">empty tree (click on this link for details)</a>. Since you&#39;re not examining <i>any</i> of the intermediate commits, that might be a reasonable approach."}], "tags": [], "owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "is_accepted": true, "score": 4, "last_activity_date": 1490414371, "last_edit_date": 1490414371, "creation_date": 1490227999, "answer_id": 42964971, "question_id": 42964217, "link": "https://stackoverflow.com/questions/42964217/what-are-the-git-commands-to-iterate-through-files-being-pushed/42964971#42964971", "title": "What are the git commands to iterate through files being pushed?", "body": "<h3>Problem 1: commits</h3>\n\n\n\n<p>Getting the list of <em>commits</em> is only moderately difficult as you mostly need to run <code>git rev-list</code>.  There are some edge cases here, however.  As <a href=\"https://www.kernel.org/pub/software/scm/git/docs/githooks.html\" rel=\"nofollow noreferrer\">the githooks documentation</a> says:</p>\n\n<blockquote>\n  <p>Information about what is to be pushed is provided on the hook\u2019s standard input with lines of the form:</p>\n  \n  <p><code>&lt;local ref&gt; SP &lt;local sha1&gt; SP &lt;remote ref&gt; SP &lt;remote sha1&gt; LF</code></p>\n  \n  <p>For instance, if the command <code>git push origin master:foreign</code> were run the hook would receive a line like the following:</p>\n  \n  <p><code>refs/heads/master 67890 refs/heads/foreign 12345</code></p>\n  \n  <p>although the full, 40-character SHA-1s would be supplied. If the foreign ref does not yet exist the <code>&lt;remote SHA-1&gt;</code> will be 40 <code>0</code>. If a ref is to be deleted, the <code>&lt;local ref&gt;</code> will be supplied as <code>(delete)</code> and the <code>&lt;local SHA-1&gt;</code> will be 40 <code>0</code>. If the local commit was specified by something other than a name which could be expanded (such as HEAD~, or a SHA-1) it will be supplied as it was originally given.</p>\n</blockquote>\n\n<p>Hence, you must read each stdin line and parse it into its components, then decide:</p>\n\n<ul>\n<li>Is this a <em>branch</em> update at all?  (I.e., does the remote ref have the form <code>refs/heads/*</code>, as a glob match?)  If not, do you want to check any commits anyway?</li>\n<li>Is the reference being created or destroyed?  If so, what should you do?</li>\n<li>Do you have the object specified by the foreign hash?  (If not, <em>and</em> the push succeeds\u2014it may well fail\u2014this will drop some number of commit objects, but you cannot tell which ones.  Moreover, you cannot properly list which local commits will be transferred: you know what you're asking them to <em>set</em> their name to, but you do not know which commits that you and they have in common since you cannot traverse their history.)</li>\n</ul>\n\n<p>Assuming you have determined the answers to these\u2014let's say they are \"no\", \"skip it\", and \"locally reject pushes that are not analyzable\"\u2014we go on to listing the commits, and that is just the output of:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>git rev-list remotehash..localhash\n</code></pre>\n\n<p>which you might do with:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>proc = subprocess.Popen(['git', 'rev-list',\n    '{}..{}'.format(remotehash, localhash)], stdout=subprocess.PIPE)\ntext = proc.stdout.read()\nif proc.wait():\n    raise ... # some appropriate error, as Git failed here\nif not isinstance(text, str):   # i.e., if python3\n    text = text.decode('utf-8') # convert bytes to str\nlines = text.split('\\n')\n# now work with each commit hash\n</code></pre>\n\n<p>Note that <em>this <code>git rev-list</code> call will fail</em> (exit with a nonzero status) if the remote or local hash is all-zeros, or if the remote hash is for an object that does not exist in your local repository (you can check this using <code>git rev-parse --verify --quiet</code> and checking the return status, or perhaps use the failure here as your indication that you cannot check the commits, although there are other options when creating a new branch).</p>\n\n<p>Note that you must run the above <code>git rev-list</code> for <em>each reference</em> that is to be updated.  It's possible that the same commits, or some subset of the same commits, will be sent for different references.  For instance:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>git push origin HEAD:br1 HEAD:br2 HEAD~3:br3\n</code></pre>\n\n<p>would request that the remote update three branches <code>br1</code> through <code>br3</code>, setting <code>br1</code> and <code>br2</code> to the same commit as <code>HEAD</code> and setting <code>br3</code> to the commit three steps back from <code>HEAD</code>.  We do not (and cannot) know which commits are truly new\u2014the pre-receive hook on the other end could figure that out, but we cannot\u2014but if the remote's <code>br1</code> and <code>br2</code> are both being updated from <code>HEAD~3</code> to <code>HEAD</code>, and the remote's <code>br3</code> is being updated from <code>HEAD~2</code> <em>backwards</em> to <code>HEAD~3</code>, at most the commits <code>HEAD~1</code> through <code>HEAD</code> can be new.  Whether you want to check <code>HEAD~2</code> as well, since it is now likely to show up on <code>br1</code> and <code>br2</code> in the other repository (even though it <em>was</em> already on <code>br3</code> there), is also up to you.</p>\n\n<h3>Problem 2: files</h3>\n\n<p>Now you have the more difficult problem.  You mentioned in an edit that:</p>\n\n<blockquote>\n  <p>EDIT: I think it's also important to note that the same files could be modified across multiple commits that are about to be pushed - so it would be good to not end up validating the same file multiple times.</p>\n</blockquote>\n\n<p>Each commit to be sent has a <em>complete snapshot</em> of the repository.  That is, each commit has every file.  I have no idea what validation you intend to run, but you are correct: if you are sending, say, six commits total, it's pretty likely that most of the files in all six commits are the same, and only a few files are modified.  However, file <code>foo.py</code> might be modified in commit <code>1234567</code> (with respect to <code>1234567</code>'s parent commit), and then modified <em>again</em> in commit <code>fedcba9</code>, and you probably should check <em>both versions</em>.</p>\n\n<p>Moreover, when a commit is a <em>merge</em> commit, it has (at least) two different parents.  Should you check a file if it is different from <em>either</em> parent?  Or should you check it only if it differs from <em>both</em> parents, indicating that it contains changes from \"both sides\" of the merge?  If it has only changes from \"one side\", the file is probably \"pre-checked\" by whatever checks happened for the commit that is on the <em>other</em> side, and hence it may not need to be re-checked (though of course this depends on the kind of checking).</p>\n\n<p>(For an octopus merge, i.e., a merge with more than two parents, this question gets substantially harder to think about.)</p>\n\n<p>It's relatively easy to see which files are <em>changed</em> in a commit, with respect to its parent or parents: simply run <code>git diff-tree</code> with appropriate options (notably, <code>-r</code> to recurse into sub-trees of the commit).  The default output format is quite machine-parseable, though you might want to add <code>-z</code> to make it easier to handle directly within Python.  If you are doing these one at a time\u2014which you might as well\u2014you probably also want <code>--no-commit-id</code> so that you need not read and skip the commit header.</p>\n\n<p>It's up to you whether you want to enable rename detection and if so, at what threshold.  Depending, again, on precisely what you are doing to verify files, leaving rename detection off is often best: that way you will \"see\" a renamed file as a deletion of the old path and an addition of the new path.</p>\n\n<p>The output from <code>git diff-tree -r --no-commit-id</code> on a particular commit looks like this:</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>:000000 100644 0000000000000000000000000000000000000000 b0b4c36f9780eaa600232fec1adee9e6ba23efe5 A  Documentation/RelNotes/2.13.0.txt\n:100755 100755 6a208e92bf30c849028268b5fca54b902f671bbd 817d1cf7ef2a2a99ab11e5a88a27dfea673fec79 M  GIT-VERSION-GEN\n:120000 120000 d09c3d51093ac9e4da65e8a127b17ac9023520b5 125bf78f3b9ed2f1444e1873ed02cce9f0f4c5b8 M  RelNotes\n</code></pre>\n</blockquote>\n\n<p>The hash IDs are the old and new blob hashes; the letter codes and path names are as documented.  You can then retrieve the file contents using <code>git cat-file -p</code> on the new hash ID.  If your Git is new enough, you can even get any <code>.gitattributes</code>-based filtering and end of line conversion applied by adding <code>--textconv</code> <code>--filters</code>, and <code>--path=&lt;path&gt;</code> (or using the file's path together with the commit ID, instead of <code>--path=...</code>, to name the hash of the object to be extracted).  Or you can just use the form of the object stored in the repository, if filters are not important.</p>\n\n<p>Depending on just what you are checking, though, you might need to extract the entire commit into a temporary work-tree.  (For instance a static analyzer might want to execute any <code>import</code>s.)  In this case you might as well just run <code>git checkout</code>, using the <code>GIT_INDEX_FILE</code> environment variable (pass this via <code>subprocess</code> as usual) to specify a temporary index file so that the main index is not disturbed.  Specify an alternative work-tree with <code>--work-tree=</code> or via the <code>GIT_WORK_TREE</code> environment variable.  In any case the <code>git diff-tree</code> will tell you which files were <em>modified</em>, and therefore should be checked.  (You can use <code>shutil.rmtree</code> to dispose of the temporary work-tree once the testing is complete.)</p>\n\n<p>If you are going to check merge commits, pay special attention to the <a href=\"https://www.kernel.org/pub/software/scm/git/docs/git-diff-tree.html#_diff_format_for_merges\" rel=\"nofollow noreferrer\">description of <em>combined diffs</em> done for merges</a>, as they will require somewhat different treatment (or splitting the merge with <code>-m</code>).</p>\n\n<h3>Edit: some code to show what I mean</h3>\n\n<p>Here is a bit of code to obtain all the inputs and show each commit being added to each foreign branch.  Note that the list of <em>added</em> commits will be empty if commits are only being <em>removed</em>.  This is also only very lightly tested, and not intended to be robust, maintainable, good style, etc., just sort of a minimal example.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>import re, subprocess, sys\n\nlines = sys.stdin.read().splitlines()\nfor line in lines:\n    localref, localhash, foreignref, foreignhash = line.split()\n    if not foreignref.startswith('refs/heads/'):\n        print('skip {}'.format(foreignref))\n        continue\n    if re.match('0+$', localhash):\n        print('deleting {}, do nothing'.format(foreignref))\n        continue\n    if re.match('0+$', foreignhash):\n        print('creating {}, too hard for now'.format(foreignref))\n        continue\n    proc = subprocess.Popen(['git', 'rev-parse', '--quiet', '--verify',\n            foreignhash],\n        stdout=subprocess.PIPE)\n    _ = proc.stdout.read()\n    status = proc.wait()\n    if status:\n        print('we do not have {} for {}, try '\n            'git fetch'.format(foreignhash, foreignref))\n        # can try to run git fetch here ourselves, but for now:\n        continue\n    print('sending these commits for {}:'.format(foreignref))\n    subprocess.call(['git', 'rev-list', '{}..{}'.format(localhash, foreignhash)])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "is_accepted": false, "score": 1, "last_activity_date": 1490228046, "creation_date": 1490228046, "answer_id": 42964979, "question_id": 42964217, "link": "https://stackoverflow.com/questions/42964217/what-are-the-git-commands-to-iterate-through-files-being-pushed/42964979#42964979", "title": "What are the git commands to iterate through files being pushed?", "body": "<p>Using <code>@{u}..</code> is little helful, as it will diff the the upstream of <code>HEAD</code> against <code>HEAD</code> if there is an upstream defined at all. But this does not necessarily have anything to do with what is pushed, as you can push any branch or actually any commit-ish, regardless of what is checked out currently and to any remote branch you wish, regardless of the upstream setting.</p>\n\n<p>As per the documentation of <code>githooks</code>, you get the remote name and location as parameters to your script and on stdin you get one line per pushed \"thing\" with the local and remote ref and local and remote sha. So you need to iterate over stdin and diff the remote sha that is pushed to against the local sha you push to get the files that are different.</p>\n"}], "owner": {"reputation": 6206, "user_id": 2155605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aJYNR.jpg?s=128&g=1", "display_name": "Ogen", "link": "https://stackoverflow.com/users/2155605/ogen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 2, "accepted_answer_id": 42964971, "answer_count": 2, "score": 4, "last_activity_date": 1490493642, "creation_date": 1490223606, "last_edit_date": 1490493642, "question_id": 42964217, "link": "https://stackoverflow.com/questions/42964217/what-are-the-git-commands-to-iterate-through-files-being-pushed", "title": "What are the git commands to iterate through files being pushed?", "body": "<p>I am trying to implement a <code>pre-push</code> git hook in python to validate files before they are pushed to the remote repo.</p>\n\n<p>I have previously written a <code>pre-commit</code> git hook to validate files before they are committed to the local repo and to get a list of the files in the commit, I ran <code>git diff-index --cached --name-status HEAD</code>.</p>\n\n<p>For the <code>pre-push</code> script, what git commands can I run to iterate through all of the commits about to be pushed, and then iterate through all of the files in the individual commits so that I can validate them?</p>\n\n<p>So far I am using the command: <code>git diff --name-status @{u}..</code></p>\n\n<p>EDIT: I think it's also important to note that the same files could be modified across multiple commits that are about to be pushed - so it would be good to not end up validating the same file multiple times.</p>\n\n<p>FINAL_SOLUTION:</p>\n\n<p>Here is the code I ended up using thanks to @Vampire's and @Torek's answer...</p>\n\n<pre><code>#!/usr/bin/env python\n\n# read the args provided by git from stdin that are in the following format...\n# &lt;local ref&gt; SP &lt;local sha1&gt; SP &lt;remote ref&gt; SP &lt;remote sha1&gt; LF\n# the line above represents a branch being pushed\n# Note: multiple branches may be pushed at once\n\nlines = sys.stdin.read().splitlines()\n\nfor line in lines:\n    local_ref, local_sha1, remote_ref, remote_sha1 = line.split()\n\n    if remote_sha1 == \"0000000000000000000000000000000000000000\":\n        print_error(\"Local branch '%s' cannot be found on the remote repo - push only the branch without any commits first!\" % local_ref)\n        sys.exit(1)\n\n    # get changed files\n    changed_files = subprocess.check_output([\"git\", \"diff\", \"--name-status\", local_sha1, remote_sha1], universal_newlines=True)\n\n    # get the non deleted files while getting rid of M\\t or A\\t (etc) characters from the diff output\n    non_deleted_files = [ f[2:] for f in changed_files.split(\"\\n\") if f and not f.startswith(\"D\") ]\n\n    # validation here...\n    if validation_failed:\n        sys.exit(1) # terminate the push\n\nsys.exit(0)\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1490223638, "post_id": 42964212, "comment_id": 73022520, "body": "What <i>do</i> you get? And what does this have to do with JSON?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490223761, "post_id": 42964212, "comment_id": 73022574, "body": "<code>data[&#39;info&#39;][&#39;name&#39;]</code> is a string. Why are you looping over it?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1490223766, "post_id": 42964212, "comment_id": 73022576, "body": "You&#39;ve posted invalid json here"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490223976, "post_id": 42964212, "comment_id": 73022657, "body": "It looks like you need to process this recursively, because members can contain members."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1490224007, "post_id": 42964212, "comment_id": 73022664, "body": "There are lots of bracket mismatches in your JSON. It&#39;s hard to tell how this is really supposed to be structured."}], "answers": [{"tags": [], "owner": {"reputation": 944, "user_id": 2434120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dedac18837648b2f5c2cb279f6e25d5?s=128&d=identicon&r=PG", "display_name": "jyap", "link": "https://stackoverflow.com/users/2434120/jyap"}, "is_accepted": true, "score": 1, "last_activity_date": 1490239014, "creation_date": 1490239014, "answer_id": 42966622, "question_id": 42964212, "link": "https://stackoverflow.com/questions/42964212/sum-up-json-objects-using-python/42966622#42966622", "title": "Sum up json objects using python", "body": "<p>You can use <code>len(data[\"members\"])</code> since it's a list.</p>\n\n<pre><code>print \"name is %s\" % data[\"info\"][\"name\"]\nprint \"total number of members is %s\" % str(len(data[\"info\"][\"members\"]))\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 4760885, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bZpty.jpg?s=128&g=1", "display_name": "Edward Okech", "link": "https://stackoverflow.com/users/4760885/edward-okech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 42966622, "answer_count": 1, "score": 0, "last_activity_date": 1490239014, "creation_date": 1490223578, "question_id": 42964212, "link": "https://stackoverflow.com/questions/42964212/sum-up-json-objects-using-python", "title": "Sum up json objects using python", "body": "<p>I am having problem summing an instance of json object.\nhere is my json</p>\n\n<pre><code>data = {\n      \"info\": {\n        \"name\": \"TOM\", \n        \"tags\": [], \n        \"beneficiaryType\": \"Resident\", \n        \"area\": \"Hapakule / Western\", \n        \"token\": \"a888ce4e-0c1a-4570-9a0e-9e6a28b22695\", \n        \"location\": \"location:f008b306-c980-4ef6-840a-f15e7c44d2ed\", \n        \"address\": \"Dunga\", \n        \"additionalFields\": {\n          \"gpsLat\": \"02.45914\", \n          \"gpsLong\": \"033.70971\"\n        }\n      } \n\n      }, \n      \"members\": [\n        {\n          \"info\": {\n            \"documentType\": \"NO ID Tag\", \n            \"firstName\": \"BEN\", \n            \"tags\": [], \n            \"middleName\": \"JAMBI\", \n            \"gender\": \"Male\", \n            \"physicalDisability\": 0, \n            \"beneficiary\": false, \n            \"dateOfBirth\": \"2003-03-02T11:00:13.021Z\", \n            \"documentNumber\": \"BEN10\", \n            \"dateOfBirthExact\": false, \n            \"role\": \"Child\", \n            \"lastName\": \"TOM\", \n            \"recipient\": false, \n            \"mentalDisability\": 0, \n            \"additionalFields\": {\n              \"beneficiaryCategory\": \"Youth\" \n\n            }\n          }, \n          \"meta\": {\n            \"geolocation\": {\n              \"message\": \"The pipe is being closed.\\r\\n\", \n              \"code\": 2\n            }, \n            \"created\": \"2017-03-02T11:00:38.940Z\"\n          }, \n          \"id\": \"f3ba5dc6-69ae-4ed1-88aa-17351316eb09\"\n        }, \n        {\n          \"info\": {\n            \"documentType\": \"NO ID Tag\", \n            \"firstName\": \"BOSCO\", \n            \"tags\": [], \n            \"middleName\": \"LOCHORO\", \n            \"gender\": \"Male\", \n            \"physicalDisability\": 0, \n            \"beneficiary\": false, \n            \"dateOfBirth\": \"2007-03-02T11:01:13.107Z\", \n            \"documentNumber\": \"BOSCOLOCHORO\", \n            \"dateOfBirthExact\": false, \n            \"role\": \"Child\", \n            \"lastName\": \"MARIKO\", \n            \"recipient\": false, \n            \"mentalDisability\": 0, \n            \"additionalFields\": {\n              \"beneficiaryCategory\": \"Child\", \n\n            }\n          }, \n          \"meta\": {\n            \"geolocation\": {\n              \"message\": \"The pipe is being closed.\\r\\n\", \n              \"code\": 2\n            }, \n            \"created\": \"2017-03-02T11:01:43.855Z\"\n          }, \n          \"id\": \"c95fe7c0-61dd-469d-9976-027193a96b80\"\n        }, \n        {\n          \"info\": {\n            \"documentType\": \"NO ID Tag\", \n            \"firstName\": \"PAULINA\", \n            \"tags\": [], \n            \"middleName\": \"LOTUKEI\", \n            \"gender\": \"Female\", \n            \"physicalDisability\": 0, \n            \"beneficiary\": false, \n            \"dateOfBirth\": \"1989-03-02T10:58:31.182Z\", \n            \"documentNumber\": \"PAULINALOTUKEI\", \n            \"dateOfBirthExact\": false, \n            \"role\": \"Spouse\", \n            \"lastName\": \"MARIKO\", \n            \"recipient\": false, \n            \"mentalDisability\": 0, \n            \"additionalFields\": {\n              \"beneficiaryCategory\": \"Youth\"\n\n            }\n          }, \n          \"meta\": {\n            \"geolocation\": {\n              \"message\": \"The pipe is being closed.\\r\\n\", \n              \"code\": 2\n            }, \n            \"created\": \"2017-03-02T10:58:58.486Z\"\n          }, \n          \"id\": \"d898934a-0402-47f5-bcc3-4750fe52bec7\"\n        }, \n        {\n          \"info\": {\n            \"documentType\": \"National ID\", \n            \"firstName\": \"PETER\", \n            \"tags\": [], \n            \"gender\": \"Male\", \n            \"physicalDisability\": 0, \n            \"beneficiary\": false, \n            \"dateOfBirth\": \"1979-02-03T00:00:00.000Z\", \n            \"documentNumber\": \"CM79107100RQ5H\", \n            \"dateOfBirthExact\": true, \n            \"role\": \"Head\", \n            \"lastName\": \"MARIKO\", \n            \"recipient\": false, \n            \"mentalDisability\": 0, \n            \"additionalFields\": {\n              \"beneficiaryCategory\": \"Unskilled \"\n\n            }\n          }, \n          \"photo\": \"mb-04d31c8a-1b91-433f-bbb6-d09de874946d-photo.jpg\", \n          \"meta\": {\n            \"geolocation\": {\n              \"message\": \"The pipe is being closed.\\r\\n\", \n              \"code\": 2\n            }, \n            \"created\": \"2017-03-02T10:57:56.482Z\"\n          }, \n\n          }\n        }\n      ], \n      \"_id\": \"hh:a888ce4e-0c1a-4570-9a0e-9e6a28b22695\"\n    }\n   },\n   \"info\": {\n        \"name\": \"TOM\", \n        \"tags\": [], \n        \"beneficiaryType\": \"Resident\", \n        \"area\": \"Hapakule / Western\", \n        \"token\": \"a888ce4e-0c1a-4570-9a0e-9e6a28b22695\", \n        \"location\": \"location:f008b306-c980-4ef6-840a-f15e7c44d2ed\", \n        \"address\": \"Dunga\", \n        \"additionalFields\": {\n          \"gpsLat\": \"02.45914\", \n          \"gpsLong\": \"033.70971\"\n        }\n      }, \n      \"_rev\": \"10-56fcc968e36e563a85150626f9c7174c\", \n      \"meta\": {\n        \"geolocation\": {\n          \"message\": \"The pipe is being closed.\\r\\n\", \n          \"code\": 2\n        }, \n        \"modified\": \"2017-03-02T11:01:43.861Z\", \n        \"created\": \"2017-03-02T10:56:59.947Z\"\n      }, \n      \"members\": [\n        {\n          \"info\": {\n            \"documentType\": \"NO ID Tag\", \n            \"firstName\": \"BEN\", \n            \"tags\": [], \n            \"middleName\": \"JAMBI\", \n            \"gender\": \"Male\", \n            \"physicalDisability\": 0, \n            \"beneficiary\": false, \n            \"dateOfBirth\": \"2003-03-02T11:00:13.021Z\", \n            \"documentNumber\": \"BEN10\", \n            \"dateOfBirthExact\": false, \n            \"role\": \"Child\", \n            \"lastName\": \"TOM\", \n            \"recipient\": false, \n            \"mentalDisability\": 0, \n            \"additionalFields\": {\n              \"beneficiaryCategory\": \"Youth\" \n\n            }\n          }, \n          \"meta\": {\n            \"geolocation\": {\n              \"message\": \"The pipe is being closed.\\r\\n\", \n              \"code\": 2\n            }, \n            \"created\": \"2017-03-02T11:00:38.940Z\"\n          }, \n          \"id\": \"f3ba5dc6-69ae-4ed1-88aa-17351316eb09\"\n        }, \n        {\n          \"info\": {\n            \"documentType\": \"NO ID Tag\", \n            \"firstName\": \"BOSCO\", \n            \"tags\": [], \n            \"middleName\": \"LOCHORO\", \n            \"gender\": \"Male\", \n            \"physicalDisability\": 0, \n            \"beneficiary\": false, \n            \"dateOfBirth\": \"2007-03-02T11:01:13.107Z\", \n            \"documentNumber\": \"BOSCOLOCHORO\", \n            \"dateOfBirthExact\": false, \n            \"role\": \"Child\", \n            \"lastName\": \"MARIKO\", \n            \"recipient\": false, \n            \"mentalDisability\": 0, \n            \"additionalFields\": {\n              \"beneficiaryCategory\": \"Child\", \n\n            }\n          }, \n          \"meta\": {\n            \"geolocation\": {\n              \"message\": \"The pipe is being closed.\\r\\n\", \n              \"code\": 2\n            }, \n            \"created\": \"2017-03-02T11:01:43.855Z\"\n          }, \n          \"id\": \"c95fe7c0-61dd-469d-9976-027193a96b80\"\n        }, \n        {\n          \"info\": {\n            \"documentType\": \"NO ID Tag\", \n            \"firstName\": \"PAULINA\", \n            \"tags\": [], \n            \"middleName\": \"LOTUKEI\", \n            \"gender\": \"Female\", \n            \"physicalDisability\": 0, \n            \"beneficiary\": false, \n            \"dateOfBirth\": \"1989-03-02T10:58:31.182Z\", \n            \"documentNumber\": \"PAULINALOTUKEI\", \n            \"dateOfBirthExact\": false, \n            \"role\": \"Spouse\", \n            \"lastName\": \"MARIKO\", \n            \"recipient\": false, \n            \"mentalDisability\": 0, \n            \"additionalFields\": {\n              \"beneficiaryCategory\": \"Youth\"\n\n            }\n          }, \n          \"meta\": {\n            \"geolocation\": {\n              \"message\": \"The pipe is being closed.\\r\\n\", \n              \"code\": 2\n            }, \n            \"created\": \"2017-03-02T10:58:58.486Z\"\n          }, \n          \"id\": \"d898934a-0402-47f5-bcc3-4750fe52bec7\"\n        }, \n        {\n          \"info\": {\n            \"documentType\": \"National ID\", \n            \"firstName\": \"PETER\", \n            \"tags\": [], \n            \"gender\": \"Male\", \n            \"physicalDisability\": 0, \n            \"beneficiary\": false, \n            \"dateOfBirth\": \"1979-02-03T00:00:00.000Z\", \n            \"documentNumber\": \"CM79107100RQ5H\", \n            \"dateOfBirthExact\": true, \n            \"role\": \"Head\", \n            \"lastName\": \"MARIKO\", \n            \"recipient\": false, \n            \"mentalDisability\": 0, \n            \"additionalFields\": {\n              \"beneficiaryCategory\": \"Unskilled \"\n\n            }\n          }, \n          \"photo\": \"mb-04d31c8a-1b91-433f-bbb6-d09de874946d-photo.jpg\", \n          \"meta\": {\n            \"geolocation\": {\n              \"message\": \"The pipe is being closed.\\r\\n\", \n              \"code\": 2\n            }, \n            \"created\": \"2017-03-02T10:57:56.482Z\"\n          }, \n\n          }\n        }\n      ], \n      \"_id\": \"hh:a888ce4e-0c1a-4570-9a0e-9e6a28b22695\"\n    }\n</code></pre>\n\n<p>the issue that am having is getting the number of members in this json file using python</p>\n\n<p>here is my python code</p>\n\n<pre><code>member_count = 0\n#loop into the data json object to get name (household name)\nfor h in data['info']['name']:\n    # we loop into the member object\n    for member in data['members']:\n        #add the looped member to our counter\n        member_count += 1\n        #print the household and the total number of it's members\n        print h, member_count\n</code></pre>\n\n<p>the problem is this is not getting the total number of members in this household, how can i go about this problem?</p>\n"}, {"tags": ["python", "pip", "anaconda"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1490223623, "post_id": 42964174, "comment_id": 73022510, "body": "What is the first line of the file <code>&#47;Users&#47;Ruidong&#47;anaconda&#47;bin&#47;pip3</code>?"}, {"owner": {"reputation": 51, "user_id": 4418053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3170f310d9ff49cb3e7d5977081840b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ruidongd", "link": "https://stackoverflow.com/users/4418053/ruidongd"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1490224185, "post_id": 42964174, "comment_id": 73022743, "body": "#!/Users/Ruidong/anaconda/bin/python"}, {"owner": {"reputation": 3378, "user_id": 3318273, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/nvfcf.png?s=128&g=1", "display_name": "Romain Jouin", "link": "https://stackoverflow.com/users/3318273/romain-jouin"}, "edited": false, "score": 0, "creation_date": 1490224309, "post_id": 42964174, "comment_id": 73022798, "body": "which value are you expecting as an output from &#39;pip3 --version&#39; ?"}], "owner": {"reputation": 51, "user_id": 4418053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3170f310d9ff49cb3e7d5977081840b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ruidongd", "link": "https://stackoverflow.com/users/4418053/ruidongd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490223414, "creation_date": 1490223414, "question_id": 42964174, "link": "https://stackoverflow.com/questions/42964174/wrong-pip3-version", "title": "Wrong pip3 version", "body": "<p>I installed my python3.5.1 with Anaconda but the pip3 version is wrong and the package installation location is wrong.</p>\n\n<pre><code>pip3 --version\npip 9.0.1 from /Users/Ruidong/anaconda/lib/python2.7/site-packages (python 2.7)\n</code></pre>\n\n<p>I do have the python3 </p>\n\n<pre><code>which python3\n//anaconda/bin/python3\nwhich pip3\n/Users/Ruidong/anaconda/bin/pip3\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["python", "lambda"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1490223708, "post_id": 42964170, "comment_id": 73022553, "body": "Because <code>iter(callable, sentinal)</code> will only stop if <code>sentinal</code> is returned <i>exactly</i>. Probably, in this case you <i>miss</i> and it keeps going on forever. This is dangerous to do with floating point numbers in general, let alone random ones. This has <i>nothing</i> to do with <code>lambda</code>, and indeed, you shouldn&#39;t be using a lambda function here at all."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1490224259, "post_id": 42964235, "comment_id": 73022779, "body": "Yeah, it&#39;s relying on the <code>x</code> from the <code>for</code> clause is being bound to the free-variable in the <code>lambda</code> in <code>iter</code>. Had to scratch my head for a bit."}, {"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1490224483, "post_id": 42964235, "comment_id": 73022855, "body": "Thank you, Sorry if it is too unpythonian code. I&#39;m just trying to work around the problem and nothing works. :("}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1490224759, "post_id": 42964235, "comment_id": 73022956, "body": "@rth use <code>lambda start, step, stop: itertools.takewhile(functools.partial(operator.gt, stop), itertools.count(start, step))</code>"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1490224851, "post_id": 42964235, "comment_id": 73022992, "body": "@juanpa.arrivillaga That doesn&#39;t have randomness."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1490224884, "post_id": 42964235, "comment_id": 73023006, "body": "@StefanPochmann I know. You can replace <code>count</code> with a function that has randomness. Mostly, I just wanted to play around with <code>itertools</code>"}, {"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1490224980, "post_id": 42964235, "comment_id": 73023038, "body": "Yep, I need to generate increasing sequence of random time moments with given distribution of intervals. So I don&#39;t know how many numbers I&#39;ll have at the end"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1490225119, "post_id": 42964235, "comment_id": 73023084, "body": "@juanpa.arrivillaga I challenge you to actually do it :-). I had already tried that and came across a problem I couldn&#39;t easily fix."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1490225186, "post_id": 42964235, "comment_id": 73023109, "body": "@StefanPochmann OK. Here is one with randomness, but I can&#39;t get it to <i>start</i> somewhere other than 0: <code>itertools.takewhile(functools.partial(operator.gt, stop), itertools.accumulate(iter(lambda: random.random(), object())))</code>"}, {"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1490225304, "post_id": 42964235, "comment_id": 73023148, "body": "@juanpa.arrivillaga could please publish this answer and explain it step-by-step."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1490225343, "post_id": 42964235, "comment_id": 73023163, "body": "@rth I&#39;m mostly just playing code-golf. I would never use such a monstrosity. I would probably write my own generator, and then use a list-comprehension."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1490225531, "post_id": 42964235, "comment_id": 73023218, "body": "@rth I&#39;ll post an answer"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1490225602, "post_id": 42964235, "comment_id": 73023249, "body": "@juanpa.arrivillaga Ah, you switched to Python 3. The <code>accumulate</code> solves the problem I had."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1490226277, "post_id": 42964235, "comment_id": 73023454, "body": "@juanpa.arrivillaga Well the OP is using Python 2 so you switched from that to Python 3."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 4, "last_activity_date": 1490223704, "creation_date": 1490223704, "answer_id": 42964235, "question_id": 42964170, "link": "https://stackoverflow.com/questions/42964170/python-why-lambda-behaves-differently-when-it-has-constant-compare-to-calls-rand/42964235#42964235", "title": "python why lambda behaves differently when it has constant compare to calls random function", "body": "<p><code>iter(lambda: x+0.5,max+1.)</code> stops when the <code>lambda</code> function returns <strong>exactly</strong> <code>max+1.</code>. The function does return <code>max+1.</code>, so the iterator stops there, but that could have gone differently by a fluke of floating-point rounding.</p>\n\n<p><code>iter(lambda: x+random.random(),max+1.)</code> only stops if the <code>lambda</code> function returns exactly <code>max+1.</code>, but this time, it is extremely unlikely that the function will ever return that value. Your list comprehension filters iterator elements forever.</p>\n\n<hr>\n\n<p>Note that both of your code snippets rely on Python 2 list comprehension variable scope behavior, where the <code>x</code> in the comprehension's <code>for</code> clause is the same as the <code>x</code> from the function the comprehension appears in. That changed in Python 3, so neither of your code snippets work on Python 3.</p>\n"}, {"comments": [{"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 2, "creation_date": 1490226537, "post_id": 42964625, "comment_id": 73023526, "body": "No need to wrap <code>random.random</code> in a <code>lambda</code>."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1490228551, "post_id": 42964625, "comment_id": 73024129, "body": "And instead of the <code>partial</code> you could use <code>float(stop).__gt__</code>, though the fact that I had to convert to <code>float</code> somewhat shows that <code>partial</code> might be the better choice..."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 1, "creation_date": 1490228968, "post_id": 42964625, "comment_id": 73024239, "body": "@stefanpochmann Yeah good point about <code>random.random</code>. I think the lands wrapper was leftover from  a my earlier attempts. I don&#39;t like using dunder methods directly, so I use <code>operator</code>"}, {"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1490241782, "post_id": 42964625, "comment_id": 73027667, "body": "Thank you!  Good example and nice explanations."}, {"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1490242676, "post_id": 42964625, "comment_id": 73027888, "body": "Naive question, why I need <code>itertools.takewhile</code>? Why this won&#39;t work  <code>f= lambda M:[ x for x in itertools.accumulate(iter(random.random, object())) if x&lt;M ]</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 1, "creation_date": 1490247060, "post_id": 42964625, "comment_id": 73029201, "body": "@rth because  <code>iter(random.random, object())</code> is an infinite iterator. Just because the condition in the or statement of the comprehension is failing past a certain point doesn&#39;t mean the list comprehension will stop iterating over it. And stop wrapping things in <code>lambda</code>s like that. if you are going to assign the function to a name, e.g. <code>f = lambda...</code> then you should just use a full function definition. In fact, that is part of the official style guide, PEP8."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1490247164, "post_id": 42964625, "comment_id": 73029242, "body": "@rth think about it this way, if <code>seq = [2, 2, 3, 4, 3]</code> , then you wouldn&#39;t expect <code>[x for x in seq if x % 2 == 0]</code> to result in <code>[2, 2]</code>"}, {"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1490280045, "post_id": 42964625, "comment_id": 73050360, "body": "@juanpa.arrivillaga Thank you! But in this case why this answer works? According to you it shouldn&#39;t.... [<a href=\"http://stackoverflow.com/questions/42518960/python-iterative-process-inside-lambda-function]\" title=\"python iterative process inside lambda function%5d\">stackoverflow.com/questions/42518960/&hellip;</a>"}, {"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1490280115, "post_id": 42964625, "comment_id": 73050425, "body": "BTW in my Python 2.7.12 (default, Nov 19 2016, 06:48:10)  [GCC 5.4.0 20160609] on linux2, i got an error <code>AttributeError: &#39;module&#39; object has no attribute &#39;accumulate&#39; </code>."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 1, "creation_date": 1490287785, "post_id": 42964625, "comment_id": 73056539, "body": "@rth Yeah, it&#39;s only available on Python 3, but it&#39;s easy to implement. Indeed, the <a href=\"https://docs.python.org/3/library/itertools.html#itertools.accumulate\" rel=\"nofollow noreferrer\">Python 3 docs</a> have an equivalent Python implementation."}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 2, "last_activity_date": 1490229086, "last_edit_date": 1490229086, "creation_date": 1490225744, "answer_id": 42964625, "question_id": 42964170, "link": "https://stackoverflow.com/questions/42964170/python-why-lambda-behaves-differently-when-it-has-constant-compare-to-calls-rand/42964625#42964625", "title": "python why lambda behaves differently when it has constant compare to calls random function", "body": "<p>Here are some ways to achieve what you want. First, some code-golf:</p>\n\n<pre><code>def f(stop): \n    return itertools.takewhile(functools.partial(operator.gt, stop), itertools.accumulate(iter(random.random, object())))\n</code></pre>\n\n<p>I'll leave you to deciphering that as an exercise (a great way to explore itertools!). And also as a good lesson on why you shouldn't write cryptic one-liners...</p>\n\n<p>However, I would probably just do:</p>\n\n<pre><code>In [5]: def increase_random(stop, start=0):\n    ...:     start += random.random()\n    ...:     while start &lt; stop:\n    ...:         yield start\n    ...:         start += random.random()\n    ...:\n</code></pre>\n\n<p>See how much more readable and straight-forward that is? 6 months from now, I'll re-read that and know exactly what I was trying to do.</p>\n\n<p>Here it is in action:</p>\n\n<pre><code>In [7]: list(increase_random(5))\nOut[7]:\n[0.442800767759875,\n 1.4148173965715438,\n 1.7683959590284435,\n 2.116245564487893,\n 2.832867264471769,\n 3.684055219689638,\n 3.986469894067608,\n 4.617838198100095]\n\nIn [8]: list(increase_random(5))\nOut[8]:\n[0.5851100455307873,\n 1.3248041125729781,\n 2.275952338784795,\n 2.539203591128045,\n 2.7563520512088835,\n 3.259124317278677,\n 4.1641913798928805,\n 4.77771351014472]\n\nIn [9]: list(increase_random(10))\nOut[9]:\n[0.4226041227598847,\n 1.0816534967326379,\n 1.1540685081566209,\n 1.6987578052795809,\n 2.118172344169681,\n 2.5349681976516156,\n 3.137101744986478,\n 3.1436528694585766,\n 3.455139268185562,\n 3.7614777591407975,\n 4.072603396579612,\n 4.71137983138932,\n 5.01309327918888,\n 5.098769083492201,\n 5.858553103139947,\n 5.950601116127209,\n 5.956983974085873,\n 5.967975512928789,\n 6.090114835094137,\n 6.105296749316677,\n 6.329459825745162,\n 6.825175725633318,\n 7.738665256248604,\n 8.409407710225171,\n 9.202163699315623,\n 9.497148670699866,\n 9.839990622387328,\n 9.977297575005993]\n</code></pre>\n\n<p>OK, here is a reward for reading this far... the one-liner works thusly:</p>\n\n<p><code>itertools.takewhile</code> takes a function and an iterable. The <code>takewhile</code> will yield from the iterable as long as the function returns <code>True</code>. The function I use is <code>functools.partial(operator.gt, stop)</code>, which is the partial-application of the <code>operator.gt</code>, <code>op.gt(a, b)</code> is equivalent to <code>a &gt; b</code>, so we take while <code>stop</code> is greater than the value returned by the iteterable. Finally, the iterable is <code>itertools.accumulate(iter(random.random, object())</code>. <code>accumulate</code> (only on Python 3) takes an iterable and keeps adding the iterables values to it... i.e. accumulating. So, e.g:</p>\n\n<pre><code>In [10]: list(itertools.accumulate([1, 2, 3, 4]))\nOut[10]: [1, 3, 6, 10]\n</code></pre>\n\n<p>The iterable I pass to <code>accumulate</code> is <code>iter(random.random, object())</code> which just calls random.random until the value is <code>== object()</code>, which is <em>never</em>.</p>\n"}], "owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 42964625, "answer_count": 2, "score": 0, "last_activity_date": 1490229086, "creation_date": 1490223400, "question_id": 42964170, "link": "https://stackoverflow.com/questions/42964170/python-why-lambda-behaves-differently-when-it-has-constant-compare-to-calls-rand", "title": "python why lambda behaves differently when it has constant compare to calls random function", "body": "<p>I probably don't understand python's lambda very much. So it confuses me evry time. For example if I have this simple lambda construction with constant, everything works perfect:</p>\n\n<pre><code>&gt;&gt;&gt; f = lambda max,x=0:[ x for x in iter(lambda: x+0.5,max+1.) if x&lt;max ]\n&gt;&gt;&gt; f(10)\n[0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0, 5.5, 6.0, 6.5, 7.0, 7.5, 8.0, 8.5, 9.0, 9.5]\n</code></pre>\n\n<p>But if I substitute  random number generator instead of constant 0.5, it would stuck and never returns back....</p>\n\n<pre><code>&gt;&gt;&gt; f = lambda max,x=0:[ x for x in iter(lambda: x+random.random(),max+1.) if x&lt;max ]\n&gt;&gt;&gt; f(10)\n</code></pre>\n\n<p>Why?! And what to do to avoid it?</p>\n"}, {"tags": ["python", "mysql", "django", "many-to-many"], "comments": [{"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1490230204, "post_id": 42964146, "comment_id": 73024600, "body": "You can access all <code>B</code> objects through <code>a.ab_set.filter()</code>"}, {"owner": {"reputation": 281, "user_id": 5752308, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-dopXMWNLeoY/AAAAAAAAAAI/AAAAAAAAAF8/oSC4dibFzyU/photo.jpg?sz=128", "display_name": "nacho c", "link": "https://stackoverflow.com/users/5752308/nacho-c"}, "reply_to_user": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1490231278, "post_id": 42964146, "comment_id": 73024885, "body": "it throws the same error, a object has no attribute ab_set"}, {"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1490231382, "post_id": 42964146, "comment_id": 73024916, "body": "Nope. I&#39;ve just checked locally. <code>a_obj = A(name=&#39;test&#39;); a_obj.save(); a_obj.ab.set.all()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 413, "user_id": 4396011, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zGtsNwkuKSc/AAAAAAAAAAI/AAAAAAAAABY/tQ-0juQCeIM/photo.jpg?sz=128", "display_name": "Angel F", "link": "https://stackoverflow.com/users/4396011/angel-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1490239398, "creation_date": 1490239398, "answer_id": 42966685, "question_id": 42964146, "link": "https://stackoverflow.com/questions/42964146/create-intermediate-table-manually-in-django/42966685#42966685", "title": "Create intermediate table manually in django", "body": "<p>You have here a M2M relationship, django provides a great API to do all that you want here.</p>\n\n<p>You can visit its documentation about M2M fields <a href=\"https://docs.djangoproject.com/en/1.10/ref/models/fields/#manytomanyfield\" rel=\"nofollow noreferrer\">here</a> where explains with details the way to build a m2m with an intermediate model (table)</p>\n\n<p>Here <a href=\"https://docs.djangoproject.com/en/1.10/ref/models/fields/#django.db.models.ManyToManyField.through\" rel=\"nofollow noreferrer\">M2M through</a> documentation</p>\n"}], "owner": {"reputation": 281, "user_id": 5752308, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-dopXMWNLeoY/AAAAAAAAAAI/AAAAAAAAAF8/oSC4dibFzyU/photo.jpg?sz=128", "display_name": "nacho c", "link": "https://stackoverflow.com/users/5752308/nacho-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1507, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490239398, "creation_date": 1490223259, "last_edit_date": 1490231253, "question_id": 42964146, "link": "https://stackoverflow.com/questions/42964146/create-intermediate-table-manually-in-django", "title": "Create intermediate table manually in django", "body": "<p>I have an excel that contains three tables, table_a, table_a_b and table_b.</p>\n\n<p>table_a\nid | name </p>\n\n<p>table_b\nid | product</p>\n\n<p>table_a_b\nid | a_id | b_id</p>\n\n<p>I've created those tables manually and gathered the data to the DB through csv. My models file looks like this </p>\n\n<pre><code>class A(models.Model):\n    name = models.TextField(null=True)\n\nclass Meta:\n    db_table = 'As'\n\nclass B(models.Model):\n    name = models.TextField(null=True)\n\nclass Meta:\n    db_table = 'Bs'\n\nclass AB(models.Model):\n    a = models.ForeignKey(A)\n    b = models.ForeignKey(B)\n\nclass Meta:\n    db_table = 'AsBs'\n</code></pre>\n\n<p>I have a huge problem here, I cannot access to all objects B from a particular object A.</p>\n\n<p>Two Questions:</p>\n\n<p>1) Is my approach (creating the intermediate table manually?) good?</p>\n\n<p>2) Is there a way to get all objects of B of A following my approach?</p>\n"}, {"tags": ["python", "django", "unit-testing", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 1369, "user_id": 2584772, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ce910c0f7a90e2e06ca9b54e213f9cb9?s=128&d=identicon&r=PG", "display_name": "Caco", "link": "https://stackoverflow.com/users/2584772/caco"}, "edited": false, "score": 0, "creation_date": 1490266979, "post_id": 42964918, "comment_id": 73040437, "body": "Thanks for the tips man. I verified here and user.password is accessible. By the way, I&#39;m learning Django TDD with <a href=\"http://www.obeythetestinggoat.com/\" rel=\"nofollow noreferrer\">obeythetestinggoat.com</a>, a great resource. But there is a quick Appendix covering testing API and <code>django-rest-framework</code> in particular. No authentication tests. Anyhow thanks for help me."}], "tags": [], "owner": {"reputation": 2096, "user_id": 394647, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/79e06a84ed505fd81a08184f22078742?s=128&d=identicon&r=PG&f=1", "display_name": "chachan", "link": "https://stackoverflow.com/users/394647/chachan"}, "is_accepted": false, "score": 1, "last_activity_date": 1490227638, "creation_date": 1490227638, "answer_id": 42964918, "question_id": 42964109, "link": "https://stackoverflow.com/questions/42964109/testing-post-with-authentication-in-django-rest-framework/42964918#42964918", "title": "Testing POST with authentication in Django Rest Framework", "body": "<p>I don't think you can't access to <code>user.password</code> as you are trying to. Also, I'd give some advices:</p>\n\n<ul>\n<li>Since you're using <code>APITestCase</code>. Try to use setUp method to create your user in database. That way you will be able to re-use that user in other cases</li>\n<li>Follow pep8 guidelines to write your code.<code>test_POSTing_a_new_researcher</code> is a very weird method name</li>\n<li>Take a look at <a href=\"https://github.com/FactoryBoy/factory_boy/\" rel=\"nofollow noreferrer\">factory boy</a>, it might make your life easier by replacing the fixture approach</li>\n</ul>\n\n<p>Good resource for testing: <a href=\"http://www.obeythetestinggoat.com/\" rel=\"nofollow noreferrer\">http://www.obeythetestinggoat.com/</a></p>\n"}, {"comments": [{"owner": {"reputation": 1369, "user_id": 2584772, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ce910c0f7a90e2e06ca9b54e213f9cb9?s=128&d=identicon&r=PG", "display_name": "Caco", "link": "https://stackoverflow.com/users/2584772/caco"}, "edited": false, "score": 0, "creation_date": 1490267231, "post_id": 42968252, "comment_id": 73040606, "body": "In fact, printing <code>user.password</code> gives &#39;nep-lab1&#39;. I discovered here that the correct way of creating user is with <a href=\"https://docs.djangoproject.com/en/1.10/topics/auth/default/#creating-users\" rel=\"nofollow noreferrer\">User.objects.create_user()</a> and not <code>User.objects.create()</code> like common model classes. The first method hashes the password for us. Anyhow thanks for replying.  You&#39;ve open my mind to that error."}], "tags": [], "owner": {"reputation": 77, "user_id": 6284644, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0qOAXfspRWY/AAAAAAAAAAI/AAAAAAAAADs/6qX4vabPw2g/photo.jpg?sz=128", "display_name": "Jc Din", "link": "https://stackoverflow.com/users/6284644/jc-din"}, "is_accepted": false, "score": 1, "last_activity_date": 1490248547, "creation_date": 1490248547, "answer_id": 42968252, "question_id": 42964109, "link": "https://stackoverflow.com/questions/42964109/testing-post-with-authentication-in-django-rest-framework/42968252#42968252", "title": "Testing POST with authentication in Django Rest Framework", "body": "<p>base on the test case you've written\nthe test user is not logged in because you are trying to log in a user using the hashed password and not the <code>nep-lab1</code>. you can test if you've successfully logged in by:</p>\n\n<pre><code>print self.client.login(username=user.username, password=`nep-lab1`)\n# True if logged in and False if not\n</code></pre>\n\n<p>and since the user is not logged your test on posting a new researcher via api would result to <code>FORBIDDEN</code>(403) http response and not <code>CREATED</code>(201)</p>\n"}, {"tags": [], "owner": {"reputation": 1369, "user_id": 2584772, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ce910c0f7a90e2e06ca9b54e213f9cb9?s=128&d=identicon&r=PG", "display_name": "Caco", "link": "https://stackoverflow.com/users/2584772/caco"}, "is_accepted": false, "score": 6, "last_activity_date": 1490267998, "creation_date": 1490267998, "answer_id": 42974571, "question_id": 42964109, "link": "https://stackoverflow.com/questions/42964109/testing-post-with-authentication-in-django-rest-framework/42974571#42974571", "title": "Testing POST with authentication in Django Rest Framework", "body": "<p>The right way to create a user is using <code>User.objects.create_user()</code> as teach  <a href=\"https://docs.djangoproject.com/en/1.10/topics/auth/default/#creating-users\" rel=\"noreferrer\">official Django documentation</a>. When using <code>create_user()</code> method the password parameter is hashed before saving in database, while common <code>create()</code> method does not do that.</p>\n\n<p>Also, it's necessary login with</p>\n\n<pre><code>self.client.login(username=user.username, password='nep-lab1')\n</code></pre>\n\n<p>instead <code>user.password</code> as <code>password</code> parameter in <code>APIClient.client.login()</code> method, as pointed out by @oz-main.</p>\n"}], "owner": {"reputation": 1369, "user_id": 2584772, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ce910c0f7a90e2e06ca9b54e213f9cb9?s=128&d=identicon&r=PG", "display_name": "Caco", "link": "https://stackoverflow.com/users/2584772/caco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2391, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1490267998, "creation_date": 1490223070, "question_id": 42964109, "link": "https://stackoverflow.com/questions/42964109/testing-post-with-authentication-in-django-rest-framework", "title": "Testing POST with authentication in Django Rest Framework", "body": "<p>I'm trying to test POSTing data to a view in <code>django-rest-framework</code> that requires authentication. But I can't. I've read many threads of supposed solutions, but can't find any that solves to me.</p>\n\n<p>Serializer:</p>\n\n<pre><code>class ResearcherSerializer(serializers.ModelSerializer):\n    studies = serializers.PrimaryKeyRelatedField(\n        many=True, queryset=Study.objects.all()\n    )\n\n    class Meta:\n        model = Researcher\n        fields = ('id', 'first_name', 'surname', 'email', 'studies')\n</code></pre>\n\n<p>View:</p>\n\n<pre><code>class ResearcherSerializer(serializers.ModelSerializer):\n    studies = serializers.PrimaryKeyRelatedField(\n        many=True, queryset=Study.objects.all()\n    )\n\n    class Meta:\n        model = Researcher\n        fields = ('id', 'first_name', 'surname', 'email', 'studies')\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>class ResearcherAPITest(APITestCase):\n    base_url = reverse('api_researchers')\n# ...\n\ndef test_POSTing_a_new_researcher(self):\n    user = User.objects.create(username='lab1', password='nep-lab1')\n    self.client.login(username=user.username, password=user.password)\n    response = self.client.post(\n        self.base_url,\n        {\n            'first_name': 'Jo\u00e3o',\n            'surname': 'das Rosas',\n        }\n    )\n    self.assertEqual(response.status_code, status.HTTP_201_CREATED)\n    new_researcher = Researcher.objects.first()\n    self.assertEqual(new_researcher.first_name, 'Jo\u00e3o')\n    self.client.logout()\n</code></pre>\n\n<p>I receive this error:</p>\n\n<pre><code>FAIL: test_POSTing_a_new_researcher (experiments.tests.test_api.ResearcherAPITest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/caco/Workspace/nep-system/nep/experiments/tests/test_api.py\", line 130, in test_POSTing_a_new_researcher\n    self.assertEqual(response.status_code, status.HTTP_201_CREATED)\nAssertionError: 403 != 201\n\n----------------------------------------------------------------------\n</code></pre>\n\n<p>Had read <code>drf</code> Testing documentation but can't see what I'm doing wrong.</p>\n"}, {"tags": ["python", "sorting", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1490223332, "post_id": 42964118, "comment_id": 73022377, "body": "Thanks MaxU - I&#39;m going with piRSquared due to the brevity and the fact that it doesn&#39;t create another column, but this is awesome."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1490223407, "post_id": 42964118, "comment_id": 73022416, "body": "@pshep123, sure, i like his answer more than mine"}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1491788534, "post_id": 42964118, "comment_id": 73692481, "body": "I was curious about this solution as I think it offers a little more flexibility to include time in addition to the date (which I realize I didn&#39;t ask about at first).  But I was also curious about speed - and when I ran it for 20 years of 15-minute intervals (so roughly 700k lines), your solution was consistently more than 2x faster.  Thank you!"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1491819582, "post_id": 42964118, "comment_id": 73705241, "body": "@pshep123, that&#39;s interesting - thank you for the update!"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 3, "last_activity_date": 1490223120, "creation_date": 1490223120, "answer_id": 42964118, "question_id": 42964088, "link": "https://stackoverflow.com/questions/42964088/pandas-sort-dataframe-by-date-string-without-converting/42964118#42964118", "title": "Pandas: Sort dataframe by date string without converting", "body": "<p>you can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.assign.html\" rel=\"nofollow noreferrer\">.assign()</a> method:</p>\n\n<pre><code>In [22]: df.assign(x=pd.to_datetime(df['date'])).sort_values('x').drop('x', 1)\nOut[22]:\n         date  int\n2  10/15/2016    1\n0   1/15/2017    2\n1   2/15/2017    3\n3   3/15/2017    4\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 1, "creation_date": 1490223552, "post_id": 42964133, "comment_id": 73022484, "body": "@pshep123 <code>argsort</code> is a <code>np.array</code> method that returns an array of indices that would sort the array. This is passed to <code>iloc</code> which indexes based on <i>integer position</i>, in this case, based on the indices returned by <code>argsort</code>. It&#39;s a very tidy solution!"}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1490223636, "post_id": 42964133, "comment_id": 73022519, "body": "@piRSquared - thanks a ton for the solution and the explanation."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1490223697, "post_id": 42964133, "comment_id": 73022548, "body": "@pshep123 np, glad we could help."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 2, "creation_date": 1490223810, "post_id": 42964133, "comment_id": 73022589, "body": "If the downvoter is still looking.  let me know what you&#39;d like to see to convince you to revmove the downvote.  I&#39;m always eager to improve the quality of my answers."}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1491788591, "post_id": 42964133, "comment_id": 73692494, "body": "@piRSquared - in case you&#39;re interested, check out my comment on MaxU&#39;s answer."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 4, "last_activity_date": 1490223511, "last_edit_date": 1490223511, "creation_date": 1490223208, "answer_id": 42964133, "question_id": 42964088, "link": "https://stackoverflow.com/questions/42964088/pandas-sort-dataframe-by-date-string-without-converting/42964133#42964133", "title": "Pandas: Sort dataframe by date string without converting", "body": "<p><code>numpy</code>'s <code>argsort</code> returns the permutation necessary for sorting an array.  We can take advantage of that using <code>iloc</code>.  So by converting the dates using <code>pd.to_datetime</code> then subsequently  grabbing the values and calling <code>argsort</code> we've done all that we need to sort the original dataframe without changing any of it's columns.</p>\n\n<pre><code>df.iloc[pd.to_datetime(df.date).values.argsort()]\n\n         date  int\n2  10/15/2016    1\n0   1/15/2017    2\n1   2/15/2017    3\n3   3/15/2017    4\n</code></pre>\n"}], "owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2223, "favorite_count": 0, "accepted_answer_id": 42964133, "answer_count": 2, "score": 2, "last_activity_date": 1490223511, "creation_date": 1490222971, "question_id": 42964088, "link": "https://stackoverflow.com/questions/42964088/pandas-sort-dataframe-by-date-string-without-converting", "title": "Pandas: Sort dataframe by date string without converting", "body": "<p>Take this simple dataframe:</p>\n\n<pre><code>df = pd.DataFrame({\n    'date':['1/15/2017', '2/15/2017','10/15/2016', '3/15/2017'], \n    'int':[2,3,1,4]\n})\n</code></pre>\n\n<p>I'd like to sort it by the date, and then save it to a CSV without having to:</p>\n\n<ol>\n<li>Convert dates using <code>pd.to_datetime(df['date'])</code></li>\n<li>Sort the dataframe using <code>.sort_values('date')</code></li>\n<li>Convert dates back to <code>.strftime('%-m/%-d/%Y')</code></li>\n</ol>\n\n<p>And instead do something like this (which of course, doesn't work):</p>\n\n<pre><code>df.apply(pd.to_dataframe(df['date']).sort_values(by = 'date', inplace = True)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>         date  kw\n2  10/15/2016   1\n0   1/15/2017   2\n1   2/15/2017   3\n3   3/15/2017   4\n</code></pre>\n\n<p>Is this possible, or should I just stick with the 3-step process?</p>\n"}, {"tags": ["javascript", "python", "django", "google-chrome", "google-chrome-extension"], "answers": [{"tags": [], "owner": {"reputation": 10942, "user_id": 1202214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/501be28c0bf8615dd7cc6ab809ef35e9?s=128&d=identicon&r=PG", "display_name": "Andreas Bergstr&#246;m", "link": "https://stackoverflow.com/users/1202214/andreas-bergstr%c3%b6m"}, "is_accepted": false, "score": 0, "last_activity_date": 1554365983, "last_edit_date": 1592644375, "creation_date": 1554365983, "answer_id": 55511066, "question_id": 42964056, "link": "https://stackoverflow.com/questions/42964056/securely-storing-django-rest-api-token-in-chrome-extension/55511066#55511066", "title": "Securely storing Django REST API token in Chrome extension", "body": "<p>You should use <a href=\"https://www.informationsecuritybuzz.com/articles/security-and-privacy-best-practices-on-building-a-chrome-extension/\" rel=\"nofollow noreferrer\">chrome.identity</a>:</p>\n<blockquote>\n<p>Developers can leverage chrome.identity API to store user credentials. A Chrome extension usually makes API requests to external resources. A best practice is to store an OAuth API token. Such tokens can perform authorized requests on behalf of users without user names / passwords, and can be revoked by the user anytime.</p>\n<p>Chrome API provides a chrome.identity service, which provides a secure way for an extension to authenticate, fetch and refresh tokens. This API enables a user to perform authentication against a third-party service. Chrome can interactively display a popup UI, which:</p>\n</blockquote>\n<p>Here's the <a href=\"https://developer.chrome.com/apps/identity\" rel=\"nofollow noreferrer\">official docs</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14083871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjRr-Wj5-Brn1muXHhfcf9EVzYmSv2z3bqoLcwCeA=k-s128", "display_name": "bert", "link": "https://stackoverflow.com/users/14083871/bert"}, "is_accepted": false, "score": 0, "last_activity_date": 1600182270, "last_edit_date": 1600182270, "creation_date": 1600026081, "answer_id": 63874874, "question_id": 42964056, "link": "https://stackoverflow.com/questions/42964056/securely-storing-django-rest-api-token-in-chrome-extension/63874874#63874874", "title": "Securely storing Django REST API token in Chrome extension", "body": "<p>Chrome does not allow extensions to modify/deal with cookies.</p>\n<p>In the <a href=\"https://developer.chrome.com/\" rel=\"nofollow noreferrer\">documentation</a> it says: &quot;Use the Chrome Identity API to authenticate users: the <em>getAuthToken</em> for users logged into their Google Account and the <em>launchWebAuthFlow</em> for users logged into a non-Google account. <strong>If your app uses its own server to authenticate users, you will need to use the latter</strong>&quot;</p>\n<p>You can find the documentation about non-Google accounts <a href=\"https://developer.chrome.com/apps/app_identity#non\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You can store your token in local storage which is only accessible by your extension but be aware that, it is not encrypted and can be seen through Chrome's development tools.</p>\n"}], "owner": {"reputation": 71, "user_id": 5919716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0f95dc0eb945e2a4b74fb2ec38bb1f9?s=128&d=identicon&r=PG&f=1", "display_name": "sfirrin", "link": "https://stackoverflow.com/users/5919716/sfirrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 374, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1600182270, "creation_date": 1490222785, "question_id": 42964056, "link": "https://stackoverflow.com/questions/42964056/securely-storing-django-rest-api-token-in-chrome-extension", "title": "Securely storing Django REST API token in Chrome extension", "body": "<p>I'm making a Chrome extension which should allow users to enter their username and password into a pop-up interface, post those to the server via AJAX, and receive a Django REST API token which the Chrome extension can use to interact with the Django app (get user info, create new records, etc. - so it should be secure).</p>\n\n<p>Right now I've got the Chrome extension making the request and receiving the API token, but I'm struggling with how to store the API token securely.</p>\n\n<p>I know that chrome.storage is out because the docs say that it's not secure. Would it be possible to use cookies here? The extension needs to run on multiple domains, so I'm not sure if I can use cookies securely.</p>\n\n<p>I'd like to not require the user to log in every time they use Chrome, but I'm not sure how to go about storing the API data.</p>\n"}, {"tags": ["python", "python-2.7", "selenium", "selenium-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 7629851, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f8c547ec85b373cf4cb1793652425ca7?s=128&d=identicon&r=PG&f=1", "display_name": "PythonLearn", "link": "https://stackoverflow.com/users/7629851/pythonlearn"}, "edited": false, "score": 0, "creation_date": 1490225268, "post_id": 42964152, "comment_id": 73023138, "body": "Why wait() is better than sleep()? And i instead not know how i can click() all links :) Do you can show me example? It&#39;s the same like google search and click all results. Sorry for my english"}, {"owner": {"reputation": 5044, "user_id": 888587, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7tddL.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/888587/brian"}, "reply_to_user": {"reputation": 97, "user_id": 7629851, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f8c547ec85b373cf4cb1793652425ca7?s=128&d=identicon&r=PG&f=1", "display_name": "PythonLearn", "link": "https://stackoverflow.com/users/7629851/pythonlearn"}, "edited": false, "score": 0, "creation_date": 1490225625, "post_id": 42964152, "comment_id": 73023259, "body": "@PythonLearn - The reason you want to use a <code>wait()</code> over a sleep is that it doesn&#39;t affect the thread your code is running on; you are just telling your <code>driver</code> object to, &quot;hold on a minute.&quot;  When you use <code>sleep</code> you are putting the <i>thread</i> to sleep.  And that can cause oddities and slow down the execution time of your tests."}, {"owner": {"reputation": 186, "user_id": 7471556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daae352aef5a3a21134886ed345de22?s=128&d=identicon&r=PG", "display_name": "Steve Harris", "link": "https://stackoverflow.com/users/7471556/steve-harris"}, "edited": false, "score": 1, "creation_date": 1490225664, "post_id": 42964152, "comment_id": 73023272, "body": "A &quot;sleep&quot; does not guarantee that the desired condition has been met.  It just delays things from happening.  All test actions should have expected results, and &quot;waits&quot; allow you to wait for the all the loading and rendering and stuff to complete.  Waits have timeouts in case things don&#39;t happen correctly.  When testing use &quot;<a href=\"http://selenium-python.readthedocs.io/waits.html\" rel=\"nofollow noreferrer\">waits</a>&quot; not sleep, and the condition will either be satisfied or not.  When not you will need to check if the page changed or not."}, {"owner": {"reputation": 97, "user_id": 7629851, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f8c547ec85b373cf4cb1793652425ca7?s=128&d=identicon&r=PG&f=1", "display_name": "PythonLearn", "link": "https://stackoverflow.com/users/7629851/pythonlearn"}, "edited": false, "score": 0, "creation_date": 1490229110, "post_id": 42964152, "comment_id": 73024275, "body": "Seriously no examples? Maybe open all links in new tab?"}, {"owner": {"reputation": 186, "user_id": 7471556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daae352aef5a3a21134886ed345de22?s=128&d=identicon&r=PG", "display_name": "Steve Harris", "link": "https://stackoverflow.com/users/7471556/steve-harris"}, "edited": false, "score": 0, "creation_date": 1490286442, "post_id": 42964152, "comment_id": 73055625, "body": "Sorry, I&#39;m not a Python programmer; I do have extensive experience with Selenium web drivers and running browser testing scenarios.  It really is philosophical anyhow - because the specifics of the waits and sequencing are different in different scenarios.  See the link provided for details about &quot;wait conditions&quot; in Python - there are a lot of them!"}], "tags": [], "owner": {"reputation": 186, "user_id": 7471556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daae352aef5a3a21134886ed345de22?s=128&d=identicon&r=PG", "display_name": "Steve Harris", "link": "https://stackoverflow.com/users/7471556/steve-harris"}, "is_accepted": false, "score": 0, "last_activity_date": 1490225773, "last_edit_date": 1490225773, "creation_date": 1490223293, "answer_id": 42964152, "question_id": 42964029, "link": "https://stackoverflow.com/questions/42964029/click-all-links-on-the-website-with-action-the-element-reference-is-stale-er/42964152#42964152", "title": "Click all links on the website with action. The element reference is stale er", "body": "<p>A couple of things:</p>\n\n<p>Don't use delays like \"sleep\" to synchronize.  Use \"wait\" conditions instead.</p>\n\n<p>Since you are using \"back()\" you will want to only do that if you successfully moved off the previous page, which is one of the reasons that it is better to test the actions specifically - for example, how do you know that every click() is supposed to move you \"forward\", might be some other action involved.  You are making assumptions about the DOM, here, which is OK, but you'll need to check your conditions before performing other actions.  For example if you move \"back\" before your next page is loaded you will lose your DOM.</p>\n\n<p>Also, it is possible that the back() is causing your DOM to refresh, which is changing the element identifiers.  If that's the case you'll want to verify your page after each back and iterate through the elements by index, looking them up individually before clicking.</p>\n\n<p>I always have found it better practice to be more exacting about things like click operations.  Click the <strong>specific</strong> link and check for the <strong>specific</strong> result - and use wait conditions between actions to assure you are exactly where you expect to be.</p>\n\n<p>More about <a href=\"http://selenium-python.readthedocs.io/waits.html\" rel=\"nofollow noreferrer\">wait conditions here</a>.</p>\n"}], "owner": {"reputation": 97, "user_id": 7629851, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f8c547ec85b373cf4cb1793652425ca7?s=128&d=identicon&r=PG&f=1", "display_name": "PythonLearn", "link": "https://stackoverflow.com/users/7629851/pythonlearn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490225773, "creation_date": 1490222668, "last_edit_date": 1490223018, "question_id": 42964029, "link": "https://stackoverflow.com/questions/42964029/click-all-links-on-the-website-with-action-the-element-reference-is-stale-er", "title": "Click all links on the website with action. The element reference is stale er", "body": "<p>I make new script, I want click() all listed links on the website, find something, back to the listed links, click() next link, find something, back to the listed links.</p>\n\n<p>I start with website which list for me some links:</p>\n\n<p>link 1\nlink 2\nlink 3\netc</p>\n\n<pre><code>links = driver.find_elements_by_xpath(\"myxpath\")\nfor link in links:\n    link.click()\n    try:\n        time.sleep(2)\n        wantedelement = driver.find_element_by_xpath(\"xpath\")\n        wantedelement.click()\n        #Save to file\n        tofile = driver.find_element_by_xpath(\"xpath\")\n        print (tofile.text)\n        myfile = open(\"file.txt\", \"a\")\n        my.write(tofile.text + \"\\n\")\n        driver.back()\nexcept (ElementNotVisibleException, NoSuchElementException):\n        driver.back()\n</code></pre>\n\n<p>But my script check only one link and when back to the listed links print me error:</p>\n\n<p>selenium.common.exceptions.StaleElementReferenceException: Message: The element reference is stale. Either the element is no longer attached to the DOM or the page has been refreshed.</p>\n\n<pre><code>on line:\nfor link in links:\n    link.click() &lt;----\n</code></pre>\n\n<p>How can i fix it? (Python 2.7)</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1490223410, "post_id": 42964022, "comment_id": 73022417, "body": "What are you trying to do to this poor file? Can you explain the desired result?"}, {"owner": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1490223659, "post_id": 42964022, "comment_id": 73022536, "body": "Are the lines a fixed size (in bytes/characters)? If so, you can use <a href=\"https://docs.python.org/2.7/library/stdtypes.html#file.seek\" rel=\"nofollow noreferrer\"><code>file.seek()</code></a> to move the file object&#39;s current position. If not, you&#39;re plumb out of luck. You have to call <code>file.next()</code> to advance the iterator, or call <code>file.readline()</code> and discard the output until you get to the line you want. Note that the last two options consume the iterator, meaning you have to capture the skipped lines if you plan to need them later."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490223713, "post_id": 42964022, "comment_id": 73022557, "body": "<code>for index, line in enumerate(file):</code> starts enumeration from the beginning of the list in <code>file</code> every time you do it."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490223809, "post_id": 42964022, "comment_id": 73022588, "body": "It seems like you want to locate <code>&quot;@@@ ID:&quot;</code> as long as it appears before <code>&quot;@@@TC_FIN@@@&quot;</code>. Is that true? Do you want to do that multiple times?"}, {"owner": {"reputation": 357, "user_id": 5563932, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d84fd35043a683100da7403d441401e?s=128&d=identicon&r=PG&f=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/5563932/marko"}, "edited": false, "score": 0, "creation_date": 1490223818, "post_id": 42964022, "comment_id": 73022594, "body": "Once passed the lines I don&#39;t need them anymore. So when I call the function again it&#39;s ok to not being able to access the previous lines.  The code is just a sample. I have a big file with similar structures in it and I have to manipulate the structures content, one structure on one function call."}, {"owner": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1490223823, "post_id": 42964022, "comment_id": 73022597, "body": "Also, don&#39;t forget to <a href=\"https://docs.python.org/2.7/library/stdtypes.html#file.close\" rel=\"nofollow noreferrer\"><code>file.close()</code></a> the file object when you&#39;re done or else you risk corrupting the file."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 1, "creation_date": 1490223879, "post_id": 42964022, "comment_id": 73022623, "body": "@MatthewCole I don&#39;t think he&#39;ll corrupt a read only file."}, {"owner": {"reputation": 357, "user_id": 5563932, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d84fd35043a683100da7403d441401e?s=128&d=identicon&r=PG&f=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/5563932/marko"}, "edited": false, "score": 0, "creation_date": 1490223929, "post_id": 42964022, "comment_id": 73022639, "body": "tdelaney Like I said before, I have multiple identifications to make, then copy some of the content from between two tags and so on. But all the time the @@@TC_FIN@@@ will be the end of the analysed structure and the right index for the next function call."}, {"owner": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490223984, "post_id": 42964022, "comment_id": 73022660, "body": "@tdelaney, perhaps not. But there are a lot of <a href=\"http://stackoverflow.com/questions/7395542/is-explicitly-closing-files-important\">other good reasons</a> not to leave an open file object lying around too, so I&#39;d say the advice stands."}, {"owner": {"reputation": 357, "user_id": 5563932, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d84fd35043a683100da7403d441401e?s=128&d=identicon&r=PG&f=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/5563932/marko"}, "reply_to_user": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1490224202, "post_id": 42964022, "comment_id": 73022755, "body": "@MatthewCole  file.seek() seems ok, because, like I explained before, I wanna always locate the index of the same thing (@@@TC_FIN@@@). But after I locate it, could I give the found location to the FOR so that he will start from there?"}, {"owner": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1490224536, "post_id": 42964022, "comment_id": 73022879, "body": "@Marko: if you check the link to the Python2 documentation that I gave, you&#39;ll see that the first argument is <code>offset</code>... but it doesn&#39;t make it explicitly clear that the offset is measured in bytes, not lines, the same as <code>file.read(size)</code> expects a size in bytes. If your lines aren&#39;t equally sized in bytes, you won&#39;t be able to calculate how many bytes to advance to skip to the correct line. If they are equally sized in bytes, file.seek(num_lines * line_size) moves to num_lines from the start of the file."}, {"owner": {"reputation": 357, "user_id": 5563932, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d84fd35043a683100da7403d441401e?s=128&d=identicon&r=PG&f=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/5563932/marko"}, "edited": false, "score": 0, "creation_date": 1490225792, "post_id": 42964022, "comment_id": 73023301, "body": "I have a new idea. What if after a function call I would delete the file content to the line that I need? After that it would be perfect if the analysis would start from index=0, because the file will be a new one without the previous processed data. Is there any way to delete and update the file without being necessary to indicate to file open that the .txt was changed?"}, {"owner": {"reputation": 357, "user_id": 5563932, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d84fd35043a683100da7403d441401e?s=128&d=identicon&r=PG&f=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/5563932/marko"}, "edited": false, "score": 0, "creation_date": 1490277823, "post_id": 42964022, "comment_id": 73048537, "body": "Thank you guys for all your comments! It was a useful conversation!"}], "answers": [{"tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": true, "score": 1, "last_activity_date": 1490225659, "creation_date": 1490225659, "answer_id": 42964612, "question_id": 42964022, "link": "https://stackoverflow.com/questions/42964022/how-to-start-reading-from-a-file-at-a-certain-line/42964612#42964612", "title": "How to start reading from a file at a certain line?", "body": "<p>Its a large text file so I think it would be worth revisiting the idea of reading it line by line. File objects keep track of where they are in the file and so they can be restarted inside for loops for additional processing. Generators use yield to pass results back to callers and are a good way to encapsulate functionality.</p>\n\n<p>This example scans a file until it sees the ID, gathers lines until it sees the FIN then hands the data back to the caller. Its a generator so it can be called from a for loop to get all of the records in turn.</p>\n\n<pre><code>from __future__ import print_function\nimport os\nimport sys\n\ndef my_datablock_iter(fileobj):\n    for line in file:\n        # find ID\n        if \"@@@ ID:\" in line:\n            # build a list of lines until FIN is seen\n            wanted = [line.strip()]\n            for line in file:\n                line = line.strip()\n                if line == \"@@@TC_FIN@@@\":\n                    break\n                wanted.append(line)\n            # hand block back to user\n            yield wanted\n\nwith open(\"file.txt\") as fp:\n    for datablock in my_datablock_iter(fp):\n        print(datablock)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 357, "user_id": 5563932, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d84fd35043a683100da7403d441401e?s=128&d=identicon&r=PG&f=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/5563932/marko"}, "is_accepted": false, "score": 0, "last_activity_date": 1490277721, "creation_date": 1490277721, "answer_id": 42978305, "question_id": 42964022, "link": "https://stackoverflow.com/questions/42964022/how-to-start-reading-from-a-file-at-a-certain-line/42978305#42978305", "title": "How to start reading from a file at a certain line?", "body": "<p>I have implemented my idea by erasing the lines which I've already parsed and it works very well, but this is only my happy case, because I do not need anymore any data which I have manipulated.\nFor those who will still need it, I think @tdelaney code is good to use, answer for which I thank him!</p>\n\n<p>Here is how I did it:</p>\n\n<pre><code>from __future__ import print_function\nimport os\nimport sys\n\ninitialCall = os.stat(\"test.txt\").st_size\n\ndef AssembleTC(parameter):\n\n  print(\"CALLED PARAMETER = \" + str(parameter))\n  if parameter == 0:\n      sys.exit()\n  else:\n      file = open(\"test.txt\").read().splitlines()\n      for index, line in enumerate(file):\n          if file[index] == \"@@@TC_FIN@@@\":\n              fin = index;\n              print (\"FIN POSITION = \" + str(fin))\n              break\n\n      check = os.stat(\"test.txt\").st_size\n      print(\"File size = \" + str(check))\n\n      while check &gt; 1:\n          for index, line in enumerate(file):\n              if \"@@@ TC NR\" in line:\n                  print(file[index+1])\n                  break\n          ok=0\n          with open(\"test.txt\",\"r\") as textobj:\n              mylist = list(textobj)\n              del mylist[0:fin+1]\n              ok=1\n\n          if ok==1:    \n              with open(\"test.txt\", \"w\") as textobj:\n                  for n in mylist:\n                      textobj.write(n)\n\n          print(\"OLD SIZE = \" + str(check))\n          check = os.stat(\"test.txt\").st_size\n          print(\"NEW SIZE = \" + str(check) + \"\\n\")\n\n          AssembleTC(check)\n\nAssembleTC(initialCall)\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 5563932, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d84fd35043a683100da7403d441401e?s=128&d=identicon&r=PG&f=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/5563932/marko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2431, "favorite_count": 0, "accepted_answer_id": 42964612, "answer_count": 2, "score": 3, "last_activity_date": 1490277721, "creation_date": 1490222635, "question_id": 42964022, "link": "https://stackoverflow.com/questions/42964022/how-to-start-reading-from-a-file-at-a-certain-line", "title": "How to start reading from a file at a certain line?", "body": "<p>I have a function that reads a large .txt file, line by line.</p>\n\n<p>As parameter I give to the function the line index from where it should start reading in file.</p>\n\n<p>First I call the function with 0 so that it will begin from the start.\nAt the end I call again the function with a new parameter, but when it reenters in the function the fresh sent index (which is different now) is still 0 in the for statement. :(</p>\n\n<pre><code>from __future__ import print_function\nimport os\nimport sys\n\nfile = open(\"file.txt\").read().splitlines()\n\nfor i, line in enumerate(file):\n    if file[i] == \"@@@TC_FIN@@@\":\n        fin = i;\n        #print (fin)\n\ndef AssembleTC(index):\n\n   while index &lt; fin:\n\n       for index, line in enumerate(file):\n           if \"@@@ ID:\" in line:\n               print(file[index+1])\n               break\n\n       for index, line in enumerate(file):\n           if file[index] == \"@@@TC_FIN@@@\":\n               recursive = index;\n               #print (recursive)\n               break\n\n       AssembleTC(recursive+1)\n\nAssembleTC(0)\n</code></pre>\n\n<p>It is vital for me to keep the present for statement with file[index] access procedure. I've read that I could skip lines with something like <code>file.next()</code> but it doesn't work.</p>\n\n<p>Is there any way to skip the number of lines that I want or simply to start the new reading from the updated index?\nPython 2.7.13 - Thank you!</p>\n"}, {"tags": ["python", "python-3.x", "canvas", "tkinter", "tk"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 7601296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08eacd87ae19b0769a31c9943c9ce19a?s=128&d=identicon&r=PG&f=1", "display_name": "Tweakforce_LG", "link": "https://stackoverflow.com/users/7601296/tweakforce-lg"}, "edited": false, "score": 1, "creation_date": 1490238116, "post_id": 42964303, "comment_id": 73026761, "body": "Not accurate for drawing straight lines but will still work just fine. Awesome, thanks for this. If you can change it to be similar to the line tool in MS Paint rather than a drag to draw thing that would be perfect, but either way this is very useful as is. Thanks :)"}], "tags": [], "owner": {"reputation": 1444, "user_id": 5245032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38ff968d478fc79749ada034222566df?s=128&d=identicon&r=PG&f=1", "display_name": "Robert I", "link": "https://stackoverflow.com/users/5245032/robert-i"}, "is_accepted": true, "score": 1, "last_activity_date": 1490223989, "creation_date": 1490223989, "answer_id": 42964303, "question_id": 42963988, "link": "https://stackoverflow.com/questions/42963988/tkinter-canvas-x-y-plotting/42964303#42964303", "title": "TKinter canvas X,Y Plotting", "body": "<p>I made you a little something :)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;title&gt;Example&lt;/title&gt;\r\n  &lt;style&gt;\r\n    body {\r\n      height: 3000px;\r\n    }\r\n    \r\n    .dot {\r\n      width: 2px;\r\n      height: 2px;\r\n      background-color: black;\r\n      position: absolute;\r\n    }\r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div&gt;Click mouse to start then click again to pause or click clear&lt;/div&gt;\r\n  &lt;button id=\"clear\"&gt;Mouse over to clear&lt;/button&gt;\r\n  &lt;textarea id=\"results\"&gt;&lt;/textarea&gt;\r\n  &lt;script&gt;\r\n    (function() {\r\n      \"use strict\";\r\n\r\n      var draw = false;\r\n\r\n      function clear() {\r\n        $(\".dot\").remove();\r\n        $(\"#results\").html(\"\");\r\n      }\r\n\r\n      function stop() {\r\n        draw = false;\r\n      }\r\n\r\n      function start() {\r\n        draw = true;\r\n      }\r\n      $(\"#clear\").mouseover(clear);\r\n      document.onmousedown = start;\r\n      document.onmouseup = stop;\r\n      document.onmousemove = handleMouseMove;\r\n\r\n      function handleMouseMove(event) {\r\n        if (draw == false) return;\r\n        var dot, eventDoc, doc, body, pageX, pageY;\r\n\r\n        event = event || window.event; // IE-ism\r\n\r\n        // If pageX/Y aren't available and clientX/Y\r\n        // are, calculate pageX/Y - logic taken from jQuery\r\n        // Calculate pageX/Y if missing and clientX/Y available\r\n        if (event.pageX == null &amp;&amp; event.clientX != null) {\r\n          eventDoc = (event.target &amp;&amp; event.target.ownerDocument) || document;\r\n          doc = eventDoc.documentElement;\r\n          body = eventDoc.body;\r\n\r\n          event.pageX = event.clientX +\r\n            (doc &amp;&amp; doc.scrollLeft || body &amp;&amp; body.scrollLeft || 0) -\r\n            (doc &amp;&amp; doc.clientLeft || body &amp;&amp; body.clientLeft || 0);\r\n          event.pageY = event.clientY +\r\n            (doc &amp;&amp; doc.scrollTop || body &amp;&amp; body.scrollTop || 0) -\r\n            (doc &amp;&amp; doc.clientTop || body &amp;&amp; body.clientTop || 0);\r\n        }\r\n\r\n        // Add a dot to follow the cursor\r\n        dot = document.createElement('div');\r\n        dot.className = \"dot\";\r\n        dot.style.left = event.pageX + \"px\";\r\n        dot.style.top = event.pageY + \"px\";\r\n        dot.style.position = \"absolute\";\r\n        document.body.appendChild(dot);\r\n        var result = event.pageX + \",\" + event.pageY + \"\\n\";\r\n        $(\"#results\").append(result);\r\n      }\r\n    })();\r\n  &lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Just click the mouse and draw on the output and then you can copy the textbox output.</p>\n"}], "owner": {"reputation": 107, "user_id": 7601296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08eacd87ae19b0769a31c9943c9ce19a?s=128&d=identicon&r=PG&f=1", "display_name": "Tweakforce_LG", "link": "https://stackoverflow.com/users/7601296/tweakforce-lg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 42964303, "answer_count": 1, "score": 1, "last_activity_date": 1490223989, "creation_date": 1490222487, "question_id": 42963988, "link": "https://stackoverflow.com/questions/42963988/tkinter-canvas-x-y-plotting", "title": "TKinter canvas X,Y Plotting", "body": "<p>Im wondering if there is a program online or downloadable that allows you to set a desired window size, draw lines to make a drawing and then it prints the origin (x,y) valuses and end (x,y) values for all drawn lines. This would really speed up my line drawing on Tkinter as i dont have to keep doing trial and error to get my lines to match up and join. If there isn't such a program, are there any ways of drawing on a canvas much more quickly than (x,y) trial and error.Thanks :)</p>\n"}, {"tags": ["python", "pygame", "window", "rect", "python-3.6"], "answers": [{"comments": [{"owner": {"reputation": 398, "user_id": 7335214, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k11rj.jpg?s=128&g=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/7335214/zac"}, "edited": false, "score": 0, "creation_date": 1490819180, "post_id": 42965503, "comment_id": 73288544, "body": "Thank you for your reply. I&#39;ve written your pseudo code into Python code and tried it out and it all works; the game starts and the menu disappears, and the menu is closed when clicked. However, now my start button doesn&#39;t change colour when i hover over it. Is this due to the removal of that while loop? how can i make the button change colour when the mouse hovers over it again, without breaking my code?"}, {"owner": {"reputation": 398, "user_id": 7335214, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k11rj.jpg?s=128&g=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/7335214/zac"}, "edited": false, "score": 0, "creation_date": 1490819996, "post_id": 42965503, "comment_id": 73289027, "body": "Don&#39;t worry! I fixed it. Thank you for your answer!"}], "tags": [], "owner": {"reputation": 2946, "user_id": 2038801, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WVnDF.jpg?s=128&g=1", "display_name": "The4thIceman", "link": "https://stackoverflow.com/users/2038801/the4thiceman"}, "is_accepted": true, "score": 1, "last_activity_date": 1490231990, "last_edit_date": 1490231990, "creation_date": 1490231681, "answer_id": 42965503, "question_id": 42963978, "link": "https://stackoverflow.com/questions/42963978/pygame-rect-button-stuck-on-screen-and-close-window-code-not-working/42965503#42965503", "title": "Pygame rect button stuck on screen, and close window code not working", "body": "<p>This loop within a loop thing is going to cause nothing but problems and has to go:</p>\n\n<pre><code>while intro:\n    ....\n    while True\n    ....\n</code></pre>\n\n<p>here is some pseudo code:</p>\n\n<pre><code>Class Game:\n    def menu_screen():\n        displaying = True\n        while displaying:\n            for event in pygame.event.get():\n                if event.type == pygame.QUIT:\n                    sys.exit()\n                elif event.type == pygame.MOUSEBUTTONDOWN:\n                    # evaluate mouse click\n                    if clicked button\n                        displaying = False\n                        self.game()\n            # drawing code for your images\n            pygame.display.flip()\n\n    def game():\n        game_running = True\n        while game_running:\n            # game running logic and drawing\n\ndef main():\n    # get the Game setup and call main menu\n</code></pre>\n\n<p>Basically, have your Game class control everything. it will have a menu function which displays the menu. Then they click the button and it goes to a different function within the game class for the actual game.</p>\n\n<p>The start button was remaining because you never cleared the screen when going into the start_game() function. As far as why the close window button wasn't working, it is because of the loop within a loop as i mentioned above. You were trapped in the inner</p>\n\n<pre><code>while True:\n</code></pre>\n\n<p>loop and you could never get back to the event checking from above. (The quit code itself is fine, although you don't need pygame.quit() because you are quitting the program entirely with sys.ext())</p>\n\n<p>Short of completely reworking your code, this can get you started on the right track.</p>\n"}], "owner": {"reputation": 398, "user_id": 7335214, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k11rj.jpg?s=128&g=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/7335214/zac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "accepted_answer_id": 42965503, "answer_count": 1, "score": 0, "last_activity_date": 1490231990, "creation_date": 1490222407, "question_id": 42963978, "link": "https://stackoverflow.com/questions/42963978/pygame-rect-button-stuck-on-screen-and-close-window-code-not-working", "title": "Pygame rect button stuck on screen, and close window code not working", "body": "<p>I'm currently programming a game in <strong>Python 3.6 using Pygame</strong>.\nMy game has a start menu, with a button that is highlighted when hovered over.\nWhen the button is clicked, the start menu disappears and the game starts.\nThe only problem is, the start button remains... I've tried using <code>boolean</code> values and <code>if</code> statements to make it disappear when the menu does, but to no avail.</p>\n\n<p>To make matters worse, the <code>pygame</code> code that allows the window to be closed doesn't work (highlighted by commenting out). Could anyone help me with these small problems? They seem trivial, but I'm new to <code>pygame</code> and I can't seem to find a fix anywhere.</p>\n\n<p>You will need the pictures below to run the program:</p>\n\n<p><a href=\"https://i.stack.imgur.com/B2aKM.png\" rel=\"nofollow noreferrer\">This is the photo of the girl.</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/rDvyC.jpg\" rel=\"nofollow noreferrer\">This is the background photo.</a></p>\n\n<p>The code:</p>\n\n<pre><code>#Imports\nimport sys\nimport pygame\npygame.init() #Initialise Pygame\n\n#RGB colours\nGREY = (128,128,128)\nWHITE = (255,255,255)\nBLACK = (0,0,0)\n\n#fonts\ntitle_font = pygame.font.Font('freesansbold.ttf',72)\nmenu_font = pygame.font.Font('freesansbold.ttf',32)\n\n#images\ngirl_img = pygame.image.load('emily.png')\nbackground_img = pygame.image.load('tech_lab.png')\n\nclass Game: #Game Class\n\n    def __init__(self): #Constructor\n        self.size = width, height = (1000,563)\n        self.screen = pygame.display.set_mode(self.size)\n\n    def menu_screen(self): #Menu Screen Function\n        intro = True\n        while intro:\n##            for event in pygame.event.get():  #To close window\n##                print(event)\n##                if event.type == pygame.QUIT:\n##                    pygame.quit()\n##                    sys.exit()\n\n            self.screen.fill(GREY) #Set background colour\n            self.screen.blit(title_font.render('EXAMPLE', True, BLACK), (330,100)) #Display game title\n            start_button = pygame.draw.rect(self.screen, (BLACK), pygame.Rect(410,310,180,55)) #Display start button rect\n            self.screen.blit(menu_font.render('Play', True, GREY), (425,310)) #Display start button text\n            pygame.display.flip() #Update display\n\n            while True:\n                pygame.event.get() #Get pygame events\n                click_pos = pygame.mouse.get_pos() #Get mouse position\n                if 410+180 &gt; click_pos[0] &gt; 410 and 310+55 &gt; click_pos[1] &gt; 310: #If mouse position within start button rect...\n                    pygame.draw.rect(self.screen, (WHITE), pygame.Rect(410,310,180,55)) #then change colour of start button rect\n                    if (pygame.mouse.get_pressed())[0] == 1: #If start button rect clicked...\n                        start_game(self) #Start main game\n                else:\n                    pygame.draw.rect(self.screen, (BLACK), pygame.Rect(410,310,180,55)) #Otherwise start button rect colour is black\n\n                self.screen.blit(menu_font.render('Play', True, GREY), (425,310))#Display start button text \n                pygame.display.flip() #Update display\n\ndef start_game(game): #Main game function\n    game.screen.blit(background_img, [0,0]) #Display background image\n    game.screen.blit(girl_img, [80,25]) #Display image\n    pygame.display.flip() #Update display\n\ndef main():\n    game = Game() #Instantiate class 'game'\n    game.menu_screen() #Call menu screen function\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "oop", "inheritance"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1490222582, "post_id": 42963968, "comment_id": 73022086, "body": "Consider whether these should actually be separate classes at all, and if they should be, consider whether it might be better to create instances through a factory function of some sort instead of <code>Parent(whatever)</code>."}, {"owner": {"reputation": 162, "user_id": 2391259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a59c710371ce051ab17106edc1d561e?s=128&d=identicon&r=PG&f=1", "display_name": "Shachar Ohana", "link": "https://stackoverflow.com/users/2391259/shachar-ohana"}, "edited": false, "score": 1, "creation_date": 1490222649, "post_id": 42963968, "comment_id": 73022113, "body": "A simple google search brought up <a href=\"http://stackoverflow.com/questions/9143948/changing-the-class-type-of-a-class-after-inserted-data\">this</a>. Google is your friend."}], "answers": [{"tags": [], "owner": {"reputation": 144, "user_id": 4811683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FRFtc.jpg?s=128&g=1", "display_name": "Amal Vincent", "link": "https://stackoverflow.com/users/4811683/amal-vincent"}, "is_accepted": false, "score": 0, "last_activity_date": 1490258750, "last_edit_date": 1490258750, "creation_date": 1490254059, "answer_id": 42969674, "question_id": 42963968, "link": "https://stackoverflow.com/questions/42963968/python-class-depending-on-variable/42969674#42969674", "title": "Python class depending on variable", "body": "<p>Define a conditional check if, else  in the <code>__new__</code> function of class parent prior to the <code>__init__</code>.</p>\n\n<pre><code>class Parent(Object):\n   def __new__(self,s):\n       if s=='a':\n         return object.__new__(childA)\n       else:\n         return object.__new__(childB)\nclass childA(Parent):\n   pass\nclass childB(Parent):\n   pass\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10831, "user_id": 300791, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b5bd432b4c4aba128fb803228b4d5878?s=128&d=identicon&r=PG", "display_name": "msvalkon", "link": "https://stackoverflow.com/users/300791/msvalkon"}, "edited": false, "score": 0, "creation_date": 1490258969, "post_id": 42970211, "comment_id": 73034588, "body": "Anyone downvoting a python core developer answer should have the courage to explain <i>why</i> they think this is a bad answer."}], "tags": [], "owner": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "is_accepted": true, "score": 1, "last_activity_date": 1490256761, "last_edit_date": 1490256761, "creation_date": 1490255866, "answer_id": 42970211, "question_id": 42963968, "link": "https://stackoverflow.com/questions/42963968/python-class-depending-on-variable/42970211#42970211", "title": "Python class depending on variable", "body": "<p>This can be done in a <a href=\"https://docs.python.org/3/reference/datamodel.html?highlight=__new__#object.__new__\" rel=\"nofollow noreferrer\"><code>__new__</code></a> method for the Parent class.  It gets to make the decisions about what object is really created:</p>\n\n<pre><code>class Parent(object):\n    def __new__(cls, selector):\n        if selector == 'a':\n            return object.__new__(A)\n        else:\n            return object.__new__(B)\n\nclass A(Parent):\n    letters = 'aaaaa'\n\nclass B(Parent):\n    letters = 'bbbbb'\n\na = Parent('a')\nprint(a.letters)\nb = Parent('b')\nprint(b.letters)\n</code></pre>\n\n<p>The output proves that it works:</p>\n\n<pre><code>aaaaa\nbbbbb\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 7285111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/686888717599625adb1a6a28128037d8?s=128&d=identicon&r=PG&f=1", "display_name": "Adogyf", "link": "https://stackoverflow.com/users/7285111/adogyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "closed_date": 1490258108, "accepted_answer_id": 42970211, "answer_count": 2, "score": 1, "last_activity_date": 1608490704, "creation_date": 1490222359, "last_edit_date": 1608490704, "question_id": 42963968, "link": "https://stackoverflow.com/questions/42963968/python-class-depending-on-variable", "closed_reason": "Duplicate", "title": "Python class depending on variable", "body": "<p>Is there a way to change objects class dynamically depending on passed variable? For example:</p>\n\n<pre><code>class Parent:\n    def __init__(self, variable):\n        ...\n        some magic\n        ...\n\nclass ChildA:\n    pass\n\nclass ChildB:\n    pass\n\n\ncls=Parent('a')\ncls.__class__\n&lt;class '__main__.ChildA'&gt;\n\ncls=Parent('b')\ncls.__class__\n&lt;class '__main__.ChildB'&gt;\n</code></pre>\n"}, {"tags": ["python", "google-app-engine", "flask", "google-cloud-platform", "google-app-engine-python"], "answers": [{"tags": [], "owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "is_accepted": false, "score": 6, "last_activity_date": 1490232332, "creation_date": 1490232332, "answer_id": 42965601, "question_id": 42963961, "link": "https://stackoverflow.com/questions/42963961/google-app-engine-not-serving-static-files/42965601#42965601", "title": "Google App Engine not serving static files", "body": "<p>The order of the handlers in the <code>app.yaml</code> file matters, your <code>/static</code> one will never be hit because it'll be matched by the <code>/.*</code> pattern first, you need to reverse their order.</p>\n\n<p>The fact that it works on localhost could be because the static content is available together with the app code, but that's not true when deployed on GAE - static content by default goes elsewhere and is not accessible by app code.</p>\n"}], "owner": {"reputation": 41, "user_id": 1552931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fedadc5c650f373d88abac0584da88cd?s=128&d=identicon&r=PG", "display_name": "NotNando", "link": "https://stackoverflow.com/users/1552931/notnando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1426, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1490246373, "creation_date": 1490222342, "last_edit_date": 1490246373, "question_id": 42963961, "link": "https://stackoverflow.com/questions/42963961/google-app-engine-not-serving-static-files", "title": "Google App Engine not serving static files", "body": "<p>I realize that this has been asked a couple of times, but none of the solutions seemed to help.</p>\n\n<p>I am trying to use Flask to serve some basic HTML and CSS to my website.\nOn App Engine, Flask is serving the template correctly, but is not able to locate the stylesheet in the static/css folder (I'm getting 404s in my logs on the developer console).</p>\n\n<p>My project's relevant structure is this:</p>\n\n<pre><code>/app\n    /static\n        /css\n            style.css\n    /templates\n        home.html\n</code></pre>\n\n<p>The commands I'm using are:</p>\n\n<pre><code>render_template('home.html')\n</code></pre>\n\n<p>In the main python file,</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{{ url_for('static', filename='css/style.css') }}\"&gt;\n</code></pre>\n\n<p>In the html to link the stylesheet.\nMy app.yaml file is very basic:</p>\n\n<pre><code>runtime: python27\napi_version: 1\nthreadsafe: true\n\nhandlers:\n- url: /.*\n  script: main.app\n- url: /static\n  static_dir: static\n  expiration: \"7d\"\n</code></pre>\n\n<p>Now, this works fine when I run it on localhost, and the url_for function is getting the stylesheet correctly, but not on Google Cloud Platform, despite getting the correct filepath and having the correct source code in the Development tab, only the HTML is served.\nIf it helps, this is the command I'm using to deploy the app:</p>\n\n<pre><code> gcloud app deploy app.yaml --project my-project\n</code></pre>\n\n<p>I'm sure the problem is right in front of me, but I can't figure out. Any insight would be appreciated. Thank you in advance.</p>\n"}, {"tags": ["python", "opencv", "matrix"], "comments": [{"owner": {"reputation": 658, "user_id": 6718640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c78fb3f5a7766deab1fcfbed9a8d6?s=128&d=identicon&r=PG&f=1", "display_name": "PSchn", "link": "https://stackoverflow.com/users/6718640/pschn"}, "edited": false, "score": 0, "creation_date": 1490308329, "post_id": 42963950, "comment_id": 73068003, "body": "You could try to use mask[mask == 255]= X"}, {"owner": {"reputation": 1, "user_id": 7753894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155155636790859/picture?type=large", "display_name": "H&#252;seyin Emre Aslan", "link": "https://stackoverflow.com/users/7753894/h%c3%bcseyin-emre-aslan"}, "reply_to_user": {"reputation": 658, "user_id": 6718640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c78fb3f5a7766deab1fcfbed9a8d6?s=128&d=identicon&r=PG&f=1", "display_name": "PSchn", "link": "https://stackoverflow.com/users/6718640/pschn"}, "edited": false, "score": 0, "creation_date": 1490318896, "post_id": 42963950, "comment_id": 73071202, "body": "Thx for comment but i could not understand u very well. I have a matrix all elements of it are 0. If I could write the code which is put 1 when it sees red and put X when it sees blue. Could u do me a favor with that?"}, {"owner": {"reputation": 658, "user_id": 6718640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c78fb3f5a7766deab1fcfbed9a8d6?s=128&d=identicon&r=PG&f=1", "display_name": "PSchn", "link": "https://stackoverflow.com/users/6718640/pschn"}, "edited": false, "score": 0, "creation_date": 1490339168, "post_id": 42963950, "comment_id": 73077306, "body": "InRange does the thresholding for you. So what you get is a matrix with 255 for all red or blue pixel otherwise 0. so you need to set every non zero Pixel in your blue mask to X and all non zero pixel in your red mask to 1"}, {"owner": {"reputation": 1, "user_id": 7753894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155155636790859/picture?type=large", "display_name": "H&#252;seyin Emre Aslan", "link": "https://stackoverflow.com/users/7753894/h%c3%bcseyin-emre-aslan"}, "reply_to_user": {"reputation": 658, "user_id": 6718640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c78fb3f5a7766deab1fcfbed9a8d6?s=128&d=identicon&r=PG&f=1", "display_name": "PSchn", "link": "https://stackoverflow.com/users/6718640/pschn"}, "edited": false, "score": 0, "creation_date": 1490556792, "post_id": 42963950, "comment_id": 73152417, "body": "Thanks friend. I have a last question: Am i must divide my image to grids for convert to matrix or it is not necessary? I am not good with python, pls tell it to me like i am an idiot :)"}, {"owner": {"reputation": 658, "user_id": 6718640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c78fb3f5a7766deab1fcfbed9a8d6?s=128&d=identicon&r=PG&f=1", "display_name": "PSchn", "link": "https://stackoverflow.com/users/6718640/pschn"}, "edited": false, "score": 0, "creation_date": 1490597725, "post_id": 42963950, "comment_id": 73164145, "body": "The data structure is a multidimensional array. So you already have what you wanted. Read <a href=\"http://scipy.github.io/old-wiki/pages/Tentative_NumPy_Tutorial\" rel=\"nofollow noreferrer\">here</a> for a detailed explanation. What di you want to do with the &quot;matrix&quot; after the processing?"}, {"owner": {"reputation": 1, "user_id": 7753894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155155636790859/picture?type=large", "display_name": "H&#252;seyin Emre Aslan", "link": "https://stackoverflow.com/users/7753894/h%c3%bcseyin-emre-aslan"}, "reply_to_user": {"reputation": 658, "user_id": 6718640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c78fb3f5a7766deab1fcfbed9a8d6?s=128&d=identicon&r=PG&f=1", "display_name": "PSchn", "link": "https://stackoverflow.com/users/6718640/pschn"}, "edited": false, "score": 0, "creation_date": 1490646662, "post_id": 42963950, "comment_id": 73196309, "body": "It is my graduation project. After converting the image to matrix, we will solve maze, we wanna reach the ball to a finish point. Thanks for reply, i will look ur link. If i have a question could i ask u?"}, {"owner": {"reputation": 658, "user_id": 6718640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c78fb3f5a7766deab1fcfbed9a8d6?s=128&d=identicon&r=PG&f=1", "display_name": "PSchn", "link": "https://stackoverflow.com/users/6718640/pschn"}, "edited": false, "score": 0, "creation_date": 1490807368, "post_id": 42963950, "comment_id": 73281400, "body": "You should ask your question here in the forum so everybody can help you."}, {"owner": {"reputation": 1, "user_id": 7753894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155155636790859/picture?type=large", "display_name": "H&#252;seyin Emre Aslan", "link": "https://stackoverflow.com/users/7753894/h%c3%bcseyin-emre-aslan"}, "reply_to_user": {"reputation": 658, "user_id": 6718640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c78fb3f5a7766deab1fcfbed9a8d6?s=128&d=identicon&r=PG&f=1", "display_name": "PSchn", "link": "https://stackoverflow.com/users/6718640/pschn"}, "edited": false, "score": 0, "creation_date": 1491438667, "post_id": 42963950, "comment_id": 73557484, "body": "Hello again, i did a matrix which is 24x24 and full of zero but i can not achieve convert my image to this matrix. Because of that i can not fill th matrix about red and blue mask. Please help me."}, {"owner": {"reputation": 658, "user_id": 6718640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c78fb3f5a7766deab1fcfbed9a8d6?s=128&d=identicon&r=PG&f=1", "display_name": "PSchn", "link": "https://stackoverflow.com/users/6718640/pschn"}, "edited": false, "score": 0, "creation_date": 1491638028, "post_id": 42963950, "comment_id": 73650442, "body": "Is your image 24x24 pixels too? You have to explain your problem more detailed"}, {"owner": {"reputation": 1, "user_id": 7753894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155155636790859/picture?type=large", "display_name": "H&#252;seyin Emre Aslan", "link": "https://stackoverflow.com/users/7753894/h%c3%bcseyin-emre-aslan"}, "reply_to_user": {"reputation": 658, "user_id": 6718640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c78fb3f5a7766deab1fcfbed9a8d6?s=128&d=identicon&r=PG&f=1", "display_name": "PSchn", "link": "https://stackoverflow.com/users/6718640/pschn"}, "edited": false, "score": 0, "creation_date": 1491772942, "post_id": 42963950, "comment_id": 73689052, "body": "My image 480x480 pixels, i wanna divide it to 24x24 squares and these squares are elements of my matrix. If a square has a red pixel, i write a &quot;1&quot; to matrix element which is reference of the square."}], "owner": {"reputation": 1, "user_id": 7753894, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155155636790859/picture?type=large", "display_name": "H&#252;seyin Emre Aslan", "link": "https://stackoverflow.com/users/7753894/h%c3%bcseyin-emre-aslan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490223029, "creation_date": 1490222287, "last_edit_date": 1490223029, "question_id": 42963950, "link": "https://stackoverflow.com/questions/42963950/creating-a-matrix-with-the-filtered-image-of-webcam", "title": "Creating a matrix with the filtered image of webcam?", "body": "<p>I have a problem with my graduation project. I am a new user this site. I am sorry if i will do a fault.\nNow my problem, I am taking frames with my webcam in python/openCV and filtering it with red and blue threshold. I could this part. But i wanna create a matrix with thresholded image. Is it possible? </p>\n\n<pre><code>import cv2\n\nimport numpy as np\n\ncap = cv2.VideoCapture(0)\n\nwhile(1):\n\n# Take each frame\n_, frame = cap.read()\n\n# Convert BGR to HSV\nhsv = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)\n\n# define range of blue color in HSV\nlower_blue = np.array([110,50,50])\nupper_blue = np.array([130,255,255])\n\nlower_red = np.array([0, 100, 100])\nupper_red = np.array([10, 255, 255]) \nred_mask = cv2.inRange(hsv, lower_red, upper_red) # I have the Red threshold image.\n\n# Threshold the HSV image to get only blue colors\nblue_mask = cv2.inRange(hsv, lower_blue, upper_blue)\nmask = blue_mask + red_mask\n\n# Bitwise-AND mask and original image\nres = cv2.bitwise_and(frame,frame, mask= mask)\n\ncv2.imshow('frame',frame)\ncv2.imshow('mask',mask)\ncv2.imshow('res',res)\nk = cv2.waitKey(5) &amp; 0xFF\nif k == 27:\n    break\n</code></pre>\n\n<p>This is the code of threshold filter. What will i do next part for matrix? <a href=\"https://i.stack.imgur.com/MZ5lL.jpg\" rel=\"nofollow noreferrer\">This is my threshold filter example</a> Please do not see outside of my platform :)</p>\n\n<p>I wanna write the red is '1' in matrix and the others are '0', the last thing blue is '2' or 'X'. </p>\n"}, {"tags": ["python", "algorithm", "data-structures"], "comments": [{"owner": {"reputation": 594, "user_id": 6782134, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VsycA.jpg?s=128&g=1", "display_name": "Dolev", "link": "https://stackoverflow.com/users/6782134/dolev"}, "edited": false, "score": 1, "creation_date": 1490222371, "post_id": 42963938, "comment_id": 73021982, "body": "What problem are you trying to solve?"}, {"owner": {"reputation": 115, "user_id": 5513597, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5233e2f1f411a9837a50ea55d2d2e739?s=128&d=identicon&r=PG&f=1", "display_name": "bighead", "link": "https://stackoverflow.com/users/5513597/bighead"}, "reply_to_user": {"reputation": 594, "user_id": 6782134, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VsycA.jpg?s=128&g=1", "display_name": "Dolev", "link": "https://stackoverflow.com/users/6782134/dolev"}, "edited": false, "score": 0, "creation_date": 1490222376, "post_id": 42963938, "comment_id": 73021986, "body": "the addEdge and hasEdge"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1490222422, "post_id": 42963938, "comment_id": 73022009, "body": "Option D: use sets instead of lists to represent neighbors."}, {"owner": {"reputation": 115, "user_id": 5513597, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5233e2f1f411a9837a50ea55d2d2e739?s=128&d=identicon&r=PG&f=1", "display_name": "bighead", "link": "https://stackoverflow.com/users/5513597/bighead"}, "edited": false, "score": 0, "creation_date": 1490222464, "post_id": 42963938, "comment_id": 73022022, "body": "I don&#39;t have an option D unfortunately"}, {"owner": {"reputation": 10963, "user_id": 306257, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/701752cfc3dd805d412884f38a464296?s=128&d=identicon&r=PG", "display_name": "Haldean Brown", "link": "https://stackoverflow.com/users/306257/haldean-brown"}, "edited": false, "score": 0, "creation_date": 1490222530, "post_id": 42963938, "comment_id": 73022062, "body": "Why not implement the three versions and time them?"}, {"owner": {"reputation": 115, "user_id": 5513597, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5233e2f1f411a9837a50ea55d2d2e739?s=128&d=identicon&r=PG&f=1", "display_name": "bighead", "link": "https://stackoverflow.com/users/5513597/bighead"}, "edited": false, "score": 0, "creation_date": 1490222626, "post_id": 42963938, "comment_id": 73022101, "body": "Because I need to argue why the result is the case"}, {"owner": {"reputation": 1216, "user_id": 1717078, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ae8297158385059498bb76ae575bf3f0?s=128&d=identicon&r=PG", "display_name": "marisbest2", "link": "https://stackoverflow.com/users/1717078/marisbest2"}, "edited": false, "score": 0, "creation_date": 1490223352, "post_id": 42963938, "comment_id": 73022385, "body": "Also see here <a href=\"http://stackoverflow.com/questions/2218322/what-is-better-adjacency-lists-or-adjacency-matrices-for-graph-problems-in-c\" title=\"what is better adjacency lists or adjacency matrices for graph problems in c\">stackoverflow.com/questions/2218322/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 5513597, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5233e2f1f411a9837a50ea55d2d2e739?s=128&d=identicon&r=PG&f=1", "display_name": "bighead", "link": "https://stackoverflow.com/users/5513597/bighead"}, "edited": false, "score": 0, "creation_date": 1490222750, "post_id": 42964017, "comment_id": 73022156, "body": "would you choose A as being most efficient for each of the function? Is that what u mean?"}, {"owner": {"reputation": 2449, "user_id": 6346483, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154223277015798/picture?type=large", "display_name": "Anish Goyal", "link": "https://stackoverflow.com/users/6346483/anish-goyal"}, "reply_to_user": {"reputation": 115, "user_id": 5513597, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5233e2f1f411a9837a50ea55d2d2e739?s=128&d=identicon&r=PG&f=1", "display_name": "bighead", "link": "https://stackoverflow.com/users/5513597/bighead"}, "edited": false, "score": 0, "creation_date": 1490222902, "post_id": 42964017, "comment_id": 73022224, "body": "No, I would choose A over B. The real question is if you should choose A over C, or C over A. For a graph with many edges between nodes, C should be more beneficial since your runtime will improve. For a sparse graph, A would be more beneficial since it requires less space, and C will not improve the efficiency enough to offset the memory benefit of A."}, {"owner": {"reputation": 1216, "user_id": 1717078, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ae8297158385059498bb76ae575bf3f0?s=128&d=identicon&r=PG", "display_name": "marisbest2", "link": "https://stackoverflow.com/users/1717078/marisbest2"}, "edited": false, "score": 0, "creation_date": 1490223097, "post_id": 42964017, "comment_id": 73022302, "body": "If you choose A, especially for Python, you&#39;d be wrong. Even a TreeMap/TreeSet would be better than an adjacency list. <code>O(N)</code> adjacency lists are never the right answer.   In a complete or very dense graph, an adjacency matrix could sometimes be the right choice if the constraint is memory  The question of whether to focus on space or time is not about the sparseness of the graph. Its about what the constraint is. If the constraint is time, O(1) lists are the way to go"}, {"owner": {"reputation": 2449, "user_id": 6346483, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154223277015798/picture?type=large", "display_name": "Anish Goyal", "link": "https://stackoverflow.com/users/6346483/anish-goyal"}, "edited": false, "score": 0, "creation_date": 1490223201, "post_id": 42964017, "comment_id": 73022334, "body": "You&#39;re right about runtime, but our only concern is not runtime. Sets use up more space. If each node only has a couple of neighbors, i.e. the graph is really sparse, A is more efficient. O(n) is the worst case in either case, since lookups in a set are not guaranteed to be constant time. The advantage of a set is its average case, at O(1). With a sparse graph, adjacency lists have a similar average case to sets."}, {"owner": {"reputation": 1216, "user_id": 1717078, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ae8297158385059498bb76ae575bf3f0?s=128&d=identicon&r=PG", "display_name": "marisbest2", "link": "https://stackoverflow.com/users/1717078/marisbest2"}, "edited": false, "score": 0, "creation_date": 1490223683, "post_id": 42964017, "comment_id": 73022544, "body": "True. Fair. I ran some quick size tests:  10<b>i, getsizeof(list(range(10</b>i))), getsizeof(set(range(10**i)))) 1 208 744 2 1016 8424 3 9120 33000 4 90120 524520 5 900120 4194536 6 9000120 33554664 7 90000120 268435688"}, {"owner": {"reputation": 1216, "user_id": 1717078, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ae8297158385059498bb76ae575bf3f0?s=128&d=identicon&r=PG", "display_name": "marisbest2", "link": "https://stackoverflow.com/users/1717078/marisbest2"}, "edited": false, "score": 1, "creation_date": 1490223836, "post_id": 42964017, "comment_id": 73022604, "body": "That didnt format well...  Anyway, it seems to be a 4-6x difference. Not too bad IMO but obviously it depends on the constraint. However, given that the constraint was about <code>hasEdge</code> and <code>addEdge</code> I&#39;d expect the teacher to expect <code>C</code> as the answer."}, {"owner": {"reputation": 2449, "user_id": 6346483, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154223277015798/picture?type=large", "display_name": "Anish Goyal", "link": "https://stackoverflow.com/users/6346483/anish-goyal"}, "edited": false, "score": 1, "creation_date": 1490224009, "post_id": 42964017, "comment_id": 73022665, "body": "Fair point. I do agree with everything you&#39;ve said, I just wanted to point out that there is a real tradeoff that can be made in this situation depending on the data you are working with while answering the question. The best answer for runtime though, would actually be none of our answers - it would be the adjacency matrix. It&#39;s just that the space requirement makes it infeasible in most cases beyond the most trivial."}], "tags": [], "owner": {"reputation": 2449, "user_id": 6346483, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154223277015798/picture?type=large", "display_name": "Anish Goyal", "link": "https://stackoverflow.com/users/6346483/anish-goyal"}, "is_accepted": false, "score": 1, "last_activity_date": 1490222800, "last_edit_date": 1490222800, "creation_date": 1490222601, "answer_id": 42964017, "question_id": 42963938, "link": "https://stackoverflow.com/questions/42963938/adding-edges-to-unweighted-directed-graphs-efficiency/42964017#42964017", "title": "adding edges to unweighted directed graphs efficiency?", "body": "<p>C seems to be the most efficient to me, since you are doing lookups that are on average O(1). (<strong>Note that</strong> this is the average case, <strong>not</strong> the worst case.) With Adjacency Lists, you have worst case Linear Search.</p>\n\n<p>For a sparse graph, you may wish to use Adjacency Lists (A), as they will take up less space. However, for a dense graph, option C should be the most efficient.</p>\n\n<p>A and B will have very similar runtimes - asymptotically the same. Unless there is data besides neighbors that you wish to add to these nodes, I would choose A.</p>\n\n<p>I am not familiar with python; however, for Java, option C can be improved by using a HashSet (set) which would reduce your space requirements. Runtime would be the same as using a HashMap, but sets do not store values - only keys, which is what you want for checking if there is an edge between two nodes.</p>\n\n<p>So, to clarify:</p>\n\n<p>For runtime, choose C. You will have average case O(1) edge adds. To improve C in order to consume less memory, use sets instead of maps, so you do not have to allocate space for values.</p>\n\n<p>For memory, choose A if you have a sparse graph. You'll save a good amount of memory, and won't lose too much in terms of runtime. For reference, sparse is when nodes don't have too many neighbors; for example, when each node has about 2 neighbors in a graph with 20 nodes.</p>\n"}, {"comments": [{"owner": {"reputation": 1216, "user_id": 1717078, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ae8297158385059498bb76ae575bf3f0?s=128&d=identicon&r=PG", "display_name": "marisbest2", "link": "https://stackoverflow.com/users/1717078/marisbest2"}, "edited": false, "score": 0, "creation_date": 1490222787, "post_id": 42964037, "comment_id": 73022171, "body": "Note that a <code>set</code> is equivalent to a <code>dict</code> where all the values are <code>None</code> or some other value that we don&#39;t care about. <code>C</code> is a good choice if the edges have weights or other values. But the Python <code>set</code> should take up less space than a dict"}, {"owner": {"reputation": 115, "user_id": 5513597, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5233e2f1f411a9837a50ea55d2d2e739?s=128&d=identicon&r=PG&f=1", "display_name": "bighead", "link": "https://stackoverflow.com/users/5513597/bighead"}, "edited": false, "score": 0, "creation_date": 1490222862, "post_id": 42964037, "comment_id": 73022207, "body": "I need to state which graph is most efficient for each of the functions, are you saying that C would be the quickest as it has a O(1) structure?"}, {"owner": {"reputation": 1216, "user_id": 1717078, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ae8297158385059498bb76ae575bf3f0?s=128&d=identicon&r=PG", "display_name": "marisbest2", "link": "https://stackoverflow.com/users/1717078/marisbest2"}, "reply_to_user": {"reputation": 115, "user_id": 5513597, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5233e2f1f411a9837a50ea55d2d2e739?s=128&d=identicon&r=PG&f=1", "display_name": "bighead", "link": "https://stackoverflow.com/users/5513597/bighead"}, "edited": false, "score": 0, "creation_date": 1490222897, "post_id": 42964037, "comment_id": 73022223, "body": "yes. A python dictionary is a hash map and as such has <code>O(1)</code> lookup."}], "tags": [], "owner": {"reputation": 1216, "user_id": 1717078, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ae8297158385059498bb76ae575bf3f0?s=128&d=identicon&r=PG", "display_name": "marisbest2", "link": "https://stackoverflow.com/users/1717078/marisbest2"}, "is_accepted": false, "score": 1, "last_activity_date": 1490222694, "creation_date": 1490222694, "answer_id": 42964037, "question_id": 42963938, "link": "https://stackoverflow.com/questions/42963938/adding-edges-to-unweighted-directed-graphs-efficiency/42964037#42964037", "title": "adding edges to unweighted directed graphs efficiency?", "body": "<p><code>A</code> and <code>B</code> are classic adjacency lists. <code>C</code> is an adjacency list, but uses an <code>O(1)</code> structure instead of an <code>O(N)</code> structure for the list. But really, you should use <code>D</code>, the adjacency set.</p>\n\n<p>In Python <code>set.contains(s)</code> is an <code>O(1)</code> operation. </p>\n\n<p>So we can do</p>\n\n<pre><code>graph = { 1: set([2]), 2: set([1, 3], 3: set() }\n</code></pre>\n\n<p>Then our <code>addEdge(from, to)</code> is </p>\n\n<pre><code>graph[from].add(to)\ngraph[to].add(from)\n</code></pre>\n\n<p>and our <code>hasEdge(from,to)</code> is just</p>\n\n<pre><code>to in graph[from]\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 5513597, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5233e2f1f411a9837a50ea55d2d2e739?s=128&d=identicon&r=PG&f=1", "display_name": "bighead", "link": "https://stackoverflow.com/users/5513597/bighead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1490222800, "creation_date": 1490222228, "last_edit_date": 1490222553, "question_id": 42963938, "link": "https://stackoverflow.com/questions/42963938/adding-edges-to-unweighted-directed-graphs-efficiency", "title": "adding edges to unweighted directed graphs efficiency?", "body": "<p>I have three graphs represented as python dictionaries</p>\n\n<pre><code>A: {1:[2], 2:[1,3], 3:[]}. \n\nB: {1: {neighbours:[2]}, 2: {neighbours:[1,3]}, 3: {neighbours:[]}}\n\nC: {1: {2:None}, 2: {1:None, 3:None}, 3: {}}\n</code></pre>\n\n<p>I have a hasEdge and addEdge function</p>\n\n<pre><code>def addEdge(self, source, target):\n\nassert self.hasNode(source) and self.hasNode(target)\nif not self.hasEdge(source, target):\n    self.graph[source][target] = None\n\ndef hasEdge(self, source, target):\n\n    assert self.hasNode(source) and self.hasNode(target)\n    return target in self.graph[source]\n</code></pre>\n\n<p>I am not sure which structures will be most efficient for each function, my immediate thought is the first will be the most efficient for adding a edge and the C will be the most efficient for returning if it has an edge</p>\n"}, {"tags": ["python", "ode", "odeint"], "comments": [{"owner": {"reputation": 21073, "user_id": 3088138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114f33fdece969de35d41038fb0eeb46?s=128&d=identicon&r=PG&f=1", "display_name": "Lutz Lehmann", "link": "https://stackoverflow.com/users/3088138/lutz-lehmann"}, "edited": false, "score": 1, "creation_date": 1490226421, "post_id": 42963926, "comment_id": 73023494, "body": "The time discretization happens in the ODE integrator. There is no place for <code>dt</code> in the step function. It is common to find <code>dt&#47;dx^2</code> as a factor, but then this happens on a simultaneous space and time discretization."}], "owner": {"reputation": 11, "user_id": 7753826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0773c291dd56fc5f851875618b6b5288?s=128&d=identicon&r=PG&f=1", "display_name": "Keren", "link": "https://stackoverflow.com/users/7753826/keren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 431, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490222145, "creation_date": 1490222145, "question_id": 42963926, "link": "https://stackoverflow.com/questions/42963926/using-scipy-odeint-with-different-time-step", "title": "Using scipy.odeint with different time step", "body": "<p>I am testing using scipy.integrate.odeint with different time steps.</p>\n\n<p>Specifically, I setup a 1D diffusion simulation with particles at one end diffusing to the other side. For diffusion I use a finite difference second derivative approximation.</p>\n\n<p>Surprisingly I am getting different simulation results depending on the time step taken, even if the total simulation time is the same.</p>\n\n<pre><code>import scipy\nimport scipy.integrate\nimport numpy as np\nimport sys\n\nnum_bins=40\nbin_size=0.01\nbin_size2=bin_size*bin_size\nmol_scale=1e-9\n\n\ndef step(y, t, d,dt):\n    dnorm=(d*dt)/(bin_size2)\n    dydt=np.zeros([num_bins])\n    for i in range(1,num_bins-1):\n        dydt[i]=(y[i-1]-2*y[i]+y[i+1])*dnorm\n    dydt[0]=(-y[0]+y[1])*dnorm\n    dydt[num_bins-1]=(y[num_bins-2]-y[num_bins-1])*dnorm\n    return dydt\n\ny0=np.zeros([num_bins])\ny0[1]=1000*mol_scale\n\nd1=0.001\nd2=0.01\nd3=0.1\n#dt1=1\ndt=0.01\nnum_mins=2\nt2 = np.linspace(0, num_mins, int((60*num_mins)/dt)+1) #second intervals\nsol1 = scipy.integrate.odeint(step, y0, t2, args=(d1,dt))\nsol2 = scipy.integrate.odeint(step, y0, t2, args=(d2,dt))\nsol3 = scipy.integrate.odeint(step, y0, t2, args=(d3,dt))\n\nimport matplotlib.pyplot as plt\n\ntp=-1\nplt.plot(range(num_bins), sol1[tp, :]/mol_scale, 'b', label='sol1')\nplt.plot(range(num_bins), sol2[tp, :]/mol_scale, 'g', label='sol2')\nplt.plot(range(num_bins), sol3[tp, :]/mol_scale, 'r', label='sol3')\n\nplt.legend(loc='best')\nplt.xlabel('x')\n\n\nplt.grid()\nplt.show()\n</code></pre>\n\n<p>When dt=1 (1 second), I get the following signal distribution at the end of 2 minutes simulation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/I3eKi.png\" rel=\"nofollow noreferrer\">Signal profile after two minutes simulation with dt=1</a></p>\n\n<p>However, when dt=0.1 (0.1 second), I get a different signal distribution.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jitox.png\" rel=\"nofollow noreferrer\">Signal profile after two minutes simulation with dt=0.1</a></p>\n\n<p>Any thoughts on what I am doing wrong?</p>\n\n<p>Thanks,</p>\n\n<p>Keren.</p>\n"}, {"tags": ["python", "arrays", "numpy", "reshape", "numpy-ndarray"], "answers": [{"comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1490227370, "post_id": 42963879, "comment_id": 73023749, "body": "Since the arrays are already (4,1), anything but <code>np.concatenate</code> is overkill.  They either do unneeded shape tests, or create a 3d array (<code>stack</code>  and <code>asarray</code> variants)."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 3, "last_activity_date": 1490222719, "last_edit_date": 1490222719, "creation_date": 1490221910, "answer_id": 42963879, "question_id": 42963862, "link": "https://stackoverflow.com/questions/42963862/reshape-multiple-numpy-array/42963879#42963879", "title": "Reshape multiple numpy array", "body": "<p>You can use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.column_stack.html\" rel=\"nofollow noreferrer\"><code>np.column_stack</code></a> -</p>\n\n<pre><code>np.column_stack((X,Y,Z))\n</code></pre>\n\n<p>Or <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.concatenate.html\" rel=\"nofollow noreferrer\"><code>np.concatenate</code></a> along <code>axis=1</code> -</p>\n\n<pre><code>np.concatenate((X,Y,Z),axis=1)\n</code></pre>\n\n<p>Or <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.hstack.html\" rel=\"nofollow noreferrer\"><code>np.hstack</code></a> -</p>\n\n<pre><code>np.hstack((X,Y,Z))\n</code></pre>\n\n<p>Or <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.hstack.html\" rel=\"nofollow noreferrer\"><code>np.stack</code></a> along <code>axis=0</code> and then do multi-dim transpose -</p>\n\n<pre><code>np.stack((X,Y,Z),axis=0).T\n</code></pre>\n\n<p>Reshape applies on an array, not to stack or concatenate arrays together. So, <code>reshape</code> alone doesn't make sense here.</p>\n\n<p>One could argue using <code>np.reshape</code> to give us the desired output, like so -</p>\n\n<pre><code>np.reshape((X,Y,Z),(3,4)).T\n</code></pre>\n\n<p>But, under the hoods its doing the stacking operation, which AFAIK is something to convert to array with <code>np.asarray</code> -</p>\n\n<pre><code>In [453]: np.asarray((X,Y,Z))\nOut[453]: \narray([[[ 1],\n        [ 2],\n        [ 3],\n        [ 4]],\n\n       [[ 5],\n        [ 6],\n        [ 7],\n        [ 8]],\n\n       [[ 9],\n        [10],\n        [11],\n        [12]]])\n</code></pre>\n\n<p>We just need to use <code>multi-dim transpose</code> on it, to give us a <code>3D</code> array version of the expected output -</p>\n\n<pre><code>In [454]: np.asarray((X,Y,Z)).T\nOut[454]: \narray([[[ 1,  5,  9],\n        [ 2,  6, 10],\n        [ 3,  7, 11],\n        [ 4,  8, 12]]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1490223789, "creation_date": 1490223789, "answer_id": 42964258, "question_id": 42963862, "link": "https://stackoverflow.com/questions/42963862/reshape-multiple-numpy-array/42964258#42964258", "title": "Reshape multiple numpy array", "body": "<p>And don't forget <code>np.c_</code> (I don't see the need for <code>np.reshape</code>):</p>\n\n<pre><code>np.c_[X,Y,Z]\n# array([[ 1,  5,  9],\n#        [ 2,  6, 10],\n#        [ 3,  7, 11],\n#        [ 4,  8, 12]])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1490231862, "post_id": 42965216, "comment_id": 73025060, "body": "You should mention that your proposed solution results in a non-contiguous (well, non-C-contiguous, anyway) array, which I suspect is why it is faster. As a consequence, later row access will presumably be slower."}], "tags": [], "owner": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "is_accepted": false, "score": 1, "last_activity_date": 1490229709, "creation_date": 1490229709, "answer_id": 42965216, "question_id": 42963862, "link": "https://stackoverflow.com/questions/42963862/reshape-multiple-numpy-array/42965216#42965216", "title": "Reshape multiple numpy array", "body": "<p>How about this (faster) solution?</p>\n\n<pre><code>In [16]: np.array([x.squeeze(), y.squeeze(), z.squeeze()]).T\nOut[16]: \narray([[ 1,  5,  9],\n       [ 2,  6, 10],\n       [ 3,  7, 11],\n       [ 4,  8, 12]])\n</code></pre>\n\n<hr>\n\n<p><em>Efficiency</em> (descending order)</p>\n\n<pre><code># proposed (faster) solution\nIn [17]: %timeit np.array([x.squeeze(), y.squeeze(), z.squeeze()]).T\nThe slowest run took 7.40 times longer than the fastest. This could mean that an intermediate result is being cached.\n100000 loops, best of 3: 7.36 \u00b5s per loop\n\n# Other solutions\nIn [18]: %timeit np.column_stack((x, y, z))\nThe slowest run took 5.18 times longer than the fastest. This could mean that an intermediate result is being cached.\n100000 loops, best of 3: 9.18 \u00b5s per loop\n\nIn [19]: %timeit np.hstack((x, y, z))\nThe slowest run took 4.49 times longer than the fastest. This could mean that an intermediate result is being cached.\n100000 loops, best of 3: 16 \u00b5s per loop\n\nIn [20]: %timeit np.reshape((x,y,z),(3,4)).T\n10000 loops, best of 3: 21.6 \u00b5s per loop\n\nIn [20]: %timeit np.c_[x, y, z]\n10000 loops, best of 3: 55.9 \u00b5s per loop\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 3119875, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50a5974982127d24afc40a09ff90c678?s=128&d=identicon&r=PG&f=1", "display_name": "user3119875", "link": "https://stackoverflow.com/users/3119875/user3119875"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1261, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1556376184, "creation_date": 1490221824, "last_edit_date": 1556376184, "question_id": 42963862, "link": "https://stackoverflow.com/questions/42963862/reshape-multiple-numpy-array", "title": "Reshape multiple numpy array", "body": "<p>I have the following numpy array:</p>\n\n<pre><code>X = [[1],\n     [2],\n     [3],\n     [4]]\n\nY = [[5],\n     [6],\n     [7],\n     [8]]\n\nZ = [[9],\n     [10],\n     [11],\n     [12]]\n</code></pre>\n\n<p>I would like to get the following output:</p>\n\n<pre><code>H = [[1,5,9],\n     [2,6,10],\n     [3,7,11]\n     [4,8,12]]\n</code></pre>\n\n<p>Is there a way get this result using numpy.reshape?</p>\n"}, {"tags": ["python", "excel", "dictionary", "openpyxl"], "comments": [{"owner": {"reputation": 3378, "user_id": 3318273, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/nvfcf.png?s=128&g=1", "display_name": "Romain Jouin", "link": "https://stackoverflow.com/users/3318273/romain-jouin"}, "edited": false, "score": 0, "creation_date": 1490222351, "post_id": 42963832, "comment_id": 73021972, "body": "I have issue understanding what is your question ?"}, {"owner": {"reputation": 153, "user_id": 1681102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/913136ee40a955f6f51538799876f1f2?s=128&d=identicon&r=PG", "display_name": "user1681102", "link": "https://stackoverflow.com/users/1681102/user1681102"}, "reply_to_user": {"reputation": 3378, "user_id": 3318273, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/nvfcf.png?s=128&g=1", "display_name": "Romain Jouin", "link": "https://stackoverflow.com/users/3318273/romain-jouin"}, "edited": false, "score": 0, "creation_date": 1490276583, "post_id": 42963832, "comment_id": 73047512, "body": "I want to represent header&#39;s as key and the corresponding column values as values  to form a dictionary."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 1681102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/913136ee40a955f6f51538799876f1f2?s=128&d=identicon&r=PG", "display_name": "user1681102", "link": "https://stackoverflow.com/users/1681102/user1681102"}, "edited": false, "score": 0, "creation_date": 1490277012, "post_id": 42964084, "comment_id": 73047856, "body": "Thanks for your answer,this is exactly what I want, but how do i get them in order? I  mean when I have executed this code for my excel sheet ,columns are not ordered, I mean first column appears at the last, middle column appears first in the dictionary.What is the role of        if not keys:         keys = [cell.value for cell in row]         continue   in the above code?"}], "tags": [], "owner": {"reputation": 3378, "user_id": 3318273, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/nvfcf.png?s=128&g=1", "display_name": "Romain Jouin", "link": "https://stackoverflow.com/users/3318273/romain-jouin"}, "is_accepted": true, "score": 2, "last_activity_date": 1490222943, "creation_date": 1490222943, "answer_id": 42964084, "question_id": 42963832, "link": "https://stackoverflow.com/questions/42963832/create-a-dictionary-where-key-would-be-the-header-name-from-excel-sheet-using-op/42964084#42964084", "title": "Create a dictionary where key would be the header_name from excel sheet using openpyxl", "body": "<p>This : </p>\n\n<pre><code>from openpyxl    import *\nfrom collections import defaultdict\npath  = \"/Users/romain/Desktop/Classeur2.xlsx\"\nSheet = \"Feuil1\"\nwb    = load_workbook(path)\n\nVariable_Model_Path = defaultdict(list)\nSheet_Name          = wb.get_sheet_by_name(Sheet)\nkeys                = False\n\nfor row in Sheet_Name.iter_rows():\n    if not keys:\n        keys = [cell.value for cell in row]\n        continue\n    Row=[cell.value for cell in row]\n    for cell_ind,cell in enumerate(Row):\n        Variable_Model_Path[keys[cell_ind]].append( cell)\n</code></pre>\n\n<p>gives me : </p>\n\n<pre><code>Variable_Model_Path\ndefaultdict(list,\n            {u'var 1': [1L, 4L, 7L],\n             u'var 2': [2L, 5L, 8L],\n             u'var 3': [3L, 6L, 9L]})\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 1681102, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/913136ee40a955f6f51538799876f1f2?s=128&d=identicon&r=PG", "display_name": "user1681102", "link": "https://stackoverflow.com/users/1681102/user1681102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1790, "favorite_count": 0, "accepted_answer_id": 42964084, "answer_count": 1, "score": 0, "last_activity_date": 1490222943, "creation_date": 1490221720, "question_id": 42963832, "link": "https://stackoverflow.com/questions/42963832/create-a-dictionary-where-key-would-be-the-header-name-from-excel-sheet-using-op", "title": "Create a dictionary where key would be the header_name from excel sheet using openpyxl", "body": "<pre><code>from openpyxl import *\nVariable_Model_Path=defaultdict(list)\nSheet_Name=wb.get_sheet_by_name(Sheet)\nfor row in Sheet_Name.iter_rows():\n    Row=[cell.value for cell in row]\n    for cell_ind,cell in enumerate(Row):\n        print cell\n</code></pre>\n\n<p>Above is my sample code.</p>\n\n<p>I have an excel sheet which have headers var1, var2 ,var3. I want to create a dictionary {Var1:1,4,7,10} Where Var1 would be header name and the values would be corresponding column values. I am using openpyxl module.Here variable names and values would be given by the user and they will be dynamic.</p>\n\n<p><strong>Var1 Var2 Var3</strong></p>\n\n<ul>\n<li>1     2     3 </li>\n<li>4     5     6</li>\n<li>7     8     9</li>\n<li>10    11    12</li>\n</ul>\n"}, {"tags": ["python", "python-xarray"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "edited": false, "score": 0, "creation_date": 1490224146, "post_id": 42964046, "comment_id": 73022722, "body": "The page you linked also says, &quot;This is more restrictive than HDF5, where attributes can be multidimensional&quot;. However using <code>engine=&#39;h5netcdf&#39;</code> raises an error for me, &#39;NetCDF: Can&#39;t open HDF5 attribute&#39;. I guess I&#39;ll see about incorporating the information in <code>data_vars</code> or <code>coords</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "edited": false, "score": 0, "creation_date": 1490224684, "post_id": 42964046, "comment_id": 73022933, "body": "I had a look at incorporating the information in <code>data_vars</code> or <code>coords</code>, but it&#39;s just not really suitable because the dimensions of my <code>objects</code> data are not meaningful in relation to the rest of the data. A better option might be to create a completely separate Dataset or other storage for this data, but it&#39;s a shame that I&#39;ll have to keep track of the two variables."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "edited": false, "score": 0, "creation_date": 1490225189, "post_id": 42964046, "comment_id": 73023110, "body": "Got it, I had to explicitly pass <code>engine=&#39;h5netcdf&#39;</code> to <code>open_dataset</code> in addition to <code>to_netcdf</code>. Thanks!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "edited": false, "score": 0, "creation_date": 1490225676, "post_id": 42964046, "comment_id": 73023275, "body": "Would you like to add this information to your answer? Then I can accept it, so that any future searchers might easily find this solution."}, {"owner": {"reputation": 7287, "user_id": 809705, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/93a76a800ef6c5919baa8ba91120ee98?s=128&d=identicon&r=PG", "display_name": "shoyer", "link": "https://stackoverflow.com/users/809705/shoyer"}, "edited": false, "score": 0, "creation_date": 1490287414, "post_id": 42964046, "comment_id": 73056283, "body": "I updated my answer, but I&#39;m still reluctant to recommend that solution."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "edited": false, "score": 0, "creation_date": 1490295554, "post_id": 42964046, "comment_id": 73061266, "body": "Why reluctant? I thought I read that <code>h5netcdf</code> was to be the new standard?"}, {"owner": {"reputation": 7287, "user_id": 809705, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/93a76a800ef6c5919baa8ba91120ee98?s=128&d=identicon&r=PG", "display_name": "shoyer", "link": "https://stackoverflow.com/users/809705/shoyer"}, "edited": false, "score": 1, "creation_date": 1490336713, "post_id": 42964046, "comment_id": 73076270, "body": "NetCDF is a widely used file format with quite a few tools for working with it: <a href=\"https://www.unidata.ucar.edu/software/netcdf/software.html\" rel=\"nofollow noreferrer\">unidata.ucar.edu/software/netcdf/software.html</a>. Most of these tools rely on the NetCDF-C libraries, unlike h5netcdf."}], "tags": [], "owner": {"reputation": 7287, "user_id": 809705, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/93a76a800ef6c5919baa8ba91120ee98?s=128&d=identicon&r=PG", "display_name": "shoyer", "link": "https://stackoverflow.com/users/809705/shoyer"}, "is_accepted": true, "score": 0, "last_activity_date": 1490336483, "last_edit_date": 1490336483, "creation_date": 1490222746, "answer_id": 42964046, "question_id": 42963789, "link": "https://stackoverflow.com/questions/42963789/xarray-2d-attribute-converted-to-1d-by-to-netcdf/42964046#42964046", "title": "xarray: 2D attribute converted to 1D by to_netcdf", "body": "<p>The NetCDF file format <a href=\"http://www.unidata.ucar.edu/support/help/MailArchives/netcdf/msg10419.html\" rel=\"nofollow noreferrer\">doesn't support multi-dimensional attributes</a>. If you want to store multi-dimensional arrays to netCDF files with xarray, they should to be in <code>data_vars</code> or <code>coords</code> instead.</p>\n\n<p>But apparently netCDF-Python library will happily write them as vectors, silently discarding the shape information. Xarray or NetCDF4-Python really should raise an error in these cases instead.</p>\n\n<p>If you really want, with the current version of h5netcdf, you can read and write multi-dimensional attributes by specifying <code>engine='h5netcdf'</code> in xarray. But beware that this will create non-standard netCDF files that won't be readable with most tools, and I am <a href=\"https://github.com/shoyer/h5netcdf/issues/28\" rel=\"nofollow noreferrer\">considering removing</a> this functionality from h5netcdf in the future.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 42964046, "answer_count": 1, "score": 0, "last_activity_date": 1490336483, "creation_date": 1490221549, "last_edit_date": 1490222164, "question_id": 42963789, "link": "https://stackoverflow.com/questions/42963789/xarray-2d-attribute-converted-to-1d-by-to-netcdf", "title": "xarray: 2D attribute converted to 1D by to_netcdf", "body": "<p>I'm trying to save a Dataset with a 2D array as an attribute, as such:</p>\n\n<pre><code>attrs = {'objects': np.array([(46.5, -42.5),(4.5, 44),(-69, -69),(-66.5, 73.5)])}\nds = xr.Dataset(data_vars, coords, attrs)\nds.to_netcdf('dataset.nc', engine='netcdf4', format='netCDF4')\n</code></pre>\n\n<p>But loading the file back up shows that the attribute has changed to a 1D array:</p>\n\n<pre><code>data = xr.open_dataset('dataset.nc')\nprint(data.objects)\n\n# array([ 46.5, -42.5,   4.5,  44. , -69. , -69. , -66.5,  73.5])\n</code></pre>\n\n<p>What could be the cause of this? I tried simply passing a list of tuples but the result is the same.</p>\n"}, {"tags": ["python", "tkinter", "sqlite"], "comments": [{"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1490222420, "post_id": 42963773, "comment_id": 73022006, "body": "Are you asking how to communicate to <code>View_Keylog_Record</code> which DB row you are interested in?"}, {"owner": {"reputation": 1, "user_id": 4885280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6256646ed7538946c5d7852f055fda9?s=128&d=identicon&r=PG&f=1", "display_name": "SparkBarisart", "link": "https://stackoverflow.com/users/4885280/sparkbarisart"}, "reply_to_user": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1490227916, "post_id": 42963773, "comment_id": 73023929, "body": "The question i&#39;m asking is: how do i pass the index (or any other data) of any row that i want changed from Show_Keylog_Records to View_Keylog_Record"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4885280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6256646ed7538946c5d7852f055fda9?s=128&d=identicon&r=PG&f=1", "display_name": "SparkBarisart", "link": "https://stackoverflow.com/users/4885280/sparkbarisart"}, "edited": false, "score": 0, "creation_date": 1490226924, "post_id": 42964245, "comment_id": 73023628, "body": "Unfortunately that did not work, i get an error (c.execute(&#39;SELECT * FROM KeyLog WHERE index=?&#39;, index)sqlite3.OperationalError: near &quot;index&quot;: syntax error. When i printed the output of index it always printed 9 no matter which button i pressed (i&#39;ve got 11 rows, so its weird that it selects 9)"}, {"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "reply_to_user": {"reputation": 1, "user_id": 4885280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6256646ed7538946c5d7852f055fda9?s=128&d=identicon&r=PG&f=1", "display_name": "SparkBarisart", "link": "https://stackoverflow.com/users/4885280/sparkbarisart"}, "edited": false, "score": 0, "creation_date": 1490288679, "post_id": 42964245, "comment_id": 73057133, "body": "@SparkBarisart Sorry, my bad. You have to bind the variable in the lambda. There is also <code>functools.partial</code>, I have added an example of that."}, {"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "reply_to_user": {"reputation": 1, "user_id": 4885280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6256646ed7538946c5d7852f055fda9?s=128&d=identicon&r=PG&f=1", "display_name": "SparkBarisart", "link": "https://stackoverflow.com/users/4885280/sparkbarisart"}, "edited": false, "score": 0, "creation_date": 1490289483, "post_id": 42964245, "comment_id": 73057657, "body": "Oh, also <code>cursor.execute</code> expects paramters to be in an iterable. So instead of passing <code>index</code> as the second argument to <code>c.execute</code> pass <code>(index,)</code>."}, {"owner": {"reputation": 1, "user_id": 4885280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6256646ed7538946c5d7852f055fda9?s=128&d=identicon&r=PG&f=1", "display_name": "SparkBarisart", "link": "https://stackoverflow.com/users/4885280/sparkbarisart"}, "edited": false, "score": 0, "creation_date": 1490289884, "post_id": 42964245, "comment_id": 73057919, "body": "Awesome, thanks. It worked but only when i passed the index as (index, ). I&#39;ll have a read on the functools as they seem very handy! Thanks again!"}, {"owner": {"reputation": 1, "user_id": 4885280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6256646ed7538946c5d7852f055fda9?s=128&d=identicon&r=PG&f=1", "display_name": "SparkBarisart", "link": "https://stackoverflow.com/users/4885280/sparkbarisart"}, "edited": false, "score": 0, "creation_date": 1490290575, "post_id": 42964245, "comment_id": 73058383, "body": "I needed to make a small change because it saw my first row as row 0 (while when i displayed it,m it woulds say the first row was row 1)                          \t  <code>def View_Keylog_Record(self, index):             c.execute(&#39;SELECT * FROM KeyLog WHERE rowid=?&#39;, (index+1,))             Test = c.fetchone()             print (Test)</code>"}], "tags": [], "owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "is_accepted": false, "score": 0, "last_activity_date": 1490289355, "last_edit_date": 1490289355, "creation_date": 1490223740, "answer_id": 42964245, "question_id": 42963773, "link": "https://stackoverflow.com/questions/42963773/how-do-i-view-or-update-a-single-record-from-a-database-list-with-a-button-in-py/42964245#42964245", "title": "How do I view or update a single record from a database list with a button in Python?", "body": "<p>I think what you need is to pass the <code>index</code> to the function. If so, change the Button instantiation like this:</p>\n\n<pre><code>Button(self.Row_ID, text='view', command=lambda index=index: self.View_Keylog_Record(index)).pack(side=RIGHT)\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>Button(self.Row_ID, text='view', command=functools.partial(self.View_Keylog_Record, index)).pack(side=RIGHT)\n</code></pre>\n\n<p>Note you will have to <code>import functools</code> to use the second option.</p>\n\n<p>Make a similar change to the delete button and then modify the functions like this:</p>\n\n<pre><code>def View_Keylog_Record(self, index):\n    c.execute('SELECT * FROM KeyLog WHERE index=?', (index,))\n    print c.fetchone()\n</code></pre>\n\n<p>Make the corresponding change to Delete_Keylog_Record and see if that works for you.</p>\n"}], "owner": {"reputation": 1, "user_id": 4885280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6256646ed7538946c5d7852f055fda9?s=128&d=identicon&r=PG&f=1", "display_name": "SparkBarisart", "link": "https://stackoverflow.com/users/4885280/sparkbarisart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 660, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490289355, "creation_date": 1490221501, "last_edit_date": 1490236466, "question_id": 42963773, "link": "https://stackoverflow.com/questions/42963773/how-do-i-view-or-update-a-single-record-from-a-database-list-with-a-button-in-py", "title": "How do I view or update a single record from a database list with a button in Python?", "body": "<p>First I select all records from a table and list them in my GUI.\nEvery row has two buttons next to them, one for deleting the record and one for viewing/updating that specific record in a pop up screen. I have tried a couple of different things, but I seem to be unable to fetch the information from the specific records I want to view/update. I have tried with adding textvariables to the button etc.</p>\n\n<p>My question is, how do you view and/or update a specific row out of a list off all rows from my table?</p>\n\n<pre><code>def Show_Keylog_Records(self):\n            data = self.Select_Keylog_Records()\n            for index, dat in enumerate(data):\n                Row_ID = index\n                Key_Num = dat[0]\n                self.Row_ID = Frame(self.Result_Frame, bg='#333')\n                Label(self.Row_ID, text=dat[0]).pack(side=LEFT, expand=YES, fill=X)\n                Label(self.Row_ID, text=dat[1]).pack(side=LEFT, expand=YES, fill=X)\n                Label(self.Row_ID, text=dat[2]).pack(side=LEFT, expand=YES, fill=X)\n                Label(self.Row_ID, text=dat[3]).pack(side=LEFT, expand=YES, fill=X)\n                Button(self.Row_ID, text='view', textvariable=Row_ID, command=self.View_Keylog_Record).pack(side=RIGHT)\n                Button(self.Row_ID, text='Delete', command=self.Delete_Keylog_Record).pack(side=RIGHT, padx=5)\n                self.Row_ID.pack(side=TOP, fill=X, pady=3)\n\n\ndef Select_Keylog_Records(self):\n        c.execute(\"SELECT * FROM KeyLog\")\n        return c.fetchall() \n\ndef View_Keylog_Record(self):\n        Record = (Row_ID.get(),)\n        c.execute('SELECT * FROM KeyLog WHERE index=?', Record)\n        print c.fetchone()\n</code></pre>\n"}, {"tags": ["python", "arrays", "pandas", "numpy"], "comments": [{"owner": {"reputation": 28401, "user_id": 2666859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LtKyC.png?s=128&g=1", "display_name": "Serenity", "link": "https://stackoverflow.com/users/2666859/serenity"}, "edited": false, "score": 0, "creation_date": 1490221717, "post_id": 42963763, "comment_id": 73021657, "body": "Why you do not use <code>numpy.loadtext</code> or <code>numpy.genfromtxt</code>?"}, {"owner": {"reputation": 11, "user_id": 7753874, "user_type": "registered", "profile_image": "https://graph.facebook.com/1253308944704671/picture?type=large", "display_name": "Khizar Iqbal Mangat", "link": "https://stackoverflow.com/users/7753874/khizar-iqbal-mangat"}, "reply_to_user": {"reputation": 28401, "user_id": 2666859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LtKyC.png?s=128&g=1", "display_name": "Serenity", "link": "https://stackoverflow.com/users/2666859/serenity"}, "edited": false, "score": 0, "creation_date": 1490222494, "post_id": 42963763, "comment_id": 73022038, "body": "That worked.Thanks a lot.I don&#39;t know why I was reading it in dataframe."}, {"owner": {"reputation": 6435, "user_id": 826970, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d2ad95794d9b52b4b763bda1d8d8c863?s=128&d=identicon&r=PG", "display_name": "umutto", "link": "https://stackoverflow.com/users/826970/umutto"}, "edited": false, "score": 0, "creation_date": 1490254150, "post_id": 42963763, "comment_id": 73032045, "body": "You can also use <code>results.as_matrix()</code> or <code>results.values</code> to convert dataframe into a matrix for future reference."}, {"owner": {"reputation": 1590, "user_id": 4085591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/141ba1a86ddc18e4a0f3098948dac960?s=128&d=identicon&r=PG&f=1", "display_name": "StefanS", "link": "https://stackoverflow.com/users/4085591/stefans"}, "edited": false, "score": 0, "creation_date": 1490256918, "post_id": 42963763, "comment_id": 73033446, "body": "I don&#39;t understand the question. What&#39;s wrong with the values you listed? Maybe you are confused by the scientific notation with <code>e</code>? <a href=\"https://en.wikipedia.org/wiki/Scientific_notation#E-notation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Scientific_notation#E-notation</a> The values you listed are <code>[1 1600 3]</code>."}, {"owner": {"reputation": 11, "user_id": 7753874, "user_type": "registered", "profile_image": "https://graph.facebook.com/1253308944704671/picture?type=large", "display_name": "Khizar Iqbal Mangat", "link": "https://stackoverflow.com/users/7753874/khizar-iqbal-mangat"}, "edited": false, "score": 0, "creation_date": 1490567239, "post_id": 42963763, "comment_id": 73155899, "body": "Yes, you are right.I was confused regarding e notation. It was also giving accurate results.I cam to know this later when i had used numpy.loadtext()."}], "owner": {"reputation": 11, "user_id": 7753874, "user_type": "registered", "profile_image": "https://graph.facebook.com/1253308944704671/picture?type=large", "display_name": "Khizar Iqbal Mangat", "link": "https://stackoverflow.com/users/7753874/khizar-iqbal-mangat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490221457, "creation_date": 1490221457, "question_id": 42963763, "link": "https://stackoverflow.com/questions/42963763/convert-dataframe-of-dynamic-size-to-numpy-array", "title": "Convert Dataframe of dynamic size to numpy array", "body": "<p>I want to convert a Pandas data frame to numpy array.I want to perform the operations of transpose,inverse and matrix product.I have something like this,</p>\n\n<pre><code>results=pd.read_csv('ed2.txt', sep=',',header=None)\n</code></pre>\n\n<p>Now I want to convert the result to numpy array.When I do \nnumpyMatrix = results.as_matrix()\nIt is giving me values like </p>\n\n<pre><code>[  1.00000000e+00   1.60000000e+03   3.00000000e+00]\n</code></pre>\n\n<p>Any solution or suggestions.</p>\n"}, {"tags": ["python", "csv"], "answers": [{"tags": [], "owner": {"reputation": 2064, "user_id": 3407256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YM7I4.jpg?s=128&g=1", "display_name": "foxyblue", "link": "https://stackoverflow.com/users/3407256/foxyblue"}, "is_accepted": false, "score": 0, "last_activity_date": 1490221962, "creation_date": 1490221962, "answer_id": 42963890, "question_id": 42963762, "link": "https://stackoverflow.com/questions/42963762/i-need-to-put-the-grade-calculation-into-a-function-and-i-really-dont-know-wher/42963890#42963890", "title": "i need to put the grade calculation into a function and i really don&#39;t know where to start", "body": "<p>After the </p>\n\n<pre><code>el = line.split ( \",\" )\n\ndef grade_count ( el_list, grade ): \n#then everything after\n#sub the 'A' in the count in print statement with var grade\n</code></pre>\n\n<p>Call the function:</p>\n\n<pre><code>grade_count(el, 'A') \n</code></pre>\n\n<p>Now the function will print the number of defined grade.\nOr you can make the function return the t_list </p>\n\n<p>Also put the empty lists inside the function.\nScore1, Score2, t_list</p>\n"}, {"tags": [], "owner": {"reputation": 70, "user_id": 2221645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6uxCc.jpg?s=128&g=1", "display_name": "bobsbeenjamin", "link": "https://stackoverflow.com/users/2221645/bobsbeenjamin"}, "is_accepted": true, "score": 0, "last_activity_date": 1490225154, "last_edit_date": 1490225154, "creation_date": 1490222502, "answer_id": 42963991, "question_id": 42963762, "link": "https://stackoverflow.com/questions/42963762/i-need-to-put-the-grade-calculation-into-a-function-and-i-really-dont-know-wher/42963991#42963991", "title": "i need to put the grade calculation into a function and i really don&#39;t know where to start", "body": "<p>Update your loop like this. \n(Note: I removed the extra line breaks, to adhere to best Python coding practices)</p>\n\n<pre><code>for line in rows:\n    line = line.strip()\n    el = line.split (\",\")\n    # All values should be added to the appropriate lists.\n    # Before, your code was overwriting the name and score list \n    # variables with single values on each iteration of this for loop.\n    name.append(el[0])\n    score1.append(el[1])\n    score2.append(el[2])\n    # Here's where the magic happens\n    calculateGrade(el)\n</code></pre>\n\n<p>Then add this function somewhere in your code base. I personally recommend putting it at the very end of this file (since it is the only function), but you could theoretically add it anywhere in this code base. Be sure to leave the last line out of the function (the line where you print the number of As).</p>\n\n<pre><code>def calculateGrade(el):\n    # Your code goes here (be sure to add one extra indent to everything)\n</code></pre>\n\n<p>Putting it all together (once again, using best practices):</p>\n\n<pre><code>import csv\nname = []\nscore1 = []\nscore2 = []\nt_list = []\nwith open (\"Classmarks.csv\") as f:\n    rows = f.readlines()\nfor line in rows:\n    line = line.strip()\n    el = line.split (\",\")\n    name.append(el[0])\n    score1.append(el[1])\n    score2.append(el[2])\n    calculateGrade(el)\nprint(\"there were\" , t_list.count('A') , \"A's achieved\")\n\n# Calculates the grades, prints them, and stores them in t_list\ndef calculateGrade(el):\n    # score1 -&gt; el[1] and score2 -&gt; el[2], to match updated logic\n    per = (float(el[1]) + float(el[2]) / 1.5)\n\n    if (per &lt; 101) and (per &gt;= 70):\n        # Note: The original code was printing an empty string at the\n        # end of the line, which is functionally identical to this \n        # updated line (this is true for A - D cases)\n        print(el[0] ,\"Your Grade is an A with a percentage of\", per , \"%\")\n        t_list.append(\"A\")\n\n    elif (per &lt; 70) and (per &gt;= 60):\n        print(el[0] ,\"Your Grade is a B with a percentage of\", per , \"%\")\n        t_list.append(\"B\")\n\n    elif (per &lt; 60) and (per &gt;= 50):\n        print(el[0] , \"Your grade is a C with a percentage of\", per , \"%\")\n        t_list.append(\"C\")\n\n    elif (per &lt; 50) and (per &gt;= 45):\n        print(el[0] ,\"Your grade is a D with a percentage of\", per , \"%\")\n        t_list.append(\"D\")\n\n    else:\n        print(el[0] ,\"You have Failed with a percentage of\", per , \"%\")\n        t_list.append(\"F\")\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7753879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ccbc6bf0665da199bba4b5c87ed473?s=128&d=identicon&r=PG&f=1", "display_name": "josh boyd", "link": "https://stackoverflow.com/users/7753879/josh-boyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 42963991, "answer_count": 2, "score": 0, "last_activity_date": 1490225154, "creation_date": 1490221454, "last_edit_date": 1490221670, "question_id": 42963762, "link": "https://stackoverflow.com/questions/42963762/i-need-to-put-the-grade-calculation-into-a-function-and-i-really-dont-know-wher", "title": "i need to put the grade calculation into a function and i really don&#39;t know where to start", "body": "<p>resetting values</p>\n\n<pre><code>name = []\n\nscore1 = []\n\nscore2 = []\n\nt_list = []\n</code></pre>\n\n<p>Importing the CSV file and reading its contents</p>\n\n<pre><code>import csv\n\nf = open (\"Classmarks.csv\")\n\nrows = f.readlines()\n\nfor line in rows:\n\n    line = line.strip()\n\n    el = line.split (\",\")\n\n    name = el[0]\n\n    score1 = el[1]\n\n    score2 = el[2]\n</code></pre>\n\n<p>calculating the percentage and using that to calculate the grade and adding the grade to t_list for later use. <strong>This is the section I need to put into a function</strong></p>\n\n<pre><code>per = (float(score1) + float(score2) / 1.5)\n\nif (per &lt; 101) and (per &gt;= 70):\n    print(el[0] ,\"Your Grade is an A with a percentage of\", per , \"%\" , '')\n    t_list.append(\"A\")\n\nelif (per &lt; 70) and (per &gt;= 60):\n    print(el[0] ,\"Your Grade is a B with a percentage of\", per , \"%\"  , '')\n    t_list.append(\"B\")\n\nelif (per &lt; 60) and (per &gt;= 50):\n    print(el[0] , \"Your grade is a C with a percentage of\", per , \"%\"  , '')\n    t_list.append(\"C\")\n\nelif (per &lt; 50) and (per &gt;= 45):\n    print(el[0] ,\"Your grade is a D with a percentage of\", per , \"%\"  , '')\n    t_list.append(\"D\")\n\nelse:\n    print(el[0] ,\"You have Failed with a percentage of\", per , \"%\" )\n    t_list.append(\"F\")\n</code></pre>\n\n<p>counting and printing the number of A grades achieved</p>\n\n<pre><code>print(\"there were\" , t_list.count('A') , \"A's achieved\")\n</code></pre>\n"}, {"tags": ["python", "django", "csv"], "comments": [{"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1490230391, "post_id": 42963742, "comment_id": 73024653, "body": "First of all I&#39;d recommend using <code>unicodecsv</code> if you&#39;re using Python 2. And secondly, I&#39;d really recommend setting <code>delimiter</code> and <code>quotechar</code> when saving or reading CSV files."}, {"owner": {"reputation": 7950, "user_id": 2848189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sy43q.png?s=128&g=1", "display_name": "Alejandro Veintimilla", "link": "https://stackoverflow.com/users/2848189/alejandro-veintimilla"}, "reply_to_user": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1490290007, "post_id": 42963742, "comment_id": 73057989, "body": "Added <code>delimiter</code> and <code>quotechar</code> but itstill doesn&#39;t work."}], "owner": {"reputation": 7950, "user_id": 2848189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sy43q.png?s=128&g=1", "display_name": "Alejandro Veintimilla", "link": "https://stackoverflow.com/users/2848189/alejandro-veintimilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 605, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490221367, "creation_date": 1490221367, "question_id": 42963742, "link": "https://stackoverflow.com/questions/42963742/django-python-csv-how-to-open-and-read-a-file", "title": "Django python csv. How to open and read a file", "body": "<p>I'm wondering how can I use python's library <code>csv</code> to open and read a file saved in a django <code>FileField</code>.</p>\n\n<p>I tried opening the file outside of django with a script like this:</p>\n\n<pre><code>import csv\nwith open('the_csv_file.csv', 'rb') as f:\n    reader = csv.reader(f)\n    for row in reader:\n        print row\n</code></pre>\n\n<p>It prints the csv content correctly:</p>\n\n<pre><code>['EAN', 'NOMBRE', 'CANTIDAD', 'UNIDAD', 'SKU', 'PRECIO']\n['7861024608794', 'Fioravanti', '1.35', 'L', '6546546', '666']\n</code></pre>\n\n<p>So, when I try to open the same file in django, it doesn't work:</p>\n\n<pre><code>stocklist.csv_file.open(mode=\"rb\")\n    csv_file = stocklist.csv_file.read()\n    csv_reader = csv.reader(csv_file)\n\n    for row in csv_reader:\n        print(row)\n</code></pre>\n\n<p>It prints this:</p>\n\n<pre><code>['EAN']\n['', '']\n['NOMBRE']\n['', '']\n['CANTIDAD']\n['', '']\n['UNIDAD']\n['', '']\n['SKU']\n['', '']\n['PRECIO']\n... etc\n</code></pre>\n\n<p>So, how do I use the <code>csv</code> library with a django csv file in a <code>FileField</code> ?</p>\n"}, {"tags": ["python", "django", "graphene-python"], "answers": [{"comments": [{"owner": {"reputation": 2356, "user_id": 6090736, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d286da5594a779a224fe4d4ff72df1c5?s=128&d=identicon&r=PG&f=1", "display_name": "lgants", "link": "https://stackoverflow.com/users/6090736/lgants"}, "edited": false, "score": 0, "creation_date": 1526946444, "post_id": 42967981, "comment_id": 87929376, "body": "This saved me SOOO much time. Thanks!"}], "tags": [], "owner": {"reputation": 1632, "user_id": 476414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23700065eafae25fcf2568be8e9da626?s=128&d=identicon&r=PG", "display_name": "Yacine Filali", "link": "https://stackoverflow.com/users/476414/yacine-filali"}, "is_accepted": true, "score": 18, "last_activity_date": 1490247134, "creation_date": 1490247134, "answer_id": 42967981, "question_id": 42963703, "link": "https://stackoverflow.com/questions/42963703/graphene-django-and-model-properties/42967981#42967981", "title": "Graphene-Django and Model Properties", "body": "<p>In the schema object for Profile, you can add a String field with a source:</p>\n\n<pre><code>class Profile(DjangoObjectType):\n    profile_name = graphene.String(source='profile_name')\n    class Meta:\n        model = ProfileModel\n        interfaces = (relay.Node, )\n</code></pre>\n"}], "owner": {"reputation": 4249, "user_id": 850947, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/p3YBx.jpg?s=128&g=1", "display_name": "Matthew Johnston", "link": "https://stackoverflow.com/users/850947/matthew-johnston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1924, "favorite_count": 0, "accepted_answer_id": 42967981, "answer_count": 1, "score": 11, "last_activity_date": 1490247134, "creation_date": 1490221166, "question_id": 42963703, "link": "https://stackoverflow.com/questions/42963703/graphene-django-and-model-properties", "title": "Graphene-Django and Model Properties", "body": "<p>Presume a Django model similar to this:</p>\n\n<pre><code>  class Profile(models.Model):\n    user = models.OneToOneField(User, on_delete=models.PROTECT)\n    name = models.CharField(max_length=255)\n    other_alias = models.CharField(blank=True,null=True,max_length=255)\n\n    @property\n    def profile_name(self):\n        if self.other_alias:\n            return self.other_alias\n        else:\n            return self.name\n</code></pre>\n\n<p>I'm using Graphene-Django with this project, and I successfully created a schema to describe the Profile type, and can access it properly through a GraphQL query. However, I can't see any way that I can make that property available too. </p>\n\n<p>Is the presumption that I should remove all property-style logic from my Django models, and instead only use GraphQL with the raw information in the model, and then do that logic instead in the place that I use the GraphQL data (eg. in the React app that uses it)?</p>\n"}, {"tags": ["python", "postgresql", "ubuntu", "psycopg2"], "answers": [{"tags": [], "owner": {"reputation": 97819, "user_id": 131874, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b3600796ab1d9e78c7545c91468c2e51?s=128&d=identicon&r=PG", "display_name": "Clodoaldo Neto", "link": "https://stackoverflow.com/users/131874/clodoaldo-neto"}, "is_accepted": false, "score": 0, "last_activity_date": 1490222001, "creation_date": 1490222001, "answer_id": 42963899, "question_id": 42963562, "link": "https://stackoverflow.com/questions/42963562/how-can-i-handle-this-camelcase-postgresql-query-with-psycopg2-python/42963899#42963899", "title": "How can I handle this camelcase postgreSQL query with psycopg2/python?", "body": "<pre><code>cur.execute(\"select * from %s\", (AsIs('\"MyTable\"'),))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 6232944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/uCMiR.jpg?s=128&g=1", "display_name": "jmoneygram", "link": "https://stackoverflow.com/users/6232944/jmoneygram"}, "edited": false, "score": 0, "creation_date": 1490224038, "post_id": 42963905, "comment_id": 73022674, "body": "Thank you! Worked like a charm."}], "tags": [], "owner": {"reputation": 2667, "user_id": 6078821, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/5fhDI.jpg?s=128&g=1", "display_name": "Andy Carlson", "link": "https://stackoverflow.com/users/6078821/andy-carlson"}, "is_accepted": true, "score": 2, "last_activity_date": 1490222041, "creation_date": 1490222041, "answer_id": 42963905, "question_id": 42963562, "link": "https://stackoverflow.com/questions/42963562/how-can-i-handle-this-camelcase-postgresql-query-with-psycopg2-python/42963905#42963905", "title": "How can I handle this camelcase postgreSQL query with psycopg2/python?", "body": "<p>Your double quotes around your identifiers are not escaped. Use block quotes instead.</p>\n\n<pre><code>query = \"\"\"\nINSERT INTO happy_alerts_triggered (happy_affiliate_id, alert_format, alert_minutes, happy_client_internal_id, alert_triggered_date, alert_processed_date, alert_id, affiliate_name, client_name) \nSELECT r.happy_affiliate_id, r.alert_format, r.alert_minutes, r.happy_client_internal_id, now() as alert_triggered_date, null as alert_processed_date, r.id, ha.happy_affiliate_description, hc.happy_client_description \nFROM happy_alerts_config r \nINNER JOIN happy_affiliates ha ON r.happy_affiliate_id = ha.id \nINNER JOIN happy_clients hc ON r.happy_client_internal_id = hc.id \nWHERE not exists\n(SELECT 1 FROM \"happyEvents\" he \nWHERE he.\"messageType\" = r.alert_format \nAND he.\"affiliateClient\" = hc.happy_client_description \nAND he.\"insertTime\" &gt; (now() - (r.alert_minutes * interval '1 minute')))\n\"\"\"\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 6232944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/uCMiR.jpg?s=128&g=1", "display_name": "jmoneygram", "link": "https://stackoverflow.com/users/6232944/jmoneygram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 42963905, "answer_count": 2, "score": 1, "last_activity_date": 1490222041, "creation_date": 1490220485, "question_id": 42963562, "link": "https://stackoverflow.com/questions/42963562/how-can-i-handle-this-camelcase-postgresql-query-with-psycopg2-python", "title": "How can I handle this camelcase postgreSQL query with psycopg2/python?", "body": "<p>There are several similar issues like this scattered throughout the internet, but none that address my particular issue exactly. </p>\n\n<p>Hopefully you folks can help!</p>\n\n<p>Here is a small portion of my script: </p>\n\n<pre><code>import psycopg2 as p\nimport psycopg2.extras as e\n# The 'AsIs' extension is here because I've attempted using it to fix my issue - with no luck unfortunately...\nfrom psycopg2.extensions import AsIs\n\ncon = p.connect(\"dbname='my_db' user='user_name' host='123.45.67.89' port='5432'\")\n\ncur = con.cursor(cursor_factory=e.DictCursor)\n\nquery = \"INSERT INTO happy_alerts_triggered (happy_affiliate_id, alert_format, alert_minutes, happy_client_internal_id, alert_triggered_date, alert_processed_date, alert_id, affiliate_name, client_name) \nSELECT r.happy_affiliate_id, r.alert_format, r.alert_minutes, r.happy_client_internal_id, now() as alert_triggered_date, null as alert_processed_date, r.id, ha.happy_affiliate_description, hc.happy_client_description \nFROM happy_alerts_config r \nINNER JOIN happy_affiliates ha ON r.happy_affiliate_id = ha.id \nINNER JOIN happy_clients hc ON r.happy_client_internal_id = hc.id \nWHERE not exists\n(SELECT 1 FROM \"happyEvents\" he \nWHERE he.\"messageType\" = r.alert_format \nAND he.\"affiliateClient\" = hc.happy_client_description \nAND he.\"insertTime\" &gt; (now() - (r.alert_minutes * interval '1 minute')))\"\n\ncur.execute(query)\n\ncon.commit()\ncur.close()\n</code></pre>\n\n<p>As you can see in the final SELECT statment, I am attempting to SELECT from a table with a name formatted in camelCase (which is not able to be changed :/).</p>\n\n<p>I have tried the AsIs extension in a few different ways with no luck.  </p>\n\n<p>I have attempted parameterizing the camelCase variables, however this causes issues when attempting to do so with table names.  </p>\n\n<p>If I have researched correctly, parameterizing with 'AsIs' only fixes the camelCase issue when the parameters themselves are VALUES not tables/indexable items.</p>\n\n<p>Lastly, the reason for this script is to UPDATE a table in my DB (with the query above), then use another query to return data from that table which will be used as information in an email generated within this same script.</p>\n\n<p>If there are suggestions on how to run this query in other ways (i.e. within a bash script using psql commands, a node.js file, or any other file type that can be set to a crontab), I am open to suggestions.  The query does not have to remain in this file, although I would like it to. (pgAgent is NOT a preferred method.)</p>\n\n<p>I am running this on an Ubuntu 14.04 server.</p>\n\n<p>Any help is appreciated!  Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1490220613, "post_id": 42963559, "comment_id": 73021191, "body": "What are your desired outputs for these print statements?"}, {"owner": {"reputation": 1, "user_id": 7753695, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ppztef257ic/AAAAAAAAAAI/AAAAAAAAWQ4/TUQ2zAkHaGk/photo.jpg?sz=128", "display_name": "Cal", "link": "https://stackoverflow.com/users/7753695/cal"}, "reply_to_user": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1490220761, "post_id": 42963559, "comment_id": 73021246, "body": "The output(s) is supposed to be: 2.0, 3.0, 4.0, Not a string, No words, 4.75"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1490221074, "post_id": 42963559, "comment_id": 73021376, "body": "As an aside, that&#39;s a lot of code that could be throwing erros that you are wrapping in a single try-block. You should try to make that as narrow as possible."}, {"owner": {"reputation": 1, "user_id": 7753695, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ppztef257ic/AAAAAAAAAAI/AAAAAAAAWQ4/TUQ2zAkHaGk/photo.jpg?sz=128", "display_name": "Cal", "link": "https://stackoverflow.com/users/7753695/cal"}, "edited": false, "score": 0, "creation_date": 1490221509, "post_id": 42963559, "comment_id": 73021574, "body": "I&#39;ve been foregoing elegance, lately, in lieu of trying to force it to work by boring my <i>mindthoughts</i> through my monitor, but you&#39;re absolutely right."}, {"owner": {"reputation": 1, "user_id": 7753695, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ppztef257ic/AAAAAAAAAAI/AAAAAAAAWQ4/TUQ2zAkHaGk/photo.jpg?sz=128", "display_name": "Cal", "link": "https://stackoverflow.com/users/7753695/cal"}, "edited": false, "score": 0, "creation_date": 1490224705, "post_id": 42963559, "comment_id": 73022943, "body": "Posted my solution above. Thanks to all the great people who helped me see what I was doing wrong!"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7753695, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ppztef257ic/AAAAAAAAAAI/AAAAAAAAWQ4/TUQ2zAkHaGk/photo.jpg?sz=128", "display_name": "Cal", "link": "https://stackoverflow.com/users/7753695/cal"}, "edited": false, "score": 0, "creation_date": 1490224649, "post_id": 42963744, "comment_id": 73022916, "body": "Ha! I got it to work! I didn&#39;t realize that I was taking my one-size-fits-all word counting approach (word + 1) for granted. Thanks for helping me think about it in another way.  Unf. I am a novice, and this is the most basic function ever, but I am so pleeeased right now! #satisfying"}], "tags": [], "owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "is_accepted": false, "score": 3, "last_activity_date": 1490221381, "creation_date": 1490221381, "answer_id": 42963744, "question_id": 42963559, "link": "https://stackoverflow.com/questions/42963559/comparing-variables-to-all-items-in-list-in-python/42963744#42963744", "title": "Comparing variables to all items in list in Python", "body": "<pre><code>else:\n    average = letters / (words + 1)\n    return letters, words + 1, average\n</code></pre>\n\n<p>You're adding 1 to words by default... this is not valid in all cases: <code>\"Hi!\"</code> being a good example. This is actually what is putting off all of your strings: Anytime a string does not end in a word your function will be off.</p>\n\n<p><em>Hint</em>: You only want to add one if there is no punctuation after the last word.</p>\n"}, {"comments": [{"owner": {"reputation": 150, "user_id": 7420421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d2240496ddd4211f67244ccd62d76c9?s=128&d=identicon&r=PG&f=1", "display_name": "User9123", "link": "https://stackoverflow.com/users/7420421/user9123"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1490223713, "post_id": 42963800, "comment_id": 73022556, "body": "I wanted <code>&quot;&quot; not in punctuation</code> to be <code>False</code> (see line 13), everything is ok"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1490224033, "post_id": 42963800, "comment_id": 73022672, "body": "I take back what I said. I converted punctuation to <code>&quot; !?.,&quot;</code> without thinking about it. You make a valid point :)"}, {"owner": {"reputation": 1, "user_id": 7753695, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ppztef257ic/AAAAAAAAAAI/AAAAAAAAWQ4/TUQ2zAkHaGk/photo.jpg?sz=128", "display_name": "Cal", "link": "https://stackoverflow.com/users/7753695/cal"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1490224366, "post_id": 42963800, "comment_id": 73022815, "body": "Aaaaaa, I never even <i>considered</i> that the problem would be at the beginning of the strings. I posted my solution above, but using your and @TemporalWolf &#39;s advice, I counted words by their <i>beginnings</i> and not by their ends."}], "tags": [], "owner": {"reputation": 150, "user_id": 7420421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d2240496ddd4211f67244ccd62d76c9?s=128&d=identicon&r=PG&f=1", "display_name": "User9123", "link": "https://stackoverflow.com/users/7420421/user9123"}, "is_accepted": false, "score": 3, "last_activity_date": 1490224756, "last_edit_date": 1490224756, "creation_date": 1490221578, "answer_id": 42963800, "question_id": 42963559, "link": "https://stackoverflow.com/questions/42963559/comparing-variables-to-all-items-in-list-in-python/42963800#42963800", "title": "Comparing variables to all items in list in Python", "body": "<p>A problem happens when the string <strong>begins</strong> with a punctuation character: the previous character is still <code>\"\"</code> and not considered as a punctuation character, so an non-existent word in counted.</p>\n\n<p>you could add <code>\"\"</code> in the list of symbols, or do :</p>\n\n<pre><code>punctuation = \" !?.,\"\n</code></pre>\n\n<p>because testing <code>c in s</code> return true if c is a substring of s, aka if c is a character of s. And the empty string is contained in every string.</p>\n\n<hr>\n\n<p>A second problem occurs at the <strong>end</strong>, if the string terminate with a word, it is not counted (were your <code>word+1</code> a way to fix that ?), but if the string terminate with a punctuation, the last word is counted.</p>\n\n<p>Add this just after the <code>for</code> loop :</p>\n\n<pre><code>if char not in punctuation:\n   words += 1\n</code></pre>\n\n<p>And now there will be no need to add 1, just use</p>\n\n<pre><code>average = letters / words\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1531, "user_id": 5365597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e5Md6.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5365597/tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1490222285, "creation_date": 1490222285, "answer_id": 42963949, "question_id": 42963559, "link": "https://stackoverflow.com/questions/42963559/comparing-variables-to-all-items-in-list-in-python/42963949#42963949", "title": "Comparing variables to all items in list in Python", "body": "<p>This is made more difficult since I assume you're not allowed to use inbuilt string functions like split(). </p>\n\n<p>The way I would approach this is to:</p>\n\n<ol>\n<li><strong>Split the sentence into a list of words.</strong></li>\n<li><strong>Count the letters in each word.</strong></li>\n<li><p><strong>Take the average amount of letters.</strong></p>\n\n<p>def averageWordLength(myString):</p>\n\n<pre><code>punctuation = [\" \", \"!\", \"?\", \".\", \",\"]\n\nif not isinstance(myString, str):\n    return \"Not a string\"\n\nsplit_values = []\nword = ''\nfor char in myString:\n    if char in punctuation:\n        if word:\n            split_values.append(word)\n        word = ''\n    else:\n        word += char\nif word:\n    split_values.append(word)\n\nletter_count = []\nfor word in split_values:\n    letter_count.append(len(word))\n\nif len(letter_count):\n    return sum(letter_count)/len(letter_count)\nelse:\n    return \"No words.\"\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 7753695, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ppztef257ic/AAAAAAAAAAI/AAAAAAAAWQ4/TUQ2zAkHaGk/photo.jpg?sz=128", "display_name": "Cal", "link": "https://stackoverflow.com/users/7753695/cal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1490224756, "creation_date": 1490220466, "last_edit_date": 1490224203, "question_id": 42963559, "link": "https://stackoverflow.com/questions/42963559/comparing-variables-to-all-items-in-list-in-python", "title": "Comparing variables to all items in list in Python", "body": "<p>I need to write a function for an edx Python course. The idea is figure out the number of letters and words in series of strings and return the average letter count while only using for/while loops and conditionals. My code comes <em>close</em> to being able to do this, but I cannot. For the life of me. Figure out why it doesn't work. I've been bashing my head against it for two days, now, and I know it's probably something really simple that I'm too idiotic to see (sense my frustration?), but I do not know what it is.</p>\n\n<p>If I'm looking at line 14, the logic makes sense: if i in the string is punctuation (<em>not</em> a letter) and the previous character (char, in this case) is not punctuation (therefore a letter), it should be a word. But it's still counting double punctuation as words. But not <em>all</em> of them.</p>\n\n<pre><code>def averageWordLength(myString):\n    char = \"\"\n    punctuation = [\" \", \"!\", \"?\", \".\", \",\"]\n    letters = 0\n    words = 0\n    if not myString == str(myString):\n        return \"Not a string\"\n    try:\n        for i in myString:\n            if i not in punctuation:\n                letters += 1\n            elif i in punctuation:\n                if char not in punctuation:\n                    words += 1\n                elif char in punctuation:\n                    pass\n            char = i\n\n        if letters == 0:\n            return \"No words\"\n        else:\n            average = letters / (words + 1)\n            return letters, words + 1, average\n    except TypeError:\n        return \"No words\"\nprint(averageWordLength(\"Hi\"))\nprint(averageWordLength(\"Hi, Lucy\"))\nprint(averageWordLength(\"   What   big spaces  you    have!\"))\nprint(averageWordLength(True))\nprint(averageWordLength(\"?!?!?! ... !\"))\nprint(averageWordLength(\"One space. Two spaces.  Three spaces.   Nine spaces.         \"))\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>2, 1, 2.0\n6, 2, 3.0\n20, 6, 4.0\nNot a string\nNo words\n38, 8, 4.75\n</code></pre>\n\n<p>What in blazes am I doing wrong?!</p>\n\n<p>\u0669\u0e4f\u032f\u0361\u0e4f\u06f6</p>\n\n<p>Final correction:</p>\n\n<pre><code>for i in myString:\n    if i not in punctuation:\n        letters += 1\n        if char in punctuation:\n            words += 1\n    char = i\n</code></pre>\n"}, {"tags": ["python", "qt", "model-view-controller", "pyqt", "pyside"], "owner": {"reputation": 1768, "user_id": 2889970, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Od4jO.jpg?s=128&g=1", "display_name": "timmwagener", "link": "https://stackoverflow.com/users/2889970/timmwagener"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 356, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1490601482, "creation_date": 1490220430, "last_edit_date": 1490601482, "question_id": 42963551, "link": "https://stackoverflow.com/questions/42963551/strange-behaviour-when-appending-columns-in-qstandarditemmodel-with-nested-qstan", "title": "Strange behaviour when appending columns in QStandardItemModel with nested QStandardItems", "body": "<p>I am having a setup, where I need a <code>QStandardItemModel</code> with nested <code>QStandardItems</code> to be displayed via a <code>QTreeView</code>. I need to add and remove columns which I cannot seem to figure out how to do properly.</p>\n\n<ul>\n<li>To insert the initial nested rows I use <code>appendRow([item, item, ...])</code> and always use the previous item as new parent.</li>\n<li>I get an unexpected row and column count of 0 for the last <code>QStandardItem</code> as can be seen in the logging output.</li>\n<li>After an <code>appendColumn()</code> the column count of the items does not increase from 3 to 4. Instead a new item is inserted at an index with row 0 and column 1.</li>\n</ul>\n\n<h3>Before <code>appendColumn()</code> - column count 3</h3>\n\n<p><a href=\"https://i.stack.imgur.com/ZwCuw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZwCuw.jpg\" alt=\"Before appendColumn()\"></a></p>\n\n<h3>After <code>appendColumn()</code> - new column appears but column count is still 3</h3>\n\n<p><a href=\"https://i.stack.imgur.com/Wd2ip.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wd2ip.jpg\" alt=\"After appendColumn()\"></a></p>\n\n<h3>Example Code</h3>\n\n<pre class=\"lang-py prettyprint-override\"><code># -*- coding: utf-8 -*-\nfrom __future__ import unicode_literals\n\nimport logging\nimport sys\nimport uuid\n\nfrom PySide import QtCore\nfrom PySide import QtGui\n\n\nlogging.basicConfig(level=logging.DEBUG)\nlogger = logging.getLogger(__name__)\n\n\nclass TestModel(QtGui.QStandardItemModel):\n\n    def __init__(self, *args, **kwargs):\n        super(TestModel, self).__init__(*args, **kwargs)\n        self.logger = logging.getLogger(type(self).__name__)\n\n    def set_data(self):\n        \"\"\"Fill with 3 nested rows with 3 columns each for testing.\"\"\"\n\n        # cleanup\n        self.clear()\n        self.setHorizontalHeaderLabels([\"header_1\", \"header_2\", \"header_3\"])\n\n        # fill nested rows\n        parent = None\n        for index in range(3):\n            row = [QtGui.QStandardItem(str(uuid.uuid4().hex[:4])) for _ in range(3)]\n            self.appendRow(row) if (parent is None) else parent.appendRow(row)\n            parent = row[0]\n\n    def print_rows(self):\n        \"\"\"Print information about all rows of the model.\"\"\"\n        for index in self.all_indices():\n            item = self.itemFromIndex(index)\n\n            msg = \"QModelIndex: row {0} column {1} \"\n            msg += \"QStandardItem: row count {2} column count {3} \"\n            msg += \"value: {4}\"\n            msg = msg.format(\n                index.row(), index.column(),\n                item.rowCount(), item.columnCount(), item.text())\n            self.logger.info(msg)\n\n    def all_indices(self, indices=None, index=None):\n        \"\"\"Recurse all indices under index in the first column and return\n        them as flat list.\n        \"\"\"\n        indices = indices if (isinstance(indices, list)) else []\n        index = index if (isinstance(index, QtCore.QModelIndex)) else QtCore.QModelIndex()\n\n        for row in range(self.rowCount(index)):\n\n            current_index = self.index(row, 0, index)\n            indices.append(current_index)\n\n            if (self.hasChildren(current_index)):\n                self.all_indices(indices, current_index)\n\n        return indices\n\n    def append_column(self):\n        self.logger.info(\"appendColumn()\")\n        self.appendColumn([QtGui.QStandardItem(str(uuid.uuid4().hex[:4])),])\n\n# test\nif (__name__ == \"__main__\"):\n    app = QtGui.QApplication(sys.argv)\n\n    # widget\n    widget = QtGui.QWidget()\n    layout = QtGui.QVBoxLayout()\n    widget.setLayout(layout)\n    widget.show()\n\n    # model\n    model = TestModel()\n    model.set_data()\n\n    # view\n    view = QtGui.QTreeView()\n    view.setModel(model)\n    layout.addWidget(view)\n\n    # btn_print_rows\n    btn_print_rows = QtGui.QPushButton(\"Prints rows\")\n    btn_print_rows.clicked.connect(model.print_rows)\n    layout.addWidget(btn_print_rows)\n\n    # btn_append_column\n    btn_append_column = QtGui.QPushButton(\"Append column\")\n    btn_append_column.clicked.connect(model.append_column)\n    layout.addWidget(btn_append_column)\n\n    sys.exit(app.exec_())\n</code></pre>\n\n<h3>Questions</h3>\n\n<hr>\n\n<ul>\n<li>I get an unexpected row and column count for the last <code>QStandardItem</code> as can be seen in the logging output. Why has the last item a row and column count of 0 when the model clearly displays what seems to be correct data?</li>\n<li>How can i correctly facilitate appending/removing of columns in a <code>QStandardItemModel</code> with nested <code>QStandardItems</code> <em>(displayed in a <code>QTreeView</code>)</em>?</li>\n<li>Should I have <code>QStandardItems</code> with a column count equal to the header item count? <em>(de/incrementing item.columnCount() for each new column)</em>. Or should all <code>QStandardItems</code> have a column count of 1?</li>\n</ul>\n"}, {"tags": ["python", "flask-babel"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7031396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/642f0bbc5e999ba666b5d0284b213734?s=128&d=identicon&r=PG&f=1", "display_name": "Rena", "link": "https://stackoverflow.com/users/7031396/rena"}, "is_accepted": true, "score": 1, "last_activity_date": 1491419939, "creation_date": 1491419939, "answer_id": 43239850, "question_id": 42963403, "link": "https://stackoverflow.com/questions/42963403/flask-babel-flask-table-is-not-translated/43239850#43239850", "title": "Flask babel: flask-table is not translated", "body": "<p>I found a solution, for anyone who will encounter the same problem. The key is to overwrite the constructor of ItemTable:</p>\n\n<pre><code>class ItemTable(Table):\n    col1 = Col('')\n    col2 = Col('')\n    col3 = Col('')\n\n    def __init__(self, items):\n        super(ItemTable, self).__init__(items)\n        self.col3.name = gettext('Apple')\n        self.col2.name = gettext('Banana')\n        self.col3.name = gettext('Pear')\n</code></pre>\n\n<p>The same actually applies to wtforms. This doesn't work:</p>\n\n<pre><code>class TestForm(Form):\n    field1 = TextField(gettext('fieldlabel1'))\n    field2 = TextField(gettext('fieldlabel2'))\n</code></pre>\n\n<p>But this does:</p>\n\n<pre><code>class TestForm(Form):\n    field1 = TextField('')\n    field2 = TextField('')\n\n    def __init__(self, formdata=None):\n        if formdata:\n            super(TestForm, self).__init__(formdata)\n        else:\n            super(TestForm, self).__init__()\n        self.field1.label.text = gettext('fieldlabel1')\n        self.field2.label.text = gettext('fieldlabel2')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 3008955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcc2cb70df767189f898c28b54ed2c2?s=128&d=identicon&r=PG&f=1", "display_name": "Earthling", "link": "https://stackoverflow.com/users/3008955/earthling"}, "is_accepted": false, "score": 0, "last_activity_date": 1561720379, "creation_date": 1561720379, "answer_id": 56805886, "question_id": 42963403, "link": "https://stackoverflow.com/questions/42963403/flask-babel-flask-table-is-not-translated/56805886#56805886", "title": "Flask babel: flask-table is not translated", "body": "<p>You could use lazy_gettext instead of gettext and leave it exactly as it was. </p>\n\n<pre><code>from flask.ext.babel import lazy_gettext\nfrom flask_table import Table, Col\n\nclass ItemTable(Table):\n    col1 = Col(gettext('Apple'))\n    col2 = Col(gettext('Banana'))\n    col3 = Col(gettext('Pear'))\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7031396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/642f0bbc5e999ba666b5d0284b213734?s=128&d=identicon&r=PG&f=1", "display_name": "Rena", "link": "https://stackoverflow.com/users/7031396/rena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 43239850, "answer_count": 2, "score": 0, "last_activity_date": 1561720379, "creation_date": 1490219811, "question_id": 42963403, "link": "https://stackoverflow.com/questions/42963403/flask-babel-flask-table-is-not-translated", "title": "Flask babel: flask-table is not translated", "body": "<p>I'm trying to translate a flask web project with babel (using Ubuntu 16.04/python 2.7.12). Everything seems to work fine, except for the tables. The names of the columns just won't be translated. Does anyone know how I get that to work?</p>\n\n<p>My .py example:</p>\n\n<pre><code>from flask import Flask, render_template\nfrom flask_script import Manager\nfrom flask.ext.babel import Babel, gettext\nfrom flask_table import Table, Col\n\napp = Flask(__name__)\nmanager = Manager(app)\nbabel = Babel(app)\n\nclass ItemTable(Table):\n    col1 = Col(gettext('Apple'))\n    col2 = Col(gettext('Banana'))\n    col3 = Col(gettext('Pear'))\n\nclass Item(object):\n    def __init__(self, col1, col2, col3):\n        self.col1 = col1\n        self.col2 = col2\n        self.col3 = col3\n\n@babel.localeselector\ndef get_locale():\n    return 'de'\n\n@app.route('/')\ndef index():\n    items = []\nitems.append(Item('bla', 'bla', 'bla'))\ntable = ItemTable(items)\n\n    test = gettext(\"This is a string.\")\n    return render_template('index.html', test=test, table=table)\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>And the html file:</p>\n\n<pre><code>&lt;h1&gt;{{gettext(\"Hello World!\")}}&lt;/h1&gt;\n&lt;h2&gt;{{test}}&lt;/h2&gt;\n{{table}}\n</code></pre>\n\n<p>Here, I just want to test if the translation to German does work, so get_locale just returns 'de'.The translations folder and the babel.cfg are in place, the pybabel extract/init/compile works, the strings Apple/Banana/Pear even appear in the resulting messages.po file, where they are translated. But although \"Hello World\" and 'test' get translated when the page is loaded, the column strings do not.</p>\n\n<p>Any idea what to do?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 2, "creation_date": 1490219836, "post_id": 42963392, "comment_id": 73020873, "body": "<code>.append</code> them."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1490219923, "post_id": 42963392, "comment_id": 73020921, "body": "<code>array = [input(&quot;enter string&quot;) for _ in range(4)]</code> will do"}, {"owner": {"reputation": 218, "user_id": 4665736, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0853b3555f45477f38daf0e706db02c7?s=128&d=identicon&r=PG&f=1", "display_name": "vba", "link": "https://stackoverflow.com/users/4665736/vba"}, "edited": false, "score": 0, "creation_date": 1490219949, "post_id": 42963392, "comment_id": 73020936, "body": "Append them forms a line, I want a list. That can be accessible like array[i]. Does appending help this"}, {"owner": {"reputation": 218, "user_id": 4665736, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0853b3555f45477f38daf0e706db02c7?s=128&d=identicon&r=PG&f=1", "display_name": "vba", "link": "https://stackoverflow.com/users/4665736/vba"}, "edited": false, "score": 0, "creation_date": 1490220245, "post_id": 42963392, "comment_id": 73021048, "body": "Append works. I though it would be like in c# where it appends to a string already. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 218, "user_id": 4665736, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0853b3555f45477f38daf0e706db02c7?s=128&d=identicon&r=PG&f=1", "display_name": "vba", "link": "https://stackoverflow.com/users/4665736/vba"}, "edited": false, "score": 0, "creation_date": 1490221895, "post_id": 42963433, "comment_id": 73021750, "body": "Works. Thanks @Sekuraz"}], "tags": [], "owner": {"reputation": 501, "user_id": 7569133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/962b2b640d94d6caecf0af33d19237c1?s=128&d=identicon&r=PG&f=1", "display_name": "Sekuraz", "link": "https://stackoverflow.com/users/7569133/sekuraz"}, "is_accepted": true, "score": 2, "last_activity_date": 1490220009, "last_edit_date": 1490220009, "creation_date": 1490219976, "answer_id": 42963433, "question_id": 42963392, "link": "https://stackoverflow.com/questions/42963392/get-a-list-of-string-as-input-from-user-in-loop-python/42963433#42963433", "title": "Get a list of string as input from user in loop python", "body": "<p>Your array has size 0, this is why you can't access any elements (or assign to them). The correct code would be:</p>\n\n<pre><code>array = []\nfor i in range(4):\n    array.append(input(\"Enter string\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 505, "user_id": 7742282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd05d67ad79c4b0e7ccfa7ef31f8c457?s=128&d=identicon&r=PG", "display_name": "Jeremiah", "link": "https://stackoverflow.com/users/7742282/jeremiah"}, "is_accepted": false, "score": 2, "last_activity_date": 1490220038, "last_edit_date": 1490220038, "creation_date": 1490220011, "answer_id": 42963446, "question_id": 42963392, "link": "https://stackoverflow.com/questions/42963392/get-a-list-of-string-as-input-from-user-in-loop-python/42963446#42963446", "title": "Get a list of string as input from user in loop python", "body": "<p>Try this:</p>\n\n<pre><code>for i in range(4):\n    array.append(input(\"Enter string &gt;&gt;\"))\n</code></pre>\n\n<p>Since your array doesn't have any values yet, assigning to <code>array[i]</code> would not work.</p>\n"}, {"comments": [{"owner": {"reputation": 7503, "user_id": 3874768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/nmQTg.jpg?s=128&g=1", "display_name": "repzero", "link": "https://stackoverflow.com/users/3874768/repzero"}, "edited": false, "score": 1, "creation_date": 1490221005, "post_id": 42963537, "comment_id": 73021351, "body": "Indeed this is elegant but in python 2x input() evaluates the string as a variable and throws a NameError. In python 2x I would recommend using raw_input() rather than input(). But since this question is tagged under  python3x it&#39;s preferred :D"}, {"owner": {"reputation": 562, "user_id": 6009280, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8PeY5.jpg?s=128&g=1", "display_name": "Spherical Cowboy", "link": "https://stackoverflow.com/users/6009280/spherical-cowboy"}, "reply_to_user": {"reputation": 7503, "user_id": 3874768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/nmQTg.jpg?s=128&g=1", "display_name": "repzero", "link": "https://stackoverflow.com/users/3874768/repzero"}, "edited": false, "score": 0, "creation_date": 1490221771, "post_id": 42963537, "comment_id": 73021689, "body": "Thanks for noting this in case someone using Python 2 tries to use it. Links to the relevant entries in the Python 2 documentation: <a href=\"https://docs.python.org/2/library/functions.html#input\" rel=\"nofollow noreferrer\">input</a> &amp; <a href=\"https://docs.python.org/2/library/functions.html#raw_input\" rel=\"nofollow noreferrer\">raw_input</a>"}], "tags": [], "owner": {"reputation": 562, "user_id": 6009280, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8PeY5.jpg?s=128&g=1", "display_name": "Spherical Cowboy", "link": "https://stackoverflow.com/users/6009280/spherical-cowboy"}, "is_accepted": false, "score": 2, "last_activity_date": 1490220354, "creation_date": 1490220354, "answer_id": 42963537, "question_id": 42963392, "link": "https://stackoverflow.com/questions/42963392/get-a-list-of-string-as-input-from-user-in-loop-python/42963537#42963537", "title": "Get a list of string as input from user in loop python", "body": "<p>Concise:</p>\n\n<pre><code>array = [input(\"Enter string: \") for i in range(4)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 13186138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjXhHT9DtIUcsG7m6z_epC4ASpIsXhZbpEWujq2=k-s128", "display_name": "Aishwarya Skandamani", "link": "https://stackoverflow.com/users/13186138/aishwarya-skandamani"}, "is_accepted": false, "score": 0, "last_activity_date": 1590227529, "creation_date": 1590227529, "answer_id": 61970249, "question_id": 42963392, "link": "https://stackoverflow.com/questions/42963392/get-a-list-of-string-as-input-from-user-in-loop-python/61970249#61970249", "title": "Get a list of string as input from user in loop python", "body": "<p>when range limit is unknown i.e., when (n) needs to be taken as an input from the user,</p>\n\n<pre><code>n = int(input(\"Enter the number of names in list for input:\"))\na = [input() for i in range(n)]\n</code></pre>\n"}], "owner": {"reputation": 218, "user_id": 4665736, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0853b3555f45477f38daf0e706db02c7?s=128&d=identicon&r=PG&f=1", "display_name": "vba", "link": "https://stackoverflow.com/users/4665736/vba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1084, "favorite_count": 0, "accepted_answer_id": 42963433, "answer_count": 4, "score": 0, "last_activity_date": 1590227529, "creation_date": 1490219766, "last_edit_date": 1490371881, "question_id": 42963392, "link": "https://stackoverflow.com/questions/42963392/get-a-list-of-string-as-input-from-user-in-loop-python", "title": "Get a list of string as input from user in loop python", "body": "<p>I am new to python, this is a basic question</p>\n\n<p>How do you get a list of string as input from the user? I tried:</p>\n\n<pre><code>array = []\nfor i in range(0,4):\n    array[i] = input(\"Enter string\")\n</code></pre>\n\n<p>This has an error. I know I am wrong. How do we get a list of strings as input? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 171, "user_id": 5971855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UAKeO.jpg?s=128&g=1", "display_name": "ryugie", "link": "https://stackoverflow.com/users/5971855/ryugie"}, "edited": false, "score": 0, "creation_date": 1490220211, "post_id": 42963378, "comment_id": 73021038, "body": "try <code>if choice in [&#39;Y&#39;, &#39;yes&#39;, &#39;Yes&#39;, &#39;YES&#39;]:</code>, and your <code>information</code> variable is out of scope when you try to use it in <code>writeinfo</code>, so you need to pass it to the function call"}], "answers": [{"tags": [], "owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "is_accepted": false, "score": 1, "last_activity_date": 1490220349, "last_edit_date": 1490220349, "creation_date": 1490219947, "answer_id": 42963426, "question_id": 42963378, "link": "https://stackoverflow.com/questions/42963378/my-information-wont-write-to-a-file-python/42963426#42963426", "title": "My information won&#39;t write to a file? - Python", "body": "<p>You will need to pass the argument on like this:</p>\n\n<pre><code>def takeinfo():\n    # same as before\n    information=input()\n    writeinfo(information)\n    # else stays the same\ndef writeinfo(information):\n    # rest remains the same...\ntakeinfo()\n</code></pre>\n\n<p>Or just change information into the global scope using <code>global</code>.</p>\n\n<p>And a hint for you:</p>\n\n<pre><code>if 'Y' or 'yes' or 'Yes' or 'YES' in choice:\n</code></pre>\n\n<p>Wouldn't work as you would've expected. You can do some extensive learning to figure out why it will always be <code>True</code> even if the user inputted \"No\".</p>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 6084563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xh2we.jpg?s=128&g=1", "display_name": "Nathan White", "link": "https://stackoverflow.com/users/6084563/nathan-white"}, "is_accepted": false, "score": 1, "last_activity_date": 1490220036, "creation_date": 1490220036, "answer_id": 42963457, "question_id": 42963378, "link": "https://stackoverflow.com/questions/42963378/my-information-wont-write-to-a-file-python/42963457#42963457", "title": "My information won&#39;t write to a file? - Python", "body": "<pre><code>def writeinfo():\n    a=open('names.txt','wt')\n    a.write(information)\n    a.close()\n</code></pre>\n\n<p>the \"information\" needs to be passed into the writeinfo function</p>\n\n<p>should be: </p>\n\n<pre><code>def writeinfo(information):\n    a=open('names.txt','wt')\n</code></pre>\n\n<p>and above, when the function is called:</p>\n\n<pre><code>print(\"What would you like to write in the file? \\n\")\ninformation=input()\nwriteinfo(information)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 7753796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90d5d7968a63cb356ca010f4366d6493?s=128&d=identicon&r=PG&f=1", "display_name": "Bater", "link": "https://stackoverflow.com/users/7753796/bater"}, "edited": false, "score": 0, "creation_date": 1490220449, "post_id": 42963506, "comment_id": 73021138, "body": "Thankyou, I had no idea about the global function until now!"}, {"owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "reply_to_user": {"reputation": 3, "user_id": 7753796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90d5d7968a63cb356ca010f4366d6493?s=128&d=identicon&r=PG&f=1", "display_name": "Bater", "link": "https://stackoverflow.com/users/7753796/bater"}, "edited": false, "score": 0, "creation_date": 1490221135, "post_id": 42963506, "comment_id": 73021402, "body": "it&#39;s not exactly a <i>function</i>, but rather a <i>keyword</i>. also, if you have the habit of using global variables, you should probably rethink that."}, {"owner": {"reputation": 3, "user_id": 7753796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90d5d7968a63cb356ca010f4366d6493?s=128&d=identicon&r=PG&f=1", "display_name": "Bater", "link": "https://stackoverflow.com/users/7753796/bater"}, "edited": false, "score": 0, "creation_date": 1490221336, "post_id": 42963506, "comment_id": 73021501, "body": "As I mentioned, I&#39;m new to python and I&#39;ve been using very basic code. I haven&#39;t exactly encountered much using definitions... which is why I made this code to see how it would work"}], "tags": [], "owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "is_accepted": true, "score": 0, "last_activity_date": 1490220974, "last_edit_date": 1490220974, "creation_date": 1490220216, "answer_id": 42963506, "question_id": 42963378, "link": "https://stackoverflow.com/questions/42963378/my-information-wont-write-to-a-file-python/42963506#42963506", "title": "My information won&#39;t write to a file? - Python", "body": "<p>other answers show good functional style (pass <code>information</code> to the <code>writeinfo()</code> function)</p>\n\n<p>for completeness' sake, you <em>could</em> also use global variables.</p>\n\n<p>the problem you are facing is, that the line</p>\n\n<pre><code>information=input()\n</code></pre>\n\n<p>(in <code>takeinfo()</code>) will assign the input to a <em>local</em> variable, that shadows the global variables of the same name.</p>\n\n<p>in order to force it to the global variable, you have to explicitely mark it as such, using the <code>global</code> keyword.</p>\n\n<h2>other problems</h2>\n\n<h3><code>input</code> vs <code>raw_input</code></h3>\n\n<p><code>input()</code> in python3 will just ask you to input some data.\nhowever, in Python2 it will <em>evaluate</em> the user-data. on py2 you should therefore use <code>raw_input()</code> instead.</p>\n\n<h3>has the user selected 'yes'?</h3>\n\n<p>there's another problem with your evaluation of <code>choice</code> (whether to write to file or not).\nthe term <code>'Y' or 'yes' or 'Yes' or 'YES' in choice</code> always evaluates to true, since it is really interpreted as <code>('Y') or ('yes') or ('Yes') or ('YES' in choice)</code>, and <code>bool('Y')</code> is <code>True</code>.\ninstead, you should use <code>choice in ['Y', 'yes', 'Yes', 'YES']</code> to check whether <code>choice</code> is one of the items in the list.\nyou can further simplify this by normalizing the user answer (e.g. lower-casing it, removing trailing whitespace).</p>\n\n<h1>solution</h1>\n\n<pre><code>try:\n    input = raw_input\nexcept NameError:\n    # py3 doesn't know raw_input\n    pass\n\n# global variable (ick!) with the data\ninformation=\"\"\n\ndef writeinfo():\n    a=open('names.txt','wt')\n    a.write(information)\n    a.close()\n\ndef takeinfo():\n    print(\"To begin with, would you like to write your file clean? If you're making a new file, yes.\")\n    choice=input()\n    if choice.lower().strip() in ['y', 'yes']:\n        print(\"What would you like to write in the file? \\n\")\n        global information\n        information=input()\n        writeinfo()\n    else:\n        exit()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7753796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90d5d7968a63cb356ca010f4366d6493?s=128&d=identicon&r=PG&f=1", "display_name": "Bater", "link": "https://stackoverflow.com/users/7753796/bater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 42963506, "answer_count": 3, "score": 0, "last_activity_date": 1490220974, "creation_date": 1490219677, "question_id": 42963378, "link": "https://stackoverflow.com/questions/42963378/my-information-wont-write-to-a-file-python", "title": "My information won&#39;t write to a file? - Python", "body": "<p>I'm fairly new to Python, I'm learning it at school and I've been messing around with it at home, I'd like to learn it better for when GCSE's hit just to make it easier.</p>\n\n<p>I'm having an issue with the code below:</p>\n\n<pre><code>def takeinfo():\n    print(\"To begin with, would you like to write your file clean? If you're making a new file, yes.\")\n    choice=input()\n    if 'Y' or 'yes' or 'Yes' or 'YES' in choice:\n        print(\"What would you like to write in the file? \\n\")\n        information=input()\n        writeinfo()\n    else:\n        exit()\ndef writeinfo():\n    a=open('names.txt','wt')\n    a.write(information)\n    a.close()\ntakeinfo()\n</code></pre>\n\n<p>When I type 'Yes' to be taken to the writeinfo() definition, it doesn't write the information I'm asking it to because it's unassigned, even after typing something in the takeinfo() definition? Any help would be appreciated. I understand this is simple, but I've looked at other questions and I can't seem to find what's wrong with my code.</p>\n\n<p>Thankyou.</p>\n"}, {"tags": ["python", "docx", "python-docx"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7609283"}, "edited": false, "score": 0, "creation_date": 1490298507, "post_id": 42963372, "comment_id": 73062969, "body": "may you clarify where are you getting the extra line? do you mean in the document?"}, {"owner": {"reputation": 477, "user_id": 4289132, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4e705e1ece2a739446e748a0951ccab3?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/4289132/omar"}, "edited": false, "score": 0, "creation_date": 1490371238, "post_id": 42963372, "comment_id": 73097416, "body": "Yes, it results in have extra empty line (new line) right before the line of Owner:Name"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7609283"}, "is_accepted": false, "score": 2, "last_activity_date": 1490435959, "last_edit_date": 1490435959, "creation_date": 1490419842, "answer_id": 43012917, "question_id": 42963372, "link": "https://stackoverflow.com/questions/42963372/add-paragraph-in-docx-adds-newline/43012917#43012917", "title": "add_paragraph() in docx adds newline", "body": "<p><strong>Problem:</strong>  </p>\n\n<p>I think that is because you are adding to an existing document (that is empty) that you have created manually (without using python-docx). It seems like when you created the document, <code>paragraphs[0]</code> is created so when you add a new paragraph using <code>add_paragraph()</code> it is creating another paragraph <code>paragraphs[1]</code> leaving the first paragraph empty.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>There are <strong>two</strong> solutions:</p>\n\n<p><strong>Either</strong> you insert text into paragraphs[0] instead of creating a new paragraph:</p>\n\n<pre><code>def header_build(self, boldText, dataText):\n\n    # paragraph[0]\n    p= self.document.paragraphs[0]\n\n    p.style = document.styles['Body Text']\n    p.style.font.size = Pt(12)\n    p.style.font.name = 'Times New Roman'\n    p.add_run(boldText).bold = True\n    p.add_run(dataText)\n    print p.text\n</code></pre>\n\n<hr>\n\n<p><strong>Or</strong> you could create a new document using python-docx and then use <code>add_paragraph()</code> that will be <code>paragraphs[0]</code> (no changes to header_build function):  </p>\n\n<pre><code># create a new document\ndocument = Document()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19772, "user_id": 1902513, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dde51d04370847170ede2450660334ac?s=128&d=identicon&r=PG", "display_name": "scanny", "link": "https://stackoverflow.com/users/1902513/scanny"}, "is_accepted": false, "score": 1, "last_activity_date": 1490570521, "creation_date": 1490570521, "answer_id": 43035760, "question_id": 42963372, "link": "https://stackoverflow.com/questions/42963372/add-paragraph-in-docx-adds-newline/43035760#43035760", "title": "add_paragraph() in docx adds newline", "body": "<p>Mimx is quite right. A new document created with <code>Document()</code> contains a single empty paragraph.</p>\n\n<p>This behavior is dictated by Word. When you open a new Word file, if you have paragraph markers on (visible), you'll see the insertion point just before a single paragraph marker. This is reflected in the ISO/IEC 29500 spec for Word in that a document (w:body element) must contain 1 or more paragraphs to be valid. Unfortunately, this means you need to deal with the first paragraph of a new document differently than those you add later.</p>\n\n<p>If you want, you can remove that first paragraph before you start adding content like this:</p>\n\n<pre><code>from docx import Document\n\ndocument = Document()\ndocument._body.clear_content()\n</code></pre>\n\n<p>If you save after this call without adding any content, the .docx file will be invalid and may not load or may require a \"repair\" step. But as long as you add content, this will work fine, and has the advantage that adding paragraphs is uniform, i.e. adding the first paragraph is done the same way as adding later paragraphs.</p>\n\n<p>Otherwise, you need to get the first paragraph and operate on it separately from the rest:</p>\n\n<pre><code>paragraph = document.paragraphs[0]\nparagraph.text = 'foobar'\nparagraph.style = 'Heading 1'\netc.\n\nfor text in content_blocks:\n    paragraph = document.add_paragraph()\n    paragraph.text = text\n    paragraph.style = 'Body Text'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1077, "user_id": 5465790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a5HS5.gif?s=128&g=1", "display_name": "Walk", "link": "https://stackoverflow.com/users/5465790/walk"}, "is_accepted": false, "score": 0, "last_activity_date": 1546338370, "creation_date": 1546338370, "answer_id": 53994712, "question_id": 42963372, "link": "https://stackoverflow.com/questions/42963372/add-paragraph-in-docx-adds-newline/53994712#53994712", "title": "add_paragraph() in docx adds newline", "body": "<p>This worked for me :)</p>\n\n<pre><code>import docx\n\ndoc = docx.Document()\nparagraph = doc.add_paragraph('Lorem ipsum ')\nrun = paragraph.add_run('dolor')\nrun.bold = True\nparagraph.add_run(' sit amet.')\ndoc.save('test.docx')\n</code></pre>\n\n<p>O/P:</p>\n\n<p>Lorem ipsum <strong>dolor</strong> sit amet.</p>\n"}], "owner": {"reputation": 477, "user_id": 4289132, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4e705e1ece2a739446e748a0951ccab3?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/4289132/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5487, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1546338370, "creation_date": 1490219658, "last_edit_date": 1490564471, "question_id": 42963372, "link": "https://stackoverflow.com/questions/42963372/add-paragraph-in-docx-adds-newline", "title": "add_paragraph() in docx adds newline", "body": "<p>I am using the following piece of code:</p>\n\n<pre><code>def header_build(self, boldText, dataText):\n    # document.add_heading('Document Title', 0)\n    p = self.document.add_paragraph()\n    p.style = self.document.styles['Body Text']\n    p.style.font.size = Pt(12)\n    p.style.font.name = 'Times New Roman'\n    p.add_run(boldText).bold = True\n    p.add_run(dataText)\n</code></pre>\n\n<p>The idea is to have the following when I use header_build function:</p>\n\n<pre><code>header_build(self, boldText='Owner: ', dataText='Name')\n</code></pre>\n\n<p>get the following:</p>\n\n<p><strong>Owner:</strong> Name</p>\n\n<p>The problem is that I am getting a new line before the text I am trying to get.</p>\n"}, {"tags": ["python", "scapy"], "comments": [{"owner": {"reputation": 305, "user_id": 4370881, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c93843939cc5fe2c06958e0a6bf87049?s=128&d=identicon&r=PG&f=1", "display_name": "Krystian", "link": "https://stackoverflow.com/users/4370881/krystian"}, "reply_to_user": {"reputation": 12253, "user_id": 6671342, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/22063dc94e4bdcb1b6fb634e5865f5aa?s=128&d=identicon&r=PG&f=1", "display_name": "coder", "link": "https://stackoverflow.com/users/6671342/coder"}, "edited": false, "score": 0, "creation_date": 1490302203, "post_id": 42963343, "comment_id": 73065057, "body": "@coder I understand that wireshark shows packet in a different way and I&#39;m okey with that. But look on src ip address and how it is parsed by scapy - as far as I know it&#39;s not okey, but maybe I&#39;m not right."}, {"owner": {"reputation": 12253, "user_id": 6671342, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/22063dc94e4bdcb1b6fb634e5865f5aa?s=128&d=identicon&r=PG&f=1", "display_name": "coder", "link": "https://stackoverflow.com/users/6671342/coder"}, "edited": false, "score": 0, "creation_date": 1490308033, "post_id": 42963343, "comment_id": 73067880, "body": "oh, yes you are right - I missed the <b>ipv6</b> part."}, {"owner": {"reputation": 305, "user_id": 4370881, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c93843939cc5fe2c06958e0a6bf87049?s=128&d=identicon&r=PG&f=1", "display_name": "Krystian", "link": "https://stackoverflow.com/users/4370881/krystian"}, "reply_to_user": {"reputation": 12253, "user_id": 6671342, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/22063dc94e4bdcb1b6fb634e5865f5aa?s=128&d=identicon&r=PG&f=1", "display_name": "coder", "link": "https://stackoverflow.com/users/6671342/coder"}, "edited": false, "score": 1, "creation_date": 1490344427, "post_id": 42963343, "comment_id": 73079877, "body": "I opened bug issue on scapy github page (<a href=\"https://github.com/secdev/scapy/issues/579\" rel=\"nofollow noreferrer\">github.com/secdev/scapy/issues/579</a>). @coder you mentioned that using wireshark will be more efficient. My goal is to take every value of header and do some statistics job - is wireshark able to performe this type of activity?"}, {"owner": {"reputation": 12253, "user_id": 6671342, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/22063dc94e4bdcb1b6fb634e5865f5aa?s=128&d=identicon&r=PG&f=1", "display_name": "coder", "link": "https://stackoverflow.com/users/6671342/coder"}, "edited": false, "score": 0, "creation_date": 1490364129, "post_id": 42963343, "comment_id": 73092398, "body": "As far as I know there are scripts and tools related to Wireshark that help do this kind of job, such as <code>capinfos</code> and <code>tshark</code> but I haven&#39;t used them much in the past. - but I think they can be used to do statistical analysis. You can find them here: <a href=\"https://wiki.wireshark.org/Tools\" rel=\"nofollow noreferrer\">wiki.wireshark.org/Tools</a>"}, {"owner": {"reputation": 12253, "user_id": 6671342, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/22063dc94e4bdcb1b6fb634e5865f5aa?s=128&d=identicon&r=PG&f=1", "display_name": "coder", "link": "https://stackoverflow.com/users/6671342/coder"}, "edited": false, "score": 0, "creation_date": 1490364777, "post_id": 42963343, "comment_id": 73092791, "body": "For example you could dump all <code>source ips</code> with the command: <code>tshark -T fields -e ip.src -r your_file.pcap</code>, or by changing <code>ip.src</code> to <code>ip.dst</code> you could parse dst ips (it is very similar to scapy). There also many other fields to try (like: frame.time, dns.qry.name, tcp.port and many other <code>wireshark fields</code>)"}, {"owner": {"reputation": 305, "user_id": 4370881, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c93843939cc5fe2c06958e0a6bf87049?s=128&d=identicon&r=PG&f=1", "display_name": "Krystian", "link": "https://stackoverflow.com/users/4370881/krystian"}, "reply_to_user": {"reputation": 12253, "user_id": 6671342, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/22063dc94e4bdcb1b6fb634e5865f5aa?s=128&d=identicon&r=PG&f=1", "display_name": "coder", "link": "https://stackoverflow.com/users/6671342/coder"}, "edited": false, "score": 0, "creation_date": 1490370827, "post_id": 42963343, "comment_id": 73097120, "body": "@coder Thanks a lot for your help. I will look carefully on tshark :)"}, {"owner": {"reputation": 12253, "user_id": 6671342, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/22063dc94e4bdcb1b6fb634e5865f5aa?s=128&d=identicon&r=PG&f=1", "display_name": "coder", "link": "https://stackoverflow.com/users/6671342/coder"}, "edited": false, "score": 0, "creation_date": 1490374831, "post_id": 42963343, "comment_id": 73099840, "body": "I forgot also to mention that there is also a python tshark wrapper (<b>pyshark</b>) here: <a href=\"https://github.com/KimiNewt/pyshark\" rel=\"nofollow noreferrer\">github.com/KimiNewt/pyshark</a>"}, {"owner": {"reputation": 12253, "user_id": 6671342, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/22063dc94e4bdcb1b6fb634e5865f5aa?s=128&d=identicon&r=PG&f=1", "display_name": "coder", "link": "https://stackoverflow.com/users/6671342/coder"}, "edited": false, "score": 3, "creation_date": 1490375970, "post_id": 42963343, "comment_id": 73100465, "body": "For example you could do: <code>import pyshark</code>, <code>cap = pyshark.FileCapture(&#39;v6.pcap&#39;)</code>, and then <code>for packet in cap: print packet.ipv6.src</code>"}], "answers": [{"tags": [], "owner": {"reputation": 12253, "user_id": 6671342, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/22063dc94e4bdcb1b6fb634e5865f5aa?s=128&d=identicon&r=PG&f=1", "display_name": "coder", "link": "https://stackoverflow.com/users/6671342/coder"}, "is_accepted": false, "score": 9, "last_activity_date": 1505314825, "last_edit_date": 1505314825, "creation_date": 1505314003, "answer_id": 46200591, "question_id": 42963343, "link": "https://stackoverflow.com/questions/42963343/reading-pcap-file-with-scapy/46200591#46200591", "title": "Reading PCAP file with scapy", "body": "<p><strong>Update</strong></p>\n\n<p>The latest <a href=\"/questions/tagged/scapy\" class=\"post-tag\" title=\"show questions tagged &#39;scapy&#39;\" rel=\"tag\">scapy</a> versions now <strong>support</strong> <code>ipv6</code> parsing.\nSo to parse an <em>ipv6 \".pcap\" file</em> with <a href=\"http://www.secdev.org/projects/scapy/\" rel=\"noreferrer\"><code>scapy</code></a> now it can be done like so:</p>\n\n<pre><code>from scapy.all import *\n\nscapy_cap = rdpcap('file.pcap')\nfor packet in scapy_cap:\n    print packet[IPv6].src\n</code></pre>\n\n<p>Now as I had commented back when this question was originally asked, for older\n<code>scapy</code> versions (that don't support ipv6 parsing):</p>\n\n<ul>\n<li><a href=\"https://github.com/KimiNewt/pyshark\" rel=\"noreferrer\"><code>pyshark</code></a> can be used instead (<code>pyshark</code> is a tshark wrapper) like so:</li>\n</ul>\n\n<hr>\n\n<pre><code>import pyshark\n\nshark_cap = pyshark.FileCapture('file.pcap')\nfor packet in shark_cap:\n    print packet.ipv6.src\n</code></pre>\n\n<ul>\n<li>or even of course <a href=\"https://www.wireshark.org/docs/man-pages/tshark.html\" rel=\"noreferrer\"><code>tshark</code></a> (kind of the terminal version of wireshark):</li>\n</ul>\n\n<hr>\n\n<pre><code>$ tshark -r file.pcap -q -Tfields -e ipv6.src\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 4370881, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c93843939cc5fe2c06958e0a6bf87049?s=128&d=identicon&r=PG&f=1", "display_name": "Krystian", "link": "https://stackoverflow.com/users/4370881/krystian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29767, "favorite_count": 1, "answer_count": 1, "score": 9, "last_activity_date": 1505314825, "creation_date": 1490219556, "last_edit_date": 1490468375, "question_id": 42963343, "link": "https://stackoverflow.com/questions/42963343/reading-pcap-file-with-scapy", "title": "Reading PCAP file with scapy", "body": "<p>I have about 10GB pcap data with IPv6 traffic to analyze infos stored in IPv6 header and other extension header. To do this I decided to use Scapy framework. I tried <strong><em>rdpcap</em></strong> function , but for such big files it is not recommended. It tries to load all file into memory and get stuck in my case. \nI found in the Net that in such situation <strong><em>sniff</em></strong> is recommended, my code look like:</p>\n\n<pre><code>def main():\n   sniff(offline='traffic.pcap', prn=my_method,store=0)\n\n\ndef my_method(packet):\n   packet.show()\n</code></pre>\n\n<p>In function called <strong><em>my_method</em></strong> I receive each packet separately and I can parse them, but.... \nWhen I call <strong><em>show</em></strong> function with is in-build framework method I got sth like this:\n<img src=\"https://i.imgur.com/5JTXU1Q.png\" alt=\"result\"></p>\n\n<p>When opened in wireshark I got properly looking packet:\n<img src=\"https://i.imgur.com/Hhrr1AI.png\" alt=\"result2\"></p>\n\n<p>Could you tell me how to parse this packets in scapy to get proper results?</p>\n\n<p>EDIT:\nAccording to the discussion in comments I found a way to parse PCAP file with Python. In my opinion the easies way is to use pyshark framework:</p>\n\n<pre><code>import pyshark\npcap = pyshark.FileCapture(pcap_path) ### for reading PCAP file\n</code></pre>\n\n<p>It is possible to easily iterate read file with for loop</p>\n\n<pre><code>for pkt in pcap:\n    #do what you want\n</code></pre>\n\n<p>For parsing IPv6 header following methods may be useful:</p>\n\n<pre><code>pkt['ipv6'].tclass            #Traffic class field\npkt['ipv6'].tclass_dscp       #Traffic class DSCP field\npkt['ipv6'].tclass_ecn        #Traffic class ECN field\npkt['ipv6'].flow              #Flow label field\npkt['ipv6'].plen              #Payload length field\npkt['ipv6'].nxt               #Next header field\npkt['ipv6'].hlim              #Hop limit field\n</code></pre>\n"}, {"tags": ["python", "dictionary", "counter"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1490219608, "post_id": 42963304, "comment_id": 73020775, "body": "<code>for it1, it2 in values.items():</code>"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1490219611, "post_id": 42963304, "comment_id": 73020778, "body": "The value of <code>values</code> is <i>one</i> counter. You cannot split it into <code>it1</code> and <code>it2</code>."}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1490219812, "post_id": 42963376, "comment_id": 73020856, "body": "but then you lose the <code>Counter</code> capability."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1490219993, "post_id": 42963376, "comment_id": 73020958, "body": "forget that. I realized that I don&#39;t understand the question. Time to go to bed :)"}, {"owner": {"reputation": 541, "user_id": 3058703, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5127a4b53ffa1907f41985b0b6f61fc1?s=128&d=identicon&r=PG&f=1", "display_name": "user3058703", "link": "https://stackoverflow.com/users/3058703/user3058703"}, "edited": false, "score": 0, "creation_date": 1490221814, "post_id": 42963376, "comment_id": 73021713, "body": "This is exactly what I wanted - thank you. Sorry to other answerers for not phrasing my question more clearly."}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 1, "last_activity_date": 1490219667, "creation_date": 1490219667, "answer_id": 42963376, "question_id": 42963304, "link": "https://stackoverflow.com/questions/42963304/add-new-field-for-python-dictionary/42963376#42963376", "title": "Add new field for Python dictionary", "body": "<p>You're better off creating an entirely new dictionary, to have that extra nested dict:</p>\n\n<pre><code>dct = {key: {k: {v: 0} for k, v in values.items()} for key, values in dct.items()}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7745, "user_id": 3926995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2l63X.jpg?s=128&g=1", "display_name": "Chiheb Nexus", "link": "https://stackoverflow.com/users/3926995/chiheb-nexus"}, "is_accepted": false, "score": 0, "last_activity_date": 1490220930, "last_edit_date": 1490220930, "creation_date": 1490220432, "answer_id": 42963552, "question_id": 42963304, "link": "https://stackoverflow.com/questions/42963304/add-new-field-for-python-dictionary/42963552#42963552", "title": "Add new field for Python dictionary", "body": "<p>Without creating a new <code>dict</code> you can manipulate your current <code>dict</code> with <code>Counter</code> inside.</p>\n\n<p>You can print your current items like this way:</p>\n\n<pre><code>dct = {'A': Counter({'food': 30, 'menu': 19, 'good': 15}), 'B': Counter({'one': 5, 'chicken': 10})}\n\nfor k, v in dct.items():\n    print(k, v)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&gt;&gt;&gt; A Counter({'food': 30, 'menu': 19, 'good': 15})\n&gt;&gt;&gt; B Counter({'chicken': 10, 'one': 5})\n</code></pre>\n\n<p>In order to modify values inside <code>Counter dict</code>, you can do something like this:</p>\n\n<pre><code>for k, v in dct:\n    if \"food\" in v:\n        v[\"food\"] = 666\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>print(dct)\n\n&gt;&gt;&gt; {'A': Counter({'food': 666, 'menu': 19, 'good': 15}), 'B': Counter({'chicken': 10, 'one': 5})}\n</code></pre>\n\n<p>And if you want to add new elements to your <code>Counter dict</code> you can do something like this:</p>\n\n<pre><code>for k, v in dct.items():\n    if \"food\" in v:\n        v.update({\"new_food\":0})\n\nprint(dct)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&gt;&gt;&gt; {'A': Counter({'food': 30, 'menu': 19, 'good': 15, 'new_food': 0}), 'B': Counter({'chicken': 10, 'one': 5})}\n</code></pre>\n\n<p>Otherwise if you want to have a new <code>\"regular\"</code> <code>dict</code> you can use <code>dict comprehension</code>:</p>\n\n<pre><code>new_dct = {k:{key:val for key,val in v.items()} for k,v in dct.items()}\n\nprint(new_dct)\n\n&gt;&gt;&gt; {'A': {'food': 30, 'menu': 19, 'good': 15}, 'B': {'chicken': 10, 'one': 5}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "is_accepted": false, "score": 0, "last_activity_date": 1490220464, "creation_date": 1490220464, "answer_id": 42963557, "question_id": 42963304, "link": "https://stackoverflow.com/questions/42963304/add-new-field-for-python-dictionary/42963557#42963557", "title": "Add new field for Python dictionary", "body": "<p>I hope I understood your question. You want to add one more item to the counter?. If that is the case, you could do by updating the counter object. the count will increase as you keep on updating it.</p>\n\n<pre><code>mydict = {'A': Counter({'food': 30, 'menu': 19, 'good': 15}), 'B': Counter({'one': 5, 'chicken': 10})}\nmydict['A'].update(['price'])\nmydict['B'].update(['cow'])\nprint mydict\n\n{'A': Counter({'food': 30, 'menu': 19, 'good': 15, 'price': 1}), 'B': Counter({'chicken': 10, 'one': 5, 'cow': 1})}\n</code></pre>\n\n<p>if you do update again</p>\n\n<pre><code>mydict['A'].update(['price'])\nmydict['B'].update(['cow'])\nprint mydict\n</code></pre>\n\n<p>will result in </p>\n\n<pre><code>{'A': Counter({'food': 30, 'menu': 19, 'good': 15, 'price': 2}), 'B': Counter({'chicken': 10, 'one': 5, 'cow': 2})}\n</code></pre>\n"}], "owner": {"reputation": 541, "user_id": 3058703, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5127a4b53ffa1907f41985b0b6f61fc1?s=128&d=identicon&r=PG&f=1", "display_name": "user3058703", "link": "https://stackoverflow.com/users/3058703/user3058703"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1216, "favorite_count": 0, "accepted_answer_id": 42963376, "answer_count": 3, "score": 0, "last_activity_date": 1490220930, "creation_date": 1490219373, "question_id": 42963304, "link": "https://stackoverflow.com/questions/42963304/add-new-field-for-python-dictionary", "title": "Add new field for Python dictionary", "body": "<p>I have a dict which I have used <code>Counter</code> to get term frequencies for each key e.g. <code>'A'</code> and <code>'B'</code>.</p>\n\n<pre><code>dict = {'A': Counter({'food': 30, 'menu': 19, 'good': 15}), 'B': Counter({'one': 5, 'chicken': 10})}\n</code></pre>\n\n<p>I would like to be able to add a new field so that each term has another value.</p>\n\n<p>I have tried:</p>\n\n<pre><code>for key, values in dict.items():\n    for it1, it2 in values:\n         dict[key][it1][it2] = 0\n</code></pre>\n\n<p>but I receive:</p>\n\n<pre><code>ValueError: too many values to unpack (expected 2)\n</code></pre>\n\n<p>Do I need to remove the Counter object? How do I create a new value and how do I access this value?</p>\n"}, {"tags": ["python", "python-3.x", "type-hinting"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 1, "creation_date": 1490219661, "post_id": 42963248, "comment_id": 73020796, "body": "if you&#39;re performing static analysis, the safest option is to supply hints everywhere. This question really depends on how static analyzers are implemented, I don&#39;t believe that any analyzers will realize that your class implements an abstractmethod and, as a result, use the types supplied there."}, {"owner": {"reputation": 119, "user_id": 7498115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6opdy.jpg?s=128&g=1", "display_name": "Wesley Smith", "link": "https://stackoverflow.com/users/7498115/wesley-smith"}, "edited": false, "score": 0, "creation_date": 1566313267, "post_id": 42963248, "comment_id": 101613155, "body": "See <a href=\"https://stackoverflow.com/questions/54087885/static-type-check-for-abstract-method-in-python\" title=\"static type check for abstract method in python\">stackoverflow.com/questions/54087885/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/25183424/can-a-python-abstract-base-class-enforce-function-signatures\" title=\"can a python abstract base class enforce function signatures\">stackoverflow.com/questions/25183424/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 40406, "user_id": 336527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4a57f523157ebdf6e5a9662d2e8754b9?s=128&d=identicon&r=PG", "display_name": "max", "link": "https://stackoverflow.com/users/336527/max"}, "edited": false, "score": 0, "creation_date": 1494479369, "post_id": 43445787, "comment_id": 74847132, "body": "Any clarification as to why my answer is wrong would be welcome."}], "tags": [], "owner": {"reputation": 40406, "user_id": 336527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4a57f523157ebdf6e5a9662d2e8754b9?s=128&d=identicon&r=PG", "display_name": "max", "link": "https://stackoverflow.com/users/336527/max"}, "is_accepted": false, "score": 1, "last_activity_date": 1492407720, "creation_date": 1492407720, "answer_id": 43445787, "question_id": 42963248, "link": "https://stackoverflow.com/questions/42963248/type-hints-for-classes-implementing-an-interface/43445787#43445787", "title": "Type hints for classes implementing an interface", "body": "<p>Presumably, since you implement <code>B.spam</code>, it won't be a trivial implementation (otherwise, why bother overriding <code>A.spam</code>?). So you probably should type check the body of <code>B.spam</code>. In that case, you need to provide type hints for the arguments and return values of <code>B.spam</code>; otherwise, mypy will treat those types as <code>Any</code>.</p>\n\n<p>Note that if you do provide type hints, mypy will check that the type of <code>B.spam</code> is compatible with <code>A.spam</code> using its <a href=\"http://mypy.readthedocs.io/en/latest/class_basics.html#overriding-statically-typed-methods\" rel=\"nofollow noreferrer\">rules for subclassing</a>, but <em>only</em> if <code>B</code> derives from <code>A</code> non-virtually; if you just <code>A.register(B)</code>, mypy will ignore the inheritance relationship entirely. This is consistent with how the runtime will not look up <code>.spam</code> in the virtual base classes.</p>\n"}], "owner": {"reputation": 8244, "user_id": 1240996, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/998cf5a7090c11689846133a551af221?s=128&d=identicon&r=PG&f=1", "display_name": "Jayanth Koushik", "link": "https://stackoverflow.com/users/1240996/jayanth-koushik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1493, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1492407720, "creation_date": 1490219157, "question_id": 42963248, "link": "https://stackoverflow.com/questions/42963248/type-hints-for-classes-implementing-an-interface", "title": "Type hints for classes implementing an interface", "body": "<p>Suppose I have an interface <code>A</code> with a single function.</p>\n\n<pre><code>class A(metaclass=ABCMeta):\n\n    @abstractmethod\n    def spam(self, x: int) -&gt; str:\n        pass\n</code></pre>\n\n<p>There are classes <code>B</code> and <code>C</code> that implement this interface, but they will not be directly initialized. I will have some factory method (say) that will return to me a suitable object implementing <code>A</code>. So in this case, when I implement <code>spam</code> in <code>B</code> and <code>C</code>, should I repeat the type hints? Practically, since <code>B</code> and <code>C</code> aren't directly used, the type hints for <code>A</code> seem sufficient. But I'm curious about the best practice in this situation; and if there are other issues to be considered.</p>\n"}, {"tags": ["python", "qt", "pyqt", "qtreewidget", "qtreewidgetitem"], "comments": [{"owner": {"reputation": 734, "user_id": 2442002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qONGd.png?s=128&g=1", "display_name": "aatwo", "link": "https://stackoverflow.com/users/2442002/aatwo"}, "edited": false, "score": 0, "creation_date": 1490452436, "post_id": 42963220, "comment_id": 73123416, "body": "Hey @Dariusz. I had another think and looked deeper into the docs and it turns out that QTableWidgets / QTableViews have dynamic row heights built in which you can modify using the function QTableWidget::setRowHeight( int index, int height ). Are you locked into using a QTreeWidget or could you use  a QTableWidget instead?"}, {"owner": {"reputation": 589, "user_id": 1873108, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b657b898a98b18d615bab71f45cba853?s=128&d=identicon&r=PG", "display_name": "Dariusz", "link": "https://stackoverflow.com/users/1873108/dariusz"}, "reply_to_user": {"reputation": 734, "user_id": 2442002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qONGd.png?s=128&g=1", "display_name": "aatwo", "link": "https://stackoverflow.com/users/2442002/aatwo"}, "edited": false, "score": 0, "creation_date": 1494241247, "post_id": 42963220, "comment_id": 74727541, "body": "Hey @aatwo. Started working on this issue again. Not sure if QTablewidgets will work, can I move the rows up/down/group them as with QTreeWidget? I tried some basic tests but so far no luck"}, {"owner": {"reputation": 734, "user_id": 2442002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qONGd.png?s=128&g=1", "display_name": "aatwo", "link": "https://stackoverflow.com/users/2442002/aatwo"}, "edited": false, "score": 0, "creation_date": 1494257489, "post_id": 42963220, "comment_id": 74738968, "body": "So it depends on the structure of your data. If you are actually using the tree part of the QTreeViews functionality i.e. one or more rows are children of another row, then unfortunately you are pretty much locked in. I just wanted to point out their superior control over the row heights! You can definitely move rows up / down though."}], "answers": [{"comments": [{"owner": {"reputation": 589, "user_id": 1873108, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b657b898a98b18d615bab71f45cba853?s=128&d=identicon&r=PG", "display_name": "Dariusz", "link": "https://stackoverflow.com/users/1873108/dariusz"}, "edited": false, "score": 0, "creation_date": 1490319676, "post_id": 42977827, "comment_id": 73071383, "body": "hey @aatwo thanks for suggestion with removeItemWidget, I&#39;m thinking about it atm. I&#39;ve added an example code of my current attempt at solving the issue... new grounds."}], "tags": [], "owner": {"reputation": 734, "user_id": 2442002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qONGd.png?s=128&g=1", "display_name": "aatwo", "link": "https://stackoverflow.com/users/2442002/aatwo"}, "is_accepted": false, "score": 0, "last_activity_date": 1490276599, "creation_date": 1490276599, "answer_id": 42977827, "question_id": 42963220, "link": "https://stackoverflow.com/questions/42963220/qtreewidget-re-calculate-row-height-per-row-content/42977827#42977827", "title": "QTreeWidget - re-calculate row height per row content?", "body": "<p>As far as I am aware there is no way to resize rows directly though you can achieve a dynamic row height by implementing your table as a QTreeView + QSortFilterProxyModel subclass pair (<a href=\"https://stackoverflow.com/questions/32229314/pyqt-how-can-i-set-row-heights-of-qtreeview\">PyQt: How Can I set row heights of QTreeView</a>)</p>\n\n<p>Alternatively I imagine removing the widget from the table (removeItemWidget) and then instantly re-adding it would cause a row size recalculation though I have not tested that.</p>\n\n<p>As for my opinions regarding this setup of layouts inside tables, it is worth noting two things:</p>\n\n<ul>\n<li>Qt layouts are slow to populate and resize.</li>\n<li>Qt tables with variable row heights are slow in general.</li>\n</ul>\n\n<p>That being said 500 isn't a huge number. I would probably knock together a quick prototype and see how it performs on a range of machines to see if the performance is acceptable and then worry about exploring other routes if it is too slow. I expect performance in this case will be most dependent on how complex the layouts are.</p>\n"}], "owner": {"reputation": 589, "user_id": 1873108, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b657b898a98b18d615bab71f45cba853?s=128&d=identicon&r=PG", "display_name": "Dariusz", "link": "https://stackoverflow.com/users/1873108/dariusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1181, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490319468, "creation_date": 1490219097, "last_edit_date": 1490319468, "question_id": 42963220, "link": "https://stackoverflow.com/questions/42963220/qtreewidget-re-calculate-row-height-per-row-content", "title": "QTreeWidget - re-calculate row height per row content?", "body": "<p>It's a quick one. I put a QWidget with layout containing 10 buttons in each of my QTreeWidgetItem that i can expand-contract. </p>\n\n<p>If i contract the QWidget(hide), the row then remains the same height. It should get resized to be a lot smaller to contain only unhide button. The space occupied by the row remains empty. Only when I add a new widget. The row's height gets re-calculated. Same goes for expanding. If I expand widget, it still is 17 pixels in height. Only when I add a new widget the row's height gets recalculated.</p>\n\n<p>Is there a built-in function in QTreeWidget that I can call to update its row height - content, or do I need to loop over each item and adjust its height manually?</p>\n\n<p>Also is it a good idea to put a QWidget containing layout and lots of widgets inside QTreeWidgetItem? If I want to have lets say 500 QtreeWidgetItems, each having QTreeWidget with 20  Buttons/etc items in it? </p>\n\n<p>Regards\nDariusz</p>\n\n<p>Edit1.</p>\n\n<p>I spend quite a bit of time on it. Tried different paths but so far no luck. I have attached my rough code to show the issue. Just click on hide 1-2 times to see what happens. I'm struggling to understand how the \"sizeHint\" thini work...</p>\n\n<p>Attached my test below. </p>\n\n<pre><code>import sys\nfrom PyQt5.QtGui import *\nfrom PyQt5.QtCore import *\nfrom PyQt5.QtWidgets import *\n\nsys._excepthook = sys.excepthook\n\n\ndef my_exception_hook(exctype, value, traceback):\n    # print(exctype, value, traceback)\n    sys._excepthook(exctype, value, traceback)\n    sys.exit(1)\n\n\nsys.excepthook = my_exception_hook\n\n\nclass myWidget(QWidget):\n    def __init__(self, parent, something):\n        super(QWidget, self).__init__()\n        self.MW = parent\n        self.MWa = something\n        self.lay_main = QGridLayout()\n        self.setLayout(self.lay_main)\n\n        self.le_lineA = QLineEdit()\n        self.btn_a = QPushButton(\"Hey\")\n        self.btn_a.clicked.connect(self.hideunhide)\n        self.subWidget = QWidget()\n        self.subLay = QGridLayout()\n        self.subWidget.setLayout(self.subLay)\n\n        self.btn_b = QPushButton(\"Boo\")\n        self.lay_main.addWidget(self.btn_a)\n        self.lay_main.addWidget(self.subWidget)\n        self.subLay.addWidget(self.le_lineA)\n        self.subLay.addWidget(self.btn_b)\n        print(\"Im created :- )\")\n        self.size = False\n\n    def hideunhide(self):\n        if self.subWidget.isHidden():\n            self.subWidget.show()\n            self.size = True\n            self.MW.sizeHint(1)\n            self.MW.setSizeHint(0, QSize(0, 0))\n\n        else:\n            self.subWidget.hide()\n            self.size = False\n            self.MW.sizeHint(1)\n            self.MW.setSizeHint(0, QSize(0, 0))\n\n\nclass widgetItemDictUpdate(QTreeWidgetItem):\n    def __init__(self, parent, MW, title, dicId):\n        super(QTreeWidgetItem, self).__init__(parent)\n        self.MW = MW\n        self.dicId = dicId\n\n\nclass myDelegate(QItemDelegate):\n    def __init__(self, mw):\n        self.MW = mw\n        super(QItemDelegate, self).__init__()\n\n    def sizeHint(self, option, index):\n        print(\"myDelegate\", option, index)\n        if self.MW.itemFromIndex(index).layer.size:\n            return QSize(100, 100)\n        return QSize(100, 30)\n\n\nclass treeWidget(QTreeWidget):\n    def __init__(self, MW):\n        QTreeWidget.__init__(self)\n        self.setUniformRowHeights(False)\n        self.MW = MW\n        self.itemClicked.connect(self.printClick)\n        self.setHeaderItem(QTreeWidgetItem([\"Name\", \"ProgressBar\", \"extra\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"]))\n        self.setDragDropMode(QAbstractItemView.InternalMove)\n        self.setSelectionMode(QAbstractItemView.ExtendedSelection)\n        self.dragItems = []\n\n        self.lastHidenItemsArray = []\n        self.hiddenItemsSet = []\n\n        self.delg = myDelegate(self)\n        self.setItemDelegate(self.delg)\n        self.addItems(self.invisibleRootItem())\n\n    def printClick(self, item, column):\n        print(\"Clicked\")\n\n    def addItems(self, parent):\n        testParent = self.addSlave(parent, 'RandomA', 50)\n        testParent = self.addSlave(parent, 'RandomB', 60)\n        testParent = self.addSlave(parent, 'RandomBX', 60)\n        testParent = self.addSlave(parent, 'RandomBcvas', 60)\n\n    def addSlave(self, parent, title, id, expanded=True, visible=True):\n        item = widgetItemDictUpdate(parent, self, title, id)\n        myLayer = myWidget(item, self)\n        item.setText(0, title)\n        item.layer = myLayer\n        self.setItemWidget(item, 1, myLayer)\n        item.id = id\n        item.type = 1\n\n        return item\n\n\nclass Window(QWidget):\n    def __init__(self):\n        QWidget.__init__(self)\n        self.treeWidget = treeWidget(self)\n        layout = QVBoxLayout()\n        layout.addWidget(self.treeWidget)\n        self.setLayout(layout)\n        self.setGeometry(1000, 500, 500, 500)\n\n\nif __name__ == \"__main__\":\n    app = QApplication(sys.argv)\n    window = Window()\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "multithreading", "python-2.7", "python-multithreading"], "comments": [{"owner": {"reputation": 15, "user_id": 4927447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92376e62b687bc7e024f70be177b056d?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald Hudson", "link": "https://stackoverflow.com/users/4927447/ronald-hudson"}, "edited": false, "score": 0, "creation_date": 1490219164, "post_id": 42963210, "comment_id": 73020565, "body": "sorry for bad question, I read it after I wrote the whole description and saw that it may not represent what I am actually asking. hope I can explain myself though."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490221113, "post_id": 42963210, "comment_id": 73021389, "body": "<code>threading.enumerate</code> will show them both alive because they are alive even if they happen to be waiting on the semaphore."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490221198, "post_id": 42963210, "comment_id": 73021436, "body": "I assume <code>rbtnAuto</code> and <code>rbtnMan</code> are part of the same radio button group and both can&#39;t be set at the same time? Would it be fair to say that the state is manual if <code>rbtnAuto</code> is not checked?"}, {"owner": {"reputation": 15, "user_id": 4927447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92376e62b687bc7e024f70be177b056d?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald Hudson", "link": "https://stackoverflow.com/users/4927447/ronald-hudson"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490222576, "post_id": 42963210, "comment_id": 73022084, "body": "Thanks for the answer @tdelaney  Yeah, when one radio button is checked, the other can&#39;t be."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490223009, "post_id": 42963210, "comment_id": 73022260, "body": "As for the resource usage... look at <code>Exec_Manual</code> for instance. If <code>if self.rbtnMan.isChecked():</code> is true, you do some work and then sleep 1 second. But if its false, you immediately rerun the loop and check again. You are pounding the heck out of the system."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490223236, "post_id": 42963210, "comment_id": 73022346, "body": "If you want multiple threads, you could use a <code>threading.Lock</code>. The trick is to grab the lock, then check whether you are supposed to run, run with the lock still held and release it before trying again. Since one or the other functions is always running, reacquiring the lock will naturally add a delay."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4927447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92376e62b687bc7e024f70be177b056d?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald Hudson", "link": "https://stackoverflow.com/users/4927447/ronald-hudson"}, "edited": false, "score": 0, "creation_date": 1490222740, "post_id": 42963893, "comment_id": 73022149, "body": "thank you @tdelaney, im going to try this. If it may help,another problem is that when the program starts, it shows in the resources monitor an usage of least than 50% of CPU but when I click the other radio button, the CPU usage reaches 100% (the code is still running and GUI doesn&#39;t freeze)"}, {"owner": {"reputation": 15, "user_id": 4927447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92376e62b687bc7e024f70be177b056d?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald Hudson", "link": "https://stackoverflow.com/users/4927447/ronald-hudson"}, "edited": false, "score": 0, "creation_date": 1490224796, "post_id": 42963893, "comment_id": 73022978, "body": "i tried your code and it kinda worked as i expected (with about less than 50% CPU usage) but it doesn&#39;t change the values in the labels (e.g. in the Exec_Auto function, it should be presenting each frequency of the FM spectre in groups of 3) which I obtained by using the <code>for</code> loops that you removed. Is there any reason for what you removed the for loops?"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 15, "user_id": 4927447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92376e62b687bc7e024f70be177b056d?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald Hudson", "link": "https://stackoverflow.com/users/4927447/ronald-hudson"}, "edited": false, "score": 0, "creation_date": 1490225922, "post_id": 42963893, "comment_id": 73023337, "body": "I didn&#39;t pay much attention to that inner for because it didn&#39;t seem to matter for the question at hand... TL;DR I suppose! Anyway, you can stick that back."}, {"owner": {"reputation": 15, "user_id": 4927447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92376e62b687bc7e024f70be177b056d?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald Hudson", "link": "https://stackoverflow.com/users/4927447/ronald-hudson"}, "edited": false, "score": 0, "creation_date": 1490225926, "post_id": 42963893, "comment_id": 73023340, "body": "I just added the for loops and it freakin worked! man, and just with about 30% CPU usage. I wish I could buy you a beer. thank you, really."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 15, "user_id": 4927447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92376e62b687bc7e024f70be177b056d?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald Hudson", "link": "https://stackoverflow.com/users/4927447/ronald-hudson"}, "edited": false, "score": 0, "creation_date": 1490225969, "post_id": 42963893, "comment_id": 73023357, "body": "LOL... I&#39;ll be at the Cotton Bottom tomorrow night."}, {"owner": {"reputation": 15, "user_id": 4927447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92376e62b687bc7e024f70be177b056d?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald Hudson", "link": "https://stackoverflow.com/users/4927447/ronald-hudson"}, "edited": false, "score": 0, "creation_date": 1490226147, "post_id": 42963893, "comment_id": 73023421, "body": "I said I wish I could because we are probably thousands of kilometers away from each other! greetings from the center of the world."}], "tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": true, "score": 0, "last_activity_date": 1490221969, "creation_date": 1490221969, "answer_id": 42963893, "question_id": 42963210, "link": "https://stackoverflow.com/questions/42963210/can-semaphores-in-python-2-7-work-with-just-targetting-a-metod-to-a-thread/42963893#42963893", "title": "Can semaphores in python 2.7 work with just targetting a metod to a thread?", "body": "<p>I think that trying to synchronize threads is more trouble than its worth. You need to consider timing windows such as the GUI changing state between when the two threads happen to check them. It would be easier to take the logic out of the functions and have a higher level function call one or the other on each loop. That function can tell the worker functions whether there is a state change requiring changes to the gui.</p>\n\n<pre><code>def Exec_Manual(state_changed):\n    if state_changed:\n        self._tx_freq1_line_edit.setEnabled(1)\n        self._tx_freq2_line_edit.setEnabled(1)\n        self._tx_freq3_line_edit.setEnabled(1)\n        self._tx_freq4_line_edit.setEnabled(1)\n        self._tx_freq5_line_edit.setEnabled(1)\n    frec = 'self._tx_freq'+str(i+1)+'_line_edit.text()'\n    efrec = float(eval(frec))\n    self.lblTx1.setText(str(efrec-0.4))\n    self.lblTx2.setText(str(efrec))\n    self.lblTx3.setText(str(efrec+0.4))\n    time.sleep(1)\n\ndef Exec_Auto(state_changed):  \n    if state_changed:\n        self._tx_freq1_line_edit.setDisabled(1)\n        self._tx_freq2_line_edit.setDisabled(1)\n        self._tx_freq3_line_edit.setDisabled(1)\n        self._tx_freq4_line_edit.setDisabled(1)\n        self._tx_freq5_line_edit.setDisabled(1)\n    frec0=88.5\n    x=i*1.2\n    efrec = float(frec0)+x\n    self.lblTx1.setText(str(efrec-0.4))\n    self.lblTx2.setText(str(efrec))\n    self.lblTx3.setText(str(efrec+0.4))\n    time.sleep(1)\n\ndef the_decider():\n    state = self.rbtnAuto.isChecked()\n    while True:\n        new_state = self.rbtnAuto.isChecked()\n        if new_state:\n            Exec_Auto(state == new_state)\n        else:\n            Exec_Manual(state == new_state)\n        state = new_state\n\nauto_thread = threading.Thread(target=the_decider, name='the_decider')\nauto_thread.start()\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4927447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92376e62b687bc7e024f70be177b056d?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald Hudson", "link": "https://stackoverflow.com/users/4927447/ronald-hudson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 42963893, "answer_count": 1, "score": 0, "last_activity_date": 1490221969, "creation_date": 1490219039, "last_edit_date": 1495535400, "question_id": 42963210, "link": "https://stackoverflow.com/questions/42963210/can-semaphores-in-python-2-7-work-with-just-targetting-a-metod-to-a-thread", "title": "Can semaphores in python 2.7 work with just targetting a metod to a thread?", "body": "<p>What I am trying to do is to run or pause two different functions depending on if their respective option button is active or not (the two functions execution is mutually exclusive) I tried using semaphores based on the answer given by Jay <a href=\"https://stackoverflow.com/questions/19072608/python-is-it-possible-to-stop-or-pause-a-thread\">here</a> but both threads seem to continue running. Here the code I am writing (it is inside an <strong>__init__</strong> block):</p>\n\n<pre><code>self.manual_sema = Semaphore(0)\nself.auto_sema = Semaphore(0)\n\n#Function A.\n\ndef Exec_Manual():\n    while True:\n        for i in range(0,5):\n            if self.rbtnMan.isChecked():\n                if self.rbtnAuto.isChecked():\n                    self.manual_sema.acquire()\n                    self.auto_sema.release()\n                    break\n                self._tx_freq1_line_edit.setEnabled(1)\n                self._tx_freq2_line_edit.setEnabled(1)\n                self._tx_freq3_line_edit.setEnabled(1)\n                self._tx_freq4_line_edit.setEnabled(1)\n                self._tx_freq5_line_edit.setEnabled(1)\n                frec = 'self._tx_freq'+str(i+1)+'_line_edit.text()'\n                efrec = float(eval(frec))\n                self.lblTx1.setText(str(efrec-0.4))\n                self.lblTx2.setText(str(efrec))\n                self.lblTx3.setText(str(efrec+0.4))\n                #print frec\n                print efrec\n                print threading.currentThread().getName()\n                for th in threading.enumerate():\n                    print th\n                time.sleep(1)\n\nmanual_thread = threading.Thread(target=Exec_Manual, name='manual_thread')\nmanual_thread.daemon = True\nmanual_thread.start()\n\n#Function B.\n\ndef Exec_Auto():  \n    while True:\n        for i in range(0,17):\n            if self.rbtnAuto.isChecked():\n                if self.rbtnMan.isChecked():\n                    self.auto_sema.acquire()\n                    self.manual_sema.release()\n                    break\n                self._tx_freq1_line_edit.setDisabled(1)\n                self._tx_freq2_line_edit.setDisabled(1)\n                self._tx_freq3_line_edit.setDisabled(1)\n                self._tx_freq4_line_edit.setDisabled(1)\n                self._tx_freq5_line_edit.setDisabled(1)\n                frec0=88.5\n                x=i*1.2\n                efrec = float(frec0)+x\n                print efrec\n                print threading.currentThread().getName()#Debug\n                for th in threading.enumerate():\n                    print th\n                self.lblTx1.setText(str(efrec-0.4))\n                self.lblTx2.setText(str(efrec))\n                self.lblTx3.setText(str(efrec+0.4))\n                time.sleep(1)\n                frec0=frec0+1.2\n\nauto_thread = threading.Thread(target=Exec_Auto, name='auto_thread')\nauto_thread.daemon = True\nauto_thread.start()\n</code></pre>\n\n<p>Both auto_thread and manual_thread seem to continue executing since <code>threading.enumerate()</code> keeps showing them active (I expect one them to dissapear when the other function's radio button is checked and re start when their own radio button is checked again):</p>\n\n<pre><code>&lt;_MainThread(MainThread, started 140030203459328)&gt;\n&lt;Thread(manual_thread, started daemon 140029502768896)&gt;\n&lt;Thread(auto_thread, started daemon 140029154293504)&gt;\n</code></pre>\n\n<p>In the answer given by Jay <a href=\"https://stackoverflow.com/questions/19072608/python-is-it-possible-to-stop-or-pause-a-thread\">here</a>, I can see that he is creating classes that inherite from <code>thread</code> and putting the functions inside those classes. \u00bfmay that be what needs to be done to obtain the behavior I'm expecting? \u00bfcan you provide some ideas on how to get my code to work as I expect? as always, thanks in advance. </p>\n\n<p>Regards,\nRon</p>\n"}, {"tags": ["python", "html"], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 7661057, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b48b40d782b71a562d242f3e1904437a?s=128&d=identicon&r=PG&f=1", "display_name": "Rekt", "link": "https://stackoverflow.com/users/7661057/rekt"}, "edited": false, "score": 0, "creation_date": 1490394239, "post_id": 42963281, "comment_id": 73109760, "body": "&lt;div class=&quot;p2c-form-group&quot;&gt;                             &lt;label for=&quot;remove&quot;&gt;Remove an SKU&lt;/label&gt;                             &lt;input type=&quot;radio&quot; name=&quot;Radio&quot; val=&quot;remove&quot;&gt;"}], "tags": [], "owner": {"reputation": 952, "user_id": 5505161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c62b36b7d0f6241b61ef9e9a671240a5?s=128&d=identicon&r=PG&f=1", "display_name": "lordingtar", "link": "https://stackoverflow.com/users/5505161/lordingtar"}, "is_accepted": false, "score": 0, "last_activity_date": 1490219287, "creation_date": 1490219287, "answer_id": 42963281, "question_id": 42963139, "link": "https://stackoverflow.com/questions/42963139/html-and-python-radio-button-choice-then-redirect/42963281#42963281", "title": "HTML and Python - Radio Button Choice then Redirect", "body": "<p>You can use <code>request.form</code> in python, without even creating an if-else block</p>\n\n<pre><code>def x():\n    var = request.form[\"Radio\"]\n    return render_template(\"%s.html\" % var, selected=\"home\")\n</code></pre>\n\n<p>Make sure to set the name of radio buttons. If you only want the user to select one of the radio buttons, set them to the same name</p>\n\n<pre><code>&lt;input type=\"radio\" name=\"Radio\" val=\"select\"&gt;\n&lt;input type=\"radio\" name=\"Radio\" val=\"show\"&gt;\n</code></pre>\n\n<p>This will ensure that only one of those buttons can be selected</p>\n"}], "owner": {"reputation": 319, "user_id": 7661057, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b48b40d782b71a562d242f3e1904437a?s=128&d=identicon&r=PG&f=1", "display_name": "Rekt", "link": "https://stackoverflow.com/users/7661057/rekt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490219287, "creation_date": 1490218756, "question_id": 42963139, "link": "https://stackoverflow.com/questions/42963139/html-and-python-radio-button-choice-then-redirect", "title": "HTML and Python - Radio Button Choice then Redirect", "body": "<p>I want my app when I click the radio button of choice, it will redirect me to the page that I want it to, here's my code:</p>\n\n<pre><code>@app.route('/',  methods=['GET', 'POST'])\ndef main():\n    if request.method == 'GET': #html radio form\n        return render_template('home.html', selected = \"home\")\n</code></pre>\n\n<p>then my HTML file:</p>\n\n<pre><code>&lt;h2&gt;What do you want to do?&lt;/h2&gt;\n\n&lt;form method = \"GET\"&gt;\n\n&lt;form class=\"p2c-form\"&gt;\n                    &lt;fieldset&gt;\n                        &lt;div class=\"p2c-form-group\"&gt;\n                            &lt;label for=\"show\"&gt;Show all SKU&lt;/label&gt;\n                            &lt;input id=\"show\" type=\"radio\"&gt;\n                        &lt;/div&gt;\n\n                        &lt;div class=\"p2c-form-group\"&gt;\n                            &lt;label for=\"add\"&gt;Add an SKU&lt;/label&gt;\n                            &lt;input id=\"add\" type=\"radio\"&gt;\n                        &lt;/div&gt;\n\n                        &lt;div class=\"p2c-form-group\"&gt;\n                            &lt;label for=\"remove\"&gt;Remove an SKU&lt;/label&gt;\n                            &lt;input id=\"remove\" type=\"radio\"&gt;\n                        &lt;/div&gt;\n\n                        &lt;div class=\"p2c-form-group\"&gt;\n                            &lt;label for=\"insert\"&gt;Insert an SKU&lt;/label&gt;\n                            &lt;input id=\"insert\" type=\"radio\"&gt;\n                        &lt;/div&gt;\n\n                        &lt;div class=\"p2c-form-group\"&gt;\n                            &lt;label for=\"forecast\"&gt;Use forecaster&lt;/label&gt;\n                            &lt;input id=\"forecast\" type=\"radio\" &gt;\n                        &lt;/div&gt;\n\n\n\n                            &lt;button type=\"submit\" class=\"p2c-button\" value = \"p2cbtn\"&gt;Submit&lt;/button&gt;\n                        &lt;/div&gt;\n                    &lt;/fieldset&gt;\n                &lt;/form&gt;\n</code></pre>\n\n<p>How do I if-else the value of these buttons so that when the user chooses the radio button then clicks \"submit\", he would be redirected to the assigned page. Do I if-else within the HTML(using &lt;%%>? or in Python(using request.form['']?  How do I approach this problem?</p>\n"}, {"tags": ["python", "python-2.7", "python-import", "python-2.6", "python-module"], "comments": [{"owner": {"reputation": 171, "user_id": 5971855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UAKeO.jpg?s=128&g=1", "display_name": "ryugie", "link": "https://stackoverflow.com/users/5971855/ryugie"}, "edited": false, "score": 1, "creation_date": 1490219316, "post_id": 42963120, "comment_id": 73020642, "body": "what does your code look like? modules generally don&#39;t run on their own when you import them..."}, {"owner": {"reputation": 15, "user_id": 5298277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02834c2749d360f56d0ace4c72b5624?s=128&d=identicon&r=PG&f=1", "display_name": "A.Alakbarov", "link": "https://stackoverflow.com/users/5298277/a-alakbarov"}, "reply_to_user": {"reputation": 171, "user_id": 5971855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UAKeO.jpg?s=128&g=1", "display_name": "ryugie", "link": "https://stackoverflow.com/users/5971855/ryugie"}, "edited": false, "score": 0, "creation_date": 1490219544, "post_id": 42963120, "comment_id": 73020747, "body": "it just contains three of functions."}], "answers": [{"comments": [{"owner": {"reputation": 150, "user_id": 7420421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d2240496ddd4211f67244ccd62d76c9?s=128&d=identicon&r=PG&f=1", "display_name": "User9123", "link": "https://stackoverflow.com/users/7420421/user9123"}, "edited": false, "score": 0, "creation_date": 1490220237, "post_id": 42963416, "comment_id": 73021045, "body": "PS: I used the python3 syntax, the only difference with python2 here concern the <code>print</code>: use <code>print &quot;foo called&quot;</code> instead of <code>print(&quot;foo called&quot;)</code> to make it work under python2"}], "tags": [], "owner": {"reputation": 150, "user_id": 7420421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d2240496ddd4211f67244ccd62d76c9?s=128&d=identicon&r=PG&f=1", "display_name": "User9123", "link": "https://stackoverflow.com/users/7420421/user9123"}, "is_accepted": true, "score": 0, "last_activity_date": 1490219894, "creation_date": 1490219894, "answer_id": 42963416, "question_id": 42963120, "link": "https://stackoverflow.com/questions/42963120/module-import-in-python-2-x-x/42963416#42963416", "title": "Module import in Python 2.x.x", "body": "<p>The code inside the <code>if __name__ == \"__main__\"</code> is executed only when you run directly that programm and is ignored otherwise.<br>\nThe rest of the code is executed all the time.</p>\n\n<p>The correct way to organize your code is to declare every attribute (function, constant, class...) before the <code>if __name__ == \"__main__\"</code>, and then you put the code that run the program. Here is the structure :</p>\n\n<pre><code># only \"passive\" code until the __name__==\"__main__\"\n\n# could be importation...\nimport sys\n\n# ...global variables\nversion = 42\n\n# ...or functions\ndef foo(x):\n    print(\"foo called\")\n\ndef bar(x):\n    print(\"bar called\")\n    return x + 1\n\nif __name__ == \"__main__\":\n    # start the effective code here\n\n    print(\"program running\")\n    print(\"version :\", version)\n    foo()\n    n = bar(2)\n    print(n)\n</code></pre>\n\n<p>you could also define a function to call at the end</p>\n\n<pre><code>...\n\ndef main():\n    print(\"program running\")\n    print(\"version :\", version)\n    foo()\n    n = bar(2)\n    print(n)\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5298277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02834c2749d360f56d0ace4c72b5624?s=128&d=identicon&r=PG&f=1", "display_name": "A.Alakbarov", "link": "https://stackoverflow.com/users/5298277/a-alakbarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 42963416, "answer_count": 1, "score": 0, "last_activity_date": 1490219894, "creation_date": 1490218671, "question_id": 42963120, "link": "https://stackoverflow.com/questions/42963120/module-import-in-python-2-x-x", "title": "Module import in Python 2.x.x", "body": "<p>I want to use my previous program as a module. But when I import that program, program runs automatically. I do not want to run program. I just want to import that program in to my new program as a module that I use functions or variables from that module. I tried to add  this line <code>if __name__ == \"__main__\"</code>. But it did not work also. How can I prevent this action?(I am using python2.x.x)</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 2475110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ad35e7829a49f2bbb873b0aa51bd10c?s=128&d=identicon&r=PG", "display_name": "user2475110", "link": "https://stackoverflow.com/users/2475110/user2475110"}, "edited": false, "score": 0, "creation_date": 1490219028, "post_id": 42963146, "comment_id": 73020507, "body": "Fab ! That&#39;s great solution. Would something also work with .map()? Just curious."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 353, "user_id": 2475110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ad35e7829a49f2bbb873b0aa51bd10c?s=128&d=identicon&r=PG", "display_name": "user2475110", "link": "https://stackoverflow.com/users/2475110/user2475110"}, "edited": false, "score": 0, "creation_date": 1490219272, "post_id": 42963146, "comment_id": 73020627, "body": "@user2475110 Not really familiar with <code>map</code> based methods. I prefer vectorized methods :)"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1490218786, "creation_date": 1490218786, "answer_id": 42963146, "question_id": 42963097, "link": "https://stackoverflow.com/questions/42963097/conditional-transform-of-a-series-subset-in-pandas/42963146#42963146", "title": "Conditional transform of a Series subset in Pandas", "body": "<p>One approach -</p>\n\n<pre><code>df.loc[(df.number &lt; 30) &amp; (df.color != 'blue'),'color'] = False\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [409]: df\nOut[409]: \n   number  color\n0      10   blue\n1      15    red\n2      25  green\n3      35   blue\n4      15   pink\n5      30  green\n6       5    red\n7      20   blue\n8      50    red\n\nIn [410]: df.loc[(df.number &lt; 30) &amp; (df.color != 'blue'),'color'] = False\n\nIn [411]: df\nOut[411]: \n   number  color\n0      10   blue\n1      15  False\n2      25  False\n3      35   blue\n4      15  False\n5      30  green\n6       5  False\n7      20   blue\n8      50    red\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6392565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50e0dab3c588da746b9fcbbd4e1bee73?s=128&d=identicon&r=PG&f=1", "display_name": "Chief", "link": "https://stackoverflow.com/users/6392565/chief"}, "is_accepted": false, "score": 1, "last_activity_date": 1490227738, "creation_date": 1490227738, "answer_id": 42964939, "question_id": 42963097, "link": "https://stackoverflow.com/questions/42963097/conditional-transform-of-a-series-subset-in-pandas/42964939#42964939", "title": "Conditional transform of a Series subset in Pandas", "body": "<p>Instead of map, you can use \"apply\".  Apply runs the function on each row.</p>\n\n<pre><code>def mod_color(row) : \n    if row.number &lt; 30 and row.color != 'blue': \n        row.color = False\n    return row\n\ndf.apply(mod_color, axis=1)\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 2475110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ad35e7829a49f2bbb873b0aa51bd10c?s=128&d=identicon&r=PG", "display_name": "user2475110", "link": "https://stackoverflow.com/users/2475110/user2475110"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 42963146, "answer_count": 2, "score": 2, "last_activity_date": 1490227738, "creation_date": 1490218597, "last_edit_date": 1490219278, "question_id": 42963097, "link": "https://stackoverflow.com/questions/42963097/conditional-transform-of-a-series-subset-in-pandas", "title": "Conditional transform of a Series subset in Pandas", "body": "<p>What is the cleanest way to do the following transformation in Pandas (Python) :</p>\n\n<pre><code>number   color\n 10      blue\n 15      red\n 25      green\n 35      blue\n 15      pink\n 30      green\n  5      red\n 20      blue\n 50      red\n</code></pre>\n\n<p>into </p>\n\n<pre><code>number   color\n 10      blue\n 15      FALSE\n 25      FALSE\n 35      blue\n 15      FALSE\n 30      green\n  5      FALSE\n 20      blue\n 50      red\n</code></pre>\n\n<p>Essentially, I'd like to change all colors whose number is &lt; 30 but that rule only applies if the color IS NOT blue.</p>\n\n<p>Thanks !</p>\n"}, {"tags": ["javascript", "python", "html"], "comments": [{"owner": {"reputation": 15907, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1490221466, "post_id": 42963075, "comment_id": 73021558, "body": "What&#39;s the path of your script? Do you see any errors in your browser&#39;s console?"}, {"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1490225921, "post_id": 42963075, "comment_id": 73023335, "body": "&quot;the buttons do not seem to work&quot;? How?"}], "owner": {"reputation": 1, "user_id": 7753708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92248353e3f2e2d7414da96bd890e7b8?s=128&d=identicon&r=PG&f=1", "display_name": "Nikkkki", "link": "https://stackoverflow.com/users/7753708/nikkkki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490228987, "creation_date": 1490218510, "last_edit_date": 1490228987, "question_id": 42963075, "link": "https://stackoverflow.com/questions/42963075/running-html-javascript-code-using-cgi-bin-and-python", "title": "Running HTML/JavaScript code using CGI-Bin and Python", "body": "<p>I have two buttons that both require a call to CGI scripts in the CGI-Bin. Using simple xmlhttp in html I was able to call the scripts and have it working. However I copied my exact code, but this time using python and printing the HTML as seen below. However the buttons do not seem to work when been clicked... Do I need to do something differently?</p>\n\n<pre><code>   #!/usr/bin/python\n   # enable debugging\n   import cgi\n   import cgitb\n   cgitb.enable()\n   print \"Content-Type: text/html;charset=utf-8\"\n   print\n   print '''&lt;!DOCTYPE html&gt;\n   ******More code and stuff******\n   &lt;h2&gt;Change Status of Door&lt;/h2&gt;\n   &lt;button style=\"height: 50px; width: 100px\" onclick=\"lock()\"&gt;Lock&lt;/button&gt;\n   &lt;button style=\"height: 50px; width: 100px\" onclick=\"unlock()\"&gt;Unlock&lt;/button&gt;\n\n   &lt;script type=\"text/javascript\"&gt;\n   var xmlhttp;\n   xmlhttp=new XMLHttpRequest();\n\n   function lock()\n       {\n           xmlhttp.open(\"GET\",\"cgi-bin/lock.cgi\",true);\n           xmlhttp.send();\n       }\n   function unlock()\n       {\n           xmlhttp.open(\"GET\",\"cgi-bin/unlock.cgi\",true);\n           xmlhttp.send();\n       }\n   &lt;/script&gt;\n   '''\n   print '''\n   &lt;/body&gt;\n   &lt;/html&gt;'''\n</code></pre>\n"}, {"tags": ["python", "svn", "github", "auto-update"], "comments": [{"owner": {"reputation": 377, "user_id": 5875681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e3fb5a19237f8e63f6d208993446fe8?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Melbourne", "link": "https://stackoverflow.com/users/5875681/lee-melbourne"}, "edited": false, "score": 0, "creation_date": 1490225741, "post_id": 42963066, "comment_id": 73023292, "body": "After a bit more research I am thinking a simple wget to fetch a zip and then use something like &quot;sudo unzip sourcecode.zip -d /destination/dir&quot;. These could be called via os command from python. A list of SQL commands in a pickled list could also be downloaded and run first. Any thoughts on that approach?"}], "answers": [{"tags": [], "owner": {"reputation": 377, "user_id": 5875681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e3fb5a19237f8e63f6d208993446fe8?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Melbourne", "link": "https://stackoverflow.com/users/5875681/lee-melbourne"}, "is_accepted": true, "score": 0, "last_activity_date": 1497863828, "creation_date": 1497863828, "answer_id": 44626580, "question_id": 42963066, "link": "https://stackoverflow.com/questions/42963066/how-to-auto-update-code-via-python/44626580#44626580", "title": "How to auto update code via python", "body": "<p>As per the comments I eventually managed to get this to work using urllib.urlretrieve to download a zip and then use zipfile to unzip and overwrite.</p>\n"}], "owner": {"reputation": 377, "user_id": 5875681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e3fb5a19237f8e63f6d208993446fe8?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Melbourne", "link": "https://stackoverflow.com/users/5875681/lee-melbourne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 44626580, "answer_count": 1, "score": 0, "last_activity_date": 1497863828, "creation_date": 1490218468, "last_edit_date": 1490239004, "question_id": 42963066, "link": "https://stackoverflow.com/questions/42963066/how-to-auto-update-code-via-python", "title": "How to auto update code via python", "body": "<p>I have an application written in Python which runs on RPi. I want it to auto update itself by downloading the latest code into the directory where it is installed...which may vary from user to user. It will also need to run a SQL script on occasion. What is the best approach for this? How do I ensure the code downloads to the right directory?</p>\n\n<p>GitHub tutorials I have seen are focused on updating the central repository. I want the reverse to occur. Is git the best tool or would SVN or a simple HTTP download from my site be better?</p>\n"}, {"tags": ["python", "python-3.x", "lowercase"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 5, "creation_date": 1490218616, "post_id": 42963063, "comment_id": 73020322, "body": "What do you expect the <code>line</code> in <code>line.lower(first[0]+last[:7])</code> to actually mean/do?"}, {"owner": {"reputation": 1, "user_id": 7753700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebd1b9b9646bb60304bb9cecc8f613b?s=128&d=identicon&r=PG&f=1", "display_name": "four chan", "link": "https://stackoverflow.com/users/7753700/four-chan"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1490218933, "post_id": 42963063, "comment_id": 73020470, "body": "i want to get the first letter from the first name and get the last name till the index 7 so if the name first name is four and last name is chan the result will be fchan"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1490218979, "post_id": 42963063, "comment_id": 73020488, "body": "Yes, but that tells what you&#39;re doing with <code>first</code> and <code>last</code>, not what you&#39;re doing with the variable named <code>line</code>. Why is it part of the command <code>line.lower(first[0]+last[:7])</code>?"}, {"owner": {"reputation": 1, "user_id": 7753700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebd1b9b9646bb60304bb9cecc8f613b?s=128&d=identicon&r=PG&f=1", "display_name": "four chan", "link": "https://stackoverflow.com/users/7753700/four-chan"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1490219342, "post_id": 42963063, "comment_id": 73020658, "body": "the line variable with the help of the loop goes through each line in the file   then using the split function it splits the first name and the last name and the line that is giving the error is basically to genrate the user name"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1490219417, "post_id": 42963063, "comment_id": 73020682, "body": "Yes, but what does that variable mean <b>on that specific line</b>? Why are you including it there? Obviously, I know what it means syntactically. I&#39;m trying to tease out your reasoning."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1490219566, "post_id": 42963063, "comment_id": 73020763, "body": "To put it a different way: Yes, you&#39;re splitting the <code>line</code> variable into two different pieces. Why are you then referencing the <b>original</b>, <i>unsplit</i> variable when you&#39;re trying to combine and lower-case the pieces?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1490219795, "post_id": 42963063, "comment_id": 73020850, "body": "I think you need to keep reading whatever tutorial you&#39;re using."}], "answers": [{"comments": [{"owner": {"reputation": 952, "user_id": 5505161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c62b36b7d0f6241b61ef9e9a671240a5?s=128&d=identicon&r=PG&f=1", "display_name": "lordingtar", "link": "https://stackoverflow.com/users/5505161/lordingtar"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1490218895, "post_id": 42963093, "comment_id": 73020457, "body": "@ShadowRanger thanks for the edit, didn&#39;t notice it was python 3"}], "tags": [], "owner": {"reputation": 952, "user_id": 5505161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c62b36b7d0f6241b61ef9e9a671240a5?s=128&d=identicon&r=PG&f=1", "display_name": "lordingtar", "link": "https://stackoverflow.com/users/5505161/lordingtar"}, "is_accepted": false, "score": 0, "last_activity_date": 1490218850, "last_edit_date": 1490218850, "creation_date": 1490218568, "answer_id": 42963093, "question_id": 42963063, "link": "https://stackoverflow.com/questions/42963063/lower-fuction-does-not-take-arguments/42963093#42963093", "title": "lower() fuction does not take arguments", "body": "<p>The lower function does not work that way. If you want to convert text to lowercase in python, you will have to do the following:</p>\n\n<pre><code>string1 = \"ABCDEFG\"\nstring2 = string1.lower()\nprint(string2) # prints abcdefg\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": false, "score": 2, "last_activity_date": 1490219126, "creation_date": 1490219126, "answer_id": 42963228, "question_id": 42963063, "link": "https://stackoverflow.com/questions/42963063/lower-fuction-does-not-take-arguments/42963228#42963228", "title": "lower() fuction does not take arguments", "body": "<p>Correctly written, the pertinent line might look like:</p>\n\n<pre><code>uname = (first[0]+last[:7]).lower()\n</code></pre>\n\n<p>...or, more verbosely:</p>\n\n<pre><code>uname_unknown_case = first[0]+last[:7]\nuname = uname_unknown_case.lower()\n</code></pre>\n\n<p>Notably, the string to be used as input is <em>the object on which the method is called</em>; there are, as the error message says, no other arguments.</p>\n"}], "owner": {"reputation": 1, "user_id": 7753700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebd1b9b9646bb60304bb9cecc8f613b?s=128&d=identicon&r=PG&f=1", "display_name": "four chan", "link": "https://stackoverflow.com/users/7753700/four-chan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1490229155, "creation_date": 1490218449, "last_edit_date": 1490229155, "question_id": 42963063, "link": "https://stackoverflow.com/questions/42963063/lower-fuction-does-not-take-arguments", "title": "lower() fuction does not take arguments", "body": "<pre><code>def main():\n\n    print(\"this program creates a file of usernames from a \")\n    print(\"files of names \")\n    # get the file names\n\n    infilename = input(\"what files are the name in\")\n    outfilename = input(\"what file should the usernames go in\")\n    # open the files\n\n    infile = open(infilename,'r')\n    outfile = open(outfilename,'w')\n    # process each line of the input file\n    for line in infile.readlines():\n        # get the first and last names from line\n        first, last = line.split()\n        # create the username\n        uname = line.lower(first[0]+last[:7])\n        # write it to the output file\n        outfile.write(uname+'\\n')\n    # close both files\n    infile.close()\n    outfile.close()\n\n    print(\"usernames have been written to : \", outfilename)\n\nmain()\n</code></pre>\n\n<p>I am trying to write a program that takes a bunch of first names and last names from a file and then print a usernames from that which is combination of the first letter from the first name and rest from the last name. Example: <code>alex</code> <code>doug</code> will be <code>adoug</code>.  </p>\n\n<p>The python interpreter show an error on <code>uname = line.lower(first[0]+last[:7])</code>.  </p>\n\n<p><code>TypeError lower() takes no arguments (1 given)</code></p>\n\n<p>Is there any way around this error  or is there  any  other way to do it?</p>\n"}, {"tags": ["python", "flask"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 7695268, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c7ed3457a58ffe3ff783527c2a32df6f?s=128&d=identicon&r=PG&f=1", "display_name": "nasan", "link": "https://stackoverflow.com/users/7695268/nasan"}, "edited": false, "score": 0, "creation_date": 1490224910, "post_id": 42963852, "comment_id": 73023014, "body": "Thanks.  I got it to work from your suggestion.  Return values then put the functions into variables and call them in render_template.  Cheers."}], "tags": [], "owner": {"reputation": 2996, "user_id": 6085135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lHKnG.png?s=128&g=1", "display_name": "brennan", "link": "https://stackoverflow.com/users/6085135/brennan"}, "is_accepted": true, "score": 1, "last_activity_date": 1490224877, "last_edit_date": 1490224877, "creation_date": 1490221789, "answer_id": 42963852, "question_id": 42962999, "link": "https://stackoverflow.com/questions/42962999/flask-one-page-3-functions-can-only-get-1-function-to-print-to-webpage/42963852#42963852", "title": "Flask: one page, 3 functions - can only get 1 function to print to webpage", "body": "<p>Here's a quick example, one way would be to simplify the scraper function(s) so they just return lists, then add args to <code>render_template()</code>:</p>\n\n<pre><code>from flask import Flask, render_template\nimport bs4 as bs\nimport urllib.request\n\napp = Flask(__name__)\n\ndef get_ads(url):\n    \"\"\" This function returns a list of tuples. \"\"\"\n    terms = ['universit', 'college']\n    sauce = urllib.request.urlopen(url).read()  #\n    soup = bs.BeautifulSoup(sauce, 'html.parser')\n    ads = []\n    for words in soup.dl.find_all('a'):\n        links = words.get('href')\n        link_text = words.text\n        if any(x in link_text.lower() for x in terms):\n            ads.append(tuple([links, link_text]))\n    return ads\n\n# call functions here when the app starts\nchina = get_ads('http://www.example.com/jobs/china/')\nkorea = get_ads('http://www.example.com/jobs/korea/')\njobs = get_ads('http://www.example.com/joblist/')\n\n@app.route('/')\ndef index():\n    # or call functions here each time a page is requested\n\n    return render_template(\"index.html\", china=china, korea=korea, jobs=jobs)\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>&lt;ul class=\"list-group col-md-4\" style=\"padding-left: 18px;\"&gt;\n    {% for href, caption in china %}\n      &lt;li class=\"list-group-item\"&gt;&lt;a href=\"{{ href }}\"&gt;{{ caption }}&lt;/a&gt;&lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n&lt;ul class=\"list-group col-md-4\" style=\"padding-left: 18px;\"&gt;\n    {% for href, caption in korea %}\n      &lt;li class=\"list-group-item\"&gt;&lt;a href=\"{{ href }}\"&gt;{{ caption }}&lt;/a&gt;&lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n&lt;ul class=\"list-group col-md-4\" style=\"padding-left: 18px;\"&gt;\n    {% for href, caption in jobs %}\n      &lt;li class=\"list-group-item\"&gt;&lt;a href=\"{{ href }}\"&gt;{{ caption }}&lt;/a&gt;&lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 7695268, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c7ed3457a58ffe3ff783527c2a32df6f?s=128&d=identicon&r=PG&f=1", "display_name": "nasan", "link": "https://stackoverflow.com/users/7695268/nasan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 42963852, "answer_count": 1, "score": 2, "last_activity_date": 1490224877, "creation_date": 1490218230, "last_edit_date": 1490218621, "question_id": 42962999, "link": "https://stackoverflow.com/questions/42962999/flask-one-page-3-functions-can-only-get-1-function-to-print-to-webpage", "title": "Flask: one page, 3 functions - can only get 1 function to print to webpage", "body": "<p>I have a program with three functions.  Each function scrapes data from a different webpage, saves it to a list, and prints the list. </p>\n\n<p>I ran this in Terminal, and it works.</p>\n\n<p>I want to print these lists onto a single webpage.</p>\n\n<p>I can get one function to print, but I don't know how to put multiple functions into flask.</p>\n\n<p>Heres what works:</p>\n\n<blockquote>\n  <p>.py file</p>\n</blockquote>\n\n<pre><code>from flask import Flask, render_template    \nimport bs4 as bs\nimport urllib.request\n\napp = Flask(__name__)\n\n@app.route('/')\ndef chinaAds():\n\n    sauce = urllib.request.urlopen('http://www.eslcafe.com/jobs/china/').read()\n    soup = bs.BeautifulSoup(sauce, 'html.parser')\n    dl = soup.dl\n    chinaAds = []\n    china = []\n\n    for words in dl.find_all('a'):\n        links = words.get('href')\n        link_text = words.text\n\n        if ('university' in link_text.lower()) or ('universities' in link_text.lower()) or ('college' in link_text.lower()) or ('colleges' in link_text.lower()):\n            chinaAds.append([links, link_text])\n\n    for ad in chinaAds:\n        china.append(tuple(ad))\n    return render_template(\"eslJobs.html\", china=china) \n</code></pre>\n\n<blockquote>\n  <p>This is how I print in my .html file</p>\n</blockquote>\n\n<pre><code>&lt;ul class=\"list-group col-md-4\" style=\"padding-left: 18px;\"&gt;\n{% for href, caption in china %}\n  &lt;li class=\"list-group-item\"&gt;&lt;a href=\"{{ href }}\"&gt;{{ caption }}&lt;/a&gt;&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre>\n\n<blockquote>\n  <p>Stuff I want to add to .py file</p>\n</blockquote>\n\n<p>The two functions I want to add are the same as the first just with different variables and they scrape from different webpages</p>\n\n<pre><code>def koreaJobs():\n    sauce = urllib.request.urlopen('http://www.eslcafe.com/jobs/korea/').read()\n    soup = bs.BeautifulSoup(sauce, 'html.parser')\n    dl = soup.dl\n    koreaAds = []\n    korea []\n\n    for words in dl.find_all('a'):\n        links = words.get('href')\n        link_text = words.text\n\n        if ('university' in link_text.lower()) or ('universities' in link_text.lower()) or ('college' in link_text.lower()) or ('colleges' in link_text.lower()):\n            koreaAds.append([links, link_text])\n\n    for ad in koreaAds:\n        korea.append(tuple(ad))\n    return render_template(\"eslJobs.html\", korea=korea)\n\ndef intlJobs():\n    sauce = urllib.request.urlopen('http://www.eslcafe.com/joblist/').read()\n    soup = bs.BeautifulSoup(sauce, 'html.parser')\n    dl = soup.dl\n    intlAds = []\n    intl = []\n\n    for words in dl.find_all('a'):\n        links = words.get('href')\n        link_text = words.text\n\n        if ('university' in link_text.lower()) or ('universities' in link_text.lower()) or ('college' in link_text.lower()) or ('colleges' in link_text.lower()):\n            intlAds.append([links, link_text])\n\n    for ad in intlAds:\n        intl.append(tuple(ad))\n    return render_template(\"eslJobs.html\", intl=intl)\n</code></pre>\n\n<p>I will print the data from these functions in two new lists in my .html page</p>\n"}, {"tags": ["python", "function", "spyder"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7258733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e91456ee505cfbb667ed5fd878de4c4f?s=128&d=identicon&r=PG&f=1", "display_name": "user7258733", "link": "https://stackoverflow.com/users/7258733/user7258733"}, "edited": false, "score": 0, "creation_date": 1490228495, "post_id": 42963115, "comment_id": 73024113, "body": "Thank you for the feedback I will try it out"}], "tags": [], "owner": {"reputation": 135, "user_id": 4317630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e97837a7e3c1ba0c82430b3fc98265f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lang", "link": "https://stackoverflow.com/users/4317630/alex-lang"}, "is_accepted": false, "score": 0, "last_activity_date": 1490218662, "creation_date": 1490218662, "answer_id": 42963115, "question_id": 42962995, "link": "https://stackoverflow.com/questions/42962995/python-importing-my-custom-script-in-spyder-to-use-with-another-script/42963115#42963115", "title": "Python : Importing my custom script in Spyder to use with another script", "body": "<p>have you tried </p>\n\n<pre><code>import sys\nsys.path.append('path/to/test.py')\nimport test\n</code></pre>\n\n<p>if you want to <code>import test</code> inside of another script, the most sure-fire method is to just have both scripts in the same directory</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7258733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e91456ee505cfbb667ed5fd878de4c4f?s=128&d=identicon&r=PG&f=1", "display_name": "user7258733", "link": "https://stackoverflow.com/users/7258733/user7258733"}, "is_accepted": false, "score": 1, "last_activity_date": 1490230493, "creation_date": 1490230493, "answer_id": 42965330, "question_id": 42962995, "link": "https://stackoverflow.com/questions/42962995/python-importing-my-custom-script-in-spyder-to-use-with-another-script/42965330#42965330", "title": "Python : Importing my custom script in Spyder to use with another script", "body": "<p>Thank you Alex yeah the problem was I was not working in the same directory as the package I made so I opened up the command prompt in Spyder, went into the correct directory and was able to import/install it with no issues!!!</p>\n"}], "owner": {"reputation": 11, "user_id": 7258733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e91456ee505cfbb667ed5fd878de4c4f?s=128&d=identicon&r=PG&f=1", "display_name": "user7258733", "link": "https://stackoverflow.com/users/7258733/user7258733"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1081, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1490230493, "creation_date": 1490218193, "question_id": 42962995, "link": "https://stackoverflow.com/questions/42962995/python-importing-my-custom-script-in-spyder-to-use-with-another-script", "title": "Python : Importing my custom script in Spyder to use with another script", "body": "<p>Hello everyone I am learning Python. While using Spyder I finished writing my own function (test.py) I saved the script in a new folder. In Spyder I made sure to change my working directory to where the test.py is located as well as the PYTHON PATH. Now when I try to import test  it says in the console that there are no modules named 'test'.  Any help will be appreciated thank you</p>\n"}, {"tags": ["python", "pandas", "aggregate", "grouping"], "answers": [{"comments": [{"owner": {"reputation": 3543, "user_id": 332048, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c66e54f356768a38fab6119943cf4bd9?s=128&d=identicon&r=PG", "display_name": "MindJuice", "link": "https://stackoverflow.com/users/332048/mindjuice"}, "edited": false, "score": 0, "creation_date": 1490218822, "post_id": 42963064, "comment_id": 73020421, "body": "Thanks, that works to give me the right columns, but generating CSV just gives me a single line with the text: <code>Time</code> with none of the data.  I&#39;m using <code>csv_out = StringIO()   df.to_csv(csv_out)</code>"}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "reply_to_user": {"reputation": 3543, "user_id": 332048, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c66e54f356768a38fab6119943cf4bd9?s=128&d=identicon&r=PG", "display_name": "MindJuice", "link": "https://stackoverflow.com/users/332048/mindjuice"}, "edited": false, "score": 0, "creation_date": 1490218906, "post_id": 42963064, "comment_id": 73020463, "body": "How are you generating the csv? <code>df.set_index(&quot;Time&quot;).pipe(lambda x: x.groupby(x.columns, axis=1).sum()).reset_index().to_csv(&quot;somefile&quot;)</code>? Notice when you run the above line, <code>df</code> is not modified, you need to call <code>to_csv</code> on the new data frame after this line."}, {"owner": {"reputation": 3543, "user_id": 332048, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c66e54f356768a38fab6119943cf4bd9?s=128&d=identicon&r=PG", "display_name": "MindJuice", "link": "https://stackoverflow.com/users/332048/mindjuice"}, "edited": false, "score": 0, "creation_date": 1490219148, "post_id": 42963064, "comment_id": 73020556, "body": "The <code>reset_index()</code> was the missing bit.  It&#39;s working as I want now!  Thank you!"}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": false, "score": 2, "last_activity_date": 1490218455, "creation_date": 1490218455, "answer_id": 42963064, "question_id": 42962952, "link": "https://stackoverflow.com/questions/42962952/adding-multiple-columns-in-pandas/42963064#42963064", "title": "Adding multiple columns in pandas", "body": "<p>You can set <code>Time</code> as index:</p>\n\n<pre><code>df.set_index(\"Time\").pipe(lambda x: x.groupby(x.columns, axis=1).sum())\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/FzLcV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FzLcV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Call <code>reset_index</code> later, if you want it to be a column in the result.</p>\n"}, {"comments": [{"owner": {"reputation": 3543, "user_id": 332048, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c66e54f356768a38fab6119943cf4bd9?s=128&d=identicon&r=PG", "display_name": "MindJuice", "link": "https://stackoverflow.com/users/332048/mindjuice"}, "edited": false, "score": 0, "creation_date": 1490223783, "post_id": 42963244, "comment_id": 73022582, "body": "Thanks.  This is cleaner without the lambda."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 3543, "user_id": 332048, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c66e54f356768a38fab6119943cf4bd9?s=128&d=identicon&r=PG", "display_name": "MindJuice", "link": "https://stackoverflow.com/users/332048/mindjuice"}, "edited": false, "score": 0, "creation_date": 1490223850, "post_id": 42963244, "comment_id": 73022610, "body": "@MindJuice glad we could help!"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 3, "last_activity_date": 1490219152, "creation_date": 1490219152, "answer_id": 42963244, "question_id": 42962952, "link": "https://stackoverflow.com/questions/42962952/adding-multiple-columns-in-pandas/42963244#42963244", "title": "Adding multiple columns in pandas", "body": "<pre><code>df.set_index('Time').groupby(axis=1, level=0).sum().reset_index()\n\n               Time  AAA  BBB\n0  20161201 9:00:00   21   41\n1  20161201 9:00:01   21   41\n2  20161201 9:00:02   21   41\n</code></pre>\n"}], "owner": {"reputation": 3543, "user_id": 332048, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c66e54f356768a38fab6119943cf4bd9?s=128&d=identicon&r=PG", "display_name": "MindJuice", "link": "https://stackoverflow.com/users/332048/mindjuice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 42963244, "answer_count": 2, "score": 1, "last_activity_date": 1490219152, "creation_date": 1490218011, "question_id": 42962952, "link": "https://stackoverflow.com/questions/42962952/adding-multiple-columns-in-pandas", "title": "Adding multiple columns in pandas", "body": "<p>Just getting familiar with pandas and I'm having an issue with <code>groupby</code>.</p>\n\n<p>I have some CSV data that I've munged into the following format:</p>\n\n<p><code>Time, AAA, BBB, AAA, BBB\n20161201 9:00:00, 10, 20, 11, 21\n20161201 9:00:01, 10, 20, 11, 21\n20161201 9:00:02, 10, 20, 11, 21\n</code></p>\n\n<p>I want to transform it to the following:</p>\n\n<p><code>Time, AAA, BBB\n20161201 9:00:00, 21, 41\n20161201 9:00:01, 21, 41\n20161201 9:00:02, 21, 41\n</code></p>\n\n<p>I'm using the following:</p>\n\n<p><code>df.groupby(df.columns, axis=1).sum()</code></p>\n\n<p>What I get instead is:</p>\n\n<p><code>AAA, BBB, Time\n21, 41, 0.0\n21, 41, 0.0\n21, 41, 0.0\n</code></p>\n\n<ol>\n<li><p>How can I prevent pandas from summing the Time column?  I tried the following:</p>\n\n<p><code>df.groupby([c for c in df.columns if c != \"Time\"], axis=1).sum()</code></p>\n\n<p>but that gives the error:</p>\n\n<p><code>Grouper for 'AAA' not 1-dimensional</code></p></li>\n<li><p>How can I avoid pandas moving the Time column?</p></li>\n</ol>\n\n<p>If it matters, I combined two pandas DataFrames together to get the above data using:</p>\n\n<pre><code>df = pd.merge(df1, df2, how=\"outer\")\n</code></pre>\n\n<p>And then renamed some columns to shorten the names so I could group them.</p>\n"}, {"tags": ["python", "html", "mysql", "django", "database"], "comments": [{"owner": {"reputation": 4357, "user_id": 1125592, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e4d46a8d204b274a6e7ea6ea3598ba94?s=128&d=identicon&r=PG", "display_name": "James R", "link": "https://stackoverflow.com/users/1125592/james-r"}, "edited": false, "score": 0, "creation_date": 1490218638, "post_id": 42962938, "comment_id": 73020332, "body": "what version of django are you using?"}, {"owner": {"reputation": 11, "user_id": 7168072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51e00f61029884625d6b423ed7868048?s=128&d=identicon&r=PG&f=1", "display_name": "ProgramER", "link": "https://stackoverflow.com/users/7168072/programer"}, "reply_to_user": {"reputation": 4357, "user_id": 1125592, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e4d46a8d204b274a6e7ea6ea3598ba94?s=128&d=identicon&r=PG", "display_name": "James R", "link": "https://stackoverflow.com/users/1125592/james-r"}, "edited": false, "score": 0, "creation_date": 1490218791, "post_id": 42962938, "comment_id": 73020412, "body": "@JamesR I&#39;m using version &#39;1.10.5&#39;"}, {"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1490230639, "post_id": 42962938, "comment_id": 73024714, "body": "<code>ModelForm</code> creates a Form from a Model, which in your case is <code>User</code>. User model doesn&#39;t have <code>phone</code> or <code>address</code>."}], "answers": [{"tags": [], "owner": {"reputation": 374, "user_id": 4555568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TRdm0KpSF9k/AAAAAAAAAAI/AAAAAAAALXE/0PTm83RGi4Y/photo.jpg?sz=128", "display_name": "Sachiv Paruchuri", "link": "https://stackoverflow.com/users/4555568/sachiv-paruchuri"}, "is_accepted": false, "score": 0, "last_activity_date": 1490272466, "creation_date": 1490272466, "answer_id": 42976206, "question_id": 42962938, "link": "https://stackoverflow.com/questions/42962938/how-to-extend-django-user-default-models-database/42976206#42976206", "title": "How to extend django user default models database", "body": "<p>In order to extend <strong>User</strong> model try the following:</p>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>from django.contrib.auth.models import AbstractUser\n\nclass User(AbstractUser):\n    phone = models.CharField(max_length=255)\n    address = models.TextField()\n\n    def __unicode__(self):\n        return self.username\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7168072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51e00f61029884625d6b423ed7868048?s=128&d=identicon&r=PG&f=1", "display_name": "ProgramER", "link": "https://stackoverflow.com/users/7168072/programer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490272466, "creation_date": 1490217950, "question_id": 42962938, "link": "https://stackoverflow.com/questions/42962938/how-to-extend-django-user-default-models-database", "title": "How to extend django user default models database", "body": "<p>I am currently creating an online e-commerce website in Django, however, I am using the following library that already has a readily available user table.</p>\n\n<pre><code>from django.contrib.auth.models import User\n\n\nclass UserForm(forms.ModelForm):\n    password = forms.CharField(widget=forms.PasswordInput)\n    phone = forms.CharField(max_length=30)\n    address = forms.CharField(max_length=100)\nclass Meta:\n    model = User\n    fields = ['username','first_name','last_name', 'email', 'password','phone','address']\n</code></pre>\n\n<p>my products and basket are made in models.py and they work fine,</p>\n\n<p>however, the problem I am having is for the user field I need to have at least: name, email, phone and address. but when i view the table created it only has, username, first_name, last_name and password, it doesn't implement phone and address into the table created!</p>\n\n<p><a href=\"https://i.stack.imgur.com/KuFfq.png\" rel=\"nofollow noreferrer\">image of tables through admin</a></p>\n\n<p>does anyone know how i am able to do this?</p>\n"}, {"tags": ["python", "python-2.7", "wifi", "wireless", "mininet"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7759660, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/fd197d4510e0113a22638d6efb9afe94?s=128&d=identicon&r=PG", "display_name": "Guest", "link": "https://stackoverflow.com/users/7759660/guest"}, "is_accepted": false, "score": 0, "last_activity_date": 1490313230, "creation_date": 1490313230, "answer_id": 42989051, "question_id": 42962896, "link": "https://stackoverflow.com/questions/42962896/attributeerror-mininet-object-has-no-attribute-addbasestation/42989051#42989051", "title": "AttributeError: &#39;Mininet&#39; object has no attribute &#39;addBaseStation&#39;", "body": "<p>check out examples/2AccessPoints.py</p>\n\n<p><code>addBaseStation(...)</code> seems to be from an older version that is deprecated.\nInstead <code>addAccessPoint(...)</code> is used.\nAlso if you are using <code>net.associationControl( 'ssf' )</code> to configure the wifi nodes, instead use <code>net.configureWifiNodes()</code></p>\n"}], "owner": {"reputation": 1, "user_id": 7751253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/384c1bdd372ca793d9ee4f86509ee732?s=128&d=identicon&r=PG&f=1", "display_name": "DFNT", "link": "https://stackoverflow.com/users/7751253/dfnt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 965, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1496068036, "creation_date": 1490217773, "last_edit_date": 1495540835, "question_id": 42962896, "link": "https://stackoverflow.com/questions/42962896/attributeerror-mininet-object-has-no-attribute-addbasestation", "title": "AttributeError: &#39;Mininet&#39; object has no attribute &#39;addBaseStation&#39;", "body": "<p>I got the error (AttributeError: 'Mininet' object has no attribute 'addBaseStation') when I tried running the \"position-test.py\" script in mininet-wifi' online Tutorial. </p>\n\n<p>I went through possible solutions online and I later saw this:</p>\n\n<p>[<a href=\"https://stackoverflow.com/questions/40715766/mininet-wifi-errormininet-object-has-no-attribute-addbasestation][1]\">mininet-wifi error:&#39;Mininet&#39; object has no attribute &#39;addBaseStation&#39;</a>. </p>\n\n<p>I tried what they proposed as solution but didn't work for me. It gave error thus:</p>\n\n<blockquote>\n  <p>Blockquote</p>\n</blockquote>\n\n<p>*** Creating nodes</p>\n\n<p>*** Enabling association control (AP)</p>\n\n<p>*** Creating links and associations</p>\n\n<p>Associating sta1-wlan0 to ap1</p>\n\n<p>Associating sta2-wlan0 to ap2</p>\n\n<p>*** Starting network</p>\n\n<p>*** Configuring hosts</p>\n\n<p><strong>* defaultIntf: warning: sta1 has no interfaces</strong></p>\n\n<p>Traceback (most recent call last):</p>\n\n<p>File \"position-test.py\", line 46, in \n    topology()</p>\n\n<p>File \"position-test.py\", line 33, in topology\n    net.build()</p>\n\n<p>File \"/usr/local/lib/python2.7/dist-packages/mininet-2.0r2-py2.7.egg/mininet/net.py\", line 1273, in build self.configHosts()</p>\n\n<p>File \"/usr/local/lib/python2.7/dist-packages/mininet-2.0r2-py2.7.egg/mininet/net.py\", line 1126, in configHosts host.configDefault(ip=None, mac=None)</p>\n\n<p>File \"/usr/local/lib/python2.7/dist-packages/mininet-2.0r2-py2.7.egg/mininet/node.py\", line 1064, in configDefault\n    self.config(**self.params)</p>\n\n<p>File \"/usr/local/lib/python2.7/dist-packages/mininet-2.0r2-py2.7.egg/mininet/node.py\", line 1050, in config\n    if len(ip) > 1:</p>\n\n<p>TypeError: object of type 'NoneType' has no len() </p>\n\n<blockquote>\n  <p>Blockquote</p>\n</blockquote>\n\n<p>What could possibly be wrong, because, I've tried running other examples and all were running normally. Though, they do not contain the function \"<strong>addBaseStation</strong>\" in them. Is there any way around this or any possible solution please. Thank you.</p>\n"}, {"tags": ["python", "emacs", "ipython", "elpy"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1490218730, "post_id": 42962893, "comment_id": 73020381, "body": "I know nothing of <code>elpy</code>. However, this seems intrinsic to iPython; I don&#39;t know the correct terms to describe what happens, but if you don&#39;t restart the kernel, you get the correct error message; (in the copy/paste example, <code>b</code> <i>is</i> on line 2) but the traceback shows some cached code from before when it reports the error. So you get a mismatch. This happens particularly if you change imported modules."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1490219200, "post_id": 42962893, "comment_id": 73020586, "body": "I&#39;m on my phone and that became jumbled through edits, sorry. Basically, the line the error is reported on is correct, but the code it shows in the traceback might be historical code, so it doesn&#39;t make sense as a whole. I would like to know why exactly it behaves like this."}], "owner": {"reputation": 111, "user_id": 7753650, "user_type": "registered", "profile_image": "https://graph.facebook.com/451683121852206/picture?type=large", "display_name": "Zi-ang Yan", "link": "https://stackoverflow.com/users/7753650/zi-ang-yan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1490217755, "creation_date": 1490217755, "question_id": 42962893, "link": "https://stackoverflow.com/questions/42962893/wrong-line-in-error-message-of-elpy-ipython", "title": "Wrong line in error message of elpy ipython", "body": "<p>I get wrong line in the error message when I use Elpy in emacs (interpreter: ipython). This happens when I select part of my code and use ctrl-c-c to run it in elpy. The error message shows the wrong content. For example:</p>\n\n<pre><code>import numpy as np\n\na = np.array([1,2,3])\n\nfor i in range(20):\n    a = b\n</code></pre>\n\n<p>I deliberately write a wrong code. If I run it as a whole, the error message is correct:</p>\n\n<pre><code>In [4]: ---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n&lt;ipython-input-4-31bb503ed55c&gt; in &lt;module&gt;()\n----&gt; 1 import codecs, os;__pyfile = codecs.open('''/tmp/py14415AqV''', encoding='''utf-8''');__code = __pyfile.read().encode('''utf-8''');__pyfile.close();os.remove('''/tmp/py14415AqV''');exec(compile(__code, '''/home/yanza15/test.py''', 'exec'));\n\n/home/yanza15/test.py in &lt;module&gt;()\n      4 \n      5 for i in range(20):\n----&gt; 6     a = b\n\nNameError: name 'b' is not defined\n</code></pre>\n\n<p>But if I only select a part and use ctrl-c-c to run it:</p>\n\n<pre><code>for i in range(20):\n    a = b\n</code></pre>\n\n<p>The error message will be</p>\n\n<pre><code>In [5]: ---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n&lt;ipython-input-5-7e398e1dee8c&gt; in &lt;module&gt;()\n----&gt; 1 import codecs, os;__pyfile = codecs.open('''/tmp/py14415N0b''', encoding='''utf-8''');__code = __pyfile.read().encode('''utf-8''');__pyfile.close();os.remove('''/tmp/py14415N0b''');exec(compile(__code, '''/home/yanza15/test.py''', 'exec'));\n\n/home/yanza15/test.py in &lt;module&gt;()\n      1 import numpy as np\n----&gt; 2 \n      3 a = np.array([1,2,3])\n      4 \n      5 for i in range(20):\n\nNameError: name 'b' is not defined\n</code></pre>\n\n<p>The line number in the error message is 2, which means the second line I selected is wrong. But the content it shows is the line 2 in the whole code. That's not I want. How can I customize elpy so that the error message shows the correct position of the code where I'm wrong?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "relationship", "flask-admin"], "answers": [{"comments": [{"owner": {"reputation": 5061, "user_id": 1812993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9cf8b9493978bce37aa55602c7d9f660?s=128&d=identicon&r=PG", "display_name": "melchoir55", "link": "https://stackoverflow.com/users/1812993/melchoir55"}, "edited": false, "score": 0, "creation_date": 1490326337, "post_id": 42988175, "comment_id": 73073067, "body": "Would you be able to update this to describe how to deal with collections of children? For example, if users could have multiple addresses?"}, {"owner": {"reputation": 5851, "user_id": 2800058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89a11543adeba7f9212e25d410cd79d0?s=128&d=identicon&r=PG", "display_name": "pjcunningham", "link": "https://stackoverflow.com/users/2800058/pjcunningham"}, "reply_to_user": {"reputation": 5061, "user_id": 1812993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9cf8b9493978bce37aa55602c7d9f660?s=128&d=identicon&r=PG", "display_name": "melchoir55", "link": "https://stackoverflow.com/users/1812993/melchoir55"}, "edited": false, "score": 2, "creation_date": 1490358071, "post_id": 42988175, "comment_id": 73088395, "body": "@melchoir55 - I&#39;ve added a <code>MultiLink</code> form rule that works with a relation."}, {"owner": {"reputation": 320, "user_id": 1392393, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/HlZXb.gif?s=128&g=1", "display_name": "brickfungus", "link": "https://stackoverflow.com/users/1392393/brickfungus"}, "edited": false, "score": 0, "creation_date": 1589931096, "post_id": 42988175, "comment_id": 109487973, "body": "First off, thank you, exactly what I needed.  But in your address drop down on the user view, how did you get it to show the actual address, mine just says &lt;Address 1&gt;"}, {"owner": {"reputation": 5851, "user_id": 2800058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89a11543adeba7f9212e25d410cd79d0?s=128&d=identicon&r=PG", "display_name": "pjcunningham", "link": "https://stackoverflow.com/users/2800058/pjcunningham"}, "reply_to_user": {"reputation": 320, "user_id": 1392393, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/HlZXb.gif?s=128&g=1", "display_name": "brickfungus", "link": "https://stackoverflow.com/users/1392393/brickfungus"}, "edited": false, "score": 0, "creation_date": 1590004822, "post_id": 42988175, "comment_id": 109521088, "body": "@brickfungus - have you defined a <code>__str__</code> method for your Address class ?"}, {"owner": {"reputation": 320, "user_id": 1392393, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/HlZXb.gif?s=128&g=1", "display_name": "brickfungus", "link": "https://stackoverflow.com/users/1392393/brickfungus"}, "edited": false, "score": 0, "creation_date": 1590008555, "post_id": 42988175, "comment_id": 109522690, "body": "@pjcunningham yes, but I spelled it <b>string</b> like an idiot... THANK YOU! Works now"}], "tags": [], "owner": {"reputation": 5851, "user_id": 2800058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89a11543adeba7f9212e25d410cd79d0?s=128&d=identicon&r=PG", "display_name": "pjcunningham", "link": "https://stackoverflow.com/users/2800058/pjcunningham"}, "is_accepted": true, "score": 9, "last_activity_date": 1584315180, "last_edit_date": 1584315180, "creation_date": 1490308236, "answer_id": 42988175, "question_id": 42962887, "link": "https://stackoverflow.com/questions/42962887/flask-admin-edit-child-objects-on-click/42988175#42988175", "title": "flask admin edit child objects on click", "body": "<p>Here is a single file simple example of placing a link to another model's edit view in an edit view. It may help you or not.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qiKAM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qiKAM.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've used a User - Address relationship, a user has an address and address can have many users. </p>\n\n<p>I've used <a href=\"http://faker.readthedocs.io/en/master/\" rel=\"nofollow noreferrer\">Faker</a> to generate sample data so you'll need to <code>pip install faker</code> into your environment.</p>\n\n<p>The idea is to use Flask-Admin <a href=\"http://flask-admin.readthedocs.io/en/latest/api/mod_form_rules\" rel=\"nofollow noreferrer\">form rules</a> and in this case I'm configuring <code>form_edit_rules</code>.</p>\n\n<p>I've created two custom rules:</p>\n\n<p><code>Link</code>, inheriting <code>BaseRule</code>. The constructor takes three values; an endpoint, a name of an attribute to pass along with the endpoint in the Flask <code>url_for</code> method and finally the text to appear as the link. In this example the endpoint is <code>'address.edit_view'</code> because this is the view we want to link to.</p>\n\n<p><code>MultiLink</code>, similar to <code>Link</code> accepts it works with a relation.</p>\n\n<p>Here's the code (there's little error checking):</p>\n\n<pre><code>from random import randint\nfrom flask import Flask, url_for\nfrom flask_admin.contrib import sqla\nfrom flask_admin import Admin\nfrom flask_admin.form.rules import BaseRule\nfrom faker import Faker\nfrom flask_sqlalchemy import SQLAlchemy\nfrom markupsafe import Markup\nfrom sqlalchemy import func, select\nfrom sqlalchemy.ext.hybrid import hybrid_property\n\nfake = Faker()\n\n# Create application\napp = Flask(__name__)\n\n# Create dummy secrey key so we can use sessions\napp.config['SECRET_KEY'] = '123456790'\n\n# Create in-memory database\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///:memory:'\n# app.config['SQLALCHEMY_ECHO'] = True\ndb = SQLAlchemy(app)\n\n\n# Flask views\n@app.route('/')\ndef index():\n    return '&lt;a href=\"/admin/\"&gt;Click me to get to Admin!&lt;/a&gt;'\n\n\nclass Address(db.Model):\n\n    __tablename__ = 'addresses'\n\n    id = db.Column(db.Integer, primary_key=True)\n    number = db.Column(db.String(255))\n    street = db.Column(db.String(255))\n    city = db.Column(db.String(255))\n    country = db.Column(db.String(255))\n\n    @hybrid_property\n    def user_count(self):\n        return len(self.users)\n\n    @user_count.expression\n    def user_count(cls):\n        return select([func.count(User.id)]).where(User.address_id == cls.id).label(\"user_count\")\n\n    def __unicode__(self):\n        return ', '.join(filter(None, [self.number, self.street, self.city, self.country]))\n\n\nclass User(db.Model):\n    __tablename__ = 'users'\n    id = db.Column(db.Integer, primary_key=True)\n    first_name = db.Column(db.String(255))\n    last_name = db.Column(db.String(255))\n    email = db.Column(db.String(254))\n\n    address_id = db.Column(db.Integer, db.ForeignKey('addresses.id'), index=True)\n    address = db.relationship(Address, backref=db.backref('users'))\n\n    def __str__(self):\n        return unicode(self).encode('utf-8')\n\n    def __unicode__(self):\n        return '{} {}'.format(self.first_name, self.last_name)\n\n\nclass Link(BaseRule):\n    def __init__(self, endpoint, attribute, text):\n        super(Link, self).__init__()\n        self.endpoint = endpoint\n        self.text = text\n        self.attribute = attribute\n\n    def __call__(self, form, form_opts=None, field_args=None):\n        if not field_args\n            field_args = {}\n\n        _id = getattr(form._obj, self.attribute, None)\n\n        if _id:\n            return Markup('&lt;a href=\"{url}\"&gt;{text}&lt;/a&gt;'.format(url=url_for(self.endpoint, id=_id), text=self.text))\n\n\nclass MultiLink(BaseRule):\n    def __init__(self, endpoint, relation, attribute):\n        super(MultiLink, self).__init__()\n        self.endpoint = endpoint\n        self.relation = relation\n        self.attribute = attribute\n\n    def __call__(self, form, form_opts=None, field_args=None):\n        if not field_args\n            field_args = {}\n        _hrefs = []\n        _objects = getattr(form._obj, self.relation)\n        for _obj in _objects:\n            _id = getattr(_obj, self.attribute, None)\n            _link = '&lt;a href=\"{url}\"&gt;Edit {text}&lt;/a&gt;'.format(url=url_for(self.endpoint, id=_id), text=str(_obj))\n            _hrefs.append(_link)\n\n        return Markup('&lt;br&gt;'.join(_hrefs))\n\n\nclass UserAdmin(sqla.ModelView):\n    can_view_details = True\n\n    form_edit_rules = (\n        'first_name',\n        'last_name',\n        'email',\n        'address',\n        Link(endpoint='address.edit_view', attribute='address_id', text='Edit Address')\n    )\n\n\nclass AddressAdmin(sqla.ModelView):\n    can_view_details = True\n\n    column_list = ['number', 'street', 'city', 'country', 'user_count', 'users']\n\n    form_edit_rules = (\n        'number',\n        'street',\n        'city',\n        'country',\n        'users',\n        MultiLink(endpoint='user.edit_view', relation='users', attribute='id')\n    )\n\n\nadmin = Admin(app, template_mode=\"bootstrap3\")\nadmin.add_view(UserAdmin(User, db.session))\nadmin.add_view(AddressAdmin(Address, db.session))\n\n\ndef build_db():\n    db.drop_all()\n    db.create_all()\n\n    for _ in range(0, 20):\n        _users = []\n        for _ in range(0, randint(1, 10)):\n            _user = User(\n                first_name=fake.first_name(),\n                last_name=fake.last_name(),\n                email=fake.safe_email(),\n            )\n            _users.append(_user)\n\n        _address = Address(\n            number=fake.random_digit_not_null(),\n            street=fake.secondary_address(),\n            city=fake.city(),\n            country=fake.country(),\n            users = _users\n        )\n\n        db.session.add(_address)\n\n    db.session.commit()\n\n\n@app.before_first_request\ndef first_request():\n    build_db()\n\n\nif __name__ == '__main__':\n    app.run(port=5000, debug=True)\n</code></pre>\n"}], "owner": {"reputation": 5061, "user_id": 1812993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9cf8b9493978bce37aa55602c7d9f660?s=128&d=identicon&r=PG", "display_name": "melchoir55", "link": "https://stackoverflow.com/users/1812993/melchoir55"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1099, "favorite_count": 0, "accepted_answer_id": 42988175, "answer_count": 1, "score": 3, "last_activity_date": 1584315180, "creation_date": 1490217741, "question_id": 42962887, "link": "https://stackoverflow.com/questions/42962887/flask-admin-edit-child-objects-on-click", "title": "flask admin edit child objects on click", "body": "<p>Flask-Admin shows child objects defined by relationships in its standard edit view. For example, if <code>User</code> objects have <code>Address</code> children, looking at the edit view for <code>User</code> will show the <code>Address</code> child in the appropriate field. The user can then remove the object, or add another one.</p>\n\n<p>I want users to be able to click through, or otherwise have the ability to enter the edit view of child objects. In the example I'm describing, the user should be able to access the edit view of the <code>Address</code> object directly from the edit view of the <code>User</code> object. </p>\n\n<p>The only thing I've found at all related is <code>inline_models</code>, but this isn't a solution. The implementation is extremely fragile (it can't handle long distance relationships, for example). Flask-Admin is aware of child objects! I can see them in the view! I just want them to become a link to their own edit view...</p>\n\n<p>Anyone have any idea how to accomplish this or can link to an example?</p>\n"}, {"tags": ["python", "selenium", "firefox", "raspberry-pi", "phantomjs"], "answers": [{"tags": [], "owner": {"reputation": 1279, "user_id": 142548, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bc7013207a73e653d7a984309b684a84?s=128&d=identicon&r=PG", "display_name": "Luiz Geron", "link": "https://stackoverflow.com/users/142548/luiz-geron"}, "is_accepted": false, "score": 0, "last_activity_date": 1493758387, "creation_date": 1493758387, "answer_id": 43747035, "question_id": 42962882, "link": "https://stackoverflow.com/questions/42962882/python-selenium-set-page-load-timeout-not-a-number/43747035#43747035", "title": "Python - Selenium - set_page_load_timeout: Not a Number", "body": "<p>You should update your firefox version, or downgrade your selenium and geckodriver versions.</p>\n"}], "owner": {"reputation": 1439, "user_id": 3195487, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cd958feb36dc887f7791948dd4a158a7?s=128&d=identicon&r=PG&f=1", "display_name": "shartshooter", "link": "https://stackoverflow.com/users/3195487/shartshooter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1064, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493758387, "creation_date": 1490217719, "last_edit_date": 1495542365, "question_id": 42962882, "link": "https://stackoverflow.com/questions/42962882/python-selenium-set-page-load-timeout-not-a-number", "title": "Python - Selenium - set_page_load_timeout: Not a Number", "body": "<p>I've got a pretty simple selenium script running on a raspberry pi.</p>\n\n<p>I was having issues with a specific page not loading so I wanted to reduce the timeout on <code>driver.get(url)</code> to be 15 seconds to hopefully prevent things from hanging. I used this post as a guide on how to set that info. <a href=\"https://stackoverflow.com/questions/17533024/how-to-set-selenium-python-webdriver-default-timeout\">How to set Selenium Python WebDriver default timeout?</a> </p>\n\n<p>I get an odd error stating that I'm not passing a number when I am clearly passing a number</p>\n\n<pre><code>&gt;&gt;&gt; from selenium import webdriver\n&gt;&gt;&gt; from pyvirtualdisplay import Display\n&gt;&gt;&gt; \n&gt;&gt;&gt; display = Display(visible=0, size=(1200, 1200))\n&gt;&gt;&gt; display.start()\n&lt;Display cmd_param=['Xvfb', '-br', '-nolisten', 'tcp', '-screen', '0', '1200x1200x24', ':1009'] cmd=['Xvfb', '-br', '-nolisten', 'tcp', '-screen', '0', '1200x1200x24', ':1009'] oserror=None return_code=None stdout=\"None\" stderr=\"None\" timeout_happened=False&gt;\n&gt;&gt;&gt; driver = webdriver.Firefox()\n&gt;&gt;&gt; driver.set_page_load_timeout(15)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/pi/Projects/yesware_prod/yesware/venv/local/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 727, in set_page_load_timeout\n    'pageLoad': int(float(time_to_wait) * 1000)})\n  File \"/home/pi/Projects/yesware_prod/yesware/venv/local/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 238, in execute\n    self.error_handler.check_response(response)\n  File \"/home/pi/Projects/yesware_prod/yesware/venv/local/lib/python2.7/site-packages/selenium/webdriver/remote/errorhandler.py\", line 193, in check_response\n    raise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.WebDriverException: Message: Not a Number\n</code></pre>\n\n<p>I'm not sure what the issue is. Even if I confirm that I'm passing in an integer I'm still getting the error</p>\n\n<pre><code>&gt;&gt;&gt; num_secs = 15\n&gt;&gt;&gt; type(num_secs)\n&lt;type 'int'&gt;\n&gt;&gt;&gt; driver.set_page_load_timeout(num_secs)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/pi/Projects/yesware_prod/yesware/venv/local/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 727, in set_page_load_timeout\n    'pageLoad': int(float(time_to_wait) * 1000)})\n  File \"/home/pi/Projects/yesware_prod/yesware/venv/local/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 238, in execute\n    self.error_handler.check_response(response)\n  File \"/home/pi/Projects/yesware_prod/yesware/venv/local/lib/python2.7/site-packages/selenium/webdriver/remote/errorhandler.py\", line 193, in check_response\n    raise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.WebDriverException: Message: Not a Number\n</code></pre>\n\n<p>Here's a link to the github page - <a href=\"https://github.com/SeleniumHQ/selenium/blob/fa24958570432ee6eadaadc9a7fb92e1ee380dfc/py/selenium/webdriver/remote/webdriver.py#L714\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/blob/fa24958570432ee6eadaadc9a7fb92e1ee380dfc/py/selenium/webdriver/remote/webdriver.py#L714</a></p>\n\n<p><strong>EDIT</strong> I ended up finding a workaround by using <code>PhantomJS()</code> rather than <code>Firefox()</code>. This tutorial is fantastic - <a href=\"https://stackoverflow.com/questions/36314771/how-to-install-phantomjs-for-use-with-python-selenium-on-the-raspberry-pi\">How to install PhantomJS for use with Python Selenium on the Raspberry Pi?</a></p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1490218892, "last_edit_date": 1490218892, "creation_date": 1490217868, "answer_id": 42962922, "question_id": 42962871, "link": "https://stackoverflow.com/questions/42962871/pandas-dataframe-group-hourly-and-apply-functions/42962922#42962922", "title": "Pandas DataFrame: group hourly and apply functions", "body": "<p>quick answer</p>\n\n<pre><code>df.groupby(pd.TimeGrouper('2H')).agg(['first', 'last', 'max'])\n\n                ask                        bid                  \n              first     last      max    first     last      max\ndatetime                                                        \n2017-03-01  1.33145  1.33148  1.33148  1.33135  1.33135  1.33135\n</code></pre>\n\n<hr>\n\n<p>With the formatting to produce your desired results</p>\n\n<pre><code>fs = dict(Open='first', Close='last', Max='max')\nag = dict(Ask=fs, Bid=fs)\ngp = pd.TimeGrouper('2H')\nd1 = df.rename(columns=str.capitalize).groupby(gp).agg(ag)\nd1.sort_index(axis=1, ascending=False, inplace=True)\nd1.columns = d1.columns.map('{0[1]} {0[0]}'.format)\nprint(d1)\n\n            Open Ask  Max Ask  Close Ask  Open Bid  Max Bid  Close Bid\ndatetime                                                              \n2017-03-01   1.33145  1.33148    1.33148   1.33135  1.33135    1.33135\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 2512907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pnQlH.jpg?s=128&g=1", "display_name": "noqcks", "link": "https://stackoverflow.com/users/2512907/noqcks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 1, "accepted_answer_id": 42962922, "answer_count": 1, "score": 3, "last_activity_date": 1490218892, "creation_date": 1490217668, "question_id": 42962871, "link": "https://stackoverflow.com/questions/42962871/pandas-dataframe-group-hourly-and-apply-functions", "title": "Pandas DataFrame: group hourly and apply functions", "body": "<p>I have some stock data in a pandas dataframe that looks like this (index=datetime)</p>\n\n<pre><code>                            ask      bid\ndatetime\n2017-03-01 00:00:07.346  1.33145  1.33135\n2017-03-01 00:00:07.498  1.33147  1.33134\n2017-03-01 00:00:08.124  1.33147  1.33133\n2017-03-01 00:00:08.659  1.33148  1.33134\n2017-03-01 00:00:12.104  1.33146  1.33134\n2017-03-01 00:00:12.858  1.33147  1.33134\n2017-03-01 00:00:17.583  1.33148  1.33135\n</code></pre>\n\n<p>I would like to group this data into two hour chunks and add some new columns.</p>\n\n<pre><code>                    Open Ask, Close Ask, Max Ask, Open Bid, Max Bid, Close Bid   \n datetime\n 2017-03-01 00:00\n 2017-03-01 02:00\n ...\n</code></pre>\n\n<p>Where OpenAsk is the first Ask price in the 2 hour period, Close Ask is the last Ask price in the two hour period, etc.</p>\n\n<p>How would I go about this? I think I can use resample, but im not sure how to find Open Ask, Close Ask, etc.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "pdf", "pypdf2"], "comments": [{"owner": {"reputation": 573, "user_id": 2649999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f2492a6cc7700b71790151dc7241a5?s=128&d=identicon&r=PG", "display_name": "Stanley Kirdey", "link": "https://stackoverflow.com/users/2649999/stanley-kirdey"}, "edited": false, "score": 0, "creation_date": 1490217702, "post_id": 42962811, "comment_id": 73019894, "body": "Can you please provide example of a text and an example of how you want it to look."}, {"owner": {"reputation": 1115, "user_id": 7692855, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/69900162929289ad3ce2360bcf9af08a?s=128&d=identicon&r=PG&f=1", "display_name": "user7692855", "link": "https://stackoverflow.com/users/7692855/user7692855"}, "reply_to_user": {"reputation": 573, "user_id": 2649999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f2492a6cc7700b71790151dc7241a5?s=128&d=identicon&r=PG", "display_name": "Stanley Kirdey", "link": "https://stackoverflow.com/users/2649999/stanley-kirdey"}, "edited": false, "score": 0, "creation_date": 1490217784, "post_id": 42962811, "comment_id": 73019940, "body": "The link will go to the PDF.  In this PDF there are two phrases. I am looking to extract the two phrases/quotes into two string variables which I will then process further."}], "answers": [{"tags": [], "owner": {"reputation": 4284, "user_id": 4879665, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tvytj.png?s=128&g=1", "display_name": "Liam", "link": "https://stackoverflow.com/users/4879665/liam"}, "is_accepted": false, "score": 0, "last_activity_date": 1490217998, "creation_date": 1490217998, "answer_id": 42962946, "question_id": 42962811, "link": "https://stackoverflow.com/questions/42962811/extracting-text-from-pdf-in-python/42962946#42962946", "title": "Extracting text from PDF in Python", "body": "<p>i could not find a way to split it by the horizontal separator, but i managed to do it in another way:</p>\n\n<pre><code>import PyPDF2\n\nquotes = []\n\npdfFileObj = open('test.pdf','rb') \npdfReader = PyPDF2.PdfFileReader(pdfFileObj)\npageObj = pdfReader.getPage(0)         \nfor x in (pageObj.extractText()).split('\"\\n'): print x+\"\\n\"*5\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1115, "user_id": 7692855, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/69900162929289ad3ce2360bcf9af08a?s=128&d=identicon&r=PG&f=1", "display_name": "user7692855", "link": "https://stackoverflow.com/users/7692855/user7692855"}, "edited": false, "score": 0, "creation_date": 1490218783, "post_id": 42963082, "comment_id": 73020407, "body": "Thank you very much for that. It seems to be working. Could you explain the regex? I can&#39;t quite make sense of it. My main goal is extracting <a href=\"https://www.pdf-archive.com/2017/03/22/pdf/\" rel=\"nofollow noreferrer\">pdf-archive.com/2017/03/22/pdf</a> maybe you could have a quick look at that. I thought I might be able to learn from this pdf but not sure if I can."}, {"owner": {"reputation": 6078, "user_id": 3950422, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/czF1r.gif?s=128&g=1", "display_name": "bhansa", "link": "https://stackoverflow.com/users/3950422/bhansa"}, "reply_to_user": {"reputation": 1115, "user_id": 7692855, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/69900162929289ad3ce2360bcf9af08a?s=128&d=identicon&r=PG&f=1", "display_name": "user7692855", "link": "https://stackoverflow.com/users/7692855/user7692855"}, "edited": false, "score": 0, "creation_date": 1490218997, "post_id": 42963082, "comment_id": 73020496, "body": "what do you want to extract from the pdf actually ? there are no quotes and totally different from your question."}, {"owner": {"reputation": 1115, "user_id": 7692855, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/69900162929289ad3ce2360bcf9af08a?s=128&d=identicon&r=PG&f=1", "display_name": "user7692855", "link": "https://stackoverflow.com/users/7692855/user7692855"}, "edited": false, "score": 0, "creation_date": 1490219172, "post_id": 42963082, "comment_id": 73020571, "body": "The end goal is JSON pairs of reference, date, applicant, location and proposal. I did up the other pdf to try and learn to then apply it to the main pdf but I don&#39;t think the code is  transferrable ."}], "tags": [], "owner": {"reputation": 6078, "user_id": 3950422, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/czF1r.gif?s=128&g=1", "display_name": "bhansa", "link": "https://stackoverflow.com/users/3950422/bhansa"}, "is_accepted": true, "score": 1, "last_activity_date": 1490218521, "creation_date": 1490218521, "answer_id": 42963082, "question_id": 42962811, "link": "https://stackoverflow.com/questions/42962811/extracting-text-from-pdf-in-python/42963082#42963082", "title": "Extracting text from PDF in Python", "body": "<p>If you want to just extract the quotes from the pdf text you can use <code>regex</code> to find all the quotes.</p>\n\n<pre><code>import PyPDF2\nimport re\npdfFileObj = open('test.pdf','rb') \npdfReader = PyPDF2.PdfFileReader(pdfFileObj)\npageObj = pdfReader.getPage(0)         \ntext = str(pageObj.extractText())\n\nquotes = re.findall(r'\"[^\"]*\"',text)\nfor quote in quotes:\n    print quote\n    print \n</code></pre>\n\n<p>or just</p>\n\n<pre><code>quotes = re.findall(r'\"[^\"]*\"',text)\nprint quotes\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1562751181, "post_id": 56966782, "comment_id": 100472274, "body": "Add context around your answer for future learning purpose and downvote prevention. (From Review)."}], "tags": [], "owner": {"reputation": 83, "user_id": 11571109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EfkIpwdiLo4/AAAAAAAAAAI/AAAAAAAADvg/7lc6lQvJAf4/photo.jpg?sz=128", "display_name": "jainam shah", "link": "https://stackoverflow.com/users/11571109/jainam-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1562750504, "last_edit_date": 1562750504, "creation_date": 1562748220, "answer_id": 56966782, "question_id": 42962811, "link": "https://stackoverflow.com/questions/42962811/extracting-text-from-pdf-in-python/56966782#56966782", "title": "Extracting text from PDF in Python", "body": "<pre><code>import pdfplumber\n\npdf = pdfplumber.open(file_path)\n\np0 = pdf.pages[0]\n\ntext = p0.extract_text()\n\ntext\n</code></pre>\n"}], "owner": {"reputation": 1115, "user_id": 7692855, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/69900162929289ad3ce2360bcf9af08a?s=128&d=identicon&r=PG&f=1", "display_name": "user7692855", "link": "https://stackoverflow.com/users/7692855/user7692855"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7443, "favorite_count": 0, "accepted_answer_id": 42963082, "answer_count": 3, "score": 1, "last_activity_date": 1562750504, "creation_date": 1490217410, "question_id": 42962811, "link": "https://stackoverflow.com/questions/42962811/extracting-text-from-pdf-in-python", "title": "Extracting text from PDF in Python", "body": "<p>I have a PDF full of quotes:</p>\n\n<p><a href=\"https://www.pdf-archive.com/2017/03/22/test/\" rel=\"nofollow noreferrer\">https://www.pdf-archive.com/2017/03/22/test/</a></p>\n\n<p>I can extract the text in python using the following code:</p>\n\n<pre><code>import PyPDF2\n\npdfFileObj = open('example.pdf','rb') \npdfReader = PyPDF2.PdfFileReader(pdfFileObj)\npageObj = pdfReader.getPage(0)         \nprint (pageObj.extractText())\n</code></pre>\n\n<p>This returns all the quotes as one paragraph. Is it possible to 'split' the pdf by the horizontal separator and split it into quotes that way?</p>\n"}, {"tags": ["python", "windows", "macos", "sockets"], "comments": [{"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 2, "creation_date": 1490217465, "post_id": 42962772, "comment_id": 73019787, "body": "Some of your code posted might help.."}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "reply_to_user": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1490218513, "post_id": 42962772, "comment_id": 73020289, "body": "@abccd Added code."}, {"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 1, "creation_date": 1490218687, "post_id": 42962772, "comment_id": 73020360, "body": "See this post: <a href=\"http://stackoverflow.com/questions/12394950/connection-refused\">connection refused</a> most likely you just need to disable your Mac&#39;s firewall"}, {"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 1, "creation_date": 1490218793, "post_id": 42962772, "comment_id": 73020413, "body": "What is the value of <code>self.ip_addr</code>?  Does your Mac have access to that address?"}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "reply_to_user": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1490220335, "post_id": 42962772, "comment_id": 73021087, "body": "@abccd My firewall is off and my question is different from <a href=\"http://stackoverflow.com/questions/12394950/connection-refused\">stackoverflow.com/questions/12394950/connection-refused</a>. Provided my reasoning in the most recent edit."}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "reply_to_user": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1490220449, "post_id": 42962772, "comment_id": 73021137, "body": "@larsks Just added more explanations. See EDIT 2"}, {"owner": {"reputation": 10901, "user_id": 1076479, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/eLQUX.jpg?s=128&g=1", "display_name": "Gil Hamilton", "link": "https://stackoverflow.com/users/1076479/gil-hamilton"}, "edited": false, "score": 0, "creation_date": 1490222762, "post_id": 42962772, "comment_id": 73022160, "body": "I rather doubt this has anything to do with the python code.  Try <code>nc 172.24.176.46 2101</code> (or you can use <code>telnet 172.24.176.46 2101</code> if you don&#39;t have <code>nc</code>)."}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "reply_to_user": {"reputation": 10901, "user_id": 1076479, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/eLQUX.jpg?s=128&g=1", "display_name": "Gil Hamilton", "link": "https://stackoverflow.com/users/1076479/gil-hamilton"}, "edited": false, "score": 0, "creation_date": 1490223834, "post_id": 42962772, "comment_id": 73022603, "body": "@GilHamilton What would it tell me if I run these commands?"}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "reply_to_user": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1490294848, "post_id": 42962772, "comment_id": 73060899, "body": "@abccd Added code that works, but can&#39;t explain why not closing a connection is a good approach."}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "reply_to_user": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1490294860, "post_id": 42962772, "comment_id": 73060903, "body": "@larsks Added code that works, but can&#39;t explain why not closing a connection is a good approach."}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "reply_to_user": {"reputation": 10901, "user_id": 1076479, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/eLQUX.jpg?s=128&g=1", "display_name": "Gil Hamilton", "link": "https://stackoverflow.com/users/1076479/gil-hamilton"}, "edited": false, "score": 0, "creation_date": 1490294870, "post_id": 42962772, "comment_id": 73060909, "body": "@GilHamilton Added code that works, but can&#39;t explain why not closing a connection is a good approach."}], "answers": [{"comments": [{"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "edited": false, "score": 0, "creation_date": 1490227137, "post_id": 42964446, "comment_id": 73023686, "body": "What do you mean by &quot;cannot use the same socket to listen&quot;? Do you mean I cannot call <code>client.recv(1)</code>?"}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "edited": false, "score": 0, "creation_date": 1490227686, "post_id": 42964446, "comment_id": 73023857, "body": "I tried your code. It didn&#39;t work. I&#39;m still getting &#39;Connection refused&#39; message"}, {"owner": {"reputation": 55, "user_id": 6147476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/KSEB4.jpg?s=128&g=1", "display_name": "Markov Chained", "link": "https://stackoverflow.com/users/6147476/markov-chained"}, "reply_to_user": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "edited": false, "score": 0, "creation_date": 1490227989, "post_id": 42964446, "comment_id": 73023953, "body": "You need to use two different sockets. You cant send and receive on port 2101 it seems. If you are receiving on 2101 you have to use a different socket to send that data to the 2101 port that is listening. According to python documentation recv() should for best match with hardware and network realities, the value of bufsize should be a relatively small power of 2, for example, 4096."}, {"owner": {"reputation": 55, "user_id": 6147476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/KSEB4.jpg?s=128&g=1", "display_name": "Markov Chained", "link": "https://stackoverflow.com/users/6147476/markov-chained"}, "reply_to_user": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "edited": false, "score": 0, "creation_date": 1490228671, "post_id": 42964446, "comment_id": 73024166, "body": "If you edit connection.read() to connection.recv(1024) you should be able to have the client and the server talking to each other. I just finished writing the test right now."}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "edited": false, "score": 0, "creation_date": 1490229123, "post_id": 42964446, "comment_id": 73024281, "body": "The issue is that I cannot edit the server. It is running on the device and I cannot edit code on the device."}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "edited": false, "score": 0, "creation_date": 1490294898, "post_id": 42964446, "comment_id": 73060925, "body": "Added code that works, but can&#39;t explain why not closing a connection is a good approach."}, {"owner": {"reputation": 10901, "user_id": 1076479, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/eLQUX.jpg?s=128&g=1", "display_name": "Gil Hamilton", "link": "https://stackoverflow.com/users/1076479/gil-hamilton"}, "edited": false, "score": 0, "creation_date": 1490315334, "post_id": 42964446, "comment_id": 73070271, "body": "FYI: <code>SO_REUSEADDR</code> has no effect unless you&#39;re explicitly binding a port. So you almost never need to use it on a client, since you&#39;re usually using an automatically allocated port on that side and such a port will never be in use."}, {"owner": {"reputation": 55, "user_id": 6147476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/KSEB4.jpg?s=128&g=1", "display_name": "Markov Chained", "link": "https://stackoverflow.com/users/6147476/markov-chained"}, "edited": false, "score": 0, "creation_date": 1490378479, "post_id": 42964446, "comment_id": 73101918, "body": "Ah thank you. I mostly write custom servers, I wasn&#39;t sure if clients needed to specify it as well."}], "tags": [], "owner": {"reputation": 55, "user_id": 6147476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/KSEB4.jpg?s=128&g=1", "display_name": "Markov Chained", "link": "https://stackoverflow.com/users/6147476/markov-chained"}, "is_accepted": false, "score": 0, "last_activity_date": 1490228932, "last_edit_date": 1490228932, "creation_date": 1490224660, "answer_id": 42964446, "question_id": 42962772, "link": "https://stackoverflow.com/questions/42962772/python-socket-connection-refused-on-mac-but-not-on-windows/42964446#42964446", "title": "python socket connection refused on Mac but not on Windows", "body": "<p>According to my tests on my Mac, you cannot use the same socket to listen. There might be a way for the sockets to be used this way, if there I would recommend you read \n<a href=\"https://docs.python.org/2/howto/sockets.html#socket-howto\" rel=\"nofollow noreferrer\">https://docs.python.org/2/howto/sockets.html#socket-howto</a></p>\n\n<p>I could only get python to connect using two different sockets and creating the client and the server separately. For the server the code looks something like:</p>\n\n<pre><code>      server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n      server.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n      server.bind(('', self.port))\n      server.listen(1)\n      connection, client_addr = server.accept()\n      connection.recv(1024)\n      connection.close()\n      server.close()\n</code></pre>\n\n<p>For the client the code looks something like:</p>\n\n<pre><code>      client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n      client.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n      try:\n          client.connect(('10.6.6.11', 2101))\n      except Exception:\n          print 'Connection failed'\n          sys.exit(1)\n      client.sendall(msg)\n      client.close()\n</code></pre>\n\n<p>You would have to fill in the blanks for anything else you might want to modify. You can remove that try catch if you want.</p>\n"}, {"tags": [], "owner": {"reputation": 10901, "user_id": 1076479, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/eLQUX.jpg?s=128&g=1", "display_name": "Gil Hamilton", "link": "https://stackoverflow.com/users/1076479/gil-hamilton"}, "is_accepted": false, "score": 0, "last_activity_date": 1490315044, "creation_date": 1490315044, "answer_id": 42989310, "question_id": 42962772, "link": "https://stackoverflow.com/questions/42962772/python-socket-connection-refused-on-mac-but-not-on-windows/42989310#42989310", "title": "python socket connection refused on Mac but not on Windows", "body": "<p>Your original code worked fine for me (on a MAC) when I put a small main loop after it. </p>\n\n<pre><code>d = Device('127.0.0.1', 2101)\nfor n in range(5):\n    d.say_hi()\n    d.get_status()\n    d.say_bye()\n</code></pre>\n\n<p>However, your new design is much closer to good. No, <em>not</em> closing the connection at all is not a good approach, but closing it, then instantly recreating it is also not a good design.</p>\n\n<p>How about just adding a close function and calling that when you're finished with the object? </p>\n\n<pre><code>def close(self):\n    self.socket.close()\n</code></pre>\n\n<p>So for example my code would then become:</p>\n\n<pre><code>d = Device('127.0.0.1', 2101)\nfor n in range(5):\n    d.say_hi()\n    d.get_status()\n    d.say_bye()\nd.close()\n</code></pre>\n\n<p>(It is also possible to add a <code>__del__</code> destructor that will get called automatically after the object is no longer being referenced but that is generally a bad idea because it won't necessarily get called until the garbage collector runs, which could be next month. In the meantime that socket descriptor would remain open.)</p>\n"}], "owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2673, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1490315044, "creation_date": 1490217256, "last_edit_date": 1495541415, "question_id": 42962772, "link": "https://stackoverflow.com/questions/42962772/python-socket-connection-refused-on-mac-but-not-on-windows", "title": "python socket connection refused on Mac but not on Windows", "body": "<p>This is not a duplicate of <a href=\"https://stackoverflow.com/questions/12394950/connection-refused\">connection refused</a>. This questions asks about the difference between <code>MacOS</code> and <code>Windows</code>. In addition the firewall on my <code>Mac</code> is off.</p>\n\n<p>I'm trying to communicate with a device through a socket. The code is written in <code>python</code>. For some reason if I run my code on <code>Windows</code> everything works, however if I do it on a <code>Mac</code> it doesn't. A colleague of mine wrote the same code in <code>C</code> and ran it on a <code>Mac</code> and had no issues. Does anybody know what could be the issue?</p>\n\n<p>I can provide more details if needed. Just let me know which ones.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here is the code</p>\n\n<pre><code>class Device(object):\n    def __init__(self, ip_addr, port):\n        self.ip_addr = ip_addr\n        self.port = port\n\n    def say_hi(self):\n        msg = [254, 49, 0]\n        ret = self.send_msg(msg)\n        msg = [254, 29]\n        return self.send_msg(msg)\n\n    def say_bye(self):\n        msg = [254, 49, 0]\n        ret = self.send_msg(msg)\n        msg = [254, 30]\n        return self.send_msg(msg)\n\n    def get_status(self):\n        msg = [254, 49, 0]\n        ret = self.send_msg(msg)\n        msg = [254, 16]\n        return self.send_msg(msg)\n\n    def send_msg(self, msg):\n        msg = ''.join(chr(i) for i in msg)\n        s = socket.create_connection((self.ip_addr , self.port))\n        s.sendall(msg)\n        ret = s.recv(1)\n        s.close()\n        return ord(ret)\n</code></pre>\n\n<p>Here is the error that I'm getting:</p>\n\n<p><code>[Errno 61] Connection refused</code></p>\n\n<p>The error occurs at line: </p>\n\n<p><code>s = socket.create_connection((self.ip_addr , self.port))</code></p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p><code>ip_addr='172.24.176.46', port='2101'</code></p>\n\n<p>I'm able to access the address. Here are results from <code>ping</code></p>\n\n<pre><code>$ ping 172.24.176.46    \nPING 172.24.176.46 (172.24.176.46): 56 data bytes\n64 bytes from 172.24.176.46: icmp_seq=0 ttl=64 time=0.495 ms\n64 bytes from 172.24.176.46: icmp_seq=1 ttl=64 time=0.398 ms\n64 bytes from 172.24.176.46: icmp_seq=2 ttl=64 time=0.452 ms\n^C\n</code></pre>\n\n<p><strong>EDIT 3</strong></p>\n\n<p>I found a code that works and it works on Windows as well as on a Mac. I will provide it below, but what essentially I do is that I create a connection during class initialization (i.e. in <code>__init__</code>) and <strong>don't</strong> close a connection in <code>send_msg</code>. Here is my question: is it safe and proper to do it this way? It doesn't seem like a good approach not to close a connection. I would appreciate any help with this. My new code is below.</p>\n\n<pre><code>class Device(object):\n    def __init__(self, ip_addr, port):\n        self.ip_addr = ip_addr\n        self.port = port\n        self.socket = socket.create_connection((self.ip_addr , self.port))\n\n    def say_hi(self):\n        msg = [254, 49, 0]\n        ret = self.send_msg(msg)\n        msg = [254, 29]\n        return self.send_msg(msg)\n\n    def say_bye(self):\n        msg = [254, 49, 0]\n        ret = self.send_msg(msg)\n        msg = [254, 30]\n        return self.send_msg(msg)\n\n    def get_status(self):\n        msg = [254, 49, 0]\n        ret = self.send_msg(msg)\n        msg = [254, 16]\n        return self.send_msg(msg)\n\n    def send_msg(self, msg):\n        msg = ''.join(chr(i) for i in msg)\n        self.socket.sendall(msg)\n        ret = self.socket.recv(1)\n        return ord(ret)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "is_accepted": true, "score": 2, "last_activity_date": 1490217796, "creation_date": 1490217796, "answer_id": 42962903, "question_id": 42962770, "link": "https://stackoverflow.com/questions/42962770/how-to-change-date-format-day-of-week-month-day-year-to-a-pandas-readable-f/42962903#42962903", "title": "How to change date format (Day of week, Month, Day, Year) to a pandas readable format?", "body": "<p>use <code>to_datetime</code>. see example below</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'date': [\"Saturday, April 29th, 2017\", \"Wednesday, March 22nd, 2017\"]})\nprint df.head()\n\n# conversion to pandas date time\ndf.date = pd.to_datetime(df.date)\nprint df.head()\n\n# Sorting by Date\nprint \"sorted by Date\"\nprint df.sort_values(['date']).head()\n</code></pre>\n\n<p>results in</p>\n\n<pre><code>                          date\n0   Saturday, April 29th, 2017\n1  Wednesday, March 22nd, 2017\n        date\n0 2017-04-29\n1 2017-03-22\nsorted by Date\n        date\n1 2017-03-22\n0 2017-04-29\n</code></pre>\n"}], "owner": {"reputation": 211, "user_id": 7600491, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/443dce014018ae0590a898e2c268aab9?s=128&d=identicon&r=PG&f=1", "display_name": "yangd01234", "link": "https://stackoverflow.com/users/7600491/yangd01234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 42962903, "answer_count": 1, "score": 1, "last_activity_date": 1490217796, "creation_date": 1490217242, "question_id": 42962770, "link": "https://stackoverflow.com/questions/42962770/how-to-change-date-format-day-of-week-month-day-year-to-a-pandas-readable-f", "title": "How to change date format (Day of week, Month, Day, Year) to a pandas readable format?", "body": "<p>One of my columns in a pandas dataframe has dates formatted like so:</p>\n\n<p>Saturday, April 29th, 2017</p>\n\n<p>How would I change this to a pandas readable date type so that I can sort by date?</p>\n\n<p>(python 3)</p>\n"}, {"tags": ["python", "pip", "pyautogui"], "comments": [{"owner": {"reputation": 8073, "user_id": 1893164, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f058499cabc6e56e7622015b4db79304?s=128&d=identicon&r=PG", "display_name": "Al Sweigart", "link": "https://stackoverflow.com/users/1893164/al-sweigart"}, "edited": false, "score": 0, "creation_date": 1490745273, "post_id": 42962765, "comment_id": 73246844, "body": "Does trying to install other modules cause a similar error on your machine? (For example, try <code>pip install pymsgbox</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 1858582, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7bacc17bfd8caf14f07458c19d8fe9d?s=128&d=identicon&r=PG&f=1", "display_name": "Dapper", "link": "https://stackoverflow.com/users/1858582/dapper"}, "edited": false, "score": 0, "creation_date": 1490218292, "post_id": 42962996, "comment_id": 73020164, "body": "It yielded the same error. I am getting the feeling I will just have to wait for the admin team to take a look at it locally."}], "tags": [], "owner": {"reputation": 1636, "user_id": 5823489, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bro5cVB4qfs/AAAAAAAAAAI/AAAAAAAAADs/YkUCNICk1e4/photo.jpg?sz=128", "display_name": "Guillaume Lebreton", "link": "https://stackoverflow.com/users/5823489/guillaume-lebreton"}, "is_accepted": false, "score": 0, "last_activity_date": 1490218195, "creation_date": 1490218195, "answer_id": 42962996, "question_id": 42962765, "link": "https://stackoverflow.com/questions/42962765/embedded-python-3-5-python-setup-py-egg-info-failed-with-error-code-1/42962996#42962996", "title": "Embedded Python 3.5 &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>It seems, as you said, that you havent admin privileges.</p>\n\n<p>Try to run for the current user, thus without admin privileges: <code>pip install --user pyautogui</code></p>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 8130643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e5f8de41caa5a9a7dd98c30849024e0?s=128&d=identicon&r=PG&f=1", "display_name": "Diptiman", "link": "https://stackoverflow.com/users/8130643/diptiman"}, "is_accepted": true, "score": 15, "last_activity_date": 1496918261, "last_edit_date": 1496918261, "creation_date": 1496916321, "answer_id": 44432707, "question_id": 42962765, "link": "https://stackoverflow.com/questions/42962765/embedded-python-3-5-python-setup-py-egg-info-failed-with-error-code-1/44432707#44432707", "title": "Embedded Python 3.5 &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>I faced the same problem while using 3.5.2 and 3.6.1 versions of the embedded python distribution zip for Windows.\nThough, with the MSI installer, this problem does not arise.</p>\n\n<p>I suspect, this has something to do with the way the python3X.zip file is read for \\lib2to3\\Grammar.txt.\nHere is how I have resolved it :</p>\n\n<ol>\n<li>I have renamed the python35.zip file to something else (.zipp etc ..)</li>\n<li>I have created a folder \"python.zip\" inside my original extracted folder</li>\n<li>Made sure that \"\\lib2to3\\Grammar.txt\" is accessible within this folder.</li>\n<li>Ran \"python -m pip install \"</li>\n<li>Worked like a charm  !</li>\n</ol>\n\n<p>A hack probably, but, could not find a way around.</p>\n"}, {"tags": [], "owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "is_accepted": false, "score": 0, "last_activity_date": 1569393633, "creation_date": 1569393633, "answer_id": 58092479, "question_id": 42962765, "link": "https://stackoverflow.com/questions/42962765/embedded-python-3-5-python-setup-py-egg-info-failed-with-error-code-1/58092479#58092479", "title": "Embedded Python 3.5 &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>For me just unzipping the <code>python36.zip</code> to a folder <code>python36.zip</code> did the trick.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 8160896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f511f3d8be563ab744c388b00d91c90d?s=128&d=identicon&r=PG&f=1", "display_name": "K0ertis", "link": "https://stackoverflow.com/users/8160896/k0ertis"}, "is_accepted": false, "score": 0, "last_activity_date": 1595339236, "creation_date": 1595339236, "answer_id": 63015944, "question_id": 42962765, "link": "https://stackoverflow.com/questions/42962765/embedded-python-3-5-python-setup-py-egg-info-failed-with-error-code-1/63015944#63015944", "title": "Embedded Python 3.5 &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>I had the same error, but it was related to the clearing of all *.pyc and <strong>pycache</strong> files in the dir: <code>python-3.5.4-embed-amd64/</code>. As I restored them all worked fine.\nBut your method to extract python35.zip file to python35.zip folder worked as fine well.</p>\n"}], "owner": {"reputation": 73, "user_id": 1858582, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7bacc17bfd8caf14f07458c19d8fe9d?s=128&d=identicon&r=PG&f=1", "display_name": "Dapper", "link": "https://stackoverflow.com/users/1858582/dapper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2536, "favorite_count": 1, "accepted_answer_id": 44432707, "answer_count": 4, "score": 2, "last_activity_date": 1595339236, "creation_date": 1490217217, "last_edit_date": 1495542326, "question_id": 42962765, "link": "https://stackoverflow.com/questions/42962765/embedded-python-3-5-python-setup-py-egg-info-failed-with-error-code-1", "title": "Embedded Python 3.5 &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>I am attempting to \"pip install\" PyAutoGUI ( among other modules ) and I am getting the following error : </p>\n\n<pre><code>Collecting pyautogui\n  Using cached PyAutoGUI-0.9.35.zip\n  Complete output from command python setup.py egg_info:\nrunning egg_info\ncreating pip-egg-info\\PyAutoGUI.egg-info\nwriting top-level names to pip-egg-info\\PyAutoGUI.egg-info\\top_level.txt\nwriting requirements to pip-egg-info\\PyAutoGUI.egg-info\\requires.txt\nwriting pip-egg-info\\PyAutoGUI.egg-info\\PKG-INFO\nwriting dependency_links to pip-egg-info\\PyAutoGUI.egg-info\\dependency_links.txt\nwriting manifest file 'pip-egg-info\\PyAutoGUI.egg-info\\SOURCES.txt'\nerror: [Errno 2] No such file or directory: 'C:\\\\Users\\\\myDir\\\\Downloads\\\\python-3.5.0-embed-win32\\\\python35.zip\\\\lib2to3\\\\Grammar.txt'\n\n----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in         C:\\Users\\myDir\\AppData\\Local\\Temp\\pip-build-aqcbpbui\\pyautogui\\\n</code></pre>\n\n<p>This is being done on a Windows 10 Professional without admin rights ( hence the embedded method of using Python 3.5 ). I was able to pip install openpyxl without issue but when running the same command ( python -m pip install pyautogui ) I get the described error message and traceback found above. I've done clean extractions of the zip and found the same problem. </p>\n\n<p>I searched through SO and only found questions that related to Mac environments and a single instance where the OS wasn't listed ( <a href=\"https://stackoverflow.com/questions/32068325/python-setup-py-egg-info-failed-with-error-code-1\">&quot;python setup.py egg_info&quot; failed with error code 1</a> ) which yielded no positive results ( actually ended up getting a different error message with the second suggested step...but...one issue at a time :P ) </p>\n\n<p>I've confirmed that the file in question (( 'C:\\Users\\myDir\\Downloads\\python-3.5.0-embed-win32\\python35.zip\\lib2to3\\Grammar.txt' ))  exists and even unzipped the directory just to be sure ( leaving the zip there as well intact to keep myself covered ). I attempted Easy_install and it yielded a similar set of messages and end result error ( not posting it to reduce clutter of this post but will provide on request ).</p>\n\n<p>Any advice would be thoroughly appreciated. Thank you. </p>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 0, "creation_date": 1490217319, "post_id": 42962693, "comment_id": 73019714, "body": "<a href=\"http://stackoverflow.com/questions/26354329/python-pandas-passing-multiple-functions-to-agg-with-arguments\" title=\"python pandas passing multiple functions to agg with arguments\">stackoverflow.com/questions/26354329/&hellip;</a>"}, {"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 1, "creation_date": 1490220505, "post_id": 42962693, "comment_id": 73021157, "body": "You can pass any input function arguments to <code>aggregate</code>, which will in turn pass the arguments to the input function, i.e. <code>mygroupby.aggregate(np.percentile, q=90)</code>.  Also, I think you want to specify the &#39;z&#39; column prior to the <code>aggregrate</code>, as <code>np.percentile</code> will flatten your input array (do the percentile over all data, not by column), i.e. <code>mygroupby[&#39;z&#39;].aggregate(np.percentile, q=90)</code>.  If you only want to aggregate over the &#39;z&#39; column you should do this for any function regardless, as it will be more efficient."}], "owner": {"reputation": 497, "user_id": 5249681, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CftX5.jpg?s=128&g=1", "display_name": "Bryce Frank", "link": "https://stackoverflow.com/users/5249681/bryce-frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1155, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490217547, "creation_date": 1490216923, "last_edit_date": 1490217547, "question_id": 42962693, "link": "https://stackoverflow.com/questions/42962693/retrieving-quantiles-from-pandas-groupby-aggregate", "title": "Retrieving quantiles from Pandas groupby aggregate", "body": "<p>Currently I am able to retrieve an array of summary statistics from a large groupby object (for example, the groupby object has 2000 dataframes, wherein I retrieve the mean value of each dataframes 'Z' column).</p>\n\n<p>To do this I use the following process:</p>\n\n<pre><code>vals = mygroupby.aggregate(np.mean)['z'].values\n</code></pre>\n\n<p>I am also able to do this with np.std, np.var, etc. However, I would like to do this with np.percentile (i.e. return an array of all the 90th percentiles in the groupby object), but this requires additional arguments. This is what I have tried</p>\n\n<pre><code>vals = mygroupby.aggregate(np.percentile(90))['z'].values\n</code></pre>\n\n<p>With the following error:</p>\n\n<pre><code>TypeError: percentile() missing 1 required positional argument: 'q'\n</code></pre>\n\n<p>Which I understand is because I am missing the iterable for np.percentile. How do I tell np.percentile that the iterable is the aggregate itself, similar to how np.mean works?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Performance is a concern here, and using lambda functions within the argument slows drastically, whereas the np.mean example executes very quickly.</p>\n"}, {"tags": ["python", "numpy", "scikit-learn"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1490217428, "post_id": 42962673, "comment_id": 73019769, "body": "You are not transforming a vectorizer object, <code>featureVector</code> is a sparse matrix."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1490217444, "post_id": 42962673, "comment_id": 73019778, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/8955448/save-load-scipy-sparse-csr-matrix-in-portable-data-format\">Save / load scipy sparse csr_matrix in portable data format</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1490217677, "post_id": 42962673, "comment_id": 73019882, "body": "In particular, you should use the <b>np.savez / np.load</b> approach in <a href=\"http://stackoverflow.com/a/42101691/5014455\">this</a> answer of the dupe-target."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1490218681, "post_id": 42962673, "comment_id": 73020357, "body": "The latest <code>scipy.sparse</code> (1.19?) has a <code>save&#47;load</code> pair of functions like that <code>savez</code> approach."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4363945"}, "edited": false, "score": 0, "creation_date": 1490272503, "post_id": 42962854, "comment_id": 73044248, "body": "nnz = 12110452, shape = (290988,1000),dtype = int64,format = csr. I know it is a large matrix but it should not be so hard to write it on an array."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1490275592, "post_id": 42962854, "comment_id": 73046736, "body": "Have tried to make a <code>np.zeros(...)</code> that big directly?"}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1490217596, "creation_date": 1490217596, "answer_id": 42962854, "question_id": 42962673, "link": "https://stackoverflow.com/questions/42962673/vectorizer-object-toarray-array-is-too-large-error/42962854#42962854", "title": "Vectorizer object toArray(), Array is Too Large Error", "body": "<p><code>vectorizer</code> has created a large sparse matrix, <code>featureVector</code>.</p>\n\n<p><code>featureVector.toarray()</code> (I usually use <code>featureVector.A</code>) is supposed to create a dense (regular <code>numpy</code>) array from that.  Evidently the required size is too large.</p>\n\n<p>Could you print <code>repr(featureVector)</code>?  This should show the shape, dtype and number of nonzero terms of this matrix.  I'm guessing it has millions of rows and thousands of columns.</p>\n\n<p>So even if it did work, I doubt if the <code>savetxt</code> with <code>fmt=\"%10s %10.3f\" would work. Or that</code>csv` file of such a large array would be usable.</p>\n\n<p>So make sure you understand what <code>vectorizer</code> is producing. And rethink this task of creating a dense array from the result and saving it.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4363945"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2316, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490272817, "creation_date": 1490216836, "last_edit_date": 1490272817, "question_id": 42962673, "link": "https://stackoverflow.com/questions/42962673/vectorizer-object-toarray-array-is-too-large-error", "title": "Vectorizer object toArray(), Array is Too Large Error", "body": "<p>I have created pre-processed data. Now, I would like to vectorize it and write it on a text file. While transforming vectorizer object to array, I get this error. What could be possible solutions?  </p>\n\n<pre><code>from sklearn.feature_extraction.text import CountVectorizer\n    import numpy as np\n    vectorizer = CountVectorizer(analyzer = \"word\",   \\\n                                 tokenizer = None,    \\\n                                 preprocessor = None, \\\n                                 stop_words = None,   \\\n                                 max_features = 1000)\n    newTestFile = open(\"testfile.txt\", 'r', encoding='latin-1')\n    featureVector=vectorizer.fit_transform(newTestFile)\n    train_data_features = featureVector.toarray()\n    np.savetxt('plotFeatureVector.txt', train_data_features, fmt=\"%10s %10.3f\")\n\nThe error:\n\n    Traceback (most recent call last):\n      File \"C:/Users/NuMA/Desktop/Lecture Stuff/EE 485/Project/Deneme/bagOfWords.py\", line 12, in &lt;module&gt;\n        train_data_features = featureVector.toarray()\n      File \"C:\\Users\\NuMA\\AppData\\Local\\Programs\\Python\\Python35-32\\lib\\site-packages\\scipy\\sparse\\compressed.py\", line 964, in toarray\n        return self.tocoo(copy=False).toarray(order=order, out=out)\n      File \"C:\\Users\\NuMA\\AppData\\Local\\Programs\\Python\\Python35-32\\lib\\site-packages\\scipy\\sparse\\coo.py\", line 252, in toarray\n        B = self._process_toarray_args(order, out)\n      File \"C:\\Users\\NuMA\\AppData\\Local\\Programs\\Python\\Python35-32\\lib\\site-packages\\scipy\\sparse\\base.py\", line 1039, in _process_toarray_args\n        return np.zeros(self.shape, dtype=self.dtype, order=order)\n    ValueError: array is too big; `arr.size * arr.dtype.itemsize` is larger than the maximum possible size.\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1490217072, "post_id": 42962664, "comment_id": 73019601, "body": "You could nest those dicts in <i>another</i> dict, say <code>metrics</code>, where the keys are <code>&quot;metric1&quot;</code>, and the values are the appropriate dict, so, <code>metric[row[0]][idx]</code> is what you would end up using."}], "answers": [{"tags": [], "owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "is_accepted": false, "score": 0, "last_activity_date": 1490217154, "creation_date": 1490217154, "answer_id": 42962750, "question_id": 42962664, "link": "https://stackoverflow.com/questions/42962664/implicitly-deciding-which-dictionary-should-be-used/42962750#42962750", "title": "Implicitly deciding which dictionary should be used", "body": "<p>Problem: not enough dicts.</p>\n\n<p>Solution:</p>\n\n<pre><code>conversion_dict = {'metric1': metric1_dict, 'metric2': metric2_dict}\n\nfor row:\n    conversion_dict[row[0]][idx] = row[3]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7503, "user_id": 1059273, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f49fd78553be0a74aef8736864937b5d?s=128&d=identicon&r=PG", "display_name": "cjds", "link": "https://stackoverflow.com/users/1059273/cjds"}, "is_accepted": false, "score": 0, "last_activity_date": 1490217197, "creation_date": 1490217197, "answer_id": 42962762, "question_id": 42962664, "link": "https://stackoverflow.com/questions/42962664/implicitly-deciding-which-dictionary-should-be-used/42962762#42962762", "title": "Implicitly deciding which dictionary should be used", "body": "<p>Why not something like</p>\n\n<pre><code>output = {}\nfor row in rows:\n    # assuming this data is already split\n\n    if not row[0] in output:\n        output[row[0]] = {}\n    idx = row[1] + ',' + row[2]\n    output[row[0]][idx] = row[3]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8742, "user_id": 3393459, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a319b01208db420f5f8c6a7c3a24a3c?s=128&d=identicon&r=PG&f=1", "display_name": "exp1orer", "link": "https://stackoverflow.com/users/3393459/exp1orer"}, "is_accepted": false, "score": 0, "last_activity_date": 1490217851, "creation_date": 1490217851, "answer_id": 42962915, "question_id": 42962664, "link": "https://stackoverflow.com/questions/42962664/implicitly-deciding-which-dictionary-should-be-used/42962915#42962915", "title": "Implicitly deciding which dictionary should be used", "body": "<p>If you're doing a lot of table manipulation, you may find the <code>pandas</code> library helpful. If I understand correctly what you're trying to do:</p>\n\n<pre><code>import pandas as pd\nfrom StringIO import StringIO\n\ns = StringIO(\"\"\"metric,timestamp,hostname,value\nmetric1,1488063747,example01.net,12\nmetric2,1488063747,example01.net,23\nmetric3,1488063747,example01.net,34\nmetric4,1488063747,example01.net,45\nmetric1,1488063788,example02.net,56\nmetric2,1488063788,example02.net,67\nmetric3,1488063788,example02.net,78\nmetric4,1488063788,example02.net,89\n\"\"\")\n\ndf = pd.read_csv(s)\ndf.pivot(index=\"timestamp\", columns='metric',values='value')\n</code></pre>\n\n<p>This yields:</p>\n\n<pre><code>metric      metric1  metric2  metric3  metric4\ntimestamp                                     \n1488063747       12       23       34       45\n1488063788       56       67       78       89\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 2708215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/09b61fdf2abd311263f2ab2e4c0a48aa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2708215/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1490217851, "creation_date": 1490216788, "last_edit_date": 1490217101, "question_id": 42962664, "link": "https://stackoverflow.com/questions/42962664/implicitly-deciding-which-dictionary-should-be-used", "title": "Implicitly deciding which dictionary should be used", "body": "<p>I am using Python to analyze a large set of CSV data.  This data contains 4 different types of metrics for a given timestamp and host pair, with the metric type indicated in the first field of each row.  Here's a simplified example:</p>\n\n<pre><code>metric,timestamp,hostname,value\nmetric1,1488063747,example01.net,12\nmetric2,1488063747,example01.net,23\nmetric3,1488063747,example01.net,34\nmetric4,1488063747,example01.net,45\nmetric1,1488063788,example02.net,56\nmetric2,1488063788,example02.net,67\nmetric3,1488063788,example02.net,78\nmetric4,1488063788,example02.net,89\n</code></pre>\n\n<p>So, for every <code>row</code> (actually, a list within a list of lists) I make an index composed of the timestamp and hostname:</p>\n\n<pre><code>idx = row[1] + ',' + row[2]\n</code></pre>\n\n<p>Now, based on the contents of the first field (list element), I do something like:</p>\n\n<pre><code>if row[0] == 'metric1': metric_dict[idx] = row[3]\n</code></pre>\n\n<p>I do that for each of the 4 metrics.  It works, but it seems like there should be a better way.  It seems like I need to somehow implicitly or indirectly choose the dictionary to be used based on the contents of row[0], but my searches have not yielded a result.  In this case, 4 <code>if</code> lines are not tough, but it wouldn't be unusual for more metric types to be contained in a file.  Is it possible to do this and be left with however many dictionaries are needed after the list of lists is read?  Thank you.</p>\n"}, {"tags": ["python", "pandas", "iterator"], "answers": [{"tags": [], "owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "is_accepted": false, "score": 2, "last_activity_date": 1490244795, "creation_date": 1490244795, "answer_id": 42967492, "question_id": 42962650, "link": "https://stackoverflow.com/questions/42962650/add-calculated-column-to-pandas-dataframe-on-the-fly-while-iterating-over-the-li/42967492#42967492", "title": "Add calculated column to pandas dataframe on the fly while iterating over the lines of a csv file?", "body": "<p>You can use a generator to work on the chunks one at a time:</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>def on_the_fly(the_csv):\n    d = {2: 2, 4: 3}\n    chunked_csv = pd.read_csv(\n        the_csv, sep='\\s+', iterator=True, comment='#')\n\n    for chunk in chunked_csv:\n        rows_idx = chunk['A'] &gt; 2\n        chunk.loc[rows_idx, 'C'] = chunk[rows_idx].apply(\n            lambda x: x.A * d[x.B], axis=1)\n        yield chunk[rows_idx]\n</code></pre>\n\n<p><strong>Test Code:</strong></p>\n\n<pre><code>from io import StringIO\ndata = StringIO(u\"\"\"#\n    A   B\n    1   2\n    3   4\n    4   4\n\"\"\")\n\nimport pandas as pd\ndf = pd.concat([c for c in on_the_fly(data)])\nprint(df)\n</code></pre>\n\n<p><strong>Results:</strong></p>\n\n<pre><code>   A  B     C\n1  3  4   9.0\n2  4  4  12.0\n</code></pre>\n"}], "owner": {"reputation": 6953, "user_id": 778533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/XEGLp.jpg?s=128&g=1", "display_name": "tommy.carstensen", "link": "https://stackoverflow.com/users/778533/tommy-carstensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490244958, "creation_date": 1490216725, "last_edit_date": 1490244958, "question_id": 42962650, "link": "https://stackoverflow.com/questions/42962650/add-calculated-column-to-pandas-dataframe-on-the-fly-while-iterating-over-the-li", "title": "Add calculated column to pandas dataframe on the fly while iterating over the lines of a csv file?", "body": "<p>I have a large space separated input file <code>input.csv</code>, which I can't hold in memory:</p>\n\n<pre><code>## Header\n# More header here\nA   B\n1   2\n3   4\n</code></pre>\n\n<p>If I use the <code>iterator=True</code> argument for <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow noreferrer\">pandas.read_csv</a>, then it returns a <code>TextFileReader</code> / <code>TextParser</code> object. This allows filtering the file on the fly and only selecting rows for which column <code>A</code> is greater than 2.</p>\n\n<p>But how do I add a third column to the dataframe on the fly without having to loop over all of the data once more?</p>\n\n<p>Specifically I want column <code>C</code> to be equal to column <code>A</code> multiplied by the value in a dictionary <code>d</code>, which has the value of column <code>B</code> as its key; i.e. <code>C = A*d[B]</code>.</p>\n\n<p>Currently I have this code:</p>\n\n<pre><code>import pandas\nd = {2: 2, 4: 3}\nTextParser = pandas.read_csv('input.csv', sep=' ', iterator=True, comment='#')\ndf = pandas.concat([chunk[chunk['A'] &gt; 2] for chunk in TextParser])\nprint(df)\n</code></pre>\n\n<p>Which prints this output:</p>\n\n<pre><code>   A  B\n1  3  4\n</code></pre>\n\n<p>How do I get it to print this output (<code>C = A*d[B]</code>):</p>\n\n<pre><code>   A  B  C\n1  3  4  9\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "jupyter-notebook"], "answers": [{"comments": [{"owner": {"reputation": 291, "user_id": 7585206, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10211989045590945/picture?type=large", "display_name": "Juho M", "link": "https://stackoverflow.com/users/7585206/juho-m"}, "edited": false, "score": 0, "creation_date": 1490217551, "post_id": 42962807, "comment_id": 73019821, "body": "Thank you, this is exactly what I meant. :)"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1490217402, "creation_date": 1490217402, "answer_id": 42962807, "question_id": 42962614, "link": "https://stackoverflow.com/questions/42962614/calculating-average-of-specific-rows/42962807#42962807", "title": "Calculating average of specific rows", "body": "<pre><code>df[['Team1 Score', 'Team2 Score']].where(\n    df[['Team1', 'Team2']].values == 'Misfits').stack().mean()\n\n13.6\n</code></pre>\n"}], "owner": {"reputation": 291, "user_id": 7585206, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10211989045590945/picture?type=large", "display_name": "Juho M", "link": "https://stackoverflow.com/users/7585206/juho-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1575, "favorite_count": 0, "accepted_answer_id": 42962807, "answer_count": 1, "score": 1, "last_activity_date": 1490217402, "creation_date": 1490216595, "question_id": 42962614, "link": "https://stackoverflow.com/questions/42962614/calculating-average-of-specific-rows", "title": "Calculating average of specific rows", "body": "<p>My code is:</p>\n\n<pre><code>df=pandas.read_csv(\"data.csv\", names=[\"Date\",\"Team1\",\"Team2\",\"Map\",\"Event\"])\ndf\n</code></pre>\n\n<p>And the output is: </p>\n\n<pre><code>Date, Team1, Team2, Team1 Score, Team2 Score, Map, Event\n17/3/17, Misfits, Cloud9, 16, 4,overpass, Pro League\n17/3/17, TyLoo, Misfits, 16, 4, cache, Pro League\n17/3/17, Liquid, Misfits, 8, 16, cbble, Proleague\n17/3/17, Misfits, Blight, 16, 7, overpass, Proleague\n17/3/17, Selfless, Misfits, 12, 16, inferno, Proleague\n</code></pre>\n\n<p>My goal is to calculate team \"Misfits\" score average, which is (16+4+16+16+16)/5=13.6</p>\n\n<p>I know that I can calculate column average by df[\"Column Name\"].mean(), but the problem is that team \"Misfits\" appears in \"Team1\" and \"Team2\" columns.</p>\n"}, {"tags": ["python", "python-3.x", "matplotlib", "flake8"], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 3803805, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Tii8c.jpg?s=128&g=1", "display_name": "Jonathan Holvey", "link": "https://stackoverflow.com/users/3803805/jonathan-holvey"}, "edited": false, "score": 0, "creation_date": 1529286228, "post_id": 42972940, "comment_id": 88803487, "body": "Would this be how it is intended to be used, or is it a coincidence that the projection list and class name both use the string <code>3d</code>?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 437, "user_id": 3803805, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Tii8c.jpg?s=128&g=1", "display_name": "Jonathan Holvey", "link": "https://stackoverflow.com/users/3803805/jonathan-holvey"}, "edited": false, "score": 0, "creation_date": 1529312622, "post_id": 42972940, "comment_id": 88811706, "body": "@Jonathan Holvey The projection list contains all registered classes&#39; <code>name</code>s. Hence <code>Axes3D.name</code> is exactly what to put there if an <code>Axes3D</code> is to be created."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 20, "last_activity_date": 1490263733, "creation_date": 1490263733, "answer_id": 42972940, "question_id": 42962613, "link": "https://stackoverflow.com/questions/42962613/how-to-directly-use-axes3d-from-matplotlib-in-standard-plot-to-avoid-flake8-erro/42972940#42972940", "title": "How to directly use Axes3D from matplotlib in standard plot to avoid flake8 error", "body": "<p>If this is only about actually using the import at least once, you can do</p>\n\n<pre><code>ax = fig.gca(projection=Axes3D.name)\n</code></pre>\n\n<p>as <code>\"3d\"</code> is the name of the <code>Axes3D</code> class by which it is registered to the projection list.</p>\n"}, {"tags": [], "owner": {"reputation": 108, "user_id": 12533660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/807dd005bffed512ae2006aa4d297680?s=128&d=identicon&r=PG&f=1", "display_name": "Henri", "link": "https://stackoverflow.com/users/12533660/henri"}, "is_accepted": false, "score": 0, "last_activity_date": 1603309331, "creation_date": 1603309331, "answer_id": 64470640, "question_id": 42962613, "link": "https://stackoverflow.com/questions/42962613/how-to-directly-use-axes3d-from-matplotlib-in-standard-plot-to-avoid-flake8-erro/64470640#64470640", "title": "How to directly use Axes3D from matplotlib in standard plot to avoid flake8 error", "body": "<pre><code>from mpl_toolkits.mplot3d import Axes3D\nimport matplotlib.pyplot as plt\n\nfig = plt.figure()\nax = Axes3D(fig)\n</code></pre>\n<p>However, if I understand the <a href=\"https://matplotlib.org/mpl_toolkits/mplot3d/tutorial.html#getting-started\" rel=\"nofollow noreferrer\">documentation</a> well, it is not the preferred way anymore since version 1.0.0. I still mention it for completeness.</p>\n"}], "owner": {"reputation": 1887, "user_id": 4958717, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/tYTOb.png?s=128&g=1", "display_name": "dsalaj", "link": "https://stackoverflow.com/users/4958717/dsalaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1162, "favorite_count": 1, "accepted_answer_id": 42972940, "answer_count": 2, "score": 7, "last_activity_date": 1603309331, "creation_date": 1490216594, "question_id": 42962613, "link": "https://stackoverflow.com/questions/42962613/how-to-directly-use-axes3d-from-matplotlib-in-standard-plot-to-avoid-flake8-erro", "title": "How to directly use Axes3D from matplotlib in standard plot to avoid flake8 error", "body": "<p>When using the typical 3D plot like so:</p>\n\n<pre><code>from mpl_toolkits.mplot3d import Axes3D\nimport matplotlib.pyplot as plt\n\nfig = plt.figure()\nax = fig.gca(projection='3d')\n</code></pre>\n\n<p><code>flake8</code> reports the expected error:</p>\n\n<pre><code>./tools.py:62:9: F401 'mpl_toolkits.mplot3d.Axes3D' imported but unused\n</code></pre>\n\n<p>I know it can be avoided using the <code># NOQA</code> comment. But is there a different way to formulate the projection in the figure so that the Axes3D object is used?</p>\n"}, {"tags": ["python", "flask", "stripe-payments", "payment", "balanced-payments"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 6793804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6cf1224c5c2d79ff4a3d6073fc2731fc?s=128&d=identicon&r=PG&f=1", "display_name": "reznov11", "link": "https://stackoverflow.com/users/6793804/reznov11"}, "edited": false, "score": 0, "creation_date": 1490219584, "post_id": 42962901, "comment_id": 73020769, "body": "Thanks for your interest sir, so, you mean by that something like API ?, i saw not all of them supporting python so far, for example qiwi have something more comfortable with php more than python if am not mistaking ! ."}, {"owner": {"reputation": 113, "user_id": 6793804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6cf1224c5c2d79ff4a3d6073fc2731fc?s=128&d=identicon&r=PG&f=1", "display_name": "reznov11", "link": "https://stackoverflow.com/users/6793804/reznov11"}, "edited": false, "score": 0, "creation_date": 1490292234, "post_id": 42962901, "comment_id": 73059399, "body": "guys, any other suggestions ?"}], "tags": [], "owner": {"reputation": 7196, "user_id": 379538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05087d995c7f4660b688e9d61f0b4e5a?s=128&d=identicon&r=PG", "display_name": "floatingLomas", "link": "https://stackoverflow.com/users/379538/floatinglomas"}, "is_accepted": true, "score": 0, "last_activity_date": 1490217782, "creation_date": 1490217782, "answer_id": 42962901, "question_id": 42962583, "link": "https://stackoverflow.com/questions/42962583/how-to-buy-a-product-using-a-various-payments-methods-in-python/42962901#42962901", "title": "How to buy a product using a various payments methods in python?", "body": "<p>Stripe actually provides quite a <a href=\"https://support.stripe.com/questions/which-cards-and-payment-types-can-i-accept-with-stripe\" rel=\"nofollow noreferrer\">number of payment methods</a> but not all of the ones you've listed, so Stripe can definitely help, but you're going to have to implement multiple payment flows here - one for the methods that Stripe can handle, and one for each of the others - as part of your application.</p>\n\n<p>With regards to the Stripe stuff, I'd suggest you have a read through the <a href=\"https://stripe.com/docs\" rel=\"nofollow noreferrer\">documentation</a> to learn about getting started there.</p>\n"}], "owner": {"reputation": 113, "user_id": 6793804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6cf1224c5c2d79ff4a3d6073fc2731fc?s=128&d=identicon&r=PG&f=1", "display_name": "reznov11", "link": "https://stackoverflow.com/users/6793804/reznov11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 42962901, "answer_count": 1, "score": -1, "last_activity_date": 1490217782, "creation_date": 1490216475, "last_edit_date": 1490216983, "question_id": 42962583, "link": "https://stackoverflow.com/questions/42962583/how-to-buy-a-product-using-a-various-payments-methods-in-python", "title": "How to buy a product using a various payments methods in python?", "body": "<p>I have a project that am working in and it almost done except one problem that i can't make or in fact i don't know how to make it done .</p>\n\n<p>The client told me that he want to connect a various payments methods to his site , so lets consider that you are a user and you want to buy a product , inside your panel as a user there is a various banks or methods to buy this product, lets say:</p>\n\n<ul>\n<li>Qiwi wallet</li>\n<li>Webmoney</li>\n<li>Visa Card</li>\n<li>Master Card</li>\n<li>Yandex money</li>\n</ul>\n\n<p>you can choose anyone of these to buy it .</p>\n\n<p>Another thing is to show your balance inside the panel so to know whether you have enough money to pay or not, also he want that the user could charge money into his balance if he didn't have enough money.</p>\n\n<p>There is a service called Stripe, which provide stuffs like that, but i 'am not really sure if it would help in any way, all i know about it is, you can make any payments using Master card or Visa card that's all .</p>\n\n<p>Simply the issue is to know how to, pay with various payments methods, balance status and charge balance.</p>\n\n<p>The project is written in <code>python</code> using <code>Flask framework</code> .</p>\n\n<p>Please Please Please , bagging you all, how to make that work, or in a different way from where to start ?, which process should i follow ?, any help really truly would be tons appreciated .</p>\n"}, {"tags": ["python", "python-import", "python-module"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1490216764, "post_id": 42962555, "comment_id": 73019438, "body": "Uh, firstly, <code>useful_func</code> is a method, so you must import <code>Bob</code>, the class in which it is defined. Second, when you import, the contents of the file are always run, you can&#39;t just get part of the file to run."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490218308, "post_id": 42962555, "comment_id": 73020174, "body": "Also, you can&#39;t import anything <code>from foo.Bob</code>, because you can&#39;t import <code>from</code> a class."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490218357, "post_id": 42962555, "comment_id": 73020200, "body": "Why is <code>foo.py</code> trying to import <code>UnavailableModule</code> at all? And if <code>foo.py</code> needs <code>UnavailableModule</code>, why don&#39;t you have that module?"}, {"owner": {"reputation": 4882, "user_id": 3217306, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Ki1Kk.jpg?s=128&g=1", "display_name": "binaryfunt", "link": "https://stackoverflow.com/users/3217306/binaryfunt"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490218448, "post_id": 42962555, "comment_id": 73020259, "body": "@user2357112 It&#39;s a long story involving the Windows Linux Subsystem"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490218546, "post_id": 42962555, "comment_id": 73020304, "body": "Well, you&#39;re going to need to either get <code>UnavailableModule</code>, or change <code>foo.py</code> not to assume the module&#39;s presence."}, {"owner": {"reputation": 1835, "user_id": 1202745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26e91a64a6dc64dacabffb36634ad055?s=128&d=identicon&r=PG", "display_name": "robyschek", "link": "https://stackoverflow.com/users/1202745/robyschek"}, "edited": false, "score": 0, "creation_date": 1490218901, "post_id": 42962555, "comment_id": 73020461, "body": "Or provide an empty stub named <code>UnavailableModule.py</code> somewhere in <code>sys.path</code>"}], "answers": [{"tags": [], "owner": {"reputation": 500, "user_id": 6556102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cpQ4E.jpg?s=128&g=1", "display_name": "jedruniu", "link": "https://stackoverflow.com/users/6556102/jedruniu"}, "is_accepted": true, "score": 1, "last_activity_date": 1490219438, "last_edit_date": 1490219438, "creation_date": 1490218661, "answer_id": 42963113, "question_id": 42962555, "link": "https://stackoverflow.com/questions/42962555/import-specific-function-only-from-file/42963113#42963113", "title": "Import specific function only from file", "body": "<p>First of all your <code>useful_func</code> is an instance method, you can import it with whole <code>Bob</code> class, like this :</p>\n\n<pre><code>from foo import Bob\n</code></pre>\n\n<p>then you can create object of <code>Bob</code> and use your function like this:</p>\n\n<pre><code>b = Bob()\nb.useful_func('something useful i believe')\n</code></pre>\n\n<p>but this does not solve your problem. Your problem as I read is that import of <code>UnavailableModule</code> is run while importing <code>foo</code> module. </p>\n\n<p>Well, it will be run, because that is how imports work, you can prevent this import with such construct:</p>\n\n<pre><code>class Bob:\n  def useful_func(self, arg):\n      pass\n\nif __name__ == '__main__':\n  import UnavailableModule\n</code></pre>\n\n<p>This will prevent importing your <code>UnavailableModule</code> while importing <code>foo</code> module from another module. However I am not sure whether this is good practice. It works though.</p>\n"}], "owner": {"reputation": 4882, "user_id": 3217306, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Ki1Kk.jpg?s=128&g=1", "display_name": "binaryfunt", "link": "https://stackoverflow.com/users/3217306/binaryfunt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 994, "favorite_count": 0, "accepted_answer_id": 42963113, "answer_count": 1, "score": 2, "last_activity_date": 1490219438, "creation_date": 1490216356, "question_id": 42962555, "link": "https://stackoverflow.com/questions/42962555/import-specific-function-only-from-file", "title": "Import specific function only from file", "body": "<p>I have one file, <code>foo.py</code></p>\n\n<pre><code>import UnavailableModule\n\nclass Bob:\n    def useful_func(self, arg):\n        # Do useful stuff (doesn't use UnavailableModule)\n</code></pre>\n\n<p>And in another file <code>bar.py</code> in the same directory, I need <code>useful_func()</code> but can't do this</p>\n\n<pre><code>from foo.Bob import useful_func\n</code></pre>\n\n<p>because it results in</p>\n\n<pre><code>problem: [Error 126] The specified module could not be found\nAn exception has occurred, use %tb to see the full traceback.\n</code></pre>\n\n<p>with traceback</p>\n\n<pre><code>C:\\...\\bar.py in &lt;module&gt;()\n----&gt; 1 from foo.Bob import useful_func\nC:\\...\\foo.py in &lt;module&gt;()\n----&gt; 1 import UnavailableModule\n</code></pre>\n\n<p>Is it possible to just get <code>useful_func()</code> only by some other means?</p>\n"}, {"tags": ["python", "networkx"], "comments": [{"owner": {"reputation": 27886, "user_id": 636626, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b18fc48caab5bf7c3e2a15292972f05b?s=128&d=identicon&r=PG", "display_name": "Nils Werner", "link": "https://stackoverflow.com/users/636626/nils-werner"}, "edited": false, "score": 0, "creation_date": 1490222237, "post_id": 42962521, "comment_id": 73021920, "body": "What have you tried so far? Do you have any code?"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 3, "creation_date": 1490242713, "post_id": 42962521, "comment_id": 73027900, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/13517614/draw-different-color-for-nodes-in-networkx-based-on-their-node-value\">Draw different color for nodes in networkx based on their node value</a>"}], "owner": {"reputation": 2624, "user_id": 6840039, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bbe8da8fb805e0564d583715d6addb74?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Petrov", "link": "https://stackoverflow.com/users/6840039/petr-petrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490216229, "creation_date": 1490216229, "question_id": 42962521, "link": "https://stackoverflow.com/questions/42962521/python-change-color-of-nodes-based-on-its-numbers", "title": "Python: change color of nodes based on its numbers", "body": "<p>I have a graph and I need to change color of some nodes.\nFor example</p>\n\n<p><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29]</code> </p>\n\n<p>all nodes in graph and there are blue.</p>\n\n<p>How can I</p>\n\n<p><code>[0, 1, 2, 3, 4, 5, 8, 9, 11, 15, 19, 21, 22, 23, 24, 25, 29]</code></p>\n\n<p>change to <code>red</code>?</p>\n"}, {"tags": ["python", "python-3.x", "module", "namespaces"], "comments": [{"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1490216239, "post_id": 42962461, "comment_id": 73019138, "body": "BTW the way it printed depends on the interpreter"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1490216275, "post_id": 42962461, "comment_id": 73019156, "body": "@abccd: What&#39;s unclear about it? Have you just not heard of <a href=\"https://www.python.org/dev/peps/pep-0420/\" rel=\"nofollow noreferrer\">namespace packages</a>?"}, {"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490216360, "post_id": 42962461, "comment_id": 73019208, "body": "@user2357112 have you just not heard of the OP can edit the post within the first minute and not show up as a <i>edit</i>? And have you just not see that I deleted that comment after that?"}], "answers": [{"comments": [{"owner": {"reputation": 370, "user_id": 2060855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/884b35f276681b92539237b7e6f91a1e?s=128&d=identicon&r=PG", "display_name": "Nathanael Farley", "link": "https://stackoverflow.com/users/2060855/nathanael-farley"}, "edited": false, "score": 0, "creation_date": 1490217595, "post_id": 42962529, "comment_id": 73019848, "body": "In my code, both namespace and regular modules have a <code>__path__</code>, is there a reason for checking the <code>__path__</code> attribute exists?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 370, "user_id": 2060855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/884b35f276681b92539237b7e6f91a1e?s=128&d=identicon&r=PG", "display_name": "Nathanael Farley", "link": "https://stackoverflow.com/users/2060855/nathanael-farley"}, "edited": false, "score": 0, "creation_date": 1490218158, "post_id": 42962529, "comment_id": 73020114, "body": "@NathanaelFarley: Packages have a <code>__path__</code>, but non-package modules don&#39;t. The <code>__path__</code> check is there to distinguish namespace packages from built-in modules like <code>sys</code>, which also don&#39;t have a <code>__file__</code>."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 6, "last_activity_date": 1603079613, "last_edit_date": 1603079613, "creation_date": 1490216241, "answer_id": 42962529, "question_id": 42962461, "link": "https://stackoverflow.com/questions/42962461/how-to-tell-if-python-module-is-a-namespace-module/42962529#42962529", "title": "How to tell if Python module is a namespace module", "body": "<p>Namespace packages have a <code>__path__</code>, and either <code>__file__</code> set to <code>None</code> or no <code>__file__</code> attribute. (<code>__file__</code> is set to <code>None</code> on <a href=\"https://docs.python.org/3/whatsnew/3.7.html#other-cpython-implementation-changes\" rel=\"nofollow noreferrer\">Python 3.7 and later</a>; previously, it was unset.)</p>\n<pre><code>if hasattr(mod, __path__) and getattr(mod, '__file__', None) is None:\n    print(&quot;It's a namespace package.&quot;)\n</code></pre>\n<p>In contrast, modules that aren't packages don't have a <code>__path__</code>, and packages that aren't namespace packages have <code>__file__</code> set to the location of their <code>__init__.py</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1594627749, "post_id": 58477800, "comment_id": 111180243, "body": "Oh crud, you&#39;re right - <a href=\"https://www.python.org/dev/peps/pep-0420/#specification\" rel=\"nofollow noreferrer\">PEP 420</a> says a namespace package &quot;Does not have a <code>__file__</code> attribute&quot;, but it looks like that got changed to <code>__file__=None</code> at some point."}], "tags": [], "owner": {"reputation": 4918, "user_id": 795876, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c5d0d7600171a1ae7adadca3287dafa4?s=128&d=identicon&r=PG", "display_name": "fsenart", "link": "https://stackoverflow.com/users/795876/fsenart"}, "is_accepted": false, "score": 5, "last_activity_date": 1571609927, "creation_date": 1571609927, "answer_id": 58477800, "question_id": 42962461, "link": "https://stackoverflow.com/questions/42962461/how-to-tell-if-python-module-is-a-namespace-module/58477800#58477800", "title": "How to tell if Python module is a namespace module", "body": "<p>From the <a href=\"https://docs.python.org/3.8/library/importlib.html#importlib.machinery.ModuleSpec.origin\" rel=\"noreferrer\">Python 3.8 documentation</a>, <code>__file__</code> is:</p>\n\n<blockquote>\n  <p>Name of the place from which the module is loaded, e.g. \u201cbuiltin\u201d for built-in modules and the filename for modules loaded from source. Normally \u201corigin\u201d should be set, but it may be None (the default) which indicates it is unspecified (e.g. for namespace packages).</p>\n</blockquote>\n\n<p>Also, the correct answer should be:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>is_namespace = (\n    lambda module: hasattr(module, \"__path__\")\n    and getattr(module, \"__file__\", None) is None\n)\n</code></pre>\n"}], "owner": {"reputation": 370, "user_id": 2060855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/884b35f276681b92539237b7e6f91a1e?s=128&d=identicon&r=PG", "display_name": "Nathanael Farley", "link": "https://stackoverflow.com/users/2060855/nathanael-farley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1174, "favorite_count": 1, "accepted_answer_id": 42962529, "answer_count": 2, "score": 6, "last_activity_date": 1603079613, "creation_date": 1490216015, "last_edit_date": 1490217013, "question_id": 42962461, "link": "https://stackoverflow.com/questions/42962461/how-to-tell-if-python-module-is-a-namespace-module", "title": "How to tell if Python module is a namespace module", "body": "<p>In Python 3, modules can be namespace modules without an <code>__init__.py</code> (as per <a href=\"https://www.python.org/dev/peps/pep-0420/\" rel=\"noreferrer\">PEP 420</a>) or as a regular module (i.e. '[modules] packages as they are implemented in Python 3.2 and earlier' - <a href=\"https://www.python.org/dev/peps/pep-0420/\" rel=\"noreferrer\">PEP 420</a>) that have an <code>__init__.py</code> or are a single <code>.py</code> file.</p>\n\n<p>How can you tell the difference between a namespace module and an 'ordinary' module?</p>\n\n<p>(I am using Python 3.5.3)</p>\n\n<p>e.g.\nNamespace module named <code>mod</code> prints out as:</p>\n\n<pre><code>(Pdb) mod\n&lt;module 'mymodule' (namespace)&gt;\n</code></pre>\n\n<p>and ordinary modules print out as:</p>\n\n<pre><code>(Pdb) mod\n&lt;module 'mymodule' from '/path/to/mymodule/__init__.py'&gt;\n</code></pre>\n"}, {"tags": ["python", "numpy", "nan"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1490216096, "post_id": 42962434, "comment_id": 73019048, "body": "I notice there&#39;s no <code>np</code> on <code>sum</code>. You may be using the built-in <code>sum</code>, which behaves differently from <code>numpy.sum</code>."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1490216468, "post_id": 42962434, "comment_id": 73019276, "body": "Yeah, think you want <code>np.isnan(z).sum()</code>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1490216584, "post_id": 42962434, "comment_id": 73019338, "body": "@juanpa.arrivillaga: <code>np.isnan(z).any()</code> would probably be more appropriate."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490216800, "post_id": 42962434, "comment_id": 73019461, "body": "@user2357112 Sure."}], "answers": [{"tags": [], "owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "is_accepted": true, "score": 6, "last_activity_date": 1490216740, "creation_date": 1490216740, "answer_id": 42962655, "question_id": 42962434, "link": "https://stackoverflow.com/questions/42962434/checking-for-nans-in-2d-numpy-arrays/42962655#42962655", "title": "checking for nan&#39;s in 2d numpy arrays", "body": "<p>isnan()  returns an array with true or false for each element in array. you need np.any() in addition to isnan(). see below example</p>\n\n<pre><code>import numpy as np\na = np.array([[1,2,3,4],[1,2,3,np.NaN]])\nprint np.isnan(a)\nprint np.any(np.isnan(a))\n</code></pre>\n\n<p>results in</p>\n\n<pre><code>[[False False False False]\n [False False False  True]]\nTrue\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 5760689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-E_eQTQz1cLg/AAAAAAAAAAI/AAAAAAAAAAA/DWPaqhB13Zc/photo.jpg?sz=128", "display_name": "Andrew Dennison", "link": "https://stackoverflow.com/users/5760689/andrew-dennison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6947, "favorite_count": 1, "accepted_answer_id": 42962655, "answer_count": 1, "score": 3, "last_activity_date": 1490216740, "creation_date": 1490215923, "question_id": 42962434, "link": "https://stackoverflow.com/questions/42962434/checking-for-nans-in-2d-numpy-arrays", "title": "checking for nan&#39;s in 2d numpy arrays", "body": "<p>I am working on a small piece of code that starts with an interpolated surface I made previsouly. The interpolation filled in gaps in the surface with nan's. Part of my processing involves looking at a local window around a particular point, and calculating some measures using the local surface. I would ideally like this code to <em>only</em> be able to do any calculations if the entire local surface does not contain nan values. The code iterates through the original large surface and checks to see if the local window about a point has a nan. </p>\n\n<p>I know this is not the most efficent way to go about doing it, time-efficiency is not something I have to worry about.  </p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>for in in range(startz,endx):\n    imin = i - half_tile\n    imax = i + half_tile +1   \n\n    for j in range(starty,endy):\n        jmin = i - half_tile\n        jmax = i + half_tile +1 \n\n        #Test the local surface for nan's\n        z = surface[imin:imax,jmin:jmax]\n        Test = np.isnan(sum(z))\n\n        #conditional statement\n        if Test:\n            print 'We have a nan'\n            #set measures I want to calculate to zero\n\n        else:\n            print 'We  have a complete window'\n            #do a set of calculations\n</code></pre>\n\n<p>the variable <code>surface</code> is the interpolated surface I created originally. The <code>half_tile</code> variables are just defining the size of the local window I want to use. The <code>startx,endx,starty,endy</code> are defining the size of the original surface to iterate through. </p>\n\n<p>Where I am running into issues is that my conditional statement doesn't seem to be working. It will tell me that the local window that I am evaluating doesn't have any nan's in it, but then the rest of my code (which I didn't show here) will not work because it says there are nan's in the array.  </p>\n\n<p>An example of this might be:</p>\n\n<pre><code> [[ 7.07494104  7.04592032  7.01689961  6.98787889  6.95885817  6.92983745\n  6.90081674  6.87179602  6.8427753   6.81375458  6.78473387  6.75571315\n  6.72669243]\n [ 7.10077447  7.07175376  7.04273304  7.01371232  6.98469161  6.95567089\n 6.92665017  6.89762945  6.86860874  6.83958802  6.8105673   6.78154658\n 6.75252587]\n [ 7.12660791  7.09758719  7.06856647  7.03954576  7.01052504  6.98150432\n 6.9524836   6.92346289  6.89444217  6.86542145  6.83640073  6.80738002\n  6.7783593 ]\n  [ 7.15244134  7.12342063  7.09439991  7.06537919  7.03635847  7.00733776\n 6.97831704  6.94929632  6.9202148   6.89105825  6.86190169  6.83274514\n 6.80358859]\n [ 7.17804068  7.14888413  7.11972758  7.09057103  7.06141448  7.03225793\n  7.00310137  6.97394482  6.94478827  6.91563172  6.88647517  6.85731862\n      nan]]\n</code></pre>\n\n<p>Here is an example of the local window that my code is evaluating. In my code this would be <code>z</code>. The entire array has good values except for the last value which is a <code>nan</code>. </p>\n\n<p>The \"checking\" function in my code is not picking up that there is a nan in the array. The conditional statement is returning a <code>false</code> when it should be a <code>true</code> to indicate that there is a <code>nan</code> present. I am missing anything fundamental in the way I am checking the array? or are my methods just totally wrong?         </p>\n"}, {"tags": ["python", "macos"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1490216002, "post_id": 42962397, "comment_id": 73018999, "body": "it&#39;s not a python question. Check <code>say</code> manual."}, {"owner": {"reputation": 173, "user_id": 6346504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42561298fbcd05d8ca6ea62ebaa406dd?s=128&d=identicon&r=PG&f=1", "display_name": "ovs", "link": "https://stackoverflow.com/users/6346504/ovs"}, "edited": false, "score": 0, "creation_date": 1490216420, "post_id": 42962397, "comment_id": 73019247, "body": "These questions may help you: <a href=\"http://stackoverflow.com/questions/2565204/adjust-osx-system-audio-volume-in-python\">Adjust OSX System Audio Volume in Python</a> and <a href=\"http://stackoverflow.com/questions/1920749/how-to-programmatically-set-volume-in-windows-mac-and-ubuntu\">How to programmatically set volume in Windows, Mac and Ubuntu?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1330, "user_id": 4041795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001661342971/picture?type=large", "display_name": "Montmons", "link": "https://stackoverflow.com/users/4041795/montmons"}, "edited": false, "score": 1, "creation_date": 1490216595, "post_id": 42962535, "comment_id": 73019343, "body": "Indeed, this will do as asked and set the systems volume (and thus also lowering the volume of the systems voice). Fun note: you could also go to <code>System Preferences &gt; Accessibility &gt; select Voice on the left side &gt; System Voice menu &gt; select Customize &gt; select Whisper &gt; press OK</code> now your Mac will download this voice and you could do <code>system(&quot;say -v Whisper Hello World!&quot;</code>)"}, {"owner": {"reputation": 4051, "user_id": 402777, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/31937963d9284f3c8069019588d28c17?s=128&d=identicon&r=PG", "display_name": "oreoshake", "link": "https://stackoverflow.com/users/402777/oreoshake"}, "edited": false, "score": 0, "creation_date": 1541205953, "post_id": 42962535, "comment_id": 93149381, "body": "I just came here to say I followed the advice to enable the &quot;whisper&quot; voice and it&#39;s incredibly creepy. I&#39;m still keeping it, but man is it creepy."}], "tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": false, "score": 2, "last_activity_date": 1490216987, "last_edit_date": 1490216987, "creation_date": 1490216268, "answer_id": 42962535, "question_id": 42962397, "link": "https://stackoverflow.com/questions/42962397/decrease-osx-say-command-volume-in-python-code/42962535#42962535", "title": "Decrease OSX say command volume in Python code", "body": "<p>You can use the <code>osascript</code> utility to set the system volume before invoking <code>say</code>:</p>\n\n<pre><code>system(\"osascript -e 'set Volume 1'\")\nsystem(\"say Hello World!\")\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 2241304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8362789d079b47d1444ea9426c78dcc5?s=128&d=identicon&r=PG", "display_name": "GregyPooh", "link": "https://stackoverflow.com/users/2241304/gregypooh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490216987, "creation_date": 1490215764, "question_id": 42962397, "link": "https://stackoverflow.com/questions/42962397/decrease-osx-say-command-volume-in-python-code", "title": "Decrease OSX say command volume in Python code", "body": "<p>Right now I am using the command:</p>\n\n<pre><code>system(\"say Hello World!\")\n</code></pre>\n\n<p>to have the system say \"Hello World!\". </p>\n\n<p>How do I decrease the volume?</p>\n"}, {"tags": ["python", "python-2.7", "sorting", "csv"], "comments": [{"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1490215687, "post_id": 42962350, "comment_id": 73018828, "body": "<code>pandas</code> can load/save csv files, with it you can easily load, add, sort and then save the top10"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 1, "creation_date": 1490215702, "post_id": 42962350, "comment_id": 73018839, "body": "You need to assign <code>pop()</code> to a variable, e.g. : <code>s = scores_int.pop(); print(s)</code>"}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1490216130, "post_id": 42962350, "comment_id": 73019072, "body": "@AChampion That&#39;s only true if he cares about the value that he&#39;s popping. It&#39;s not clear from the code whether that&#39;s the case. (He may be just using it to remove the last element from the list.)"}], "answers": [{"tags": [], "owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "is_accepted": true, "score": 1, "last_activity_date": 1490216037, "creation_date": 1490216037, "answer_id": 42962468, "question_id": 42962350, "link": "https://stackoverflow.com/questions/42962350/python-2-7-popping-from-a-list/42962468#42962468", "title": "Python 2.7: Popping from a list", "body": "<p>If the above code is otherwise \"working\" for you (you're able to add new scores, read and sort them), then to limit them to 10 all you need to do is slice off the first 10 scores. Replace this line:</p>\n\n<pre><code>scores_int.pop()\n</code></pre>\n\n<p>...with this:</p>\n\n<pre><code>scores_int = scores_int[:10]\n</code></pre>\n\n<p>That assumes your best scores come first. If not, then you want the <em>last</em> 10 items instead:</p>\n\n<pre><code>scores_int = scores_int[-10:]\n</code></pre>\n\n<p>It's safe to do this before you have 10 items in the list. In that case either of the given lines will simply do nothing.</p>\n"}], "owner": {"reputation": 71, "user_id": 7202289, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-mCct1kNBZkY/AAAAAAAAAAI/AAAAAAAAAHk/fSmWAV_8Li4/photo.jpg?sz=128", "display_name": "Harry Beggs", "link": "https://stackoverflow.com/users/7202289/harry-beggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 42962468, "answer_count": 1, "score": 0, "last_activity_date": 1490216037, "creation_date": 1490215578, "question_id": 42962350, "link": "https://stackoverflow.com/questions/42962350/python-2-7-popping-from-a-list", "title": "Python 2.7: Popping from a list", "body": "<p>I am currently making a game like space invaders. The game will take in all the scores from the game, sort them, and then save the scores to a csv file. My method of doing this is by saving scores to an unsorted csv file, reading and sorting those values, then saving the sorted values to different sorted csv file. However, I want my csv file to only store the top 10 scores. This is the code that I currently have for this process: </p>\n\n<pre><code>if col:\n    with open(\"rec_Scores.csv\", \"ab\") as f:     #adding new score into unsorted file\n        w = csv.writer(f, delimiter = \",\")\n        w.writerow([curr_score])\n\n\n    with open (\"rec_Scores.csv\", \"rb\") as csvfile:  #reads file, converts values to integers and sorts file (including the new score)\n        r = csv.reader(csvfile)\n        scores = list(r)\n        scores_int = [int(score[0]) for score in scores]\n    bubbleSort(scores_int)\n    scores_int.pop()\n    print(scores_int)\n\n    with open(\"srt_Scores.csv\", \"wb\") as sortfile:   #Should write a new csv file every time containing the sorted scores\n        w = csv.writer(sortfile, delimiter = \",\")\n        w.writerows([[v] for v in scores_int])\n</code></pre>\n\n<p>I know this isn't the most efficient method to do this process but it works mostly. If anyone could help me make the program just store the top 10 scores it would be much appreciated.</p>\n\n<p>P.s:\nThis is my first time working with a csv file in Python so I know it is messy and inefficient, but the scores are stored and sorted fine, I just want to limit the number of values.</p>\n"}, {"tags": ["python", "loops", "copy"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490215772, "post_id": 42962244, "comment_id": 73018875, "body": "<code>df_symbolslist = pd.read_csv(file)</code> keeps overwritting <code>df_symobolslist</code>. You only process the last one. I am puzzled by the format here... what do the symbolslist csv&#39;s look like? How do they encode sector and symbols?"}, {"owner": {"reputation": 61, "user_id": 7669093, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bcf817c6b0d478d7eb104d6a04d29814?s=128&d=identicon&r=PG&f=1", "display_name": "user7669093", "link": "https://stackoverflow.com/users/7669093/user7669093"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490215994, "post_id": 42962244, "comment_id": 73018994, "body": "This is what the symbollist csv&#39;s look like: <a href=\"http://prntscr.com/en97is\" rel=\"nofollow noreferrer\">prntscr.com/en97is</a>"}, {"owner": {"reputation": 61, "user_id": 7669093, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bcf817c6b0d478d7eb104d6a04d29814?s=128&d=identicon&r=PG&f=1", "display_name": "user7669093", "link": "https://stackoverflow.com/users/7669093/user7669093"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490216057, "post_id": 42962244, "comment_id": 73019025, "body": "This is what the csvs to copy look like.  <a href=\"http://prntscr.com/en98d2\" rel=\"nofollow noreferrer\">prntscr.com/en98d2</a>"}, {"owner": {"reputation": 61, "user_id": 7669093, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bcf817c6b0d478d7eb104d6a04d29814?s=128&d=identicon&r=PG&f=1", "display_name": "user7669093", "link": "https://stackoverflow.com/users/7669093/user7669093"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490216390, "post_id": 42962244, "comment_id": 73019226, "body": "The name of the symbolist csv is the sector group.  and the individual tickers within the csv are the sector constituents."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1490220283, "post_id": 42962244, "comment_id": 73021071, "body": "Can you take those screenshots and convert them to text and post here? That makes it more convenient for others to see what is going on."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 7669093, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bcf817c6b0d478d7eb104d6a04d29814?s=128&d=identicon&r=PG&f=1", "display_name": "user7669093", "link": "https://stackoverflow.com/users/7669093/user7669093"}, "edited": false, "score": 0, "creation_date": 1490221195, "post_id": 42963514, "comment_id": 73021433, "body": "Thank you very much tdelaney.  Let me give it a shot.  Also here is a dropbox link to what my csvs look like.<a href=\"https://www.dropbox.com/s/iqbt3pa6qiz70vg/Cross%20Asset%20Class.csv?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/iqbt3pa6qiz70vg/Cross%20Asset%20Class.csv&zwnj;&#8203;?dl=0</a>"}, {"owner": {"reputation": 61, "user_id": 7669093, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bcf817c6b0d478d7eb104d6a04d29814?s=128&d=identicon&r=PG&f=1", "display_name": "user7669093", "link": "https://stackoverflow.com/users/7669093/user7669093"}, "edited": false, "score": 0, "creation_date": 1490221413, "post_id": 42963514, "comment_id": 73021531, "body": "And he is the type of file I am trying to copy. <a href=\"https://www.dropbox.com/s/vusdpn8oizcda82/XLY.csv?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/vusdpn8oizcda82/XLY.csv?dl=0</a>"}, {"owner": {"reputation": 61, "user_id": 7669093, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bcf817c6b0d478d7eb104d6a04d29814?s=128&d=identicon&r=PG&f=1", "display_name": "user7669093", "link": "https://stackoverflow.com/users/7669093/user7669093"}, "edited": false, "score": 0, "creation_date": 1490222680, "post_id": 42963514, "comment_id": 73022126, "body": "Gave it a shot however it doesn&#39;t seem to like the &quot;upper&quot; in line 49 or 51.  Giving me a tuple error: ticker = os.path.splitext(os.path.basename(ticker_file)).upper()  AttributeError: &#39;tuple&#39; object has no attribute &#39;upper&#39;"}], "tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 0, "last_activity_date": 1490220248, "creation_date": 1490220248, "answer_id": 42963514, "question_id": 42962244, "link": "https://stackoverflow.com/questions/42962244/copy-file-for-loop-python/42963514#42963514", "title": "Copy file - for loop python", "body": "<p>If I understand the problem properly I think you should follow a slightly different approach. You can create a <code>dict</code> that maps tickers to the list of asset classes it belongs to. Then you that map to copy files. I don't think pandas helps here - you can build the map row by row using the standard csv module.</p>\n\n<p>I haven't tested this code because I don't have a proper data set, but consider doing this:</p>\n\n<pre><code>import os,sys,shutil\nimport glob \nimport csv\nimport collections\n\nsource_dir =  r'C:\\TS'\ndest_dir = r'C:\\TS\\Combined\\Groups\\Cross Asset Class'\n#dest_dir = r'C:\\TS\\Combined\\copytest'\nbase = r'C:\\TS\\Combined\\Groups'\n\n# asset classes of interest\nasset_classes = ('Cross Asset Class', 'Bonds', 'Commodities',\n    'Countries', 'Currencies', 'Industry Sectors', 'Segments and Styles',\n    'Us Sectors', 'Volatilities')\n\n# asset class directories indexed by class\ndest_dir_index = {asset_class.upper():os.path.join(base, asset_class)\n    for asset_class in asset_classes}\nprint(dest_dir_index)\n\n# make sure destination dirs exist\nfor dir_name in dest_dir_index.values():\n    if not os.path.isdir(dir_name):\n        os.mkdir(dir_name)\n\n# dict that creates key:[classes...] item when first accessed, used to keep\n# list of asset classes for each ticker symbol.\nticker_to_class_index = collections.defaultdict(list)\n\nfor asset_class in asset_classes:\n    symbolcsv = \"{}.csv\".format(os.path.join(base, asset_class))\n    print(symbolcsv)\n    with open(symbolcsv, newline='') as fp:\n        reader = csv.reader(fp)\n        next(fp) # skip header\n        for sectors, ticker in reader:\n            ticker_to_class_index[ticker.upper()].append(asset_class)\n\n# split ticker out of csv filenames and copy file to all asset classes\n# mapped for that ticker.\nfor ticker_file in glob.glob(os.path.join(source_dir, '*.csv*')):\n    ticker = os.path.splitext(os.path.basename(ticker_file)).upper()\n    print(ticker)\n    for asset_class in ticker_to_class_map[ticker.upper()]:\n        dest_dir = dest_dir_index[asset_class]\n        shutil.copy(ticker_file, dest_dir)\n        print(\"{} copied to {}\".format(ticker_file, dest_dir))\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7669093, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bcf817c6b0d478d7eb104d6a04d29814?s=128&d=identicon&r=PG&f=1", "display_name": "user7669093", "link": "https://stackoverflow.com/users/7669093/user7669093"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1474, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490220248, "creation_date": 1490215183, "question_id": 42962244, "link": "https://stackoverflow.com/questions/42962244/copy-file-for-loop-python", "title": "Copy file - for loop python", "body": "<p>Good afternoon,</p>\n\n<p>I have some code here that is meant to copy about 200 csv's from the source folder into destination folders based on the \"sector\" that they belong to.  The sector that they belong to is identified via the \"symbolslist\" which contains csvs with a list of tickers. The code works for the <em>most</em> part except that it is taking the list of tickers in the final csv in symbols list and copying all those CSV's into all the destination folders.  Basically I need to somehow combined the first for loop with the 3 for loops below it but am having a hard time doing that. Any comments are greatly appreciated.</p>\n\n<pre><code>import os,sys,shutil\nimport glob \nimport pandas as pd\n\nsource_dir =  'C:\\TS'\ndest_dir = 'C:\\TS\\Combined\\Groups\\Cross Asset Class'\n#dest_dir = 'C:\\TS\\Combined\\copytest'\nbase = 'C:\\TS\\Combined\\Groups'\n\ndest_dirlist = (base +'/Cross Asset Class', base+'/Bonds', base + '/Commodities', \\\n        base + '/Countries', base + '/Currencies', base + '/Industry Sectors', base + '/Segments and Styles', \\\n        base + '/Us Sectors', base + '\\Volatilities')\nprint(dest_dirlist)\n\nsymbolslist = (base+'/Cross Asset Class.csv', base+'/Bonds.csv',base+'/Commodities.csv' \\\n                 ,base+'/Currencies.csv', base+'/Industry Sectors.csv', base+'/Segments and Styles.csv', \\\n                  base+'/US Sectors.csv')\n\n\nfor file in symbolslist:\n    print(file)\n    df_symbolslist = pd.read_csv(file)\n    print(df_symbolslist)\n\n\nfor ticker_file in glob.glob(os.path.join(source_dir, '*.csv*')):\n    for ticker in df_symbolslist['Ticker']:\n        print(ticker)\n        if ticker in ticker_file:\n            for path in dest_dirlist:\n                shutil.copy(ticker_file, path)\n                print(ticker + ' File Copied')\n</code></pre>\n\n<p>Thank you very much for your time.</p>\n"}, {"tags": ["python", "arrays", "matlab", "numpy", "indexing"], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490215363, "post_id": 42962259, "comment_id": 73018645, "body": "Watch out - that&#39;s mixed basic and advanced indexing, which can give <a href=\"https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html#combining-advanced-and-basic-indexing\" rel=\"nofollow noreferrer\">weird surprises</a>."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490218097, "post_id": 42962259, "comment_id": 73020082, "body": "@user2357112 Thanks for pointing it out! Edited with some details on how it could apply here."}, {"owner": {"reputation": 127, "user_id": 1514188, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/13a088433f4d9447bc02334a7db73daf?s=128&d=identicon&r=PG", "display_name": "Gleko", "link": "https://stackoverflow.com/users/1514188/gleko"}, "edited": false, "score": 0, "creation_date": 1490219422, "post_id": 42962259, "comment_id": 73020683, "body": "Bah, that makes perfect sense. Thank you very much for your elaborate answer!"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1490217848, "last_edit_date": 1490217848, "creation_date": 1490215227, "answer_id": 42962259, "question_id": 42962215, "link": "https://stackoverflow.com/questions/42962215/python-how-to-correctly-index-numpy-array-with-other-numpy-arrays-similarly-t/42962259#42962259", "title": "Python - how to correctly index numpy array with other numpy arrays, similarly to MATLAB", "body": "<p><code>Slice</code> the first column and compare against <code>3</code> to give us a mask for selecting rows. After selecting rows by indexing into the first axis/rows of a <code>2D</code> array of the input array, we need to select the columns (second axis of array). On your MATLAB code, you have <code>3:end</code>, which would translate to <code>2:</code> on  NumPy. In MATLAB, you need to specify the end index, in NumPy you don't. So, it simplifies to <code>2:</code>, as compared to <code>3:end</code> on MATLAB.</p>\n\n<p>Thus, the code would be -</p>\n\n<pre><code>oldArray[oldArray[:,0]==3,2:]\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [352]: a\nOut[352]:    |===============&gt;|\narray([[1, 0, 4, 2, 0, 1, 3, 2],\n       [1, 0, 0, 3, 2, 3, 4, 4],\n       [1, 2, 1, 4, 4, 0, 4, 2],\n       [0, 2, 0, 3, 2, 2, 1, 2],\n       [1, 2, 3, 3, 1, 0, 0, 1],\n       [3, 4, 2, 4, 2, 0, 3, 4],  &lt;==\n       [3, 1, 1, 0, 0, 1, 2, 0],  &lt;==\n       [2, 0, 4, 3, 1, 3, 1, 1],\n       [4, 3, 1, 3, 1, 3, 4, 4],\n       [2, 0, 2, 0, 3, 1, 1, 1]])\n\nIn [353]: a[a[:,0]==3,2:]\nOut[353]: \narray([[2, 4, 2, 0, 3, 4],\n       [1, 0, 0, 1, 2, 0]])\n</code></pre>\n\n<hr>\n\n<p><strong>Reviewing your code -</strong></p>\n\n<p>Your code was -</p>\n\n<pre><code>In [359]: a[np.asarray(np.where(a[:,0] == 3)), 2:]\nOut[359]: \narray([[[2, 4, 2, 0, 3, 4],\n        [1, 0, 0, 1, 2, 0]]])\n</code></pre>\n\n<p>That works too, but creates a <code>3D</code> array as listed in the question.</p>\n\n<p>Dissecting into it -</p>\n\n<pre><code>In [361]: np.where(a[:,0] == 3)\nOut[361]: (array([5, 6]),)\n</code></pre>\n\n<p>We see <code>np.where</code> is a tuple of arrays, which are the row and column indices. For a slice of <code>1D</code>, you won't have both rows and columns, but \njust one array of indices.</p>\n\n<p>In MATLAB, <code>find</code> gives you an array of indices, so there's less confusion -</p>\n\n<pre><code>&gt;&gt; a\na =\n     3     4     3     3\n     2     5     5     2\n     2     2     2     3\n     5     3     4     4\n     4     3     4     2\n     3     2     4     2\n&gt;&gt; find(a(:,1)==3)\nans =\n     1\n     6\n</code></pre>\n\n<p>So, to get those indices, get the first array out of it -</p>\n\n<pre><code>In [362]: np.where(a[:,0] == 3)[0]\nOut[362]: array([5, 6])\n</code></pre>\n\n<p>Use it to index into the first axis and then slice the column from <code>2</code> onwards -</p>\n\n<pre><code>In [363]: a[np.where(a[:,0] == 3)[0]]\nOut[363]: \narray([[3, 4, 2, 4, 2, 0, 3, 4],\n       [3, 1, 1, 0, 0, 1, 2, 0]])\n\nIn [364]: a[np.where(a[:,0] == 3)[0],2:]\nOut[364]: \narray([[2, 4, 2, 0, 3, 4],\n       [1, 0, 0, 1, 2, 0]])\n</code></pre>\n\n<p>That gives you the expected output.</p>\n\n<hr>\n\n<p><strong>Word of caution</strong></p>\n\n<p>One needs to be careful while indexing into axes with masks or integers.</p>\n\n<p>In theory, the column-indexing there should be equivalent of indexing with <code>[2,3,4,5,6,7]</code> for <code>a</code> of <code>8 columns</code>.</p>\n\n<p>Let's try that -</p>\n\n<pre><code>In [370]: a[a[:,0]==3,[2,3,4,5,6,7]]\n....\nIndexError: shape mismatch: indexing arrays could ...\n     not be broadcast together with shapes (2,) (6,) \n</code></pre>\n\n<p>We are triggering <em><code>broadcastable</code></em> indexing there. The elements for indexing into the two axes are of different lengths and are not broadcastable.</p>\n\n<p>Let's verify that. The array for indexing into <code>rows</code> -</p>\n\n<pre><code>In [374]: a[:,0]==3\nOut[374]: array([False, False, False, False, False,  True,  True, False, False, False], dtype=bool)\n</code></pre>\n\n<p>Essentially that's an array of two elements, as there are two <code>True</code> elems -</p>\n\n<pre><code>In [375]: np.where(a[:,0]==3)[0]\nOut[375]: array([5, 6])\n</code></pre>\n\n<p>The array for indexing into columns was <code>[2,3,4,5,6,7]</code>, which was of length <code>6</code> and thus are not broadcastable against the row indices.</p>\n\n<p>To get to our desired target of selecting row IDs : <code>5,6</code> and for each of those rows select column IDs <code>2,3,4,5,6,7</code>, we could create <code>open meshes</code> with <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ix_.html\" rel=\"nofollow noreferrer\"><code>np._ix</code></a> that are broadcastable, like so -</p>\n\n<pre><code>In [376]: np.ix_(a[:,0]==3, [2,3,4,5,6,7])\nOut[376]: \n(array([[5],\n        [6]]), array([[2, 3, 4, 5, 6, 7]]))\n</code></pre>\n\n<p>Finally, index into input array with those for the desired o/p -</p>\n\n<pre><code>In [377]: a[np.ix_(a[:,0]==3, [2,3,4,5,6,7])]\nOut[377]: \narray([[2, 4, 2, 0, 3, 4],\n       [1, 0, 0, 1, 2, 0]])\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 1514188, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/13a088433f4d9447bc02334a7db73daf?s=128&d=identicon&r=PG", "display_name": "Gleko", "link": "https://stackoverflow.com/users/1514188/gleko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 42962259, "answer_count": 1, "score": 2, "last_activity_date": 1490217848, "creation_date": 1490215085, "question_id": 42962215, "link": "https://stackoverflow.com/questions/42962215/python-how-to-correctly-index-numpy-array-with-other-numpy-arrays-similarly-t", "title": "Python - how to correctly index numpy array with other numpy arrays, similarly to MATLAB", "body": "<p>I'm trying to learn python after years of using MATLAB and this is something I'm really stuck with. I have an array, say 10 by 8. I want to find rows that have value 3 in the first column and take columns \"2:\" in that row. What I do is:</p>\n\n<pre><code>newArray = oldArray[np.asarray(np.where(oldArray[:,0] == 3)), 2:]\n</code></pre>\n\n<p>But that creates a 3-dimensional array with first dimension 1, instead of 2-dimensional array. I'm trying to achieve MATLAB equivalent of </p>\n\n<pre><code>newArray = oldArray(find(oldArray(:,1)==3),3:end);\n</code></pre>\n\n<p>Anyone have any thoughts on how to do that? Thank you!</p>\n"}, {"tags": ["python", "python-2.7", "dictionary", "tuples"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 2, "creation_date": 1490215136, "post_id": 42962177, "comment_id": 73018502, "body": "You are using a <code>dict</code> for the <code>value</code>, aren&#39;t you just looking for <code>{a: [b, c] for ...}</code>"}, {"owner": {"reputation": 303, "user_id": 7438520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd6c944372c81ce2b8f1b58a97b2aa6f?s=128&d=identicon&r=PG&f=1", "display_name": "cptpython", "link": "https://stackoverflow.com/users/7438520/cptpython"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1490215356, "post_id": 42962177, "comment_id": 73018640, "body": "Yes! should have made it into a list rather than another <code>dict</code>"}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 7438520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd6c944372c81ce2b8f1b58a97b2aa6f?s=128&d=identicon&r=PG&f=1", "display_name": "cptpython", "link": "https://stackoverflow.com/users/7438520/cptpython"}, "edited": false, "score": 0, "creation_date": 1490215288, "post_id": 42962225, "comment_id": 73018600, "body": "Works brilliantly! Thanks! Originally, I wanted to save b and c as values which reference to <code>dict keys</code> i.e. <code>&#39;a&#39;, &#39;b&#39;, &#39;c&#39;</code>."}], "tags": [], "owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "is_accepted": true, "score": 4, "last_activity_date": 1490215127, "creation_date": 1490215127, "answer_id": 42962225, "question_id": 42962177, "link": "https://stackoverflow.com/questions/42962177/how-to-reference-multiple-values-in-a-python-dict/42962225#42962225", "title": "How to reference multiple values in a Python dict?", "body": "<p>Use this instead:</p>\n\n<pre><code>t_dict = {a:[b,c] for a,b,c in t_list}\n</code></pre>\n\n<p>Since you wanted to save b and c as a list.</p>\n"}, {"tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": false, "score": 0, "last_activity_date": 1490215367, "creation_date": 1490215367, "answer_id": 42962305, "question_id": 42962177, "link": "https://stackoverflow.com/questions/42962177/how-to-reference-multiple-values-in-a-python-dict/42962305#42962305", "title": "How to reference multiple values in a Python dict?", "body": "<p>The generic solution would be this one:</p>\n\n<pre><code>t_dict = {t[0]: t[1:] for t in t_list}\n</code></pre>\n\n<p>And if you consider the particular case you'd have:</p>\n\n<pre><code>t_dict = {t[0]:t[1:3] for t in t_list}\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 7438520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd6c944372c81ce2b8f1b58a97b2aa6f?s=128&d=identicon&r=PG&f=1", "display_name": "cptpython", "link": "https://stackoverflow.com/users/7438520/cptpython"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1479, "favorite_count": 1, "accepted_answer_id": 42962225, "answer_count": 2, "score": 1, "last_activity_date": 1490215367, "creation_date": 1490214972, "question_id": 42962177, "link": "https://stackoverflow.com/questions/42962177/how-to-reference-multiple-values-in-a-python-dict", "title": "How to reference multiple values in a Python dict?", "body": "<p>From <a href=\"https://stackoverflow.com/questions/14263494/converting-list-of-3-element-tuple-to-dictionary\">this question</a>:</p>\n\n<pre><code>&gt;&gt;&gt; t_list = [('a', 10, 98), ('b', 234, 65), ('c', 459, 5)]\n&gt;&gt;&gt; t_dict = {a:{b:c} for a,b,c in t_list}\n&gt;&gt;&gt; t_dict\n{'a': {10: 98}, 'c': {459: 5}, 'b': {234: 65}}\n</code></pre>\n\n<p>And I can call values based on the first element such as:</p>\n\n<pre><code>&gt;&gt;&gt; t_dict['a']\n{10: 98}\n</code></pre>\n\n<p>But how would I access individual values based on the key? Such as <code>10</code> or <code>98</code>. I am expecting something like this: <code>t_dict['a'][0]</code>. I have tried using <code>split()</code> and slicing it but no luck.</p>\n"}, {"tags": ["python", "atom-editor"], "comments": [{"owner": {"reputation": 955, "user_id": 3875230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZ7le.png?s=128&g=1", "display_name": "mugabits", "link": "https://stackoverflow.com/users/3875230/mugabits"}, "edited": false, "score": 0, "creation_date": 1490214922, "post_id": 42962015, "comment_id": 73018382, "body": "Do you have more than one python version installed in your system ?"}, {"owner": {"reputation": 1, "user_id": 7608207, "user_type": "registered", "profile_image": "https://graph.facebook.com/742969679203834/picture?type=large", "display_name": "Kraig6412", "link": "https://stackoverflow.com/users/7608207/kraig6412"}, "reply_to_user": {"reputation": 955, "user_id": 3875230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZ7le.png?s=128&g=1", "display_name": "mugabits", "link": "https://stackoverflow.com/users/3875230/mugabits"}, "edited": false, "score": 0, "creation_date": 1490215344, "post_id": 42962015, "comment_id": 73018631, "body": "I just have python3.6 was considering completely removing it and get getting 3.5 or 2.7 just to see if i get better results. I thought urlllib2 was apart of the standard library and it apparently it isn&#39;t."}, {"owner": {"reputation": 17954, "user_id": 1248008, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Z3JaL.png?s=128&g=1", "display_name": "Jonas Sch&#228;fer", "link": "https://stackoverflow.com/users/1248008/jonas-sch%c3%a4fer"}, "edited": false, "score": 0, "creation_date": 1490350086, "post_id": 42962015, "comment_id": 73083098, "body": "The urllibs got reworked with the release of python3. You can see <a href=\"https://docs.python.org/3/library/internet.html\" rel=\"nofollow noreferrer\">in the docs</a> that there\u2019s only urllib in python3. If you need to use urllib, you should be using the <code>urllib</code> module in python3."}, {"owner": {"reputation": 1, "user_id": 7608207, "user_type": "registered", "profile_image": "https://graph.facebook.com/742969679203834/picture?type=large", "display_name": "Kraig6412", "link": "https://stackoverflow.com/users/7608207/kraig6412"}, "edited": false, "score": 1, "creation_date": 1490382657, "post_id": 42962015, "comment_id": 73104288, "body": "Ok thank you. I figured that out my problem is anything I add to libs\\site-packages using pip won&#39;t come up when I run it in idle or atom. When I import it I get module not found. This is the same for even the module requests."}, {"owner": {"reputation": 105, "user_id": 6261035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47943384a9b0ca071aa439fe96dc65fa?s=128&d=identicon&r=PG&f=1", "display_name": "RAVI D PARIKH", "link": "https://stackoverflow.com/users/6261035/ravi-d-parikh"}, "edited": false, "score": 0, "creation_date": 1544556996, "post_id": 42962015, "comment_id": 94316017, "body": "Im facing the exact same problem.. where else do i add a new python package if not in lib\\site-packgaes?"}], "owner": {"reputation": 1, "user_id": 7608207, "user_type": "registered", "profile_image": "https://graph.facebook.com/742969679203834/picture?type=large", "display_name": "Kraig6412", "link": "https://stackoverflow.com/users/7608207/kraig6412"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 502, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490349846, "creation_date": 1490214530, "last_edit_date": 1490349846, "question_id": 42962015, "link": "https://stackoverflow.com/questions/42962015/atom-ide-python-modules-not-importing", "title": "Atom IDE Python Modules not importing", "body": "<p>Python modules not importing into Atom IDE. I am using:</p>\n\n<ul>\n<li>Windows 10 64bit</li>\n<li>Python 3.6</li>\n</ul>\n\n<p>What I have done so far:</p>\n\n<p>Loaded the environment Variables for my Python Directory. Which solved the issue of code running in\natom-runner.</p>\n\n<p>Example Python urllib2 wasn't found I pip install urllib2 from Cmd it was succesful but didn't come up in atom when i ran the import command. </p>\n\n<p>Anyhelp or suggestions if very appreciated. </p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1490214674, "post_id": 42961975, "comment_id": 73018239, "body": "<code>Tab</code> doesn&#39;t seem to be an array. (What you&#39;ve posted doesn&#39;t look like a data structure at all; whatever it is, it&#39;s not <code>Tab</code>.)"}, {"owner": {"reputation": 958, "user_id": 6423520, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8fc3e99a3faefae485217a3a7312e6f7?s=128&d=identicon&r=PG&f=1", "display_name": "Monica", "link": "https://stackoverflow.com/users/6423520/monica"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490215011, "post_id": 42961975, "comment_id": 73018428, "body": "It&#39;s a list of arrays"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1490215252, "post_id": 42961975, "comment_id": 73018577, "body": "Well, there&#39;s your problem. Lists of arrays don&#39;t support the operation you&#39;re trying to perform. Lists of arrays are generally only useful as an intermediate representation while you&#39;re building up an array incrementally; they should be converted to arrays once you want to start operating on the data."}, {"owner": {"reputation": 958, "user_id": 6423520, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8fc3e99a3faefae485217a3a7312e6f7?s=128&d=identicon&r=PG&f=1", "display_name": "Monica", "link": "https://stackoverflow.com/users/6423520/monica"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490215848, "post_id": 42961975, "comment_id": 73018918, "body": "I understood my mistake and the problem is solved. Thank you for pointing it out.!"}], "owner": {"reputation": 958, "user_id": 6423520, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8fc3e99a3faefae485217a3a7312e6f7?s=128&d=identicon&r=PG&f=1", "display_name": "Monica", "link": "https://stackoverflow.com/users/6423520/monica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490214984, "creation_date": 1490214380, "last_edit_date": 1490214984, "question_id": 42961975, "link": "https://stackoverflow.com/questions/42961975/setting-low-values-to-zeros-in-an-array", "title": "setting low values to zeros in an array", "body": "<p>I have a following list of arrays:</p>\n\n<pre><code>[array([  2.64161017e+00,   0.00000000e+00,  -1.61751972e-16]), array([ 0.,  0.,  0.]), array([ -5.84525493e-01,   1.68725948e+00,   3.57918637e-17]), array([  3.25845641e+00,  -1.96333607e+00,  -1.99522910e-16]), array([ 3.42568843,  0.92118282,  1.67971424]), array([ 3.4257338 ,  0.92122015, -1.67966083])]\n</code></pre>\n\n<p>I have tried to replace all small values by zeros:</p>\n\n<pre><code>Tab[np.abs(Tab)&lt;0.0000001] = 0\n</code></pre>\n\n<p>However, my way of solving this problem failed and I am getting the error in return:</p>\n\n<pre><code>TypeError: only integer arrays with one element can be converted to an index\n</code></pre>\n\n<p>How can I set elements to zero if they are below a specific threshold?</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 4936, "user_id": 4104008, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cPhXQ.jpg?s=128&g=1", "display_name": "Harun ERGUL", "link": "https://stackoverflow.com/users/4104008/harun-ergul"}, "is_accepted": false, "score": 1, "last_activity_date": 1490215537, "creation_date": 1490215537, "answer_id": 42962344, "question_id": 42961970, "link": "https://stackoverflow.com/questions/42961970/scrape-pages-using-beautiful-soup/42962344#42962344", "title": "Scrape pages using beautiful soup", "body": "<p>You can actually find difference between them. There is also a span before your data.</p>\n\n<pre><code> &lt;span class=\"property__base-info__unit\"&gt;Utropspris&lt;/span&gt;\n</code></pre>\n\n<p>As you see you can scrap this element also. If span content is <code>Utropspris</code> which means data is Utropspris if not which means Avgit.</p>\n"}, {"tags": [], "owner": {"reputation": 912, "user_id": 2710302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7ef75e2c9bb7830c76c8328743c6144?s=128&d=identicon&r=PG", "display_name": "christinabo", "link": "https://stackoverflow.com/users/2710302/christinabo"}, "is_accepted": true, "score": 2, "last_activity_date": 1490215884, "creation_date": 1490215884, "answer_id": 42962424, "question_id": 42961970, "link": "https://stackoverflow.com/questions/42961970/scrape-pages-using-beautiful-soup/42962424#42962424", "title": "Scrape pages using beautiful soup", "body": "<p>One idea would be to also scrape the tag associated with the value. As I see from the site, every row that contains information is into a <code>li</code> item with <code>class=\"property__base-info__item\"</code>.</p>\n\n<p>So in the first link, you have a span with <code>class=\"property__base-info__unit\"</code> whose text value is the 'Utropspris' and a span with <code>property__base-info__value</code> which is the value you have already acquired. </p>\n\n<p>You can do something like that:</p>\n\n<pre><code>elements = soup.findAll('li', class_='property__base-info__item')\npairs = {}\nfor element in elements:\n   tag = element.find('span', class_='property__base-info__unit').text\n   value = element.find('span', class_='property__base-info__value').text\n   pairs[tag] = value\n</code></pre>\n\n<p>I have not tested the code on my own, but the idea is to iterate through the list of items, and get both the tag and the value of the tag. Then, you can save the pairs in a dictionary and handle accordingly the cases the way you like.</p>\n"}], "owner": {"reputation": 127, "user_id": 7648044, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10211187545859044/picture?type=large", "display_name": "Mary", "link": "https://stackoverflow.com/users/7648044/mary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 42962424, "answer_count": 2, "score": 1, "last_activity_date": 1490215884, "creation_date": 1490214361, "last_edit_date": 1490214984, "question_id": 42961970, "link": "https://stackoverflow.com/questions/42961970/scrape-pages-using-beautiful-soup", "title": "Scrape pages using beautiful soup", "body": "<p>I have two slightly different urls: <a href=\"https://www.booli.se/annons/2278076\" rel=\"nofollow noreferrer\">https://www.booli.se/annons/2278076</a>, <a href=\"https://www.booli.se/bostad/507292\" rel=\"nofollow noreferrer\">https://www.booli.se/bostad/507292</a></p>\n\n<p>Difference between the first and the second page: In the second page there is no Utropspris (estimated price).</p>\n\n<p>In the first link I will get estimated price (Utropspris) using the following code:</p>\n\n<pre><code>in[1]= soup.findAll('span', class_='property__base-info__value')[1].text.strip() \nout[1]= u'3 800 000 kr\\n\\t\\t\\t64 407 kr/m\\xb2'\n</code></pre>\n\n<p>However in the second link using the same code I used above I will get fee (Avgift) </p>\n\n<pre><code>in[2]= soup.findAll('span', class_='property__base-info__value')[1].text.strip() \nout[2]= u'4 425 kr/m\\xe5n'\n</code></pre>\n\n<p>How can I tell my code that in the second link when I used the same code, this is not estimated price (Utropspris) anymore. This is fee (avgift), save it as fee and for the estimated price write NA. This is part of my code that might be helpful.</p>\n\n<pre><code>url=https://www.booli.se/bostad/507292\nimport requests\nfrom bs4 import BeautifulSoup\nrequest = requests.get(url)\nsoup = BeautifulSoup(request.text,'lxml')\nsoup.findAll('span', class_='property__base-info__value')[1].text.strip()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pygame", "cx-freeze"], "comments": [{"owner": {"reputation": 4855, "user_id": 2510347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8b4592704ce48913b5e75f20f3727d?s=128&d=identicon&r=PG", "display_name": "Anthony Tuininga", "link": "https://stackoverflow.com/users/2510347/anthony-tuininga"}, "edited": false, "score": 0, "creation_date": 1490299068, "post_id": 42961944, "comment_id": 73063296, "body": "What platform? What version of cx_Freeze? What version of Python? What exception (and call stack) are you getting? As long as main.py imports the other Python files with a regular import statement the other files should be found and included automatically."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4548084"}, "reply_to_user": {"reputation": 4855, "user_id": 2510347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8b4592704ce48913b5e75f20f3727d?s=128&d=identicon&r=PG", "display_name": "Anthony Tuininga", "link": "https://stackoverflow.com/users/2510347/anthony-tuininga"}, "edited": false, "score": 0, "creation_date": 1490300737, "post_id": 42961944, "comment_id": 73064250, "body": "@AnthonyTuininga Appended to question. If you need any more information, just ask"}, {"owner": {"reputation": 4855, "user_id": 2510347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8b4592704ce48913b5e75f20f3727d?s=128&d=identicon&r=PG", "display_name": "Anthony Tuininga", "link": "https://stackoverflow.com/users/2510347/anthony-tuininga"}, "edited": false, "score": 1, "creation_date": 1490799976, "post_id": 42961944, "comment_id": 73276073, "body": "Ubuntu has a modified Python which conflicts with cx_Freeze, I believe. If you build your own Python instead the problem should go away. If that is the case, please let me know. I&#39;ll see if I can get a Ubuntu setup to test on my end as well."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4548084"}, "reply_to_user": {"reputation": 4855, "user_id": 2510347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8b4592704ce48913b5e75f20f3727d?s=128&d=identicon&r=PG", "display_name": "Anthony Tuininga", "link": "https://stackoverflow.com/users/2510347/anthony-tuininga"}, "edited": false, "score": 0, "creation_date": 1490800336, "post_id": 42961944, "comment_id": 73276375, "body": "@AnthonyTuininga okay, thanks but im not sure exactly how i&#39;d do that. i&#39;ve found workarounds using other software for now. thanks anyway!"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4548084"}, "edited": false, "score": 0, "creation_date": 1495349228, "post_id": 44080107, "comment_id": 75209253, "body": "ill take your word for it! thanks for the instructions too:)"}], "tags": [], "owner": {"reputation": 31636, "user_id": 2614364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQZrZ.jpg?s=128&g=1", "display_name": "Bertrand Martel", "link": "https://stackoverflow.com/users/2614364/bertrand-martel"}, "is_accepted": true, "score": 1, "last_activity_date": 1495234880, "creation_date": 1495234880, "answer_id": 44080107, "question_id": 42961944, "link": "https://stackoverflow.com/questions/42961944/cx-freeze-no-module-named-codecs/44080107#44080107", "title": "cx_Freeze: &quot;No module named &#39;codecs&#39;&quot;", "body": "<p>I had exactly the same issue with cx_Freeze 5.0.1, python 3.4.4 on Ubuntu 15.10. As suggested by @Anthony Tuininga, reinstalling python from the source fixed the problem, for instance from <a href=\"http://www.tutorialspoint.com/articles/how-to-install-python-3-4-4-on-ubuntu\" rel=\"nofollow noreferrer\">this source</a> :</p>\n\n<pre><code>wget https://www.python.org/ftp/python/3.4.4/Python-3.4.4.tgz\ntar xzf Python-3.4.4.tgz\n\n# I had to specify the location of zlib in my case\ncd Python-3.4.4\n./configure --with-zlib-dir=/usr/lib/x86_64-linux-gnu\nsudo make altinstall\n</code></pre>\n\n<p>Then, I installed <a href=\"https://github.com/anthony-tuininga/cx_Freeze/releases\" rel=\"nofollow noreferrer\">cx_Freeze</a> from source :</p>\n\n<pre><code>wget https://github.com/anthony-tuininga/cx_Freeze/archive/5.0.1.tar.gz\ntar xzf 5.0.1.tar.gz\ncd ./cx_Freeze-5.0.1/\npython3.4 setup.py build\nsudo python3.4 setup.py install\n</code></pre>\n\n<p>I also installed <a href=\"https://github.com/pygame/pygame/releases\" rel=\"nofollow noreferrer\">pygame</a> from source (as you are using it too) :</p>\n\n<pre><code>wget https://github.com/pygame/pygame/archive/1.9.3.tar.gz\ntar xzf 1.9.3.tar.gz\ncd ./pygame-1.9.3/\npython3.4 setup.py build\nsudo python3.4 setup.py install\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4548084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3681, "favorite_count": 1, "accepted_answer_id": 44080107, "answer_count": 1, "score": 5, "last_activity_date": 1495234880, "creation_date": 1490214262, "last_edit_date": 1490300704, "question_id": 42961944, "link": "https://stackoverflow.com/questions/42961944/cx-freeze-no-module-named-codecs", "title": "cx_Freeze: &quot;No module named &#39;codecs&#39;&quot;", "body": "<p>I've been desperately trying to compile my python pygame program into standalone executables to no prevail. PyInstaller doesn't work properly with pygame, Nuitka doesn't make standalones that work and cx_Freeze is looking the best choice. However, when I compile using my <code>setup.py</code>, it makes a set of files but the <code>main</code> executable doesn't run.</p>\n\n<p>My <code>setup.py</code> is as below:</p>\n\n<pre><code>import sys\nimport cx_Freeze\n\nexecutables = [cx_Freeze.Executable(\"main.py\")]\nimages =[\"assets/images/1.png\",\"assets/images/2.png\",\"assets/images/3.png\",\"assets/images/4.png\",\"assets/images/5.png\",\"assets/images/6.png\",\"assets/images/7.png\",\"assets/images/8.png\",\"assets/images/tile.png\",\"assets/images/mark.png\",\"assets/images/mine.png\",\"assets/images/overlay.png\",\"assets/images/overlay_2.png\",\"assets/images/background.png\"]\n\ncx_Freeze.setup(\n    name=\"Minesweeper\",\n    options={\"build_exe\": {\"packages\":[\"pygame\"],\n                           \"include_files\":images}},\n    executables = executables\n\n)\n</code></pre>\n\n<p>There are other python files that are referenced to by <code>main.py</code>; does this matter?</p>\n\n<p>Many thanks</p>\n\n<p>Edit:\nAs requested, platform is Linux (Ubuntu 14.04); python version is 3.4.3; cx_Freeze is cxfreeze 5.0, downloaded through pip. The exact error reads:</p>\n\n<pre><code>Fatal Python error: Py_Initialize: Unable to get locale encoding\nTraceback (most recent call last):\nFile \"usr/lib/python3.4/encodings/__init__.py\", line 31, in &lt;module&gt;\nImportError: No module named 'codecs'\nAborted (core dumped)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "api", "twitter", "python-twitter"], "answers": [{"tags": [], "owner": {"reputation": 433, "user_id": 2697359, "user_type": "registered", "profile_image": "https://graph.facebook.com/90400020/picture?type=large", "display_name": "Elad Ratson", "link": "https://stackoverflow.com/users/2697359/elad-ratson"}, "is_accepted": true, "score": 1, "last_activity_date": 1606924972, "creation_date": 1606924972, "answer_id": 65111720, "question_id": 42961942, "link": "https://stackoverflow.com/questions/42961942/how-to-search-for-gifs-in-twitter-api/65111720#65111720", "title": "How to search for gifs in Twitter API?", "body": "<p>the Twitter operator you're looking for is <code>card_name:animated_gif</code>. The only problem with this operator is that it gives results only 7 days back, so for your query:</p>\n<pre><code>from:NHLJets since:2017-03-21 until:2017-03-22 card_name:animated_gif\n</code></pre>\n<p>you'll get nothing (<a href=\"https://twitter.com/search?q=from%3ANHLJets%20since%3A2017-03-21%20until%3A2017-03-22%20card_name%3Aanimated_gif&amp;src=typed_query&amp;f=live\" rel=\"nofollow noreferrer\">try...</a>). Even if you remove the dates you'll probably get nothing unless they actually posted a gif in the last 7 days.</p>\n<p>One way to get around it is to archive gif tweets in real (or close to real) time from a twitter list containing all the accounts of interest. Here is an example of all the tweets containing animated gifs by all of Twitter's official accounts:</p>\n<pre><code>card_name:animated_gif list:84839422\n</code></pre>\n<p><a href=\"https://twitter.com/search?q=card_name%3Aanimated_gif%20list%3A84839422&amp;src=typed_query&amp;f=live\" rel=\"nofollow noreferrer\">Try it...</a></p>\n"}], "owner": {"reputation": 960, "user_id": 1079129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf6259775f09a82c62bf1a9980555bc?s=128&d=identicon&r=PG", "display_name": "Hamatti", "link": "https://stackoverflow.com/users/1079129/hamatti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 65111720, "answer_count": 1, "score": 1, "last_activity_date": 1606924972, "creation_date": 1490214256, "question_id": 42961942, "link": "https://stackoverflow.com/questions/42961942/how-to-search-for-gifs-in-twitter-api", "title": "How to search for gifs in Twitter API?", "body": "<p>I'm using <a href=\"https://github.com/bear/python-twitter\" rel=\"nofollow noreferrer\">python-twitter</a> to build an application that would search for all the tweets including gifs in a given time range for a set of users.</p>\n\n<p>For example, I'd like to get all the gifs from user <a href=\"https://twitter.com/NHLJets\" rel=\"nofollow noreferrer\">@NHLJets</a> during the interval 2017-03-21 -> 2017-03-22.</p>\n\n<p>I know how to get all the rest</p>\n\n<p><code>import twitter\napi = twitter.Api(...) # The API keys inside the call\nprint api.GetSearch(raw_query='from=NHLJets&amp;since=2017-03-21&amp;until=2017-03-22')</code></p>\n\n<p>Using the Twitter Advanced Search, I can just say <code>q=gif</code> and <a href=\"https://twitter.com/search?l=&amp;q=gif%20from%3Anhljets%20since%3A2017-03-21%20until%3A2017-03-22&amp;src=typd\" rel=\"nofollow noreferrer\">it works</a> but for some reason using the <code>python-twitter</code>'s <code>api.GetSearch</code> it returns an empty list.</p>\n\n<p><code>In[34]: api.GetSearch(raw_query='q=gif&amp;from=NHLJets')\nOut[34]: []</code></p>\n\n<p>I'm willing to change from python2.7 to python3, I'm willing to change Twitter libraries - just curious to know if someone has figured this one out yet?</p>\n"}, {"tags": ["python", "arrays", "performance", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1490214591, "post_id": 42961967, "comment_id": 73018200, "body": "Great answer Divakar! Do you know if any of those methods is noticeably faster than the other?"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 4, "last_activity_date": 1490214729, "last_edit_date": 1490214729, "creation_date": 1490214356, "answer_id": 42961967, "question_id": 42961930, "link": "https://stackoverflow.com/questions/42961930/remove-zero-elements-with-same-index-from-two-arrays/42961967#42961967", "title": "Remove zero elements with same index from two arrays", "body": "<p>Create a combined mask and index -</p>\n\n<pre><code>mask = ~((a == 0) &amp; (b==0))\na,b = a[mask], b[mask]\n</code></pre>\n\n<p>Alternative way to create the mask -</p>\n\n<pre><code>mask = (a!=0) | (b!=0)\n</code></pre>\n\n<p>If you fancy built-ins, those would translate to -</p>\n\n<pre><code>~np.logical_and( a==0, b==0)\nnp.logical_or( a!=0, b!=0)\n</code></pre>\n\n<p>Runtime test comparing the mask creation codes -</p>\n\n<pre><code>In [342]: a = np.random.randint(0,10,(100000))\n\nIn [343]: b = np.random.randint(0,10,(100000))\n\nIn [344]: %timeit ~((a == 0) &amp; (b==0))\n     ...: %timeit (a!=0) | (b!=0)\n     ...: %timeit ~np.logical_and( a==0, b==0)\n     ...: %timeit np.logical_or( a!=0, b!=0)\n     ...: \n10000 loops, best of 3: 67.7 \u00b5s per loop\n10000 loops, best of 3: 62.8 \u00b5s per loop\n10000 loops, best of 3: 68.4 \u00b5s per loop\n10000 loops, best of 3: 62.8 \u00b5s per loop\n</code></pre>\n\n<p>Not seeing any clear winner. If you are to be picky, get one of those <code>OR-ing</code> based ones .</p>\n"}], "owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 42961967, "answer_count": 1, "score": 0, "last_activity_date": 1490214729, "creation_date": 1490214185, "question_id": 42961930, "link": "https://stackoverflow.com/questions/42961930/remove-zero-elements-with-same-index-from-two-arrays", "title": "Remove zero elements with same index from two arrays", "body": "<p>Given two <code>numpy</code> arrays with the same length, I need to remove from both of them those same index elements that are zero. For example, given the arrays</p>\n\n<pre><code>a = [5 9 2 0 1 4 9 0 8 1]\nb = [1 0 3 1 2 4 2 0 3 2]\n</code></pre>\n\n<p>I'd need to obtain</p>\n\n<pre><code>a = [5 9 2 0 1 4 9 8 1]\nb = [1 0 3 1 2 4 2 3 2]\n</code></pre>\n\n<p>i.e., only the element that had a zero value <em>in both arrays</em> was removed <em>from both arrays</em>. I've tried this approach</p>\n\n<pre><code>import numpy as np\n\na = np.random.randint(0, 10, 10)\nb = np.random.randint(0, 10, 10)\n\na_z_idx = [a != 0]\nb_z_idx = [b != 0]\n\nab_z_idx = a_z_idx and b_z_idx\n\na = a[ab_z_idx]\nb = b[ab_z_idx]\n</code></pre>\n\n<p>but this also removes those elements that are zero in either array, instead of just removing elements that are zero in of both of them.</p>\n\n<p>My actual arrays have several millions of elements, so I'm after the most efficient method possible.</p>\n"}, {"tags": ["python", "list", "text-mining"], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 6745006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n3qX6.jpg?s=128&g=1", "display_name": "Joakim", "link": "https://stackoverflow.com/users/6745006/joakim"}, "is_accepted": false, "score": 2, "last_activity_date": 1490216313, "last_edit_date": 1490216313, "creation_date": 1490215962, "answer_id": 42962445, "question_id": 42961881, "link": "https://stackoverflow.com/questions/42961881/search-webtext-for-each-word-in-a-list/42962445#42962445", "title": "search webtext for each word in a list", "body": "<p>You can use Counter from the collections module to help you out.</p>\n\n<pre><code>import requests\nfrom collections import Counter\ndef main():\n    url = input('Please enter the url to the website you want to search: ')\n    if not 'http' in url:\n        url = 'http://' + url\n\n    words = []\n    for i in range(1,4):\n        words.append(input('Please enter word number {}: '.format(i)))\n\n    resp = requests.get(url)\n    counter = Counter(resp.text.split())\n    for word in words:\n        print(word, 'found', counter[word], 'times')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 960, "user_id": 1079129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf6259775f09a82c62bf1a9980555bc?s=128&d=identicon&r=PG", "display_name": "Hamatti", "link": "https://stackoverflow.com/users/1079129/hamatti"}, "is_accepted": false, "score": 0, "last_activity_date": 1490216468, "last_edit_date": 1495539978, "creation_date": 1490216468, "answer_id": 42962579, "question_id": 42961881, "link": "https://stackoverflow.com/questions/42961881/search-webtext-for-each-word-in-a-list/42962579#42962579", "title": "search webtext for each word in a list", "body": "<p>Joakim gave <a href=\"https://stackoverflow.com/a/42962445/1079129\">an answer</a> that helps making your code easier to read and understand but I'll provide you a reason why it doesn't work in the first place.</p>\n\n<p>In your <code>Word()</code> function your variable <code>mywords</code> is a list of user-inputted words. When you pass that to the <code>FindAWord</code> function, you are giving a list instead of a single word. Then when you compare <code>if(item == word)</code> (there really shouldn't be <code>in FirstPart(list)</code> in that line), you are checking if a single word is equal to a list.</p>\n\n<p>You could fix that part by doing:</p>\n\n<pre><code>def Word():   \n    answer=input(\"please enter the websites to examine in the http format \")\n\n    response=requests.get(answer)\n    txt = response.text\n    print(txt)\n    mywords=Firstpart(list)\n    for word in mywords:\n        num=FindAWord(txt,word)\n        print(\"There are\", num, \"words called\",word)\n\ndef FindAWord(TheWebText,word):\n    print(TheWebText)\n    print(type(TheWebText))\n    MyList=TheWebText.split(sep=\" \")\n    print(MyList[0:100])\n    count=0\n    for item in MyList:\n        if(item==word):\n            print(item)\n            count=count+1\n    return count\n</code></pre>\n\n<p>You should really focus on making your variable names more descriptive to help you (and others) reading the code understand it easier. As you can see, you named the parameter in <code>FindAWord</code> a <code>word</code> which is singular and gives the impression that it is a single word. Instead, it was a list of words. If it would have been <code>users_words</code> or something, you would have immediately seen that something is wrong in <code>if(item == users_words)</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7753450"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1490216468, "creation_date": 1490214017, "question_id": 42961881, "link": "https://stackoverflow.com/questions/42961881/search-webtext-for-each-word-in-a-list", "title": "search webtext for each word in a list", "body": "<p>I have to write code that collects text from a website chosen by the User and will search this text for three selected words. It will then have to output each word and the number of times it appears on the site. </p>\n\n<pre><code>My attempt at writing this program leaves me with an output that tells me that 0 of the words listed are present on the webtext even when I know they do appear. Does anyone have an idea as to how to make it work?\nimport requests\n\ndef main():\n\n    Asentence=\"This,is,a,sentence,of,some,kind!\"\n    print(type(Asentence))\n    print(Asentence)\n    ListOfWords=Asentence.split(\",\")\n    print(type(ListOfWords))\n    print(ListOfWords)\n    print(ListOfWords[0])\n    print(ListOfWords[-1])\n    print(ListOfWords[3])\n\n    SomeOtherList=[\"Sally\", \"Fred\"]\n    print(type(SomeOtherList))\n    print(SomeOtherList)\n    print(SomeOtherList[0])\n\n    for thing in SomeOtherList:\n        print(thing)\n\n    n= eval(input(\"How many websites would you like to enter? :\"))\n    while n &gt; 0:\n        Word()\n        n=n-1  \n\n\n\n#------------------------------------------   \ndef Word():   \n    answer=input(\"please enter the websites to examine in the http format \")\n\n    response=requests.get(answer)\n    txt = response.text\n    print(txt)\n    mywords=Firstpart(list)\n    num=FindAWord(txt,mywords)\n    print(\"There are\", num, \"words called\",mywords)\n\n#----------------------------------------    \ndef FindAWord(TheWebText,word):\n\n    print(TheWebText)\n    print(type(TheWebText))\n    MyList=TheWebText.split(sep=\" \")\n    print(MyList[0:100])\n    count=0\n    for item in MyList:\n        if(item==word in Firstpart(list)):\n            print(item)\n            count=count+1\n\n    return count\n\n#----------------------------------\n\ndef Firstpart(list):\n wordchoice=[]\n firstword=input(\"Please enter the first word you would like to look for\")\n wordchoice.append(firstword)  \n secondword=input(\"Please enter the second word you would like to look for\")\n wordchoice.append(secondword) \n thirdword=input(\"Please enter the third word you would like to look for\")\n wordchoice.append(thirdword)\n return wordchoice\n\n\nmain()\n\nThank you so much in advance. \n</code></pre>\n"}, {"tags": ["python", "django", "unit-testing", "file-upload", "mocking"], "owner": {"reputation": 1013, "user_id": 5616580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6d6fac2bd7d0e135af8bbe8363504735?s=128&d=identicon&r=PG&f=1", "display_name": "mateuszb", "link": "https://stackoverflow.com/users/5616580/mateuszb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 529, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490213873, "creation_date": 1490213873, "question_id": 42961836, "link": "https://stackoverflow.com/questions/42961836/mocking-temporaryuploadedfile-in-django", "title": "Mocking TemporaryUploadedFile in Django", "body": "<p>I'm using Django (1.10.5) together with DRF (3.5.4) to create API. I've defined a view to handle file upload and call the <code>foo</code> method with the data passed in the post request and the path to temporary file where the uploaded file is being stored.</p>\n\n<pre><code>class FooView(APIView):\n    parser_classes = (FormParser, MultiPartParser)\n\n    def post(self, request, format=None):\n        serializer = NewFooSerializer(data=request.data)\n        if serializer.is_valid():\n            file_obj = serializer.validated_data[\"my_file\"]\n            name = serializer.validated_data[\"name\"]\n            foo_id = my_module.foo(name=name, my_file=file_obj.temporary_file_path())\n            result_url = reverse('api:foo', kwargs={\"foo_id\": foo_id})\n            return Response({\"result_url\": result_url}, status=status.HTTP_202_ACCEPTED)\n        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n</code></pre>\n\n<p>My serializer to validate incoming data looks like this</p>\n\n<pre><code>class NewFooSerializer(serializers.Serializer):\n    name = serializers.CharField()\n    my_file = serializers.FileField()\n</code></pre>\n\n<p>Basically I'd like to test this view without the filesystem interaction using <code>mock</code> library. My current test method is defined below</p>\n\n<pre><code>    @mock.patch('my_module.foo')\n    def test_post_should_invoke_foo_method(self, mocked_foo):\n        mocked_foo.return_value = \"123456\"\n        self.client.post(self.VIEW_URL,\n                         {'my_file': self.file_mock,\n                          'name': 'Test file'\n                          }, format='multipart')\n        mocked_new.assert_called_with(name=\"Test file\", my_file=\"/some/dummy/path\"\n</code></pre>\n\n<p>This one of course raises <code>AssertionError</code></p>\n\n<pre><code>AssertionError: Expected call: foo(my_file='/some/dummy/path', name='Test file')\nActual call: foo(my_file='/tmp/tmp0VrYgR.upload', name=u'Test file')\n</code></pre>\n\n<p>I couldn't find any solution how to mock <code>TemporaryUploadedFile</code> so I tried to mock <code>tempfile.NamedTemporaryFile</code> which is being used by this class. So I've added these lines before <code>TestCase</code></p>\n\n<pre><code>named_temporary_file_mock = mock.MagicMock(spec=tempfile.NamedTemporaryFile)\nnamed_temporary_file_mock.name = mock.MagicMock()\nnamed_temporary_file_mock.name.return_value = \"/some/dummy/path\"\n</code></pre>\n\n<p>and then decorate my test method with</p>\n\n<pre><code>@mock.patch('tempfile.NamedTemporaryFile', named_temporary_file_mock)\n</code></pre>\n\n<p>But unfortunately this results in the same error as previous version. What I might be missing? Should I take another approach to avoid interaction with the filesystem? </p>\n"}]