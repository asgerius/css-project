[{"tags": ["python", "numpy", "theano", "nnet"], "answers": [{"tags": [], "owner": {"reputation": 2569, "user_id": 2147347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e4iCE.jpg?s=128&g=1", "display_name": "malioboro", "link": "https://stackoverflow.com/users/2147347/malioboro"}, "is_accepted": false, "score": 0, "last_activity_date": 1476992252, "creation_date": 1476992252, "answer_id": 40163083, "question_id": 40143365, "link": "https://stackoverflow.com/questions/40143365/theano-operations-returning-odd-results/40163083#40163083", "title": "Theano operations returning odd results", "body": "<p>You can't just print a theano operation. There are two alternatives to show the same result:</p>\n\n<p>first, using theano.function</p>\n\n<pre><code>result = theano.dot(self.W, self.W.T)\nf = theano.function([],result)\nprint f()\n</code></pre>\n\n<p>or using np.dot</p>\n\n<pre><code>result = numpy.dot(self.W.get_value(), self.W.get_value().T)\nprint result\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 4489843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/915dbcf4e36633079665870285e4a120?s=128&d=identicon&r=PG&f=1", "display_name": "Peng Liu", "link": "https://stackoverflow.com/users/4489843/peng-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1477037128, "creation_date": 1477037128, "answer_id": 40171388, "question_id": 40143365, "link": "https://stackoverflow.com/questions/40143365/theano-operations-returning-odd-results/40171388#40171388", "title": "Theano operations returning odd results", "body": "<p>In python your can print any object. So the print clause is OK.\nThe problem is that you can only use symbolic variables in theano expressions. You CANNOT use values directly in theano expressions.\nSo your code can be written as:</p>\n\n<pre><code>self.W = theano.shared(value=np.random.standard_normal((state_dim, 4*state_dim)) * np.sqrt(2 / in_dim), name='W', borrow=True)\nprint(theano.dot(self.W, self.W.T)\n</code></pre>\n\n<p>Just remove the <code>get_value()</code> function.</p>\n"}], "owner": {"reputation": 97, "user_id": 4133131, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5481d0f06c3414394ca12001694f70ae?s=128&d=identicon&r=PG&f=1", "display_name": "hyit", "link": "https://stackoverflow.com/users/4133131/hyit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1477037128, "creation_date": 1476921349, "last_edit_date": 1476921696, "question_id": 40143365, "link": "https://stackoverflow.com/questions/40143365/theano-operations-returning-odd-results", "title": "Theano operations returning odd results", "body": "<p>So I'm trying to learn how to use Theano and specifically use it for neural networks.\nI'm on a Windows 10 system, using mingw64 and all the rest of the required files from the install page (with the exception of microsoft visual studio and cuda, as I do not plan to use my GPU).\nEverything seems to work and the \"baby steps\" part of the tutorial worked fine.\nWhen I try to run the following the code, however, I get some odd results -</p>\n\n<pre><code>self.W = theano.shared(value=np.random.standard_normal((state_dim, 4*state_dim)) * np.sqrt(2 / in_dim), name='W', borrow=True)\nprint(theano.dot(self.W.get_value(), self.W.get_value().T)\n</code></pre>\n\n<p>With the following error appearing:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\mingw64\\WinPython-64bit-3.4.4.4Qt5\\python-3.4.4.amd64\\lib\\site-packages\\theano\\__init__.py\", line 172, in dot\n    (e0, e1))\nNotImplementedError: ('Dot failed for the following reasons:', (None, None))\n</code></pre>\n\n<p>When I try to refer to W without get_value(), i.e.\n    print(theano.dot(self.W, self.W.T))\nI get a return value of <strong>dot.0</strong>.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1476921761, "post_id": 40143338, "comment_id": 67556714, "body": "Is <code>matches[n]</code> supposed to be a list of values that <code>n</code> is allowed to be matched with? Your description is unclear."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1476921842, "post_id": 40143338, "comment_id": 67556733, "body": "It sounds like this is just the <a href=\"https://en.wikipedia.org/wiki/Matching_(graph_theory)\" rel=\"nofollow noreferrer\">maximum matching problem</a>, which you should go read about."}], "owner": {"reputation": 29, "user_id": 7044980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ffbdc013af4443766f478b3e6282610?s=128&d=identicon&r=PG&f=1", "display_name": "3ftrbt", "link": "https://stackoverflow.com/users/7044980/3ftrbt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1476923811, "creation_date": 1476921147, "question_id": 40143338, "link": "https://stackoverflow.com/questions/40143338/most-possible-pairs", "title": "Most possible pairs", "body": "<p>Given a list of values, and information on possible matches, is there an efficient way to determine the fewest number of values left out of a pair? For instance</p>\n\n<pre><code>values = [1,2,3,4]\nmatches[1] = [4]\nmatches[2] = [3, 4]\nmatches[3] = [2]\nmatches[4] = [1, 2]\n</code></pre>\n\n<p>Possible pairings here could be</p>\n\n<pre><code>[(1,4),(2,3)]\n[(2,4)]\n</code></pre>\n\n<p>Of which the former is best, leaving 0 unpaired. </p>\n\n<p>Possible matches for any element in the list can be any set of values, but the relationship is symmetric. Values CAN have repeats</p>\n\n<p>I could certainly generate all possible pairings and test each one, but that's quite slow. Trying to do it as a sort of tree - generating possible matches (or no-match), removing the pair from the list, and returning the number of unmatched after the list is exhausted - works, but slows down dramatically as soon as I hit list sizes in the 20s (mind, this might just be my implementation). </p>\n\n<p>Internally I have the information on matches as a dictionary, where</p>\n\n<pre><code>matches[i] = [j for j in range(len(values)) if ismatch(values[j], values[i])]\n</code></pre>\n\n<p>which may or may not be efficient in itself.</p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "reply_to_user": {"reputation": 1572, "user_id": 5306470, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/9M5cV.jpg?s=128&g=1", "display_name": "Daniel Springer", "link": "https://stackoverflow.com/users/5306470/daniel-springer"}, "edited": false, "score": 1, "creation_date": 1476920850, "post_id": 40143267, "comment_id": 67556480, "body": "No, django is a framework on top of Python with a set structure of how to set up your models, urls, templates etc. Let&#39;s keep on topic :)"}], "answers": [{"comments": [{"owner": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "edited": false, "score": 0, "creation_date": 1476923545, "post_id": 40143546, "comment_id": 67557112, "body": "I&#39;ve made those adjustments, but I now get the error &quot;&#39;int&#39; object has no attribute &#39;tag&#39;&quot;. Here is my tracback: <a href=\"http://dpaste.com/13CWNB2\" rel=\"nofollow noreferrer\">dpaste.com/13CWNB2</a>"}, {"owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "reply_to_user": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "edited": false, "score": 0, "creation_date": 1476924068, "post_id": 40143546, "comment_id": 67557253, "body": "so <code>movie</code> of <code>movie.tag.add(tag)</code> is an integer. <code>instance</code> is the movie you are editing so you can do <code>instance.tag.add(tag)</code>. or you can update your post with the latest code."}, {"owner": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "edited": false, "score": 0, "creation_date": 1476924304, "post_id": 40143546, "comment_id": 67557305, "body": "Still getting the same error with <code>instance.tag.add(tag)</code>. I&#39;ve updated my post with the latest code"}, {"owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "reply_to_user": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "edited": false, "score": 0, "creation_date": 1476924594, "post_id": 40143546, "comment_id": 67557373, "body": "i included sample code in my answer since it&#39;s easier to explain the changes"}, {"owner": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "edited": false, "score": 0, "creation_date": 1476924932, "post_id": 40143546, "comment_id": 67557461, "body": "Thanks, but that give me the error  <code>super(type, obj): obj must be an instance or subtype of type</code>"}, {"owner": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "edited": false, "score": 0, "creation_date": 1476931088, "post_id": 40143546, "comment_id": 67558729, "body": "Your answer does not work. Could you please assist? I&#39;ve updated my original answer, but it keeps returning a key error"}, {"owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "reply_to_user": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "edited": false, "score": 0, "creation_date": 1476961593, "post_id": 40143546, "comment_id": 67574069, "body": "Sure, you have to keep <code>read_only=False</code> on <code>TagSerializer</code> as it was originally but call <code>validated_data.pop(&#39;tag&#39;)</code> before calling super - as otherwise it will raise an error that you should handle nested fields manually. Also make sure your json is valid: <code>{&quot;title&quot;: &quot;TEST title&quot;, &quot;tag&quot;: [{&quot;name&quot;: &quot;Test item&quot;, &quot;taglevel&quot;: 1}]}</code>"}, {"owner": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "edited": false, "score": 0, "creation_date": 1476965214, "post_id": 40143546, "comment_id": 67576801, "body": "So that tells me &quot;Exception Value: Tag matching query does not exist.&quot;. Here&#39;s the trace <a href=\"http://dpaste.com/065PAX0\" rel=\"nofollow noreferrer\">dpaste.com/065PAX0</a>"}, {"owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "reply_to_user": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "edited": false, "score": 0, "creation_date": 1476965574, "post_id": 40143546, "comment_id": 67577004, "body": "It&#39;s best if you compare the differences with the answer&#39;s code as it is a fully working example. In this case you probably want to use <code>Tag.objects.create</code> not <code>get</code>. In your code you first check with <code>filter</code> if a tag exists and if not you create a new tag."}, {"owner": {"reputation": 224, "user_id": 419799, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44567f8658fe4745e2665b8425a38622?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/419799/will"}, "reply_to_user": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "edited": false, "score": 1, "creation_date": 1504290479, "post_id": 40143546, "comment_id": 78973115, "body": "If anyone in the future comes here as I did, this proposed answer does not work; the default validator for ModelSerializer does not handle m2m relationships.  @Ycon is getting that error because (&#39;tag&#39;) doesn&#39;t exist in the key index for validated_data.  I believe a custom validator is required on the view.  I&#39;ll respond to this with a complete answer once I&#39;ve figured it out. Edit: source: <a href=\"http://www.django-rest-framework.org/api-guide/validators/#updating-nested-serializers\" rel=\"nofollow noreferrer\">django-rest-framework.org/api-guide/validators/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "is_accepted": false, "score": 6, "last_activity_date": 1476927150, "last_edit_date": 1476927150, "creation_date": 1476922886, "answer_id": 40143546, "question_id": 40143267, "link": "https://stackoverflow.com/questions/40143267/updating-an-manytomany-field-with-django-rest/40143546#40143546", "title": "Updating an ManyToMany field with Django rest", "body": "<p>There's no <code>put</code> method on the drf model serializer class so nothing calls <code>put(self, validated_data)</code>. Use: <code>update(self, instance, validated_data)</code> instead. Docs on saving instances: <a href=\"http://www.django-rest-framework.org/api-guide/serializers/#saving-instances\" rel=\"noreferrer\">http://www.django-rest-framework.org/api-guide/serializers/#saving-instances</a></p>\n\n<p>Also neither does the django model queryset has it: <code>Movie.objects.put</code> and <code>Tag.objects.put</code>. You have the <code>instance</code> argument for the movie already and if you are querying tags perhaps you need <code>Tag.objects.get</code> or <code>Tag.objects.filter</code>? QuerySet API Reference: <a href=\"https://docs.djangoproject.com/en/1.10/ref/models/querysets/#queryset-api\" rel=\"noreferrer\">https://docs.djangoproject.com/en/1.10/ref/models/querysets/#queryset-api</a></p>\n\n<p>After verifying that the serializer method is called, maybe you should write a test for it using drf test api client to be able to easily spot errors: <a href=\"http://www.django-rest-framework.org/api-guide/testing/#apiclient\" rel=\"noreferrer\">http://www.django-rest-framework.org/api-guide/testing/#apiclient</a></p>\n\n<p>serializers.py</p>\n\n<pre><code>class TagSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Tag\n        fields = ('name', 'taglevel', 'id')\n\n\nclass MovieSerializer(serializers.ModelSerializer):\n    tag = TagSerializer(many=True, read_only=False)\n\n    class Meta:\n        model = Movie\n        ordering = ('-created',)\n        fields = ('title', 'pk', 'tag')\n\n    def update(self, instance, validated_data):\n        tags_data = validated_data.pop('tag')\n        instance = super(MovieSerializer, self).update(instance, validated_data)\n\n        for tag_data in tags_data:\n            tag_qs = Tag.objects.filter(name__iexact=tag_data['name'])\n\n            if tag_qs.exists():\n                tag = tag_qs.first()\n            else:\n                tag = Tag.objects.create(**tag_data)\n\n            instance.tag.add(tag)\n\n        return instance\n</code></pre>\n\n<p>tests.py</p>\n\n<pre><code>class TestMovies(TestCase):\n    def test_movies(self):\n        movie = Movie.objects.create(title='original title')\n\n        client = APIClient()\n        response = client.put('/movies/{}/'.format(movie.id), {\n            'title': 'TEST title',\n            'tag': [\n                {'name': 'Test item', 'taglevel': 1}\n            ]\n        }, format='json')\n\n        self.assertEqual(response.status_code, 200, response.content)\n        # ...add more specific asserts\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 224, "user_id": 419799, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44567f8658fe4745e2665b8425a38622?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/419799/will"}, "is_accepted": true, "score": 4, "last_activity_date": 1592497952, "last_edit_date": 1592497952, "creation_date": 1506098402, "answer_id": 46369491, "question_id": 40143267, "link": "https://stackoverflow.com/questions/40143267/updating-an-manytomany-field-with-django-rest/46369491#46369491", "title": "Updating an ManyToMany field with Django rest", "body": "<p>Okay.  I promised to come back when I figured it out. This probably isn't completely data-safe as django hasn't yet validated the incoming data so I'm making some assumptions in my relative ignorance of python and django.  If anyone who's smarter than I am can expand this answer, please hit me up.</p>\n\n<p><em>note: I am a firm adherent to the Clean Code standard of writing software.  It has served me well over the years.  I know it's not meta for Python code, but without small, tightly focused methods, it felt sloppy.</em></p>\n\n<p><strong>Views.py</strong></p>\n\n<p>You have to clear the related objects yourself before you can add new ones if you can't have dupes.  It's the only way I could find to delete m2m reliably <em>for my use case</em>.  I needed to ensure there were no duplicates and I expect an atomic model.  Your mileage may vary.</p>\n\n<pre><code>class MovieViewSet(viewsets.ModelViewSet):\n    queryset = Movie.objects.all()\n    serializer_class = MovieSerializer\n\n    def update(self, requiest, *args, **kwargs):\n        movie = self.get_object()\n        movie.tags.clear()\n        return super().update(request, *args, **kwargs)\n</code></pre>\n\n<p><strong>Serializers.py</strong></p>\n\n<p>You have to hook the <code>to_internal_value</code> serializer method to get the data you need since the validator ignores m2m fields.</p>\n\n<pre><code>class Tag1Serializer(serializers.ModelSerializer):\n    class Meta:\n        model = Tag\n        fields = ('name',)\n\nclass EditSerializer(serializers.ModelSerializer):\n    tag = Tag1Serializer(many=True, read_only=True)\n    class Meta:\n        model = Movie\n        fields = ('title', 'tag', 'info', 'created',  'status')\n\n    def to_internal_value(self, data):\n        movie_id = data.get('id')\n        #if it's new, we can safely assume there's no related objects.\n        #you can skip this bit if you can't make that assumption.\n        if self.check_is_new_movie(movie_id):\n            return super().to_internal_value(data)\n        #it's not new, handle relations and then let the default do its thing\n        self.save_data(movie_id, data)\n        return super().to_internal_value(data)\n\n    def check_is_new_movie(self, movie_id):\n        return not movie_id\n\n    def save_data(self, movie_id, data):\n        movie = Movie.objects.filter(id=movie_id).first()\n        #the data we have is raw json (string).  Listify converts it to python primitives.\n        tags_data = Utils.listify(data.get('tags'))\n\n        for tag_data in tags_data:\n            tag_qs = Tag.objects.filter(name__iexact=tag_data['name'])\n            #I am also assuming that the tag already exists.  \n            #If it doesn't, you have to handle that.\n            if tag_qs.exists():\n                tag = tag_qs.first()\n                movie.tags.add(tag)\n</code></pre>\n\n<p><strong>Utils.py</strong></p>\n\n<pre><code>from types import *\nclass Utils:\n#python treats strings as iterables; this utility casts a string as a list and ignores iterables\ndef listify(arg):\n    if Utils.is_sequence(arg) and not isinstance(arg, dict):\n        return arg\n    return [arg,]\n\n def is_sequence(arg):\n     if isinstance(arg, str):\n         return False\n     if hasattr(arg, \"__iter__\"):\n         return True\n</code></pre>\n\n<p><strong>Test.py</strong></p>\n\n<p>Adjust urls as necessary for this to work.  The logic should be correct but may need some tweaking to correctly reflect your models and serializers.  It's more complex because we have to create the json data for the APIClient to send with the put request.</p>\n\n<pre><code>class MovieAPITest(APITestCase):\n    def setUp(self):\n        self.url = '/movies/'\n\n    def test_add_tag(self):\n        movie = Movie.objects.create(name=\"add_tag_movie\")\n        tag = Tag.objects.create(name=\"add_tag\")\n        movie_id = str(movie.id)\n        url = self.url + movie_id + '/'\n\n        data = EditSerializer(movie).data\n        data.update({'tags': Tag1Serializer(tag).data})\n        json_data = json.dumps(data)\n\n        self.client.put(url, json_data, content_type='application/json')\n        self.assertEqual(movie.tags.count(), 1)\n</code></pre>\n"}], "owner": {"reputation": 1562, "user_id": 4064680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11f20fb606b4adeea494774f406b511f?s=128&d=identicon&r=PG&f=1", "display_name": "Ycon", "link": "https://stackoverflow.com/users/4064680/ycon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8199, "favorite_count": 4, "accepted_answer_id": 46369491, "answer_count": 2, "score": 6, "last_activity_date": 1592497952, "creation_date": 1476920647, "last_edit_date": 1476931013, "question_id": 40143267, "link": "https://stackoverflow.com/questions/40143267/updating-an-manytomany-field-with-django-rest", "title": "Updating an ManyToMany field with Django rest", "body": "<p>I'm trying to set up this API so I can use a \"PUT\" to  update one/many \"TAG\"s on an item in the model \"MOVIE\". Tags is an M2M on MOVIE. I am posting on the PK of the item in movie.</p>\n\n<p>My httpie work (returns a 200OK) but nothing gets created. When I post the whole JSON (using fetch) it just creates the TAG but no M2M relationship on MOVIE (<a href=\"http://dpaste.com/0VCP53P\" rel=\"noreferrer\">link</a>).</p>\n\n<p>httpie</p>\n\n<pre><code>http -f PUT http://localhost:8000/api/Edit/3/ tag:='{\"name\": \"TEST\"}'\n</code></pre>\n\n<p>Models.py</p>\n\n<pre><code>class Tag(models.Model):\n    name = models.CharField(\"Name\", max_length=5000, blank=True)\n    taglevel = models.IntegerField(\"Tag level\", null=True, blank=True)\n\nclass Movie(models.Model):\n    title = models.CharField(\"Whats happening?\", max_length=10000, blank=True)\n    tag = models.ManyToManyField('Tag', blank=True)\n</code></pre>\n\n<p>Serializers.py</p>\n\n<pre><code>class Tag1Serializer(serializers.ModelSerializer):\n    class Meta:\n        model = Tag\n        fields = ('name',)\n\nclass EditSerializer(serializers.ModelSerializer):\n    tag = Tag1Serializer(many=True, read_only=True)\n    class Meta:\n            model = Movie\n            fields = ('title', 'tag', 'info', 'created',  'status')\n\n    def update(self, instance, validated_data):\n        import pdb; pdb.set_trace()\n        tags_data = validated_data.pop('tag')\n        for tag_data in tags_data:\n            tag_qs = Tag.objects.filter(name__iexact=tag_data['name'])\n            if tag_qs.exists():\n                tag = tag_qs.first()\n            else:\n                tag = Tag.objects.get(**tag_data)\n            instance.tag.add(tag)\n        return movie\n</code></pre>\n\n<p>Views.py</p>\n\n<pre><code>class MovieViewSet(viewsets.ModelViewSet):\n    queryset = Movie.objects.all()\n    serializer_class = MovieSerializer\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Traceback\n    tags_data = validated_data.pop('tag')\nKeyError: 'tag'\n</code></pre>\n"}, {"tags": ["python", "selenium-webdriver"], "comments": [{"owner": {"reputation": 1872, "user_id": 2425654, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/q5XPD.jpg?s=128&g=1", "display_name": "thebadguy", "link": "https://stackoverflow.com/users/2425654/thebadguy"}, "edited": false, "score": 0, "creation_date": 1476921691, "post_id": 40143228, "comment_id": 67556695, "body": "please share the html and its is advisable to use relative xpath in place of absolute xpath"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6662462"}, "reply_to_user": {"reputation": 1872, "user_id": 2425654, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/q5XPD.jpg?s=128&g=1", "display_name": "thebadguy", "link": "https://stackoverflow.com/users/2425654/thebadguy"}, "edited": false, "score": 0, "creation_date": 1476927246, "post_id": 40143228, "comment_id": 67557942, "body": "I have used relative xpath in the example, It does not find the iframe because google loads a new recaptcha frame (iframe) which loads new document so in the new document the iframe will not be existed."}], "owner": {"user_type": "does_not_exist", "display_name": "user6662462"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 587, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1476920400, "creation_date": 1476920400, "question_id": 40143228, "link": "https://stackoverflow.com/questions/40143228/how-to-get-google-recaptcha-image-source-using-selenium-webdrive", "title": "How to get google reCaptcha image source using Selenium Webdrive?", "body": "<p>I understood that reCaptcha loads a new frame document into \npages iframe. \nTo fetch captcha's source image I need to switch frames in selenium webdriver, and iterate the loaded frame for image src.</p>\n\n<p>This is the iframe i want to switch to - </p>\n\n<blockquote>\n  \n</blockquote>\n\n<p>However, google uses random name attribute for each frame, and switching frame by xpath throws \"an unable to locate element\" error.</p>\n\n<p><code>browser.switch_to_frame(browser.find_elements_by_xpath('/html/body/div[2]/div[4]/iframe'))</code> </p>\n\n<p>Using </p>\n\n<pre><code>&gt; driver.switch_to_frame(driver.find_elements_by_tag_name(\"iframe\")[0])\n</code></pre>\n\n<p>Fails to locate iframe. </p>\n\n<p><strong>Bottom line, How to switch to another frame using Selenium webdriver?</strong></p>\n"}, {"tags": ["python", "bash", "multiline"], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 22, "last_activity_date": 1476920297, "creation_date": 1476920297, "answer_id": 40143212, "question_id": 40143190, "link": "https://stackoverflow.com/questions/40143190/how-to-execute-multiline-python-code-from-a-bash-script/40143212#40143212", "title": "How to execute multiline python code from a bash script?", "body": "<p>Use a here-doc:</p>\n\n<pre><code>result=$(python &lt;&lt;EOF\nimport stuff\nprint('all $code in one very long line')\nEOF\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1600, "user_id": 2641038, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/VCnlL.png?s=128&g=1", "display_name": "Lion Lai", "link": "https://stackoverflow.com/users/2641038/lion-lai"}, "edited": false, "score": 0, "creation_date": 1586335739, "post_id": 40143247, "comment_id": 108088088, "body": "How to return two variables to &quot;res&quot;? Thanks."}, {"owner": {"reputation": 1298, "user_id": 333403, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eba6f06b5dfa5885c37acd2eb2089798?s=128&d=identicon&r=PG", "display_name": "cknoll", "link": "https://stackoverflow.com/users/333403/cknoll"}, "reply_to_user": {"reputation": 1600, "user_id": 2641038, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/VCnlL.png?s=128&g=1", "display_name": "Lion Lai", "link": "https://stackoverflow.com/users/2641038/lion-lai"}, "edited": false, "score": 1, "creation_date": 1586507804, "post_id": 40143247, "comment_id": 108157064, "body": "res contains a string with the output. So you have to parse the string. Constructs like <code>a, b = &quot;foo&quot;, &quot;bar&quot;</code> are imho not possible in bash."}, {"owner": {"reputation": 12642, "user_id": 3019689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cc10b8b7be444698cc0737fb52d51ce7?s=128&d=identicon&r=PG&f=1", "display_name": "jez", "link": "https://stackoverflow.com/users/3019689/jez"}, "edited": false, "score": 0, "creation_date": 1596295287, "post_id": 40143247, "comment_id": 111769317, "body": "This is great because it doesn&#39;t tie up <code>stdin</code>"}], "tags": [], "owner": {"reputation": 1298, "user_id": 333403, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eba6f06b5dfa5885c37acd2eb2089798?s=128&d=identicon&r=PG", "display_name": "cknoll", "link": "https://stackoverflow.com/users/333403/cknoll"}, "is_accepted": false, "score": 6, "last_activity_date": 1476920555, "last_edit_date": 1495542184, "creation_date": 1476920555, "answer_id": 40143247, "question_id": 40143190, "link": "https://stackoverflow.com/questions/40143190/how-to-execute-multiline-python-code-from-a-bash-script/40143247#40143247", "title": "How to execute multiline python code from a bash script?", "body": "<p>Tanks to <a href=\"https://stackoverflow.com/a/37222377/333403\">this SO answer</a> I found the answer myself:</p>\n\n<pre><code>#!/bin/bash\n\n# some bash code\nEND_VALUE=10\n\nPYTHON_CODE=$(cat &lt;&lt;END\n# python code starts here\nimport math\n\nfor i in range($END_VALUE):\n    print(i, math.sqrt(i))\n\n# python code ends here\nEND\n)\n\n# use the \nres=\"$(python3 -c \"$PYTHON_CODE\")\"\n\n# continue with bash code\necho \"$res\"\n</code></pre>\n"}], "owner": {"reputation": 1298, "user_id": 333403, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eba6f06b5dfa5885c37acd2eb2089798?s=128&d=identicon&r=PG", "display_name": "cknoll", "link": "https://stackoverflow.com/users/333403/cknoll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5780, "favorite_count": 3, "accepted_answer_id": 40143212, "answer_count": 2, "score": 16, "last_activity_date": 1476920555, "creation_date": 1476920161, "question_id": 40143190, "link": "https://stackoverflow.com/questions/40143190/how-to-execute-multiline-python-code-from-a-bash-script", "title": "How to execute multiline python code from a bash script?", "body": "<p>I need to extend a shell script (bash). As I am much more familiar with python I want to do this by writing some lines of python code which depends on variables from the shell script. Adding an extra python file is not an option.</p>\n\n<pre><code>result=`python -c \"import stuff; print('all $code in one very long line')\"` \n</code></pre>\n\n<p>is not very readable.</p>\n\n<p>I would prefer to specify my python code as a multiline string and then execute it.</p>\n"}, {"tags": ["python", "django", "pip", "pillow", "easy-install"], "comments": [{"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1476927284, "post_id": 40143173, "comment_id": 67557952, "body": "Try the one for 3.4 <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#pillow\" rel=\"nofollow noreferrer\">lfd.uci.edu/~gohlke/pythonlibs/#pillow</a>"}, {"owner": {"reputation": 13255, "user_id": 6885902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9eWg.jpg?s=128&g=1", "display_name": "Jeru Luke", "link": "https://stackoverflow.com/users/6885902/jeru-luke"}, "edited": false, "score": 0, "creation_date": 1484232165, "post_id": 40143173, "comment_id": 70433179, "body": "Try downloading the precompiled wheel version <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/\" rel=\"nofollow noreferrer\">HERE</a>"}], "owner": {"reputation": 396, "user_id": 6934979, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-t6g11YYalHM/AAAAAAAAAAI/AAAAAAAAAvs/lihRnd1IF8g/photo.jpg?sz=128", "display_name": "Corey Shaw", "link": "https://stackoverflow.com/users/6934979/corey-shaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 554, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476923550, "creation_date": 1476920098, "last_edit_date": 1476923550, "question_id": 40143173, "link": "https://stackoverflow.com/questions/40143173/trouble-installing-pillow-for-windows-10", "title": "Trouble installing pillow for Windows 10", "body": "<p>Having issues installing Pillow for python djgango. I am using Windows 10, Python 3.6.</p>\n\n<p>When I run pip install pillow==3.3.0. </p>\n\n<pre><code>ValueError: zlib is required unless explicitly disabled using --disable-zlib, aborting\n</code></pre>\n\n<p>My question is how do I properly install its dependency(zlib)?  I cant find any documentation on how to successfully install it in Windows.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1476920654, "post_id": 40143166, "comment_id": 67556416, "body": "My guess is that your <code>guess**3 - num</code> never converges on a value that&#39;s less than the <code>epsilon</code>"}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1476921035, "post_id": 40143166, "comment_id": 67556538, "body": "I&#39;m voting to close this question as off-topic because the root of the problem is an incorrect mathematical algorithm."}, {"owner": {"reputation": 249, "user_id": 1960710, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/88e6bab7d23a47f37b10c7f6d2dd1e80?s=128&d=identicon&r=PG", "display_name": "Stumpp", "link": "https://stackoverflow.com/users/1960710/stumpp"}, "edited": false, "score": 0, "creation_date": 1476921086, "post_id": 40143166, "comment_id": 67556550, "body": "The more accurate your guess becomes, your delta get smaller and smaller and will continue adding/substracting lower and lower values"}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1476940061, "post_id": 40143315, "comment_id": 67561186, "body": "Yes, and do not forget about <code>equality</code> branch: <code>guess**3 &gt;= num</code>"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1476953874, "post_id": 40143315, "comment_id": 67568762, "body": "@EugenKonkov Good observation, but an equality will not require an update on <code>guess</code>. Equality will simply stop the while loop when the condition is evaluated at the next iteration."}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 2, "last_activity_date": 1476920983, "creation_date": 1476920983, "answer_id": 40143315, "question_id": 40143166, "link": "https://stackoverflow.com/questions/40143166/finding-cubed-root-using-delta-and-epsilon-in-python/40143315#40143315", "title": "finding cubed root using delta and epsilon in Python", "body": "<p>First thing, you should use <code>if/elif</code> instead of separate <code>if</code> blocks. </p>\n\n<p>Consider the following:\nwhen <code>guess**3 &gt; num</code> is <code>True</code>, you update <code>guess</code> by reducing its value so that <code>guess**3 &lt; num</code> (the next if condition) becomes <code>True</code> again, which reverses the initial update. In summary, the value of <code>guess</code> is never changed in that loop, and the loop whirls to infinity.</p>\n\n<p>Secondly you want to regularize the <code>delta</code> value (penalize it) as it can be come alarming large as the value of <code>num</code> increases.</p>\n\n<pre><code>num = 100\n\nepsilon = 0.01\nguess = num/3.0\n\nwhile abs(guess**3 - num) &gt;= epsilon:\n    delta = abs(guess**3 - num)/num\n    if guess**3 &gt; num:\n        guess = (guess - delta*epsilon**0.5)\n    elif guess**3 &lt; num:\n        guess = (guess + delta*epsilon**0.5)\nprint(\"Guess:\", guess)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7044992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec955fd2d4fd78619664cc9203c69b0?s=128&d=identicon&r=PG&f=1", "display_name": "badCoder", "link": "https://stackoverflow.com/users/7044992/badcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 40143315, "answer_count": 1, "score": 1, "last_activity_date": 1476920983, "creation_date": 1476920011, "question_id": 40143166, "link": "https://stackoverflow.com/questions/40143166/finding-cubed-root-using-delta-and-epsilon-in-python", "title": "finding cubed root using delta and epsilon in Python", "body": "<p>I am trying to write a program that finds cubed root using delta and epsilon but i'm stuck because i cant figure out why my program runs in an infinite loop</p>\n\n<pre><code>    num = 100\n\n    epsilon = 0.01\n    guess = num/3.0\n\n\n    while abs(guess**3 - num) &gt;= epsilon:\n        delta = abs(guess**3 - num)/100\n        if guess**3 &gt; num:\n            guess = (guess - delta)\n        if guess**3 &lt; num:\n            guess = (guess + delta)\n    print(\"Guess:\", guess)\n</code></pre>\n"}, {"tags": ["python", "sockets", "time", "stopwatch", "milliseconds"], "comments": [{"owner": {"reputation": 1119, "user_id": 6222397, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027495110613102/picture?type=large", "display_name": "Hisham Karam", "link": "https://stackoverflow.com/users/6222397/hisham-karam"}, "edited": false, "score": 1, "creation_date": 1476920097, "post_id": 40143164, "comment_id": 67556262, "body": "use <code>timeit</code> module"}], "answers": [{"tags": [], "owner": {"reputation": 1119, "user_id": 6222397, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027495110613102/picture?type=large", "display_name": "Hisham Karam", "link": "https://stackoverflow.com/users/6222397/hisham-karam"}, "is_accepted": false, "score": 1, "last_activity_date": 1476921866, "creation_date": 1476921866, "answer_id": 40143426, "question_id": 40143164, "link": "https://stackoverflow.com/questions/40143164/how-can-i-implement-a-stopwatch-in-my-socket-python-program/40143426#40143426", "title": "How can I implement a stopwatch in my socket Python program", "body": "<p>you can Use <code>timeit</code> module or use <code>decorator</code> to get execution time of function:</p>\n\n<pre><code>import time\ndef timer(func):\n   def func_wrapper(*args, **kwargs):\n        before = time.time()\n        call = func(*args, **kwargs)\n        after = time.time()\n        print '%s function took %0.5f millisecond' % (func.__name__, (after-before)*1000.0)\n        return call\n   return func_wrapper\n\n@timer\ndef test():\n    return[i**2 for i in range(10000)]\n\n\ntest()\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>test function took 3.99995 millisecond\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5029540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3b3712cc7a08d8b9f7332c7eb7be866?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Awesomepants", "link": "https://stackoverflow.com/users/5029540/nicholas-awesomepants"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1476921866, "creation_date": 1476919998, "question_id": 40143164, "link": "https://stackoverflow.com/questions/40143164/how-can-i-implement-a-stopwatch-in-my-socket-python-program", "title": "How can I implement a stopwatch in my socket Python program", "body": "<p>I am creating a very simple ping program in Python that will send 16- 64 bytes of information to a local server, once the server has received all the bytes, it will send back a 1 Byte message back to the client. (We are testing wifi speeds...) it is very crucial that my client program measures how much time it took to send these bytes. I need a \"stopwatch\" to measure in milliseconds how much time it took to get the 1 byte message back from the server. </p>\n\n<p>My question is, how can I do this?\nI know that there is time library, but there is no function in there that can help me measure in milliseconds like I need. Thank you</p>\n\n<p>Also I am using Python 3.4 for this project.</p>\n"}, {"tags": ["python", "python-3.x", "random", "complexity-theory"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476920417, "post_id": 40143157, "comment_id": 67556347, "body": "If it&#39;s not stated in the specification, it&#39;s presumably implementation-dependent."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1476920580, "post_id": 40143157, "comment_id": 67556397, "body": "I can&#39;t imagine any reason why it wouldn&#39;t be <code>O(1)</code>. It just needs to pick a random number <code>i</code> from <code>0</code> to <code>len(list)</code>, then return <code>list[i]</code>. They&#39;re all constant-time operations."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476920691, "post_id": 40143157, "comment_id": 67556424, "body": "If Python lists were implemented as linked lists, it would be <code>O(n)</code>, since getting the length of a list is linear, as is accessing a selected element. But since they&#39;re actually arrays, everything is constant."}], "answers": [{"comments": [{"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1476923615, "post_id": 40143399, "comment_id": 67557132, "body": "What do you mean with &quot;largish&quot; constant divisor?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1476923990, "post_id": 40143399, "comment_id": 67557242, "body": "@StefanPochmann: Implementation details here, but CPython&#39;s <code>deque</code> is a linked list of blocks that each store <a href=\"https://hg.python.org/cpython/file/c445746d0846/Modules/_collectionsmodule.c#l21\" rel=\"nofollow noreferrer\">up to 64 values</a> (the left and right blocks may be incomplete). Until the length crests 66, no lookup can require any block traversal, and even up to a thousand elements, you&#39;re still looking at a maximum of 17 blocks (at most half of which must be traversed for indexing), and the Python interpreter overhead generally swamps small C level costs like traversing 8 hops in a linked list."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1476924463, "post_id": 40143399, "comment_id": 67557346, "body": "Oh cool, I had no idea it does that. But makes sense. Thanks, nice to know."}, {"owner": {"reputation": 2375, "user_id": 2745116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d6e52cda3e0dccbd57c3020a3e6cecfa?s=128&d=identicon&r=PG&f=1", "display_name": "CGFoX", "link": "https://stackoverflow.com/users/2745116/cgfox"}, "edited": false, "score": 0, "creation_date": 1583415298, "post_id": 40143399, "comment_id": 107114257, "body": "Does O(1) still hold true if I&#39;m using a weighted random choice? <a href=\"https://docs.python.org/3/library/random.html#random.choices\" rel=\"nofollow noreferrer\">docs.python.org/3/library/random.html#random.choices</a> Similar to setting <a href=\"https://docs.scipy.org/doc/numpy-1.15.0/reference/generated/numpy.random.choice.html\" rel=\"nofollow noreferrer\">p in <code>np.random.choice()</code></a> rather than using a uniform distribution?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 2375, "user_id": 2745116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d6e52cda3e0dccbd57c3020a3e6cecfa?s=128&d=identicon&r=PG&f=1", "display_name": "CGFoX", "link": "https://stackoverflow.com/users/2745116/cgfox"}, "edited": false, "score": 1, "creation_date": 1583416596, "post_id": 40143399, "comment_id": 107115145, "body": "@CGFoX: Weighted choice for <code>choices</code> is <code>O(n log m)</code>, where <code>n</code> is the number of choices being made, and <code>m</code> is the total number of weights (it bisects the cumulative weights for each choice, which is <code>O(log m)</code> work, and does that <code>n</code> times). So it&#39;s still <code>O(1)</code> per selection in terms of the sequence being selected from (excluding cases like <code>deque</code>), it&#39;s just a tiny bit more expensive to weight the choice."}, {"owner": {"reputation": 2375, "user_id": 2745116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d6e52cda3e0dccbd57c3020a3e6cecfa?s=128&d=identicon&r=PG&f=1", "display_name": "CGFoX", "link": "https://stackoverflow.com/users/2745116/cgfox"}, "edited": false, "score": 0, "creation_date": 1583417413, "post_id": 40143399, "comment_id": 107115670, "body": "Thanks for the prompt reply! Without using <code>random.choice</code>, would it still be possible to achieve O(1) for a weighted choice if I do some pre-processing? I could randomly select some <code>i</code> in the range of all summed up weights in O(1). And then use a hash table to map the selected <code>i</code> to one of the <code>n</code> choices in O(1). Would require pre-processing and extra memory but allow weighted random choice in O(1), right?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 2375, "user_id": 2745116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d6e52cda3e0dccbd57c3020a3e6cecfa?s=128&d=identicon&r=PG&f=1", "display_name": "CGFoX", "link": "https://stackoverflow.com/users/2745116/cgfox"}, "edited": false, "score": 1, "creation_date": 1583417777, "post_id": 40143399, "comment_id": 107115895, "body": "@CGFoX: Providing cumulative weights instead of relative weights saves preprocessing from relative to cumulative. Improving on that would require you to make a side-band <code>list</code> that described each index <code>x</code> number of times (e.g. if index <code>0</code> was 10% likely, and <code>1</code> was 90% likely, you&#39;d make a list <code>[0,1,1,1,1,1,1,1,1,1]</code>, do a <code>O(1)</code> selection from that and then do a <code>O(1)</code> lookup of the original source <code>list</code>). But that side-band <code>list</code> has a minimum size equal to the original <code>list</code>, and for weird percentage weights, it could occupy all your memory. <code>O(log m)</code> is cheap enough."}, {"owner": {"reputation": 2375, "user_id": 2745116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d6e52cda3e0dccbd57c3020a3e6cecfa?s=128&d=identicon&r=PG&f=1", "display_name": "CGFoX", "link": "https://stackoverflow.com/users/2745116/cgfox"}, "edited": false, "score": 0, "creation_date": 1583419131, "post_id": 40143399, "comment_id": 107116760, "body": "Just to clarify: If I limit myself to integer percentages as cumulative weights, I&#39;d have a side-band list of size 100 (from 0% to 100%) and could achieve O(1) look up?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 2375, "user_id": 2745116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d6e52cda3e0dccbd57c3020a3e6cecfa?s=128&d=identicon&r=PG&f=1", "display_name": "CGFoX", "link": "https://stackoverflow.com/users/2745116/cgfox"}, "edited": false, "score": 0, "creation_date": 1583429391, "post_id": 40143399, "comment_id": 107122813, "body": "@CGFoX: Not in the design I mentioned, where each index in the side-band list corresponds to an index in the main list (which is the only way to individually weight indices in the main list while preserving <code>O(1)</code> work). Cumulative weights must be searched; since it&#39;s a binary search strategy, that&#39;s <code>O(log m)</code> in the number of weights. If you limit yourself to integer cumulative weights, that&#39;s pretty cheap anyway (log\u2082100 is less than 7, which is not likely to kill you, perf-wise); I&#39;m not sure why you&#39;re so insistent on <code>O(1)</code>, when it&#39;s going to cost so much on preprocessing and memory."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 13, "last_activity_date": 1476921646, "creation_date": 1476921646, "answer_id": 40143399, "question_id": 40143157, "link": "https://stackoverflow.com/questions/40143157/q-what-is-big-o-complexity-of-random-choicelist-in-python3/40143399#40143399", "title": "Q: What is Big-O complexity of random.choice(list) in Python3", "body": "<p><code>O(1)</code>. Or to be more precise, it's equivalent to the big-O random access time for looking up a single index in <em>whatever</em> sequence you pass it, and <code>list</code> has <code>O(1)</code> random access indexing (as does <code>tuple</code>). <a href=\"https://hg.python.org/cpython/file/3.5/Lib/random.py#l259\" rel=\"noreferrer\">Simplified, all it does is <code>seq[random.randrange(len(seq))]</code>, which is obviously equivalent to a single index lookup operation.</a></p>\n\n<p>An example where it would be <code>O(n)</code> is <code>collections.deque</code>, where indexing in the middle of the <code>deque</code> is <code>O(n)</code> (with a largish constant divisor though, so it's not that expensive unless the <code>deque</code> is reaching the thousands of elements range or higher). So basically, don't use a <code>deque</code> if it's going to be large and you plan to select random elements from it repeatedly, stick to <code>list</code>, <code>tuple</code>, <code>str</code>, <code>byte</code>/<code>bytearray</code>, <code>array.array</code> and other sequence types with <code>O(1)</code> indexing.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 1927856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IAPtC.jpg?s=128&g=1", "display_name": "chlamb16", "link": "https://stackoverflow.com/users/1927856/chlamb16"}, "edited": false, "score": 2, "creation_date": 1591678283, "post_id": 57419554, "comment_id": 110138705, "body": "The runtime of the test you performed is dominated by the list(range(n)) which creates a list of length n. That operation is O(n). You want to generate the list before staring your timer so that it only includes the np.random.choice function."}], "tags": [], "owner": {"reputation": 79, "user_id": 3878703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16071ca10cbac8a55207cd0cd1a171ca?s=128&d=identicon&r=PG&f=1", "display_name": "Mohsen Kiskani", "link": "https://stackoverflow.com/users/3878703/mohsen-kiskani"}, "is_accepted": false, "score": 0, "last_activity_date": 1565293081, "creation_date": 1565293081, "answer_id": 57419554, "question_id": 40143157, "link": "https://stackoverflow.com/questions/40143157/q-what-is-big-o-complexity-of-random-choicelist-in-python3/57419554#57419554", "title": "Q: What is Big-O complexity of random.choice(list) in Python3", "body": "<p>I think the above answer is incorrect. I empirically verified that the complexity of this operation is <code>O(n)</code>. Here is my code and a little plot. I am not sure about the theory though. </p>\n\n<pre><code>from time import time\nimport numpy as np \nimport matplotlib.pyplot as plt\nN = np.logspace(2, 10, 40)\noutput = []\nfor i, n in enumerate(N):\n    print(i)\n    n = int(n)\n    stats = time()\n    A = np.random.choice(list(range(n)), n//2)\n    output.append(time()-stats)   \nplt.plot(N, output)\n</code></pre>\n\n<p>This is the plot I got which looks quite linear to me. \n<a href=\"https://i.stack.imgur.com/YQYh1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YQYh1.png\" alt=\"Complexity of np.random.choice\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 1927856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IAPtC.jpg?s=128&g=1", "display_name": "chlamb16", "link": "https://stackoverflow.com/users/1927856/chlamb16"}, "is_accepted": false, "score": 4, "last_activity_date": 1571600994, "creation_date": 1571600994, "answer_id": 58476711, "question_id": 40143157, "link": "https://stackoverflow.com/questions/40143157/q-what-is-big-o-complexity-of-random-choicelist-in-python3/58476711#58476711", "title": "Q: What is Big-O complexity of random.choice(list) in Python3", "body": "<p>The complexity of random.choice(list) is O(log n) where n is the number of elements in the list. </p>\n\n<p>The cpython implementation uses <a href=\"https://hg.python.org/cpython/file/3.5/Lib/random.py#l262\" rel=\"noreferrer\">_randbelow(len(seq))</a> to get a pseudo-random index and then returns the item at that <a href=\"https://hg.python.org/cpython/file/3.5/Lib/random.py#l265\" rel=\"noreferrer\">index</a>.</p>\n\n<p>The bottleneck is the <a href=\"https://hg.python.org/cpython/file/3.5/Lib/random.py#l229\" rel=\"noreferrer\">_randbelow()</a> function which uses rejection sampling to generate a number in the range [0, n). The function generates k pseudo-random bits with a call to <a href=\"https://hg.python.org/cpython/file/3.5/Lib/random.py#l239\" rel=\"noreferrer\">getrandbits(k)</a> where k is ceil(log N). These bits represent a number in the range [0, 2**k). This process is repeated until the generated number is less than n. Each call to the pseudo-random number generator runs in O(k) where k is the number of bits generated which is O(log n).</p>\n"}, {"comments": [{"owner": {"reputation": 179, "user_id": 3289963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCR9V.jpg?s=128&g=1", "display_name": "Antonio Ercole De Luca", "link": "https://stackoverflow.com/users/3289963/antonio-ercole-de-luca"}, "edited": false, "score": 0, "creation_date": 1589281895, "post_id": 61064196, "comment_id": 109224791, "body": "Thanks for the answer on np.random.choice, can you please specify better why: &quot;&quot;When p is not specified, choice generates index by randint and returns a[index], so the complexity is O(m).&quot;&quot; Doesn&#39;t python have O(1) time complexity when it performs lookup on lists? Here&#39;s a link: <a href=\"https://wiki.python.org/moin/TimeComplexity\" rel=\"nofollow noreferrer\">wiki.python.org/moin/TimeComplexity</a> Thanks"}, {"owner": {"reputation": 69, "user_id": 7743377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ddtrw.jpg?s=128&g=1", "display_name": "Muzhi", "link": "https://stackoverflow.com/users/7743377/muzhi"}, "reply_to_user": {"reputation": 179, "user_id": 3289963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCR9V.jpg?s=128&g=1", "display_name": "Antonio Ercole De Luca", "link": "https://stackoverflow.com/users/3289963/antonio-ercole-de-luca"}, "edited": false, "score": 0, "creation_date": 1589447627, "post_id": 61064196, "comment_id": 109299926, "body": "@eracle: Thanks for your comment. I&#39;ve updated the answer and make it clear that we use <code>np.random.choice</code> to sample <code>m</code> samples from an array of length <code>n</code>. In the situation you mention, we need O(m) time to generate an index array of size <code>m</code> and performs <code>m</code> lookups. However, I&#39;ve assumed that using <code>np.random.randint</code> to sample a random integer needs O(1) time. I&#39;m not really sure about this assumption."}, {"owner": {"reputation": 580, "user_id": 6862189, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/W2SpP.jpg?s=128&g=1", "display_name": "DachuanZhao", "link": "https://stackoverflow.com/users/6862189/dachuanzhao"}, "edited": false, "score": 0, "creation_date": 1603794810, "post_id": 61064196, "comment_id": 114142856, "body": "<code>The complexity for np.random.choice is O(m) if p is not specified (assuming it as uniform distribution), and is O(n + n log m ) if p is specified.</code> . <code>O(n + n log m )</code> should be <code>O(n + m log n )</code>"}], "tags": [], "owner": {"reputation": 69, "user_id": 7743377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ddtrw.jpg?s=128&g=1", "display_name": "Muzhi", "link": "https://stackoverflow.com/users/7743377/muzhi"}, "is_accepted": false, "score": 3, "last_activity_date": 1589447157, "last_edit_date": 1589447157, "creation_date": 1586189752, "answer_id": 61064196, "question_id": 40143157, "link": "https://stackoverflow.com/questions/40143157/q-what-is-big-o-complexity-of-random-choicelist-in-python3/61064196#61064196", "title": "Q: What is Big-O complexity of random.choice(list) in Python3", "body": "<p>Though the question is about <code>random.choice</code> and previous answers on it have several explanations, when I searched for the complexity of <code>np.random.choice</code>, I didn't find an answer, so I decide to explain about <code>np.random.choice</code>.</p>\n\n<p>choice(a, size=None, replace=True, p=None). Assume <code>a.shape=(n,)</code> and <code>size=m</code>.</p>\n\n<p>When with replacement:</p>\n\n<p>The complexity for <code>np.random.choice</code> is O(m) if <code>p</code> is not specified (assuming it as uniform distribution), and is O(n + n log m ) if <code>p</code> is specified.</p>\n\n<p>The github code can be find here <a href=\"https://github.com/numpy/numpy/blob/2eedaa4cf94cf54bbd4d8428aa39271410f22e9f/numpy/random/mtrand.pyx#L804\" rel=\"nofollow noreferrer\">np.random.choice</a>. </p>\n\n<p>When <code>p</code> is not specified, <code>choice</code> generates an index array by <code>randint</code> and returns <code>a[index]</code>, so the complexity is O(m). (I assume the operation of generating a random integer by randint is O(1).)</p>\n\n<p>When <code>p</code> is specified, the function first computes prefix sum of <code>p</code>. Then it draws m samples from [0, 1), followed by using binary search to find a corresponding interval in the prefix sum for each drawn sample. The evidence to use binary search can be found <a href=\"https://github.com/numpy/numpy/blob/feb0794bdb6709861b395818ddf0ea3548310e24/numpy/core/src/multiarray/item_selection.c#L1776\" rel=\"nofollow noreferrer\">here</a>. So this process is O(n + m log n). If you need a faster method in this situation, you can use <a href=\"https://en.wikipedia.org/wiki/Alias_method\" rel=\"nofollow noreferrer\">Alias Method</a>, which needs O(n) time for preprocessing and O(m) time to sample m items.</p>\n\n<hr>\n\n<p>When without replacement: (It's kind of complicated, and maybe I'll finish it in the future.)</p>\n\n<p>If <code>p</code> is not specified, the complexity is the same as <code>np.permutation(n)</code>, even when m is only 1. See more <a href=\"https://github.com/numpy/numpy/issues/2764\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>If <code>p</code> is specified, the expected complexity is at least $n \\log n \\log\\frac{n}{n + 1 - m}$. (This is an upperbound, but not tight.)</p>\n"}], "owner": {"reputation": 131, "user_id": 7044979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8161fabd64ce728a3463c774f647ab34?s=128&d=identicon&r=PG&f=1", "display_name": "mil", "link": "https://stackoverflow.com/users/7044979/mil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5983, "favorite_count": 0, "answer_count": 4, "score": 13, "last_activity_date": 1589447157, "creation_date": 1476919954, "last_edit_date": 1476954033, "question_id": 40143157, "link": "https://stackoverflow.com/questions/40143157/q-what-is-big-o-complexity-of-random-choicelist-in-python3", "title": "Q: What is Big-O complexity of random.choice(list) in Python3", "body": "<p>What is Big-O complexity of random.choice(list) in Python3, where n is amount of elements in a list ?</p>\n\n<p>edit. Thank You all for give me the answer, now I understand.</p>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 1633, "user_id": 6502500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EnuRp.png?s=128&g=1", "display_name": "Mangohero1", "link": "https://stackoverflow.com/users/6502500/mangohero1"}, "edited": false, "score": 0, "creation_date": 1476920177, "post_id": 40143133, "comment_id": 67556277, "body": "You need a <code>try</code> before an <code>except</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2051, "user_id": 6273496, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-ylur9-ED2UU/AAAAAAAAAAI/AAAAAAAAACU/r0Cd0F2YJCI/photo.jpg?sz=128", "display_name": "Simon Breton", "link": "https://stackoverflow.com/users/6273496/simon-breton"}, "edited": false, "score": 0, "creation_date": 1476920951, "post_id": 40143231, "comment_id": 67556515, "body": "I guess it&#39;s working but I can&#39;t really check because now I have the following error <code>UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode character u&#39;\\u200b&#39; in position 22: ordinal not in range(128)</code>"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1476920422, "creation_date": 1476920422, "answer_id": 40143231, "question_id": 40143133, "link": "https://stackoverflow.com/questions/40143133/error-handling-with-beautifulsoup-when-scraped-url-doesnt-respond/40143231#40143231", "title": "error handling with BeautifulSoup when scraped url doesn&#39;t respond", "body": "<p>You may check the value of <code>name_box</code> variable - it would be <code>None</code> if nothing found:</p>\n\n<pre><code>for row in urllist[4:8]:  \n    page = urllib2.urlopen(row)\n    soup = BeautifulSoup(page, 'html.parser')\n\n    name_box = soup.find(attrs={'class': 'nb-shares'})\n    if name_box is None:\n        continue\n\n    # ...\n</code></pre>\n"}], "owner": {"reputation": 2051, "user_id": 6273496, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-ylur9-ED2UU/AAAAAAAAAAI/AAAAAAAAACU/r0Cd0F2YJCI/photo.jpg?sz=128", "display_name": "Simon Breton", "link": "https://stackoverflow.com/users/6273496/simon-breton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 1, "accepted_answer_id": 40143231, "answer_count": 1, "score": 1, "last_activity_date": 1476920422, "creation_date": 1476919777, "question_id": 40143133, "link": "https://stackoverflow.com/questions/40143133/error-handling-with-beautifulsoup-when-scraped-url-doesnt-respond", "title": "error handling with BeautifulSoup when scraped url doesn&#39;t respond", "body": "<p>I'm totally noob to python so please forgive my mistake and lack of vocabulary. I'm trying to scrap some url with BeautifulSoup. My url are coming from a GA api call and some of them doesn't respond. </p>\n\n<p>How do I build my script so that BeautifulSoup ignore the url that doesn't return anything ? </p>\n\n<p>Here is my code :</p>\n\n<pre><code>  if results:\n    for row in results.get('rows'):\n      rawdata.append(row[0])\n  else:\n    print 'No results found'\n\n  urllist = [mystring + x for x in rawdata]\n\n  for row in urllist[4:8]:  \n\n    page = urllib2.urlopen(row)\n    soup = BeautifulSoup(page, 'html.parser')\n\n\n    name_box = soup.find(attrs={'class': 'nb-shares'})\n    share = name_box.text.strip() \n\n    # save the data in tuple\n    sharelist.append((row,share))\n\n  print(sharelist)\n</code></pre>\n\n<p>I tried to use this :</p>\n\n<pre><code>  except Exception: \n  pass\n</code></pre>\n\n<p>but I don't know where and got some syntax error. I've look at other questions, but cannot find any answers for me. </p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 96, "user_id": 7044959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3947cc5c329618a813d1b4dca802964?s=128&d=identicon&r=PG&f=1", "display_name": "T. Welsh", "link": "https://stackoverflow.com/users/7044959/t-welsh"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1476919441, "post_id": 40143044, "comment_id": 67556063, "body": "mea culpa, it&#39;s numpy.split."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1476919617, "post_id": 40143044, "comment_id": 67556110, "body": "<code>np.delete</code> doesn&#39;t do in-situ changes. So, you need to assign it back."}, {"owner": {"reputation": 96, "user_id": 7044959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3947cc5c329618a813d1b4dca802964?s=128&d=identicon&r=PG&f=1", "display_name": "T. Welsh", "link": "https://stackoverflow.com/users/7044959/t-welsh"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1476920339, "post_id": 40143044, "comment_id": 67556321, "body": "Ok I think that fixed it, thanks."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1476921396, "post_id": 40143044, "comment_id": 67556619, "body": "@T.Welsh Then please delete the question, as it doesn&#39;t have any answer involved and this question won&#39;t be any useful to any user in future"}], "answers": [{"tags": [], "owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "is_accepted": true, "score": 0, "last_activity_date": 1476948897, "creation_date": 1476948897, "answer_id": 40148187, "question_id": 40143044, "link": "https://stackoverflow.com/questions/40143044/removing-a-subarray-after-using-numpy-split/40148187#40148187", "title": "Removing a subarray after using numpy.split", "body": "<p><em>(Posted on behalf of the OP).</em></p>\n\n<p>The solution is to do the delete outside of the concatenate and index properly.</p>\n\n<pre><code>#A is some mxn matrix\nnumfolds=5\nfolds = numpy.split(A,numfolds)\n#now folds is 5 equalish subarrays which can be called out\n#subarray1 is the second fold (the second fifth of A along axis=0 by default)\nsubarray1 = folds[2]\n#numpy.delete does not get rid of the second subarray in A\narrayWithoutSubArray1 = numpy.delete(folds,2,0)\narrayWithoutSubArray1 = numpy.concatenate(arrayWithoutSubArray1)\n</code></pre>\n"}], "owner": {"reputation": 96, "user_id": 7044959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3947cc5c329618a813d1b4dca802964?s=128&d=identicon&r=PG&f=1", "display_name": "T. Welsh", "link": "https://stackoverflow.com/users/7044959/t-welsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 0, "accepted_answer_id": 40148187, "answer_count": 1, "score": 0, "last_activity_date": 1476948921, "creation_date": 1476919243, "last_edit_date": 1476948921, "question_id": 40143044, "link": "https://stackoverflow.com/questions/40143044/removing-a-subarray-after-using-numpy-split", "title": "Removing a subarray after using numpy.split", "body": "<p>Title kinda says it all, I'm trying to make two new matrices after using numpy.split, so:</p>\n\n<pre><code>#A is some mxn matrix\nnumfolds=5\nfolds = numpy.split(A,numfolds)\n#now folds is 5 equalish subarrays which can be called out\n#subarray1 is the second fold (the second fifth of A along axis=0 by default)\nsubarray1 = folds[2]\n#numpy.delete does not get rid of the second subarray in A\narrayWithoutSubArray1 = numpy.concatenate(numpy.delete(folds[2]))\n</code></pre>\n\n<p>How do a make a matrix which is all but one subarray in A, in this example. I'd rather not use loops. Thanks in advance.</p>\n"}, {"tags": ["python", "csv", "tensorflow"], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 1154445, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d44b455edf7cf44b85dcba68df9e1b57?s=128&d=identicon&r=PG", "display_name": "Link", "link": "https://stackoverflow.com/users/1154445/link"}, "edited": false, "score": 0, "creation_date": 1476937125, "post_id": 40144655, "comment_id": 67560313, "body": "Thank you so much for the help. I wasn&#39;t even aware of the difference! Regarding your examples, do you know how those variables are being defined? I&#39;m not aware of where it is I&#39;m defining the local variables."}, {"owner": {"reputation": 27634, "user_id": 1576602, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d5132c0e702c0b50cac6aa7c56d191f?s=128&d=identicon&r=PG", "display_name": "Andrzej Pronobis", "link": "https://stackoverflow.com/users/1576602/andrzej-pronobis"}, "reply_to_user": {"reputation": 199, "user_id": 1154445, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d44b455edf7cf44b85dcba68df9e1b57?s=128&d=identicon&r=PG", "display_name": "Link", "link": "https://stackoverflow.com/users/1154445/link"}, "edited": false, "score": 0, "creation_date": 1476937283, "post_id": 40144655, "comment_id": 67560352, "body": "I don&#39;t think there is an example. I got that by browsing the sources."}], "tags": [], "owner": {"reputation": 27634, "user_id": 1576602, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d5132c0e702c0b50cac6aa7c56d191f?s=128&d=identicon&r=PG", "display_name": "Andrzej Pronobis", "link": "https://stackoverflow.com/users/1576602/andrzej-pronobis"}, "is_accepted": true, "score": 3, "last_activity_date": 1476932251, "creation_date": 1476932251, "answer_id": 40144655, "question_id": 40143019, "link": "https://stackoverflow.com/questions/40143019/how-to-correctly-read-data-from-csvs-into-tensorflow/40144655#40144655", "title": "How to *correctly* read data from csv&#39;s into TensorFlow", "body": "<p>I think what you are missing is initialization of <em>local</em> variables (e.g. <code>input_producer/limit_epochs/epochs</code>). Local variables are not initialized during initialization of <em>all</em> variables, which btw is quite confusing.</p>\n\n<p>You can add the following initialization operation that will initialize everything at once:</p>\n\n<pre><code>init_op = tf.group(tf.initialize_all_variables(),\n                   tf.initialize_local_variables())\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>sess.run(init_op)\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 1154445, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d44b455edf7cf44b85dcba68df9e1b57?s=128&d=identicon&r=PG", "display_name": "Link", "link": "https://stackoverflow.com/users/1154445/link"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1461, "favorite_count": 1, "accepted_answer_id": 40144655, "answer_count": 1, "score": 2, "last_activity_date": 1476932251, "creation_date": 1476919072, "last_edit_date": 1495540839, "question_id": 40143019, "link": "https://stackoverflow.com/questions/40143019/how-to-correctly-read-data-from-csvs-into-tensorflow", "title": "How to *correctly* read data from csv&#39;s into TensorFlow", "body": "<p>I came across <a href=\"https://stackoverflow.com/questions/37091899/how-to-actually-read-csv-data-in-tensorflow\">this so posting</a> showing us how to setup the code to read in csv files using a queue. However, each time I run it, I run into an error. I've tried debugging it, but can't figure out what the error means. Can anyone help me out?</p>\n\n<p>The code I'm using is almost verbatim what was posted in the above post:</p>\n\n<pre><code>import tensorflow as tf\n\ndataset = '/Users/hdadmin/Data/actions/testing.csv'\n\ndef file_len(fname):\n    with open(fname) as f:\n        for i, l in enumerate(f):\n            pass\n    return i + 1\n\ndef read_from_csv(filename_queue):\n  reader = tf.TextLineReader(skip_header_lines=1)\n  _, csv_row = reader.read(filename_queue)\n  record_defaults = [[0],[0],[0],[0],[0]]\n  colHour,colQuarter,colAction,colUser,colLabel = tf.decode_csv(csv_row, record_defaults=record_defaults)\n  features = tf.pack([colHour,colQuarter,colAction,colUser])  \n  label = tf.pack([colLabel])  \n  return features, label\n\ndef input_pipeline(batch_size, num_epochs=None):\n  filename_queue = tf.train.string_input_producer([dataset], num_epochs=num_epochs, shuffle=True)  \n  example, label = read_from_csv(filename_queue)\n  min_after_dequeue = 1000\n  capacity = min_after_dequeue + 3 * batch_size\n  example_batch, label_batch = tf.train.shuffle_batch(\n      [example, label], batch_size=batch_size, capacity=capacity,\n      min_after_dequeue=min_after_dequeue)\n  return example_batch, label_batch\n\nfile_length = file_len(dataset) - 1\nexamples, labels = input_pipeline(file_length, 1)\n\nwith tf.Session() as sess:\n  tf.initialize_all_variables().run()\n\n  # start populating filename queue\n  coord = tf.train.Coordinator()\n  threads = tf.train.start_queue_runners(coord=coord)\n\n  try:\n    while not coord.should_stop():\n      example_batch, label_batch = sess.run([examples, labels])\n      print(example_batch)\n  except tf.errors.OutOfRangeError:\n    print('Done training, epoch reached')\n  finally:\n    coord.request_stop()\n\n  coord.join(threads) \n</code></pre>\n\n<p>The error I'm getting is:</p>\n\n<pre><code>E tensorflow/core/client/tensor_c_api.cc:485] Attempting to use uninitialized value input_producer/limit_epochs/epochs\n     [[Node: input_producer/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input_producer/limit_epochs/epochs\"], limit=1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input_producer/limit_epochs/epochs)]]\nE tensorflow/core/client/tensor_c_api.cc:485] RandomShuffleQueue '_2_shuffle_batch/random_shuffle_queue' is closed and has insufficient elements (requested 10000, current size 0)\n     [[Node: shuffle_batch = QueueDequeueMany[_class=[\"loc:@shuffle_batch/random_shuffle_queue\"], component_types=[DT_INT32, DT_INT32], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](shuffle_batch/random_shuffle_queue, shuffle_batch/n)]]\nDone training, epoch reached\nE tensorflow/core/client/tensor_c_api.cc:485] FIFOQueue '_0_input_producer' is closed and has insufficient elements (requested 1, current size 0)\n     [[Node: ReaderRead = ReaderRead[_class=[\"loc:@TextLineReader\", \"loc:@input_producer\"], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](TextLineReader, input_producer)]]\nE tensorflow/core/client/tensor_c_api.cc:485] Queue '_2_shuffle_batch/random_shuffle_queue' is already closed.\n     [[Node: shuffle_batch/random_shuffle_queue_Close = QueueClose[_class=[\"loc:@shuffle_batch/random_shuffle_queue\"], cancel_pending_enqueues=false, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](shuffle_batch/random_shuffle_queue)]]\nTraceback (most recent call last):\n  File \"csv_test.py\", line 49, in &lt;module&gt;\n    coord.join(threads) \n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/coordinator.py\", line 357, in join\n    six.reraise(*self._exc_info_to_raise)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/queue_runner.py\", line 185, in _run\n    sess.run(enqueue_op)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 382, in run\n    run_metadata_ptr)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 655, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 723, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 743, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.FailedPreconditionError: Attempting to use uninitialized value input_producer/limit_epochs/epochs\n     [[Node: input_producer/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input_producer/limit_epochs/epochs\"], limit=1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input_producer/limit_epochs/epochs)]]\nCaused by op u'input_producer/limit_epochs/CountUpTo', defined at:\n  File \"csv_test.py\", line 31, in &lt;module&gt;\n    examples, labels = input_pipeline(file_length, 1)\n  File \"csv_test.py\", line 21, in input_pipeline\n    filename_queue = tf.train.string_input_producer([dataset], num_epochs=num_epochs, shuffle=True)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 194, in string_input_producer\n    summary_name=\"fraction_of_%d_full\" % capacity)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 133, in input_producer\n    input_tensor = limit_epochs(input_tensor, num_epochs)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 84, in limit_epochs\n    counter = epochs.count_up_to(num_epochs)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 577, in count_up_to\n    return state_ops.count_up_to(self._variable, limit=limit)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 127, in count_up_to\n    result = _op_def_lib.apply_op(\"CountUpTo\", ref=ref, limit=limit, name=name)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 703, in apply_op\n    op_def=op_def)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2310, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/usr/local/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1232, in __init__\n    self._traceback = _extract_stack()\n</code></pre>\n\n<p>I made up data comprised of five columns to match with the example. It's something along the lines of:</p>\n\n<pre><code>\"v1\",\"v2\",\"v3\",\"v4\",\"v5\"\n1,1,1,3,10\n4,2,1,10,8\n1,4,1,9,3\n3,3,1,1,5\n3,4,1,4,3\n3,2,1,5,8\n1,1,1,9,7\n4,1,1,4,9\n2,3,1,8,4\n</code></pre>\n\n<p>Thanks ahead of time.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 2052, "user_id": 9749124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96bc792b252c540523faea0fb803cb1c?s=128&d=identicon&r=PG&f=1", "display_name": "taga", "link": "https://stackoverflow.com/users/9749124/taga"}, "edited": false, "score": 0, "creation_date": 1562328189, "post_id": 41708567, "comment_id": 100350051, "body": "Is there any correlation between marker size and circle diameter on the map? For example is size=60 equal to circle of diameter 60?"}], "tags": [], "owner": {"reputation": 113, "user_id": 1804290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f38c02fa33eca76df139d61820473fd1?s=128&d=identicon&r=PG", "display_name": "bobbyzhivago", "link": "https://stackoverflow.com/users/1804290/bobbyzhivago"}, "is_accepted": false, "score": 5, "last_activity_date": 1484694026, "creation_date": 1484694026, "answer_id": 41708567, "question_id": 40142959, "link": "https://stackoverflow.com/questions/40142959/add-text-to-scatter-point-using-python-gmplot/41708567#41708567", "title": "Add text to scatter point using python gmplot", "body": "<p>Just looking for the answer to this myself. <strong>gmplot</strong> was updated to June  2016 to include a hovertext functionality for the marker method, but unfortunately this isn't available for the scatter method. The enthusiastic user will find that the scatter method simply calls the marker method over and over, and could modify the scatter method itself to accept a title or range of titles.</p>\n\n<p>If like myself you are using an older version, make sure to run </p>\n\n<p><code>pip install --upgrade gmplot</code></p>\n\n<p>and to place a marker with hovertext (mouse hovering over pin without clicking)</p>\n\n<p><code>\ngmap=gmplot.GoogleMapPlotter(\"Seattle\")\ngmap.marker(47.61028142523736, -122.34147349538826, title=\"A street corner in Seattle\")\nst=\"testmap.html\"\ngmap.draw(st)</code></p>\n"}], "owner": {"reputation": 33, "user_id": 6173719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0732013822549a9fc49714b4ba20c?s=128&d=identicon&r=PG&f=1", "display_name": "SwiftLearner", "link": "https://stackoverflow.com/users/6173719/swiftlearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7424, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1484694026, "creation_date": 1476918600, "question_id": 40142959, "link": "https://stackoverflow.com/questions/40142959/add-text-to-scatter-point-using-python-gmplot", "title": "Add text to scatter point using python gmplot", "body": "<p>I plotted some points on google maps using gmplot's scatter method (python). I want to add some text to the points so when someone clicks on those points they can see the text.</p>\n\n<p>I am unable to find any documentation or example that shows how to do this. </p>\n\n<p>Any pointers are appreciated.</p>\n"}, {"tags": ["python", "function", "python-3.x", "ide"], "comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1476918702, "post_id": 40142952, "comment_id": 67555852, "body": "What you tried? Did you googled? If you would have, you would have got the answer as first link"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1476918814, "post_id": 40142952, "comment_id": 67555880, "body": "Check the <a href=\"https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=python%20remove%20all%20spaces%20and%20punctuation%20from%20the%20string\" rel=\"nofollow noreferrer\">Google Search</a> result"}, {"owner": {"reputation": 1572, "user_id": 5306470, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/9M5cV.jpg?s=128&g=1", "display_name": "Daniel Springer", "link": "https://stackoverflow.com/users/5306470/daniel-springer"}, "edited": false, "score": 0, "creation_date": 1476926661, "post_id": 40142952, "comment_id": 67557824, "body": "Have you tried my answer?"}], "answers": [{"comments": [{"owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "edited": false, "score": 0, "creation_date": 1476919731, "post_id": 40143057, "comment_id": 67556142, "body": "what about &quot;123 !@ Test&quot; ?"}, {"owner": {"reputation": 1600, "user_id": 3946040, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/J512N.png?s=128&g=1", "display_name": "Zak", "link": "https://stackoverflow.com/users/3946040/zak"}, "reply_to_user": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "edited": false, "score": 0, "creation_date": 1476919868, "post_id": 40143057, "comment_id": 67556185, "body": "Well observed! I&#39;ve put numbers in there as well, I assume that&#39;s what the OP wants."}], "tags": [], "owner": {"reputation": 1600, "user_id": 3946040, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/J512N.png?s=128&g=1", "display_name": "Zak", "link": "https://stackoverflow.com/users/3946040/zak"}, "is_accepted": false, "score": 1, "last_activity_date": 1476919837, "last_edit_date": 1476919837, "creation_date": 1476919345, "answer_id": 40143057, "question_id": 40142952, "link": "https://stackoverflow.com/questions/40142952/how-to-take-away-all-the-spaces-and-punctuation-in-a-string-python/40143057#40143057", "title": "how to take away all the spaces and punctuation in a string? (python)", "body": "<p>Try the following code.</p>\n\n<pre><code>import re\n\nstring = 'This is an example sentence.'\nstring = re.sub(r'[^a-zA-Z\\d]', string)\n\nprint(string)\n</code></pre>\n\n<p>You should get out <code>Thisisanexamplesentance</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "is_accepted": false, "score": 0, "last_activity_date": 1476933270, "last_edit_date": 1476933270, "creation_date": 1476919712, "answer_id": 40143120, "question_id": 40142952, "link": "https://stackoverflow.com/questions/40142952/how-to-take-away-all-the-spaces-and-punctuation-in-a-string-python/40143120#40143120", "title": "how to take away all the spaces and punctuation in a string? (python)", "body": "<p>Just rebuild your string with only alpha-numeric characters:</p>\n\n<pre><code>''.join(_char for _char in _str.lower() if _char.isalnum())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 7044954, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210870505347975/picture?type=large", "display_name": "Eric Choi", "link": "https://stackoverflow.com/users/7044954/eric-choi"}, "edited": false, "score": 0, "creation_date": 1476930952, "post_id": 40143766, "comment_id": 67558710, "body": "thank you! works perfectly!"}], "tags": [], "owner": {"reputation": 610, "user_id": 6898066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JelfV.jpg?s=128&g=1", "display_name": "maze88", "link": "https://stackoverflow.com/users/6898066/maze88"}, "is_accepted": true, "score": 0, "last_activity_date": 1476924590, "creation_date": 1476924590, "answer_id": 40143766, "question_id": 40142952, "link": "https://stackoverflow.com/questions/40142952/how-to-take-away-all-the-spaces-and-punctuation-in-a-string-python/40143766#40143766", "title": "how to take away all the spaces and punctuation in a string? (python)", "body": "<p>This is the simplest function using <code>regex</code> I could put together to achieve your requirement.</p>\n\n<pre><code>import re\ndef pre_process(t):\n    return re.sub(r'[^a-z\\d ]','',str.lower())\n</code></pre>\n\n<p>It will return the input string in lower case, and omit any characters that are not <em>letters</em>, <em>numbers</em> or <em>whitespace</em>.</p>\n"}], "owner": {"reputation": 21, "user_id": 7044954, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210870505347975/picture?type=large", "display_name": "Eric Choi", "link": "https://stackoverflow.com/users/7044954/eric-choi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2060, "favorite_count": 0, "closed_date": 1476950450, "accepted_answer_id": 40143766, "answer_count": 3, "score": -1, "last_activity_date": 1476933270, "creation_date": 1476918579, "last_edit_date": 1476918876, "question_id": 40142952, "link": "https://stackoverflow.com/questions/40142952/how-to-take-away-all-the-spaces-and-punctuation-in-a-string-python", "closed_reason": "Duplicate", "title": "how to take away all the spaces and punctuation in a string? (python)", "body": "<pre><code>def pre_process(t):\n    \"\"\" (str) -&gt; str\n    returns a copy of the string with all punctuation removed, and all letters set to lowercase. The only characters in the output will be lowercase letters, numbers, and whitespace.\n\n    \"\"\"\n</code></pre>\n"}, {"tags": ["python", "drag-and-drop", "pyqt", "qlistwidget", "qlistwidgetitem"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5601978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jthCp.jpg?s=128&g=1", "display_name": "obfuscated", "link": "https://stackoverflow.com/users/5601978/obfuscated"}, "edited": false, "score": 0, "creation_date": 1477074000, "post_id": 40148266, "comment_id": 67633627, "body": "I checked this out before I didn&#39;t really help. I&#39;d still need to compare the list before and after the drop in order to know what the index is of the new item."}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "reply_to_user": {"reputation": 33, "user_id": 5601978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jthCp.jpg?s=128&g=1", "display_name": "obfuscated", "link": "https://stackoverflow.com/users/5601978/obfuscated"}, "edited": false, "score": 0, "creation_date": 1477074127, "post_id": 40148266, "comment_id": 67633692, "body": "@obfuscated The <code>on_rowsInserted</code> callback should only be triggered for the new items."}, {"owner": {"reputation": 33, "user_id": 5601978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jthCp.jpg?s=128&g=1", "display_name": "obfuscated", "link": "https://stackoverflow.com/users/5601978/obfuscated"}, "edited": false, "score": 0, "creation_date": 1477077156, "post_id": 40148266, "comment_id": 67635211, "body": "That may be so but the other problem is that if the item originated in the same list I need to move the item instead of copying it (I want to copy the item if it originated in the other list)."}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": false, "score": 0, "last_activity_date": 1476949495, "last_edit_date": 1476949495, "creation_date": 1476949181, "answer_id": 40148266, "question_id": 40142925, "link": "https://stackoverflow.com/questions/40142925/how-to-get-the-item-created-from-dropevent-on-a-qlistwidget/40148266#40148266", "title": "How to get the item created from dropEvent on a qlistwidget", "body": "<p>You can connect to the <a href=\"http://pyqt.sourceforge.net/Docs/PyQt4/qabstractitemmodel.html#rowsInserted\" rel=\"nofollow\"><code>rowsInserted</code></a> signal on the listview model</p>\n\n<pre><code>class DragDropListWidget(...):\n\n    def __init__(...):\n        ...\n        self._dropping = False\n        self.model().rowsInserted.connect(self.on_rowsInserted)\n\n    def on_rowsInserted(self, parent_index, start, end):\n        if self._dropping:\n            # Recently dropped items\n            items = [self.item(i) for i in range(start, end + 1)]\n\n    def dropEvent(self, event):\n        self._dropping = True\n        # code that drops the new rows\n        ...\n        self._dropping = False\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 5601978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jthCp.jpg?s=128&g=1", "display_name": "obfuscated", "link": "https://stackoverflow.com/users/5601978/obfuscated"}, "is_accepted": true, "score": 0, "last_activity_date": 1476987111, "creation_date": 1476987111, "answer_id": 40161605, "question_id": 40142925, "link": "https://stackoverflow.com/questions/40142925/how-to-get-the-item-created-from-dropevent-on-a-qlistwidget/40161605#40161605", "title": "How to get the item created from dropEvent on a qlistwidget", "body": "<p>Interesting .. well my solution ended up being to store a list of items in the second  listwidget before and then do a comparison after the new item is added which works well enough and takes only a few lines of code. Then I pass the new item to a function that creates the item using the same classes that were used when it was created in the first listwidget and I passed serialized info about in .data(QtCore.Qt.UserRole)</p>\n\n<pre><code>def dropEvent(self, event):\n    if event.mimeData().hasText():\n        event.setDropAction(QtCore.Qt.CopyAction)\n        event.accept()\n        links = []\n        for url in event.mimeData().urls():\n            links.append(str(url.toLocalFile()))\n        self.emit(QtCore.SIGNAL(\"dropped\"), links)\n\n    else:\n        event.setDropAction(QtCore.Qt.CopyAction)\n        items = []\n        for index in xrange(self.count()):\n            items.append(self.item(index))\n\n        super(DragDropListWidget, self).dropEvent(event)\n\n        for index in xrange(self.count()):\n            if self.item(index) not in items:\n                self.populateDrop(self.item(index), index, [self.item(index).data(QtCore.Qt.UserRole).toPyObject()])\n\ndef populateDrop(self,item,row,items=[]):\n    for i in items:\n        widget = scriptsWidget()\n        widget.setName(i)\n        widget.setUser('x')\n        self.takeItem(row)\n        item = customQListWidgetItem()\n        item.setName(i)\n        item.setWhatsThis(i)\n        data = (i)\n        item.setData(QtCore.Qt.UserRole, data)\n        self.insertItem (row, item)\n        self.setItemWidget(item,widget)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5601978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jthCp.jpg?s=128&g=1", "display_name": "obfuscated", "link": "https://stackoverflow.com/users/5601978/obfuscated"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2116, "favorite_count": 0, "accepted_answer_id": 40161605, "answer_count": 2, "score": 1, "last_activity_date": 1476987111, "creation_date": 1476918435, "last_edit_date": 1476923823, "question_id": 40142925, "link": "https://stackoverflow.com/questions/40142925/how-to-get-the-item-created-from-dropevent-on-a-qlistwidget", "title": "How to get the item created from dropEvent on a qlistwidget", "body": "<p>So I'm trying to copy a selected item from one QListWidget to another using drag and drop. </p>\n\n<p>Anyway I could probably hack together what I need to by passing serialized parameters using item.setData but I can't figure out a straight forward way to get a handle on the new item being created in the second listWidget. </p>\n\n<p>I guess I could look at all the items in the second QListWidget and somehow determine which one was just created but it seems like there should be an easier way to know which item is being created by the drop event.</p>\n\n<pre><code>import sys\nfrom PyQt4 import QtGui , QtCore\n\n\ndef main():\n\n    app = QtGui.QApplication(sys.argv)\n\n    w = QtGui.QWidget()\n    w.resize(250, 150)\n    w.move(300, 300)\n    w.setWindowTitle('Simple')\n    layout=QtGui.QHBoxLayout(w)\n    dragList=DragDropListWidget()\n    layout.addWidget(dragList)\n    dragList.setDragDropMode(QtGui.QAbstractItemView.InternalMove)\n    dragList.name='dragList'\n    dragList.populate(['one','two','three'])\n    dragList2=DragDropListWidget()\n    dragList2.setDragDropMode(QtGui.QAbstractItemView.DragDrop)\n    dragList2.name='dragList'\n\n\n    layout.addWidget(dragList2)\n    w.show()\n\n    sys.exit(app.exec_())\n\nclass scriptsWidget(QtGui.QWidget):\n\n\n    def __init__(self, parent=None):\n        QtGui.QWidget.__init__(self)\n\n        self.name=''\n\n        self.widget_QHBoxLayout = QtGui.QHBoxLayout(self)\n        self.widget_QHBoxLayout.setSpacing(0)\n        self.widget_QHBoxLayout.setContentsMargins(0, 0, 0, 0)\n\n        self.name_QLabel = QtGui.QLabel(self)\n        self.widget_QHBoxLayout.addWidget(self.name_QLabel)\n\n        self.user_QLabel = QtGui.QLabel(self)\n        self.widget_QHBoxLayout.addWidget(self.user_QLabel)\n\n        self.widget_QHBoxLayout.setSpacing(0)\n        self.widget_QHBoxLayout.setContentsMargins(0, 0, 0, 0)\n\n\n\n    def setName(self,name):\n        self.name_QLabel.setText(name)\n        self.name=name\n\n    def setUser(self,user):\n        self.user_QLabel.setText(user)\n\nclass customQListWidgetItem(QtGui.QListWidgetItem):\n\n\n    def __init__(self, parent=None):\n        QtGui.QWidget.__init__(self)\n        self.name=''\n\n    def setName(self,name):\n        self.name=name   \n\n\n\n\nclass DragDropListWidget(QtGui.QListWidget):\n    _drag_info = []\n    def __init__(self, parent = None):\n\n        super(DragDropListWidget, self).__init__(parent)\n\n\n        self.name=''\n\n\n    def dragMoveEvent(self, event):\n        if event.mimeData().hasUrls():\n            event.setDropAction(QtCore.Qt.CopyAction)\n            event.accept()\n\n        else:\n            super(DragDropListWidget, self).dragMoveEvent(event)\n\n\n    def dropEvent(self, event):\n        print('dropEvent') \n        print event.mimeData().text()\n\n        if event.mimeData().hasText():\n            print event.mimeData().text()\n            event.setDropAction(QtCore.Qt.CopyAction)\n            event.accept()\n            links = []\n            for url in event.mimeData().urls():\n                links.append(str(url.toLocalFile()))\n            self.emit(QtCore.SIGNAL(\"dropped\"), links)\n\n        else:\n            event.setDropAction(QtCore.Qt.CopyAction)\n            super(DragDropListWidget, self).dropEvent(event)\n            items = []\n            for index in xrange(self.count()):\n                items.append(self.item(index))\n                print self.item(index).data(QtCore.Qt.UserRole).toPyObject()\n\n\n\n    def populate(self,items=[]):\n        self.clear()\n        for i in items:\n            print(i)\n            widget = scriptsWidget()\n            widget.setName(i)\n            widget.setUser('x')\n            item = customQListWidgetItem()\n            item.setName(i)\n            data = (i)\n            item.setData(QtCore.Qt.UserRole, data)\n            self.addItem(item)\n            self.setItemWidget(item,widget)\n\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "syntax-error", "barcode"], "comments": [{"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1476919106, "post_id": 40142906, "comment_id": 67555965, "body": "I would suggest changing <code>total=int(zipcode[0])...</code> to <code>total=sum(int(x) for x in zipcode)</code>. Much more readable and way easier for you to type."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 7044946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c0e5b41293f338b8aa30a25aa804a9?s=128&d=identicon&r=PG&f=1", "display_name": "Brayden Hark", "link": "https://stackoverflow.com/users/7044946/brayden-hark"}, "edited": false, "score": 0, "creation_date": 1476918853, "post_id": 40142953, "comment_id": 67555890, "body": "print(the_zipcode(barcode))  TypeError: &#39;str&#39; object is not callable"}, {"owner": {"reputation": 27, "user_id": 7044946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c0e5b41293f338b8aa30a25aa804a9?s=128&d=identicon&r=PG&f=1", "display_name": "Brayden Hark", "link": "https://stackoverflow.com/users/7044946/brayden-hark"}, "edited": false, "score": 0, "creation_date": 1476918873, "post_id": 40142953, "comment_id": 67555899, "body": "So i changed what you suggested and its giving me this^"}, {"owner": {"reputation": 27, "user_id": 7044946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c0e5b41293f338b8aa30a25aa804a9?s=128&d=identicon&r=PG&f=1", "display_name": "Brayden Hark", "link": "https://stackoverflow.com/users/7044946/brayden-hark"}, "edited": false, "score": 0, "creation_date": 1476919287, "post_id": 40142953, "comment_id": 67556019, "body": "I see now ha, sorry, BUT Im trying to call the function &quot;barcode(a)&quot; in the for loop to print the &quot;::|:|:&quot; things per digit in the inputted zipcode... when I use &quot;the_zipcode&quot; it just prints the zipcode inputted"}, {"owner": {"reputation": 27, "user_id": 7044946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c0e5b41293f338b8aa30a25aa804a9?s=128&d=identicon&r=PG&f=1", "display_name": "Brayden Hark", "link": "https://stackoverflow.com/users/7044946/brayden-hark"}, "edited": false, "score": 0, "creation_date": 1476919724, "post_id": 40142953, "comment_id": 67556138, "body": "You are god of python please help... I will sacrifice my firstborn to your mightiness..."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 2, "last_activity_date": 1476918704, "last_edit_date": 1476918704, "creation_date": 1476918582, "answer_id": 40142953, "question_id": 40142906, "link": "https://stackoverflow.com/questions/40142906/cant-assign-to-function-call-error-python/40142953#40142953", "title": "can&#39;t assign to function call Error-Python", "body": "<p>Your error is here:</p>\n\n<pre><code>for barcode(a) in s:\n</code></pre>\n\n<p>It's invalid syntax because the name bound in a for loop has to be a python identifier.  </p>\n\n<p>You were probably trying for something like this instead:</p>\n\n<pre><code>for the_zipcode in s:\n    print(barcode(the_zipcode))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6148, "user_id": 3831, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d15e367e606a0c9221c6cad5d9ac8ecc?s=128&d=identicon&r=PG", "display_name": "Steven Oxley", "link": "https://stackoverflow.com/users/3831/steven-oxley"}, "is_accepted": false, "score": 0, "last_activity_date": 1476920818, "creation_date": 1476920818, "answer_id": 40143290, "question_id": 40142906, "link": "https://stackoverflow.com/questions/40142906/cant-assign-to-function-call-error-python/40143290#40143290", "title": "can&#39;t assign to function call Error-Python", "body": "<p>I am fairly certain your problem is your use of <code>s=zipcode.split(\",\")</code>. What that does is split the string that is put in by the user (if you're using python 3) into an array of strings, where each element is delimited by a comma. For example:</p>\n\n<pre><code>'11111'.split(',') # ['11111']\n'11111,12345'.split(',') # ['11111', '12345']\n</code></pre>\n\n<p>That is almost certainly not what you want, since you're asking the user to input a 5-digit zip code. If you just use the input directly, I think you'll get what you want.</p>\n\n<p>That is:</p>\n\n<pre><code>zipcode=input(\"What is your 5 digit zipcode?\")\n# . . .\nfor digit in zipcode:\n  print(barcode(digit)) \n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7044946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c0e5b41293f338b8aa30a25aa804a9?s=128&d=identicon&r=PG&f=1", "display_name": "Brayden Hark", "link": "https://stackoverflow.com/users/7044946/brayden-hark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1476920818, "creation_date": 1476918334, "last_edit_date": 1476920230, "question_id": 40142906, "link": "https://stackoverflow.com/questions/40142906/cant-assign-to-function-call-error-python", "title": "can&#39;t assign to function call Error-Python", "body": "<p>So I'm working on a project to create a postal bar code out of an inputted 5 digit zipcode\nthis is what i have so far and i'm not sure why i'm getting this error or how to approach fixing it, appreciate the help!</p>\n\n<pre><code>zipcode=input(\"What is your 5 digit zipcode?\")\ns=zipcode.split(\",\")\n\ndef correctiondigit(zipcode):     #LAST BLOCK OF 6 BLOCK BARCODE\n    zipcode.split()\n    total=int(zipcode[0])+int(zipcode[1])+int(zipcode[2])+int(zipcode[3])+int(zipcode[4])\n    if total % 10!=0:\n        total=total+(10-total%10)  \n\n\nprint(correctiondigit(zipcode))    #not working on this yet        \n\ndef barcode(a):                                                        \n    if a==0:\n        print(\"||:::\") \n    elif a==1:\n        print(\":::||\")\n    elif a==2:\n        print(\"::|:|\")\n    elif a==3:\n        print(\"::||:\")\n    elif a==4:\n        print(\":|::|\")\n    elif a==5:\n        print(\":|:|:\")\n    elif a==6:\n        print(\":||::\")\n    elif a==7:\n        print(\"|:::|\")\n    elif a==8:\n        print(\"|::|:\")\n    elif a==9:\n        print(\"|:|::\")\n\n\n\nfor the_zipcode in s:\n    print(barcode(the_zipcode))  \n</code></pre>\n"}, {"tags": ["python", "function", "return", "python-3.4"], "comments": [{"owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1476918428, "post_id": 40142901, "comment_id": 67555758, "body": "Please indent property and use proper syntax. This code is currently invalid and would not run."}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1476918433, "post_id": 40142901, "comment_id": 67555761, "body": "The indentation isn&#39;t valid. Please fix. Also -- semicolons are not statement terminators in Python. You need to learn the basics of the syntax."}, {"owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1476918950, "post_id": 40142901, "comment_id": 67555923, "body": "<code>while True: modScore()</code> you also don&#39;t have to pass in score as it&#39;s already global."}, {"owner": {"reputation": 41, "user_id": 7044936, "user_type": "registered", "profile_image": "https://graph.facebook.com/354392628236996/picture?type=large", "display_name": "Riggycat", "link": "https://stackoverflow.com/users/7044936/riggycat"}, "reply_to_user": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1476919175, "post_id": 40142901, "comment_id": 67555985, "body": "@TylerSebastian As I said, I am very new to python and will need a bit more in depth explanation. Only if it wont bother you of course..."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7044936, "user_type": "registered", "profile_image": "https://graph.facebook.com/354392628236996/picture?type=large", "display_name": "Riggycat", "link": "https://stackoverflow.com/users/7044936/riggycat"}, "edited": false, "score": 0, "creation_date": 1476919582, "post_id": 40143037, "comment_id": 67556104, "body": "Ok, as I said I am new, and whatever you did worked! What is an exception? If you don&#39;t mind..."}, {"owner": {"reputation": 12105, "user_id": 6043170, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iFy-IHfVniw/AAAAAAAAAAI/AAAAAAAAAFM/f_Xao2r127I/photo.jpg?sz=128", "display_name": "2ps", "link": "https://stackoverflow.com/users/6043170/2ps"}, "reply_to_user": {"reputation": 41, "user_id": 7044936, "user_type": "registered", "profile_image": "https://graph.facebook.com/354392628236996/picture?type=large", "display_name": "Riggycat", "link": "https://stackoverflow.com/users/7044936/riggycat"}, "edited": false, "score": 0, "creation_date": 1476919843, "post_id": 40143037, "comment_id": 67556176, "body": "It\u2019s used for a lot of things.  In this particular case, we\u2019re just using it as a clever way for the function to let the caller know that the user has said that he or she doesn\u2019t want to continue the loop anymore and immediately stops the loop.  The in-depth explanation is here (and exceptions are most commonly used for error handling):  <a href=\"https://docs.python.org/3/tutorial/errors.html\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial/errors.html</a>"}, {"owner": {"reputation": 41, "user_id": 7044936, "user_type": "registered", "profile_image": "https://graph.facebook.com/354392628236996/picture?type=large", "display_name": "Riggycat", "link": "https://stackoverflow.com/users/7044936/riggycat"}, "edited": false, "score": 0, "creation_date": 1476920664, "post_id": 40143037, "comment_id": 67556418, "body": "Entering Overide Mode     Opening Overide Console     Enter Command:  manScoreChng     What do want the score to be?32     0"}, {"owner": {"reputation": 12105, "user_id": 6043170, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iFy-IHfVniw/AAAAAAAAAAI/AAAAAAAAAFM/f_Xao2r127I/photo.jpg?sz=128", "display_name": "2ps", "link": "https://stackoverflow.com/users/6043170/2ps"}, "reply_to_user": {"reputation": 41, "user_id": 7044936, "user_type": "registered", "profile_image": "https://graph.facebook.com/354392628236996/picture?type=large", "display_name": "Riggycat", "link": "https://stackoverflow.com/users/7044936/riggycat"}, "edited": false, "score": 0, "creation_date": 1476921058, "post_id": 40143037, "comment_id": 67556546, "body": "I just copy &amp; pasted my code and ran it and it doesn\u2019t have the same output that you are getting.  Can you repost the entirety of your program?"}, {"owner": {"reputation": 41, "user_id": 7044936, "user_type": "registered", "profile_image": "https://graph.facebook.com/354392628236996/picture?type=large", "display_name": "Riggycat", "link": "https://stackoverflow.com/users/7044936/riggycat"}, "edited": false, "score": 0, "creation_date": 1476922287, "post_id": 40143037, "comment_id": 67556824, "body": "Ok, I twiddled some things and got a None output and now understand execeptions"}, {"owner": {"reputation": 41, "user_id": 7044936, "user_type": "registered", "profile_image": "https://graph.facebook.com/354392628236996/picture?type=large", "display_name": "Riggycat", "link": "https://stackoverflow.com/users/7044936/riggycat"}, "edited": false, "score": 0, "creation_date": 1476922521, "post_id": 40143037, "comment_id": 67556875, "body": "Btw, I am using python 3.4 IDK if you saw the tag"}, {"owner": {"reputation": 12105, "user_id": 6043170, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iFy-IHfVniw/AAAAAAAAAAI/AAAAAAAAAFM/f_Xao2r127I/photo.jpg?sz=128", "display_name": "2ps", "link": "https://stackoverflow.com/users/6043170/2ps"}, "reply_to_user": {"reputation": 41, "user_id": 7044936, "user_type": "registered", "profile_image": "https://graph.facebook.com/354392628236996/picture?type=large", "display_name": "Riggycat", "link": "https://stackoverflow.com/users/7044936/riggycat"}, "edited": false, "score": 0, "creation_date": 1476929485, "post_id": 40143037, "comment_id": 67558391, "body": "If what you have above is, indeed, the code that you are running, you didn\u2019t follow the example carefully.  For the code to work as written by me, you have to have a return at the bottom of the function.  Take a close look, it will work in Python 3.4, 3.5, 3.5.2 and with minor adjustments, even python 2.7."}], "tags": [], "owner": {"reputation": 12105, "user_id": 6043170, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iFy-IHfVniw/AAAAAAAAAAI/AAAAAAAAAFM/f_Xao2r127I/photo.jpg?sz=128", "display_name": "2ps", "link": "https://stackoverflow.com/users/6043170/2ps"}, "is_accepted": true, "score": 1, "last_activity_date": 1476929555, "last_edit_date": 1476929555, "creation_date": 1476919180, "answer_id": 40143037, "question_id": 40142901, "link": "https://stackoverflow.com/questions/40142901/restarting-a-function-in-python-3-4/40143037#40143037", "title": "Restarting a function in Python 3.4", "body": "<p>To capture the return of the <code>modMode</code> function, <strong>just make sure you return something at the end</strong>:</p>\n\n<pre><code>score = 0;\nmodPassword = \"200605015\"\ndef modMode(score):\n   print(\"Entering Overide Mode\")\n   print(\"Opening Overide Console\")\n   cmd = input(\"Enter Command:  \")\n   if cmd == \"corr\":\n      print(\"Adding one point\")\n      score = score+1\n   elif cmd == \"manScoreChng\":\n      score = int(input(\"What do want the score to be?\"))\n   elif cmd == 'exit':\n      raise Exception('Bye!')\n   return int(score) # MAKE SURE YOU HAVE THIS LINE HERE\n</code></pre>\n\n<hr>\n\n<p>To call the <code>modScore</code> command over and over again, use a loop.</p>\n\n<pre><code>try:\n  while True:\n    score = modMode(score) # grab the returned value from modMode by using `=`\n    print(score)\nexcept Exception:\n  pass\n</code></pre>\n\n<p>This will run until the user types in exit.</p>\n"}], "owner": {"reputation": 41, "user_id": 7044936, "user_type": "registered", "profile_image": "https://graph.facebook.com/354392628236996/picture?type=large", "display_name": "Riggycat", "link": "https://stackoverflow.com/users/7044936/riggycat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 40143037, "answer_count": 1, "score": -2, "last_activity_date": 1476931604, "creation_date": 1476918307, "last_edit_date": 1476931604, "question_id": 40142901, "link": "https://stackoverflow.com/questions/40142901/restarting-a-function-in-python-3-4", "title": "Restarting a function in Python 3.4", "body": "<p>I need help for my python assignment. We have to make a quiz program and I am having trouble with restarting a function.</p>\n\n<p>I need something like continue, but instead runs the function again. Also, some tips on returning values from functions cant hurt! Thanks! ~Also, I just started using python 2 weeks ago, so this is pretty advanced to me. EDIT: Thanks to user: 2ps! :D</p>\n\n<pre><code>#Quiz YAY!\n#\n#Name Removed\n#\n#Version 1.0\n#\nscore = 0;\nmodPassword = \"200605015\"\ndef modMode(score):\n   print(\"Entering Overide Mode\");\n   print(\"Opening Overide Console\")\n   cmd = input(\"Enter Command call exit{} to exit:  \")\n   if cmd == \"corr\":\n      print(\"Adding one point\")\n      score=score+1\n      return(score);\n   elif cmd== \"manScoreChng\":\n      score=int(input(\"What do want the score to be?\"));\n   elif cmd == 'stop{}':\n      raise Exception('Quit by User')\n\nscore = modMode(score);\nprint(score);\n</code></pre>\n"}, {"tags": ["python", "django", "amazon-web-services", "internal-server-error", "http-status-code-500"], "comments": [{"owner": {"reputation": 2578, "user_id": 1726243, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/91a9bc9b123cde04c2b9bef485d8a190?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1726243/jonathan"}, "edited": false, "score": 0, "creation_date": 1476918149, "post_id": 40142840, "comment_id": 67555671, "body": "do you have debug enabled in <code>settings.py</code>? If so, what is the traceback there?"}, {"owner": {"reputation": 1119, "user_id": 6222397, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027495110613102/picture?type=large", "display_name": "Hisham Karam", "link": "https://stackoverflow.com/users/6222397/hisham-karam"}, "edited": false, "score": 0, "creation_date": 1476918191, "post_id": 40142840, "comment_id": 67555686, "body": "enable <code>DEBUG</code> to see the error in console"}, {"owner": {"reputation": 69, "user_id": 3188930, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/3PgtP.jpg?s=128&g=1", "display_name": "Jwoozy", "link": "https://stackoverflow.com/users/3188930/jwoozy"}, "edited": false, "score": 0, "creation_date": 1477024407, "post_id": 40142840, "comment_id": 67605045, "body": "I enabled the debug, but I&#39;m still getting the same &quot;django module not found error.&quot; Any ideas why?"}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 8421861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13fd1c722d4719196156b489eac434b3?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Li", "link": "https://stackoverflow.com/users/8421861/peter-li"}, "is_accepted": false, "score": 5, "last_activity_date": 1504320097, "last_edit_date": 1504320097, "creation_date": 1504318938, "answer_id": 46009902, "question_id": 40142840, "link": "https://stackoverflow.com/questions/40142840/django-internal-server-500-error-aws-elastic-beanstalk-issue/46009902#46009902", "title": "Django Internal Server 500 Error AWS Elastic-Beanstalk issue", "body": "<p>Did you do this?</p>\n\n<pre><code>pip freeze &gt; requirements.txt\n</code></pre>\n\n<p>If you didn't, AWS will not know that it should <a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create-deploy-python-django.html\" rel=\"nofollow noreferrer\">install Django and other dependencies on your EC2 instances for your deployment</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 2569, "user_id": 962996, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/010666ce377b6b197a754b8299ff4f14?s=128&d=identicon&r=PG", "display_name": "connorbode", "link": "https://stackoverflow.com/users/962996/connorbode"}, "edited": false, "score": 0, "creation_date": 1606789991, "post_id": 62448652, "comment_id": 115062812, "body": "This was the case for me too. The OS sqlite version was too low for the adapter I was using.."}], "tags": [], "owner": {"reputation": 641, "user_id": 5608221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ArnuU.jpg?s=128&g=1", "display_name": "Arun K", "link": "https://stackoverflow.com/users/5608221/arun-k"}, "is_accepted": false, "score": 2, "last_activity_date": 1592478688, "creation_date": 1592478688, "answer_id": 62448652, "question_id": 40142840, "link": "https://stackoverflow.com/questions/40142840/django-internal-server-500-error-aws-elastic-beanstalk-issue/62448652#62448652", "title": "Django Internal Server 500 Error AWS Elastic-Beanstalk issue", "body": "<p>In my case error with <em>sqllite</em> </p>\n\n<p>Remove Database settings from <em>settings.py</em> and try deploy</p>\n\n<pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\n    }\n}\n</code></pre>\n\n<p>And then I configured with AWS RDS. </p>\n"}], "owner": {"reputation": 69, "user_id": 3188930, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/3PgtP.jpg?s=128&g=1", "display_name": "Jwoozy", "link": "https://stackoverflow.com/users/3188930/jwoozy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8887, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1594248643, "creation_date": 1476917918, "last_edit_date": 1477018012, "question_id": 40142840, "link": "https://stackoverflow.com/questions/40142840/django-internal-server-500-error-aws-elastic-beanstalk-issue", "title": "Django Internal Server 500 Error AWS Elastic-Beanstalk issue", "body": "<p>How do I fix the Django Internal Server 500 error on an AWS eb deployed application?</p>\n\n<p>Do I need to change my allowed hosts in my <strong>base.py</strong> file to have the ip address of the ec2 in elasticbeanstalk?</p>\n\n<pre><code># SECURITY WARNING: keep the secret key used in production secret!\n# Raises ImproperlyConfigured exception if SECRET_KEY not in os.environ\nSECRET_KEY = env('SECRET_KEY')\n\nALLOWED_HOSTS = []\n\n# Application definition\n\nINSTALLED_APPS = (\n    'django.contrib.auth',\n    'django_admin_bootstrapped',\n    'django.contrib.admin',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n)\n</code></pre>\n\n<p>...</p>\n\n<pre><code>STATIC_URL = '/static/'\n\nALLOWED_HOSTS = []\n</code></pre>\n\n<p>...</p>\n\n<p>I enabled DEBUG and ran eb config, and eb logs. The <strong>eb deploy</strong> values are displayed below, and the <strong>eb logs</strong> values below that. How do you fix the issue that the \"No module named django?\"</p>\n\n<pre><code>    Creating application version archive \"app-3e17-161020_112522\".\nUploading pronet/app-3e17-161020_112522.zip to S3. This may take a while.\nUpload Complete.\nINFO: Environment update is starting.                               \nINFO: Deploying new version to instance(s).                         \nINFO: New application version was deployed to running EC2 instances.\nINFO: Environment update completed successfully. \n</code></pre>\n\n<p>Provided below are the output from eb logs.  </p>\n\n<pre><code>============= i-0b11de8b8521ea5c0 ==============\n-------------------------------------\n/var/log/httpd/error_log\n-------------------------------------\n[Thu Oct 20 17:46:59.414032 2016] [:error] [pid 11268] \n[remote 172.31.5.67:41390] Traceback (most recent call last):\n\n[Thu Oct 20 17:46:59.414077 2016] [:error] [pid 11268] \n[remote 172.31.5.67:41390]   File \"/opt/python/current/app/pronet/src/pronet/wsgi.py\", line 12, in &lt;module&gt;\n\n[Thu Oct 20 17:46:59.414083 2016] [:error] [pid 11268] \n[remote 172.31.5.67:41390]     from django.core.wsgi import get_wsgi_application\n\n[Thu Oct 20 17:46:59.414104 2016] [:error] [pid 11268] \n[remote 172.31.5.67:41390] ImportError: No module named 'django'\n\n[Thu Oct 20 17:47:00.046644 2016] [:error] [pid 11268] \n[remote 172.31.5.67:43182] mod_wsgi (pid=11268): Target WSGI script '/opt/python/current/app/pronet/src/pronet/wsgi.py' cannot be loaded as Python module.\n\n[Thu Oct 20 17:47:00.046704 2016] [:error] [pid 11268] \n[remote 172.31.5.67:43182] mod_wsgi (pid=11268): Exception occurred processing WSGI script '/opt/python/current/app/pronet/src/pronet/wsgi.py'.\n\n[Thu Oct 20 17:47:00.046738 2016] [:error] [pid 11268] \n[remote 172.31.5.67:43182] Traceback (most recent call last):\n\n[Thu Oct 20 17:47:00.046784 2016] [:error] [pid 11268] \n[remote 172.31.5.67:43182]   File \"/opt/python/current/app/pronet/src/pronet/wsgi.py\", line 12, in &lt;module&gt;\n\n[Thu Oct 20 17:47:00.046789 2016] [:error] [pid 11268] \n[remote 172.31.5.67:43182]     from django.core.wsgi import get_wsgi_application\n\n[Thu Oct 20 17:47:00.046810 2016] [:error] [pid 11268] \n[remote 172.31.5.67:43182] ImportError: No module named 'django'\n\n[Thu Oct 20 17:47:01.340552 2016] [:error] [pid 11268] \n[remote 172.31.5.67:43182] mod_wsgi (pid=11268): Target WSGI script '/opt/python/current/app/pronet/src/pronet/wsgi.py' cannot be loaded as Python module.\n\n[Thu Oct 20 17:47:01.340603 2016] [:error] [pid 11268] \n[remote 172.31.5.67:43182] mod_wsgi (pid=11268): Exception occurred processing WSGI script '/opt/python/current/app/pronet/src/pronet/wsgi.py'.\n\n[Thu Oct 20 17:47:01.340653 2016] [:error] [pid 11268] [remote 172.31.5.67:43182] Traceback (most recent call last):\n\n[Thu Oct 20 17:47:01.340701 2016] [:error] [pid 11268] \n[remote 172.31.5.67:43182]   File \"/opt/python/current/app/pronet/src/pronet/wsgi.py\", line 12, in &lt;module&gt;\n\n[Thu Oct 20 17:47:01.340706 2016] [:error] [pid 11268] \n[remote 172.31.5.67:43182]     from django.core.wsgi import get_wsgi_application\n\n[Thu Oct 20 17:47:01.340728 2016] [:error] [pid 11268] \n[remote 172.31.5.67:43182] ImportError: No module named 'django'\n</code></pre>\n\n<p>link to github project. You can view all the code here</p>\n\n<p><a href=\"https://github.com/IantheFlyingHawaiian/Pronet\" rel=\"nofollow\">https://github.com/IantheFlyingHawaiian/Pronet</a></p>\n"}, {"tags": ["python", "json", "tree"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1476918119, "post_id": 40142811, "comment_id": 67555665, "body": "From the input JSON that looks like the right output: Can you show another example and give what you expect as output?"}, {"owner": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "edited": false, "score": 0, "creation_date": 1476918307, "post_id": 40142811, "comment_id": 67555725, "body": "Must haves of all bug reports: \u2460 situation &amp; input, \u2461 observed behavior, \u2462 expected behavior.  You provided some information which is very valuable, namely \u2460 what you did, \u2461 what you received and additionally that you find it wrong.  You now need to provide us the \u2462: what you expected instead."}, {"owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1476919104, "post_id": 40142811, "comment_id": 67555964, "body": "Added expected output. @TemporalWolf"}, {"owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "reply_to_user": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "edited": false, "score": 0, "creation_date": 1476923066, "post_id": 40142811, "comment_id": 67556996, "body": "@Alfe, added expected output in the question."}, {"owner": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "edited": false, "score": 0, "creation_date": 1476952361, "post_id": 40142811, "comment_id": 67567733, "body": "I think you have a different idea what the names of the nodes mean than the library you are using.  For the library the names are IDs which means there can be only one node with any given ID, while you consider them only names which means there can be more than one node with the same name.  My proposal would be to differentiate the names (the two 96s and the two 87s) by adding suffixes (&quot;96a&quot; and &quot;96b&quot; or similar)."}, {"owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "reply_to_user": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "edited": false, "score": 0, "creation_date": 1476957384, "post_id": 40142811, "comment_id": 67571326, "body": "@Alfe, I recon that&#39;s exactly the problem. Your suggestion is indeed a way to solve this problem.  But I&#39;m not sure how am I supposed to deal with suffixes and not change the actual value of node, How do I code it?"}, {"owner": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "edited": false, "score": 0, "creation_date": 1476957548, "post_id": 40142811, "comment_id": 67571435, "body": "I tried this: <code>dot -Tpng -otree.png &lt;&lt;&lt;&quot;strict digraph tree { 92 -&gt; 87 -&gt; \\&quot;87a\\&quot;; 87 -&gt; \\&quot;96a\\&quot;; 92 -&gt; 96 -&gt; 90; 96 -&gt; 105 }&quot;</code> and it worked out of the box, so if you have different IDs, this solves the problem.  In your code you just have to use different IDs as well, e.g. like this: <code>s = &#39;{&quot;92&quot;: {&quot;children&quot;: [{&quot;87&quot;: {&quot;children&quot;: [&quot;87a&quot;, &quot;96a&quot;]}}, {&quot;96&quot;: {&quot;children&quot;: [90, 105]}}]}}&#39;</code>."}, {"owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "edited": false, "score": 0, "creation_date": 1476957958, "post_id": 40142811, "comment_id": 67571734, "body": "Yes, that works, I have tried a lot of different inputs. Whenever all of them are different, the tree is generated perfectly. The problem is when the nodes have similar values. What you are suggesting here, is to change the value of node, which changes the purpose of my program."}, {"owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "reply_to_user": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "edited": false, "score": 0, "creation_date": 1476958344, "post_id": 40142811, "comment_id": 67572009, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/126212/discussion-between-grimlock-and-alfe\">continue this discussion in chat</a>."}, {"owner": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "edited": false, "score": 0, "creation_date": 1476959648, "post_id": 40142811, "comment_id": 67572857, "body": "I added a proper answer below (it was time for this)."}], "answers": [{"comments": [{"owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "edited": false, "score": 0, "creation_date": 1476919340, "post_id": 40142893, "comment_id": 67556039, "body": "Yes, leaf nodes stay without quotes! Anyway to get the expected output? I have added expected output."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "edited": false, "score": 0, "creation_date": 1476919958, "post_id": 40142893, "comment_id": 67556215, "body": "@Grimlock: Check my edited answer. Added your doubt at the last"}, {"owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "edited": false, "score": 0, "creation_date": 1476920894, "post_id": 40142893, "comment_id": 67556498, "body": "Still getting the same image output with this result!"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "edited": false, "score": 0, "creation_date": 1476921150, "post_id": 40142893, "comment_id": 67556566, "body": "My output mentioned at the last is based on your code, with the changes I made in <code>for</code> loop. I believe this is what you desire. If still you are getting previous output, you must not updated the code."}, {"owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "edited": false, "score": 0, "creation_date": 1476922924, "post_id": 40142893, "comment_id": 67556963, "body": "No, I already tried it, it doesn&#39;t work. You can try yourself if you have graphviz installed. I&#39;ve added the console command to the question."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "edited": false, "score": 0, "creation_date": 1476923523, "post_id": 40142893, "comment_id": 67557104, "body": "I do not have that setup in my machine, I do not even know what it does. But definitely it is not the issue with your code in that case as it is working on <i>Python&#39;s shell</i>. Probably it is the issue with <i>Graphviz</i> as in your first graph, it is showing the <code>name</code> without <code>&quot;</code>. Maybe internally it converts all the value to string which it later uses for the display purpose"}, {"owner": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "edited": false, "score": 0, "creation_date": 1476957860, "post_id": 40142893, "comment_id": 67571672, "body": "It does exactly this.  Quotes are stripped."}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 2, "last_activity_date": 1476920317, "last_edit_date": 1476920317, "creation_date": 1476918266, "answer_id": 40142893, "question_id": 40142811, "link": "https://stackoverflow.com/questions/40142811/different-result-for-string-and-integers-using-json-in-python/40142893#40142893", "title": "Different result for String and Integers using JSON in python", "body": "<p>Editting based on the <em>edit</em> in the question:</p>\n\n<p>As far as your output is considered, it is giving me:</p>\n\n<pre><code>92 -&gt; 87;\n87 -&gt; 87;\n87 -&gt; 96;\n92 -&gt; 96;\n96 -&gt; 90;\n96 -&gt; 105;\n</code></pre>\n\n<p>It is showing <code>\"87\"</code> and <code>87</code> as same because you are using <code>.format()</code> with <code>print</code> which inserts the value in string independent of maintaing the quotes <code>\"</code>. For example:</p>\n\n<pre><code>&gt;&gt;&gt; '{}'.format(1)\n'1'\n&gt;&gt;&gt; '{}'.format('1')\n'1'\n</code></pre>\n\n<p>In order to fix this, you may do:</p>\n\n<pre><code>for parent, child in edges:\n    parent = '\"{}\"'.format(parent)  if isinstance(parent, str) else parent\n    child = '\"{}\"'.format(child)  if isinstance(child, str) else child\n    print('    {0} -&gt; {1};'.format(parent, child))\n</code></pre>\n\n<p>which prints:</p>\n\n<pre><code>\"92\" -&gt; \"87\";\n\"87\" -&gt; 87;\n\"87\" -&gt; 96;\n\"92\" -&gt; \"96\";\n\"96\" -&gt; 90;\n\"96\" -&gt; 105;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "edited": false, "score": 0, "creation_date": 1476971707, "post_id": 40151956, "comment_id": 67581586, "body": "This is really close to what I&#39;m trying to achieve, but it works only for given example. For example: If I try to put this: <code>s = &#39;{&quot;82&quot;: {&quot;children&quot;: [{&quot;80&quot;: {&quot;children&quot;: [{&quot;74&quot;: {&quot;children&quot;: [79, 79, 82]}}, {&quot;78&quot;: {&quot;children&quot;: [70, 71, 87]}}, {&quot;84&quot;: {&quot;children&quot;: [76, 80, 91]}}]}}, {&quot;80&quot;: {&quot;children&quot;: [{&quot;81&quot;: {&quot;children&quot;: [85, 86, 88]}}, {&quot;81&quot;: {&quot;children&quot;: [77, 81, 83]}}, {&quot;85&quot;: {&quot;children&quot;: [77, 83, 91]}}]}}, {&quot;89&quot;: {&quot;children&quot;: [{&quot;85&quot;: {&quot;children&quot;: [80, 81, 83]}}, {&quot;95&quot;: {&quot;children&quot;: [87, 102, 103]}}, {&quot;95&quot;: {&quot;children&quot;: [87, 92, 96]}}]}}]}}&#39;</code> then it won&#39;t generate result as required."}, {"owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "edited": false, "score": 0, "creation_date": 1476971757, "post_id": 40151956, "comment_id": 67581648, "body": "I really should look up for some other library to convert this JSON data into a tree, any suggestions?"}, {"owner": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "reply_to_user": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "edited": false, "score": 0, "creation_date": 1476999280, "post_id": 40151956, "comment_id": 67598620, "body": "Again:  what result would you like to have in this new example?"}, {"owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "edited": false, "score": 0, "creation_date": 1477003994, "post_id": 40151956, "comment_id": 67600327, "body": "It&#39;s not complete, but I believe it&#39;s understandable. <a href=\"http://i.imgur.com/XU2MGcB.jpg\" rel=\"nofollow noreferrer\">i.imgur.com/XU2MGcB.jpg</a>"}], "tags": [], "owner": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "is_accepted": false, "score": 1, "last_activity_date": 1476959608, "creation_date": 1476959608, "answer_id": 40151956, "question_id": 40142811, "link": "https://stackoverflow.com/questions/40142811/different-result-for-string-and-integers-using-json-in-python/40151956#40151956", "title": "Different result for String and Integers using JSON in python", "body": "<p>Your problem is rather one with using the tool <code>dot</code> which unifies strings and numbers, hence it regards the nodes with equal names as identical (meaning: being just one).  You need to have unique IDs for each node.  The graphical output then can be tweaked to reflect the equal names in different nodes.</p>\n\n<p>Example:</p>\n\n<pre><code>echo '\nstrict digraph tree {\n  92 -&gt; 87 -&gt; \"87a\";\n  \"87a\" [label=\"87\"];\n  87 -&gt; \"96a\";\n  \"96a\" [label=\"96\"];\n  92 -&gt; 96 -&gt; 90;\n  96 -&gt; 105 }\n' | dot -Tpng -otree.png\n</code></pre>\n\n<p>This will produce exactly the output you wanted (with directed edges).</p>\n\n<p>I changed your code accordingly to implement this tweak:</p>\n\n<pre><code>#!/usr/bin/env python2\n\nfrom __future__ import print_function\nimport json\nimport sys\n\n# Tree in JSON format\ns = '{\"92\": {\"children\": [{\"87\": {\"children\": [87, 96]}}, {\"96\": {\"children\": [90, 105]}}]}}'\n\n# Convert JSON tree to a Python dict\ndata = json.loads(s)\n\n# Extract tree edges from the dict\nedges = []\n\ndef x(node):\n    return '%s%s' % (node, type(node))\n\ndef get_edges(treedict, parent=None):\n    name = next(iter(treedict.keys()))\n    if parent is not None:\n        edges.append((x(parent), x(name), parent, name))\n    for item in treedict[name][\"children\"]:\n        if isinstance(item, dict):\n            get_edges(item, parent=name)\n        else:\n            edges.append((x(name), x(item), name, item))\n\nget_edges(data)\n\n# Dump edge list in Graphviz DOT format\nprint('strict digraph tree {')\nfor row in edges:\n    print('    \"{0}\" -&gt; \"{1}\"; \"{0}\" [label=\"{2}\"]; \"{1}\" [label=\"{3}\"];'.format(*row))\nprint('}')\n</code></pre>\n\n<p>This uses special internal node IDs which combine the node names and their type (str/unicode or int), and sets a label for each node hiding this internal ID again.</p>\n"}], "owner": {"reputation": 565, "user_id": 2679662, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4GE4X.jpg?s=128&g=1", "display_name": "Grimlock", "link": "https://stackoverflow.com/users/2679662/grimlock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476959608, "creation_date": 1476917705, "last_edit_date": 1476958328, "question_id": 40142811, "link": "https://stackoverflow.com/questions/40142811/different-result-for-string-and-integers-using-json-in-python", "title": "Different result for String and Integers using JSON in python", "body": "<p><strong>EDIT:</strong>\nAs @Alfe suggested in the comments, the exact problem in this case is that the following code is unable to handle nodes with same values. So, How do I get the expected output, without changing the value of the nodes?</p>\n\n<p>I'm executing following code to make a tree from JSON data:</p>\n\n<pre><code>from __future__ import print_function\nimport json\nimport sys\n\n# Tree in JSON format\ns = '{\"Harry\": {\"children\": [\"Bill\", {\"Jane\": {\"children\": [{\"Diane\": {\"children\": [\"Mary\"]}}, \"Mark\"]}}]}}'\n\n# Convert JSON tree to a Python dict\ndata = json.loads(s)\n\n# Extract tree edges from the dict\nedges = []\n\ndef get_edges(treedict, parent=None):\n    name = next(iter(treedict.keys()))\n    if parent is not None:\n        edges.append((parent, name))\n    for item in treedict[name][\"children\"]:\n        if isinstance(item, dict):\n            get_edges(item, parent=name)\n        else:\n            edges.append((name, item))\n\nget_edges(data)\n\n# Dump edge list in Graphviz DOT format\nprint('strict digraph tree {')\nfor row in edges:\n    print('    {0} -&gt; {1};'.format(*row))\nprint('}')\n</code></pre>\n\n<p>Command used at terminal: <code>python filename.py | dot -Tpng -otree.png</code></p>\n\n<p>With String input, as shown in the code above, the output is:\n<a href=\"https://i.stack.imgur.com/zFvic.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/zFvic.png\" alt=\"enter image description here\"></a></p>\n\n<p>But if I enter JSON data with integers:</p>\n\n<p><code>s = '{\"92\": {\"children\": [{\"87\": {\"children\": [87, 96]}}, {\"96\": {\"children\": [90, 105]}}]}}'</code></p>\n\n<p>I get following output: (which is wrong!)</p>\n\n<p><a href=\"https://i.stack.imgur.com/aTnbF.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/aTnbF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Expected output:\n<a href=\"https://i.stack.imgur.com/MVkyL.jpg\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/MVkyL.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>What am I doing wrong here? How to solve this issue?</p>\n"}, {"tags": ["python", "numpy", "keras"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1476918367, "post_id": 40142804, "comment_id": 67555743, "body": "<code>arr.ravel()[None]</code> or <code>arr.reshape(1,-1)</code>?"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 1, "creation_date": 1476918674, "post_id": 40142804, "comment_id": 67555844, "body": "<a href=\"https://github.com/fchollet/keras/issues/3109\" rel=\"nofollow noreferrer\">Suspiciously similar</a>"}, {"owner": {"reputation": 355, "user_id": 6902762, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/eca3283eb6de9fbd59e8a82acb849d87?s=128&d=identicon&r=PG", "display_name": "Ritchie", "link": "https://stackoverflow.com/users/6902762/ritchie"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1476920863, "post_id": 40142804, "comment_id": 67556483, "body": "@AndrasDeak Thanks for the link!"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1476927267, "post_id": 40142804, "comment_id": 67557950, "body": "So you need to tell us which module(s) you are running.  Apparently this is not occurring in <code>numpy</code> itself.  I&#39;d expect the error to be, <code>expected (1,192) got ...</code>; <code>None</code> (<code>np.newaxis</code>) is used to create a a size <code>1</code> dimension, but you won&#39;t see it in a <code>shape</code> tuple or error message.  But a module in early stages of development might still use it."}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1476938029, "last_edit_date": 1495539946, "creation_date": 1476937273, "answer_id": 40145437, "question_id": 40142804, "link": "https://stackoverflow.com/questions/40142804/python-array-reshaping-issue-to-array-with-shape-none-192/40145437#40145437", "title": "Python Array Reshaping Issue to Array with Shape (None, 192)", "body": "<p>In <code>keras/keras/engine/training.py</code></p>\n\n<pre><code>def standardize_input_data(data, names, shapes=None,\n                           check_batch_dim=True,\n                           exception_prefix=''):\n     ...\n\n    # check shapes compatibility\n    if shapes:\n        for i in range(len(names)):\n        ...\n        for j, (dim, ref_dim) in enumerate(zip(array.shape, shapes[i])):\n            if not j and not check_batch_dim:\n                # skip the first axis\n                continue\n            if ref_dim:\n                if ref_dim != dim:\n                    raise Exception('Error when checking ' + exception_prefix +\n                                    ': expected ' + names[i] +\n                                    ' to have shape ' + str(shapes[i]) +\n                                    ' but got array with shape ' +\n                                    str(array.shape))\n</code></pre>\n\n<p>Comparing that with the error</p>\n\n<pre><code>Error when checking : expected input_1 to have shape (None, 192) but got array with shape (192, 1)\n</code></pre>\n\n<p>So it is comparing <code>(None, 192)</code> with <code>(192, 1)</code>, and skipping the 1st axis; that is comparing <code>192</code> and <code>1</code>.  If <code>array</code> has shape <code>(n, 192)</code> it probably would pass.  </p>\n\n<p>So basically, what ever is generating the <code>(192,1)</code> shape, as opposed to <code>(1,192)</code> or a broadcastable <code>(192,)</code> is causing the error.</p>\n\n<p>I'm adding <code>keras</code> to the tags on the guess that this is the problem module.</p>\n\n<p>Searching other <code>keras</code> tagged SO questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39335434/exception-error-when-checking-model-target-expected-dense-3-to-have-shape-non\">Exception: Error when checking model target: expected dense_3 to have shape (None, 1000) but got array with shape (32, 2)</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/37901698/error-error-when-checking-model-input-expected-dense-input-6-to-have-shape-no\">Error: Error when checking model input: expected dense_input_6 to have shape (None, 784) but got array with shape (784L, 1L)</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/40088381/dimensions-not-matching-in-keras-lstm-model\">Dimensions not matching in keras LSTM model</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/39308273/getting-shape-dimension-errors-with-a-simple-regression-using-keras\">Getting shape dimension errors with a simple regression using Keras</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/39976718/deep-autoencoder-in-keras-converting-one-dimension-to-another-i\">Deep autoencoder in Keras converting one dimension to another i</a></p>\n\n<p>I don't know enough about <code>keras</code> to understand the answers, but there's more to it than simply reshaping your input array.</p>\n"}], "owner": {"reputation": 355, "user_id": 6902762, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/eca3283eb6de9fbd59e8a82acb849d87?s=128&d=identicon&r=PG", "display_name": "Ritchie", "link": "https://stackoverflow.com/users/6902762/ritchie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2443, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1476938029, "creation_date": 1476917666, "last_edit_date": 1476937298, "question_id": 40142804, "link": "https://stackoverflow.com/questions/40142804/python-array-reshaping-issue-to-array-with-shape-none-192", "title": "Python Array Reshaping Issue to Array with Shape (None, 192)", "body": "<p>I have this error and I'm not sure how do I reshape where there's a dimension with <code>None</code>.</p>\n\n<pre><code>Exception: Error when checking : expected input_1 to have shape (None, 192) but got array with shape (192, 1)\n</code></pre>\n\n<p>How do I reshape an array to (None, 192)? </p>\n\n<p>I've the array <code>accuracy</code> with shape <code>(12, 16)</code> and I did <code>accuracy.reshape(-1)</code> that gives <code>(192,)</code>. However this is not <code>(None, 192)</code>.</p>\n"}, {"tags": ["python", "optimization", "scipy"], "comments": [{"owner": {"reputation": 7796, "user_id": 2334254, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-6e2XuTZAjgM/AAAAAAAAAAI/AAAAAAAAABU/JpF2-AkHsH4/photo.jpg?sz=128", "display_name": "kpie", "link": "https://stackoverflow.com/users/2334254/kpie"}, "edited": false, "score": 0, "creation_date": 1476917678, "post_id": 40142752, "comment_id": 67555538, "body": "yeah switch the ticks out for square brackets in your array declaration."}, {"owner": {"reputation": 695, "user_id": 6934489, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/aa1df7a1a5d874f48bf8250542baee32?s=128&d=identicon&r=PG&f=1", "display_name": "DPdl", "link": "https://stackoverflow.com/users/6934489/dpdl"}, "reply_to_user": {"reputation": 7796, "user_id": 2334254, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-6e2XuTZAjgM/AAAAAAAAAAI/AAAAAAAAABU/JpF2-AkHsH4/photo.jpg?sz=128", "display_name": "kpie", "link": "https://stackoverflow.com/users/2334254/kpie"}, "edited": false, "score": 0, "creation_date": 1476917979, "post_id": 40142752, "comment_id": 67555623, "body": "Thank you, kpie. That works. Do you know how I can set constraints?"}, {"owner": {"reputation": 7796, "user_id": 2334254, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-6e2XuTZAjgM/AAAAAAAAAAI/AAAAAAAAABU/JpF2-AkHsH4/photo.jpg?sz=128", "display_name": "kpie", "link": "https://stackoverflow.com/users/2334254/kpie"}, "edited": false, "score": 0, "creation_date": 1476923649, "post_id": 40142752, "comment_id": 67557141, "body": "bounds : 2-tuple of array_like, optional &amp; method : {\u2018lm\u2019, \u2018trf\u2019, \u2018dogbox\u2019}"}], "answers": [{"tags": [], "owner": {"reputation": 7796, "user_id": 2334254, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-6e2XuTZAjgM/AAAAAAAAAAI/AAAAAAAAABU/JpF2-AkHsH4/photo.jpg?sz=128", "display_name": "kpie", "link": "https://stackoverflow.com/users/2334254/kpie"}, "is_accepted": true, "score": 0, "last_activity_date": 1476917757, "creation_date": 1476917757, "answer_id": 40142816, "question_id": 40142752, "link": "https://stackoverflow.com/questions/40142752/how-to-do-curvefitting-using-scipy-optimize-curve-fit/40142816#40142816", "title": "How to do curvefitting using scipy.optimize.curve_fit", "body": "<pre><code>import numpy as np\nfrom scipy.optimize import curve_fit\n\nxdata= np.array([1, 8, 8, 21, 31, 42, 63, 64, 81, 110, 156, 211, 301, 336, 735])\nydata = np.array([0.018, 0.0164, 0.0042, 0.0072, 0.0108, 0.0044, 0.0035, 0.0036, 0.0042, 0.0051, 0.0019, 0.0042, 0.0019, 8e-4, 2e-4])\n\ndef func(x,a,b,m,n):\n    return a*np.exp(m*x)+b*np.exp(n*x)\n\ncurve_fit(func, xdata, ydata)\n</code></pre>\n\n<p>unfortunatly <code>Covariance of the parameters could not be estimated</code></p>\n"}], "owner": {"reputation": 695, "user_id": 6934489, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/aa1df7a1a5d874f48bf8250542baee32?s=128&d=identicon&r=PG&f=1", "display_name": "DPdl", "link": "https://stackoverflow.com/users/6934489/dpdl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 40142816, "answer_count": 1, "score": 0, "last_activity_date": 1476917757, "creation_date": 1476917346, "question_id": 40142752, "link": "https://stackoverflow.com/questions/40142752/how-to-do-curvefitting-using-scipy-optimize-curve-fit", "title": "How to do curvefitting using scipy.optimize.curve_fit", "body": "<p>I am quite new to Python. I wanted to do a sum of exponentials fit to my data using curve_fit. Here's my code:</p>\n\n<pre><code>import numpy as np\nfrom scipy.optimize import curve_fit\n\nxdata= np.array('1, 8, 8, 21, 31, 42, 63, 64, 81, 110, 156, 211, 301, 336, 735')\nydata = np.array('0.018, 0.0164, 0.0042, 0.0072, 0.0108, 0.0044, 0.0035, 0.0036, 0.0042, 0.0051, 0.0019, 0.0042, 0.0019, 8e-4, 2e-4')\n\ndef func(x,a,b,m,n):\n    return a*np.exp(m*x)+b*np.exp(n*x)\n\ncurve_fit(func, xdata, ydata)\n</code></pre>\n\n<p>I get the typeerror stating: \"ufunc 'multiply' did not contain a loop with signature matching types dtype('\n\n<p>Can somebody please help me with this? Also, I would like to set a constraint such that parameters a and b add to 1.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "pygame", "collision-detection"], "answers": [{"comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1476922662, "post_id": 40143239, "comment_id": 67556907, "body": "@Allison if you don&#39;t want to use <a href=\"http://www.pygame.org/docs/ref/sprite.html\" rel=\"nofollow noreferrer\">Sprites</a> yet then use at least <a href=\"http://www.pygame.org/docs/ref/rect.html\" rel=\"nofollow noreferrer\">pygame.Rect()</a> and <code>pygame.Rect.colliderect()</code>"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1476922738, "post_id": 40143239, "comment_id": 67556923, "body": "@furas Yeah I guess he could. But since he was already loading in images, i figured he might as well use Sprites."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1476923840, "post_id": 40143239, "comment_id": 67557210, "body": "yes, sooner or later OP will have to learn Sprites - so with your example OP can start it now."}], "tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": false, "score": 2, "last_activity_date": 1476920498, "creation_date": 1476920498, "answer_id": 40143239, "question_id": 40142731, "link": "https://stackoverflow.com/questions/40142731/collision-between-two-sprites-python-3-5-2/40143239#40143239", "title": "Collision Between two sprites - Python 3.5.2", "body": "<p>Well there are many different ways to detect collision, And it might be worth looking at libraries that would do so, but the simplest method by far is to use <code>pygame.sprite.spritecollide()</code>.</p>\n\n<p>But before I can show how to use the function, you need to know what a <code>pygame.sprite.Group()</code> is and what a sprite class is.</p>\n\n<p>Basicly, what a <code>pygame.sprite.Group()</code> is, is a way to keep track of and hold multiple sprites. In your case, it seems making a missile group for your missiles would be the best choice.</p>\n\n<p>So I would create a group to hold your missiles:\n<code>missiles_group = pygame.sprite.Group()</code>. You can add missiles to the group by saying <code>missiles_group.add(&lt;sprite instance name&gt;)</code>.</p>\n\n<p>As for the sprite class, please see this answer I gave to a question. To be terse, a Sprite class is a modular way to create a sprite. Instead of using just  a plain image, a sprite class would hold necessary methods and attributes of a sprite. I will be using a sprite class in my example below, so if more detail is needed, please read the answer I linked to above. </p>\n\n<hr>\n\n<p>With that out of the way, and without going into too much detail, here is how you fill in each function parameter to the above function.</p>\n\n<ul>\n<li><code>sprite</code>: This is the sprite that will be tested against a group of sprites</li>\n<li><code>group</code>: This is the group that will be used to test with the sprite.</li>\n<li><code>dokill</code>: This is a boolean value. If set to true, each time the <code>sprite</code> parameter collides with something in the <code>group</code> parameter, and object from the group parameter will be deleted. And visa versa if the <code>dokill</code> argument is set to false.\nThe is one more parameter that the function takes, but for what you're trying to do, it is not needed.</li>\n</ul>\n\n<p>Incorporating the above information, here is an example. The example creates a sprite and a list of sprites. Each time the sprite collides with a sprite from the group, <code>HIT</code> is printed to the screen:</p>\n\n<pre><code>import pygame #import the pygame module into the namespace &lt;module&gt;\n\nWIDTH = 640 # define a constant width for our window\nHEIGHT = 480 # define a constant height for our window\n\n#create a pygame window, and\n#initialize it with our WIDTH and HEIGHT constants\ndisplay = pygame.display.set_mode((WIDTH, HEIGHT))\nclock = pygame.time.Clock() # create a game clock\n\nclass Sprite(pygame.sprite.Sprite):\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n        self.image = pygame.Surface((20, 20))\n        self.image.fill((255, 0, 0))\n        self.rect = self.image.get_rect()\n        self.rect.x = WIDTH / 2\n        self.rect.y = HEIGHT / 2\n        self.vx = 0\n        self.vy = 0\n\n    def update(self):\n        self.vx = 0\n        self.vy = 0\n        key = pygame.key.get_pressed()\n        if key[pygame.K_LEFT]:\n            self.vx = -1\n        elif key[pygame.K_RIGHT]:\n            self.vx = 1\n        if key[pygame.K_UP]:\n            self.vy = -1\n        elif key[pygame.K_DOWN]:\n            self.vy = 1\n        self.rect.x += self.vx\n        self.rect.y += self.vy\n\n# cretae a player sprite\nplayer = Sprite()\n\n# create a group to hold all of our sprites\nsprites = pygame.sprite.Group()\n\n# create a group to hold sprites we want to\n# test collions against. These sprites will\n# still be added to the sprites list\n# but we need a seperate group to test for\n# collisions against\ncollision_sprites = pygame.sprite.Group()\n\n# add a sprite to out collison sprite group\n# We also add the sprite to our sprites group\n# that holds all sprites\ntmp = Sprite()\ntmp.update = lambda: None\nsprites.add(tmp)\ncollision_sprites.add(tmp)\n\n# add a player sprites to the player group\nplayer.rect.x = 10\nsprites.add(player)\n\n\nrunning = True # our variable for controlling our game loop\nwhile running:\n    for e in pygame.event.get(): # iterate ofver all the events pygame is tracking\n        clock.tick(60) # make our clock keep pour game at 60 FPS\n        if e.type == pygame.QUIT: # is the user trying to close the window?\n            running = False # if so break the loop\n            pygame.quit() # quit the pygame module\n            quit() # quit is for IDLE friendliness\n\n    sprites.update()\n\n    # here is where we test for collision\n    if pygame.sprite.spritecollide(player, collision_sprites, False):\n        print(\"HIT!\")\n\n    display.fill((180, 180, 180)) # fill the pygame screen with white\n    sprites.draw(display)\n    pygame.display.flip() # update the screen\n</code></pre>\n\n<p>My example if fairly big, so take your time and step through it carefully. I tried to add as many good comments as I could. Good luck!</p>\n"}], "owner": {"reputation": 1, "user_id": 6875348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zQJB0.jpg?s=128&g=1", "display_name": "Allison", "link": "https://stackoverflow.com/users/6875348/allison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476920498, "creation_date": 1476917219, "question_id": 40142731, "link": "https://stackoverflow.com/questions/40142731/collision-between-two-sprites-python-3-5-2", "title": "Collision Between two sprites - Python 3.5.2", "body": "<p>I have an image of a ufo and a missile. I'm trying to get it to where if the missile hits the ufo they both would explode and disappear and then a few moments later another ufo would respawn but the collision code isn't working. can someone explain to me how to make the code work?</p>\n\n<pre><code>pygame.display.init()\npygame.font.init()\nscreen = pygame.display.set_mode((800, 600))\nclock = pygame.time.Clock()\nufo = pygame.image.load(\"ufo.png\")\nrocket = pygame.image.load(\"rocket.png\")\ndone = False\ndebug = False\nfontObj = pygame.font.SysFont(\"Courier New\", 20)\n\n#Making my Empty Lists\nmissiles = [] #[x,y]\nufo_list = [] #[x,y,hspeed]\nparticle_list = []\n\n#UFO Respawn Info\nufoRespawn = True\nufoHits = 0\nufoSpawnTimer = 0.0\nufoSpeed = 500.0\n\n#MISSILE Info\nlaunchX = 400\nlaunchY = 550\nmissileSpeed = 100.0\nmissileDirection = 0\n\n#creating the Starfield\nmyStars = []            # An (initially) empty list\nfor i in range(1000):\n    x = random.randint(0, 800)\n    y = random.randint(0, 600)\n    newStar = [x, y]    # A 2-element list\n    myStars.append(newStar)\nstarSpeed = 100.0       # Rate of star movement (px / s)\nstarDirection = 0       # 0 = not moving, -1 = left, +1 = right\n\n#input\nwhile not done: \n    event = pygame.event.poll()\n    if event.type == pygame.QUIT:\n        done = True\n\n    keys = pygame.key.get_pressed()\n    if keys[pygame.K_ESCAPE]:\n        done = True\n\n    if event.type == pygame.KEYDOWN:\n        if event.key == pygame.K_d:\n            debug = not debug\n\n\n    dt = clock.tick() /1000.0\n\n#the missile range (making it disappear after it hits the top)\n    for missile in missiles:\n        missile[1] -= missileSpeed * dt \n        if missile[1] &lt; 0:    missiles.remove(missle)\n\n\n#triangle following mouse position\n    mx, my = pygame.mouse.get_pos()\n    if mx &gt; launchX:\n        launchX += .3\n    if mx &lt; launchX:\n        launchX -= .3\n\n\n#bullets firing when pressing with mouse\n    mbuttons = pygame.mouse.get_pressed()\n    if mbuttons [0]:\n        x = launchX\n        y = launchY\n        newMissiles = [x,y]\n        missiles.append(newMissiles)\n\n#Creating the UFOs\n    ufoSpawnTimer -= dt\n    if ufoSpawnTimer &lt;= 0:\n        if random.choice ((\"head\", \"tail\")) == \"head\":\n            x = 0\n            hspeed = random.randint (10,50)\n        else:\n            x = 800\n            hspeed = random.randint (-50, -10)\n        y = random.randint (0,300)\n        new_ufo = [x,y,hspeed]\n        ufo_list.append(new_ufo)\n        ufoSpawnTimer = 5.0\n\n\n#Moving the Starfield\n    for i in range(len(myStars)):\n        myStars[i][0] += starSpeed * dt * starDirection\n        if myStars[i][0] &lt; 0:       myStars[i][0] = 800\n        if myStars[i][0] &gt; 800:     myStars[i][0] = 0   \n\n\n\n    screen.fill ((0,0,0))\n#drawing the triangle  a.k.a missle launcher :D\n    pygame.draw.polygon(screen, (255,255,255), [[launchX, launchY], [launchX + 10, launchY + 10], \\\n                        [launchX - 10, launchY + 10]], 3)\n\n    for missile in missiles:\n        x = int(missile[0])\n        y = int(missile[1])\n        screen.blit(rocket, (x,y))\n\n\n    #drawing the ufo\n    for v in ufo_list:\n        v[0] += v[2] * dt\n        screen.blit(ufo,(v[0],v[1]))\n\n\n    #Missle distance from UFO  - NEED HELP ON THIS PORTION\n    #Hit Detection\n    missileDist = ((x - v[0]) ** 2 + (y - v[1]) ** 2) ** 0.5\n    if **????** :\n        ufoRespawn = True\n        ufoHits += 10\n\n    #drawing th starfield\n    for star in myStars:\n        x = int(star[0])\n        y = int(star[1])\n        pygame.draw.circle(screen, (255,255,255), (x,y), 2)\n\n\n\n    pygame.display.flip()\npygame.font.quit()\npygame.display.quit()\n</code></pre>\n"}, {"tags": ["python", "numpy", "anaconda", "caffe", "miniconda"], "comments": [{"owner": {"reputation": 95, "user_id": 2626755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lmz68.jpg?s=128&g=1", "display_name": "Skylar", "link": "https://stackoverflow.com/users/2626755/skylar"}, "edited": false, "score": 0, "creation_date": 1476918564, "post_id": 40142688, "comment_id": 67555812, "body": "How are you sure that numpy being missing is what&#39;s causing the first error?  Have you checked if C:\\caffe-master\\python\\caffe_caffe.cpp exists?"}, {"owner": {"reputation": 3843, "user_id": 2735009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/38a795fbd4a70b92d3ea5596dc8beb6e?s=128&d=identicon&r=PG&f=1", "display_name": "Patthebug", "link": "https://stackoverflow.com/users/2735009/patthebug"}, "reply_to_user": {"reputation": 95, "user_id": 2626755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lmz68.jpg?s=128&g=1", "display_name": "Skylar", "link": "https://stackoverflow.com/users/2626755/skylar"}, "edited": false, "score": 0, "creation_date": 1476984104, "post_id": 40142688, "comment_id": 67590202, "body": "Yes, I did check, and the file exists. The reason I know the error is related to <code>numpy</code> is because I googles the error and most people suggested that it may not be installed. Upon checking this in Miniconda, I also found that it wasn&#39;t installed."}, {"owner": {"reputation": 95, "user_id": 2626755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lmz68.jpg?s=128&g=1", "display_name": "Skylar", "link": "https://stackoverflow.com/users/2626755/skylar"}, "edited": false, "score": 0, "creation_date": 1477440254, "post_id": 40142688, "comment_id": 67765618, "body": "Ah, I was mixed up, It&#39;s saying that &#39;numpy/arrayobject.h&#39; doesn&#39;t exist.  I suspect that what you really want is just to use your base Anaconda2 installation instead of trying to use Miniconda, as Anaconda is, as far as I understand, a superset of Miniconda.  I don&#39;t think having two installs of Anaconda like you do is really how it&#39;s intended to be used."}, {"owner": {"reputation": 95, "user_id": 2626755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lmz68.jpg?s=128&g=1", "display_name": "Skylar", "link": "https://stackoverflow.com/users/2626755/skylar"}, "edited": false, "score": 0, "creation_date": 1477440469, "post_id": 40142688, "comment_id": 67765654, "body": "If you really need to have multiple Anaconda setups going, look into <a href=\"http://conda.pydata.org/docs/py2or3.html\" rel=\"nofollow noreferrer\">conda  environments</a>.  There&#39;s support for having multiple environments but only one installation of Anaconda."}, {"owner": {"reputation": 95, "user_id": 2626755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lmz68.jpg?s=128&g=1", "display_name": "Skylar", "link": "https://stackoverflow.com/users/2626755/skylar"}, "edited": false, "score": 0, "creation_date": 1477440636, "post_id": 40142688, "comment_id": 67765694, "body": "Also relevant: <a href=\"http://stackoverflow.com/questions/24405561/how-to-install-2-anacondas-python-2-7-and-3-4-on-mac-os-10-9\" title=\"how to install 2 anacondas python 2 7 and 3 4 on mac os 10 9\">stackoverflow.com/questions/24405561/&hellip;</a>"}], "owner": {"reputation": 3843, "user_id": 2735009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/38a795fbd4a70b92d3ea5596dc8beb6e?s=128&d=identicon&r=PG&f=1", "display_name": "Patthebug", "link": "https://stackoverflow.com/users/2735009/patthebug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 627, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476916986, "creation_date": 1476916986, "question_id": 40142688, "link": "https://stackoverflow.com/questions/40142688/numpy-installation-issues-with-miniconda2", "title": "Numpy installation issues with Miniconda2", "body": "<p>I'm on a <code>windows 10</code> machine and trying to install <code>caffe</code> for deep learning. The installation <a href=\"https://github.com/microsoft/caffe\" rel=\"nofollow\">steps</a> asked me to install <code>Miniconda</code>, so I did. I already had <code>Anaconda2</code> installed on my system. </p>\n\n<p>Now when I try to build the solution (using <code>Visual Studio 2013</code>) for <code>caffe</code> I get the following error:</p>\n\n<pre><code>Error 232 error C1083: Cannot open include file: 'numpy/arrayobject.h': No such file or directory C:\\caffe-master\\python\\caffe\\_caffe.cpp 10 1 pycaffe\n</code></pre>\n\n<p>This is because <code>Miniconda</code> doesn't have numpy installed on it, even though I installed it using the following command:</p>\n\n<pre><code>conda install --yes numpy scipy matplotlib scikit-image pip\n</code></pre>\n\n<p>But when I open the <code>Miniconda2</code> console and run <code>import numpy</code>, I get an error saying it is not installed.</p>\n\n<p>So my question eventually is: How do I install <code>Numpy</code> and <code>Scipy</code> on <code>Miniconda2</code> when I already have <code>Anaconda2</code> installed on my system?</p>\n\n<p>Step by step instructions would be highly appreciated.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 4384797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b3ce3754008e240ca442cd354c63010?s=128&d=identicon&r=PG&f=1", "display_name": "Tiphaine", "link": "https://stackoverflow.com/users/4384797/tiphaine"}, "reply_to_user": {"reputation": 421, "user_id": 3035659, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/603095741/picture?type=large", "display_name": "faranak777", "link": "https://stackoverflow.com/users/3035659/faranak777"}, "edited": false, "score": 0, "creation_date": 1476919513, "post_id": 40142930, "comment_id": 67556084, "body": "@Faranak For <code>COL2</code> you can use Pandas <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.to_datetime.html\" rel=\"nofollow noreferrer\">pd.to_datetime</a> function:      <code>df[&#39;COL2&#39;] = pd.to_datetime(df[&#39;COL2&#39;])</code>"}], "tags": [], "owner": {"reputation": 101, "user_id": 4384797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b3ce3754008e240ca442cd354c63010?s=128&d=identicon&r=PG&f=1", "display_name": "Tiphaine", "link": "https://stackoverflow.com/users/4384797/tiphaine"}, "is_accepted": true, "score": 3, "last_activity_date": 1476919795, "last_edit_date": 1476919795, "creation_date": 1476918467, "answer_id": 40142930, "question_id": 40142686, "link": "https://stackoverflow.com/questions/40142686/converting-non-numeric-to-numeric-value-using-panda-libraries/40142930#40142930", "title": "converting non-numeric to numeric value using Panda libraries", "body": "<p>To encode non-numeric data to numeric you can use scikit-learn's <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.LabelEncoder.html#sklearn.preprocessing.LabelEncoder\" rel=\"nofollow\">LabelEncoder</a>. It will encode each category such as COL1's <code>a</code>, <code>b</code>, <code>c</code> to integers.</p>\n\n<p>Assuming df is your dataframe, try:</p>\n\n<pre><code>from sklearn.preprocessing import LabelEncoder\nenc = LabelEncoder()\nenc.fit(df['COL1'])\ndf['COL1'] = enc.transform(df['col1'])\n</code></pre>\n\n<ul>\n<li><code>enc.fit()</code> creates the corresponding integer values.</li>\n<li><code>enc.transform()</code> applies the encoding to the df values.</li>\n</ul>\n\n<p>For the second column, using Pandas <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.to_datetime.html\" rel=\"nofollow\">to_datetime()</a> function should do the trick, like @quinn-weber mentioned, try:</p>\n\n<pre><code>df['COL2'] = pd.to_datetime(df['COL2'])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 421, "user_id": 3035659, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/603095741/picture?type=large", "display_name": "faranak777", "link": "https://stackoverflow.com/users/3035659/faranak777"}, "edited": false, "score": 0, "creation_date": 1476918853, "post_id": 40142943, "comment_id": 67555891, "body": "mapping is manual? {&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;n&#39;: 14}...my data is like 68k"}, {"owner": {"reputation": 421, "user_id": 3035659, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/603095741/picture?type=large", "display_name": "faranak777", "link": "https://stackoverflow.com/users/3035659/faranak777"}, "edited": false, "score": 0, "creation_date": 1476918933, "post_id": 40142943, "comment_id": 67555917, "body": "68k rows i mean"}], "tags": [], "owner": {"reputation": 847, "user_id": 4784545, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ERaY.jpg?s=128&g=1", "display_name": "Quinn Weber", "link": "https://stackoverflow.com/users/4784545/quinn-weber"}, "is_accepted": false, "score": 1, "last_activity_date": 1476919322, "last_edit_date": 1476919322, "creation_date": 1476918527, "answer_id": 40142943, "question_id": 40142686, "link": "https://stackoverflow.com/questions/40142686/converting-non-numeric-to-numeric-value-using-panda-libraries/40142943#40142943", "title": "converting non-numeric to numeric value using Panda libraries", "body": "<p>You could convert COL1 with something like this: </p>\n\n<pre><code>import pandas as pd\nimport string\ntable = pd.DataFrame([\n    ['a','9/8/2016',2],\n    ['b','12/4/2016',23],\n    ['n','1/1/2015',21],\n], columns=['COL1', 'COL2', 'COL3'])\ntable['COL1'] = table['COL1'].map(dict(zip(list(string.lowercase), xrange(0,25))))\n</code></pre>\n\n<p>As for the timestamp, you could do:</p>\n\n<pre><code>table['COL2'] = pd.to_datetime(\n    table['COL2'], format='%m/%d/%Y'\n).dt.strftime(date_format='%Y%m%d')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 0, "last_activity_date": 1476923154, "creation_date": 1476923154, "answer_id": 40143580, "question_id": 40142686, "link": "https://stackoverflow.com/questions/40142686/converting-non-numeric-to-numeric-value-using-panda-libraries/40143580#40143580", "title": "converting non-numeric to numeric value using Panda libraries", "body": "<p>for strings<br>\nconsider</p>\n\n<pre><code>s = pd.Series(list('abcdefagbfhickjjmshh'))\n# get unique values\nu = s.unique()\n# gen a mapping series\nm = pd.Series(range(len(u)), u)\n# encode\ns.map(m)\n\n0      0\n1      1\n2      2\n3      3\n4      4\n5      5\n6      0\n7      6\n8      1\n9      5\n10     7\n11     8\n12     2\n13     9\n14    10\n15    10\n16    11\n17    12\n18     7\n19     7\ndtype: int64\n</code></pre>\n\n<p>for dates<br>\nthere are two ways to do it.  If you don't care about the relative position of the dates, use the same exact method as for strings.  Otherwise<br>\nconsider</p>\n\n<pre><code>d = pd.date_range('2015-03-31', periods=20).to_series().reset_index(drop=True)\n\npd.Series(d.values.astype(np.timedelta64), d.index, np.int64)\n\n0     1427760000000000000\n1     1427846400000000000\n2     1427932800000000000\n3     1428019200000000000\n4     1428105600000000000\n5     1428192000000000000\n6     1428278400000000000\n7     1428364800000000000\n8     1428451200000000000\n9     1428537600000000000\n10    1428624000000000000\n11    1428710400000000000\n12    1428796800000000000\n13    1428883200000000000\n14    1428969600000000000\n15    1429056000000000000\n16    1429142400000000000\n17    1429228800000000000\n18    1429315200000000000\n19    1429401600000000000\ndtype: int64\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 3035659, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/603095741/picture?type=large", "display_name": "faranak777", "link": "https://stackoverflow.com/users/3035659/faranak777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6135, "favorite_count": 2, "accepted_answer_id": 40142930, "answer_count": 3, "score": 3, "last_activity_date": 1533660425, "creation_date": 1476916967, "last_edit_date": 1533660425, "question_id": 40142686, "link": "https://stackoverflow.com/questions/40142686/converting-non-numeric-to-numeric-value-using-panda-libraries", "title": "converting non-numeric to numeric value using Panda libraries", "body": "<p>I am learning Pandas and I came to an interesting question. So I have a Dataframe like this:</p>\n\n<pre><code>COL1    COL2      COL3\na     9/8/2016     2\nb     12/4/2016    23\n         ...\nn     1/1/2015     21\n</code></pre>\n\n<p>COL1 is a String, Col2 is a timestamp and Col3 is a number. Now I need to do some analysis on this Dataframe and I want to convert all the non-numeric data to numeric. I tried using <a href=\"http://scikit-learn.org/stable/modules/feature_extraction.html#dict-feature-extraction\" rel=\"nofollow noreferrer\">DictVectorizer()</a> to convert COL1 and 2 to numeric but first of all I am not sure if this is the best way doing such a thing and second I don't know what to do with the timestamp.\nWhen I use DictVectorizer the output would be like:</p>\n\n<pre><code>{u'COL3: {0:2, 1:23 , ...,n:21}, 'COL1': {0: u'a', 1:'b', ... , n:'n'}, 'COL2': {0: u'9/8/2016' , 1: u'12/4/2016' , ... , n:u'1/1/2016'}}\n</code></pre>\n\n<p>but from what I learned it should be like this or at least I know I need something like this:</p>\n\n<pre><code> {COL1:'a', COL2: '9/8/2016' , COL3: 2  and so on}   \n</code></pre>\n\n<p>so, questions:\n1-what is the best way of converting non- numeric (including date) to numeric values to use in sklearn libraries\n2- what is the right way of using DictVectorize()</p>\n\n<p>Any help would be appreciated. </p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1476918023, "post_id": 40142668, "comment_id": 67555634, "body": "what is a problem/question ? Do you get error message ? Show it in question ?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1476918048, "post_id": 40142668, "comment_id": 67555641, "body": "use <code>root.destroy()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 17763, "user_id": 5317403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8TwWN.png?s=128&g=1", "display_name": "acw1668", "link": "https://stackoverflow.com/users/5317403/acw1668"}, "is_accepted": false, "score": 1, "last_activity_date": 1476925348, "creation_date": 1476925348, "answer_id": 40143854, "question_id": 40142668, "link": "https://stackoverflow.com/questions/40142668/how-can-i-exit-a-tkinter-window-after-changing-images/40143854#40143854", "title": "how can I exit a tkinter window after changing images?", "body": "<p>The image is not changed because <code>time.sleep(2)</code> blocks tkinter update.  After the sleep, tkinter quit and so the image is not updated.</p>\n\n<p>Since you have only 2 images and you want to exit the tkinter window 2 seconds after the change of image, try:</p>\n\n<pre><code>def onButton(self):\n    self.canvas.itemconfig(self.image_on_canvas, image=self.my_images[1])\n    root.after(2000, root.destroy) # close root window after 2 seconds\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6941910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d665dca2308ed0b5e5f88adb575adc9?s=128&d=identicon&r=PG&f=1", "display_name": "sillas9911", "link": "https://stackoverflow.com/users/6941910/sillas9911"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1476925348, "creation_date": 1476916852, "last_edit_date": 1476917228, "question_id": 40142668, "link": "https://stackoverflow.com/questions/40142668/how-can-i-exit-a-tkinter-window-after-changing-images", "title": "how can I exit a tkinter window after changing images?", "body": "<p>So I'm trying to make a little battle scene using Tkinter, the code is supposed to change the image, wait a couple of seconds, then exit the Tkinter window. The code I have just makes a little pause when the button to change images is pressed. I'm still a beginner and some concepts are hard for me to grasp.\nHere is the code:</p>\n\n<pre><code>from tkinter import *\nimport time\n\nclass MainWindow():\n\n    def __init__(self, main):\n\n        # canvas for image\n        self.canvas = Canvas(main, width=660, height=440)\n        self.canvas.grid(row=0, column=0)\n\n        # images\n        self.my_images = []\n        self.my_images.append(PhotoImage(file = \"att1.gif\"))\n        self.my_images.append(PhotoImage(file = \"att2.gif\"))\n        self.my_image_number = 0\n        # set first image on canvas\n        self.image_on_canvas = self.canvas.create_image(0, 0, anchor = NW, image = self.my_images[self.my_image_number])\n\n        # button to change image\n        self.button = Button(main, text=\"FIGHT\", command=self.onButton)\n        self.button.grid(row=1, column=0)\n\n    #----------------\n\n    def onButton(self):\n\n        # next image\n        self.my_image_number = 1\n        if self.my_image_number == 1:\n            time.sleep(2)\n            root.quit()\n        # change image\n        self.canvas.itemconfig(self.image_on_canvas, image = self.my_images[self.my_image_number])\n\nroot = Tk()\nMainWindow(root)\n\nroot.mainloop()\n</code></pre>\n\n<p>some of this code is borrowed, I tried to alter it to fit my purpose</p>\n"}, {"tags": ["python", "django", "dictionary"], "comments": [{"owner": {"reputation": 1119, "user_id": 6222397, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027495110613102/picture?type=large", "display_name": "Hisham Karam", "link": "https://stackoverflow.com/users/6222397/hisham-karam"}, "edited": false, "score": 0, "creation_date": 1476916925, "post_id": 40142646, "comment_id": 67555302, "body": "what does it mean ` JOBS=1`"}, {"owner": {"reputation": 1119, "user_id": 6222397, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027495110613102/picture?type=large", "display_name": "Hisham Karam", "link": "https://stackoverflow.com/users/6222397/hisham-karam"}, "edited": false, "score": 0, "creation_date": 1476917178, "post_id": 40142646, "comment_id": 67555386, "body": "be clear what you want to do"}, {"owner": {"reputation": 175, "user_id": 4808466, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/104692a4bcdece8fe2a3e0b4ae733210?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/4808466/alexander"}, "reply_to_user": {"reputation": 1119, "user_id": 6222397, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027495110613102/picture?type=large", "display_name": "Hisham Karam", "link": "https://stackoverflow.com/users/6222397/hisham-karam"}, "edited": false, "score": 0, "creation_date": 1476917386, "post_id": 40142646, "comment_id": 67555453, "body": "@HishamKaram I was able to create a model, which would be set up: title and icon. But instead, I decided to create a choice. Title I can add, but for the selected item to set the icon?"}, {"owner": {"reputation": 1119, "user_id": 6222397, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027495110613102/picture?type=large", "display_name": "Hisham Karam", "link": "https://stackoverflow.com/users/6222397/hisham-karam"}, "edited": false, "score": 0, "creation_date": 1476918054, "post_id": 40142646, "comment_id": 67555644, "body": "if you want to make choices for example use <code>tuple(x for x in zip(range(10),string.ascii_letters))</code> will produce some thing like this <code>((0, &#39;a&#39;),  (1, &#39;b&#39;),  (2, &#39;c&#39;),  (3, &#39;d&#39;),  (4, &#39;e&#39;),  (5, &#39;f&#39;),  (6, &#39;g&#39;),  (7, &#39;h&#39;),  (8, &#39;i&#39;),  (9, &#39;j&#39;))</code>"}, {"owner": {"reputation": 175, "user_id": 4808466, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/104692a4bcdece8fe2a3e0b4ae733210?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/4808466/alexander"}, "reply_to_user": {"reputation": 1119, "user_id": 6222397, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027495110613102/picture?type=large", "display_name": "Hisham Karam", "link": "https://stackoverflow.com/users/6222397/hisham-karam"}, "edited": false, "score": 0, "creation_date": 1476918199, "post_id": 40142646, "comment_id": 67555688, "body": "@HishamKaram I create my tuple. Just in the example above, there is one choice. My problem is that I want to add a field"}, {"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 0, "creation_date": 1476918220, "post_id": 40142646, "comment_id": 67555700, "body": "Don&#39;t use the comments to answer the question. Write a real answer!"}, {"owner": {"reputation": 1119, "user_id": 6222397, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027495110613102/picture?type=large", "display_name": "Hisham Karam", "link": "https://stackoverflow.com/users/6222397/hisham-karam"}, "edited": false, "score": 0, "creation_date": 1476918426, "post_id": 40142646, "comment_id": 67555757, "body": "one choice !!! what appear to user to choose and what do tou want to save in db"}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 4808466, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/104692a4bcdece8fe2a3e0b4ae733210?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/4808466/alexander"}, "edited": false, "score": 0, "creation_date": 1476918254, "post_id": 40142877, "comment_id": 67555710, "body": "But if I want: (key, {&quot;key&quot;: &quot;value&quot;, &quot;key&quot;: value}) ?"}, {"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "reply_to_user": {"reputation": 175, "user_id": 4808466, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/104692a4bcdece8fe2a3e0b4ae733210?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/4808466/alexander"}, "edited": false, "score": 0, "creation_date": 1476918405, "post_id": 40142877, "comment_id": 67555751, "body": "You can&#39;t. I just explained it. That&#39;s not how relational databases work."}, {"owner": {"reputation": 175, "user_id": 4808466, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/104692a4bcdece8fe2a3e0b4ae733210?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/4808466/alexander"}, "edited": false, "score": 0, "creation_date": 1476918855, "post_id": 40142877, "comment_id": 67555893, "body": "Thanks for the reply. I want to create a list outside of the database, but need more fields. I&#39;ll think how to implement it differently."}, {"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "reply_to_user": {"reputation": 175, "user_id": 4808466, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/104692a4bcdece8fe2a3e0b4ae733210?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/4808466/alexander"}, "edited": false, "score": 0, "creation_date": 1476944345, "post_id": 40142877, "comment_id": 67562974, "body": "@alexander you haven&#39;t provided any reason why you want to do that. Why break a very well established convention that works?"}, {"owner": {"reputation": 175, "user_id": 4808466, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/104692a4bcdece8fe2a3e0b4ae733210?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/4808466/alexander"}, "edited": false, "score": 0, "creation_date": 1476962328, "post_id": 40142877, "comment_id": 67574612, "body": "Because there is a hard choice. Either that, or that. It makes no sense to use a database."}, {"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "reply_to_user": {"reputation": 175, "user_id": 4808466, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/104692a4bcdece8fe2a3e0b4ae733210?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/4808466/alexander"}, "edited": false, "score": 0, "creation_date": 1476973115, "post_id": 40142877, "comment_id": 67582695, "body": "It makes plenty of sense, hence why it&#39;s a common enough pattern for django to include facilities to easily do it."}], "tags": [], "owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "is_accepted": false, "score": 2, "last_activity_date": 1476918735, "last_edit_date": 1476918735, "creation_date": 1476918163, "answer_id": 40142877, "question_id": 40142646, "link": "https://stackoverflow.com/questions/40142646/django-choices-and-dictionary/40142877#40142877", "title": "Django choices and dictionary", "body": "<p>Choices in Django models are <code>(key, value)</code> tuples. The key is what's meant to be stored in the model's field when saved and the value is meant to be what's displayed as an option. You can't simply jam a dictionary into the value.</p>\n\n<p>For example, the below choices would store <code>human</code> in the database and display <code>Humans</code> in a select field.</p>\n\n<pre><code>species = [\n    ('human', 'Humans'),\n    ('reptile', 'Reptiles'),\n    ('cylons', 'Aliens'),\n]\n</code></pre>\n\n<p>Instead, you need to restructure how your model your data. You should create a separate <code>Category</code> model that represents the choices which will contain fields for a slug, icon and title.</p>\n\n<pre><code>class Category(models.Model):\n    slug  = models.SlugField()\n    title = models.CharField()\n    icon  = models.CharField()\n</code></pre>\n\n<p>You then point your current model at the <code>Category</code> model using a <code>ForeignKey()</code>. </p>\n\n<pre><code>class MyModel(models.Model):\n    category = models.ForeignKey(Category)\n</code></pre>\n\n<p>Finally, you can use a <a href=\"https://docs.djangoproject.com/en/1.10/ref/forms/fields/#modelchoicefield\" rel=\"nofollow\"><code>ModelChoiceField</code></a> when rendering the form to render the related category models (related across the foreign key) as choices in a list. If you use a <a href=\"https://docs.djangoproject.com/en/1.10/topics/forms/modelforms/\" rel=\"nofollow\"><code>ModelForm</code></a>, all foreign keys will be represented as <a href=\"https://docs.djangoproject.com/en/1.10/ref/forms/fields/#modelchoicefield\" rel=\"nofollow\"><code>ModelChoiceField</code></a>s by default.</p>\n"}, {"comments": [{"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 0, "creation_date": 1476918630, "post_id": 40142938, "comment_id": 67555834, "body": "Hi Greg, please don&#39;t use answers as comments. Please modify your answer if you have a potential solution to the question."}, {"owner": {"reputation": 3572, "user_id": 6515554, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-iCYFFUhmkC0/AAAAAAAAAAI/AAAAAAAABR0/bmaKQzMDoe4/photo.jpg?sz=128", "display_name": "Greg Schmit", "link": "https://stackoverflow.com/users/6515554/greg-schmit"}, "reply_to_user": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 0, "creation_date": 1476919313, "post_id": 40142938, "comment_id": 67556029, "body": "I think I gave a solution by setting the parameters later by using the key. You gave a better one though."}, {"owner": {"reputation": 175, "user_id": 4808466, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/104692a4bcdece8fe2a3e0b4ae733210?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/4808466/alexander"}, "edited": false, "score": 0, "creation_date": 1476919879, "post_id": 40142938, "comment_id": 67556189, "body": "@GregSchmit Thank you. I have no choice but to use this kind of dependency."}, {"owner": {"reputation": 3572, "user_id": 6515554, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-iCYFFUhmkC0/AAAAAAAAAAI/AAAAAAAABR0/bmaKQzMDoe4/photo.jpg?sz=128", "display_name": "Greg Schmit", "link": "https://stackoverflow.com/users/6515554/greg-schmit"}, "edited": false, "score": 0, "creation_date": 1476920326, "post_id": 40142938, "comment_id": 67556314, "body": "Not a problem, but I have to give Soviut credit for providing an objectively better answer in terms of rigor. My way is slightly hacky."}], "tags": [], "owner": {"reputation": 3572, "user_id": 6515554, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-iCYFFUhmkC0/AAAAAAAAAAI/AAAAAAAABR0/bmaKQzMDoe4/photo.jpg?sz=128", "display_name": "Greg Schmit", "link": "https://stackoverflow.com/users/6515554/greg-schmit"}, "is_accepted": true, "score": 3, "last_activity_date": 1476920377, "last_edit_date": 1476920377, "creation_date": 1476918509, "answer_id": 40142938, "question_id": 40142646, "link": "https://stackoverflow.com/questions/40142646/django-choices-and-dictionary/40142938#40142938", "title": "Django choices and dictionary", "body": "<p>I would comment, but sadly not enough rep. The way <a href=\"https://docs.djangoproject.com/en/1.10/ref/models/fields/#django.db.models.IntegerField\" rel=\"nofollow\">IntegerField</a> is setup, it displays the dictionary value and returns the dictionary key.</p>\n\n<p>What it seems you want to do is have that key determine the results of several other values. What you should do then is in whatever view you submit that form to, set those other values based on the key returned by your IntegerField.</p>\n\n<p>In other words:</p>\n\n<pre><code>CATEGORY_CHOICES = ((1, 'Jobs'),(2, 'Cities'),)\n</code></pre>\n\n<p>Then later in the class or view that this form is submitted to:</p>\n\n<pre><code>if CATEGORY_CHOICES  == 1:\n    title = 'Jobs'\n    icon = 'fa fa-briefcase'\n    slug = 'jobs'\nelif CATEGORY_CHOICES == 2:\n    title = 'Cities'\n`   icon = 'fa fa-city'\n    slug = 'cities'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5027, "user_id": 2558400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LKZ8V.jpg?s=128&g=1", "display_name": "Ramast", "link": "https://stackoverflow.com/users/2558400/ramast"}, "is_accepted": false, "score": 2, "last_activity_date": 1482731483, "creation_date": 1482731483, "answer_id": 41326936, "question_id": 40142646, "link": "https://stackoverflow.com/questions/40142646/django-choices-and-dictionary/41326936#41326936", "title": "Django choices and dictionary", "body": "<p>You could use <code>Choices</code> class form <code>django_model_helpers</code> app.\n<a href=\"https://github.com/rewardz/django_model_helpers\" rel=\"nofollow noreferrer\">https://github.com/rewardz/django_model_helpers</a></p>\n\n<pre><code>CATEGORY_CHOICES = Choices(\n     {\"jobs\": {'id': 1, 'display': 'Jobs', 'icon':\"fa fa-briefcase\",'slug':\"jobs\"}\n)\n</code></pre>\n\n<p>Then in your model</p>\n\n<pre><code>category = models.IntegerField(choices=CATEGORY_CHOICES(), default=CATEGORY_CHOICES.jobs)\n</code></pre>\n\n<p>Now to access icon from code:</p>\n\n<pre><code>icon = CATEGORY_CHOICES.get_value(my_inst.category, \"icon\")\nslug = CATEGORY_CHOICES.get_value(my_inst.category, \"slug\")\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 4808466, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/104692a4bcdece8fe2a3e0b4ae733210?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/4808466/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5067, "favorite_count": 1, "accepted_answer_id": 40142938, "answer_count": 3, "score": 1, "last_activity_date": 1482731483, "creation_date": 1476916723, "last_edit_date": 1476917416, "question_id": 40142646, "link": "https://stackoverflow.com/questions/40142646/django-choices-and-dictionary", "title": "Django choices and dictionary", "body": "<p>I have code</p>\n\n<pre><code>JOBS = 1\nCATEGORY_CHOICES = ((JOBS, \"Jobs\"),)\n</code></pre>\n\n<p>And code in the model</p>\n\n<pre><code>category = models.IntegerField(choices=CATEGORY_CHOICES, default=JOBS)\n</code></pre>\n\n<p>Instead of \"jobs\" I want to add a dictionary and have access to it in the template. For example</p>\n\n<pre><code>JOBS = 1\nCATEGORY_CHOICES = ((JOBS, {'title':\"Jobs\",'icon':\"fa fa-briefcase\",'slug':\"jobs\"}),)\n</code></pre>\n\n<p>But instead I get the following</p>\n\n<p><a href=\"https://i.stack.imgur.com/Oc7Jw.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/Oc7Jw.png\" alt=\"enter image description here\"></a></p>\n\n<p>How to add the dictionary into the choices?\nI was able to create a model, which would be set up: title and icon. But instead, I decided to create a choice. Title I can add, but for the selected item to set the icon?</p>\n"}, {"tags": ["python", "python-2.7", "matplotlib", "seaborn"], "comments": [{"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1476916892, "post_id": 40142642, "comment_id": 67555289, "body": "When you say <code>col</code> is a series of RGB, do you mean literally a Pandas <code>Series</code> object?"}, {"owner": {"reputation": 17078, "user_id": 3993270, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1bee661ad7451ff3107ca6954560a06c?s=128&d=identicon&r=PG&f=1", "display_name": "Edamame", "link": "https://stackoverflow.com/users/3993270/edamame"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1476917245, "post_id": 40142642, "comment_id": 67555405, "body": "@mwaskom: The col is derived like below: col = pandas_df.prediction.map({0: [1,0,0], 1:[0,1,0]})   ,where pandas_df is a Pandas data frame, and the pandas_df.prediction is a column having only two values: 0 or 1. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 4394, "user_id": 534238, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nZVSf.jpg?s=128&g=1", "display_name": "Mike Williamson", "link": "https://stackoverflow.com/users/534238/mike-williamson"}, "edited": false, "score": 0, "creation_date": 1484378054, "post_id": 41647682, "comment_id": 70494504, "body": "By the way, the problem is due to <b>Seaborn</b> code, not MatPlotLib code. You might want to change the title of your problem."}], "tags": [], "owner": {"reputation": 4394, "user_id": 534238, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nZVSf.jpg?s=128&g=1", "display_name": "Mike Williamson", "link": "https://stackoverflow.com/users/534238/mike-williamson"}, "is_accepted": false, "score": 0, "last_activity_date": 1484377968, "creation_date": 1484377968, "answer_id": 41647682, "question_id": 40142642, "link": "https://stackoverflow.com/questions/40142642/python-matplotlib-assign-cmap-to-make-multiple-color-scattering-plot/41647682#41647682", "title": "python matplotlib : assign cmap to make multiple color scattering plot", "body": "<p>I just came across this problem myself, with code that worked a year ago.  (I might have switched from Python 2 to Python 3, which might explain the error.)</p>\n\n<h1>Reiteration</h1>\n\n<p>I dug into the code a bit, and as you noted, the error is at</p>\n\n<pre><code>--&gt; 355             if not hasattr(kws['color'], 'shape') or kws['color'].shape[1] &lt; 4:\n356                 kws.setdefault(\"alpha\", .8)\n357 \n\nIndexError: tuple index out of range\n</code></pre>\n\n<p>If you look at what is happening here, whatever you pass into the <code>'color'</code> keyword (specifically <code>'color':col</code> in your case) needs <strong><em>both</em></strong> of the following features:</p>\n\n<ul>\n<li>It needs to <strong>not</strong> have a <code>shape</code> attribute</li>\n<li>But if I <strong>does</strong> have a <code>shape</code> attribute, that attribute must have at least 2 dimensions.</li>\n</ul>\n\n<h1>The Root Problem</h1>\n\n<p>Well, there is the problem: a <em>pandas</em> <code>Series</code> or a <em>numpy</em> <code>ndarray</code> (or several other data structures, I'm guessing), have a <code>shape</code> attribute that can have only 1 dimension.</p>\n\n<p>E.g., when I ran across the problem, I had something like the following:</p>\n\n<pre><code>col.shape\n\n(2506,)\n</code></pre>\n\n<p>This means that my <code>col</code> variable (in my case, a <em>pandas</em> <code>Series</code> object), <strong>both</strong> has a <code>shape</code> <strong>and</strong> the shape has only 1 dimension.</p>\n\n<p>It was not obvious to me how to fix this.  I tried to just force my <em>pandas</em> <code>Series</code> into a <code>list</code>, but that didn't fix things.  I tried to just pass a 2D <em>pandas</em> <code>DataFrame</code>, where each column was identical, but that didn't fix it.</p>\n\n<h1>Potential Fix (for those who cannot be deterred)</h1>\n\n<p>In looking through the <a href=\"https://github.com/mwaskom/seaborn/blame/master/seaborn/linearmodels.py#L355\" rel=\"nofollow noreferrer\">source code</a>, it was not obvious to me how I could fix things. The <em>right</em> fix, it would seem, might be to add another check in line 355 that looked something like this:</p>\n\n<pre><code>355             if not hasattr(kws['color'], 'shape') or len(kws['color'].shape) &lt; 2 or kws['color'].shape[1] &lt; 4:\n</code></pre>\n\n<p>But I didn't have the energy (or time) to go through the hassle of forking the source and submitting the fix. :(</p>\n"}], "owner": {"reputation": 17078, "user_id": 3993270, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1bee661ad7451ff3107ca6954560a06c?s=128&d=identicon&r=PG&f=1", "display_name": "Edamame", "link": "https://stackoverflow.com/users/3993270/edamame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 524, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484377968, "creation_date": 1476916694, "last_edit_date": 1476917610, "question_id": 40142642, "link": "https://stackoverflow.com/questions/40142642/python-matplotlib-assign-cmap-to-make-multiple-color-scattering-plot", "title": "python matplotlib : assign cmap to make multiple color scattering plot", "body": "<p>I am trying to use matplotlib and seaborn to create a scatter plot. It works fine if the entire plot is only one color like below:</p>\n\n<pre><code>sns.regplot(x = pair[0], y = pair[1], data = d, fit_reg = False, ax = ax, x_jitter = True, scatter_kws = {'linewidths':0, 's':2, 'color':'r'})\n</code></pre>\n\n<p>However, if I need the color of each data point depends on the value in <code>col</code> like:</p>\n\n<pre><code>col = pandas_df.prediction.map({0: [1,0,0], 1:[0,1,0]})\nsns.regplot(x = pair[0], y = pair[1], data = d, fit_reg = False, ax = ax, x_jitter = True, scatter_kws = {'linewidths':0, 's':2, 'cmap':\"RGB\", 'color':col})\n</code></pre>\n\n<p>where pandas_df is a pandas dataframe, so <code>col</code> is a series of RGB point like:</p>\n\n<pre><code>[1,0,0]\n[0,1,0]\n[1,0,0]\n[0,1,0]\n   :\n   :\n</code></pre>\n\n<p>Then I got the errors:</p>\n\n<pre><code>IndexErrorTraceback (most recent call last)\n&lt;ipython-input-12-e17a2dbdd639&gt; in &lt;module&gt;()\n     15     #print dtype(col)\n     16     d.plot.scatter(*pair, ax=ax, c=col, linewidths=0, s=2, alpha = 0.7)\n---&gt; 17     sns.regplot(x = pair[0], y = pair[1], data = d, fit_reg = False, ax = ax, x_jitter = True,                 scatter_kws = {'linewidths':0, 's':2, 'cmap':\"RGB\", 'color':col})\n     18 \n     19 fig.tight_layout()\n\n/usr/local/lib/python2.7/dist-packages/seaborn/linearmodels.pyc in regplot(x, y, data, x_estimator, x_bins, x_ci, scatter, fit_reg, ci, n_boot, units, order, logistic, lowess, robust, logx, x_partial, y_partial, truncate, dropna, x_jitter, y_jitter, label, color, marker, scatter_kws, line_kws, ax)\n    777     scatter_kws[\"marker\"] = marker\n    778     line_kws = {} if line_kws is None else copy.copy(line_kws)\n--&gt; 779     plotter.plot(ax, scatter_kws, line_kws)\n    780     return ax\n    781 \n\n/usr/local/lib/python2.7/dist-packages/seaborn/linearmodels.pyc in plot(self, ax, scatter_kws, line_kws)\n    328         # Draw the constituent plots\n    329         if self.scatter:\n--&gt; 330             self.scatterplot(ax, scatter_kws)\n    331         if self.fit_reg:\n    332             self.lineplot(ax, line_kws)\n\n/usr/local/lib/python2.7/dist-packages/seaborn/linearmodels.pyc in scatterplot(self, ax, kws)\n    353             kws.setdefault(\"linewidths\", lw)\n    354 \n--&gt; 355             if not hasattr(kws['color'], 'shape') or kws['color'].shape[1] &lt; 4:\n    356                 kws.setdefault(\"alpha\", .8)\n    357 \n\nIndexError: tuple index out of range\n</code></pre>\n\n<p>What did I do wrong in assigning color and cmap in this case? Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1476916652, "post_id": 40142554, "comment_id": 67555209, "body": "<code>if mylist[i] &gt; mylist[i - 1]:</code> do you mean <code>if mylist[i] &gt; l</code>? And then just drop the <code>else</code> branch completely."}], "answers": [{"comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1476916810, "post_id": 40142656, "comment_id": 67555261, "body": "Whilst this was the obvious answer, it doesn&#39;t explain why OP&#39;s code doesn&#39;t behave as they expect."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476916814, "post_id": 40142656, "comment_id": 67555264, "body": "Obviously because it&#39;s an exercise in implementing an algorithm, not just getting the answer."}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 2, "last_activity_date": 1476917142, "last_edit_date": 1476917142, "creation_date": 1476916768, "answer_id": 40142656, "question_id": 40142554, "link": "https://stackoverflow.com/questions/40142554/python-finding-the-largest-number-and-smallest-number/40142656#40142656", "title": "Python. finding the largest number and smallest number", "body": "<p>How about simply using <a href=\"https://docs.python.org/2/library/functions.html#min\" rel=\"nofollow\"><code>min()</code></a> and <a href=\"https://docs.python.org/2/library/functions.html#max\" rel=\"nofollow\"><code>max()</code></a> functions? For example:</p>\n\n<pre><code>&gt;&gt;&gt; my_list =  [2, 6, 9, 4, 8 ,7]\n&gt;&gt;&gt; min(my_list)\n2\n&gt;&gt;&gt; max(my_list)\n9\n</code></pre>\n\n<p>As far as error in your code is considered. You have to make changes in your <code>if</code> condition. Change:</p>\n\n<ul>\n<li><p><code>if mylist[i] &gt; mylist[i - 1]</code> --> <code>if mylist[i] &gt; l:</code> and</p></li>\n<li><p><code>if mylist[i] &lt; mylist[i - 1]</code> --> <code>if mylist[i] &lt; s:</code></p></li>\n</ul>\n\n<p>and remove the <code>else</code> part.</p>\n"}, {"comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1476917338, "post_id": 40142661, "comment_id": 67555437, "body": "Upvote because this answer at least modifies the original code rather than replacing. You should consider adding an explanation as to why the original code fails."}], "tags": [], "owner": {"reputation": 38, "user_id": 7043649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c4091c134d7b66786ad8160aea29444?s=128&d=identicon&r=PG&f=1", "display_name": "user7043649", "link": "https://stackoverflow.com/users/7043649/user7043649"}, "is_accepted": true, "score": 1, "last_activity_date": 1476916989, "last_edit_date": 1476916989, "creation_date": 1476916789, "answer_id": 40142661, "question_id": 40142554, "link": "https://stackoverflow.com/questions/40142554/python-finding-the-largest-number-and-smallest-number/40142661#40142661", "title": "Python. finding the largest number and smallest number", "body": "<p>If u only want to find the largest and the smallest number, you can let out the <em>else</em> statements. This works: </p>\n\n<pre><code>x = int(input(\"Enter the number of integers you want: \"))\n\nmylist = [int(z) for z in input(\"Enter the numbers separated by a space and then click Enter: \").split()]\n\n\nl = mylist[0]\n\nfor i in range(1, x):\n    if mylist[i] &gt; l:  # I changed mylist[i-1] to l\n        l = mylist[i]\n\n\ns = mylist[0]\n\nfor i in range(1, x):\n    if mylist[i] &lt; s:  # I changed mylist[i-1] to s\n        s = mylist[i]\n\n\nprint((l, s), \"are the largest and smallest numbers\")\n\nminmax()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5952880, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-76Xs5HEIBj4/AAAAAAAAAAI/AAAAAAAAAEA/amOOhKAMAjE/photo.jpg?sz=128", "display_name": "Mohamed Elsersy", "link": "https://stackoverflow.com/users/5952880/mohamed-elsersy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1589, "favorite_count": 0, "closed_date": 1476922624, "accepted_answer_id": 40142661, "answer_count": 2, "score": -1, "last_activity_date": 1476917142, "creation_date": 1476916150, "question_id": 40142554, "link": "https://stackoverflow.com/questions/40142554/python-finding-the-largest-number-and-smallest-number", "closed_reason": "Not suitable for this site", "title": "Python. finding the largest number and smallest number", "body": "<p>when I enter a sequence of numbers like [2, 6, 9, 4, 8 ,7] to find the largest and smallest number it shows that (8, 7) are the largest and smallest numbers what is the error in my code?</p>\n\n<pre><code>def minmax():\n\n    x = int(input(\"Enter the number of integers you want: \"))\n\n    mylist = [int(z) for z in input(\"Enter the numbers separated by a space and then click Enter: \").split()]\n\n\n    l = mylist[0]\n\n    for i in range(1, x):\n        if mylist[i] &gt; mylist[i - 1]:\n            l = mylist[i]\n        else:\n            a = i\n            while a &lt; x - 1:\n                if mylist[a + 1] &gt; l:\n                    l = mylist[a + 1]\n                a += 1\n\n    s = mylist[0]\n\n    for i in range(1, x):\n        if mylist[i] &lt; mylist[i - 1]:\n            s = mylist[i]\n        else:\n            a = i\n            while a &lt; x - 1:\n                if mylist[a + 1] &lt; s:\n                    s = mylist[a + 1]\n                a += 1\n\n    print((l, s), \"are the largest and smallest numbers\")\n\nminmax()\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "sockets"], "comments": [{"owner": {"reputation": 728, "user_id": 5922180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c63faa62b64336441393d7c11e1ec79a?s=128&d=identicon&r=PG&f=1", "display_name": "DrPrItay", "link": "https://stackoverflow.com/users/5922180/drpritay"}, "edited": false, "score": 0, "creation_date": 1476917474, "post_id": 40142547, "comment_id": 67555485, "body": "hey, I&#39;m not sure you&#39;re using sockets api in an appropriate way, please post your entire code and I&#39;ll be able to inspect it and hopefully fix your problem"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1476917762, "post_id": 40142547, "comment_id": 67555565, "body": "The posted code needs indentations fixed... and the error refers to <code>socket_list</code> not <code>CONNECTION_LIST</code> so the error code and the posted code are different. A way to debug is to print the list before the call to see what is in there."}, {"owner": {"reputation": 11, "user_id": 6549827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd53cc3b74fbf0c570439b47eeb6a910?s=128&d=identicon&r=PG&f=1", "display_name": "Sconce", "link": "https://stackoverflow.com/users/6549827/sconce"}, "edited": false, "score": 0, "creation_date": 1476919172, "post_id": 40142547, "comment_id": 67555982, "body": "There is literatlly nothing called socket_list in my code"}, {"owner": {"reputation": 11, "user_id": 6549827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd53cc3b74fbf0c570439b47eeb6a910?s=128&d=identicon&r=PG&f=1", "display_name": "Sconce", "link": "https://stackoverflow.com/users/6549827/sconce"}, "reply_to_user": {"reputation": 728, "user_id": 5922180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c63faa62b64336441393d7c11e1ec79a?s=128&d=identicon&r=PG&f=1", "display_name": "DrPrItay", "link": "https://stackoverflow.com/users/5922180/drpritay"}, "edited": false, "score": 0, "creation_date": 1476920025, "post_id": 40142547, "comment_id": 67556241, "body": "@DrPrItay I edited it"}, {"owner": {"reputation": 728, "user_id": 5922180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c63faa62b64336441393d7c11e1ec79a?s=128&d=identicon&r=PG&f=1", "display_name": "DrPrItay", "link": "https://stackoverflow.com/users/5922180/drpritay"}, "edited": false, "score": 0, "creation_date": 1476959692, "post_id": 40142547, "comment_id": 67572884, "body": "Are you sure this is the code you&#39;re using? I&#39;ve tried running it and I am not getting that error as yours, yet I am encountering a lot of other problems..."}, {"owner": {"reputation": 11, "user_id": 6549827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd53cc3b74fbf0c570439b47eeb6a910?s=128&d=identicon&r=PG&f=1", "display_name": "Sconce", "link": "https://stackoverflow.com/users/6549827/sconce"}, "reply_to_user": {"reputation": 728, "user_id": 5922180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c63faa62b64336441393d7c11e1ec79a?s=128&d=identicon&r=PG&f=1", "display_name": "DrPrItay", "link": "https://stackoverflow.com/users/5922180/drpritay"}, "edited": false, "score": 0, "creation_date": 1476998514, "post_id": 40142547, "comment_id": 67598271, "body": "This is the code I am running on Win10 the error I get I can gyazo it if you&#39;d like @DrPrItay"}, {"owner": {"reputation": 728, "user_id": 5922180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c63faa62b64336441393d7c11e1ec79a?s=128&d=identicon&r=PG&f=1", "display_name": "DrPrItay", "link": "https://stackoverflow.com/users/5922180/drpritay"}, "edited": false, "score": 0, "creation_date": 1477047354, "post_id": 40142547, "comment_id": 67616829, "body": "Sorry for the time it has taken me to answer, I&#39;ll run this code on some windows I&#39;m currently on my Linux, but generally this should work on either.... anyways Ive found many problems in you&#39;re code that ARE NOT relevant to the original question you have made, I can easily fix them and post the new code here with answers to all of the commentated questions you have made"}, {"owner": {"reputation": 11, "user_id": 6549827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd53cc3b74fbf0c570439b47eeb6a910?s=128&d=identicon&r=PG&f=1", "display_name": "Sconce", "link": "https://stackoverflow.com/users/6549827/sconce"}, "reply_to_user": {"reputation": 728, "user_id": 5922180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c63faa62b64336441393d7c11e1ec79a?s=128&d=identicon&r=PG&f=1", "display_name": "DrPrItay", "link": "https://stackoverflow.com/users/5922180/drpritay"}, "edited": false, "score": 0, "creation_date": 1477340705, "post_id": 40142547, "comment_id": 67717266, "body": "@DrPrItay Yeah that would be great thanks"}], "owner": {"reputation": 11, "user_id": 6549827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd53cc3b74fbf0c570439b47eeb6a910?s=128&d=identicon&r=PG&f=1", "display_name": "Sconce", "link": "https://stackoverflow.com/users/6549827/sconce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476919310, "creation_date": 1476916131, "last_edit_date": 1476919310, "question_id": 40142547, "link": "https://stackoverflow.com/questions/40142547/python2-7socket-connection-problems", "title": "[Python2.7]Socket Connection problems", "body": "<p>I am making a socket Chat server in python 2.7 but I am unable to connect to the server using my client I get this error:</p>\n\n<p>File \"ChatClientV2.py\", line 46, in \n    read_sockets, write_sockets, error_sockets = select.select(socket_list , [], [])\nselect.error: (10038, 'An operation was attempted on something that is not a socket')</p>\n\n<p>I do not know why i am getting this error I need to help with this this is my code I use for the client and some extra stuff after but I do not want to be restricted by the code amount so I did not post all of it</p>\n\n<pre><code>import socket, select\n\n#Function to broadcast chat messages to all connected clients\ndef broadcast_data (sock, message):\n    #Do not send the message to master socket and the client who has send us the   message\n    for socket in CONNECTION_LIST:\n        if socket != server_socket and socket != sock :\n            try :\n                socket.send(message)\n            except :\n                # broken socket connection may be, chat client pressed ctrl+c for example\n                socket.close()\n                CONNECTION_LIST.remove(socket)\n\nif __name__ == \"__main__\":\n\n# List to keep track of socket descriptors\nCONNECTION_LIST = []\nRECV_BUFFER = 4096 # Advisable to keep it as an exponent of 2\nPORT = 5000\n\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n# this has no effect, why ?\nserver_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\nserver_socket.bind((\"192.168.0.8\", PORT))\nserver_socket.listen(10)\n\n# Add server socket to the list of readable connections\nCONNECTION_LIST.append(server_socket)\n\nprint \"Chat server started on port \" + str(PORT)\n\nwhile 1:\n    #print CONNECTION_LIST\n    # Get the list sockets which are ready to be read through select\n    read_sockets,write_sockets,error_sockets = select.select(CONNECTION_LIST,[],[])\n     for sock in read_sockets:\n         #New connection\n         if sock == server_socket:\n             # Handle the case in which there is a new connection recieved through server_socket\n             sockfd, addr = server_socket.accept()\n             CONNECTION_LIST.append(sockfd)\n             #print \"Client (%s, %s) connected\" % addr\n\n             broadcast_data(sockfd, \"entered room\\n\")\n\n        #Some incoming message from a client\n        else:\n            # Data recieved from client, process it\n            try:\n                #In Windows, sometimes when a TCP program closes abruptly,\n                # a \"Connection reset by peer\" exception will be thrown\n                data = sock.recv(RECV_BUFFER)\n                if data:\n                    #broadcast_data(sock, \"\\r\" + '&lt;' + str(sock.getpeername()) + '&gt; ' + data)\n                    broadcast_data(sock, \"\\r\" + data)\n\n            except:\n                broadcast_data(sock, \"Client (%s, %s) is offline\" % addr)\n                print \"Client (%s, %s) is offline\" % addr\n                sock.close()\n                CONNECTION_LIST.remove(sock)\n                continue\n\nserver_socket.close()\n</code></pre>\n"}, {"tags": ["python", "json", "python-2.7", "scrapy", "scrapy-spider"], "answers": [{"tags": [], "owner": {"reputation": 1633, "user_id": 6502500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EnuRp.png?s=128&g=1", "display_name": "Mangohero1", "link": "https://stackoverflow.com/users/6502500/mangohero1"}, "is_accepted": false, "score": 0, "last_activity_date": 1476921391, "creation_date": 1476921391, "answer_id": 40143370, "question_id": 40142538, "link": "https://stackoverflow.com/questions/40142538/scrapy-spider-for-json-response-is-giving-me-error/40143370#40143370", "title": "Scrapy spider for JSON response is giving me error", "body": "<p>I can't seem to reproduce your error but upon copying your code, I got a key error which pertains to your yield statement. See the code below:</p>\n\n<pre><code>import scrapy\nimport json\n\n\nclass SpidyQuotesSpider(scrapy.Spider):\n    name = \"hotelspider\"\n    allowed_domains = [\"tr.hotels.com\"]\n    start_urls = (\n        'https://tr.hotels.com/search/listings.json?destination-id=1648683&amp;q-check-out=2016-10-22&amp;q-destination=Didim,+T%C3%BCrkiye&amp;q-room-0-adults=2&amp;pg=2&amp;q-rooms=1&amp;start-index=7&amp;q-check-in=2016-10-21&amp;resolved-location=CITY:1648683:UNKNOWN:UNKNOWN&amp;q-room-0-children=0&amp;pn=1',\n    )\n\n    def parse(self, response):\n        myresponse = json.loads(response.body)\n        data = myresponse.get('data')\n        body = data.get('body')\n        searchresults = body.get('searchResults')\n\n        for item in searchresults.get('results', []):\n            yield {\n                'text': item['altText']\n            }\n</code></pre>\n\n<p>Make sure you are indenting using the same amount of spaces or just use TAB. Though the indentation shown in your code seems fine. Try pasting mine and see what comes up.</p>\n"}, {"tags": [], "owner": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "is_accepted": false, "score": 0, "last_activity_date": 1476954095, "creation_date": 1476954095, "answer_id": 40149915, "question_id": 40142538, "link": "https://stackoverflow.com/questions/40142538/scrapy-spider-for-json-response-is-giving-me-error/40149915#40149915", "title": "Scrapy spider for JSON response is giving me error", "body": "<p>You are mixing spaces and tabs characters in your spider code (I copied your code from the \"edit\" function on your question):</p>\n\n<p><a href=\"https://i.stack.imgur.com/kDyy7.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/kDyy7.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Python_syntax_and_semantics#Indentation\" rel=\"nofollow\">Quoting Wikipedia</a>, <em>\"Python uses whitespace to delimit control flow blocks\"</em>. <a href=\"https://docs.python.org/2/reference/lexical_analysis.html#indentation\" rel=\"nofollow\">Indentation</a> is crucial and you need to stick to either spaces or tabs. <a href=\"https://www.python.org/dev/peps/pep-0008/#tabs-or-spaces\" rel=\"nofollow\">Mixing the 2</a> will lead to these <code>IndentationError</code>s.</p>\n\n<p>Try to make it like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/R3QrN.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/R3QrN.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3, "user_id": 5992039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049add6cc88ca946548218e9f70552b2?s=128&d=identicon&r=PG", "display_name": "Caner Gulgec", "link": "https://stackoverflow.com/users/5992039/caner-gulgec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476954095, "creation_date": 1476916083, "last_edit_date": 1476953072, "question_id": 40142538, "link": "https://stackoverflow.com/questions/40142538/scrapy-spider-for-json-response-is-giving-me-error", "title": "Scrapy spider for JSON response is giving me error", "body": "<pre><code>import json\nimport scrapy\n\nclass SpidyQuotesSpider(scrapy.Spider):\n\n    name = 'hotelspider'\n    start_urls = [\n     'https://tr.hotels.com/search/listings.json?destination-id=1648683&amp;q-check-out=2016-10-22&amp;q-destination=Didim,+T%C3%BCrkiye&amp;q-room-0-adults=2&amp;pg=2&amp;q-rooms=1&amp;start-index=7&amp;q-check-in=2016-10-21&amp;resolved-location=CITY:1648683:UNKNOWN:UNKNOWN&amp;q-room-0-children=0&amp;pn=1'\n               ]\n\n\n    def parse(self, response):\n        myresponse = json.loads(response.body)\n        data = myresponse.get('data')\n        body = data.get('body')\n        searchresults = body.get('searchResults')\n\n         for item in searchresults.get('results', []):\n            yield {\n                'text': item[0]['altText']\n            }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QzKuk.png\" rel=\"nofollow\">this is the screenshot of the error</a></p>\n\n<p>I always get error when I run this script. Can anybody help me where I am doing wrong ? </p>\n"}, {"tags": ["python", "arrays", "sorting", "dictionary"], "comments": [{"owner": {"reputation": 986, "user_id": 6930377, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/72345ae8dcbde9beac98f975d909e84a?s=128&d=identicon&r=PG&f=1", "display_name": "Biplov", "link": "https://stackoverflow.com/users/6930377/biplov"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1476916119, "post_id": 40142494, "comment_id": 67555014, "body": "@StefanPochmann Thanks for pointing out to the link!"}], "answers": [{"comments": [{"owner": {"reputation": 1835, "user_id": 1202745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26e91a64a6dc64dacabffb36634ad055?s=128&d=identicon&r=PG", "display_name": "robyschek", "link": "https://stackoverflow.com/users/1202745/robyschek"}, "edited": false, "score": 0, "creation_date": 1476916997, "post_id": 40142543, "comment_id": 67555321, "body": "<code>my_dict.get(&quot;num_gurus&quot;, 0)</code> might help with absent gurus."}], "tags": [], "owner": {"reputation": 728, "user_id": 5922180, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c63faa62b64336441393d7c11e1ec79a?s=128&d=identicon&r=PG&f=1", "display_name": "DrPrItay", "link": "https://stackoverflow.com/users/5922180/drpritay"}, "is_accepted": false, "score": 2, "last_activity_date": 1476916877, "last_edit_date": 1476916877, "creation_date": 1476916110, "answer_id": 40142543, "question_id": 40142494, "link": "https://stackoverflow.com/questions/40142494/sorting-list-with-dictionaries-valuesmaximum-to-minimum/40142543#40142543", "title": "Sorting list with dictionaries values(Maximum to Minimum)", "body": "<p>try this:</p>\n\n<pre><code>my_list.sort(key=lambda my_dict: my_dict[\"num_gurus\"], reverse=True)\n</code></pre>\n\n<p>what this does is basically two things:</p>\n\n<ul>\n<li>key paramater expects an anonymous function (lambda in python) and then sorts\nthe original list values by the values returned by\nlambda function. <code>lambda my_dict: my_dict[\"num_gurus\"]</code> returns the \"num_gurus\" item within each dictionary hence the list is sorted by those values.</li>\n<li><code>reverse=True</code> by default sort function sorts from min to max, hence\nthis simply reverses that</li>\n</ul>\n\n<p>also I find this very \"unsafe\" as you have no guarentee for \"num_gurus\" key within your dictionaries, or a dictionary as a key value, hence I'd personally wrap this with some exception handler:  <code>try</code> \\ <code>except</code></p>\n\n<p>read more here: <a href=\"https://docs.python.org/2.7/tutorial/errors.html\" rel=\"nofollow\">https://docs.python.org/2.7/tutorial/errors.html</a>, remember better safe than sorry!</p>\n"}, {"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 1, "last_activity_date": 1476916593, "last_edit_date": 1476916593, "creation_date": 1476916274, "answer_id": 40142577, "question_id": 40142494, "link": "https://stackoverflow.com/questions/40142494/sorting-list-with-dictionaries-valuesmaximum-to-minimum/40142577#40142577", "title": "Sorting list with dictionaries values(Maximum to Minimum)", "body": "<p>For <strong><em>storing the sorted list as new list</em></strong>, you can do it using <a href=\"https://docs.python.org/2/library/functions.html#sorted\" rel=\"nofollow\"><code>sorted()</code></a> as:</p>\n\n<pre><code>sorted(my_list, key=lambda x: x['num_gurus'], reverse=True)\n# returns sorted list\n</code></pre>\n\n<p>where <code>my_list</code> is your <code>list</code> of <code>dict</code> objects.</p>\n\n<p>Else, if you want to <strong><em>sort the content of original list</em></strong>, i.e <code>my_list</code>, then use <code>list.sort()</code> as:</p>\n\n<pre><code>my_list.sort(key=lambda x: x[\"num_gurus\"], reverse=True)\n# sorts the original list\n</code></pre>\n\n<p>Check document on: <a href=\"https://wiki.python.org/moin/HowTo/Sorting\" rel=\"nofollow\">How to do Sorting in list</a></p>\n"}], "owner": {"reputation": 986, "user_id": 6930377, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/72345ae8dcbde9beac98f975d909e84a?s=128&d=identicon&r=PG&f=1", "display_name": "Biplov", "link": "https://stackoverflow.com/users/6930377/biplov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1476992622, "answer_count": 2, "score": 1, "last_activity_date": 1476916877, "creation_date": 1476915820, "last_edit_date": 1476916020, "question_id": 40142494, "link": "https://stackoverflow.com/questions/40142494/sorting-list-with-dictionaries-valuesmaximum-to-minimum", "closed_reason": "Duplicate", "title": "Sorting list with dictionaries values(Maximum to Minimum)", "body": "<p>I have an array with loads of dictionaries in it. However I want to sort dictionaries in a way where I have maximum value to a specific key in a dictionary.\nFor example I have a list that looks like this</p>\n\n<pre><code>[\n    {\n        \"num_gurus\": 40,\n        \"id\": 119749,\n        \"code\": null,\n        \"name\": \"ART 198P\",\n        \"short_name\": \"ART 198P\",\n        \"title\": \"Directed Group Study\",\n        \"department_long\": null,\n        \"full_name\": \"Directed Group Study\",\n        \"department_short\": \"ART\"\n    },\n    {\n        \"num_gurus\": 3,\n        \"id\": 119825,\n        \"code\": null,\n        \"name\": \"ASAMST 198P\",\n        \"short_name\": \"ASAMST 198P\",\n        \"title\": \"Supervised Group Study\",\n        \"department_long\": null,\n        \"full_name\": \"Supervised Group Study\",\n        \"department_short\": \"ASAMST\"\n    },\n    {\n        \"num_gurus\": 200,\n        \"id\": 119904,\n        \"code\": null,\n        \"name\": \"AST 636\",\n        \"short_name\": \"AST 636\",\n        \"title\": \"Baudelaire: Art Poetry Modernity\",\n        \"department_long\": null,\n        \"full_name\": \"Baudelaire: Art Poetry Modernity\",\n        \"department_short\": \"AST\"\n    }\n]\n</code></pre>\n\n<p>I want my output to sort my dictionaries where the value of a key attribute 'num_gurus' is maximum to minimum. Expected output would be.</p>\n\n<pre><code>[\n    {\n        \"num_gurus\": 200,\n        \"id\": 119904,\n        \"code\": null,\n        \"name\": \"AST 636\",\n        \"short_name\": \"AST 636\",\n        \"title\": \"Baudelaire: Art Poetry Modernity\",\n        \"department_long\": null,\n        \"full_name\": \"Baudelaire: Art Poetry Modernity\",\n        \"department_short\": \"AST\"\n    }\n    {\n        \"num_gurus\": 40,\n        \"id\": 119749,\n        \"code\": null,\n        \"name\": \"ART 198P\",\n        \"short_name\": \"ART 198P\",\n        \"title\": \"Directed Group Study\",\n        \"department_long\": null,\n        \"full_name\": \"Directed Group Study\",\n        \"department_short\": \"ART\"\n    },\n    {\n        \"num_gurus\": 3,\n        \"id\": 119825,\n        \"code\": null,\n        \"name\": \"ASAMST 198P\",\n        \"short_name\": \"ASAMST 198P\",\n        \"title\": \"Supervised Group Study\",\n        \"department_long\": null,\n        \"full_name\": \"Supervised Group Study\",\n        \"department_short\": \"ASAMST\"\n    }\n\n]\n</code></pre>\n\n<p>I have tried this so far</p>\n\n<pre><code>    for items in load_as_json:\n            for key, val in sorted(items['num_gurus'].iteritems(), key=lambda (k,v): (v,k), reverse=True):\n                print key,val\n\nThis throws me error and doesn't do what I actually want to.\nThis is the error I got.\n  File \"utils.py\", line 61, in GetPopularCoursesBasedOnGurus\n    for key, val in sorted(str(items['num_gurus']).iteritems(), key=lambda (k,v): (v,k)):\nAttributeError: 'str' object has no attribute 'iteritems'\n</code></pre>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1476915821, "post_id": 40142476, "comment_id": 67554913, "body": "Indexes in a string run from 0 to <code>len-1</code>. So how could <code>ch[len(ch)]</code> be right?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1476915884, "post_id": 40142476, "comment_id": 67554938, "body": "Break up the line and use temporary variables to work out which index is wrong."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476915902, "post_id": 40142476, "comment_id": 67554943, "body": "If you want the last character of a word, use a negative index: <code>ch[-1]</code>. And a slice up to the last character is <code>ch[0:-1]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1963, "user_id": 1445024, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xvLvI.jpg?s=128&g=1", "display_name": "David Rojo", "link": "https://stackoverflow.com/users/1445024/david-rojo"}, "is_accepted": true, "score": 1, "last_activity_date": 1476916902, "last_edit_date": 1476916902, "creation_date": 1476915899, "answer_id": 40142510, "question_id": 40142476, "link": "https://stackoverflow.com/questions/40142476/recursive-functions-inversing-word/40142510#40142510", "title": "Recursive functions : Inversing word", "body": "<p>Check this:</p>\n\n<pre><code>ch[len(ch)-1]+inverse(ch[0:len(ch)-1]) \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 179, "user_id": 6661072, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5de45add5636f582b2d5ac3dc3a7e8c1?s=128&d=identicon&r=PG&f=1", "display_name": "Ashref", "link": "https://stackoverflow.com/users/6661072/ashref"}, "edited": false, "score": 0, "creation_date": 1476916324, "post_id": 40142514, "comment_id": 67555090, "body": "Good that worked for me!, so you can&#39;t use ch[len(ch)] to get the last character?"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 179, "user_id": 6661072, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5de45add5636f582b2d5ac3dc3a7e8c1?s=128&d=identicon&r=PG&f=1", "display_name": "Ashref", "link": "https://stackoverflow.com/users/6661072/ashref"}, "edited": false, "score": 0, "creation_date": 1476916368, "post_id": 40142514, "comment_id": 67555108, "body": "@Ashref No, you&#39;ll have to do that with the minus 1: <code>ch[len(ch)-1] </code>"}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 3, "last_activity_date": 1476916329, "last_edit_date": 1476916329, "creation_date": 1476915906, "answer_id": 40142514, "question_id": 40142476, "link": "https://stackoverflow.com/questions/40142476/recursive-functions-inversing-word/40142514#40142514", "title": "Recursive functions : Inversing word", "body": "<p>You're indexing the string at its length, but remember that indexing is zero based so you'll have to slice at length minus 1 which is the maximum index you can safely use.</p>\n\n<p>You can however choose to be oblivious of the length by using <code>[-1]</code> to index the last item:</p>\n\n<pre><code>def inverse(ch):\n    if ch=='' :\n        return ''\n    else:\n        return ch[-1]+inverse(ch[:-1])\n\nprint inverse('hello')\n# olleh\n</code></pre>\n\n<p>And you also probably want to keep in mind that slicing with <code>[::-1]</code> provides the same result as your recursive function.</p>\n"}, {"tags": [], "owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "is_accepted": false, "score": 1, "last_activity_date": 1476919397, "creation_date": 1476919397, "answer_id": 40143066, "question_id": 40142476, "link": "https://stackoverflow.com/questions/40142476/recursive-functions-inversing-word/40143066#40143066", "title": "Recursive functions : Inversing word", "body": "<p>You don't really need recursion here.</p>\n\n<pre><code>def inverse(chars):\n    char_list = list(chars)\n    char_list.reverse()\n    return ''.join(char_list)\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 6661072, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5de45add5636f582b2d5ac3dc3a7e8c1?s=128&d=identicon&r=PG&f=1", "display_name": "Ashref", "link": "https://stackoverflow.com/users/6661072/ashref"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "accepted_answer_id": 40142510, "answer_count": 3, "score": 1, "last_activity_date": 1476919397, "creation_date": 1476915717, "question_id": 40142476, "link": "https://stackoverflow.com/questions/40142476/recursive-functions-inversing-word", "title": "Recursive functions : Inversing word", "body": "<p>I'm trying to make a simple function that inverses a string using recursion.</p>\n\n<p>this is what i tried : </p>\n\n<pre><code>    def inverse(ch):\n        if ch=='' :\n            return ''\n        else:\n            return ch[len(ch)]+inverse(ch[1:len(ch)-1])\n\n    print inverse('hello')\n</code></pre>\n\n<p>And this is what i get : </p>\n\n<blockquote>\n  <p>line 13, in inverse\n      return ch[len(ch)]+inverse(ch[1:len(ch)-1]) IndexError: string index out of range</p>\n</blockquote>\n"}, {"tags": ["python", "unix", "split"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1476915583, "post_id": 40142380, "comment_id": 67554827, "body": "Have you tried anything yourself?"}], "answers": [{"tags": [], "owner": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "is_accepted": true, "score": 1, "last_activity_date": 1476916015, "creation_date": 1476916015, "answer_id": 40142525, "question_id": 40142380, "link": "https://stackoverflow.com/questions/40142380/how-to-split-files-according-to-a-field-and-edit-content/40142525#40142525", "title": "How to split files according to a field and edit content", "body": "<p>This shell script should do the trick:</p>\n\n<pre><code>#!/usr/bin/env bash\n\nfilename=\"data.txt\"\nwhile read line; do\n    id=$(echo \"${line}\" | awk '{print $1}')\n    sequence=$(echo \"${line}\" | awk '{print $2}')\n    group=$(echo \"${line}\" | awk '{print $3}')\n    printf \"&gt;${id}\\n${sequence}\\n\" &gt;&gt; \"${group}.txt\"\ndone &lt; \"${filename}\"\n</code></pre>\n\n<p>where <code>data.txt</code> is the name of the file containing the original data.</p>\n\n<p>Importantly, the Group-files should not exist prior to running the script.</p>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 4495740, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/02383bff4bd71b7dc86d32b9b4742fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4495740/alex"}, "edited": false, "score": 0, "creation_date": 1476972009, "post_id": 40142998, "comment_id": 67581853, "body": "this command it worked as well but the outputs were not .txt, I am not sure why, but it created different files"}, {"owner": {"reputation": 85, "user_id": 6942565, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qYyNmmPAfiI/AAAAAAAAAAI/AAAAAAAAFYA/gqN2KhvnQOs/photo.jpg?sz=128", "display_name": "Benj&#225;min Budai", "link": "https://stackoverflow.com/users/6942565/benj%c3%a1min-budai"}, "reply_to_user": {"reputation": 345, "user_id": 4495740, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/02383bff4bd71b7dc86d32b9b4742fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4495740/alex"}, "edited": false, "score": 0, "creation_date": 1476978748, "post_id": 40142998, "comment_id": 67587053, "body": "Yup, forgot to put &quot;.txt&quot; in double quotes. I&#39;ll fix it. It has no effect on the output except for adding the .txt extension."}], "tags": [], "owner": {"reputation": 85, "user_id": 6942565, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qYyNmmPAfiI/AAAAAAAAAAI/AAAAAAAAFYA/gqN2KhvnQOs/photo.jpg?sz=128", "display_name": "Benj&#225;min Budai", "link": "https://stackoverflow.com/users/6942565/benj%c3%a1min-budai"}, "is_accepted": false, "score": 2, "last_activity_date": 1476978797, "last_edit_date": 1476978797, "creation_date": 1476918905, "answer_id": 40142998, "question_id": 40142380, "link": "https://stackoverflow.com/questions/40142380/how-to-split-files-according-to-a-field-and-edit-content/40142998#40142998", "title": "How to split files according to a field and edit content", "body": "<p>AWK will do the trick:</p>\n\n<pre><code>awk '{ print \"&gt;\"$1 \"\\n\" $2 &gt;&gt; $3\".txt\"}' input.txt\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 4495740, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/02383bff4bd71b7dc86d32b9b4742fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4495740/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 40142525, "answer_count": 2, "score": 0, "last_activity_date": 1476978797, "creation_date": 1476915220, "question_id": 40142380, "link": "https://stackoverflow.com/questions/40142380/how-to-split-files-according-to-a-field-and-edit-content", "title": "How to split files according to a field and edit content", "body": "<p>I am not sure if I can do this using unix commands or I need a more complicated code, like python.</p>\n\n<p>I have a big input file with 3 columns - id, different sequences (second column) grouped in different groups (3rd column).</p>\n\n<pre><code>Seq1        MVRWNARGQPVKEASQVFVSYIGVINCREVPISMEN       Group1\nSeq2        PSLFIAGWLFVSTGLRPNEYFTESRQGIPLITDRFDSLEQLDEFSRSF  Group1\nSeq3        HQAPAPAPTVISPPAPPTDTTLNLNGAPSNHLQGGNIWTTIGFAITVFLAVTGYSF  Group20\n</code></pre>\n\n<p>I would like:\nsplit this file according the group id, and create separate files for each group; edit the info in each file, adding a \">\" sign in the beginning of the id;  and then create a new row for the sequence</p>\n\n<pre><code>Group1.txt file\n&gt;Seq1\nMVRWNARGQPVKEASQVFVSYIGVINCREVPISMEN       \n&gt;Seq2\nPSLFIAGWLFVSTGLRPNEYFTESRQGIPLITDRFDSLEQLDEFSRSF\n\nGroup20.txt file\n&gt;Seq3\nHQAPAPAPTVISPPAPPTDTTLNLNGAPSNHLQGGNIWTTIGFAITVFLAVTGYSF\n</code></pre>\n\n<p>How can I do that?  </p>\n"}, {"tags": ["python", "c++", "tuples", "python-embedding", "pyobject"], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 2479921, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4f608a0f4de520ae40948c28141e10bf?s=128&d=identicon&r=PG", "display_name": "pseudo", "link": "https://stackoverflow.com/users/2479921/pseudo"}, "edited": false, "score": 0, "creation_date": 1476981520, "post_id": 40144243, "comment_id": 67588759, "body": "very awesome! Works like a charm."}], "tags": [], "owner": {"reputation": 147, "user_id": 6842458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6cad0cb02fd8728f8128441d1e6ed67?s=128&d=identicon&r=PG&f=1", "display_name": "John Q.", "link": "https://stackoverflow.com/users/6842458/john-q"}, "is_accepted": true, "score": 6, "last_activity_date": 1476936267, "last_edit_date": 1476936267, "creation_date": 1476928768, "answer_id": 40144243, "question_id": 40142379, "link": "https://stackoverflow.com/questions/40142379/create-python-constructor-with-parameter-from-c-pyobject/40144243#40144243", "title": "Create Python Constructor with parameter from C++, PyObject", "body": "<p>I'm going to rewrite the Python class slightly, just so it uses both the argument and member variable.</p>\n\n<pre><code># B.py - test module\nclass A:\n    def __init__(self, name):\n        self.name = name\n\n    def print_message(self, message):\n        print message + ' ' + self.name\n</code></pre>\n\n<p>As for the C++ part, <em>almost</em> everything looks okay. The error you're getting is because the argument to <code>PyInstance_New</code> should be a tuple. There are multiple ways to call functions or methods. Here is a complete example using one of them:</p>\n\n<pre><code>// test.c - test embedding.\nvoid error_abort(void)\n{\n    PyErr_Print();\n    exit(EXIT_FAILURE);\n}\n\nint main(int argc, char* argv[])\n{\n    PyObject* temp, * args, * attr, * instance;\n\n    Py_Initialize();\n    if (!(temp = PyString_FromString(\"John\")))\n        error_abort();\n    if (!(args = PyTuple_Pack(1, temp)))\n        error_abort();\n    Py_DECREF(temp);\n\n    if (!(temp = PyImport_ImportModule(\"B\")))\n        error_abort();\n    if (!(attr = PyObject_GetAttrString(temp, \"A\")))\n        error_abort();\n    Py_DECREF(temp);\n\n    if (!(instance = PyInstance_New(attr, args, NULL)))\n        error_abort();\n    if (!PyObject_CallMethod(instance, \"print_message\", \"s\", \"Hello\"))\n        error_abort();\n\n    Py_DECREF(args);\n    Py_DECREF(attr);\n    Py_DECREF(instance);\n    Py_Finalize();\n    return 0;\n}\n</code></pre>\n\n<p>For more information see <a href=\"https://docs.python.org/3/extending/embedding.html#pure-embedding\" rel=\"noreferrer\">Python pure-embedding</a>.</p>\n"}], "owner": {"reputation": 365, "user_id": 2479921, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4f608a0f4de520ae40948c28141e10bf?s=128&d=identicon&r=PG", "display_name": "pseudo", "link": "https://stackoverflow.com/users/2479921/pseudo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 0, "accepted_answer_id": 40144243, "answer_count": 1, "score": 2, "last_activity_date": 1476936267, "creation_date": 1476915218, "question_id": 40142379, "link": "https://stackoverflow.com/questions/40142379/create-python-constructor-with-parameter-from-c-pyobject", "title": "Create Python Constructor with parameter from C++, PyObject", "body": "<p>I have a python class <code>A</code> like this.</p>\n\n<pre><code>class A: \n   def __init__(self, name): \n       self.name = name\n\n   def print_lastname(self, lastname): \n       print(lastname)\n</code></pre>\n\n<p>I have to call this code like this.</p>\n\n<pre><code>import B\na = B.A(\"hello\")\na.print_lastname(\"John\")\n</code></pre>\n\n<p>Currently, I need to use this <code>A</code> class from my C++ code. I have got this far.</p>\n\n<pre><code>Py_Initialize(); \nstring hello = \"hello\"; \nPyObject *module, *attr, *arg; \nmodule = PyObject_ImportModule(\"B\"); // import B\nattr = PyObject_GetAttrString(module, \"A\"); // get A from B\narg = PyString_FromString(hello.c_str()); \ninstance = PyInstance_New(attr, arg, NULL); // trying to get instance of A with parameter \"hello\"\nPy_Finalize(); \n</code></pre>\n\n<p>But I am getting error </p>\n\n<blockquote>\n  <p>Exception TypeError: 'argument list must be tuple' in module 'threading' from '/usr/lib64/python2.7/threading.pyc'</p>\n</blockquote>\n\n<p>How can I achieve from <code>import</code> statement to <code>a.print_name(\"John\")</code> from C++? \nAny help is appreciated.</p>\n"}, {"tags": ["python", "c++"], "comments": [{"owner": {"reputation": 16641, "user_id": 1190934, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ign26.jpg?s=128&g=1", "display_name": "James Oravec", "link": "https://stackoverflow.com/users/1190934/james-oravec"}, "edited": false, "score": 0, "creation_date": 1476915115, "post_id": 40142336, "comment_id": 67554644, "body": "If you compile your c++ code, then you should be able to call the program as a command line call and pass params into it as needed. Are you looking for something more?"}, {"owner": {"reputation": 109, "user_id": 6845877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245f62e2a3c665631a367813a3e255ec?s=128&d=identicon&r=PG&f=1", "display_name": "Liping Liu", "link": "https://stackoverflow.com/users/6845877/liping-liu"}, "reply_to_user": {"reputation": 16641, "user_id": 1190934, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ign26.jpg?s=128&g=1", "display_name": "James Oravec", "link": "https://stackoverflow.com/users/1190934/james-oravec"}, "edited": false, "score": 0, "creation_date": 1476925007, "post_id": 40142336, "comment_id": 67557473, "body": "Can I pass python object in? I tried to ctype, and it seems I can only pass basic data types."}, {"owner": {"reputation": 16641, "user_id": 1190934, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ign26.jpg?s=128&g=1", "display_name": "James Oravec", "link": "https://stackoverflow.com/users/1190934/james-oravec"}, "edited": false, "score": 0, "creation_date": 1476973382, "post_id": 40142336, "comment_id": 67582930, "body": "I am unaware anything that allows you to work with the other language directly in the other language. Calling one program to service as a service to the other is probably your best approach."}], "owner": {"reputation": 109, "user_id": 6845877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245f62e2a3c665631a367813a3e255ec?s=128&d=identicon&r=PG&f=1", "display_name": "Liping Liu", "link": "https://stackoverflow.com/users/6845877/liping-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476914971, "creation_date": 1476914971, "question_id": 40142336, "link": "https://stackoverflow.com/questions/40142336/is-it-possible-to-write-a-single-function-of-python-module-even-a-class-into-c", "title": "Is it possible to write a single function of python module (even a class) into c/c++", "body": "<p>I have tried to wrap my c++ code with the method introduced in the python website: <a href=\"https://docs.python.org/2/extending/extending.html\" rel=\"nofollow\">https://docs.python.org/2/extending/extending.html</a></p>\n\n<p>It seems I have two wrap my c++ code into a separate module. Is possible to write a single method of my module/class in c++ while others in python?</p>\n\n<p>I also superficially checked the boost python and swig. It seems they also pack c++ code into a single module. </p>\n\n<p>Thanks! </p>\n"}, {"tags": ["python", "python-2.7", "function", "restart"], "comments": [{"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 1, "creation_date": 1476915099, "post_id": 40142325, "comment_id": 67554636, "body": "<i>What</i> error occurs? What is expected behavior? You should create <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1476916269, "post_id": 40142325, "comment_id": 67555072, "body": "sometimes, to &quot;restart&quot; a simple python program that doesn&#39;t have a lot of imports I&#39;ve had success using the <a href=\"https://docs.python.org/2/library/functions.html#reload\" rel=\"nofollow noreferrer\">reload()</a> function, of course it has many caveats, see the <a href=\"https://docs.python.org/2/library/functions.html#reload\" rel=\"nofollow noreferrer\">docs</a>"}], "owner": {"reputation": 25, "user_id": 7030840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/08d684cba22a17941113043104df8f9d?s=128&d=identicon&r=PG&f=1", "display_name": "ThatOnePythonGuy", "link": "https://stackoverflow.com/users/7030840/thatonepythonguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476914898, "creation_date": 1476914898, "question_id": 40142325, "link": "https://stackoverflow.com/questions/40142325/restart-python-program-reseting-all-lists-and-variables", "title": "Restart python program, reseting all lists and variables", "body": "<p>I'd like to restart my fairly large python program. So far, the way I've tried to achieve this is by doing the following: </p>\n\n<pre><code>   if __name__ == '__main__':\n        MyFunction1() \n        os.execv(__file__, sys.argv)\n</code></pre>\n\n<p>My code is divided into many different functions, all I really want to do is allow the user to restart the program.</p>\n\n<p>Using the above code causes an error second time round, when running.</p>\n\n<p>Any suggestions would be much appreciated, even if they simply suggest an alternative. Although, with my large code, I'm not sure a while loop might do :)</p>\n"}, {"tags": ["python", "lambda"], "answers": [{"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 3, "last_activity_date": 1476915431, "last_edit_date": 1495541959, "creation_date": 1476915077, "answer_id": 40142356, "question_id": 40142302, "link": "https://stackoverflow.com/questions/40142302/why-to-use-lambda-to-send-function-as-argument-to-another-function/40142356#40142356", "title": "Why to use Lambda to send Function as Argument to Another Function", "body": "<p><a href=\"https://docs.python.org/3/tutorial/controlflow.html#lambda-expressions\" rel=\"nofollow noreferrer\"><code>lambda</code></a> functions work like normal function but are used in cases where they will be executed just once. Then, why to create the message body and define the function? For example, sorting the list of tuples:</p>\n\n<pre><code>&gt;&gt;&gt; my_list = [(1, 3) , (4, 8), (2, 3), (1, 6)]\n&gt;&gt;&gt; my_list.sort(key=lambda x: (x[0], -x[1]))\n&gt;&gt;&gt; my_list\n[(1, 6), (1, 3), (2, 3), (4, 8)]\n</code></pre>\n\n<p>Here, I am sorting <code>my_list</code> in increasing order of index <code>0</code> and then decreasing order of index <code>1</code>. But <code>list.sort()</code> accepts value of <code>key</code> as function. Instead of defining the function and then pass that function over here, it is cleaner to make a <code>lambda</code> call within it. </p>\n\n<p>Since these can be written as an expression, they are termed as <a href=\"https://docs.python.org/3/tutorial/controlflow.html#lambda-expressions\" rel=\"nofollow noreferrer\"><code>Lambda Expression</code></a> in document, instead of <em>Lambda Function</em>.</p>\n\n<p>Also read: <a href=\"https://stackoverflow.com/questions/890128/why-are-python-lambdas-useful\">Why are Python lambdas useful?</a></p>\n\n<p>In the example that you have given, I do not think that using <code>lambda</code> there is any useful.</p>\n"}], "owner": {"reputation": 13543, "user_id": 1107049, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/8f94b3bb695b3bbd83be44eb151aa63e?s=128&d=identicon&r=PG", "display_name": "alphanumeric", "link": "https://stackoverflow.com/users/1107049/alphanumeric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 40142356, "answer_count": 1, "score": 1, "last_activity_date": 1477430040, "creation_date": 1476914758, "last_edit_date": 1477430040, "question_id": 40142302, "link": "https://stackoverflow.com/questions/40142302/why-to-use-lambda-to-send-function-as-argument-to-another-function", "title": "Why to use Lambda to send Function as Argument to Another Function", "body": "<p>While digging into <code>lambda</code> I defined this code below:</p>\n\n<pre><code>def f2(number, lambda_function):\n    return lambda_function(number)\n\ndef f1(number):\n    return f2(number, lambda x: x*2) \n\nnumber = 2\nprint f1(number)\n</code></pre>\n\n<p>While I do agree the code like this looks pretty cool I wonder why wouldn't I just put it down using a more traditional approach, like so:</p>\n\n<pre><code>def f1(number):\n    return number*2\n\nnumber = 2\nprint f1(number)\n</code></pre>\n\n<p>I understand that some languages rely on the functional programming more than Python. But in Python I end up with less lines and more readable friendly code if I just avoid <code>lambda</code> and the function programming tricks. Can the code above be modified to illustrate a situation when a task could not be completed without using <code>lambda</code>? What is the purpose of <code>lambda</code> in Python? Can you show me the example of where <code>lambda</code> really \"shines\"? May be an example where the use of <code>lambda</code> simplified the code?</p>\n"}, {"tags": ["python", "text-rendering"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1476916217, "post_id": 40142284, "comment_id": 67555045, "body": "There won&#39;t be anything off the shelf to help you with this task, it&#39;s not something that anybody tries to do on a regular basis. The hardest part will be to resize the image so that the text just fits."}, {"owner": {"reputation": 1314, "user_id": 5932638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/063b8ac2eac8f08d59de5c889b0dc42a?s=128&d=identicon&r=PG&f=1", "display_name": "agg3l", "link": "https://stackoverflow.com/users/5932638/agg3l"}, "edited": false, "score": 0, "creation_date": 1476916250, "post_id": 40142284, "comment_id": 67555063, "body": "this is called ASCII-art, you can easily google dozen of solutions. If you want to implement it yourself, not to create few-lines wrapper - then it&#39;s up to you to chose approach"}, {"owner": {"reputation": 1314, "user_id": 5932638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/063b8ac2eac8f08d59de5c889b0dc42a?s=128&d=identicon&r=PG&f=1", "display_name": "agg3l", "link": "https://stackoverflow.com/users/5932638/agg3l"}, "edited": false, "score": 0, "creation_date": 1476916504, "post_id": 40142284, "comment_id": 67555153, "body": "FYI, I&#39;ve found the ready solution in 1 minute, implemented using Pillow in less then 60 lines of code, on the first page of Google SERP. You can follow the <a href=\"https://www.hackerearth.com/practice/notes/beautiful-python-a-simple-ascii-art-generator-from-images/\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 5666, "user_id": 318557, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/UJrlT.jpg?s=128&g=1", "display_name": "MasterScrat", "link": "https://stackoverflow.com/users/318557/masterscrat"}, "reply_to_user": {"reputation": 1314, "user_id": 5932638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/063b8ac2eac8f08d59de5c889b0dc42a?s=128&d=identicon&r=PG&f=1", "display_name": "agg3l", "link": "https://stackoverflow.com/users/5932638/agg3l"}, "edited": false, "score": 0, "creation_date": 1476916746, "post_id": 40142284, "comment_id": 67555238, "body": "@agg3l really? do you mean random ASCII-art algo, ie filling the image with random text, or with a specific text that fits the image shape? Link?"}, {"owner": {"reputation": 1314, "user_id": 5932638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/063b8ac2eac8f08d59de5c889b0dc42a?s=128&d=identicon&r=PG&f=1", "display_name": "agg3l", "link": "https://stackoverflow.com/users/5932638/agg3l"}, "edited": false, "score": 0, "creation_date": 1476916980, "post_id": 40142284, "comment_id": 67555316, "body": "The one I&#39;ve mentioned before uses <i>grayscale</i>-like image, filling it with chars. Actually, to fill it with text you just should convert image to bitmap (i.e. black &amp; white pixels) then fill in the bits. I&#39;m surprised myself how simple it is, although never bothered before how to implement one"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 1314, "user_id": 5932638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/063b8ac2eac8f08d59de5c889b0dc42a?s=128&d=identicon&r=PG&f=1", "display_name": "agg3l", "link": "https://stackoverflow.com/users/5932638/agg3l"}, "edited": false, "score": 0, "creation_date": 1476985744, "post_id": 40142284, "comment_id": 67591184, "body": "@agg3l most ASCII art, including the link you found, is a completely different problem to the one posted in the question."}], "owner": {"reputation": 5666, "user_id": 318557, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/UJrlT.jpg?s=128&g=1", "display_name": "MasterScrat", "link": "https://stackoverflow.com/users/318557/masterscrat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 716, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1476914671, "creation_date": 1476914671, "last_edit_date": 1492086869, "question_id": 40142284, "link": "https://stackoverflow.com/questions/40142284/render-text-in-the-shape-of-an-image-with-python", "title": "Render text in the shape of an image with Python", "body": "<p>I want to render text so that it looks like a given image, for example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CMVwx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CMVwx.png\" alt=\"raven\"></a></p>\n\n<p>The same thing as this, but in Python: <a href=\"https://tex.stackexchange.com/questions/183447/how-compose-an-image-from-a-specific-text\">https://tex.stackexchange.com/questions/183447/how-compose-an-image-from-a-specific-text</a></p>\n\n<p>I looked through the Pillow documentation but don't find anything relevant. Am I anything obvious? will I need to implement it myself from scratch?</p>\n"}, {"tags": ["python", "arrays"], "answers": [{"tags": [], "owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "is_accepted": true, "score": 1, "last_activity_date": 1476915770, "creation_date": 1476915770, "answer_id": 40142482, "question_id": 40142259, "link": "https://stackoverflow.com/questions/40142259/build-a-single-list-of-element-from-bi-dimensional-array-list/40142482#40142482", "title": "Build a single list of element from bi-dimensional array list", "body": "<p>If you just want the <code>url</code>, and your data is basically a list of lists then you can just use the <code>index</code> number, in this case <code>[0]</code> as url is the 1st element in a nested list</p>\n\n<pre><code>l = [['url1', 'data1'],['url2', 'data2'],['url3', 'data3']]\nendlist = []\nfor i in l:\n    endlist.append(i[0])\n\nprint endlist\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['url1', 'url2', 'url3']\n</code></pre>\n\n<p>However, make sure how your data is structured. A list of lists looks like <code>[[],[],[]]</code>, where each nested list is seperated by a <code>,</code> (comma) which is absent in the example you posted. </p>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 2948159, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/cTx3R.jpg?s=128&g=1", "display_name": "Dmitry Mikhaylenko", "link": "https://stackoverflow.com/users/2948159/dmitry-mikhaylenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1476915782, "creation_date": 1476915782, "answer_id": 40142487, "question_id": 40142259, "link": "https://stackoverflow.com/questions/40142259/build-a-single-list-of-element-from-bi-dimensional-array-list/40142487#40142487", "title": "Build a single list of element from bi-dimensional array list", "body": "<p>If I understood you correctly, you need this:</p>\n\n<pre><code>results = [[url_1, data_1], [url_2, data_2], ...]\nurls = list()\nfor r in results:\n    # r = [url_i, data_i]\n    urls.append(r[0])\n</code></pre>\n"}], "owner": {"reputation": 2051, "user_id": 6273496, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-ylur9-ED2UU/AAAAAAAAAAI/AAAAAAAAACU/r0Cd0F2YJCI/photo.jpg?sz=128", "display_name": "Simon Breton", "link": "https://stackoverflow.com/users/6273496/simon-breton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 40142482, "answer_count": 2, "score": 0, "last_activity_date": 1477814210, "creation_date": 1476914560, "last_edit_date": 1477814210, "question_id": 40142259, "link": "https://stackoverflow.com/questions/40142259/build-a-single-list-of-element-from-bi-dimensional-array-list", "title": "Build a single list of element from bi-dimensional array list", "body": "<p>I have the following list of lists:</p>\n\n<pre><code>[[url1, data1],[url2, data2],[url3, data3]]\n</code></pre>\n\n<p>I want to build a simple list of the URLs. </p>\n\n<p>I'm doing this:</p>\n\n<pre><code>  if results:\n    for row in results.get('rows'):\n      data.append(row[:1])\n    print data\n</code></pre>\n\n<p>for this result (a list of lists):</p>\n\n<pre><code>[[url1],[url2],[url3]]\n</code></pre>\n\n<p>I would like to have a simple list, like this :</p>\n\n<pre><code>[url1,url2,url3]\n</code></pre>\n"}, {"tags": ["python", "qt", "pyside"], "comments": [{"owner": {"reputation": 4141, "user_id": 3419537, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7e5899a36794df8696441dfa03069bad?s=128&d=identicon&r=PG&f=1", "display_name": "user3419537", "link": "https://stackoverflow.com/users/3419537/user3419537"}, "edited": false, "score": 0, "creation_date": 1476972224, "post_id": 40142254, "comment_id": 67582029, "body": "<a href=\"https://stackoverflow.com/questions/29147137/how-do-i-implement-the-ability-to-edit-a-qtablewidgets-vertical-and-horizontal\" title=\"how do i implement the ability to edit a qtablewidgets vertical and horizontal\">stackoverflow.com/questions/29147137/&hellip;</a>"}, {"owner": {"reputation": 2966, "user_id": 230270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f2eead5d54d62be44a0936f6914c3fe?s=128&d=identicon&r=PG", "display_name": "Eagle", "link": "https://stackoverflow.com/users/230270/eagle"}, "reply_to_user": {"reputation": 4141, "user_id": 3419537, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7e5899a36794df8696441dfa03069bad?s=128&d=identicon&r=PG&f=1", "display_name": "user3419537", "link": "https://stackoverflow.com/users/3419537/user3419537"}, "edited": false, "score": 0, "creation_date": 1476976396, "post_id": 40142254, "comment_id": 67585419, "body": "@user3419537, you are right. I saw this question and I saw as well &quot;things go bad when headers are resized or table is scrolled&quot;... In my Gui the size of my&#180;table is going to be changed..."}], "owner": {"reputation": 2966, "user_id": 230270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f2eead5d54d62be44a0936f6914c3fe?s=128&d=identicon&r=PG", "display_name": "Eagle", "link": "https://stackoverflow.com/users/230270/eagle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476945229, "creation_date": 1476914542, "last_edit_date": 1476945229, "question_id": 40142254, "link": "https://stackoverflow.com/questions/40142254/how-to-modify-vertical-horisontal-headers-using-double-click", "title": "How to modify vertical\\horisontal headers using double click", "body": "<p>In my Gui I would like to be able to edit the vertical\\horizontal headers values of my table (QTableView) using a double click with my mouse.</p>\n\n<p>I am using pyside, but <em>Qt</em> solutions in C++, that could show me the way to solve my problem are welcome as well.</p>\n\n<p>If it would be better to use something else then QTableView, I am open for new suggestions.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 1314, "user_id": 5932638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/063b8ac2eac8f08d59de5c889b0dc42a?s=128&d=identicon&r=PG&f=1", "display_name": "agg3l", "link": "https://stackoverflow.com/users/5932638/agg3l"}, "is_accepted": false, "score": 0, "last_activity_date": 1476915682, "creation_date": 1476915682, "answer_id": 40142467, "question_id": 40142236, "link": "https://stackoverflow.com/questions/40142236/numbers-separated-by-spaces-in-txt-file-into-python-list/40142467#40142467", "title": "Numbers separated by spaces in txt file into python list", "body": "<p>Following uses plain Python 3 (without NumPy)</p>\n\n<pre><code># open file\nwith open('file.txt') as fp:\n    # 1. iterate over file line-by-line\n    # 2. strip line of newline symbols\n    # 3. split line by spaces into list (of number strings)\n    # 4. convert number substrings to int values\n    # 5. convert map object to list\n    data = [list(map(int, line.strip().split(' '))) for line in fp]\n</code></pre>\n\n<p>This provides the result you're looking for:</p>\n\n<pre><code>&gt;&gt;&gt; with open('data.txt') as fp:\n...     data = [list(map(int, line.strip().split(' '))) for line in fp]\n... \n&gt;&gt;&gt; print(data)\n[[1, 2, 3, 4, 5], [6, 7, 8, 9, 10]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8162, "user_id": 294313, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/165e55c78689e561c554c3dec671fb50?s=128&d=identicon&r=PG", "display_name": "SamB", "link": "https://stackoverflow.com/users/294313/samb"}, "is_accepted": false, "score": 0, "last_activity_date": 1476932810, "creation_date": 1476932810, "answer_id": 40144732, "question_id": 40142236, "link": "https://stackoverflow.com/questions/40142236/numbers-separated-by-spaces-in-txt-file-into-python-list/40144732#40144732", "title": "Numbers separated by spaces in txt file into python list", "body": "<p>I'm pretty sure that your numpy code works just fine, and you're just not used to the way it formats arrays for display.</p>\n\n<p>Maybe this will give results more like you were expecting:</p>\n\n<pre><code>import numpy as np\n\nmymatrix = np.loadtxt('file')\nprint (np.array_repr(mymatrix))\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7044735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5275af4b91a35360f87beec4f2e4cf9e?s=128&d=identicon&r=PG&f=1", "display_name": "strangecarr", "link": "https://stackoverflow.com/users/7044735/strangecarr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3930, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1476932810, "creation_date": 1476914465, "last_edit_date": 1476923509, "question_id": 40142236, "link": "https://stackoverflow.com/questions/40142236/numbers-separated-by-spaces-in-txt-file-into-python-list", "title": "Numbers separated by spaces in txt file into python list", "body": "<p>I am trying to convert a txt file containing lines of numbers separated by spaces into numbers separated by commas in lists, where each line is a new list of these numbers using Python 3.</p>\n\n<p>E.g. txt file contains </p>\n\n<blockquote>\n  <p>1  2  3  4  5</p>\n  \n  <p>6  7  8  9  10</p>\n</blockquote>\n\n<p>and I want this in python:</p>\n\n<pre><code>[1,2,3,4,5]\n\n[6,7,8,9,10]\n</code></pre>\n\n<p>I can't seem to find a good solution, I used numpy and obtained the list of lists but not comma separated, e.g.:\n<code>[[1  2  3  4  5],[6  7  8  9 10]]</code></p>\n\n<p>Here is the example code I've used that doesn't quite work:</p>\n\n<pre><code>import numpy as np\n\nmymatrix = np.loadtxt('file')\n</code></pre>\n\n<p>Grateful for any input! (ps I'm a beginner but want to use the lists in a programme I am developing)</p>\n"}, {"tags": ["python", "selenium", "firefox"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7044759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1630902747df99e90007505f69d7c80b?s=128&d=identicon&r=PG&f=1", "display_name": "hdiuwhciu", "link": "https://stackoverflow.com/users/7044759/hdiuwhciu"}, "edited": false, "score": 0, "creation_date": 1476977963, "post_id": 40143317, "comment_id": 67586524, "body": "Thanks Dean Fenster!"}, {"owner": {"reputation": 23, "user_id": 7044759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1630902747df99e90007505f69d7c80b?s=128&d=identicon&r=PG&f=1", "display_name": "hdiuwhciu", "link": "https://stackoverflow.com/users/7044759/hdiuwhciu"}, "edited": false, "score": 1, "creation_date": 1476977990, "post_id": 40143317, "comment_id": 67586550, "body": "and I got:TypeError: __init__() got an unexpected keyword argument &#39;desired_capabilities&#39;"}], "tags": [], "owner": {"reputation": 2090, "user_id": 2350575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d4561f06d70046f208fd3d6f4da576a?s=128&d=identicon&r=PG", "display_name": "Dean Fenster", "link": "https://stackoverflow.com/users/2350575/dean-fenster"}, "is_accepted": true, "score": 3, "last_activity_date": 1476978238, "last_edit_date": 1476978238, "creation_date": 1476921004, "answer_id": 40143317, "question_id": 40142194, "link": "https://stackoverflow.com/questions/40142194/errors-with-webdriver-firefox-with-selenium/40143317#40143317", "title": "errors with webdriver.Firefox() with selenium", "body": "<p>If you are using firefox ver >47.0.1 you need to have the <code>[geckodriver][1]</code> executable in your system path. For earlier versions you want to turn marionette off. You can to so like this:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.common.desired_capabilities import DesiredCapabilities\ncapabilities = DesiredCapabilities.FIREFOX.copy()\ncapabilities['marionette'] = False\ndriver = webdriver.Firefox(capabilities=capabilities)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7044759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1630902747df99e90007505f69d7c80b?s=128&d=identicon&r=PG&f=1", "display_name": "hdiuwhciu", "link": "https://stackoverflow.com/users/7044759/hdiuwhciu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3947, "favorite_count": 1, "accepted_answer_id": 40143317, "answer_count": 1, "score": 1, "last_activity_date": 1578769786, "creation_date": 1476914312, "question_id": 40142194, "link": "https://stackoverflow.com/questions/40142194/errors-with-webdriver-firefox-with-selenium", "title": "errors with webdriver.Firefox() with selenium", "body": "<p>I am using python 3.5, firefox 45 (also tried 49) and selenium 3.0.1</p>\n\n<p>I tried:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\ndriver = webdriver.Firefox()\n</code></pre>\n\n<p>Then I got the error message:</p>\n\n<pre><code>C:\\Users\\A\\AppData\\Local\\Programs\\Python\\Python35\\python.exe\nC:/Users/A/Desktop/car/test.py\nTraceback (most recent call last):\nFile \"C:\\Users\\A\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\selenium\\webdriver\\common\\service.py\", line 64, in start\nstdout=self.log_file, stderr=self.log_file)\nFile \"C:\\Users\\A\\AppData\\Local\\Programs\\Python\\Python35\\lib\\subprocess.py\", line 950, in __init__\nrestore_signals, start_new_session)\nFile \"C:\\Users\\A\\AppData\\Local\\Programs\\Python\\Python35\\lib\\subprocess.py\", line 1220, in _execute_child\nstartupinfo)\nFileNotFoundError: [WinError 2] The system cannot find the file specified\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"C:/Users/A/Desktop/car/test.py\", line 4, in &lt;module&gt;\ndriver = webdriver.Firefox()\nFile \"C:\\Users\\A\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\selenium\\webdriver\\firefox\\webdriver.py\", line 135, in __init__\nself.service.start()\nFile \"C:\\Users\\A\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\selenium\\webdriver\\common\\service.py\", line 71, in start\nos.path.basename(self.path), self.start_error_message)\nselenium.common.exceptions.WebDriverException: Message: 'geckodriver' executable needs to be in PATH. \nException ignored in: &lt;bound method Service.__del__ of &lt;selenium.webdriver.firefox.service.Service object at 0x0000000000EB8278&gt;&gt;\nTraceback (most recent call last):\nFile \"C:\\Users\\A\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\selenium\\webdriver\\common\\service.py\", line 163, in __del__\nself.stop()\nFile \"C:\\Users\\A\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\selenium\\webdriver\\common\\service.py\", line 135, in stop\nif self.process is None:\nAttributeError: 'Service' object has no attribute 'process'\n</code></pre>\n\n<p>What can I do? Any help is much appreciated!</p>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 3, "creation_date": 1476914901, "post_id": 40142263, "comment_id": 67554562, "body": "Given that he assumes vectors <code>len</code> and <code>size</code> are equivalent. But I downvoted because <code>numpy.array</code> do work with <code>len</code>, except if it&#39;s a scalar (which throws the mentioned error)."}, {"owner": {"reputation": 3022, "user_id": 4511978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7XW8u.jpg?s=128&g=1", "display_name": "fr_andres", "link": "https://stackoverflow.com/users/4511978/fr-andres"}, "edited": false, "score": 0, "creation_date": 1476914970, "post_id": 40142263, "comment_id": 67554585, "body": "that actually makes a lot of sense! thanks for the explanation"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1476917151, "post_id": 40142263, "comment_id": 67555376, "body": "@MSeifert So we do not need to assume <code>len</code> and <code>.size</code> are the same because infact they already are, since OP is working with a vector"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1476917349, "post_id": 40142263, "comment_id": 67555443, "body": "@MSeifert It&#39;s no problem. Cheers"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1476917426, "post_id": 40142263, "comment_id": 67555468, "body": "The <code>np.fromstring</code> is a good recommendation, so I removed the downvote."}, {"owner": {"reputation": 182, "user_id": 2097158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mlJ7B.jpg?s=128&g=1", "display_name": "fcpenha", "link": "https://stackoverflow.com/users/2097158/fcpenha"}, "edited": false, "score": 0, "creation_date": 1564965740, "post_id": 40142263, "comment_id": 101190123, "body": "Now, <code>np.frombuffer</code> is the way to go:  /opt/conda/lib/python3.6/site-packages/ipykernel/__main__.py&zwnj;&#8203;:3: DeprecationWarning: The binary mode of fromstring is deprecated, as it behaves surprisingly on unicode inputs. Use frombuffer instead   app.launch_new_instance()"}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 14, "last_activity_date": 1476915700, "last_edit_date": 1476915700, "creation_date": 1476914567, "answer_id": 40142263, "question_id": 40142166, "link": "https://stackoverflow.com/questions/40142166/how-to-fix-typeerror-len-of-unsized-object/40142263#40142263", "title": "How to fix &quot;TypeError: len() of unsized object&quot;", "body": "<p>Use the arrays' <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.size.html\" rel=\"noreferrer\"><code>size</code></a> attribute instead:</p>\n\n<pre><code>nv = v.size\nnu = u.size\n</code></pre>\n\n<hr>\n\n<p>You also probably want to use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.fromstring.html#numpy.fromstring\" rel=\"noreferrer\"><code>numpy.fromstring</code></a> to take and convert the input string into an array:</p>\n\n<pre><code>&gt;&gt;&gt; v = np.fromstring(input('enter the elements of the vector separated by comma: '), dtype=int, sep=',')\nenter the elements of the vector separated by comma: 1, 2, 3\n&gt;&gt;&gt; v\narray([1, 2, 3])\n&gt;&gt;&gt; len(v)\n3\n&gt;&gt;&gt; v.size\n3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1095, "user_id": 9632441, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GS8Ai_-3dvc/AAAAAAAAAAI/AAAAAAAAABs/xYTq95YaGu4/photo.jpg?sz=128", "display_name": "ptyshevs", "link": "https://stackoverflow.com/users/9632441/ptyshevs"}, "is_accepted": false, "score": 0, "last_activity_date": 1603108631, "creation_date": 1603108631, "answer_id": 64426860, "question_id": 40142166, "link": "https://stackoverflow.com/questions/40142166/how-to-fix-typeerror-len-of-unsized-object/64426860#64426860", "title": "How to fix &quot;TypeError: len() of unsized object&quot;", "body": "<p>For me this error occurred when I had the following situation:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\n\narr = np.array([[1]])\n\narr_squeezed = arr.squeeze()\nlen(arr_squeezed)  # TypeError: len() of unsized object\n</code></pre>\n<p>For this to work properly, make sure that array you're squeezing contains more then one element.</p>\n"}], "owner": {"reputation": 161, "user_id": 7044761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c602608fd3795ad301cdbf6b4a6dad7e?s=128&d=identicon&r=PG&f=1", "display_name": "Xabier Garcia Andrade", "link": "https://stackoverflow.com/users/7044761/xabier-garcia-andrade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39304, "favorite_count": 2, "answer_count": 2, "score": 12, "last_activity_date": 1603108631, "creation_date": 1476914179, "last_edit_date": 1476914664, "question_id": 40142166, "link": "https://stackoverflow.com/questions/40142166/how-to-fix-typeerror-len-of-unsized-object", "title": "How to fix &quot;TypeError: len() of unsized object&quot;", "body": "<p>I am getting:</p>\n\n<p><strong>TypeError: len() of unsized object</strong></p>\n\n<p>after running the following script:</p>\n\n<pre><code>from numpy import *\n\nv=array(input('Introduce un vector v: '))\nu=array(input('Introduce un vector u: '))\n\nnv= len(v)\nnu= len(u)\n\ndiferenza= 0; i=0\n\nif nv==nu:\n\n    while i&lt;nv:\n        diferenza=diferenza + ((v[i+1]-u[i+1]))**2\n\n    modulo= sqrt(diferenza)\n    print('Distancia', v)\nelse:\n    print('Vectores de diferente dimensi\u00f3n')\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["python", "keras"], "owner": {"reputation": 129, "user_id": 499372, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2cccbaea7047dd79a09bcdd93b58c06c?s=128&d=identicon&r=PG", "display_name": "user499372", "link": "https://stackoverflow.com/users/499372/user499372"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1476926967, "creation_date": 1476914008, "last_edit_date": 1476926967, "question_id": 40142117, "link": "https://stackoverflow.com/questions/40142117/adding-a-new-input-channel-in-keras", "title": "adding a new input channel in keras", "body": "<p>I am trying to fine-tune VGG19 in keras using the functional APIs. First, I load the pre-trained model by <code>base_model = VGG19(weights='imagenet')</code>. Now, I want to add a 4th channel to the input (the pre-trained models has 3 channels i.e. R, G, and B). Could someone let me know how I can add the 4th channel with random initialization? </p>\n"}, {"tags": ["python", "google-spreadsheet-api"], "answers": [{"tags": [], "owner": {"reputation": 6714, "user_id": 6092067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3848bf7a325fa036b5e85f5f83e76985?s=128&d=identicon&r=PG&f=1", "display_name": "Teyam", "link": "https://stackoverflow.com/users/6092067/teyam"}, "is_accepted": true, "score": 2, "last_activity_date": 1476978565, "creation_date": 1476978565, "answer_id": 40159028, "question_id": 40142061, "link": "https://stackoverflow.com/questions/40142061/how-to-use-serial-number-time-in-google-sheets-api-for-python/40159028#40159028", "title": "How to use SERIAL_NUMBER time in Google Sheets API for Python", "body": "<p>If we look into <a href=\"https://developers.google.com/sheets/guides/values\" rel=\"nofollow\">Reading &amp; Writing Cell Values</a>, it's  noted that</p>\n\n<blockquote>\n  <p><strong><code>dateTimeRenderOption</code></strong> is only used if the <strong><code>valueRenderOption</code> is not <code>FORMATTED_VALUE</code></strong>.</p>\n</blockquote>\n\n<p>Please also try adding <a href=\"https://developers.google.com/sheets/reference/rest/v4/ValueRenderOption\" rel=\"nofollow\"><code>ValueRenderOption</code></a>, with values <code>UNFORMATTED_VALUE</code> or <code>FORMULA</code>, into your code to determine how values should be rendered in the output.</p>\n"}], "owner": {"reputation": 23, "user_id": 7044689, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SDdkz0cv5W4/AAAAAAAAAAI/AAAAAAAAAqk/KeFzQqTdiPg/photo.jpg?sz=128", "display_name": "nkizz", "link": "https://stackoverflow.com/users/7044689/nkizz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 40159028, "answer_count": 1, "score": 2, "last_activity_date": 1476978565, "creation_date": 1476913655, "question_id": 40142061, "link": "https://stackoverflow.com/questions/40142061/how-to-use-serial-number-time-in-google-sheets-api-for-python", "title": "How to use SERIAL_NUMBER time in Google Sheets API for Python", "body": "<p>I'm trying to get the Google Sheets API to return the SERIAL_NUMBER time for dates in a spreadsheet I'm getting with Python 3. Here is the code that I'm using to get it (not including the credentials function:</p>\n\n<pre><code>http = credentials.authorize(httplib2.Http())\ndiscoveryUrl = ('https://sheets.googleapis.com/$discovery/rest?'\n'version=v4')\nservice = discovery.build('sheets', 'v4', http=http,\n                          discoveryServiceUrl=discoveryUrl)\n\nspreadsheetId = 'REDACTED'\nrangeNames = ['Sheet1!A2:E','Sheet1!F2:F']\nresult = service.spreadsheets().values().batchGet(\n    spreadsheetId=spreadsheetId, ranges=rangeNames, dateTimeRenderOption='SERIAL_NUMBER').execute()\nprint(result.get('valueRanges'))\n</code></pre>\n\n<p>As you can see, I am passing it the dateTimeRenderOption, however it always returns a formatted string, like '9/7/2016' instead of a serial number. How do I get the serial number?</p>\n"}, {"tags": ["python", "pandas", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 4703, "user_id": 1290147, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/86960db52bfc0bcf33fa3cc75a7ae9d8?s=128&d=identicon&r=PG", "display_name": "Luis Miguel", "link": "https://stackoverflow.com/users/1290147/luis-miguel"}, "edited": false, "score": 0, "creation_date": 1476917408, "post_id": 40142613, "comment_id": 67555461, "body": "Thank you @wrwrwr, almost there! your solution is excellent but it does not quite return a python list as the value, but a pandas series as the value. I could take it from here and loop the dictionary to transform the pandas series into a list, but again, that&#39;s what I was avoiding. I&#39;m looking for a pythonic, one liner solution. Do you know how to transform the pandas series into a python list in the same line? i.e: f.set_index(&#39;ticker&#39;).groupby(&#39;sector&#39;).groups.tolist() (that does not work)"}, {"owner": {"reputation": 4723, "user_id": 6786975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcBgg.png?s=128&g=1", "display_name": "MMF", "link": "https://stackoverflow.com/users/6786975/mmf"}, "edited": false, "score": 0, "creation_date": 1476918926, "post_id": 40142613, "comment_id": 67555915, "body": "use <code>list()</code> method to convert to list"}, {"owner": {"reputation": 878, "user_id": 5466926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76dc35f878a6d4b5ebc9b227f35867f8?s=128&d=identicon&r=PG&f=1", "display_name": "wrwrwr", "link": "https://stackoverflow.com/users/5466926/wrwrwr"}, "edited": false, "score": 1, "creation_date": 1476919423, "post_id": 40142613, "comment_id": 67556057, "body": "I&#39;m not sure why are you getting series as values, but still extended the answer with some rather brutal approaches to enforcing that they are lists."}, {"owner": {"reputation": 878, "user_id": 5466926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76dc35f878a6d4b5ebc9b227f35867f8?s=128&d=identicon&r=PG&f=1", "display_name": "wrwrwr", "link": "https://stackoverflow.com/users/5466926/wrwrwr"}, "edited": false, "score": 1, "creation_date": 1476923420, "post_id": 40142613, "comment_id": 67557072, "body": "Updated for Pandas 0.19 (which seems to have switched from plain lists to indices for <code>groups</code> values)."}, {"owner": {"reputation": 4703, "user_id": 1290147, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/86960db52bfc0bcf33fa3cc75a7ae9d8?s=128&d=identicon&r=PG", "display_name": "Luis Miguel", "link": "https://stackoverflow.com/users/1290147/luis-miguel"}, "edited": false, "score": 0, "creation_date": 1476929007, "post_id": 40142613, "comment_id": 67558299, "body": "Great answer. Thanks"}], "tags": [], "owner": {"reputation": 878, "user_id": 5466926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76dc35f878a6d4b5ebc9b227f35867f8?s=128&d=identicon&r=PG&f=1", "display_name": "wrwrwr", "link": "https://stackoverflow.com/users/5466926/wrwrwr"}, "is_accepted": true, "score": 4, "last_activity_date": 1476922367, "last_edit_date": 1476922367, "creation_date": 1476916489, "answer_id": 40142613, "question_id": 40142024, "link": "https://stackoverflow.com/questions/40142024/pandas-df-to-dictionary-with-values-as-python-lists-aggregated-from-a-df-column/40142613#40142613", "title": "Pandas df to dictionary with values as python lists aggregated from a df column", "body": "<p>Wouldn't <code>f.set_index('ticker').groupby('sector').groups</code> be what you want?</p>\n\n<p>For example:</p>\n\n<pre><code>f = DataFrame({\n        'ticker': ('t1', 't2', 't3'),\n        'sector': ('sa', 'sb', 'sb'),\n        'name': ('n1', 'n2', 'n3')})\n\ngroups = f.set_index('ticker').groupby('sector').groups\n# {'sa': Index(['t1']), 'sb': Index(['t2', 't3'])}\n</code></pre>\n\n<p>To ensure that they have the type you want:</p>\n\n<pre><code>{k: list(v) for k, v in f.set_index('ticker').groupby('sector').groups.items()}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>f.set_index('ticker').groupby('sector').apply(lambda g: list(g.index)).to_dict()\n</code></pre>\n"}], "owner": {"reputation": 4703, "user_id": 1290147, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/86960db52bfc0bcf33fa3cc75a7ae9d8?s=128&d=identicon&r=PG", "display_name": "Luis Miguel", "link": "https://stackoverflow.com/users/1290147/luis-miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 40142613, "answer_count": 1, "score": 2, "last_activity_date": 1476922367, "creation_date": 1476913497, "last_edit_date": 1476917586, "question_id": 40142024, "link": "https://stackoverflow.com/questions/40142024/pandas-df-to-dictionary-with-values-as-python-lists-aggregated-from-a-df-column", "title": "Pandas df to dictionary with values as python lists aggregated from a df column", "body": "<p>I have a pandas df containing 'features' for stocks, which looks like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/fekQs.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/fekQs.png\" alt=\"features for stocks previous to training neural net\"></a></p>\n\n<p>I am now trying to create a dictionary with <strong>unique sector</strong> as <strong>key</strong>, and a <strong>python list of tickers</strong> for that unique sector as <strong>values</strong>, so I end up having something that looks like this:</p>\n\n<pre><code>{'consumer_discretionary': ['AAP',\n  'AMZN',\n  'AN',\n  'AZO',\n  'BBBY',\n  'BBY',\n  'BWA',\n  'KMX',\n  'CCL',\n  'CBS',\n  'CHTR',\n  'CMG',\n</code></pre>\n\n<p>etc.</p>\n\n<p>I could iterate over the pandas df rows to create the dictionary, but I prefer a  more pythonic solution. Thus far, this code is a partial solution:</p>\n\n<pre><code>df.set_index('sector')['ticker'].to_dict()\n</code></pre>\n\n<p>Any feedback is appreciated.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>The solution by @wrwrwr </p>\n\n<pre><code>df.set_index('ticker').groupby('sector').groups\n</code></pre>\n\n<p>partially works, but it returns a <strong>pandas series</strong> as a the value, instead of a <strong>python list</strong>. Any ideas about how to transform the pandas series into a python list in the same line and w/o having to iterate the dictionary?</p>\n"}, {"tags": ["python", "numpy", "optimization"], "answers": [{"comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1476914706, "post_id": 40142158, "comment_id": 67554490, "body": "@reptilicus That&#39;s the perfect way to describe it! :)"}, {"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1476916286, "post_id": 40142158, "comment_id": 67555077, "body": "bah, my comment was deleted. Alas, the censors have my number"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1476916389, "post_id": 40142158, "comment_id": 67555119, "body": "@reptilicus Haha, some kid AI-bot at work probably ;)"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1476914477, "last_edit_date": 1476914477, "creation_date": 1476914143, "answer_id": 40142158, "question_id": 40142004, "link": "https://stackoverflow.com/questions/40142004/efficiently-summing-outer-product-for-1d-numpy-arrays/40142158#40142158", "title": "Efficiently summing outer product for 1D NumPy arrays", "body": "<p>You could use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.einsum.html\" rel=\"nofollow\"><code>np.einsum</code></a> -</p>\n\n<pre><code>y = a*b - np.einsum('i,i,j-&gt;j',a,b,b)\n</code></pre>\n\n<p>We can also perform <code>a*b</code> and feed to <code>einsum</code>  -</p>\n\n<pre><code>y = a*b - np.einsum('i,j-&gt;j',a*b,b)\n</code></pre>\n\n<p>On the second approach, we can save some runtime by storing <code>a*b</code> and reusing.</p>\n\n<p>Runtime test -</p>\n\n<pre><code>In [253]: a = np.random.rand(4000)\n\nIn [254]: b = np.random.rand(4000)\n\nIn [255]: %timeit np.sum(np.outer(a*b, b), axis=0)\n10 loops, best of 3: 105 ms per loop\n\nIn [256]: %timeit np.einsum('i,i,j-&gt;j',a,b,b)\n10 loops, best of 3: 24.2 ms per loop\n\nIn [257]: %timeit np.einsum('i,j-&gt;j',a*b,b)\n10 loops, best of 3: 21.9 ms per loop\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 3965778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e0b6d6cbbb9bc8b965f3ce5483a42f?s=128&d=identicon&r=PG&f=1", "display_name": "user27118", "link": "https://stackoverflow.com/users/3965778/user27118"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 40142158, "answer_count": 1, "score": 1, "last_activity_date": 1476915731, "creation_date": 1476913425, "last_edit_date": 1476915731, "question_id": 40142004, "link": "https://stackoverflow.com/questions/40142004/efficiently-summing-outer-product-for-1d-numpy-arrays", "title": "Efficiently summing outer product for 1D NumPy arrays", "body": "<p>I have a function of the form</p>\n\n<p><a href=\"https://i.stack.imgur.com/MwLCs.gif\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/MwLCs.gif\" alt=\"enter image description here\"></a></p>\n\n<p>One way to implement this function in numpy is to assemble a matrix to sum over:</p>\n\n<pre><code>y = a*b - np.sum(np.outer(a*b, b), axis=0)\n</code></pre>\n\n<p>Is there a better way to implement this function with numpy, one that doesn't involve creating an NxN array?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1476914595, "post_id": 40141998, "comment_id": 67554452, "body": "First load file 2 create a mapping of site to code. Then as you parse file 1 maintain a list of persons who are in, including all their other data and when you see their out line write to the file and remove them from the list. You may have to do a sweep at the end of the day for any in entries that don&#39;t have a matching out."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7044294, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/080e32cc71c8310834f5124280fc3884?s=128&d=identicon&r=PG&f=1", "display_name": "Mobs", "link": "https://stackoverflow.com/users/7044294/mobs"}, "edited": false, "score": 0, "creation_date": 1477430745, "post_id": 40185453, "comment_id": 67762543, "body": "Thanks, this works and looks nice.  You answered the basic question, but the output data is not quite done.  The status column is not needed in the output data. I did edit the question by adding some hardcoded text for the last column. But the 3rd and 4th column are populated by the status. If &quot;I&quot; or &quot;L&quot; populate time in the 3rd, and if &quot;O&quot; populate the 4th."}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "reply_to_user": {"reputation": 15, "user_id": 7044294, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/080e32cc71c8310834f5124280fc3884?s=128&d=identicon&r=PG&f=1", "display_name": "Mobs", "link": "https://stackoverflow.com/users/7044294/mobs"}, "edited": false, "score": 0, "creation_date": 1477431105, "post_id": 40185453, "comment_id": 67762727, "body": "glad to know it helped"}, {"owner": {"reputation": 15, "user_id": 7044294, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/080e32cc71c8310834f5124280fc3884?s=128&d=identicon&r=PG&f=1", "display_name": "Mobs", "link": "https://stackoverflow.com/users/7044294/mobs"}, "edited": false, "score": 0, "creation_date": 1478292326, "post_id": 40185453, "comment_id": 68111333, "body": "instead of print, how to save the list to a .csv file? I&#39;ve been trying but I just get a file with the last line in there."}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1477084006, "creation_date": 1477084006, "answer_id": 40185453, "question_id": 40141998, "link": "https://stackoverflow.com/questions/40141998/adding-columns-to-a-csv-file-based-on-data-from-multiple-files-using-python/40185453#40185453", "title": "Adding columns to a csv file, based on data from multiple files, using Python?", "body": "<pre><code>def get_site_code_dict(site_code_file):\n    mydict = dict()\n    with open(site_code_file) as inputs:\n        for line in inputs:\n            site,code = line.strip().split(\",\")\n            mydict[site] = code\n    return mydict\n\n\ndef process_raw(raw_file, site_code_dict):\n    with open(raw_file) as inputs:\n        for line in inputs:\n            person, date_time, site, status = line.strip().split(\",\")\n            outlist = list()\n            outlist.append(site_code_dict[site])\n            outlist.append(person)\n            outlist.append(date_time)\n            outlist.append(status)\n            print \",\".join(outlist)\n\n\nif __name__ == \"__main__\":\n    site_code_dict = get_site_code_dict(\"file2\")\n    process_raw(\"file1\", site_code_dict)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>101,Person1,01/13/16 10:38,I\n103,Person1,01/20/16 12:53,O\n102,Person2,01/21/16 14:45,O\n</code></pre>\n\n<p>You can create key-value pair as <code>get_site_code_dict</code> to bind the site name and code number, and then use it to process your raw data.</p>\n"}], "owner": {"reputation": 15, "user_id": 7044294, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/080e32cc71c8310834f5124280fc3884?s=128&d=identicon&r=PG&f=1", "display_name": "Mobs", "link": "https://stackoverflow.com/users/7044294/mobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480465669, "creation_date": 1476913396, "last_edit_date": 1480465669, "question_id": 40141998, "link": "https://stackoverflow.com/questions/40141998/adding-columns-to-a-csv-file-based-on-data-from-multiple-files-using-python", "title": "Adding columns to a csv file, based on data from multiple files, using Python?", "body": "<p>I'm getting raw data then reordering the columns, adding data based on data from multiple files, adding some hardcoded data, then saving to an \"output.csv\" file.<br></p>\n\n<p>For example...</p>\n\n<p>File1.csv: (Retrieved Data)<br>\nperson, date_time, site, status</p>\n\n<pre><code>Person1,01/13/16 10:38,SiteA,I\nPerson1,01/20/16 12:53,SiteC,O\nPerson2,01/21/16 14:45,SiteB,O\nPerson3,01/17/16 12:17,SiteA,I\nPerson3,01/25/16 10:15,SiteB,L\n</code></pre>\n\n<p>File2.csv: (Fixed Data_1)<br>\nsite,code</p>\n\n<pre><code>SiteA,101\nSiteB,102\nSiteC,103\n</code></pre>\n\n<p>File3.csv: (Fixed Data_2)<br>\nperiod_start_time,period_end_time,period</p>\n\n<pre><code>00:00,07:59,0\n08:00,09:00,1\n09:01,10:00,2\n10:01,11:00,3\n11:01,12:00,4\n12:01,13:00,5\n13:01,14:00,6\n14:01,15:00,7\n15:01,23:59,X\n</code></pre>\n\n<p>File1 has raw data.<br>\nThe last column has a \"I\", \"O\" and a \"L\".<br>\nThe \"I\" stands for IN.<br>\nThe \"O\" stands for OUT.<br>\nThe \"L\" stands for LATE.<br></p>\n\n<p>This example has three students that have gone in or out of sites A, B or C.<br>\nNote, if they are \"L\" or LATE they are still going IN.</p>\n\n<p>File2 has \"site codes\".</p>\n\n<p>File3 has a first column stating the period_start_time and the second is the period_end_time.<br>\nThe third column is the period.</p>\n\n<p>I need to create a output.csv file:<br>\nWHERE,WHOM,PERIOD,DATE,TIME_IN,TIME_OUT,USERNAME</p>\n\n<p>WHERE = needs to be the corresponding site code from File2.<br>\nWHOM = is the person.<br>\nPERIOD = if the time is 10:38, then the period is \"3\", given by File3.<br>\nDATE = show time as 'mm/dd/yy'.<br>\nTIME_IN = show time as 'HH:MM' if the status is \"I\" or \"L\", leave blank if it doesn't.<br>\nTIME_OUT = show time as 'HH:MM' if the status is \"O\", leave blank if it doesn't.<br>\nUSERNAME = is hardcoded \"Username\".<br></p>\n\n<p>The output.csv file should read like this, given the example data above.<br>\n<br>\noutput.csv: (Reformatted Data)</p>\n\n<pre><code>101,Person1,3,01/13/16,10:38,,Username\n103,Person1,5,01/20/16,,12:53,Username\n102,Person2,7,01/21/16,,14:45,Username\n101,Person3,5,01/17/16,12:17,,Username\n102,Person3,3,01/25/16,10:15,,Username\n</code></pre>\n\n<p>Note the corresponding code in the first column.<br>\nAlso note the PERIOD, and the blanks for TIME_IN and TIME_OUT columns.<br></p>\n\n<hr>\n\n<p>Finally got it.</p>\n\n<pre><code>from datetime import datetime as dt\nimport csv\n\nclass TimePeriod:\n    def __init__(self, starttime, endtime, periodname):\n        self.starttime = starttime\n        self.endtime = endtime\n        self.periodname = periodname\n\ndef get_time_list(time_file):\n    timelist = list()\n    with open(time_file) as inputs:\n        for line in inputs:\n            starttime, endtime, periodname = line.strip().split(\",\")\n            timelist.append(TimePeriod(starttime, endtime, periodname))                \n    return timelist\n\ndef get_site_code_dict(site_code_file):\n    mydict = dict()\n    with open(site_code_file) as inputs:\n        for line in inputs:\n            site,code = line.strip().split(\",\")\n            mydict[site] = code\n    return mydict\n\ndef process_raw(raw_file, site_code_dict):\n    with open(raw_file) as inputs, open('ouput.csv', 'w') as outlist:\n        for line in inputs:\n            person, date_time, site, status = line.strip().split(\",\")\n            time_object = dt.strptime(date_time, '%m/%d/%y %H:%M')\n            date = time_object.strftime('%m/%d/%y')\n            time = time_object.strftime('%H:%M')\n            filteredlist = filter(lambda x: time &gt;= x.starttime and time &lt;= x.endtime, time_list)\n            outlist.write(site_code_dict[site]+',')\n            outlist.write(person+',')\n            outlist.write(date+',')\n            outlist.write(filteredlist[0].periodname+',')\n            if status == \"I\" or status == \"L\":\n                outlist.write(time+',')\n            else:\n                outlist.write(\"\"+',')\n            if status == \"O\":\n                outlist.write(time+',')\n            else:\n                outlist.write(\"\"+',')\n            outlist.write(\"Username\"+'\\n')\n    outlist.close()\n\n\nif __name__ == \"__main__\":\n    site_code_dict = get_site_code_dict(\"file2.csv\")\n    time_list = get_time_list(\"file3.csv\")\n    process_raw(\"file1.csv\", site_code_dict)\n</code></pre>\n\n<p>Output data from the csv file:</p>\n\n<pre><code>101,Person1,01/13/16,3,10:38,,Username\n103,Person1,01/20/16,5,,12:53,Username\n102,Person2,01/21/16,7,,14:45,Username\n101,Person3,01/17/16,5,12:17,,Username\n102,Person3,01/25/16,3,10:15,,Username\n</code></pre>\n\n<p>With the above code, I've got the columns in order.<br>\nThe 1st column has the correct code.<br>\nThe DATE column has the just the date in 'mm/dd/yy' format.<br>\nThe TIME_IN column has only military time, if the record is \"I\" or \"L\".<br>\nAnd the TIME_OUT column has military time time, if it is \"O\".<br>\nI have the period done, by using a \"class\" TimePeriod.</p>\n\n<p>Thanks for the help, as I am very much a novice.</p>\n"}, {"tags": ["python", "exception"], "comments": [{"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1476913678, "post_id": 40141971, "comment_id": 67554101, "body": "<code>print(dir(err))</code>"}, {"owner": {"reputation": 2347, "user_id": 6421708, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce02d68b03f4c80b23f59ea76bd29d74?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6421708/keith"}, "reply_to_user": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1476913910, "post_id": 40141971, "comment_id": 67554200, "body": "How about the error message.  I&#39;ll try what you gave me."}, {"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1476914111, "post_id": 40141971, "comment_id": 67554268, "body": "Have you tried <code>err.message</code>?"}, {"owner": {"reputation": 2347, "user_id": 6421708, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce02d68b03f4c80b23f59ea76bd29d74?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6421708/keith"}, "reply_to_user": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1476914120, "post_id": 40141971, "comment_id": 67554275, "body": "Oh... that wasn&#39;t an answer... I&#39;m fairly new to Python.  It appears that it prints out a Class description but I&#39;m not sure how to use that."}, {"owner": {"reputation": 2347, "user_id": 6421708, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce02d68b03f4c80b23f59ea76bd29d74?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6421708/keith"}, "reply_to_user": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1476914223, "post_id": 40141971, "comment_id": 67554305, "body": "Ummm check my original code ;) .  It prints the entire object.  I want to only pull out each component.  AKA.  The error ID 54 as one variable and Connection reset by peer&#39; as the other variable."}, {"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1476914305, "post_id": 40141971, "comment_id": 67554338, "body": "If you are looking for the message and error number and don&#39;t find <code>message</code> and <code>errno</code> interesting in the output of <code>dir()</code> I suggest reading the docs for the package."}, {"owner": {"reputation": 2347, "user_id": 6421708, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce02d68b03f4c80b23f59ea76bd29d74?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6421708/keith"}, "reply_to_user": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1476915152, "post_id": 40141971, "comment_id": 67554660, "body": "The docs for the package do not include this detail and I&#39;ve never used dir(object) before so I didn&#39;t know HOW to implement your idea.  Since then I&#39;ve been experimenting and it appears I can use the names directly.  Unfortunately err.errno contains None.  So other fields are also not helpful.  errno: None strerror: None args: (ProtocolError(&#39;Connection aborted.&#39;, error(54, &#39;Connection reset by peer&#39;)),) Request: None args: &lt;PreparedRequest [PUT]&gt;.  This leaves me with my original question.  How do I get the error number and message out separately."}, {"owner": {"reputation": 2347, "user_id": 6421708, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce02d68b03f4c80b23f59ea76bd29d74?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6421708/keith"}, "reply_to_user": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1476915239, "post_id": 40141971, "comment_id": 67554691, "body": "BTW:  This is what the docs say:  exception requests.ConnectionError(*args, **kwargs)[source] #A Connection error occurred."}, {"owner": {"reputation": 2347, "user_id": 6421708, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce02d68b03f4c80b23f59ea76bd29d74?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6421708/keith"}, "reply_to_user": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1476921308, "post_id": 40141971, "comment_id": 67556599, "body": "Please guys... not getting this to work yet."}], "answers": [{"tags": [], "owner": {"reputation": 2347, "user_id": 6421708, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce02d68b03f4c80b23f59ea76bd29d74?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6421708/keith"}, "is_accepted": false, "score": 0, "last_activity_date": 1476928353, "creation_date": 1476928353, "answer_id": 40144195, "question_id": 40141971, "link": "https://stackoverflow.com/questions/40141971/how-do-i-get-error-number-and-message-from-exception-from-requests-exceptions-co/40144195#40144195", "title": "How do I get Error Number and Message from exception from requests.exceptions.ConnectionError", "body": "<p>OK... after lots of effort.  Haven't worked with Python much.  I have found this answer. Not sure if it is the best answer but here I go.  I found that ConnectionError did not fill in the err.errno field and err.message had a string that looked like this:</p>\n\n<pre><code>('Connection aborted.', error(54, 'Connection reset by peer'))\n</code></pre>\n\n<p>Unfortunately, that string didn't behave correctly. The code below works.</p>\n\n<pre><code>except requests.exceptions.ConnectionError as err:\n    converted = tuple(err.args[0])[1]\n    errNum = convert[0]\n    errStr = convert[1]\n</code></pre>\n\n<p>Now I have the error number and message from the exception.  If you guys can think of a better way to do this let me know.  Thanks!</p>\n"}], "owner": {"reputation": 2347, "user_id": 6421708, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce02d68b03f4c80b23f59ea76bd29d74?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6421708/keith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476928353, "creation_date": 1476913296, "question_id": 40141971, "link": "https://stackoverflow.com/questions/40141971/how-do-i-get-error-number-and-message-from-exception-from-requests-exceptions-co", "title": "How do I get Error Number and Message from exception from requests.exceptions.ConnectionError", "body": "<p>When I do this:</p>\n\n<pre><code>except requests.exceptions.ConnectionError as err:\n    print 'CE: ' + str( err )\n    print 'T: ' + str( type( err ))\n    print err.message\n</code></pre>\n\n<p>It prints:</p>\n\n<pre><code>CE: ('Connection aborted.', error(54, 'Connection reset by peer'))\nT: (class 'requests.exceptions.ConnectionError')\n('Connection aborted.', error(54, 'Connection reset by peer'))\n</code></pre>\n\n<p>I want to get the error and the message as separate items.</p>\n\n<pre><code>errCode = err[1][0]\nerrMsg = err[1][1]\n</code></pre>\n\n<p>I thought this was originally a Tuple but it seams to be a class.  I can't find the class documented with what member functions that it might have.  Is there a way to get those two components?</p>\n"}, {"tags": ["python", "pandas", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 2, "creation_date": 1476917717, "post_id": 40141954, "comment_id": 67555549, "body": "Try to avoid using <code>.apply()</code> method as it&#39;s usually pretty slow. This would do the trick: <code>df.ORG.astype(str).str[-2:].str.zfill(2)</code>"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1476917859, "post_id": 40141954, "comment_id": 67555584, "body": "@MaxU That&#39;s a good one. Thanks for noting. I&#39;m only starting to pick up speed with pandas :)"}, {"owner": {"reputation": 4797, "user_id": 2201603, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/PDTrS.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/2201603/dave"}, "edited": false, "score": 0, "creation_date": 1476918114, "post_id": 40141954, "comment_id": 67555663, "body": "Thanks Moses. The zfill advise is great!  I&#39;ve never used it but it definitely will come in handy!  Also thanks, MaxU.  I&#39;ve got a lot of apply functions that I will be converting."}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 1, "last_activity_date": 1476913763, "last_edit_date": 1476913763, "creation_date": 1476913224, "answer_id": 40141954, "question_id": 40141895, "link": "https://stackoverflow.com/questions/40141895/how-to-do-a-substring-using-pandas-or-numpy/40141954#40141954", "title": "How to do a substring using pandas or numpy", "body": "<p>Your square braces are not matching and you can easily slice with <code>[-2:]</code>.</p>\n\n<p><em>apply</em> <code>str.zfill</code> with a width of 2 to pad the items in the new series:</p>\n\n<pre><code>&gt;&gt;&gt; import pandas as pd\n&gt;&gt;&gt; ld = [{'REGION': '4', 'ORG': '413'}, {'REGION': '4', 'ORG': '414'}]\n&gt;&gt;&gt; df = pd.DataFrame(ld)\n&gt;&gt;&gt; df\n   ORG REGION\n0  413      4\n1  414      4\n&gt;&gt;&gt; df['UNIT'] = df['ORG'].str[-2:].apply(str.zfill, args=(2,))\n&gt;&gt;&gt; df\n   ORG REGION UNIT\n0  413      4   13\n1  414      4   14\n2    3      4   03\n</code></pre>\n"}], "owner": {"reputation": 4797, "user_id": 2201603, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/PDTrS.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/2201603/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 40141954, "answer_count": 1, "score": 1, "last_activity_date": 1476913763, "creation_date": 1476912905, "question_id": 40141895, "link": "https://stackoverflow.com/questions/40141895/how-to-do-a-substring-using-pandas-or-numpy", "title": "How to do a substring using pandas or numpy", "body": "<p>I'm trying to do a substring on data from column \"ORG\".  I only need the 2nd and 3rd character.  So for 413 I only need 13.  I've tried the following:</p>\n\n<pre><code>Attempt 1:  dr2['unit'] = dr2[['ORG']][1:2]\nAttempt 2:  dr2['unit'] = dr2[['ORG'].str[1:2]\nAttempt 3:  dr2['unit'] = dr2[['ORG'].str([1:2])\n</code></pre>\n\n<p>My dataframe:</p>\n\n<pre><code>    REGION  ORG\n90       4  413\n91       4  413\n92       4  413\n93       5  503\n94       5  503\n95       5  503\n96       5  503\n97       5  504\n98       5  504\n99       1  117\n100      1  117\n101      1  117\n102      1  117\n103      1  117\n104      1  117\n105      1  117\n106      3    3\n107      3    3\n108      3    3\n109      3    3\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>    REGION  ORG  UNIT\n90       4  413  13\n91       4  413  13\n92       4  413  13\n93       5  503  03\n94       5  503  03\n95       5  503  03\n96       5  503  03\n97       5  504  04\n98       5  504  04\n99       1  117  17\n100      1  117  17\n101      1  117  17\n102      1  117  17\n103      1  117  17\n104      1  117  17\n105      1  117  17\n106      3    3  03\n107      3    3  03\n108      3    3  03\n109      3    3  03\n</code></pre>\n\n<p>thanks for any and all help!</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1476913970, "post_id": 40142095, "comment_id": 67554219, "body": "are you using 0.19?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 2, "creation_date": 1476914081, "post_id": 40142095, "comment_id": 67554257, "body": "I just tested in on 0.19 and 0.18.1 with same results"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 2, "creation_date": 1476914785, "post_id": 40142095, "comment_id": 67554522, "body": "@piRSquared, i might be wrong but it could be result of <a href=\"https://github.com/pandas-dev/pandas/blob/master/pandas/core/groupby.py#L2831\" rel=\"nofollow noreferrer\">this downcasting</a>"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 3, "last_activity_date": 1476914009, "last_edit_date": 1476914009, "creation_date": 1476913848, "answer_id": 40142095, "question_id": 40141881, "link": "https://stackoverflow.com/questions/40141881/pandas-groupby-transform-behaving-differently-with-seemingly-equivalent-represen/40142095#40142095", "title": "pandas groupby transform behaving differently with seemingly equivalent representations", "body": "<p>It looks like a bug to me:</p>\n\n<pre><code>In [19]: df.groupby('A').transform(lambda x: x.sum())\nOut[19]:\n   B\n0  1\n1  1\n\nIn [20]: df.groupby('A').transform(lambda x: len(x))\nOut[20]:\n   B\n0  2\n1  2\n\nIn [21]: df.groupby('A').transform(lambda x: x.sum()/len(x))\nOut[21]:\n   B\n0  0\n1  0\n</code></pre>\n\n<p>PS Pandas version: 0.19.0</p>\n"}], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 40142095, "answer_count": 1, "score": 3, "last_activity_date": 1476914009, "creation_date": 1476912858, "question_id": 40141881, "link": "https://stackoverflow.com/questions/40141881/pandas-groupby-transform-behaving-differently-with-seemingly-equivalent-represen", "title": "pandas groupby transform behaving differently with seemingly equivalent representations", "body": "<p>consider the <code>df</code></p>\n\n<pre><code>df = pd.DataFrame(dict(A=['a', 'a'], B=[0, 1]))\n</code></pre>\n\n<p>I expected the following two formulations to be equivalent.</p>\n\n<p><strong><em>formulation 1</em></strong>  </p>\n\n<pre><code>df.groupby('A').transform(np.mean)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/euRkW.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/euRkW.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>formulation 2</em></strong></p>\n\n<pre><code>df.groupby('A').transform(lambda x: np.mean(x))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/18pe5.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/18pe5.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'd consider the results from <strong><em>formulation 2</em></strong> incorrect.  But before I go crying <em>bug</em> maybe someone has a rational explanation for it.</p>\n"}, {"tags": ["python", "proxy", "request", "python-requests"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1476912884, "post_id": 40141876, "comment_id": 67553772, "body": "What url caused the error or is it different each time?"}, {"owner": {"reputation": 2624, "user_id": 6840039, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bbe8da8fb805e0564d583715d6addb74?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Petrov", "link": "https://stackoverflow.com/users/6840039/petr-petrov"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1476913268, "post_id": 40141876, "comment_id": 67553936, "body": "@PadraicCunningham It different each time"}, {"owner": {"reputation": 2624, "user_id": 6840039, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bbe8da8fb805e0564d583715d6addb74?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Petrov", "link": "https://stackoverflow.com/users/6840039/petr-petrov"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1476913431, "post_id": 40141876, "comment_id": 67554008, "body": "@PadraicCunningham is any way to solve this problem?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1476914144, "post_id": 40141876, "comment_id": 67554283, "body": "I have had this a few times, adding a sleep did not matter either, I just had a method with a try/except that caught the error, I waited 30 seconds and kept trying in a while loop at most five times then sleeping again if not successful and logging any errors."}, {"owner": {"reputation": 2624, "user_id": 6840039, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bbe8da8fb805e0564d583715d6addb74?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Petrov", "link": "https://stackoverflow.com/users/6840039/petr-petrov"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1476914983, "post_id": 40141876, "comment_id": 67554589, "body": "@PadraicCunningham and error will dissapear?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1476915213, "post_id": 40141876, "comment_id": 67554679, "body": "No it won&#39;t disappear, you need to catch the error and retry but doing so should get through all your urls."}], "owner": {"reputation": 2624, "user_id": 6840039, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bbe8da8fb805e0564d583715d6addb74?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Petrov", "link": "https://stackoverflow.com/users/6840039/petr-petrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 700, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476912837, "creation_date": 1476912837, "question_id": 40141876, "link": "https://stackoverflow.com/questions/40141876/python-requests-exceptions-connectionerror-connection-aborted-error10054", "title": "Python: requests.exceptions.ConnectionError: (&#39;Connection aborted.&#39;, error(10054, &#39;&#39;))", "body": "<p>I try to get content from a lot of urls. The part of data looks like</p>\n\n<pre><code>avito.ru/morozovsk/avtomobili/honda_accord_1998_799656153\navito.ru/donetck/avtomobili/honda_accord_2000_829068734\navito.ru/donetck/avtomobili/honda_accord_2000_829068734\navito.ru/taganrog/avtomobili/volkswagen_passat_1997_839237476\navito.ru/volgodonsk/avtomobili/volkswagen_golf_1993_657720225\navito.ru/volgodonsk/avtomobili/volkswagen_golf_1993_657720225\navito.ru/volgodonsk/avtomobili/volkswagen_golf_1993_657720225\navito.ru/volgodonsk/avtomobili/volkswagen_golf_1993_657720225\navito.ru/taganrog/avtomobili/peugeot_206_2008_818743294\n</code></pre>\n\n<p>I use</p>\n\n<pre><code>    url = 'https://' + url\n    headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1667.0 Safari/537.36'}\n    response = requests.get(url, headers=headers, timeout=5)\n    page = response.content\n</code></pre>\n\n<p>But in the middle of the processing it returns me an error <code>requests.exceptions.ConnectionError: ('Connection aborted.', error(10054, ''))</code>.\nI tried to use <code>time.sleep(10)</code> to solve this problem. but it didn't help.\nWhat should I use to solve this? maybe proxies can help me?</p>\n"}, {"tags": ["android", "python", "kivy"], "comments": [{"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1477433721, "post_id": 40141863, "comment_id": 67763893, "body": "What kind of service is it? New style or old style?"}], "owner": {"reputation": 533, "user_id": 2146414, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6aa31bda323666c4a65f4f03a07420d9?s=128&d=identicon&r=PG", "display_name": "user2146414", "link": "https://stackoverflow.com/users/2146414/user2146414"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 393, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476912755, "creation_date": 1476912755, "question_id": 40141863, "link": "https://stackoverflow.com/questions/40141863/using-kivy-plyers-vibrate-from-android-service", "title": "Using kivy plyer&#39;s vibrate from android service", "body": "<p>I tried using plyer vibrate from main applicatin and it works as expected. But when I try to vibrate (the same with notification) from an android service then application crashes with SIGSEGV. I've tested it on two devices: lonovo tab (stack trace below) and on xperia z. In both cases I get SIGSEGV only the stack trace is a little bit different.</p>\n\n<p>Can I use vibration/notification from within a service?\nIf I can then what to do with the SIGSEGV?</p>\n\n<pre><code>F/libc    ( 6826): Fatal signal 11 (SIGSEGV) at 0x00000000 (code=1), thread 6844 (Thread-1725)\nI/DEBUG   (  164): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\nI/DEBUG   (  164): Build fingerprint: 'Lenovo/S8-50L/S8-50L:4.4.2/BMAIN/S8-50L_S000200_150121_ROW:user/release-keys'\nI/DEBUG   (  164): Revision: '0'\nI/DEBUG   (  164): pid: 6826, tid: 6844, name: Thread-1725  &gt;&gt;&gt; com.myapp:PythonService &lt;&lt;&lt;\nI/DEBUG   (  164): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 00000000\nI/DEBUG   (  164):     eax 1a117560  ebx 79bbbd08  ecx 00000000  edx 000000dc\nI/DEBUG   (  164):     esi 1a115030  edi 79aaf970\nI/DEBUG   (  164):     xcs 00000073  xds 0000007b  xes 0000007b  xfs 00000043  xss 0000007b\nI/DEBUG   (  164):     eip 7857ea75  ebp 79bbbcf8  esp 79bbba80  flags 00210287\nI/DEBUG   (  164): \nI/DEBUG   (  164): backtrace:\nI/DEBUG   (  164):     #00  pc 00198a75  /system/lib/libhoudini.so.4.0.8.45720\nI/DEBUG   (  164): \nI/DEBUG   (  164): stack:\nI/DEBUG   (  164):          79bbba40  00000000  \nI/DEBUG   (  164):          79bbba44  00000000  \nI/DEBUG   (  164):          79bbba48  00000000  \nI/DEBUG   (  164):          79bbba4c  00000000  \nI/DEBUG   (  164):          79bbba50  00000000  \nI/DEBUG   (  164):          79bbba54  00000000  \nI/DEBUG   (  164):          79bbba58  00000000  \nI/DEBUG   (  164):          79bbba5c  00000000  \nI/DEBUG   (  164):          79bbba60  00000000  \nI/DEBUG   (  164):          79bbba64  00000000  \nI/DEBUG   (  164):          79bbba68  79bbba88  [stack:6844]\nI/DEBUG   (  164):          79bbba6c  7857dcec  /system/lib/libhoudini.so.4.0.8.45720\nI/DEBUG   (  164):          79bbba70  1a117648  [stack:6840]\nI/DEBUG   (  164):          79bbba74  00000000  \nI/DEBUG   (  164):          79bbba78  79bbbcf8  [stack:6844]\nI/DEBUG   (  164):          79bbba7c  7857e792  /system/lib/libhoudini.so.4.0.8.45720\nI/DEBUG   (  164):     #00  79bbba80  00000000  \nI/DEBUG   (  164):          79bbba84  78876ce0  \nI/DEBUG   (  164):          79bbba88  79bbbb78  [stack:6844]\nI/DEBUG   (  164):          79bbba8c  7857be8e  /system/lib/libhoudini.so.4.0.8.45720\nI/DEBUG   (  164):          79bbba90  79ab0160  \nI/DEBUG   (  164):          79bbba94  79bbbb00  [stack:6844]\nI/DEBUG   (  164):          79bbba98  00000068  \nI/DEBUG   (  164):          79bbba9c  00000000  \nI/DEBUG   (  164):          79bbbaa0  0000b30d  \nI/DEBUG   (  164):          79bbbaa4  00000000  \nI/DEBUG   (  164):          79bbbaa8  00000000  \nI/DEBUG   (  164):          79bbbaac  0000e440  \nI/DEBUG   (  164):          79bbbab0  00008180  \nI/DEBUG   (  164):          79bbbab4  00000001  \nI/DEBUG   (  164):          79bbbab8  00002779  \nI/DEBUG   (  164):          79bbbabc  00002779  \n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1476917285, "post_id": 40142490, "comment_id": 67555419, "body": "My data is actually available already separated by <code>sensor</code>.. I guess it&#39;d be simpler to grab this one separately, do my manipulating, then <code>merge</code> the results.  Still curious if there&#39;s a nice way to do this though!"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 1, "last_activity_date": 1476917001, "last_edit_date": 1476917001, "creation_date": 1476915795, "answer_id": 40142490, "question_id": 40141856, "link": "https://stackoverflow.com/questions/40141856/how-can-i-manipulate-strings-in-a-slice-of-a-pandas-multiindex/40142490#40142490", "title": "How can I manipulate strings in a slice of a pandas MultiIndex", "body": "<p>I found the following method, but i think/hope there must be a more elegant way to achieve that:</p>\n\n<pre><code>In [101]: index_saved = df.index\n</code></pre>\n\n<p>Let's sort index in order to get rid of <code>KeyError: 'MultiIndex Slicing requires the index to be fully lexsorted tuple len (3), lexsort depth (0)'</code> error:</p>\n\n<pre><code>In [102]: df = df.sort_index()\n\nIn [103]: df\nOut[103]:\n                              metric\nsensor variable side\nbar    Speed    Left      Left_Speed\n                Right    Right_Speed\n       Support  Left    Left_support\n                Right  Right_support\nbaz    Speed    Left           speed\n       Support  Left         support\nfoo    Speed    Left      Left speed\n                Right    Right speed\n       Support  Left    Left support\n                Right  Right support\n\nIn [119]: df.loc[pd.IndexSlice['baz', :, 'Left'], 'metric'] = \\\n     ...:     'AAA__' + df.loc[pd.IndexSlice['baz', :, 'Left'], 'metric']\n\nIn [120]: df\nOut[120]:\n                              metric\nsensor variable side\nbar    Speed    Left      Left_Speed\n                Right    Right_Speed\n       Support  Left    Left_support\n                Right  Right_support\nbaz    Speed    Left      AAA__speed\n       Support  Left    AAA__support\nfoo    Speed    Left      Left speed\n                Right    Right speed\n       Support  Left    Left support\n                Right  Right support\n</code></pre>\n\n<p>set back old (saved) index:</p>\n\n<pre><code>In [121]: df = df.reindex(index_saved)\n\nIn [122]: df\nOut[122]:\n                              metric\nsensor variable side\nfoo    Speed    Left      Left speed\n                Right    Right speed\nbar    Speed    Left      Left_Speed\n                Right    Right_Speed\nbaz    Speed    Left      AAA__speed\nfoo    Support  Left    Left support\n                Right  Right support\nbar    Support  Left    Left_support\n                Right  Right_support\nbaz    Support  Left    AAA__support\n</code></pre>\n"}], "owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 40142490, "answer_count": 1, "score": 2, "last_activity_date": 1476917001, "creation_date": 1476912712, "question_id": 40141856, "link": "https://stackoverflow.com/questions/40141856/how-can-i-manipulate-strings-in-a-slice-of-a-pandas-multiindex", "title": "How can I manipulate strings in a slice of a pandas MultiIndex", "body": "<p>I have a <code>MultiIndex</code> like this:</p>\n\n<pre><code>                                 metric\nsensor  variable   side  \nfoo        Speed   Left      Left speed\n                  Right     Right speed\nbar        Speed   Left      Left_Speed\n                  Right     Right_Speed\nbaz        Speed   Left           speed\nfoo      Support   Left    Left support\n                  Right   Right support\nbar      Support   Left    Left_support\n                  Right   Right_support\nbaz      Support   Left         support\n</code></pre>\n\n<p>I'm trying to apply a string mapping to a slice of this dataframe:</p>\n\n<pre><code>df.loc['baz',:,'Left'].metric.map(lambda s: \"Left_\" + s)\n</code></pre>\n\n<p>How can I apply this map to just the <code>baz-Left</code> rows, and get back the resulting <code>DataFrame</code>?</p>\n\n<pre><code>                                 metric\nsensor  variable   side  \nfoo        Speed   Left      Left speed\n                  Right     Right speed\nbar        Speed   Left      Left_Speed\n                  Right     Right_Speed\nbaz        Speed   Left      Left_speed\nfoo      Support   Left    Left support\n                  Right   Right support\nbar      Support   Left    Left_support\n                  Right   Right_support\nbaz      Support   Left    Left_support\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1084, "user_id": 2215738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b7a5f9b4d3d4bedb8202c993029f4f3e?s=128&d=identicon&r=PG", "display_name": "Muyide Ibukun", "link": "https://stackoverflow.com/users/2215738/muyide-ibukun"}, "edited": false, "score": 0, "creation_date": 1476913541, "post_id": 40141828, "comment_id": 67554057, "body": "Do you try using &#39;.&#39; in front of the from <code>models import MyModel</code> the models should be <code>.models import MyModel</code>"}, {"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 1, "creation_date": 1476913939, "post_id": 40141828, "comment_id": 67554213, "body": "If you&#39;re using Django and need to run some scripts within the context of your app you should use management commands: <a href=\"https://docs.djangoproject.com/en/1.10/howto/custom-management-commands/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.10/howto/custom-management-comma&zwnj;&#8203;nds</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "is_accepted": false, "score": 1, "last_activity_date": 1476913108, "creation_date": 1476913108, "answer_id": 40141935, "question_id": 40141828, "link": "https://stackoverflow.com/questions/40141828/django-importerror-no-module-named-x-settings/40141935#40141935", "title": "Django ImportError No module named x.settings", "body": "<p>You need to make sure the root of your project is in python path when you run the script. Something like this might help.</p>\n\n<pre>\nimport os\nimport sys\nprojpath = os.path.dirname(__file__)\nsys.path.append(os.path.join(projpath, '..'))\n</pre>\n"}], "owner": {"reputation": 512, "user_id": 1230911, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/6BVSY.jpg?s=128&g=1", "display_name": "enrm", "link": "https://stackoverflow.com/users/1230911/enrm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476913108, "creation_date": 1476912625, "last_edit_date": 1476912898, "question_id": 40141828, "link": "https://stackoverflow.com/questions/40141828/django-importerror-no-module-named-x-settings", "title": "Django ImportError No module named x.settings", "body": "<p>I have the following structure:</p>\n\n<pre><code>mysite\n  -&gt; manage.py\n  -&gt; mysite (again)\n        -&gt; __init__.py\n        -&gt; wsgi.py\n        -&gt; settings.py\n         etc\n  -&gt; myapp\n        -&gt; __init__.py            \n        -&gt; myscript.py\n        -&gt; models.py\n        etc\n</code></pre>\n\n<p>When I run a script from myapp (that does myapp-related things, putting stuff in a the database for example) i need to do </p>\n\n<pre><code>import django\ndjango.setup()\n</code></pre>\n\n<p>in order to be able to <code>from models import MyModel</code>. But if i do this in the myapp directory, I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Python27\\lib\\site-packages\\django\\__init__.py\", line 22, in setup\n    configure_logging(settings.LOGGING_CONFIG, settings.LOGGING)\n  File \"C:\\Python27\\lib\\site-packages\\django\\conf\\__init__.py\", line 53, in __getattr__\n    self._setup(name)\n  File \"C:\\Python27\\lib\\site-packages\\django\\conf\\__init__.py\", line 41, in _setup\n    self._wrapped = Settings(settings_module)\n  File \"C:\\Python27\\lib\\site-packages\\django\\conf\\__init__.py\", line 97, in __init__\n    mod = importlib.import_module(self.SETTINGS_MODULE)\n  File \"C:\\Python27\\lib\\importlib\\__init__.py\", line 37, in import_module\n    __import__(name)\nImportError: No module named mysite.settings\n</code></pre>\n\n<p>Which I kind of understand since it's further up the directory tree and not in the  same directory as e.g <code>manage.py</code> (the root I guess?). When I issue a python interpreter in mysite where <code>manage.py</code> is located, I dont get this error.</p>\n\n<p>What should I do to be able to place my scripts in myapp and still be able to use <code>django.setup()</code> from that dir? </p>\n"}, {"tags": ["python", "postgresql", "heroku", "salesforce", "psycopg2"], "comments": [{"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "edited": false, "score": 0, "creation_date": 1476918638, "post_id": 40141786, "comment_id": 67555835, "body": "Can you show how the column is defined in the table? According to <a href=\"https://learn.capstorm.com/copystorm-menu/storm-frequently-asked-questions/item/165-copystorm-faq-datatype-mapping\" rel=\"nofollow noreferrer\">this</a> MULTIPICKLIST should be represented as VARCHAR in the database, but in your example it looks more like an array"}, {"owner": {"reputation": 226, "user_id": 5491493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ac6814d9b57c1b6f6a199c076941e1?s=128&d=identicon&r=PG&f=1", "display_name": "friendoflore", "link": "https://stackoverflow.com/users/5491493/friendoflore"}, "reply_to_user": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "edited": false, "score": 0, "creation_date": 1476919214, "post_id": 40141786, "comment_id": 67555998, "body": "I actually saw that resource, thanks! On Heroku, the type is explicitly defined as &quot;multipicklist&quot;, but this might be to play nice with Salesforce. Selecting the column unconditionally yielded some interesting results: iterating over the data and printing the values  (<code>for x in data: print x</code>) acted like iterating over characters in a string. But it actually returned a tuple object, which I learned trying to manipulate it. So my related question: how do you query the like above knowing the <code>multipicklist</code> is treated as a tuple?"}, {"owner": {"reputation": 226, "user_id": 5491493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ac6814d9b57c1b6f6a199c076941e1?s=128&d=identicon&r=PG&f=1", "display_name": "friendoflore", "link": "https://stackoverflow.com/users/5491493/friendoflore"}, "reply_to_user": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "edited": false, "score": 0, "creation_date": 1476919380, "post_id": 40141786, "comment_id": 67556048, "body": "And the final example I tried above (with <code>ANY()</code>) explicitly said it was invalid because the <code>multipicklist</code> is not an array."}, {"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "edited": false, "score": 0, "creation_date": 1476920675, "post_id": 40141786, "comment_id": 67556422, "body": "There is no postgresql inbuilt column type called &#39;MULTIPICKLIST&#39;. Although it is possible to define custom types, I&#39;d say it is unlikely that is the case. Try connecting to the database using psql (postgresql SQL CLI) and use command <code>\\d salesforce.custom__c</code> to see how the table is defined. Add that output to the question"}], "answers": [{"tags": [], "owner": {"reputation": 11627, "user_id": 10138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6819c2bab7a21ef6e1a8fcb982cc1459?s=128&d=identicon&r=PG", "display_name": "piro", "link": "https://stackoverflow.com/users/10138/piro"}, "is_accepted": false, "score": 0, "last_activity_date": 1477420508, "creation_date": 1477420508, "answer_id": 40247251, "question_id": 40141786, "link": "https://stackoverflow.com/questions/40141786/how-to-query-multipicklist-type-on-postgres/40247251#40247251", "title": "How to query &quot;Multipicklist&quot; type on Postgres", "body": "<p>You have to write your own typecaster. See the docs about <a href=\"http://initd.org/psycopg/docs/advanced.html#type-casting-of-sql-types-into-python-objects\" rel=\"nofollow\">type casting</a>. Maybe you can get away with just creating a new <a href=\"http://initd.org/psycopg/docs/extensions.html#psycopg2.extensions.new_array_type\" rel=\"nofollow\">array type caster</a> on a base type already handled.</p>\n"}], "owner": {"reputation": 226, "user_id": 5491493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ac6814d9b57c1b6f6a199c076941e1?s=128&d=identicon&r=PG&f=1", "display_name": "friendoflore", "link": "https://stackoverflow.com/users/5491493/friendoflore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477420508, "creation_date": 1476912453, "last_edit_date": 1476912781, "question_id": 40141786, "link": "https://stackoverflow.com/questions/40141786/how-to-query-multipicklist-type-on-postgres", "title": "How to query &quot;Multipicklist&quot; type on Postgres", "body": "<p>I am working on Heroku Connect (integrated with Salesforce). One of my columns has the type of \"Multipicklist\".</p>\n\n<p>I am working in Python, so using psycopg2.</p>\n\n<p>What is the correct way for querying, matching a single variable value in a multipicklist type column?</p>\n\n<p>An example is:</p>\n\n<p>Say <code>custom__c</code> has column called <code>multipicklistcol__c</code>.\nI have some <code>custom__c</code> row with <code>multipicklistcol__c</code> values of <code>{'A','B','C'}</code>.</p>\n\n<p>If I have a variable <code>param = 'A'</code>, how do I select my <code>custom__c</code> row using <code>param</code>?</p>\n\n<p>I have tried a few different approaches, none of which work for me:</p>\n\n<pre><code>cur.execute(\"\"\"SELECT name, sfid FROM salesforce.custom__c WHERE (%s) &lt;@ multipicklistcol__c;\"\"\", (param, ))\n\ncur.execute(\"\"\"SELECT name, sfid FROM salesforce.custom__c WHERE (%s) IN multipicklistcol__c;\"\"\", (param, ))\n\ncur.execute(\"\"\"SELECT name, sfid FROM salesforce.custom__c WHERE multipicklistcol__c includes (%s);\"\"\", (param, ))\n\ncur.execute(\"\"\"SELECT name, sfid FROM salesforce.custom__c WHERE (%s) = ANY(multipicklistcol__c)\"\"\", (param, ))\n</code></pre>\n"}, {"tags": ["python", "algorithm", "memoization", "subset-sum"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 1, "creation_date": 1476912833, "post_id": 40141753, "comment_id": 67553749, "body": "This recursive algorithm is creating a tree of all possible solutions by starting with the total and substracting values, and only returning <code>1</code> (adds up all the branches) if it subtracts exactly into the total (i.e. ends at <code>0</code>). For large numbers this might struggle to complete within pythons standard recursion depth."}], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1476914524, "post_id": 40142157, "comment_id": 67554415, "body": "Do not use the <code>list()</code> wrapping inside the <code>my_combinations</code> definition; it needlessly realizes all the sets of combinations in memory when you only need to iterate them once, one at a time anyway. For smallish inputs, it&#39;s not terrible, but combinations have big-O based on the factorial of the input, and even slightly larger inputs could use up all your RAM. Omitting the <code>list</code> means you only need to spend CPU, not memory, for processing the rejected items."}, {"owner": {"reputation": 1172, "user_id": 4621508, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7edbd50ad77354c926f108838b77b938?s=128&d=identicon&r=PG&f=1", "display_name": "rumdrums", "link": "https://stackoverflow.com/users/4621508/rumdrums"}, "edited": false, "score": 0, "creation_date": 1477454856, "post_id": 40142157, "comment_id": 67769135, "body": "Thanks for the answer. Unfortunately it doesn&#39;t offer memoization -- I just edited my original question to try and make that requirement clearer, as it wasn&#39;t obvious initially."}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1476914645, "last_edit_date": 1476914645, "creation_date": 1476914143, "answer_id": 40142157, "question_id": 40141753, "link": "https://stackoverflow.com/questions/40141753/getting-combinations-back-from-memoized-subset-sum-algorithm/40142157#40142157", "title": "Getting combinations back from memoized subset-sum algorithm?", "body": "<p>You may simplify your problem using <a href=\"https://docs.python.org/2/library/itertools.html#itertools.combinations\" rel=\"nofollow\"><code>itertools.combinations()</code></a> as:</p>\n\n<pre><code>&gt;&gt;&gt; from itertools import combinations\n&gt;&gt;&gt; s = 6\n&gt;&gt;&gt; my_list = range(1, s)\n# Value of 'my_list':\n# [1, 2, 3, 4, 5]\n\n&gt;&gt;&gt; my_combinations = [combinations(my_list, i) for i in range(2, s)]\n# Value of 'my_combinations' (in actual will be containg &lt;combinations&gt; objects):\n# [[(1, 2), (1, 3), (1, 4), (1, 5), (2, 3), (2, 4), (2, 5), (3, 4), (3, 5), (4, 5)], [(1, 2, 3), (1, 2, 4), (1, 2, 5), (1, 3, 4), (1, 3, 5), (1, 4, 5), (2, 3, 4), (2, 3, 5), (2, 4, 5), (3, 4, 5)], [(1, 2, 3, 4), (1, 2, 3, 5), (1, 2, 4, 5), (1, 3, 4, 5), (2, 3, 4, 5)], [(1, 2, 3, 4, 5)]]\n\n&gt;&gt;&gt; my_required_set = [my_set for my_sublist in my_combinations for my_set in my_sublist if sum(my_set) == s]\n&gt;&gt;&gt; my_required_set\n[(1, 5), (2, 4), (1, 2, 3)]\n</code></pre>\n"}], "owner": {"reputation": 1172, "user_id": 4621508, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7edbd50ad77354c926f108838b77b938?s=128&d=identicon&r=PG&f=1", "display_name": "rumdrums", "link": "https://stackoverflow.com/users/4621508/rumdrums"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477454764, "creation_date": 1476912237, "last_edit_date": 1477454764, "question_id": 40141753, "link": "https://stackoverflow.com/questions/40141753/getting-combinations-back-from-memoized-subset-sum-algorithm", "title": "Getting combinations back from memoized subset-sum algorithm?", "body": "<p>I've been working on a basic subset sum problem. Given a sum, let's say 6, and the numbers [1,2,3,4,5,6]), I had to find the total number of combinations that totalled s (for s=6: [1,5], [2,4], [1,2,3]). </p>\n\n<p>I've been able to solve this with brute force haven't been able to find a way to memoize it, so my code is unworkable for sufficiently large values of n.</p>\n\n<p>I found a memoized algorithm <a href=\"http://www.markandclick.com/advance.html#SubsetSum\" rel=\"nofollow\">here</a> that works quite well, but it only gives me the number of combinations (so, for s = 6, the number of combinations would be 3) -- not the combinations themselves. Is it possible to both memoize this problem (so that I can run it for very large values of s) <strong>and</strong> be able to output the combinations themselves?</p>\n"}, {"tags": ["python", "qt", "pipe"], "answers": [{"tags": [], "owner": {"reputation": 7687, "user_id": 3220983, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ypq01.jpg?s=128&g=1", "display_name": "BuvinJ", "link": "https://stackoverflow.com/users/3220983/buvinj"}, "is_accepted": false, "score": 0, "last_activity_date": 1476922848, "creation_date": 1476922848, "answer_id": 40143542, "question_id": 40141745, "link": "https://stackoverflow.com/questions/40141745/named-pipe-unknown-error-python-to-qt-c/40143542#40143542", "title": "Named pipe unknown error - Python to Qt C++", "body": "<p>Well, I solved my problem in another way.  I simply reversed my client/server logic!  </p>\n\n<p>I created a pipe server in Python and used QLocalSocket on the Qt end to send and receive messages as a pipe client.  That all worked right out of the gate for me.  The drawback was having to write a whole lot more code.  </p>\n\n<p>In my use case, it actually makes more sense this way, but the first way would have taken a fraction of the lines to implement (at least in Python, it's about the same in Qt).  Note that my Python side included the create pipe code I posted in my question as a sample of what worked as a server to my python client that failed with the Qt server. I didn't do anything special with QLocalSocket, it's default properties worked fine.</p>\n"}], "owner": {"reputation": 7687, "user_id": 3220983, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ypq01.jpg?s=128&g=1", "display_name": "BuvinJ", "link": "https://stackoverflow.com/users/3220983/buvinj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476922848, "creation_date": 1476912188, "last_edit_date": 1476913107, "question_id": 40141745, "link": "https://stackoverflow.com/questions/40141745/named-pipe-unknown-error-python-to-qt-c", "title": "Named pipe unknown error - Python to Qt C++", "body": "<p>I am trying to communicate between Qt 5.4 C++ and Python 2.7 by way of a named pipe.  I have it partially working, but there is some incompatibility I'm encountering.</p>\n\n<p>On the Qt side, I have a QLocalServer object:</p>\n\n<pre><code>QLocalServer *localServer_;\n</code></pre>\n\n<p>After I instantiate, I starting listening on the pipe and connect the signal/slot for newConnection</p>\n\n<pre><code>if( localServer_-&gt;listen( settings_.localMessagePipeName() ) )\n        connect( localServer_, SIGNAL( newConnection() ),\n                 this,           SLOT( newServerConnection() ), Qt::DirectConnection );\n    else\n        qDebug() &lt;&lt; \"server listen error!\";\n</code></pre>\n\n<p>My connection handler looks like this:</p>\n\n<pre><code>void newServerConnection()\n{\n    qDebug() &lt;&lt; \"pipeConnected\";\n    QLocalSocket *clientConnection = localServer_-&gt;nextPendingConnection();\n    connect( clientConnection, SIGNAL( disconnected() ),\n             clientConnection,   SLOT( deleteLater() ) );\n\n    qDebug() &lt;&lt; clientConnection-&gt;error();\n\n    qDebug() &lt;&lt; clientConnection-&gt;readAll();\n\n    clientConnection-&gt;write( \"TEST\" );\n    clientConnection-&gt;flush();\n    clientConnection-&gt;disconnectFromServer();\n}\n</code></pre>\n\n<p>In Python, I send a message down the pipe like this:</p>\n\n<pre><code>response = win32pipe.CallNamedPipe( pipeName, request, 512, 0 )\n</code></pre>\n\n<p>My Qt connection handler fires off.  Data is definitely coming down the pipe.  But, here's where it falls apart.  This is the output I get in Qt:</p>\n\n<pre><code>pipeConnected\nQLocalSocket::UnknownSocketError\n\"\"\n</code></pre>\n\n<p>Note that empty string should have my random testing request value I sent from Python.</p>\n\n<p>On the python end I get this result:</p>\n\n<pre><code>    response = win32pipe.CallNamedPipe( pipeName, request, 512, 0 )\npywintypes.error: (87, 'CallNamedPipe', 'The parameter is incorrect.')\n</code></pre>\n\n<p>I read a similar thread which said that python error is produced when the other side of the pipe is not created with PIPE_TYPE_MESSAGE.  In Qt, it is though.  It doesn't seem like that is my problem.  Check this Qt source for QLocalServer : <a href=\"https://github.com/radekp/qt/blob/master/src/network/socket/qlocalserver_win.cpp\" rel=\"nofollow\">https://github.com/radekp/qt/blob/master/src/network/socket/qlocalserver_win.cpp</a></p>\n\n<pre><code>listener.handle = CreateNamedPipe(\n                 (const wchar_t *)fullServerName.utf16(), // pipe name\n                 PIPE_ACCESS_DUPLEX | FILE_FLAG_OVERLAPPED,       // read/write access\n                 PIPE_TYPE_MESSAGE |       // message type pipe\n                 PIPE_READMODE_MESSAGE |   // message-read mode\n                 PIPE_WAIT,                // blocking mode\n                 PIPE_UNLIMITED_INSTANCES, // max. instances\n                 BUFSIZE,                  // output buffer size\n                 BUFSIZE,                  // input buffer size\n                 3000,                     // client time-out\n                 NULL);\n</code></pre>\n\n<p>BUFSIZE is defined as 0 btw.</p>\n\n<p>In Python, my test client works when I create a pipe in another Python class like this:</p>\n\n<pre><code>def __createPipe( self ):\n        pipeName        = getPipeName( self._svc_name_ )\n        openMode        = win32pipe.PIPE_ACCESS_DUPLEX | win32file.FILE_FLAG_OVERLAPPED\n        pipeMode        = win32pipe.PIPE_TYPE_MESSAGE\n        nMaxInstances   = win32pipe.PIPE_UNLIMITED_INSTANCES\n        nOutBufferSize  = 0 # use default size\n        nInBufferSize   = 0 # use default size\n        nDefaultTimeOut = (PIPE_TIMEOUT_SECONDS * 1000) # max time for pipe i/o\n        securityAttribs = pywintypes.SECURITY_ATTRIBUTES()      \n        securityAttribs.SetSecurityDescriptorDacl( 1, None, 0 ) # full access\n        self.pipeHandle_ = win32pipe.CreateNamedPipe( \n            pipeName, openMode, pipeMode,\n            nMaxInstances, nOutBufferSize, nInBufferSize,  \n            nDefaultTimeOut, securityAttribs )\n</code></pre>\n\n<p>It seems like those pipes have the same core settings.  What am I missing?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8761, "user_id": 1192111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/578c0836635d7d63abf64daaafb3ffa6?s=128&d=identicon&r=PG", "display_name": "Francisco C", "link": "https://stackoverflow.com/users/1192111/francisco-c"}, "edited": false, "score": 1, "creation_date": 1476912239, "post_id": 40141729, "comment_id": 67553481, "body": "This is basically how decorators work."}, {"owner": {"reputation": 39428, "user_id": 315828, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/033829f8a1562bafb256157e24548fac?s=128&d=identicon&r=PG", "display_name": "xbonez", "link": "https://stackoverflow.com/users/315828/xbonez"}, "edited": false, "score": 0, "creation_date": 1476912246, "post_id": 40141729, "comment_id": 67553485, "body": "Its quite common in languages that treat functions as first class objects - Javascript is one that comes to mind"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1476912255, "post_id": 40141729, "comment_id": 67553488, "body": "this is also known as a decorator in python ... very common practice"}, {"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1476912364, "post_id": 40141729, "comment_id": 67553538, "body": "What exactly is the question here?"}], "answers": [{"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 2, "last_activity_date": 1476919292, "last_edit_date": 1476919292, "creation_date": 1476912393, "answer_id": 40141769, "question_id": 40141729, "link": "https://stackoverflow.com/questions/40141729/sending-function-as-argument-to-another-function/40141769#40141769", "title": "Sending Function as Argument to Another Function", "body": "<p>The passing of functions to other functions is a common idiom in so-called functional programming languages like LISP, Scheme, Haskell, etc. Python is sometimes referred to as a \"multi-paradigm language\" because it has some features of functional languages (as well as of imperative/structured and object-oriented languages). </p>\n\n<p>So while it is considered an advanced technique, it is hardly uncommon to see it in Python. Python even has a language keyword (<code>lambda</code>) to let you define short anonymous functions \"in line\" when calling a function, so you don't have to give them a name and define them elsewhere. It also has built-in functions like <code>map</code>, <code>filter</code>, and <code>reduce</code>, which are explicitly designed to work with functions passed in to them; these are borrowed from the aforementioned functional languages. And a commonly-used language feature, decorators, is basically a function that takes a function and returns a function.</p>\n"}], "owner": {"reputation": 13543, "user_id": 1107049, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/8f94b3bb695b3bbd83be44eb151aa63e?s=128&d=identicon&r=PG", "display_name": "alphanumeric", "link": "https://stackoverflow.com/users/1107049/alphanumeric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 40141769, "answer_count": 1, "score": 0, "last_activity_date": 1476919292, "creation_date": 1476912120, "last_edit_date": 1476913196, "question_id": 40141729, "link": "https://stackoverflow.com/questions/40141729/sending-function-as-argument-to-another-function", "title": "Sending Function as Argument to Another Function", "body": "<p>I have came across this logic:</p>\n\n<pre><code>def f2(f):\n  def g(arg):\n      return 2 * f(arg)\n  return g\n\ndef f1(arg):\n    return arg + 1\n\nf_2 = f2(f1)\nprint f_2(3)\n</code></pre>\n\n<p>From a first glance it may seem it is a very simple code.\nBut it takes some time to figure out what is going on here.\nSending a function as an argument to another function is unusual to me.\nWhile it works I wonder if a technique like this should be avoided (since it does appear quite confusing at first).  </p>\n"}, {"tags": ["python", "database", "sqlalchemy", "relational-database", "flask-sqlalchemy"], "comments": [{"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1476912412, "post_id": 40141725, "comment_id": 67553565, "body": "You can&#39;t have a mixed collection like that."}, {"owner": {"reputation": 374, "user_id": 2032913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dab8b91cc3ea900547df057e81cc37c?s=128&d=identicon&r=PG&f=1", "display_name": "jaiks", "link": "https://stackoverflow.com/users/2032913/jaiks"}, "reply_to_user": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1476914406, "post_id": 40141725, "comment_id": 67554367, "body": "So do it with a method and return a list comprehension?"}], "owner": {"reputation": 374, "user_id": 2032913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dab8b91cc3ea900547df057e81cc37c?s=128&d=identicon&r=PG&f=1", "display_name": "jaiks", "link": "https://stackoverflow.com/users/2032913/jaiks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1476912106, "creation_date": 1476912106, "question_id": 40141725, "link": "https://stackoverflow.com/questions/40141725/sqlalchemy-return-a-collection-of-objects", "title": "Sqlalchemy - return a collection of objects", "body": "<p>I have following models:</p>\n\n<pre><code>class User(Base):\n    __tablename__ = 'users'\n    id = Column(Integer, primary_key=True)\n    name = Column(String(50), unique=True)\n    email = Column(String(120), unique=True)\n    password = Column(String(12))\n    balance = Column(Float())\n    inventory = relationship(\"Inventory\", primaryjoin=\"and_(User.id==Inventory.user_id, BaseGood.id==Inventory.basegood_id)\", back_populates=\"user\")\n\n\nclass Inventory(Base):\n    __tablename__ = 'inventory'\n    id = Column(Integer, primary_key=True)\n    basegood_id = Column(Integer, ForeignKey('basegoods.id'))\n    producables_id = Column(Integer, ForeignKey('producables.id'))\n    user_id = Column(Integer, ForeignKey('users.id'))\n    basegood = relationship('BaseGood', backref='basegoods', lazy=\"joined\")\n    user = relationship(\"User\")\n\nclass Producable(Base):\n    __tablename__ = 'producables'\n    id = Column(Integer, primary_key=True)\n    name = Column(String(50), unique=True)\n    price = Column(Float)\n    time = Column(Integer)\n    blueprint = relationship('BaseGood', secondary='blueprints', backref='producables', lazy=\"joined\")\n\nclass BaseGood(Base):\n    __tablename__ = 'basegoods'\n    id = Column(Integer, primary_key=True)\n    name = Column(String(50), unique=True)\n    initprice = Column(Float)\n    price = Column(Float)\n    producable = relationship('Producable', secondary='blueprints', backref='basegoods', lazy=\"joined\")\n</code></pre>\n\n<p>I understand that </p>\n\n<p><code>inventory = relationship(\"Inventory\", backref='inventory', lazy='joined')</code></p>\n\n<p>should be the same. But I suspect I have to do some join here. </p>\n\n<p>So when i now call <code>User.query.get(1).inventory</code> I get a collection of <code>Inventory</code> objects. On these i can then call <code>.basegood</code> or <code>.producable</code> respectively. That's not what I need.</p>\n\n<p>What I want is a collection if <code>BaseGood</code> and <code>Producable</code> objects. I'd guess that magic needs to be applied here. </p>\n\n<pre><code>inventory = relationship(\"Inventory\", primaryjoin=\"and_(User.id==Inventory.user_id, BaseGood.id==Inventory.basegood_id)\", back_populates=\"user\")\n</code></pre>\n\n<p>but i can't figure out the right join to make that happen.</p>\n\n<p>Any hint is appreciated.\nTIA</p>\n"}, {"tags": ["python", "tensorflow", "nvidia"], "comments": [{"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 0, "creation_date": 1476912400, "post_id": 40141713, "comment_id": 67553559, "body": "You can sync on a regular basis and build PIP wheels (see tools/pip_package/build_pip_package.sh ). Then you can install each wheel in a new env, and switch back to an older env when new env didn&#39;t work"}, {"owner": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "reply_to_user": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 0, "creation_date": 1476914841, "post_id": 40141713, "comment_id": 67554538, "body": "That may be ii, not a bad approach..."}], "owner": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476912161, "creation_date": 1476912030, "last_edit_date": 1476912161, "question_id": 40141713, "link": "https://stackoverflow.com/questions/40141713/staying-up-to-date-with-tensorflow-master-from-source", "title": "Staying up to date with TensorFlow Master from Source?", "body": "<p>So I have started to do some serious learning with TensorFlow \nMy configuration is:\nUbuntu 16.04\nNvdia 1070 card with CUDA 8 and CUDNN 5.1\nAnaconda for python\nI have installed TensorFlow from master via source, which I gather is required to support the newer Nvidia drivers and Ubuntu 16.04. And things are now running but for instance I noticed a caution that TF master may have model saving broken at the moment so I will have to do something before too long..</p>\n\n<p>TensorFlow is clearly evolving very quickly and the install process from source is time consuming and potentially error prone. (yeh I get that this is bleeding edge)</p>\n\n<p>Any suggestions on how best to update on a regular basis (both the Nvidia, which I think is taken care of via the PPA, and the TensorFlow from GIT Master?) without a total wipe and reinstall Mainly focussed on TensorFlow ?</p>\n\n<p>Suggestions appreciated!</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "feature-selection", "one-hot-encoding"], "comments": [{"owner": {"reputation": 65, "user_id": 3139550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262471ca19c8a32c6afc4acf6195f0ae?s=128&d=identicon&r=PG", "display_name": "ch. vonrohr", "link": "https://stackoverflow.com/users/3139550/ch-vonrohr"}, "edited": false, "score": 0, "creation_date": 1502645275, "post_id": 40141710, "comment_id": 78283643, "body": "any findings on that?"}], "owner": {"reputation": 350, "user_id": 3221407, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3afd87ed8ff2e07ec530c7c2c7cba751?s=128&d=identicon&r=PG&f=1", "display_name": "nvergos", "link": "https://stackoverflow.com/users/3221407/nvergos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 530, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1477328924, "creation_date": 1476912011, "last_edit_date": 1477328924, "question_id": 40141710, "link": "https://stackoverflow.com/questions/40141710/how-to-retrieve-coefficient-names-after-label-encoding-and-one-hot-encoding-on-s", "title": "How to retrieve coefficient names after label encoding and one hot encoding on scikit-learn?", "body": "<p>I am running a machine learning model (Ridge Regression w/ Cross-Validation) using scikit-learn's RidgeCV() method. My data set has 5 categorical features and 2 numerical ones, so I started with LabelEncoder() to convert the categorical features to integers, and then I applied OneHotEncoder() to make several new feature columns of 0s and 1s, in order to apply my Machine Learning model.</p>\n\n<p>My X_train is now a numpy array, and after fitting the model I am getting its coefficients, so I'm wondering -- is there a straightforward way to connect these coefficients back to the individual features they correspond to? Unlike Pandas get_dummies, OneHotEncoder doesn't seem to be generating any titles for the individual features it generates off of the labeled categorical ones...</p>\n\n<p>PS: I have used LabelEncoder's .classes_ attribute and OneHotEncoder's .feature_indices_, but none of them gives me exactly what I'm looking for. I have inquired in Cross Validated but I was referred to Stack Overflow.</p>\n"}, {"tags": ["javascript", "python", "angularjs", "google-app-engine", "oauth"], "answers": [{"tags": [], "owner": {"reputation": 2810, "user_id": 1006703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLFh3.jpg?s=128&g=1", "display_name": "bora89", "link": "https://stackoverflow.com/users/1006703/bora89"}, "is_accepted": false, "score": 0, "last_activity_date": 1476913145, "creation_date": 1476913145, "answer_id": 40141944, "question_id": 40141705, "link": "https://stackoverflow.com/questions/40141705/design-google-oauth-using-angularjs-and-flask/40141944#40141944", "title": "Design: Google OAuth using AngularJS and Flask", "body": "<p>I gave up with manual implementation. There is a ready to use lib: <a href=\"https://github.com/sahat/satellizer\" rel=\"nofollow\">Satellizer</a> as well as server implementation (for Python example see the docs).</p>\n"}, {"tags": [], "owner": {"reputation": 6636, "user_id": 1354939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pg3tn.jpg?s=128&g=1", "display_name": "BrettJ", "link": "https://stackoverflow.com/users/1354939/brettj"}, "is_accepted": false, "score": 0, "last_activity_date": 1476941881, "creation_date": 1476941881, "answer_id": 40146263, "question_id": 40141705, "link": "https://stackoverflow.com/questions/40141705/design-google-oauth-using-angularjs-and-flask/40146263#40146263", "title": "Design: Google OAuth using AngularJS and Flask", "body": "<p>Use the <a href=\"https://cloud.google.com/appengine/docs/python/authenticating-users-firebase-appengine\" rel=\"nofollow\">Firebase Authentication tutorial for App Engine Python</a>. It uses a Flask backend. The front-end logic is pretty basic, but it should provide exactly what you're looking for plus has the benefits of allowing you to hook up multiple auth providers at once and simply.</p>\n"}, {"tags": [], "owner": {"reputation": 1402, "user_id": 2695332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rcr6f.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/2695332/vikas"}, "is_accepted": true, "score": 0, "last_activity_date": 1476994874, "creation_date": 1476994874, "answer_id": 40163835, "question_id": 40141705, "link": "https://stackoverflow.com/questions/40141705/design-google-oauth-using-angularjs-and-flask/40163835#40163835", "title": "Design: Google OAuth using AngularJS and Flask", "body": "<p>So... I have found a way to workaround the issue. After successful authentication, the user has to be redirected to homepage. So, there is no need to send the response to the frontend, I can just redirect to the url for the homepage from Flask itself. If the authentication fails, the user will be redirected to an error page which shows an error message and links to the login page. This works for me as of now.</p>\n\n<p>Anyways, thanks for your responses.</p>\n"}], "owner": {"reputation": 1402, "user_id": 2695332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rcr6f.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/2695332/vikas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 658, "favorite_count": 0, "accepted_answer_id": 40163835, "answer_count": 3, "score": 0, "last_activity_date": 1476994874, "creation_date": 1476911974, "question_id": 40141705, "link": "https://stackoverflow.com/questions/40141705/design-google-oauth-using-angularjs-and-flask", "title": "Design: Google OAuth using AngularJS and Flask", "body": "<p>I am building a web application using AngularJS on the frontend and Python with Flask on the server side. I am trying to implement the OpenID/OAuth login feature following the documentation available on <a href=\"https://developers.google.com/identity/protocols/OpenIDConnect\" rel=\"nofollow\">google developers site</a>. I began by building the server side code first(where everything worked fine when tested using Postman), and started to work on frontend. Now, I have a feeling that the design I followed for adding this feature is really bad. Below is the problem I am facing:</p>\n\n<p>Following the Google OAuth documentation, I have setup my server side flow somewhat like this:</p>\n\n<p><strong>gAuth</strong>:\nIt is a function in my Flask app that will be invoked by a GET request from Angular when the user clicks on the Google signIn button.</p>\n\n<p>It sends a GET request to the Google authorization endpoint to fetch the authorization code. The response to this request has got a text field which has an HTML code that shows the google login page. I am returning this to Angular(because that's where this function has been invoked from). Then Angular renders this on the browser for the user to enter credentials. Once the user enters credentials and authorizes my application, Google sends the auth code to another function in my app <strong>requestToken</strong> using a GET request, because that is the redirect_URI I am using for the Google OAuth. At this point, I am completely cut from Angular. Now requestToken sends a POST request to token endpoint of Google using the auth code in order to exchange it for an id_token. Now requestToken has the id_token and does what it is supposed to do with it. </p>\n\n<p>I am returning a value of '1' from the requestToken function, but that goes to the Google code, because that is where the request to requestToken came from. </p>\n\n<p>Now, the problem is how can I let the frontend know that everything went fine with OAuth and user must be redirected to the homepage. I want the return value of requestToken to go to Angular. I want to ask if that is possible, but my commonsense says that it is not possible. But, I am wondering if there is a way by which I can send a request from Flask to Angular. Any help is much appreciated.</p>\n"}, {"tags": ["python", "kernel", "ipython", "uninstallation", "jupyter-notebook"], "comments": [{"owner": {"reputation": 35559, "user_id": 434217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f1ae3f14fd5b87c2c3f7b36014e185c?s=128&d=identicon&r=PG", "display_name": "Thomas K", "link": "https://stackoverflow.com/users/434217/thomas-k"}, "edited": false, "score": 1, "creation_date": 1476977309, "post_id": 40141697, "comment_id": 67586076, "body": "You could try <code>sudo pip uninstall jupyter_core notebook qtconsole jupyter_client (...)</code>. Unfortunately, Jupyter is made of quite a lot of packages and pip doesn&#39;t have a way to remove them all as one. It shouldn&#39;t be a problem to delete all of those files and install Jupyter again using Anaconda."}], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 2343086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ca66d31bfccd0ac4e6910c999bd5ce6d?s=128&d=identicon&r=PG", "display_name": "abdul qayyum", "link": "https://stackoverflow.com/users/2343086/abdul-qayyum"}, "is_accepted": false, "score": 0, "last_activity_date": 1476965802, "creation_date": 1476965802, "answer_id": 40154204, "question_id": 40141697, "link": "https://stackoverflow.com/questions/40141697/jupyter-ipython-notebook-has-an-error-can-not-uninstall-it/40154204#40154204", "title": "Jupyter/ipython notebook has an error, can not uninstall it", "body": "<p>You can create a new env in conda and install it there without caring about previous installation </p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 5218331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c20658591eb28cd018b1dace7dc1008c?s=128&d=identicon&r=PG&f=1", "display_name": "Ernest", "link": "https://stackoverflow.com/users/5218331/ernest"}, "is_accepted": false, "score": 0, "last_activity_date": 1477341623, "creation_date": 1477341623, "answer_id": 40227163, "question_id": 40141697, "link": "https://stackoverflow.com/questions/40141697/jupyter-ipython-notebook-has-an-error-can-not-uninstall-it/40227163#40227163", "title": "Jupyter/ipython notebook has an error, can not uninstall it", "body": "<p>Had the same problem on Mac - couldn't uninstall Jupyter. Thomas K comment to original post helped me.</p>\n\n<pre><code>sudo pip uninstall jupyter_core notebook qtconsole jupyter_client\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 719, "user_id": 5838180, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cf248bc38506d30051eb3562b458ff73?s=128&d=identicon&r=PG&f=1", "display_name": "NeStack", "link": "https://stackoverflow.com/users/5838180/nestack"}, "is_accepted": true, "score": 0, "last_activity_date": 1478481060, "creation_date": 1478481060, "answer_id": 40456445, "question_id": 40141697, "link": "https://stackoverflow.com/questions/40141697/jupyter-ipython-notebook-has-an-error-can-not-uninstall-it/40456445#40456445", "title": "Jupyter/ipython notebook has an error, can not uninstall it", "body": "<p>Thanks for the answers! It worked out eventually when after the installation of Anaconda the script asked me if I want to append the startup commands to my .bashrc file and I selected \"yes\". I was sure I have done it after the previous installations, too, but it worked after the n-th installation. Or maybe it was just some restart-the-computer issue that solved my problem...</p>\n"}], "owner": {"reputation": 719, "user_id": 5838180, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cf248bc38506d30051eb3562b458ff73?s=128&d=identicon&r=PG&f=1", "display_name": "NeStack", "link": "https://stackoverflow.com/users/5838180/nestack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1187, "favorite_count": 0, "accepted_answer_id": 40456445, "answer_count": 3, "score": 1, "last_activity_date": 1478481060, "creation_date": 1476911937, "question_id": 40141697, "link": "https://stackoverflow.com/questions/40141697/jupyter-ipython-notebook-has-an-error-can-not-uninstall-it", "title": "Jupyter/ipython notebook has an error, can not uninstall it", "body": "<p>First of all, I am a linux beginner. I installed jupyter and anaconda on my Ubuntu 16.04. When running the notebook, kernel was always dead. So I deleted both, for reinstalling later. But I just can not get rid of some jupyter files, here a short list:</p>\n\n<pre><code>nestor@nestor-VPCEH1M1E:~$ locate jupyter\n/home/nestor/.jupyter\n/home/nestor/.jupyter/migrated\n/usr/local/bin/jupyter\n/usr/local/bin/jupyter-kernelspec\n/usr/local/bin/jupyter-migrate\n/usr/local/bin/jupyter-nbconvert\n/usr/local/bin/jupyter-nbextension\n/usr/local/bin/jupyter-notebook\n/usr/local/bin/jupyter-qtconsole\n/usr/local/bin/jupyter-serverextension\n/usr/local/bin/jupyter-troubleshoot\n/usr/local/bin/jupyter-trust\n/usr/local/lib/python2.7/dist-packages/jupyter_core-4.2.0-py2.7.egg\n/usr/local/lib/python2.7/dist-packages/jupyter_core-4.2.0-py2.7.egg/EGG-INFO\n/usr/local/lib/python2.7/dist-packages/jupyter_core-4.2.0-py2.7.egg/jupyter.py\n/usr/local/lib/python2.7/dist-packages/jupyter_core-4.2.0-py2.7.egg/jupyter.pyc\n...\n</code></pre>\n\n<p>and there are around 100 more files in the directory <code>/usr/local/lib/python2.7/dist-packages/jupyter_core-4.2.0-py2.7.egg/</code> . And this files are indeed there, I have updated the database with <code>sudo updatedb</code> and they are still being displayed after running <code>locate jupyter</code>. Furthermore, the command <code>jupyter notebook</code> still starts a notebook in my browser, with a still dead kernel.</p>\n\n<p>I am afraid to continue removing these files, because they are protected and I don't know how this will affect my computer. Can anybody help me deleting the rest of jupyter, for reinstalling it again?\nAnd I am also wondering what the cause of the always dead kernel was? The file-names here are refering to python2.7, but the jupyter notebook in my browser creates python3 files. Could this be the reason?</p>\n\n<p>Thanks for your help, I need python for doing simulations for my final thesis! </p>\n"}, {"tags": ["python", "python-2.7", "twitter", "mining"], "comments": [{"owner": {"reputation": 3, "user_id": 6877328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60326e61171cfde951210ee552544276?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Lal", "link": "https://stackoverflow.com/users/6877328/joe-lal"}, "edited": false, "score": 0, "creation_date": 1476911979, "post_id": 40141692, "comment_id": 67553378, "body": "Also please suggest what should I use instead of above ."}, {"owner": {"reputation": 878, "user_id": 5466926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76dc35f878a6d4b5ebc9b227f35867f8?s=128&d=identicon&r=PG&f=1", "display_name": "wrwrwr", "link": "https://stackoverflow.com/users/5466926/wrwrwr"}, "edited": false, "score": 0, "creation_date": 1476912266, "post_id": 40141692, "comment_id": 67553493, "body": "I guess <code>ids</code> is actually a list. If you&#39;re trying to generate strings for each 100 of ids you could use something like <code>for s in range(0, len(ids), 100)</code> and then use <code>ids[s:s + 100]</code> without clipping the list."}], "owner": {"reputation": 3, "user_id": 6877328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60326e61171cfde951210ee552544276?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Lal", "link": "https://stackoverflow.com/users/6877328/joe-lal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476911911, "creation_date": 1476911911, "question_id": 40141692, "link": "https://stackoverflow.com/questions/40141692/twitter-mining-memory-error", "title": "twitter mining Memory error", "body": "<p>I am doing twitter mining where I am dealing with large amount of data .I am getting Memory error in my below code - </p>\n\n<pre><code>    ids_str = ','.join([str(_id) for _id in ids[:100]])\n    ids = ids[100:] &lt;--------- this point has memory error .\n</code></pre>\n\n<p>where ids dict has around 12.5 Million entries . what could be the issue here could you please suggest.?</p>\n"}, {"tags": ["python", "pylint"], "comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1476912093, "post_id": 40141663, "comment_id": 67553422, "body": "I think you are looking for <a href=\"https://tox.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">tox</a>"}, {"owner": {"reputation": 8008, "user_id": 2085149, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/818184fc241c47dee455d3c47c94d8cb?s=128&d=identicon&r=PG", "display_name": "The Compiler", "link": "https://stackoverflow.com/users/2085149/the-compiler"}, "reply_to_user": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1477248777, "post_id": 40141663, "comment_id": 67677588, "body": "@letsc I don&#39;t see how tox would be related."}], "answers": [{"comments": [{"owner": {"reputation": 7054, "user_id": 88696, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/53e20180f0c292fcb589f77f738ed402?s=128&d=identicon&r=PG", "display_name": "Jesse Aldridge", "link": "https://stackoverflow.com/users/88696/jesse-aldridge"}, "edited": false, "score": 0, "creation_date": 1477290162, "post_id": 40206635, "comment_id": 67687746, "body": "Ah, looks like I overlooked the <code>--disable=all</code> part.  Thanks."}], "tags": [], "owner": {"reputation": 8008, "user_id": 2085149, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/818184fc241c47dee455d3c47c94d8cb?s=128&d=identicon&r=PG", "display_name": "The Compiler", "link": "https://stackoverflow.com/users/2085149/the-compiler"}, "is_accepted": true, "score": 2, "last_activity_date": 1477248758, "creation_date": 1477248758, "answer_id": 40206635, "question_id": 40141663, "link": "https://stackoverflow.com/questions/40141663/pylint-whitelist-mode/40206635#40206635", "title": "Pylint whitelist mode", "body": "<p>From the <a href=\"https://pylint.readthedocs.io/en/latest/user_guide/run.html#command-line-options\" rel=\"nofollow\">pylint docs</a>:</p>\n\n<blockquote>\n  <p>If you want to enable only some checkers or some message symbols, first use <code>--disable=all</code> then <code>--enable=&lt;symbol&gt;</code> with  being a comma separated list of checker names and message symbols. See the list of available features for a description of provided checkers with their functionalities.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 25907, "user_id": 509706, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/yedDa.png?s=128&g=1", "display_name": "Wilfred Hughes", "link": "https://stackoverflow.com/users/509706/wilfred-hughes"}, "is_accepted": false, "score": 1, "last_activity_date": 1516724881, "creation_date": 1516724881, "answer_id": 48406545, "question_id": 40141663, "link": "https://stackoverflow.com/questions/40141663/pylint-whitelist-mode/48406545#48406545", "title": "Pylint whitelist mode", "body": "<p>Disable all the checks, then explicitly enable the ones you want. For example:</p>\n\n<pre><code>pylint --score=no --disable=all --enable=unused-argument whatever.py\n</code></pre>\n"}], "owner": {"reputation": 7054, "user_id": 88696, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/53e20180f0c292fcb589f77f738ed402?s=128&d=identicon&r=PG", "display_name": "Jesse Aldridge", "link": "https://stackoverflow.com/users/88696/jesse-aldridge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 0, "accepted_answer_id": 40206635, "answer_count": 2, "score": 2, "last_activity_date": 1516724881, "creation_date": 1476911784, "question_id": 40141663, "link": "https://stackoverflow.com/questions/40141663/pylint-whitelist-mode", "title": "Pylint whitelist mode", "body": "<p>My team is looking into incorporating pylint into our dev process.  In my experience linters are good for very basic checks, but end up producing a lot of false positives and can be more annoying than helpful.  Therefore, I would like to run pylint in a whitelist mode, where all warnings are disabled by default and we gradually add those we are interested in over time.  I did a bit of googling and saw no obvious way to do this.  Is there a way short of manually disabling everything via .pylintrc?</p>\n"}, {"tags": ["python", "validation", "loops", "while-loop", "restart"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476911889, "post_id": 40141660, "comment_id": 67553336, "body": "<code>if again2.lower() not in [&quot;y&quot;,&quot;n&quot;]:</code>"}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476912404, "post_id": 40141714, "comment_id": 67553561, "body": "you could even do <code>choices=&quot;ABCabc&quot;</code> without converting to <code>list</code>. Also, specify that it works only using python 3."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476912441, "post_id": 40141714, "comment_id": 67553578, "body": "but then it would accept &quot;AB&quot; or &quot;Ca&quot;, etc (originally i was doing just that)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1476912501, "post_id": 40141714, "comment_id": 67553596, "body": "Yyn you&#39;re right! well you can counter that by checking the size of the answer too."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476912564, "post_id": 40141714, "comment_id": 67553625, "body": "seemed easier to just wrap it with <code>list</code> :P"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1476912036, "creation_date": 1476912036, "answer_id": 40141714, "question_id": 40141660, "link": "https://stackoverflow.com/questions/40141660/yes-or-no-answer-from-user-with-validation-and-restart-option/40141714#40141714", "title": "Yes or No answer from user with Validation and restart option?", "body": "<pre><code>def get_choice(prompt=\"Enter y/n?\",choices=[\"Y\",\"y\",\"n\",\"N\"],error=\"Invalid choice\"):\n    while True:\n        result = input(prompt)\n        if result in choices: return result\n        print(error)\n</code></pre>\n\n<p>is probably a nice generic way to approach this problem</p>\n\n<pre><code>result = get_choice(\"Enter A,B, or C:\",choices=list(\"ABCabc\"),error=\"Thats not A or B or C\")\n</code></pre>\n\n<p>you could of coarse make it not case sensitive... or add other types of criteria (e.g. must be an integer between 26 and 88) </p>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1476912141, "post_id": 40141720, "comment_id": 67553437, "body": "why would you use recursion for this? it doesnt really make sense to use recursion here... but yeah this will work so +1"}], "tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": false, "score": 0, "last_activity_date": 1476912080, "creation_date": 1476912080, "answer_id": 40141720, "question_id": 40141660, "link": "https://stackoverflow.com/questions/40141660/yes-or-no-answer-from-user-with-validation-and-restart-option/40141720#40141720", "title": "Yes or No answer from user with Validation and restart option?", "body": "<p>A recursive solution:</p>\n\n<pre><code>def get_input():\n    ans = input('Y/N? ') #Use raw_input in python2\n    if ans.lower() in ('y', 'n'):\n        return ans\n    else:\n        print('Please try again.')\n        return get_input()\n</code></pre>\n\n<p>If they're really stubborn this will fail when it reaches maximum recursion depth (~900 wrong answers)</p>\n"}], "owner": {"reputation": 155, "user_id": 5310351, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RKb9T.png?s=128&g=1", "display_name": "AntsOfTheSky", "link": "https://stackoverflow.com/users/5310351/antsofthesky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476912080, "creation_date": 1476911769, "question_id": 40141660, "link": "https://stackoverflow.com/questions/40141660/yes-or-no-answer-from-user-with-validation-and-restart-option", "title": "Yes or No answer from user with Validation and restart option?", "body": "<p>(py) At the moment, the code below does not validate/output error messages when the user inputs something other than the two choices \"y\" and \"n\" because it's in a while loop. </p>\n\n<pre><code>again2=input(\"Would you like to calculate another GTIN-8 code? Type 'y' for Yes and 'n' for No. \").lower() #**\n\n    while again2 == \"y\":\n        print(\"\\nOK! Thanks for using this GTIN-8 calculator!\\n\\n\")\n        restart2()\n        break                                                                                                                    #Break ends the while loop\n\nrestart2()\n</code></pre>\n\n<p>I'm struggling to think of ways that will allow me to respond with an output when they input neither of the choices given. For example:</p>\n\n<pre><code>if again2 != \"y\" or \"n\"\n   print(\"Not a valid choice, try again\")\n   #Here would be a statement that sends the program back to the line labelled with a **\n</code></pre>\n\n<p>So, when the user's input is not equal to \"y\" or \"n\" the program would return to the initial statement and ask the user to input again. Any ideas that still supports an efficient code with as little lines as possible? Thanks!</p>\n"}, {"tags": ["python", "regex", "string", "python-2.7", "expression"], "comments": [{"owner": {"reputation": 45, "user_id": 7038536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tCd6I.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/7038536/michael"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476911912, "post_id": 40141572, "comment_id": 67553347, "body": "new to stackoverflow.. looking for an edit button for my original question."}, {"owner": {"reputation": 45, "user_id": 7038536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tCd6I.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/7038536/michael"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476911937, "post_id": 40141572, "comment_id": 67553359, "body": "Fixed. The &#39;n&#39; is suppose to be &#39;\\n&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 1, "creation_date": 1476912148, "post_id": 40141588, "comment_id": 67553442, "body": "Those expressions won&#39;t strip a single leading or trailing space."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476912225, "post_id": 40141588, "comment_id": 67553475, "body": "@anonymous you&#39;re right. But your regex won&#39;t work for ` Butte ` as Soviut pointed out."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 0, "creation_date": 1476912472, "post_id": 40141588, "comment_id": 67553587, "body": "@Soviut, Jean: It works: <code>&gt;&gt;&gt; my_string = &#39;Butte  &#39;; &gt;&gt;&gt; re.sub(&#39;[^A-Za-z0-9]\\s+&#39;, &#39;&#39;, my_string)</code> prints <code>&#39;Butte&#39;</code>"}, {"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 0, "creation_date": 1476912654, "post_id": 40141588, "comment_id": 67553658, "body": "It&#39;s pretty clear the OP is going to have to support more than just <code>[A-Za-z0-9]</code> if they&#39;re trying to trim school names, so the regex portion of this answer is going to fall apart quickly."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 0, "creation_date": 1476912895, "post_id": 40141588, "comment_id": 67553778, "body": "@Soviut: I agree, but I took into consideration <i>trimming special characters</i> as is mentioned by OP"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 3, "last_activity_date": 1476912338, "last_edit_date": 1476912338, "creation_date": 1476911419, "answer_id": 40141588, "question_id": 40141572, "link": "https://stackoverflow.com/questions/40141572/python-regex-trimming-special-characters/40141588#40141588", "title": "Python regex : trimming special characters", "body": "<p>You do not need regex for this simple task. Use <a href=\"https://docs.python.org/2/library/string.html#string.lstrip\" rel=\"nofollow\"><code>string.strip()</code></a> instead. For example:</p>\n\n<pre><code>&gt;&gt;&gt; my_string = '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tButte County High School\\t\\t\\t\\t\\t\\t\\t\\t\\t'\n&gt;&gt;&gt; my_string.strip()\n'Butte County High School'\n</code></pre>\n\n<p>In case it is must to use <code>regex</code>, your expression should be:</p>\n\n<pre><code>&gt;&gt;&gt; re.sub('[^A-Za-z0-9]\\s+', '', my_string)\n'Butte County High School'\n</code></pre>\n\n<p>It matches a string of characters that are not letters or numbers.</p>\n"}, {"tags": [], "owner": {"reputation": 1084, "user_id": 2215738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b7a5f9b4d3d4bedb8202c993029f4f3e?s=128&d=identicon&r=PG", "display_name": "Muyide Ibukun", "link": "https://stackoverflow.com/users/2215738/muyide-ibukun"}, "is_accepted": false, "score": 0, "last_activity_date": 1476911657, "creation_date": 1476911657, "answer_id": 40141636, "question_id": 40141572, "link": "https://stackoverflow.com/questions/40141572/python-regex-trimming-special-characters/40141636#40141636", "title": "Python regex : trimming special characters", "body": "<p>Except you have reasons to want to use regex, you can remove all edge white space with <code>.strip()</code> function in python</p>\n"}, {"comments": [{"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476911767, "post_id": 40141638, "comment_id": 67553275, "body": "Yeah, I&#39;m revising the answer now."}], "tags": [], "owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "is_accepted": false, "score": 1, "last_activity_date": 1476912411, "last_edit_date": 1476912411, "creation_date": 1476911665, "answer_id": 40141638, "question_id": 40141572, "link": "https://stackoverflow.com/questions/40141572/python-regex-trimming-special-characters/40141638#40141638", "title": "Python regex : trimming special characters", "body": "<p>If you're really set on using regular expressions:</p>\n\n<pre><code>re.sub(r'^\\s+|\\s+$', '', schoolstring)\n</code></pre>\n\n<p>This will work for:</p>\n\n<pre><code>'   this is a test   '   # multiple leading and trailing spaces\n' this is a test '       # one leading and trailing space\n'this is a test'         # no leading or trailing spaces\n'\\t\\tthis is a test\\t\\t' # leading or trailing whitespace characters\n</code></pre>\n\n<p>This expression one or more whitespace characters from the start <code>^\\s+</code> of the string or <code>|</code> one or more whitespace characters from the end of the string <code>\\s+$</code>.</p>\n\n<p>However, <code>string.strip()</code> is simpler for removing leading and trailing space.</p>\n"}], "owner": {"reputation": 45, "user_id": 7038536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tCd6I.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/7038536/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1054, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1481931174, "creation_date": 1476911347, "last_edit_date": 1481931174, "question_id": 40141572, "link": "https://stackoverflow.com/questions/40141572/python-regex-trimming-special-characters", "title": "Python regex : trimming special characters", "body": "<p>Is it possible to remove special characters using regex?</p>\n\n<p>I'm attempting to trim:</p>\n\n<pre><code>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tButte County High School\\t\\t\\t\\t\\t\\t\\t\\t\\t\n</code></pre>\n\n<p>down to:</p>\n\n<pre><code>Butte County High School\n</code></pre>\n\n<p>using    </p>\n\n<pre><code>regexform = re.sub(\"[A-Z]+[a-z]+\\s*\",'', schoolstring)\nprint regexform\n</code></pre>\n"}, {"tags": ["python", "string", "python-3.x"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1476913992, "post_id": 40141540, "comment_id": 67554229, "body": "It&#39;s not entirely clear to me what you mean by &quot;type of letter&quot;. Why do you care about the A&#39;s in the second string but not the digits and symbols in the first one?"}, {"owner": {"reputation": 62194, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476948715, "post_id": 40141540, "comment_id": 67565480, "body": "Guessing, because A&#39;s are letters and digits and symbols aren&#39;t."}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 2, "last_activity_date": 1476911465, "creation_date": 1476911465, "answer_id": 40141601, "question_id": 40141540, "link": "https://stackoverflow.com/questions/40141540/easier-way-to-check-if-a-string-contains-only-one-type-of-letter-in-python/40141601#40141601", "title": "Easier way to check if a string contains only one type of letter in python", "body": "<p>use <code>filter</code> with <code>str.isalpha</code> function to create a sublist containing only letters, then create a set. Final length must be one or your condition isn't met.</p>\n\n<pre><code>v=\"829383&amp;&amp;&amp;@&lt;&lt;&lt;&lt;&gt;&gt;&lt;&gt;GG\"\n\nprint(len(set(filter(str.isalpha,v)))==1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 1, "last_activity_date": 1476914101, "creation_date": 1476914101, "answer_id": 40142143, "question_id": 40141540, "link": "https://stackoverflow.com/questions/40141540/easier-way-to-check-if-a-string-contains-only-one-type-of-letter-in-python/40142143#40142143", "title": "Easier way to check if a string contains only one type of letter in python", "body": "<p>Jean-Francois's answer is what I'd actually use 99% of the time, but for cases where the string is <em>huge</em> you might want a solution that will return as soon as the second unique character is detected, instead of finishing processing:</p>\n\n<pre><code>from future_builtins import map, filter  # Only on Py2, to get lazy map/filter\n\nfrom itertools import groupby, islice\nfrom operator import itemgetter\n\n# Remove non-alphas, then reduce consecutive identical alphabetic characters\n# to a single instance of that character\nlets = map(itemgetter(0), groupby(filter(str.isalpha, somestr)))\n\n# Skip the first result, and if we find a second, then there was more than one\n# in the string\nif next(islice(lets, 1, None), None) is not None:\n   # There were at least two unique alphabetic characters\nelse:\n   # There were only 0-1 unique alphabetic characters\n</code></pre>\n\n<p>Distinguishing no alphabetic from one alphabetic could instead be done without <code>islice</code> as:</p>\n\n<pre><code>atleastone = next(lets, None) is not None\nmultiple = next(lets, None) is not None\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 3799576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59d2425b7fa98517cbc581f957e15606?s=128&d=identicon&r=PG&f=1", "display_name": "user3799576", "link": "https://stackoverflow.com/users/3799576/user3799576"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 945, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1476914101, "creation_date": 1476911196, "last_edit_date": 1476913924, "question_id": 40141540, "link": "https://stackoverflow.com/questions/40141540/easier-way-to-check-if-a-string-contains-only-one-type-of-letter-in-python", "title": "Easier way to check if a string contains only one type of letter in python", "body": "<p>I have a string <code>'829383&amp;&amp;*&amp;@&lt;&lt;&lt;&lt;&gt;&gt;&lt;&gt;GG'</code>. I want a way to measure if a string has only one type of letter. For example the string above would return True, because it only has two Gs, but this string, <code>'829383&amp;&amp;*&amp;@&lt;&lt;&lt;&lt;&gt;&gt;&lt;&gt;GGAa'</code> would not. I've been iteratively going through the string having made it into an array. I was hoping someone knew an easier way. </p>\n"}, {"tags": ["python", "multithreading", "sqlite", "sqlalchemy", "py-telegram-bot-api"], "comments": [{"owner": {"reputation": 1148, "user_id": 1231717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1UsW3.png?s=128&g=1", "display_name": "xli", "link": "https://stackoverflow.com/users/1231717/xli"}, "edited": false, "score": 0, "creation_date": 1477161834, "post_id": 40141515, "comment_id": 67657284, "body": "Do you mean <code>NullPool</code> when you say <code>NullThreadPool</code>? Why do you need to use <code>QueuePool</code>?"}, {"owner": {"reputation": 1148, "user_id": 1231717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1UsW3.png?s=128&g=1", "display_name": "xli", "link": "https://stackoverflow.com/users/1231717/xli"}, "edited": false, "score": 0, "creation_date": 1477161843, "post_id": 40141515, "comment_id": 67657287, "body": "From SQLAlchemy documentation: &quot;When a file-based database is specified, the dialect will use NullPool as the source of connections. This pool closes and discards connections which are returned to the pool immediately. SQLite file-based connections have extremely low overhead, so pooling is not necessary. The scheme also prevents a connection from being used again in a different thread and works best with SQLite\u2019s coarse-grained file locking.&quot;"}, {"owner": {"reputation": 12697, "user_id": 4994021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/159a6a0bd0b0b5ab92e0dc66d936cc7c?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Brittain", "link": "https://stackoverflow.com/users/4994021/peter-brittain"}, "edited": false, "score": 0, "creation_date": 1477172973, "post_id": 40141515, "comment_id": 67660642, "body": "As xli says, why are you trying to use a <code>QueuePool</code>?  The <a href=\"http://docs.sqlalchemy.org/en/rel_1_1/dialects/sqlite.html#threading-pooling-behavior\" rel=\"nofollow noreferrer\">docs</a> are quite clear that you can use <code>NullPool</code>, <code>SingletonThreadPool</code>, or <code>StaticPool</code>."}, {"owner": {"reputation": 725, "user_id": 256002, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3468a574969a25923ae0d1345d83364a?s=128&d=identicon&r=PG", "display_name": "d56", "link": "https://stackoverflow.com/users/256002/d56"}, "reply_to_user": {"reputation": 1148, "user_id": 1231717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1UsW3.png?s=128&g=1", "display_name": "xli", "link": "https://stackoverflow.com/users/1231717/xli"}, "edited": false, "score": 0, "creation_date": 1477234538, "post_id": 40141515, "comment_id": 67673078, "body": "@xli, yes i mean <code>NullPool</code> ;) thank for the correction. The idea to use <code>QueuePool</code> was to have several (reading) threads available at the same time. Why would it be wrong?  @xli, @Peter Brittain, the default implementation of <code>SqlAlchemy</code> uses <code>NullPool</code> but i have been getting the exceptions (as posted above) when using it. I have no idea why i get them, since through the use of @contextmanager it should be guaranteed that i open one connection per thread..."}, {"owner": {"reputation": 1148, "user_id": 1231717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1UsW3.png?s=128&g=1", "display_name": "xli", "link": "https://stackoverflow.com/users/1231717/xli"}, "edited": false, "score": 0, "creation_date": 1477235411, "post_id": 40141515, "comment_id": 67673337, "body": "I got the error you show with multiple threads doing database operations with <code>QueuePool</code>, but it went away with <code>NullPool</code>. Could you be having multiple threads within you <code>with</code> block, or could you describe what you&#39;re doing there?"}, {"owner": {"reputation": 725, "user_id": 256002, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3468a574969a25923ae0d1345d83364a?s=128&d=identicon&r=PG", "display_name": "d56", "link": "https://stackoverflow.com/users/256002/d56"}, "reply_to_user": {"reputation": 1148, "user_id": 1231717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1UsW3.png?s=128&g=1", "display_name": "xli", "link": "https://stackoverflow.com/users/1231717/xli"}, "edited": false, "score": 0, "creation_date": 1477297396, "post_id": 40141515, "comment_id": 67691481, "body": "@xli, the method <code>method_handler()</code> is accessed by multiple threads, but there are no new thread calls inside of <code>do_database_stuff_here()</code>. That is why i don&#39;t get why it does not work. But why do you get the error with <code>QueuePool</code>? accoding to my reasoning, although the threads are reused, there is still one thread serving the <code>method_handler()</code> isn&#39;t it?"}, {"owner": {"reputation": 1148, "user_id": 1231717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1UsW3.png?s=128&g=1", "display_name": "xli", "link": "https://stackoverflow.com/users/1231717/xli"}, "edited": false, "score": 0, "creation_date": 1477322738, "post_id": 40141515, "comment_id": 67707493, "body": "The same SQLite connection cannot be used in more than one thread. <code>QueuePool</code> will re-use connections and give the same connection to another thread. But <code>NullPool</code> should avoid this issue because it makes a new connection each time, and using <code>NullPool</code> caused the error to go away when I reproduced it."}, {"owner": {"reputation": 725, "user_id": 256002, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3468a574969a25923ae0d1345d83364a?s=128&d=identicon&r=PG", "display_name": "d56", "link": "https://stackoverflow.com/users/256002/d56"}, "edited": false, "score": 0, "creation_date": 1477471972, "post_id": 40141515, "comment_id": 67776739, "body": "i am checking it now with <code>NullPool</code>. One question aside though. Does the use of <code>with session_scope() as session</code>  imply that i have a blocking code segment here as long the the <code>NullPool</code> is used for some other thread&#39;s connection? I read that Sqlite allos WAL nowdays for concurrent reads. Is there a way to activate it in SQLAlchemy"}, {"owner": {"reputation": 725, "user_id": 256002, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3468a574969a25923ae0d1345d83364a?s=128&d=identicon&r=PG", "display_name": "d56", "link": "https://stackoverflow.com/users/256002/d56"}, "reply_to_user": {"reputation": 1148, "user_id": 1231717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1UsW3.png?s=128&g=1", "display_name": "xli", "link": "https://stackoverflow.com/users/1231717/xli"}, "edited": false, "score": 0, "creation_date": 1477472135, "post_id": 40141515, "comment_id": 67776868, "body": "@xli, the reason is that the <code>with ... session</code> block is a pretty long-running segment with more than just a db connection happening there (which i cannot decouple)"}, {"owner": {"reputation": 12697, "user_id": 4994021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/159a6a0bd0b0b5ab92e0dc66d936cc7c?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Brittain", "link": "https://stackoverflow.com/users/4994021/peter-brittain"}, "edited": false, "score": 0, "creation_date": 1477474848, "post_id": 40141515, "comment_id": 67778650, "body": "No - it isn&#39;t blocking.  It relies on the locking done by sqlite, which as you can see <a href=\"https://www.sqlite.org/lockingv3.html\" rel=\"nofollow noreferrer\">here</a> will continue to allow concurrent read access.  However, you might find write access is blocked if you keep a transation open for these long-running processes.  If that&#39;s unavoidable, <a href=\"https://www.sqlite.org/wal.html\" rel=\"nofollow noreferrer\">WAL mode</a> may be your best option."}, {"owner": {"reputation": 725, "user_id": 256002, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3468a574969a25923ae0d1345d83364a?s=128&d=identicon&r=PG", "display_name": "d56", "link": "https://stackoverflow.com/users/256002/d56"}, "reply_to_user": {"reputation": 1148, "user_id": 1231717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1UsW3.png?s=128&g=1", "display_name": "xli", "link": "https://stackoverflow.com/users/1231717/xli"}, "edited": false, "score": 0, "creation_date": 1479139732, "post_id": 40141515, "comment_id": 68421580, "body": "@xli, thanks again. As far as i can see from the logs, the error does not come up any more. Setting the poolclass to <code>NullPool</code> has done the trick!"}], "answers": [{"tags": [], "owner": {"reputation": 12697, "user_id": 4994021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/159a6a0bd0b0b5ab92e0dc66d936cc7c?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Brittain", "link": "https://stackoverflow.com/users/4994021/peter-brittain"}, "is_accepted": true, "score": 5, "last_activity_date": 1477301002, "creation_date": 1477301002, "answer_id": 40214877, "question_id": 40141515, "link": "https://stackoverflow.com/questions/40141515/sqlalchemy-pytelegrambotapi-sqlite-objects-created-in-a-thread-can-only-be-us/40214877#40214877", "title": "SQLAlchemy + pyTelegramBotAPI: SQLite objects created in a thread can only be used in that same thread", "body": "<p>As you can see in <a href=\"https://github.com/ghaering/pysqlite/blob/e728ffbcaeb7bfae1d6b7165369bd0ae16cabf95/src/connection.c\" rel=\"noreferrer\">the source</a>, sqlite will raise this exception inside <code>pysqlite_check_thread</code> if the connection object is reused across any threads.</p>\n\n<p>By using a <code>QueuePool</code>, you are telling SQLAchemy it is safe to reuse connections across multiple threads.  It will therefore just pick a connection from the pool for any session no matter which thread it is on.  This is why you're hitting the error.  The first time you create and use a connection, you'll be fine; however the next use will probably be on a different thread and so fail the check.</p>\n\n<p>This is why SQLAlchemy <a href=\"http://docs.sqlalchemy.org/en/rel_1_1/dialects/sqlite.html#threading-pooling-behavior\" rel=\"noreferrer\">mandates the use of other pools</a> such as <code>SingletonThreadPool</code> and <code>NullPool</code>.</p>\n\n<p>Assuming you are using a file based database, you should use the <code>NullPool</code>.  This will give you good concurrency on reads.  Write access concurrency is always going to be an issue for sqlite; if you need this, you probably want a diffenet database.</p>\n"}, {"tags": [], "owner": {"reputation": 1148, "user_id": 1231717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1UsW3.png?s=128&g=1", "display_name": "xli", "link": "https://stackoverflow.com/users/1231717/xli"}, "is_accepted": false, "score": 4, "last_activity_date": 1477542838, "last_edit_date": 1477542838, "creation_date": 1477542519, "answer_id": 40276135, "question_id": 40141515, "link": "https://stackoverflow.com/questions/40141515/sqlalchemy-pytelegrambotapi-sqlite-objects-created-in-a-thread-can-only-be-us/40276135#40276135", "title": "SQLAlchemy + pyTelegramBotAPI: SQLite objects created in a thread can only be used in that same thread", "body": "<p>Something that may be worth trying: use <code>scoped_session</code> instead of your <code>contextmanager</code>; <code>scoped_session</code> implicitly creates a thread-local session when it is accessed from a different thread. Be sure also to use <code>NullPool</code>.</p>\n\n<pre><code>from sqlalchemy.orm import scoped_session\nsessionmaker(bind=create_engine(classes.db_url, poolclass=NullPool))\nsession = scoped_session()\n</code></pre>\n\n<p>Note that you can use this scoped <code>session</code> directly as if it were just a regular <code>session</code>, even though it is actually creating thread-local sessions behind the scenes when it is being used.</p>\n\n<p>For <code>scoped_session</code>, should call <code>session.remove()</code> for after you're done (i.e., after each <code>method_handler</code>) and explicitly call <code>session.commit()</code> as needed.</p>\n\n<p>In theory, your context manager should work in giving each thread its own session, but, for lack of better explanation, I wonder if there are multiple threads accessing that session within the context.</p>\n"}], "owner": {"reputation": 725, "user_id": 256002, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3468a574969a25923ae0d1345d83364a?s=128&d=identicon&r=PG", "display_name": "d56", "link": "https://stackoverflow.com/users/256002/d56"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1878, "favorite_count": 2, "accepted_answer_id": 40214877, "answer_count": 2, "score": 4, "last_activity_date": 1600790882, "creation_date": 1476911079, "last_edit_date": 1600790882, "question_id": 40141515, "link": "https://stackoverflow.com/questions/40141515/sqlalchemy-pytelegrambotapi-sqlite-objects-created-in-a-thread-can-only-be-us", "title": "SQLAlchemy + pyTelegramBotAPI: SQLite objects created in a thread can only be used in that same thread", "body": "<p>i have a real headache from trying to understand the cause of the following problem. We are using a combination of the following libraries:</p>\n\n<ul>\n<li><a href=\"https://github.com/eternnoir/pyTelegramBotAPI\" rel=\"nofollow\">pyTelegramBotAPI</a> to process requests in a multi-threaded way</li>\n<li><a href=\"http://www.sqlalchemy.org/\" rel=\"nofollow\">SQLAlchemy</a></li>\n<li><a href=\"https://sqlite.org/\" rel=\"nofollow\">sqlite</a></li>\n</ul>\n\n<p>The <code>SQLAlchemy</code> was first using <code>NullPool</code> and now is configured to utilize <code>QueuePool</code>. I am also using the following idiom to have a new DB session firing up for each thread (as per my understanding)</p>\n\n<pre><code>Session = sessionmaker(bind=create_engine(classes.db_url, poolclass=QueuePool))\n\n@contextmanager\ndef session_scope():\n   session = Session()\n   try:\n      yield session\n      session.commit()\n   except:\n      session.rollback()\n      raise\n   finally:\n      session.close()\n\n@bot.message_handler(content_types=['document'])\ndef method_handler:\n   with session_scope() as session:\n      do_database_stuff_here(session)\n</code></pre>\n\n<p>Nevertheless I am still getting this annoying exception: <code>(sqlite3.ProgrammingError) SQLite objects created in a thread can only be used in that same thread</code></p>\n\n<p>Any ideas? ;) In particular, i don't get how it is possible for another tread to get somewhere in between the db operations...this is probably the reason of the pesky exception</p>\n\n<p><strong>update 1</strong>: if i change the <code>poolclass</code> to <code>SingletonThreadPool</code>, then there seems to be no more errors coming up. However, the documentation of <code>SQLAlchemy</code> tells that it's not production rife. </p>\n"}, {"tags": ["python", "matplotlib", "seaborn"], "answers": [{"tags": [], "owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "is_accepted": false, "score": 1, "last_activity_date": 1476991552, "creation_date": 1476991552, "answer_id": 40162904, "question_id": 40141445, "link": "https://stackoverflow.com/questions/40141445/matplotlib-seaborn-valueerror-supply-a-c-kwarg-or-a-color-kwarg-but-not/40162904#40162904", "title": "matplotlib &amp; seaborn: ValueError: Supply a &#39;c&#39; kwarg or a &#39;color&#39; kwarg but not both; they differ but their functionalities overlap", "body": "<p>This works fine, setting a plot color and passing through a colormap to the scatter:</p>\n\n<pre><code>import seaborn as sns\ntips = sns.load_dataset(\"tips\")\nsns.regplot(x='total_bill', y='tip',data=tips, \n            scatter_kws={'c':sns.color_palette()}, \n            color='red')\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/LW7L8.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/LW7L8.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 17078, "user_id": 3993270, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1bee661ad7451ff3107ca6954560a06c?s=128&d=identicon&r=PG&f=1", "display_name": "Edamame", "link": "https://stackoverflow.com/users/3993270/edamame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1113, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1481641436, "creation_date": 1476910781, "last_edit_date": 1481641436, "question_id": 40141445, "link": "https://stackoverflow.com/questions/40141445/matplotlib-seaborn-valueerror-supply-a-c-kwarg-or-a-color-kwarg-but-not", "title": "matplotlib &amp; seaborn: ValueError: Supply a &#39;c&#39; kwarg or a &#39;color&#39; kwarg but not both; they differ but their functionalities overlap", "body": "<p>I am trying to use the following code to create multiple seaborn regplot in a big figure:</p>\n\n<pre><code>%matplotlib notebook\nimport seaborn as sns\nfrom itertools import combinations\nimport matplotlib.pyplot as plt\n\npairs = list(combinations(pandas_transformed.drop(['prediction'],axis=1).columns, 2))\ncol = pandas_transformed.prediction.map({0: [1,0,0], 1:[0,1,0]})\n\nfig, axes = plt.subplots(len(pairs) // 3, 3, figsize=(12, 108))\nfor i, pair in enumerate(pairs):\n    d = pandas_transformed[list(pair)]\n    ax = axes[i // 3, i % 3]\n    #d.plot.scatter(*pair, ax=ax, c=col, linewidths=0, s=2, alpha = 0.7)\n    sns.regplot(x = pair[0], y = pair[1], data = d, fit_reg = False, ax = ax, x_jitter = True,\\\n             scatter_kws={\"c\": col}, line_kws = {})\n\nfig.tight_layout()\n</code></pre>\n\n<p>However, I got the following error:</p>\n\n<pre><code>ValueErrorTraceback (most recent call last)\n&lt;ipython-input-12-ae2676825628&gt; in &lt;module&gt;()\n     12     ax = axes[i // 3, i % 3]\n     13     #d.plot.scatter(*pair, ax=ax, c=col, linewidths=0, s=2, alpha = 0.7)\n---&gt; 14     sns.regplot(x = pair[0], y = pair[1], data = d, fit_reg = False, ax = ax, x_jitter = True,             scatter_kws={\"c\": col}, line_kws = {})\n     15 \n     16 fig.tight_layout()\n\n/usr/local/lib/python2.7/dist-packages/seaborn/linearmodels.pyc in regplot(x, y, data, x_estimator, x_bins, x_ci, scatter, fit_reg, ci, n_boot, units, order, logistic, lowess, robust, logx, x_partial, y_partial, truncate, dropna, x_jitter, y_jitter, label, color, marker, scatter_kws, line_kws, ax)\n    777     scatter_kws[\"marker\"] = marker\n    778     line_kws = {} if line_kws is None else copy.copy(line_kws)\n--&gt; 779     plotter.plot(ax, scatter_kws, line_kws)\n    780     return ax\n    781 \n\n/usr/local/lib/python2.7/dist-packages/seaborn/linearmodels.pyc in plot(self, ax, scatter_kws, line_kws)\n    328         # Draw the constituent plots\n    329         if self.scatter:\n--&gt; 330             self.scatterplot(ax, scatter_kws)\n    331         if self.fit_reg:\n    332             self.lineplot(ax, line_kws)\n\n/usr/local/lib/python2.7/dist-packages/seaborn/linearmodels.pyc in scatterplot(self, ax, kws)\n    357 \n    358             x, y = self.scatter_data\n--&gt; 359             ax.scatter(x, y, **kws)\n    360         else:\n    361             # TODO abstraction\n\n/usr/local/lib/python2.7/dist-packages/matplotlib/__init__.pyc in inner(ax, *args, **kwargs)\n   1817                     warnings.warn(msg % (label_namer, func.__name__),\n   1818                                   RuntimeWarning, stacklevel=2)\n-&gt; 1819             return func(ax, *args, **kwargs)\n   1820         pre_doc = inner.__doc__\n   1821         if pre_doc is None:\n\n/usr/local/lib/python2.7/dist-packages/matplotlib/axes/_axes.pyc in scatter(self, x, y, s, c, marker, cmap, norm, vmin, vmax, alpha, linewidths, verts, edgecolors, **kwargs)\n   3787                 facecolors = co\n   3788             if c is not None:\n-&gt; 3789                 raise ValueError(\"Supply a 'c' kwarg or a 'color' kwarg\"\n   3790                                  \" but not both; they differ but\"\n   3791                                  \" their functionalities overlap.\")\n\nValueError: Supply a 'c' kwarg or a 'color' kwarg but not both; they differ but their functionalities overlap.\n</code></pre>\n\n<p>The error is really confusing. Since I only supply <code>scatter_kws={\"c\": col}</code>, the default color is None. And per seaborn document at <a href=\"https://seaborn.github.io/generated/seaborn.regplot.html#seaborn.regplot\" rel=\"nofollow\">https://seaborn.github.io/generated/seaborn.regplot.html#seaborn.regplot</a></p>\n\n<pre><code>color : matplotlib color\nColor to apply to all plot elements; will be superseded by colors passed in scatter_kws or line_kws.\n</code></pre>\n\n<p>I don't understand why I am getting this error. Does anyone have any idea? Thanks!</p>\n"}, {"tags": ["python", "r", "list"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476910567, "post_id": 40141353, "comment_id": 67552673, "body": "easy in python but is that <i>really</i> your format? with all the spaces and no quotes? how are we supposed to parse that using a standard csv module?"}, {"owner": {"reputation": 21796, "user_id": 5977215, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/0nQX3.jpg?s=128&g=1", "display_name": "SymbolixAU", "link": "https://stackoverflow.com/users/5977215/symbolixau"}, "edited": false, "score": 0, "creation_date": 1476910608, "post_id": 40141353, "comment_id": 67552693, "body": "Similarly, easy in <code>R</code>, but the same questions apply about how your data is actually structured."}, {"owner": {"reputation": 49, "user_id": 4327194, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-vOXCHa_4ECo/AAAAAAAAAAI/AAAAAAAAATs/le35KOwOx5I/photo.jpg?sz=128", "display_name": "Pratyush Tallapragada", "link": "https://stackoverflow.com/users/4327194/pratyush-tallapragada"}, "edited": false, "score": 0, "creation_date": 1476910678, "post_id": 40141353, "comment_id": 67552735, "body": "Well, this is just a mock how the data set would look. The live data in an excel for now having clear demarcations and I can add in quotes if that&#39;s the way to go about it. Keen to see the solution in R or python."}, {"owner": {"reputation": 12870, "user_id": 6105720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce58e01a393ec9c77f85ae73e89a264?s=128&d=identicon&r=PG", "display_name": "Mike H.", "link": "https://stackoverflow.com/users/6105720/mike-h"}, "edited": false, "score": 0, "creation_date": 1476911181, "post_id": 40141353, "comment_id": 67552990, "body": "Something as easy as: <code>data.frame(ColumnD=unlist(df,use.names=F))</code>? Or even: <code>data.frame(ColumnD=c(t(df)))</code> would probably be better."}, {"owner": {"reputation": 49, "user_id": 4327194, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-vOXCHa_4ECo/AAAAAAAAAAI/AAAAAAAAATs/le35KOwOx5I/photo.jpg?sz=128", "display_name": "Pratyush Tallapragada", "link": "https://stackoverflow.com/users/4327194/pratyush-tallapragada"}, "reply_to_user": {"reputation": 12870, "user_id": 6105720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce58e01a393ec9c77f85ae73e89a264?s=128&d=identicon&r=PG", "display_name": "Mike H.", "link": "https://stackoverflow.com/users/6105720/mike-h"}, "edited": false, "score": 0, "creation_date": 1476911458, "post_id": 40141353, "comment_id": 67553107, "body": "@MikeyMike - Thank you. The output in the second one was what I was looking for. Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 12870, "user_id": 6105720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce58e01a393ec9c77f85ae73e89a264?s=128&d=identicon&r=PG", "display_name": "Mike H.", "link": "https://stackoverflow.com/users/6105720/mike-h"}, "is_accepted": true, "score": 0, "last_activity_date": 1476911423, "creation_date": 1476911423, "answer_id": 40141589, "question_id": 40141353, "link": "https://stackoverflow.com/questions/40141353/convert-multiple-columns-to-one-column/40141589#40141589", "title": "Convert multiple columns to one column", "body": "<p>With the data that you provided, in the format you provided, you could do this with:</p>\n\n<pre><code>data.frame(ColumnD=c(t(df)))\n\n  ColumnD\n1      a1\n2      b1\n3      c1\n4      b2\n5      a2\n6      e2\n</code></pre>\n\n<p>We transpose the data, then combine it.</p>\n"}], "owner": {"reputation": 49, "user_id": 4327194, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-vOXCHa_4ECo/AAAAAAAAAAI/AAAAAAAAATs/le35KOwOx5I/photo.jpg?sz=128", "display_name": "Pratyush Tallapragada", "link": "https://stackoverflow.com/users/4327194/pratyush-tallapragada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1017, "favorite_count": 0, "accepted_answer_id": 40141589, "answer_count": 1, "score": 1, "last_activity_date": 1476911423, "creation_date": 1476910479, "question_id": 40141353, "link": "https://stackoverflow.com/questions/40141353/convert-multiple-columns-to-one-column", "title": "Convert multiple columns to one column", "body": "<p>I'm looking to merge multiple columns to one column.</p>\n\n<p>Here's my current dataset :</p>\n\n<pre><code>Column A  Column B   Column C \n    a1       b1        c1 \n    b2       a2        e2 \n</code></pre>\n\n<p>I am looking for the following as output</p>\n\n<pre><code>Column D  \n  a1\n  b1\n  c1\n  b2 \n  a2\n  e2\n</code></pre>\n\n<p>Is this possible ? Using R or Python ?</p>\n"}, {"tags": ["python", "html", "google-app-engine", "jinja2"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1476910604, "post_id": 40141338, "comment_id": 67552690, "body": "I&#39;m pretty unclear what you&#39;re asking here ... I would have suggested <code>&lt;a href=&quot;&#47;blog&#47;editpost&#47;{{p.key().id()}}&quot;&gt; Edit Post &lt;&#47;a&gt;</code> but you seem to already know how to do that.  I guess what I don&#39;t understand is <i>why</i> that isn&#39;t an acceptable solution."}, {"owner": {"reputation": 123, "user_id": 6889611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d0ed8bc5bf239b796b3155141da00fc9?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6889611/john"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1476910759, "post_id": 40141338, "comment_id": 67552772, "body": "I am just trying to learn something different such as how do I pass the %s into my html?   Because in my python method I want to be able to get id = self.request.get(&#39;id&#39;) rather than having to get the path which I already how to do. And I also don&#39;t want to do it by making the url ?id= which also I know how to do."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 2, "creation_date": 1476910871, "post_id": 40141338, "comment_id": 67552833, "body": "do you mean <code>href=&quot;{{&#39;&#47;blog&#47;editpost&#47;%s&#39; % id}}&quot;</code>?  (with your previous <code>set</code>)"}, {"owner": {"reputation": 123, "user_id": 6889611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d0ed8bc5bf239b796b3155141da00fc9?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6889611/john"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1476911483, "post_id": 40141338, "comment_id": 67553120, "body": "That works! Thanks for your help and responding so quickly!"}, {"owner": {"reputation": 10484, "user_id": 3524613, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71de987671a207271720d862fa4caafb?s=128&d=identicon&r=PG&f=1", "display_name": "GAEfan", "link": "https://stackoverflow.com/users/3524613/gaefan"}, "edited": false, "score": 0, "creation_date": 1476989034, "post_id": 40141338, "comment_id": 67593231, "body": "or <code>&lt;a href=&quot;&#47;blog&#47;editpost&#47;{{ id }}&quot;&gt; Edit Post &lt;&#47;a&gt;</code>?"}, {"owner": {"reputation": 123, "user_id": 6889611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d0ed8bc5bf239b796b3155141da00fc9?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6889611/john"}, "edited": false, "score": 0, "creation_date": 1477083227, "post_id": 40141338, "comment_id": 67638144, "body": "Thanks for your help GAEfan."}], "owner": {"reputation": 123, "user_id": 6889611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d0ed8bc5bf239b796b3155141da00fc9?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6889611/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476910797, "creation_date": 1476910400, "last_edit_date": 1476910797, "question_id": 40141338, "link": "https://stackoverflow.com/questions/40141338/pass-variable-s-to-href-with-google-app-engine", "title": "Pass variable %s to href with Google App Engine", "body": "<p>I am trying to pass my variable id to the href </p>\n\n<pre><code>   {% set id = p.key().id() %}\n\n&lt;a href=\"/blog/editpost/%s\" % id &gt; Edit Post&lt;/a&gt; \n</code></pre>\n\n<p>But it is showing up as /blog/editpost/%s instead of /blog/edit/93090902902 where the number is the post id. </p>\n\n<p>I know how to do it using ?postId = and also </p>\n\n<pre><code>&lt;a href=\"/blog/editpost/{{p.key().id()}}\"&gt; Edit Post &lt;/a&gt; \n</code></pre>\n\n<p>But with that method I have to get the last thing in the url path in my python file. I want to instead get the id request object. </p>\n\n<p>What I am asking here is how can I use %s to send my variable id instead of using some other way of sending it? </p>\n"}, {"tags": ["python", "amazon-web-services", "aws-lambda"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1476910397, "post_id": 40141313, "comment_id": 67552589, "body": "Did you search on AWS there is a lot of valuable information there, e.g. <a href=\"http://docs.aws.amazon.com/iot/latest/developerguide/iot-lambda-rule.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/iot/latest/developerguide/&hellip;</a>"}, {"owner": {"reputation": 129, "user_id": 5806371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3517507174ab3ad664597fe3ad2dafb8?s=128&d=identicon&r=PG&f=1", "display_name": "Anuj", "link": "https://stackoverflow.com/users/5806371/anuj"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1476910515, "post_id": 40141313, "comment_id": 67552652, "body": "Yes, I have been searching through Internet for past 3 days, tried a lot of different things but couldn&#39;t get it working. The AWS guide gives examples using the IOT Button for ehich they hve everything already setup. I am using RPi, so its like from scratch."}, {"owner": {"reputation": 1859, "user_id": 768952, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KVxp1.jpg?s=128&g=1", "display_name": "Xavier Hutchinson", "link": "https://stackoverflow.com/users/768952/xavier-hutchinson"}, "edited": false, "score": 0, "creation_date": 1477030635, "post_id": 40141313, "comment_id": 67607169, "body": "If you&#39;re looking to alert at thresholds and send to SNS queues when they are hit, I would look for a way to write your IoT data to cloudwatch as a custom metric, then create your alarms and notify an SNS queue."}], "answers": [{"tags": [], "owner": {"reputation": 80, "user_id": 2508347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LERE6.png?s=128&g=1", "display_name": "Rajesh Pal", "link": "https://stackoverflow.com/users/2508347/rajesh-pal"}, "is_accepted": true, "score": 0, "last_activity_date": 1561637965, "creation_date": 1561637965, "answer_id": 56790848, "question_id": 40141313, "link": "https://stackoverflow.com/questions/40141313/stream-data-from-aws-iot-to-aws-lambda-using-python/56790848#56790848", "title": "Stream data from AWS IoT to AWS Lambda using Python?", "body": "<p>In IoT Code, <strong>Create a rule</strong> for invoking a Lambda to accept JSON data. Then you can do anything with that data. </p>\n"}], "owner": {"reputation": 129, "user_id": 5806371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3517507174ab3ad664597fe3ad2dafb8?s=128&d=identicon&r=PG&f=1", "display_name": "Anuj", "link": "https://stackoverflow.com/users/5806371/anuj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 56790848, "answer_count": 1, "score": 0, "last_activity_date": 1561637965, "creation_date": 1476910300, "question_id": 40141313, "link": "https://stackoverflow.com/questions/40141313/stream-data-from-aws-iot-to-aws-lambda-using-python", "title": "Stream data from AWS IoT to AWS Lambda using Python?", "body": "<p>I am Publishing data from Raspberry Pi to AWS IoT and I can see the updates there. \nNow, I need to get that data into AWS Lambda and connect it to AWS SNS to send a message above a threshold. I know about working with SNS and IoT.\nI just want to know that how I can get the data from AWS IoT to AWS Lambda ?? \nPlease Help !!\nThanks :)</p>\n"}, {"tags": ["python", "pyqt4", "qt-designer", "attributeerror", "pyuic"], "comments": [{"owner": {"reputation": 229, "user_id": 3478288, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ed8f2c2e9b90518cc9f398aa639f3471?s=128&d=identicon&r=PG&f=1", "display_name": "Tartempion34", "link": "https://stackoverflow.com/users/3478288/tartempion34"}, "edited": false, "score": 0, "creation_date": 1476910725, "post_id": 40141281, "comment_id": 67552755, "body": "The error is very explicit. In your dataAcquisition class, there is no gpioButton attribute but you call it here: self.gpioButton.clicked.connect(self.gpioButton_clicked)"}, {"owner": {"reputation": 59, "user_id": 7044483, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9ca6beb13e9a21386a5a388a46a1e417?s=128&d=identicon&r=PG&f=1", "display_name": "M. Lagha", "link": "https://stackoverflow.com/users/7044483/m-lagha"}, "reply_to_user": {"reputation": 229, "user_id": 3478288, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ed8f2c2e9b90518cc9f398aa639f3471?s=128&d=identicon&r=PG&f=1", "display_name": "Tartempion34", "link": "https://stackoverflow.com/users/3478288/tartempion34"}, "edited": false, "score": 0, "creation_date": 1476913371, "post_id": 40141281, "comment_id": 67553982, "body": "The gpioButton is in mainwindow.py file, which was imported in the beginning of the code and called it here:  class dataAcquisition(QtGui.QMainWindow, Ui_MainWindow):"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7044483, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9ca6beb13e9a21386a5a388a46a1e417?s=128&d=identicon&r=PG&f=1", "display_name": "M. Lagha", "link": "https://stackoverflow.com/users/7044483/m-lagha"}, "edited": false, "score": 0, "creation_date": 1477422327, "post_id": 40155648, "comment_id": 67757803, "body": "That&#39;s really great! I tried the second code and now it is working!! Thank you so much @ekhumoro"}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 0, "last_activity_date": 1476969612, "creation_date": 1476969612, "answer_id": 40155648, "question_id": 40141281, "link": "https://stackoverflow.com/questions/40141281/attributeerror-dataacquisition-object-has-no-attribute-gpiobutton/40155648#40155648", "title": "AttributeError: &#39;dataAcquisition&#39; object has no attribute &#39;gpioButton&#39;", "body": "<p>You created a separate namespace for the ui, so you would need to access the button like this:</p>\n\n<pre><code>    self.ui.gpioButton.clicked.connect(self.gpioButton_clicked)\n</code></pre>\n\n<p>However, if you'd prefer to have all the widgets as attributes of the window, do this:</p>\n\n<pre><code>class gpioDialog(QtGui.QDialog, Ui_GPIODialog):\n    def __init__(self, parent=None):\n        super(gpioDialog, self).__init__(parent)\n        flags = QtCore.Qt.Drawer | QtCore.Qt.WindowStaysOnTopHint\n        self.setWindowFlags(flags)\n        self.setupUi(self)\n        self.gpioOKButton.clicked.connect(self.acceptOKButtonClicked)\n\n\nclass dataAcquisition(QtGui.QMainWindow, Ui_MainWindow):\n    def __init__(self, parent=None):\n        super(dataAcquisition, self).__init__(parent)\n        self.setupUi(self)\n        self.gpioButton.clicked.connect(self.gpioButton_clicked)\n        self.popGPIO = gpioDialog()\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7044483, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9ca6beb13e9a21386a5a388a46a1e417?s=128&d=identicon&r=PG&f=1", "display_name": "M. Lagha", "link": "https://stackoverflow.com/users/7044483/m-lagha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 40155648, "answer_count": 1, "score": 1, "last_activity_date": 1476969612, "creation_date": 1476910176, "last_edit_date": 1476969598, "question_id": 40141281, "link": "https://stackoverflow.com/questions/40141281/attributeerror-dataacquisition-object-has-no-attribute-gpiobutton", "title": "AttributeError: &#39;dataAcquisition&#39; object has no attribute &#39;gpioButton&#39;", "body": "<p>I'm trying to connect a push-button on my main window to open a new widget when I click it. But each time I run the program I get this error:</p>\n\n<blockquote>\n  <p>AttributeError: 'dataAcquisition' object has no attribute 'gpioButton'</p>\n</blockquote>\n\n<p>I will be grateful if someone can help.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>from PyQt4 import QtCore, QtGui\nfrom mainwindow import Ui_MainWindow\nfrom gpiodialog import Ui_GPIODialog\nimport sys\n\nclass gpioDialog(QtGui.QDialog, Ui_GPIODialog):\n    def __init__(self, parent=None):\n        QtGui.QDialog.__init__(self, parent)\n        flags = QtCore.Qt.Drawer | QtCore.Qt.WindowStaysOnTopHint\n        self.setWidowFlags(flags)\n        self.ui = Ui_GPIODialog\n        self.ui.setupUi(self)\n\n        self.gpioOKButton.clicked.connect(self.acceptOKButtonClicked)\n    def acceptOKButtonClicked(self):\n        self.close()        \n\n\nclass dataAcquisition(QtGui.QMainWindow, Ui_MainWindow):\n    def __init__(self, parent=None):\n        QtGui.QMainWindow.__init__(self, parent)\n        self.ui = Ui_MainWindow()\n        self.ui.setupUi(self)\n\n        self.gpioButton.clicked.connect(self.gpioButton_clicked)\n        self.popGPIO = gpioDialog()\n\n    def gpioButton_clicked(self):\n        self.popGPIO.show()\n\nif __name__ == '__main__':\n    app = QtGui.QApplication(sys.argv)\n    MainWindow = dataAcquisition()\n    MainWindow.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>mainwindow.py code:</p>\n\n<pre><code># -*- coding: utf-8 -*-\n\n# Form implementation generated from reading ui file 'mainwindow.ui'\n#\n# Created: Tue Oct 18 02:57:57 2016\n#      by: PyQt4 UI code generator 4.11.2\n#\n# WARNING! All changes made in this file will be lost!\n\nfrom PyQt4 import QtCore, QtGui\n\ntry:\n    _fromUtf8 = QtCore.QString.fromUtf8\nexcept AttributeError:\n    def _fromUtf8(s):\n        return s\n\ntry:\n    _encoding = QtGui.QApplication.UnicodeUTF8\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig, _encoding)\nexcept AttributeError:\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig)\n\nclass Ui_MainWindow(object):\n    def setupUi(self, MainWindow):\n        MainWindow.setObjectName(_fromUtf8(\"MainWindow\"))\n        MainWindow.resize(700, 600)\n        MainWindow.setMinimumSize(QtCore.QSize(700, 600))\n        MainWindow.setMaximumSize(QtCore.QSize(700, 600))\n        self.centralwidget = QtGui.QWidget(MainWindow)\n        self.centralwidget.setObjectName(_fromUtf8(\"centralwidget\"))\n        self.gpioButton = QtGui.QToolButton(self.centralwidget)\n        self.gpioButton.setGeometry(QtCore.QRect(20, 80, 181, 61))\n        self.gpioButton.setObjectName(_fromUtf8(\"gpioButton\"))\n        self.procButton = QtGui.QPushButton(self.centralwidget)\n        self.procButton.setGeometry(QtCore.QRect(20, 180, 181, 61))\n        self.procButton.setObjectName(_fromUtf8(\"procButton\"))\n        self.startButton = QtGui.QPushButton(self.centralwidget)\n        self.startButton.setEnabled(True)\n        self.startButton.setGeometry(QtCore.QRect(20, 360, 131, 51))\n        self.startButton.setObjectName(_fromUtf8(\"startButton\"))\n        self.stopButton = QtGui.QPushButton(self.centralwidget)\n        self.stopButton.setGeometry(QtCore.QRect(190, 360, 131, 51))\n        self.stopButton.setObjectName(_fromUtf8(\"stopButton\"))\n        self.plotButton = QtGui.QPushButton(self.centralwidget)\n        self.plotButton.setGeometry(QtCore.QRect(20, 460, 181, 61))\n        self.plotButton.setObjectName(_fromUtf8(\"plotButton\"))\n        self.columnView = QtGui.QColumnView(self.centralwidget)\n        self.columnView.setGeometry(QtCore.QRect(340, 50, 341, 251))\n        self.columnView.setObjectName(_fromUtf8(\"columnView\"))\n        self.label_2 = QtGui.QLabel(self.centralwidget)\n        self.label_2.setGeometry(QtCore.QRect(280, 20, 221, 21))\n        font = QtGui.QFont()\n        font.setPointSize(15)\n        font.setBold(True)\n        font.setWeight(75)\n        self.label_2.setFont(font)\n        self.label_2.setObjectName(_fromUtf8(\"label_2\"))\n        self.saveButton = QtGui.QPushButton(self.centralwidget)\n        self.saveButton.setEnabled(True)\n        self.saveButton.setGeometry(QtCore.QRect(410, 420, 211, 31))\n        self.saveButton.setObjectName(_fromUtf8(\"saveButton\"))\n        MainWindow.setCentralWidget(self.centralwidget)\n        self.menubar = QtGui.QMenuBar(MainWindow)\n        self.menubar.setGeometry(QtCore.QRect(0, 0, 700, 27))\n        self.menubar.setObjectName(_fromUtf8(\"menubar\"))\n        MainWindow.setMenuBar(self.menubar)\n        self.statusbar = QtGui.QStatusBar(MainWindow)\n        self.statusbar.setObjectName(_fromUtf8(\"statusbar\"))\n        MainWindow.setStatusBar(self.statusbar)\n\n        self.retranslateUi(MainWindow)\n        QtCore.QMetaObject.connectSlotsByName(MainWindow)\n\n    def retranslateUi(self, MainWindow):\n        MainWindow.setWindowTitle(_translate(\"MainWindow\", \"MainWindow\", None))\n        self.gpioButton.setText(_translate(\"MainWindow\", \"GPIO Number of inputs\", None))\n        self.procButton.setText(_translate(\"MainWindow\", \"Processing\", None))\n        self.startButton.setText(_translate(\"MainWindow\", \"Start Acquiring\", None))\n        self.stopButton.setText(_translate(\"MainWindow\", \"Stop Acquiring\", None))\n        self.plotButton.setText(_translate(\"MainWindow\", \"Start Live Plot\", None))\n        self.label_2.setText(_translate(\"MainWindow\", \"Data Acquisition System\", None))\n        self.saveButton.setText(_translate(\"MainWindow\", \"Save this session\\'s data\", None))\n\n\nif __name__ == \"__main__\":\n    import sys\n    app = QtGui.QApplication(sys.argv)\n    MainWindow = QtGui.QMainWindow()\n    ui = Ui_MainWindow()\n    ui.setupUi(MainWindow)\n    MainWindow.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>gpiodialog.py code:</p>\n\n<pre><code># -*- coding: utf-8 -*-\n\n# Form implementation generated from reading ui file 'gpiodialog.ui'\n#\n# Created: Tue Oct 18 03:11:51 2016\n#      by: PyQt4 UI code generator 4.11.2\n#\n# WARNING! All changes made in this file will be lost!\n\nfrom PyQt4 import QtCore, QtGui\n\ntry:\n    _fromUtf8 = QtCore.QString.fromUtf8\nexcept AttributeError:\n    def _fromUtf8(s):\n        return s\n\ntry:\n    _encoding = QtGui.QApplication.UnicodeUTF8\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig, _encoding)\nexcept AttributeError:\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig)\n\nclass Ui_GPIODialog(object):\n    def setupUi(self, GPIODialog):\n        GPIODialog.setObjectName(_fromUtf8(\"GPIODialog\"))\n        GPIODialog.resize(400, 300)\n        self.gpioOKButton = QtGui.QPushButton(GPIODialog)\n        self.gpioOKButton.setGeometry(QtCore.QRect(170, 240, 101, 31))\n        self.gpioOKButton.setObjectName(_fromUtf8(\"gpioOKButton\"))\n        self.label = QtGui.QLabel(GPIODialog)\n        self.label.setGeometry(QtCore.QRect(90, 20, 191, 21))\n        font = QtGui.QFont()\n        font.setPointSize(13)\n        font.setBold(True)\n        font.setWeight(75)\n        self.label.setFont(font)\n        self.label.setObjectName(_fromUtf8(\"label\"))\n\n        self.retranslateUi(GPIODialog)\n        QtCore.QMetaObject.connectSlotsByName(GPIODialog)\n\n    def retranslateUi(self, GPIODialog):\n        GPIODialog.setWindowTitle(_translate(\"GPIODialog\", \"Dialog\", None))\n        self.gpioOKButton.setText(_translate(\"GPIODialog\", \"OK\", None))\n        self.label.setText(_translate(\"GPIODialog\", \"Choose GPIO input bins\", None))\n\n\nif __name__ == \"__main__\":\n    import sys\n    app = QtGui.QApplication(sys.argv)\n    GPIODialog = QtGui.QDialog()\n    ui = Ui_GPIODialog()\n    ui.setupUi(GPIODialog)\n    GPIODialog.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "selenium", "raspberry-pi"], "answers": [{"comments": [{"owner": {"reputation": 3010, "user_id": 4602605, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0c921d4afb9c300fef44df63bf71e9b0?s=128&d=identicon&r=PG&f=1", "display_name": "sunwarri0r", "link": "https://stackoverflow.com/users/4602605/sunwarri0r"}, "edited": false, "score": 0, "creation_date": 1563606998, "post_id": 40141261, "comment_id": 100762879, "body": "Have you tried to run Selenium with Firefox on Ubuntu Core 18 with Raspberry Pi?"}], "tags": [], "owner": {"reputation": 201, "user_id": 839224, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e31c1beba35392c13b96e161055f7ba5?s=128&d=identicon&r=PG", "display_name": "Jean Pierre", "link": "https://stackoverflow.com/users/839224/jean-pierre"}, "is_accepted": false, "score": 5, "last_activity_date": 1518014126, "last_edit_date": 1518014126, "creation_date": 1476910101, "answer_id": 40141261, "question_id": 40141260, "link": "https://stackoverflow.com/questions/40141260/selenium-run-chrome-on-raspberry-pi/40141261#40141261", "title": "selenium run chrome on raspberry pi", "body": "<p>I have concluded, after hours and a whole night of debugging that you can't install it, because there is no chromedriver compatible with a raspberry pi processor. Even if you download the linux 32bit. You can confirm it by running this line in a terminal window <code>path/to/chromedriver</code> it will give you this error </p>\n\n<blockquote>\n  <p>cannot execute binary file: Exec format error</p>\n</blockquote>\n\n<p>Hope this helps anyone that wanted to do this :)</p>\n"}], "owner": {"reputation": 201, "user_id": 839224, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e31c1beba35392c13b96e161055f7ba5?s=128&d=identicon&r=PG", "display_name": "Jean Pierre", "link": "https://stackoverflow.com/users/839224/jean-pierre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1518014126, "creation_date": 1476910101, "question_id": 40141260, "link": "https://stackoverflow.com/questions/40141260/selenium-run-chrome-on-raspberry-pi", "title": "selenium run chrome on raspberry pi", "body": "<p>If your seeing this I guess you are looking to run chromium on a raspberry pi with selenium.</p>\n\n<p>like this <code>Driver = webdriver.Chrome(\"path/to/chomedriver\")</code> or like this <code>webdriver.Chrome()</code></p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 0, "creation_date": 1476910277, "post_id": 40141258, "comment_id": 67552534, "body": "what happens if you comment out plt.clf()?"}, {"owner": {"reputation": 1, "user_id": 4871122, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h98wqwHR_0g/AAAAAAAAAAI/AAAAAAAABYo/vE5UeeaBxHA/photo.jpg?sz=128", "display_name": "Peter Manhart", "link": "https://stackoverflow.com/users/4871122/peter-manhart"}, "reply_to_user": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 0, "creation_date": 1476911088, "post_id": 40141258, "comment_id": 67552945, "body": "@mauve - the data I&#39;m loading isn&#39;t available after 4pm, so I&#39;ll have to try this first thing in the morning, thanks for the response though!"}, {"owner": {"reputation": 3602, "user_id": 812786, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AtQA7.png?s=128&g=1", "display_name": "user812786", "link": "https://stackoverflow.com/users/812786/user812786"}, "edited": false, "score": 0, "creation_date": 1476912193, "post_id": 40141258, "comment_id": 67553464, "body": "Have you seen the discussion on this question? <a href=\"http://stackoverflow.com/questions/12670101/matplotlib-ion-function-fails-to-be-interactive\" title=\"matplotlib ion function fails to be interactive\">stackoverflow.com/questions/12670101/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 4871122, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h98wqwHR_0g/AAAAAAAAAAI/AAAAAAAABYo/vE5UeeaBxHA/photo.jpg?sz=128", "display_name": "Peter Manhart", "link": "https://stackoverflow.com/users/4871122/peter-manhart"}, "reply_to_user": {"reputation": 3602, "user_id": 812786, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AtQA7.png?s=128&g=1", "display_name": "user812786", "link": "https://stackoverflow.com/users/812786/user812786"}, "edited": false, "score": 0, "creation_date": 1476962795, "post_id": 40141258, "comment_id": 67574960, "body": "@whrrgarbl yes I did, you&#39;ll see the commented-out plt.pause statements in my code.  It didn&#39;t work."}, {"owner": {"reputation": 1, "user_id": 4871122, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h98wqwHR_0g/AAAAAAAAAAI/AAAAAAAABYo/vE5UeeaBxHA/photo.jpg?sz=128", "display_name": "Peter Manhart", "link": "https://stackoverflow.com/users/4871122/peter-manhart"}, "reply_to_user": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 0, "creation_date": 1476968415, "post_id": 40141258, "comment_id": 67578986, "body": "@mauve I tried taking plt.clf() out and it just kept plotting more and more data on top of the same graph, which I don&#39;t want... also the problem remains of, as soon as I click on the window, it becomes unresponsive"}], "owner": {"reputation": 1, "user_id": 4871122, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h98wqwHR_0g/AAAAAAAAAAI/AAAAAAAABYo/vE5UeeaBxHA/photo.jpg?sz=128", "display_name": "Peter Manhart", "link": "https://stackoverflow.com/users/4871122/peter-manhart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476910797, "creation_date": 1476910090, "last_edit_date": 1476910797, "question_id": 40141258, "link": "https://stackoverflow.com/questions/40141258/updating-matplotlib-pyplot-figure-in-python", "title": "Updating matplotlib.pyplot figure in python", "body": "<p>I have a script that takes data form an external source, runs some analysis on it, and then plots a graph in a separate window using matplotlib.pyplot.  I'm running this from iPython in the windows command prompt (with py34.3 activated).  The plot looked perfect when I just wanted to print one time, but now I'm trying to automate the updating process...  In a while loop, I'm loading new data and printing a graph.  My issue is that plt.show() blocks the rest of my code from executing.  I've tried using plt.ion() and a few other things but none of it seems to work.  For example, with plt.ion(), my plot is not formatted correctly, and after printing the first time, it then freezes and stops responding, so I have to close it and quit the program.   </p>\n\n<p>I've checked all over google and stackoverflow and generally am just a little confused about how to apply the answers I've found to my own code.  The most viable options I've found are either using a subprocess, using matplotlib animation, or just switching to ggplot2 instead of matplotlib.  </p>\n\n<p>Here's my code, I've commented out a few places where I added plt.ion() and things like that:</p>\n\n<pre><code>def display_script(args):    \n    fig = plt.figure()\n    a_plt = fig.add_subplot(2,1,1)\n    a_plt.set_title('A')\n    b_plt = fig.add_subplot(2,1,2)\n    b_plt.set_title('B') \n    plt.tight_layout()\n    #tried adding plt.ion() here but no dice\n    plt.ion()\n    plt.show()\n    plt_dict = {'A':a_plt,'B':b_plt}\n    curtime = datetime.datetime.now().time()  \n    while curtime &lt; datetime.time(14,1): \n        cur_df = current_data()\n        for curchoice in ['A','B']:\n            for label in some_labels: \n                val,proj,diffs,style = #some calculations\n                plt_dict[curchoice].plot(proj,color='b',linestyle=style,label=label)\n                #plt.pause(0.000001)\n            val = #some calculations\n            plt_dict[curchoice].plot(val,'-r',label='Current Value')\n            #plt.pause(0.000001)\n            plt_dict[curchoice].legend(loc = 'lower right')\n            #plt.pause(0.000001)\n            if curchoice in GLOBAL_LIST: \n                plt_dict[curchoice].set_xticklabels(MONTH_LIST[1:])\n                #plt.pause(0.000001)\n            else: \n                plt_dict[curchoice].set_xticklabels(MONTH_LIST)\n                #plt.pause(0.000001)\n            txt = \"\"\n            fig = plt_dict[curchoice]\n            for mnth in MONTH_LIST: \n                this_label = curchoice + '_' + mnth\n                if this_label in yest_data.keys(): \n                    curval = cur_df[this_label][0]\n                    diff = curval - yest_data[this_label]\n                    txt += \"{0}: {1:.2f} {2:.2f}\\n\".format(this_label,curval,diff)\n            if curchoice == 'A': \n                a_plt.text(9.2,7,txt)\n                #plt.pause(0.000001)\n            else: \n                a_plt.text(9.2,2,txt)\n                #plt.pause(0.000001)\n            if curchoice=='A':\n                txt = \"  {0:%H:%M:%S} - FLAGS: \\n \\n\".format(curtime)\n                for i in some_range: \n                    txt += \" example text {0}\\n\".format(i)\n                a_plt.text(0,1,txt)\n                #plt.pause(0.000001)\n        plt.subplots_adjust(bottom=0.2,right=0.7)    \n        plt.draw()\n        #plt.ion()\n        #plt.show()#block=False)\n        time.sleep(120)\n        #plt.close()\n        plt.clf()\n        #plt.ioff()\n        curtime = datetime.datetime.now().time()\n    return \n</code></pre>\n"}, {"tags": ["python", "django", "django-models", "django-rest-framework"], "comments": [{"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1476928020, "post_id": 40141190, "comment_id": 67558111, "body": "Hard to tell from only that info but I can tell you straight away \u2014 ListAPIView does not give you .post() method. <a href=\"http://www.django-rest-framework.org/api-guide/generic-views/#listapiview\" rel=\"nofollow noreferrer\">django-rest-framework.org/api-guide/generic-views/#listapivi&zwnj;&#8203;ew</a>"}, {"owner": {"reputation": 3061, "user_id": 3089468, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7f170f6ef0a458eb2fcb87231d4bc3ed?s=128&d=identicon&r=PG&f=1", "display_name": "moku", "link": "https://stackoverflow.com/users/3089468/moku"}, "reply_to_user": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1476928096, "post_id": 40141190, "comment_id": 67558132, "body": "Is there anything additional I can provide to help clarify?"}, {"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1476928298, "post_id": 40141190, "comment_id": 67558166, "body": "At which point do you get the error."}, {"owner": {"reputation": 3061, "user_id": 3089468, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7f170f6ef0a458eb2fcb87231d4bc3ed?s=128&d=identicon&r=PG&f=1", "display_name": "moku", "link": "https://stackoverflow.com/users/3089468/moku"}, "reply_to_user": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1476928620, "post_id": 40141190, "comment_id": 67558218, "body": "Sure (post updated) I get it when navigating to url(r&#39;^tests/$&#39;, TestList.as_view())"}, {"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1476928818, "post_id": 40141190, "comment_id": 67558262, "body": "So you get the error when you just going to the URL? Not posting or anything? Also why are you overloading post method with return none."}, {"owner": {"reputation": 3061, "user_id": 3089468, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7f170f6ef0a458eb2fcb87231d4bc3ed?s=128&d=identicon&r=PG&f=1", "display_name": "moku", "link": "https://stackoverflow.com/users/3089468/moku"}, "reply_to_user": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1476928920, "post_id": 40141190, "comment_id": 67558284, "body": "Yes exactly. I will need to override the post method, but first need to get the url to actually load. Removed it for clarity for the time being."}, {"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1476929246, "post_id": 40141190, "comment_id": 67558344, "body": "Your models are fine. Try doing the minimum setup: <a href=\"http://dpaste.com/1CR1HE5\" rel=\"nofollow noreferrer\">dpaste.com/1CR1HE5</a>"}, {"owner": {"reputation": 3061, "user_id": 3089468, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7f170f6ef0a458eb2fcb87231d4bc3ed?s=128&d=identicon&r=PG&f=1", "display_name": "moku", "link": "https://stackoverflow.com/users/3089468/moku"}, "reply_to_user": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1476929381, "post_id": 40141190, "comment_id": 67558369, "body": "yeah I did this the end point worked fine before I added the parser_classes = (FormParser, MultiPartParser) to the TestList"}, {"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1476929627, "post_id": 40141190, "comment_id": 67558425, "body": "Does the same happen if you use just FormParser or just MultiPartParser?"}, {"owner": {"reputation": 15098, "user_id": 4458034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f986d9d2a1920cd4c9c71110a2dc7905?s=128&d=identicon&r=PG", "display_name": "Linovia", "link": "https://stackoverflow.com/users/4458034/linovia"}, "edited": false, "score": 0, "creation_date": 1476968908, "post_id": 40141190, "comment_id": 67579322, "body": "As a general advice with Python question, please add the backtrace. This helps a lot others to figure out where the issue is and focus on that part."}, {"owner": {"reputation": 15098, "user_id": 4458034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f986d9d2a1920cd4c9c71110a2dc7905?s=128&d=identicon&r=PG", "display_name": "Linovia", "link": "https://stackoverflow.com/users/4458034/linovia"}, "edited": false, "score": 0, "creation_date": 1476968981, "post_id": 40141190, "comment_id": 67579366, "body": "And in your case, we&#39;d need the serializer as well."}], "owner": {"reputation": 3061, "user_id": 3089468, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7f170f6ef0a458eb2fcb87231d4bc3ed?s=128&d=identicon&r=PG&f=1", "display_name": "moku", "link": "https://stackoverflow.com/users/3089468/moku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 333, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476928956, "creation_date": 1476909871, "last_edit_date": 1476928956, "question_id": 40141190, "link": "https://stackoverflow.com/questions/40141190/removing-null-true-from-django-model-charfield-are-values-updated-to-empty-strin", "title": "Removing null=True from Django model CharField are values updated to empty string", "body": "<p>I have a error being thrown when I navigate to my ListCreateAPIView base url:</p>\n\n<pre><code>url(r'^tests/$', TestList.as_view())\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>coercing to Unicode: need string or buffer, NoneType found\n</code></pre>\n\n<p>which I believe to be related to the null=True in many of my CharField's throughout my various models. I ran into this error when attempting to add\n<a href=\"http://www.django-rest-framework.org/api-guide/parsers/#formparser\" rel=\"nofollow\">Django Rest Framework Parsers</a> to a ListAPIView like so:</p>\n\n<pre><code>class TestList(generics.ListCreateAPIView):\n    \"\"\"\n    \"\"\"\n\n    queryset = Tests.objects.all()\n    serializer_class = TestSerializer\n    filter_class = TestFilter\n    parser_classes = (FormParser, MultiPartParser)\n\nclass Courses(models.Model):\n    created = models.DateTimeField(default=timezone.now)\n    name = models.CharField(max_length=200, unique=True)\n    test = models.ForeignKey('Tests',\n                             blank=True,\n                             null=True,\n                             on_delete=models.CASCADE)\n\n\nclass Tests(models.Model):\n    name = models.CharField(max_length=200)\n</code></pre>\n\n<p>it's either getting upset because of the null=True on the CharField's or perhaps because of the test foreign key I'm not totally sure? Would removing null=True and migrating solve this issue? Additionally, I should probably remove the null=True on CharField's anyway, would that be updated retroactively in the database? </p>\n"}, {"tags": ["javascript", "python", "struct", "byte"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1476911692, "post_id": 40141584, "comment_id": 67553231, "body": "Is <code>5</code> equivalent to <code>&quot;\\\\x05&quot;</code>?"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1476911789, "post_id": 40141584, "comment_id": 67553287, "body": "No, &quot;\\\\x05&quot; are 4 bytes, but 5 is equal to the byte <code>\\x05</code>."}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1476912953, "post_id": 40141584, "comment_id": 67553798, "body": "What do you mean with &#171;format&#187;? This is a string with a backslash, <code>x</code> <code>0</code> and <code>5</code>."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1476913480, "post_id": 40141584, "comment_id": 67554027, "body": "Why are <code>&quot;\\\\&quot;</code> included in original string? Is <code>&quot;\\\\x05&quot;</code> intended to be the literal string <code>x05</code>? Why are <code>\\`, </code>x<code>, </code>0` not included at first element of <code>Uint8Array</code>? For example using approach described at <a href=\"http://stackoverflow.com/questions/17204912/javascript-need-functions-to-convert-a-string-containing-binary-to-hex-then-co\" title=\"javascript need functions to convert a string containing binary to hex then co\">stackoverflow.com/questions/17204912/&hellip;</a>, <code>+parseInt(&quot;0x05&quot;, 16).toString(2)</code> returns <code>101</code>, <code>String.fromCodePoint(101)</code> returns <code>&quot;e&quot;</code>. Is this not incorrect conversion?  Can ask a Question if that would be more appropriate."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1476913804, "post_id": 40141584, "comment_id": 67554159, "body": "&quot;format&quot; as in is  <code>&quot;\\\\x05&quot;</code> intended to be a literal string? Or is <code>&quot;\\\\x05&quot;</code> &quot;binary&quot;?"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 1, "creation_date": 1476915576, "post_id": 40141584, "comment_id": 67554823, "body": "the decimal number 5 as a number  to the base of 2 is 101. That is not the decimal number 101."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1476918548, "post_id": 40141584, "comment_id": 67555804, "body": "Been too long since last time looked into boolean algrebra"}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1476911396, "creation_date": 1476911396, "answer_id": 40141584, "question_id": 40141181, "link": "https://stackoverflow.com/questions/40141181/javascript-double-backslash-in-websocket-messages/40141584#40141584", "title": "JavaScript double backslash in WebSocket messages", "body": "<p>You should define the message as bytes and not as string:</p>\n\n<pre><code>var buffer = new Int8Array([5,0,0,0])\nthis.webSocket.send(buffer.buffer)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4739690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pK64B.png?s=128&g=1", "display_name": "Philip Trauner", "link": "https://stackoverflow.com/users/4739690/philip-trauner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 40141584, "answer_count": 1, "score": 0, "last_activity_date": 1476911396, "creation_date": 1476909847, "question_id": 40141181, "link": "https://stackoverflow.com/questions/40141181/javascript-double-backslash-in-websocket-messages", "title": "JavaScript double backslash in WebSocket messages", "body": "<p>I'm sending binary data over WebSocket to a Python application. This binary data is decoded by calling <code>struct.unpack(\"BH\", data\")</code> on it, requiring a 4-long bytes object.<br>\nThe problem I'm currently facing is, that all data contains duplicate backslashes, even in <code>arraybuffer</code> mode and is therefor 16 bytes long. I can't detect the varying size because there is data appended to the back of it (irrelevant for this question) and even if I could, I also couldn't find a way to strip the backslashes in Python.</p>\n\n<p>How the data is sent:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// this.webSocket.binaryType = \"arraybuffer\";   \nvar message = \"\\\\x05\\\\x00\\\\x00\\\\x00\"; // escaping required\nvar buffer = new Int8Array(message.length);\nfor (var i = 0; i &lt; message.length; i++) {\n    buffer[i] = message.charCodeAt(i);\n}\nthis.webSocket.send(buffer.buffer);\n</code></pre>\n\n<p>In comparison, this is how said data looks when defined in Python:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>b'\\x05\\x00\\x00\\x00'\n</code></pre>\n\n<p>And this is how it looks as a received message:\n</p>\n\n<pre><code>b'\\\\x05\\\\x00\\\\x00\\\\x00'\n</code></pre>\n\n<p>The ideal solution for this issue would be on the JavaScript-side because I can't really change the implementation of the Python application without breaking Python-based clients.</p>\n"}, {"tags": ["python", "bdd", "python-behave"], "comments": [{"owner": {"reputation": 466, "user_id": 1254299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9fdfdf66beceb62516fa21c3718e3dd?s=128&d=identicon&r=PG", "display_name": "Szabo Peter", "link": "https://stackoverflow.com/users/1254299/szabo-peter"}, "edited": false, "score": 0, "creation_date": 1476946253, "post_id": 40141175, "comment_id": 67564015, "body": "Why would you need that? How could someone reading it interpret a scenario like that? Perhaps you could use an additional line instead of trying to include it in the table, like this &quot;Then the var in the message should match the magic number coming from who-knows-where&quot;"}, {"owner": {"reputation": 275, "user_id": 6154148, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6bd3cb95076687eaca190af66ae979f0?s=128&d=identicon&r=PG&f=1", "display_name": "nnja", "link": "https://stackoverflow.com/users/6154148/nnja"}, "reply_to_user": {"reputation": 466, "user_id": 1254299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9fdfdf66beceb62516fa21c3718e3dd?s=128&d=identicon&r=PG", "display_name": "Szabo Peter", "link": "https://stackoverflow.com/users/1254299/szabo-peter"}, "edited": false, "score": 0, "creation_date": 1477018614, "post_id": 40141175, "comment_id": 67603592, "body": "@SzaboPeter What i mean was that you would write the feature file like that but then the logging on the console (and the JUnit XML generated) would have the value. I&#39;m not sure about this but I think this is similar to model-based testing"}], "answers": [{"tags": [], "owner": {"reputation": 215, "user_id": 7222354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f492af8a144101e721d017576c461390?s=128&d=identicon&r=PG&f=1", "display_name": "Chong", "link": "https://stackoverflow.com/users/7222354/chong"}, "is_accepted": true, "score": 1, "last_activity_date": 1484091091, "creation_date": 1484091091, "answer_id": 41580303, "question_id": 40141175, "link": "https://stackoverflow.com/questions/40141175/generate-data-for-behave-tables-in-runtime/41580303#41580303", "title": "Generate data for behave tables in runtime", "body": "<p>Probably you can combine these two steps together and in that step:</p>\n\n<ol>\n<li>do what you do for your 'when' step</li>\n<li>do a context.execute_steps with parameters, for example:</li>\n</ol>\n\n<p><code>context.execute_steps(u'''Then doing something with \"you_parameters\"'''.format(you_parameter=value)</code></p>\n\n<p>And of course you can do context.execute_steps with a table having the data you generated</p>\n"}], "owner": {"reputation": 275, "user_id": 6154148, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6bd3cb95076687eaca190af66ae979f0?s=128&d=identicon&r=PG&f=1", "display_name": "nnja", "link": "https://stackoverflow.com/users/6154148/nnja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 41580303, "answer_count": 1, "score": 0, "last_activity_date": 1484091091, "creation_date": 1476909830, "question_id": 40141175, "link": "https://stackoverflow.com/questions/40141175/generate-data-for-behave-tables-in-runtime", "title": "Generate data for behave tables in runtime", "body": "<p>I have a behave test where I would like to have part of the data inside a behave table to be generated after a step has executed. E.g.</p>\n\n<pre><code>Given I have a step\nWhen I executed some other step\nThen the message should have the following data\n     | field | value |\n     | a     | 20    |\n     | b     | 30    |\n     | var   | &lt;val&gt; |\n</code></pre>\n\n<p>Once the <code>when</code> step has been executed, I would like to modify <code>&lt;val&gt;</code> to some value depending on that step.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 2, "creation_date": 1476910897, "post_id": 40141171, "comment_id": 67552847, "body": "For this to be a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> you need to tell us what the value of <code>sequence</code> was when you got the error and show us the entire traceback for the error. Also, what do you mean by &quot;reverse the number and add it to the original until it becomes a palindrome&quot;? (Especially the <i>until</i>: is this done repeatedly to one number?)"}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1476912720, "post_id": 40141171, "comment_id": 67553694, "body": "My psychic powers tell me this line is wrong: <code>sequence = seq_sum</code>."}], "answers": [{"tags": [], "owner": {"reputation": 239, "user_id": 6936386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3110aea73f3f16d0d77314b16a3390c?s=128&d=identicon&r=PG&f=1", "display_name": "boboquack", "link": "https://stackoverflow.com/users/6936386/boboquack"}, "is_accepted": false, "score": 0, "last_activity_date": 1476913444, "creation_date": 1476913444, "answer_id": 40142008, "question_id": 40141171, "link": "https://stackoverflow.com/questions/40141171/python-finding-palindromes-in-a-list/40142008#40142008", "title": "Python: Finding palindromes in a list", "body": "<p>I assume that you mean that you want the final list to contain the lowest palindrome in the sequence formed by the sum of the previous number in the sequence and the result of reversing the previous number in the sequence.</p>\n\n<p>If so, here is some code (not bulletproof):</p>\n\n<pre><code>#checks if a number is a palindrome by comparing the string written fowards\n#with the string written backwards\ndef is_pal(x):\n    if str(x)==str(x)[::-1]:\n        return True\n    return False\n\n#iterates a number by adding and reversing until it is a palindrom\ndef iter_pal(x):\n    while not is_pal(x):\n        x+=int(str(x)[::-1]) #adds the number's reverse to itself\n    return x        \n\n#main program\ndef main():\n    #gets input\n    lower = int(input(\"Type the lower bound:    \"))\n    upper = int(input(\"Type the upper bound:    \"))\n\n    #uses range to make the sequence of numbers\n    sequence = list(range(lower,upper+1))\n\n    #iterates through the list performing iter_pal\n    for i in range(upper-lower+1):\n        sequence[i]=iter_pal(sequence[i])\n\n    #prints the final sequence\n    print(sequence)\n\nmain()\n</code></pre>\n\n<p>I'm not sure what you will do with the <a href=\"https://en.wikipedia.org/wiki/Lychrel_number\" rel=\"nofollow\">Lychrel numbers</a>.</p>\n"}], "owner": {"reputation": 29, "user_id": 6837885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10210934373343611/picture?type=large", "display_name": "Humberto Atondo", "link": "https://stackoverflow.com/users/6837885/humberto-atondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1584, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476913444, "creation_date": 1476909804, "last_edit_date": 1476912026, "question_id": 40141171, "link": "https://stackoverflow.com/questions/40141171/python-finding-palindromes-in-a-list", "title": "Python: Finding palindromes in a list", "body": "<pre><code>def num_sequence (num1, num2):\n#This function takes the lower and upper bound and builds a list.\n    array = []\n    for i in range(num2 + 1):\n        if i &gt;= num1:\n            array.append(i)\n    return array\n\ndef inverted_sequence (array):\n#This function takes the previous and list inverts the numbers in every element.\n    for i in range(len(array)):\n        if array[i] &gt; 10:\n            array[i] = str(array[i])\n            #Converts the i element of the array to a string.\n            array[i] = array[i][::-1]\n            #Inverts the the position of the numbers in every element.\n            array[i] = int(array[i])\n            #Converts the i element of the array to an integer.\n    return array\n\n\ndef main ():\n    #Main program.\n\n    lower = int(input(\"Type the lower bound:    \"))\n    upper = int(input(\"Type the upper bound:    \"))\n\n    sequence = num_sequence(lower, upper)\n    inv_sequence = sequence[:]\n    inv_sequence = inverted_sequence(inv_sequence)\n\n    print (sequence)\n    print (inv_sequence)\n    \"\"\"While loop inside the for loop that checks if the number is a palindrome.\n    if to check if it is a palindrome return True, else return False\"\"\"\n    pal_count = 0\n    seq_sum = []\n    for i in range(len(sequence)):\n        if sequence[i] != inv_sequence[i]:\n            while sequence[i] != inv_sequence[i]:\n                seq_sum.append(sequence[i] + inv_sequence[i])\n                sequence = seq_sum\n                inv_sequence = inverted_sequence(inv_sequence)\n                print (seq_sum)\n        if sequence[i] == inv_sequence[i]:\n            pal_count *= 1\n    print (pal_count)\n\n\nmain()\n</code></pre>\n\n<p>I am trying to make a program that finds all the palindromes in a range of numbers and if they are not palindromes, reverse the number and add it to the original until it becomes a palindrome. In my code I created a list of numbers with two inputs and name the list sequence. inv_sequence is the previous list but with numbers of each element reversed. when i try to add sequence[i] and inv_sequence[i] the program throws an error saying that the list is out of range. I am testing the program with the lower bound being 5 and the upper bound being 15.</p>\n"}, {"tags": ["python", "json", "comments", "eve", "cerberus"], "comments": [{"owner": {"reputation": 1466, "user_id": 4950452, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/34c45d319ceb8a68f08256db8a1f77a1?s=128&d=identicon&r=PG", "display_name": "gcw", "link": "https://stackoverflow.com/users/4950452/gcw"}, "edited": false, "score": 1, "creation_date": 1476926934, "post_id": 40141144, "comment_id": 67557879, "body": "I have commented lines along my schemas using <code>#</code> like this <a href=\"http://python-eve.org/config.html#schema-definition\" rel=\"nofollow noreferrer\">example</a>. The  problem should be the way <code>json.load</code> deals with the comments. In my case I have the schema directly declared in <code>settings.py</code>. Instead of loading from a file, you could just import the schema from another module."}, {"owner": {"reputation": 1466, "user_id": 4950452, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/34c45d319ceb8a68f08256db8a1f77a1?s=128&d=identicon&r=PG", "display_name": "gcw", "link": "https://stackoverflow.com/users/4950452/gcw"}, "edited": false, "score": 1, "creation_date": 1476928807, "post_id": 40141144, "comment_id": 67558258, "body": "Is your json file format like the one on <a href=\"http://stackoverflow.com/questions/2835559/parsing-values-from-a-json-file-in-python#2835672\">this</a> correct answer? In this format you can use <code>#</code>. Mind the enclosing <code>{ }</code> for the whole file."}, {"owner": {"reputation": 6274, "user_id": 1668293, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/ypdRN.jpg?s=128&g=1", "display_name": "alemol", "link": "https://stackoverflow.com/users/1668293/alemol"}, "reply_to_user": {"reputation": 1466, "user_id": 4950452, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/34c45d319ceb8a68f08256db8a1f77a1?s=128&d=identicon&r=PG", "display_name": "gcw", "link": "https://stackoverflow.com/users/4950452/gcw"}, "edited": false, "score": 0, "creation_date": 1478024933, "post_id": 40141144, "comment_id": 67985956, "body": "@gcw is right. I tried using only the first line commented with # and fails too."}], "answers": [{"tags": [], "owner": {"reputation": 6351, "user_id": 323269, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3550767c858c787c35c280047ff789c?s=128&d=identicon&r=PG", "display_name": "Nicola Iarocci", "link": "https://stackoverflow.com/users/323269/nicola-iarocci"}, "is_accepted": false, "score": 1, "last_activity_date": 1476946911, "creation_date": 1476946911, "answer_id": 40147557, "question_id": 40141144, "link": "https://stackoverflow.com/questions/40141144/how-to-add-comments-in-a-cerberus-schema/40147557#40147557", "title": "How to add comments in a Cerberus schema?", "body": "<p>See if this example from the <a href=\"http://python-eve.org/config.html#schema-definition\" rel=\"nofollow\">documentation</a> helps:</p>\n\n<pre><code># 'people' schema definition\n'schema'= {\n    'firstname': {\n        'type': 'string',\n        'minlength': 1,\n        'maxlength': 10,\n    },\n    'lastname': {\n        'type': 'string',\n        'minlength': 1,\n        'maxlength': 15,\n        'required': True,\n        'unique': True,\n    },\n    # 'role' is a list, and can only contain values from 'allowed'.\n    'role': {\n        'type': 'list',\n        'allowed': [\"author\", \"contributor\", \"copy\"],\n    },\n    # An embedded 'strongly-typed' dictionary.\n    'location': {\n        'type': 'dict',\n        'schema': {\n            'address': {'type': 'string'},\n            'city': {'type': 'string'}\n        },\n    },\n    'born': {\n        'type': 'datetime',\n    },\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6274, "user_id": 1668293, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/ypdRN.jpg?s=128&g=1", "display_name": "alemol", "link": "https://stackoverflow.com/users/1668293/alemol"}, "is_accepted": false, "score": 1, "last_activity_date": 1478026777, "creation_date": 1478026777, "answer_id": 40366826, "question_id": 40141144, "link": "https://stackoverflow.com/questions/40141144/how-to-add-comments-in-a-cerberus-schema/40366826#40366826", "title": "How to add comments in a Cerberus schema?", "body": "<p>The problem was that json.load() does not support comments. Here the complete solution.</p>\n\n<p>In my Eve settings file:</p>\n\n<pre><code>import commentjson as json\n...\nannot_schema = json.load(f)\n...\ntaxonannot_endopoint = {'resource_method': ['GET', 'POST'],\n                        'item_methods': ['GET', 'PUT', 'PATCH'],\n                        'schema': annot_schema}\n</code></pre>\n\n<p>Now my schema file accepts commented lines:</p>\n\n<pre><code># comment\n{\n  \"primary_title\": {\n          \"type\": \"string\",\n          \"required\": true\n          },\n...\n}\n</code></pre>\n"}], "owner": {"reputation": 6274, "user_id": 1668293, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/ypdRN.jpg?s=128&g=1", "display_name": "alemol", "link": "https://stackoverflow.com/users/1668293/alemol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1478026777, "creation_date": 1476909698, "question_id": 40141144, "link": "https://stackoverflow.com/questions/40141144/how-to-add-comments-in-a-cerberus-schema", "title": "How to add comments in a Cerberus schema?", "body": "<p>I am using python-eve and i want to add some comments in the schema file (.json). So until now i have tried different comment styles:</p>\n\n<pre><code>/*TYPE_OF_REFERENCE_MAPPING = {\n    'ABST': 'Abstract',\n    'ADVS': 'Audiovisual material',\n    'AGGR': 'Aggregated Database',\n    'ANCIENT': 'Ancient Text',\n    'ART': 'Art Work',\n    ...\n}*/\n\n//TYPE_OF_REFERENCE_MAPPING = {\n//    'ABST': 'Abstract',\n//    'ADVS': 'Audiovisual material',\n//    'AGGR': 'Aggregated Database',\n//    'ANCIENT': 'Ancient Text',\n//    'ART': 'Art Work',\n//    ...\n\n#TYPE_OF_REFERENCE_MAPPING = {\n#    'ABST': 'Abstract',\n#    'ADVS': 'Audiovisual material',\n#    'AGGR': 'Aggregated Database',\n#    'ANCIENT': 'Ancient Text',\n#    'ART': 'Art Work',\n#    ...\n#}\n</code></pre>\n\n<p>All producing an error:</p>\n\n<pre><code>/api/settings.py\", line 25, in &lt;module&gt;\n    cite_schema = json.load(f)\n  File \"/usr/lib/python2.7/json/__init__.py\", line 290, in load\n    **kw)\n  File \"/usr/lib/python2.7/json/__init__.py\", line 338, in loads\n    return _default_decoder.decode(s)\n  File \"/usr/lib/python2.7/json/decoder.py\", line 369, in decode\n    raise ValueError(errmsg(\"Extra data\", s, end, len(s)))\nValueError: Extra data: line 233 column 1 - line 238 column 10 (char 3943 - 4111)\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 935, "user_id": 2262777, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rLSZZ.jpg?s=128&g=1", "display_name": "AlliDeacon", "link": "https://stackoverflow.com/users/2262777/allideacon"}, "edited": false, "score": 0, "creation_date": 1476910169, "post_id": 40141206, "comment_id": 67552477, "body": "Beautiful!  Thank you so much!"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 935, "user_id": 2262777, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rLSZZ.jpg?s=128&g=1", "display_name": "AlliDeacon", "link": "https://stackoverflow.com/users/2262777/allideacon"}, "edited": false, "score": 0, "creation_date": 1476910367, "post_id": 40141206, "comment_id": 67552571, "body": "No worries, you might want to consider using a list in place of tuples if you are going to be modifying a lot if the logic of your code allows it."}, {"owner": {"reputation": 935, "user_id": 2262777, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rLSZZ.jpg?s=128&g=1", "display_name": "AlliDeacon", "link": "https://stackoverflow.com/users/2262777/allideacon"}, "edited": false, "score": 0, "creation_date": 1476910507, "post_id": 40141206, "comment_id": 67552645, "body": "I have a list of tuples that I&#39;m subbing in the values from the xref dict to.  It&#39;s a list of results from a pyodbc fetchall.  Is that what you mean?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 935, "user_id": 2262777, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rLSZZ.jpg?s=128&g=1", "display_name": "AlliDeacon", "link": "https://stackoverflow.com/users/2262777/allideacon"}, "edited": false, "score": 0, "creation_date": 1476910573, "post_id": 40141206, "comment_id": 67552677, "body": "Ah ok, don&#39;t sweat it then, I thought it may be something you had control over creating."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1476910312, "last_edit_date": 1476910312, "creation_date": 1476909896, "answer_id": 40141206, "question_id": 40141134, "link": "https://stackoverflow.com/questions/40141134/use-a-xref-of-values-to-sub-into-tuple-based-on-value-python/40141206#40141206", "title": "Use a xref of values to sub into tuple based on value - Python", "body": "<p>Unpack and access the dict using the first element, presuming you have an list of tuples:</p>\n\n<pre><code>internal_customer = {'01':'11', '03':'33', '05':'55', '07':'77', '08':'88', '06':'66', '09':'22', '11':'18', '12':'19'}\n\nlst = [('03', 'S/N A1631703'),('05', 'S/N A1631703')]\n\nlst[:] = ((internal_customer[a], b) for a,b in t)    \nprint(t)\n</code></pre>\n\n<p>tuples are immutable so there is no notion of mutating, you have to create a new tuple comprising of the new value from the dict and the existing second element. The <code>lst[:]</code> syntax at least allows you to modify the original list. You can of course just reassign the name or create a completely new list if you want to maintain the original.</p>\n"}], "owner": {"reputation": 935, "user_id": 2262777, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rLSZZ.jpg?s=128&g=1", "display_name": "AlliDeacon", "link": "https://stackoverflow.com/users/2262777/allideacon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 40141206, "answer_count": 1, "score": 1, "last_activity_date": 1476910312, "creation_date": 1476909665, "question_id": 40141134, "link": "https://stackoverflow.com/questions/40141134/use-a-xref-of-values-to-sub-into-tuple-based-on-value-python", "title": "Use a xref of values to sub into tuple based on value - Python", "body": "<p>I have a list of xref values</p>\n\n<pre><code>internal_customer = {'01':'11', '03':'33', '05':'55', '07':'77', '08':'88', '06':'66', '09':'22', '11':'18', '12':'19'}\n</code></pre>\n\n<p>that I would like to use to sub a value in a tuple:</p>\n\n<pre><code>('03', 'S/N A1631703')\n</code></pre>\n\n<p>So my resulting tuple would be</p>\n\n<pre><code>('33', 'S/N A1631703')\n</code></pre>\n\n<p>Can someone point me in the direction of the tools I could use to accomplish this?  </p>\n"}, {"tags": ["python", "docker", "port", "jupyter-notebook", "tensorflow-serving"], "comments": [{"owner": {"reputation": 3314, "user_id": 5714445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7ee135cc6418c933211c8cab3ee8a63?s=128&d=identicon&r=PG&f=1", "display_name": "R. S. Nikhil Krishna", "link": "https://stackoverflow.com/users/5714445/r-s-nikhil-krishna"}, "edited": false, "score": 0, "creation_date": 1476909454, "post_id": 40141020, "comment_id": 67552139, "body": "Have you tried entering <code>localhost:8888</code> in the address bar?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 3314, "user_id": 5714445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7ee135cc6418c933211c8cab3ee8a63?s=128&d=identicon&r=PG&f=1", "display_name": "R. S. Nikhil Krishna", "link": "https://stackoverflow.com/users/5714445/r-s-nikhil-krishna"}, "edited": false, "score": 0, "creation_date": 1476909474, "post_id": 40141020, "comment_id": 67552153, "body": "@R.S.NikhilKrishna The notebook is on <code>8810</code>"}], "owner": {"reputation": 783, "user_id": 6865456, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a11db9c620a28f26e5593a3fab778fd5?s=128&d=identicon&r=PG", "display_name": "Vasanti", "link": "https://stackoverflow.com/users/6865456/vasanti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 506, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476985865, "creation_date": 1476909201, "last_edit_date": 1476985865, "question_id": 40141020, "link": "https://stackoverflow.com/questions/40141020/unable-to-access-jupyter-notebook-in-the-web-browser", "title": "Unable to access Jupyter notebook in the web browser", "body": "<p>I am running a docker container and I need to connect to Jupyter notebook's web application on my browser. I have installed the Jupyter notebooks and on executing the command \"jupyter notebook --port 6006\" for running the notebook, the following message is displayed:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Wth7n.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/Wth7n.png\" alt=\"enter image description here\"></a></p>\n\n<p>The docker inspect command states the following:</p>\n\n<pre><code>\"Ports\":{\n      \"6006/tcp\":null,\n      \"8888/tcp\":null\n}\n</code></pre>\n\n<p>However, on opening the Jupyter web application in Chrome using \"<a href=\"http://192.168.99.102:6006/\" rel=\"nofollow\">http://192.168.99.102:6006/</a>\", an error is displayed stating the 'site cannot be reached'. Could someone help me in connecting the Jupyter notebook web application.</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["python", "html", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5568935, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/96bf8fab712f306f0fdfa1e74ca9ee25?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/5568935/aditya"}, "edited": false, "score": 0, "creation_date": 1476911930, "post_id": 40141433, "comment_id": 67553355, "body": "Wow. Ok. It&#39;s gonna take me a while to understand all of this.  I have no idea how json works so I don&#39;t think that&#39;s a viable option for me. But thank you so much."}, {"owner": {"reputation": 43, "user_id": 5568935, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/96bf8fab712f306f0fdfa1e74ca9ee25?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/5568935/aditya"}, "edited": false, "score": 0, "creation_date": 1476912073, "post_id": 40141433, "comment_id": 67553415, "body": "Umm, why is values taken as a dictionary?"}, {"owner": {"reputation": 43, "user_id": 5568935, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/96bf8fab712f306f0fdfa1e74ca9ee25?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/5568935/aditya"}, "edited": false, "score": 0, "creation_date": 1476912596, "post_id": 40141433, "comment_id": 67553640, "body": "I&#39;m not sure how this is supposed to work. Because so far, i&#39;ve only got a single .cgi script which has all my html code as well as the required python code. So I don&#39;t understand why you&#39;re opening a file and then taking the output into another one. Sorry. I&#39;m new at python."}, {"owner": {"reputation": 1281, "user_id": 266852, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36b32e9c5c886960a4559a4cdac9dd62?s=128&d=identicon&r=PG", "display_name": "dgg32", "link": "https://stackoverflow.com/users/266852/dgg32"}, "reply_to_user": {"reputation": 43, "user_id": 5568935, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/96bf8fab712f306f0fdfa1e74ca9ee25?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/5568935/aditya"}, "edited": false, "score": 0, "creation_date": 1476953942, "post_id": 40141433, "comment_id": 67568816, "body": "What kind of interaction do you have with your cgi code? The cgi script should have its html somewhere, either hardcoded in itself or it takes a template somewhere and modifies it and returns it. Either way, you need to access that html part and adapt it so that your python code can hand over the options."}, {"owner": {"reputation": 43, "user_id": 5568935, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/96bf8fab712f306f0fdfa1e74ca9ee25?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/5568935/aditya"}, "edited": false, "score": 0, "creation_date": 1476971878, "post_id": 40141433, "comment_id": 67581749, "body": "The cgi code as well as the html are all in a single file. I&#39;m using print &quot;&quot;&quot; html &quot;&quot;&quot; to print the html sections."}, {"owner": {"reputation": 1281, "user_id": 266852, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36b32e9c5c886960a4559a4cdac9dd62?s=128&d=identicon&r=PG", "display_name": "dgg32", "link": "https://stackoverflow.com/users/266852/dgg32"}, "reply_to_user": {"reputation": 43, "user_id": 5568935, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/96bf8fab712f306f0fdfa1e74ca9ee25?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/5568935/aditya"}, "edited": false, "score": 0, "creation_date": 1476973002, "post_id": 40141433, "comment_id": 67582604, "body": "Then in the cgi file, you need to find the html section and modify it so that it can accept the results from your python script."}], "tags": [], "owner": {"reputation": 1281, "user_id": 266852, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36b32e9c5c886960a4559a4cdac9dd62?s=128&d=identicon&r=PG", "display_name": "dgg32", "link": "https://stackoverflow.com/users/266852/dgg32"}, "is_accepted": false, "score": 1, "last_activity_date": 1477816573, "last_edit_date": 1477816573, "creation_date": 1476910755, "answer_id": 40141433, "question_id": 40141000, "link": "https://stackoverflow.com/questions/40141000/html-select-options-from-a-python-list/40141433#40141433", "title": "HTML select options from a python list", "body": "<p>You need to generate a list of \"option\"s and pass them over to your javascript to make the list</p>\n\n<pre><code>values = {\"A\": \"One\", \"B\": \"Two\", \"C\": \"Three\"}\noptions = []\n\nfor value in sorted(values.keys()):\n    options.append(\"&lt;option value='\" + value + \"'&gt;\" + values[value] + \"&lt;/option&gt;\")\n</code></pre>\n\n<p>Then inject \"options\" into your html. Say, in your \"template.html\" there is a line:</p>\n\n<pre><code>var options = $python_list;\n</code></pre>\n\n<p>Then at the end of your python script:</p>\n\n<pre><code>####open the html template file, read it into 'content'\nhtml_file = \"template.html\"\nf = open(html_file, 'r')\ncontent = f.read()\nf.close()\n\n####replace the place holder with your python-generated list\ncontent = content.replace(\"$python_list\", json.dumps(options))\n\n####write content into the final html\noutput_html_file = \"index.html\"\nf = open(output_html_file, 'w')\nf.write(temp_content)\nf.close()\n</code></pre>\n\n<p>In your \"index.html\", you should have one line after \"var options = ...\" that takes the list and generate the dropdown.</p>\n\n<pre><code>$('#my_dropdown').append(options.join(\"\")).selectmenu();\n</code></pre>\n\n<p>Alternatively, I suggest that you use your python to generate a json file (with json.dumps()), a file called \"config.json\" maybe. And your html javascript file should read this json file to render the final page. So in your json file, there should be something like:</p>\n\n<p>{ ... \"options\": [\"One\", \"Two\", \"Three\"] ...}</p>\n\n<p>And in your html <code>&lt;script&gt;</code> section, you could read the option values</p>\n\n<pre><code>d3.json(\"config.json\", function(data)) {\n var options = [];\n for (var i= 0; i &lt; data.options.length; i++)\n    {\n      options.push(\"&lt;option value='\" + data.options[i] + \"'&gt;\" + data.options[i] + \"&lt;/option&gt;\");\n\n    }\n $('#my_dropdown').append(options.join(\"\")).selectmenu();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 5568935, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/96bf8fab712f306f0fdfa1e74ca9ee25?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/5568935/aditya"}, "is_accepted": false, "score": 0, "last_activity_date": 1476970679, "creation_date": 1476970679, "answer_id": 40156092, "question_id": 40141000, "link": "https://stackoverflow.com/questions/40141000/html-select-options-from-a-python-list/40156092#40156092", "title": "HTML select options from a python list", "body": "<p>This is an easier way to do this.</p>\n\n<pre><code>import cgitb\ncgitb.enable()\n\nimport cgi\nform = cgi.FieldStorage()\nlister = ['a','b','c']\n\nhtml_list = ''\nfor value in lister:\n   html_list += '&lt;option value={0}&gt;{0}&lt;/option&gt;'.format(value)\n\nhtml = \"\"\"Content-type: text/html\\n\n\n&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;select&gt;\n   {}\n&lt;/select&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\"\"\".format(html_list)\nprint(html)\n</code></pre>\n\n<p>More details here: <a href=\"http://python-forum.io/Thread-string-format-and-string-expressions\" rel=\"nofollow\">http://python-forum.io/Thread-string-format-and-string-expressions</a></p>\n"}], "owner": {"reputation": 43, "user_id": 5568935, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/96bf8fab712f306f0fdfa1e74ca9ee25?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/5568935/aditya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3214, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1477816573, "creation_date": 1476909099, "question_id": 40141000, "link": "https://stackoverflow.com/questions/40141000/html-select-options-from-a-python-list", "title": "HTML select options from a python list", "body": "<p>I'm writing a python cgi script to setup a Hadoop cluster. \nI want to create an HTML select dropdown where the options are taken from a python list. Is this possible?? \nI've looked around a lot. Couldn't find any proper answer to this.</p>\n\n<p>This is what i've found so far on another thread...</p>\n\n<pre><code>def makeSelect(name,values):\n    SEL = '&lt;select name=\"{0}\"&gt;\\n{1}&lt;/select&gt;\\n'\n    OPT = '&lt;option value=\"{0}\"&gt;{0}&lt;/option&gt;\\n'\n    return SEL.format(name, ''.join(OPT.format(v) for v in values))\n</code></pre>\n\n<p>I really need some help. Please. Thanks.</p>\n"}, {"tags": ["python", "python-3.x", "directory", "spyder"], "comments": [{"owner": {"reputation": 3314, "user_id": 5714445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7ee135cc6418c933211c8cab3ee8a63?s=128&d=identicon&r=PG&f=1", "display_name": "R. S. Nikhil Krishna", "link": "https://stackoverflow.com/users/5714445/r-s-nikhil-krishna"}, "edited": false, "score": 0, "creation_date": 1476909669, "post_id": 40140958, "comment_id": 67552244, "body": "Is your code in the &#39;Desktop&#39; folder?"}, {"owner": {"reputation": 261, "user_id": 5584020, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/78d687d7dbfdf626151984cefbbe4354?s=128&d=identicon&r=PG&f=1", "display_name": "SignalProcessed", "link": "https://stackoverflow.com/users/5584020/signalprocessed"}, "reply_to_user": {"reputation": 3314, "user_id": 5714445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7ee135cc6418c933211c8cab3ee8a63?s=128&d=identicon&r=PG&f=1", "display_name": "R. S. Nikhil Krishna", "link": "https://stackoverflow.com/users/5714445/r-s-nikhil-krishna"}, "edited": false, "score": 0, "creation_date": 1476909731, "post_id": 40140958, "comment_id": 67552272, "body": "Yes, it is in there."}], "answers": [{"comments": [{"owner": {"reputation": 261, "user_id": 5584020, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/78d687d7dbfdf626151984cefbbe4354?s=128&d=identicon&r=PG&f=1", "display_name": "SignalProcessed", "link": "https://stackoverflow.com/users/5584020/signalprocessed"}, "edited": false, "score": 0, "creation_date": 1476911008, "post_id": 40141235, "comment_id": 67552908, "body": "Thank you for the answer!"}], "tags": [], "owner": {"reputation": 3314, "user_id": 5714445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7ee135cc6418c933211c8cab3ee8a63?s=128&d=identicon&r=PG&f=1", "display_name": "R. S. Nikhil Krishna", "link": "https://stackoverflow.com/users/5714445/r-s-nikhil-krishna"}, "is_accepted": true, "score": 2, "last_activity_date": 1476909999, "creation_date": 1476909999, "answer_id": 40141235, "question_id": 40140958, "link": "https://stackoverflow.com/questions/40140958/python-spyder-general-working-directory/40141235#40141235", "title": "Python/Spyder: General Working Directory", "body": "<p>The answer that you are technically looking for is using <code>os.chdir()</code> as follows</p>\n\n<pre><code>import os\nos.chdir('.', 'data')\n#THE REST OF THE CODE IS THE SAME\nwith open(r'file.txt', 'r') as data_file:\n</code></pre>\n\n<p>A safer answer would however be </p>\n\n<pre><code>def doTheThing(fName):\n    return os.path.join(os.getcwd(),'data',fName)\n\nwith open(doTheThing('file.txt'), 'r') as data_file:\n</code></pre>\n"}], "owner": {"reputation": 261, "user_id": 5584020, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/78d687d7dbfdf626151984cefbbe4354?s=128&d=identicon&r=PG&f=1", "display_name": "SignalProcessed", "link": "https://stackoverflow.com/users/5584020/signalprocessed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1149, "favorite_count": 0, "accepted_answer_id": 40141235, "answer_count": 1, "score": 2, "last_activity_date": 1476909999, "creation_date": 1476908911, "question_id": 40140958, "link": "https://stackoverflow.com/questions/40140958/python-spyder-general-working-directory", "title": "Python/Spyder: General Working Directory", "body": "<p>So far I have code that opens a text file, manipulates it into a pandas data file, then exports to excel.</p>\n\n<p>I'm sharing this code with other people, and we all have the same working directory within Spyder. All the code works fine, the only lines I want to manipulate are the opening of the file, and the exporting of the file.</p>\n\n<pre><code>with open(r'C:\\Users\\\"my_name\"\\Desktop\\data\\file.txt', 'r') as data_file:\n</code></pre>\n\n<hr>\n\n<p>The issue here is, I want to set my working directory to just \"\\data\" so that I can just write: </p>\n\n<pre><code>with open(r'file.txt', 'r') as data_file:\n</code></pre>\n\n<p>this way, the people I send it to, who also have \"\\data\" as their working directory on their computer can just run the code, and it will select the \"file.txt\" that is in their data directory.</p>\n"}, {"tags": ["python", "performance", "numpy", "vectorization", "array-broadcasting"], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 2356181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ea8c89cb6acc37e682132425d0219d19?s=128&d=identicon&r=PG", "display_name": "FinanceGuyThatCantCode", "link": "https://stackoverflow.com/users/2356181/financeguythatcantcode"}, "edited": false, "score": 0, "creation_date": 1476912688, "post_id": 40141272, "comment_id": 67553679, "body": "I see what you are doing, but looking for something more general than that - I don&#39;t want to have to know what the function is a priori.  I want to be able to pass the objective function I am ultimately going to optimize parameters for into my optimizer and I can&#39;t assume that the functional form will be some combination of polynomials, sqrts, logs, etc.   Can you do this using a call of quadratic_func?"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 361, "user_id": 2356181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ea8c89cb6acc37e682132425d0219d19?s=128&d=identicon&r=PG", "display_name": "FinanceGuyThatCantCode", "link": "https://stackoverflow.com/users/2356181/financeguythatcantcode"}, "edited": false, "score": 0, "creation_date": 1476912881, "post_id": 40141272, "comment_id": 67553771, "body": "@FinanceGuyThatCantCode Yeah that&#39;s the thing with NumPy vectorization, there&#39;s isn&#39;t a way that would take any generic func and speed it up. You can look into cython or numba if working with some specific functionality that could not be translated into NumPy funcs or ufuncs."}, {"owner": {"reputation": 361, "user_id": 2356181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ea8c89cb6acc37e682132425d0219d19?s=128&d=identicon&r=PG", "display_name": "FinanceGuyThatCantCode", "link": "https://stackoverflow.com/users/2356181/financeguythatcantcode"}, "edited": false, "score": 0, "creation_date": 1476913025, "post_id": 40141272, "comment_id": 67553822, "body": "I guess that is why I couldn&#39;t figure it out myself!  Would be a nice feature though....and to think I could have asked the Continuum guys who were in my office today!"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 1, "last_activity_date": 1476910457, "last_edit_date": 1476910457, "creation_date": 1476910128, "answer_id": 40141272, "question_id": 40140942, "link": "https://stackoverflow.com/questions/40140942/numpy-how-to-vectorize-parameters-of-a-functional-form-of-a-function-applied-to/40141272#40141272", "title": "Numpy: How to vectorize parameters of a functional form of a function applied to a data set", "body": "<p>One approach using a combination of <a href=\"https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html\" rel=\"nofollow\"><code>broadcasting</code></a> and <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.einsum.html\" rel=\"nofollow\"><code>np.einsum</code></a> -</p>\n\n<pre><code>np.einsum('ij,jk-&gt;ik',nodes,x**np.array([2,1,0])[:,None])\n</code></pre>\n\n<p>Another one using matrix-multiplication with <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.dot.html\" rel=\"nofollow\"><code>np.dot</code></a> -</p>\n\n<pre><code>nodes.dot(x**np.array([2,1,0])[:,None])\n</code></pre>\n"}], "owner": {"reputation": 361, "user_id": 2356181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ea8c89cb6acc37e682132425d0219d19?s=128&d=identicon&r=PG", "display_name": "FinanceGuyThatCantCode", "link": "https://stackoverflow.com/users/2356181/financeguythatcantcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1485464435, "creation_date": 1476908872, "last_edit_date": 1485464435, "question_id": 40140942, "link": "https://stackoverflow.com/questions/40140942/numpy-how-to-vectorize-parameters-of-a-functional-form-of-a-function-applied-to", "title": "Numpy: How to vectorize parameters of a functional form of a function applied to a data set", "body": "<p>Ultimately, I want to remove all explicit loops in the code below to take advantage of numpy vectorization and function calls in C instead of python.</p>\n\n<p>Below is simplified for uses of numpy in python.\nI have the following quadratic function:</p>\n\n<pre><code>def quadratic_func(a,b,c,x):\n    return a*x*x + b*x + c\n</code></pre>\n\n<p>I am trying to optimize choices of a,b,c given input data x and output data y of the same size (of course, this should be done by linear regression...but humor me). Say len(x)=100.  Easy to vectorize with scalars a,b,c to get back a result of length 100.</p>\n\n<p>Let's say that we know a,b,c should be inside of [-10,10] and I optimize by building a grid and picking the point with the min sum square error.</p>\n\n<pre><code>a=np.arange(-10.0, 10.01, 2.0)\nnodes=np.array(np.meshgrid(a,a,a)).T.reshape(-1,3) #3-d cartesian product with array of nodes\n</code></pre>\n\n<p>For each of the 1331 nodes, I would like to calculate all 1331 of the length 100 return values. </p>\n\n<pre><code>res=[]\nx=np.random.uniform(-5.0,5.0, 100)\nfor node in nodes:\n    res.append(quadratic_func(*node, x=x))\n</code></pre>\n\n<p>How can I take advantage of broadcasting so as to get my list of 1331 items each with 100 values that are the results of calling quadratic_func on x?  Answer must use vectorization, broadcasting, etc to get the orders of magnitude speed improvements I am looking for.  Also, the answer must use calls to quadratic_func - or more generally, my_func(*node, x=x).</p>\n\n<p>In real life I am optimizing a non-linear function that is not even close to being convex and has many local minimums.  It is a great functional form to use if I can get to the \"right\" local minimum - I already know how to do that, but would like to get there faster!</p>\n"}, {"tags": ["python", "python-2.7", "pandas"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1476908922, "post_id": 40140933, "comment_id": 67551883, "body": "in most c-ish based languages, they&#39;re short cuts. <code>foo X= ...</code> is simply <code>foo = foo X...</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user824425"}, "edited": false, "score": 0, "creation_date": 1476909307, "post_id": 40140933, "comment_id": 67552064, "body": "Since &quot;<a href=\"http://pandas.pydata.org/pandas-docs/stable/dsintro.html#series-is-ndarray-like\" rel=\"nofollow noreferrer\">Series are ndarray-like</a>&quot;, you should probably wonder <a href=\"/questions/16034672/how-do-numpys-in-place-operations-e-g-work\">what in-place operators do in numpy</a>."}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1476909475, "post_id": 40140933, "comment_id": 67552154, "body": "Those are element-wise logical operators that work on Series/DataFrames. With assignment (<code>ser1 &amp;= ser2</code>) they work as usual, as Marc B said: <code>ser1 = ser1 &amp; ser2</code>."}, {"owner": {"reputation": 51, "user_id": 7044475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa7795cd5288fa3329c9c394ca5870d?s=128&d=identicon&r=PG&f=1", "display_name": "bigdata", "link": "https://stackoverflow.com/users/7044475/bigdata"}, "edited": false, "score": 0, "creation_date": 1476910350, "post_id": 40140933, "comment_id": 67552561, "body": "so |= is for intersection and &amp;= is for a union?"}, {"owner": {"reputation": 51, "user_id": 7044475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa7795cd5288fa3329c9c394ca5870d?s=128&d=identicon&r=PG&f=1", "display_name": "bigdata", "link": "https://stackoverflow.com/users/7044475/bigdata"}, "edited": false, "score": 0, "creation_date": 1476911240, "post_id": 40140933, "comment_id": 67553020, "body": "@Rhymoid I understand what inplace operators do. However, I&#39;m not sure these are inplace operators or rather they are bitwise operators (maybe)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user824425"}, "edited": false, "score": 0, "creation_date": 1476911535, "post_id": 40140933, "comment_id": 67553159, "body": "It&#39;s the other way around. <code>x |= y</code> is for inplace union (like &quot;or&quot;), <code>x &amp;= y</code> is for inplace intersection (like &quot;and&quot;)."}, {"owner": {"reputation": 51, "user_id": 7044475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa7795cd5288fa3329c9c394ca5870d?s=128&d=identicon&r=PG&f=1", "display_name": "bigdata", "link": "https://stackoverflow.com/users/7044475/bigdata"}, "edited": false, "score": 0, "creation_date": 1476911767, "post_id": 40140933, "comment_id": 67553277, "body": "@rhymoid sorry for all the annoying questions but would these type of operators only work for numpy arrays and pandas series or dataframes too?"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 2, "creation_date": 1476912213, "post_id": 40140933, "comment_id": 67553472, "body": "They have nothing to do with unions or intersections. <code>pd.Series([True, False, True]) &amp; pd.Series([False, True, True])</code> returns <code>pd.Series([False, False, True])</code> so the operator is applied element-wise."}, {"owner": {"user_type": "does_not_exist", "display_name": "user824425"}, "edited": false, "score": 0, "creation_date": 1476912571, "post_id": 40140933, "comment_id": 67553629, "body": "They also work on DataFrames. The result is a DataFrame with an index that consists of supersets of the indices of the operands. The values are element-wise (like ayhan correctly points out) results of <code>&amp;</code> and <code>|</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user824425"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1476912654, "post_id": 40140933, "comment_id": 67553657, "body": "@ayhan You&#39;re right that they&#39;re not really unions and intersections per se. They do resemble those operations when boolean series are used as an array subscript, though."}, {"owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "edited": false, "score": 0, "creation_date": 1477328150, "post_id": 40140933, "comment_id": 67710717, "body": "The comments and reply answer your question?"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 7044475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa7795cd5288fa3329c9c394ca5870d?s=128&d=identicon&r=PG&f=1", "display_name": "bigdata", "link": "https://stackoverflow.com/users/7044475/bigdata"}, "edited": false, "score": 0, "creation_date": 1476909390, "post_id": 40141039, "comment_id": 67552108, "body": "for &amp; and | what does it mean if there is an = sign following it as shown in the example?"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "reply_to_user": {"reputation": 51, "user_id": 7044475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa7795cd5288fa3329c9c394ca5870d?s=128&d=identicon&r=PG&f=1", "display_name": "bigdata", "link": "https://stackoverflow.com/users/7044475/bigdata"}, "edited": false, "score": 0, "creation_date": 1476909606, "post_id": 40141039, "comment_id": 67552212, "body": "@bigdata It does the operation and then assigns the result to the name on the left"}, {"owner": {"reputation": 51, "user_id": 7044475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa7795cd5288fa3329c9c394ca5870d?s=128&d=identicon&r=PG&f=1", "display_name": "bigdata", "link": "https://stackoverflow.com/users/7044475/bigdata"}, "edited": false, "score": 0, "creation_date": 1476912683, "post_id": 40141039, "comment_id": 67553675, "body": "So for the following code import numpy as np a = pd.DataFrame(np.random.randn(6,4),columns=list(&#39;ABCD&#39;)) b = pd.DataFrame(np.random.randn(6,4),columns=list(&#39;ABCD&#39;)) a &amp;= b"}, {"owner": {"reputation": 51, "user_id": 7044475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa7795cd5288fa3329c9c394ca5870d?s=128&d=identicon&r=PG&f=1", "display_name": "bigdata", "link": "https://stackoverflow.com/users/7044475/bigdata"}, "edited": false, "score": 0, "creation_date": 1476912739, "post_id": 40141039, "comment_id": 67553703, "body": "so for the following code import numpy as np a = pd.DataFrame(np.random.randn(6,4),columns=list(&#39;ABCD&#39;)) b = pd.DataFrame(np.random.randn(6,4),columns=list(&#39;ABCD&#39;)) a &amp;= b  returns an error of  TypeError: ufunc &#39;bitwise_and&#39; not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule &#39;&#39;safe&#39;&#39;"}, {"owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "reply_to_user": {"reputation": 51, "user_id": 7044475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa7795cd5288fa3329c9c394ca5870d?s=128&d=identicon&r=PG&f=1", "display_name": "bigdata", "link": "https://stackoverflow.com/users/7044475/bigdata"}, "edited": false, "score": 0, "creation_date": 1476915143, "post_id": 40141039, "comment_id": 67554657, "body": "@bigdata You would need comparable data types, see the updated example."}], "tags": [], "owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "is_accepted": false, "score": 2, "last_activity_date": 1476915118, "last_edit_date": 1476915118, "creation_date": 1476909279, "answer_id": 40141039, "question_id": 40140933, "link": "https://stackoverflow.com/questions/40140933/what-do-and-do-in-pandas/40141039#40141039", "title": "What do &amp;=, |=, and ~ do in Pandas", "body": "<p>From the <a href=\"http://pandas.pydata.org/pandas-docs/stable/indexing.html#boolean-indexing\" rel=\"nofollow\">documentation</a></p>\n\n<blockquote>\n  <p>The operators are: | for or, &amp; for and, and ~ for not. These must be\n  grouped by using parentheses.</p>\n</blockquote>\n\n<p><a href=\"https://docs.python.org/3/reference/simple_stmts.html#augmented-assignment-statements\" rel=\"nofollow\">Augmented assignment statements</a></p>\n\n<blockquote>\n  <p>An augmented assignment evaluates the target (which, unlike normal\n  assignment statements, cannot be an unpacking) and the expression\n  list, performs the binary operation specific to the type of assignment\n  on the two operands, and assigns the result to the original target.\n  The target is only evaluated once.</p>\n</blockquote>\n\n<p>just like <code>a += 1</code> increments <code>a</code>, <code>a &amp;= b</code> compares <code>a</code> and <code>b</code> and assigns the result to <code>a</code>.</p>\n\n<pre><code>a = 1\nb = 0\nprint(a &amp; b)\n&gt;&gt;&gt; 0\na &amp;= b\nprint(a)\n&gt;&gt;&gt; 0\n</code></pre>\n\n<p>And a <code>pandas</code> example</p>\n\n<p>Let's generate a dataframe of zeros and ones.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\na = pd.DataFrame(np.random.randint(0, 2, size=(6,4)), columns=list('ABCD'))\nb = pd.DataFrame(np.random.randint(0, 2, size=(6,4)), columns=list('ABCD'))\n</code></pre>\n\n<p>Our initial dataframe</p>\n\n<pre><code>print(a)\n</code></pre>\n\n<blockquote>\n<pre><code>   A  B  C  D\n0  0  1  1  0\n1  0  0  1  0\n2  1  0  0  1\n3  1  1  0  0\n4  0  0  0  1\n5  0  0  0  0\n</code></pre>\n</blockquote>\n\n<pre><code>print(b)\n</code></pre>\n\n<blockquote>\n<pre><code>   A  B  C  D\n0  0  0  0  0\n1  1  1  1  0\n2  0  1  1  1\n3  0  1  1  1\n4  1  1  1  0\n5  1  1  1  1\n</code></pre>\n</blockquote>\n\n<p>The 4th row of <code>a</code> and <code>b</code></p>\n\n<pre><code>print(a.loc[3])\n</code></pre>\n\n<blockquote>\n<pre><code>A    1\nB    1\nC    0\nD    0\nName: 1, dtype: int32\n</code></pre>\n</blockquote>\n\n<pre><code>print(b.loc[3])\n</code></pre>\n\n<blockquote>\n<pre><code>A    0\nB    1\nC    1\nD    1\nName: 1, dtype: int32\n</code></pre>\n</blockquote>\n\n<p>Now evaluate and assign row 4</p>\n\n<pre><code>a.loc[3] &amp;= b.loc[3]\n</code></pre>\n\n<p>Row 4 of <code>a</code> has changed. Only where both rows have 1 at the same position a 1 is written back to <code>a</code>.</p>\n\n<pre><code>print(a.loc[3])\n</code></pre>\n\n<blockquote>\n<pre><code>A    0\nB    1\nC    0\nD    0\nName: 3, dtype: int32\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 51, "user_id": 7044475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa7795cd5288fa3329c9c394ca5870d?s=128&d=identicon&r=PG&f=1", "display_name": "bigdata", "link": "https://stackoverflow.com/users/7044475/bigdata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1476915118, "creation_date": 1476908847, "last_edit_date": 1476908976, "question_id": 40140933, "link": "https://stackoverflow.com/questions/40140933/what-do-and-do-in-pandas", "title": "What do &amp;=, |=, and ~ do in Pandas", "body": "<p>I frequently see code like this at work:</p>\n\n<pre><code>overlap &amp;= group['ADMSN_DT'].loc[i] &lt;= group['epi_end'].loc[j]\n</code></pre>\n\n<p>My question is what do operators such as <code>&amp;=</code>, <code>|=</code>, and <code>~</code> do in pandas?</p>\n"}, {"tags": ["python", "bitmap", "bit"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1476908813, "post_id": 40140892, "comment_id": 67551824, "body": "can you <a href=\"https://stackoverflow.com/posts/40140892/edit\">edit</a> your question? Remove the java code that we don&#39;t know or show us the value of <code>u</code> and what you&#39;re expecting."}, {"owner": {"reputation": 1119, "user_id": 977716, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4b3bbdfde50144d6742d58de31400891?s=128&d=identicon&r=PG", "display_name": "rishabh", "link": "https://stackoverflow.com/users/977716/rishabh"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476909406, "post_id": 40140892, "comment_id": 67552113, "body": "So I have added the least significant bit output as a long value which I get using the above code in Java."}], "answers": [{"comments": [{"owner": {"reputation": 1119, "user_id": 977716, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4b3bbdfde50144d6742d58de31400891?s=128&d=identicon&r=PG", "display_name": "rishabh", "link": "https://stackoverflow.com/users/977716/rishabh"}, "edited": false, "score": 0, "creation_date": 1476914760, "post_id": 40141219, "comment_id": 67554511, "body": "Your answer looks correct to me, although I looked into the UUID class &amp; got the exact Java code what the class is doing to populate least &amp; most significant bits. Could you kindly look over this &amp; update your answer?"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 3, "last_activity_date": 1578996910, "last_edit_date": 1578996910, "creation_date": 1476909932, "answer_id": 40141219, "question_id": 40140892, "link": "https://stackoverflow.com/questions/40140892/java-like-function-getleastsignificantbits-getmostsignificantbits-in-python/40141219#40141219", "title": "Java like function getLeastSignificantBits() &amp; getMostSignificantBits in Python?", "body": "<p><code>efe640fc5d2f0036</code> in decimal is 17286575672347525174. Subtract <code>0x10000000000000000</code> from it &amp; negate: you get <code>-1160168401362026442</code></p>\n\n<pre><code>int(\"efe640fc5d2f0036\",16)-0x10000000000000000 -&gt; -1160168401362026442\n</code></pre>\n\n<p>Note that it's only guesswork but seems to work with the sole test case you provided (fortunately it was negative). Call that reverse engineering.</p>\n\n<p>Take 2 last hex values (dash separated) and join them. I suppose the storage means that it becomes negative when first digit is above 7, so negate it with higher 2-power if that's the case:</p>\n\n<pre><code>def getLeastSignificantBits(s):\n    hv = \"\".join(s.split(\"-\")[-2:])\n    v = int(hv,16)\n    if int(hv[0],16)&gt;7:\n        # negative\n        v = v-0x10000000000000000\n    return v\n\nprint(getLeastSignificantBits('a316b044-0157-1000-efe6-40fc5d2f0036'))\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>-1160168401362026442\n</code></pre>\n\n<p>Providing a method which takes the whole string and returns lsb &amp; msb couple</p>\n\n<pre><code>def getLeastMostSignificantBits(s):\n    sp=s.split(\"-\")\n    lsb_s = \"\".join(sp[-2:])\n    lsb = int(lsb_s,16)\n    if int(lsb_s[0],16)&gt;7:\n        # negative\n        lsb = lsb-0x10000000000000000\n\n    msb_s = \"\".join(sp[:3])\n    msb = int(msb_s,16)\n    if int(msb_s[0],16)&gt;7:\n        # negative\n        msb = msb-0x10000000000000000\n\n    return lsb,msb\n\nprint(getLeastMostSignificantBits('a316b044-0157-1000-efe6-40fc5d2f0036'))\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>(-1160168401362026442, -6694969989912915968)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3426, "user_id": 130033, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e339541b2b4621e08e64e2c10af27c0d?s=128&d=identicon&r=PG", "display_name": "Mattias Nilsson", "link": "https://stackoverflow.com/users/130033/mattias-nilsson"}, "is_accepted": false, "score": 1, "last_activity_date": 1568646721, "creation_date": 1568646721, "answer_id": 57959778, "question_id": 40140892, "link": "https://stackoverflow.com/questions/40140892/java-like-function-getleastsignificantbits-getmostsignificantbits-in-python/57959778#57959778", "title": "Java like function getLeastSignificantBits() &amp; getMostSignificantBits in Python?", "body": "<p>Old post but still... Just thought I'd add this:</p>\n\n<pre><code>import struct\nimport uuid\n\nu = uuid.UUID('c88524da-d88f-11e9-9185-f85971a9ba7d')\nmsb, lsb = struct.unpack(\"&gt;qq\", u.bytes)\n</code></pre>\n\n<p>This give the values:<br>\n    (-3997748571866721815, -7960683703264757123)\n... and if I input those into the java.util.UUID constructor, it gives me back the uuid \"c88524da-d88f-11e9-9185-f85971a9ba7d\"</p>\n"}], "owner": {"reputation": 1119, "user_id": 977716, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4b3bbdfde50144d6742d58de31400891?s=128&d=identicon&r=PG", "display_name": "rishabh", "link": "https://stackoverflow.com/users/977716/rishabh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 1, "accepted_answer_id": 40141219, "answer_count": 2, "score": 2, "last_activity_date": 1578996910, "creation_date": 1476908710, "last_edit_date": 1476914655, "question_id": 40140892, "link": "https://stackoverflow.com/questions/40140892/java-like-function-getleastsignificantbits-getmostsignificantbits-in-python", "title": "Java like function getLeastSignificantBits() &amp; getMostSignificantBits in Python?", "body": "<p>Can someone please help me out in forming an easy function to extract the leastSignificant &amp; mostSignificant bits in Python?</p>\n\n<p>Ex code in Java:</p>\n\n<pre><code>UUID u = UUID.fromString('a316b044-0157-1000-efe6-40fc5d2f0036');\nlong leastSignificantBits = u.getLeastSignificantBits();\n\nprivate UUID(byte[] data) {\n    long msb = 0;\n    long lsb = 0;\n    assert data.length == 16 : \"data must be 16 bytes in length\";\n    for (int i=0; i&lt;8; i++)\n        msb = (msb &lt;&lt; 8) | (data[i] &amp; 0xff);\n    for (int i=8; i&lt;16; i++)\n        lsb = (lsb &lt;&lt; 8) | (data[i] &amp; 0xff);\n    this.mostSigBits = msb;\n    this.leastSigBits = lsb;\n}\n</code></pre>\n\n<p>--> Output value: -1160168401362026442</p>\n"}, {"tags": ["python", "file", "object"], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 1, "last_activity_date": 1476909381, "creation_date": 1476909381, "answer_id": 40141068, "question_id": 40140883, "link": "https://stackoverflow.com/questions/40140883/python-creating-objects-from-a-class-using-multiple-files/40141068#40141068", "title": "Python creating objects from a class using multiple files", "body": "<p>First read your student/course and create a dictionary: key=student, value=list of courses</p>\n\n<p>The format is strange but the code below has been tested and works (maybe not as robust as it should, though). Read line by line, course first, and list of students. Add to dictionary (create empty list if key doesn't exist, nice <code>defaultdict</code> object does that):</p>\n\n<pre><code>from collections import defaultdict\n\nstudent_course = defaultdict(list)\nwith open(\"CourseEnrollment.txt\") as enr:\n  while True:\n    try:\n        course_name = next(enr).strip()\n        next(enr)  # skip dashes\n        while True:\n            student = next(enr).strip()\n            if student==\"\":\n                break\n            student_course[student].append(course_name)\n    except StopIteration:\n        break\n</code></pre>\n\n<p>and in your code, call <code>Student</code> constructor like this:</p>\n\n<pre><code>list_of_students.append(Student(last_name, '', first_name, student_id, student_course[student_id]))\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5463745"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476909489, "creation_date": 1476908675, "question_id": 40140883, "link": "https://stackoverflow.com/questions/40140883/python-creating-objects-from-a-class-using-multiple-files", "title": "Python creating objects from a class using multiple files", "body": "<p>I need to use a 'Student' class with 5 variables and create objects using more than one file. </p>\n\n<p>The text files: (Students.txt)</p>\n\n<pre><code>Last Name  Midle Name  First Name   Student ID  \n----------------------------------------------\nHoward                  Moe         howar1m     \nHoward                  Curly       howar1c     \nFine                    Lary        fine1l      \nHoward                  Shemp       howar1s     \nBesser                  Joe         besse1j     \nDeRita      Joe         Curly       derit1cj    \nTiure       Desilijic   Jaba        tiure1jd    \nTharen                  Bria        thare1b     \nTai         Besadii     Durga       tai1db     \n</code></pre>\n\n<p>Text file 2: (CourseEnrollment.txt)</p>\n\n<pre><code>PH03\n----\nfine1l\nhowar1s\nbesse1j\nderit1cj\ntiure1jd\ntarga1d\nbomba1t\nbrand1m\ntook1p\nmccoy1l\nsolo1h\nedrie1m\nmccoy1e\nadama1l\ngrays1z\n\nMT03\n----\ncottl1s\nfine1l\nclega1s\ntarga1d\ntook1p\nmccoy1l\ncrush1w\ndane1a\nmonto1i\nrugen1t\ntalto1v\nwatso1j\ncarpe1m\nrosli1l\nbiggs1gj\ntigh1e\n\nPH05\n----\nzarek1t\nadama1w\ntigh1s\ncottl1s\nhowar1m\nhowar1s\nbesse1j\nbalta1g\nderit1cj\nthare1b\nhego1d\nlanni1t\nstark1a\nclega1s\nscott1m\nmonto1i\nflaum1e\nwatso1j\nbiggs1gj\ndane1a\n\nEN01\n----\nhowar1c\nfine1l\ntai1db\ntarga1d\nbrand1m\ncorey1c\nedrie1m\nwatso1j\ncarpe1m\nsobch1w\n\nEN02\n----\nhowar1m\nhowar1s\nbesse1j\ntiure1jd\ntai1db\nhego1d\nlanni1t\nstark1a\nmccoy1l\nscott1m\ncrush1w\ndane1a\nmonto1i\nrugen1t\nsolo1h\nflaum1e\ntalto1v\nwatso1j\nmccoy1e\n\nCS02\n----\nhowar1m\nhowar1c\nbesse1j\nderit1cj\nthare1b\nhego1d\nclega1s\ntarga1d\nbrand1m\nrugen1t\nflaum1e\ntalto1v\nmccoy1e\ngrube1h\n\nAR00\n----\ntigh1e\nrosli1l\nmurph1a\ngrays1z\nhowar1c\nhowar1s\ntiure1jd\nthare1b\nlanni1t\nclega1s\nbomba1t\nbalta1g\nbrand1m\ntook1p\ncrush1w\ncorey1c\nedrie1m\ngrube1h\nsobch1w\n\nMT01\n----\nderit1cj\ntai1db\nhego1d\nstark1a\nbomba1t\ntook1p\nscott1m\ncrush1w\ngrube1h\nrugen1t\nsolo1h\ncorey1c\nflaum1e\ntalto1v\nmccoy1e\ncarpe1m\nsobch1w\n\nCS01\n----\nhowar1m\nhowar1c\nfine1l\ntiure1jd\nthare1b\ntai1db\nlanni1t\nstark1a\nbomba1t\nmccoy1l\nmonto1i\nsolo1h\nbiggs1gj\ncorey1c\nedrie1m\ncarpe1m\n\nCS05\n----\ngrays1z\nadama1w\nadama1l\nrosli1l\nbalta1g\ntigh1e\ntigh1s\ncottl1s\nzarek1t\nmurph1a\nsobch1w\ndane1a\n\nEN08\n----\ngrays1z\nadama1w\nadama1l\nrosli1l\nbalta1g\ntigh1e\ntigh1s\ncottl1s\nzarek1t\nmurph1a\ngrube1h\nbiggs1gj\n\nOT02\n----\nadama1w\nadama1l\ntigh1s\nscott1m\nzarek1t\nmurph1a\n</code></pre>\n\n<p>I need to read in the text files to create Student objects using both files and the 'Student' class.\nThe class is: </p>\n\n<pre><code>class Student (object):\n    def __init__(self, first_name, middle_name, last_name, student_id, enrolled_courses):\n        \"\"\"Initialization method\"\"\"\n        self.first_name = first_name\n        self.middle_name = middle_name\n        self.last_name = last_name\n        self.student_id = student_id\n        self.enrolled_courses = enrolled_courses\n</code></pre>\n\n<p>and in the main method I have:</p>\n\n<pre><code>if __name__ == '__main__':\n    list_of_students = []\n    with open('Students.txt') as f:\n        for line in f:\n                data = line.split()\n                if len(data) == 3:\n                    first_name, last_name, student_id = data\n                    list_of_students.append(Student(last_name, '', first_name, student_id))\n                elif len(data) == 4:\n                    list_of_students.append(Student(*data))\n                else:\n                    continue\n</code></pre>\n\n<p>When I run the program without an <code>enrolled_courses</code> variable and only read in 'Students.txt', it runs perfect and creates the <code>Student</code> objects with <code>first_name</code>, <code>middle_name</code>, <code>last_name</code> and <code>student_id</code>. However, I still need to use add the <code>enrolled_courses</code> variable to the objects and obtain it from 'EnrolledCourses.txt'. How can I read in both files and assign the variables to the objects I'm trying to create?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476908611, "post_id": 40140821, "comment_id": 67551710, "body": "python 2 or 3. You have to choose (<code>input</code> won&#39;t work for you in python 2). And what do you want to find: all the keywords of <code>problem</code> or only some, one?? unclear."}, {"owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "edited": false, "score": 0, "creation_date": 1476908700, "post_id": 40140821, "comment_id": 67551763, "body": "your solution is correct, in will handle what you want"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 1, "creation_date": 1476908856, "post_id": 40140821, "comment_id": 67551850, "body": "What is wrong with your solution?"}, {"owner": {"reputation": 11, "user_id": 7044433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e54715f0e98c688a9d80cb6f83dc2a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Joey McFee", "link": "https://stackoverflow.com/users/7044433/joey-mcfee"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1476909174, "post_id": 40140821, "comment_id": 67552006, "body": "@leaf I do not know how to get the keywords from the users input in to the variable = problem"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1476909254, "post_id": 40140821, "comment_id": 67552039, "body": "@JoeyMcFee You already are getting user input into the <code>a</code> variable. Why do you need <code>problem</code>?"}, {"owner": {"reputation": 11, "user_id": 7044433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e54715f0e98c688a9d80cb6f83dc2a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Joey McFee", "link": "https://stackoverflow.com/users/7044433/joey-mcfee"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1476909737, "post_id": 40140821, "comment_id": 67552277, "body": "@cricket_007   Basically. I need to make a program that will ask the user its problem. The solutions are on a textfile. I need to get the program to pic the correct line depending on the users problem. I dont know how to do that."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7044433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e54715f0e98c688a9d80cb6f83dc2a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Joey McFee", "link": "https://stackoverflow.com/users/7044433/joey-mcfee"}, "edited": false, "score": 0, "creation_date": 1476909465, "post_id": 40141002, "comment_id": 67552147, "body": "Please check the code again. The problem variable is not a list. What I need the program to do is, from the users input, print the line with most of the users inputed words"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 11, "user_id": 7044433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e54715f0e98c688a9d80cb6f83dc2a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Joey McFee", "link": "https://stackoverflow.com/users/7044433/joey-mcfee"}, "edited": false, "score": 0, "creation_date": 1476909601, "post_id": 40141002, "comment_id": 67552210, "body": "There isn&#39;t a straightforward way to find the &quot;most of the users inputed words&quot;. You can do <code>if a in line:</code> to test the entered string. I still do not see the need for the <code>problem</code> variable if it is not a list"}, {"owner": {"reputation": 11, "user_id": 7044433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e54715f0e98c688a9d80cb6f83dc2a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Joey McFee", "link": "https://stackoverflow.com/users/7044433/joey-mcfee"}, "edited": false, "score": 0, "creation_date": 1476909896, "post_id": 40141002, "comment_id": 67552356, "body": "isnt there a way to even some of the users inputed wordsand look for them in the textfile"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 11, "user_id": 7044433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e54715f0e98c688a9d80cb6f83dc2a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Joey McFee", "link": "https://stackoverflow.com/users/7044433/joey-mcfee"}, "edited": false, "score": 0, "creation_date": 1476913709, "post_id": 40141002, "comment_id": 67554117, "body": "What do you mean &quot;even some of the words&quot;? If I understood correctly, that is what option 2 here is showing <code>problem = a.split()</code>"}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 3, "last_activity_date": 1476909750, "last_edit_date": 1476909750, "creation_date": 1476909111, "answer_id": 40141002, "question_id": 40140821, "link": "https://stackoverflow.com/questions/40140821/how-do-you-look-for-a-line-in-a-text-file-from-a-sentence-a-user-has-inputted/40141002#40141002", "title": "How do you look for a line in a text file, from a sentence a user has inputted, by using its keywords?", "body": "<p>I assume your keywords is meant to be a list? </p>\n\n<p>Then you use <a href=\"https://docs.python.org/3/library/functions.html#any\" rel=\"nofollow\"><code>any()</code></a> to check if any word out of the keywords is in the line. </p>\n\n<pre><code>a=input(\"Please enter your problem?\")\nproblem= ['#keywords', 'not', 'sure', 'how']\n\nwith open('solutions.txt', 'r') as searchfile:\n    for line in searchfile:\n        if any(word in line for word in problem):\n            print (line)\n</code></pre>\n\n<p>Though, you may want to <code>split()</code> your line to improve that detection. </p>\n\n<p>Otherwise, you have <code>a</code>, which stores the user's input, so you can use that. </p>\n\n<pre><code>a=input(\"Please enter your problem?\")\nproblem= a.split()\n</code></pre>\n\n<p>Then, again <code>problem</code> is a list, so you use <code>any()</code> as before</p>\n\n<p>Or, if you want to check if the entire entered value is in a line, then </p>\n\n<pre><code>if a in line:\n    print(line)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7044433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e54715f0e98c688a9d80cb6f83dc2a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Joey McFee", "link": "https://stackoverflow.com/users/7044433/joey-mcfee"}, "edited": false, "score": 0, "creation_date": 1476911092, "post_id": 40141278, "comment_id": 67552948, "body": "with this it just prints the top line on the text file no matter what the input from the user is"}, {"owner": {"reputation": 304, "user_id": 6398098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fe7822413ba26c35964f38b8b5d1ad9?s=128&d=identicon&r=PG&f=1", "display_name": "Rptk99", "link": "https://stackoverflow.com/users/6398098/rptk99"}, "reply_to_user": {"reputation": 11, "user_id": 7044433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e54715f0e98c688a9d80cb6f83dc2a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Joey McFee", "link": "https://stackoverflow.com/users/7044433/joey-mcfee"}, "edited": false, "score": 0, "creation_date": 1476991426, "post_id": 40141278, "comment_id": 67594595, "body": "@JoeyMcFee oups! - instead of print line the last line should have been print chosen_line I&#39;v fixed it now, does it work?"}], "tags": [], "owner": {"reputation": 304, "user_id": 6398098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fe7822413ba26c35964f38b8b5d1ad9?s=128&d=identicon&r=PG&f=1", "display_name": "Rptk99", "link": "https://stackoverflow.com/users/6398098/rptk99"}, "is_accepted": false, "score": 0, "last_activity_date": 1476941383, "last_edit_date": 1476941383, "creation_date": 1476910161, "answer_id": 40141278, "question_id": 40140821, "link": "https://stackoverflow.com/questions/40140821/how-do-you-look-for-a-line-in-a-text-file-from-a-sentence-a-user-has-inputted/40141278#40141278", "title": "How do you look for a line in a text file, from a sentence a user has inputted, by using its keywords?", "body": "<p>I am not sure I understood the question but is this what you want?. this will take the line containing the most words from the user input:</p>\n\n<pre><code>problem = a.split(' ')\nmax_num, current_num = 0,0  #max_num count the maximum apparition of words from the input in the line| current_num count the current number of apparition of words of the user input in the line\nchosen_line = ''\n\nwith open('solutions.txt', 'r') as searchfile:\n    for line in searchfile:\n        for word in problem:\n            if word in line:\n                current_num+=1\n        if current_num&gt;max_num:\n            print line,max_num,current_num\n            max_num=current_num\n            chosen_line = line\n        current_num = 0\n    print chosen_line\n</code></pre>\n\n<p>but it seems to me the easiest way to do what you want is to store at the start of each answer the question, or even easier - just ask the user the question number and return this corresponding answer.</p>\n"}], "owner": {"reputation": 11, "user_id": 7044433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e54715f0e98c688a9d80cb6f83dc2a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Joey McFee", "link": "https://stackoverflow.com/users/7044433/joey-mcfee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476981500, "creation_date": 1476908461, "last_edit_date": 1476981500, "question_id": 40140821, "link": "https://stackoverflow.com/questions/40140821/how-do-you-look-for-a-line-in-a-text-file-from-a-sentence-a-user-has-inputted", "title": "How do you look for a line in a text file, from a sentence a user has inputted, by using its keywords?", "body": "<pre><code>a=input(\"Please enter your problem?\")\nproblem= ()\n\nwith open('solutions.txt', 'r') as searchfile:\n    for line in searchfile:\n        if problem in line:\n            print (line)\n</code></pre>\n\n<p>Can someone please help me on how to get the keywords from the inputed string by the user. Thanks. I need help on how to look for some of the words the users inputed in to =a and search for them on the textfile and print the line</p>\n"}, {"tags": ["python", "tkinter", "python-3.5"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1476911278, "post_id": 40140817, "comment_id": 67553041, "body": "<code>bind</code> doesn&#39;t work this way. Besides <code>Button</code> doesn&#39;t need <code>bind(&quot;&lt;Button-1&gt;&quot;,...)</code> because it has <code>command=</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1476911410, "post_id": 40140817, "comment_id": 67553085, "body": "Put old &quot;non-GUI&quot; code inside <code>def Button3():</code> and it should works. Later you have to get values from <code>MapsFile</code> and <code>TextFile</code> to use it in <code>Button3</code>"}, {"owner": {"reputation": 1, "user_id": 7044354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f5f75b94fd61f3fe2e6b9e4fb4570e?s=128&d=identicon&r=PG&f=1", "display_name": "Promises", "link": "https://stackoverflow.com/users/7044354/promises"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1476952859, "post_id": 40140817, "comment_id": 67568059, "body": "Furas, thank you for your fast answer. I tried it, but how do i get the values from MapsFile and TextFile?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1476953132, "post_id": 40140817, "comment_id": 67568238, "body": "it is <code>Entry</code> widget so use <code>MapsFile.get()</code>. See <a href=\"http://effbot.org/tkinterbook/entry.htm\" rel=\"nofollow noreferrer\">Entry</a> in <a href=\"http://effbot.org/tkinterbook/tkinter-index.htm\" rel=\"nofollow noreferrer\">An Introduction to Tkinter</a>"}, {"owner": {"reputation": 1, "user_id": 7044354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f5f75b94fd61f3fe2e6b9e4fb4570e?s=128&d=identicon&r=PG&f=1", "display_name": "Promises", "link": "https://stackoverflow.com/users/7044354/promises"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1476984407, "post_id": 40140817, "comment_id": 67590392, "body": "Thank you again for your fast answer. I tried it yet and it worked. But I&#39;ve a new problem with <code>infile = MapsFile.get()</code> I get PermissionError: [Errno 13] Permission denied. Of course it cant work, without having the real Path for the <code>maps.txt</code>, so how can I add it to <code>infile = MapsFile.get()</code> ?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1476994299, "post_id": 40140817, "comment_id": 67596193, "body": "See your code in function <code>Button1</code> - you already use <code>MapsFile.insert(...)</code> to put text in <code>MapsFile</code> :)"}, {"owner": {"reputation": 1, "user_id": 7044354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f5f75b94fd61f3fe2e6b9e4fb4570e?s=128&d=identicon&r=PG&f=1", "display_name": "Promises", "link": "https://stackoverflow.com/users/7044354/promises"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1476998937, "post_id": 40140817, "comment_id": 67598471, "body": "Thank you for your help. Im rly grateful :)"}], "owner": {"reputation": 1, "user_id": 7044354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f5f75b94fd61f3fe2e6b9e4fb4570e?s=128&d=identicon&r=PG&f=1", "display_name": "Promises", "link": "https://stackoverflow.com/users/7044354/promises"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476998505, "creation_date": 1476908450, "last_edit_date": 1476998505, "question_id": 40140817, "link": "https://stackoverflow.com/questions/40140817/tkinter-open-with-1button-the-directory-of-2-buttons-and-save-a-textfile", "title": "Tkinter open with 1Button the directory of 2 Buttons and save a Textfile", "body": "<p>I wanted to make a code to search for file names like <code>*.bsp</code>, save the names in a text file, delete the <code>.bsp</code> files, and save the text file again.\nEdit: This is my new code</p>\n\n<pre><code>from tkinter import *\nfrom tkinter import filedialog\nimport glob\nimport os\n\nroot = Tk()\n\ndef Button1():\n    mapdirectory = filedialog.askdirectory()\n    map = '/maps.txt'\n    MapsFile.insert(0, mapdirectory)\n    Oldmap.insert(0, mapdirectory + map)\n\n\ndef Button2():\n    txtdirectory = filedialog.askdirectory()\n    map = '/maps.txt'\n    TxTFile.insert(0, txtdirectory + map)\n\ndef Button3():\n    WD = MapsFile.get()\n    os.chdir(WD)\n    files = glob.glob('bhop_*.bsp')\n    with open('maps.txt', 'w+') as in_files:\n        in_files.writelines(os.path.join(fn) + '\\n' for fn in files)\n\n    infile = Oldmap.get()\n    outfile = TxTFile.get()\n\n    delete_list = [\".bsp\"]\n\n    fin = open(infile)\n    fout = open(outfile, 'w+')\n    for line in fin:\n        for word in delete_list:\n            line = line.replace(word, \"\")\n        fout.write(line)\n    fin.close()\n    fout.close()\n\n\n\n#Label\nMapsDirectory = Label(root, text=\"Maps Directory\")\nMapsDirectory.grid(row=0, sticky=W)\nTxtDirectory = Label(root, text=\"Maps.txt Directory\")\nTxtDirectory.grid(row=1, sticky=W)\n\n\nMapsFile = Entry(root)\nMapsFile.grid(row=0, column=1)\nTxTFile = Entry(root)\nTxTFile.grid(row=1, column=1)\nOldmap = Entry(root)          #If you use oldmap.grid it'll be shown in your Interface\n                                 #Without .grid it is hidden \n\n\n#Buttons\nb1 = Button(text=\"Choose Map Folder\", command=Button1)\nb1.grid(row=0, column=3, sticky=W)\n\nb2 = Button(text=\"Choose txt Folder\", command=Button2)\nb2.grid(row=1, column=3, sticky=W)\n\nb3 = Button(text=\"Create Maps.txt\", command=Button3)\nb3.grid(row=2, column=1)\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1476908348, "post_id": 40140733, "comment_id": 67551545, "body": "Cart.objects.get(pk=1).carttoys_set.all()"}, {"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 2, "creation_date": 1476908405, "post_id": 40140733, "comment_id": 67551584, "body": "Class CartToys should be named CartToy by convention."}], "answers": [{"tags": [], "owner": {"reputation": 631, "user_id": 5527130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w8sZc.png?s=128&g=1", "display_name": "German Alzate", "link": "https://stackoverflow.com/users/5527130/german-alzate"}, "is_accepted": true, "score": 16, "last_activity_date": 1476909400, "last_edit_date": 1476909400, "creation_date": 1476908386, "answer_id": 40140796, "question_id": 40140733, "link": "https://stackoverflow.com/questions/40140733/django-get-related-objects-manytomany-relationships/40140796#40140796", "title": "Django get related objects ManyToMany relationships", "body": "<p>you would use...</p>\n\n<pre><code>cart = Cart.objects.first()\nobjects = cart.cart_item.all() # this line return all related objects for CartToys\n# and in reverse\ncart_toy = CartToys.objects.first()\ncarts = cart_toy.cart_set.all() # this line return all related objects for Cart\n</code></pre>\n"}], "owner": {"reputation": 302, "user_id": 6414056, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/77ba54af159b3c6c9f0cb26d14c5b9d4?s=128&d=identicon&r=PG&f=1", "display_name": "I.Jokhadze", "link": "https://stackoverflow.com/users/6414056/i-jokhadze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7226, "favorite_count": 6, "accepted_answer_id": 40140796, "answer_count": 1, "score": 7, "last_activity_date": 1476909400, "creation_date": 1476908131, "question_id": 40140733, "link": "https://stackoverflow.com/questions/40140733/django-get-related-objects-manytomany-relationships", "title": "Django get related objects ManyToMany relationships", "body": "<p>i have two models:</p>\n\n<pre><code>class CartToys(models.Model):\n    name = models.CharField(max_length=350)\n    quantity = models.IntegerField()\n\nclass Cart(models.Model):\n    cart_item = models.ManyToManyField(CartToys)\n</code></pre>\n\n<p>i want to get all related toys to this cart. how can i do this </p>\n"}, {"tags": ["python", "random"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 2, "creation_date": 1476907961, "post_id": 40140660, "comment_id": 67551314, "body": "How many lines does your file have? (Or rather, how many elements are in the list <code>lines</code>)"}, {"owner": {"reputation": 6351, "user_id": 6342575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de518e31dfbc2e8a7af2ebd584f25e?s=128&d=identicon&r=PG&f=1", "display_name": "A.Kot", "link": "https://stackoverflow.com/users/6342575/a-kot"}, "edited": false, "score": 1, "creation_date": 1476908033, "post_id": 40140660, "comment_id": 67551352, "body": "Try randint(0 , len(lines))"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 6351, "user_id": 6342575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de518e31dfbc2e8a7af2ebd584f25e?s=128&d=identicon&r=PG&f=1", "display_name": "A.Kot", "link": "https://stackoverflow.com/users/6342575/a-kot"}, "edited": false, "score": 0, "creation_date": 1476908071, "post_id": 40140660, "comment_id": 67551372, "body": "@A.Kot That can still go wrong."}, {"owner": {"reputation": 21, "user_id": 6913309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72cd1c8389883bb24460d3b0b4eeb15?s=128&d=identicon&r=PG&f=1", "display_name": "Bluejay", "link": "https://stackoverflow.com/users/6913309/bluejay"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1476908784, "post_id": 40140660, "comment_id": 67551803, "body": "@UnholySheep 10"}], "answers": [{"tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": false, "score": 7, "last_activity_date": 1476908091, "creation_date": 1476908091, "answer_id": 40140722, "question_id": 40140660, "link": "https://stackoverflow.com/questions/40140660/print-random-line-from-txt-file/40140722#40140722", "title": "Print random line from txt file?", "body": "<p>You want to use <code>random.choice</code></p>\n\n<pre><code>import random\nwith open(filename) as f:\n    lines = f.readlines()\n    print(random.choice(lines))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 360, "user_id": 5303618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/521c576d7053658fa72330b652beed97?s=128&d=identicon&r=PG&f=1", "display_name": "H. Rev.", "link": "https://stackoverflow.com/users/5303618/h-rev"}, "is_accepted": false, "score": 0, "last_activity_date": 1476908437, "creation_date": 1476908437, "answer_id": 40140814, "question_id": 40140660, "link": "https://stackoverflow.com/questions/40140660/print-random-line-from-txt-file/40140814#40140814", "title": "Print random line from txt file?", "body": "<p>This code is correct, assuming that you meant to pass a string to <code>open</code> function, and that you have no space after the dot...\nHowever, be careful to the indexing in Python, namely it starts at 0 and not 1, and then ends at <code>len(your_list)-1</code>.</p>\n\n<p>Using <code>random.choice</code> is better, but if you want to follow your idea it would rather be:</p>\n\n<pre><code>import random\nwith open('name.txt') as f:\n    lines = f.readlines()\n    random_int = random.randint(0,len(lines)-1)\n    print lines[random_int]\n</code></pre>\n\n<p>Since <code>randint</code> includes both boundary, you must look until <code>len(lines)-1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 1156788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a07725b1323c6b2dd74ddcdfd05a11?s=128&d=identicon&r=PG", "display_name": "sibinpthomas", "link": "https://stackoverflow.com/users/1156788/sibinpthomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1476908477, "creation_date": 1476908477, "answer_id": 40140827, "question_id": 40140660, "link": "https://stackoverflow.com/questions/40140660/print-random-line-from-txt-file/40140827#40140827", "title": "Print random line from txt file?", "body": "<pre><code>f = open(filename. txt)\nlines = f.readlines() \n\nrand_line = random.randint(0, (len(lines) - 1))  # https://docs.python.org/2/library/random.html#random.randint\nprint lines[rand_line]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "is_accepted": false, "score": 1, "last_activity_date": 1555270113, "last_edit_date": 1555270113, "creation_date": 1555247678, "answer_id": 55675686, "question_id": 40140660, "link": "https://stackoverflow.com/questions/40140660/print-random-line-from-txt-file/55675686#55675686", "title": "Print random line from txt file?", "body": "<p>To get a random line without loading the whole file in memory you can use <a href=\"https://en.wikipedia.org/wiki/Reservoir_sampling\" rel=\"nofollow noreferrer\">Reservoir sampling</a> (with sample size of 1):</p>\n\n<pre><code>from random import randrange    \n\ndef get_random_line(afile, default=None):\n    \"\"\"Return a random line from the file (or default).\"\"\"\n    line = default\n    for i, aline in enumerate(afile, start=1):\n        if randrange(i) == 0:  # random int [0..i)\n            line = aline\n    return line\n\n\nwith open('filename.txt') as f:\n    print(get_random_line(f))\n</code></pre>\n\n<p>This algorithm runs in <code>O(n)</code> time using <code>O(1)</code> additional space.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11435774"}, "is_accepted": false, "score": 0, "last_activity_date": 1565615864, "creation_date": 1565615864, "answer_id": 57461976, "question_id": 40140660, "link": "https://stackoverflow.com/questions/40140660/print-random-line-from-txt-file/57461976#57461976", "title": "Print random line from txt file?", "body": "<p>You can edit your code to achieve this without an error.</p>\n\n<pre><code>f = open(filename. txt)\nlines = f.readlines() \n\nrand_line = random. randint(0,len(lines)-1) # this should make it work\nprint lines[rand_line]\n</code></pre>\n\n<p>This way the index is not out of range.</p>\n"}], "owner": {"reputation": 21, "user_id": 6913309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72cd1c8389883bb24460d3b0b4eeb15?s=128&d=identicon&r=PG&f=1", "display_name": "Bluejay", "link": "https://stackoverflow.com/users/6913309/bluejay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12533, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1565615864, "creation_date": 1476907871, "last_edit_date": 1476910665, "question_id": 40140660, "link": "https://stackoverflow.com/questions/40140660/print-random-line-from-txt-file", "title": "Print random line from txt file?", "body": "<p>I'm using random.randint to generate a random number, and then assigning that number to a variable. Then I want to print the line with the number I assigned to the variable, but I keep getting the error:</p>\n\n<blockquote>\n  <p>list index out of range</p>\n</blockquote>\n\n<p>Here's what I tried:</p>\n\n<pre><code>f = open(filename. txt)\nlines = f.readlines() \n\nrand_line = random. randint(1,10)\nprint lines[rand_line]\n</code></pre>\n"}, {"tags": ["python", "tkinter", "raspberry-pi", "gpio"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1476908142, "post_id": 40140574, "comment_id": 67551431, "body": "This is way too much code to post. Please read <a href=\"http://www.stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable Example (MCVE)</a>"}, {"owner": {"reputation": 1, "user_id": 7043471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b5e2636feac784d709c47323d1aada?s=128&d=identicon&r=PG&f=1", "display_name": "Samonater", "link": "https://stackoverflow.com/users/7043471/samonater"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1476910927, "post_id": 40140574, "comment_id": 67552864, "body": "Sorry I took out as much redundant code as possible"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1476925207, "post_id": 40140574, "comment_id": 67557513, "body": "you can import scripts in main script and run them but in scripts you have to put code in functions or use classes and OOP - ie. <code>import script1 ;  script1.App().mainloop()</code>."}, {"owner": {"reputation": 1, "user_id": 7043471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b5e2636feac784d709c47323d1aada?s=128&d=identicon&r=PG&f=1", "display_name": "Samonater", "link": "https://stackoverflow.com/users/7043471/samonater"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1477062782, "post_id": 40140574, "comment_id": 67627595, "body": "@furas would you be able to explain a little more?  I kindof know what you mean but not at the same time.  Are you saying to import script in a function? Or import at the beginning and just call on the class when I want to load the game?  Is there a way to unimport a script?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1477124606, "post_id": 40140574, "comment_id": 67646456, "body": "in main script you can import other script - if in other script you have all code in classes/functions then you can control when classes/functions will be executed. if memory is a problem then you can use <code>del</code> to remove imported script. ie <code>import math ;  print(math.pi) # 3.1415 ; del math ;  print(math.pi) # ERROR</code>"}], "owner": {"reputation": 1, "user_id": 7043471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b5e2636feac784d709c47323d1aada?s=128&d=identicon&r=PG&f=1", "display_name": "Samonater", "link": "https://stackoverflow.com/users/7043471/samonater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476910883, "creation_date": 1476907557, "last_edit_date": 1476910883, "question_id": 40140574, "link": "https://stackoverflow.com/questions/40140574/problems-with-unsing-tkinter-and-rpi-gpio-together-for-skeeball-program", "title": "Problems with unsing TKinter and RPi.GPIO together for Skeeball program", "body": "<p>I'm trying to make a program with Python that will be used for a skeeball game off of a raspberry pi.  I already have a script made up for having a simple 9 ball game using Tkinter and python.  My problem now is that I want to add more games such as a timed game or cricket for example and don't want to have to use the mouse to control the menus.  My original thought was to have tkinter frames stack on top of each other and pull the game that I wanted to the top.  I ran into way too many errors with GPIO not working properly with it (could have just been my inexperience but I decided to scrap that).  I now am trying to use code to pull up separate python scripts when a GPIO button is pressed using</p>\n\n<p><code>import subprocess\nsubprocess.call('/home/pi/Skeeball_python/Skeeball02.py'</code></p>\n\n<p>That code returned an error 13 with permission denied.  I gave root access to all the files and folders with my code in it and even was logged in as root user when I ran the program and still got the same error.</p>\n\n<p>My question is how would I get this code to work in order to load separate scripts without returning an error and to also run as superuser since the GPIO part of the script needs root access.Should I keep trying with getting the separate script to load or should I try a different method?</p>\n\n<p>If it's at all useful here is my 9 ball game code:</p>\n\n<pre><code>import RPi.GPIO as GPIO\nfrom tkinter import *\n\nScreen = Tk()\nScreen.geometry ('1920x1080')\nGPIO.setmode (GPIO.BCM)\n\nGPIO.setup (17, GPIO.IN)\nGPIO.setup (26, GPIO.IN, pull_up_down=GPIO.PUD_DOWN) #GPIO 26 as reset \n\nscore = IntVar()\nballcount = IntVar()\n\nscore.set(0)\nballcount.set(9)\n\nmLabel1 = Label(Screen,text = 'SCORE',fg = 'red',font=(\"helvatica\", 100))\nmLabel1.place(x='250',y='250')\nmLabel2 = Label(Screen,text = 'BALLS REMAINING',fg = 'red',font=(\"helvatica\", 40))\nmLabel2.place(x='250',y='550')\nmLabel3 = Label(Screen,textvariable = score,fg = 'red',font=(\"helvatica\", 100))\nmLabel3.place(x='950',y='250')\nmLabel4 = Label(Screen,textvariable = ballcount,fg = 'red',font=(\"helvatica\", 100))\nmLabel4.place(x='950',y='500')\nmLabel5 = Label(Screen,text = 'Press Button to Reset',fg = 'red',font=(\"helvatica\", 40))\nmLabel5.place(x='250',y='550')\n\nmLabel5.place_forget()\n\n\ndef score100(self):\n    if not ballcount.get()==0:\n        score.set(score.get()+100)\n        ballcount.set(ballcount.get()-1)            \n    end()\n\ndef reset(self):\n    score.set(0)\n    ballcount.set(9)\n    mLabel2.place(x='250',y='550')\n    mLabel4.place(x='950',y='500')\n    mLabel5.place_forget()\n    LEDwindup()\n\ndef end():\n    if ballcount.get() == 0:\n        mLabel2.place_forget()\n        mLabel4.place_forget()\n        mLabel5.place(x='250',y='550')\n\nGPIO.add_event_detect(17,GPIO.RISING,callback=score100,bouncetime=500)\nGPIO.add_event_detect(26,GPIO.FALLING,callback=reset,bouncetime=500)\n\n\nScreen.mainloop()\nGPIO.cleanup() \n</code></pre>\n\n<p>It's pretty rough yet and I'm still pretty inexperienced in python so any suggestions would help as well too on other things.</p>\n"}, {"tags": ["python", "callback", "pyqt"], "answers": [{"comments": [{"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 3, "creation_date": 1476950140, "post_id": 40140793, "comment_id": 67566384, "body": "It&#39;s worth noting that you&#39;ll probably need to call <code>QApplication.processEvents()</code> each time through the loop to see the progress bar update.  As long as the main thread is busy in your <code>process_files</code> function, control will never be returned to the event loop to update and redraw the GUI otherwise."}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1476965758, "post_id": 40140793, "comment_id": 67577128, "body": "@BrendanAbel Thanks for noting. Something I didn&#39;t notice prolly because of the simple test case :)"}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 3, "last_activity_date": 1476909171, "last_edit_date": 1592644375, "creation_date": 1476908381, "answer_id": 40140793, "question_id": 40140531, "link": "https://stackoverflow.com/questions/40140531/report-progress-to-qprogressbar-using-variable-from-an-imported-module/40140793#40140793", "title": "Report progress to QProgressBar using variable from an imported module", "body": "<p>Make the <code>process_files</code> function a generator function that <em>yields</em> a value (the progress value) and pass it as a callback to a method in your <code>Window</code> class that updates the progress bar value. I have added a <code>time.sleep</code> call in your function so you can observe the progress:</p>\n<pre><code>import time\nfrom worker import process_files\n\nclass Window(QtGui.QMainWindow):\n    def __init__(self):\n        ...\n\n    def observe_process(self, func=None):\n        try:\n            for prog in func():\n                self.progress.setValue(prog)\n        except TypeError:\n            print('callback function must be a generator function that yields integer values')\n            raise\n\n\napp = QtGui.QApplication(sys.argv)\nGUI = Window()\n# process files and report progress using .setValue(percent)\nGUI.observe_process(process_files)\nsys.exit(app.exec_())\n</code></pre>\n<p><strong>worker.py</strong></p>\n<pre><code>def process_files():\n    file_list = ['file1', 'file2', 'file3']\n    counter = 0\n    for file in file_list:\n        counter += 1\n        percent = 100 * counter / len(file_list)\n        time.sleep(1)\n        yield percent\n</code></pre>\n<hr />\n<p><strong>Result</strong>:</p>\n<p>After processing <code>file2</code></p>\n<p><a href=\"https://i.stack.imgur.com/10LSf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10LSf.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 1542, "user_id": 5494179, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/B4FWY.jpg?s=128&g=1", "display_name": "Vasily", "link": "https://stackoverflow.com/users/5494179/vasily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 0, "accepted_answer_id": 40140793, "answer_count": 1, "score": 2, "last_activity_date": 1476909886, "creation_date": 1476907413, "last_edit_date": 1476909886, "question_id": 40140531, "link": "https://stackoverflow.com/questions/40140531/report-progress-to-qprogressbar-using-variable-from-an-imported-module", "title": "Report progress to QProgressBar using variable from an imported module", "body": "<p>I have a PyQT GUI application <code>progress_bar.py</code>with a single progressbar and an external module <code>worker.py</code> with a <code>process_files()</code> function which does some routine with a list of files and reports current progress using <code>percent</code> variable.</p>\n\n<p>What I want to do is to report the current progress of the <code>worker.process_files</code> using <code>QProgressBar.setValue()</code> method, but I have no idea how to implement it (callback function or something?)</p>\n\n<p>Here are my modules:</p>\n\n<p><strong>progress_bar.py</strong></p>\n\n<pre><code>import sys\nfrom PyQt4 import QtGui\nfrom worker import process_files\n\n\nclass Window(QtGui.QMainWindow):\n\n    def __init__(self):\n        super(Window, self).__init__()\n        self.setGeometry(100, 100, 300, 100)\n        self.progress = QtGui.QProgressBar(self)\n        self.progress.setGeometry(100, 50, 150, 20)\n        self.progress.setValue(0)\n        self.show()\n\n\napp = QtGui.QApplication(sys.argv)\nGUI = Window()\n# process files and report progress using .setValue(percent)\nprocess_files()\nsys.exit(app.exec_())\n</code></pre>\n\n<p><strong>worker.py</strong></p>\n\n<pre><code>def process_files():\n    file_list = ['file1', 'file2', 'file3']\n    counter = 0\n    for file in file_list:\n        # do_stuff_with_the_file\n        counter += 1\n        percent = 100 * counter / len(file_list)\n        print percent\n</code></pre>\n"}, {"tags": ["python", "if-statement", "adventure"], "comments": [{"owner": {"reputation": 2629, "user_id": 6341295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I74tV.png?s=128&g=1", "display_name": "Priyesh Kumar", "link": "https://stackoverflow.com/users/6341295/priyesh-kumar"}, "edited": false, "score": 0, "creation_date": 1476907644, "post_id": 40140522, "comment_id": 67551112, "body": "<code>qwerty == &#39;yes&#39; or &quot;Yes&quot;</code> doesn&#39;t check if qwerty is yes or Yes. It only checks if qwerty == &#39;yes&#39;, if not then next condition is <code>if &quot;Yes&quot;</code> which is always true. So you first condition is always true."}, {"owner": {"reputation": 2332, "user_id": 5319229, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fe016d5983a221686cebf48bc87769f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/5319229/rafael"}, "edited": false, "score": 0, "creation_date": 1476907853, "post_id": 40140522, "comment_id": 67551247, "body": "You can also use parentheses <code>if (qwerty == &#39;yes&#39;)  or  (qwerty == &quot;Yes&quot;):</code>. Not a very efficient solution in your case since you have so many tests to do, but maybe in other solutions it&#39;ll be helpful"}], "answers": [{"comments": [{"owner": {"reputation": 1317, "user_id": 1411115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364d95a6338c96d6380a91426e1e0a52?s=128&d=identicon&r=PG", "display_name": "erapert", "link": "https://stackoverflow.com/users/1411115/erapert"}, "edited": false, "score": 0, "creation_date": 1476907621, "post_id": 40140540, "comment_id": 67551102, "body": "Or do <code>if qwerty == &#39;yes&#39; or qwerty == &#39;Yes&#39; or qwerty == &#39;Yeah&#39; or ...</code> The only difference is speed vs. readability. I like the <code>if qwerty in [&#39;yes&#39;, &#39;Yes&#39;, ...]</code> solution better, but it may be slower. The only way to know for sure is to benchmark it. But benchmarking it would probably take more effort that it&#39;s worth."}, {"owner": {"reputation": 39, "user_id": 7044371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-aBHcstXa-nI/AAAAAAAAAAI/AAAAAAAAFh4/tixRV2y1rLc/photo.jpg?sz=128", "display_name": "DuckyQuack", "link": "https://stackoverflow.com/users/7044371/duckyquack"}, "edited": false, "score": 0, "creation_date": 1476908047, "post_id": 40140540, "comment_id": 67551358, "body": "wow thanks! It was really helpful (And extremely fast)"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1476908048, "post_id": 40140540, "comment_id": 67551360, "body": "<code>qwerty.lower()</code> will simplify the list as well, as then you only need to compare lowercase answers.  personally, I&#39;d just do <code>if qwerty[0].lower() == &#39;y&#39;:</code> - it would accept anything starting with y"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 39, "user_id": 7044371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-aBHcstXa-nI/AAAAAAAAAAI/AAAAAAAAFh4/tixRV2y1rLc/photo.jpg?sz=128", "display_name": "DuckyQuack", "link": "https://stackoverflow.com/users/7044371/duckyquack"}, "edited": false, "score": 0, "creation_date": 1476908285, "post_id": 40140540, "comment_id": 67551516, "body": "@DuckyQuack: If it helped, mark it as accepted :) . Also, check the comments given by others, you will get to know the alternatives and will clear your few doubts."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1476908437, "post_id": 40140540, "comment_id": 67551602, "body": "Interestingly, according to timeit, the fastest solution is: <code>qwerty[0] == &#39;Y&#39; or qwerty[0] == &#39;y&#39;</code>. This executes in about half the time of the others. The next fastest is <code>qwerty in [&#39;yes&#39;, &quot;Yes&quot;, &quot;Yeah&quot;, &quot;yeah&quot;, &quot;yup&quot;, &quot;Yup&quot;]</code>"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1476908865, "post_id": 40140540, "comment_id": 67551853, "body": "@TemporalWolf: But my <code>timeit</code> shows different result. For example: <code>&#39;a&#39; in [&#39;a&#39;]</code> is faster than <code>&#39;a&#39; == &#39;a&#39;</code>. Infact, <code>&#39;answer&#39; in [&#39;answer&#39;]</code> is faster than <code>&#39;a&#39; == &#39;a&#39;</code>"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1476909201, "post_id": 40140540, "comment_id": 67552021, "body": "@anonymous It is marginally faster (&lt;5% in my timeit) with a single element <b>if</b> it evaluates <code>True</code>. When <code>False</code>, it takes about 30% longer. So it depends on your input data which would be faster overall."}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 2, "last_activity_date": 1476908188, "last_edit_date": 1476908188, "creation_date": 1476907460, "answer_id": 40140540, "question_id": 40140522, "link": "https://stackoverflow.com/questions/40140522/my-if-statements-only-choosing-first-option/40140540#40140540", "title": "My If statements only choosing first option", "body": "<p>You need to update your condition in <code>if</code> as:</p>\n\n<pre><code>if qwerty in ['yes', \"Yes\", \"Yeah\", \"yeah\", \"yup\", \"Yup\"]\n</code></pre>\n\n<p><em>Explanation</em>:</p>\n\n<p><code>or</code> in Python performs Logic <code>OR</code> operation. If value is <code>True</code>, the condition is satisfied, else it goes to next condition in <code>or</code>. To give you more clarity. For example:  </p>\n\n<pre><code>&gt;&gt;&gt; 'Hello' or 'Man'\n'Hello'\n&gt;&gt;&gt; '' or 'Man'\n'Man'\n</code></pre>\n\n<p>Also, note that python treats non-zero and non-empty string value as <code>True</code>.</p>\n\n<p>Example with your case:</p>\n\n<pre><code>&gt;&gt;&gt; querty = 'Yes'\n&gt;&gt;&gt; querty == 'yes'  # This returns False\nFalse\n&gt;&gt;&gt; querty == 'yes' or 'Yes'  # Goes to next condition since 1st is False \n'Yes'                         # Since it is non-empty string, retuns that value\n                              # and 'if' treats that as True\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 7044371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-aBHcstXa-nI/AAAAAAAAAAI/AAAAAAAAFh4/tixRV2y1rLc/photo.jpg?sz=128", "display_name": "DuckyQuack", "link": "https://stackoverflow.com/users/7044371/duckyquack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1208, "favorite_count": 0, "closed_date": 1476907446, "accepted_answer_id": 40140540, "answer_count": 1, "score": 0, "last_activity_date": 1476908188, "creation_date": 1476907382, "last_edit_date": 1476907436, "question_id": 40140522, "link": "https://stackoverflow.com/questions/40140522/my-if-statements-only-choosing-first-option", "closed_reason": "Duplicate", "title": "My If statements only choosing first option", "body": "<p>So Heres My Code</p>\n\n<pre><code>while True:\n    username = raw_input(\"Username:\")\n    time.sleep(1)\n    print username\n    qwerty = raw_input(\"Is this right?\")\n    if qwerty == 'yes' or \"Yes\" or \"Yeah\" or \"yeah\" or \"yup\" or \"Yup\":\n        print \"OK.\"\n        break\n    elif qwerty == 'no' or 'No' or 'nope' or 'Nope' or 'nah' or 'Nah':\n        print \"Please type your Username again\"\n        continue\n    else:\n        print \"Please Try a more common answer\"\n        continue`\n</code></pre>\n\n<p>I Don't Know Whats wrong because what ever i type for the input it only comes out with the first Option. does anyone know why?</p>\n"}, {"tags": ["python", "label", "regression"], "answers": [{"tags": [], "owner": {"reputation": 768, "user_id": 2062051, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/790b4c3cafa53954ceb10c33dc9b21e5?s=128&d=identicon&r=PG", "display_name": "ilanman", "link": "https://stackoverflow.com/users/2062051/ilanman"}, "is_accepted": false, "score": 0, "last_activity_date": 1480197211, "creation_date": 1480197211, "answer_id": 40823543, "question_id": 40140487, "link": "https://stackoverflow.com/questions/40140487/labeling-regressions-iterated-across-columns-of-a-dataframe/40823543#40823543", "title": "Labeling regressions iterated across columns of a dataframe", "body": "<p>This will work:</p>\n\n<pre><code>def capm_ols(column):\n    capm = ols(formula = column + \" ~ prem\", data=df).fit()\n    print capm.summary()\n\nfor column in xcesret:\n    capm_ols(j)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7044358, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4nANEgZrWVg/AAAAAAAAAAI/AAAAAAAAAYo/gcUEYiX4uHs/photo.jpg?sz=128", "display_name": "Hannah Cocos", "link": "https://stackoverflow.com/users/7044358/hannah-cocos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480197211, "creation_date": 1476907262, "last_edit_date": 1476911614, "question_id": 40140487, "link": "https://stackoverflow.com/questions/40140487/labeling-regressions-iterated-across-columns-of-a-dataframe", "title": "Labeling regressions iterated across columns of a dataframe", "body": "<p>I'm a beginner in Python and I was wondering if someone can lead me to a thread (if this has been answered before), on the code to label regressions executed over different columns in a dataframe. Currently I am using the following code:</p>\n\n<pre><code>def capm_ols(j):\n    capm = ols(formula = 'xcesret[column] ~ prem', data=df).fit()\n    print (capm.summary())\n\nfor column in xcesret:\n    capm_ols(j)\n</code></pre>\n\n<p>So the result of this one is I get all my regressions. However, the label of the dependent variable becomes <code>xcesret[column]</code> for each of the old tables. This basically renders the analysis useless as I have no way of knowing which dependent variable has been regressed in each result.</p>\n\n<p>Thank you for your time!</p>\n"}, {"tags": ["python", "amazon-data-pipeline", "luigi"], "comments": [{"owner": {"reputation": 5400, "user_id": 3219121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3b3decf3a49e94f49172034f5df598?s=128&d=identicon&r=PG", "display_name": "matagus", "link": "https://stackoverflow.com/users/3219121/matagus"}, "edited": false, "score": 0, "creation_date": 1476964876, "post_id": 40140449, "comment_id": 67576565, "body": "pls show how you&#39;re running your task, the path to your code and the path where the client.cfg is located."}], "answers": [{"tags": [], "owner": {"reputation": 334, "user_id": 3752859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9591ad7507e0a3496b5a1ab9103579b5?s=128&d=identicon&r=PG&f=1", "display_name": "Milage", "link": "https://stackoverflow.com/users/3752859/milage"}, "is_accepted": false, "score": 0, "last_activity_date": 1498223868, "creation_date": 1498223868, "answer_id": 44722440, "question_id": 40140449, "link": "https://stackoverflow.com/questions/40140449/luigi-visualiser-to-persist-jobs-for-a-day/44722440#44722440", "title": "Luigi Visualiser to persist jobs for a day", "body": "<p>There is a typo in the documentation (\"remove-delay\" instead of remove_delay\") which is being fixed under <a href=\"https://github.com/spotify/luigi/issues/2133\" rel=\"nofollow noreferrer\">https://github.com/spotify/luigi/issues/2133</a></p>\n\n<p>You need to put the following in the configuration file:</p>\n\n<pre><code>[scheduler]\nrecord_task_history = True\nstate_path = /x/s/hadoop/luigi/var/luigi-state.pickle\nremove_delay = 86400\n</code></pre>\n"}], "owner": {"reputation": 384, "user_id": 3294904, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f39b88d86c9cf0e9cdaa309d475c9cff?s=128&d=identicon&r=PG&f=1", "display_name": "user3294904", "link": "https://stackoverflow.com/users/3294904/user3294904"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498223868, "creation_date": 1476907119, "last_edit_date": 1495542805, "question_id": 40140449, "link": "https://stackoverflow.com/questions/40140449/luigi-visualiser-to-persist-jobs-for-a-day", "title": "Luigi Visualiser to persist jobs for a day", "body": "<p>I have been trying with adding --scheduler-remove-delay parameter to job while invoking a run and also in client.cfg I have added remove-delay property</p>\n\n<blockquote>\n  <p>[scheduler] \n  record_task_history = True \n  remove-delay = 86400.0</p>\n</blockquote>\n\n<p>but none these seem to work. Any ideas?</p>\n\n<p>There is an already almost similar problem here - </p>\n\n<p><a href=\"https://stackoverflow.com/questions/32636120/persist-completed-pipeline-in-luigi-visualiser#comment67537050_32636120\">Persist Completed Pipeline in Luigi Visualiser</a></p>\n"}, {"tags": ["python", "python-3.x", "pygame", "2d-games"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1476913677, "post_id": 40140432, "comment_id": 67554100, "body": "To be able to handle more than one unit, you <i>must</i> create a <code>unit</code> class. Then, you can either have a boolean value <code>selected</code> for it, or \u2013 possible easier \u2013 a <code>selected</code> list to which you can add and remove units."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 6909978, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e1a3d4f8ab3b84cf55e77165c758540f?s=128&d=identicon&r=PG&f=1", "display_name": "pytheron", "link": "https://stackoverflow.com/users/6909978/pytheron"}, "edited": false, "score": 0, "creation_date": 1477143080, "post_id": 40142078, "comment_id": 67651499, "body": "I&#39;ve now changed the variables to object that holds the unit coordinates, and I can click on each one to move them."}], "tags": [], "owner": {"reputation": 4547, "user_id": 446792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U1Hrx.jpg?s=128&g=1", "display_name": "mx0", "link": "https://stackoverflow.com/users/446792/mx0"}, "is_accepted": true, "score": 1, "last_activity_date": 1476913739, "creation_date": 1476913739, "answer_id": 40142078, "question_id": 40140432, "link": "https://stackoverflow.com/questions/40140432/how-can-i-extend-the-unit-selection-logic-in-my-rts-game-to-apply-to-multiple-un/40142078#40142078", "title": "How can I extend the unit selection logic in my RTS game to apply to multiple units?", "body": "<p>There are few things to do:</p>\n\n<ol>\n<li>Change variables <code>character_*</code> to object that holds all data about the unit.</li>\n<li>Create array of units / characters. That way each unit in array can have unique position, velocity ets. </li>\n<li>Everywhere in code where you check <code>character_*</code>, change to for loops where you iterate over characters array to check every unit.</li>\n<li>Next step should be adding functions like move / shoot to character class, to make keypress event working for multiple units.</li>\n</ol>\n\n<p>That should give you code where you can select multiple units (if they occupy same spot) and move them independently of deselected units.</p>\n"}], "owner": {"reputation": 61, "user_id": 6909978, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e1a3d4f8ab3b84cf55e77165c758540f?s=128&d=identicon&r=PG&f=1", "display_name": "pytheron", "link": "https://stackoverflow.com/users/6909978/pytheron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 40142078, "answer_count": 1, "score": 0, "last_activity_date": 1477159564, "creation_date": 1476907037, "last_edit_date": 1477159564, "question_id": 40140432, "link": "https://stackoverflow.com/questions/40140432/how-can-i-extend-the-unit-selection-logic-in-my-rts-game-to-apply-to-multiple-un", "title": "How can I extend the unit selection logic in my RTS game to apply to multiple units?", "body": "<p>Currently if you left-click on the unit, it becomes 'selected' (or 'de-selected'), and a green square is drawn around it. Then when you right-click somewhere on the screen, the unit moves neatly into the square in the location that you clicked.</p>\n\n<p>Also if you use the up, down, left or right keys it will scroll the screen.</p>\n\n<pre><code>import pygame\nimport random\npygame.init()\n\n#Define mouse position\nmouse_position_x = 525\nmouse_position_y = 315\n\n# Define colors\ngreen = (0,255,0)\nbrown = (150,75,0)\n\n#Define border position\nborder_x = 0\nborder_y = 0\n\n#Define character selection box\ndef character_selection_box():\n    pygame.draw.line(screen,green,(character_location_x,character_location_y),(character_location_x+character_width,character_location_y),2) # Top bar\n    pygame.draw.line(screen,green,(character_location_x,character_location_y+character_height),(character_location_x+character_width,character_location_y+character_height),2) # Bottom bar\n    pygame.draw.line(screen,green,(character_location_x,character_location_y),(character_location_x,character_location_y+character_height),2) # Left bar\n    pygame.draw.line(screen,green,(character_location_x+character_width,character_location_y),(character_location_x+character_width,character_location_y+character_height+1),2) # Right bar\n\n#Define round\ndef assign_square(n):\n    div = (n/35)\n    rou = round(div)\n    mul = (35*rou)\n    return int(mul)\n\n#Set window\nscreen_width = 981\nscreen_height = 700\ngame_screen_width = 800\ngame_screen_height = 700\nscreen_size = (screen_width,screen_height)\nscreen = pygame.display.set_mode(screen_size)\npygame.display.set_caption(\"Warpath\")\n\n#Set block character\ncharacter_width = 35\ncharacter_height = 35\ncharacter_location_x = 525\ncharacter_location_y = 315\nmovement = 1\nunit_selected = 0\n\n#Load images\norc_grunt_forward = pygame.image.load('orc_forward3.png') #(35 by 35 pixel image)\ncharacter_image = orc_grunt_forward\n\n#Loop until the user clicks the close button\nshutdown = False\n\n#Set clock\nclock = pygame.time.Clock()\n\n#Set scroll limit\nscroll_x = 0\nscroll_y = 0\n\n # ---------- Main program loop -----------\nwhile not shutdown:\n\n    # --- Main event loop ---\n    for event in pygame.event.get():\n\n        # --- If quit button pressed, shutdown\n        if event.type == pygame.QUIT: \n            shutdown = True\n\n        # --- If mouse button pressed\n        elif event.type == pygame.MOUSEBUTTONDOWN: # If a mouse button is pressed\n            mouse_position = pygame.mouse.get_pos() # Get mouse position\n            button_type = pygame.mouse.get_pressed() # Check which button was pressed\n\n            # --- If left click pressed and the curser was on a character, select that character \n            if button_type[0] == 1 and mouse_position[0] &gt;= character_location_x and mouse_position[0] &lt;= character_location_x + character_width and mouse_position[1] &gt;= character_location_y and mouse_position[1] &lt;= character_location_y + character_height:\n                print(\"Unit selected\",unit_selected)\n                print(button_type)\n                unit_selected += 1\n                unit_selected /= unit_selected #(Otherwise it will add up unit selected if you click more than once)\n                int(unit_selected)\n\n            # --- If right click pressed and a character was selected (and it's within the game screen), move the character to the location     \n            elif button_type[2] == 1 and unit_selected == 1 and mouse_position[0] &gt; 175: \n                mouse_position_x *= 0\n                mouse_position_y *= 0\n\n                if mouse_position[0] &gt;= assign_square(mouse_position[0]):\n                    mouse_position_x += assign_square(mouse_position[0])\n\n                elif mouse_position[0] &lt;= assign_square(mouse_position[0]):\n                    mouse_position_x -= 35\n                    mouse_position_x += assign_square(mouse_position[0])\n\n                if mouse_position[1] &gt;= assign_square(mouse_position[1]):\n                    mouse_position_y += assign_square(mouse_position[1])\n\n                elif mouse_position[1] &lt;= assign_square(mouse_position[1]):\n                    mouse_position_y -= 35\n                    mouse_position_y += assign_square(mouse_position[1])\n\n            # --- If left click pressed and the curser was not on a character, deselect the character        \n            elif button_type[0] == 1 and mouse_position[0] &lt; character_location_x or mouse_position[0] &gt; character_location_x + character_width or mouse_position[1] &lt; character_location_y or mouse_position[1] &gt; character_location_y + character_height:\n                print(\"Unit not selected\")\n                print(button_type)\n                unit_selected *= 0\n                int(unit_selected)\n\n        # --- If key pressed, scroll the screen\n        elif event.type == pygame.KEYDOWN:\n\n            if event.key == pygame.K_RIGHT and scroll_x &gt; -10:\n                direction = \"right\"\n                character_location_x -= 35\n                mouse_position_x -= 35\n                border_x -= 35\n                scroll_x -= 1\n\n            if event.key == pygame.K_LEFT and scroll_x &lt; 10:\n                direction = \"left\"\n                character_location_x += 35\n                mouse_position_x += 35\n                border_x += 35\n                scroll_x += 1\n\n            if event.key == pygame.K_UP and scroll_y &lt; 10:\n                direction = \"up\"\n                character_location_y += 35\n                mouse_position_y += 35\n                border_y += 35\n                scroll_y += 1\n\n            if event.key == pygame.K_DOWN and scroll_y &gt; -10:\n                direction = \"down\"\n                character_location_y -= 35\n                mouse_position_y -= 35\n                border_y -= 35\n                scroll_y -= 1\n\n    # --- Game logic ---\n\n    # --- Set character movement      \n    if character_location_x &lt; mouse_position_x:\n        character_location_x += movement\n    if character_location_x &gt; mouse_position_x:\n        character_location_x -= movement\n    if character_location_y &lt; mouse_position_y:\n        character_location_y += movement\n    if character_location_y &gt; mouse_position_y:\n        character_location_y -= movement\n\n    # --- Drawing ---\n    screen.fill(brown) # Draw background\n    screen.blit(character_image,(character_location_x,character_location_y)) # Draw character\n\n    if unit_selected == 1: \n        character_selection_box() # Draw character selection box if unit is selected\n\n    clock.tick(30)\n    pygame.display.flip()\n\n#Shutdown\nif shutdown == True:\n    pygame.quit()\n</code></pre>\n\n<p>The problem is that I can't figure out how to extend this to multiple units - currently if I want to add more units I can only either manage to:</p>\n\n<p>a) Move them all at once</p>\n\n<p>or </p>\n\n<p>b) Paste the same code multiple times adjusting the character variable (not a robust / scalable solution)</p>\n\n<p>How can I adjust my code so that I have a scalable solution where:</p>\n\n<p>1) I can select a single unit and move it, without moving every unit at once</p>\n\n<p>2) I can select multiple units by clicking on each one individually, and move them all at once (not worrying about pathfinding right now)</p>\n\n<p>I also tried using classes to achieve this but it still felt like I was copying / pasting multiple functions rather than having a robust solution.</p>\n\n<p>I've removed any code that doesn't concern the issue while keeping a functioning program.</p>\n\n<p>Thanks</p>\n"}]