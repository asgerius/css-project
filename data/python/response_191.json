[{"tags": ["python", "python-3.x", "pass-by-reference"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 3, "creation_date": 1536192030, "post_id": 52194750, "comment_id": 91339146, "body": "Attribute access (<code>obj.attr</code>) and indexing (<code>obj[index]</code>) are entirely separate concepts in Python.  You&#39;d need to use <code>setattr(obj, attrib, 1)</code> to set an attribute indirectly."}, {"owner": {"reputation": 828, "user_id": 9362785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6902b16fb7213b6d360125bb89e1ebdc?s=128&d=identicon&r=PG&f=1", "display_name": "albert", "link": "https://stackoverflow.com/users/9362785/albert"}, "reply_to_user": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1536192372, "post_id": 52194750, "comment_id": 91339209, "body": "Sorry, in my mind I was thinking of dicts as objects, and I was assuming the same syntax for setting dict attributes was the same as setting object attribute. Would the sytax dict[attrib] = 1 work for dicts only then?"}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 1, "creation_date": 1536192704, "post_id": 52194750, "comment_id": 91339267, "body": "You can make your own class that supports indexing by implementing the <code>__setitem__()</code>/<code>__getitem__()</code> methods."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1536197405, "post_id": 52194750, "comment_id": 91340154, "body": "@albert <code>dict</code>s <i>are</i> objects. Everything in Python is an object. Dict objects cannot have attributes, and using <code>mydict[k] = v</code> does not create an attribute on the dict objects."}, {"owner": {"reputation": 828, "user_id": 9362785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6902b16fb7213b6d360125bb89e1ebdc?s=128&d=identicon&r=PG&f=1", "display_name": "albert", "link": "https://stackoverflow.com/users/9362785/albert"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1536285628, "post_id": 52194750, "comment_id": 91377904, "body": "@juanpa.arrivillaga what I meant to say was I was thinking of all objects in Python as dicts. And I&#39;m a little confused about what you said about dicts. Using mydict[k] = v does create a k attribute for mydict, does it not?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1536290013, "post_id": 52194750, "comment_id": 91378651, "body": "@albert no, it does not. It assigns a key to a value, but these are not attributes"}], "answers": [{"comments": [{"owner": {"reputation": 828, "user_id": 9362785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6902b16fb7213b6d360125bb89e1ebdc?s=128&d=identicon&r=PG&f=1", "display_name": "albert", "link": "https://stackoverflow.com/users/9362785/albert"}, "edited": false, "score": 0, "creation_date": 1536192417, "post_id": 52194780, "comment_id": 91339221, "body": "Ah ok I was just wondering that. Thanks for the clarification."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1536192531, "post_id": 52194780, "comment_id": 91339243, "body": "It seems a little disingenuous to suggest that there&#39;s <i>no</i> relation between object attributes and dictionaries, considering that most objects store their attributes in a <code>__dict__</code> dict."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 1, "creation_date": 1536194474, "post_id": 52194780, "comment_id": 91339590, "body": "@PatrickHaugh: Except when <code>__slots__</code> are involved, or it&#39;s a C built-in using descriptors to implement access, or when it&#39;s a subclass of <code>tuple</code> or <code>list</code> (e.g. anything made via <code>collections.namedtuple</code>) using <code>@property</code> to alias indices to names, etc. Yes, <code>__dict__</code> is implemented as a <code>dict</code>-like thing, often an actual <code>dict</code> (when it exists, which isn&#39;t always). But that&#39;s mostly an &quot;in the weeds&quot; implementation detail, and not relevant to how you <i>use</i> class instances in 99.999% of cases. Class instances don&#39;t quack like <code>dict</code>, so the relationship isn&#39;t relevant most of the time."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 2, "last_activity_date": 1536192098, "creation_date": 1536192098, "answer_id": 52194780, "question_id": 52194750, "link": "https://stackoverflow.com/questions/52194750/python-class-attribute-assignment/52194780#52194780", "title": "Python class attribute assignment", "body": "<p>Python class instances and <code>dict</code> are completely different beasts; you're likely coming from a JavaScript background where <code>obj.foo</code> is equivalent to <code>obj[\"foo\"]</code>, but that's not how Python works.</p>\n\n<p>If you want to set an attribute via a <code>str</code> name, <a href=\"https://docs.python.org/3/library/functions.html#setattr\" rel=\"nofollow noreferrer\">use <code>setattr</code></a>:</p>\n\n<pre><code>def fun1(obj, attrib):\n    setattr(obj, attrib, 1)\n</code></pre>\n"}], "owner": {"reputation": 828, "user_id": 9362785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6902b16fb7213b6d360125bb89e1ebdc?s=128&d=identicon&r=PG&f=1", "display_name": "albert", "link": "https://stackoverflow.com/users/9362785/albert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 52194780, "answer_count": 1, "score": 0, "last_activity_date": 1536192179, "creation_date": 1536191814, "last_edit_date": 1536192179, "question_id": 52194750, "link": "https://stackoverflow.com/questions/52194750/python-class-attribute-assignment", "title": "Python class attribute assignment", "body": "<p>I'm new to Python, and I was wondering why I can't change the attribute for a class instance using a function, if I pass the instance as a function parameter\nFor example, if I had:</p>\n\n<pre><code>class sol:\n    def __init__(self):\n        self.val = 0\n\ndef fun1(obj, attrib):\n    obj[attrib] = 1\n\nnewSol = sol()\n\nfun1(newSol, \"val\")\n</code></pre>\n\n<p>Why can't fun1 change the object attribute? Is there a way to change it, or is the \"val\" attribute immutable?</p>\n"}, {"tags": ["python", "string", "utf-8", "decode", "pyperclip"], "answers": [{"comments": [{"owner": {"reputation": 896, "user_id": 6296626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dacea39c50418c21021f3f098b36a247?s=128&d=identicon&r=PG&f=1", "display_name": "Programer Beginner", "link": "https://stackoverflow.com/users/6296626/programer-beginner"}, "edited": false, "score": 0, "creation_date": 1536193398, "post_id": 52194880, "comment_id": 91339402, "body": "Well another issue is that I get the string from a file and I don&#39;t know where the &#39; is and whether other character will pose issue or not..."}, {"owner": {"reputation": 539, "user_id": 5703006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18d9ab111e7a926d8f267b8e48ec83d?s=128&d=identicon&r=PG&f=1", "display_name": "xilopaint", "link": "https://stackoverflow.com/users/5703006/xilopaint"}, "reply_to_user": {"reputation": 896, "user_id": 6296626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dacea39c50418c21021f3f098b36a247?s=128&d=identicon&r=PG&f=1", "display_name": "Programer Beginner", "link": "https://stackoverflow.com/users/6296626/programer-beginner"}, "edited": false, "score": 0, "creation_date": 1536196482, "post_id": 52194880, "comment_id": 91339952, "body": "You need to provide more details on how you are retrieving the string from the file."}, {"owner": {"reputation": 539, "user_id": 5703006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18d9ab111e7a926d8f267b8e48ec83d?s=128&d=identicon&r=PG&f=1", "display_name": "xilopaint", "link": "https://stackoverflow.com/users/5703006/xilopaint"}, "reply_to_user": {"reputation": 896, "user_id": 6296626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dacea39c50418c21021f3f098b36a247?s=128&d=identicon&r=PG&f=1", "display_name": "Programer Beginner", "link": "https://stackoverflow.com/users/6296626/programer-beginner"}, "edited": false, "score": 0, "creation_date": 1536199285, "post_id": 52194880, "comment_id": 91340523, "body": "Your question isn&#39;t clear but I guess I could reproduce your issue. I&#39;ve just edited the answer accordingly."}, {"owner": {"reputation": 896, "user_id": 6296626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dacea39c50418c21021f3f098b36a247?s=128&d=identicon&r=PG&f=1", "display_name": "Programer Beginner", "link": "https://stackoverflow.com/users/6296626/programer-beginner"}, "edited": false, "score": 0, "creation_date": 1536216436, "post_id": 52194880, "comment_id": 91345233, "body": "I just edit my code to be more clear but you pretty much reproduced my issue. Is there any other way than switching to python 3 because I would have to convert my whole python 2.7 code to python 3."}, {"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "reply_to_user": {"reputation": 896, "user_id": 6296626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dacea39c50418c21021f3f098b36a247?s=128&d=identicon&r=PG&f=1", "display_name": "Programer Beginner", "link": "https://stackoverflow.com/users/6296626/programer-beginner"}, "edited": false, "score": 0, "creation_date": 1536219584, "post_id": 52194880, "comment_id": 91346768, "body": "@ProgramerBeginner I suggest you upgrade to Python 3 anyway. You&#39;ll have to sooner or later. The <code>2to3</code> tool (part of the Python installation) does a very good job at helping you port the code."}, {"owner": {"reputation": 539, "user_id": 5703006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18d9ab111e7a926d8f267b8e48ec83d?s=128&d=identicon&r=PG&f=1", "display_name": "xilopaint", "link": "https://stackoverflow.com/users/5703006/xilopaint"}, "reply_to_user": {"reputation": 896, "user_id": 6296626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dacea39c50418c21021f3f098b36a247?s=128&d=identicon&r=PG&f=1", "display_name": "Programer Beginner", "link": "https://stackoverflow.com/users/6296626/programer-beginner"}, "edited": false, "score": 0, "creation_date": 1536219766, "post_id": 52194880, "comment_id": 91346862, "body": "@ProgramerBeginner I just edited the answer again with an alternative code for Python 2. Anyway, it should be a good opportunity to you move to Python 3."}, {"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1536296720, "post_id": 52194880, "comment_id": 91380052, "body": "@xilopaint Using <code>sys.setdefaultencoding</code> is a hack that shouldn&#39;t be used (that&#39;s why you have to <code>reload(sys)</code> to make it work). See <a href=\"https://stackoverflow.com/questions/3828723/why-should-we-not-use-sys-setdefaultencodingutf-8-in-a-py-script\">here</a> for some reasons why."}, {"owner": {"reputation": 539, "user_id": 5703006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18d9ab111e7a926d8f267b8e48ec83d?s=128&d=identicon&r=PG&f=1", "display_name": "xilopaint", "link": "https://stackoverflow.com/users/5703006/xilopaint"}, "reply_to_user": {"reputation": 896, "user_id": 6296626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dacea39c50418c21021f3f098b36a247?s=128&d=identicon&r=PG&f=1", "display_name": "Programer Beginner", "link": "https://stackoverflow.com/users/6296626/programer-beginner"}, "edited": false, "score": 0, "creation_date": 1536731035, "post_id": 52194880, "comment_id": 91523991, "body": "@ProgramerBeginner Does this answer address your question?"}, {"owner": {"reputation": 896, "user_id": 6296626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dacea39c50418c21021f3f098b36a247?s=128&d=identicon&r=PG&f=1", "display_name": "Programer Beginner", "link": "https://stackoverflow.com/users/6296626/programer-beginner"}, "edited": false, "score": 0, "creation_date": 1537096810, "post_id": 52194880, "comment_id": 91651914, "body": "@xilopaint Oh sorry, I forgot to mark it as answered. Yes it kind of answer my questions, though I at the end choose to degrade pyperclip to version <code>1.6.1</code>, which for some reason worked for me..."}], "tags": [], "owner": {"reputation": 539, "user_id": 5703006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18d9ab111e7a926d8f267b8e48ec83d?s=128&d=identicon&r=PG&f=1", "display_name": "xilopaint", "link": "https://stackoverflow.com/users/5703006/xilopaint"}, "is_accepted": true, "score": 0, "last_activity_date": 1537509515, "last_edit_date": 1537509515, "creation_date": 1536193134, "answer_id": 52194880, "question_id": 52194746, "link": "https://stackoverflow.com/questions/52194746/python-pyperclip-cannot-copy-decoded/52194880#52194880", "title": "Python pyperclip cannot copy decoded", "body": "<p>You seem to be facing some issues with non-ASCII quotation marks. I suggest you to use Python 3.7. Here's a sample:</p>\n\n<pre><code>import pyperclip\n\nwith open('chat.txt', 'r') as f:\n    string = f.read()\npyperclip.copy(string)\n</code></pre>\n\n<p>This is an alternative for Python 2.7:</p>\n\n<pre><code>import pyperclip\nimport sys\nreload(sys)\nsys.setdefaultencoding('utf8')\n\nwith open('chat.txt', 'r') as f:\n    string = f.read()\n\npyperclip.copy(string)\n</code></pre>\n\n<p><strong>Warning: As pointed out in a comment by @lenz the use of <code>sys.setdefaultencoding()</code> is a hack and discouraged for a <a href=\"https://stackoverflow.com/questions/3828723/why-should-we-not-use-sys-setdefaultencodingutf-8-in-a-py-script\">number of reasons</a>.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 8073, "user_id": 1893164, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f058499cabc6e56e7622015b4db79304?s=128&d=identicon&r=PG", "display_name": "Al Sweigart", "link": "https://stackoverflow.com/users/1893164/al-sweigart"}, "is_accepted": false, "score": 1, "last_activity_date": 1537775998, "creation_date": 1537775998, "answer_id": 52474929, "question_id": 52194746, "link": "https://stackoverflow.com/questions/52194746/python-pyperclip-cannot-copy-decoded/52474929#52474929", "title": "Python pyperclip cannot copy decoded", "body": "<p>This issue has been fixed in 1.6.5, so all you have to do is update pyperclip by running <code>pip install -U pyperclip</code>.</p>\n"}], "owner": {"reputation": 896, "user_id": 6296626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dacea39c50418c21021f3f098b36a247?s=128&d=identicon&r=PG&f=1", "display_name": "Programer Beginner", "link": "https://stackoverflow.com/users/6296626/programer-beginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 0, "accepted_answer_id": 52194880, "answer_count": 2, "score": 0, "last_activity_date": 1537775998, "creation_date": 1536191751, "last_edit_date": 1537096942, "question_id": 52194746, "link": "https://stackoverflow.com/questions/52194746/python-pyperclip-cannot-copy-decoded", "title": "Python pyperclip cannot copy decoded", "body": "<p>I just found out that for some reason when copying using pyperclip a string that was decoded (using utf-8), it will raise an error.</p>\n\n<pre><code>import pyperclip\nwith open('chat.txt' 'r') as f:\n    string = f.read()\n# the string is encoded in utf-8 in order to be able to write down `'`, `emoji` and other special signs or symbol\npyperclip.copy(string.decode('utf-8'))\n</code></pre>\n\n<p>It will raise this error: <code>PyperclipException: only str, int, float, and bool values can be copied to the clipboard, not unicode</code></p>\n\n<p>I found a roundabout way to solve it by using <code>str()</code> but then found out that it won't work since <code>str()</code> does not work if there are some character like <code>'</code>.</p>\n\n<hr>\n\n<p><strong>EDIT: Alternative solution</strong></p>\n\n<p>An alternative solution except for the solution that I accepted would be degrade the <em>pyperclip</em> from the newest version (right now its <code>1.6.4</code>) to a lower version (<code>1.6.1</code> worked for me).</p>\n"}, {"tags": ["python", "recursion", "binary-tree"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 1, "creation_date": 1536191636, "post_id": 52194723, "comment_id": 91339074, "body": "This code adds <code>1</code> for each level of the tree and returns the longest (<code>max</code>) route to a leaf (a node with no children)."}, {"owner": {"reputation": 44043, "user_id": 1565698, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7dace33805b9dcdec5aa63308daf88dc?s=128&d=identicon&r=PG", "display_name": "Sylwester", "link": "https://stackoverflow.com/users/1565698/sylwester"}, "edited": false, "score": 1, "creation_date": 1536191792, "post_id": 52194723, "comment_id": 91339101, "body": "each call of <code>get_height</code> is independent. Thus <code>root</code> is a binding unique for each one. The recursion is treated the same way as any other function and thus you call the <code>get_height</code> on the left and right child nodes (which is what <code>root</code> gets to be for those) and you get the two heights of the subtrees except your node so you add 1 to the highest. I have no idea why you expect a type error."}, {"owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "edited": false, "score": 0, "creation_date": 1536191821, "post_id": 52194723, "comment_id": 91339107, "body": "<code>max</code> returns a number and <code>get_height</code> returns a number (<code>0</code> for the root case, or <code>1 + max(x, y)</code> otherwise), why would that be a <code>TypeError</code>?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1536192847, "post_id": 52194723, "comment_id": 91339296, "body": "It might help understand this if you run it with a small tree at PythonTutor.com, where you can step through it in an interactive visualizer and see all the calls and how they stack up."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "edited": false, "score": 0, "creation_date": 1536196095, "post_id": 52194804, "comment_id": 91339866, "body": "what do you mean by &quot;recursion always calls a smaller case&quot;?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "edited": false, "score": 1, "creation_date": 1536196997, "post_id": 52194804, "comment_id": 91340063, "body": "@fen If your recursive calls are always on a &quot;smaller&quot; thing than the caller&#39;s input\u2026 where &quot;smaller&quot; can mean a lower natural number, a subsequence, a subtree\u2026 as long as it makes the base case &quot;smallest&quot; and you use &quot;smaller&quot; consistently in the next condition, the induction works."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "edited": false, "score": 0, "creation_date": 1536197036, "post_id": 52194804, "comment_id": 91340070, "body": "@fen It&#39;s hard to explain abstractly, but the concrete explanation for your binary tree (the paragraph starting with &quot;The second part&quot;) should be a lot easier to understand."}, {"owner": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "edited": false, "score": 0, "creation_date": 1536198318, "post_id": 52194804, "comment_id": 91340312, "body": "I think that makes sense. Like I said to newbie above, I think my problem stemmed from not realizing that the last call is the first to be returned (i.e. the calls are stacked) and that seems to be what you&#39;re describing here too?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "edited": false, "score": 1, "creation_date": 1536200282, "post_id": 52194804, "comment_id": 91340745, "body": "@fen Yeah, understanding the call stack is pretty important for understanding recursion. If you haven\u2019t tried PythonTutor.com, you really should\u2014it\u2019s a lot easier for this stuff to click if you can see it visually."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "edited": false, "score": 0, "creation_date": 1536200458, "post_id": 52194804, "comment_id": 91340773, "body": "@fen But a different way to look at it is that Python is eager: whenever you call a function, it has to fully evaluate all of the arguments (even if some of them are function calls or something else complicated) before it can call the function. So <code>max</code> can\u2019t even get started until both recursive calls have finished. A stack of calls is the easiest way a language could do that, but not the only way (although you probably don\u2019t want to learn about the others yet\u2014for example, continuation passing can make it easier to understand asyncio code, but it would make this example harder to work out)."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 2, "last_activity_date": 1536192775, "last_edit_date": 1536192775, "creation_date": 1536192324, "answer_id": 52194804, "question_id": 52194723, "link": "https://stackoverflow.com/questions/52194723/binary-tree-height-how-does-this-algorithm-work-in-python/52194804#52194804", "title": "Binary tree height - how does this algorithm work in python?", "body": "<blockquote>\n  <p>Specifically, I'm confused about the recursive calls inside the max function. What is max comparing on each iteration and how is the output able to be added to 1 without causing a TypeError?</p>\n</blockquote>\n\n<p>You\u2019re calling a function twice, and passing the return values of those two function calls to max. So, max is comparing whatever this function returns. </p>\n\n<p>If that isn\u2019t clear, let\u2019s break down that one-liner:</p>\n\n<pre><code>left_height = get_height(root.left)\nright_height = get_height(root.right)\nmax_height = max(left_height, right_height)\nreturn 1 + max_height\n</code></pre>\n\n<p>Since the function we\u2019re calling always returns an integer, max is comparing two integers, which gives you the larger of the two integers. Which is something we can obviously add 1 to.</p>\n\n<p>In other words, the height of the tree is 1 more than the height of whichever subtree is taller.</p>\n\n<hr>\n\n<p>You may think I cheated there. How can I prove that the function always returns an integer, when I had to assume that to prove it?</p>\n\n<p>The key is that recursion is inductive. If you don\u2019t know much math, that\u2019s a fancy way of saying this:</p>\n\n<ul>\n<li>If the base case always returns an integer,</li>\n<li>and recursion always calls a smaller case</li>\n<li>and if we always return an integer as long as all smaller cases return an integer</li>\n<li>then we always return an integer.</li>\n</ul>\n\n<p>The first part is easy: if it\u2019s None, we return 0.</p>\n\n<p>The second part comes from the definition of a tree: the left branch of a tree and the right branch of a tree are always smaller subtrees of the tree. (This wouldn\u2019t be true for a cyclic graph, where <code>root.left</code> could be <code>root</code> or its grandparent.)</p>\n\n<p>The third part is the explanation from the first half of the answer.</p>\n\n<p>And we\u2019re done.</p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "edited": false, "score": 0, "creation_date": 1536195994, "post_id": 52194917, "comment_id": 91339839, "body": "based on your answer and after doing some research on the &quot;call stack&quot; I think my problem stemmed from not realizing that the last call is the first to be returned. Then your answer makes perfect sense. If the first call were the first to be returned then max would be comparing two nodes not two numbers, which is why I thought there might be a TypeError. Am I getting it?"}, {"owner": {"reputation": 10213, "user_id": 1359058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f191024999528a3a7375f8d7181e1fe6?s=128&d=identicon&r=PG", "display_name": "abc", "link": "https://stackoverflow.com/users/1359058/abc"}, "reply_to_user": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "edited": false, "score": 1, "creation_date": 1536218573, "post_id": 52194917, "comment_id": 91346255, "body": "yes, you continue calling the function get_height in max(...). When you reach a base case you go back to the caller that may be the function itself. You really compute the max when you have all both values, i.e., height for left and for right. This process goes on until you come back to the root of the original tree to compute the final result and return to the caller outside the function."}], "tags": [], "owner": {"reputation": 10213, "user_id": 1359058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f191024999528a3a7375f8d7181e1fe6?s=128&d=identicon&r=PG", "display_name": "abc", "link": "https://stackoverflow.com/users/1359058/abc"}, "is_accepted": true, "score": 2, "last_activity_date": 1536193519, "creation_date": 1536193519, "answer_id": 52194917, "question_id": 52194723, "link": "https://stackoverflow.com/questions/52194723/binary-tree-height-how-does-this-algorithm-work-in-python/52194917#52194917", "title": "Binary tree height - how does this algorithm work in python?", "body": "<p>Adding some line to the code will help to figure out what's going on.<br>\nHere a class representing a Tree.</p>\n\n<pre><code>class Tree:\n    def __init__(self,id,left=None,right=None):\n        self.id = id\n        self.left = left\n        self.right = right\n</code></pre>\n\n<p>And a function to find the height.</p>\n\n<pre><code>def get_height(root):\n    if root is None: \n        return 0\n\n    my_height = 1 + max(get_height(root.left), get_height(root.right))\n    print(\"id :{} height: {}\".format(root.id,my_height))\n    return my_height\n\nt = Tree(1,Tree(2,Tree(4),Tree(5)),Tree(3))\n</code></pre>\n\n<p>t can be seen as follows.</p>\n\n<pre><code>     1\n    / \\\n   2   3\n  / \\   \n 4   5 \n</code></pre>\n\n<p>When calling <code>get_height(t)</code> this is the output:</p>\n\n<pre><code>id :4 height: 1\nid :5 height: 1\nid :2 height: 2\nid :3 height: 1\nid :1 height: 3\n</code></pre>\n\n<p>The calls start from the root until after having reached a leaf node the function will be called with <code>None</code>.<br>\nSuppose to have reached a leaf (e.g., Node 4). The results on get_height() on Node 4 would be <code>1 + max(get_height(None),get_height(None)) = 1 + max(0,0) =1</code>.<br>\nNode 4 thus returns 1. The caller (the parent of Node 4, i.e., Node 2) would get <code>1</code> from <code>Node 4</code> and <code>1</code> from <code>Node 5</code>.<br>\nThus it will conclude that its height is <code>1+max(1,1)=2</code> and return this value to the parent node.<br>\nIn the same way, Node 1 (the root) would get <code>2</code> from <code>Node 2</code> and <code>1</code> from <code>Node 3</code> and compute its height as <code>1+max(1,2)=3</code>.<br>\nThe height of the Tree is 3, as the root as height 3.</p>\n"}], "owner": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1472, "favorite_count": 0, "accepted_answer_id": 52194917, "answer_count": 2, "score": 0, "last_activity_date": 1536193519, "creation_date": 1536191519, "question_id": 52194723, "link": "https://stackoverflow.com/questions/52194723/binary-tree-height-how-does-this-algorithm-work-in-python", "title": "Binary tree height - how does this algorithm work in python?", "body": "<p>I came across this algorithm to find the height of a binary tree. Is anyone able to explain how it works? Specifically, I'm confused about the recursive calls inside the max function. What is max comparing on each iteration and how is the output able to be added to 1 without causing a TypeError? Thanks!</p>\n\n<pre><code>def get_height(root):\nif root is None: \n    return 0\nreturn 1 + max(get_height(root.left), get_height(root.right))\n</code></pre>\n"}, {"tags": ["python", "arrays", "python-3.x", "numpy"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1536191828, "post_id": 52194717, "comment_id": 91339111, "body": "Are these arrays all the same size when they are non-empty?"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1536191834, "post_id": 52194717, "comment_id": 91339113, "body": "Maybe you could sort <code>all_my_arrays</code> or a shallow copy of it. Then you only have to compare each array with the previous one to eliminate duplicates."}, {"owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "edited": false, "score": 0, "creation_date": 1536191962, "post_id": 52194717, "comment_id": 91339137, "body": "Yes, the non-empty 1D arrays are all the same size (length of 7)."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 2, "creation_date": 1536194091, "post_id": 52194717, "comment_id": 91339524, "body": "<i>I have a list...</i> A Python list of numpy arrays? What comprises a duplicate? Is <code>array([1, 2, 3])</code> the same as <code>array([3, 2, 1])</code>?"}, {"owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1536194578, "post_id": 52194717, "comment_id": 91339602, "body": "@dawg 1st question: Yes, see the tags. 2nd question: No, duplicate arrays are those which return <code>True</code> to <code>np.array_equal(array1, array2)</code>, which requires them to be the same length and that every element <code>array1[i]</code> and <code>array2[i]</code> is the same for each <code>i</code> within the range of length."}, {"owner": {"reputation": 9542, "user_id": 8068625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4spqa.png?s=128&g=1", "display_name": "Henry Woody", "link": "https://stackoverflow.com/users/8068625/henry-woody"}, "edited": false, "score": 0, "creation_date": 1536254607, "post_id": 52194717, "comment_id": 91367929, "body": "@curious_cosmo have you solved this? If so, I think you should mark it as solved so people don&#39;t keep posting answers"}, {"owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "reply_to_user": {"reputation": 9542, "user_id": 8068625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4spqa.png?s=128&g=1", "display_name": "Henry Woody", "link": "https://stackoverflow.com/users/8068625/henry-woody"}, "edited": false, "score": 0, "creation_date": 1536255689, "post_id": 52194717, "comment_id": 91368443, "body": "@HenryWoody Not yet, I&#39;m still trying these different methods"}], "answers": [{"comments": [{"owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "edited": false, "score": 0, "creation_date": 1536194126, "post_id": 52194845, "comment_id": 91339529, "body": "Thanks, this ran very fast! Does this method preserve order (not required for the purposes of my question, just wondering)?"}, {"owner": {"reputation": 9542, "user_id": 8068625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4spqa.png?s=128&g=1", "display_name": "Henry Woody", "link": "https://stackoverflow.com/users/8068625/henry-woody"}, "reply_to_user": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "edited": false, "score": 0, "creation_date": 1536195405, "post_id": 52194845, "comment_id": 91339726, "body": "@curious_cosmo a set is an unordered collection, so it does not preserve order. You could check out <a href=\"https://docs.python.org/2/library/collections.html#collections.OrderedDict\" rel=\"nofollow noreferrer\">collections.OrderedDict</a> (putting tuples as the keys) or <a href=\"https://code.activestate.com/recipes/576694/\" rel=\"nofollow noreferrer\">this implementation of OrderedSet</a> if you&#39;re interested in preserving order."}, {"owner": {"reputation": 9542, "user_id": 8068625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4spqa.png?s=128&g=1", "display_name": "Henry Woody", "link": "https://stackoverflow.com/users/8068625/henry-woody"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1536195990, "post_id": 52194845, "comment_id": 91339838, "body": "@Alexander the example you&#39;ve just pointed out (<code>set(np.matrix([1,2,1,2]))</code>) is quite different from the solution I have posted. Yours converts the matrix <code>[1 2 1 2]</code> into a set <code>{1, 2}</code>, while mine converts a comprehension of tuples into a set. So yours is one level beneath what I have described in my answer. A more appropriate example would be <code>set([np.matrix([1,2,1,2]), np.matrix([1,2,1,3])])</code>, which produces <code>{(1,2,1,2), (1,2,1,3)}</code>, which is actually in line with the question."}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1536196139, "post_id": 52194845, "comment_id": 91339874, "body": "You are correct. Sorry for the confusion and thanks for the detailed explanation."}], "tags": [], "owner": {"reputation": 9542, "user_id": 8068625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4spqa.png?s=128&g=1", "display_name": "Henry Woody", "link": "https://stackoverflow.com/users/8068625/henry-woody"}, "is_accepted": false, "score": 1, "last_activity_date": 1536193604, "last_edit_date": 1536193604, "creation_date": 1536192712, "answer_id": 52194845, "question_id": 52194717, "link": "https://stackoverflow.com/questions/52194717/quick-way-to-check-for-duplicate-arrays-within-list/52194845#52194845", "title": "Quick way to check for duplicate arrays within list", "body": "<p>You can use the <code>set</code> type to get the unique values in your list. First you have to convert the arrays to hashable types (tuple here is good). Here's an example:</p>\n\n<pre><code>uniques = set(tuple(arr) for arr in all_my_arrays if arr.size &gt; 0)\n</code></pre>\n\n<p>The set <code>uniques</code> will contain all the unique, non-empty arrays from your original <code>all_my_arrays</code> list. The contents of <code>uniques</code> are tuples, but you can convert them back to arrays with a list comprehension. If you're only interested in the number of unique arrays, then you can just call <code>len(uniques)</code> and not worry about converting back to arrays.</p>\n\n<p>This approach has time complexity <code>O(n + m)</code> where <code>n</code> is the number of arrays and <code>m</code> is the length of each. There is however the overhead of converting to tuples, but I believe this method should be faster than what you have so far (which has time complexity <code>O(n^2)</code>) especially for such a large number of arrays.</p>\n\n<p><strong>Edit:</strong> To make this a bit faster, you can remove the empty check on each element and then just handle that at the end. Here's what that would look like:</p>\n\n<pre><code>uniques = set(tuple(arr) for arr in all_my_arrays)\nnum_unique = len(uniques) if () not in uniques else len(uniques) - 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1536193108, "creation_date": 1536193108, "answer_id": 52194875, "question_id": 52194717, "link": "https://stackoverflow.com/questions/52194717/quick-way-to-check-for-duplicate-arrays-within-list/52194875#52194875", "title": "Quick way to check for duplicate arrays within list", "body": "<p>Here's a NumPy-based solution which may work for you. For simplicity, I'll use an example where arrays are either of length 3 or 0.</p>\n\n<p>Note that count of duplicates as per your definition equals total number of arrays <em>minus</em> number of empty arrays <em>minus</em> number of unique non-empty arrays.</p>\n\n<p>The last part may be most expensive, but we can use <code>np.unique</code> on a regular NumPy array for this:</p>\n\n<pre><code>L = [np.array([1, 2, 3]), np.array([]), np.array([3, 2, 1]),\n     np.array([1, 3, 2]), np.array([1, 2, 3]), np.array([1, 3, 2]),\n     np.array([]), np.array([]), np.array([1, 2, 3])]\n\nempty_arr = {idx for idx, arr in enumerate(L) if arr.shape == (0,)}\nempty_count = len(empty_arr)\n\nA = np.array([arr for idx, arr in enumerate(L) if idx not in empty_arr])\n\nunique_arr = np.unique(A, axis=0)\n\nduplicates = len(L) - len(empty_arr) - len(unique_arr)\n\nprint(duplicates)  # 3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1536196513, "creation_date": 1536196513, "answer_id": 52195178, "question_id": 52194717, "link": "https://stackoverflow.com/questions/52194717/quick-way-to-check-for-duplicate-arrays-within-list/52195178#52195178", "title": "Quick way to check for duplicate arrays within list", "body": "<p>I am not <em>sure</em> that I am understanding your problem fully.</p>\n\n<p>However, if I understand:</p>\n\n<ol>\n<li>You have a Python list of 7 element numpy arrays;</li>\n<li>You want to filter out the arrays that are all <code>0</code>;</li>\n<li>You then want to get a unique count of what is left.</li>\n</ol>\n\n<p>If that is correct, you can do this:</p>\n\n<pre><code>import numpy as np\nli_of_arr=[np.random.choice(4,7) for _ in range(50000)] # example list of arrays\nmat=np.array([e for e in li_of_arr if np.any(e)])   # create a numpy matrix of non zero arrays\nuniq=np.unique(mat,axis=0)    # here are your unique sub arrays\nprint (len(mat), len(uniq))   # len of non zero elements and unique non zero elements\n</code></pre>\n\n<p>This takes less than 1 second on my MacBook. </p>\n"}, {"tags": [], "owner": {"reputation": 11838, "user_id": 4427777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1106434f7517ac69aad09d2cf529d793?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/4427777/daniel-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1536217863, "last_edit_date": 1536217863, "creation_date": 1536217438, "answer_id": 52198266, "question_id": 52194717, "link": "https://stackoverflow.com/questions/52194717/quick-way-to-check-for-duplicate-arrays-within-list/52198266#52198266", "title": "Quick way to check for duplicate arrays within list", "body": "<p>Just do </p>\n\n<pre><code>in_arr = np.array([i for i in all_my_arrays if i.size == 7])\nuniques = np.unique(in_arr, axis = 0)\nuniques_list = list(uniques)  # if you really want a list\n</code></pre>\n\n<p>EDIT: Beware that <code>np.unique</code> sorts internally, so order is not preserved.  If you want to maintain order you'll probably need to build a speciality <code>numba</code> function.</p>\n"}], "owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1655, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1536217863, "creation_date": 1536191457, "question_id": 52194717, "link": "https://stackoverflow.com/questions/52194717/quick-way-to-check-for-duplicate-arrays-within-list", "title": "Quick way to check for duplicate arrays within list", "body": "<p>I have a list (let's call it <code>all_my_arrays</code>) that contains about 48,000 1D arrays. I'd like to know how many duplicate arrays are in this list, if any. However, I'd like to exclude empty arrays (because I have multiple empty arrays within the list and don't want those factored into my duplicate count). I tried this code below, but it is taking too long:</p>\n\n<pre><code>import numpy as np\nuniques=[]\nfor arr in all_my_arrays:\n    if not np.array_equal(np.array([]), arr):\n        if not any(np.array_equal(arr, unique_arr) for unique_arr in uniques):\n           uniques.append(arr)\nprint(len(uniques)) #number of non-duplicates\n</code></pre>\n\n<p>Is there a much quicker way to accomplish this?</p>\n"}, {"tags": ["python", "image", "numpy", "matrix"], "comments": [{"owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "edited": false, "score": 0, "creation_date": 1536195492, "post_id": 52194708, "comment_id": 91339742, "body": "I don&#39;t actually see what operation is happening in the figure. Can you explain this? And can you make this a minimal example by pasting small example arrays and the expected output?"}, {"owner": {"reputation": 105, "user_id": 9065144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c8e26784767108e6008075a3bda486?s=128&d=identicon&r=PG&f=1", "display_name": "Unic0", "link": "https://stackoverflow.com/users/9065144/unic0"}, "reply_to_user": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "edited": false, "score": 0, "creation_date": 1536202138, "post_id": 52194708, "comment_id": 91341098, "body": "the operation I want to do is summing only specific columns of 2 matrices together: x = np.matrix([[1,1,1,1],[1,2,2,1],[1,2,2,1],[1,1,1,1]]) y = np.matrix([[7,7,7,7],[7,3,3,7],[7,3,3,7],[7,7,7,7]])  I want to &quot;fuse&quot; the last two columns of the first matrix and the last two columns of the second matrix (stride = 2). as the final would be  f = np.matrix([[1,1,8,8,7,7],[1,2,9,4,3,7],[1,2,9,4,3,7],[1,1,8,&zwnj;&#8203;8,7,7]])  Is it possible to do so ?"}, {"owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "edited": false, "score": 0, "creation_date": 1536202457, "post_id": 52194708, "comment_id": 91341156, "body": "OH, so you&#39;re padding x on the right with two columns of zeros, then padding y on the left with two columns of zeros, and then adding. Is that correct?"}, {"owner": {"reputation": 105, "user_id": 9065144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c8e26784767108e6008075a3bda486?s=128&d=identicon&r=PG&f=1", "display_name": "Unic0", "link": "https://stackoverflow.com/users/9065144/unic0"}, "reply_to_user": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "edited": false, "score": 0, "creation_date": 1536203421, "post_id": 52194708, "comment_id": 91341357, "body": "I don&#39;t intend to pad them with zeros, but &#39;combining&#39; the two matrices with their &#39;joining columns&#39; (the 2 last ones of x and the 2 first ones of y) summed up and have a final matrix with a shape: f.shape = (4,6)"}, {"owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "edited": false, "score": 0, "creation_date": 1536210902, "post_id": 52194708, "comment_id": 91343050, "body": "Yeah, that&#39;s a sum of padded arrays. I&#39;m sure there are other ways to express it, but no vectorised one is obvious to me"}], "answers": [{"tags": [], "owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "is_accepted": false, "score": 2, "last_activity_date": 1536215762, "last_edit_date": 1536215762, "creation_date": 1536202753, "answer_id": 52195885, "question_id": 52194708, "link": "https://stackoverflow.com/questions/52194708/covering-matrices-and-image-reconstruction-using-numpy/52195885#52195885", "title": "Covering matrices and image reconstruction using numpy", "body": "<p>Just pad the matrices with the appropriate columns of zeros, then add like normal.  </p>\n\n<pre><code>import numpy as np\n# define inputs and desired output  \nx = np.array([[1,1,1,1],[1,2,2,1],[1,2,2,1],[1,1,1,1]])\ny = np.array([[7,7,7,7],[7,3,3,7],[7,3,3,7],[7,7,7,7]])  \nf = np.array([[1,1,8,8,7,7],[1,2,9,4,3,7],[1,2,9,4,3,7],[1,1,8,8,7,7]]) \n\nshape = (x.shape[0],x.shape[1]+2) # the shape of the desired output\nxpad = np.zeros(shape) # pad the x array on the left with two columns of 0\nypad = np.zeros(shape) # and pad the y array on the right with two columns\nxpad[:,:-2]=x # like this \nypad[:,2:]=y\nf_ = xpad+ypad # and then do the addition to get f_ the actual output\nnp.alltrue(f_==f) #True -- it works\n</code></pre>\n\n<p>A comment: you probably don't want <code>np.matrix</code>. I think they're going to depreciate it. For most purposes it does nothing <code>np.array</code> can't do more generally. </p>\n\n<p>another way which is harder to read is </p>\n\n<pre><code>f_ = np.pad(x,((0,0),(0,2)),'constant')+np.pad(y,((0,0),(2,0)),'constant')\n</code></pre>\n\n<p>You can easily extend this to your case. Pad each array with zeros to the appropriate shape and then sum it</p>\n"}], "owner": {"reputation": 105, "user_id": 9065144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c8e26784767108e6008075a3bda486?s=128&d=identicon&r=PG&f=1", "display_name": "Unic0", "link": "https://stackoverflow.com/users/9065144/unic0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1536215762, "creation_date": 1536191351, "last_edit_date": 1536214766, "question_id": 52194708, "link": "https://stackoverflow.com/questions/52194708/covering-matrices-and-image-reconstruction-using-numpy", "title": "Covering matrices and image reconstruction using numpy", "body": "<p>I am not very good using matrices and fairly new using numpy, but I have an image sliced in patches with covering ends, and I would like to reconstruct it summing the covering parts like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/enHvC.png\" alt=\"Covering matrices and summing\"></p>\n\n<p>I am currently using this to reconstruct my image:</p>\n\n<pre><code>new_im = Image.new('L', (576,576)) #creating a new image\ny = (vqr // u)*stride #calculating the position of the patch to \"glue\"\nx = i % u*stride\nnew_im.paste(img, (x, y, x + w, y + h)) #pasting the patch to the new image\n</code></pre>\n\n<p>The current results produce an image in which the covering parts are not summed up. I know that summing matrices is not that simple that's why I ask for a bit of help</p>\n\n<p>Do you have any ideas?</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 597, "user_id": 7818309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a15edab5b0ad1062ff983efb0a53b2?s=128&d=identicon&r=PG", "display_name": "Richard_wth", "link": "https://stackoverflow.com/users/7818309/richard-wth"}, "is_accepted": false, "score": 0, "last_activity_date": 1536202031, "creation_date": 1536202031, "answer_id": 52195797, "question_id": 52194706, "link": "https://stackoverflow.com/questions/52194706/fast-and-efficient-interleaving-of-tensors-in-tensorflow/52195797#52195797", "title": "Fast and efficient interleaving of tensors in TensorFlow", "body": "<p>In your specific case, A, B, C are 3x3 matrices and you wanna get a 9x3 matrix. The most intuitive way is to concatenate them. Below I show it with numpy.</p>\n\n<pre><code>import numpy as np\n\na = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\nb = np.array([[10, 11, 12], [13, 14, 15], [16, 17, 18]])\nc = np.array([[19, 20, 21], [22, 23, 24], [25, 26, 27]])\n\nabc = np.concatenate((a, b, c), axis=0)\nabc = abc.reshape((3, 3, 3))\nabc = abc.transpose((1, 0, 2))\nabc = abc.reshape((9, 3))  #  this gives your objective\n</code></pre>\n\n<p>However, in general, you may wanna stack irregular rows from each matrix, e.g, [A0, B2, A2, A1, C1, C2, B0, C0, B1]. <code>tf.gather</code> is an option.</p>\n\n<pre><code>import tensorflow as tf\n\na = tf.constant([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\nb = tf.constant([[10, 11, 12], [13, 14, 15], [16, 17, 18]])\nc = tf.constant([[19, 20, 21], [22, 23, 24], [25, 26, 27]])\n\nabc = tf.concat((a, b, c), axis=0)\nabc = tf.gather(abc, [0, 5, 2, 1, 7, 8, 3, 5, 6, 4], axis=0)\nsess = tf.InteractiveSession()\nprint(sess.run(abc))\n</code></pre>\n\n<p>If not mistaken, in tf.gather, backprop can be done w.r.t. elements of a, b, c (it is just 1 or 0), but not w.r.t. the index (in this case, <code>[0, 5, 2, 1, 7, 8, 3, 5, 6, 4]</code>). </p>\n"}, {"tags": [], "owner": {"reputation": 2370, "user_id": 1234909, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3bdc7ab5eb0c5d8cc22e3b44baea868?s=128&d=identicon&r=PG", "display_name": "Mohan Radhakrishnan", "link": "https://stackoverflow.com/users/1234909/mohan-radhakrishnan"}, "is_accepted": true, "score": 1, "last_activity_date": 1536230533, "last_edit_date": 1536230533, "creation_date": 1536223422, "answer_id": 52200014, "question_id": 52194706, "link": "https://stackoverflow.com/questions/52194706/fast-and-efficient-interleaving-of-tensors-in-tensorflow/52200014#52200014", "title": "Fast and efficient interleaving of tensors in TensorFlow", "body": "<p>My attempt is this. If I assume the given shapes then this produces the desired output. </p>\n\n<pre><code>A = tf.constant([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\nB = tf.constant([[10, 11, 12], [13, 14, 15], [16, 17, 18]])\nC = tf.constant([[19, 20, 21], [22, 23, 24], [25, 26, 27]])\n\nwith tf.Session() as sess :\n\n    sess.run(tf.global_variables_initializer())\n\n    ODD = tf.concat( [A[0::2],B[0::2],C[0::2]], axis=0)\n\n    EVENANDODD = tf.concat([ODD[0::2],\n                           tf.concat([A[1::2], B[1::2], C[1::2]], axis=0)], axis=0)\n\n    FINAL = tf.concat([EVENANDODD,\n                      ODD[1::2]], axis=0)\n\n\n    print( sess.run(FINAL) )\n</code></pre>\n\n<blockquote>\n  <p>[[ 1  2  3]\n  [10 11 12]\n  [19 20 21]\n  [ 4  5  6]\n  [13 14 15]\n  [22 23 24]\n  [ 7  8  9]\n  [16 17 18]\n  [25 26 27]]</p>\n</blockquote>\n\n<p>Note : I couldn't address the backprop and performance points.</p>\n"}], "owner": {"reputation": 1418, "user_id": 8530591, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/CPpJC.jpg?s=128&g=1", "display_name": "Ujjwal", "link": "https://stackoverflow.com/users/8530591/ujjwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 52200014, "answer_count": 2, "score": 0, "last_activity_date": 1536230533, "creation_date": 1536191325, "last_edit_date": 1536212693, "question_id": 52194706, "link": "https://stackoverflow.com/questions/52194706/fast-and-efficient-interleaving-of-tensors-in-tensorflow", "title": "Fast and efficient interleaving of tensors in TensorFlow", "body": "<p>Assume the following 3 tensors (with same shape) defined in TensorFlow.</p>\n\n<pre><code>A = [[1,2,3],[4,5,6],[7,8,9]]\nB = [[10,11,12],[13,14,15],[16,17,18]]\nC = [[19,20,21],[22,23,24],[25,26,27]]\n</code></pre>\n\n<p>The objective is to create a tensor D which has the following form</p>\n\n<pre><code>D = [[1,2,3],[10,11,12],[19,20,21],[4,5,6],[13,14,15],[22,23,24],[7,8,9],[16,17,18],[25,26,27]]\n</code></pre>\n\n<p>What is the fast and efficient way of doing this?</p>\n\n<p>How will back propagation happen in this Op?</p>\n"}, {"tags": ["python", "function", "variables", "duplicates", "jupyter"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1536243169, "post_id": 52194648, "comment_id": 91361252, "body": "<code>puzzle</code>, <code>p</code> (in <code>main()</code>), and <code>p</code> (in <code>count()</code>) are all names for the same list. A change made to the list through one of its names will be visible through all of them."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1536191864, "post_id": 52194668, "comment_id": 91339116, "body": "The evaluation strategy doesn&#39;t depend on the type of the object, and isn&#39;t <i>technically</i> pass by reference, but at the very least, it doesn&#39;t depend on the fact that the argument was a list"}, {"owner": {"reputation": 481, "user_id": 1014241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e666c946b3833af658f847bdcfb62b7?s=128&d=identicon&r=PG", "display_name": "cloudartisan", "link": "https://stackoverflow.com/users/1014241/cloudartisan"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1536198986, "post_id": 52194668, "comment_id": 91340468, "body": "I was trying to be succinct. Updated my answer to be more accurate. Thanks @juanpa.arrivillaga"}], "tags": [], "owner": {"reputation": 481, "user_id": 1014241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e666c946b3833af658f847bdcfb62b7?s=128&d=identicon&r=PG", "display_name": "cloudartisan", "link": "https://stackoverflow.com/users/1014241/cloudartisan"}, "is_accepted": false, "score": 1, "last_activity_date": 1536198933, "last_edit_date": 1536198933, "creation_date": 1536190850, "answer_id": 52194668, "question_id": 52194648, "link": "https://stackoverflow.com/questions/52194648/copy-a-variable-in-python-jupyter-use-different-functions-with-same-variable/52194668#52194668", "title": "Copy a variable in python (jupyter) / Use different functions with same variables", "body": "<p>You are passing a List parameter. Parameter passing is Call-by-Object. Since a List is a mutable object in this situation it is similar to pass by reference and changes to your List object will persist. If you were passing an immutable, such as an Integer or String, it would be akin to pass by copy/value, and changes would not persist. E.g.:</p>\n\n<pre><code>def s2asdf(s):\n    s = \"asdf\"\n\ns = \"hello world\"\ns2asdf(s)\nprint s\n</code></pre>\n\n<p>... results in:</p>\n\n<pre><code>$ python example.py\nhello world\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4357167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c29d4dc36eafb8cd7dcd67d3cf6b0fc6?s=128&d=identicon&r=PG&f=1", "display_name": "iova", "link": "https://stackoverflow.com/users/4357167/iova"}, "edited": false, "score": 0, "creation_date": 1536250764, "post_id": 52194674, "comment_id": 91366087, "body": "Thank you! This was the thing I&#39;m looking for."}, {"owner": {"reputation": 1472, "user_id": 7087143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FFEhW1u4eWk/AAAAAAAAAAI/AAAAAAAAAKU/GXpyPSDtC2s/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/7087143/karl"}, "reply_to_user": {"reputation": 3, "user_id": 4357167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c29d4dc36eafb8cd7dcd67d3cf6b0fc6?s=128&d=identicon&r=PG&f=1", "display_name": "iova", "link": "https://stackoverflow.com/users/4357167/iova"}, "edited": false, "score": 0, "creation_date": 1536252166, "post_id": 52194674, "comment_id": 91366732, "body": "@iova Can you please mark an answer as correct if it helped solve the problem?"}], "tags": [], "owner": {"reputation": 1472, "user_id": 7087143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FFEhW1u4eWk/AAAAAAAAAAI/AAAAAAAAAKU/GXpyPSDtC2s/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/7087143/karl"}, "is_accepted": true, "score": 0, "last_activity_date": 1536191244, "last_edit_date": 1536191244, "creation_date": 1536190908, "answer_id": 52194674, "question_id": 52194648, "link": "https://stackoverflow.com/questions/52194648/copy-a-variable-in-python-jupyter-use-different-functions-with-same-variable/52194674#52194674", "title": "Copy a variable in python (jupyter) / Use different functions with same variables", "body": "<p>The reason for this is because Python passes function parameters by reference. When you call the <code>count</code> function it allows the function to modify the list inside the function and the changes will be applied to the original object.</p>\n\n<p>If you want to have the function not modify the list but instead return a different list, you will have to make a copy of the list either by passing a copy to the function or make a copy inside the function itself. There are many ways to copy a list in Python, but I like to use the <code>list()</code> function to do it.</p>\n\n<p>This should fix your problem:</p>\n\n<pre><code>puzzle = [8, 7, 5, 4, 1, 2, 3, 0, 6]\ndef count(p):\n    new_list = list(p)  # copy values of p to new_list\n    new_list[0] += 1\n    return new_list\n\ndef main(p):\n    print(p)\n    l = count(p)\n    print(l)  # l is the new_list returned from count\n    print(p)  # p stays the original value\n\nb1 = main(puzzle)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4357167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c29d4dc36eafb8cd7dcd67d3cf6b0fc6?s=128&d=identicon&r=PG&f=1", "display_name": "iova", "link": "https://stackoverflow.com/users/4357167/iova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 52194674, "answer_count": 2, "score": 0, "last_activity_date": 1536198933, "creation_date": 1536190621, "question_id": 52194648, "link": "https://stackoverflow.com/questions/52194648/copy-a-variable-in-python-jupyter-use-different-functions-with-same-variable", "title": "Copy a variable in python (jupyter) / Use different functions with same variables", "body": "<p>I wrote a small Programm in python but it don't work like expected.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>puzzle = [8, 7, 5, 4, 1, 2, 3, 0, 6]\ndef count(p):\n        p[0] += 1\n        return p\ndef main(p):\n    print(p)\n    l = count(p)\n    print(l)\n    print(p)\n\nb1 = main(puzzle)\n</code></pre>\n\n<p>I expect that print(p) will be different from print(l), but the result of both is the same, it's the result that print(l) should have. But p did change also, however I would need it to be unchanged\u2026 Is this a special python behavior? Is there something I missed?\nI also tried to change the variable names in the functions, but that didn't help.\nI restarted the Compiler, but that didn't help either.</p>\n\n<p>Is there a solution to store a function output and than call the function again without let the function change the given parameters?\nSo that l will be the result after the calculation and p will stay the value before?</p>\n\n<p>Kind Regards,\nJoh.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 2, "creation_date": 1536191230, "post_id": 52194672, "comment_id": 91339020, "body": "Note: If one of the sublists has a different, but non-zero, length from the others, this code will die with an <code>IndexError</code> (because it blithely indexes to the maximum index of any input sublist)."}], "tags": [], "owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "is_accepted": false, "score": 1, "last_activity_date": 1536190899, "creation_date": 1536190899, "answer_id": 52194672, "question_id": 52194642, "link": "https://stackoverflow.com/questions/52194642/python-take-every-first-second-third-element-in-sublist/52194672#52194672", "title": "Python: Take Every First, Second, Third Element in Sublist", "body": "<pre><code>result = [l[i] for i in range(max(len(v) for v in my_list)) for l in my_list if l]\n</code></pre>\n\n<p>i.e.</p>\n\n<pre><code>my_list = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]\n[l[i] for i in range(max(len(v) for v in my_list)) for l in my_list if l]\n# =&gt; [1, 4, 7, 2, 5, 8, 3, 6, 9]\n\nmy_list = [[1, 2, 3], [], [7, 8, 9]]\n[l[i] for i in range(max(len(v) for v in my_list)) for l in my_list if l]\n# =&gt; [1, 7, 2, 8, 3, 9]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 2, "creation_date": 1536191136, "post_id": 52194683, "comment_id": 91339003, "body": "If <code>None</code> is a legal element, you&#39;d want to make <code>sentinel = object()</code>, and pass <code>sentinel</code> as the <code>fillvalue</code> for <code>zip_longest</code>, as well as testing <code>item is not sentinel</code>, so there is no possibility of dropping any input value."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536191243, "post_id": 52194683, "comment_id": 91339021, "body": "@ShadowRanger Yeah, I didn&#39;t want to get into that in the answer (since the OP is using all ints), hoping &quot;\u2026 (or anything else you prefer) \u2026&quot; would be enough of a hint for future searchers, but it definitely does belong at least in a comment."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 2, "last_activity_date": 1536193175, "last_edit_date": 1536193175, "creation_date": 1536191014, "answer_id": 52194683, "question_id": 52194642, "link": "https://stackoverflow.com/questions/52194642/python-take-every-first-second-third-element-in-sublist/52194683#52194683", "title": "Python: Take Every First, Second, Third Element in Sublist", "body": "<p>You're attempting to flatten, and then reorder, which makes things a lot harder than reordering and then flattening.</p>\n\n<p>First, for your initial problem, that's just \"unzip\", as explained in the docs for <a href=\"https://docs.python.org/3/library/functions.html#zip\" rel=\"nofollow noreferrer\"><code>zip</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; my_list = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]\n&gt;&gt;&gt; list(zip(*my_list))\n... [(1, 4, 7), (2, 5, 8), (3, 6, 9)]\n</code></pre>\n\n<p>(In Python 2.7, you could just write <code>zip(\u2026)</code> here instead of <code>list(zip(\u2026))</code>, but this way, the same demonstration works identically in both 2.x and 3.x.)</p>\n\n<p>And then, you already know how to flatten that:</p>\n\n<pre><code>&gt;&gt;&gt; [item for sublist in zip(*my_list) for item in sublist]\n[1, 4, 7, 2, 5, 8, 3, 6, 9]\n</code></pre>\n\n<hr>\n\n<p>But things get a bit more complicated for your second case, where some of the lists may be empty (or maybe just shorter?).</p>\n\n<p>There's no function that's like <code>zip</code> but skips over missing values. You can write one pretty easily. But instead\u2026 there <em>is</em> a function that's like <code>zip</code> but fills in missing values with <code>None</code> (or anything else you prefer), <a href=\"https://docs.python.org/2/library/itertools.html#itertools.izip_longest\" rel=\"nofollow noreferrer\"><code>izip_longest</code></a>. So, we can just use that, then filter out the <code>None</code> values as we flatten:</p>\n\n<pre><code>&gt;&gt;&gt; my_list = [[1, 2, 3], [], [7, 8, 9]]\n&gt;&gt;&gt; from itertools import izip_longest\n&gt;&gt;&gt; list(izip_longest(*my_list))\n[(1, None, 7), (2, None, 8), (3, None, 9)]\n&gt;&gt;&gt; [item for sublist in izip_longest(*my_list) for item in sublist if item is not None]\n[1, 7, 2, 8, 3, 9]\n</code></pre>\n\n<p>(In Python 3, the function <code>izip_longest</code> is renamed <code>zip_longest</code>.)</p>\n\n<hr>\n\n<p>It's worth noting that the <code>roundrobin</code> recipe, as covered by <a href=\"https://stackoverflow.com/a/52194686/908494\">ShadowRanger's answer</a>, is an even nicer solution to this problem, and even easier to use (just copy and paste it from the docs, or <code>pip install more_itertools</code> and use it from there). It <em>is</em> a bit harder to understand\u2014but it's worth taking the time to understand it (and asking for help if you get stuck).</p>\n"}, {"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536191194, "post_id": 52194686, "comment_id": 91339013, "body": "You should probably copy-paste the recipe there. Not that it&#39;s likely to disappear from the docs any time soon, but still. Also, the OP is using 2.7, so better to link the 2.x docs. But otherwise, yeah, hard to beat this."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536191603, "post_id": 52194686, "comment_id": 91339070, "body": "@abarnert: Missed it was Py2. Updated link, copied in recipe for posterity (they have deleted recipes before, so your paranoia is not misplaced; the <code>pairwise</code> recipe used to have a generalized <a href=\"https://docs.python.org/release/2.3.5/lib/itertools-example.html\" rel=\"nofollow noreferrer\"><code>window</code> recipe</a> for arbitrary sized pairings that disappeared for some reason)."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536193054, "post_id": 52194686, "comment_id": 91339338, "body": "Wow, never noticed that <code>window</code> went away; I thought it just got renamed to <code>windowed</code> (which is the name <code>more_itertools</code> uses, but IIRC, they expanded the original recipe anyway, so it doesn&#39;t fail badly if the window size is larger than the iterable). But yeah, it&#39;s gone."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 1, "last_activity_date": 1536191356, "last_edit_date": 1536191356, "creation_date": 1536191062, "answer_id": 52194686, "question_id": 52194642, "link": "https://stackoverflow.com/questions/52194642/python-take-every-first-second-third-element-in-sublist/52194686#52194686", "title": "Python: Take Every First, Second, Third Element in Sublist", "body": "<p><a href=\"https://docs.python.org/2/library/itertools.html#itertools-recipes\" rel=\"nofollow noreferrer\">The <code>itertools</code> module's recipes section</a> provides a <code>roundrobin</code> recipe that would do exactly what you want. It produces a generator, but your expected behavior would be seen with:</p>\n\n<pre><code># define roundrobin recipe here\nfrom itertools import cycle, islice\ndef roundrobin(*iterables):\n    \"roundrobin('ABC', 'D', 'EF') --&gt; A D E B F C\"\n    # Recipe credited to George Sakkis\n    pending = len(iterables)\n    nexts = cycle(iter(it).next for it in iterables)\n    while pending:\n        try:\n            for next in nexts:\n                yield next()\n        except StopIteration:\n            pending -= 1\n            nexts = cycle(islice(nexts, pending))\n\ndef reorder_and_flatten(my_list):\n    return list(roundrobin(*my_list))\n</code></pre>\n\n<p>Your original code's main issue is that it looped over <code>for i in range(len(my_list)):</code>, extending with <code>my_list[i::3]</code>. Problem is, this ends up duplicating elements from index 3 onwards (index 3 was already selected as the second element of the index 0 slice). There are lots of other small logic errors here, so it's much easier to reuse a recipe.</p>\n\n<p>This will be fairly performant, and generalize better than most hand-rolled solutions (it will round robin correctly even if the sublists are of uneven length, and it doesn't require second pass filtering or special handling of any kind to allow <code>None</code> as a value like <code>zip_longest</code> does).</p>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 1, "last_activity_date": 1536191552, "creation_date": 1536191552, "answer_id": 52194725, "question_id": 52194642, "link": "https://stackoverflow.com/questions/52194642/python-take-every-first-second-third-element-in-sublist/52194725#52194725", "title": "Python: Take Every First, Second, Third Element in Sublist", "body": "<p>If you are happy to use a 3rd party library, you can use NumPy and <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ravel.html#numpy.ravel\" rel=\"nofollow noreferrer\"><code>np.ndarray.ravel</code></a>:</p>\n\n<pre><code>import numpy as np\n\nA = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\n\nres_a = A.ravel('F')  # array([1, 4, 7, 2, 5, 8, 3, 6, 9])\n</code></pre>\n\n<p>For the case where you have one or more empty lists, you can use <code>filter</code> to remove empty lists:</p>\n\n<pre><code>B = np.array(list(filter(None, [[1, 2, 3], [], [7, 8, 9]])))\n\nres_b = B.ravel('F')  # array([1, 7, 2, 8, 3, 9])\n</code></pre>\n\n<p>Both solutions require non-empty sublists to contain the same number of items. If list conversion is necessary you can use, for example, <code>res_a.tolist()</code>.</p>\n\n<p>While these \"black box\" methods won't teach you much, they will be faster for large arrays than <code>list</code>-based operations. See also <a href=\"https://stackoverflow.com/questions/993984/what-are-the-advantages-of-numpy-over-regular-python-lists\">What are the advantages of NumPy over regular Python lists?</a></p>\n"}], "owner": {"reputation": 6871, "user_id": 1316501, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3f0ddaf1d7d2aaeeb19b6ec8a99a70ee?s=128&d=identicon&r=PG", "display_name": "anon_swe", "link": "https://stackoverflow.com/users/1316501/anon-swe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1263, "favorite_count": 0, "accepted_answer_id": 52194683, "answer_count": 4, "score": 2, "last_activity_date": 1536193175, "creation_date": 1536190515, "last_edit_date": 1536191920, "question_id": 52194642, "link": "https://stackoverflow.com/questions/52194642/python-take-every-first-second-third-element-in-sublist", "title": "Python: Take Every First, Second, Third Element in Sublist", "body": "<p>I'm using Python 2.7 and have the following:</p>\n\n<p><code>my_list = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]</code></p>\n\n<p>I'd like create a 1-d list where the elements are ordered by position in sublist and then order of sublist.  So the correct output for the above list is:</p>\n\n<p><code>[1, 4, 7, 2, 5, 8, 3, 6, 9]</code></p>\n\n<p>Here's my (incorrect) attempt:</p>\n\n<pre><code>def reorder_and_flatten(my_list):\n    my_list = [item for sublist in my_list for item in sublist]\n    result_nums = []\n    for i in range(len(my_list)):\n        result_nums.extend(my_list[i::3])\n    return result_nums\nresult = reorder_and_flatten(my_list)\n</code></pre>\n\n<p>This flattens my 2-d list and gives me: </p>\n\n<pre><code>[1, 4, 7, 2, 5, 8, 3, 6, 9, 4, 7, 5, 8, 6, 9, 7, 8, 9]\n</code></pre>\n\n<p>The first half of this list is correct but the second isn't.</p>\n\n<p>I'd also like my function to be able to handle only 2 sublists.  For instance, if given:</p>\n\n<p><code>[[1, 2, 3], [], [7, 8, 9]</code></p>\n\n<p>the correct output is:</p>\n\n<p><code>[1, 7, 2, 8, 3, 9]</code></p>\n\n<p>Any thoughts?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "pip", "python-3.6"], "comments": [{"owner": {"reputation": 4617, "user_id": 3954379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/HwYQ0.jpg?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3954379/lucas"}, "edited": false, "score": 0, "creation_date": 1536194517, "post_id": 52194612, "comment_id": 91339593, "body": "Are you sure it&#39;s the same python in both cases? Do you have more than one python installed?"}, {"owner": {"reputation": 495, "user_id": 1807561, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/LwiEi.png?s=128&g=1", "display_name": "Bajan", "link": "https://stackoverflow.com/users/1807561/bajan"}, "reply_to_user": {"reputation": 4617, "user_id": 3954379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/HwYQ0.jpg?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3954379/lucas"}, "edited": false, "score": 0, "creation_date": 1536198981, "post_id": 52194612, "comment_id": 91340464, "body": "Yeah I only have one Python installed, and it&#39;s also added to my PATH."}], "owner": {"reputation": 495, "user_id": 1807561, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/LwiEi.png?s=128&g=1", "display_name": "Bajan", "link": "https://stackoverflow.com/users/1807561/bajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 694, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1536190195, "creation_date": 1536190195, "question_id": 52194612, "link": "https://stackoverflow.com/questions/52194612/import-from-pandas-io-json-only-works-when-running-from-python-command-line", "title": "Import from pandas.io.json only works when running from python command line", "body": "<p>I am having an issue when trying to import:</p>\n\n<pre><code>from pandas.io.json import json_normalize  \n</code></pre>\n\n<p>when running a python program I have made. The same import works when running the code manually from the command line.</p>\n\n<p>I am using Windows 10, with Python 3.6.5 installed.</p>\n\n<p><strong>Example</strong> - <em>working from command line:</em></p>\n\n<pre><code>    &gt;&gt;&gt; import pandas\n    &gt;&gt;&gt; from pandas.io.json import json_normalize\n    &gt;&gt;&gt; json_normalize\n    &lt;function json_normalize at 0x08319C90&gt;\n</code></pre>\n\n<p><strong>Example</strong> - <em>same code in test.py:</em></p>\n\n<pre><code>Traceback (most recent call last):\n  File \"pandas.py\", line 3, in &lt;module&gt;\n    import pandas as pd\n  File \"C:\\Users\\Test\\test.py\", line 4, in &lt;module&gt;\n    from pandas.io.json import json_normalize\nModuleNotFoundError: No module named 'pandas.io'; 'pandas' is not a package\n</code></pre>\n\n<p>Any idea what I could check to see if I can resolve this?</p>\n"}, {"tags": ["python", "regex", "python-2.x"], "comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1536190297, "post_id": 52194605, "comment_id": 91338854, "body": "That message starts with a newline and a <code>&lt;</code>, not with <code>rdar</code>. What can be ignored for counting as &quot;starting&quot; with <code>rdar:&#47;&#47;...</code>? What would a commit message that starts with more than one such URNs look like, so it can be distinguished from a message that has a &quot;non-starting&quot; <code>rdar</code> URN?"}, {"owner": {"reputation": 643, "user_id": 3508811, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/4771a1660c61758adba039c49765939a?s=128&d=identicon&r=PG&f=1", "display_name": "user3508811", "link": "https://stackoverflow.com/users/3508811/user3508811"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536190384, "post_id": 52194605, "comment_id": 91338872, "body": "@ShadowRanger - It doesnt need to have <code>&lt;</code> at the start ,need to match all <code>rdar:&#47;&#47;...</code> at the start,I updated my question aswell for multiple <code>rdar</code>"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1536190656, "post_id": 52194605, "comment_id": 91338928, "body": "Is it guaranteed to have the section header <code>[Problem]</code> as the first thing after the &quot;start&quot; area? Or even just a guarantee the a line beginning with <code>[</code> is definitely after the stuff you want to match? Because a much easier solution than trying to regex the whole thing is to find a good split delimiter that cuts off the part you don&#39;t care about, so the regex can operate solely on text that contains the matches you care about, without complicated exclusion criteria."}, {"owner": {"reputation": 643, "user_id": 3508811, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/4771a1660c61758adba039c49765939a?s=128&d=identicon&r=PG&f=1", "display_name": "user3508811", "link": "https://stackoverflow.com/users/3508811/user3508811"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536190701, "post_id": 52194605, "comment_id": 91338935, "body": "@ShadowRanger - It is guaranteed that a line beginning with <code>[</code> will occur after the stuff we want to match"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536191908, "post_id": 52194605, "comment_id": 91339127, "body": "So would a preliminary <code>re.split</code> on the pattern <code>r&#39;^\\[&#39;</code> (with <code>re.MULTILINE</code> so it will recognize <code>^</code> as matching at the beginning of lines within the string) or even just a call to <code>str</code>&#39;s <code>partition</code> method (<code>fullstr.partition(&#39;\\n[&#39;)[0]</code>), keeping only the first element, allow you to write a simpler (human readable/understandable) pattern to check for the URN format you want?"}, {"owner": {"reputation": 643, "user_id": 3508811, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/4771a1660c61758adba039c49765939a?s=128&d=identicon&r=PG&f=1", "display_name": "user3508811", "link": "https://stackoverflow.com/users/3508811/user3508811"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536192107, "post_id": 52194605, "comment_id": 91339158, "body": "@ShadowRanger - sounds worth a try...if you be exactly specific with the regex, I would be able to share info if that&#39;s working or not"}], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 8438955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jNtcO.jpg?s=128&g=1", "display_name": "leo", "link": "https://stackoverflow.com/users/8438955/leo"}, "is_accepted": true, "score": 2, "last_activity_date": 1536192587, "creation_date": 1536192587, "answer_id": 52194832, "question_id": 52194605, "link": "https://stackoverflow.com/questions/52194605/tune-a-regex-to-match-a-string-only-at-the-beginning-of-a-message/52194832#52194832", "title": "Tune a Regex to match a string *only* at the beginning of a message", "body": "<p>Going off your conversation with @ShadowRanger below, how about this?</p>\n\n<pre><code>import re\ncommit_msg = \"\"\"\n&lt;rdar://problem/19391231&gt; This is the subject line1\n&lt;rdar://problem/11121314&gt; This is the subject line2\n[Problem]\nThe Problem description\n\n[Solution]\nThis is the Solutions section\n\n[Recommended Tests]\nThis is the Recommended Tests &lt;rdar://problem/12345678&gt; Text\n\nChange-Id: Ibbafa780adb2502d470f12d0280ddb0049c727c4\nReviewed-on: https://tech-gerrit.sd.company.com/17954\nTested-by: Username1 &lt;username1@company.com&gt;\nBuild-watchOS: service account &lt;serviceaccount@company.com&gt;\nReviewed-by: username2 &lt;username2@company.com&gt;\n\"\"\"\nm = re.findall(\"(?!.*(?:Revert|revert))[\\S]*(?:rdar:\\/\\/problem\\/)(\\d{8,8})\", commit_msg.split('[')[0])\n\nprint m\n</code></pre>\n"}], "owner": {"reputation": 643, "user_id": 3508811, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/4771a1660c61758adba039c49765939a?s=128&d=identicon&r=PG&f=1", "display_name": "user3508811", "link": "https://stackoverflow.com/users/3508811/user3508811"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 52194832, "answer_count": 1, "score": 0, "last_activity_date": 1536192587, "creation_date": 1536190114, "last_edit_date": 1536190388, "question_id": 52194605, "link": "https://stackoverflow.com/questions/52194605/tune-a-regex-to-match-a-string-only-at-the-beginning-of-a-message", "title": "Tune a Regex to match a string *only* at the beginning of a message", "body": "<p>I have the following code which matches <code>rdar://problem</code> (one or more) in the commit_msg, I only want to match it at the beginning of the message, please note that it could be more than one rdar at the beginning of the message, how can I change the regex to do that?</p>\n\n<pre><code># -*- coding: utf-8 -*-\nimport re\ncommit_msg = \"\"\"\n&lt;rdar://problem/19391231&gt; This is the subject line1\n&lt;rdar://problem/11121314&gt; This is the subject line2\n[Problem]\nThe Problem description\n\n[Solution]\nThis is the Solutions section\n\n[Recommended Tests]\nThis is the Recommended Tests &lt;rdar://problem/12345678&gt; Text\n\nChange-Id: Ibbafa780adb2502d470f12d0280ddb0049c727c4\nReviewed-on: https://tech-gerrit.sd.company.com/17954\nTested-by: Username1 &lt;username1@company.com&gt;\nBuild-watchOS: service account &lt;serviceaccount@company.com&gt;\nReviewed-by: username2 &lt;username2@company.com&gt;\n\"\"\"\nm = re.findall(\"(?!.*(?:Revert|revert))[\\S]*(?:rdar:\\/\\/problem\\/)(\\d{8,8})\", commit_msg)\n\nprint m\n</code></pre>\n\n<p>CURRENT OUTPUT:-</p>\n\n<pre><code>['19391231', '11121314', '12345678']\n</code></pre>\n\n<p>EXPECTED OUTPUT:-</p>\n\n<pre><code>['19391231', '11121314']\n</code></pre>\n"}, {"tags": ["python", "ocr", "tesseract"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1536190489, "post_id": 52194592, "comment_id": 91338896, "body": "First try to call tesseract directly from command line without Python. If this doesn&#39;t work either, it may be a Tesseract-specific problem."}, {"owner": {"reputation": 2089, "user_id": 4766168, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xrRVf1o5oQk/AAAAAAAAAAI/AAAAAAAAAEk/Uu9PgLhfHwA/photo.jpg?sz=128", "display_name": "Dmitrii Z.", "link": "https://stackoverflow.com/users/4766168/dmitrii-z"}, "edited": false, "score": 0, "creation_date": 1536214648, "post_id": 52194592, "comment_id": 91344391, "body": "Try to binarize image before calling tesseract. Even though tesseract uses some binarization techniques inside it, you are still encouraged to do it on your side (see <a href=\"https://github.com/tesseract-ocr/tesseract/wiki/ImproveQuality\" rel=\"nofollow noreferrer\">tesseract FAQ</a>)"}], "owner": {"reputation": 135, "user_id": 9477275, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "idiot one", "link": "https://stackoverflow.com/users/9477275/idiot-one"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536189989, "creation_date": 1536189989, "question_id": 52194592, "link": "https://stackoverflow.com/questions/52194592/tesseract-ocr-detect-non-white-background", "title": "Tesseract OCR: Detect non-white background", "body": "<p>I am writing python to detect the digits on non-white background with following code:</p>\n\n<pre><code>import pytesseract, re\nfrom PIL import Image\n\npytesseract.pytesseract.tesseract_cmd = 'C:\\\\Program Files (x86)\\\\Tesseract \nOCR\\\\tesseract.exe'\ntext = pytesseract.image_to_string(Image.open(\"image3.jpg\"))\nprint (text)\n</code></pre>\n\n<p>However, nothing is detected....how to make it work?  Thanks.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UHzNu.jpg\" rel=\"nofollow noreferrer\">digits on non-white background</a></p>\n"}, {"tags": ["python", "python-3.x", "sockets", "server", "localhost"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1536190840, "post_id": 52194584, "comment_id": 91338958, "body": "You could try to call something like <code>threading.Timer(1.0, webbrowser.open_new, URL).start()</code> before calling <code>run()</code> or instead run the server in a separate thread."}, {"owner": {"reputation": 23, "user_id": 10115564, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K90S4SAR99w/AAAAAAAAAAI/AAAAAAAASLg/OhXABV7moGA/photo.jpg?sz=128", "display_name": "Nessa Scott", "link": "https://stackoverflow.com/users/10115564/nessa-scott"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1536191594, "post_id": 52194584, "comment_id": 91339068, "body": "Wow, that worked excellently, thank you! I&#39;ll have to read more about threading, since it seems very powerful. I&#39;ll experiment a bit more to see if I can come up with a solution to getting it to close properly and then update with an answer. Thank you so much again!"}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 10115564, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K90S4SAR99w/AAAAAAAAAAI/AAAAAAAASLg/OhXABV7moGA/photo.jpg?sz=128", "display_name": "Nessa Scott", "link": "https://stackoverflow.com/users/10115564/nessa-scott"}, "is_accepted": true, "score": 0, "last_activity_date": 1536215104, "creation_date": 1536215104, "answer_id": 52197727, "question_id": 52194584, "link": "https://stackoverflow.com/questions/52194584/how-to-run-a-local-host-that-continues-to-serve-until-a-keyword-stops-it-all-fr/52197727#52197727", "title": "How to run a local host that continues to serve until a keyword stops it, all from a .py file?", "body": "<p>Here is the solution I am using!</p>\n\n<pre><code>import http.server\nimport socketserver\nimport webbrowser\nimport threading\nimport sys\n\nPORT = 8000\nURL = f'http://localhost:{PORT}/MapViz.html'\n\ndef run():\n    Handler = http.server.SimpleHTTPRequestHandler\n    global httpd\nwith socketserver.TCPServer((\"\", PORT), Handler) as httpd:\n    print(f\"Enjoy your visualization!\")\n    httpd.serve_forever()\n\ndef maintain():\n     webbrowser.open_new(URL)\nwhile True:\n    user_input = input()\n    if user_input == 'EXIT' or user_input == 'exit':\n        print('Shutting down! Run this .exe again to view your visualization again.')\n        threading.Timer(0.1, httpd.shutdown).start()\n        break\n\nif __name__ == '__main__':\n    threading.Timer(1.0, maintain).start()\n    run()\n</code></pre>\n\n<p>I tweaked the code Michael gave me ever so slightly and had threading.Timer call an entirely new function, which both opened the window in a browser and checked for the kill-word. \nI am sure my shutdown is not the most efficient way, but does what I need it to. I will definitely need to look into more threading examples to find how best </p>\n"}], "owner": {"reputation": 23, "user_id": 10115564, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K90S4SAR99w/AAAAAAAAAAI/AAAAAAAASLg/OhXABV7moGA/photo.jpg?sz=128", "display_name": "Nessa Scott", "link": "https://stackoverflow.com/users/10115564/nessa-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 52197727, "answer_count": 1, "score": 1, "last_activity_date": 1536215104, "creation_date": 1536189947, "question_id": 52194584, "link": "https://stackoverflow.com/questions/52194584/how-to-run-a-local-host-that-continues-to-serve-until-a-keyword-stops-it-all-fr", "title": "How to run a local host that continues to serve until a keyword stops it, all from a .py file?", "body": "<p>When I run a local host server to view my html files, I usually use the command line prompt:</p>\n\n<p><code>python -m http.server 8000</code></p>\n\n<p>However, I want to be able to do this from within a .py file, and I'm struggling.\nIdeally when running the py file it should launch the server, open the localhost in the default web browser, and then remain open until the user types in a keyword, like 'exit'. As per the http.server documentation, my current code looks like this:</p>\n\n<pre><code>import http.server\nimport socketserver\nimport webbrowser\n\nPORT = 8000\nURL = f'localhost:{PORT}/MapViz.html'\n\ndef run():\n    Handler = http.server.SimpleHTTPRequestHandler\n    with socketserver.TCPServer((\"\", PORT), Handler) as httpd:\n          print(\"Enjoy your visualization!\")\n          httpd.serve_forever()\n\nif __name__ == \"__main__\":\n    run()\n    webbrowser.open_new(URL)\n</code></pre>\n\n<p>I know at the moment it has nothing to close the server after the user is done, but I'm just struggling to get it to open the browser first. It seems like <code>serve_forever()</code> is not the right tool for the job, but I'm not sure what is.</p>\n\n<p>Also, do I need to worry about closing the socket? I've always been able to use a <code>with open(x) as file:</code> format for files to not worry about closing them, but I had an issue while messing with this where I got a Windows error 10048, stating that the socket was still being used, so maybe it's also not closing correctly. </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "json", "django", "api", "python-requests"], "answers": [{"comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "reply_to_user": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1536192856, "post_id": 52194694, "comment_id": 91339299, "body": "You should use a dash instead of an underscore (i.e. <code>event-id</code> instead of <code>event_id</code>)"}, {"owner": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1536193142, "post_id": 52194694, "comment_id": 91339346, "body": "Cheers that worked. I&#39;m getting a keyerror on   event-participant-id I&#39;m not sure why? would it be in a different section of the json object?"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "reply_to_user": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1536193319, "post_id": 52194694, "comment_id": 91339388, "body": "You posted an incomplete JSON response but maybe not every <code>runner</code> block has an <code>event-participant-id</code>?"}, {"owner": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1536194215, "post_id": 52194694, "comment_id": 91339549, "body": "Here&#39;s the gist to the full json. It&#39;s really weird since you say that some runner blocks has event-paricipant-id and some don&#39;t  <a href=\"https://gist.github.com/Hey-tom/46f96552439b084f9efdc6239cf23084\" rel=\"nofollow noreferrer\">gist.github.com/Hey-tom/46f96552439b084f9efdc6239cf23084</a>"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "reply_to_user": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1536194465, "post_id": 52194694, "comment_id": 91339586, "body": "It looks like that is your problem. If you can substitute a default value when there is none, you can use <code>runner.get(&#39;event-participant-id&#39;, &#39;my_default_value&#39;)</code> to prevent exceptions."}, {"owner": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1536194713, "post_id": 52194694, "comment_id": 91339617, "body": "thanks very much for your help!! I wouldn&#39;t of been able to overcome this conundrum without your expertise!"}], "tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": true, "score": 1, "last_activity_date": 1536192819, "last_edit_date": 1536192819, "creation_date": 1536191174, "answer_id": 52194694, "question_id": 52194550, "link": "https://stackoverflow.com/questions/52194550/loop-through-json-response-object-with-python/52194694#52194694", "title": "loop through json response object with python", "body": "<p>As can be seen from the JSON response, the keys you are looking for are located in a list under the <code>markets</code> and <code>runners</code> keys. You should use something like the following:</p>\n\n<pre><code>for data in tennis_events:\n    for market in data['markets']:\n       event_id = market['event-id']\n       for runner in market['runners']:\n           market_id = runner['market-id']\n           evparid = runner['event-participant-id']\n</code></pre>\n"}], "owner": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1797, "favorite_count": 0, "accepted_answer_id": 52194694, "answer_count": 1, "score": 0, "last_activity_date": 1536192819, "creation_date": 1536189702, "last_edit_date": 1536190939, "question_id": 52194550, "link": "https://stackoverflow.com/questions/52194550/loop-through-json-response-object-with-python", "title": "loop through json response object with python", "body": "<p>I'm trying to loop through a json response object that contains data. I would like to loop thought the json object and extract the \nfor keys <code>event-id</code>, <code>market-id</code>, and <code>event-participant-name</code>. The json response is as below</p>\n\n<pre><code>[{\n  \"TIMESTAMP\": \"2018-09-05 22: 59: 44.398534 \",\n  \"id\": 900652866170042,\n  \"name\": \"C Suarez Navarro vs M Keys\",\n  \"sport-id\": 9,\n  \"start\": \"2018-09-05T23:10:00.000Z\",\n  \"in-running-flag\": false,\n  \"allow-live-betting\": true,\n  \"category-id\": [\n    9,\n    399952692940010,\n    410468520880009,\n    573630974180009,\n    613128376040013,\n    643136938410012,\n    894084819950041\n  ],\n  \"status\": \"open\",\n  \"volume\": 83821.22796,\n  \"event-participants\": [{\n      \"id\": 900652866280041,\n      \"event-id\": 900652866170042,\n      \"participant-name\": \"C Suarez Navarro\",\n      \"number\": 1\n    },\n    {\n      \"id\": 900652866290042,\n      \"event-id\": 900652866170042,\n      \"participant-name\": \"M Keys\",\n      \"number\": 2\n    }\n  ],\n  \"markets\": [{\n        \"live\": false,\n        \"event-id\": 900652866170042,\n        \"id\": 900652866490041,\n        \"name\": \"Moneyline\",\n        \"runners\": [{\n              \"withdrawn\": false,\n              \"prices\": [{\n                  \"available-amount\": 1390.32516,\n                  \"currency\": \"EUR\",\n                  \"odds-type\": \"DECIMAL\",\n                  \"odds\": 3.44,\n                  \"decimal-odds\": 3.44,\n                  \"side\": \"back\",\n                  \"exchange-type\": \"back-lay\"\n                },\n                {\n                  \"available-amount\": 12.22,\n                  \"currency\": \"EUR\",\n                  \"odds-type\": \"DECIMAL\",\n                  \"odds\": 3.36,\n                  \"decimal-odds\": 3.36,\n                  \"side\": \"back\",\n                  \"exchange-type\": \"back-lay\"\n                },\n                {\n                  \"available-amount\": 38.84366,\n                  \"currency\": \"EUR\",\n                  \"odds-type\": \"DECIMAL\",\n                  \"odds\": 3.34,\n                  \"decimal-odds\": 3.34,\n                  \"side\": \"back\",\n                  \"exchange-type\": \"back-lay\"\n                },\n                {\n                  \"available-amount\": 1843.65097,\n                  \"currency\": \"EUR\",\n                  \"odds-type\": \"DECIMAL\",\n                  \"odds\": 3.48,\n                  \"decimal-odds\": 3.48,\n                  \"side\": \"lay\",\n                  \"exchange-type\": \"back-lay\"\n                },\n                {\n                  \"available-amount\": 27.82505,\n                  \"currency\": \"EUR\",\n                  \"odds-type\": \"DECIMAL\",\n                  \"odds\": 3.5,\n                  \"decimal-odds\": 3.5,\n                  \"side\": \"lay\",\n                  \"exchange-type\": \"back-lay\"\n                },\n                {\n                  \"available-amount\": 11.20312,\n                  \"currency\": \"EUR\",\n                  \"odds-type\": \"DECIMAL\",\n                  \"odds\": 3.56,\n                  \"decimal-odds\": 3.56,\n                  \"side\": \"lay\",\n                  \"exchange-type\": \"back-lay\"\n                }\n              ],\n              \"event-id\": 900652866170042,\n              \"id\": 900652866590042,\n              \"market-id\": 900652866490041,\n              \"name\": \"C Suarez Navarro\",\n              \"status\": \"open\",\n              \"volume\": 25342.31304,\n              \"event-participant-id\": 900652866280041\n            },\n            {\n              \"withdrawn\": false,\n              \"prices\": [{\n                    \"available-amount\": 4572.25441,\n                    \"currency\": \"EUR\",\n                    \"odds-type\": \"DECIMAL\",\n                    \"odds\": 1.40322,\n                    \"decimal-odds\": 1.40322,\n                    \"side\": \"back\",\n                    \"exchange-type\": \"back-lay\"\n                  },\n                  {\n                    \"available-amount\": 69.56263,\n                    \"currency\": \"EUR\",\n                    \"odds-type\": \"DECIMAL\",\n                    \"odds\": 1.4,\n                    \"decimal-odds\": 1.4,\n                    \"side\": \"back\",\n                    \"exchange-type\": \"back-lay\"\n                  },\n</code></pre>\n\n<p>When I loop thought this JSON object I get a key error. How do I loop though this object and return every value for each attribute?</p>\n\n<p>Code</p>\n\n<pre><code>def match_book_get(self):\n\n   tennis_events = self.api.market_data.get_events(sport_ids= \n   [9],states=MarketStates.All, per_page=10000, offset=0,\n                                include_event_participants=Boolean.T, \n   price_depth=3, side=Side.All)\n\n   data = []\n\n   for data in tennis_events:\n       event_id = data['event_id']\n       market_id = data['market-id']\n       evparid = data['event-participant-id']\n</code></pre>\n"}, {"tags": ["python", "function", "api"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1536189770, "post_id": 52194511, "comment_id": 91338744, "body": "First, it looks like you&#39;re trying to generate some JSON. If so, why not just create a normal dict, which is easy, then call <code>json.dumps</code> on it? Or, even better, just pass the dict to <code>requests.post(url, json=payload, headers=headers)</code>?"}, {"owner": {"reputation": 1510, "user_id": 5971137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lWmrf.jpg?s=128&g=1", "display_name": "Cole", "link": "https://stackoverflow.com/users/5971137/cole"}, "edited": false, "score": 0, "creation_date": 1536189779, "post_id": 52194511, "comment_id": 91338747, "body": "I recommend converting <code>payload</code> into a Python dictionary using the <code>json</code> built-in library and then changing the <code>name</code> key."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7257572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6825d37cf1df233345917414b0995c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanity", "link": "https://stackoverflow.com/users/7257572/vanity"}, "edited": false, "score": 0, "creation_date": 1536192027, "post_id": 52194608, "comment_id": 91339145, "body": "Thanks a lot, it&#39;s working perfectly. Any good reason to let requests do the job? I created a dictionary, and your better option seems pretty much identical"}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 1, "last_activity_date": 1536190472, "last_edit_date": 1536190472, "creation_date": 1536190127, "answer_id": 52194608, "question_id": 52194511, "link": "https://stackoverflow.com/questions/52194511/calling-a-function-between-quotation-marks/52194608#52194608", "title": "Calling a function between quotation marks", "body": "<p>The way to do what you're directly asking how to do here is to use string formatting. For example, <a href=\"https://docs.python.org/3/library/stdtypes.html#old-string-formatting\" rel=\"nofollow noreferrer\">using printf-style formatting</a>,<sup>1</sup> instead of this:</p>\n\n<pre><code>payload = \" \u2026 \\\"name\\\": \\\"name\\\" \u2026 \"\n</code></pre>\n\n<p>\u2026 do this:</p>\n\n<pre><code>template = \" \u2026 \\\"name\\\": \\\"%s\\\" \u2026 \"\npayload = template % (descr(),)\n</code></pre>\n\n<p>While we're at it, if you put the payload in single quotes, you wouldn't need to escape every <code>\"</code>. Even better, if you put it in triple quotes, you wouldn't need to escape all the newlines. See <a href=\"https://docs.python.org/3/tutorial/introduction.html#strings\" rel=\"nofollow noreferrer\">the tutorial section on Strings</a> for details:</p>\n\n<pre><code>template = \"\"\"{\n    \\t\"generateZeroFingerprintsData\": true,\n    \\t\"name\": \"%s\",\n    # \u2026\n}\"\"\"\n</code></pre>\n\n<p>But you can make things a whole lot easier by not doing any of this. You're trying to build a JSON text representing a dictionary. The easy way to do that is to <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\">just create the dictionary and JSON-ify it</a>:</p>\n\n<pre><code>payloadobj = {\n    \"generateZeroFingerprintsData\": True,\n    \"name\": descr(),\n    # \u2026\n}\npayload = json.dumps(payloadobj)\n</code></pre>\n\n<p>Or, even better, let <code>requests</code> do it for you. <a href=\"http://docs.python-requests.org/en/master/user/quickstart/#more-complicated-post-requests\" rel=\"nofollow noreferrer\">Instead of passing <code>data=</code> with a string, pass it <code>json=</code> with a dict, and it automatically JSON-ifies it, and also sets the <code>Content-Type</code> header for you</a>:</p>\n\n<pre><code>payload = {\n    \"generateZeroFingerprintsData\": True,\n    \"name\": name,\n    # \u2026\n}\n# \u2026\n\nresponse = requests.post(url, json=payload, headers=headers, params=querystring)\n</code></pre>\n\n<p>(Also, notice that, instead of calling the generic <code>request</code> function and passing <code>POST</code>, which you really only want to do for <a href=\"http://docs.python-requests.org/en/master/user/advanced/#custom-verbs\" rel=\"nofollow noreferrer\">custom HTTP verbs that <code>requests</code> doesn't know about</a>, I used the simpler <code>post</code> function, <a href=\"http://docs.python-requests.org/en/master/user/quickstart/#make-a-request\" rel=\"nofollow noreferrer\">as shown in the quickstart docs</a>.)</p>\n\n<hr>\n\n<p><sub>1. In general, the newer braces-based formatting is simpler. Especially in 3.6+, where you can literally call a function inside quotes, just by wrapping it in braces inside an f-string, like `spam = f'eggs = {eggs()}'. But when the string you're trying to create is full of literal braces, but isn't full of literal percent characters, often that's an exception than the \"in general\".</sub></p>\n"}], "owner": {"reputation": 33, "user_id": 7257572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6825d37cf1df233345917414b0995c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanity", "link": "https://stackoverflow.com/users/7257572/vanity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 52194608, "answer_count": 1, "score": 0, "last_activity_date": 1536190472, "creation_date": 1536189398, "question_id": 52194511, "link": "https://stackoverflow.com/questions/52194511/calling-a-function-between-quotation-marks", "title": "Calling a function between quotation marks", "body": "<p>I'm a beginner in programming and I'm currently trying to call a function between quotation marks.</p>\n\n<p>Here, more precisely, I would like to replace the name in \\\"name\\\": \\\"name\\\", with 88. How would I be able to do that with all those quotation marks?</p>\n\n<p>Thanks in advance for your help</p>\n\n<pre><code>import requests\n\nurl = \"https://api.multiloginapp.com/v1/profile/create\"\n\ndef descr():\n    return 88\n\nquerystring = {\"token\":\"xxxx\"}\n\npayload = \"{\\n\\t\\\"generateZeroFingerprintsData\\\": true,\\n    \\\"name\\\": \\\"name\\\",\\n    \\\"OS\\\": \\\"MacOS\\\",\\n    \\\"platform\\\": \\\"MacIntel\\\",\\n    \\\"browserType\\\": \\\"mimic\\\",\\n    \\\"proxyHost\\\": \\\"0.0.0.0\\\",\\n    \\\"proxyPort\\\": 0,\\n    \\\"proxyIpValidation\\\": false,\\n    \\\"proxyType\\\": \\\"socks5\\\",\\n    \\\"maskFonts\\\": true,\\n    \\\"disablePlugins\\\": true,\\n    \\\"disableWebrtcPlugin\\\": true,\\n    \\\"disableFlashPlugin\\\": true,\\n    \\\"canvasDefType\\\": \\\"noise\\\",\\n    \\\"hardwareConcurrency\\\": 2,\\n    \\\"langHdr\\\": \\\"en-US,en;q=0.8\\\",\\n    \\\"timeZone\\\": \\\"US/Eastern\\\",\\n    \\\"audio\\\": {\\n        \\\"noise\\\": true\\n    },\\n    \\\"geolocation\\\": {\\n        \\\"permitType\\\": \\\"block\\\"\\n    },\\n    \\\"mediaDevices\\\": {\\n        \\\"audioInputs\\\": 1,\\n        \\\"audioOutputs\\\": 1,\\n        \\\"videoInputs\\\": 1\\n    },\\n    \\\"webgl\\\": {\\n        \\\"noise\\\": true\\n    },\\n    \\\"webRtc\\\": {\\n        \\\"type\\\": \\\"block\\\"\\n    },\\n    \\\"shared\\\": false\\n\\t},\\n}\"\nheaders = {\n    'Content-Type': \"application/json\",\n    'Cache-Control': \"no-cache\",\n    'Postman-Token': \"xxx\n    }\n\nresponse = requests.request(\"POST\", url, data=payload, headers=headers, params=querystring)\n\nprint(response.text)\n</code></pre>\n"}, {"tags": ["python", "numpy", "scikit-learn", "vectorization"], "comments": [{"owner": {"reputation": 969, "user_id": 4549174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2f8b5a0d7529eb074b3872371554c4?s=128&d=identicon&r=PG&f=1", "display_name": "klim", "link": "https://stackoverflow.com/users/4549174/klim"}, "edited": false, "score": 0, "creation_date": 1536195905, "post_id": 52194407, "comment_id": 91339821, "body": "Union can be calculated by <code>total_num = len(first) + len(second) - intersect_len</code>, which may save some time. Converting your array into a list of set objects and using set.intersection is the best choice I can think of."}], "owner": {"reputation": 33, "user_id": 6944547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa46c82749ecad6590f69d55b85ef608?s=128&d=identicon&r=PG", "display_name": "Andrea A.", "link": "https://stackoverflow.com/users/6944547/andrea-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554197724, "creation_date": 1536188392, "last_edit_date": 1554197724, "question_id": 52194407, "link": "https://stackoverflow.com/questions/52194407/numpy-array-vectorized-intersection", "title": "Numpy array vectorized intersection", "body": "<p>I have a 3d numpy array that represents the <code>user id</code> obtained from my classifier with shape <code>(NxKxM)</code> and I would like to compute the jaccard index (len intersection /len union) in order to check the ratio of overlap during my groupkfold. I need to compute this function on the N (number of hyperparams) and M(number or iterations) axis, while <code>K</code> is the CV folds number. I would like to have something like:</p>\n\n<blockquote>\n  <p>A[0][0][:] is compared with A[1:][:][:], A[0][1][:] is compared with A[1:][:][:] and A[0][2][:] is compared with A[1:][:][:] for the first level and so on iteratively. (in case of k=3)</p>\n</blockquote>\n\n<p>I have tried a nested for cycle but of course the code is extremely slow, so far I have this situation:</p>\n\n<pre><code>for elem in range(len(total_users_splits)):\n    for subelem in range(elem+1,len(total_users_splits)):\n        for i in range(n_splits):\n            for j in range(n_splits):\n                first = b[elem][i]\n                second = b[subelem][j]\n                total_num = len(np.union1d(first,second))\n                intersect_len = len(np.intersect1d(first,second))\n                X.append(intersect_len/total_num)\noverlap = {'overlap_ratio_mean_uids':np.nanmean(X),\n           'overlap_ratio_std_uids':np.nanstd(X),\n           'overlap_ratio_max_uids':np.max(X),\n           'overlap_ratio_min_uids':np.min(X)}\n</code></pre>\n\n<p><code>total_user_splits</code> is a list of dimension NxM and <code>n_splits</code> is k.</p>\n\n<p>The code is really slow but I don't know how to apply <code>np.intersect</code> in a vectorized way</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1510, "user_id": 5971137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lWmrf.jpg?s=128&g=1", "display_name": "Cole", "link": "https://stackoverflow.com/users/5971137/cole"}, "edited": false, "score": 1, "creation_date": 1536189434, "post_id": 52194406, "comment_id": 91338673, "body": "I&#39;m not sure an out of the box Django project allows you to have multiple <code>MEDIA_ROOT</code>&#39;s if that&#39;s what you&#39;re asking."}, {"owner": {"reputation": 1638, "user_id": 492867, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/rnrbG.jpg?s=128&g=1", "display_name": "Ivan Tanasijevic", "link": "https://stackoverflow.com/users/492867/ivan-tanasijevic"}, "reply_to_user": {"reputation": 1510, "user_id": 5971137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lWmrf.jpg?s=128&g=1", "display_name": "Cole", "link": "https://stackoverflow.com/users/5971137/cole"}, "edited": false, "score": 0, "creation_date": 1536189818, "post_id": 52194406, "comment_id": 91338753, "body": "On image field I can put custom path and I am not sure what is best practice for that scenario: image = models.ImageField(upload_to=&#39;api/books/author_pics/&#39;, null=True, blank=True)"}], "owner": {"reputation": 1638, "user_id": 492867, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/rnrbG.jpg?s=128&g=1", "display_name": "Ivan Tanasijevic", "link": "https://stackoverflow.com/users/492867/ivan-tanasijevic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1536189237, "creation_date": 1536188378, "last_edit_date": 1536189237, "question_id": 52194406, "link": "https://stackoverflow.com/questions/52194406/best-case-scenario-for-saving-models-files-in-django-project", "title": "Best-case scenario for saving models files in Django project", "body": "<p>I have a question about good practice for saving images in Django project.\nLet's say we have two apps inside Django project <em>appOne</em> and <em>appTwo</em>.</p>\n\n<p>Should I save my images for every app to the same root folder or every app should have a separate folder for images?</p>\n\n<p>And is there a benefit if we create a folder for images for every model inside an app (if that model saves images).</p>\n\n<p>I know that there's not one correct answer but there is always most useful case scenario in the long run.</p>\n\n<p>p.s. I came from asp.net world and I fall in love with Django and Python \ud83d\udc99</p>\n"}, {"tags": ["python", "pyinstaller"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1536189317, "post_id": 52194396, "comment_id": 91338650, "body": "Are you sure that (a) you only have a single Python, and (b) you installed the 32-bit versions of pywin32 and pyinstaller? (If you installed everything via <code>pip</code>, then (b) isn&#39;t a problem, but if you downloaded and ran the installers, it could be, and since that&#39;s still the way the pywin32 website recommends installing it, most people do.)"}, {"owner": {"reputation": 16, "user_id": 9043604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7124d82dc8d8de3d0d7bcc4e3b520dfb?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Tran", "link": "https://stackoverflow.com/users/9043604/steven-tran"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536456067, "post_id": 52194396, "comment_id": 91429871, "body": "I only have 1 version of Python and I installed it via pip install - not through the installer so they are all 32 bit. Not sure what else I should try..."}], "answers": [{"comments": [{"owner": {"reputation": 1025, "user_id": 1910895, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/553e47dc9be88ca1861817cf74d4162a?s=128&d=identicon&r=PG", "display_name": "aurath", "link": "https://stackoverflow.com/users/1910895/aurath"}, "edited": false, "score": 1, "creation_date": 1541101199, "post_id": 52884007, "comment_id": 93111817, "body": "I&#39;ve got the same issue, unfortunately installing the latest version and rebuilding didn&#39;t work for me. pywin32 and pywin32-ctypes are both installed, but I still see the above error message."}, {"owner": {"reputation": 435, "user_id": 1309443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/897d97e4527c902e06c4e68b95986aec?s=128&d=identicon&r=PG", "display_name": "BrendanSimon", "link": "https://stackoverflow.com/users/1309443/brendansimon"}, "edited": false, "score": 0, "creation_date": 1553569912, "post_id": 52884007, "comment_id": 97423090, "body": "I&#39;m running Python3.6 (32-bit) on a Windows 10 (64-bit) machine too.  I&#39;ve uninstalled and (re)installed pyinstaller (release and develop), pywin32, pywin32-ctypes, and even pypiwin32 (no idea what that is), and none of that fixes the problem.  What to try next ????"}, {"owner": {"reputation": 83, "user_id": 2432311, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cbb3f80874d6c9ba8779436c18afc434?s=128&d=identicon&r=PG", "display_name": "Ivanoff", "link": "https://stackoverflow.com/users/2432311/ivanoff"}, "edited": false, "score": 0, "creation_date": 1568035781, "post_id": 52884007, "comment_id": 102136257, "body": "I&#39;ve got the same problem (Win 10 x64, Python 3.7.3) and using develop version helped me."}, {"owner": {"reputation": 492, "user_id": 4786904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f394999ffc3562eb139be42056d69e1c?s=128&d=identicon&r=PG&f=1", "display_name": "Swedgin", "link": "https://stackoverflow.com/users/4786904/swedgin"}, "edited": false, "score": 0, "creation_date": 1608216420, "post_id": 52884007, "comment_id": 115519985, "body": "Same problem (Win 10 x64, Python 3.9.1), develop version does not fix it"}], "tags": [], "owner": {"reputation": 21, "user_id": 10526590, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/5aef9fac87f90f223b4e44699ce99c25?s=128&d=identicon&r=PG", "display_name": "Zac", "link": "https://stackoverflow.com/users/10526590/zac"}, "is_accepted": false, "score": 2, "last_activity_date": 1539906240, "creation_date": 1539906240, "answer_id": 52884007, "question_id": 52194396, "link": "https://stackoverflow.com/questions/52194396/unable-to-run-pyinstaller-please-install-pywin32-or-pywin32-ctypes/52884007#52884007", "title": "Unable to run PyInstaller - &quot;Please install PyWin32 or pywin32-ctypes&quot;", "body": "<p>I'm running Python 3.6 on a 32-bit Windows 10 64-bit machine. Using the latest stable version from \"pip install pyinstaller\" I ran into the same error as you. </p>\n\n<p>The fastest way to fix this is to run the following from cmd:</p>\n\n<p><code>pip uninstall pyinstaller</code> </p>\n\n<p>Then run the following in cmd:</p>\n\n<p><code>pip install https://github.com/pyinstaller/pyinstaller/tarball/develop</code></p>\n\n<p>This gives you the version currently in development where they have fixed the issue.</p>\n\n<p>Please see <a href=\"https://media.readthedocs.org/pdf/pyinstaller/latest/pyinstaller.pdf\" rel=\"nofollow noreferrer\">https://media.readthedocs.org/pdf/pyinstaller/latest/pyinstaller.pdf</a> for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 12096023, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TB8rZ86ZkvE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf12ZFVw_dDMbY9AQKi1BwL8yVkBw/photo.jpg?sz=128", "display_name": "Fritz Grobbelaar", "link": "https://stackoverflow.com/users/12096023/fritz-grobbelaar"}, "is_accepted": false, "score": 8, "last_activity_date": 1568990131, "creation_date": 1568990131, "answer_id": 58030448, "question_id": 52194396, "link": "https://stackoverflow.com/questions/52194396/unable-to-run-pyinstaller-please-install-pywin32-or-pywin32-ctypes/58030448#58030448", "title": "Unable to run PyInstaller - &quot;Please install PyWin32 or pywin32-ctypes&quot;", "body": "<p>Open python (tested using Python 3.7.4) and check if the modules can be found from the environment without intervening:<br></p>\n\n<pre><code>python.exe\n&gt;&gt;&gt;import pywintypes\n&gt;&gt;&gt;import win32api\n</code></pre>\n\n<p>If successful, the fix is simple.  Find the file compat.py inside the PyInstaller folder.  and edit the following two lines.  <br><br>Replace:<br></p>\n\n<pre><code>    from win32ctypes.pywin32 import pywintypes\n    from win32ctypes.pywin32 import win32api\n\n</code></pre>\n\n<p>with</p>\n\n<pre><code>    import pywintypes\n    import win32api\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 362754, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4f94dacdb4bdf32a0a48f4a50233dd95?s=128&d=identicon&r=PG", "display_name": "minghua", "link": "https://stackoverflow.com/users/362754/minghua"}, "is_accepted": false, "score": 0, "last_activity_date": 1614790397, "creation_date": 1614790397, "answer_id": 66461504, "question_id": 52194396, "link": "https://stackoverflow.com/questions/52194396/unable-to-run-pyinstaller-please-install-pywin32-or-pywin32-ctypes/66461504#66461504", "title": "Unable to run PyInstaller - &quot;Please install PyWin32 or pywin32-ctypes&quot;", "body": "<p>I've read somewhere saying auto-py-to-exe does install a correct version of pywin32-ctypes. So the solution might be: Install the auot-py-to-exe package.</p>\n<p>I have not seen the problem. Thus have not verified whether the solution is valid or not.</p>\n<p>Having been using auto-py-to-exe for a while. Sometimes it needs other tweaks to get it working for reasons unrelated to the problem in this SO. Since it is based on PyInstaller, installing it should bring in all the correct dependencies for PyInstaller.</p>\n"}], "owner": {"reputation": 16, "user_id": 9043604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7124d82dc8d8de3d0d7bcc4e3b520dfb?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Tran", "link": "https://stackoverflow.com/users/9043604/steven-tran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4336, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1614790397, "creation_date": 1536188303, "question_id": 52194396, "link": "https://stackoverflow.com/questions/52194396/unable-to-run-pyinstaller-please-install-pywin32-or-pywin32-ctypes", "title": "Unable to run PyInstaller - &quot;Please install PyWin32 or pywin32-ctypes&quot;", "body": "<p>I'm using Python 3.7 32-bit on Windows 10 64-bit. Python was installed from the executable file on the Python website and NOT Anaconda package. When I run pyinstaller from the command prompt, it returns an error: <a href=\"https://i.stack.imgur.com/ZnRqK.png\" rel=\"nofollow noreferrer\">Error Message</a>\nI've already installed pypiwin32, pywin32 and win32ctypes. But still have the error.</p>\n\n<p>I tried running pyinstaller from Windows CMD, Pycharm, and a virtual environment, all with the necessary libraries installed, but I'm unable to make it work. </p>\n\n<p>I've googled a lot on this issue but unable to find an answer. Can anyone please help?</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "xgboost"], "comments": [{"owner": {"reputation": 5321, "user_id": 157726, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/PY0sR.png?s=128&g=1", "display_name": "Juan Leni", "link": "https://stackoverflow.com/users/157726/juan-leni"}, "edited": false, "score": 1, "creation_date": 1536188204, "post_id": 52194375, "comment_id": 91338449, "body": "what is exactly the error you get?"}, {"owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "reply_to_user": {"reputation": 5321, "user_id": 157726, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/PY0sR.png?s=128&g=1", "display_name": "Juan Leni", "link": "https://stackoverflow.com/users/157726/juan-leni"}, "edited": false, "score": 0, "creation_date": 1536188390, "post_id": 52194375, "comment_id": 91338491, "body": "@purpletentacle, I post the error (call stack very long, I post relevant part). Let me know if you have any good ideas. :)"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1536188499, "post_id": 52194375, "comment_id": 91338507, "body": "Have you tried <i>not</i> using dense arrays?"}, {"owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1536189669, "post_id": 52194375, "comment_id": 91338721, "body": "@user2357112, it will not work, see here for what is wrong if not using todense =&gt; <a href=\"https://stackoverflow.com/questions/52176616/setting-an-array-element-with-a-sequence-error-in-scikit-learn-gradientboostingc\" title=\"setting an array element with a sequence error in scikit learn gradientboostingc\">stackoverflow.com/questions/52176616/&hellip;</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1536191218, "post_id": 52194375, "comment_id": 91339018, "body": "@LinMa: That was from trying to assign a sparse matrix to a dataframe column as if it were an array."}, {"owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1536203414, "post_id": 52194375, "comment_id": 91341356, "body": "@user2357112, how it is related to my question posted?"}, {"owner": {"reputation": 600, "user_id": 4467291, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bfeS2SQpzEk/AAAAAAAAAAI/AAAAAAAAAIQ/vng2sWrDEqM/photo.jpg?sz=128", "display_name": "Kalsi", "link": "https://stackoverflow.com/users/4467291/kalsi"}, "edited": false, "score": 2, "creation_date": 1536211247, "post_id": 52194375, "comment_id": 91343159, "body": "By default <code>CountVectorizer.fit</code> gives sparse matrix, but when you tried to convert into dense array it takes lot of memory &amp; if your system don&#39;t have much memory, it would through memory error"}, {"owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "reply_to_user": {"reputation": 600, "user_id": 4467291, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bfeS2SQpzEk/AAAAAAAAAAI/AAAAAAAAAIQ/vng2sWrDEqM/photo.jpg?sz=128", "display_name": "Kalsi", "link": "https://stackoverflow.com/users/4467291/kalsi"}, "edited": false, "score": 0, "creation_date": 1536214369, "post_id": 52194375, "comment_id": 91344266, "body": "@Kalsi, nice catch. But if you refer to this discussion (<a href=\"https://stackoverflow.com/questions/52176616/setting-an-array-element-with-a-sequence-error-in-scikit-learn-gradientboostingc\" title=\"setting an array element with a sequence error in scikit learn gradientboostingc\">stackoverflow.com/questions/52176616/&hellip;</a>), you can find it seems GradientBoostingClassifier only works with dense other than sparse?"}, {"owner": {"reputation": 6042, "user_id": 3607203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/pfnRx.jpg?s=128&g=1", "display_name": "dennlinger", "link": "https://stackoverflow.com/users/3607203/dennlinger"}, "edited": false, "score": 1, "creation_date": 1536214581, "post_id": 52194375, "comment_id": 91344355, "body": "How much memory does your system have? and what is the theoretical size of the array (i.e., what are the dimensions of <code>X_train</code> and <code>X_test</code>)?"}, {"owner": {"reputation": 600, "user_id": 4467291, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bfeS2SQpzEk/AAAAAAAAAAI/AAAAAAAAAIQ/vng2sWrDEqM/photo.jpg?sz=128", "display_name": "Kalsi", "link": "https://stackoverflow.com/users/4467291/kalsi"}, "edited": false, "score": 1, "creation_date": 1536216901, "post_id": 52194375, "comment_id": 91345416, "body": "Check the <code>presort </code> parameter of <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.GradientBoostingClassifier.html#sklearn.ensemble.GradientBoostingClassifier.fit\" rel=\"nofollow noreferrer\">GradientBoostingClassifier</a>. So it does support sparse input. May be you need to downscale the data.(because of your system limitations) You can also try <a href=\"https://xgboost.readthedocs.io/en/latest/python/python_api.html#xgboost.XGBClassifier\" rel=\"nofollow noreferrer\">XGBoost</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "edited": false, "score": 0, "creation_date": 1536218863, "post_id": 52198654, "comment_id": 91346421, "body": "Thanks Vivek, could you elaborate a bit more what means &quot;merge all the output data into a single array&quot;?"}], "tags": [], "owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1536219434, "last_edit_date": 1536219434, "creation_date": 1536218741, "answer_id": 52198654, "question_id": 52194375, "link": "https://stackoverflow.com/questions/52194375/memory-error-when-todense-in-python-using-countvectorizer/52198654#52198654", "title": "memory error when todense in python using CountVectorizer", "body": "<p>There are multiple things wrong here:</p>\n\n<pre><code>for feature_colunm_name in feature_columns_to_use:\n    X_train[feature_colunm_name] = CountVectorizer().fit_transform(X_train[feature_colunm_name]).todense()\n    X_test[feature_colunm_name] = CountVectorizer().fit_transform(X_test[feature_colunm_name]).todense()\n</code></pre>\n\n<p>1) You are trying to assign mutliple columns (result of <code>CountVectorizer</code> will be a 2-d array where columns represent features) to a single column '<code>feature_colunm_name</code>' of DataFrame. Thats not going to work and will produce error.</p>\n\n<p>2) You are fitting the CountVectorizer again on the test data, which is wrong. You should use the same CountVectorizer object on test data that you used on trainind data and only call <code>transform()</code>, not <code>fit_transform()</code>.</p>\n\n<p>Something like:</p>\n\n<pre><code>cv = CountVectorizer()\nX_train_cv = cv.fit_transform(X_train[feature_colunm_name])\nX_test_cv = cv.transform(X_test[feature_colunm_name])\n</code></pre>\n\n<p>3) <code>GradientBoostingClassifier</code> works well with sparse data. Its not mentioned in documentation yet (seems like a mistake on the documentation).</p>\n\n<p>4) You seem to be transforming multiple columns of your original data to bag-of-words form. For that you will need to use those many CountVectorizer objects and then merge all the output data into a single array which you pass to GradientBoostingClassifier.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>You need to setup something like this:</p>\n\n<pre><code># To merge sparse matrices\nfrom scipy.sparse import hstack\n\nresult_matrix_train = None\nresult_matrix_test = None\n\nfor feature_colunm_name in feature_columns_to_use:\n    cv = CountVectorizer()\n    X_train_cv = cv.fit_transform(X_train[feature_colunm_name])\n\n    # Merge the vector with others\n    result_matrix_train = hstack((result_matrix_train, X_train_cv)) \n                          if result_matrix_train is not None else X_train_cv\n\n    # Now transform the test data\n    X_test_cv = cv.transform(X_test[feature_colunm_name])\n    result_matrix_test = hstack((result_matrix_test, X_test_cv)) \n                         if result_matrix_test is not None else X_test_cv\n</code></pre>\n\n<p>Note: If you have other columns also which you did not process through the Countvectorizer because they are already numerical or so, which you want to merge with the <code>result_matrix_train</code>, you can do that too by:</p>\n\n<pre><code>result_matrix_train = hstack((result_matrix_test, X_train[other_columns].values)) \nresult_matrix_test = hstack((result_matrix_test, X_test[other_columns].values)) \n</code></pre>\n\n<p>Now use these to train:</p>\n\n<pre><code>...\ngrd.fit(result_matrix_train, y_train.values)\n</code></pre>\n"}], "owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1846, "favorite_count": 1, "accepted_answer_id": 52198654, "answer_count": 1, "score": 1, "last_activity_date": 1536219434, "creation_date": 1536188136, "last_edit_date": 1536188360, "question_id": 52194375, "link": "https://stackoverflow.com/questions/52194375/memory-error-when-todense-in-python-using-countvectorizer", "title": "memory error when todense in python using CountVectorizer", "body": "<p>Here is my code and memory error when call <code>todense()</code>, I am using GBDT model, and wondering if anyone have good ideas how to work around memory error? Thanks.</p>\n\n<pre><code>  for feature_colunm_name in feature_columns_to_use:\n    X_train[feature_colunm_name] = CountVectorizer().fit_transform(X_train[feature_colunm_name]).todense()\n    X_test[feature_colunm_name] = CountVectorizer().fit_transform(X_test[feature_colunm_name]).todense()\n  y_train = y_train.astype('int')\n  grd = GradientBoostingClassifier(n_estimators=n_estimator, max_depth=10)\n  grd.fit(X_train.values, y_train.values)\n</code></pre>\n\n<p>Detailed error message,</p>\n\n<pre><code>in _process_toarray_args\n    return np.zeros(self.shape, dtype=self.dtype, order=order)\nMemoryError\n...\n</code></pre>\n\n<p>regards,\nLin</p>\n"}, {"tags": ["python", "brightway"], "answers": [{"comments": [{"owner": {"reputation": 1441, "user_id": 164864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2e8361fe448c4ce579e7564e40a6387?s=128&d=identicon&r=PG", "display_name": "Chris Mutel", "link": "https://stackoverflow.com/users/164864/chris-mutel"}, "edited": false, "score": 2, "creation_date": 1536930422, "post_id": 52211316, "comment_id": 91612005, "body": "It should be considerably faster in subsequent runs.   Brightway is designed to support numerous workflows, including the addition of arbitrary data to activities; therefore you need to iterate over each row and parse it into Python to support &quot;general-purpose&quot; searching. In this particular case, you could use the ORM:  \tfrom bw2data.backends.peewee.proxies import Activity, ActivityDataset as AD; \tact = Activity(AD.select().where( \t\tAD.name == &#39;market for transport, freight, lorry, unspecified&#39;,  \t\tAD.location == &#39;GLO&#39; \t).get())"}], "tags": [], "owner": {"reputation": 786, "user_id": 751907, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2bbea186d1d2c84cb0dfc49d739ca38f?s=128&d=identicon&r=PG", "display_name": "Brandon Kuczenski", "link": "https://stackoverflow.com/users/751907/brandon-kuczenski"}, "is_accepted": false, "score": 0, "last_activity_date": 1536263732, "creation_date": 1536263732, "answer_id": 52211316, "question_id": 52194357, "link": "https://stackoverflow.com/questions/52194357/brightway2-how-to-retrieve-a-specific-activity-by-name/52211316#52211316", "title": "Brightway2: how to retrieve a specific activity by name", "body": "<p>So, one obvious approach that works is to use the database's built-in iterator:</p>\n\n<pre><code>&gt;&gt;&gt; m_t_f_l_u = next(_a for _a in Database('ei3.4 cutoff') \\\n                     if _a['name'] == 'market for transport, freight, lorry, unspecified' \\\n                     and _a['location'] == 'GLO')\n</code></pre>\n\n<p>This works.  It doesn't seem very efficient, though, and it takes several seconds to run.</p>\n"}, {"comments": [{"owner": {"reputation": 786, "user_id": 751907, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2bbea186d1d2c84cb0dfc49d739ca38f?s=128&d=identicon&r=PG", "display_name": "Brandon Kuczenski", "link": "https://stackoverflow.com/users/751907/brandon-kuczenski"}, "edited": false, "score": 0, "creation_date": 1536708038, "post_id": 52216927, "comment_id": 91519020, "body": "I indeed get the same numbers as you- though <code>act[&#39;name&#39;].startswith(&#39;market&#39;)</code> is a better way to find markets- and there are 3,966 of them - the other 217 are not market processes."}], "tags": [], "owner": {"reputation": 76, "user_id": 7797322, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r6Jai2UMvHM/AAAAAAAAAAI/AAAAAAAAFpk/pjKi3ys4fWA/photo.jpg?sz=128", "display_name": "Laurent Vandepaer", "link": "https://stackoverflow.com/users/7797322/laurent-vandepaer"}, "is_accepted": true, "score": 1, "last_activity_date": 1536303752, "last_edit_date": 1536303752, "creation_date": 1536303414, "answer_id": 52216927, "question_id": 52194357, "link": "https://stackoverflow.com/questions/52194357/brightway2-how-to-retrieve-a-specific-activity-by-name/52216927#52216927", "title": "Brightway2: how to retrieve a specific activity by name", "body": "<ol>\n<li>You can use list comprehensions to realize your search. It should be quite efficient.</li>\n</ol>\n\n<p><code>db_bd = bw.Database('ei3.4 cutoff')</code></p>\n\n<pre><code>market_brandon_want = [act for act in db_bd \n                    if 'market for transport, freight, lorry, unspecified' in act['name'] \n                    and 'GLO' in act['location']\n     ][0]\n</code></pre>\n\n<ol start=\"2\">\n<li>Then if you do:</li>\n</ol>\n\n<p><code>len([act for act in db_bd if 'market' in act['name'] ])</code></p>\n\n<p>You should get 4183, which seems to be a more accurate number. I am sure that you could refine your filter to get closer to your number. </p>\n\n<p>You can follow the teaching material from the <a href=\"https://github.com/PoutineAndRosti/Brightway-Seminar-2017\" rel=\"nofollow noreferrer\">Brightway2 seminar</a> held in Z\u00fcrich in 2017. This was really helpful in my case. </p>\n"}, {"comments": [{"owner": {"reputation": 786, "user_id": 751907, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2bbea186d1d2c84cb0dfc49d739ca38f?s=128&d=identicon&r=PG", "display_name": "Brandon Kuczenski", "link": "https://stackoverflow.com/users/751907/brandon-kuczenski"}, "edited": false, "score": 0, "creation_date": 1536708097, "post_id": 52217430, "comment_id": 91519033, "body": "Thanks for the hint to exclude commas- I guess there is some cleverness going on with the search function."}], "tags": [], "owner": {"reputation": 23, "user_id": 7374550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52339c9a54662346f022fb1cef687291?s=128&d=identicon&r=PG&f=1", "display_name": "Massimo Pizzol", "link": "https://stackoverflow.com/users/7374550/massimo-pizzol"}, "is_accepted": false, "score": 1, "last_activity_date": 1536305208, "creation_date": 1536305208, "answer_id": 52217430, "question_id": 52194357, "link": "https://stackoverflow.com/questions/52194357/brightway2-how-to-retrieve-a-specific-activity-by-name/52217430#52217430", "title": "Brightway2: how to retrieve a specific activity by name", "body": "<p>Try including more keywords in the search field <strong>without comma</strong>.</p>\n\n<pre><code>Database(\"ecoinvent 3.4 conseq\").search('market transport freight lorry unspecified')\n</code></pre>\n\n<p>In my version returns:  </p>\n\n<pre><code>['transport, freight, lorry, all sizes, EURO3 to generic market for \ntransport, freight, lorry, unspecified' (ton kilometer, RER, None), \n'transport, freight, lorry, all sizes, EURO3 to generic market for transport, \nfreight, lorry, unspecified' (ton kilometer, RoW, None),\n'transport, freight, lorry, all sizes, EURO4 to generic market for transport, \nfreight, lorry, unspecified' (ton kilometer, RoW, None),\n'transport, freight, lorry, all sizes, EURO5 to generic market for transport, \nfreight, lorry, unspecified' (ton kilometer, RoW, None),\n...\n</code></pre>\n\n<p>You can use filters to find the location as well:</p>\n\n<pre><code>Database(\"ecoinvent 3.4 conseq\").search('market transport freight lorry unspecified', filter={\"location\" : 'GLO'})\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>['market for transport, freight, lorry, unspecified' (ton kilometer, GLO, None)]\n</code></pre>\n\n<p>Not sure this will work if you want to automatise the search, (e.g. to find the code of a series of processes).</p>\n"}, {"tags": [], "owner": {"reputation": 908, "user_id": 4513726, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LfAO7.png?s=128&g=1", "display_name": "Nabla", "link": "https://stackoverflow.com/users/4513726/nabla"}, "is_accepted": false, "score": 1, "last_activity_date": 1537298957, "creation_date": 1537298957, "answer_id": 52393419, "question_id": 52194357, "link": "https://stackoverflow.com/questions/52194357/brightway2-how-to-retrieve-a-specific-activity-by-name/52393419#52393419", "title": "Brightway2: how to retrieve a specific activity by name", "body": "<p>1) I always use list comprehension as Laurent. Note that activities have a field called <em>activity type</em>. The possible values are 'market activity', 'market group', 'ordinary transforming activity'</p>\n\n<pre><code>db_bd = bw.Database('ei3.4 cutoff')\nset([ds['activity type'] for ds in bd_db])\n</code></pre>\n\n<p>This field is useful to distinguish markets and ordinary transforming activities</p>\n\n<pre><code>market_brandon_want = [act for act in db_bd\n                if 'freight, lorry, unspecified' in act['name'] \n                and 'GLO' in act['location']\n                and act['activity type']!='ordinary transforming activity'\n ]\nmarket_brandon_want\n</code></pre>\n\n<p>2) search does not find all the markets because there is a limit to the number of results. You can change it with the argument limit (<a href=\"https://docs.brightwaylca.org/technical/bw2data.html?highlight=search#bw2data.backends.peewee.database.SQLiteBackend.search\" rel=\"nofollow noreferrer\">documentation</a>). </p>\n\n<pre><code>bw.Database('ei3.4 cutoff').search('market',limit=5)\n</code></pre>\n"}], "owner": {"reputation": 786, "user_id": 751907, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2bbea186d1d2c84cb0dfc49d739ca38f?s=128&d=identicon&r=PG", "display_name": "Brandon Kuczenski", "link": "https://stackoverflow.com/users/751907/brandon-kuczenski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 52216927, "answer_count": 4, "score": 1, "last_activity_date": 1537298957, "creation_date": 1536187980, "question_id": 52194357, "link": "https://stackoverflow.com/questions/52194357/brightway2-how-to-retrieve-a-specific-activity-by-name", "title": "Brightway2: how to retrieve a specific activity by name", "body": "<p>I am new to all this so please be patient.</p>\n\n<p>I've initialized a new BW2 installation and added an Ecoinvent database (some output trimmed for clarity):</p>\n\n<pre><code>&gt;&gt;&gt; from brightway2 import bw2setup, Database, SingleOutputEcospold2Importer\n&gt;&gt;&gt; bw2setup()\n&gt;&gt;&gt; ei = SingleOutputEcospold2Importer('/path/to/datasets', 'ei3.4 cutoff')\n&gt;&gt;&gt; ei.apply_strategies()\n&gt;&gt;&gt; ei.statistics()\n14889 datasets\n520205 exchanges\n0 unlinked exchanges\n&gt;&gt;&gt; ei.write_database()\n</code></pre>\n\n<p>So far, so good (note in particular the number of datasets loaded).  But now- how do I use it?  TO be specific, I would like to retrieve the process entitled <code>market for transport, freight, lorry, unspecified</code> with <code>GLO</code> spatial scope.  But I don't know the key for this activity, and surprisingly, it doesn't show up in a search</p>\n\n<pre><code>&gt;&gt;&gt; Database('ei3.4 cutoff').search('market for transport, freight, lorry, unspecified')\n[]\n&gt;&gt;&gt; Database('ei3.4 cutoff').search('market for transport')\n[]\n</code></pre>\n\n<p>!! Very surprising, no markets for transport? By inspection I can see that there are 139 activities beginning with the phrase <code>market for transport</code> in Ecoinvent 3.4 cutoff.</p>\n\n<p>In fact, although there are 3,966 \"market\" processes in EI 3.4 cutoff, my brightway install only knows about two dozen: </p>\n\n<pre><code>&gt;&gt;&gt; Database('ei3.4 cutoff').search('market')\n['market for paris market carrot' (kilogram, GLO, None),\n 'paris market carrot production' (kilogram, GLO, None),\n 'market for acetonitrile' (kilogram, GLO, None),\n 'market for sulfur' (kilogram, GLO, None),\n 'market for whey' (kilogram, GLO, None),\n 'market for heptane' (kilogram, GLO, None),\n 'market for straw' (kilogram, GLO, None),\n 'market for clay' (kilogram, CH, None),\n 'market for pitch' (kilogram, CH, None),\n 'market for brass' (kilogram, CH, None),\n 'market for platinum' (kilogram, GLO, None),\n 'market for polycarbonate' (kilogram, GLO, None),\n 'market for pitch' (kilogram, RoW, None),\n 'market for tetrafluoroethylene' (kilogram, GLO, None),\n 'market for dimethenamide' (kilogram, GLO, None),\n 'market for glyphosate' (kilogram, GLO, None),\n 'market for styrene' (kilogram, GLO, None),\n 'market for ferrite' (kilogram, GLO, None),\n 'market for folpet' (kilogram, GLO, None),\n 'market for magnetite' (kilogram, GLO, None),\n 'market for metamitron' (kilogram, GLO, None),\n 'market for nylon 6-6' (kilogram, GLO, None),\n 'market for atrazine' (kilogram, GLO, None),\n 'market for magnesium' (kilogram, GLO, None),\n 'market for metaldehyde' (kilogram, GLO, None)]\n</code></pre>\n\n<p>How do I find a dataset that does not show up in a search?  Rather unhelpfully, the documentation appears to <em>strictly</em> use <code>random()</code> to retrieve activities (e.g. here: <a href=\"http://nbviewer.jupyter.org/urls/bitbucket.org/cmutel/brightway2/raw/default/notebooks/Databases.ipynb\" rel=\"nofollow noreferrer\">http://nbviewer.jupyter.org/urls/bitbucket.org/cmutel/brightway2/raw/default/notebooks/Databases.ipynb</a>) which does not help me answer this question.</p>\n\n<p>So- two questions-</p>\n\n<ol>\n<li><p>how do I find the activity of interest, <code>market for transport, freight, lorry, unspecified [GLO]</code>?</p></li>\n<li><p>Why is my database missing around 3,940 markets, according to the search?</p></li>\n</ol>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "pycharm", "jetbrains-ide"], "comments": [{"owner": {"reputation": 5321, "user_id": 157726, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/PY0sR.png?s=128&g=1", "display_name": "Juan Leni", "link": "https://stackoverflow.com/users/157726/juan-leni"}, "edited": false, "score": 0, "creation_date": 1536188080, "post_id": 52194338, "comment_id": 91338427, "body": "broken delete/backspace key? :)"}, {"owner": {"reputation": 10213, "user_id": 1359058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f191024999528a3a7375f8d7181e1fe6?s=128&d=identicon&r=PG", "display_name": "abc", "link": "https://stackoverflow.com/users/1359058/abc"}, "edited": false, "score": 0, "creation_date": 1536188872, "post_id": 52194338, "comment_id": 91338566, "body": "maybe it&#39;s a too obvious attempt, but did you try to restart your PC?"}], "answers": [{"tags": [], "owner": {"reputation": 7235, "user_id": 3734914, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAGw8.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/3734914/batman"}, "is_accepted": true, "score": 5, "last_activity_date": 1536195201, "creation_date": 1536195201, "answer_id": 52195067, "question_id": 52194338, "link": "https://stackoverflow.com/questions/52194338/cannot-type-letters-or-numbers-in-pycharm/52195067#52195067", "title": "Cannot type letters or numbers in PyCharm", "body": "<p>When all else fails:</p>\n\n<p><code>file</code> -> <code>invalidate caches/restart</code></p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 6306375, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xlFPhMeYGrg/AAAAAAAAAAI/AAAAAAAAAA0/va3uH-gJlSg/photo.jpg?sz=128", "display_name": "Namal Jayasundara", "link": "https://stackoverflow.com/users/6306375/namal-jayasundara"}, "is_accepted": false, "score": 3, "last_activity_date": 1550397139, "creation_date": 1550397139, "answer_id": 54731997, "question_id": 52194338, "link": "https://stackoverflow.com/questions/52194338/cannot-type-letters-or-numbers-in-pycharm/54731997#54731997", "title": "Cannot type letters or numbers in PyCharm", "body": "<p>Try to deactivate Vim by  'Tools -> Vim Emulator' (Untick the option)</p>\n"}], "owner": {"reputation": 383, "user_id": 7050517, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-honYsIWMQEo/AAAAAAAAAAI/AAAAAAAAG_k/8-AjTvhEe1Q/photo.jpg?sz=128", "display_name": "smallpants", "link": "https://stackoverflow.com/users/7050517/smallpants"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3285, "favorite_count": 0, "accepted_answer_id": 52195067, "answer_count": 2, "score": 2, "last_activity_date": 1556553740, "creation_date": 1536187848, "question_id": 52194338, "link": "https://stackoverflow.com/questions/52194338/cannot-type-letters-or-numbers-in-pycharm", "title": "Cannot type letters or numbers in PyCharm", "body": "<p>Suddenly today, I can no longer type letters or numbers into the editor in PyCharm 2018.2.2 Build #PY-182.4129.34. I can still type symbols such as [] and {} but letters and numbers appear when typed and then immediately are deleted. </p>\n\n<p>I've checked that Vim emulation is off, the plugin is not even installed as far as I can tell. I've updated my Material Theme plugin. None of my settings have been changed since I last used PyCharm. </p>\n\n<p>It's independent of what file I'm editing. I've also disabled my international keyboard. Read-only is turned off as well. </p>\n\n<p>I'm out of ideas.</p>\n"}, {"tags": ["python", "typeerror", "primes"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1536188940, "post_id": 52194302, "comment_id": 91338578, "body": "What you&#39;re trying to do with <code>prime_factors = [] ; prime_factors += i</code> would be more simply and clearly written as <code>prime_factors = [i]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4102, "user_id": 7908770, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/01c6edec3c808659a8e8f42d4259a4b3?s=128&d=identicon&r=PG&f=1", "display_name": "Adi219", "link": "https://stackoverflow.com/users/7908770/adi219"}, "is_accepted": false, "score": 3, "last_activity_date": 1536187640, "creation_date": 1536187640, "answer_id": 52194313, "question_id": 52194302, "link": "https://stackoverflow.com/questions/52194302/why-am-i-getting-typeerror-int-object-is-not-iterable-in-my-code/52194313#52194313", "title": "Why am I getting TypeError: &#39;int&#39; object is not iterable in my code?", "body": "<p>It should be <code>prime_factors.append(i)</code>, as you add to <code>list</code>s using <code>.append()</code>, not the addition operator :)</p>\n\n<p>(<code>python</code> will throw errors if you try to <code>+</code> a <code>list</code> and an <code>int</code> as it's not possible to add them together)</p>\n"}, {"comments": [{"owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "edited": false, "score": 2, "creation_date": 1536188356, "post_id": 52194330, "comment_id": 91338483, "body": "I did some experimentation, and it appears that <code>+</code> doesn&#39;t work with lists and non-list iterables, but <code>+=</code> does. For instance, <code>prime_factors += range(5)</code> results in <code>prime_factors</code> being equal to <code>[0,1,2,3,4]</code>."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1536188193, "last_edit_date": 1536188193, "creation_date": 1536187779, "answer_id": 52194330, "question_id": 52194302, "link": "https://stackoverflow.com/questions/52194302/why-am-i-getting-typeerror-int-object-is-not-iterable-in-my-code/52194330#52194330", "title": "Why am I getting TypeError: &#39;int&#39; object is not iterable in my code?", "body": "<p>The <code>list</code> addition operator is defined only on two lists, not on a list and an integer.  Python was trying to do a <code>list.__add__</code> on <code>prime_factors</code> and <code>i</code>, which includes iterating through the elements of <code>i</code>.  That's where you got the error.</p>\n\n<p>The correct command would be</p>\n\n<pre><code>prime_factors.append(i)\n</code></pre>\n\n<p>With that change, your program correctly prints only the lowest prime factor.  You also need to move your initializations and checks to the proper places:</p>\n\n<ul>\n<li>set <code>prime_factors</code> to the empty list only at the start of your program.</li>\n<li>set <code>counter</code> back to 0 for each suspected prime factor.</li>\n<li>check the value of <code>counter</code> only <em>after</em> you've looked at all smaller numbers.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": false, "score": 0, "last_activity_date": 1536188227, "creation_date": 1536188227, "answer_id": 52194385, "question_id": 52194302, "link": "https://stackoverflow.com/questions/52194302/why-am-i-getting-typeerror-int-object-is-not-iterable-in-my-code/52194385#52194385", "title": "Why am I getting TypeError: &#39;int&#39; object is not iterable in my code?", "body": "<p>When the left operand of <code>+=</code> is a list, python expects an iterable on the right side. You can use <code>append</code> instead, or <code>prime_factors +=[i]</code>. Also, it looks like you screwed up the identation or something; your present code doesn't make any sense. For instance, your <code>prime_factors +=i</code> line is always preceded by <code>prime_factors = []</code>. If you were to replace <code>+=</code> with <code>append</code>, you would end up with those two line having the same functionality as if you had one line that just said <code>prime_factors = [i]</code>. </p>\n"}], "owner": {"reputation": 21, "user_id": 10322608, "user_type": "registered", "profile_image": "https://graph.facebook.com/1862553477157569/picture?type=large", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/10322608/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1536188236, "creation_date": 1536187509, "last_edit_date": 1536188236, "question_id": 52194302, "link": "https://stackoverflow.com/questions/52194302/why-am-i-getting-typeerror-int-object-is-not-iterable-in-my-code", "title": "Why am I getting TypeError: &#39;int&#39; object is not iterable in my code?", "body": "<p>I'm designing a program that prints prime factors of a number.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>while True:\n    x = int(input(\"Enter a positive number: \"))\n    if x &gt;= 0:\n        break\n\nranger = list(range(1, x+1))\ncounter = 0\n\n#The first for loop checks if the number is a factor\nfor i in ranger:\n    if x % i == 0:\n        #The second for loop checks if the number is prime\n        for element in range(1, i+1 ):\n            if i % element == 0:\n                counter += 1\n                if counter == 2:\n                    prime_factors = []\n                    prime_factors += i\n                #Counter having a value of 2 means the number is prime\n\nprint(prime_factors)\n</code></pre>\n\n<p>I keep getting the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \".\\primefactors.py\", line 18, in &lt;module&gt;\n\n    prime_factors += i\nTypeError: 'int' object is not iterable\n</code></pre>\n\n<p>But I don't seem to understand why I am getting this error.</p>\n"}, {"tags": ["python", "tornado"], "comments": [{"owner": {"reputation": 14624, "user_id": 5588279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/31a5c0b08beca9ebc2c1d5e60ba691d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sraw", "link": "https://stackoverflow.com/users/5588279/sraw"}, "edited": false, "score": 0, "creation_date": 1536189481, "post_id": 52194291, "comment_id": 91338681, "body": "What is <code>it</code>? Do you mean <code>id</code>?"}, {"owner": {"reputation": 10702, "user_id": 887103, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/01f50a9b535f3f0275f4d74b047ceef5?s=128&d=identicon&r=PG", "display_name": "Nicolas S.Xu", "link": "https://stackoverflow.com/users/887103/nicolas-s-xu"}, "reply_to_user": {"reputation": 14624, "user_id": 5588279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/31a5c0b08beca9ebc2c1d5e60ba691d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sraw", "link": "https://stackoverflow.com/users/5588279/sraw"}, "edited": false, "score": 0, "creation_date": 1536193314, "post_id": 52194291, "comment_id": 91339386, "body": "@Sraw yes, updated my question. Thank you!"}, {"owner": {"reputation": 14624, "user_id": 5588279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/31a5c0b08beca9ebc2c1d5e60ba691d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sraw", "link": "https://stackoverflow.com/users/5588279/sraw"}, "edited": false, "score": 2, "creation_date": 1536193485, "post_id": 52194291, "comment_id": 91339410, "body": "I&#39;m wondering how do you use this <code>MyClass</code> in practice? Could you provide something more? As sometimes you will implicitly create multiple instances."}, {"owner": {"reputation": 1886, "user_id": 7324965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7aa4909c554252eb14749ffffe4d66d?s=128&d=identicon&r=PG&f=1", "display_name": "Fine", "link": "https://stackoverflow.com/users/7324965/fine"}, "edited": false, "score": 0, "creation_date": 1536222472, "post_id": 52194291, "comment_id": 91348431, "body": "Code given by you is not enough for meaningful answer as problem&#39;s cause is outside of this scope."}], "owner": {"reputation": 10702, "user_id": 887103, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/01f50a9b535f3f0275f4d74b047ceef5?s=128&d=identicon&r=PG", "display_name": "Nicolas S.Xu", "link": "https://stackoverflow.com/users/887103/nicolas-s-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536193296, "creation_date": 1536187445, "last_edit_date": 1536193296, "question_id": 52194291, "link": "https://stackoverflow.com/questions/52194291/tornado-periodiccallback-will-create-a-new-context", "title": "Tornado PeriodicCallback will create a new context", "body": "<p>I encounter some strange behavior of <a href=\"http://www.tornadoweb.org/en/stable/ioloop.html\" rel=\"nofollow noreferrer\">PeriodicCallback in Python Tornado</a>. </p>\n\n<pre><code>from tornado.ioloop import PeriodicCallback\nclass MyClass(object):\n    def __init__(self):\n        self.dict = {}\n        PeriodicCallback(self._check_status, 3000).start()\n    ...\n    def foo(self):\n        self.dict[\"efg\"] = 20 \n        print (id(self.dict)) # 1st print\n\n    def _check_status(self):\n        self.dict[\"abc\"] = 10\n        print ( id(self.dict)) # 2nd print\n</code></pre>\n\n<p>The 1st and 2nd print value is different, meaning self.dict are different object, which causes serious problem. This is unexpected behavior. What is wrong? </p>\n\n<p>I want self.dict referring to the same object in foo and in _check_status. What should I do? </p>\n"}, {"tags": ["python", "selenium", "browsermob-proxy", "browsermob"], "comments": [{"owner": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "edited": false, "score": 0, "creation_date": 1536191331, "post_id": 52194266, "comment_id": 91339031, "body": "to clarify, what is ECC?"}, {"owner": {"reputation": 13, "user_id": 10322578, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vGH9lLHTMjc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNo3UAQaPMf_qpBMT13ZmwW188erw/mo/photo.jpg?sz=128", "display_name": "janwal47", "link": "https://stackoverflow.com/users/10322578/janwal47"}, "reply_to_user": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "edited": false, "score": 0, "creation_date": 1536216088, "post_id": 52194266, "comment_id": 91345064, "body": "Elliptic Curve Certificates"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 10355456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/017db39fbab91232af529039696f541b?s=128&d=identicon&r=PG&f=1", "display_name": "Minsis", "link": "https://stackoverflow.com/users/10355456/minsis"}, "is_accepted": true, "score": 0, "last_activity_date": 1536957316, "last_edit_date": 1536957316, "creation_date": 1536786165, "answer_id": 52303455, "question_id": 52194266, "link": "https://stackoverflow.com/questions/52194266/activate-ecc-for-browsermob-selenium/52303455#52303455", "title": "Activate Ecc for Browsermob/Selenium", "body": "<p>I had this same question after learning about this \"issue\" with browsermob-proxy and SSL certs. </p>\n\n<p>After digging around in the browsermob-proxy python library it looks as if any <a href=\"https://github.com/AutomatedTester/browsermob-proxy-py/blob/6e9a29326a8ca5d0cf970fb33fcd3e03501f938e/browsermobproxy/client.py#L31\" rel=\"nofollow noreferrer\">extra parameters</a> are passed into the URL when creating the proxy. </p>\n\n<p>With that you should be able to pass any of the parameters outlined in <a href=\"https://github.com/lightbody/browsermob-proxy/blob/master/README.md#rest-api\" rel=\"nofollow noreferrer\">API documentation</a> into create_proxy().</p>\n\n<p>Here's my code snippet (although, I'm not sure how to query the proxy to see if its actually set).</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom browsermobproxy import Server\n\n#Create proxy server\nbmp_server_opts = {\"port\": 8080}\nbmp_server = Server(\"browsermob-proxy-2.1.4/bin/browsermob-proxy\", options = bmp_server_opts)\nbmp_server.start()\ntime.sleep(1)\nproxy_server = bmp_server.create_proxy({\"useEcc\": True, \"trustAllServers\": True})\ntime.sleep(1)\nselenium_proxy = proxy_server.selenium_proxy()\n\n#Create Firefox options\nfirefox_opts = webdriver.FirefoxOptions()\nfirefox_profile = webdriver.FirefoxProfile()\nfirefox_opts.set_headless()\nfirefox_profile.set_proxy(selenium_proxy)\n\n#Fire up a Firefox browser\nfirefox_browser = webdriver.Firefox(firefox_profile = firefox_profile, firefox_options = firefox_opts)\nwait_load = WebDriverWait(firefox_browser, 10)\nproxy_server.new_har(\"103398\", options = {'captureHeaders': True, \"captureContent\": True})\n</code></pre>\n\n<p>Although there was still some issues with even setting useEcc to true and I ended up adding trustAllServers which ignores ssl checking all together, but I'm not sure this would be the right way to go if you needed close to true user experience. In either case I still have fairly slow SSL/TLS connections.</p>\n"}], "owner": {"reputation": 13, "user_id": 10322578, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vGH9lLHTMjc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNo3UAQaPMf_qpBMT13ZmwW188erw/mo/photo.jpg?sz=128", "display_name": "janwal47", "link": "https://stackoverflow.com/users/10322578/janwal47"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 1, "accepted_answer_id": 52303455, "answer_count": 1, "score": 1, "last_activity_date": 1536957316, "creation_date": 1536187309, "last_edit_date": 1536216078, "question_id": 52194266, "link": "https://stackoverflow.com/questions/52194266/activate-ecc-for-browsermob-selenium", "title": "Activate Ecc for Browsermob/Selenium", "body": "<p>I have the problem that the testing with Selenium and browsermob becomes very slow for certain websites. Here is my current code for setting up the server and proxy:</p>\n\n<pre><code>    server = Server(path_browsermob)\n    server.start()\n    proxy = server.create_proxy()\n    co = webdriver.ChromeOptions()\n    co.add_argument('--proxy-server={host}:{port}'.format(host='localhost', port=proxy.port))\n    driver = webdriver.Chrome(path_driver, chrome_options=co)\n</code></pre>\n\n<p>I already read that one way to speed up testing is to use EC certificates instead of RSA. However, how do I do activate ECC with the code above?</p>\n"}, {"tags": ["python", "unit-testing", "exception", "pytest"], "answers": [{"tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": true, "score": 5, "last_activity_date": 1536187429, "creation_date": 1536187429, "answer_id": 52194290, "question_id": 52194265, "link": "https://stackoverflow.com/questions/52194265/using-pytest-raises-to-inspect-custom-exception-attributes/52194290#52194290", "title": "Using pytest.raises to inspect custom exception attributes", "body": "<p>The actual exception object is available as <code>ce.value</code>, so your asserts need to be written as:</p>\n\n<pre><code>assert ce.value.foo == 'blah'\nassert not ce.value.bar\n</code></pre>\n"}], "owner": {"reputation": 2314, "user_id": 2005759, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myFGu.jpg?s=128&g=1", "display_name": "Antrikshy", "link": "https://stackoverflow.com/users/2005759/antrikshy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 1, "accepted_answer_id": 52194290, "answer_count": 1, "score": 3, "last_activity_date": 1536187429, "creation_date": 1536187290, "question_id": 52194265, "link": "https://stackoverflow.com/questions/52194265/using-pytest-raises-to-inspect-custom-exception-attributes", "title": "Using pytest.raises to inspect custom exception attributes", "body": "<pre><code>class CustomException(ValueError):\n  def __init__(self, foo, bar):\n    self.foo = foo\n    self.bar = bar\n</code></pre>\n\n<p>I have a class with an exception like the above. <code>foo</code> and <code>bar</code> are used by the function raising the error to supply some extra information about the exception to the calling class.</p>\n\n<p>I'm trying to test this behavior like this:</p>\n\n<pre><code>with pytest.raises(CustomException) as ce:\n  func_that_raises(broken_args)\nassert ce.foo == 'blah'\nassert not ce.bar  # if `bar` is expected to be a boolean\n</code></pre>\n\n<p>However, <code>ce</code> is an instance of <code>ExceptionInfo</code> that py.test gives me, and <em>not</em> an instance of <code>CustomException</code>. Is there any way to retain and inspect the original exception that was raised?</p>\n"}, {"tags": ["python", "pattern-matching", "glob"], "comments": [{"owner": {"reputation": 1932, "user_id": 8291840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20Unf.png?s=128&g=1", "display_name": "I\u015f\u0131k Kaplan", "link": "https://stackoverflow.com/users/8291840/i%c5%9f%c4%b1k-kaplan"}, "edited": false, "score": 0, "creation_date": 1536187333, "post_id": 52194243, "comment_id": 91338266, "body": "They add possible literal matches, but the symbols are still regex syntax and should be escaped, <code>\\-\\-</code> should fix the bad range problem. Also I&#39;ve never seen square brackets inside quotation as a regex syntax so I&#39;m not sure about if that is exactly like that."}, {"owner": {"reputation": 1932, "user_id": 8291840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20Unf.png?s=128&g=1", "display_name": "I\u015f\u0131k Kaplan", "link": "https://stackoverflow.com/users/8291840/i%c5%9f%c4%b1k-kaplan"}, "edited": false, "score": 0, "creation_date": 1536187548, "post_id": 52194243, "comment_id": 91338322, "body": "What exactly do you want to match, everything that ends with <code>SI--Exp1.csv</code> ??"}, {"owner": {"reputation": 29, "user_id": 9633274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf786ff4f5eab53d9b6387d6d660042?s=128&d=identicon&r=PG&f=1", "display_name": "Albert L", "link": "https://stackoverflow.com/users/9633274/albert-l"}, "reply_to_user": {"reputation": 1932, "user_id": 8291840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20Unf.png?s=128&g=1", "display_name": "I\u015f\u0131k Kaplan", "link": "https://stackoverflow.com/users/8291840/i%c5%9f%c4%b1k-kaplan"}, "edited": false, "score": 0, "creation_date": 1536187630, "post_id": 52194243, "comment_id": 91338340, "body": "I want every file that has <code>SI--Exp1</code> in it, not necessarily at the end."}, {"owner": {"reputation": 1932, "user_id": 8291840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20Unf.png?s=128&g=1", "display_name": "I\u015f\u0131k Kaplan", "link": "https://stackoverflow.com/users/8291840/i%c5%9f%c4%b1k-kaplan"}, "edited": false, "score": 0, "creation_date": 1536187737, "post_id": 52194243, "comment_id": 91338366, "body": "Every .csv file I imagine. <code>.*?SI--Exp1.*?\\.csv</code> should take care of that, matches every string that has <code>SI--Exp1</code> and ends with <code>.csv</code>  You can try what it would match or wouldn&#39;t <a href=\"https://regex101.com/r/AJ89zD/1\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 29, "user_id": 9633274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf786ff4f5eab53d9b6387d6d660042?s=128&d=identicon&r=PG&f=1", "display_name": "Albert L", "link": "https://stackoverflow.com/users/9633274/albert-l"}, "reply_to_user": {"reputation": 1932, "user_id": 8291840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20Unf.png?s=128&g=1", "display_name": "I\u015f\u0131k Kaplan", "link": "https://stackoverflow.com/users/8291840/i%c5%9f%c4%b1k-kaplan"}, "edited": false, "score": 0, "creation_date": 1536188378, "post_id": 52194243, "comment_id": 91338486, "body": "When I run <code>all = glob.glob(path+&#39;&#47;*?SI--Exp1.*?\\.csv&#39;)</code>, python ran without an error, but found no match. I originally had the code <code>#all = glob.glob(path + &quot;&#47;*.csv&quot;)</code> to incorporate all csv files, but I only wanted a subset of them."}, {"owner": {"reputation": 1932, "user_id": 8291840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20Unf.png?s=128&g=1", "display_name": "I\u015f\u0131k Kaplan", "link": "https://stackoverflow.com/users/8291840/i%c5%9f%c4%b1k-kaplan"}, "edited": false, "score": 0, "creation_date": 1536189165, "post_id": 52194243, "comment_id": 91338623, "body": "Okay. I read about glob.glob and apparently it doesn&#39;t take python regex rather <code>shell-style</code>. So <code>path+&#39;&#47;*SI--Exp1*.csv&#39;</code> this should fix it"}], "answers": [{"comments": [{"owner": {"reputation": 1302, "user_id": 2754913, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qEZqM.jpg?s=128&g=1", "display_name": "Thirst for Knowledge", "link": "https://stackoverflow.com/users/2754913/thirst-for-knowledge"}, "edited": false, "score": 0, "creation_date": 1562089260, "post_id": 52194510, "comment_id": 100265225, "body": "Can you please mark this as the solution if it answered the question above?"}], "tags": [], "owner": {"reputation": 29, "user_id": 9633274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf786ff4f5eab53d9b6387d6d660042?s=128&d=identicon&r=PG&f=1", "display_name": "Albert L", "link": "https://stackoverflow.com/users/9633274/albert-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1536189396, "creation_date": 1536189396, "answer_id": 52194510, "question_id": 52194243, "link": "https://stackoverflow.com/questions/52194243/python-glob-glob-find-exact-match-on-a-portion-of-the-file-name/52194510#52194510", "title": "Python glob.glob(): find exact match on a portion of the file name", "body": "<p>Apparently the use of quotation marks was unnecessary to find filenames that have a certain string anywhere in the filename. Here's the solution:</p>\n\n<pre><code>import glob\npath =r'C:\\YourFolder' #path to folder with .csv files\nall = glob.glob(path+'/*SI--Exp1*.csv')\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9633274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf786ff4f5eab53d9b6387d6d660042?s=128&d=identicon&r=PG&f=1", "display_name": "Albert L", "link": "https://stackoverflow.com/users/9633274/albert-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1309, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536189396, "creation_date": 1536187143, "question_id": 52194243, "link": "https://stackoverflow.com/questions/52194243/python-glob-glob-find-exact-match-on-a-portion-of-the-file-name", "title": "Python glob.glob(): find exact match on a portion of the file name", "body": "<p>I would like to use <code>glob</code> to get all the csv files that have a certain string inside the file name. The string only appears in the middle of the file name. For instance, I would like to extract all csv files that have <code>SI--Exp1</code> inside the filename, which could look something like <code>03152018-User1-SI--Exp1-trial14.csv</code>. Here's what I have so far:</p>\n\n<pre><code>import glob\npath =r'C:\\YourFolder' #path to folder with .csv files\nall = glob.glob(path+\"/*'[SI--Exp1]'*.csv\")\n</code></pre>\n\n<p>which I received an error message of <code>bad character range 3--</code>. It said from the documentation that square brackets put inside quotation marks help find the literal match. Any advice?</p>\n"}, {"tags": ["python", "python-3.x", "python-2.7", "list", "counter"], "comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1536187246, "post_id": 52194235, "comment_id": 91338236, "body": "Potentially float numbers or strictly integers?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1536187402, "post_id": 52194235, "comment_id": 91338290, "body": "Use <code>collections.Counter</code> to replace most of the code you&#39;ve written -- that gives you a dict with the frequency of each item in the list.  Reverse the dict.  Apply <code>max</code> to the keys.  Now just use that as the index into the reversed dict.  This will return <i>one</i> most-frequent item."}, {"owner": {"reputation": 91788, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 1, "creation_date": 1536187432, "post_id": 52194235, "comment_id": 91338294, "body": "When you say, &quot;without importing any libraries&quot;, does that include modules in the standard library like <a href=\"https://docs.python.org/3/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\"><code>collections.Counter</code></a>? If it does, why are you avoiding those libraries? Is this a learning exercise?"}, {"owner": {"reputation": 1134, "user_id": 2387806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebead5d6b9a6e8a2e443d77cd68d946b?s=128&d=identicon&r=PG", "display_name": "EvensF", "link": "https://stackoverflow.com/users/2387806/evensf"}, "edited": false, "score": 0, "creation_date": 1536187440, "post_id": 52194235, "comment_id": 91338295, "body": "Hi, could you give an example of the input data and what you want the output to be?"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1536188976, "post_id": 52194235, "comment_id": 91338586, "body": "@Prune, Note that <code>Counter</code> does have a <code>most_common</code> method, which means there&#39;s no need to manually calculate the max of your values."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1536189021, "post_id": 52194235, "comment_id": 91338596, "body": "@jpp: So noted; thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "is_accepted": false, "score": 2, "last_activity_date": 1536187984, "last_edit_date": 1536187984, "creation_date": 1536187521, "answer_id": 52194304, "question_id": 52194235, "link": "https://stackoverflow.com/questions/52194235/number-with-highest-frequency-in-a-list/52194304#52194304", "title": "Number with highest frequency in a list", "body": "<p>Try dictionaries</p>\n\n<pre><code>def freq(L):\n     st = {}\n     for i in set(L):\n        st.update({L.count(i):i})\n     print (st.get(max(st)))\n</code></pre>\n\n<p>or shorter:</p>\n\n<pre><code>def freq(L):\n    st={L.count(i):i for i in set(L)}\n    print (st.get(max(st)))\n</code></pre>\n\n<p>another solution without dictionaries:</p>\n\n<pre><code>def freq(L):\n    a=0\n    b=None\n    for e in set(L):\n        if L.count(e)&gt;a:\n            a=L.count(e)\n            b=e\n    print(b)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 1, "last_activity_date": 1536187727, "creation_date": 1536187727, "answer_id": 52194320, "question_id": 52194235, "link": "https://stackoverflow.com/questions/52194235/number-with-highest-frequency-in-a-list/52194320#52194320", "title": "Number with highest frequency in a list", "body": "<p><code>list.count</code> has O(<em>n</em>) complexity, given <em>n</em> values in your list. If there are <em>m</em> unique values, this means your algorithm will have minimum O(<em>m</em> x <em>n</em>) complexity. This isn't desirable.</p>\n\n<p>One O(<em>n</em>) solution is to create a counting dictionary and increment values as you iterate:</p>\n\n<pre><code>lst = [1, 2, 3, 3, 3, 2, 1, 3, 3]\n\ndef freq(L):\n    d = {}\n    for num in L:\n        d[num] = d.get(num, 0) + 1\n    maxcount = max(d.values())\n    return next(k for k, v in d.items() if v == maxcount)\n\nfreq(lst)  # 3\n</code></pre>\n\n<p>Of course, with <code>collections.Counter</code> the syntax is trivial:</p>\n\n<pre><code>from collections import Counter\n\ndef freq(L):\n    return Counter(L).most_common()[0][0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2007, "user_id": 5834077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7N3H.jpg?s=128&g=1", "display_name": "Carl", "link": "https://stackoverflow.com/users/5834077/carl"}, "is_accepted": false, "score": 1, "last_activity_date": 1536187851, "creation_date": 1536187851, "answer_id": 52194340, "question_id": 52194235, "link": "https://stackoverflow.com/questions/52194235/number-with-highest-frequency-in-a-list/52194340#52194340", "title": "Number with highest frequency in a list", "body": "<p>Here is one way to do it with list comprehensions:</p>\n\n<p><code>mostFrequentNumber = L[max([(L.count(d), i) for i, d in enumerate(L)])[1]]</code></p>\n\n<p>To break it down:</p>\n\n<p>We iterate an enumerated version of the list:\n<code>i, d in enumerate(L)</code>, which will produce tuples with the value and index. Then we create a list of tuples with the <code>count</code> of <code>d</code> and the index, <code>i</code>: <code>(L.count(d), i)</code>. We use the Max function to get the one with the highest count. Then we index the list <code>L</code> using the highest value at index <code>[1]</code> in the tuple.</p>\n\n<p>This input: <code>L = [1, 1, 1,  2, 3, 4]</code> will then produce 1 as a result, although may not be the most efficient.</p>\n"}], "owner": {"reputation": 11, "user_id": 10322568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19c0c79e1fb0f65488620a2d45d6602b?s=128&d=identicon&r=PG&f=1", "display_name": "DannyPhantomGhost", "link": "https://stackoverflow.com/users/10322568/dannyphantomghost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 857, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1536188102, "creation_date": 1536187056, "last_edit_date": 1536188102, "question_id": 52194235, "link": "https://stackoverflow.com/questions/52194235/number-with-highest-frequency-in-a-list", "title": "Number with highest frequency in a list", "body": "<p>I am trying to write a program that will show me the number that appears most frequently in a list. I am trying to do this without importing any libraries. So far I have something that will give me the number of times the most frequent # appears but I want the number itself, not how many times it appears. How can I change what I have so far in a simple way to do this?</p>\n\n<pre><code>def freq(L):\n    st = []\n    L.sort()\n    for i in L:\n        st.append(L.count(i))\n    print max(st)\n</code></pre>\n\n<p>EDIT: for example, freq([4, 6, 4, 3, 9, 1, 4]) is returning 3 since 4 appears 3 times. But I would like it to return 4 as in the most frequent value.</p>\n"}, {"tags": ["python", "discord", "discord.py"], "comments": [{"owner": {"reputation": 914, "user_id": 2957890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/643683633/picture?type=large", "display_name": "T.Woody", "link": "https://stackoverflow.com/users/2957890/t-woody"}, "edited": false, "score": 0, "creation_date": 1536187319, "post_id": 52194212, "comment_id": 91338257, "body": "Did you try implementing a <code>__call__</code> method for <code>group</code>?"}, {"owner": {"reputation": 6025, "user_id": 511012, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8cd8ba81a1b2f40ea92e5abbb1c80a81?s=128&d=identicon&r=PG", "display_name": "Ian Newson", "link": "https://stackoverflow.com/users/511012/ian-newson"}, "reply_to_user": {"reputation": 914, "user_id": 2957890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/643683633/picture?type=large", "display_name": "T.Woody", "link": "https://stackoverflow.com/users/2957890/t-woody"}, "edited": false, "score": 0, "creation_date": 1536187372, "post_id": 52194212, "comment_id": 91338277, "body": "@T.Woody Is that really necessary when one function just wants to call another function in the same class?"}, {"owner": {"reputation": 914, "user_id": 2957890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/643683633/picture?type=large", "display_name": "T.Woody", "link": "https://stackoverflow.com/users/2957890/t-woody"}, "edited": false, "score": 0, "creation_date": 1536187541, "post_id": 52194212, "comment_id": 91338320, "body": "Yes, there is a distinction between callable objects and noncallable objects like <code>num</code> and <code>int</code>. You can do an <code>if callable(group):</code> to error check."}], "answers": [{"comments": [{"owner": {"reputation": 6025, "user_id": 511012, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8cd8ba81a1b2f40ea92e5abbb1c80a81?s=128&d=identicon&r=PG", "display_name": "Ian Newson", "link": "https://stackoverflow.com/users/511012/ian-newson"}, "edited": false, "score": 1, "creation_date": 1536188384, "post_id": 52194346, "comment_id": 91338488, "body": "BTW the final syntax I needed was &#39;await self.online.invoke(ctx)&#39;. Thank you."}], "tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": true, "score": 1, "last_activity_date": 1536187892, "creation_date": 1536187892, "answer_id": 52194346, "question_id": 52194212, "link": "https://stackoverflow.com/questions/52194212/python-typeerror-group-object-is-not-callable/52194346#52194346", "title": "Python: &quot;TypeError: &#39;Group&#39; object is not callable&quot;", "body": "<p>You can use the <a href=\"https://github.com/Rapptz/discord.py/blob/async/discord/ext/commands/core.py#L614\" rel=\"nofollow noreferrer\"><code>invoke</code></a> method of the <code>Group</code> object to invoke it directly from another coroutine:</p>\n\n<pre><code>from discord.ext import commands\n\nbot = commands.Bot(command_prefix='!')\n\n@bot.group(pass_context=True)\nasync def online(ctx):\n    await bot.send_message(ctx.message.channel, \"Group invoked\")\n\n@bot.command(pass_context=True)\nasync def invoker(ctx):\n    await online.invoke(ctx)\n\nbot.run(\"Token\")\n</code></pre>\n"}], "owner": {"reputation": 6025, "user_id": 511012, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8cd8ba81a1b2f40ea92e5abbb1c80a81?s=128&d=identicon&r=PG", "display_name": "Ian Newson", "link": "https://stackoverflow.com/users/511012/ian-newson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "accepted_answer_id": 52194346, "answer_count": 1, "score": 1, "last_activity_date": 1536188001, "creation_date": 1536186911, "last_edit_date": 1536188001, "question_id": 52194212, "link": "https://stackoverflow.com/questions/52194212/python-typeerror-group-object-is-not-callable", "title": "Python: &quot;TypeError: &#39;Group&#39; object is not callable&quot;", "body": "<p>I'm new to Python and I've just found an error I can't resolve:</p>\n\n<pre><code>TypeError: 'Group' object is not callable\n</code></pre>\n\n<p>Here's my redacted code:</p>\n\n<pre><code>    @commands.group(pass_context=True, no_pm=True)\n    async def online(self, ctx):\n//Some stuff\n\n    @commands.group(pass_context=True, no_pm=True)\n    async def searching(self, ctx):\n        await self.online(ctx)\n</code></pre>\n\n<p>What I'm trying to do is essentially rename and make obsolete a function with an old name, and introduce it with the new name ('online' > 'searching').</p>\n"}, {"tags": ["python", "hdf5", "h5py", "hdf5storage"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1536187675, "post_id": 52194210, "comment_id": 91338350, "body": "The MATLAB convention is F-contiguous.  You can see that in the arrays loaded via <code>scipy.io.loadmat</code>.  The <code>HDF5</code> convention is C-contiguous.  I&#39;ve just looked a bit at the HDF5 files produced by MATLAB/Octave (using <code>h5py</code>).  I don&#39;t know what kinds of games <code>hdf5storage</code> is playing with these conventions.  <a href=\"https://stackoverflow.com/questions/46044613/how-to-import-mat-v7-3-file-using-h5py\" title=\"how to import mat v7 3 file using h5py\">stackoverflow.com/questions/46044613/&hellip;</a>"}, {"owner": {"reputation": 153, "user_id": 4383245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b310964dd89cbc685c23cba70de023?s=128&d=identicon&r=PG&f=1", "display_name": "wolfblade87", "link": "https://stackoverflow.com/users/4383245/wolfblade87"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1536187925, "post_id": 52194210, "comment_id": 91338398, "body": "Unfortunately I don&#39;t know of anything else that supports v7.3 .mat files. When trying to use scipy, an error pops up saying to using h5py for that types of files. And I have colleagues that use MATLAB only, so I&#39;m trying to create data files (.mat) that we can pass back and forth easily."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1536190015, "post_id": 52194210, "comment_id": 91338803, "body": "As long as you are interacting with MATLAB you&#39;ll have to deal with order differences and transposes.  In numpy the first axis is the outermost.  In MATLAB it&#39;s the last."}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 2, "last_activity_date": 1536196255, "creation_date": 1536196255, "answer_id": 52195154, "question_id": 52194210, "link": "https://stackoverflow.com/questions/52194210/python-hdf5storage-is-transposing-my-data/52195154#52195154", "title": "Python hdf5storage is transposing my data?", "body": "<p>I looked again at the <code>abc.h5</code> file described in:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/46044613/how-to-import-mat-v7-3-file-using-h5py\">how to import .mat-v7.3 file using h5py</a></p>\n\n<p>It was created in Octave with:</p>\n\n<pre><code>&gt;&gt; A = [1,2,3;4,5,6];\n&gt;&gt; B = [1,2,3,4];\n&gt;&gt; save -hdf5 abc.h5 A B\n</code></pre>\n\n<p>Using <code>h5py</code>:</p>\n\n<pre><code>In [102]: f = h5py.File('abc.h5','r')\nIn [103]: A = f['A']['value'][:]\nIn [104]: A\nOut[104]: \narray([[1., 4.],\n       [2., 5.],\n       [3., 6.]])\nIn [105]: A.shape\nOut[105]: (3, 2)\nIn [106]: A.flags\nOut[106]: \n  C_CONTIGUOUS : True\n  F_CONTIGUOUS : False\n  ...\nIn [107]: A.ravel()\nOut[107]: array([1., 4., 2., 5., 3., 6.])\n</code></pre>\n\n<p>So it's a transposed C order array.  Apparently that's how MATLAB developers have chosen to store their matrices in HDF5.  </p>\n\n<p>I could tranpose it in numpy:</p>\n\n<pre><code>In [108]: At = A.T\nIn [109]: At\nOut[109]: \narray([[1., 2., 3.],\n       [4., 5., 6.]])\nIn [110]: At.flags\nOut[110]: \n  C_CONTIGUOUS : False\n  F_CONTIGUOUS : True\n  ....\n</code></pre>\n\n<p>As is normal, a C-order array becomes F-order when transposed.</p>\n\n<p>The Octave matrices saved with the older .mat format</p>\n\n<pre><code>In [115]: data = io.loadmat('../abc.mat')\nIn [116]: data['A']\nOut[116]: \narray([[1., 2., 3.],\n       [4., 5., 6.]])\nIn [117]: _.flags\nOut[117]: \n  C_CONTIGUOUS : False\n  F_CONTIGUOUS : True\n</code></pre>\n\n<p>So the <code>h5py</code> array, transposed, matches the convention that <code>io.loadmat</code> has been using for quite some time.</p>\n\n<p>I don't have <code>hdf5storage</code> installed on this OS.  But by your tests, it is following the <code>io.loadmat</code> convention - correct shape but F order.</p>\n"}], "owner": {"reputation": 153, "user_id": 4383245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b310964dd89cbc685c23cba70de023?s=128&d=identicon&r=PG&f=1", "display_name": "wolfblade87", "link": "https://stackoverflow.com/users/4383245/wolfblade87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "accepted_answer_id": 52195154, "answer_count": 1, "score": 1, "last_activity_date": 1536196255, "creation_date": 1536186906, "last_edit_date": 1536187969, "question_id": 52194210, "link": "https://stackoverflow.com/questions/52194210/python-hdf5storage-is-transposing-my-data", "title": "Python hdf5storage is transposing my data?", "body": "<p>Python Code:</p>\n\n<pre><code>import h5py\nimport hdf5storage\nfrom functools import reduce\nimport numpy as np\nfrom operator import mul\n\nsz = 128,256,512\na = np.random.normal(size=reduce(mul,sz)).reshape(sz)\nsave_dict = {'data':a}\n\nspath = r\"test.mat\"\nhdf5storage.savemat(spath, mdict=save_dict, append_mat=False, \n                    store_python_metadata=True, format='7.3')\n\nwith h5py.File(spath, 'r') as file:\n    b = np.array(file['data'])\n\n# Reads in the correct shape, but is F-contiguous. Scipy doesn't work with v7.3 files.\nc = hdf5storage.loadmat(spath)['data']\n</code></pre>\n\n<p>When a is created, it has a shape (128,256,512). However, when I save a to the .mat file using hdf5storage, and then load it into b using h5py, b is transposed as has a shape of (512,256,128). Both arrays are C-contiguous when checking their flags.</p>\n\n<p>Is there any way to prevent this transpose from happening? I was under the impression that hdf5 format saves row-major. </p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1536186970, "post_id": 52194205, "comment_id": 91338167, "body": "&quot;I cant change Python version on the server because others are using it &amp; may break their code.&quot; That isn&#39;t a problem. You can install Python 3 without touching the existing Python 2. You will just run your script with the <code>python3</code> command, and they will continue running their scripts with the <code>python</code> command, and everything will work. That&#39;s a lot simpler than porting code from 3.x to 2.x without knowing the differences between the two."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1536186987, "post_id": 52194205, "comment_id": 91338173, "body": "&quot;I cant change Python version on the server because others are using it &amp; may break their code.&quot; - you can have your own Python 3 without messing with other users&#39; Python 2."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536187002, "post_id": 52194205, "comment_id": 91338174, "body": "Or, even better, you can use virtual environments, so each user\u2014or even each program\u2014can use whichever Python they want."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536187103, "post_id": 52194205, "comment_id": 91338199, "body": "If you really do want to backport code without actually learning Python 2, you&#39;d do a lot better to use <a href=\"https://pypi.org/project/3to2/\" rel=\"nofollow noreferrer\"><code>3to2</code></a> or <a href=\"https://pypi.org/project/future/\" rel=\"nofollow noreferrer\"><code>futurize</code></a> instead of running it, seeing if you get an error, posting a StackOverflow question, and repeating until it seems to work."}], "answers": [{"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536189652, "post_id": 52194229, "comment_id": 91338715, "body": "You&#39;re assuming that the <code>Device</code> constructor is called with <code>unicode</code> rather than <code>str</code> here? That&#39;s certainly possible, but it seems just as possible that they&#39;re, say, UTF-8 strings (which in 3.x automatically got decoded to <code>str</code> using the default UTF-8 encoding, but in 2.7 they get left as <code>str</code>, which you then try to <code>%s</code> into a unicode format string, which implicitly decodes them as ASCII)."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536193165, "post_id": 52194229, "comment_id": 91339353, "body": "@abarnert  A unicode exception within log formatting is caught, and also logged, contrast with a unicode exception in string addition which just blows up the stack. Since the code allegedly &quot;runs well&quot; on Python 3, I guess we can assume the <code>self.name</code> attribute is a <code>str</code>, but I would still recommend to %-template the log call regardless.  In the weird circumstance that both bytes and text need to be handled, you could use %r instead of %s."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536193296, "post_id": 52194229, "comment_id": 91339384, "body": "I don&#39;t think you can assume that it&#39;s text. There are plenty of libraries\u2014even much of the stdlib\u2014that will give you &quot;whatever <code>str</code> is&quot; (text in 3.x but bytes in 2.x), rather than &quot;text&quot; (<code>str</code> in 3.x but <code>unicode</code> in 2.x)."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 1, "last_activity_date": 1536187507, "last_edit_date": 1536187507, "creation_date": 1536187019, "answer_id": 52194229, "question_id": 52194205, "link": "https://stackoverflow.com/questions/52194205/python-super-init-typeerror-super-takes-at-least-1-argument-0-given/52194229#52194229", "title": "Python super().__init__() TypeError: super() takes at least 1 argument (0 given)", "body": "<p>The zero-argument invocation of <code>super</code> is a new feature of Python 3.  If you want to write cross-compatible code, you can't use it.  See <a href=\"https://www.python.org/dev/peps/pep-3135/\" rel=\"nofollow noreferrer\">PEP 3135 -- New Super</a> for details about that.</p>\n\n<blockquote>\n  <p>How can I alter this class to work with Python 2.7?</p>\n</blockquote>\n\n<p>Firstly, the line <code>class Device:</code> should be changed to inherit <code>object</code>, so that you have a <a href=\"https://www.python.org/doc/newstyle/\" rel=\"nofollow noreferrer\">new-style class</a>.</p>\n\n<p>Optionally, add <code>from future import unicode_literals</code> to the start of the module. Since you use string additions in the logging calls, you might need that if you deal with textual data in a <code>Device</code>'s attributes.  However, a better way to deal with that is arguably to use %-format strings in the log calls, for example:</p>\n\n<pre><code>logging.debug(\"starting %s\", self.name)\n</code></pre>\n\n<p>Finally, the line</p>\n\n<pre><code>super().__init__()\n</code></pre>\n\n<p>could be changed to </p>\n\n<pre><code>super(Device, self).__init__()\n</code></pre>\n\n<p>All other things being equal, your code looks cross-compat now.</p>\n\n<p>Though, I'm wondering why you use <code>super</code> at all here, it doesn't seem needed.</p>\n"}], "owner": {"reputation": 2602, "user_id": 1204749, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8c7b2072c6586880fcb1e38a12de55ae?s=128&d=identicon&r=PG", "display_name": "cyber101", "link": "https://stackoverflow.com/users/1204749/cyber101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2838, "favorite_count": 0, "accepted_answer_id": 52194229, "answer_count": 1, "score": 1, "last_activity_date": 1536187507, "creation_date": 1536186866, "question_id": 52194205, "link": "https://stackoverflow.com/questions/52194205/python-super-init-typeerror-super-takes-at-least-1-argument-0-given", "title": "Python super().__init__() TypeError: super() takes at least 1 argument (0 given)", "body": "<p>Im given some undocumented  code that runs well on Windows running Python 3, however after testing Im moving this Python do Ubuntu running Python 2.7.12. </p>\n\n<p>I cant change Python version on the server because others are using it &amp; may break their code. </p>\n\n<p>The Python class that is having the error is:</p>\n\n<pre><code>import logging\n\n    # device is a test class to handle replay functions\n    class Device:\n        intermittent = False\n        loop = False\n\n\n        def __init__(self, name, mac, description, srcFile, real):\n            super().__init__()\n            self.name = name\n            self.MAC = mac\n            self.description = description\n            self.srcFile = srcFile\n            self.running = False\n            self.real = real\n\n        def to_dictionary(self):\n            data = {'name': self.name,\n                    'mac': self.MAC,\n                    'description': self.description,\n                    'active': self.running,\n                    'real': self.real}\n            return data\n\n        def start(self):\n            logging.debug(\"starting \" + self.name)\n            self.running = True\n\n        def resume(self):\n            logging.debug(\"resuming \" + self.name)\n            self.running = True\n\n        def stop(self):\n            logging.debug(\"stopping \" + self.name)\n            self.running = False\n</code></pre>\n\n<p>I understand that Python 3 object oriented syntax is different than 2.7, how can I alter  this class to work with Python 2.7?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 5026, "user_id": 2052575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef811d74c86084dcaf8a9aa5b57b1dc0?s=128&d=identicon&r=PG", "display_name": "v25", "link": "https://stackoverflow.com/users/2052575/v25"}, "edited": false, "score": 0, "creation_date": 1536596043, "post_id": 52194349, "comment_id": 91471166, "body": "Thanks, I couldn&#39;t get this method to work, but with help from your link to DictReader, was able to implement this whereby I can specify the django field names IN the CSV which is sufficient for my needs."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 1, "last_activity_date": 1536187920, "creation_date": 1536187920, "answer_id": 52194349, "question_id": 52194186, "link": "https://stackoverflow.com/questions/52194186/django-objects-get-or-create-passing-arguments-from-dictionary-or-list/52194349#52194349", "title": "Django objects.get_or_create(): passing arguments from dictionary or list", "body": "<p>First of all, your dictionaries should look like this:</p>\n\n<pre><code>csv_row = {\"account_no\": \"123-456\", \"name\": \"v25\"}\n</code></pre>\n\n<p>Make sure you use a <a href=\"https://docs.python.org/3/library/csv.html#csv.DictReader\" rel=\"nofollow noreferrer\"><code>DictReader</code></a> so that you're reading the csv file's header and then iterating the rows of the csv file correctly, i.e. the keys of each dict yielded are the column names.</p>\n\n<p>Then, the <code>get_or_create</code> call will be a simple unpacking, something like this:</p>\n\n<pre><code>Customer.objects.get_or_create(**csv_row)\n</code></pre>\n"}], "owner": {"reputation": 5026, "user_id": 2052575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef811d74c86084dcaf8a9aa5b57b1dc0?s=128&d=identicon&r=PG", "display_name": "v25", "link": "https://stackoverflow.com/users/2052575/v25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536187920, "creation_date": 1536186715, "question_id": 52194186, "link": "https://stackoverflow.com/questions/52194186/django-objects-get-or-create-passing-arguments-from-dictionary-or-list", "title": "Django objects.get_or_create(): passing arguments from dictionary or list", "body": "<p>I currently have a django management command to import CSV files, which is based on <a href=\"https://stackoverflow.com/a/15961736/2052575\">this answer</a>.  The main business is done by the following line in a loop:</p>\n\n<pre><code>created = Customer.objects.get_or_create(account_no = int(row[0]), name = row[1])\n</code></pre>\n\n<p>However, because I have a number of different models to run this on, I wish to put the above code inside a function, and pass the attributes and row keys in from a dictionary; so I'd defnine something like:</p>\n\n<pre><code>csv_columns = { 0: 'account_no', 1: 'name' }\n</code></pre>\n\n<p>However I don't know how to run the <code>get_or_create</code> function based on this.  I'm sure this should be simple.</p>\n"}, {"tags": ["python", "string", "pandas", "pandas-groupby"], "answers": [{"comments": [{"owner": {"reputation": 1365, "user_id": 4032503, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XZyGYGtRux0/AAAAAAAAAAI/AAAAAAAACPo/xgHTSkTRldM/photo.jpg?sz=128", "display_name": "noslenkwah", "link": "https://stackoverflow.com/users/4032503/noslenkwah"}, "edited": false, "score": 1, "creation_date": 1536187311, "post_id": 52194239, "comment_id": 91338250, "body": "I would venture that list comprehension qualifies as &quot;iterating/looping&quot; which OP wants to avoid."}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 1365, "user_id": 4032503, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XZyGYGtRux0/AAAAAAAAAAI/AAAAAAAACPo/xgHTSkTRldM/photo.jpg?sz=128", "display_name": "noslenkwah", "link": "https://stackoverflow.com/users/4032503/noslenkwah"}, "edited": false, "score": 3, "creation_date": 1536187381, "post_id": 52194239, "comment_id": 91338282, "body": "@noslenkwah, Possibly. But I&#39;m not sure it&#39;s possible to avoid loops here. You can sure hide loops in <code>pd.Series.str.contains</code>, but an <code>object</code> dtype series by definition cannot offer vectorised functionality."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 3, "last_activity_date": 1536187106, "creation_date": 1536187106, "answer_id": 52194239, "question_id": 52194174, "link": "https://stackoverflow.com/questions/52194174/check-if-one-column-matches-all-objects-in-a-list-from-another-column/52194239#52194239", "title": "Check if one column matches all objects in a list from another column", "body": "<p>You can use a list comprehension and Boolean indexing:</p>\n\n<pre><code>res = df[[all(word in x.split() for word in y) for x, y in zip(df[0], df[1])]]\n\nprint(res)\n\n                     0                     1\n2  cucumbers are green      [cucumbers, are]\n3     grapes are green  [grapes, are, green]\n4     oranges are good             [oranges]\n</code></pre>\n"}], "owner": {"reputation": 285, "user_id": 8822705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf24b9c84bf81921da7586c25eb6606f?s=128&d=identicon&r=PG&f=1", "display_name": "Rookie", "link": "https://stackoverflow.com/users/8822705/rookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 52194239, "answer_count": 1, "score": 0, "last_activity_date": 1536187171, "creation_date": 1536186661, "last_edit_date": 1536187171, "question_id": 52194174, "link": "https://stackoverflow.com/questions/52194174/check-if-one-column-matches-all-objects-in-a-list-from-another-column", "title": "Check if one column matches all objects in a list from another column", "body": "<p>I have a dataframe with one column of strings and another with a list of strings.</p>\n\n<pre><code>                     0                     1\n0      apples are good      [orange, banana]\n1     bananas are good        [bananas, bad]\n2  cucumbers are green      [cucumbers, are]\n3     grapes are green  [grapes, are, green]\n4     oranges are good             [oranges]\n5   pineapples are big     [flowers, apples]\n</code></pre>\n\n<p>I want the find all the indices where the string in <code>Column 0</code> matches all the list contents in <code>Column 1</code>. In this case the output would look like:</p>\n\n<pre><code>                     0                     1\n2  cucumbers are green      [cucumbers, are]\n3     grapes are green  [grapes, are, green]\n4     oranges are good             [oranges]\n</code></pre>\n\n<p>I know I can use <code>pandas.Series.str.contains</code> but that only works on a single list and I want to avoid iterating/looping if possible.</p>\n"}, {"tags": ["python", "pandas", "list", "dataframe", "boolean"], "comments": [{"owner": {"reputation": 756, "user_id": 5768636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/572024692c500c36ccd8f41574b5e308?s=128&d=identicon&r=PG&f=1", "display_name": "b2002", "link": "https://stackoverflow.com/users/5768636/b2002"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 1, "creation_date": 1536276973, "post_id": 52194145, "comment_id": 91376235, "body": "@jpp - This problem is not just about merging, it also addresses the issue of having multiple values per row which must be handled some way."}], "answers": [{"tags": [], "owner": {"reputation": 720, "user_id": 6022521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59948db004c0470ea8fbb86f0abf0672?s=128&d=identicon&r=PG", "display_name": "filiphl", "link": "https://stackoverflow.com/users/6022521/filiphl"}, "is_accepted": false, "score": 0, "last_activity_date": 1536215058, "creation_date": 1536215058, "answer_id": 52197705, "question_id": 52194145, "link": "https://stackoverflow.com/questions/52194145/how-to-find-values-based-on-the-id-information-in-two-dataframes/52197705#52197705", "title": "How to find values based on the ID information in two dataframes?", "body": "<p>You should use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.merge.html\" rel=\"nofollow noreferrer\">panda.merge()</a> with <code>on=['OrderID']</code> and <code>how='inner'</code>.</p>\n\n<pre><code>In [207]: df1 = pd.DataFrame({'OrderID':[i for i in range(10)], 'Lead Order':[1,3,5,8,6,7,7,5,2,1]}, index=[0,1,2,3,4,5,6,7,8,9])\n\nIn [208]: df1\nOut[208]: \n   OrderID  Lead Order\n0        0           1\n1        1           3\n2        2           5\n3        3           8\n4        4           6\n5        5           7\n6        6           7\n7        7           5\n8        8           2\n9        9           1\n\nIn [209]: df2 = pd.DataFrame({'OrderID':[3,8,6,2]}, index=[0,1,2,3])\n\nIn [210]: df2\nOut[210]: \n   OrderID\n0        3\n1        8\n2        6\n3        2\n\nIn [211]: df3 = pd.merge(df1, df2, on=['OrderID'], how='inner')\n\nIn [212]: df3\nOut[212]: \n   OrderID  Lead Order\n0        2           5\n1        3           8\n2        6           7\n3        8           2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 756, "user_id": 5768636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/572024692c500c36ccd8f41574b5e308?s=128&d=identicon&r=PG&f=1", "display_name": "b2002", "link": "https://stackoverflow.com/users/5768636/b2002"}, "is_accepted": false, "score": 0, "last_activity_date": 1536276292, "creation_date": 1536276292, "answer_id": 52213283, "question_id": 52194145, "link": "https://stackoverflow.com/questions/52194145/how-to-find-values-based-on-the-id-information-in-two-dataframes/52213283#52213283", "title": "How to find values based on the ID information in two dataframes?", "body": "<p>This answer includes the problem of dealing with multiple\nvalues within rows of the OrderID(s) column.</p>\n\n<p>Full code without comment is at the end below</p>\n\n<pre><code># imports\nimport pandas as pd\nimport numpy as np\n\n# create sample dataframe\ndf_orig = \\\n    pd.DataFrame({'OrderID(s)':['0001, 0007, 0002', '0008', '0009, 0005, 0003',],\n                  'Lead Order': ['00011', '00022', '00033']})\n</code></pre>\n\n<p>df_orig</p>\n\n<pre><code>          OrderID(s)    Lead Order\n0   0001, 0007, 0002    00011\n1               0008    00022\n2   0009, 0005, 0003    00033\n</code></pre>\n\n<p>-</p>\n\n<pre><code># force df values to strings\n# this makes splitting of multiple\n# values in OrderID(s) easier\ndf_orig = df_orig.astype(str)\n\n# series created from data within df_orig['OrderID(s)'] column\n# remove spaces and split by commas\nsplit_col = df_orig['OrderID(s)'].str.replace(' ', '').str.split(\",\")\nprint(split_col)\n\n0    [0001, 0007, 0002]\n1                [0008]\n2    [0009, 0005, 0003]\nName: OrderID(s), dtype: object\n</code></pre>\n\n<p>-</p>\n\n<pre><code># find length of each split_col row (how many OrderIDs in each row).\n# these values will be used to duplicate rows in the\n# df_orig dataframe with the numpy repeat function\nrepeats = split_col.str.len().values\nprint(repeats)\n\n[3 1 3]\n</code></pre>\n\n<p>-</p>\n\n<pre><code># concatenate all values in orderid_column.\n# the length of this array will be the same as the length\n# of the df_stack_ids dataframe\norderid_col = np.concatenate(split_col.values)\nprint(orderid_col)\n\n['0001' '0007' '0002' '0008' '0009' '0005' '0003']\n</code></pre>\n\n<p>-</p>\n\n<pre><code># use pandas iloc and numpy repeat function to make a dataframe with\n# rows from df_orig duplicated according to the number of\n# df_orig['OrderID(s)'] values in each row relating to a common\n#Lead Order value (using repeats input from above)\ndf_stack_ids = df_orig.iloc[np.repeat(df_orig.index.values, repeats)]. \\\n    reset_index(drop=True)\n</code></pre>\n\n<p>df_stack_ids</p>\n\n<pre><code>          OrderID(s)    Lead Order\n0   0001, 0007, 0002    00011\n1   0001, 0007, 0002    00011\n2   0001, 0007, 0002    00011\n3               0008    00022\n4   0009, 0005, 0003    00033\n5   0009, 0005, 0003    00033\n6   0009, 0005, 0003    00033\n</code></pre>\n\n<p>-</p>\n\n<pre><code># add the orderid_col to dataframe\ndf_stack_ids['OrderID'] = orderid_col\n</code></pre>\n\n<p>df_stack_ids</p>\n\n<pre><code>          OrderID(s)    Lead Order  OrderID\n0   0001, 0007, 0002         00011     0001\n1   0001, 0007, 0002         00011     0007\n2   0001, 0007, 0002         00011     0002\n3               0008         00022     0008\n4   0009, 0005, 0003         00033     0009\n5   0009, 0005, 0003         00033     0005\n6   0009, 0005, 0003         00033     0003\n</code></pre>\n\n<p>-</p>\n\n<pre><code># get rid of the original OrderID(s) column\ndf_stack_ids = df_stack_ids[['OrderID', 'Lead Order']]\n\n\n# this may be enough to answer the question\n# because each order id has a corresponding\n# lead order\n</code></pre>\n\n<p>df_stack_ids</p>\n\n<pre><code>    OrderID Lead Order\n0      0001      00011\n1      0007      00011\n2      0002      00011\n3      0008      00022\n4      0009      00033\n5      0005      00033\n6      0003      00033\n</code></pre>\n\n<p>-</p>\n\n<pre><code># to find matches for a specific list of order ids,\n# continue...\n# sort the OrderID column for easy reference and\n# reset index\ndf_stack_ids = df_stack_ids.sort_values(by=['OrderID'])\ndf_stack_ids.index = range(len(df_stack_ids))\n\n\n# create sample dataframe with a few order ids for lookup\ndf_find_lead = pd.DataFrame({'OrderID': ['0001', '0002', '0005']})\n# force to string type for matching with df_stack_ids values\n# when merging\ndf_find_lead = df_find_lead.astype(str)\n</code></pre>\n\n<p>df_find_lead</p>\n\n<pre><code>    OrderID\n0      0001\n1      0002\n2      0005\n</code></pre>\n\n<p>-</p>\n\n<pre><code># merge values from df_stack_ids['Lead Order'] column\ndf_found_lead = pd.merge(df_find_lead, df_stack_ids,\n                         on=['OrderID'], how='inner')\n</code></pre>\n\n<p>df_found_lead</p>\n\n<pre><code>    OrderID Lead Order\n0      0001      00011\n1      0002      00011\n2      0005      00033\n</code></pre>\n\n<p>-</p>\n\n<pre><code># if all original order data is formatted as numbers,\n# convert result dataframe back to integers\ndf_found_lead.astype(int)\n\n    OrderID Lead Order\n0         1         11\n1         2         11\n2         5         33\n</code></pre>\n\n<p>Full code:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndf_orig = \\\n    pd.DataFrame({'OrderID(s)':['0001, 0007, 0002', '0008', '0009, 0005, 0003',],\n                  'Lead Order': ['00011', '00022', '00033']})\n\ndf_orig = df_orig.astype(str)\nsplit_col = df_orig['OrderID(s)'].str.replace(' ', '').str.split(\",\")\n\nrepeats = split_col.str.len().values\norderid_col = np.concatenate(split_col.values)\n\ndf_stack_ids = df_orig.iloc[np.repeat(df_orig.index.values, repeats)]. \\\n    reset_index(drop=True)\n\ndf_stack_ids['OrderID'] = orderid_col\ndf_stack_ids = df_stack_ids[['OrderID', 'Lead Order']]\ndf_stack_ids = df_stack_ids.sort_values(by=['OrderID'])\ndf_stack_ids.index = range(len(df_stack_ids))\n\ndf_find_lead = pd.DataFrame({'OrderID': ['0001', '0002', '0005']})\ndf_find_lead = df_find_lead.astype(str)\n\ndf_found_lead = pd.merge(df_find_lead, df_stack_ids, on=['OrderID'], how='inner')\ndf_found_lead.astype(int)\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 10266922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd2d4ee4235abf585cc9ba1deccc1b9?s=128&d=identicon&r=PG&f=1", "display_name": "Boomshakalaka", "link": "https://stackoverflow.com/users/10266922/boomshakalaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536277012, "creation_date": 1536186452, "question_id": 52194145, "link": "https://stackoverflow.com/questions/52194145/how-to-find-values-based-on-the-id-information-in-two-dataframes", "title": "How to find values based on the ID information in two dataframes?", "body": "<p><a href=\"https://i.stack.imgur.com/lF0lh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lF0lh.png\" alt=\"Dataframe 1\"></a></p>\n\n<p>The first data frame which contains order information. A Lead Order may have multiple orderids. \nAnother dataframe has a list of OrderID and wants to use the dataframe1 as a reference to find the LeadOrderID, how can I use python (Pandas) to find the LeadOrderID?<a href=\"https://i.stack.imgur.com/sFXiU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sFXiU.png\" alt=\"Dataframe2\"></a>\nThanks for your help. Really appreciate.</p>\n"}, {"tags": ["python", "heroku", "flask", "flask-socketio"], "comments": [{"owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 1, "creation_date": 1536307731, "post_id": 52194063, "comment_id": 91384691, "body": "Are you sure the module that has your connect handler in the server is being imported? These handlers work in the same way as Flask routes, they need to be imported so that they are registered with the framework."}, {"owner": {"reputation": 340, "user_id": 10300416, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205248584090807/picture?type=large", "display_name": "Nick Dima", "link": "https://stackoverflow.com/users/10300416/nick-dima"}, "reply_to_user": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 0, "creation_date": 1536425633, "post_id": 52194063, "comment_id": 91423360, "body": "@Miguel Ah-ha... I moved all my code into the <b>init</b>.py file and it works. But not when events are in other files. There&#39;s something odd happening with my imports. Thank you so much!"}], "answers": [{"tags": [], "owner": {"reputation": 340, "user_id": 10300416, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205248584090807/picture?type=large", "display_name": "Nick Dima", "link": "https://stackoverflow.com/users/10300416/nick-dima"}, "is_accepted": true, "score": 0, "last_activity_date": 1536429845, "creation_date": 1536429845, "answer_id": 52238018, "question_id": 52194063, "link": "https://stackoverflow.com/questions/52194063/flask-socketio-on-heroku-client-side-connect-function-runs-but-not-server-side/52238018#52238018", "title": "Flask Socketio on Heroku Client Side Connect Function Runs but not Server Side", "body": "<p>This was indeed an import error where the event handlers were not being imported in the __init__.py file that contained my app factory, thus they were not registered to my app.</p>\n\n<p>To fix this I added a socket_instance.py file to my root directory that contains</p>\n\n<pre><code>from flask_socketio import SocketIO\n</code></pre>\n\n<p>and imported that in my __init__.py file as well as in all my event handler creation files.</p>\n\n<p>Then from any files I can now import my socketio object as such:</p>\n\n<pre><code>from socket_instance import socketio\n</code></pre>\n"}], "owner": {"reputation": 340, "user_id": 10300416, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205248584090807/picture?type=large", "display_name": "Nick Dima", "link": "https://stackoverflow.com/users/10300416/nick-dima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 52238018, "answer_count": 1, "score": 0, "last_activity_date": 1536429845, "creation_date": 1536185872, "last_edit_date": 1536187337, "question_id": 52194063, "link": "https://stackoverflow.com/questions/52194063/flask-socketio-on-heroku-client-side-connect-function-runs-but-not-server-side", "title": "Flask Socketio on Heroku Client Side Connect Function Runs but not Server Side", "body": "<p>I have this code on the client side:</p>\n\n<pre><code>player_id = Math.round(Math.random() * 5000);\nyour_sock = io.connect('http://' + document.domain + ':' + location.port + '/');  //io.connect('');  //io.connect('http://' + document.domain + ':' + location.port);\nyour_sock.on('connect', function(){\n    your_sock.emit('player_connect', {'id': player_id});\n    console.log('I have connected with ID ' + player_id);\n});\n</code></pre>\n\n<p>and this code on the server side:</p>\n\n<pre><code>@socker.on('connect')\ndef handle_connect():\n    print('THE HANDLE CONNECT FUNCTION WAS WRITTEN')\n    try:\n        socker.emit('testing', {'hello': 'hi'})\n    except Exception as e:\n        print(e)\n</code></pre>\n\n<p>I see the \"I have connected with ID 27\" on the Chrome developer log, meaning the client side socket connection function was run, however, the server side does not log \"THE HANDLE CONNECT FUNCTION WAS RUN\". <strong>Note, any other logs I add outside of socket functions are logged so it's not a problem with printing to heroku logs</strong></p>\n\n<p>Requirements.txt</p>\n\n<pre><code>click==6.7\ndnspython==1.15.0\neventlet==0.24.1\nFlask==1.0.2\nflask-heroku==0.1.9\nFlask-SocketIO==3.0.1\ngreenlet==0.4.14\ngunicorn==19.9.0\nitsdangerous==0.24\nJinja2==2.10\nMarkupSafe==1.0\nmonotonic==1.5\npython-engineio==2.2.0\npython-socketio==2.0.0\nsix==1.11.0\nWerkzeug==0.14.1\n</code></pre>\n\n<p>Procfile:</p>\n\n<pre><code>web: gunicorn --worker-class eventlet -w 1 --no-sendfile --log-level=DEBUG --log-file=- --preload --chdir nickdima wsgi:app\n</code></pre>\n\n<p>The wsgi.py file referenced in my procfile:</p>\n\n<pre><code>import sys\nsys.path.insert(0, \"/app/nickdima\")\n\n\nfrom __init__ import create_app\n\napp = create_app()\n</code></pre>\n\n<p>Heroku Logs:</p>\n\n<pre><code>2018-09-05T22:11:03.936310+00:00 app[web.1]: hello logs\n2018-09-05T22:11:03.938061+00:00 app[web.1]: 10.31.74.203 - - [05/Sep/2018:22:11:03 +0000] \"GET /test_pong/test_pong_game HTTP/1.1\" 200 1022 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\"\n2018-09-05T22:11:03.938237+00:00 app[web.1]: [2018-09-05 22:11:03 +0000] [9] [DEBUG] Closing connection.\n2018-09-05T22:11:03.982684+00:00 app[web.1]: [2018-09-05 22:11:03 +0000] [9] [DEBUG] Closing connection.\n2018-09-05T22:11:04.308695+00:00 app[web.1]: [2018-09-05 22:11:04 +0000] [9] [DEBUG] GET /socket.io/\n2018-09-05T22:11:04.313499+00:00 app[web.1]: 10.31.74.203 - - [05/Sep/2018:22:11:04 +0000] \"GET /socket.io/?EIO=3&amp;transport=polling&amp;t=1536185465659-0 HTTP/1.1\" 200 119 \"http://www.nickdima.com/test_pong/test_pong_game\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\"\n2018-09-05T22:11:04.313924+00:00 app[web.1]: [2018-09-05 22:11:04 +0000] [9] [DEBUG] Closing connection.\n2018-09-05T22:11:04.352762+00:00 app[web.1]: [2018-09-05 22:11:04 +0000] [9] [DEBUG] POST /socket.io/\n2018-09-05T22:11:04.359377+00:00 app[web.1]: 10.31.74.203 - - [05/Sep/2018:22:11:04 +0000] \"POST /socket.io/?EIO=3&amp;transport=polling&amp;t=1536185465714-1&amp;sid=bcd9d3c54362405a91a6ec22c4633c1c HTTP/1.1\" 200 2 \"http://www.nickdima.com/test_pong/test_pong_game\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\"\n2018-09-05T22:11:04.360509+00:00 app[web.1]: [2018-09-05 22:11:04 +0000] [9] [DEBUG] Closing connection.\n2018-09-05T22:11:04.365782+00:00 app[web.1]: [2018-09-05 22:11:04 +0000] [9] [DEBUG] GET /socket.io/\n2018-09-05T22:11:04.400864+00:00 app[web.1]: [2018-09-05 22:11:04 +0000] [9] [DEBUG] GET /socket.io/\n2018-09-05T22:11:04.422792+00:00 app[web.1]: 10.9.255.135 - - [05/Sep/2018:22:11:04 +0000] \"GET /socket.io/?EIO=3&amp;transport=polling&amp;t=1536185465722-2&amp;sid=bcd9d3c54362405a91a6ec22c4633c1c HTTP/1.1\" 200 4 \"http://www.nickdima.com/test_pong/test_pong_game\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\"\n2018-09-05T22:11:04.423589+00:00 app[web.1]: [2018-09-05 22:11:04 +0000] [9] [DEBUG] Closing connection.\n2018-09-05T22:11:04.312971+00:00 heroku[router]: at=info method=GET path= \"/socket.io/?EIO= 3&amp;transport= polling&amp;t=1536185465659-0\" host=www.nickdima.com request_id=89f6de3d-cfa2-41eb-879e-7aaba5052a60 fwd=\"71.206.187.35\" dyno=web.1 connect=0ms service=18ms status=200 bytes=419 protocol=http\n2018-09-05T22:11:04.357827+00:00 heroku[router]: at=info method=POST path= \"/socket.io/?EIO= 3&amp;transport= polling&amp;t= 1536185465714-1&amp;sid=bcd9d3c54362405a91a6ec22c4633c1c\" host=www.nickdima.com request_id=d9505e27-b0c9-49b0-9a2e-0ff31a832e7f fwd=\"71.206.187.35\" dyno=web.1 connect=0ms service=11ms status=200 bytes=260 protocol=http\n2018-09-05T22:11:04.422606+00:00 heroku[router]: at=info method=GET path= \"/socket.io/?EIO= 3&amp;transport= polling&amp;t= 1536185465722-2&amp;sid=bcd9d3c54362405a91a6ec22c4633c1c\" host=www.nickdima.com request_id=d0c37303-d208-4a27-967b-07c03162be1d fwd=\"71.206.187.35\" dyno=web.1 connect=1ms service=65ms status=200 bytes=254 protocol=http\n2018-09-05T22:11:03.937943+00:00 heroku[router]: at=info method=GET path=\"/test_pong/test_pong_game\" host=www.nickdima.com request_id=e489d0f1-4a9a-4854-8e11-a43134dae135 fwd=\"71.206.187.35\" dyno=web.1 connect=0ms service=9ms status=200 bytes=1184 protocol=http\n2018-09-05T22:12:25.105722+00:00 app[web.1]: [2018-09-05 22:12:25 +0000] [9] [DEBUG] Closing connection.\n2018-09-05T22:14:41.196614+00:00 app[web.1]: [2018-09-05 22:14:41 +0000] [9] [DEBUG] Closing connection.\n</code></pre>\n\n<p><strong>Notice the \"Hello Logs\", that is a separate python statement that prints when the page loads to ensure that I can print to heroku logs</strong></p>\n\n<p>pre-load logs:</p>\n\n<pre><code> chdir: /app/nickdima\n2018-09-05T22:38:29.417586+00:00 app[web.1]: daemon: False\n2018-09-05T22:38:29.417589+00:00 app[web.1]: pidfile: None\n2018-09-05T22:38:29.417592+00:00 app[web.1]: user: 5991\n2018-09-05T22:38:29.417593+00:00 app[web.1]: group: 5991\n2018-09-05T22:38:29.417588+00:00 app[web.1]: raw_env: []\n2018-09-05T22:38:29.417595+00:00 app[web.1]: umask: 0\n2018-09-05T22:38:29.417591+00:00 app[web.1]: worker_tmp_dir: None\n2018-09-05T22:38:29.417596+00:00 app[web.1]: initgroups: False\n2018-09-05T22:38:29.417598+00:00 app[web.1]: tmp_upload_dir: None\n2018-09-05T22:38:29.417606+00:00 app[web.1]: secure_scheme_headers: {'X-FORWARDED-PROTOCOL': 'ssl', 'X-FORWARDED-PROTO': 'https', 'X-FORWARDED-SSL': 'on'}\n2018-09-05T22:38:29.417608+00:00 app[web.1]: forwarded_allow_ips: ['*']\n2018-09-05T22:38:29.417609+00:00 app[web.1]: accesslog: -\n2018-09-05T22:38:29.417611+00:00 app[web.1]: disable_redirect_access_to_syslog: False\n2018-09-05T22:38:29.417616+00:00 app[web.1]: access_log_format: %(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\"\n2018-09-05T22:38:29.417618+00:00 app[web.1]: errorlog: -\n2018-09-05T22:38:29.417619+00:00 app[web.1]: loglevel: DEBUG\n2018-09-05T22:38:29.417620+00:00 app[web.1]: capture_output: False\n2018-09-05T22:38:29.417622+00:00 app[web.1]: logger_class: gunicorn.glogging.Logger\n2018-09-05T22:38:29.417623+00:00 app[web.1]: logconfig: None\n2018-09-05T22:38:29.417625+00:00 app[web.1]: logconfig_dict: {}\n2018-09-05T22:38:29.417626+00:00 app[web.1]: syslog_addr: udp://localhost:514\n2018-09-05T22:38:29.417627+00:00 app[web.1]: syslog: False\n2018-09-05T22:38:29.417629+00:00 app[web.1]: syslog_prefix: None\n2018-09-05T22:38:29.417630+00:00 app[web.1]: syslog_facility: user\n2018-09-05T22:38:29.417632+00:00 app[web.1]: enable_stdio_inheritance: False\n2018-09-05T22:38:29.417634+00:00 app[web.1]: statsd_prefix:\n2018-09-05T22:38:29.417636+00:00 app[web.1]: proc_name: None\n2018-09-05T22:38:29.417633+00:00 app[web.1]: statsd_host: None\n2018-09-05T22:38:29.417639+00:00 app[web.1]: pythonpath: None\n2018-09-05T22:38:29.417646+00:00 app[web.1]: on_starting: &lt;function OnStarting.on_starting at 0x7f9b84c2d1e0&gt;\n2018-09-05T22:38:29.417637+00:00 app[web.1]: default_proc_name: wsgi:app\n2018-09-05T22:38:29.417651+00:00 app[web.1]: pre_fork: &lt;function Prefork.pre_fork at 0x7f9b84c2d510&gt;\n2018-09-05T22:38:29.417640+00:00 app[web.1]: paste: None\n2018-09-05T22:38:29.417652+00:00 app[web.1]: post_fork: &lt;function Postfork.post_fork at 0x7f9b84c2d620&gt;\n2018-09-05T22:38:29.417648+00:00 app[web.1]: on_reload: &lt;function OnReload.on_reload at 0x7f9b84c2d2f0&gt;\n2018-09-05T22:38:29.417656+00:00 app[web.1]: worker_int: &lt;function WorkerInt.worker_int at 0x7f9b84c2d840&gt;\n2018-09-05T22:38:29.417649+00:00 app[web.1]: when_ready: &lt;function WhenReady.when_ready at 0x7f9b84c2d400&gt;\n2018-09-05T22:38:29.417657+00:00 app[web.1]: worker_abort: &lt;function WorkerAbort.worker_abort at 0x7f9b84c2d950&gt;\n2018-09-05T22:38:29.417658+00:00 app[web.1]: pre_exec: &lt;function PreExec.pre_exec at 0x7f9b84c2da60&gt;\n2018-09-05T22:38:29.417654+00:00 app[web.1]: post_worker_init: &lt;function PostWorkerInit.post_worker_init at 0x7f9b84c2d730&gt;\n2018-09-05T22:38:29.417660+00:00 app[web.1]: pre_request: &lt;function PreRequest.pre_request at 0x7f9b84c2db70&gt;\n2018-09-05T22:38:29.417666+00:00 app[web.1]: nworkers_changed: &lt;function NumWorkersChanged.nworkers_changed at 0x7f9b84c2df28&gt;\n2018-09-05T22:38:29.417664+00:00 app[web.1]: worker_exit: &lt;function WorkerExit.worker_exit at 0x7f9b84c2de18&gt;\n2018-09-05T22:38:29.417669+00:00 app[web.1]: proxy_protocol: False\n2018-09-05T22:38:29.417670+00:00 app[web.1]: proxy_allow_ips: ['127.0.0.1']\n2018-09-05T22:38:29.417661+00:00 app[web.1]: post_request: &lt;function PostRequest.post_request at 0x7f9b84c2dbf8&gt;\n2018-09-05T22:38:29.417663+00:00 app[web.1]: child_exit: &lt;function ChildExit.child_exit at 0x7f9b84c2dd08&gt;\n2018-09-05T22:38:29.417673+00:00 app[web.1]: certfile: None\n2018-09-05T22:38:29.417667+00:00 app[web.1]: on_exit: &lt;function OnExit.on_exit at 0x7f9b84cc00d0&gt;\n2018-09-05T22:38:29.417675+00:00 app[web.1]: ssl_version: 2\n2018-09-05T22:38:29.417677+00:00 app[web.1]: ca_certs: None\n2018-09-05T22:38:29.417680+00:00 app[web.1]: do_handshake_on_connect: False\n2018-09-05T22:38:29.417672+00:00 app[web.1]: keyfile: None\n2018-09-05T22:38:29.417760+00:00 app[web.1]: raw_paste_global_conf: []\n2018-09-05T22:38:29.417676+00:00 app[web.1]: cert_reqs: 0\n2018-09-05T22:38:29.417679+00:00 app[web.1]: suppress_ragged_eofs: True\n2018-09-05T22:38:29.417682+00:00 app[web.1]: ciphers: TLSv1\n2018-09-05T22:38:30.303852+00:00 app[web.1]: [2018-09-05 22:38:30 +0000] [4] [INFO] Starting gunicorn 19.9.0\n2018-09-05T22:38:30.304961+00:00 app[web.1]: [2018-09-05 22:38:30 +0000] [4] [DEBUG] Arbiter booted\n2018-09-05T22:38:30.305184+00:00 app[web.1]: [2018-09-05 22:38:30 +0000] [4] [INFO] Listening at: http://0.0.0.0:46524 (4)\n2018-09-05T22:38:30.305414+00:00 app[web.1]: [2018-09-05 22:38:30 +0000] [4] [INFO] Using worker: eventlet\n2018-09-05T22:38:30.313804+00:00 app[web.1]: [2018-09-05 22:38:30 +0000] [9] [INFO] Booting worker with pid: 9\n2018-09-05T22:38:30.361254+00:00 app[web.1]: [2018-09-05 22:38:30 +0000] [4] [DEBUG] 1 workers\n2018-09-05T22:38:30.851461+00:00 heroku[web.1]: State changed from starting to up\n2018-09-05T22:38:30.832213+00:00 app[web.1]: [2018-09-05 22:38:30 +0000] [9] [DEBUG] Closing connection.\n2018-09-05T22:38:30.833331+00:00 app[web.1]: [2018-09-05 22:38:30 +0000] [9] [DEBUG] Closing connection.\n</code></pre>\n"}, {"tags": ["python", "math", "floating-point", "keras", "precision"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1536186112, "post_id": 52194039, "comment_id": 91337956, "body": "The difference is in how the values are rounded for display, most likely."}, {"owner": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 0, "creation_date": 1536189654, "post_id": 52194039, "comment_id": 91338717, "body": "Either how the values are formatted for display or the first values are computed with \u201cdouble\u201d precision (64-bit floating-point) while the second values are computed with \u201cfloat\u201d/\u201csingle\u201d precision (32-bit)."}], "owner": {"reputation": 177, "user_id": 9545065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMVJT.jpg?s=128&g=1", "display_name": "Marcello", "link": "https://stackoverflow.com/users/9545065/marcello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536185702, "creation_date": 1536185702, "question_id": 52194039, "link": "https://stackoverflow.com/questions/52194039/keras-elementwise-variable-multiplication-error", "title": "Keras elementwise variable multiplication error?", "body": "<p>I am experimenting with Keras variable to build a custom loss function and I stumbled in a strange behavior.\nLet's take this elementwise operation in np.arrays</p>\n\n<pre><code>np_yt = np.arange(10)/10\nnp_yw = np.arange(10)\nnp_yt * np_yw\n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>array([0. , 0.1, 0.4, 0.9, 1.6, 2.5, 3.6, 4.9, 6.4, 8.1])\n</code></pre>\n\n<p>I try to do the same with Keras variables</p>\n\n<pre><code>yt = K.variable(np.arange(10)/10)\nyw = K.variable(np.arange(10))\nK.eval( yt*yw )\n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>array([0.        , 0.1       , 0.4       , 0.90000004, 1.6       ,\n       2.5       , 3.6000001 , 4.9       , 6.4       , 8.099999  ],\n      dtype=float32)\n</code></pre>\n\n<p>There is apparently a significant rounding error.\nMy question is: is this expected, like e.g. explained in \n<a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken/16082201#16082201\">Is floating point math broken?</a> ?\nBut if so, why this happens with Keras and not in plain numpy? Is floating point binary representation different in the two cases?</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1536185770, "last_edit_date": 1536185770, "creation_date": 1536185571, "answer_id": 52194026, "question_id": 52193985, "link": "https://stackoverflow.com/questions/52193985/django-modelmanager/52194026#52194026", "title": "Django: ModelManager", "body": "<p>You forgot <code>self</code> in your method definition.</p>\n\n<p>Because of this, Python treated your <code>order_reference</code> parameter as the <code>self</code> parameter (because its name doesn't make any difference and the name <code>self</code> is only a convention), so Python thought your method didn't take any additional parameters and raised an exception when you tried to call it with parameters.</p>\n\n<p>Your class definition should be like this:</p>\n\n<pre><code>class ReservedItemManager(models.Manager):\n    def delete(self, order_reference):  # &lt;-- note `self` here\n        super().get_queryset().filter(order_reference=order_reference).delete()\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9252255"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536185770, "creation_date": 1536185289, "question_id": 52193985, "link": "https://stackoverflow.com/questions/52193985/django-modelmanager", "title": "Django: ModelManager", "body": "<p>I created a model manager that should delete the entry. I always receive the error <code>delete() takes 1 positional argument but 2 were given</code>. Can anyone explain to me why I get this message?</p>\n\n<p>view.py</p>\n\n<pre><code>ReservedItem.objects.delete(order_reference)\n</code></pre>\n\n<p>models.py</p>\n\n<pre><code>class ReservedItemManager(models.Manager):\n    def delete(order_reference):\n\n    super().get_queryset().filter(order_reference=order_reference).delete()\n</code></pre>\n"}, {"tags": ["python", "regex", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 601, "user_id": 9058096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49044ab07fe9808b72ce58dcc999adcd?s=128&d=identicon&r=PG&f=1", "display_name": "Cupcake Protocol", "link": "https://stackoverflow.com/users/9058096/cupcake-protocol"}, "edited": false, "score": 3, "creation_date": 1536185305, "post_id": 52193943, "comment_id": 91337734, "body": "Probably missing white space at the end of the actual data."}, {"owner": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "reply_to_user": {"reputation": 601, "user_id": 9058096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49044ab07fe9808b72ce58dcc999adcd?s=128&d=identicon&r=PG&f=1", "display_name": "Cupcake Protocol", "link": "https://stackoverflow.com/users/9058096/cupcake-protocol"}, "edited": false, "score": 0, "creation_date": 1536185385, "post_id": 52193943, "comment_id": 91337756, "body": "Now I feel dumb, it was actually that, sorry for not checking that first. My bad"}], "answers": [{"tags": [], "owner": {"reputation": 3689, "user_id": 8208006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWbyN.jpg?s=128&g=1", "display_name": "Naga kiran", "link": "https://stackoverflow.com/users/8208006/naga-kiran"}, "is_accepted": false, "score": 0, "last_activity_date": 1536216990, "creation_date": 1536216990, "answer_id": 52198161, "question_id": 52193943, "link": "https://stackoverflow.com/questions/52193943/use-regex-to-change-values-of-a-column-conditionally-in-pandas/52198161#52198161", "title": "Use Regex to change values of a column conditionally in pandas", "body": "<p>You can try the same condition by interchanging the position of 'o' and 'os'. Default the condition taking first possibility and replacing the string.</p>\n\n<pre><code>df.Criterion.apply(lambda x: re.sub(r'Nunca Fiscalizad(o|os)','Nunca Fiscalizados',x))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>0    Nunca Fiscalizadoss Y Renuevan Convenio\n1                        Nunca Fiscalizadoss\n2                         Nunca Fiscalizados\n3                                     Others\n</code></pre>\n\n<p>with regex</p>\n\n<pre><code>df.Criterion.apply(lambda x: re.sub(r'Nunca Fiscalizad(os|o)','Nunca Fiscalizados',x))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>0    Nunca Fiscalizados Y Renuevan Convenio\n1                        Nunca Fiscalizados\n2                        Nunca Fiscalizados\n3                                    Others\n</code></pre>\n"}], "owner": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536216990, "creation_date": 1536185009, "question_id": 52193943, "link": "https://stackoverflow.com/questions/52193943/use-regex-to-change-values-of-a-column-conditionally-in-pandas", "title": "Use Regex to change values of a column conditionally in pandas", "body": "<p>I've got a very simple question: \nI've got a <code>DataFrame</code>, from which one of its columns is called Criterion. That column takes string values, which are:</p>\n\n<pre><code>df.Criterion.unique()\n\nNunca Fiscalizados Y Renuevan Convenio\nNunca Fiscalizados\nNunca Fiscalizado\nOthers\n</code></pre>\n\n<p>I want to merge <code>Nunca Fiscalizado</code> and <code>Nunca Fiscalizados</code> into just <code>Nunca Fiscalizados</code>.</p>\n\n<p>I was thinking something along the lines of:</p>\n\n<pre><code>df['Criterion']=df['Criterion'].str.replace('Nunca Fiscalizad(o|os)$','Nunca Fiscalizados')\n</code></pre>\n\n<p>I thought that should do it, but that brings no change.\nIf I drop the <code>$</code>, I get:</p>\n\n<pre><code>df.Criterion.unique()\n\nNunca Fiscalizadoss Y Renuevan Convenio\nNunca Fiscalizadoss\nNunca Fiscalizado\nOthers\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python", "discord", "discord.py"], "answers": [{"tags": [], "owner": {"reputation": 897, "user_id": 7653274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea47e296dbaefc1a0ff7789d9170c028?s=128&d=identicon&r=PG&f=1", "display_name": "MCO", "link": "https://stackoverflow.com/users/7653274/mco"}, "is_accepted": true, "score": 1, "last_activity_date": 1536185953, "last_edit_date": 1592644375, "creation_date": 1536185953, "answer_id": 52194080, "question_id": 52193942, "link": "https://stackoverflow.com/questions/52193942/error-on-music-discord-bot-in-python-nonetype-object-has-no-attribute-create/52194080#52194080", "title": "Error on music discord bot in python &#39;NoneType&#39; object has no attribute &#39;create_ytdl_player&#39;", "body": "<p>the error tells us that <code>client</code> is None. why? let's look at the <a href=\"https://discordpy.readthedocs.io/en/latest/api.html?highlight=voice_client_in#discord.Client.voice_client_in\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p><strong>voice_client_in(server)</strong></p>\n<p>Returns the voice client associated with a server.\nIf no voice client is found then None is returned.</p>\n</blockquote>\n<p>Checking the cocs briefly, i assume you have to create the voiceclient first, if it doesn't exist yet. this can be done with <a href=\"https://discordpy.readthedocs.io/en/latest/api.html?highlight=voice_client_in#discord.Client.join_voice_channel\" rel=\"nofollow noreferrer\">Client.join_voice_channel</a>.</p>\n"}], "owner": {"reputation": 13, "user_id": 9632417, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kgb_gMcTYOo/AAAAAAAAAAI/AAAAAAAAAzk/622rU7ag_rk/photo.jpg?sz=128", "display_name": "Sven Broekhof", "link": "https://stackoverflow.com/users/9632417/sven-broekhof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3742, "favorite_count": 0, "accepted_answer_id": 52194080, "answer_count": 1, "score": 0, "last_activity_date": 1536185953, "creation_date": 1536185007, "question_id": 52193942, "link": "https://stackoverflow.com/questions/52193942/error-on-music-discord-bot-in-python-nonetype-object-has-no-attribute-create", "title": "Error on music discord bot in python &#39;NoneType&#39; object has no attribute &#39;create_ytdl_player&#39;", "body": "<p>When ever i run this code:</p>\n\n<pre><code>@client.command(pass_context=True)\nasync def ranjaplay(ctx, url):\n    server = ctx.message.server\n    voice_client = client.voice_client_in(server)\n    player = await voice_client.create_ytdl_player(url)\n    players[server.id] = player\n    player.start()     \n</code></pre>\n\n<p>it returns with this error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site- \npackages\\discord\\ext\\commands\\bot.py\", line 846, in process_commands\nyield from command.invoke(ctx)\nFile \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site- \npackages\\discord\\ext\\commands\\core.py\", line 374, in invoke\nyield from injected(*ctx.args, **ctx.kwargs)\nFile \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site- \npackages\\discord\\ext\\commands\\core.py\", line 54, in wrapped\nraise CommandInvokeError(e) from e\ndiscord.ext.commands.errors.CommandInvokeError: Command raised an exception: AttributeError: 'NoneType' object has no attribute 'create_ytdl_player'\n</code></pre>\n\n<p>Please help me fix this </p>\n"}, {"tags": ["python", "docker", "pip"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 1, "creation_date": 1536185222, "post_id": 52193937, "comment_id": 91337711, "body": "Your Dockerfile is incomplete.  Where&#39;s the <code>FROM</code> line?"}, {"owner": {"reputation": 897, "user_id": 7653274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea47e296dbaefc1a0ff7789d9170c028?s=128&d=identicon&r=PG&f=1", "display_name": "MCO", "link": "https://stackoverflow.com/users/7653274/mco"}, "edited": false, "score": 1, "creation_date": 1536185236, "post_id": 52193937, "comment_id": 91337716, "body": "on my system, this command (<code>x86_64-linux-gnu-gcc</code>) is part of the <code>gcc</code> package; is it installed correctly?"}, {"owner": {"reputation": 64542, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "edited": false, "score": 1, "creation_date": 1536188027, "post_id": 52193937, "comment_id": 91338415, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33315210/error-command-x86-64-linux-gnu-gcc-when-installing-mysqlclient\">error: command &#39;x86_64-linux-gnu-gcc&#39; when installing mysqlclient</a>"}, {"owner": {"reputation": 3408, "user_id": 1576804, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1d8c02f1526bc8baeb2fd08b8b82f772?s=128&d=identicon&r=PG", "display_name": "vkaul11", "link": "https://stackoverflow.com/users/1576804/vkaul11"}, "edited": false, "score": 0, "creation_date": 1536194045, "post_id": 52193937, "comment_id": 91339512, "body": "FROM ubuntu:16.04 is what I had sorry but build_essential did the trick"}], "answers": [{"comments": [{"owner": {"reputation": 3408, "user_id": 1576804, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1d8c02f1526bc8baeb2fd08b8b82f772?s=128&d=identicon&r=PG", "display_name": "vkaul11", "link": "https://stackoverflow.com/users/1576804/vkaul11"}, "edited": false, "score": 0, "creation_date": 1536188589, "post_id": 52194021, "comment_id": 91338523, "body": "Thank you very much for your answer."}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1536192126, "post_id": 52194021, "comment_id": 91339164, "body": "This is how to say &quot;thanks&quot; in SO speak: <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 332, "user_id": 4317857, "user_type": "registered", "profile_image": "https://graph.facebook.com/658593035/picture?type=large", "display_name": "Nikolay Markov", "link": "https://stackoverflow.com/users/4317857/nikolay-markov"}, "is_accepted": true, "score": 5, "last_activity_date": 1536185545, "creation_date": 1536185545, "answer_id": 52194021, "question_id": 52193937, "link": "https://stackoverflow.com/questions/52193937/pip-install-mysqlclient-fails-on-ubuntu-with-python-2-7-on-docker/52194021#52194021", "title": "pip install mysqlclient fails on Ubuntu with python 2.7 on docker", "body": "<p>Add <code>build-essential</code> to the apt-get install package list.</p>\n\n<p>It seems that your base image is very basic, and does not have <code>gcc</code> installed, so you cannot compile anything.</p>\n"}], "owner": {"reputation": 3408, "user_id": 1576804, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1d8c02f1526bc8baeb2fd08b8b82f772?s=128&d=identicon&r=PG", "display_name": "vkaul11", "link": "https://stackoverflow.com/users/1576804/vkaul11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1280, "favorite_count": 0, "accepted_answer_id": 52194021, "answer_count": 1, "score": 1, "last_activity_date": 1536185545, "creation_date": 1536184984, "question_id": 52193937, "link": "https://stackoverflow.com/questions/52193937/pip-install-mysqlclient-fails-on-ubuntu-with-python-2-7-on-docker", "title": "pip install mysqlclient fails on Ubuntu with python 2.7 on docker", "body": "<p>When I ran the docker file code below</p>\n\n<pre><code>RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends \\\n        ca-certificates \\\n        vim \\\n        git \\\n        python \\\n        python-pip \\\n        curl \\\n        wget \\\n        lsof \\\n        libmysqlclient-dev \\\n        python-dev \\\n        &amp;&amp; \\\n    apt-get clean &amp;&amp; \\\n    rm -rf /var/lib/apt/lists/*\n\n#PYTHON requirements\n\nENV HTTPS_PROXY \"https://gec-proxy-svr.homeoffice.wal-mart.com:8080/\"\n\nRUN python --version\nRUN pip install pip --upgrade\nRUN pip install  setuptools\nRUN pip install setuptools --upgrade\nRUN pip install git+https://github.com/PyMySQL/mysqlclient-python.git\nRUN pip install -r requirements.txt\n</code></pre>\n\n<p>I got this error    </p>\n\n<pre><code>Running setup.py install for mysqlclient: finished with status 'error'\n        Complete output from command /usr/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-req-build-LIEfN7/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-OFwDUp/install-record.txt --single-version-externally-managed --compile:\n        running install\n        running build\n        running build_py\n        creating build\n        creating build/lib.linux-x86_64-2.7\n        copying _mysql_exceptions.py -&gt; build/lib.linux-x86_64-2.7\n        creating build/lib.linux-x86_64-2.7/MySQLdb\n        copying MySQLdb/__init__.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb\n        copying MySQLdb/compat.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb\n        copying MySQLdb/connections.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb\n        copying MySQLdb/converters.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb\n        copying MySQLdb/cursors.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb\n        copying MySQLdb/release.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb\n        copying MySQLdb/times.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb\n        creating build/lib.linux-x86_64-2.7/MySQLdb/constants\n        copying MySQLdb/constants/__init__.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb/constants\n        copying MySQLdb/constants/CLIENT.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb/constants\n        copying MySQLdb/constants/CR.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb/constants\n        copying MySQLdb/constants/ER.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb/constants\n        copying MySQLdb/constants/FIELD_TYPE.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb/constants\n        copying MySQLdb/constants/FLAG.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb/constants\n        copying MySQLdb/constants/REFRESH.py -&gt; build/lib.linux-x86_64-2.7/MySQLdb/constants\n        running build_ext\n        building '_mysql' extension\n        creating build/temp.linux-x86_64-2.7\n        x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fno-strict-aliasing -Wdate-time -D_FORTIFY_SOURCE=2 -g -fstack-protector-strong -Wformat -Werror=format-security -fPIC -Dversion_info=(1,3,13,'final',0) -D__version__=1.3.13 -I/usr/include/mysql -I/usr/include/python2.7 -c _mysql.c -o build/temp.linux-x86_64-2.7/_mysql.o\n        unable to execute 'x86_64-linux-gnu-gcc': No such file or directory\n        error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n\n        ----------------------------------------\n    Command \"/usr/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-req-build-LIEfN7/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-OFwDUp/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-req-build-LIEfN7/\n</code></pre>\n\n<p>I tried installing  libmysqlclient-dev and python-dev through apt-get update but it does not seem to address the issue. </p>\n"}, {"tags": ["python", "excel", "openpyxl"], "comments": [{"owner": {"reputation": 657, "user_id": 8596297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15ea6ae41503996e47d8d8f3d2357081?s=128&d=identicon&r=PG&f=1", "display_name": "HaR", "link": "https://stackoverflow.com/users/8596297/har"}, "edited": false, "score": 0, "creation_date": 1536331173, "post_id": 52193873, "comment_id": 91398698, "body": "And what is arv[1] supposed to contain? A path to the workbook? Type into the terminal <code>argv[1]</code> and see if it returns anything... Post in the comments what  <code>argv[1]</code> returns"}, {"owner": {"reputation": 504, "user_id": 4002866, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1684939155073483/picture?type=large", "display_name": "Muhammad Asif Javed", "link": "https://stackoverflow.com/users/4002866/muhammad-asif-javed"}, "reply_to_user": {"reputation": 657, "user_id": 8596297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15ea6ae41503996e47d8d8f3d2357081?s=128&d=identicon&r=PG&f=1", "display_name": "HaR", "link": "https://stackoverflow.com/users/8596297/har"}, "edited": false, "score": 0, "creation_date": 1536525925, "post_id": 52193873, "comment_id": 91444997, "body": "It contains the xlsx file path i.e &#39;/home/demo.xlsx&#39;.  here it the sample file that is throwing this error <a href=\"https://expirebox.com/download/884826afdc27a8a391f253a0d5dc7fe7.html\" rel=\"nofollow noreferrer\">expirebox.com/download/884826afdc27a8a391f253a0d5dc7fe7.html</a>"}, {"owner": {"reputation": 657, "user_id": 8596297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15ea6ae41503996e47d8d8f3d2357081?s=128&d=identicon&r=PG&f=1", "display_name": "HaR", "link": "https://stackoverflow.com/users/8596297/har"}, "edited": false, "score": 0, "creation_date": 1536559335, "post_id": 52193873, "comment_id": 91451170, "body": "Are you sure the xlsx file is actually available in the root of the .exe?"}], "owner": {"reputation": 504, "user_id": 4002866, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1684939155073483/picture?type=large", "display_name": "Muhammad Asif Javed", "link": "https://stackoverflow.com/users/4002866/muhammad-asif-javed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536355705, "creation_date": 1536184505, "last_edit_date": 1536355705, "question_id": 52193873, "link": "https://stackoverflow.com/questions/52193873/not-able-to-load-workbook-using-openpyxl", "title": "Not able to load workbook using openpyxl", "body": "<p>Here is the code that i am using to load workbook:\n<code>\nimport openpyxl\nfrom sys import argv\ngenreUri = argv[1]\ngenre = openpyxl.load_workbook(genreUri)\n</code></p>\n\n<p>Above code throw this error.</p>\n\n<pre><code> Traceback (most recent call last):\n  File \"/Users/Chaudhary/projects/genre/backend/utils/openpyxl/cell.py\", line 26, in &lt;module&gt;\n    genre = openpyxl.load_workbook(genreUri)\n  File \"/usr/local/lib/python2.7/site-packages/openpyxl/reader/excel.py\", line 251, in load_workbook\n    ws_parser.parse()\n  File \"/usr/local/lib/python2.7/site-packages/openpyxl/reader/worksheet.py\", line 130, in parse\n    dispatcher[tag_name](element)\n  File \"/usr/local/lib/python2.7/site-packages/openpyxl/reader/worksheet.py\", line 304, in parse_sheet_protection\n    self.ws.protection = SheetProtection.from_tree(element)\n  File \"/usr/local/lib/python2.7/site-packages/openpyxl/descriptors/serialisable.py\", line 100, in from_tree\n    return cls(**attrib)\nTypeError: __init__() got an unexpected keyword argument 'undefined'\n</code></pre>\n"}, {"tags": ["python", "animation", "matplotlib"], "comments": [{"owner": {"reputation": 251, "user_id": 7108075, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/40fd249a3100b8de964feab6ed38a192?s=128&d=identicon&r=PG&f=1", "display_name": "888", "link": "https://stackoverflow.com/users/7108075/888"}, "edited": false, "score": 0, "creation_date": 1536185080, "post_id": 52193852, "comment_id": 91337676, "body": "I have figured out how to scale the data with <code>ax.relim()</code> and <code>ax.autoscale_view()</code>, but the ticks do not change."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1536185221, "post_id": 52193852, "comment_id": 91337709, "body": "If you want to change the plot limits (e.g. via <code>ax.relim()</code> and <code>ax.autoscale_view()</code>)  you need to redraw the axes. This is prevented by <code>blit=True</code>. Blitting only makes sense if you want to redraw a limited portion of your figure. Set <code>blit=False</code> to update the complete canvas and with it the axes scales."}, {"owner": {"reputation": 251, "user_id": 7108075, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/40fd249a3100b8de964feab6ed38a192?s=128&d=identicon&r=PG&f=1", "display_name": "888", "link": "https://stackoverflow.com/users/7108075/888"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1536185908, "post_id": 52193852, "comment_id": 91337909, "body": "@ImportanceOfBeingErnest Thanks, but turning off blitting hurts performance so much my fan kicks on. Is there a way to update the ticks without causing such a large drop in performance?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1536186236, "post_id": 52193852, "comment_id": 91337985, "body": "Do you not observe an equally large drop in performance already when using <code>ax.relim() and ax.autoscale_view()</code>? I guess you can write a custom function to blit the axes as well, but of course the larger the area to blit the closer it gets to redrawing everything."}, {"owner": {"reputation": 251, "user_id": 7108075, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/40fd249a3100b8de964feab6ed38a192?s=128&d=identicon&r=PG&f=1", "display_name": "888", "link": "https://stackoverflow.com/users/7108075/888"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1536186302, "post_id": 52193852, "comment_id": 91338008, "body": "My CPU usage stays at around 15% when using blitting, and jumps up to around 40% with blitting turned off. Where can I figure out how to scale the axes while keeping my laptop cool?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1536187167, "post_id": 52193852, "comment_id": 91338216, "body": "Let me put it like this: Matplotlib does not provide any means to blit the axes. But you may write a custom function that does. You would start by understanding the blitting mechanism and looking around for examples that use manual blitting (e.g. <a href=\"https://stackoverflow.com/questions/40126176/fast-live-plotting-in-matplotlib-pyplot\">this one</a>). You may then extend this to use a larger bounding box. However I still have the feeling that once you blit the axes performance would equally drop. One would need to do it in order to find out."}, {"owner": {"reputation": 251, "user_id": 7108075, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/40fd249a3100b8de964feab6ed38a192?s=128&d=identicon&r=PG&f=1", "display_name": "888", "link": "https://stackoverflow.com/users/7108075/888"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1536187746, "post_id": 52193852, "comment_id": 91338371, "body": "Okay, thank you for the help! I don&#39;t think I&#39;m skilled enough to do that, so I&#39;ll look for a different library for liveplotting."}], "owner": {"reputation": 251, "user_id": 7108075, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/40fd249a3100b8de964feab6ed38a192?s=128&d=identicon&r=PG&f=1", "display_name": "888", "link": "https://stackoverflow.com/users/7108075/888"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2114, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1548600637, "creation_date": 1536184386, "question_id": 52193852, "link": "https://stackoverflow.com/questions/52193852/how-can-i-autoscale-an-animated-plot-with-pyplot", "title": "How can I autoscale an animated plot with pyplot?", "body": "<p>I have the following code that generates an animated plot:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\n\nx = []\ny = []\nt = 0\n\nfig, ax = plt.subplots()\nline, = ax.plot([0,0])\n\nax.set_ylim((-2,2))\nax.set_xlim((0,10))\n\ndef animate(i):\n    global x,y,t\n    line.set_ydata(y)\n    line.set_xdata(x)\n    x.append(t)\n    y.append(np.sin(t))\n    t += 0.05\n    return line,\n\n\ndef init():\n    line.set_ydata(np.ma.array(x, mask=True))\n    return line,\n\nani = animation.FuncAnimation(fig, animate, np.arange(1, 200), init_func=init, interval=25, blit=True)\nplt.show()\n</code></pre>\n\n<p>How can I make it so that the plot is scaled to fit the data? I would like the axes and scale to automatically adjust. </p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "edited": false, "score": 0, "creation_date": 1536272083, "post_id": 52194025, "comment_id": 91375008, "body": "Are there any specific advantages or disadvantages to each method?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "edited": false, "score": 0, "creation_date": 1536273239, "post_id": 52194025, "comment_id": 91375359, "body": "@RonZhang: not really, other than the use of frames means you have more widgets. I don&#39;t see that as a big deal."}, {"owner": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "edited": false, "score": 0, "creation_date": 1536274207, "post_id": 52194025, "comment_id": 91375591, "body": "Some potential disadvantages/advantages may arise when certain pieces of additional code cannot be written in certain occasions. At the moment, I assume that all of the pieces of code are pretty much the same besides having more widgets, but I am not quite sure if it really has purely no problematic difference besides number of widgets. Would you like to verify to me whether you have identified any potential issues with addition of certain pieces of other code between using an invisible image and a frame?"}, {"owner": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "edited": false, "score": 0, "creation_date": 1536274537, "post_id": 52194025, "comment_id": 91375662, "body": "One potential disadvantage I have potentially identified for the invisible image example could be that I might not be able to put both invisible images and non-invisible images at the same button, isn&#39;t it? I haven&#39;t tested it, but nevertheless I&#39;d be truly interested to know the advantages/disadvantages of each method."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "edited": false, "score": 0, "creation_date": 1536277548, "post_id": 52194025, "comment_id": 91376348, "body": "@RonZhang: if you need a non-invisible image, you don&#39;t need an invisible image. You just need an image."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "edited": false, "score": 0, "creation_date": 1536277708, "post_id": 52194025, "comment_id": 91376386, "body": "@RonZhang <i>&quot;I am not quite sure if it really has purely no problematic difference besides number of widgets&quot;</i> - there really are no big problematic differences."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 3, "last_activity_date": 1536185553, "creation_date": 1536185553, "answer_id": 52194025, "question_id": 52193777, "link": "https://stackoverflow.com/questions/52193777/pixel-widths-and-heights-of-buttons/52194025#52194025", "title": "Pixel widths and heights of buttons?", "body": "<p>If the button has an image, the width and height are in pixels. If it doesn't have an image, the width and height are in the number of characters based on the size of the character \"0\" (zero) of the font that the button is using. If it has both an image and text, the values are in pixels.  </p>\n\n<h2>Using an invisible image</h2>\n\n<p>One solution is to give it an invisible image so that the attributes are treated as pixels. The buttons still won't be that exact size because of the extra decorations such as the border and highlight ring. If you want a precise size, you'll need to set those options to zero as well, or adjust the width to account for the border widths. </p>\n\n<p>Example:</p>\n\n<pre><code>from tkinter import *\nimport tkinter as tk\n\nroot = tk.Tk()\nroot.geometry(\"960x600\")\n\nnull_image = tk.PhotoImage(width=0, height=0)\n\nbutton_qwer = Button(root, text=\"asdfasdf\", width=\"10\", height=\"10\",\n                     image=null_image, compound=\"center\", borderwidth=0,\n                     highlightthickness=0, padx=0, pady=0)\nbutton_asdf = Button(root, text=\"asdfasdf\", width=\"20\", height=\"20\",\n                     image=null_image, compound=\"center\", borderwidth=0,\n                     highlightthickness=0, padx=0, pady=0)\nbutton_zxcv = Button(root, text=\"asdfasdf\", width=\"30\", height=\"30\",\n                     image=null_image, compound=\"center\", borderwidth=0,\n                     highlightthickness=0, padx=0, pady=0)\n\nbutton_qwer.grid(row=0, column=0)\nbutton_asdf.grid(row=0, column=1)\nbutton_zxcv.grid(row=0, column=2)\n\nroot.mainloop()\n</code></pre>\n\n<h2>Using a frame</h2>\n\n<p>Another solution would be to create a frame with a specific size, and then use <code>place</code> to put the button in the frame such that it fills the frame.</p>\n\n<p>Example:</p>\n\n<pre><code>from tkinter import *\nimport tkinter as tk\n\nroot = tk.Tk()\nroot.geometry(\"960x600\")\n\nf1 = tk.Frame(root, width=10, height=10)\nf2 = tk.Frame(root, width=20, height=20)\nf3 = tk.Frame(root, width=30, height=30)\n\nf1.grid(row=0, column=0)\nf2.grid(row=0, column=1)\nf3.grid(row=0, column=2)\n\nbutton_qwer = Button(f1, text=\"asdfasdf\")\nbutton_asdf = Button(f2, text=\"asdfasdf\")\nbutton_zxcv = Button(f3, text=\"asdfasdf\")\n\nbutton_qwer.place(x=0, y=0, relwidth=1, relheight=1)\nbutton_asdf.place(x=0, y=0, relwidth=1, relheight=1)\nbutton_zxcv.place(x=0, y=0, relwidth=1, relheight=1)\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 1, "accepted_answer_id": 52194025, "answer_count": 1, "score": 1, "last_activity_date": 1536185553, "creation_date": 1536183938, "question_id": 52193777, "link": "https://stackoverflow.com/questions/52193777/pixel-widths-and-heights-of-buttons", "title": "Pixel widths and heights of buttons?", "body": "<p>In my Tkinter program, I have experimented a way to expand the size of a button in Python. When I tried these \"width\" and \"height\" stuff, all I got is something that looks really messy, possibly referring to just the widths and heights in terms of size of the font. And when I tried to add \"px\" to the ends of each number, I just get an error. How do I adjust the size of a button in pixels?</p>\n\n<p>Here is my current code.</p>\n\n<pre><code>from tkinter import *\nimport tkinter as tk\n\nroot = tk.Tk()\nroot.geometry(\"960x600\")\n\nbutton_qwer = Button(root, text=\"asdfasdf\", width=\"10\", height=\"10\")\nbutton_asdf = Button(root, text=\"asdfasdf\", width=\"20\", height=\"20\")\nbutton_zxcv = Button(root, text=\"asdfasdf\", width=\"30\", height=\"30\")\n\nbutton_qwer.grid(row=0, column=0)\nbutton_asdf.grid(row=0, column=1)\nbutton_zxcv.grid(row=0, column=2)\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "json", "api"], "comments": [{"owner": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "edited": false, "score": 0, "creation_date": 1536184170, "post_id": 52193776, "comment_id": 91337404, "body": "You mean the host your script is running on, or proxy6.net? And do you expect a port other than 443?"}, {"owner": {"reputation": 815, "user_id": 8749168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9de0369d344b9fcee5cd586545eeb109?s=128&d=identicon&r=PG&f=1", "display_name": "Wade", "link": "https://stackoverflow.com/users/8749168/wade"}, "edited": false, "score": 1, "creation_date": 1536184196, "post_id": 52193776, "comment_id": 91337414, "body": "Can you post what the output of the request is? It is good that you have excluded the API key from the code, but without it the example can not be reproduced."}, {"owner": {"reputation": 33, "user_id": 7257572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6825d37cf1df233345917414b0995c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanity", "link": "https://stackoverflow.com/users/7257572/vanity"}, "edited": false, "score": 0, "creation_date": 1536184470, "post_id": 52193776, "comment_id": 91337499, "body": "<code>{&quot;status&quot;:&quot;yes&quot;,&quot;user_id&quot;:&quot;xx&quot;,&quot;balance&quot;:&quot;xx&quot;,&quot;currency&quot;:&quot;xx&zwnj;&#8203;&quot;,&quot;list_count&quot;:1,&quot;li&zwnj;&#8203;st&quot;:{&quot;xx&quot;:{&quot;id&quot;:&quot;xx&quot;&zwnj;&#8203;,&quot;version&quot;:&quot;x,&quot;ip&quot;:&quot;&zwnj;&#8203;xx&quot;,&quot;host&quot;:&quot;xx&quot;,&quot;por&zwnj;&#8203;t&quot;:xx&quot;,&quot;user&quot;:&quot;xx&quot;,&quot;&zwnj;&#8203;pass&quot;:&quot;xx&quot;,&quot;type&quot;:&quot;s&zwnj;&#8203;ocks&quot;,&quot;country&quot;:&quot;us&quot;&zwnj;&#8203;,&quot;date&quot;:&quot;2018-09-05 22:00:22&quot;,&quot;date_end&quot;:&quot;2018-10-05 22:00:22&quot;,&quot;unixtime&quot;:1536174022,&quot;unixtime_end&quot;:1538766022,&quot;d&zwnj;&#8203;escr&quot;:&quot;88&quot;,&quot;active&quot;:&zwnj;&#8203;&quot;1&quot;}}}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7257572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6825d37cf1df233345917414b0995c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanity", "link": "https://stackoverflow.com/users/7257572/vanity"}, "edited": false, "score": 0, "creation_date": 1536184683, "post_id": 52193827, "comment_id": 91337566, "body": "Alright, getting this back:  <code>(u&#39;168.235.xx.xx&#39;, u&#39;23xxx&#39;)</code> Will there be a way to extract those too and implement it into another post request?"}, {"owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "reply_to_user": {"reputation": 33, "user_id": 7257572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6825d37cf1df233345917414b0995c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanity", "link": "https://stackoverflow.com/users/7257572/vanity"}, "edited": false, "score": 0, "creation_date": 1536184873, "post_id": 52193827, "comment_id": 91337618, "body": "I assumed you&#39;re using Python 3 (which you really should btw), in Python 2 you should omit the parentheses in the <code>print</code> statement and you&#39;ll get the output you want."}, {"owner": {"reputation": 33, "user_id": 7257572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6825d37cf1df233345917414b0995c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanity", "link": "https://stackoverflow.com/users/7257572/vanity"}, "edited": false, "score": 0, "creation_date": 1536185082, "post_id": 52193827, "comment_id": 91337678, "body": "Using Python 2. Thanks a lot for your help. I&#39;ll now try to implement it with the second piece of code I have (trying to link 2 APIs)"}, {"owner": {"reputation": 33, "user_id": 7257572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6825d37cf1df233345917414b0995c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanity", "link": "https://stackoverflow.com/users/7257572/vanity"}, "edited": false, "score": 0, "creation_date": 1536185662, "post_id": 52193827, "comment_id": 91337842, "body": "Thanks. This is the piece of code I have for my other API I want to make the link with.  <code>payload = &quot;{\\n\\t\\&quot;generateZeroFingerprintsData\\&quot;: true,\\n    \\&quot;name\\&quot;: \\&quot;descr\\&quot;,\\n     </code>  Removed a whole part, but I would like here, for example, to set the name to what I defined with descr. I don&#39;t recognize the format of it tho, which kind of blocks me."}, {"owner": {"reputation": 33, "user_id": 7257572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6825d37cf1df233345917414b0995c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanity", "link": "https://stackoverflow.com/users/7257572/vanity"}, "edited": false, "score": 0, "creation_date": 1536187552, "post_id": 52193827, "comment_id": 91338323, "body": "Might need help on that one also, it seems that it&#39;s a format issue. Trying to do it this way <code>\\&quot;name\\&quot;: \\&quot;&quot;descr()&quot;\\&quot;</code> but it says invalid syntax."}], "tags": [], "owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "is_accepted": true, "score": 1, "last_activity_date": 1536184912, "last_edit_date": 1536184912, "creation_date": 1536184205, "answer_id": 52193827, "question_id": 52193776, "link": "https://stackoverflow.com/questions/52193776/extract-part-of-json-response-in-python/52193827#52193827", "title": "Extract part of JSON response in Python", "body": "<pre><code>response = requests.request(...)\ndata = response.json()\nfor value in data['list'].values():\n    host = value['host']\n    port = value['port']\n\n    print host, port  # OP uses Python 2\n\n    break\nelse:  # we didn't break, which means data['list'] was empty\n    raise RuntimeError('Empty list')\n\nresponse2 = requests.request('POST', ...)  # you can use host and port here\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 7257572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6825d37cf1df233345917414b0995c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanity", "link": "https://stackoverflow.com/users/7257572/vanity"}, "edited": false, "score": 0, "creation_date": 1536184657, "post_id": 52193866, "comment_id": 91337560, "body": "Getting a KeyError with that one"}, {"owner": {"reputation": 1179, "user_id": 5800969, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh5.googleusercontent.com/-gcKBCifKR-w/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNF-RQWiwdfsjaS-3LEIT0zKtbn1A/mo/photo.jpg?sz=128", "display_name": "iamabhaykmr", "link": "https://stackoverflow.com/users/5800969/iamabhaykmr"}, "reply_to_user": {"reputation": 33, "user_id": 7257572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6825d37cf1df233345917414b0995c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanity", "link": "https://stackoverflow.com/users/7257572/vanity"}, "edited": false, "score": 0, "creation_date": 1536185366, "post_id": 52193866, "comment_id": 91337747, "body": "Check now @Vanity"}], "tags": [], "owner": {"reputation": 1179, "user_id": 5800969, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh5.googleusercontent.com/-gcKBCifKR-w/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNF-RQWiwdfsjaS-3LEIT0zKtbn1A/mo/photo.jpg?sz=128", "display_name": "iamabhaykmr", "link": "https://stackoverflow.com/users/5800969/iamabhaykmr"}, "is_accepted": false, "score": 1, "last_activity_date": 1536185404, "last_edit_date": 1536185404, "creation_date": 1536184483, "answer_id": 52193866, "question_id": 52193776, "link": "https://stackoverflow.com/questions/52193776/extract-part-of-json-response-in-python/52193866#52193866", "title": "Extract part of JSON response in Python", "body": "<pre><code>import requests\nimport json\n\nurl = \"https://proxy6.net/api/xxx\"\n\ndef descr():\n    return 88\n\n\nquerystring = {\"descr\":descr()}\n\nheaders = {\n    'Cache-Control': \"no-cache\",\n    'Postman-Token': \"xxx\"\n    }\n\nresponse = requests.request(\"GET\", url, headers=headers, params=querystring)\nresponse = response.json()\nprint(response['list']['xx']['host'])\nprint(response['list']['xx']['port'])\n</code></pre>\n\n<p>Explanations:</p>\n\n<pre><code>{\"status\":\"yes\",\"user_id\":\"xx\",\"balance\":\"xx\",\"currency\":\"xx\",\"list_count\":1,\"list\":{\"xx\":{\"id\":\"xx\",\"version\":\"x,\"ip\":\"xx\",\"host\":\"xx\",\"port\":xx\",\"user\":\"xx\",\"pass\":\"xx\",\"type\":\"socks\",\"country\":\"us\",\"date\":\"2018-09-05 22:00:22\",\"date_end\":\"2018-10-05 22:00:22\",\"unixtime\":1536174022,\"unixtime_end\":1538766022,\"descr\":\"88\",\"active\":\"1\"}}}\n\n\nresponse['list'] gives `{\"xx\":{\"id\":\"xx\",\"version\":\"x,\"ip\":\"xx\",\"host\":\"xx\",\"port\":xx\",\"user\":\"xx\",\"pass\":\"xx\",\"type\":\"socks\",\"country\":\"us\",\"date\":\"2018-09-05 22:00:22\",\"date_end\":\"2018-10-05 22:00:22\",\"unixtime\":1536174022,\"unixtime_end\":1538766022,\"descr\":\"88\",\"active\":\"1\"}}`\n\n\nresponse['list']['xx']  gives  `{\"id\":\"xx\",\"version\":\"x,\"ip\":\"xx\",\"host\":\"xx\",\"port\":xx\",\"user\":\"xx\",\"pass\":\"xx\",\"type\":\"socks\",\"country\":\"us\",\"date\":\"2018-09-05 22:00:22\",\"date_end\":\"2018-10-05 22:00:22\",\"unixtime\":1536174022,\"unixtime_end\":1538766022,\"descr\":\"88\",\"active\":\"1\"}`\n\nresponse['list']['xx']['host'] gives host key value\nresponse['list']['xx']['port'] gives port key value\n</code></pre>\n\n<p>Do let me know if you have doubts</p>\n"}], "owner": {"reputation": 33, "user_id": 7257572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6825d37cf1df233345917414b0995c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanity", "link": "https://stackoverflow.com/users/7257572/vanity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2746, "favorite_count": 0, "accepted_answer_id": 52193827, "answer_count": 2, "score": 0, "last_activity_date": 1536185404, "creation_date": 1536183924, "last_edit_date": 1536184234, "question_id": 52193776, "link": "https://stackoverflow.com/questions/52193776/extract-part-of-json-response-in-python", "title": "Extract part of JSON response in Python", "body": "<p>I'm a beginner in programming, and I'm trying to deal with an API to automate my work.</p>\n\n<p>I'm getting the response just fine, but I'm only interested by 2 values, being host and port.</p>\n\n<p>Here is a part of my code</p>\n\n<pre><code>import requests\n\nurl = \"https://proxy6.net/api/xxx\"\n\ndef descr():\n    return 88\n\n\nquerystring = {\"descr\":descr()}\n\nheaders = {\n    'Cache-Control': \"no-cache\",\n    'Postman-Token': \"xxx\"\n    }\n\nresponse = requests.request(\"GET\", url, headers=headers, params=querystring)\n\nprint(response.text)\n</code></pre>\n\n<p>How can I print only the host and port value?</p>\n\n<p>Thanks a lot in advance</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10322414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/794bf2b7518611e441af7fe045d158b7?s=128&d=identicon&r=PG&f=1", "display_name": "Aiwa", "link": "https://stackoverflow.com/users/10322414/aiwa"}, "edited": false, "score": 0, "creation_date": 1536185116, "post_id": 52193746, "comment_id": 91337687, "body": "Yes, I know about double underscore, but not quite clear, that &#39;books__id&#39; needed for right query. Ok, thats works! I try to understand it with print(&#39;....query&#39;). Thank you!"}], "tags": [], "owner": {"reputation": 91788, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "is_accepted": true, "score": 0, "last_activity_date": 1536184191, "last_edit_date": 1592644375, "creation_date": 1536183725, "answer_id": 52193746, "question_id": 52193726, "link": "https://stackoverflow.com/questions/52193726/look-up-objects-that-arent-the-target-of-any-foreign-keys-using-django-orm/52193746#52193746", "title": "Look up objects that aren&#39;t the target of any foreign keys using Django ORM", "body": "<pre><code>.annotate(books_count=Count('id'))\n</code></pre>\n<p>Django will count the <em><code>Author</code>'s</em> <code>id</code>s here. Try</p>\n<pre><code>.annotate(books_count=Count('books__id'))\n</code></pre>\n<p>instead. The double underscore indicates a <a href=\"https://docs.djangoproject.com/en/2.1/topics/db/queries/#lookups-that-span-relationships\" rel=\"nofollow noreferrer\">query that spans relationships</a>:</p>\n<blockquote>\n<p>Django offers a powerful and intuitive way to &quot;follow&quot; relationships in lookups, taking care of the SQL <code>JOIN</code>s for you automatically, behind the scenes. To span a relationship, just use the field name of related fields across models, separated by double underscores, until you get to the field you want.</p>\n<p>This example retrieves all <code>Entry</code> objects with a <code>Blog</code> whose <code>name</code> is <code>'Beatles Blog'</code>:</p>\n<pre><code>&gt;&gt;&gt; Entry.objects.filter(blog__name='Beatles Blog')\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 3, "user_id": 10322414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/794bf2b7518611e441af7fe045d158b7?s=128&d=identicon&r=PG&f=1", "display_name": "Aiwa", "link": "https://stackoverflow.com/users/10322414/aiwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 52193746, "answer_count": 1, "score": 0, "last_activity_date": 1536184394, "creation_date": 1536183612, "last_edit_date": 1536184394, "question_id": 52193726, "link": "https://stackoverflow.com/questions/52193726/look-up-objects-that-arent-the-target-of-any-foreign-keys-using-django-orm", "title": "Look up objects that aren&#39;t the target of any foreign keys using Django ORM", "body": "<p>I have two models, <code>Author</code> and <code>Book</code>. I need to get all <code>Author</code>s who have no <code>Books</code> with Django's ORM. How can I do that?</p>\n\n<p>Here are my models:</p>\n\n<pre><code>class Author(models.Model):\n    name = models.CharField(max_length=30)\n    age = models.IntegerField()\n\n\nclass Book(models.Model):\n    name = models.CharField(max_length=500)\n    author = models.ForeignKey(Author, related_name='books')\n</code></pre>\n\n<p>I am currently doing it with <code>for</code> loop, but I would prefer to do it with the ORM:</p>\n\n<pre><code>for person in Author.objects.all():\n    if person.books.count() == 0:\n        \"something code\"\n</code></pre>\n\n<p>But it need to make update for objects.</p>\n\n<p>I tried this but I just get an empty <code>QuerySet</code>:</p>\n\n<pre><code>Author.objects.select_related('books').values('id').annotate(books_count=Count('id')).filter(books_count=0)\n</code></pre>\n"}, {"tags": ["python", "pip", "cygwin"], "comments": [{"owner": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "edited": false, "score": 0, "creation_date": 1536183064, "post_id": 52193591, "comment_id": 91337054, "body": "are you trying to install regex for python3 or python2?"}, {"owner": {"reputation": 79, "user_id": 3185596, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28a6d18f2f3ddb3ef4833681ede1e9c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3185596", "link": "https://stackoverflow.com/users/3185596/user3185596"}, "reply_to_user": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "edited": false, "score": 0, "creation_date": 1536183264, "post_id": 52193591, "comment_id": 91337119, "body": "Regex is just an example i have shown , i tried   pip2 install regex and  pip install regex ...same error ..should i try something else"}, {"owner": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "edited": false, "score": 0, "creation_date": 1536183298, "post_id": 52193591, "comment_id": 91337132, "body": "Try pip3 maybe?"}, {"owner": {"reputation": 79, "user_id": 3185596, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28a6d18f2f3ddb3ef4833681ede1e9c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3185596", "link": "https://stackoverflow.com/users/3185596/user3185596"}, "reply_to_user": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "edited": false, "score": 0, "creation_date": 1536183483, "post_id": 52193591, "comment_id": 91337193, "body": "pip3 is not there"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1536184579, "post_id": 52193591, "comment_id": 91337530, "body": "<a href=\"https://stackoverflow.com/questions/40157236/fatal-error-python-h-no-such-file-or-directory-not-solved-with-python-devel\" title=\"fatal error python h no such file or directory not solved with python devel\">stackoverflow.com/questions/40157236/&hellip;</a>"}, {"owner": {"reputation": 79, "user_id": 3185596, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28a6d18f2f3ddb3ef4833681ede1e9c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3185596", "link": "https://stackoverflow.com/users/3185596/user3185596"}, "edited": false, "score": 0, "creation_date": 1536187305, "post_id": 52193591, "comment_id": 91338244, "body": "Thanks guys ...indeed it was duplicated.. I read the article before posting ...tried to install python-devel ...... which was wrong ..I should have used &quot;the packages are python2-devel and python3-devel&quot;  ....thus was not working ....thanks everyone"}], "owner": {"reputation": 79, "user_id": 3185596, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28a6d18f2f3ddb3ef4833681ede1e9c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3185596", "link": "https://stackoverflow.com/users/3185596/user3185596"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "closed_date": 1536187321, "answer_count": 0, "score": 0, "last_activity_date": 1536182706, "creation_date": 1536182706, "question_id": 52193591, "link": "https://stackoverflow.com/questions/52193591/python-cygwin-module-installation-via-pip-failing-using-pip", "closed_reason": "Duplicate", "title": "Python / Cygwin : Module installation via pip failing using pip", "body": "<p>I've installed python both version 2 and version 3 in Cygwin and later install pip . However whenever I'm trying to install any module using pip its failing giving the below error : </p>\n\n<pre><code>$ pip install regex\nCollecting regex\n  Using cached https://files.pythonhosted.org/packages/2a/0a/944977367c8a6cfcfa6fcb8ac6b1f0f9a667c1f34194091c766b5d7c44d7/regex-2018.08.29.tar.gz\nBuilding wheels for collected packages: regex\n  Running setup.py bdist_wheel for regex ... error\n  Complete output from command /usr/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-pg3NIK/regex/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/pip-wheel-6upLG0 --python-tag cp27:\n  /usr/lib/python2.7/site-packages/setuptools/dist.py:398: UserWarning: Normalizing '2018.08.29' to '2018.8.29'\n    normalized_version,\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.cygwin-2.11.1-x86_64-2.7\n  copying regex_2/regex.py -&gt; build/lib.cygwin-2.11.1-x86_64-2.7\n  copying regex_2/_regex_core.py -&gt; build/lib.cygwin-2.11.1-x86_64-2.7\n  copying regex_2/test_regex.py -&gt; build/lib.cygwin-2.11.1-x86_64-2.7\n  running build_ext\n  building '_regex' extension\n  creating build/temp.cygwin-2.11.1-x86_64-2.7\n  creating build/temp.cygwin-2.11.1-x86_64-2.7/regex_2\n  gcc -fno-strict-aliasing -ggdb -O2 -pipe -Wimplicit-function-declaration -fdebug-prefix-map=/usr/src/ports/python2/python2-2.7.14-1.x86_64/build=/usr/src/debug/python2-2.7.14-1 -fdebug-prefix-map=/usr/src/ports/python2/python2-2.7.14-1.x86_64/src/Python-2.7.14=/usr/src/debug/python2-2.7.14-1 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/usr/include/python2.7 -c regex_2/_regex.c -o build/temp.cygwin-2.11.1-x86_64-2.7/regex_2/_regex.o\n  regex_2/_regex.c:46:10: fatal error: Python.h: No such file or directory\n   #include \"Python.h\"\n            ^~~~~~~~~~\n  compilation terminated.\n  error: command 'gcc' failed with exit status 1\n\n  ----------------------------------------\n  Failed building wheel for regex\n</code></pre>\n\n<p>Any help will be appreciated . </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1536182716, "post_id": 52193580, "comment_id": 91336933, "body": "What if you added opening and closing braces and then did a safe eval?"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1536182785, "post_id": 52193580, "comment_id": 91336953, "body": "Your example input string only has commas inside the tuples but not between the tuples. Is this your actual string? <code>&quot;(2,3) (3, 4) ( 5, 4)&quot;</code>"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 1, "creation_date": 1536182797, "post_id": 52193580, "comment_id": 91336961, "body": "Your sample input does not have commas between the tuples, it has spaces."}, {"owner": {"reputation": 31, "user_id": 10322401, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IPgaOz4DBQw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMvnWmFLU1YhL4pob3oy8OpNUw9aQ/mo/photo.jpg?sz=128", "display_name": "Yoli Cholent", "link": "https://stackoverflow.com/users/10322401/yoli-cholent"}, "edited": false, "score": 0, "creation_date": 1536182929, "post_id": 52193580, "comment_id": 91337009, "body": "Yes the input has spaces between the tuples. But lists in python have commas between values"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1536183264, "post_id": 52193580, "comment_id": 91337118, "body": "Where is that input coming from to begin with?"}], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 3, "last_activity_date": 1536183405, "last_edit_date": 1536183405, "creation_date": 1536182958, "answer_id": 52193633, "question_id": 52193580, "link": "https://stackoverflow.com/questions/52193580/splitting-a-string-of-tuples-into-tuples/52193633#52193633", "title": "Splitting a string of tuples into tuples", "body": "<p>You can use <code>re.split</code> with <code>ast.literal_eval</code>:</p>\n\n<pre><code>import re, ast\nresult = [ast.literal_eval(i) for i in re.split('(?&lt;=\\))\\s(?=\\()', \"(2,3) (3, 4) ( 5, 4)\")]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[(2, 3), (3, 4), (5, 4)]\n</code></pre>\n\n<p>Note that <code>ast.literal_eval</code> is much more secure that the builtin <code>eval</code>, as <code>ast.literal_eval</code> does not blindly evaluate whatever is passed to it, and instead checks if the input is a valid Python datatype.</p>\n\n<p>However, the above will not work if the tuples in string form are not separated by a space i.e <code>\"(2,3)(3, 4)(5, 6)\"</code>. In that case, you can create a small parser:</p>\n\n<pre><code>class Parse:\n  def __init__(self, _input, _start=''):\n    self.data, self.group, self.content = _input, _start, []\n    self.parse()\n  def __iter__(self):\n    yield from map(ast.literal_eval, self.content)\n  def parse(self):\n    _val = next(self.data, None)\n    if _val is not None:\n       if _val == '(':\n         r = Parse(self.data, _start=\"(\")\n         self.content.extend(r.content)\n         self.data = r.data\n       elif _val == ')':\n         self.content.append(self.group+')')\n       else:\n         self.group += _val\n       self.parse()\n\nfinal_result = list(Parse(iter(\"(2,3)(3, 4)(5, 6)\")))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[(2, 3), (3, 4), (5, 6)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1536183465, "creation_date": 1536183465, "answer_id": 52193707, "question_id": 52193580, "link": "https://stackoverflow.com/questions/52193580/splitting-a-string-of-tuples-into-tuples/52193707#52193707", "title": "Splitting a string of tuples into tuples", "body": "<p>You can use <code>re.sub</code> to replace the spaces in between tuples with <code>,</code> and then add braces and feed to <code>literal_eval</code> to interpret into a Python data structure:</p>\n\n<pre><code>&gt;&gt;&gt; s=\"(2,3) (3, 4) ( 5, 4)\"\n&gt;&gt;&gt; from ast import literal_eval\n&gt;&gt;&gt; import re\n&gt;&gt;&gt; literal_eval(\"[\"+re.sub(r'(?&lt;=\\))[ \\t]*(?=\\()',',',s)+\"]\")\n[(2, 3), (3, 4), (5, 4)]\n</code></pre>\n\n<p>Which works even with no spaces between the tuples:</p>\n\n<pre><code>&gt;&gt;&gt; s=\"(2,3)(3, 4)( 5, 4)\"\n&gt;&gt;&gt; literal_eval(\"[\"+re.sub(r'(?&lt;=\\))[ \\t]*(?=\\()',',',s)+\"]\")\n[(2, 3), (3, 4), (5, 4)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": false, "score": 1, "last_activity_date": 1536183664, "creation_date": 1536183664, "answer_id": 52193736, "question_id": 52193580, "link": "https://stackoverflow.com/questions/52193580/splitting-a-string-of-tuples-into-tuples/52193736#52193736", "title": "Splitting a string of tuples into tuples", "body": "<p>If these are always tuples of two digits like you claim, just use <code>re.findall</code>:</p>\n\n<pre><code>&gt;&gt;&gt; out = re.findall(r'(\\d+),\\s*(\\d+)', s)\n&gt;&gt;&gt; out\n[('2', '3'), ('3', '4'), ('5', '4')]\n</code></pre>\n\n<p>If you need these as integers:</p>\n\n<pre><code>&gt;&gt;&gt; [tuple(map(int, i)) for i in out]\n[(2, 3), (3, 4), (5, 4)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "is_accepted": false, "score": 0, "last_activity_date": 1536185057, "creation_date": 1536185057, "answer_id": 52193953, "question_id": 52193580, "link": "https://stackoverflow.com/questions/52193580/splitting-a-string-of-tuples-into-tuples/52193953#52193953", "title": "Splitting a string of tuples into tuples", "body": "<p>You could try a list comprehension if you don't want to use any libraries or eval:</p>\n\n<pre><code>a=\"(2,3) (3, 4) ( 5, 4)\"\n[tuple(map(int,e.split(','))) for e in a.replace(' ','')[1:-1].split(')(')]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[(2, 3), (3, 4), (5, 4)]\n</code></pre>\n\n<p>This works by removing all the spaces and taking out the first and last parenthesis, splitting by <code>)(</code>, and converting the remaining strings to tuples with ints in them</p>\n"}, {"tags": [], "owner": {"reputation": 13633, "user_id": 5916727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1508d2b83d8f3b1c7450023486045d?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/5916727/student"}, "is_accepted": false, "score": 1, "last_activity_date": 1536187164, "creation_date": 1536187164, "answer_id": 52194248, "question_id": 52193580, "link": "https://stackoverflow.com/questions/52193580/splitting-a-string-of-tuples-into-tuples/52194248#52194248", "title": "Splitting a string of tuples into tuples", "body": "<p>One other way may be:</p>\n\n<ul>\n<li>First you can split by comma and get list of all digits.</li>\n<li>Then, use <code>zip</code> such that you separate list of numbers with skipping every other number one starting from initial position and other from second position using <code>::2</code> and <code>1::2</code>.</li>\n</ul>\n\n<hr>\n\n<pre><code>my_str = \"(2,3) (3, 4) ( 5, 4)\"\n# getting list of digits only\nall_numbers = [int(ch) for i in my_str.split(',') for ch in i if ch.isdigit()]\n# using zip to convert into tuples\nresult = list(zip(all_numbers[::2], all_numbers[1::2]))\nprint(result)\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>[(2, 3), (3, 4), (5, 4)]\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10322401, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IPgaOz4DBQw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMvnWmFLU1YhL4pob3oy8OpNUw9aQ/mo/photo.jpg?sz=128", "display_name": "Yoli Cholent", "link": "https://stackoverflow.com/users/10322401/yoli-cholent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1224, "favorite_count": 0, "answer_count": 5, "score": 3, "last_activity_date": 1536187164, "creation_date": 1536182661, "last_edit_date": 1536182877, "question_id": 52193580, "link": "https://stackoverflow.com/questions/52193580/splitting-a-string-of-tuples-into-tuples", "title": "Splitting a string of tuples into tuples", "body": "<p>I have a string of tuples where each tuple is separated by a comma. How do I split it into a list of tuples?</p>\n\n<p>For example, I'd want to split this string:</p>\n\n<pre><code>\"(2,3) (3, 4) ( 5, 4)\"\n</code></pre>\n\n<p>Into this array of tuples:</p>\n\n<pre><code>[(2,3) , (3,4),(5,4)]\n</code></pre>\n\n<p>Note that there may be spaces within tuple (like <code>\"(3, 4)\"</code>) so <code>str.split()</code> then using <code>eval()</code> will not work.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "multi-index"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 4, "creation_date": 1536182835, "post_id": 52193571, "comment_id": 91336979, "body": "Would you be able to provide the code that produces this dataFrame?"}], "answers": [{"comments": [{"owner": {"reputation": 1360, "user_id": 1618041, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5a532f7f1a6acec773e7433446044fb2?s=128&d=identicon&r=PG", "display_name": "rhaskett", "link": "https://stackoverflow.com/users/1618041/rhaskett"}, "edited": false, "score": 0, "creation_date": 1536184258, "post_id": 52193725, "comment_id": 91337433, "body": "Works.  I&#39;m not sure I 100% understand the error.  The other <code>level=first</code> have two columns each.  I assumed I was inserting on that level."}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 1360, "user_id": 1618041, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5a532f7f1a6acec773e7433446044fb2?s=128&d=identicon&r=PG", "display_name": "rhaskett", "link": "https://stackoverflow.com/users/1618041/rhaskett"}, "edited": false, "score": 0, "creation_date": 1536184465, "post_id": 52193725, "comment_id": 91337496, "body": "You are not inserting.  <code>level=&#39;first&#39;</code> means you are grouping the items in that level (e.g. &#39;bar&#39; and &#39;baz&#39;) and taking the mean in this case.  The result is simply a dataframe as I have tried to demonstrate above which uses <code>level=&#39;second&#39;</code> to avoid confusion with your example in the comment."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 2, "last_activity_date": 1536183610, "creation_date": 1536183610, "answer_id": 52193725, "question_id": 52193571, "link": "https://stackoverflow.com/questions/52193571/adding-an-average-column-to-a-pandas-multiindex-dataframe/52193725#52193725", "title": "Adding an Average Column to a Pandas Multiindex Dataframe", "body": "<p>I'm not sure on your target output.  Something like this?</p>\n\n<pre><code>df2 = df.mean(level='second', axis='columns')\ndf2.columns = pd.MultiIndex.from_tuples([('mean', col) for col in df2])\n&gt;&gt;&gt; df2\n       mean          \n        one       two\nA -0.271148 -0.193424\nB  0.200352  1.048713\nC  0.186419 -0.196915\n\n&gt;&gt;&gt; pd.concat([df2, df], axis=1)\n       mean                 bar                 baz          \n        one       two       one       two       one       two\nA -0.271148 -0.193424  0.487880 -0.487661 -1.030176  0.100813\nB  0.200352  1.048713  0.267913  1.918923  0.132791  0.178503\nC  0.186419 -0.196915  1.550526 -0.312235 -1.177689 -0.081596\n</code></pre>\n\n<p>You are getting the error because your <code>mean</code> operation results in a dataframe (with two columns in this case).  You are then trying to assign this result into one column in the original dataframe.</p>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1536184487, "last_edit_date": 1536184487, "creation_date": 1536184060, "answer_id": 52193802, "question_id": 52193571, "link": "https://stackoverflow.com/questions/52193571/adding-an-average-column-to-a-pandas-multiindex-dataframe/52193802#52193802", "title": "Adding an Average Column to a Pandas Multiindex Dataframe", "body": "<h3><code>pandas.concat</code></h3>\n\n<pre><code>df.join(pd.concat([df.mean(level='second', axis='columns')], axis=1, keys=['Average']))\n\nfirst        bar                 baz             Average          \nsecond       one       two       one       two       one       two\nA       0.255301  0.286846  1.027024 -0.060594  0.641162  0.113126\nB      -0.608509 -2.291201  0.675753 -0.416156  0.033622 -1.353679\nC       2.714254 -1.330621 -0.099545  0.616833  1.307354 -0.356894\n</code></pre>\n\n<hr>\n\n<h3><code>stack</code>/<code>unstack</code></h3>\n\n<p>Not necessarily efficient, but neat</p>\n\n<pre><code>df.stack().assign(Average=df.mean(level='second', axis='columns').stack()).unstack()\n\nfirst        bar                 baz             Average          \nsecond       one       two       one       two       one       two\nA       0.255301  0.286846  1.027024 -0.060594  0.641162  0.113126\nB      -0.608509 -2.291201  0.675753 -0.416156  0.033622 -1.353679\nC       2.714254 -1.330621 -0.099545  0.616833  1.307354 -0.356894\n</code></pre>\n"}], "owner": {"reputation": 1360, "user_id": 1618041, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5a532f7f1a6acec773e7433446044fb2?s=128&d=identicon&r=PG", "display_name": "rhaskett", "link": "https://stackoverflow.com/users/1618041/rhaskett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "accepted_answer_id": 52193725, "answer_count": 2, "score": 1, "last_activity_date": 1536184487, "creation_date": 1536182621, "last_edit_date": 1536183299, "question_id": 52193571, "link": "https://stackoverflow.com/questions/52193571/adding-an-average-column-to-a-pandas-multiindex-dataframe", "title": "Adding an Average Column to a Pandas Multiindex Dataframe", "body": "<p>I have a dataframe <code>df</code></p>\n\n<pre><code>first        bar                 baz           \nsecond       one       two       one       two \nA       0.487880 -0.487661 -1.030176  0.100813 \nB       0.267913  1.918923  0.132791  0.178503\nC       1.550526 -0.312235 -1.177689 -0.081596 \n</code></pre>\n\n<p>I'd like to add a average columns and then move the average to the front</p>\n\n<pre><code>df['Average'] = df.mean(level='second', axis='columns')  #ERROR HERE\ncols = df.columns.tolist()\ndf = df[[cols[-1]] + cols[:-1]]\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>ValueError: Wrong number of items passed 2, placement implies 1\n</code></pre>\n\n<p>Maybe, I could add each column <code>df['Average', 'One'] = ...</code> in the mean one at a time but that seems silly especially as the real life index is more complicated.</p>\n\n<p>Edit: (<a href=\"https://pandas.pydata.org/pandas-docs/stable/advanced.html\" rel=\"nofollow noreferrer\">Frame Generation</a>) </p>\n\n<pre><code>arrays = [['bar', 'bar', 'baz', 'baz', 'foo', 'foo', 'qux', 'qux'],\n    ['one', 'two', 'one', 'two', 'one', 'two', 'one', 'two']]\n\ntuples = list(zip(*arrays))\nindex = pd.MultiIndex.from_tuples(tuples, names=['first', 'second'])\ndf = DataFrame(np.random.randn(3, 8), index=['A', 'B', 'C'], columns=index)\n</code></pre>\n"}, {"tags": ["python", "opencv", "image-processing"], "comments": [{"owner": {"reputation": 2291, "user_id": 8773597, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w9ZfPZR_pqg/AAAAAAAAAAI/AAAAAAAAAD4/UWy3eUzG4-o/photo.jpg?sz=128", "display_name": "Lev Zakharov", "link": "https://stackoverflow.com/users/8773597/lev-zakharov"}, "edited": false, "score": 0, "creation_date": 1536182615, "post_id": 52193545, "comment_id": 91336897, "body": "But do you really need it? If you know page&#39;s url you can just parse html document."}, {"owner": {"reputation": 807, "user_id": 9537627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054f3eb519a1804a60eea6c4a39f6cd0?s=128&d=identicon&r=PG&f=1", "display_name": "Angelo", "link": "https://stackoverflow.com/users/9537627/angelo"}, "reply_to_user": {"reputation": 2291, "user_id": 8773597, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w9ZfPZR_pqg/AAAAAAAAAAI/AAAAAAAAAD4/UWy3eUzG4-o/photo.jpg?sz=128", "display_name": "Lev Zakharov", "link": "https://stackoverflow.com/users/8773597/lev-zakharov"}, "edited": false, "score": 0, "creation_date": 1536183999, "post_id": 52193545, "comment_id": 91337344, "body": "@LevZakharov Hi Lev! I&#39;m trying to build an automated test case that tries to rely more on image recognition than on selenium. I see many techniques available with OpenCv and I was wondering if there was a simple way to get those sections."}], "answers": [{"comments": [{"owner": {"reputation": 807, "user_id": 9537627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054f3eb519a1804a60eea6c4a39f6cd0?s=128&d=identicon&r=PG&f=1", "display_name": "Angelo", "link": "https://stackoverflow.com/users/9537627/angelo"}, "edited": false, "score": 0, "creation_date": 1536239199, "post_id": 52193819, "comment_id": 91358698, "body": "Thank you Pajarol, appreciated your comment. Thing is, I manually draw those green rectangles since I can&#39;t currently find a way to automatically identify and draw them with OpenCv (even though I also admit I started to study openCV just a few days ago)."}], "tags": [], "owner": {"reputation": 1082, "user_id": 6393476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8xE.png?s=128&g=1", "display_name": "EnriqueBet", "link": "https://stackoverflow.com/users/6393476/enriquebet"}, "is_accepted": false, "score": 0, "last_activity_date": 1536194949, "last_edit_date": 1536194949, "creation_date": 1536184164, "answer_id": 52193819, "question_id": 52193545, "link": "https://stackoverflow.com/questions/52193545/python-opencv-get-coordinates-of-borders-of-elements-inside-an-image/52193819#52193819", "title": "Python OpenCV - get coordinates of borders of elements inside an image", "body": "<p>Hello I think you could do the next:</p>\n\n<ol>\n<li><p>Since you have really identified the color of the bounding rectangle you could extract that color from that image into another image (image_green).</p></li>\n<li><p>Now, once you have image_green binarize it (image_bin) i,e. Make an array with two colors, the extracted one and the foreground.</p>\n\n<ol start=\"3\">\n<li>Loop over the image_bin matrix and find all the \"corners\" that will be all the couple of pixels that match this condition <code>image_bin[i:i+2,j]/max(image_bin.flatten()) == [1,0]</code> for any <code>j</code> (column), and <code>i</code> (row).</li>\n<li>Store this coordinates (<code>[i,j]</code>). As I mentioned before this values represent 2 corners of the rectangles: The upper-left corner and the lower-right corner.</li>\n</ol></li>\n</ol>\n\n<p>This approach is done with numpy arrays, so as you might imagine you need to convert the image into an array before step 3. If you still are having problems with this let me know and whenever I have some free time I will post a code that does this.</p>\n\n<p>Good Luck!</p>\n"}, {"comments": [{"owner": {"reputation": 807, "user_id": 9537627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054f3eb519a1804a60eea6c4a39f6cd0?s=128&d=identicon&r=PG&f=1", "display_name": "Angelo", "link": "https://stackoverflow.com/users/9537627/angelo"}, "edited": false, "score": 0, "creation_date": 1536239417, "post_id": 52193944, "comment_id": 91358834, "body": "Thank you very much Martin. I will follow your suggestion and review how to better apply edge detect. If you had any simple spare code you could share that would be hugely appreciated. I will also try to share my code as soon as I get a little closer to a solution."}], "tags": [], "owner": {"reputation": 90163, "user_id": 10897, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/csXHX.png?s=128&g=1", "display_name": "Martin Beckett", "link": "https://stackoverflow.com/users/10897/martin-beckett"}, "is_accepted": false, "score": 1, "last_activity_date": 1536248649, "last_edit_date": 1536248649, "creation_date": 1536185013, "answer_id": 52193944, "question_id": 52193545, "link": "https://stackoverflow.com/questions/52193545/python-opencv-get-coordinates-of-borders-of-elements-inside-an-image/52193944#52193944", "title": "Python OpenCV - get coordinates of borders of elements inside an image", "body": "<p>Assuming they aren't green in the actual data ! </p>\n\n<p>The standard way is edge detect (canny or <a href=\"https://docs.opencv.org/3.2.0/d7/d4d/tutorial_py_thresholding.html\" rel=\"nofollow noreferrer\">adaptiveThreshold</a>) and then contour. Simplify the contours using <a href=\"https://docs.opencv.org/3.1.0/dd/d49/tutorial_py_contour_features.html\" rel=\"nofollow noreferrer\">approxPolyDP</a> and then search the contour list for edges that are the correct length and shape. </p>\n\n<p>Hint: use <a href=\"https://docs.opencv.org/3.1.0/dd/d49/tutorial_py_contour_features.html\" rel=\"nofollow noreferrer\">cv2.minAreaRect()</a> to check for contours that are likely box size/shape/alignment</p>\n\n<p>You could use probablistic Hough to find line segments, but since the source image is so clean it is easier to just look through the contours</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5474869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a449578517b06cffdcbb4312ee6eb9ee?s=128&d=identicon&r=PG", "display_name": "Senthilkumar S", "link": "https://stackoverflow.com/users/5474869/senthilkumar-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1613732919, "creation_date": 1613732919, "answer_id": 66276439, "question_id": 52193545, "link": "https://stackoverflow.com/questions/52193545/python-opencv-get-coordinates-of-borders-of-elements-inside-an-image/66276439#66276439", "title": "Python OpenCV - get coordinates of borders of elements inside an image", "body": "<p>This kind of border detection can be done using a normal Canny edge detector. We just need to sharpen the image before applying Canny.</p>\n<p>Code follows:</p>\n<pre><code>import cv2\nimport numpy as np\n\nimage = cv2.imread('test.jpg')\ngray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\n\n# Sharpen the image\nkernel = np.array([[-1, -1, -1],[-1, 8, -1],[-1, -1, 0]], np.float32) \ndst = cv2.filter2D(gray, -1, kernel)\n\n\n#Canny Edge detection\ncanny = cv2.Canny(dst, 30, 200, 1)\n\n# Find contours\ncnts = cv2.findContours(canny, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)[-2:]\ncnts = cnts[0] if len(cnts) == 2 else cnts[1]\n\n# Iterate thorugh contours and draw rectangles around contours\nfor c in cnts:\n    x,y,w,h = cv2.boundingRect(c)\n   \n\n    cv2.rectangle(image, (x, y), (x + w, y + h), (255,0,255), 1)\n\n#write output\ncv2.imwrite('resultimage.png', image)\n</code></pre>\n"}], "owner": {"reputation": 807, "user_id": 9537627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054f3eb519a1804a60eea6c4a39f6cd0?s=128&d=identicon&r=PG&f=1", "display_name": "Angelo", "link": "https://stackoverflow.com/users/9537627/angelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1099, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1613732919, "creation_date": 1536182466, "question_id": 52193545, "link": "https://stackoverflow.com/questions/52193545/python-opencv-get-coordinates-of-borders-of-elements-inside-an-image", "title": "Python OpenCV - get coordinates of borders of elements inside an image", "body": "<p>I know my question might sound a little generic but I read a lot of blogs and questions about this and still can't find a solution that get any close to what I'm trying to do. I have the attached sample IG screenshot. My goal is to get the coordinates of the elements I highlighted in green.\nCanny edges doesn't seem to do a thing (see also <a href=\"https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_canny/py_canny.html\" rel=\"nofollow noreferrer\">https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_canny/py_canny.html</a>). I read Houg Transform could have helped (<a href=\"https://pysource.com/2018/03/07/lines-detection-with-hough-transform-opencv-3-4-with-python-3-tutorial-21/\" rel=\"nofollow noreferrer\">https://pysource.com/2018/03/07/lines-detection-with-hough-transform-opencv-3-4-with-python-3-tutorial-21/</a>) but still no luck.\nAll I would need is a way to get those sections and get their coordinates. If somebody could simply point me out to what technique(s) could help me, that would be helpful.</p>\n\n<p><a href=\"https://i.stack.imgur.com/n6upP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n6upP.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "python", "kivy", "barcode"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1536183898, "post_id": 52193511, "comment_id": 91337315, "body": "are you asking how to read a barcode from an image?"}, {"owner": {"reputation": 3, "user_id": 10243248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ad1ddc155929498d4bbf58a75e8a620?s=128&d=identicon&r=PG&f=1", "display_name": "CCarlo", "link": "https://stackoverflow.com/users/10243248/ccarlo"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1536225419, "post_id": 52193511, "comment_id": 91350336, "body": "Not exactly. The way used to read the barcode (from image like SL4A or any other way) isn&#39;t my trouble. What I&#39;m searching for is how I can integrate in my code (Python and Kivy) the code that read the barcode. For instance: a simple window on mobile with a button for starting the scanner and a label in which I can see the value of the barcode. What happen after the click is not important but should be automatically started."}], "owner": {"reputation": 3, "user_id": 10243248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ad1ddc155929498d4bbf58a75e8a620?s=128&d=identicon&r=PG&f=1", "display_name": "CCarlo", "link": "https://stackoverflow.com/users/10243248/ccarlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537280034, "creation_date": 1536182304, "question_id": 52193511, "link": "https://stackoverflow.com/questions/52193511/python-kivy-android-barcode-scanner", "title": "Python kivy android barcode scanner", "body": "<p>My app is written in Python using kivy and it should run on android device. I need to read a barcode and use the value in this app therefore I would like to have at the end a single apk with the integration of the barcode reader. I also tried to use an example with SL4A and this run and give me in clipboard the value from scanner but the same code doesn't work outside SL4A.\nIs there somewhere an example of code for an application that read a barcode and use that value?\nThank you.</p>\n"}, {"tags": ["python", "command-line", "perforce", "p4v"], "comments": [{"owner": {"reputation": 815, "user_id": 8749168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9de0369d344b9fcee5cd586545eeb109?s=128&d=identicon&r=PG&f=1", "display_name": "Wade", "link": "https://stackoverflow.com/users/8749168/wade"}, "edited": false, "score": 0, "creation_date": 1536184435, "post_id": 52193500, "comment_id": 91337481, "body": "So you just want to write plain text to a file?"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 4766061, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ebb9149c38208d162c165ca15c0a1c64?s=128&d=identicon&r=PG&f=1", "display_name": "Bryant", "link": "https://stackoverflow.com/users/4766061/bryant"}, "edited": false, "score": 0, "creation_date": 1536196906, "post_id": 52194032, "comment_id": 91340046, "body": "The easier the better currently I&#39;m reading the names from a text file and then creating the users that way using the command I showed above is there a way to use the command set the authentication to LDAP without opening the temp file? Or if the P4python is the best option how do I go about setting it up"}, {"owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "reply_to_user": {"reputation": 59, "user_id": 4766061, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ebb9149c38208d162c165ca15c0a1c64?s=128&d=identicon&r=PG&f=1", "display_name": "Bryant", "link": "https://stackoverflow.com/users/4766061/bryant"}, "edited": false, "score": 0, "creation_date": 1536217254, "post_id": 52194032, "comment_id": 91345584, "body": "Yup, either of the options I outlined above will work for creating users with whatever options you want!  Can&#39;t give good code samples in these tiny comment fields so feel free to post a new and more specific question if you&#39;d like an answer more geared to what you&#39;re trying to do specifically.  :)"}], "tags": [], "owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "is_accepted": true, "score": 2, "last_activity_date": 1536187510, "last_edit_date": 1536187510, "creation_date": 1536185636, "answer_id": 52194032, "question_id": 52193500, "link": "https://stackoverflow.com/questions/52193500/closing-documents-during-runtime/52194032#52194032", "title": "Closing Documents During Runtime", "body": "<p>It sounds like what you're actually trying to do is modify a Perforce user spec.  This is super easy.  If you use P4Python you have a nice API to the spec objects:</p>\n\n<p><a href=\"https://www.perforce.com/perforce/r14.2/manuals/p4script/python.p4.html#python.p4.save_spectype\" rel=\"nofollow noreferrer\">https://www.perforce.com/perforce/r14.2/manuals/p4script/python.p4.html#python.p4.save_spectype</a></p>\n\n<p>and can do things like:</p>\n\n<pre><code>user = p4.get_user(name)\n# do things\np4.save_user(user)\n</code></pre>\n\n<p>If you want to script without P4Python, the basic command line has much better options than trying to script around the editor.  For example:</p>\n\n<pre><code>p4 --field Reviews+=//depot/whatever/... user -o NAME | p4 user -i -f\n</code></pre>\n\n<p>will add <code>//depot/whatever/...</code> to the bottom of <code>NAME</code>'s <code>Reviews</code> field.</p>\n\n<p>Or if you don't like the <code>--field</code> option you can parse and modify the spec yourself:</p>\n\n<pre><code>p4 user -o NAME | **REGEX MAGIC** | p4 user -i -f\n</code></pre>\n\n<hr>\n\n<p>If you really want to script a command like <code>p4 user</code> and not use a scripting API or the convenient <code>-o</code>/<code>-i</code>/ hooks that avoid having it invoke an editor with a temp file (in other words if you're a scripting masochist looking for a unique challenge), your best bet is to override <code>P4EDITOR</code> and have it point to a script that you've written.  Whatever executable is specified by <code>P4EDITOR</code> will get invoked with the temp file name; the modified spec will be uploaded (from the temp file) as soon as <code>P4EDITOR</code> exits.</p>\n"}], "owner": {"reputation": 59, "user_id": 4766061, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ebb9149c38208d162c165ca15c0a1c64?s=128&d=identicon&r=PG&f=1", "display_name": "Bryant", "link": "https://stackoverflow.com/users/4766061/bryant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 52194032, "answer_count": 1, "score": 0, "last_activity_date": 1536217391, "creation_date": 1536182270, "last_edit_date": 1536217391, "question_id": 52193500, "link": "https://stackoverflow.com/questions/52193500/closing-documents-during-runtime", "title": "Closing Documents During Runtime", "body": "<p>I am using Python to create a script to run perforce commands in command prompt. One of the commands opens a file. I want to write to the bottom of the file, then save the file, and then close the file after. I do not know what the file will be named it is different every time and the command is run 5 or more times for each time I run the program. The Command is:\n    <code>os.system('p4 user -f ' + name)</code></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1536182151, "post_id": 52193475, "comment_id": 91336741, "body": "Just assign it to a new variable: <code>z = x + x</code>,  although I&#39;m not entirely sure that&#39;s what you&#39;re asking.  The result of the addition <i>will</i> be lost if you don&#39;t assign it to something."}, {"owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "edited": false, "score": 0, "creation_date": 1536183177, "post_id": 52193475, "comment_id": 91337091, "body": "<i>how would you reference</i> - Store it into a variable or return it from a function...?"}, {"owner": {"reputation": 69, "user_id": 1449545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/930a85442da45161ae047e19afa21029?s=128&d=identicon&r=PG", "display_name": "Gerry", "link": "https://stackoverflow.com/users/1449545/gerry"}, "edited": false, "score": 0, "creation_date": 1536257386, "post_id": 52193475, "comment_id": 91369212, "body": "Derek, user3483203, I was read that when doing x + x, that becomes a new Tuple but cannot referenced because no variable is assigned to it.  But nosklo clarified for me.  The runtime takes care of the garbage collection.  Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 1449545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/930a85442da45161ae047e19afa21029?s=128&d=identicon&r=PG", "display_name": "Gerry", "link": "https://stackoverflow.com/users/1449545/gerry"}, "edited": false, "score": 0, "creation_date": 1536257490, "post_id": 52193512, "comment_id": 91369261, "body": "&quot;then the python garbage collector will destroy it and free the memory automatically. &quot;    Thanks nosklo, that answered my question."}, {"owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "reply_to_user": {"reputation": 69, "user_id": 1449545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/930a85442da45161ae047e19afa21029?s=128&d=identicon&r=PG", "display_name": "Gerry", "link": "https://stackoverflow.com/users/1449545/gerry"}, "edited": false, "score": 0, "creation_date": 1536257582, "post_id": 52193512, "comment_id": 91369298, "body": "@Gerry you can mark the answer as <b>accepted</b> by clicking the green checkmark just under the voting buttons near the answer."}], "tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": false, "score": 2, "last_activity_date": 1536182492, "last_edit_date": 1536182492, "creation_date": 1536182318, "answer_id": 52193512, "question_id": 52193475, "link": "https://stackoverflow.com/questions/52193475/what-happens-to-the-new-python-tuple-when-it-is-added-to-itself/52193512#52193512", "title": "What happens to the new Python Tuple when it is added to itself", "body": "<p>tuples are immutable. <code>tuple.__add__</code> (which is called when you add tuples) will return an entirely new tuple object with content of both tuples in it. To reference it later you have to store the reference in a variable:</p>\n\n<pre><code>new_tuple = x + x\nprint(new_tuple)\n</code></pre>\n\n<p>If you don't store the reference, it becomes \"unreferenced\" as you say in the question, and then the python garbage collector will destroy it and free the memory automatically. The same happens to any python object when the number of references to it reaches zero.</p>\n"}], "owner": {"reputation": 69, "user_id": 1449545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/930a85442da45161ae047e19afa21029?s=128&d=identicon&r=PG", "display_name": "Gerry", "link": "https://stackoverflow.com/users/1449545/gerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536183069, "creation_date": 1536182115, "last_edit_date": 1536183069, "question_id": 52193475, "link": "https://stackoverflow.com/questions/52193475/what-happens-to-the-new-python-tuple-when-it-is-added-to-itself", "title": "What happens to the new Python Tuple when it is added to itself", "body": "<p>I have a beginner question on Python.  If I have a python tuple:</p>\n\n<pre><code>x = ('a', 'b', 'c')\n</code></pre>\n\n<p>and then <code>x + x</code> would give me:</p>\n\n<pre><code>('a', 'b', 'c', 'a', 'b', 'c')\n</code></pre>\n\n<h3>Question:</h3>\n\n<p>What happens to the new Python Tuple when it is added to itself <code>x + x</code>?\nI can reference the tuple <code>x</code> but what about the new tuple that is <code>x + x</code>, how would you reference?  Does it become a unreferenced memory, meaning no pointer can reference it?</p>\n\n<p>Thank you,</p>\n\n<p>G.</p>\n"}, {"tags": ["python", "keras", "lstm", "masking"], "comments": [{"owner": {"reputation": 111, "user_id": 6130828, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15c6c8690306a1f543973f8a92c2e6d5?s=128&d=identicon&r=PG&f=1", "display_name": "Far", "link": "https://stackoverflow.com/users/6130828/far"}, "edited": false, "score": 0, "creation_date": 1536193827, "post_id": 52193464, "comment_id": 91339475, "body": "Anyone? All I need to know if I can use <code>model.predict()</code> method to make predictions by feeding one time step instead of an entire sequence per sample."}], "owner": {"reputation": 111, "user_id": 6130828, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15c6c8690306a1f543973f8a92c2e6d5?s=128&d=identicon&r=PG&f=1", "display_name": "Far", "link": "https://stackoverflow.com/users/6130828/far"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 392, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536182071, "creation_date": 1536182071, "question_id": 52193464, "link": "https://stackoverflow.com/questions/52193464/make-predictions-by-feeding-one-time-step-at-a-time-using-lstm-architecture-in-k", "title": "Make Predictions by Feeding One Time Step at a time using LSTM architecture in Keras", "body": "<p>I have a multidimensional data set with multi-feature sequence and varying time steps. It is a multivariate time series data with multiple examples to train LSTM on, and Y is either 0 or 1. Currently, I am using pad sequence layer in combination with a masking layer to make every sample have the same number of time steps. </p>\n\n<p>In order to make predictions, I have to pad test data to make it consistent with train data, and I have to feed a sequence with 3 time steps. Is there a way to make predictions by feeding only one time step after training on sequences? For instance, can I just feed time step 3 with padded 1 and 2 instead of complete sequence consisting of 1 , 2, and 3 for predictions.  </p>\n\n<pre><code># The input sequences are\ntrainX = np.array([\n        [\n            # Input features at timestep 1 with padding\n            [0, 0, 0],                \n            # Input features at timestep 2 with padding\n            [6, 2, 1],\n            # Input features at timestep 3\n            [5, 2, 3]\n        ],\n        # Datapoint 2\n        [\n            # Features at timestep 1 with padding\n            [0, 0, 0],\n            # Features at timestep 2\n            [9, 8, 9],\n            # Features at timestep 3\n            [7, 6, 1]\n        ]\n    ])\n\n# The desired model outputs are as follows:\ntrainY = np.array([\n        # Datapoint 1\n        [\n            # Target class at timestep 1\n            [0],\n            # Target class at timestep 2\n            [1] \n        ],\n        # Datapoint 2\n        [\n            # Target class at timestep 1\n            [0],\n            # Target class at timestep 2\n            [0]\n            # Target class at time step 3\n            [0]\n        ]\n    ])\n\ntimesteps = 3\n# Create neural network architecture\nmodel = Sequential()\nmodel.add(Masking(mask_value=0., input_shape=(timesteps, trainX.shape[2]), name='Mask'))\nmodel.add(LSTM(98, kernel_initializer ='uniform', return_sequences=True, batch_input_shape=(None, timesteps, trainX.shape[2]), \n               kernel_constraint=maxnorm(3), name='LSTM'))\nmodel.add(Dropout(0.2))\nmodel.add(LSTM(98, return_sequences=False, kernel_constraint=maxnorm(3), name='LSTM-2'))\nmodel.add(Dropout(0.2))\nmodel.add(Dense(timesteps, activation='sigmoid', name='Dense'))\n# set optimization parameters'\nsgd = SGD(lr=0.01, decay=1e-6, momentum=0.9, nesterov=True)\n#compile model\nmodel.compile(loss=\"mse\", optimizer=\"sgd\", metrics=[\"mse\"])\nfitness = model.fit(trainX, trainY, epochs=200, batch_size=20, validation_data=(tstX, tstY), verbose=1)\npredY = model.predict(tstX)\n</code></pre>\n\n<p>I want to be able to predict by just feeding one time step as follows:</p>\n\n<pre><code>testX = np.array([\n        [\n            # Input features at timestep 1 with padding\n            [0, 0, 0],                \n            # Input features at timestep 2 with padding\n            [0, 0, 0],\n            # Input features at timestep 3\n            [5, 2, 3]\n        ]]\n</code></pre>\n\n<p>Every time I feed testX with different values in last time step, the probability comes out to be the same. It seems that probability is dependent on the number of time steps with unmasked real data as opposed to the data itself. If I duplicate last time steps as follows, the probability changes even when the data is the same. Do I need to mask test data? Why do I need to feed a sequence instead of one time step to get correct predictions?</p>\n\n<pre><code>testX = np.array([\n        [\n            # Input features at timestep 1 with padding\n            [5, 2, 3],                \n            # Input features at timestep 2 with padding\n            [5, 2, 3],\n            # Input features at timestep 3\n            [5, 2, 3]\n        ]]\n</code></pre>\n\n<p>I trained on this, but want predictions by feeding just the last step</p>\n\n<pre><code>trainX = np.array([\n        [\n            # Input features at timestep 1 with padding\n            [0, 0, 0],                \n            # Input features at timestep 2 with padding\n            [6, 2, 1],\n            # Input features at timestep 3\n            [5, 2, 3]\n        ]]\n</code></pre>\n"}, {"tags": ["python", "django", "websocket", "django-channels", "daphne"], "owner": {"reputation": 379, "user_id": 280709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88f759f1a3c239354b54caa488fd1956?s=128&d=identicon&r=PG", "display_name": "David L Ernstrom", "link": "https://stackoverflow.com/users/280709/david-l-ernstrom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 404, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1536182363, "creation_date": 1536181909, "last_edit_date": 1536182363, "question_id": 52193436, "link": "https://stackoverflow.com/questions/52193436/how-to-architect-a-group-in-django-channels-so-that-the-24-hour-group-expiry-tim", "title": "How to architect a Group in Django Channels so that the 24 hour group_expiry time does not harm my communication?", "body": "<p>In my infrastructure, I have a fleet of RPi devices that connect in to our webserver over a websocket.  The websocket connection ideally remains open permanently and acts as the conduit where the server can push information down to the RPi device, and the RPi can send information back to the server.</p>\n\n<p>When the RPi device connects in to Channels, it joins a specific group based on the configuration in the connection payload.  The server doesn't need to know what devices are connected because it uses the same heuristic to algorithmically determine the group name to send out information to appropriate devices, if they'd exist.</p>\n\n<p>The place I'm getting destroyed is the group_expiry time in channels is set to 24 hours.  Additionally, the websocket timeout is also set to 24 hours.  I can deal with the websocket timeout because the JavaScript code will automatically attempt a reconnection as necessary.  However, when the group expires after 24 hours, my devices stop receiving the communication over the group.</p>\n\n<p>The net effect is that every 24 hours, I have to bounce Daphne in order to have all of the groups reset and recreated.  Exactly 24 hours later, Channels purges the groups and everything comes to a standstill again.</p>\n\n<p>I've looked at this issue thread: <a href=\"https://github.com/django/channels/issues/999\" rel=\"noreferrer\">https://github.com/django/channels/issues/999</a>.  I've considered adjusting the timeouts much higher, but I don't know if that would have any adverse implications to any other parts of the infrastructure.  Groups will always be controlled and so I don't believe I really benefit at all from the housekeeping that the group_expiry does for me.</p>\n\n<p>Are there any adverse implications of finding a way to disable the group expiry?  Is there a different architectural approach I should be leveraging, for instance, wire up the date into the group name and automatically create groups and membership with the current date so that the groups can expire without bringing the communication down? (that contrived example was admittedly silly).  I guess I'm looking for architectural advice.</p>\n\n<p>Perhaps I'm even going down the wrong road entirely.  I guess I should first <em>prove</em> that it really is the group expiry timeout that is killing me by figuring out how to change it to something like 2 hours and see if the site goes out.</p>\n\n<p>Here's the package where the group_expiry setting is discussed:\n<a href=\"https://github.com/django/channels_redis\" rel=\"noreferrer\">https://github.com/django/channels_redis</a></p>\n"}, {"tags": ["python", "set"], "comments": [{"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 1, "creation_date": 1536181964, "post_id": 52193406, "comment_id": 91336676, "body": "A set contains unique entries, you can&#39;t have duplicates, so why are you using a <code>set</code>?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1536181972, "post_id": 52193406, "comment_id": 91336678, "body": "Once it&#39;s converted to a set, there <i>are</i> no duplicates. To contain duplicates, it would have to be a bag, not a set. (Python doesn&#39;t have bags as such, but there&#39;s discussion of them in <a href=\"https://docs.python.org/3.2/library/collections.html\" rel=\"nofollow noreferrer\">docs.python.org/3.2/library/collections.html</a>)"}], "answers": [{"tags": [], "owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1536183764, "last_edit_date": 1536183764, "creation_date": 1536182494, "answer_id": 52193548, "question_id": 52193406, "link": "https://stackoverflow.com/questions/52193406/duplications-in-an-unordered-set/52193548#52193548", "title": "Duplications in an unordered set", "body": "<p>Use a <code>collections.Counter</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import Counter\n&gt;&gt;&gt;\n&gt;&gt;&gt; filtered_backup_config = ['hello','world','testing','testing']\n&gt;&gt;&gt; rendered_config = ['hello','testing','world']\n&gt;&gt;&gt; filtered_set = Counter(filtered_backup_config)\n&gt;&gt;&gt; rendered_set = Counter(rendered_config)\n&gt;&gt;&gt; minus_commands = filtered_set - rendered_set\n&gt;&gt;&gt; print minus_commands\nCounter({'testing': 1})\n&gt;&gt;&gt; print list(minus_commands.elements())\n['testing']\n</code></pre>\n\n<p><strong>UPD: Preserving the order</strong></p>\n\n<pre><code>def filter_existing(lst, counter):\n    counter = Counter(counter)  # make a copy to avoid modifying the passed-in counter\n    result = []\n\n    for item in lst:\n        if counter[item] &gt; 0:\n            counter[item] -= 1\n        else:\n            result.append(item)\n\n    return result\n\n\nfiltered_backup_config = ['hello', 'world', 'testing', 'testing']\nrendered_config = ['hello', 'testing', 'world']\nrendered_set = Counter(rendered_config)\n\nprint filter_existing(filtered_backup_config, rendered_set)\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 10023918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db49a5c07f872428c762e2c1c7b34e1d?s=128&d=identicon&r=PG&f=1", "display_name": "python_newbie", "link": "https://stackoverflow.com/users/10023918/python-newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1536183764, "creation_date": 1536181757, "question_id": 52193406, "link": "https://stackoverflow.com/questions/52193406/duplications-in-an-unordered-set", "title": "Duplications in an unordered set", "body": "<p>How do I account for duplication? Notice I have 4 elements in filtered_backup_config and only 3 elements in rendered_config. However, I have an addition 'testing' element in filtered_backup_config. When it compares with rendered_config, it thinks that 'testing' already exist, therefore minus_commands shows empty. Ideal output should display minus_commands = ['testing'].</p>\n\n<pre><code>&gt;&gt;&gt; filtered_backup_config = ['hello','world','testing','testing']\n&gt;&gt;&gt; rendered_config = ['hello','testing','world']\n&gt;&gt;&gt; filtered_set = set(filtered_backup_config)\n&gt;&gt;&gt; rendered_set = set(rendered_config)\n&gt;&gt;&gt; minus_commands = [x for x in filtered_backup_config if x not in rendered_set]\n&gt;&gt;&gt; plus_commands = [x for x in rendered_config if x not in filtered_set]\n&gt;&gt;&gt; print minus_commands\n[]\n&gt;&gt;&gt; print plus_commands\n[]\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python", "django", "list", "dictionary", "key"], "comments": [{"owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "edited": false, "score": 1, "creation_date": 1536180984, "post_id": 52193263, "comment_id": 91336289, "body": "Could you please post the full traceback that Python gives you?"}, {"owner": {"reputation": 914, "user_id": 2957890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/643683633/picture?type=large", "display_name": "T.Woody", "link": "https://stackoverflow.com/users/2957890/t-woody"}, "edited": false, "score": 0, "creation_date": 1536181047, "post_id": 52193263, "comment_id": 91336310, "body": "Your problem is defined in the error message. You are indexing a list with a string, but you need to index the list with a slice or an int."}, {"owner": {"reputation": 466, "user_id": 2366504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/68cc961789c35216b3f8693a43d8a29d?s=128&d=identicon&r=PG", "display_name": "Niels", "link": "https://stackoverflow.com/users/2366504/niels"}, "edited": false, "score": 0, "creation_date": 1536181096, "post_id": 52193263, "comment_id": 91336331, "body": "row = {} defines a dict, not a list, no?"}, {"owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "edited": false, "score": 0, "creation_date": 1536181259, "post_id": 52193263, "comment_id": 91336389, "body": "Hint: believe specific error messages."}, {"owner": {"reputation": 466, "user_id": 2366504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/68cc961789c35216b3f8693a43d8a29d?s=128&d=identicon&r=PG", "display_name": "Niels", "link": "https://stackoverflow.com/users/2366504/niels"}, "edited": false, "score": 0, "creation_date": 1536181478, "post_id": 52193263, "comment_id": 91336477, "body": "isinstance(header, list) gives False"}, {"owner": {"reputation": 466, "user_id": 2366504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/68cc961789c35216b3f8693a43d8a29d?s=128&d=identicon&r=PG", "display_name": "Niels", "link": "https://stackoverflow.com/users/2366504/niels"}, "edited": false, "score": 0, "creation_date": 1536181533, "post_id": 52193263, "comment_id": 91336500, "body": "header is defenitely an str"}, {"owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "edited": false, "score": 0, "creation_date": 1536181567, "post_id": 52193263, "comment_id": 91336516, "body": "Ah but what does isinstance(row, dictionary) give?"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 1, "creation_date": 1536181700, "post_id": 52193263, "comment_id": 91336570, "body": "Split the line <code>row[header] = getattr(doc, header)</code> into two: <code>rh = getattr(doc, header)</code> then <code>row[header] = rh</code>.  This should at least resolve which part of that line is in error."}, {"owner": {"reputation": 466, "user_id": 2366504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/68cc961789c35216b3f8693a43d8a29d?s=128&d=identicon&r=PG", "display_name": "Niels", "link": "https://stackoverflow.com/users/2366504/niels"}, "edited": false, "score": 0, "creation_date": 1536181840, "post_id": 52193263, "comment_id": 91336628, "body": "isinstance(row, dictionary) is False, so, row = {} does not define dict then...?"}, {"owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "edited": false, "score": 0, "creation_date": 1536181872, "post_id": 52193263, "comment_id": 91336639, "body": "@Niels: I checked. It does. Something exotic is going on here."}, {"owner": {"reputation": 466, "user_id": 2366504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/68cc961789c35216b3f8693a43d8a29d?s=128&d=identicon&r=PG", "display_name": "Niels", "link": "https://stackoverflow.com/users/2366504/niels"}, "reply_to_user": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1536182047, "post_id": 52193263, "comment_id": 91336708, "body": "@cdarke, this does not give an error but places the headers in every row"}, {"owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "edited": false, "score": 1, "creation_date": 1536182256, "post_id": 52193263, "comment_id": 91336782, "body": "I can&#39;t think of how, but your code is behaving like the row variable is at global scope and another thread clobbered it."}, {"owner": {"reputation": 466, "user_id": 2366504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/68cc961789c35216b3f8693a43d8a29d?s=128&d=identicon&r=PG", "display_name": "Niels", "link": "https://stackoverflow.com/users/2366504/niels"}, "reply_to_user": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1536182353, "post_id": 52193263, "comment_id": 91336813, "body": "when i split it, as @cdarke suggested, it works, so I think you&#39;re right, somehow"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1536182502, "post_id": 52193263, "comment_id": 91336862, "body": "Use a different variable name than <code>row</code>?  Are you using decorators on this function?"}, {"owner": {"reputation": 466, "user_id": 2366504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/68cc961789c35216b3f8693a43d8a29d?s=128&d=identicon&r=PG", "display_name": "Niels", "link": "https://stackoverflow.com/users/2366504/niels"}, "edited": false, "score": 0, "creation_date": 1536182676, "post_id": 52193263, "comment_id": 91336921, "body": "Not conciously, no :)"}, {"owner": {"reputation": 466, "user_id": 2366504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/68cc961789c35216b3f8693a43d8a29d?s=128&d=identicon&r=PG", "display_name": "Niels", "link": "https://stackoverflow.com/users/2366504/niels"}, "edited": false, "score": 0, "creation_date": 1536183500, "post_id": 52193263, "comment_id": 91337198, "body": "changing row to something else (rrow) did it, then it suddenly works, don&#39;t know why"}], "answers": [{"tags": [], "owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "is_accepted": true, "score": 0, "last_activity_date": 1536184026, "creation_date": 1536184026, "answer_id": 52193794, "question_id": 52193263, "link": "https://stackoverflow.com/questions/52193263/adding-a-key-value-pair-to-dict/52193794#52193794", "title": "adding a key value pair to dict", "body": "<p>Answer confirmed from comments:</p>\n\n<p>Variable <code>row</code> is at a higher scope already, so writes to it are getting overwritten by writes to it by another thread.</p>\n\n<p>Changing the name of <code>row</code> to something else made the problem go away.</p>\n"}], "owner": {"reputation": 466, "user_id": 2366504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/68cc961789c35216b3f8693a43d8a29d?s=128&d=identicon&r=PG", "display_name": "Niels", "link": "https://stackoverflow.com/users/2366504/niels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 52193794, "answer_count": 1, "score": 0, "last_activity_date": 1536184026, "creation_date": 1536180864, "last_edit_date": 1536181141, "question_id": 52193263, "link": "https://stackoverflow.com/questions/52193263/adding-a-key-value-pair-to-dict", "title": "adding a key value pair to dict", "body": "<p>In the following code I get an error at 'row[header]':</p>\n\n<pre><code>for field in Document._meta.get_fields():\n    headers.append(field.name)\n\ndocs = Document.objects.order_by('id')\nfor doc in docs:\n    row = {}\n    for header in headers:\n        if hasattr(doc, header):\n            row[header] = getattr(doc, header)\n    files.append(row)\n</code></pre>\n\n<p>Python says: TypeError: list indices must be integers or slices, not str</p>\n\n<p>What goes wrong?</p>\n\n<p>Python traceback:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/niels/PycharmProjects/sitesv/env/lib/python3.5/site-packages/django/core/handlers/exception.py\", line 34, in inner\n    response = get_response(request)\n  File \"/home/niels/PycharmProjects/sitesv/env/lib/python3.5/site-packages/django/core/handlers/base.py\", line 126, in _get_response\n    response = self.process_exception_by_middleware(e, request)\n  File \"/home/niels/PycharmProjects/sitesv/env/lib/python3.5/site-packages/django/core/handlers/base.py\", line 124, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/home/niels/PycharmProjects/sitesv/files/views.py\", line 87, in get_file_list\n    row[header] = getattr(doc, header)\nTypeError: list indices must be integers or slices, not str\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 320, "user_id": 8729183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcea5a2664954774b25a990d72d12603?s=128&d=identicon&r=PG&f=1", "display_name": "Haskar P", "link": "https://stackoverflow.com/users/8729183/haskar-p"}, "edited": false, "score": 0, "creation_date": 1536180686, "post_id": 52193204, "comment_id": 91336169, "body": "If its just the months that are the issue , you can map onto that column to replace it with recognizable formats"}, {"owner": {"reputation": 518, "user_id": 8910983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e01f9fc098503ba4ccdecfedb1822?s=128&d=identicon&r=PG", "display_name": "not_a_bot_no_really_82353", "link": "https://stackoverflow.com/users/8910983/not-a-bot-no-really-82353"}, "edited": false, "score": 0, "creation_date": 1536180883, "post_id": 52193204, "comment_id": 91336249, "body": "Is it the same time system? Do you need to only adjust the months or do you have  to recognize  hours and minutes and adjust them to a different timezone?"}, {"owner": {"reputation": 75, "user_id": 10260561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f734c9f8eafdb69841966d70547335?s=128&d=identicon&r=PG", "display_name": "redhotsnow", "link": "https://stackoverflow.com/users/10260561/redhotsnow"}, "edited": false, "score": 0, "creation_date": 1536250185, "post_id": 52193204, "comment_id": 91365797, "body": "Same time system, only the month names are different."}], "answers": [{"tags": [], "owner": {"reputation": 518, "user_id": 8910983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e01f9fc098503ba4ccdecfedb1822?s=128&d=identicon&r=PG", "display_name": "not_a_bot_no_really_82353", "link": "https://stackoverflow.com/users/8910983/not-a-bot-no-really-82353"}, "is_accepted": false, "score": 0, "last_activity_date": 1536181174, "creation_date": 1536181174, "answer_id": 52193310, "question_id": 52193204, "link": "https://stackoverflow.com/questions/52193204/pandas-read-csv-parse-foreign-dates/52193310#52193310", "title": "pandas read_csv parse foreign dates", "body": "<p>The easiest solution would be to simply use 12 times the <code>str.replace(old, new)</code> function.</p>\n\n<p>It is not pretty but if you just built the function:</p>\n\n<pre><code>def translater(date_string_with_exatly_one_date):\n    date_str = date_string_with_exatly_one_date\n    date_str = date_str.replace(\"iulie\", \"july\")\n    date_str = date_str.replace(\"septembrie\", \"september\")\n    #do this 10 more times with the right translation\n    return date_str\n</code></pre>\n\n<p>Now you just have to call it for every entry. After that you can handle it like a US date string. This is not very efficient but it will get the job done and you do not have to search for special libraries.</p>\n"}, {"tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": false, "score": 3, "last_activity_date": 1536181980, "creation_date": 1536181980, "answer_id": 52193451, "question_id": 52193204, "link": "https://stackoverflow.com/questions/52193204/pandas-read-csv-parse-foreign-dates/52193451#52193451", "title": "pandas read_csv parse foreign dates", "body": "<p>you can pass a converter for that column:</p>\n\n<pre><code>df = pd.read_csv(myfile, converters={'date_column': foreign_date_converter})\n</code></pre>\n\n<p>But first you have to define the converter to do what you want. This approach uses locale manipulation:</p>\n\n<pre><code>def foreign_date_converter(text):\n    # Resets locale to \"ro_RO\" to parse romanian date properly\n    # (non thread-safe code)\n    loc = locale.getlocale(locale.LC_TIME)\n    locale.setlocale(locale.LC_TIME, 'ro_RO')\n    date = datetime.datetime.strptime(text '%d %b %Y').date()\n    locale.setlocale(locale.LC_TIME, loc) # restores locale\n    return date\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "is_accepted": false, "score": 2, "last_activity_date": 1536184230, "last_edit_date": 1536184230, "creation_date": 1536182118, "answer_id": 52193477, "question_id": 52193204, "link": "https://stackoverflow.com/questions/52193204/pandas-read-csv-parse-foreign-dates/52193477#52193477", "title": "pandas read_csv parse foreign dates", "body": "<p>Use <a href=\"https://dateparser.readthedocs.io/en/v0.7.0/\" rel=\"nofollow noreferrer\">dateparser</a> module.</p>\n\n<pre><code>import dateparser\ndf = pd.read_csv('yourfile.csv', parse_dates=['date'], date_parser=dateparser.parse)\n</code></pre>\n\n<p>Enter your date column name in <code>parse_dates</code> parameter. I'm just assuming it as <code>date</code></p>\n\n<p>You may have output like this:</p>\n\n<pre><code>      date\n0   2017-09-26    \n1   2017-07-13      \n</code></pre>\n\n<p>If you want to change the format use <code>strftime</code> <a href=\"http://strftime.org/\" rel=\"nofollow noreferrer\">strftime</a></p>\n\n<pre><code>df['date'] = df.date.dt.strftime(date_format = '%d %B %Y')\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>      date\n0   26 September 2017\n1        13 July 2017\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 10260561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f734c9f8eafdb69841966d70547335?s=128&d=identicon&r=PG", "display_name": "redhotsnow", "link": "https://stackoverflow.com/users/10260561/redhotsnow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1536184230, "creation_date": 1536180565, "question_id": 52193204, "link": "https://stackoverflow.com/questions/52193204/pandas-read-csv-parse-foreign-dates", "title": "pandas read_csv parse foreign dates", "body": "<p>I am trying to use <code>read_csv</code> on a .csv file that contains a date column. The problem is that the date column is in a foreign language (romanian), with entries like:</p>\n\n<p>'26 septembrie 2017'</p>\n\n<p>'13 iulie 2017'</p>\n\n<p>etc. How can I parse this nicely into a pandas dataframe which has a US date format?</p>\n"}, {"tags": ["python", "python-3.x", "inner-classes"], "comments": [{"owner": {"reputation": 1587, "user_id": 3520965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31fd95e9573fb19ea05a8f928d905f39?s=128&d=identicon&r=PG&f=1", "display_name": "Dalvenjia", "link": "https://stackoverflow.com/users/3520965/dalvenjia"}, "edited": false, "score": 0, "creation_date": 1536184270, "post_id": 52193201, "comment_id": 91337436, "body": "It&#39;s possible but I don&#39;t have time for a proper answer right now, I&#39;ll come back later to answer if no one has posted yet, meanwhile take a look at the <code>__get__</code> and <code>__set__</code> magic methods and how they receive an <code>instance</code> parameter, you can instantiate your <code>Order</code> class inside your <code>Api</code> class and leverage this methods"}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 7600477, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--PPXu5OywAc/AAAAAAAAAAI/AAAAAAAAABM/RMUsDJT6Ayk/photo.jpg?sz=128", "display_name": "LegendaryJLD", "link": "https://stackoverflow.com/users/7600477/legendaryjld"}, "edited": false, "score": 0, "creation_date": 1536181270, "post_id": 52193273, "comment_id": 91336392, "body": "This would work, but then I would have to type <code>Order.get(api, orderId=12345)</code> which while not super problematic, isn&#39;t the goal I&#39;m trying to accomplish. Although it seems something like this might end up being my solution."}, {"owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "reply_to_user": {"reputation": 138, "user_id": 7600477, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--PPXu5OywAc/AAAAAAAAAAI/AAAAAAAAABM/RMUsDJT6Ayk/photo.jpg?sz=128", "display_name": "LegendaryJLD", "link": "https://stackoverflow.com/users/7600477/legendaryjld"}, "edited": false, "score": 0, "creation_date": 1536181344, "post_id": 52193273, "comment_id": 91336428, "body": "If I were you, I would make a <code>get_order</code> method in the Api class which would return <code>Order(api=self, ...)</code> and then work with that order."}, {"owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "reply_to_user": {"reputation": 138, "user_id": 7600477, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--PPXu5OywAc/AAAAAAAAAAI/AAAAAAAAABM/RMUsDJT6Ayk/photo.jpg?sz=128", "display_name": "LegendaryJLD", "link": "https://stackoverflow.com/users/7600477/legendaryjld"}, "edited": false, "score": 0, "creation_date": 1536181382, "post_id": 52193273, "comment_id": 91336443, "body": "On an unrelated note, <code>camelCased</code> names (like <code>orderId</code> in your comment) are not pythonic, you should use <code>snake_case</code>."}, {"owner": {"reputation": 138, "user_id": 7600477, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--PPXu5OywAc/AAAAAAAAAAI/AAAAAAAAABM/RMUsDJT6Ayk/photo.jpg?sz=128", "display_name": "LegendaryJLD", "link": "https://stackoverflow.com/users/7600477/legendaryjld"}, "edited": false, "score": 0, "creation_date": 1536182727, "post_id": 52193273, "comment_id": 91336938, "body": "I am aware, but the API this is being created for uses CamelCase for their properties (in JSON). I thought it would be less confusing to keep that consistent, and also so I don&#39;t have to convert/swap between the two."}], "tags": [], "owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1536180901, "creation_date": 1536180901, "answer_id": 52193273, "question_id": 52193201, "link": "https://stackoverflow.com/questions/52193201/referencing-parent-object-instance-from-inner-class/52193273#52193273", "title": "Referencing parent object instance from inner class", "body": "<p>Inner classes in Python are just separate classes, and their instances are not in any way automatically associated with an instance of an outer class.</p>\n\n<p>I would suggest a solution in which the constructor of <code>Order</code> would take an <code>Api</code> instance as an argument and work with that instance:</p>\n\n<pre><code>class Api(object):\n    def __init__(self, user=None, pswd=None):\n        self.user = user\n        self.pswd = pswd\n\nclass Order(object):\n    def __init__(self, api, status=None):\n        self.api = api\n        self.status = status\n\n    @classmethod\n    def get(cls, api, value):\n        return cls(api, status=value)\n\n    def create(self):\n        auth = Auth(self.api.user, self.api.pswd)\n        return x\n\n    def update(self):\n        auth = Auth(self.api.user, self.api.pswd)\n        return x\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 138, "user_id": 7600477, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--PPXu5OywAc/AAAAAAAAAAI/AAAAAAAAABM/RMUsDJT6Ayk/photo.jpg?sz=128", "display_name": "LegendaryJLD", "link": "https://stackoverflow.com/users/7600477/legendaryjld"}, "edited": false, "score": 0, "creation_date": 1539278796, "post_id": 52195565, "comment_id": 92454291, "body": "I was able to use this to accomplish exactly what I wanted. Thank you."}], "tags": [], "owner": {"reputation": 1587, "user_id": 3520965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31fd95e9573fb19ea05a8f928d905f39?s=128&d=identicon&r=PG&f=1", "display_name": "Dalvenjia", "link": "https://stackoverflow.com/users/3520965/dalvenjia"}, "is_accepted": true, "score": 1, "last_activity_date": 1536200041, "creation_date": 1536200041, "answer_id": 52195565, "question_id": 52193201, "link": "https://stackoverflow.com/questions/52193201/referencing-parent-object-instance-from-inner-class/52195565#52195565", "title": "Referencing parent object instance from inner class", "body": "<p>This demonstrates a basic implementation of what I think you want to do, I found this better than the <code>__get__</code>, <code>__set__</code> hackery that I had in mind when I commented your question</p>\n\n<pre><code>import requests\n\nclass Order:\n    def __init__(self, user:str, passwd: str):\n        self.session = requests.Session()\n        self.session.auth = (user, passwd)\n        self.status = None\n\n    # This is only to make the class callable, since the class is\n    # already instantiated in Api init calling it again would raise an exception\n    def __call__(self, **kwargs):\n        for key, value in kwargs.items():\n            setattr(self, key, value)\n        return self\n\n    def get(self):\n        response = self.session.get('https://httpbin.org/basic-auth/my_user/my_pass')\n        print(response.text)\n\n    def post(self):\n        response = self.session.post('https://httpbin.org/post', data={'status': self.status})\n        print(response.text)\n\n\nclass Api:\n    def __init__(self, user: str, passwd: str):\n        self.Order = Order(user, passwd)\n</code></pre>\n"}], "owner": {"reputation": 138, "user_id": 7600477, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--PPXu5OywAc/AAAAAAAAAAI/AAAAAAAAABM/RMUsDJT6Ayk/photo.jpg?sz=128", "display_name": "LegendaryJLD", "link": "https://stackoverflow.com/users/7600477/legendaryjld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 1, "accepted_answer_id": 52195565, "answer_count": 2, "score": 0, "last_activity_date": 1536200041, "creation_date": 1536180564, "question_id": 52193201, "link": "https://stackoverflow.com/questions/52193201/referencing-parent-object-instance-from-inner-class", "title": "Referencing parent object instance from inner class", "body": "<p>I'm trying to create a syntax friendly library that doesn't require the user to constantly pass in credentials or type redundant or excessive statements. My strategy is to focus on how I intend the library syntax to look, and then design the library to function in that way. I know I can implement the following:</p>\n\n<pre><code>api = Api(user=\"admin\", pswd=\"blahblah\")\n\nnew_order = api.Order()\nnew_order.status = \"pending\"\napi.create(new_order)\napi.order_assign_user(new_order, user)\n\nexisting_order = api.get_order(orderId=12345)\nexisting_order.status = \"shipped\"\napi.update(existing_order)\n</code></pre>\n\n<p>using something like the following:</p>\n\n<pre><code>class Api(object):\n    def __init__(self, user=None, pswd=None):\n        self.user = user\n        self.pswd = pswd\n\n    class Order(api):\n        def __init__ (self, status=None):\n            self.status = status\n\n    def create(self, x):\n        auth = Auth(self.user, self.pswd)\n        # use authorization credentials to create data remotely\n        return x\n\n    def update(self, x):\n        auth = Auth(self.user, self.pswd)\n        # use authorization credentials to update data from remote\n        return x\n\n    def get_order(self, orderId=None):\n        auth = Auth(self.user, self.pswd)\n        # use authorization credentials to update data from remote\n        return order\n</code></pre>\n\n<hr>\n\n<p>But I'd like to be able to use the following statements:</p>\n\n<pre><code>new_order.create() # instead of api.create(new_order)\n\nnew_order.assign_user(user) # instead of api.order_assign_user(new_order, user)\n\nexisting_order = api.Order.get(orderId=12345) # returns retrieved Order Instance\n</code></pre>\n\n<h2>Which presents me with a problem:</h2>\n\n<p>How would I get the <code>Order()</code> instance to access attributes of the <code>Api()</code> instance that created it? Without access to these, any attributes like 'user' and 'pswd' would be inaccessible (they're needed for requests.get() calls)</p>\n\n<p>I've tried variations of functions and classes to accomplish this, but could never solve this problem. This is the closest I've been able to achieve:</p>\n\n<pre><code>class Api(object):\n    def __init__(self, user=None, pswd=None):\n        self.user = user\n        self.pswd = pswd\n\n    class Order(api):\n        def __init__ (self, status=None):\n            self.status = status\n\n        @classmethod\n        def get(cls, value):\n            return cls(status=value)\n\n        def create(self):\n            auth = Auth(self.user, self.pswd) \n            # these credentials need to come from the Api() instance?, not self\n            return x\n\n        def update(self):\n            auth = Auth(self.user, self.pswd) \n            # these credentials need to come from the Api() instance?, not self\n            return x\n</code></pre>\n\n<p>Is this possible? Or am I going about this the wrong way? I've considered making this into a module but that didn't seem to be a valid option either.</p>\n"}, {"tags": ["php", "python", "utf-8", "ascii", "data-cleaning"], "answers": [{"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 1, "last_activity_date": 1536181077, "last_edit_date": 1536181077, "creation_date": 1536180744, "answer_id": 52193236, "question_id": 52193162, "link": "https://stackoverflow.com/questions/52193162/python-equivalent-of-php-filter-flag-strip-high/52193236#52193236", "title": "Python equivalent of php FILTER_FLAG_STRIP_HIGH", "body": "<p>Encode your string to ASCII, ignoring errors, then decode that back to a string.</p>\n\n<pre><code>text = \"\u0192art\"\ntext = text.encode(\"ascii\", \"ignore\").decode()\nprint(text)     # art\n</code></pre>\n\n<p>If you are starting with a byte string in UTF-8, then you just need to decode it:</p>\n\n<pre><code>bites = \"\u0192art\".encode(\"utf8\")\ntext = bites.decode(\"ascii\", \"ignore\")\nprint(text)     # art\n</code></pre>\n\n<p>This works specifically with UTF-8 because multi-byte characters always use values outside of the ASCII range, so partial characters are never stripped out. It mightn't work so well with other encodings.</p>\n"}], "owner": {"reputation": 3605, "user_id": 2080074, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/91f8d8b4fb17e39763de322eb32bb7b2?s=128&d=identicon&r=PG", "display_name": "jonnyjandles", "link": "https://stackoverflow.com/users/2080074/jonnyjandles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 52193236, "answer_count": 1, "score": 0, "last_activity_date": 1536181718, "creation_date": 1536180393, "last_edit_date": 1536181718, "question_id": 52193162, "link": "https://stackoverflow.com/questions/52193162/python-equivalent-of-php-filter-flag-strip-high", "title": "Python equivalent of php FILTER_FLAG_STRIP_HIGH", "body": "<p>Parsing a large data set of poor quality data converted from pysical form using OCR and using PostgreSQL COPY to insert .csv files into psql.  Some records have ASCII bytes that are causing errors to import into postgres since I want the data in UTF-8 varchar(), as I believe that using a TEXT type column would not produce this error.  </p>\n\n<pre><code>DataError: invalid byte sequence for encoding \"UTF8\": 0xd6 0x53\nCONTEXT:  COPY table_name, line 112809\n</code></pre>\n\n<p>I want to filter all these bytes before writing to the csv file.</p>\n\n<p>I believe something like PHP's FILTER_FLAG_STRIP_HIGH (<a href=\"http://php.net/manual/en/filter.filters.sanitize.php\" rel=\"nofollow noreferrer\">http://php.net/manual/en/filter.filters.sanitize.php</a>) would work since it can remove all  high ASCII value > 127.</p>\n\n<p>Is there such a function in python?  </p>\n"}, {"tags": ["python", "twitter", "tweepy"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10308149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c447f9318c4635c070a5963883f650?s=128&d=identicon&r=PG&f=1", "display_name": "TheEngiNerd", "link": "https://stackoverflow.com/users/10308149/theenginerd"}, "is_accepted": true, "score": 0, "last_activity_date": 1536254533, "creation_date": 1536254533, "answer_id": 52209280, "question_id": 52193146, "link": "https://stackoverflow.com/questions/52193146/does-the-python-tweepy-userstream-method-still-work/52209280#52209280", "title": "Does the Python Tweepy &#39;userstream&#39; method still work?", "body": "<p>In all the web searching I did for this, I did not get back this link from github discussing this exact issue.</p>\n\n<p><a href=\"https://github.com/tweepy/tweepy/issues/1092\" rel=\"nofollow noreferrer\">https://github.com/tweepy/tweepy/issues/1092</a></p>\n\n<p>Basically, tweepy.userstream is now broke, and you need to use the .filter to get users feeds streamed.</p>\n"}], "owner": {"reputation": 1, "user_id": 10308149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c447f9318c4635c070a5963883f650?s=128&d=identicon&r=PG&f=1", "display_name": "TheEngiNerd", "link": "https://stackoverflow.com/users/10308149/theenginerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 52209280, "answer_count": 1, "score": 0, "last_activity_date": 1536254533, "creation_date": 1536180332, "last_edit_date": 1536183258, "question_id": 52193146, "link": "https://stackoverflow.com/questions/52193146/does-the-python-tweepy-userstream-method-still-work", "title": "Does the Python Tweepy &#39;userstream&#39; method still work?", "body": "<p>I have the following code:</p>\n\n<pre><code>import tweepy\n\nckey =''\ncsecret =''\natoken =''\nasecret =''\n\nauth = OAuthHandler(ckey, csecret)\nauth.set_access_token(atoken, asecret)\napi = tweepy.API(auth)\n\nclass MyStreamListener(tweepy.StreamListener):\n\n    def on_status(self, status):\n        print(status.text)\n    def on_error(self, status):\n        print(status)\n\nmyStreamListener = MyStreamListener()\nmyStream = tweepy.Stream(auth = api.auth, listener=myStreamListener , tweet_mode='extended')\n\nmyStream.userstream(async=True)\n</code></pre>\n\n<p>When it runs, it will print out a response code of '410', which is:</p>\n\n<blockquote>\n  <p>\"This resource is gone. Used to indicate that an API endpoint has been\n  turned off.\"</p>\n</blockquote>\n\n<p>I used this method earlier this year, but coming back to it recently, I find it is not working.</p>\n\n<p>Can anyone confirm if this method is still working?  I saw something about Twitter deprecating some functions, but was not sure if this was one of those functions.</p>\n\n<p>As a work around, I am using:</p>\n\n<pre><code>mystream.filter(follow=['123123123'], async=True)\n</code></pre>\n\n<p>I am using Tweepy 3.6.0, Python 3.6.1 (Windows 7)</p>\n"}, {"tags": ["python", "html", "xpath"], "comments": [{"owner": {"reputation": 636, "user_id": 8700767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI4sM.jpg?s=128&g=1", "display_name": "Federico Rubbi", "link": "https://stackoverflow.com/users/8700767/federico-rubbi"}, "edited": false, "score": 0, "creation_date": 1536180911, "post_id": 52193143, "comment_id": 91336259, "body": "Just open the html file in the browser and right click on it to inspect it. Then right click on the element in the source and go to _Copy_&gt;_Xpath."}, {"owner": {"reputation": 379, "user_id": 9176398, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be55a9fe9ebfb0925c7f16ba7efad493?s=128&d=identicon&r=PG", "display_name": "user9176398", "link": "https://stackoverflow.com/users/9176398/user9176398"}, "reply_to_user": {"reputation": 636, "user_id": 8700767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI4sM.jpg?s=128&g=1", "display_name": "Federico Rubbi", "link": "https://stackoverflow.com/users/8700767/federico-rubbi"}, "edited": false, "score": 0, "creation_date": 1536214927, "post_id": 52193143, "comment_id": 91344518, "body": "That&#39;s not help me, if I choose xpath with sup I got only the superior term er, if I choose xpath span I got the rest but I want both"}], "answers": [{"tags": [], "owner": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "is_accepted": true, "score": 1, "last_activity_date": 1536224643, "creation_date": 1536224643, "answer_id": 52200410, "question_id": 52193143, "link": "https://stackoverflow.com/questions/52193143/xpath-dealing-with-span-and-sup/52200410#52200410", "title": "Xpath dealing with SPAN and SUP", "body": "<p>Based on the question and OP's comment, He should be able to modify the XPath query slightly to accept both <code>span</code> and <code>sup</code> elements:</p>\n\n<pre><code>q = \"//*[@id=\"main\"]/article/div/table/tbody/tr/td/*[self::span|self::sup]/text()\"\nspan_xpath = tree.xpath(q)\n</code></pre>\n"}], "owner": {"reputation": 379, "user_id": 9176398, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be55a9fe9ebfb0925c7f16ba7efad493?s=128&d=identicon&r=PG", "display_name": "user9176398", "link": "https://stackoverflow.com/users/9176398/user9176398"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 52200410, "answer_count": 1, "score": -3, "last_activity_date": 1612375778, "creation_date": 1536180307, "last_edit_date": 1612375778, "question_id": 52193143, "link": "https://stackoverflow.com/questions/52193143/xpath-dealing-with-span-and-sup", "title": "Xpath dealing with SPAN and SUP", "body": "<p>I'm trying to webscrape holiday table on that website file:///C:/Users/alexa/AppData/Local/Temp/tmptz9muzp9.html\ni got headers and first and third columns but the 2nd columns looks like :</p>\n<pre><code>&lt;td&gt;\n&lt;span&gt;1&lt;span&gt;\n&lt;sup&gt;er &lt;sup&gt;\n&lt;span&gt; ...\n</code></pre>\n<p>when i use my xpath : <code>span_xpath = tree.xpath('//*[@id=&quot;main&quot;]/article/div/table/tbody/tr/td/span/text()') </code></p>\n<p>it returns a list where the sup 1&quot;er&quot; is not here and add a additional line with an undesired code</p>\n<pre><code>   ['1',\n '\\xa0janvier (lundi)',\n '1',\n '\\xa0janvier (mardi)',\n '2 avril',\n '1',\n '\\xa0mai (mardi)',\n '1',\n '\\xa0mai (mercredi)',\n '10 mai (jeudi)',\n '21 mai',\n '23 juin (samedi)',\n '23 juin (dimanche)',\n '15 ao\u00fbt (mercredi)',\n '1',\n '\\xa0novembre (jeudi)',\n '1',\n '\\xa0novembre (vendredi)',\n '25 d\u00e9cembre (mardi)',\n '25 d\u00e9cembre (mercredi)',\n '26 d\u00e9cembre (mercredi)']\n</code></pre>\n<p>i would like the whole path with span and sup.</p>\n"}, {"tags": ["python", "django", "django-2.1"], "answers": [{"comments": [{"owner": {"reputation": 341, "user_id": 9608133, "user_type": "registered", "profile_image": "https://graph.facebook.com/1919186224760593/picture?type=large", "display_name": "Nairum", "link": "https://stackoverflow.com/users/9608133/nairum"}, "edited": false, "score": 0, "creation_date": 1565109161, "post_id": 52193869, "comment_id": 101245374, "body": "<code>Unsolved reverence &#39;context&#39;</code> error for this line of code: <code>equest = context[&#39;request&#39;]</code> How to fix this?"}, {"owner": {"reputation": 889, "user_id": 4782726, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/tOkR9.jpg?s=128&g=1", "display_name": "petr", "link": "https://stackoverflow.com/users/4782726/petr"}, "reply_to_user": {"reputation": 341, "user_id": 9608133, "user_type": "registered", "profile_image": "https://graph.facebook.com/1919186224760593/picture?type=large", "display_name": "Nairum", "link": "https://stackoverflow.com/users/9608133/nairum"}, "edited": false, "score": 0, "creation_date": 1565252416, "post_id": 52193869, "comment_id": 101296861, "body": "See <a href=\"https://docs.djangoproject.com/en/2.2/howto/custom-template-tags/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/2.2/howto/custom-template-tags</a> for the code example with <code>takes_context=True</code>."}], "tags": [], "owner": {"reputation": 889, "user_id": 4782726, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/tOkR9.jpg?s=128&g=1", "display_name": "petr", "link": "https://stackoverflow.com/users/4782726/petr"}, "is_accepted": true, "score": 3, "last_activity_date": 1581613725, "last_edit_date": 1581613725, "creation_date": 1536184487, "answer_id": 52193869, "question_id": 52193142, "link": "https://stackoverflow.com/questions/52193142/how-to-generate-absolute-urls-in-django-2-templates/52193869#52193869", "title": "How to generate absolute urls in Django 2 templates", "body": "<p>You can use the <code>build_absolute_uri()</code> referenced in the other thread and register a custom template tag. Request is supplied in the context (that you enable via <code>takes_context</code>) as long as you have <code>django.template.context_processors.request</code> included in your templates context processors.</p>\n\n<pre><code>from django.shortcuts import reverse\n\n@register.simple_tag(takes_context=True)\ndef absolute_url(context, view_name, *args, **kwargs):\n    request = context['request']\n    return request.build_absolute_uri(reverse(view_name, args=args, kwargs=kwargs))\n</code></pre>\n\n<p>More on where and how to do that <a href=\"https://docs.djangoproject.com/en/2.1/howto/custom-template-tags/\" rel=\"nofollow noreferrer\">in the docs</a>.</p>\n\n<p>Then you can use the tag in your template like this:</p>\n\n<pre><code>{% absolute_url 'verify_email' token=token email=email %}\n</code></pre>\n"}], "owner": {"reputation": 7055, "user_id": 2693543, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/c2tUD.jpg?s=128&g=1", "display_name": "Shobi", "link": "https://stackoverflow.com/users/2693543/shobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1368, "favorite_count": 1, "accepted_answer_id": 52193869, "answer_count": 1, "score": 1, "last_activity_date": 1581613725, "creation_date": 1536180285, "question_id": 52193142, "link": "https://stackoverflow.com/questions/52193142/how-to-generate-absolute-urls-in-django-2-templates", "title": "How to generate absolute urls in Django 2 templates", "body": "<p>I have an html template, which is used to render an email, in that template, I want to attach verification links.</p>\n\n<p>I am using the following code to generate the link</p>\n\n<pre><code>{% url 'verify_email' token=token email=email %}\n</code></pre>\n\n<p>but this one generates following URL instead of absolute URL. </p>\n\n<p><a href=\"https://i.stack.imgur.com/S01hW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S01hW.png\" alt=\"enter image description here\"></a></p>\n\n<p>I read this SO thread</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2345708/how-can-i-get-the-full-absolute-url-with-domain-in-django\">How can I get the full/absolute URL (with domain) in Django?</a></li>\n</ul>\n\n<p>and some initial google results but all of them seems old and not working for me. </p>\n\n<p><strong>TLDR:</strong> How do I generate absolute URLs in Django2 template files </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 320, "user_id": 8729183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcea5a2664954774b25a990d72d12603?s=128&d=identicon&r=PG&f=1", "display_name": "Haskar P", "link": "https://stackoverflow.com/users/8729183/haskar-p"}, "edited": false, "score": 0, "creation_date": 1536180469, "post_id": 52193138, "comment_id": 91336098, "body": "What are the <code>df3</code> and <code>df4</code> variables?"}, {"owner": {"reputation": 291, "user_id": 10261639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921a94724fd39794c413539d93106ebb?s=128&d=identicon&r=PG&f=1", "display_name": "Alpha001", "link": "https://stackoverflow.com/users/10261639/alpha001"}, "reply_to_user": {"reputation": 320, "user_id": 8729183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcea5a2664954774b25a990d72d12603?s=128&d=identicon&r=PG&f=1", "display_name": "Haskar P", "link": "https://stackoverflow.com/users/8729183/haskar-p"}, "edited": false, "score": 0, "creation_date": 1536183571, "post_id": 52193138, "comment_id": 91337220, "body": "@HaskarP Sorry that was by mistake. I have corrected it."}, {"owner": {"reputation": 320, "user_id": 8729183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcea5a2664954774b25a990d72d12603?s=128&d=identicon&r=PG&f=1", "display_name": "Haskar P", "link": "https://stackoverflow.com/users/8729183/haskar-p"}, "edited": false, "score": 0, "creation_date": 1536184053, "post_id": 52193138, "comment_id": 91337367, "body": "If given an ID , the Name , RegionName , RegionCode are the same , instead of comparing the records , you could just compare the two ID columns. Use set operations to get the required I&#39;D and extract them from the dataframes."}], "answers": [{"comments": [{"owner": {"reputation": 291, "user_id": 10261639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921a94724fd39794c413539d93106ebb?s=128&d=identicon&r=PG&f=1", "display_name": "Alpha001", "link": "https://stackoverflow.com/users/10261639/alpha001"}, "edited": false, "score": 0, "creation_date": 1536184120, "post_id": 52193239, "comment_id": 91337387, "body": "Thank you. But this is not helping out. I have tried to clarify the requirement more in the question."}, {"owner": {"reputation": 8568, "user_id": 9177877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qL1i.png?s=128&g=1", "display_name": "It_is_Chris", "link": "https://stackoverflow.com/users/9177877/it-is-chris"}, "reply_to_user": {"reputation": 291, "user_id": 10261639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921a94724fd39794c413539d93106ebb?s=128&d=identicon&r=PG&f=1", "display_name": "Alpha001", "link": "https://stackoverflow.com/users/10261639/alpha001"}, "edited": false, "score": 0, "creation_date": 1536188503, "post_id": 52193239, "comment_id": 91338508, "body": "@Alpha this produces your expected output."}, {"owner": {"reputation": 291, "user_id": 10261639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921a94724fd39794c413539d93106ebb?s=128&d=identicon&r=PG&f=1", "display_name": "Alpha001", "link": "https://stackoverflow.com/users/10261639/alpha001"}, "edited": false, "score": 0, "creation_date": 1536189805, "post_id": 52193239, "comment_id": 91338750, "body": "@Alpha The requirement is to capture the values(eg. Data1) which are not present in another file(eg. Data2). From your logic, I will get all the values while the duplicates are dropped. I need the values/data which are present in only file and not in the other."}, {"owner": {"reputation": 8568, "user_id": 9177877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qL1i.png?s=128&g=1", "display_name": "It_is_Chris", "link": "https://stackoverflow.com/users/9177877/it-is-chris"}, "reply_to_user": {"reputation": 291, "user_id": 10261639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921a94724fd39794c413539d93106ebb?s=128&d=identicon&r=PG&f=1", "display_name": "Alpha001", "link": "https://stackoverflow.com/users/10261639/alpha001"}, "edited": false, "score": 0, "creation_date": 1536194563, "post_id": 52193239, "comment_id": 91339600, "body": "@alpha correct. That is why you concatenate your two dataframes into one dataframe and then drop duplicates. What is left are the unique rows that exist in one dataframe or the other. Any row that exist in both dataframes is dropped. You set keep to false so it drops all the rows that are duplicated."}], "tags": [], "owner": {"reputation": 8568, "user_id": 9177877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qL1i.png?s=128&g=1", "display_name": "It_is_Chris", "link": "https://stackoverflow.com/users/9177877/it-is-chris"}, "is_accepted": true, "score": 2, "last_activity_date": 1536180782, "creation_date": 1536180782, "answer_id": 52193239, "question_id": 52193138, "link": "https://stackoverflow.com/questions/52193138/python-look-for-a-value-data-in-the-entire-excel-sheet/52193239#52193239", "title": "Python: Look for a value/data in the entire excel sheet", "body": "<p>you can concat and drop_duplicates:</p>\n\n<pre><code>new_df = pd.concat([df1,df2])\nnew_df.drop_duplicates(keep=False)\n\n    S.No    ID      Name    RegionName  RegionCode\n0   1.0      191    Roger   EU           76\n1   2.0      334    Martin  TT           9\n2   3.0      442    Steven  YU           89\n0   1.0      111    Ralph   EU          76\n1   2.0      254    Luthur  SE          19\n2   3.0      564    Todd    OO           67\n</code></pre>\n"}], "owner": {"reputation": 291, "user_id": 10261639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921a94724fd39794c413539d93106ebb?s=128&d=identicon&r=PG&f=1", "display_name": "Alpha001", "link": "https://stackoverflow.com/users/10261639/alpha001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 52193239, "answer_count": 1, "score": 0, "last_activity_date": 1536190163, "creation_date": 1536180259, "last_edit_date": 1536190163, "question_id": 52193138, "link": "https://stackoverflow.com/questions/52193138/python-look-for-a-value-data-in-the-entire-excel-sheet", "title": "Python: Look for a value/data in the entire excel sheet", "body": "<p>I have to compare data present in the two excel sheets and insert the difference in the third sheet. </p>\n\n<p>I am aware that I have to do the comparison twice i.e. <code>file1!=file2</code> and <code>file2!=file1</code>.</p>\n\n<p><code>Q1:</code> Is there a way that only one step finds the difference in the two files?</p>\n\n<p>So far I have written the below code and its working also:</p>\n\n<pre><code>import pandas as pd\n\ndf1 = pd.read_excel('/Users/Testing/Data1.xlsx')\ndf2 = pd.read_excel('/Users/Testing/Data2.xlsx')\n\ndifference = df1[df1!=df2]\nprint(difference)\n</code></pre>\n\n<p>Sample data:</p>\n\n<pre><code>Data1:\n\nS.No ID    Name   RegionName   RegionCode\n 1.  191  Roger   EU           76\n 2.  334  Martin  TT           09\n 3.  442  Steven  YU           89\n 4.  776  Georgee TT           09\n\n\nData2:\n\nS.No ID    Name   RegionName   RegionCode\n01.  111  Ralph   EU           76\n02.  254  Luthur  SE           19\n03.  564  Todd    OO           67\n04.  776  Georgee TT           09\n</code></pre>\n\n<p>Difference I am getting is:</p>\n\n<pre><code>S.No ID    Name   RegionName   RegionCode\n 01.  191  Roger   EU           76\n 02.  334  Martin  TT           09\n 03.  442  Steven  YU           89\n 04.  776  Georgee TT           09\n 05.  111  Ralph   EU           76\n 06.  254  Luthur  SE           19\n 07.  564  Todd    OO           67\n 08.  776  Georgee TT           09\n</code></pre>\n\n<p>Expected result is:</p>\n\n<pre><code>S.No ID    Name   RegionName   RegionCode\n01   191  Roger    EU           76\n02   334  Martin   TT           09\n03   442  Steven   YU           89\n04   254  Luthur   SE           19 \n05   564  Todd     OO           67\n06   111  Ralph    EU           76\n\nQ2: \n</code></pre>\n\n<p>How can I get the above result? The requirement is to search and store the value which is present in only one file(e.g.. Data1) and not in the other(e.g. Data2).</p>\n\n<p>Any help is highly appreciated. </p>\n"}, {"tags": ["python", "django"], "owner": {"reputation": 23, "user_id": 9778604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372f0b180b58085c6ef7e6e2377abc33?s=128&d=identicon&r=PG&f=1", "display_name": "Phuong Dinh", "link": "https://stackoverflow.com/users/9778604/phuong-dinh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536179754, "creation_date": 1536179754, "question_id": 52193048, "link": "https://stackoverflow.com/questions/52193048/how-to-update-selected-value-of-the-dropdown-list-to-the-database", "title": "how to update selected value of the dropdown list to the database", "body": "<p>I got values of dropdown list which is expense.id and expense_type. In database I look for expense object which has id==expense.id sent by ajax in order to update its type (expense_type). So I need to send both expense.id and expense.type to sever using ajax. I dont know how to perform in jQuery as well as html. Below is my code I got error which is \"Not Found: /polls/17/project_detail/ajax/update_form/\"</p>\n\n<pre><code>&lt;form  action=\"/ajax/update_form/\" method=\"POST\" id=\"selection-form\"&gt;\n{% csrf_token  %}\n\n&lt;select id=\"select_dropdown\"&gt;\n{% for expense in expenses %}\n    {% if project.id and expense.city %}\n        &lt;option value=\"{{expense.id}}\" selected=\"selected\"&gt;{{expense.expense_type}}&lt;/option&gt;\n    {% else %}\n        &lt;option value=\"{{expense.id}}\"&gt;{{expense.expense_type}}&lt;/option&gt;\n    {% endif %}\n{% endfor %}\n&lt;/select&gt;\n&lt;td&gt;&lt;input type=\"submit\" value=\"Save\"&gt;&lt;/td&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>=====js====</p>\n\n<pre><code>        $('#selection-form').on('submit', function(event) {\n        event.preventDefault();\n        console.log(\"form_submitted\");\n        create_post();\n        });\n\n        function create_post(){\n                console.log(\"update fucntion is working!\");\n                var value = $(\"#select_dropdown\").find(\":selected\").val();\n                var text = $(\"#select_dropdown option:selected\").text();\n                $.ajax({\n                        //url: \"{% url 'update_form' %}\",\n                        url: \"ajax/update_form/\",\n                        method: \"POST\",\n                        data: {\n                                \"value\": value,\n                                \"text\": text,\n                                //\"pro_expense\": pro_expense,\n                                //\"id\": valueSelected,\n                                csrfmiddlewaretoken: '{{ csrf_token }}',\n                        },\n                        //dataType: \"json\",\n                        success: function(data){\n                                console.log(data);\n                        },\n                        error: function(error_data){\n                                console.log(\"error\")\n                                console.log(error_data)\n                        }\n\n                });\n                return false;\n        };  \n</code></pre>\n\n<p>====views.py=====</p>\n\n<pre><code>@csrf_exempt\ndef update_form(request):\n        if request.method == \"POST\" and request.is_ajax():\n                value = request.POST.get('value')\n                text = request.POST.get('text')\n                expense = Expense.objects.get(pk = value)\n                expense.expense_type = text\n                expense.save()\n\n        return HttpResponse({\"result\": \"success\"}, content_type=\"application/json\")\n</code></pre>\n\n<p>===urls.py===</p>\n\n<pre><code>url(r'^(?P&lt;project_id&gt;[0-9]+)/project_detail/$', views.project_detail, name='project_detail'),\nurl(r'^ajax/update_form/$', views.update_form, name = 'update_form'),\n</code></pre>\n\n<p>error is \"Not Found: /polls/17/project_detail/ajax/update_form/\". please help. Any help will be highly appreciated!!</p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 1, "creation_date": 1536179547, "post_id": 52192983, "comment_id": 91335719, "body": "Your <code>agg_sheet[&#39;APPL_4&#39;]</code> are strings so that&#39;s why you are getting this error. What kind of chart do you want to plot?  A bar chart?"}, {"owner": {"reputation": 355, "user_id": 9292093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-L-hsIV1eZJw/AAAAAAAAAAI/AAAAAAAAARQ/C52fGu1i_X8/photo.jpg?sz=128", "display_name": "qing zhangqing", "link": "https://stackoverflow.com/users/9292093/qing-zhangqing"}, "reply_to_user": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1536180045, "post_id": 52192983, "comment_id": 91335924, "body": "Hi Bazi,   I want to use APPL as my x, and plot line chart for Std_latency and Std_latency Y"}, {"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1536183194, "post_id": 52192983, "comment_id": 91337095, "body": "I hope you got the answer"}], "owner": {"reputation": 355, "user_id": 9292093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-L-hsIV1eZJw/AAAAAAAAAAI/AAAAAAAAARQ/C52fGu1i_X8/photo.jpg?sz=128", "display_name": "qing zhangqing", "link": "https://stackoverflow.com/users/9292093/qing-zhangqing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "closed_date": 1536180899, "answer_count": 0, "score": 0, "last_activity_date": 1536180165, "creation_date": 1536179444, "last_edit_date": 1536180165, "question_id": 52192983, "link": "https://stackoverflow.com/questions/52192983/python-pandas-matplot-line-chart-value-error", "closed_reason": "Duplicate", "title": "Python Pandas Matplot Line Chart Value Error", "body": "<p>I was trying to plot multiple line chart use same column as x axis.</p>\n\n<p>My data named agg_sheet was below <a href=\"https://i.stack.imgur.com/JXDOn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JXDOn.png\" alt=\"enter image description here\"></a></p>\n\n<p>My code is </p>\n\n<pre><code>    plt.plot( agg_sheet['APPL'], agg_sheet['Std_Latency_x'])\n</code></pre>\n\n<p>but I got error ValueError: could not convert string to float: 'ACCMGR'\n'ACCMGR' was the last value under APPL column.</p>\n"}, {"tags": ["python", "pyshp"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10531498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef141f4f6f3b8f3e1bfcc0c9cedd8f53?s=128&d=identicon&r=PG", "display_name": "Tiffany Auyoung", "link": "https://stackoverflow.com/users/10531498/tiffany-auyoung"}, "is_accepted": false, "score": 0, "last_activity_date": 1539998902, "last_edit_date": 1539998902, "creation_date": 1539998443, "answer_id": 52901635, "question_id": 52192939, "link": "https://stackoverflow.com/questions/52192939/csv-to-shapefile-using-pyshp/52901635#52901635", "title": "CSV TO SHAPEFILE - Using pyshp", "body": "<p>I was able to accomplish this using arcpy modules MakeXYEventLayer_management followed by CopyFeatures_management. Example below</p>\n\n<pre><code>import arcpy \narcpy.env.workspace = r\"C:/home\"\ncsvFile = r\"C:/home/some.csv\"\nin_x_field = \"long\"\nin_y_field = \"lat\"\nout_layer = \"csvLayer\"\nspatial_reference = 4326\n\ncsvLayer=arcpy.MakeXYEventLayer_management(csvFile,in_x_field,in_y_field,out_layer,spatial_reference)\narcpy.CopyFeatures_management(csvLayer,\"shapename.shp\")\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 8097677, "user_type": "registered", "profile_image": "https://graph.facebook.com/1551561701561259/picture?type=large", "display_name": "Lucas Fusco", "link": "https://stackoverflow.com/users/8097677/lucas-fusco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 827, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539998902, "creation_date": 1536179250, "last_edit_date": 1536193257, "question_id": 52192939, "link": "https://stackoverflow.com/questions/52192939/csv-to-shapefile-using-pyshp", "title": "CSV TO SHAPEFILE - Using pyshp", "body": "<p>I need a help.</p>\n\n<p>I got some CSV files with geographic information and I need to convert it to SHP... I'm trying the following code, but it's not working..</p>\n\n<p>This is my first time working with python.. I'd really appreciate if you could help me.</p>\n\n<pre><code>import shapefile as shp\nimport csv\n\nout_file = 'test.shp'\n\n#Set up blank lists for data\nlat,lon=[],[]\n\n#read data from csv file and store in lists\nwith open('input.csv', 'rt') as csvfile:\n    r = csv.reader(csvfile, delimiter=';')\n    for i,row in enumerate(r):\n        if i &gt; 0: #skip header\n            lat.append((row[0]))\n            lon.append((row[1]))\n\n#Set up shapefile writer and create empty fields\nw = shp.Writer(shp.POINT)\nw.autoBalance = 1 #ensures gemoetry and attributes match\nw.field('lat','F',10,8)\nw.field('lon','F',10,8)\nw.field('Date','D')\nw.field('Target','C',50)\nw.field('ID','N')\n\n#loop through the data and write the shapefile\nfor j,k in enumerate(x):\n    w.point(k,y[j]) #write the geometry\n    w.record(k,y[j],date[j], target[j], id_no[j]) #write the attributes\n\n#Save shapefile\nw.save(out_file)\n</code></pre>\n\n<p>This is what the spyder returns to me:</p>\n\n<pre><code>Python 3.6.5 |Anaconda, Inc.| (default, Mar 29 2018, 13:32:41) [MSC v.1900 64 bit (AMD64)]\nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 6.4.0 -- An enhanced Interactive Python.\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-1-dece8279ec6d&gt;\", line 1, in &lt;module&gt;\n    runfile('C:/Users/gcnxq/Downloads/py/csv.py', wdir='C:/Users/gcnxq/Downloads/py')\n\n  File \"C:\\Users\\gcnxq\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 705, in runfile\n    execfile(filename, namespace)\n\n  File \"C:\\Users\\gcnxq\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 102, in execfile\n    exec(compile(f.read(), filename, 'exec'), namespace)\n\n  File \"C:/Users/gcnxq/Downloads/py/csv.py\", line 18, in &lt;module&gt;\n    w = shp.Writer(shp.POINT)\n\n  File \"C:\\Users\\gcnxq\\Downloads\\py\\shapefile.py\", line 1018, in __init__\n    self.shp = self.__getFileObj(os.path.splitext(target)[0] + '.shp')\n\n  File \"C:\\Users\\gcnxq\\AppData\\Local\\Continuum\\anaconda3\\lib\\ntpath.py\", line 224, in splitext\n    p = os.fspath(p)\n\nTypeError: expected str, bytes or os.PathLike object, not int\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1536179326, "post_id": 52192934, "comment_id": 91335631, "body": "You&#39;re not using python3. The last line should throw a TypeError."}, {"owner": {"reputation": 159, "user_id": 4534795, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-c6L4Juptsd4/AAAAAAAAAAI/AAAAAAAAACY/XR-o_DbAXqg/photo.jpg?sz=128", "display_name": "Prashanth Raghavan", "link": "https://stackoverflow.com/users/4534795/prashanth-raghavan"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1536179443, "post_id": 52192934, "comment_id": 91335672, "body": "Apologies... I use Python 2.7 at work and 3.6 at home. This was on 2.7."}, {"owner": {"reputation": 647, "user_id": 8026147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/54MIQ.jpg?s=128&g=1", "display_name": "Nikhil Fadnis", "link": "https://stackoverflow.com/users/8026147/nikhil-fadnis"}, "edited": false, "score": 0, "creation_date": 1536179666, "post_id": 52192934, "comment_id": 91335765, "body": "Works pretty well as it should on python3 !"}, {"owner": {"reputation": 159, "user_id": 4534795, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-c6L4Juptsd4/AAAAAAAAAAI/AAAAAAAAACY/XR-o_DbAXqg/photo.jpg?sz=128", "display_name": "Prashanth Raghavan", "link": "https://stackoverflow.com/users/4534795/prashanth-raghavan"}, "reply_to_user": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1536179922, "post_id": 52192934, "comment_id": 91335861, "body": "@JohnLaRooy, I thought I had copied the relevant segments over... Edited to now list what was ACTUALLY in IDLE"}, {"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1536180447, "post_id": 52192934, "comment_id": 91336089, "body": "<code>c.get</code> is just convenient to use since it already exists and does what you need. Since the key definitely exists for each call, you could write <code>max(c, key=lambda k: c[k])</code> instead, if that&#39;s easier to understand"}, {"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "reply_to_user": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1536181913, "post_id": 52192934, "comment_id": 91336653, "body": "@JohnLaRooy - I&#39;d argue the version with the lambda or some other equivalent that uses the dictionary indexer instead of <code>get()</code> is better, since you don&#39;t want such call to succeed for a non-existent key. (There&#39;s probably a reason why throwing an error is the default behaviour, after all.)"}], "answers": [{"tags": [], "owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "is_accepted": true, "score": 1, "last_activity_date": 1536180264, "creation_date": 1536180264, "answer_id": 52193139, "question_id": 52192934, "link": "https://stackoverflow.com/questions/52192934/using-max-together-with-the-get-method-for-a-dictionary/52193139#52193139", "title": "Using max together with the &#39;get&#39; method for a dictionary", "body": "<p>Don't confuse the idea of the key of the dictionary, with the \"key-function\"</p>\n\n<p>When two values are the same, <code>max</code> or <code>min</code> will return the first matching key. Since iteration of dict is unordered until Python3.6, it's not a good idea to rely on which particular key would be returned</p>\n\n<p>In your last example, you are asking the dict to use the values as keys to the dict. This will usually return <code>None</code> unless the value also happens to be a key (This will never happen if all the keys are str and all the values are int, for example). In Python2, since <code>None</code> isn't greater than <code>None</code>, the first key that is encountered will be the one that is eventually returned. In Python3, doing this comparison throws an exception.</p>\n"}, {"tags": [], "owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "is_accepted": false, "score": 2, "last_activity_date": 1536181814, "last_edit_date": 1536181814, "creation_date": 1536181187, "answer_id": 52193312, "question_id": 52192934, "link": "https://stackoverflow.com/questions/52192934/using-max-together-with-the-get-method-for-a-dictionary/52193312#52193312", "title": "Using max together with the &#39;get&#39; method for a dictionary", "body": "<p>When you call:</p>\n\n<pre><code>max(c, key=c.get)\n</code></pre>\n\n<p>the <code>max</code> function internally iterates over the first parameter; for a dictionary this will iterate over the <em>keys</em> of the dictionary, in... some order, this is where things get hairy.</p>\n\n<ul>\n<li>before Python 3.6, this order was arbitrary and not guaranteed to be any specific order</li>\n<li>in the CPython implementation of Python 3.6, the order was changed - as an implementation detail - to be the order in which the keys were inserted into the dictionary. (In your case, the order in which they're written in the literal, so <code>\"One\"</code>, <code>\"Two\"</code>, <code>\"Uns\"</code>, <code>\"Dos\"</code></li>\n<li>as of Python 3.7, this behaviour is guaranteed by the language specification.</li>\n</ul>\n\n<p>(See also the <a href=\"https://docs.python.org/3/library/stdtypes.html#mapping-types-dict\" rel=\"nofollow noreferrer\">Python documentation on the <code>dict</code> type</a>.)</p>\n\n<p>Now we know that the <code>max()</code> function will see two possible keys that map to the maximum value, <code>\"Two\"</code> and <code>\"Dos\"</code>, in this order. The <a href=\"https://docs.python.org/3/library/functions.html?highlight=max#max\" rel=\"nofollow noreferrer\">documentation for the <code>max()</code> function</a> states:</p>\n\n<blockquote>\n  <p>If multiple items are maximal, the function returns the first one encountered.</p>\n</blockquote>\n\n<p>So in Python 3.7 as well as CPython 3.6, what is returned depends on the order in which the keys are inserted into the dictionary:</p>\n\n<pre><code>&gt;&gt;&gt; c = {\"Uns\":1, \"Dos\":2, \"One\":1, \"Two\": 2}\n&gt;&gt;&gt; list(iter(c))\n['Uns', 'Dos', 'One', 'Two']\n&gt;&gt;&gt; max(c, key=c.get)\n'Dos'\n&gt;&gt;&gt; c = {\"One\":1, \"Two\":2, \"Uns\":1, \"Dos\": 2}\n&gt;&gt;&gt; list(iter(c))\n['One', 'Two', 'Uns', 'Dos']\n&gt;&gt;&gt; max(c, key=c.get)\n'Two'\n</code></pre>\n\n<p>In Python 3.5, which maximum will be the first encountered is arbitrary, but it will be the first key with a maximum value seen in <code>list(iter(c))</code></p>\n\n<p>In Python 2.7, the behaviour of the <code>max()</code> function I cited above isn't specified in the documentation, so who knows really.</p>\n\n<hr>\n\n<p>As for your second example, it really plain doesn't make sense, so I'll just rush past it: <code>c.get()</code> will return <code>None</code> when you pass it a key that doesn't exist in the dictionary. In Python 2.x, it was allowed to compare <code>None</code> with <code>None</code> using the <code>&lt;</code> operator that <code>max()</code> uses to determine the maximum; I'm guessing since it compares two same objects, they were considered equal and thus the result of that comparison was <code>False</code>, and every item in your case would be considered the \"maximum\". Since the order of the keys is unspecified in Python 2.x, and neither is which one is returned by <code>max()</code>, the result you get is essentially arbitrary. Not that it matters, since there is no sense the whole thing could be making.</p>\n\n<p>You could prevent this by avoiding the use of <code>dict.get()</code>, and writing more assertive code that fails early because it's clear accessing a key that doesn't exist in the dictionary is a mistake:</p>\n\n<pre><code>max(c, key=lambda k: c[k])\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 4534795, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-c6L4Juptsd4/AAAAAAAAAAI/AAAAAAAAACY/XR-o_DbAXqg/photo.jpg?sz=128", "display_name": "Prashanth Raghavan", "link": "https://stackoverflow.com/users/4534795/prashanth-raghavan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 52193139, "answer_count": 2, "score": 1, "last_activity_date": 1536181814, "creation_date": 1536179225, "last_edit_date": 1536179871, "question_id": 52192934, "link": "https://stackoverflow.com/questions/52192934/using-max-together-with-the-get-method-for-a-dictionary", "title": "Using max together with the &#39;get&#39; method for a dictionary", "body": "<p>So, I was watching this presentation and it introduced me to this awesome way of finding the maximum value in a dictionary. This probably isn't breaking any ground for most folks on here, but here it is:</p>\n\n<pre><code>c = {\"One\":1, \"Two\":2, \"Uns\":1}\nmax(c,key=c.get)\n'Two'\n</code></pre>\n\n<p>I don't understand quite how it works. The 'get' method returns the value for a key, if the key exists in the dictionary. So does the 'max' iterate through each key, find the associated value and then return the key associated with the maximum value? How does it work when the dictionary has multiple maximum values?</p>\n\n<pre><code>c = {\"One\":1, \"Two\":2, \"Uns\":1, \"Dos\": 2}\nmax(c,key=c.get)\n'Dos'\n</code></pre>\n\n<p>So, to experiment and confuse myself further, I tried this:</p>\n\n<pre><code>c = {\"One\":1, \"Two\":2, \"Uns\":1}\nmax(c.values(),key=c.get)\n1\n</code></pre>\n\n<p>So, why did it return '1' instead of '2'? Please un-confuse this soul!</p>\n"}, {"tags": ["python", "python-3.6", "decorator", "python-decorators", "inspect"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1536179492, "post_id": 52192877, "comment_id": 91335701, "body": "Can&#39;t reproduce that behavior on Python 3.6. Are you sure you&#39;re not using Python 2.x?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536179604, "post_id": 52192877, "comment_id": 91335736, "body": "I doubt it&#39;s relevant here, but just in case, it would probably be better to make <code>Bar</code> inherit from a Python type rather than a builtin (and make the decorator <code>return f</code>, so you can use <code>Foo</code> as that class to inherit)."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1536179667, "post_id": 52192877, "comment_id": 91335766, "body": "<i>Can</i> reproduce on Python 3.6 here, which kind of surprises me, given the results of some other experiments."}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1536179681, "post_id": 52192877, "comment_id": 91335772, "body": "@kindall Python 3.6 under Windows 10"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536179728, "post_id": 52192877, "comment_id": 91335787, "body": "@abarnert It is unrelated indeed. Although, I&#39;ll update for everyone&#39;s peace of mind"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1536179944, "post_id": 52192877, "comment_id": 91335878, "body": "I can repro on 3.6 in the interactive interpreter, both stock and IPython, on Mac, Linux, and repl.it. But when I put the same code in a script, the code_context is <code>None</code> for both functions on Linux and repl.it."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536180047, "post_id": 52192877, "comment_id": 91335926, "body": "Anyway, I&#39;m pretty sure <code>code_context</code> is just generated from <code>filename</code> and <code>lineno</code> via <code>linecache</code>, so the question is: is the <code>lineno</code> different by one, or is <code>linecache</code> acting weird?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1536180058, "post_id": 52192877, "comment_id": 91335931, "body": "I can repro in a script, and I wouldn&#39;t expect this to work interactively unless you&#39;re on something like IPython, since interactive mode shouldn&#39;t save the source code."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1536180147, "post_id": 52192877, "comment_id": 91335962, "body": "It&#39;s <code>lineno</code> differing by 1, <a href=\"https://repl.it/repls/MajorArtisticCharacterencoding\" rel=\"nofollow noreferrer\">as you can see on repl.it</a>, which narrows down what to look at."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1536180318, "post_id": 52192877, "comment_id": 91336034, "body": "Simpler test: the frame objects have different <code>f_lineno</code> values, <a href=\"https://repl.it/repls/MajorArtisticCharacterencoding\" rel=\"nofollow noreferrer\">again at repl.it</a>. So it&#39;s nothing to do with <code>inspect</code>, it&#39;s how CPython tracks line numbers in frame objects\u2026"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1536180471, "post_id": 52192877, "comment_id": 91336100, "body": "Also, <a href=\"https://repl.it/repls/MajorArtisticCharacterencoding\" rel=\"nofollow noreferrer\">an empty base list is the same as not having a base list, but <code>object</code> is the same as having one</a>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 5, "creation_date": 1536180559, "post_id": 52192877, "comment_id": 91336130, "body": "Disassembly with <code>dis</code> shows that the line number is advanced for the LOAD_NAME that loads the base class object, which doesn&#39;t happen with no base class."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536180573, "post_id": 52192877, "comment_id": 91336136, "body": "@abarnert You&#39;ve posted the same link 3 times now :D"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1536180613, "post_id": 52192877, "comment_id": 91336144, "body": "@Aran-Fey Oops; it I guess I disabled versioning\u2026"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1536180717, "post_id": 52192877, "comment_id": 91336179, "body": "@user2357112 I see the same, I think you got it."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1536180798, "post_id": 52192877, "comment_id": 91336208, "body": "@user2357112 Yeah, that&#39;s it. You could test further\u2014what if you do a <code>LOAD_FAST</code> or <code>LOAD_CONST</code> for the base\u2014if you really want to."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1536180830, "post_id": 52192877, "comment_id": 91336224, "body": "(What confuses me now is why pdb pointed to <code>@dec</code> for both cases when I put a <code>pdb.set_trace()</code> in the decorator.)"}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 6, "last_activity_date": 1536181296, "creation_date": 1536181296, "answer_id": 52193338, "question_id": 52192877, "link": "https://stackoverflow.com/questions/52192877/why-does-inspect-return-different-line-for-class-inheriting-from-superclass/52193338#52193338", "title": "Why does inspect return different line for class inheriting from superclass?", "body": "<p>Further experiment shows that this is a quirk of Python's line number assignment. Particularly, if we use <code>dis</code> to see the disassembly of <a href=\"https://ideone.com/bmt4hz\" rel=\"noreferrer\">code with and without a base class</a>:</p>\n\n<pre><code>import dis\nimport sys\n\ndis.dis(sys._getframe().f_code)\n\ndef dec(): pass\n\n@dec\nclass Foo: pass\n\n@dec\nclass Bar(Foo): pass\n</code></pre>\n\n<p>We see that for <code>Foo</code>, the instructions involved have line number 8 (corresponding to the <code>@dec</code> line):</p>\n\n<pre><code>  8          58 LOAD_NAME                4 (dec)\n             61 LOAD_BUILD_CLASS\n             62 LOAD_CONST               4 (&lt;code object Foo at 0x2b2a65422810, file \"./prog.py\", line 8&gt;)\n             65 LOAD_CONST               5 ('Foo')\n             68 MAKE_FUNCTION            0\n             71 LOAD_CONST               5 ('Foo')\n             74 CALL_FUNCTION            2 (2 positional, 0 keyword pair)\n             77 CALL_FUNCTION            1 (1 positional, 0 keyword pair)\n             80 STORE_NAME               5 (Foo)\n</code></pre>\n\n<p>But for <code>Bar</code>, the line number advances from 11 to 12 for the <code>LOAD_NAME</code> that loads the base class:</p>\n\n<pre><code> 11          83 LOAD_NAME                4 (dec)\n             86 LOAD_BUILD_CLASS\n             87 LOAD_CONST               6 (&lt;code object Bar at 0x2b2a654a0f60, file \"./prog.py\", line 11&gt;)\n             90 LOAD_CONST               7 ('Bar')\n             93 MAKE_FUNCTION            0\n             96 LOAD_CONST               7 ('Bar')\n\n 12          99 LOAD_NAME                5 (Foo)\n            102 CALL_FUNCTION            3 (3 positional, 0 keyword pair)\n            105 CALL_FUNCTION            1 (1 positional, 0 keyword pair)\n            108 STORE_NAME               6 (Bar)\n</code></pre>\n\n<p>With no base class, the parent frame's <code>f_lineno</code> is on the <code>@</code> line when the decorator runs. With a base class, the parent frame is on the load-the-base-class line.</p>\n"}], "owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 1, "accepted_answer_id": 52193338, "answer_count": 1, "score": 6, "last_activity_date": 1536181296, "creation_date": 1536178912, "last_edit_date": 1536179977, "question_id": 52192877, "link": "https://stackoverflow.com/questions/52192877/why-does-inspect-return-different-line-for-class-inheriting-from-superclass", "title": "Why does inspect return different line for class inheriting from superclass?", "body": "<p>While trying to figure out if <a href=\"https://stackoverflow.com/a/52192154/5079316\">a function is called with the <code>@decorator</code> syntax</a>, we realized that <code>inspect</code> has a different behaviour when looking at a decorated class that inherits from a superclass.</p>\n\n<p>The following behaviour was found with CPython 3.6.2 under Windows 10.</p>\n\n<p>It was also reproduced in CPython 3.7.0 under Linux 64 bits.</p>\n\n<pre><code>import inspect\n\ndef decorate(f):\n    lines = inspect.stack()[1].code_context\n    print(f.__name__, lines)\n\n    return f\n\n@decorate\nclass Foo:\n    pass\n\n@decorate\nclass Bar(dict):\n    pass\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>Foo ['@decorate\\n']\nBar ['class Bar(dict):\\n']\n</code></pre>\n\n<p>Why does inheritance change the behaviour of <code>inspect</code>?</p>\n"}, {"tags": ["python", "loops", "if-statement"], "comments": [{"owner": {"reputation": 528, "user_id": 5153946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J4cXX.jpg?s=128&g=1", "display_name": "George Bou", "link": "https://stackoverflow.com/users/5153946/george-bou"}, "edited": false, "score": 0, "creation_date": 1536179091, "post_id": 52192868, "comment_id": 91335535, "body": "The last elif should be <code>elif 0&lt;B AND B&lt;50:</code>   however, to me this last one might be a redundant statement. This also goes for the 2nd elif which should be <code>elif 0&lt;A AND A&lt;50:</code>"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 528, "user_id": 5153946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J4cXX.jpg?s=128&g=1", "display_name": "George Bou", "link": "https://stackoverflow.com/users/5153946/george-bou"}, "edited": false, "score": 0, "creation_date": 1536179288, "post_id": 52192868, "comment_id": 91335615, "body": "@GeorgeBou: <code>0&lt;B and B&lt;50</code> is equivalent (but slightly slower, as it loads <code>B</code> twice) to <code>0 &lt; B &lt; 50</code>; no need to split it up."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536179479, "post_id": 52192868, "comment_id": 91335694, "body": "<code>elif if</code>??? That won&#39;t even pass syntax checks. You&#39;ve also got a gap in your checks here. Think about what happens when <code>A</code> or <code>B</code> is <code>0</code> or <code>50</code>. That&#39;s not less than 0, greater than 50, or greater than 0 and less than 50, so none of your checks will catch it. Lastly, you haven&#39;t provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, so we have no idea what else is changing A/B/C/D, how you&#39;re looping, etc."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536179572, "post_id": 52192868, "comment_id": 91335724, "body": "Assuming <code>elif if A &lt; 0:</code> is meant to be a separate block from the previous (that is, the <code>elif</code> is wrong, it should be <code>if A &lt; 0:</code>, you&#39;re testing/setting the wrong variable (the rest of the tests and sets are for <code>B</code>, not <code>A</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 621, "user_id": 6935967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a490d0e6023edcfb16893165bc19ca8?s=128&d=identicon&r=PG&f=1", "display_name": "JesusMonroe", "link": "https://stackoverflow.com/users/6935967/jesusmonroe"}, "is_accepted": false, "score": 0, "last_activity_date": 1536179429, "creation_date": 1536179429, "answer_id": 52192978, "question_id": 52192868, "link": "https://stackoverflow.com/questions/52192868/putting-boundaries-and-transforming-variables-boolean-python/52192978#52192978", "title": "Putting boundaries and transforming variables (boolean python)", "body": "<p>Can be simplified to:</p>\n\n<pre><code>if A &lt; 0:\n   A = 0;\nelif A &gt; 50:\n   A = 50;\n</code></pre>\n\n<p>.....</p>\n\n<p>Saying A=A is redundant</p>\n"}, {"comments": [{"owner": {"reputation": 271, "user_id": 9128882, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74d37974ad971fe2cd1f575a0e476335?s=128&d=identicon&r=PG&f=1", "display_name": "Ian_De_Oliveira", "link": "https://stackoverflow.com/users/9128882/ian-de-oliveira"}, "edited": false, "score": 0, "creation_date": 1536190667, "post_id": 52193300, "comment_id": 91338931, "body": "perfect solution .. Thank you"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536374811, "post_id": 52193300, "comment_id": 91412507, "body": "The whole first part of this answer is wrong. <code>0&lt;A&lt;50</code> in Python does not evaluate like C does (where <code>0&lt;A</code> would evaluate, then the resulting boolean value would be compared to 50). <code>0 &lt; A &lt; 50</code> is a <a href=\"https://docs.python.org/3/reference/expressions.html#comparisons\" rel=\"nofollow noreferrer\">specifically, intentionally supported Python syntax for comparison chaining</a> that is roughly equivalent to <code>0 &lt; A and A &lt; 50</code> (except <code>A</code> is only loaded/computed once, not twice). While <code>A = A</code> is pointless, your first two paragraphs are otherwise 100% wrong."}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536583987, "post_id": 52193300, "comment_id": 91463684, "body": "@ShadowRanger I was unaware Python supports that notation (I do come from a C background). I&#39;ve updated the answer. Thanks."}], "tags": [], "owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "is_accepted": true, "score": 1, "last_activity_date": 1536583921, "last_edit_date": 1536583921, "creation_date": 1536181118, "answer_id": 52193300, "question_id": 52192868, "link": "https://stackoverflow.com/questions/52192868/putting-boundaries-and-transforming-variables-boolean-python/52193300#52193300", "title": "Putting boundaries and transforming variables (boolean python)", "body": "<p><code>A = A</code> doesn't do anything so it is not needed.</p>\n\n<p>There is an issue in that you mix the comparisons of <code>B</code> in with <code>A</code>, because of the <code>elif</code>. You should separate them:</p>\n\n<pre><code>if A &lt; 0:\n     A = 0\nelif A &gt; 50:\n     A = 50\n\nif B &lt; 0:\n     B = 0\nelif B &gt; 50:\n     B = 50\n</code></pre>\n\n<p>In the end you could just write a reusable function:</p>\n\n<pre><code>def clamp(val, minval, maxval):\n    if val &lt; minval:\n        return minval\n    elif val &gt; maxval:\n        return maxval\n    else:\n        return val\n</code></pre>\n\n<p>And use it with:</p>\n\n<pre><code>A = clamp(A, 0, 50)\nB = clamp(B, 0, 50)\nC = clamp(C, 0, 50)\nD = clamp(D, 0, 50)\n</code></pre>\n"}], "owner": {"reputation": 271, "user_id": 9128882, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74d37974ad971fe2cd1f575a0e476335?s=128&d=identicon&r=PG&f=1", "display_name": "Ian_De_Oliveira", "link": "https://stackoverflow.com/users/9128882/ian-de-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 52193300, "answer_count": 2, "score": -2, "last_activity_date": 1570785456, "creation_date": 1536178865, "last_edit_date": 1570785456, "question_id": 52192868, "link": "https://stackoverflow.com/questions/52192868/putting-boundaries-and-transforming-variables-boolean-python", "title": "Putting boundaries and transforming variables (boolean python)", "body": "<p>I am at my beginning journey of learning python and I am struggling to get my head around transforming entries in a code.</p>\n\n<p>I have a for loop going and for every loop I create 4 variables. So below is the result of four loops.</p>\n\n<pre><code>A    B   C    D\n0    0   18   19\n0    0   52   52\n0    0   18   19\n-1  -1   19   52 ** in this loop A have to be 0 , B have to be 0 and D have to be 50\n-1  -1   19   20 ** in this case A and B must become 0\n</code></pre>\n\n<p>Expected result:</p>\n\n<pre><code>A    B   C    D\n0    0   18   19\n0    0   50   50 (## just a mark no need to be here just to point) , C and D became 50\n0    0   18   19\n0    0   19   52\n0    0   19   20  ** A and B got transformed to 0\n</code></pre>\n\n<p>So I thought this would work, what I need is that none of this variables to be greater than 50 or below 0. If they are below zero they must become 0 and if they are above 50 then 50, else just the variable itself:</p>\n\n<pre><code>if A &lt; 0:\n     A = 0\nelif A&gt;50:\n     A = 50\nelif 0&lt;A&lt;50:\n     A=A\nelif A &lt; 0:\n     A = 0\nelif B&gt;50:\n     B = 50\nelif 0&lt;B&lt;50:\n     B=B    ......\n</code></pre>\n\n<p>I also thought about defining a function and passing the 4 variables each time to the function..</p>\n\n<p>Ok i edit the if , sorry typo. Let be a bit more clear on every run A,B,C and D must be transformed if they are above 50 or below zero, so just use a 0\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6107, "user_id": 7851470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d10f0dc1bc1f340708d6f6b4c8ec3866?s=128&d=identicon&r=PG&f=1", "display_name": "Georgy", "link": "https://stackoverflow.com/users/7851470/georgy"}, "edited": false, "score": 1, "creation_date": 1589035646, "post_id": 52192855, "comment_id": 109134575, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/36885876/concatenate-strings-in-2-different-lists-in-python\">concatenate strings in 2 different lists in python</a>"}], "answers": [{"tags": [], "owner": {"reputation": 867, "user_id": 6087502, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207148920951294/picture?type=large", "display_name": "Raunaq Jain", "link": "https://stackoverflow.com/users/6087502/raunaq-jain"}, "is_accepted": true, "score": 11, "last_activity_date": 1536179009, "creation_date": 1536179009, "answer_id": 52192888, "question_id": 52192855, "link": "https://stackoverflow.com/questions/52192855/cartesian-product-of-two-lists-in-python/52192888#52192888", "title": "Cartesian product of two lists in python", "body": "<p>Do a list comprehension, iterate over both the lists and add the strings, like</p>\n\n<pre><code>list3 = [i+str(j) for i in list1 for j in list2]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 590, "user_id": 9132597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74695f17df89aed6988f7cd235075a61?s=128&d=identicon&r=PG&f=1", "display_name": "Brent", "link": "https://stackoverflow.com/users/9132597/brent"}, "is_accepted": false, "score": 1, "last_activity_date": 1536179699, "creation_date": 1536179699, "answer_id": 52193039, "question_id": 52192855, "link": "https://stackoverflow.com/questions/52192855/cartesian-product-of-two-lists-in-python/52193039#52193039", "title": "Cartesian product of two lists in python", "body": "<p>if you're not familiar with list comprehension you could also use </p>\n\n<pre><code>list3 = []\nfor l in list1:\n    for b in list2:\n        list3.append(l + b)\nprint list3\n</code></pre>\n\n<p>this will do the same exact thing, but using the list comprehension from above would be the best way</p>\n"}, {"tags": [], "owner": {"reputation": 3367, "user_id": 3671397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee012426897a4e53e39de64efce42fd8?s=128&d=identicon&r=PG", "display_name": "miindlek", "link": "https://stackoverflow.com/users/3671397/miindlek"}, "is_accepted": false, "score": 4, "last_activity_date": 1536180077, "creation_date": 1536180077, "answer_id": 52193107, "question_id": 52192855, "link": "https://stackoverflow.com/questions/52192855/cartesian-product-of-two-lists-in-python/52193107#52193107", "title": "Cartesian product of two lists in python", "body": "<p>You could use <a href=\"https://docs.python.org/3.7/library/itertools.html#itertools.product\" rel=\"nofollow noreferrer\">itertools.product</a> function:</p>\n\n<pre><code>from itertools import product\n\nlist3 = [a+str(b) for a, b in product(list1, list2)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "is_accepted": false, "score": 8, "last_activity_date": 1554252765, "last_edit_date": 1554252765, "creation_date": 1554251256, "answer_id": 55485328, "question_id": 52192855, "link": "https://stackoverflow.com/questions/52192855/cartesian-product-of-two-lists-in-python/55485328#55485328", "title": "Cartesian product of two lists in python", "body": "<p>If you are using Python 3.6+ you can use f-strings as follows:</p>\n\n<pre><code>list3 = [f'{a}{b}' for a in list1 for b in list2]\n</code></pre>\n\n<p>I really like this notation because it is very readable and matches with the definition of the cartesian product.</p>\n\n<p>If you want more sophisticated code, you could use <code>itertools.product</code>:</p>\n\n<pre><code>import itertools\n\nlist3 = [f'{a}{b}' for a, b in itertools.product(list1, list2)]\n</code></pre>\n\n<p>I checked the performance, and it seems the list comprehension runs faster than the <code>itertools</code> version.</p>\n"}], "owner": {"reputation": 139, "user_id": 10168057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-as8UsrjsgTo/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pAGzLxHpPtdRyYg3iwnQ4VtvbP_Q/mo/photo.jpg?sz=128", "display_name": "mohsen h", "link": "https://stackoverflow.com/users/10168057/mohsen-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14972, "favorite_count": 3, "accepted_answer_id": 52192888, "answer_count": 4, "score": 12, "last_activity_date": 1601120103, "creation_date": 1536178786, "last_edit_date": 1550657061, "question_id": 52192855, "link": "https://stackoverflow.com/questions/52192855/cartesian-product-of-two-lists-in-python", "title": "Cartesian product of two lists in python", "body": "<p>Cartesian product of two lists in python</p>\n\n<pre><code>list1 = ['a', 'b']\nlist2 = [1, 2, 3, 4, 5]\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>list3 = ['a1', 'a2', 'a3', 'a4', 'a5', 'b1', 'b2', 'b3', 'b4', 'b5']\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1536178867, "post_id": 52192830, "comment_id": 91335460, "body": "What&#39;s the result you expect to get? <code>&#39;\\x00\\x04\\x04\\x06\\x015&#39;</code>?"}, {"owner": {"reputation": 79, "user_id": 9456570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1aaee50dda942711993b4932518f282?s=128&d=identicon&r=PG&f=1", "display_name": "party34", "link": "https://stackoverflow.com/users/9456570/party34"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1536179144, "post_id": 52192830, "comment_id": 91335567, "body": "@Aran-Fey Yes, that&#39;s what i need"}], "answers": [{"tags": [], "owner": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "is_accepted": true, "score": 2, "last_activity_date": 1536179596, "creation_date": 1536179596, "answer_id": 52193011, "question_id": 52192830, "link": "https://stackoverflow.com/questions/52192830/converting-bytes-inside-a-tuple-to-string/52193011#52193011", "title": "Converting bytes inside a tuple to string", "body": "<pre><code>data = bytes(tuple([0, 4, 4, 6, 1, 53])).decode('utf-8')\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>'\\x00\\x04\\x04\\x06\\x015'\n</code></pre>\n\n<p>functions used:</p>\n\n<pre><code>bytes() - convert an iterable to a bytes like object\ndecode('utf-8') - decode bytes to utf8\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 9456570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1aaee50dda942711993b4932518f282?s=128&d=identicon&r=PG&f=1", "display_name": "party34", "link": "https://stackoverflow.com/users/9456570/party34"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1445, "favorite_count": 0, "accepted_answer_id": 52193011, "answer_count": 1, "score": -2, "last_activity_date": 1536179596, "creation_date": 1536178667, "question_id": 52192830, "link": "https://stackoverflow.com/questions/52192830/converting-bytes-inside-a-tuple-to-string", "title": "Converting bytes inside a tuple to string", "body": "<p>I have a tuple full of bytes and i need to convert these bytes into one single utf-8 string, how can i  do that?</p>\n\n<pre><code>data = tuple([0, 4, 4, 6, 1, 53])\nprint(data as utf-8 string?)\n</code></pre>\n"}, {"tags": ["python", "pandas", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 10078762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0e5a14d5324ea71e5ea1651bc56ee1?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/10078762/sss"}, "edited": false, "score": 0, "creation_date": 1536179358, "post_id": 52192840, "comment_id": 91335645, "body": "I am getting KeyError: &#39;Project&#39; when I run this. What could cause this?"}, {"owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "reply_to_user": {"reputation": 431, "user_id": 10078762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0e5a14d5324ea71e5ea1651bc56ee1?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/10078762/sss"}, "edited": false, "score": 0, "creation_date": 1536179486, "post_id": 52192840, "comment_id": 91335697, "body": "Is it possible that the <code>Project</code> column is actually in the index and not a column?  Or that it&#39;s spelled differently (no caps maybe) than in your sample input above?"}, {"owner": {"reputation": 431, "user_id": 10078762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0e5a14d5324ea71e5ea1651bc56ee1?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/10078762/sss"}, "edited": false, "score": 1, "creation_date": 1536179823, "post_id": 52192840, "comment_id": 91335820, "body": "Oh! My bad. &#39;Project Name&#39; is the column name. It works!! Thank you !!"}], "tags": [], "owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "is_accepted": false, "score": 2, "last_activity_date": 1536178727, "creation_date": 1536178727, "answer_id": 52192840, "question_id": 52192762, "link": "https://stackoverflow.com/questions/52192762/smart-way-of-creating-multiple-graphs-using-matplotlib/52192840#52192840", "title": "Smart way of creating multiple graphs using matplotlib", "body": "<p>You could just iterate the projects:</p>\n\n<pre><code>for proj in ws_actual['Project'].unique():\n    ws_actual[ws_actual['Project'] == proj].plot(x='Date Paid', y='Cumulative Sum', color='g')\n    plt.show()\n</code></pre>\n\n<p>Or check out seaborn for an easy way to make a <a href=\"https://seaborn.pydata.org/generated/seaborn.FacetGrid.html\" rel=\"nofollow noreferrer\">facet grid</a> for which you can set a rows variable.  Something along the lines of:</p>\n\n<pre><code>import seaborn as sns\n\ng = sns.FacetGrid(ws_actual, row=\"Project\")\ng = g.map(plt.scatter, \"Date Paid\", \"Cumulative Sum\", edgecolor=\"w\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 431, "user_id": 10078762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0e5a14d5324ea71e5ea1651bc56ee1?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/10078762/sss"}, "edited": false, "score": 0, "creation_date": 1536180234, "post_id": 52192851, "comment_id": 91336001, "body": "Can I possibly separate the plot depending on a project?"}, {"owner": {"reputation": 431, "user_id": 10078762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0e5a14d5324ea71e5ea1651bc56ee1?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/10078762/sss"}, "edited": false, "score": 0, "creation_date": 1536180389, "post_id": 52192851, "comment_id": 91336066, "body": "Never mind!! I just deleted fig, ax = plt.subplots(figsize=(8,8)) and ax=ax! It works!"}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "reply_to_user": {"reputation": 431, "user_id": 10078762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0e5a14d5324ea71e5ea1651bc56ee1?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/10078762/sss"}, "edited": false, "score": 0, "creation_date": 1536182391, "post_id": 52192851, "comment_id": 91336827, "body": "Yes, in that case you&#39;d just need to do that. By first defining a figure and axes, and then specifying <code>ax=ax</code> it ensures all of the lines are plotted on the same <code>axes</code> object. Removing them instead generates one plot separate figure per group, and show shows them all at the end."}], "tags": [], "owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "is_accepted": true, "score": 2, "last_activity_date": 1536179938, "last_edit_date": 1536179938, "creation_date": 1536178770, "answer_id": 52192851, "question_id": 52192762, "link": "https://stackoverflow.com/questions/52192762/smart-way-of-creating-multiple-graphs-using-matplotlib/52192851#52192851", "title": "Smart way of creating multiple graphs using matplotlib", "body": "<p>Right now you are connecting all of the points, regardless of group. A simple loop will work here allowing you to group the <code>DataFrame</code> and then plot each group as a separate curve. If you want you can define your own colorcycle if you have a lot of groups, so that colors do not repeat. </p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nfig, ax = plt.subplots(figsize=(8,8))\nfor id, gp in ws_actual.groupby('Project Name'):\n    gp.plot(x='Date Paid', y='Cumulative Sum', ax=ax, label=id)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WWwsY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WWwsY.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 431, "user_id": 10078762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0e5a14d5324ea71e5ea1651bc56ee1?s=128&d=identicon&r=PG&f=1", "display_name": "SSS", "link": "https://stackoverflow.com/users/10078762/sss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 52192851, "answer_count": 2, "score": 0, "last_activity_date": 1536179938, "creation_date": 1536178307, "question_id": 52192762, "link": "https://stackoverflow.com/questions/52192762/smart-way-of-creating-multiple-graphs-using-matplotlib", "title": "Smart way of creating multiple graphs using matplotlib", "body": "<p>I have an excel worksheet, let us say its name is 'ws_actual'. The data looks as below.</p>\n\n<pre><code>Project Name    Date Paid   Actuals Item Amount Cumulative Sum\nA   2016-04-10 00:00:00 124.2   124.2\nA   2016-04-27 00:00:00 2727.5  2851.7\nA   2016-05-11 00:00:00 2123.58 4975.28\nA   2016-05-24 00:00:00 2500    7475.28\nA   2016-07-07 00:00:00 38374.6 45849.88\nA   2016-08-12 00:00:00 2988.14 48838.02\nA   2016-09-02 00:00:00 23068   71906.02\nA   2016-10-31 00:00:00 570.78  72476.8\nA   2016-11-09 00:00:00 10885.75    83362.55\nA   2016-12-08 00:00:00 28302.95    111665.5\nA   2017-01-19 00:00:00 4354.3  116019.8\nA   2017-02-28 00:00:00 3469.77 119489.57\nA   2017-03-29 00:00:00 267.75  119757.32\nB   2015-04-27 00:00:00 2969.93 2969.93\nB   2015-06-02 00:00:00 118.8   3088.73\nB   2015-06-18 00:00:00 2640    5728.73\nB   2015-06-26 00:00:00 105.6   5834.33\nB   2015-09-03 00:00:00 11879.7 17714.03\nB   2015-10-22 00:00:00 5303.44 23017.47\nB   2015-11-08 00:00:00 52000   75017.47\nB   2015-11-25 00:00:00 2704.13 77721.6\nB   2016-03-09 00:00:00 59752.85    137474.45\nB   2016-03-13 00:00:00 512.73  137987.18\n.\n.\n.\n</code></pre>\n\n<p>Let us say there are many many more projects including A and B with Date Paid and Amount information. I would like to create a plot by project where x axis is 'Date Paid' and y axis is 'Cumulative Sum', but when I just implement the following code, it just combines every project and plot every 'Cumulative Sum' at one graph. I wonder if I need to divide the table by project, save each, and then bring one by one to plot the graph. It is a lot of work, so I am wondering if there is a smarter way to do so. Please help me, genius.</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\nws_actual = pd.read_excel(actual_file[0], sheet_name=0)\nax = ws_actual.plot(x='Date Paid', y='Cumulative Sum', color='g')\n</code></pre>\n"}, {"tags": ["c#", "python", ".net", "text-to-speech"], "comments": [{"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "edited": false, "score": 4, "creation_date": 1536178623, "post_id": 52192753, "comment_id": 91335352, "body": "Look into the Windows 10 Accessibility Features. It already has, built in, many features that can help him out."}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 8309428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e087b531f4f703119c5435abbb56c49d?s=128&d=identicon&r=PG&f=1", "display_name": "edm2282", "link": "https://stackoverflow.com/users/8309428/edm2282"}, "is_accepted": false, "score": 0, "last_activity_date": 1536180183, "creation_date": 1536180183, "answer_id": 52193125, "question_id": 52192753, "link": "https://stackoverflow.com/questions/52192753/creating-a-text-to-speech-application-for-any-text-highlighted/52193125#52193125", "title": "creating a text to speech application for any text highlighted", "body": "<p>Most of the major software OS (iOS, Android, Windows, etc.) have built in accessibility features. Check this link out specifically for Windows 10 </p>\n\n<p><a href=\"https://www.microsoft.com/en-us/accessibility/windows?activetab=pivot_1%3aprimaryr2\" rel=\"nofollow noreferrer\">https://www.microsoft.com/en-us/accessibility/windows?activetab=pivot_1%3aprimaryr2</a></p>\n"}], "owner": {"reputation": 5712, "user_id": 2730554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d6682e696c4f9438678b6638f271230a?s=128&d=identicon&r=PG&f=1", "display_name": "mHelpMe", "link": "https://stackoverflow.com/users/2730554/mhelpme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536180183, "creation_date": 1536178272, "question_id": 52192753, "link": "https://stackoverflow.com/questions/52192753/creating-a-text-to-speech-application-for-any-text-highlighted", "title": "creating a text to speech application for any text highlighted", "body": "<p>I apologise for the broad question I am about to ask. However my brother has recently become partially sighted. I want to help him use his laptop again which runs windows 10.</p>\n\n<p>I want to make an application to help him. What I want to create is something where he can highlight some text and right click and have an option \"Text To Speach\". I believe I know how to do this part after by editing the registry.</p>\n\n<p>When he clicks this I want the text to be read aloud to him, ideally with a small floating menu with a pause, rewind &amp; play button.</p>\n\n<p>Any help to get me started would be very much appreciated. I have experience in c# mainly. Although happy using Python, Javascript. Open to all options.</p>\n\n<p>I have been looking at various tts software but they seem a bit different to what I would like.</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 2, "creation_date": 1536178341, "post_id": 52192749, "comment_id": 91335244, "body": "Edited your question to change <code>dict</code> to <code>mydict</code>. It&#39;s always a bad idea to use a variable name that masks a built-in python type"}, {"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1536178459, "post_id": 52192749, "comment_id": 91335291, "body": "have you made an attempt of this yourself? can you show what you have tried?"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1536178476, "post_id": 52192749, "comment_id": 91335298, "body": "What do you mean match? All the same values? Some of the same values? Please create an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with a desired output"}], "answers": [{"comments": [{"owner": {"reputation": 340, "user_id": 10300416, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205248584090807/picture?type=large", "display_name": "Nick Dima", "link": "https://stackoverflow.com/users/10300416/nick-dima"}, "edited": false, "score": 0, "creation_date": 1536179153, "post_id": 52192900, "comment_id": 91335570, "body": "unless the lists are ordered somehow (i.e. largest to smallest or alphabetical) I don&#39;t think there is a way aside from brute forcing"}], "tags": [], "owner": {"reputation": 845, "user_id": 3181810, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/k5lqr.jpg?s=128&g=1", "display_name": "Jorge Lav&#237;n", "link": "https://stackoverflow.com/users/3181810/jorge-lav%c3%adn"}, "is_accepted": false, "score": 0, "last_activity_date": 1536179039, "creation_date": 1536179039, "answer_id": 52192900, "question_id": 52192749, "link": "https://stackoverflow.com/questions/52192749/python-dictionary-check-if-the-values-match-with-other-key-values/52192900#52192900", "title": "Python dictionary check if the values match with other key values", "body": "<p>You can simply loop over your expected values of <code>mydict</code>, and then for each of them check if its present in any of the values of the dictionary</p>\n\n<p>You can use the idiom <code>if item in list</code> to check if item <code>item</code> is present in the list <code>list</code></p>\n\n<pre><code>expected_values = mydict['2018-08']\nfound = False\nfor expected in expected_values:\n  for key in mydict:\n    if expected in mydict[key]:\n      found = True\n      break\n</code></pre>\n\n<p>Take into account that is a brute force algorithm and it may not be the optimal solution for larger dictionaries</p>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1536179131, "creation_date": 1536179131, "answer_id": 52192923, "question_id": 52192749, "link": "https://stackoverflow.com/questions/52192749/python-dictionary-check-if-the-values-match-with-other-key-values/52192923#52192923", "title": "Python dictionary check if the values match with other key values", "body": "<p>The question is vague, so I am assuming that you want the values in the target month (e.g. 2018-08) that are contained somewhere within the other months.</p>\n\n<p>Sets are much faster for testing membership compared to list iteration.</p>\n\n<pre><code>target = '2018-08'\ns = set()\nfor k, v in mydict.iteritems():\n    if k != target:\n        s.update(v)\nmatches = set(mydict[target]) &amp; s\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": false, "score": 0, "last_activity_date": 1536179481, "creation_date": 1536179481, "answer_id": 52192991, "question_id": 52192749, "link": "https://stackoverflow.com/questions/52192749/python-dictionary-check-if-the-values-match-with-other-key-values/52192991#52192991", "title": "Python dictionary check if the values match with other key values", "body": "<p>Can use <a href=\"https://docs.python.org/2/library/itertools.html#itertools.chain\" rel=\"nofollow noreferrer\">itertools.chain</a> to create a long list</p>\n\n<pre><code>import itertools\nfor key,value in mydict.items():\n    temp_dict = mydict.copy()\n    temp_dict.pop(key)\n    big_value_list=list(itertools.chain(*temp_dict.values()))\n    print(key, set(value) &amp; set(big_value_list))\n</code></pre>\n\n<p>Dry run by changing your provided inputs</p>\n\n<pre><code>mydict = {'2018-08' : [32124,4234,23,2323,32423,342342],\n          '2018-07' : [13123,23424,2,3,4343,4232,2342],\n          '2018-06' : [1231,12,12313,12331,3123131313,434546,232,342342,2342]}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>('2018-08', set([342342]))\n('2018-07', set([2342]))\n('2018-06', set([342342, 2342]))\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10322174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f5797832a42117f562795aba44596b?s=128&d=identicon&r=PG&f=1", "display_name": "Kavya", "link": "https://stackoverflow.com/users/10322174/kavya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2181, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1536179481, "creation_date": 1536178244, "last_edit_date": 1536178312, "question_id": 52192749, "link": "https://stackoverflow.com/questions/52192749/python-dictionary-check-if-the-values-match-with-other-key-values", "title": "Python dictionary check if the values match with other key values", "body": "<p>I have created a python dictionary with a structure like :-</p>\n\n<pre><code>mydict = {'2018-08' : [32124,4234,23,2323,32423,342342],\n          '2018-07' : [13123,23424,2,3,4343,4232,2342],\n          '2018-06' : [1231,12,12313,12331,3123131313,434546,232]}\n</code></pre>\n\n<p>I want to check if any value in the values of key <code>'2018-08'</code> match with any values of other keys. is there a short way to write this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1536178240, "post_id": 52192722, "comment_id": 91335199, "body": "Is what you&#39;ve posted your actual indentation? If so, you haven&#39;t added special methods to the <code>Card</code> class, you&#39;ve just created a bunch of functions that never get called."}, {"owner": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "edited": false, "score": 0, "creation_date": 1536178408, "post_id": 52192722, "comment_id": 91335271, "body": "<code>__cmp__</code> is gone in Python 3. The powers that be decided that you should have to go with the bloated way of doing things. I was not personally consulted on that decision, and I would have voted against it if I had been."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536178622, "post_id": 52192722, "comment_id": 91335351, "body": "Also, why are you working so hard to fight against Python, instead of just using it as intended? Your code would be a whole lot simpler."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536178853, "post_id": 52192722, "comment_id": 91335450, "body": "Side-note: A card has a &quot;suit&quot;, not a &quot;suite&quot;; pluralized, it&#39;s still &quot;suits&quot;, not &quot;suites&quot;. Only time an <code>e</code> appears is referring to &quot;suited&quot; cards, but that&#39;s purely the <code>-ed</code> suffix, not part of the word itself."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "edited": false, "score": 2, "creation_date": 1536178856, "post_id": 52192722, "comment_id": 91335452, "body": "@mypetlion: Aside from the NumPy motivation, it was impossible to implement equality comparisons without ordering comparisons in the old API. Also, requiring every equality test to compute ordering was hurting performance. Rich comparisons may be more code, but the benefits are real."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536179094, "post_id": 52192722, "comment_id": 91335540, "body": "See <a href=\"https://gist.github.com/abarnert/f5fecdfe2a2d3853254ca12641855350\" rel=\"nofollow noreferrer\">here</a> for a quick example of how to do this Pythonically, without building strings to eval and converting <code>&lt;&#47;=&#47;&gt;</code> to <code>cmp</code> just to convert back to <code>&lt;&#47;=&#47;&gt;</code> and so on."}, {"owner": {"reputation": 1570, "user_id": 3324507, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/653f2f879a98a201288ef32e6e344163?s=128&d=identicon&r=PG&f=1", "display_name": "sgp667", "link": "https://stackoverflow.com/users/3324507/sgp667"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536184309, "post_id": 52192722, "comment_id": 91337448, "body": "@abarnert I did not know that you can compare tuples like that it does seem simpler, and yes I tampered with the indentation."}], "answers": [{"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1536185900, "post_id": 52192786, "comment_id": 91337905, "body": "Even for 3.6, you can either use the dataclasses backport, or the third-party library that inspired it, attrs."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 2, "last_activity_date": 1536178732, "last_edit_date": 1536178732, "creation_date": 1536178417, "answer_id": 52192786, "question_id": 52192722, "link": "https://stackoverflow.com/questions/52192722/how-to-implement-a-class-in-python-that-can-be-compared-sorted-etc/52192786#52192786", "title": "How to implement a class in python that can be compared, sorted, etc", "body": "<p><code>__cmp__</code> no longer exists, so that's not an option. That said, you can implement only <code>__eq__</code> and <code>__lt__</code>, then <a href=\"https://docs.python.org/3/library/functools.html#functools.total_ordering\" rel=\"nofollow noreferrer\">use the <code>functools.total_ordering</code> decorator</a> to fill in the rest:</p>\n\n<pre><code>import functools\n\n@functools.total_ordering\nclass Card:\n  ... init here ...\n  def __lt__(self,other):\n     return self._compare_cards_(other,1)\n  def __eq__(self,other):\n     return self._compare_cards_(other,0)\n  ... no need for le/ge/gt, and you never need ne on Python 3 anyway ...\n  ... rest of code ...\n</code></pre>\n\n<p>If you can move to 3.7, you might want to look at <a href=\"https://docs.python.org/3/library/dataclasses.html\" rel=\"nofollow noreferrer\">the <code>dataclasses</code> module</a> which can handle code generation for equality and comparisons very easily, which (if combined with the <code>enum</code> module to properly order your ranks and suits for free), would remove most of your custom code entirely, leaving only a half dozen lines or so.</p>\n"}], "owner": {"reputation": 1570, "user_id": 3324507, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/653f2f879a98a201288ef32e6e344163?s=128&d=identicon&r=PG&f=1", "display_name": "sgp667", "link": "https://stackoverflow.com/users/3324507/sgp667"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 52192786, "answer_count": 1, "score": -1, "last_activity_date": 1536178732, "creation_date": 1536178130, "question_id": 52192722, "link": "https://stackoverflow.com/questions/52192722/how-to-implement-a-class-in-python-that-can-be-compared-sorted-etc", "title": "How to implement a class in python that can be compared, sorted, etc", "body": "<p>I am trying to write a Card class and I want to make sure that I can use comparison operators on it, as well as use max,min,sort of list of my <code>Card</code> objects.</p>\n\n<p>I read that to accomplish this I just need to implement <code>__cmp__</code> but when I did that my unit tests would not pass, so I ended up implementing all of the comparison magic methods <code>__gt__</code>,<code>__lt__</code>,<code>__eq__</code>, etc.</p>\n\n<p>I want to get rid of bloat in my code and remove all of comparison methods expect for <code>__cmp__</code> if possible.</p>\n\n<p>I am using Python 3.5 Anaconda distribution.</p>\n\n<p>This is my current implementation:</p>\n\n<pre><code>__ranks__ = [2,3,4,5,6,7,8,9,10,\"J\",\"Q\",\"K\",\"A\"]\n__suites__ = [\"Clubs\",\"Diamods\",\"Hearts\",\"Spades\"]\n\nclass Card():\n  def __init__(self,suite,rank):\n    if suite in __suites__ and rank in __ranks__:\n      self.suite = suite\n      self.rank = rank\n    else:\n      raise ValueError(\"Cards need to be instansiated with names from __ranks__ and __suites\")\n\n\ndef __gt__(self,other):\n  return self._compare_cards_(other,-1)\n\ndef __lt__(self,other):\n  return self._compare_cards_(other,1)\n\ndef __ge__(self,other):\n  return self._compare_cards_(other,-1) or self.__eq__(other)\n\ndef __le__(self,other):\n  return self._compare_cards_(other,1) or self.__eq__(other)\n\ndef __eq__(self,other):\n  return self._compare_cards_(other,0)\n\ndef __ne__(self,other):\n  return not self.__eq__(other)\n\ndef _compare_cards_(self,other,expect):\n  rank_comp = self._compare_ranks_(other.rank,self.rank)\n  if rank_comp == 0:\n    return self._compare_suites_(other.suite,self.suite) == expect\n  return rank_comp == expect\n\ndef _compare_ranks_(self,rank1,rank2):\n  return self._compare_attributes_(\"rank\",rank1,rank2)\n\ndef _compare_suites_(self,suite1,suite2):\n  return self._compare_attributes_(\"suite\",suite1,suite2)\n\ndef _compare_attributes_(self,name,attr1,attr2):\n  attr_list = eval(\"__{}s__\".format(name))\n\n  if attr_list.index(attr1) &lt; attr_list.index(attr2):\n    return -1\n  if attr_list.index(attr1) == attr_list.index(attr2):\n    return 0\n  if attr_list.index(attr1) &gt; attr_list.index(attr2):\n    return 1\n</code></pre>\n\n<p>Originally instead of all the magic methods that I have now I had <code>__cmp__</code>:</p>\n\n<pre><code>def __cmp__(self,other):\n  rank_comp = self._compare_ranks_(other.rank,self.rank)\n  if rank_comp == 0:\n    return self._compare_suites_(other.suite,self.suite)\n  return rank_comp\n</code></pre>\n\n<p>My unit tests(using pytest):</p>\n\n<pre><code>import pytest\nfrom game.deck import Card\n\ndef test_card_rank_can_be_compared():\n  ten_of_spades = Card(\"Spades\",10)\n  jack_of_spades = Card(\"Spades\",\"J\")\n\n  assert ten_of_spades &lt; jack_of_spades\n  assert jack_of_spades &gt; ten_of_spades\n  assert ten_of_spades &lt;= jack_of_spades\n  assert jack_of_spades &gt;= ten_of_spades\n\ndef test_card_suite_can_be_comapred():\n  ten_of_spades = Card(\"Spades\",10)\n  ten_of_clubs = Card(\"Clubs\",10)\n\n  assert ten_of_spades &gt; ten_of_clubs\n  assert ten_of_clubs &lt; ten_of_spades\n  assert ten_of_spades &gt;= ten_of_clubs\n  assert ten_of_clubs &lt;= ten_of_spades\n</code></pre>\n"}, {"tags": ["python", "django", "nginx", "collectstatic"], "comments": [{"owner": {"reputation": 7396, "user_id": 5921826, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cF8w-5Y_yz8/AAAAAAAAAAI/AAAAAAAAAC0/oIYJ_x2s_3o/photo.jpg?sz=128", "display_name": "Ivan Starostin", "link": "https://stackoverflow.com/users/5921826/ivan-starostin"}, "edited": false, "score": 0, "creation_date": 1536178252, "post_id": 52192686, "comment_id": 91335206, "body": "Please, replace errors+urls picture with text and add error info from nginx log."}, {"owner": {"reputation": 41, "user_id": 4825027, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200437986148026/picture?type=large", "display_name": "Fernando A. Le&#243;n", "link": "https://stackoverflow.com/users/4825027/fernando-a-le%c3%b3n"}, "reply_to_user": {"reputation": 7396, "user_id": 5921826, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cF8w-5Y_yz8/AAAAAAAAAAI/AAAAAAAAAC0/oIYJ_x2s_3o/photo.jpg?sz=128", "display_name": "Ivan Starostin", "link": "https://stackoverflow.com/users/5921826/ivan-starostin"}, "edited": false, "score": 0, "creation_date": 1536179145, "post_id": 52192686, "comment_id": 91335568, "body": "i added error.log content from nginx"}, {"owner": {"reputation": 41, "user_id": 4825027, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200437986148026/picture?type=large", "display_name": "Fernando A. Le&#243;n", "link": "https://stackoverflow.com/users/4825027/fernando-a-le%c3%b3n"}, "reply_to_user": {"reputation": 7396, "user_id": 5921826, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cF8w-5Y_yz8/AAAAAAAAAAI/AAAAAAAAAC0/oIYJ_x2s_3o/photo.jpg?sz=128", "display_name": "Ivan Starostin", "link": "https://stackoverflow.com/users/5921826/ivan-starostin"}, "edited": false, "score": 0, "creation_date": 1536180613, "post_id": 52192686, "comment_id": 91336145, "body": "it&#39;s very helpful, sorry for duplicate post"}], "owner": {"reputation": 41, "user_id": 4825027, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200437986148026/picture?type=large", "display_name": "Fernando A. Le&#243;n", "link": "https://stackoverflow.com/users/4825027/fernando-a-le%c3%b3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "closed_date": 1536254387, "answer_count": 0, "score": 0, "last_activity_date": 1536179598, "creation_date": 1536177953, "last_edit_date": 1536179598, "question_id": 52192686, "link": "https://stackoverflow.com/questions/52192686/error-403-on-my-css-files-from-my-admin-panel-with-django-2-0", "closed_reason": "Duplicate", "title": "Error 403 on my css files from my admin panel with django 2.0", "body": "<p>I have the following problem, my admin panel doesn't load CSS files and you can see like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GWvwX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GWvwX.png\" alt=\"this image\"></a></p>\n\n<p>on the console display this error message:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ePmF5.png\" alt=\"[messages error\">]<a href=\"https://i.stack.imgur.com/ePmF5.png\" rel=\"nofollow noreferrer\">2</a></p>\n\n<p>and have this \"user:group\" on <img src=\"https://i.stack.imgur.com/UECpH.png\" alt=\"my files]\">\nstatic files dir contents:\n<img src=\"https://i.stack.imgur.com/O5pgB.png\" alt=\"static files]\"></p>\n\n<p>and finally here my settings.py and nginx config content</p>\n\n<p><strong>Settings.py</strong></p>\n\n<pre><code>    \"\"\"\nDjango settings for oasiSystem project.\n\nGenerated by 'django-admin startproject' using Django 2.0.2.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/2.0/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/2.0/ref/settings/\n\"\"\"\n\nimport os\nfrom datetime import datetime\n\n# Build paths inside the project like this: os.path.join(BASE_DIR, ...)\nBASE_DIR = os.path.dirname(os.path.abspath(__file__))\n\n\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/2.0/howto/deployment/checklist/\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = '!7p2^8bz736on1%%gcm)5^s21drrqz+$-=cj35*_ie((hvyl1-'\n\n# SECURITY WARNING: don't run with debug turned on in production!\nDEBUG = False\n\nALLOWED_HOSTS = ['159.89.150.67']\n\n\n# Application definition\n\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'reset_migrations',\n    'apps.captura',\n    'apps.cliente',\n    'apps.cliente',\n    'apps.cotizacion',\n    'apps.empleado',\n    'apps.reportes',\n    'apps.sucursal',\n    'apps.estado',\n    'apps.pais',\n    'apps.utils',\n    'apps.usuario',\n    'apps.kernel',\n    'apps.sendMail',\n]\n\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n\nROOT_URLCONF = 'oasiSystem.urls'\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n#        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'DIRS': [os.path.join(BASE_DIR, 'templates'), os.path.join(BASE_DIR, 'templates/registration')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = 'oasiSystem.wsgi.application'\n# Database\n# https://docs.djangoproject.com/en/2.0/ref/settings/#databases\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': 'oasis',\n        'USER': 'root',\n        'PASSWORD': 'neko1234',\n        'HOST': 'localhost',\n        'PORT': 3306,\n    }\n}\n\n\n# Password validation\n# https://docs.djangoproject.com/en/2.0/ref/settings/#auth-password-validators\n\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',\n    },\n]\n\n\n# Internationalization\n# https://docs.djangoproject.com/en/2.0/topics/i18n/\n\nLANGUAGE_CODE = 'es-mx'\n\nTIME_ZONE = 'UTC'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/2.0/howto/static-files/\n\nSTATIC_URL = '/static/'\nSTATICFILES_DIR = [\n                        os.path.join(BASE_DIR, 'static'),\n                        '/root/Envs/.venv/lib/python3.5/site-packages/django/contrib/admin/static/admin',\n                  ]\nSTATIC_ROOT = os.path.join(BASE_DIR, 'static')\n\nADMIN_MEDIA_PREFIX = '/static/admin'\n\nMEDIA_ROOT = ['media']\n\nPRIVATE_STORAGE_ROOT = (os.path.join(BASE_DIR, 'media'),)\n\n# Configuracion del redireccionamiento del login (aun falta trabajarlo mas)\nLOGIN_URL = 'login'\nLOGIN_REDIRECT_URL = 'empleado'\n</code></pre>\n\n<p><strong>nginx-config</strong></p>\n\n<pre><code>server{\n    listen 80;\n    access_log /home/django/logs/access.log;\n    error_log /home/django/logs/error.log;\n\n    server_name apps.oasissorting.com;\n\n    location / {\n    proxy_pass http://127.0.0.1:8000;\n\n    proxy_pass_header Server;\n    proxy_set_header X-Forwarded-Host $server_name;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header Host $http_host;\n    }\n\n    location /static {\n#       alias /home/django/oasisystem3/static/;\n#       alias /root/Envs/.venv/lib/python3.5/site-packages/django/contrib/admin/static/;\n        alias /root/Envs/.venv/lib/python3.5/site-packages/django/contrib/admin/static/admin;\n        expires modified +1w;\n    }\n    location /media {\n        alias /home/django/oasisystem3/media/;\n    }\n    location /static/admin {\n        alias /root/Envs/.venv/lib/python3.5/site-packages/django/contrib/admin/static/admin;\n    }\n}\n</code></pre>\n\n<p><strong>Nginx error.log</strong></p>\n\n<pre><code>2018/09/05 20:24:08 [error] 2783#2783: *9 open() \"/root/Envs/.venv/lib/python3.5/site-packages/django/contrib/admin/static/admin/css/base.css\" failed (13: Permission denied), client: 187.189.71.2, server: apps.oasissorting.com, request: \"GET /static/admin/css/base.css HTTP/1.1\", host: \"159.89.150.67\", referrer: \"http://159.89.150.67/admin/\"\n2018/09/05 20:24:08 [error] 2783#2783: *9 open() \"/root/Envs/.venv/lib/python3.5/site-packages/django/contrib/admin/static/admin/css/dashboard.css\" failed (13: Permission denied), client: 187.189.71.2, server: apps.oasissorting.com, request: \"GET /static/admin/css/dashboard.css HTTP/1.1\", host: \"159.89.150.67\", referrer: \"http://159.89.150.67/admin/\"\n2018/09/05 20:24:08 [error] 2783#2783: *11 open() \"/root/Envs/.venv/lib/python3.5/site-packages/django/contrib/admin/static/admin/css/responsive.css\" failed (13: Permission denied), client: 187.189.71.2, server: apps.oasissorting.com, request: \"GET /static/admin/css/responsive.css HTTP/1.1\", host: \"159.89.150.67\", referrer: \"http://159.89.150.67/admin/\"\n</code></pre>\n\n<p>what is my error on this situation?, I appreciate your help &lt;3</p>\n"}, {"tags": ["python", "robotframework"], "comments": [{"owner": {"reputation": 1118, "user_id": 9999810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/159b4c4c0bd956a54eb26b866a07a50e?s=128&d=identicon&r=PG&f=1", "display_name": "JaPyR", "link": "https://stackoverflow.com/users/9999810/japyr"}, "edited": false, "score": 1, "creation_date": 1536222072, "post_id": 52192656, "comment_id": 91348196, "body": "You could try to create a listener that will check that will run at the end of every keyword and if the keyword is from your library and failed than handle it. <a href=\"http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#listener-interface\" rel=\"nofollow noreferrer\">robotframework.org/robotframework/latest/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 636, "user_id": 8700767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI4sM.jpg?s=128&g=1", "display_name": "Federico Rubbi", "link": "https://stackoverflow.com/users/8700767/federico-rubbi"}, "is_accepted": false, "score": 0, "last_activity_date": 1536180060, "creation_date": 1536180060, "answer_id": 52193106, "question_id": 52192656, "link": "https://stackoverflow.com/questions/52192656/capturing-screenshot-on-failure-in-custom-test-library/52193106#52193106", "title": "Capturing Screenshot on failure in custom test library", "body": "<p>Even if you have hundreds of keyword the <code>try</code> block is the best way to do that.</p>\n\n<p>Maybe you could manage it like so:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>keywords = ['Hello', 'World'] # etc.\n\n# Include the try block in a function.\ndef try_keyword(keyword):\n    try:\n        self.selib.wait_until_page_contains(keyword)\n    except:\n        self.selib.capture_page_screenshot()\n    # Eventually do_something_else()\n\n# Pass a function as an argument\ndef try_function_and_keyword(function, keyword):\n    try:\n        function(keyword)\n    except:\n        self.selib.capture_page_screenshot()\n    # Eventually do_something_else()\n\nfor keyword in keywords:\n    try_keyword(keyword)\n    try_function_and_keyword(driver.find_element_by_id, keyword)\n</code></pre>\n\n<p>I assume that possible exceptions involve your script.</p>\n\n<p>If so, perhaps, using the <a href=\"https://docs.python.org/3/library/logging.html\" rel=\"nofollow noreferrer\">logging</a> module may be useful.\nOr, even if possible exceptions involve the site, you may need request or response data. You can give a look to <a href=\"https://github.com/lightbody/browsermob-proxy\" rel=\"nofollow noreferrer\">browsermob-proxy</a>, a really useful module.</p>\n"}], "owner": {"reputation": 43, "user_id": 4310458, "user_type": "registered", "profile_image": "https://graph.facebook.com/1006394681/picture?type=large", "display_name": "SirBearLag", "link": "https://stackoverflow.com/users/4310458/sirbearlag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536180060, "creation_date": 1536177831, "question_id": 52192656, "link": "https://stackoverflow.com/questions/52192656/capturing-screenshot-on-failure-in-custom-test-library", "title": "Capturing Screenshot on failure in custom test library", "body": "<p>I'm currently using ROBOT for some automated testing, except I've run into a problem.\nAnything that fails in the .robot file using a SeleniumLibrary keyword accurately captures screenshots as expected.</p>\n\n<p>Unfortunately, I have some custom libraries alongside the SeleniumLibrary which I would like to do the same thing, but it does not. So if I call a keyword from my CustomLibrary1 for example, and it fails doing a \n<code>self.selib.wait_until_page_contains(\"Hello\")</code>\nthen it will simply fail the test without capturing a screenshot.</p>\n\n<p>The only workarounds I have been able to find so far are:</p>\n\n<ol>\n<li>Throwing each and every keywords body into a <code>try</code> and using </li>\n</ol>\n\n<p><code>except:\n    self.selib.capture_page_screenshot()</code> (not ideal as I have hundreds of keywords).</p>\n\n<ol start=\"2\">\n<li>Adding a Test Teardown to every test I have, and using </li>\n</ol>\n\n<p><code>Run Keyword If Test Failed    Capture Test Screenshot</code>, which is also not ideal since, if the test fails while running a SeleniumLibrary keyword in the .robot file, then two screenshots will be captured and I have some hybrid data driven/keyword driven tests which do not call the test teardown between tests and only at the end of all the tests.</p>\n\n<p>Is there a way to register a \"run_on_failure\" feature into custom libraries?</p>\n"}, {"tags": ["python", "pandas", "bigdata"], "comments": [{"owner": {"reputation": 518, "user_id": 8910983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e01f9fc098503ba4ccdecfedb1822?s=128&d=identicon&r=PG", "display_name": "not_a_bot_no_really_82353", "link": "https://stackoverflow.com/users/8910983/not-a-bot-no-really-82353"}, "edited": false, "score": 0, "creation_date": 1536181838, "post_id": 52192636, "comment_id": 91336626, "body": "In my experience the biggest bottleneck is the library you use to access / manipulate csv or other file formats. What library do you use? Have you tried other libraries? Why won&#39;t a simple bash script do the trick?"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 8149553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7da687281f32ff7a91d9d0fd046abe4?s=128&d=identicon&r=PG&f=1", "display_name": "J.Sung", "link": "https://stackoverflow.com/users/8149553/j-sung"}, "edited": false, "score": 0, "creation_date": 1536183625, "post_id": 52193521, "comment_id": 91337237, "body": "Data is sitting on network file storage with gigabit connection. I can move it to a server that&#39;s on a 10Gb ring connection to the file storage. I was trying with &quot;open&quot; file and going through line by line. Also tried perl but that&#39;s also going through line by line single thread. Do you have suggestion what batch method or multi-thread process is available? I did notice when I moved from Python 2.7 to 3.5 my conversion programs using &quot;open&quot; command got significantly slower (about 5x slower in i/o). 3.6 was slightly faster but nowhere near 2.7 was."}, {"owner": {"reputation": 518, "user_id": 8910983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e01f9fc098503ba4ccdecfedb1822?s=128&d=identicon&r=PG", "display_name": "not_a_bot_no_really_82353", "link": "https://stackoverflow.com/users/8910983/not-a-bot-no-really-82353"}, "reply_to_user": {"reputation": 27, "user_id": 8149553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7da687281f32ff7a91d9d0fd046abe4?s=128&d=identicon&r=PG&f=1", "display_name": "J.Sung", "link": "https://stackoverflow.com/users/8149553/j-sung"}, "edited": false, "score": 0, "creation_date": 1536187093, "post_id": 52193521, "comment_id": 91338196, "body": "Once again, the version of python or the programming language in general has nothing to do with the speed. You have to find out how to read huge junks of data and store them in a buffer before writing them back in bulk. That you read line-by-line in python does not mean that the package you use is reading line by line."}, {"owner": {"reputation": 518, "user_id": 8910983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e01f9fc098503ba4ccdecfedb1822?s=128&d=identicon&r=PG", "display_name": "not_a_bot_no_really_82353", "link": "https://stackoverflow.com/users/8910983/not-a-bot-no-really-82353"}, "reply_to_user": {"reputation": 27, "user_id": 8149553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7da687281f32ff7a91d9d0fd046abe4?s=128&d=identicon&r=PG&f=1", "display_name": "J.Sung", "link": "https://stackoverflow.com/users/8149553/j-sung"}, "edited": false, "score": 0, "creation_date": 1536187342, "post_id": 52193521, "comment_id": 91338271, "body": "Also, what packages do you use for python? Especially some of the CSV packages are dreadfully slow."}, {"owner": {"reputation": 27, "user_id": 8149553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7da687281f32ff7a91d9d0fd046abe4?s=128&d=identicon&r=PG&f=1", "display_name": "J.Sung", "link": "https://stackoverflow.com/users/8149553/j-sung"}, "edited": false, "score": 0, "creation_date": 1536188830, "post_id": 52193521, "comment_id": 91338558, "body": "I&#39;m not importing any packages other than sys and pandas. Using open(file,&#39;r&#39;) to open file and open(file,&#39;w&#39;,  newline = &#39;\\r\\n&#39;) to write to. Writing is done in large chunks. Use &quot;for line in file:&quot; to go through line by line."}, {"owner": {"reputation": 518, "user_id": 8910983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e01f9fc098503ba4ccdecfedb1822?s=128&d=identicon&r=PG", "display_name": "not_a_bot_no_really_82353", "link": "https://stackoverflow.com/users/8910983/not-a-bot-no-really-82353"}, "reply_to_user": {"reputation": 27, "user_id": 8149553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7da687281f32ff7a91d9d0fd046abe4?s=128&d=identicon&r=PG&f=1", "display_name": "J.Sung", "link": "https://stackoverflow.com/users/8149553/j-sung"}, "edited": false, "score": 0, "creation_date": 1536271508, "post_id": 52193521, "comment_id": 91374878, "body": "Try using pylint on your code and open a new question if you know where your bottleneck is. Alternatively seek a package that does what you want."}], "tags": [], "owner": {"reputation": 518, "user_id": 8910983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e01f9fc098503ba4ccdecfedb1822?s=128&d=identicon&r=PG", "display_name": "not_a_bot_no_really_82353", "link": "https://stackoverflow.com/users/8910983/not-a-bot-no-really-82353"}, "is_accepted": false, "score": 0, "last_activity_date": 1536182679, "last_edit_date": 1536182679, "creation_date": 1536182353, "answer_id": 52193521, "question_id": 52192636, "link": "https://stackoverflow.com/questions/52192636/fastest-method-to-reformat-terabytes-of-data/52193521#52193521", "title": "Fastest method to reformat terabytes of data", "body": "<p>There are two big bottlenecks when you have to manipulate large files or a great number of files. One is your file system, which is limited by either your HDD or SSD (your storage medium), the connection to the storage medium and your operation system. Usually you can not change that. But you have to ask yourself, what is my top speed? How fast can the system read and write? You can never be faster than that.\nA rough estimation of the maximum speed would be the time you need to read all your data plus the time you need to write all your data.</p>\n\n<p>The other bottleneck is the library you use in order to make the changes. Not all Python packages are created equal, there are huge speed differences. I recommend to try several approaches on a small test sample until you find one that works for you.</p>\n\n<p>Keep in mind that most file systems like to either read or write huge junks of data. So you should try to avoid situation where you alternate between reading one line and then writing one line. In other words not only the library is important but how you use it.</p>\n\n<p>Different programming languages, while they might provide a good library for this task and can be a good idear, will not speed up the process in any meaningful way (so you won't get 10 times the speed or anything).</p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 8149553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7da687281f32ff7a91d9d0fd046abe4?s=128&d=identicon&r=PG&f=1", "display_name": "J.Sung", "link": "https://stackoverflow.com/users/8149553/j-sung"}, "edited": false, "score": 0, "creation_date": 1536248140, "post_id": 52200325, "comment_id": 91364524, "body": "This would be awesome. I&#39;ll try it out once I figure out how to do memory mapping. Thanks."}, {"owner": {"reputation": 10487, "user_id": 5708620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0f8c70394b748ed7ec1a3a11a749b1?s=128&d=identicon&r=PG&f=1", "display_name": "Danny_ds", "link": "https://stackoverflow.com/users/5708620/danny-ds"}, "reply_to_user": {"reputation": 27, "user_id": 8149553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7da687281f32ff7a91d9d0fd046abe4?s=128&d=identicon&r=PG&f=1", "display_name": "J.Sung", "link": "https://stackoverflow.com/users/8149553/j-sung"}, "edited": false, "score": 0, "creation_date": 1536248672, "post_id": 52200325, "comment_id": 91364888, "body": "@J.Sung Are you programming for Windows or Linux?"}, {"owner": {"reputation": 27, "user_id": 8149553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7da687281f32ff7a91d9d0fd046abe4?s=128&d=identicon&r=PG&f=1", "display_name": "J.Sung", "link": "https://stackoverflow.com/users/8149553/j-sung"}, "edited": false, "score": 0, "creation_date": 1536271038, "post_id": 52200325, "comment_id": 91374729, "body": "I usually build and test in Windows then move it to a linux server."}], "tags": [], "owner": {"reputation": 10487, "user_id": 5708620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0f8c70394b748ed7ec1a3a11a749b1?s=128&d=identicon&r=PG&f=1", "display_name": "Danny_ds", "link": "https://stackoverflow.com/users/5708620/danny-ds"}, "is_accepted": false, "score": 0, "last_activity_date": 1536224410, "creation_date": 1536224410, "answer_id": 52200325, "question_id": 52192636, "link": "https://stackoverflow.com/questions/52192636/fastest-method-to-reformat-terabytes-of-data/52200325#52200325", "title": "Fastest method to reformat terabytes of data", "body": "<p>I would use C/C++ with memory mapping.</p>\n\n<p>With memory mapping you can go through the data as if it were one big array of bytes (and this will also prevent a copy of the data from kernel space to user space (on Windows, not sure about Linux)).</p>\n\n<p>For very large files you could map one block at a time (for example 10GB).</p>\n\n<p>For writing, use a buffer (say 1MB) to store the results, and then write that buffer to the file each time (using <code>fwrite()</code>).</p>\n\n<p>Whatever you do, do not use streaming I/O or <code>readline()</code>.</p>\n\n<p>The process should take no longer (or at least not much longer) than the time it would take to copy the files on disk (or over network since you're using network file storage).</p>\n\n<p>If you have the option, write the data to a different (physical) disk than the one you are reading from.</p>\n"}], "owner": {"reputation": 27, "user_id": 8149553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7da687281f32ff7a91d9d0fd046abe4?s=128&d=identicon&r=PG&f=1", "display_name": "J.Sung", "link": "https://stackoverflow.com/users/8149553/j-sung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1536224410, "creation_date": 1536177741, "last_edit_date": 1536180629, "question_id": 52192636, "link": "https://stackoverflow.com/questions/52192636/fastest-method-to-reformat-terabytes-of-data", "title": "Fastest method to reformat terabytes of data", "body": "<p>I have 100s of files that are 10s of Gbyte each. I need to reformat the files and combine to a more usable table format so I can group, sum, average, etc. the data. Reformatting the data using Python would take over a week. Even after I reformat it to a table I don't know if it would be too large for dataframe, but one problem at a time.</p>\n\n<p>Can anyone suggest a faster method to reformat the text files? I'll consider anything C++, perl, etc.</p>\n\n<h2>Sample data:</h2>\n\n<pre><code>Scenario:  Modeling_5305 (0.0001)\n\nPosition:  NORTHERN UTILITIES SR NT,\n\n\"  \",\"THEO/Effective Duration\",\"THEO/Yield\",\"THEO/Implied Spread\",\"THEO/Value\",\"THEO/Price\",\"THEO/Outstanding Balance\",\"THEO/Effective Convexity\",\"ID\",\"WAL\",\"Type\",\"Maturity Date\",\"Coupon Rate\",\"POS/Position Units\",\"POS/Portfolio\",\"POS/User Defined 1\",\"POS/SE Cash 1\",\"User Defined 2\",\"CMO WAL\",\"Spread Over Yield\",\n\n\"2017/12/31\",16.0137 T,4.4194 % SEMI 30/360,0.4980 % SEMI 30/360,\"6,934,452.0000 USD\",\"6,884,052.0000 USD\",\"7,000,000.0000 USD\",371.6160 T,CachedFilterPartitions-PL_SPLITTER.2:665876C#3,29.8548 T,Fixed Rate Bond,2047/11/01,4.3200 % SEMI 30/360,\"70,000.0000\",All Portfolios,030421000,0.0000 USD,FRB,N/A,0.4980 % SEMI 30/360,\n\n\"2018/01/12\",15.5666 T,4.8499 % SEMI 30/360,0.4980 % SEMI 30/360,\"6,477,803.7492 USD\",\"6,418,163.7492 USD\",\"7,000,000.0000 USD\",356.9428 T,CachedFilterPartitions-PL_SPLITTER.2:665876C#3,29.8219 T,Fixed Rate Bond,2047/11/01,4.3200 % SEMI 30/360,\"70,000.0000\",All Portfolios,030421000,0.0000 USD,FRB,N/A,0.4980 % SEMI 30/360,\n\nScenario:  Modeling_5305 (0.0001)\n\nPosition:  OLIVIA ISSUER TR SER A (A,\n\n\"  \",\"THEO/Effective Duration\",\"THEO/Yield\",\"THEO/Implied Spread\",\"THEO/Value\",\"THEO/Price\",\"THEO/Outstanding Balance\",\"THEO/Effective Convexity\",\"ID\",\"WAL\",\"Type\",\"Maturity Date\",\"Coupon Rate\",\"POS/Position Units\",\"POS/Portfolio\",\"POS/User Defined 1\",\"POS/SE Cash 1\",\"User Defined 2\",\"CMO WAL\",\"Spread Over Yield\",\n\n\"2017/12/31\",1.3160 T,19.0762 % SEMI 30/360,0.2990 % SEMI 30/360,\"3,862,500.0000 USD\",\"3,862,500.0000 USD\",\"5,000,000.0000 USD\",2.3811 T,CachedFilterPartitions-PL_SPLITTER.2:681071AA4,1.3288 T,Interest Rate Index Linked Note,2019/05/30,0.0000 % MON 30/360,\"50,000.0000\",All Portfolios,010421002,0.0000 USD,IRLIN,N/A,0.2990 % SEMI 30/360,\n\n\"2018/01/12\",1.2766 T,21.9196 % SEMI 30/360,0.2990 % SEMI 30/360,\"3,815,391.3467 USD\",\"3,815,391.3467 USD\",\"5,000,000.0000 USD\",2.2565 T,CachedFilterPartitions-PL_SPLITTER.2:681071AA4,1.2959 T,Interest Rate Index Linked Note,2019/05/30,0.0000 % MON 30/360,\"50,000.0000\",All Portfolios,010421002,0.0000 USD,IRLIN,N/A,0.2990 % SEMI 30/360,\n</code></pre>\n\n<h2>I'd like to reformat to this csv table so I can import to dataframe:</h2>\n\n<pre><code>Position, Scenario, TimeSteps, THEO/Value\n\nNORTHERN UTILITIES SR NT, Modeling_5305, 2018/01/12, 6477803.7492\n\nOLIVIA ISSUER TR SER A (A, Modeling_5305, 2018/01/12, 3815391.3467\n</code></pre>\n"}, {"tags": ["python", "internet-explorer", "windows-10", "pywinauto"], "comments": [{"owner": {"reputation": 7644, "user_id": 3648361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1aeF.jpg?s=128&g=1", "display_name": "Vasily Ryabov", "link": "https://stackoverflow.com/users/3648361/vasily-ryabov"}, "edited": false, "score": 0, "creation_date": 1536178363, "post_id": 52192635, "comment_id": 91335252, "body": "That\u2019s why we\u2019re preparing \u201crecord-replay\u201d feature this autumn. I\u2019m tired to write big examples for every bunch of such programming tasks. Hope the first beta version will be out in November."}, {"owner": {"reputation": 7644, "user_id": 3648361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1aeF.jpg?s=128&g=1", "display_name": "Vasily Ryabov", "link": "https://stackoverflow.com/users/3648361/vasily-ryabov"}, "edited": false, "score": 0, "creation_date": 1536178448, "post_id": 52192635, "comment_id": 91335289, "body": "For now you can read the Getting Started Guide (by the link from readme.md). It still requires some efforts."}], "owner": {"reputation": 1, "user_id": 10297261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ae9904bf69114ed064f3323ae6c7d2f?s=128&d=identicon&r=PG&f=1", "display_name": "TheFlynnEffect", "link": "https://stackoverflow.com/users/10297261/theflynneffect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 725, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536179250, "creation_date": 1536177740, "last_edit_date": 1536179250, "question_id": 52192635, "link": "https://stackoverflow.com/questions/52192635/how-to-use-pywinauto-to-select-and-click-button-on-iexplorer-toolbar", "title": "how to use pywinauto to select and click button on iexplorer toolbar", "body": "<p>I am using pywinauto to automate part of my laptop setup process which includes editing the internet options in IE. The code should change the default homepage URL,add a pop-up blocker exception, change the security level for trusted sites to low and add a exception for a trusted sites.</p>\n\n<p>I watched the numerous pywinauto tutorial videos displaying the ease of controlling apps like notepad and its ability to use it's menu but in my own trials of using it to control Internet Explorer I've fallen short. I've realized IE doesn't have a menu but a toolbar and being new to python &amp; programming I can't sift my way thought the documentation to find the answer </p>\n\n<p>The first step I'm trying to take is just selecting button on the toolbar and opening internet options.</p>\n\n<pre><code>from pywinauto import application\nimport time\n\napp = application.Application()\napp.start(\"c:\\program files\\internet explorer\\iexplore.exe\")\n\ntime.sleep(4)\n\nie = app.window(title_re = \".*Windows Internet Explorer.*\")\n\napp.ie.MenuSelect(\"Tools -&gt;internet options\")     \n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pytorch"], "answers": [{"comments": [{"owner": {"reputation": 4268, "user_id": 1739325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/HEDFv.jpg?s=128&g=1", "display_name": "Rocketq", "link": "https://stackoverflow.com/users/1739325/rocketq"}, "edited": false, "score": 0, "creation_date": 1536224634, "post_id": 52196927, "comment_id": 91349771, "body": "Thank you for the answer, third solution worked only If is_deconv=False, how to make it work with True parameter"}, {"owner": {"reputation": 4268, "user_id": 1739325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/HEDFv.jpg?s=128&g=1", "display_name": "Rocketq", "link": "https://stackoverflow.com/users/1739325/rocketq"}, "edited": false, "score": 0, "creation_date": 1536224906, "post_id": 52196927, "comment_id": 91349978, "body": "RuntimeError: Given groups=1, weight[512, 2304, 3, 3], so expected input[64, 2048, 4, 4] to have 2304 channels, but got 2048 channels instead - first solution doesnt work("}, {"owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "reply_to_user": {"reputation": 4268, "user_id": 1739325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/HEDFv.jpg?s=128&g=1", "display_name": "Rocketq", "link": "https://stackoverflow.com/users/1739325/rocketq"}, "edited": false, "score": 1, "creation_date": 1536225172, "post_id": 52196927, "comment_id": 91350165, "body": "@Rocketq you will need to adjust the number of channels after removing/modifying layers. If you want the second solution to work when <code>is_deconv=True</code> you need to replace <code>nn.ConvTranspose2d</code> with <code>nn.Conv2d</code>. This will result with quite similar layer as with <code>is_deconv=False</code> for this specific stage."}], "tags": [], "owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "is_accepted": true, "score": 2, "last_activity_date": 1536210864, "creation_date": 1536210864, "answer_id": 52196927, "question_id": 52192599, "link": "https://stackoverflow.com/questions/52192599/how-to-delete-maxpooling-layer-from-pytorch-network/52196927#52196927", "title": "How to delete maxpooling layer from pytorch network", "body": "<p>Your error stems from the fact that you are trying to concat (<code>torch.cat</code>) <code>center</code> and <code>conv5</code> - but the dimensions of these tensors do not match.<br>\nOriginally, you had the following spatial dimensions</p>\n\n<ul>\n<li><code>conv5</code>:  4x4</li>\n<li><code>pool</code>:   2x2</li>\n<li><p><code>center</code>: 4x4  # upsampled\nThis way you can concat <code>center</code> and <code>conv5</code> since they are both 4x4 tensors.<br>\nHowever, if you remove the pooling layer, you end up with</p></li>\n<li><p><code>conv5</code>:  4x4</p></li>\n<li><code>center</code>: 8x8  # upsampling more than you need\nNow you cannot concat <code>center</code> and <code>conv5</code> since their spatial dimensions mismatch.</li>\n</ul>\n\n<p>What can you do?  </p>\n\n<ol>\n<li><p>One option is to remove <code>center</code> as well as the pooling, leaving you with    </p>\n\n<pre><code>dec5 = self.dec5(conv5)\n</code></pre></li>\n<li><p>Another option is to remove the <code>nn.Upsample</code> part from the block of <code>center</code>, leaving you with</p>\n\n<pre><code>self.block = nn.Sequential(\n                ConvRelu(in_channels, middle_channels),\n                ConvRelu(middle_channels, out_channels),\n            )\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 4268, "user_id": 1739325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/HEDFv.jpg?s=128&g=1", "display_name": "Rocketq", "link": "https://stackoverflow.com/users/1739325/rocketq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 940, "favorite_count": 0, "accepted_answer_id": 52196927, "answer_count": 1, "score": 3, "last_activity_date": 1536210864, "creation_date": 1536177534, "last_edit_date": 1536184159, "question_id": 52192599, "link": "https://stackoverflow.com/questions/52192599/how-to-delete-maxpooling-layer-from-pytorch-network", "title": "How to delete maxpooling layer from pytorch network", "body": "<p>I have \"simple\" Unet with resnet encoder on pytorch v3.1, which works pretty fine:</p>\n\n<pre><code>class UNetResNet(nn.Module):\n    \"\"\"PyTorch U-Net model using ResNet(34, 101 or 152) encoder.\n\n    UNet: https://arxiv.org/abs/1505.04597\n    ResNet: https://arxiv.org/abs/1512.03385\n\n    Args:\n            encoder_depth (int): Depth of a ResNet encoder (34, 101 or 152).\n            num_classes (int): Number of output classes.\n            num_filters (int, optional): Number of filters in the last layer of decoder. Defaults to 32.\n            dropout_2d (float, optional): Probability factor of dropout layer before output layer. Defaults to 0.2.\n            pretrained (bool, optional):\n                False - no pre-trained weights are being used.\n                True  - ResNet encoder is pre-trained on ImageNet.\n                Defaults to False.\n            is_deconv (bool, optional):\n                False: bilinear interpolation is used in decoder.\n                True: deconvolution is used in decoder.\n                Defaults to False.\n\n    \"\"\"\n\n    def __init__(self, encoder_depth, num_classes, num_filters=32, dropout_2d=0.2,\n                 pretrained=False, is_deconv=False):\n        super().__init__()\n        self.num_classes = num_classes\n        self.dropout_2d = dropout_2d\n\n        if encoder_depth == 34:\n            self.encoder = torchvision.models.resnet34(pretrained=pretrained)\n            bottom_channel_nr = 512\n        elif encoder_depth == 101:\n            self.encoder = torchvision.models.resnet101(pretrained=pretrained)\n            bottom_channel_nr = 2048\n        elif encoder_depth == 152:\n            self.encoder = torchvision.models.resnet152(pretrained=pretrained)\n            bottom_channel_nr = 2048\n        else:\n            raise NotImplementedError('only 34, 101, 152 version of Resnet are implemented')\n\n        self.pool = nn.MaxPool2d(2, 2)\n\n        self.relu = nn.ReLU(inplace=True)\n\n        self.conv1 = nn.Sequential(self.encoder.conv1,\n                                   self.encoder.bn1,\n                                   self.encoder.relu,\n                                   self.pool)\n\n        self.conv2 = self.encoder.layer1\n\n        self.conv3 = self.encoder.layer2\n\n        self.conv4 = self.encoder.layer3\n\n        self.conv5 = self.encoder.layer4\n\n        self.center = DecoderBlockV2(bottom_channel_nr, num_filters * 8 * 2, num_filters * 8, is_deconv)\n        self.dec5 = DecoderBlockV2(bottom_channel_nr + num_filters * 8, num_filters * 8 * 2, num_filters * 8, is_deconv)\n        self.dec4 = DecoderBlockV2(bottom_channel_nr // 2 + num_filters * 8, num_filters * 8 * 2, num_filters * 8,\n                                   is_deconv)\n        self.dec3 = DecoderBlockV2(bottom_channel_nr // 4 + num_filters * 8, num_filters * 4 * 2, num_filters * 2,\n                                   is_deconv)\n        self.dec2 = DecoderBlockV2(bottom_channel_nr // 8 + num_filters * 2, num_filters * 2 * 2, num_filters * 2 * 2,\n                                   is_deconv)\n        self.dec1 = DecoderBlockV2(num_filters * 2 * 2, num_filters * 2 * 2, num_filters, is_deconv)\n        self.dec0 = ConvRelu(num_filters, num_filters)\n        self.final = nn.Conv2d(num_filters, num_classes, kernel_size=1)\n\n    def forward(self, x):\n        conv1 = self.conv1(x)\n        conv2 = self.conv2(conv1)\n        conv3 = self.conv3(conv2)\n        conv4 = self.conv4(conv3)\n        conv5 = self.conv5(conv4)\n\n        pool = self.pool(conv5) # that pool layer I would like to delete\n        center = self.center(pool)\n\n\n        dec5 = self.dec5(torch.cat([center, conv5], 1))\n\n        dec4 = self.dec4(torch.cat([dec5, conv4], 1))\n        dec3 = self.dec3(torch.cat([dec4, conv3], 1))\n        dec2 = self.dec2(torch.cat([dec3, conv2], 1))\n        dec1 = self.dec1(dec2)\n        dec0 = self.dec0(dec1)\n\n        return self.final(F.dropout2d(dec0, p=self.dropout_2d))\n</code></pre>\n\n<p>By deleting that pool layer from <code>forward</code> we come to next <code>forward</code> function:</p>\n\n<pre><code>def forward(self, x):\n        conv1 = self.conv1(x)\n        conv2 = self.conv2(conv1)\n        conv3 = self.conv3(conv2)\n        conv4 = self.conv4(conv3)\n        conv5 = self.conv5(conv4)\n\n        center = self.center(conv5) #now center connects with conv5\n\n        dec5 = self.dec5(torch.cat([center, conv5], 1))\n\n        dec4 = self.dec4(torch.cat([dec5, conv4], 1))\n        dec3 = self.dec3(torch.cat([dec4, conv3], 1))\n        dec2 = self.dec2(torch.cat([dec3, conv2], 1))\n        dec1 = self.dec1(dec2)\n        dec0 = self.dec0(dec1)\n\n        return self.final(F.dropout2d(dec0, p=self.dropout_2d))\n</code></pre>\n\n<p>Applying only such changes and we will face such error:</p>\n\n<pre><code>~/Desktop/ml/salt/unet_models.py in forward(self, x)\n    397         center = self.center(conv5)\n    398 \n--&gt; 399         dec5 = self.dec5(torch.cat([center, conv5], 1))\n    400 \n    401         dec4 = self.dec4(torch.cat([dec5, conv4], 1))\n\nRuntimeError: invalid argument 0: Sizes of tensors must match except in dimension 1. Got 4 and 8 in dimension 2 at /pytorch/torch/lib/THC/generic/THCTensorMath.cu:111\n</code></pre>\n\n<p>So we have to somehow change dec4, but how?</p>\n\n<p>More info:</p>\n\n<pre><code>    class DecoderBlockV2(nn.Module):\n        def __init__(self, in_channels, middle_channels, out_channels, is_deconv=True):\n            super(DecoderBlockV2, self).__init__()\n            self.in_channels = in_channels\n\n            if is_deconv:\n                \"\"\"\n                    Paramaters for Deconvolution were chosen to avoid artifacts, following\n                    link https://distill.pub/2016/deconv-checkerboard/\n                \"\"\"\n\n                self.block = nn.Sequential(\n                    ConvRelu(in_channels, middle_channels),\n                    nn.ConvTranspose2d(middle_channels, out_channels, kernel_size=4, stride=2,\n                                       padding=1),\n            nn.BatchNorm2d(out_channels), \n                    nn.ReLU(inplace=True)\n                )\n            else:\n                self.block = nn.Sequential(\n                    nn.Upsample(scale_factor=2, mode='bilinear'),\n                    ConvRelu(in_channels, middle_channels),\n                    ConvRelu(middle_channels, out_channels),\n                )\n\n        def forward(self, x):\n            return self.block(x)\n\nclass ConvRelu(nn.Module):\n    def __init__(self, in_, out):\n        super().__init__()\n        self.conv = conv3x3(in_, out)\n        self.activation = nn.ReLU(inplace=True)\n\n    def forward(self, x):\n        x = self.conv(x)\n        x = self.activation(x)\n        return x\n</code></pre>\n"}, {"tags": ["python", "pip", "setuptools"], "answers": [{"tags": [], "owner": {"reputation": 579, "user_id": 8931942, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2m5MEQ5hhxo/AAAAAAAAAAI/AAAAAAAAD54/2TL-siD4TPc/photo.jpg?sz=128", "display_name": "Matthew Feickert", "link": "https://stackoverflow.com/users/8931942/matthew-feickert"}, "is_accepted": true, "score": 1, "last_activity_date": 1536180265, "last_edit_date": 1536180265, "creation_date": 1536179242, "answer_id": 52192936, "question_id": 52192492, "link": "https://stackoverflow.com/questions/52192492/possible-to-have-setuptools-extras-require-override-requirement-from-install-req/52192936#52192936", "title": "Possible to have setuptools extras_require override requirement from install_requires?", "body": "<p>The answer (after a bit more thought) is that the outcome is desired <em>is possible</em>, but <em>not</em> by overriding the <code>install_requires</code>, but having a requirement in <code>install_requires</code> that requires the library desired (so this is pretty hacky). To illustrate using this <code>setup.py</code></p>\n\n<pre><code>from setuptools import setup, find_packages\nsetup(\n  ...\n  install_requires = [\n    'scipy', # scipy requires numpy, and so will get the latest release from PyPI\n    ...\n  ],\n  extras_require = {\n    ...\n    'tensorflow':[\n       'tensorflow&gt;=1.10.0',\n       'numpy&lt;=1.14.5,&gt;=1.13.3',\n       'setuptools&lt;=39.1.0',\n    ]\n  },\n  ...\n)\n</code></pre>\n\n<p>Now</p>\n\n<pre><code>$ pip install .\n$ pip freeze | grep numpy\nnumpy==1.15.1\n$ pip freeze | grep scipy\nscipy==1.1.0\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$ pip freeze | xargs pip uninstall -y\n$ pip install .[tensorflow]\n$ pip freeze | grep numpy\nnumpy==1.14.5\n$ pip freeze | grep scipy\nscipy==1.1.0\n</code></pre>\n"}], "owner": {"reputation": 579, "user_id": 8931942, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2m5MEQ5hhxo/AAAAAAAAAAI/AAAAAAAAD54/2TL-siD4TPc/photo.jpg?sz=128", "display_name": "Matthew Feickert", "link": "https://stackoverflow.com/users/8931942/matthew-feickert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "accepted_answer_id": 52192936, "answer_count": 1, "score": 3, "last_activity_date": 1536180265, "creation_date": 1536177043, "last_edit_date": 1536177369, "question_id": 52192492, "link": "https://stackoverflow.com/questions/52192492/possible-to-have-setuptools-extras-require-override-requirement-from-install-req", "title": "Possible to have setuptools extras_require override requirement from install_requires?", "body": "<p>Is it possible to have setuptools's <code>extras_require</code> override a requirement set in <code>install_requires</code>? My guess is no, as <code>extras_require</code> is a</p>\n\n<blockquote>\n  <p>...<a href=\"https://setuptools.readthedocs.io/en/latest/setuptools.html#new-and-changed-setup-keywords\" rel=\"nofollow noreferrer\">dictionary mapping names of \u201cextras\u201d (optional features of your project)</a>...</p>\n</blockquote>\n\n<p>and so since it is \"optional\", then <code>install_requires</code> will always take precedence. I thought I would ask just in case though.</p>\n\n<p>The reason for asking this is the following use case with the following example <code>setup.py</code></p>\n\n<pre><code>from setuptools import setup, find_packages\nsetup(\n  ...\n  install_requires = [\n    'numpy&lt;=1.14.5,&gt;=1.14.0',\n    ...\n  ],\n  extras_require = {\n    ...\n    'tensorflow':[\n       'tensorflow&gt;=1.10.0',\n       'numpy&lt;=1.14.5,&gt;=1.13.3',\n       'setuptools&lt;=39.1.0',\n    ]\n  },\n  ...\n)\n</code></pre>\n\n<p>You have a library that has support multiple backends for computation (e.g., NumPy, TensorFlow, PyTorch) but the default backend installed is just NumPy and then different backends could be installed through different options. TensorFlow has the requirement that</p>\n\n<pre><code>tensorflow 1.10.1 has requirement numpy&lt;=1.14.5,&gt;=1.13.3\n</code></pre>\n\n<p>but you don't want to force the restraint of NumPy if the user just wants the NumPy backend. So <em>ideally</em>, one would have in <code>install_requires</code> just <code>numpy&gt;=1.14.0</code> for users that would do</p>\n\n<pre><code>pip install .\n</code></pre>\n\n<p>and then for users that wanted TensorFlow they would just use</p>\n\n<pre><code>pip install -e .[tensorflow]\n</code></pre>\n\n<p>However, this of course doesn't work, as if <code>install_requires</code> just has <code>numpy&gt;=1.14.0</code> then the latest PyPI release of NumPy is installed (at this time <code>1.15.1</code>) and you get the warning during installation of</p>\n\n<pre><code>tensorflow 1.10.1 has requirement numpy&lt;=1.14.5,&gt;=1.13.3, but you'll have numpy 1.15.1 which is incompatible.\n</code></pre>\n\n<p>So is there anyway that I can unrestrict the NumPy release in <code>install_requires</code> and then have setuptools check and use the releases specified in <code>extras_require</code> if asked for?</p>\n\n<p>For context:</p>\n\n<pre><code>$ python --version\nPython 3.6.6\n$ pip --version\npip 18.0 from /usr/local/lib/python3.6/site-packages/pip (python 3.6)\n$ easy_install --version\nsetuptools 40.0.0 from /usr/local/lib/python3.6/site-packages (Python 3.6)\n</code></pre>\n"}, {"tags": ["python", "pandas", "indexing", "subset", "slice"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 1, "creation_date": 1536177286, "post_id": 52192449, "comment_id": 91334793, "body": "At which position are you trying to assign the value? The problem is not with assigning a float but with the syntax of loc"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1536177329, "post_id": 52192449, "comment_id": 91334807, "body": "Try df.iloc[:3, 0] = 0.3"}], "answers": [{"tags": [], "owner": {"reputation": 16731, "user_id": 10201580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/awLHs.png?s=128&g=1", "display_name": "Chris A", "link": "https://stackoverflow.com/users/10201580/chris-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1536177708, "last_edit_date": 1536177708, "creation_date": 1536177113, "answer_id": 52192504, "question_id": 52192449, "link": "https://stackoverflow.com/questions/52192449/assigning-a-float-to-subset-returns-1/52192504#52192504", "title": "Assigning a float to subset returns 1", "body": "<p>Works if you cast <code>Val1</code> to float type first:</p>\n\n<pre><code>df.Val1 = df.Val1.astype(float)\n</code></pre>\n\n<p>Full example:</p>\n\n<pre><code>df.set_index('A', inplace=True)\ndf.Val1 = df.Val1.astype(float)\ndf.loc[:'D', 'Val1'].iloc[:-1] = 0.3 \nprint(df)\n</code></pre>\n\n<p>[output]</p>\n\n<pre><code>   Val1  Val2\nA            \nA   0.3     5\nB   0.3     6\nC   0.3     7\nD   4.0     8\n</code></pre>\n\n<p>However, I have to agree with @user3483203... See his answer on best practice for using <code>loc</code> and <code>iloc</code> correctly.    </p>\n"}, {"comments": [{"owner": {"reputation": 313, "user_id": 8155504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ec9817d1b957864ac7c5caef06469b0?s=128&d=identicon&r=PG&f=1", "display_name": "J.D. Marlin", "link": "https://stackoverflow.com/users/8155504/j-d-marlin"}, "edited": false, "score": 0, "creation_date": 1536179623, "post_id": 52192579, "comment_id": 91335748, "body": "Agreed. I&#39;m chaining the <code>loc</code> and <code>iloc</code> because I wanted to subset everything up to <code>C</code> but <i>excluding</i> <code>C</code> itself.  Edit: Index is a dynamic range of dates so I won&#39;t always know the start/end points"}], "tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": false, "score": 2, "last_activity_date": 1536177411, "creation_date": 1536177411, "answer_id": 52192579, "question_id": 52192449, "link": "https://stackoverflow.com/questions/52192449/assigning-a-float-to-subset-returns-1/52192579#52192579", "title": "Assigning a float to subset returns 1", "body": "<p>The way that you're using <code>loc</code> is strange, I wouldn't recommend chaining calls to <code>iloc</code> and <code>loc</code>, instead, correctly slice the DataFrame:</p>\n\n<pre><code>df.loc[:-1, 'Val1'] = 0.3\n</code></pre>\n\n<p></p>\n\n<pre><code>   Val1  Val2\nA\nA   0.3     5\nB   0.3     6\nC   0.3     7\nD   4.0     8\n</code></pre>\n\n<p>Or explicitly:</p>\n\n<pre><code>df.loc['A':'C', 'Val1'] = 0.3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 0, "last_activity_date": 1536181054, "creation_date": 1536181054, "answer_id": 52193292, "question_id": 52192449, "link": "https://stackoverflow.com/questions/52192449/assigning-a-float-to-subset-returns-1/52193292#52193292", "title": "Assigning a float to subset returns 1", "body": "<h3><code>loc</code></h3>\n\n<pre><code>df.loc[df.index[:-1], 'Val1'] = .3\ndf\n\n   Val1  Val2\nA            \nA   0.3     5\nB   0.3     6\nC   0.3     7\nD   4.0     8\n</code></pre>\n\n<hr>\n\n<h3><code>iloc</code></h3>\n\n<pre><code>df.iloc[:-1, df.columns.get_loc('Val1')] = .4\ndf\n\n   Val1  Val2\nA            \nA   0.4     5\nB   0.4     6\nC   0.4     7\nD   4.0     8\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 8155504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ec9817d1b957864ac7c5caef06469b0?s=128&d=identicon&r=PG&f=1", "display_name": "J.D. Marlin", "link": "https://stackoverflow.com/users/8155504/j-d-marlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1536618783, "creation_date": 1536176885, "last_edit_date": 1536618783, "question_id": 52192449, "link": "https://stackoverflow.com/questions/52192449/assigning-a-float-to-subset-returns-1", "title": "Assigning a float to subset returns 1", "body": "<p>I'm trying to assign a float <code>0.3</code> to a subset in pandas but the result returns the value <code>1</code>. But if I assign an integer like <code>12</code> it will return <code>12</code>. </p>\n\n<pre><code>df = pd.DataFrame({\n    'A': ['A','B','C','D'],\n    'Val1': [1,2,3,4],\n    'Val2': [5,6,7,8]\n})\n\ndf.set_index('A', inplace=True)\ndf.loc[:'D', 'Val1'].iloc[:-1] = 0.3 // returns 1 instead of 0.3\n</code></pre>\n"}, {"tags": ["python", "api", "http-status-code-400", "google-settings"], "comments": [{"owner": {"reputation": 4001, "user_id": 8811778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803575584f2d2d45fe01ee5d52c003dd?s=128&d=identicon&r=PG&f=1", "display_name": "chillin", "link": "https://stackoverflow.com/users/8811778/chillin"}, "edited": false, "score": 0, "creation_date": 1536176741, "post_id": 52192350, "comment_id": 91334548, "body": "Your URL has a URL-encoded <code>@</code> in it (note the <code>%40</code>) before the query string begins. Maybe your URL does not have the correct structure."}, {"owner": {"reputation": 4001, "user_id": 8811778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803575584f2d2d45fe01ee5d52c003dd?s=128&d=identicon&r=PG&f=1", "display_name": "chillin", "link": "https://stackoverflow.com/users/8811778/chillin"}, "edited": false, "score": 0, "creation_date": 1536177012, "post_id": 52192350, "comment_id": 91334668, "body": "You may also need to specify additional headers like <code>Content-Type: application&#47;json</code> or <code>application&#47;x-www-form-urlencoded</code>, depending on how you&#39;re sending this JSON. Try using Developer/Network tools to see what request headers are being sent by the API explorer."}, {"owner": {"reputation": 750, "user_id": 4032946, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d430e8647c39d6d9f8db1a660e13d49c?s=128&d=identicon&r=PG&f=1", "display_name": "Avir94", "link": "https://stackoverflow.com/users/4032946/avir94"}, "reply_to_user": {"reputation": 4001, "user_id": 8811778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803575584f2d2d45fe01ee5d52c003dd?s=128&d=identicon&r=PG&f=1", "display_name": "chillin", "link": "https://stackoverflow.com/users/8811778/chillin"}, "edited": false, "score": 0, "creation_date": 1536189810, "post_id": 52192350, "comment_id": 91338752, "body": "I don&#39;t need to specify any headers because I use Google&#39;s python package to execute these commands. I know the package works because the settings get updated on a test domain. The groups do get created in the production domain, but the group settings return this invalid value error."}], "owner": {"reputation": 750, "user_id": 4032946, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d430e8647c39d6d9f8db1a660e13d49c?s=128&d=identicon&r=PG&f=1", "display_name": "Avir94", "link": "https://stackoverflow.com/users/4032946/avir94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536176375, "creation_date": 1536176375, "question_id": 52192350, "link": "https://stackoverflow.com/questions/52192350/google-groups-settings-api-400-invalid-value-error", "title": "Google Groups Settings API 400 &quot;Invalid Value&quot; error", "body": "<p>I have a sync script which is creating new groups and uploading settings, like so:</p>\n\n<pre><code>        for group in self.groups:\n            try:\n                print(\"%s@%s\" % (group, self.admin_directory.__domain__))\n                self.admin_directory.insert_group(email=\"%s@%s\" % (group, self.admin_directory.__domain__),\n                                                  name=group,\n                                                  description=group)\n                time.sleep(1)\n            except HttpError as e:\n                if(e.resp.status == 409):\n                    print(\"%s was already a group in Google.\" % group)\n                else:\n                    print(e)\n\n            try:\n                print(json.dumps(self.groups[group]['settings'], indent=4))\n                self.groups_settings.update(\"%s@%s\" % (group, self.admin_directory.__domain__),\n                                            self.groups[group]['settings'])\n                time.sleep(1)\n            except HttpError as e:\n                print(e)\n</code></pre>\n\n<p>My <code>admin_directory</code> class and <code>groups_settings</code> class use the <code>google.oauth2</code> library</p>\n\n<p>I have json which I load that looks like so:</p>\n\n<pre><code>{\n  \"kind\": \"groupsSettings#groups\",\n  \"email\": \"&lt;email&gt;\",\n  \"name\": \"&lt;group_name&gt;\",\n  \"description\": \"&lt;group_name&gt;\",\n  \"whoCanJoin\": \"INVITED_CAN_JOIN\",\n  \"whoCanViewMembership\": \"ALL_MEMBERS_CAN_VIEW\",\n  \"whoCanViewGroup\": \"ALL_MEMBERS_CAN_VIEW\",\n  \"whoCanInvite\": \"NONE_CAN_INVITE\",\n  \"whoCanAdd\": \"ALL_MANAGERS_CAN_ADD\",\n  \"allowExternalMembers\": \"true\",\n  \"whoCanPostMessage\": \"ALL_IN_DOMAIN_CAN_POST\",\n  \"allowWebPosting\": \"false\",\n  \"primaryLanguage\": \"en\",\n  \"maxMessageBytes\": 10485760,\n  \"isArchived\": \"true\",\n  \"archiveOnly\": \"false\",\n  \"messageModerationLevel\": \"MODERATE_ALL_MESSAGES\",\n  \"spamModerationLevel\": \"REJECT\",\n  \"replyTo\": \"REPLY_TO_SENDER\",\n  \"customReplyTo\": \"\",\n  \"includeCustomFooter\": \"false\",\n  \"customFooterText\": \"\",\n  \"sendMessageDenyNotification\": \"false\",\n  \"defaultMessageDenyNotificationText\": \"\",\n  \"showInGroupDirectory\": \"false\",\n  \"allowGoogleCommunication\": \"false\",\n  \"membersCanPostAsTheGroup\": \"false\",\n  \"messageDisplayFont\": \"DEFAULT_FONT\",\n  \"includeInGlobalAddressList\": \"true\",\n  \"whoCanLeaveGroup\": \"ALL_MEMBERS_CAN_LEAVE\",\n  \"whoCanContactOwner\": \"ALL_IN_DOMAIN_CAN_CONTACT\",\n  \"whoCanAddReferences\": \"NONE\",\n  \"whoCanAssignTopics\": \"NONE\",\n  \"whoCanUnassignTopic\": \"NONE\",\n  \"whoCanTakeTopics\": \"NONE\",\n  \"whoCanMarkDuplicate\": \"NONE\",\n  \"whoCanMarkNoResponseNeeded\": \"NONE\",\n  \"whoCanMarkFavoriteReplyOnAnyTopic\": \"NONE\",\n  \"whoCanMarkFavoriteReplyOnOwnTopic\": \"NONE\",\n  \"whoCanUnmarkFavoriteReplyOnAnyTopic\": \"NONE\",\n  \"whoCanEnterFreeFormTags\": \"NONE\",\n  \"whoCanModifyTagsAndCategories\": \"NONE\",\n  \"favoriteRepliesOnTop\": \"false\"\n}\n</code></pre>\n\n<p>When I use the exact JSON here in the API explorer, it works, but when I upload via this script, I get \n<code>&lt;HttpError 400 when requesting https://www.googleapis.com/groups/v1/groups/&lt;group_name&gt;%40&lt;domain&gt;?alt=json returned \"Invalid Value\"&gt;</code></p>\n\n<p>and I cannot seem to figure out why it is doing this.</p>\n\n<p>Has anyone else experienced this issue and if so, were you able to figure out the error? </p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 1, "creation_date": 1536177010, "post_id": 52192333, "comment_id": 91334665, "body": "Well, that doesn&#39;t work because the <code>.set()</code> method takes only one parameter.  You could try <code>variable1.set(&quot;options - &quot; + variable1.get())</code>."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9773137"}, "edited": false, "score": 0, "creation_date": 1536588153, "post_id": 52252813, "comment_id": 91466460, "body": "Thanks. It works, but it is a bit slow on my computer."}], "tags": [], "owner": {"reputation": 740, "user_id": 8201979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07d39e32e8ab2e31c3c7f042a5cea4cc?s=128&d=identicon&r=PG&f=1", "display_name": "strava", "link": "https://stackoverflow.com/users/8201979/strava"}, "is_accepted": true, "score": 0, "last_activity_date": 1536563770, "creation_date": 1536563770, "answer_id": 52252813, "question_id": 52192333, "link": "https://stackoverflow.com/questions/52192333/set-tkinter-optionmenus-title-to-a-string-and-a-stringvar/52252813#52252813", "title": "set tkinter Optionmenu&#39;s title to a string and a StringVar", "body": "<p>If you trace the StringVar you give to the OptionMenu, you can add the string onto the front whenever the option is changed. This creates a window with an OptionMenu that does this:</p>\n\n<pre><code>import tkinter as tk\n\nroot = tk.Tk()\n\n# function to add 'options - ' to the front of the selected option\ndef change_selected(var1):\n    var1.set('options - %s' % var1.get())\n\n# variable\nvar1 = tk.StringVar(root)\nvar1.set('1')\n\n# create menu\noptions = tk.OptionMenu(root, var1, '1', '2', '3')\noptions.pack()\n\n# trace variable for changes\nvar1.trace('w', lambda *args: change_selected(var1))\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9773137"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 52252813, "answer_count": 1, "score": 0, "last_activity_date": 1536563770, "creation_date": 1536176317, "last_edit_date": 1536513792, "question_id": 52192333, "link": "https://stackoverflow.com/questions/52192333/set-tkinter-optionmenus-title-to-a-string-and-a-stringvar", "title": "set tkinter Optionmenu&#39;s title to a string and a StringVar", "body": "<p>So I have an Optionmenu with a title \"options\" and some options there. The title changes every time I choose something to variable1. How can I set it after it changes,  to a string \"options\" and to variable's value?\nFor example: \"options - music off\" \nI tried this, but it doesn't work:</p>\n\n<pre><code>variable1 = StringVar() \nvariable1.set(\"something\",variable1)\n</code></pre>\n\n<p>Thanks. </p>\n\n<p>Edit: Here is a complete version of my code:</p>\n\n<pre><code>            options = Menubutton(frame,textvariable = options3,indicatoron=True,borderwidth=1, relief=\"raised\", width=20)\n            options.grid(row=3,column=2)#options2 [0] options3\n            main_menu = Menu(options,tearoff=False)\n            options.configure(menu=main_menu)\n            get_options3= options3.get()\n            neededstring = string+str(options3)\n            print(\"needed str\", neededstring)\n            options3.set('options - ' +options3.get())\n            for item in ((\"Answer with text\", \"plain text\", \"only numbers\", \"only letters\"),\n             (\"Answer with Checkbuttons\", \"red\", \"green\", \"blue\"), (\"Answer with Radiobuttons\", \"one option can be chosed\")\n                         ):\n                menu = Menu(main_menu, tearoff=False)\n                main_menu.add_cascade(label=item[0], menu=menu)\n                for value in item[1:]:\n                    menu.add_radiobutton(value=value, label=value, variable=options3)\n</code></pre>\n"}, {"tags": ["python", "django", "ethereum", "web3"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 2, "creation_date": 1536176257, "post_id": 52192275, "comment_id": 91334338, "body": "You probably need to <i>construct</i> a <code>Personal</code>, so <code>ref = web3.personal.Personal()</code>."}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1536176422, "post_id": 52192275, "comment_id": 91334406, "body": "instances are represented by <code>self</code> and classes are not"}, {"owner": {"reputation": 136, "user_id": 10241176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ce3bd4b8a7706876414a8af8c50405?s=128&d=identicon&r=PG&f=1", "display_name": "rabiaasif", "link": "https://stackoverflow.com/users/10241176/rabiaasif"}, "edited": false, "score": 0, "creation_date": 1536179604, "post_id": 52192275, "comment_id": 91335735, "body": "So when I did web3.personal.Personal, I didnt get an error, but when I do web3.personal.Personal() I get an error..."}], "answers": [{"comments": [{"owner": {"reputation": 136, "user_id": 10241176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ce3bd4b8a7706876414a8af8c50405?s=128&d=identicon&r=PG&f=1", "display_name": "rabiaasif", "link": "https://stackoverflow.com/users/10241176/rabiaasif"}, "edited": false, "score": 0, "creation_date": 1536179764, "post_id": 52192317, "comment_id": 91335801, "body": "Update: ref = web3.personal.Personal(&#39;web3&#39;) I need to add &#39;web3&#39; as an argument, however I can&#39;t call functions from this class"}, {"owner": {"reputation": 518, "user_id": 8910983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e01f9fc098503ba4ccdecfedb1822?s=128&d=identicon&r=PG", "display_name": "not_a_bot_no_really_82353", "link": "https://stackoverflow.com/users/8910983/not-a-bot-no-really-82353"}, "reply_to_user": {"reputation": 136, "user_id": 10241176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ce3bd4b8a7706876414a8af8c50405?s=128&d=identicon&r=PG&f=1", "display_name": "rabiaasif", "link": "https://stackoverflow.com/users/10241176/rabiaasif"}, "edited": false, "score": 0, "creation_date": 1536180551, "post_id": 52192317, "comment_id": 91336128, "body": "If you say <code>ref = web3.personal.Personal(&#39;web3&#39;)</code> then ref is an object of web3.personal.Personal. So you can call  the functions of the object, not the class. Is it possible that you want to use your <code>w3</code> object of class <code>web3</code>instead of the <code>web3</code> class in order to create <code>ref</code>?"}, {"owner": {"reputation": 136, "user_id": 10241176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ce3bd4b8a7706876414a8af8c50405?s=128&d=identicon&r=PG&f=1", "display_name": "rabiaasif", "link": "https://stackoverflow.com/users/10241176/rabiaasif"}, "edited": false, "score": 0, "creation_date": 1536197102, "post_id": 52192317, "comment_id": 91340083, "body": "so in the docs, there are methods associated with web3.personal: <a href=\"https://web3py.readthedocs.io/en/stable/web3.personal.html\" rel=\"nofollow noreferrer\">web3py.readthedocs.io/en/stable/web3.personal.html</a>  web3.personal.importRawKey(self, private_key, passphrase) for example, I am unable to call these methods on ref"}], "tags": [], "owner": {"reputation": 518, "user_id": 8910983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e01f9fc098503ba4ccdecfedb1822?s=128&d=identicon&r=PG", "display_name": "not_a_bot_no_really_82353", "link": "https://stackoverflow.com/users/8910983/not-a-bot-no-really-82353"}, "is_accepted": false, "score": 5, "last_activity_date": 1536176269, "creation_date": 1536176269, "answer_id": 52192317, "question_id": 52192275, "link": "https://stackoverflow.com/questions/52192275/property-object-is-not-callable/52192317#52192317", "title": "&#39;property&#39; object is not callable", "body": "<p>It seems that <code>web3.personal.Personal</code> is a class, so in order to create a object you need to say <code>ref = web3.personal.Personal()</code></p>\n\n<p>Please note, classes are often (but not always) written with a capital letter.</p>\n"}], "owner": {"reputation": 136, "user_id": 10241176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ce3bd4b8a7706876414a8af8c50405?s=128&d=identicon&r=PG&f=1", "display_name": "rabiaasif", "link": "https://stackoverflow.com/users/10241176/rabiaasif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6663, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536179688, "creation_date": 1536176121, "last_edit_date": 1536179688, "question_id": 52192275, "link": "https://stackoverflow.com/questions/52192275/property-object-is-not-callable", "title": "&#39;property&#39; object is not callable", "body": "<p>So I have am connecting to a contract, and that seems to work fine, I am trying to use this class: web3.personal.Personal from <a href=\"https://web3py.readthedocs.io/en/stable/web3.personal.html\" rel=\"nofollow noreferrer\">https://web3py.readthedocs.io/en/stable/web3.personal.html</a> and I dont seem to understand what i am dong wrong...  when i print(web3.personal.Personal) gives me back a class object but I cant seem to use any functions associated with this class, says I am missing \"self\" argument</p>\n\n<pre><code>contract_abi = my_abi\nw3 = Web3(HTTPProvider(myurl))\nmyContract = w3.eth.contract(address ,abi)\nref = ref = web3.personal.Personal('web3')\nprint(ref) #this works   \nprint(ref.newAccount(password='the-passphrase')) #This crashes\n\nTypeError: newAccount() missing 1 required positional argument: 'self'\nTypeError: 'property' object is not callable\n</code></pre>\n"}, {"tags": ["python", "tkinter", "tkinter-canvas"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10322054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/386f6f9c1d84c874cfd02bf1aab03cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Lemon", "link": "https://stackoverflow.com/users/10322054/lemon"}, "edited": false, "score": 0, "creation_date": 1536223064, "post_id": 52192437, "comment_id": 91348778, "body": "Thank you! this fixed the problem and even reduced my code, thanks for answering so fast."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 2, "last_activity_date": 1536176824, "creation_date": 1536176824, "answer_id": 52192437, "question_id": 52192244, "link": "https://stackoverflow.com/questions/52192244/tkinker-unbind-doesnt-seem-to-unbind/52192437#52192437", "title": "tkinker unbind doesn&#39;t seem to unbind", "body": "<p>You're calling <code>unbind</code>, then freezing the app. While it is frozen, events continue to get added to the queue without being processed. Immediately after the sleep is finished you re-establish the binding before the queue has a chance to process the events. By the time the events are handled, the binding will have already been re-established.</p>\n\n<p>As a general rule of thumb you should never call <code>sleep</code> in a GUI program, and this is one good illustration why.</p>\n\n<p>If you want to cancel the binding for a short period of time and then reset it, cancel the binding and then use <code>after</code> to reset it after the given time period.</p>\n\n<pre><code>def on_click(event=None):\n    c.unbind('&lt;Button-1&gt;')\n    c.config(background=\"red\")\n    c.after(delay, enable_binding)\n\ndef enable_binding():\n    c.config(background=\"green\")\n    c.bind('&lt;Button-1&gt;', on_click)\n</code></pre>\n\n<p>When you click, your function is called and you change the color and unbind the event. <em>Then, the event loop has a chance to process the color change and process additional events</em>. Once the time has elapsed, your function will be called and the event will be re-bound.</p>\n"}], "owner": {"reputation": 25, "user_id": 10322054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/386f6f9c1d84c874cfd02bf1aab03cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Lemon", "link": "https://stackoverflow.com/users/10322054/lemon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 52192437, "answer_count": 1, "score": 1, "last_activity_date": 1536177658, "creation_date": 1536175996, "last_edit_date": 1536177658, "question_id": 52192244, "link": "https://stackoverflow.com/questions/52192244/tkinker-unbind-doesnt-seem-to-unbind", "title": "tkinker unbind doesn&#39;t seem to unbind", "body": "<p>I have this code:</p>\n\n<pre><code>def on_click(event=None):\n    c.unbind('&lt;Button-1&gt;')\n    c.config(background=\"red\")\n    print (\"You clicked the square\")\n    time.sleep(delay)\n    c.config(background=\"green\")\n    c.bind('&lt;Button-1&gt;', on_click)\n    root.update()\nroot = tk.Tk()\nc = tk.Canvas(root, width=200, height=200, background=\"green\")\nc.pack()\nc.bind('&lt;Button-1&gt;', on_click)\nroot.mainloop()\n</code></pre>\n\n<p>And when I click the canvas while it is red (unbound) it prints \"You clicked the square\" when the sleep is done.  </p>\n\n<p>I already tried the approach here:   <a href=\"https://stackoverflow.com/questions/6433369/deleting-and-changing-a-tkinter-event-binding\">Deleting and changing a tkinter event binding</a>\nbut got no results because I'm still able to click the square and obtain a print from it when it's red</p>\n"}, {"tags": ["python", "sql-server", "sqlite", "odbc"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1536176140, "post_id": 52192233, "comment_id": 91334290, "body": "Those functions could not possibly run without error. For example, in <code>query_msss</code> neither <code>c</code> nor <code>conn</code> are defined."}, {"owner": {"reputation": 353, "user_id": 7296874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d6448eb7e4756c5b000e7b93ce6bebe?s=128&d=identicon&r=PG&f=1", "display_name": "Samsonite Manly", "link": "https://stackoverflow.com/users/7296874/samsonite-manly"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1536177804, "post_id": 52192233, "comment_id": 91335014, "body": "You&#39;re right, thanks. I edited the question with a simplified code and the errors."}, {"owner": {"reputation": 4136, "user_id": 1443098, "user_type": "registered", "accept_rate": 2, "profile_image": "https://www.gravatar.com/avatar/943c60e4b1686ea72a0dd48fd394dee4?s=128&d=identicon&r=PG", "display_name": "user1443098", "link": "https://stackoverflow.com/users/1443098/user1443098"}, "edited": false, "score": 0, "creation_date": 1536178659, "post_id": 52192233, "comment_id": 91335363, "body": "if there are errors, what are the error messages?"}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 7296874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d6448eb7e4756c5b000e7b93ce6bebe?s=128&d=identicon&r=PG&f=1", "display_name": "Samsonite Manly", "link": "https://stackoverflow.com/users/7296874/samsonite-manly"}, "edited": false, "score": 0, "creation_date": 1536179049, "post_id": 52192758, "comment_id": 91335514, "body": "perfect, that was it, thank you! By the way, those output messages that I&#39;ve called &quot;error messages&quot; in the question - do you know their relevance or significance?"}], "tags": [], "owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "is_accepted": true, "score": 1, "last_activity_date": 1536178293, "creation_date": 1536178293, "answer_id": 52192758, "question_id": 52192233, "link": "https://stackoverflow.com/questions/52192233/python-insert-table-into-sqlite-from-ms-sql-server/52192758#52192758", "title": "Python - INSERT table INTO SQLite from MS SQL Server", "body": "<p>You're not committing the executed changes on the sqlite connection, after the <code>c.execute</code> step you're committing the MySQL DB connection.  I think you need to replace <code>conn.commit()</code> at the end with <code>sl3Conn.commit()</code>.</p>\n"}], "owner": {"reputation": 353, "user_id": 7296874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d6448eb7e4756c5b000e7b93ce6bebe?s=128&d=identicon&r=PG&f=1", "display_name": "Samsonite Manly", "link": "https://stackoverflow.com/users/7296874/samsonite-manly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "accepted_answer_id": 52192758, "answer_count": 1, "score": 1, "last_activity_date": 1536178352, "creation_date": 1536175903, "last_edit_date": 1536178352, "question_id": 52192233, "link": "https://stackoverflow.com/questions/52192233/python-insert-table-into-sqlite-from-ms-sql-server", "title": "Python - INSERT table INTO SQLite from MS SQL Server", "body": "<p>I am trying to query MS SQL Server for a table.column, then insert this output into a sqlite table.</p>\n\n<p>This example has one numeric column in the SQL Server source table.\nI think I've almost got it by scouring the other answers. </p>\n\n<p>Please let me know what I am missing.</p>\n\n<pre><code>import sqlite3\nimport pyodbc\n\n\n#def connect_msss():\nODBC_Prod = ODBC_Prod \nSQLSN = SQLSN \nSQLpass = SQLpass \nconn_str = ('DSN='+ODBC_Prod+';UID='+SQLSN+';PWD='+SQLpass)\nconn = pyodbc.connect(conn_str)\n\n\n#def connect_sqlite():\nsl3Conn = sqlite3.connect('server_test.db')\nc = sl3Conn.cursor()\nc.execute('CREATE TABLE IF NOT EXISTS mrn_test (PTMRN NUMERIC)')\n\n\n#def query_msss():\n\ncur = conn.cursor()\ncur.execute(\"SELECT TOP 50 PTMRN FROM dbo.atl_1234_mrntest\")\nrows = cur.fetchall()\nfor row in rows:\n    c.execute(\"INSERT INTO mrn_test VALUES (?)\", row)\nconn.commit()\n\n\n#connect_msss()\n#connect_sqlite()\n#query_msss()\n</code></pre>\n\n<p>Error 1:</p>\n\n<blockquote>\n  <p>c.execute('CREATE TABLE IF NOT EXISTS mrn_test\n  (PTMRN NUMERIC)')</p>\n</blockquote>\n\n<pre><code> Out[117]: &lt;sqlite3.Cursor at 0x2d1a742fc70&gt;\n</code></pre>\n\n<p>Error 2:</p>\n\n<blockquote>\n  <p>cur = conn.cursor() cur.execute(\"SELECT TOP 50 PTMRN FROM\n  dbo.atl_1234_mrntest\")</p>\n</blockquote>\n\n<pre><code>Out[118]: &lt;pyodbc.Cursor at 0x2d1a731b990&gt;\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras", "computer-vision"], "comments": [{"owner": {"reputation": 3041, "user_id": 1809532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hbKKO.jpg?s=128&g=1", "display_name": "Myles Baker", "link": "https://stackoverflow.com/users/1809532/myles-baker"}, "edited": false, "score": 0, "creation_date": 1536175874, "post_id": 52192148, "comment_id": 91334176, "body": "The proper path is to use an object detection model to define the coin boundaries. As far as I know, there isn&#39;t a simpler way. However, there are a number of good object detection libraries that will do this for you (ex: <a href=\"https://github.com/tensorflow/models/tree/master/research/object_detection\" rel=\"nofollow noreferrer\">Tensorflow&#39;s object detection API</a>. Can you share what you&#39;ve already tried?"}, {"owner": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "edited": false, "score": 0, "creation_date": 1536186230, "post_id": 52192148, "comment_id": 91337984, "body": "You want to use the distance transform + watershed method. See for example <a href=\"https://stackoverflow.com/questions/25789278/coffee-beans-separation-algorithm\" title=\"coffee beans separation algorithm\">stackoverflow.com/questions/25789278/&hellip;</a> or <a href=\"https://stackoverflow.com/questions/19385264/image-segmentation-of-connected-objects-with-watershed\" title=\"image segmentation of connected objects with watershed\">stackoverflow.com/questions/19385264/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 10280951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f948f4472ff6381b3b320e7597e74ee7?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/10280951/chris"}, "edited": false, "score": 0, "creation_date": 1536181126, "post_id": 52193172, "comment_id": 91336344, "body": "Interesting approach, I will try this out. Thank you!"}], "tags": [], "owner": {"reputation": 2356, "user_id": 1138455, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2c5ba55670fdb3f3ef96ddae4d245bc2?s=128&d=identicon&r=PG&f=1", "display_name": "Herr von Wurst", "link": "https://stackoverflow.com/users/1138455/herr-von-wurst"}, "is_accepted": false, "score": 1, "last_activity_date": 1536181984, "last_edit_date": 1536181984, "creation_date": 1536180433, "answer_id": 52193172, "question_id": 52192148, "link": "https://stackoverflow.com/questions/52192148/divide-image-to-single-objects-coins-for-machine-learning/52193172#52193172", "title": "Divide image to single objects (coins) for machine learning", "body": "<p>I would try color segmentation similar to this <a href=\"https://pythonprogramming.net/color-filter-python-opencv-tutorial/\" rel=\"nofollow noreferrer\">tutorial</a> as a first step to separate the coins from the background. Here is my quick try in Python using OpenCV:</p>\n\n<pre><code>import cv2\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nimg = cv2.imread(\"coins.jpg\")\n\nlower = np.array([0,40,5])\nupper = np.array([255,255,255])\nmask = cv2.inRange(hsv, lower, upper)\n\ncv2.imshow(img)\nplt.show()\nplt.imshow(mask)\n</code></pre>\n\n<p>This brings us from the input image</p>\n\n<p><a href=\"https://i.stack.imgur.com/ftlig.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ftlig.png\" alt=\"enter image description here\"></a></p>\n\n<p>to this mask:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LOdmL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LOdmL.png\" alt=\"enter image description here\"></a></p>\n\n<p>From here using blob analysis and a size filter you should be able to find and separate the unconnected coins. Disconnecting the overlapping areas could be achieved using <a href=\"https://en.wikipedia.org/wiki/Active_contour_model\" rel=\"nofollow noreferrer\">active contours</a>, or since your goal is to create a training data set, by shifting the coins before taking the picture.</p>\n"}, {"tags": [], "owner": {"reputation": 437, "user_id": 11941084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8799b8588e417ec9d36ff8d59d3e8fdb?s=128&d=identicon&r=PG", "display_name": "Anonim", "link": "https://stackoverflow.com/users/11941084/anonim"}, "is_accepted": false, "score": 0, "last_activity_date": 1590788982, "creation_date": 1590788982, "answer_id": 62095083, "question_id": 52192148, "link": "https://stackoverflow.com/questions/52192148/divide-image-to-single-objects-coins-for-machine-learning/62095083#62095083", "title": "Divide image to single objects (coins) for machine learning", "body": "<p><a href=\"https://i.stack.imgur.com/fVQ0k.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fVQ0k.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import cv2\nimport imutils\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndef display(img,count,cmap=\"gray\"):\n    f_image = cv2.imread(\"coins.jpg\")\n    f, axs = plt.subplots(1,2,figsize=(12,5))\n    axs[0].imshow(f_image,cmap=\"gray\")\n    axs[1].imshow(img,cmap=\"gray\")\n    axs[1].set_title(\"Total Money Count = {}\".format(count))\n\n\nimage = cv2.imread(\"coins.jpg\")\nimage_blur = cv2.medianBlur(image,25)\nimage_blur_gray = cv2.cvtColor(image_blur, cv2.COLOR_BGR2GRAY)\nimage_res ,image_thresh = cv2.threshold(image_blur_gray,240,255,cv2.THRESH_BINARY_INV)\nkernel = np.ones((3,3),np.uint8)\nopening = cv2.morphologyEx(image_thresh,cv2.MORPH_OPEN,kernel)\ndist_transform = cv2.distanceTransform(opening,cv2.DIST_L2,5)\nret, last_image =  cv2.threshold(dist_transform, 0.3*dist_transform.max(),255,0)\nlast_image = np.uint8(last_image)\n\ncnts = cv2.findContours(last_image.copy(), cv2.RETR_EXTERNAL,\n    cv2.CHAIN_APPROX_SIMPLE)\ncnts = imutils.grab_contours(cnts)\n\n\nfor (i, c) in enumerate(cnts):\n    ((x, y), _) = cv2.minEnclosingCircle(c)\n    cv2.putText(image, \"#{}\".format(i + 1), (int(x) - 45, int(y)+20),\n        cv2.FONT_HERSHEY_SIMPLEX, 2, (255, 0, 0), 5)\n    cv2.drawContours(image, [c], -1, (0, 255, 0), 2)\n\ndisplay(image,len(cnts))\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 10280951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f948f4472ff6381b3b320e7597e74ee7?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/10280951/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1590788982, "creation_date": 1536175528, "last_edit_date": 1592644375, "question_id": 52192148, "link": "https://stackoverflow.com/questions/52192148/divide-image-to-single-objects-coins-for-machine-learning", "title": "Divide image to single objects (coins) for machine learning", "body": "<p>I want to <strong>automatically divide an image</strong> of multiple coins to the single coins, so that afterwards the single coins can be put into a model that classifies the coins (with Tensorflow/Keras).</p>\n<p><a href=\"https://i.stack.imgur.com/mbI0f.jpg\" rel=\"nofollow noreferrer\">The input images look something like this</a></p>\n<p><a href=\"https://i.stack.imgur.com/tJbMS.jpg\" rel=\"nofollow noreferrer\">And they should look like this</a> (Sorry that I cannot integrate the images directly as I'm new to StackOverflow).</p>\n<p>I want to divide the input images, put the single coins into a classification model, so that I know the single value of the single coins and thereby can identify the value of the first input image.</p>\n<p>I already tried an object detection model, but it didn't detect coins (<a href=\"https://towardsdatascience.com/object-detection-with-10-lines-of-code-d6cb4d86f606\" rel=\"nofollow noreferrer\">https://towardsdatascience.com/object-detection-with-10-lines-of-code-d6cb4d86f606</a>). As I already know that all objects on the image are coins, I thought that there is maybe an easier way to divide the image?</p>\n<p>Thank you in advance.</p>\n"}, {"tags": ["python", "python-3.x", "turtle-graphics"], "answers": [{"tags": [], "owner": {"reputation": 1472, "user_id": 7087143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FFEhW1u4eWk/AAAAAAAAAAI/AAAAAAAAAKU/GXpyPSDtC2s/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/7087143/karl"}, "is_accepted": false, "score": 0, "last_activity_date": 1536176854, "creation_date": 1536176854, "answer_id": 52192441, "question_id": 52192106, "link": "https://stackoverflow.com/questions/52192106/python-turtle-crashes-when-opening-second-window/52192441#52192441", "title": "Python Turtle Crashes When Opening Second Window", "body": "<p>It seems like you should probably using a different function then <code>exitonclick</code> to exit out of the screen or clear it. But I was able to get your code working by running turtle.bye() and doing a try/except around it in case of errors.<br>\nIt's definitely not an elegant solution but is a workaround to get the second window to appear properly.</p>\n\n<pre><code>import turtle\n\nwindow = turtle.Screen()\nt1 = turtle.Turtle()\nt1.forward(100)\nwindow.exitonclick()\n\ntry:\n    turtle.bye()\nexcept Exception:\n    pass\n\nwindow2 = turtle.Screen()\nt2 = turtle.Turtle()\nt2.forward(100)\nwindow2.exitonclick()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10322022, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W532p0pFiLk/AAAAAAAAAAI/AAAAAAAAABo/sweYt9-uO4k/photo.jpg?sz=128", "display_name": "David Johnson", "link": "https://stackoverflow.com/users/10322022/david-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 343, "favorite_count": 0, "protected_date": 1566571079, "answer_count": 1, "score": 0, "last_activity_date": 1566571095, "creation_date": 1536175353, "last_edit_date": 1566571095, "question_id": 52192106, "link": "https://stackoverflow.com/questions/52192106/python-turtle-crashes-when-opening-second-window", "title": "Python Turtle Crashes When Opening Second Window", "body": "<p>I have a small program where I would like to pop up a Python turtle window, display something, close on user click, then pop up a next window. An example program for this is</p>\n\n<pre><code>import turtle\n\nwindow = turtle.Screen()\nt1 = turtle.Turtle()\nt1.forward(100)\nwindow.exitonclick()\n\nwindow2 = turtle.Screen()\nt2 = turtle.Turtle()\nt2.forward(100)\nwindow2.exitonclick()\n</code></pre>\n\n<p>The program crashes when trying to open the second window. This is with Python3.6 on a Mac OS X machine. I have seen some reference to crashes when re-running a program twice, and seen advice about adding a bye() call after the first window close, but I haven't managed to work around this yet.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["python", "opencv", "ros", "camera-calibration", "roi"], "answers": [{"comments": [{"owner": {"reputation": 198, "user_id": 9999528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0784da2545c5a947a95202ef28064787?s=128&d=identicon&r=PG&f=1", "display_name": "Ender Ayhan", "link": "https://stackoverflow.com/users/9999528/ender-ayhan"}, "edited": false, "score": 0, "creation_date": 1536258366, "post_id": 52194135, "comment_id": 91369669, "body": "Sorry for the late response. As far as I know, I can use image_proc/crop_decimate for only raw images. But I need rectified images to be cropped and streamed. Did I misunderstand you ?"}, {"owner": {"reputation": 2069, "user_id": 2084944, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/8bDYe.jpg?s=128&g=1", "display_name": "Tik0", "link": "https://stackoverflow.com/users/2084944/tik0"}, "reply_to_user": {"reputation": 198, "user_id": 9999528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0784da2545c5a947a95202ef28064787?s=128&d=identicon&r=PG&f=1", "display_name": "Ender Ayhan", "link": "https://stackoverflow.com/users/9999528/ender-ayhan"}, "edited": false, "score": 0, "creation_date": 1536259591, "post_id": 52194135, "comment_id": 91370178, "body": "Should work if you just remap the subscription topic to the rectified one"}, {"owner": {"reputation": 198, "user_id": 9999528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0784da2545c5a947a95202ef28064787?s=128&d=identicon&r=PG&f=1", "display_name": "Ender Ayhan", "link": "https://stackoverflow.com/users/9999528/ender-ayhan"}, "edited": false, "score": 0, "creation_date": 1536262238, "post_id": 52194135, "comment_id": 91371334, "body": "Okay, I will try. However, I dont know how to do since your idea is really general. Is there any tutorial or example that you can recommend ?"}, {"owner": {"reputation": 2069, "user_id": 2084944, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/8bDYe.jpg?s=128&g=1", "display_name": "Tik0", "link": "https://stackoverflow.com/users/2084944/tik0"}, "reply_to_user": {"reputation": 198, "user_id": 9999528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0784da2545c5a947a95202ef28064787?s=128&d=identicon&r=PG&f=1", "display_name": "Ender Ayhan", "link": "https://stackoverflow.com/users/9999528/ender-ayhan"}, "edited": false, "score": 1, "creation_date": 1536265154, "post_id": 52194135, "comment_id": 91372524, "body": "<a href=\"https://answers.ros.org/question/45118/how-to-set-up-image_proccrop_decimate-nodelet-properly/\" rel=\"nofollow noreferrer\">This</a> discussion should give you some hints."}], "tags": [], "owner": {"reputation": 2069, "user_id": 2084944, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/8bDYe.jpg?s=128&g=1", "display_name": "Tik0", "link": "https://stackoverflow.com/users/2084944/tik0"}, "is_accepted": true, "score": 1, "last_activity_date": 1536186354, "creation_date": 1536186354, "answer_id": 52194135, "question_id": 52192049, "link": "https://stackoverflow.com/questions/52192049/how-to-publish-stream-roi-of-rectified-images-by-using-image-proc/52194135#52194135", "title": "How to publish/stream roi of rectified images by using image_proc?", "body": "<p>You can directly use the <a href=\"http://wiki.ros.org/image_proc#image_proc.2BAC8-kinetic.image_proc.2BAC8-crop_decimate\" rel=\"nofollow noreferrer\">image_proc/crop_decimate</a> nodelet.\nYou can configure it using <a href=\"http://wiki.ros.org/dynamic_reconfigure\" rel=\"nofollow noreferrer\">dynamic_reconfigure</a> to set up ROI or interpolation.\nHowever, since these are software operations, interpolation methods should be handled with care (but fastest NN method is standard anyway) since you have a real time application.</p>\n"}], "owner": {"reputation": 198, "user_id": 9999528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0784da2545c5a947a95202ef28064787?s=128&d=identicon&r=PG&f=1", "display_name": "Ender Ayhan", "link": "https://stackoverflow.com/users/9999528/ender-ayhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 52194135, "answer_count": 1, "score": 1, "last_activity_date": 1536186354, "creation_date": 1536175107, "question_id": 52192049, "link": "https://stackoverflow.com/questions/52192049/how-to-publish-stream-roi-of-rectified-images-by-using-image-proc", "title": "How to publish/stream roi of rectified images by using image_proc?", "body": "<p>I am using ROS to control a drone for real-time image processing applications. I have calibrated camera by using <a href=\"https://github.com/strawlab/image_pipeline/blob/master/camera_calibration/nodes/cameracalibrator.py\" rel=\"nofollow noreferrer\">cameracalibrator.py</a> node in Ros. When I use <a href=\"http://wiki.ros.org/image_proc\" rel=\"nofollow noreferrer\">image_proc</a> node to compare raw and rectified images,  I don't get what I want. Although image is rectified, border of the image is getting distorted toward opposite direction as the image below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/B1KZ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B1KZ7.png\" alt=\"left image is raw, right image is rectified \"></a></p>\n\n<p>As a result, rectified image is still useless for me. </p>\n\n<p>Thus, this time, I calibrated my camera using <a href=\"https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_calib3d/py_calibration/py_calibration.html\" rel=\"nofollow noreferrer\">opencv</a> so that I can get region of interest (ROI) in the image after undistortion operation. Thus, the rectified image becomes perfect for me. However, I need ROS to do that while streaming rectified image by using image_proc. Is there anyway to do that ?</p>\n"}, {"tags": ["python", "ffmpeg", "speech-recognition"], "comments": [{"owner": {"reputation": 37, "user_id": 10286843, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Q8Vft5UF7Y/AAAAAAAAAAI/AAAAAAAAAMI/vygk3e9GDBI/photo.jpg?sz=128", "display_name": "Ali Khan AK", "link": "https://stackoverflow.com/users/10286843/ali-khan-ak"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1536180160, "post_id": 52192000, "comment_id": 91335965, "body": "I get this error: &lt;subprocess.Popen object at 0x000002445A15D1D0&gt;"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1536180207, "post_id": 52192000, "comment_id": 91335993, "body": "this isn&#39;t an error, this is the object representation being printed. It means that it worked. but I think I misread your question. Sorry"}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1536180747, "post_id": 52192571, "comment_id": 91336190, "body": "that&#39;d probably work. even if the explanation isn&#39;t given why OP current code doesn&#39;t work."}], "tags": [], "owner": {"reputation": 104, "user_id": 4831400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3eafee7d44e2b6b705846691307309?s=128&d=identicon&r=PG&f=1", "display_name": "alrevuelta", "link": "https://stackoverflow.com/users/4831400/alrevuelta"}, "is_accepted": false, "score": 1, "last_activity_date": 1536177393, "creation_date": 1536177393, "answer_id": 52192571, "question_id": 52192000, "link": "https://stackoverflow.com/questions/52192000/how-to-return-ffmepg-processed-output-file-and-pass-it-to-another-function-usin/52192571#52192571", "title": "How to return ffmepg processed output file and pass it to another function? using python", "body": "<p>Does the file exist? I would suggest using <code>exit_state = os.system(cmd)</code> instead, and verify that <code>exit_state</code> is zero before returning <code>outFile</code>. With this you make sure that the <code>ffmpeg</code> command has finished successfully.</p>\n"}, {"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 0, "last_activity_date": 1536180496, "creation_date": 1536180496, "answer_id": 52193181, "question_id": 52192000, "link": "https://stackoverflow.com/questions/52192000/how-to-return-ffmepg-processed-output-file-and-pass-it-to-another-function-usin/52193181#52193181", "title": "How to return ffmepg processed output file and pass it to another function? using python", "body": "<p>One problem is that <code>os.popen()</code> returns a handle on a process output and returns to the caller, leaving the program running in the background.</p>\n\n<p>So when you're calling your audio post-processing, <code>ffmpeg</code> hasn't finished to run yet/maybe not even started creating the audio file (race condition between your process and the <code>ffmpeg</code> subprocess)</p>\n\n<p>You have to <em>wait</em> for the command to end. I'd use <code>subprocess.check_call</code> for that, and a <em>list</em> of arguments instead of composing the command as string (which has to be split, possibly with quoting/space errors):</p>\n\n<pre><code>cmd = [\"ffmpeg\",\"-i\",inFile,\"-vn\",\"-ac\",\"2\",\"-ar\",\"44100\",\"-ab\",\"320k\",\"-f\",\"wav\",outFile]\nsubprocess.check_call(cmd)\n</code></pre>\n\n<p>when <code>check_call</code> returns (without raising an exception), it means that <code>ffmpeg</code> finished creating the output file. You can safely try to open it for reading now.</p>\n"}], "owner": {"reputation": 37, "user_id": 10286843, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Q8Vft5UF7Y/AAAAAAAAAAI/AAAAAAAAAMI/vygk3e9GDBI/photo.jpg?sz=128", "display_name": "Ali Khan AK", "link": "https://stackoverflow.com/users/10286843/ali-khan-ak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 52193181, "answer_count": 2, "score": 1, "last_activity_date": 1536180496, "creation_date": 1536174905, "question_id": 52192000, "link": "https://stackoverflow.com/questions/52192000/how-to-return-ffmepg-processed-output-file-and-pass-it-to-another-function-usin", "title": "How to return ffmepg processed output file and pass it to another function? using python", "body": "<p>I want to convert video to audio using ffmpeg and I also want to return that audio file and pass it on to another function which generates text from that audio. But when I pass 'audio' to function error shows file not found..  </p>\n\n<pre><code>def extract_audio(f):\nprint(\"processing\", f)\ninFile = f\noutFile = f[:-3] + \"wav\"\ncmd = \"ffmpeg -i {} -vn  -ac 2 -ar 44100 -ab 320k -f wav {}\".format(inFile, outFile)\nos.popen(cmd)\nprint(outFile)\nprint(\"Audio is ready to use..\")\nreturn outFile\n\ndef audio_to_text(audio):\nr = sr.Recognizer()\nr.energy_threshold = 4000\nwith sr.WavFile(open(audio)) as source:  # use \"test.wav\" as the audio source\n    audio_source = r.record(source)  # extract audio data from the file\n    text = r.recognize_google(audio_source)\ntry:\n    print(text)  # recognize speech using Google Speech Recognition\nexcept LookupError:  # speech is unintelligible\n    print(\"Could not understand audio\")\n\nroot = tk.Tk()\nroot.withdraw()\nfile_path = filedialog.askopenfilename()\nfilename = os.path.basename(file_path)\naudio = extract_audio(filename)\naudio_to_text(audio)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "decorator", "python-decorators"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 3, "creation_date": 1536174968, "post_id": 52191968, "comment_id": 91333759, "body": "No because these cases are <i>exactly the same</i> The <code>@</code> form is just syntactic sugar for the long form"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 2, "creation_date": 1536176272, "post_id": 52191968, "comment_id": 91334342, "body": "@DanielRoseman  Please refrain from answering questions in the comments.  Answers in comments are detrimental to the site. Comments cannot be downvoted, only upvoted, and so you can&#39;t have the quality checks that answers have. You cannot edit comments to improve them after 5 minutes."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 4, "creation_date": 1536176335, "post_id": 52191968, "comment_id": 91334369, "body": "@wim please let people comment as they wish... <a href=\"https://meta.stackoverflow.com/questions/371115/what-if-i-dont-want-to-answer-but-still-want-to-help\" title=\"what if i dont want to answer but still want to help\">meta.stackoverflow.com/questions/371115/&hellip;</a>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1536176976, "post_id": 52191968, "comment_id": 91334657, "body": "@wim that&#39;s not really an answer. And it seems wrong seeing the good real answers below."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1536177404, "post_id": 52191968, "comment_id": 91334842, "body": "@Jean-Fran&#231;oisFabre  It starts out &quot;No&quot;, and is intended as an answer to the question &quot;Is it possible...?&quot;. It&#39;s also an incorrect answer. What are you missing here?"}, {"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1584866773, "post_id": 52191968, "comment_id": 107565842, "body": "Why would you want to do this, when they are semantically the same? Unless this is purely out of curiosity about the internals of Python, then this is definitely an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY problem</a>. What problem are you actually trying to solve with this?"}, {"owner": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "reply_to_user": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1584951124, "post_id": 52191968, "comment_id": 107588123, "body": "@kaya3 I don&#39;t remember any more. My question is from 2018. Probably I solved the actual problem differently back then. ;-) But I guess it was related to something I tried doing in that library: <a href=\"https://github.com/Dobiasd/undictify\" rel=\"nofollow noreferrer\">github.com/Dobiasd/undictify</a>"}], "answers": [{"comments": [{"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 0, "creation_date": 1536175922, "post_id": 52192154, "comment_id": 91334196, "body": "did you try to call <code>bar</code> once more time?"}, {"owner": {"reputation": 24772, "user_id": 770830, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a3943e02574f64dabaa71603264c9c28?s=128&d=identicon&r=PG", "display_name": "bereal", "link": "https://stackoverflow.com/users/770830/bereal"}, "reply_to_user": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 2, "creation_date": 1536176030, "post_id": 52192154, "comment_id": 91334245, "body": "@BearBrown <code>bar</code> is never called in the given code."}, {"owner": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "edited": false, "score": 1, "creation_date": 1536176656, "post_id": 52192154, "comment_id": 91334507, "body": "Nice Idea! However it does not work in all cases, like in <a href=\"https://gist.github.com/Dobiasd/352f9b4f188a941b1728f402d4bb0e53\" rel=\"nofollow noreferrer\">this one</a>."}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "edited": false, "score": 0, "creation_date": 1536176937, "post_id": 52192154, "comment_id": 91334637, "body": "@TobiasHermann That is an extemely specific example, I have no idea why it does not work."}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1536177011, "post_id": 52192154, "comment_id": 91334666, "body": "It seems the behaviour of inspect is different when decorating a class that inherits"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1536177020, "post_id": 52192154, "comment_id": 91334675, "body": "congratulations for this answer. Good python questions (&amp; answers) are so rare ATM..."}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "edited": false, "score": 1, "creation_date": 1536178976, "post_id": 52192154, "comment_id": 91335489, "body": "@TobiasHermann Although, I don&#39;t get why the behaviour is different, so I <a href=\"https://stackoverflow.com/questions/52192877/why-does-inspect-returns-different-line-for-class-inheriting-from-superclass\">asked the question myself</a>."}, {"owner": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "edited": false, "score": 0, "creation_date": 1536262447, "post_id": 52192154, "comment_id": 91371436, "body": "Thanks a lot! However it breaks with a function like <a href=\"https://gist.github.com/Dobiasd/345818cba0821cb47c351a938b31d37e\" rel=\"nofollow noreferrer\">this</a>."}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "edited": false, "score": 0, "creation_date": 1536263154, "post_id": 52192154, "comment_id": 91371725, "body": "@TobiasHermann Since it is somewhat of a hack, it will break on many cornercases. You could improve the solution to dynamicaly grab the desired context size and find the decorator line. But that is very expensive and maybe not worth it"}, {"owner": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "edited": false, "score": 0, "creation_date": 1536263396, "post_id": 52192154, "comment_id": 91371833, "body": "OK, I think I will just try to circumvent the problem. But thanks for interesting investigation nonetheless. :)"}], "tags": [], "owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "is_accepted": true, "score": 12, "last_activity_date": 1536181491, "last_edit_date": 1536181491, "creation_date": 1536175587, "answer_id": 52192154, "question_id": 52191968, "link": "https://stackoverflow.com/questions/52191968/check-if-a-function-was-called-as-a-decorator/52192154#52192154", "title": "Check if a function was called as a decorator", "body": "<p>The <code>@decorator</code> syntax is just syntactic sugar, thus both examples have identical behaviour. This also means whatever distinction you are doing between them might not be as meaningful as you thought.</p>\n\n<p>Although, you can use <code>inspect</code> to read your script and see how the decorator was called in the above frame.</p>\n\n<pre><code>import inspect\n\ndef decorate(func):\n    # See explanation below\n    lines = inspect.stack(context=2)[1].code_context\n    decorated = any(line.startswith('@') for line in lines)\n\n    print(func.__name__, 'was decorated with \"@decorate\":', decorated)\n    return func\n</code></pre>\n\n<p>Note that we had to specify <code>context=2</code> to the <code>inspect.stack</code> function. The <code>context</code> argument indicates how many lines of code around the current line must be returned. In some specific cases, such as when decorating a subclass, the current line was on the class declaration instead of the decorator. <a href=\"https://stackoverflow.com/a/52193338/5079316\">The exact reason for this behaviour has been explored here.</a></p>\n\n<h2>Example</h2>\n\n<pre><code>@decorate\ndef bar():\n    pass\n\ndef foo():\n    pass\nfoo = decorate(foo)\n\n@decorate\nclass MyDict(dict):\n    pass\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>bar was decorated with \"@decorate\": True\nfoo was decorated with \"@decorate\": False\nMyDict was decorated with \"@decorate\": True\n</code></pre>\n\n<h2>Caveat</h2>\n\n<p>There are still some corner cases that we can hardly overcome such as linebreaks between the decorator and a class declaration.</p>\n\n<pre><code># This will fail\n@decorate\n\nclass MyDict(dict):\n    pass\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1536176312, "post_id": 52192301, "comment_id": 91334358, "body": "Thank you, I did not know the inspect api could do that"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1536176513, "post_id": 52192301, "comment_id": 91334437, "body": "Although in Python 3.6.2 on Windows 10, I get <code>&#39;frame&#39; object has no attribute &#39;code_context&#39;</code>"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1536177306, "post_id": 52192301, "comment_id": 91334803, "body": "The trick with that: the decorator is called only once at import time. Within a function call it is not involved anymore."}, {"owner": {"reputation": 851, "user_id": 9915320, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e7xTY7kugGw/AAAAAAAAAAI/AAAAAAAAAVE/tdGt_X0Zcvo/photo.jpg?sz=128", "display_name": "Philip DiSarro", "link": "https://stackoverflow.com/users/9915320/philip-disarro"}, "reply_to_user": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1536177564, "post_id": 52192301, "comment_id": 91334899, "body": "@OlivierMelan&#231;on Thank you for pointing that out, I have adjusted the example to work for python &gt;=3.5"}], "tags": [], "owner": {"reputation": 851, "user_id": 9915320, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e7xTY7kugGw/AAAAAAAAAAI/AAAAAAAAAVE/tdGt_X0Zcvo/photo.jpg?sz=128", "display_name": "Philip DiSarro", "link": "https://stackoverflow.com/users/9915320/philip-disarro"}, "is_accepted": false, "score": 3, "last_activity_date": 1536177518, "last_edit_date": 1536177518, "creation_date": 1536176207, "answer_id": 52192301, "question_id": 52191968, "link": "https://stackoverflow.com/questions/52191968/check-if-a-function-was-called-as-a-decorator/52192301#52192301", "title": "Check if a function was called as a decorator", "body": "<p>Olivier's answer took the thoughts right out of my head. However, as <code>inspect.stack()</code> is a particularly expensive call, I would consider opting to use something along the lines of:</p>\n\n<pre><code>frame = inspect.getframeinfo(inspect.currentframe().f_back, context=1)\nif frame.code_context[0][0].startswith('@'): \n    print('Used as @decorate: True')\nelse:\n    print(\"Used as @decorate: False\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 700, "user_id": 2729778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37bbd0ccd96666e9868bee47e3c30eb0?s=128&d=identicon&r=PG", "display_name": "Changaco", "link": "https://stackoverflow.com/users/2729778/changaco"}, "is_accepted": false, "score": 0, "last_activity_date": 1584866400, "last_edit_date": 1584866400, "creation_date": 1584722774, "answer_id": 60778287, "question_id": 52191968, "link": "https://stackoverflow.com/questions/52191968/check-if-a-function-was-called-as-a-decorator/60778287#60778287", "title": "Check if a function was called as a decorator", "body": "<p>Building upon the two previous answers, I wrote a generic function which should work as expected in almost all real-world cases. I tested it with Python 3.6, 3.7 and 3.8.</p>\n\n<p>Before copy-pasting this function into your code, make sure you wouldn't be better off using the <a href=\"https://pypi.org/project/decorator/\" rel=\"nofollow noreferrer\"><code>decorator</code> module</a> instead.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def am_I_called_as_a_decorator(default=False):\n    \"\"\"This function tries to determine how its caller was called.\n\n    The value returned by this function should not be blindly trusted, it can\n    sometimes be inaccurate.\n\n    Arguments:\n        default (bool): the fallback value to return when we're unable to determine\n                        how the function was called\n\n    &gt;&gt;&gt; def f(*args):\n    ...     if am_I_called_as_a_decorator():\n    ...         print(\"called as decorator with args {!r}\".format(args))\n    ...         if len(args) == 1:\n    ...             return args[0]\n    ...         return f\n    ...     else:\n    ...         print(\"called normally with args {!r}\".format(args))\n    ...\n    &gt;&gt;&gt; f()\n    called normally with args ()\n    &gt;&gt;&gt; @f                              #doctest: +ELLIPSIS\n    ... def g(): pass\n    ...\n    called as decorator with args (&lt;function g at ...&gt;,)\n    &gt;&gt;&gt; @f()\n    ... class Foobar: pass\n    ...\n    called as decorator with args ()\n    called as decorator with args (&lt;class 'state_chain.Foobar'&gt;,)\n    &gt;&gt;&gt; @f(                             #doctest: +ELLIPSIS\n    ...     'one long argument',\n    ...     'another long argument',\n    ... )\n    ... def g(): pass\n    ...\n    called as decorator with args ('one long argument', 'another long argument')\n    called as decorator with args (&lt;function g at ...&gt;,)\n    &gt;&gt;&gt; @f('one long argument',         #doctest: +ELLIPSIS\n    ...    'another long argument')\n    ... def g(): pass\n    ...\n    called as decorator with args ('one long argument', 'another long argument')\n    called as decorator with args (&lt;function g at ...&gt;,)\n    &gt;&gt;&gt; @f(                             #doctest: +ELLIPSIS\n    ...     # A weirdly placed comment\n    ...   )\n    ... @f\n    ... def g(): pass\n    ...\n    called as decorator with args ()\n    called as decorator with args (&lt;function g at ...&gt;,)\n\n    \"\"\"\n\n    def get_indentation(line):\n        for i, c in enumerate(line):\n            if not c.isspace():\n                break\n        return line[:i]\n\n    # First, we try to look at the line where Python says the function call is.\n    # Unfortunately, Python doesn't always give us the line we're interested in.\n    call_frame = inspect.currentframe().f_back.f_back\n    call_info = inspect.getframeinfo(call_frame, context=0)\n    source_lines = linecache.getlines(call_info.filename)\n    if not source_lines:\n        # Reading the source code failed, return the fallback value.\n        return default\n    try:\n        call_line = source_lines[call_info.lineno - 1]\n    except IndexError:\n        # The source file seems to have been modified.\n        return default\n    call_line_ls = call_line.lstrip()\n    if call_line_ls.startswith('@'):\n        # Note: there is a small probability of false positive here, if the\n        # function call is on the same line as a decorator call.\n        return True\n    if call_line_ls.startswith('class ') or call_line_ls.startswith('def '):\n        # Note: there is a small probability of false positive here, if the\n        # function call is on the same line as a `class` or `def` keyword.\n        return True\n    # Next, we try to find and examine the line after the function call.\n    # If that line doesn't start with a `class` or `def` keyword, then the\n    # function isn't being called as a decorator.\n    def_lineno = call_info.lineno\n    while True:\n        try:\n            def_line = source_lines[def_lineno]\n        except IndexError:\n            # We've reached the end of the file.\n            return False\n        def_line_ls = def_line.lstrip()\n        if def_line_ls[:1] in (')', '#', '@', ''):\n            def_lineno += 1\n            continue\n        break\n    if not (def_line_ls.startswith('class') or def_line_ls.startswith('def')):\n        # Note: there is a small probability of false negative here, as we might\n        # be looking at the wrong line.\n        return False\n    # Finally, we look at the lines above, taking advantage of the fact that a\n    # decorator call is at the same level of indentation as the function or\n    # class being decorated.\n    def_line_indentation = get_indentation(def_line)\n    for lineno in range(call_info.lineno - 1, 0, -1):\n        line = source_lines[lineno - 1]\n        line_indentation = get_indentation(line)\n        if line_indentation == def_line_indentation:\n            line_ls = line.lstrip()\n            if line_ls[:1] in (')', ','):\n                continue\n            return line_ls.startswith('@')\n        elif len(line_indentation) &lt; len(def_line_indentation):\n            break\n    return default\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "is_accepted": false, "score": 2, "last_activity_date": 1584871609, "last_edit_date": 1584871609, "creation_date": 1584867727, "answer_id": 60797501, "question_id": 52191968, "link": "https://stackoverflow.com/questions/52191968/check-if-a-function-was-called-as-a-decorator/60797501#60797501", "title": "Check if a function was called as a decorator", "body": "<p>Contrary to popular believe, <code>@decorator</code> and <code>decorator(\u2026)</code> are not exactly equivalent. The first runs <em>before</em> name binding, the latter <em>after</em> name binding. For the common use-case of top-level functions, this allows to cheaply test which case applies.</p>\n\n<pre><code>import sys\n\ndef decoraware(subject):\n    \"\"\"\n    Decorator that is aware whether it was applied using `@deco` syntax\n    \"\"\"\n    try:\n        module_name, qualname = subject.__module__, subject.__qualname__\n    except AttributeError:\n        raise TypeError(f\"subject must define '__module__' and '__qualname__' to find it\")\n    if '.' in qualname:\n        raise ValueError(f\"subject must be a top-level function/class\")\n    # see whether ``subject`` has been bound to its module\n    module = sys.modules[module_name]\n    if getattr(module, qualname, None) is not subject:\n        print('@decorating', qualname)  # @decoraware\n    else:\n        print('wrapping()', qualname)   # decoraware()\n    return subject\n</code></pre>\n\n<p>This example will merely print how it was applied.</p>\n\n<pre><code>&gt;&gt;&gt; @decoraware\n... def foo(): ...\n...\n@decorating foo\n&gt;&gt;&gt; decoraware(foo)\nwrapping() foo\n</code></pre>\n\n<p>The same means can be used to run arbitrary code in each path, though.</p>\n\n<p>In case that multiple decorators are applied, you must decide whether you want the top or bottom subject. For the top-function, the code works unmodified. For the bottom subject, unwrap it using <a href=\"https://docs.python.org/3/library/inspect.html#inspect.unwrap\" rel=\"nofollow noreferrer\"><code>subject = inspect.unwrap(subject)</code></a> before detection.</p>\n\n<hr>\n\n<p>The same approach can be used in a more general way on CPython. Using <code>sys._getframe(n).f_locals</code> gives access to the local namespace in which the decorator was applied.</p>\n\n<pre><code>def decoraware(subject):\n    \"\"\"Decorator that is aware whether it was applied using `@deco` syntax\"\"\"\n    modname, topname = subject.__module__, subject.__name__\n    if getattr(sys.modules[modname], topname, None) is subject:\n        print('wrapping()', topname, '[top-level]')\n    else:\n        at_frame = sys._getframe(1)\n        if at_frame.f_locals.get(topname) is subject:\n            print('wrapping()', topname, '[locals]')\n        elif at_frame.f_globals.get(topname) is subject:\n            print('wrapping()', topname, '[globals]')\n        else:\n            print('@decorating', topname)\n    return subject\n</code></pre>\n\n<hr>\n\n<p>Note that similar to <code>pickle</code>, this approach will fail if the subject's <code>__qualname__</code>/<code>__name__</code> is tampered with or it is <code>del</code>'ed from its defining namespace.</p>\n"}], "owner": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2127, "favorite_count": 0, "accepted_answer_id": 52192154, "answer_count": 4, "score": 8, "last_activity_date": 1584871609, "creation_date": 1536174752, "question_id": 52191968, "link": "https://stackoverflow.com/questions/52191968/check-if-a-function-was-called-as-a-decorator", "title": "Check if a function was called as a decorator", "body": "<p>In the following minimal example <code>decorate</code> is called two times. First using <code>@decorate</code>, second by normal function call <code>decorate(bar)</code>.</p>\n\n<pre><code>def decorate(func):\n    print(func.__name__)\n    return func\n\n@decorate\ndef bar():\n    pass\n\ndecorate(bar)\n</code></pre>\n\n<p>Is it possible to see inside of <code>decorate</code> if the call was invoked by using <code>@decorate</code> or as a normal function call?</p>\n"}, {"tags": ["python", "crc", "binascii"], "answers": [{"tags": [], "owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "is_accepted": true, "score": 1, "last_activity_date": 1536190654, "creation_date": 1536190654, "answer_id": 52194654, "question_id": 52191958, "link": "https://stackoverflow.com/questions/52191958/python-crc-hqxdata-value-proper-implementation/52194654#52194654", "title": "Python crc_hqx(data, value) proper implementation", "body": "<p>Normally a CRC is appended to data, most significant byte first.</p>\n\n<p>The initial value depends on the specific implementation. For 16 bit CRC, the two most common values are 0x0000 or 0xffff. In some cases other values are used, the most common of these would be the equivalent of an initial value of 0x0000, and generating at CRC for the two byte data string 0xff, 0xff, as if the data was prefixed with the two byte pattern 0xff, 0xff.</p>\n\n<p>To check your CRC implementation, you can compare it with one of the CRC's from a web site such as:</p>\n\n<p><a href=\"https://www.lammertbies.nl/comm/info/crc-calculation.html\" rel=\"nofollow noreferrer\">https://www.lammertbies.nl/comm/info/crc-calculation.html</a></p>\n\n<p>Using the hex input option is more flexible. When comparing your implementation, do not append your calculated CRC to the data when entering your data on the web site entry box.</p>\n"}], "owner": {"reputation": 169, "user_id": 5627716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu2MO.jpg?s=128&g=1", "display_name": "Bix", "link": "https://stackoverflow.com/users/5627716/bix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 52194654, "answer_count": 1, "score": 0, "last_activity_date": 1536256663, "creation_date": 1536174677, "last_edit_date": 1536256663, "question_id": 52191958, "link": "https://stackoverflow.com/questions/52191958/python-crc-hqxdata-value-proper-implementation", "title": "Python crc_hqx(data, value) proper implementation", "body": "<p>Solved! Thank you rcgdlr. </p>\n\n<p>I am just learning about CRCs and am unsure my implementation is correct. I have a number of questions:</p>\n\n<ol>\n<li>Do I include the crc in the data portion (I believe I do but I'm unsure; could it depend on the implementation)?</li>\n</ol>\n\n<p>bytes_trans = cmd_in[5:-2] # -2 to incl crc or -4 to excl crc?</p>\n\n<ol start=\"2\">\n<li><p>How do I determine my initial value? Most implementations I saw online either used 0 or passed the crc itself. I have tried these two methods:</p>\n\n<p>crc_start = int.from_bytes(cmd_in[-4:-2], byteorder='little', signed=False) # CRC from the message</p>\n\n<p>crc = binascii.crc_hqx(bytes_trans, crc_start)</p>\n\n<p>crc2 = binascii.crc_hqx(bytes_trans, 0)</p></li>\n<li><p>How do I know when it works? I believe I'm looking for either a 0 out or an integer that matches the CRC?</p></li>\n<li><p>I have not had success thus far which suggests I'm using the wrong inputs or the CRC is not actually a CCITT CRC-16 as specified in the documentation I am working from. I have tried most PyCRC implementations e.g. DNP and Kermit but have also had no luck. Is there a way to confirm that I am indeed working with a CCITT CRC-16? Are there factors that could have been implemented differently making this a slightly modified CCITT CRC-16?</p></li>\n</ol>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1536176242, "post_id": 52191957, "comment_id": 91334333, "body": "Just because the docs are so close to your question wording. <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.dt.normalize.html\" rel=\"nofollow noreferrer\"><code>pd.Series.dt.normalize</code></a> &quot; The time component of the date-time is converted to midnight i.e. 00:00:00. This is useful in cases, when the time does not matter.&quot; Basically the same as using <code>.dt.date</code>"}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 3037979, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b56ef80344eccb9e442f37e1c6bd3946?s=128&d=identicon&r=PG&f=1", "display_name": "patski", "link": "https://stackoverflow.com/users/3037979/patski"}, "edited": false, "score": 0, "creation_date": 1536175376, "post_id": 52192039, "comment_id": 91333956, "body": "Thank you! This works perfectly. Just what I was looking for"}], "tags": [], "owner": {"reputation": 16731, "user_id": 10201580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/awLHs.png?s=128&g=1", "display_name": "Chris A", "link": "https://stackoverflow.com/users/10201580/chris-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1536175387, "last_edit_date": 1536175387, "creation_date": 1536175074, "answer_id": 52192039, "question_id": 52191957, "link": "https://stackoverflow.com/questions/52191957/merge-rows-with-same-date-and-add-counter-column-in-pandas/52192039#52192039", "title": "Merge rows with same date and add counter column in pandas", "body": "<p>Use: </p>\n\n<pre><code>df.groupby(df['date'].dt.date).size().rename(columns={'size':'sum'})\n</code></pre>\n\n<p>This method assumes that the <code>Series</code> 'date' is already dtype <code>datetime</code>.</p>\n\n<p>You can either set this if creating the DataFrame with <code>pd.read_csv</code> passing the argument \"<code>parse_dates=['date']</code>\" or by running:</p>\n\n<pre><code>df['date'] = pd.to_datetime(df['date'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": false, "score": 2, "last_activity_date": 1536175801, "last_edit_date": 1536175801, "creation_date": 1536175422, "answer_id": 52192130, "question_id": 52191957, "link": "https://stackoverflow.com/questions/52191957/merge-rows-with-same-date-and-add-counter-column-in-pandas/52192130#52192130", "title": "Merge rows with same date and add counter column in pandas", "body": "<p>Using <code>value_counts</code> with the <code>dt.date</code> accessor:</p>\n\n<pre><code>df['date'].dt.date.value_counts()\n</code></pre>\n\n<p>Demonstration on your sample data:</p>\n\n<pre><code>df['date'].dt.date.value_counts().rename('sum').to_frame()\n</code></pre>\n\n<p></p>\n\n<pre><code>            sum\n2018-08-28    6\n2018-09-04    5\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 3037979, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b56ef80344eccb9e442f37e1c6bd3946?s=128&d=identicon&r=PG&f=1", "display_name": "patski", "link": "https://stackoverflow.com/users/3037979/patski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1932, "favorite_count": 0, "accepted_answer_id": 52192039, "answer_count": 2, "score": 3, "last_activity_date": 1536175801, "creation_date": 1536174666, "question_id": 52191957, "link": "https://stackoverflow.com/questions/52191957/merge-rows-with-same-date-and-add-counter-column-in-pandas", "title": "Merge rows with same date and add counter column in pandas", "body": "<p>I have a simple DataFrame that looks like this:</p>\n\n<pre><code>               date\n0   2018-08-28 13:13:37\n1   2018-08-28 13:43:31\n2   2018-08-28 15:23:25\n3   2018-08-28 15:23:30\n4   2018-08-28 15:23:33\n5   2018-08-28 15:23:34\n...\n790 2018-09-04 10:45:38\n791 2018-09-04 10:45:38\n792 2018-09-04 11:13:16\n793 2018-09-04 12:12:09\n794 2018-09-04 14:01:54\n</code></pre>\n\n<p>I want to group all rows with same date (hour, minute and seconds is not important) and create a new column with the sum (number of merged rows with same date).</p>\n\n<p>The output I'm trying to work out is:</p>\n\n<pre><code>          date         sum\n0   2018-08-28         6\n1   2018-08-29         100\n2   2018-08-30         100\n3   2018-08-31         100\n4   2018-09-01         100\n5   2018-09-02         100\n6   2018-09-03         100\n7   2018-09-04         100\n</code></pre>\n\n<p>I've tried to play around with the <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html#pandas-dataframe-groupby\" rel=\"nofollow noreferrer\">groupby function</a> but I'm not able to get the correct output</p>\n"}, {"tags": ["python", "for-loop"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1536174728, "post_id": 52191956, "comment_id": 91333650, "body": "It&#39;s just an identifier, by convention used to indicate that the variable is unused"}], "owner": {"reputation": 383, "user_id": 4746527, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8a740df6f0bd027dbfc23fef08d35b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/4746527/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1536174773, "answer_count": 0, "score": 1, "last_activity_date": 1536174664, "creation_date": 1536174664, "question_id": 52191956, "link": "https://stackoverflow.com/questions/52191956/python-loop-using", "closed_reason": "Duplicate", "title": "python loop using &quot;_&quot;", "body": "<p>I have written a few python script. But this is my first time of seeing expressions like \"for _ in range(100000)\". Can anyone point me a direction regarding this? I didn't find it from google. What does \"_\" mean? no parameter is needed, and we can use this merely to say loop for 100000 times?</p>\n\n<pre><code>from numpy import random\nrandom.seed(0)\n\ntotals = {20:0, 30:0, 40:0, 50:0, 60:0, 70:0}\npurchases = {20:0, 30:0, 40:0, 50:0, 60:0, 70:0}\ntotalPurchases = 0\nfor _ in range(100000):\n    ageDecade = random.choice([20, 30, 40, 50, 60, 70])\n    purchaseProbability = float(ageDecade) / 100.0\n    totals[ageDecade] += 1\n    if (random.random() &lt; purchaseProbability):\n        totalPurchases += 1\n        purchases[ageDecade] += 1\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1536174919, "post_id": 52191950, "comment_id": 91333739, "body": "probably because there&#39;s already a file with this name from a previous run. You could try to delete the file in the dest dir if already exists."}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 0, "last_activity_date": 1536175094, "creation_date": 1536175094, "answer_id": 52192047, "question_id": 52191950, "link": "https://stackoverflow.com/questions/52191950/cannot-move-all-files-to-new-folder/52192047#52192047", "title": "Cannot move all files to new folder", "body": "<p><code>shutil.move</code> tries to use <code>os.rename</code> first, to avoid copying then deleting the source (it's very fast). If it doesn't work (because not the same logical unit), then it tries to copy then delete the source file.</p>\n\n<p>Here, the destination file already exists (from a previous run?). So <code>os.rename</code> fails with that particular reason (and doesn't try the second method)</p>\n\n<p>If you don't care about the previous file in the destination folder, you could try to remove the file if exists:</p>\n\n<pre><code>if os.path.exists(path_valid_break):\n   os.remove(path_valid_break)\nshutil.move(path_temp + files[index], path_valid_break)\n</code></pre>\n\n<p>(<code>remove</code> could fail, but if it succeeds, the <code>move</code> command will succeed too)</p>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 7808537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-MW9XsQwpqZg/AAAAAAAAAAI/AAAAAAAAwkk/dIeGpJGuLS4/photo.jpg?sz=128", "display_name": "Hugues", "link": "https://stackoverflow.com/users/7808537/hugues"}, "edited": false, "score": 0, "creation_date": 1536253343, "post_id": 52192364, "comment_id": 91367312, "body": "yes indeed, thanks @Hirabayashi, my random index was changing each time but i was not reading again the file list that was left over. Now I changed the code to re-read the content of the folder after each move and it&#39;s working. There is probably a faster way to do it, but it&#39;s fast enough for my purpose. Thanks all."}], "tags": [], "owner": {"reputation": 893, "user_id": 8049293, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e82446cce3563d9a1765ac958cdf215f?s=128&d=identicon&r=PG&f=1", "display_name": "Hirabayashi Taro", "link": "https://stackoverflow.com/users/8049293/hirabayashi-taro"}, "is_accepted": true, "score": 1, "last_activity_date": 1536176455, "creation_date": 1536176455, "answer_id": 52192364, "question_id": 52191950, "link": "https://stackoverflow.com/questions/52191950/cannot-move-all-files-to-new-folder/52192364#52192364", "title": "Cannot move all files to new folder", "body": "<p>In addition to Jean-Fran\u00e7ois Fabre's answers it could be useful to point out that your code picks a random number for every loop, so it is possible that you are trying to copy the same file twice. To avoid this you can instead random shuffle the file list and pick the first 20%.</p>\n\n<pre><code>random.shuffle(files)\nfor thisfile in files[:int(len(files)*0.2)]:\n    shutil.move(path_temp + thisfile, path_valid_break)\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 7808537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-MW9XsQwpqZg/AAAAAAAAAAI/AAAAAAAAwkk/dIeGpJGuLS4/photo.jpg?sz=128", "display_name": "Hugues", "link": "https://stackoverflow.com/users/7808537/hugues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 52192364, "answer_count": 2, "score": 1, "last_activity_date": 1536176455, "creation_date": 1536174651, "question_id": 52191950, "link": "https://stackoverflow.com/questions/52191950/cannot-move-all-files-to-new-folder", "title": "Cannot move all files to new folder", "body": "<p>I'm using Python 3 in Jupyter Notebook to move 20% of the files in a folder to another folder, selecting them randomly. My code:</p>\n\n<pre><code>path_temp ='/media/Snaps/temp/'\npath_valid_break ='/media/Snaps/valid/break/'\nfiles = os.listdir(path_temp)\nfor x in range(int(len(files)*0.2)):\n     index = random.randrange(0, len(files))\n     shutil.move(path_temp + files[index], path_valid_break)\n</code></pre>\n\n<p>I have 1249 files in the initial folder. The code works and starts to move the files but stops after an arbitrary (so it seems) number of files (35 or 5 or 23,...) with error:</p>\n\n<pre><code>~/anaconda3/envs/fastai/lib/python3.6/shutil.py in move(src, dst, copy_function)\n    540         real_dst = os.path.join(dst, _basename(src))\n    541         if os.path.exists(real_dst):\n--&gt; 542             raise Error(\"Destination path '%s' already exists\" % real_dst)\n    543     try:\n    544         os.rename(src, real_dst)\n\nError: Destination path '/media/Snaps/valid/break/snaps123211_-1.png' already exists\n</code></pre>\n\n<p>The target folder is empty when starting. The code does not always block on the same file, I cannot see a pattern.</p>\n"}, {"tags": ["python", "c++", "python-3.x", "c++11", "c++14"], "comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 2, "creation_date": 1536175283, "post_id": 52191948, "comment_id": 91333908, "body": "&quot;I&#39;d like to expose some of the private members of Scenario to Python scripts -- without using the explicit getter/setter functions:&quot; - <i>Why</i>? Why wouldn&#39;t you want to use the getter functions to get data from the object? That makes no sense to me."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 1, "creation_date": 1536176399, "post_id": 52191948, "comment_id": 91334401, "body": "@JesperJuhl: Presumably they&#39;re trying to take advantage of <code>PyMemberDef</code>&#39;s ability to generate accessors for simple values for them, rather than having to write custom functions for use with the somewhat more complicated/powerful <code>PyGetSetDef</code> approach to accessors. CPython is mostly C++-blind, so it can&#39;t use member functions directly, meaning they&#39;d have to write wrappers to call the member function."}, {"owner": {"reputation": 2357, "user_id": 1747834, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cea2583950ba41bcbbac8c8705ec1965?s=128&d=identicon&r=PG", "display_name": "Mikhail T.", "link": "https://stackoverflow.com/users/1747834/mikhail-t"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536179630, "post_id": 52191948, "comment_id": 91335752, "body": "Thank you, @ShadowRanger. That&#39;s correct - I want the speed and the simplicity of direct access to the fields of standard scalar types, yes."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1536184311, "post_id": 52191948, "comment_id": 91337450, "body": "@MikhailT.: I&#39;ll note, while it&#39;s obviously more complex to write the <code>GetSet</code> descriptors vs. the <code>Member</code>, speed-wise, they should be roughly equivalent; <code>Member</code>s are just a special case of descriptors where the accessor functions are written for you; they&#39;re not faster in general (except possibly by an accident of using shared hot code paths)."}], "answers": [{"comments": [{"owner": {"reputation": 2357, "user_id": 1747834, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cea2583950ba41bcbbac8c8705ec1965?s=128&d=identicon&r=PG", "display_name": "Mikhail T.", "link": "https://stackoverflow.com/users/1747834/mikhail-t"}, "edited": false, "score": 0, "creation_date": 1536194413, "post_id": 52194876, "comment_id": 91339578, "body": "Well, this would likely work, but the <a href=\"https://en.cppreference.com/w/cpp/language/friend\" rel=\"nofollow noreferrer\">C++ manual</a> claims, beginning with C++11 (which I use), types can already be &quot;friends&quot; -- not just functions/classes... Am I misreading it?"}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "reply_to_user": {"reputation": 2357, "user_id": 1747834, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cea2583950ba41bcbbac8c8705ec1965?s=128&d=identicon&r=PG", "display_name": "Mikhail T.", "link": "https://stackoverflow.com/users/1747834/mikhail-t"}, "edited": false, "score": 0, "creation_date": 1536198433, "post_id": 52194876, "comment_id": 91340340, "body": "@MikhailT.: &quot;<i>types can already be &quot;friends&quot; -- not just functions/classes...</i>&quot; Classes <i>are</i> types. And no, you can&#39;t declare <code>int</code> a friend. And my point is that friendship and access is about where the code the code that&#39;s accessing the member is. Code in a braced-init-list does not gain any additional rights to access members of a type. Code inside of a function gains the access rights of the function. Code inside a class definition gains the access rights of the class. Code in a braced-init-list has the access rights of the location where that code lives, nothing more."}, {"owner": {"reputation": 2357, "user_id": 1747834, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cea2583950ba41bcbbac8c8705ec1965?s=128&d=identicon&r=PG", "display_name": "Mikhail T.", "link": "https://stackoverflow.com/users/1747834/mikhail-t"}, "edited": false, "score": 0, "creation_date": 1536202482, "post_id": 52194876, "comment_id": 91341158, "body": "But then, what does the 4th section <a href=\"https://en.cppreference.com/w/cpp/language/friend\" rel=\"nofollow noreferrer\">here</a> mean? I thought, by declaring the <code>PyMemberDef</code> a friend, I&#39;m allowing exactly the usage I&#39;m trying for..."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "reply_to_user": {"reputation": 2357, "user_id": 1747834, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cea2583950ba41bcbbac8c8705ec1965?s=128&d=identicon&r=PG", "display_name": "Mikhail T.", "link": "https://stackoverflow.com/users/1747834/mikhail-t"}, "edited": false, "score": 1, "creation_date": 1536203459, "post_id": 52194876, "comment_id": 91341366, "body": "@MikhailT.: <code>friend T;</code> is merely shorthand for <code>friend class&#47;struct&#47;union T;</code>, as clearly stated in that section. My point is this: if <code>X</code> is a friend of <code>Y</code>, that means that the members and definitions <i>within <code>X</code></i> can access <code>Y</code>&#39;s privates. An initializer that is applied to an object of type <code>X</code> is not &quot;within <code>X</code>&quot; and therefore doesn&#39;t count."}], "tags": [], "owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": true, "score": 1, "last_activity_date": 1536193116, "creation_date": 1536193116, "answer_id": 52194876, "question_id": 52191948, "link": "https://stackoverflow.com/questions/52191948/how-to-get-offsetof-a-private-class-member/52194876#52194876", "title": "How to get offsetof() a private class-member?", "body": "<p>The fundamental problem with what you're doing is that the initializer for a (presumably) global variable is in the global context. The initializer is not a part of a class nor a component of a function, so it can't be the friend of anything.</p>\n\n<p>You should make the variable a function-<code>static</code> variable. And the function that contains the variable can be the friend of the class.</p>\n\n<pre><code>PyMemberDef *PyMemberInitializers()\n{\n    static PyMemberDef scenarioMembers[] {\n        {\n            (char *)\"a\",\n            T_DOUBLE, offsetof(PyScenario, scen._a),\n            \"The a\"\n        },\n        {\n            (char *)\"b\",\n            T_INT, offsetof(PyScenario, scen._b),\n            \"The b\"\n        },\n        NULL\n    };\n\n    return scenarioMembers;\n}\n</code></pre>\n"}], "owner": {"reputation": 2357, "user_id": 1747834, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cea2583950ba41bcbbac8c8705ec1965?s=128&d=identicon&r=PG", "display_name": "Mikhail T.", "link": "https://stackoverflow.com/users/1747834/mikhail-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 0, "accepted_answer_id": 52194876, "answer_count": 1, "score": 0, "last_activity_date": 1536193116, "creation_date": 1536174639, "question_id": 52191948, "link": "https://stackoverflow.com/questions/52191948/how-to-get-offsetof-a-private-class-member", "title": "How to get offsetof() a private class-member?", "body": "<p>I have a C++ class (<code>Scenario</code>) wrapped in a Python type:</p>\n\n<pre><code>struct PyScenario {\n    PyObject_HEAD\n    Scenario scen;\n};\n</code></pre>\n\n<p>I'd like to expose some of the private members of <code>Scenario</code> to Python scripts -- without using the explicit getter/setter functions:</p>\n\n<pre><code>static PyMemberDef scenarioMembers[] {\n    {\n        (char *)\"a\",\n        T_DOUBLE, offsetof(PyScenario, scen._a),\n        \"The a\"\n    },\n    {\n        (char *)\"b\",\n        T_INT, offsetof(PyScenario, scen._b),\n        \"The b\"\n    },\n    NULL\n};\n</code></pre>\n\n<p>Unfortunately, when I compile the above, I get an error like: <code>'double Scenario::_a' is private within this context</code>.</p>\n\n<p>I don't want to make the <code>_a</code> and <code>_b</code> public, so I tried declaring the <code>PyMemberDef</code> a <code>friend</code> of <code>Scenario</code>:</p>\n\n<pre><code>class Scenario {\n#ifdef PY_MAJOR_VERSION\n    friend   struct PyMemberDef;\n#endif\nprivate:\n    double   _a;\n    int      _b;\n    ....\n};\n</code></pre>\n\n<p>Unfortunately, that didn't help... What's the right way?</p>\n"}, {"tags": ["python", "bots", "discord", "discord.py"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 1, "creation_date": 1536179679, "post_id": 52191882, "comment_id": 91335771, "body": "You can also use the keyword-only syntax to capture the remainder of a message.  See <a href=\"https://discordpy.readthedocs.io/en/rewrite/ext/commands/commands.html#keyword-only-arguments\" rel=\"nofollow noreferrer\">Keyword-Only Arguments</a> from the documentation"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 10254907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eysYFRzrDdY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsH1Ngfz7_S29zBP1A7UIEpOwVuQ/mo/photo.jpg?sz=128", "display_name": "The S1", "link": "https://stackoverflow.com/users/10254907/the-s1"}, "edited": false, "score": 0, "creation_date": 1536249097, "post_id": 52192168, "comment_id": 91365164, "body": "When i use the event the rest of the commands dont work(or activate)."}, {"owner": {"reputation": 2050, "user_id": 9917504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFxmZ.png?s=128&g=1", "display_name": "Tristo", "link": "https://stackoverflow.com/users/9917504/tristo"}, "reply_to_user": {"reputation": 19, "user_id": 10254907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eysYFRzrDdY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsH1Ngfz7_S29zBP1A7UIEpOwVuQ/mo/photo.jpg?sz=128", "display_name": "The S1", "link": "https://stackoverflow.com/users/10254907/the-s1"}, "edited": false, "score": 0, "creation_date": 1536249315, "post_id": 52192168, "comment_id": 91365294, "body": "<a href=\"https://stackoverflow.com/a/49331419/9917504\">Here&#39;s the answer, you need to add an additional line at the end of on_message()</a>"}, {"owner": {"reputation": 19, "user_id": 10254907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eysYFRzrDdY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsH1Ngfz7_S29zBP1A7UIEpOwVuQ/mo/photo.jpg?sz=128", "display_name": "The S1", "link": "https://stackoverflow.com/users/10254907/the-s1"}, "edited": false, "score": 0, "creation_date": 1536323455, "post_id": 52192168, "comment_id": 91393906, "body": "One last question. Can i treat the message.content as a normal string? As an Example can i write if &quot;asdf&quot; in message.content?"}, {"owner": {"reputation": 2050, "user_id": 9917504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFxmZ.png?s=128&g=1", "display_name": "Tristo", "link": "https://stackoverflow.com/users/9917504/tristo"}, "reply_to_user": {"reputation": 19, "user_id": 10254907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eysYFRzrDdY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsH1Ngfz7_S29zBP1A7UIEpOwVuQ/mo/photo.jpg?sz=128", "display_name": "The S1", "link": "https://stackoverflow.com/users/10254907/the-s1"}, "edited": false, "score": 0, "creation_date": 1536323531, "post_id": 52192168, "comment_id": 91393954, "body": "Yes, <code>content</code> returns a <a href=\"https://discordpy.readthedocs.io/en/latest/api.html#discord.Message.content\" rel=\"nofollow noreferrer\">normal string</a>"}, {"owner": {"reputation": 19, "user_id": 10254907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eysYFRzrDdY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsH1Ngfz7_S29zBP1A7UIEpOwVuQ/mo/photo.jpg?sz=128", "display_name": "The S1", "link": "https://stackoverflow.com/users/10254907/the-s1"}, "edited": false, "score": 0, "creation_date": 1536326925, "post_id": 52192168, "comment_id": 91396142, "body": "In &quot;await bot.send_message(message.channel,&quot;Hello&quot;)&quot; what do you have to replace message.channel with?"}, {"owner": {"reputation": 2050, "user_id": 9917504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFxmZ.png?s=128&g=1", "display_name": "Tristo", "link": "https://stackoverflow.com/users/9917504/tristo"}, "reply_to_user": {"reputation": 19, "user_id": 10254907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eysYFRzrDdY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsH1Ngfz7_S29zBP1A7UIEpOwVuQ/mo/photo.jpg?sz=128", "display_name": "The S1", "link": "https://stackoverflow.com/users/10254907/the-s1"}, "edited": false, "score": 0, "creation_date": 1536327398, "post_id": 52192168, "comment_id": 91396470, "body": "If it&#39;s inside the event you don&#39;t have to replace it with anything since bot passes the message argument to the function and you can just take the <code>.channel</code> from it. <a href=\"https://discordpy.readthedocs.io/ja/latest/api.html#discord.on_message\" rel=\"nofollow noreferrer\">Check out the documentation</a>"}], "tags": [], "owner": {"reputation": 2050, "user_id": 9917504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFxmZ.png?s=128&g=1", "display_name": "Tristo", "link": "https://stackoverflow.com/users/9917504/tristo"}, "is_accepted": true, "score": 0, "last_activity_date": 1536176403, "last_edit_date": 1536176403, "creation_date": 1536175634, "answer_id": 52192168, "question_id": 52191882, "link": "https://stackoverflow.com/questions/52191882/pass-someones-comment-into-a-bots-function-discord/52192168#52192168", "title": "Pass someones comment into a bots function (Discord", "body": "<p>Yes, you can do</p>\n\n<pre><code>@bot.event\nasync def on_message(message):\n  if message.content == \"Hi\":\n    await bot.send_message(message.channel,\"Hello\")\n</code></pre>\n\n<p>This way you use an event instead of a command so when you write \"Hi\" into the chat  the bot will catch it and run the method</p>\n\n<p>If you want to pass something to the command function you can do so just like you would with a normal method</p>\n\n<pre><code>@bot.command()\nasync def example(something):\n  print(something)\n</code></pre>\n\n<p>When you do <code>!example Hello There</code> the bot will print out <code>Hello</code> because from the strings it got as input (separated by whitespaces) it picked the first value and assigned it to your variable just like a normal program getting its input from the command line.</p>\n\n<p>To catch all elements you can use <code>*args</code></p>\n\n<pre><code>@bot.command()\nasync def example(*args):\n  print(args)\n</code></pre>\n\n<p>which will return a tuple of all the values you gave from the chat.\n<code>!example Hello There</code> will print out <code>('Hello', 'There')</code></p>\n"}], "owner": {"reputation": 19, "user_id": 10254907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eysYFRzrDdY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsH1Ngfz7_S29zBP1A7UIEpOwVuQ/mo/photo.jpg?sz=128", "display_name": "The S1", "link": "https://stackoverflow.com/users/10254907/the-s1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 52192168, "answer_count": 1, "score": 0, "last_activity_date": 1536178087, "creation_date": 1536174302, "last_edit_date": 1536178087, "question_id": 52191882, "link": "https://stackoverflow.com/questions/52191882/pass-someones-comment-into-a-bots-function-discord", "title": "Pass someones comment into a bots function (Discord", "body": "<p>Is it possible to pass a message to a bots function? Like this:</p>\n\n<pre><code>@bot.command(pass_context=True)\nasync def message(ctx, user.message):\n    if user.message == \"xyz\":\n        await bot.say(\"Hi\")\n</code></pre>\n\n<p>It would be good to pass the actual message and not a string with the same content.</p>\n"}, {"tags": ["python", "graph"], "comments": [{"owner": {"reputation": 3041, "user_id": 1809532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hbKKO.jpg?s=128&g=1", "display_name": "Myles Baker", "link": "https://stackoverflow.com/users/1809532/myles-baker"}, "edited": false, "score": 0, "creation_date": 1536174227, "post_id": 52191813, "comment_id": 91333409, "body": "Is there a reason you&#39;re writing your own graph traversal algorithm as-opposed to using a graph library like <a href=\"http://networkx.github.io/\" rel=\"nofollow noreferrer\">NetworkX</a> or <a href=\"http://igraph.org/\" rel=\"nofollow noreferrer\">igraph</a>?"}, {"owner": {"reputation": 3, "user_id": 10321875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfc1c0689928c19c1684f135d2869943?s=128&d=identicon&r=PG&f=1", "display_name": "tester_int", "link": "https://stackoverflow.com/users/10321875/tester-int"}, "reply_to_user": {"reputation": 3041, "user_id": 1809532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hbKKO.jpg?s=128&g=1", "display_name": "Myles Baker", "link": "https://stackoverflow.com/users/1809532/myles-baker"}, "edited": false, "score": 0, "creation_date": 1536174487, "post_id": 52191813, "comment_id": 91333534, "body": "Just practicing with python."}, {"owner": {"reputation": 3041, "user_id": 1809532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hbKKO.jpg?s=128&g=1", "display_name": "Myles Baker", "link": "https://stackoverflow.com/users/1809532/myles-baker"}, "edited": false, "score": 0, "creation_date": 1536175082, "post_id": 52191813, "comment_id": 91333815, "body": "Is this a homework problem?"}, {"owner": {"reputation": 10213, "user_id": 1359058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f191024999528a3a7375f8d7181e1fe6?s=128&d=identicon&r=PG", "display_name": "abc", "link": "https://stackoverflow.com/users/1359058/abc"}, "edited": false, "score": 0, "creation_date": 1536185083, "post_id": 52191813, "comment_id": 91337679, "body": "<code>but I&#39;m trying to find all paths in a graph without a start or end node</code>. Would not make more sense to look at all the paths that bring you to the final level?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10321875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfc1c0689928c19c1684f135d2869943?s=128&d=identicon&r=PG&f=1", "display_name": "tester_int", "link": "https://stackoverflow.com/users/10321875/tester-int"}, "edited": false, "score": 0, "creation_date": 1536175263, "post_id": 52192026, "comment_id": 91333897, "body": "I think my question is how do I modify the above algorithm such that the end node is not needed?"}, {"owner": {"reputation": 518, "user_id": 8910983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e01f9fc098503ba4ccdecfedb1822?s=128&d=identicon&r=PG", "display_name": "not_a_bot_no_really_82353", "link": "https://stackoverflow.com/users/8910983/not-a-bot-no-really-82353"}, "reply_to_user": {"reputation": 3, "user_id": 10321875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfc1c0689928c19c1684f135d2869943?s=128&d=identicon&r=PG&f=1", "display_name": "tester_int", "link": "https://stackoverflow.com/users/10321875/tester-int"}, "edited": false, "score": 0, "creation_date": 1536175554, "post_id": 52192026, "comment_id": 91334041, "body": "Basically you use the wrong algorithm. This algorithm  only makes sure that there is a way from start to end."}], "tags": [], "owner": {"reputation": 518, "user_id": 8910983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e01f9fc098503ba4ccdecfedb1822?s=128&d=identicon&r=PG", "display_name": "not_a_bot_no_really_82353", "link": "https://stackoverflow.com/users/8910983/not-a-bot-no-really-82353"}, "is_accepted": true, "score": 0, "last_activity_date": 1536175541, "last_edit_date": 1536175541, "creation_date": 1536175023, "answer_id": 52192026, "question_id": 52191813, "link": "https://stackoverflow.com/questions/52191813/find-all-paths-in-graph-without-start-or-end-node/52192026#52192026", "title": "find all paths in graph without start or end node", "body": "<p>Okay, two problems.\nFirst you are trying to built a recursive algorithm but you still use a for loop. That is confusing, you can do this without the for loop. It is not wrong to use a loop in a recursive algorithm but if you change your data structure you do not need to.</p>\n\n<p>Second thing is that your dictionary is wrong. I assume that every key of the dictionary is the staring node and every value is a possible end node. This is how your algorithm currently works. In that case the end node for your start <code>A1</code> is not given. Therefore you get the None output.</p>\n\n<p>The biggest problem is that you use the wrong algorithm. This algorithm finds a way from your start to your end node. But you want to ensure that every node between your start and end node is at least once visited. So you can either change the algorithm (which would be easy) or the data structure (which will lead to a lot of variations). </p>\n"}], "owner": {"reputation": 3, "user_id": 10321875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfc1c0689928c19c1684f135d2869943?s=128&d=identicon&r=PG&f=1", "display_name": "tester_int", "link": "https://stackoverflow.com/users/10321875/tester-int"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 52192026, "answer_count": 1, "score": 0, "last_activity_date": 1536176176, "creation_date": 1536173972, "question_id": 52191813, "link": "https://stackoverflow.com/questions/52191813/find-all-paths-in-graph-without-start-or-end-node", "title": "find all paths in graph without start or end node", "body": "<p>I'm playing a game in which to proceed to the next level, we must defeat each level before it. Each level corresponds to a certain letter. </p>\n\n<p>I've represented this as a graph traversal problem, but I'm trying to find all paths in a graph without a start or end node.</p>\n\n<p>My graph is represented as a dictionary, with the key being strings and the values being a list of strings.</p>\n\n<pre><code>{\n'A2': ['A1', 'B'], \n'A1': [], \n'B': [], \n'C': ['A2'],\n }\n</code></pre>\n\n<p>To go to level A2, we must complete A1 and B.</p>\n\n<p>For example, an example path would be A1, B, A2, C. \nAnother path could be B, A1, A2, C. </p>\n\n<p>Implementations of depth first search or breadth first search require a start node. I'm thinking a good start node would be any key whose values are empty: in this case, A1 and B, but I'm uncertain how to implement dfs or bfs with two start nodes. </p>\n\n<p>I've been working with tweaking this implementation of finding paths, but this only works with a start level and an end level.</p>\n\n<pre><code>def find_path(graph, start, end, path=[]):\n        path = path + [start]\n        if start == end:\n            return path\n        if start not in graph:\n            return None\n        for node in graph[start]:\n            if node not in path:\n                newpath = find_path(graph, node, end, path)\n                if newpath: return newpath\n        return None\n\nprint(find_path(course_dict, 'A1', 'PC'))\n</code></pre>\n\n<p>but I'm getting None for my answer.</p>\n"}, {"tags": ["python", "python-3.x", "subprocess"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1536174068, "post_id": 52191797, "comment_id": 91333360, "body": "<code>subprocess.call(file)</code> will raise an exception if the executable could not start. It avoids to start the executable in the background like popen does. But it blocks the calls. Maybe Popen with a timeout + kill?"}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 2, "creation_date": 1536174757, "post_id": 52191797, "comment_id": 91333667, "body": "What operating system is this? That might make a difference. The mention of antivirus makes me think this might be a Windows system, where executables often don&#39;t behave nicely as subprocesses."}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 1, "creation_date": 1536174843, "post_id": 52191797, "comment_id": 91333703, "body": "Also: which Python version specifically? On 3.5 or newer, you should probably be using <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess.run\" rel=\"nofollow noreferrer\"><code>subprocess.run()</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1536174753, "post_id": 52191924, "comment_id": 91333661, "body": "<code>print(Exception)</code> doesn&#39;t make sense: that&#39;s will just print <code>&lt;class &#39;Exception&#39;&gt;</code>. You need to catch the actual exception object if you want to do something with it like printing it."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1536216210, "post_id": 52191924, "comment_id": 91345121, "body": "You didn&#39;t fix it in both places"}], "tags": [], "owner": {"reputation": 647, "user_id": 8026147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/54MIQ.jpg?s=128&g=1", "display_name": "Nikhil Fadnis", "link": "https://stackoverflow.com/users/8026147/nikhil-fadnis"}, "is_accepted": false, "score": 0, "last_activity_date": 1536216432, "last_edit_date": 1536216432, "creation_date": 1536174524, "answer_id": 52191924, "question_id": 52191797, "link": "https://stackoverflow.com/questions/52191797/how-do-you-check-to-see-if-a-file-ran-with-popen-successfully-executed/52191924#52191924", "title": "How do you check to see if a file ran with Popen successfully executed?", "body": "<p>Basically, Try will execute always in the loop and Except only when there is a exception. Now that we need to see the output we can print the exception </p>\n\n<pre><code>except Exception as e:\n        print(e)\n</code></pre>\n\n<p>Using a <code>continue</code> will allow you to execute the rest of the loop. It would look like this : (Bad coding practices ahead)</p>\n\n<pre><code>except Exception as e:\n        print(e)\n        continue;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1536212279, "post_id": 52192037, "comment_id": 91343523, "body": "Probably also include the filename in the printed message"}, {"owner": {"reputation": 636, "user_id": 5863811, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ded63034a3e2a24bd84bdba9c95a6fb2?s=128&d=identicon&r=PG&f=1", "display_name": "Teoman Y&#252;ksel", "link": "https://stackoverflow.com/users/5863811/teoman-y%c3%bcksel"}, "reply_to_user": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1536215123, "post_id": 52192037, "comment_id": 91344613, "body": "@tripleee That is a good idea, but since python will be printing the file name in the <code>e</code> (the error), is it necessary or am I missing a point?"}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1536215857, "post_id": 52192037, "comment_id": 91344963, "body": "Depends entirely on the exception. I would not depend on the file name being visible in <code>e</code>."}, {"owner": {"reputation": 636, "user_id": 5863811, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ded63034a3e2a24bd84bdba9c95a6fb2?s=128&d=identicon&r=PG&f=1", "display_name": "Teoman Y&#252;ksel", "link": "https://stackoverflow.com/users/5863811/teoman-y%c3%bcksel"}, "reply_to_user": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1536215972, "post_id": 52192037, "comment_id": 91345009, "body": "@tripleee I see, it is possible to there is being an exception that does not have the file name in it. Thanks for correcting."}], "tags": [], "owner": {"reputation": 636, "user_id": 5863811, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ded63034a3e2a24bd84bdba9c95a6fb2?s=128&d=identicon&r=PG&f=1", "display_name": "Teoman Y&#252;ksel", "link": "https://stackoverflow.com/users/5863811/teoman-y%c3%bcksel"}, "is_accepted": false, "score": 1, "last_activity_date": 1536215995, "last_edit_date": 1536215995, "creation_date": 1536175068, "answer_id": 52192037, "question_id": 52191797, "link": "https://stackoverflow.com/questions/52191797/how-do-you-check-to-see-if-a-file-ran-with-popen-successfully-executed/52192037#52192037", "title": "How do you check to see if a file ran with Popen successfully executed?", "body": "<p>Exceptions are used to keep the program running even though an error occurred.</p>\n\n<pre><code>for file in glob.glob('*.exe'):\n    try:\n        subprocess.Popen(file)\n    except Exception as e:\n        print(file,' did not run properly.')\n        print(e)\n        continue\n</code></pre>\n\n<p>This will alert the user that the '*.exe' did not run properly while keeping your code running.</p>\n"}], "owner": {"reputation": 21, "user_id": 10321071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mdf5S.png?s=128&g=1", "display_name": "Kalazakan", "link": "https://stackoverflow.com/users/10321071/kalazakan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1536216432, "creation_date": 1536173830, "question_id": 52191797, "link": "https://stackoverflow.com/questions/52191797/how-do-you-check-to-see-if-a-file-ran-with-popen-successfully-executed", "title": "How do you check to see if a file ran with Popen successfully executed?", "body": "<p>I'm trying to make a script that detects whether an executable ran using Popen was able to successfully run or not (maybe if it got blocked by an antivirus or the program itself is broken). Maybe by checking whether the file is memory or not? I'm not quite sure what's the best method for detecting the file in this case and if you have a better suggestion, then by all means don't hesitate to share it.</p>\n\n<p>This is my code:</p>\n\n<p></p>\n\n<pre><code>for file in glob.glob('*.exe'):\n    try:\n        subprocess.Popen(file)\n    except Exception:\n        print('okay')\n</code></pre>\n\n<p>I'm trying to figure out what to put in the last \"except\" part to make this work how I want it to.</p>\n"}, {"tags": ["python", "celery", "scheduling", "round-robin"], "owner": {"reputation": 135, "user_id": 666730, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/9047e7dd6f81a4005b9816bcd71a95fd?s=128&d=identicon&r=PG", "display_name": "Arjun", "link": "https://stackoverflow.com/users/666730/arjun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 273, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1536174373, "creation_date": 1536173827, "last_edit_date": 1536174373, "question_id": 52191796, "link": "https://stackoverflow.com/questions/52191796/pick-the-tasks-in-round-robin-fashion-among-multiple-celery-queues", "title": "Pick the tasks in round robin fashion among multiple celery queues", "body": "<p>I would like to setup multiple queues in celery. This is easy but I want the tasks in these queues to be picked up in a round robin fashion. Let me explain that with an example. Say there are 2 queues - Q1 and Q2. Say Q1 has tasks T1a, T1b, T1c and Q2 has tasks T2a, T2b, T2c. Say there are 10 celery workers - W1, W2,...W10. \nI would like to know the answers to two questions:</p>\n\n<ol>\n<li>In which order do these tasks get delivered to these 10 workers?</li>\n<li>Is there an option to make celery pick the tasks in round robin fashion among the queues? Say celery picks task T1a from Q1 and assigns it to worker W1. After this, I would like celery to pick task T2a from Q2 and assign to a worker. And then I would like T1b to be picked from Q1 and so on. Is this possible with celery? I plan to use redis as the broker and backend but I am open to other options to achieve the above.</li>\n</ol>\n"}, {"tags": ["python", "matplotlib", "plot", "graph"], "comments": [{"owner": {"reputation": 640, "user_id": 3793674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a5746c9da4b2293984258875ce00e1?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisD", "link": "https://stackoverflow.com/users/3793674/chrisd"}, "edited": false, "score": 0, "creation_date": 1536174522, "post_id": 52191695, "comment_id": 91333550, "body": "<a href=\"https://stackoverflow.com/questions/22540449/how-can-i-rotate-a-matplotlib-plot-through-90-degrees\">This</a> might be helpful."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1536174770, "post_id": 52191695, "comment_id": 91333674, "body": "It looks like it would be as easy as just setting a transform to the axes, but it is unfortunately not. The transform chain is a bit more complicated and due to the independent x and y scales cannot simply be rotated. There is a relatively easy method shown in the <a href=\"https://matplotlib.org/gallery/axisartist/demo_floating_axes.html\" rel=\"nofollow noreferrer\">Floating Axes Demo</a>, which uses a <code>mpl_toolkits.axisartist</code> helper function to achieve this."}, {"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1536176682, "post_id": 52191695, "comment_id": 91334519, "body": "Can you show some desired output from Illustrator?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1536180999, "post_id": 52191695, "comment_id": 91336296, "body": "Due to the edit this does not look much like a question any more. Are you sure that the &quot;edit&quot; should not actually be an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 4686165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0cea06e1d9d1f17de60af345a74b2a?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4686165/alex"}, "is_accepted": true, "score": 3, "last_activity_date": 1536242085, "creation_date": 1536242085, "answer_id": 52205722, "question_id": 52191695, "link": "https://stackoverflow.com/questions/52191695/rotate-transformation-on-matplotlib-axis-in-subplot/52205722#52205722", "title": "Rotate transformation on matplotlib axis in subplot", "body": "<p>The following code achieves what I originally wanted, <em>except</em> I am looking for a way to translate the top-right figure to be closer to the scatter plot in the bottom-left. This is a smaller problem though, so I may post it as a new question.</p>\n\n<pre><code>from matplotlib.transforms import Affine2D\nimport mpl_toolkits.axisartist.floating_axes as floating_axes\nimport matplotlib.pyplot as plt\n\ndef setup_axes(fig, rect, rotation, axisScale, axisLimits, doShift):\n    tr_rot = Affine2D().scale(axisScale[0], axisScale[1]).rotate_deg(rotation)\n\n    # This seems to do nothing\n    if doShift:\n        tr_trn = Affine2D().translate(-90,-5)\n    else:\n        tr_trn = Affine2D().translate(0,0)\n\n    tr = tr_rot + tr_trn\n\n    grid_helper = floating_axes.GridHelperCurveLinear(tr, extremes=axisLimits)\n\n    ax = floating_axes.FloatingSubplot(fig, rect, grid_helper=grid_helper)\n    fig.add_subplot(ax)\n    aux_ax = ax.get_aux_axes(tr)\n\n    return ax, aux_ax\n\nfig  = plt.figure(1, figsize=(8, 8))\naxes = []\naxisOrientation = [0, 0, 270, -45]\naxisScale = [[1,1],[6,1],[6,1],[6,1]]\naxisPosition = [223,221,224,222]\naxisLimits = [(-0.5, 4.5, -0.5, 4.5),\n              (-0.5, 4.5, 0, 12),\n              (-0.5, 4.5, 0, 12),\n              (-3.5, 3.5, 0, 12)]\ndoShift = [False, False, False, True]\n\nlabel_axes = []\nfor i in range(0, len(axisOrientation)):\n    ax, aux_ax = setup_axes(fig, axisPosition[i], axisOrientation[i], \n                            axisScale[i], axisLimits[i], doShift[i])\n    axes.append(aux_ax)\n    label_axes.append(ax)\n\nnumPoints = 100\nx = []\ny = []\nfor i in range(0,numPoints):\n    x.append(np.random.rand() + i/100.0)\n    y.append(np.random.rand() + i/100.0 + np.mod(i,2)*2)\n\naxes[0].plot(x,y,ls='none',marker='x')\nlabel_axes[0].axis[\"bottom\"].label.set_text('Variable 1')\nlabel_axes[0].axis[\"left\"].label.set_text('Variable 2')\n\nb = np.linspace(-0.5,4.5,50)\naxes[1].hist(x, bins = b)\naxes[2].hist(y, bins = b)\nb = np.linspace(-3.5,3.5,50)\naxes[3].hist(np.array(x)-np.array(y), bins=b)\n\nfor i in range(1,len(label_axes)):\n    for axisLoc in ['top','left','right']:\n        label_axes[i].axis[axisLoc].set_visible(False)\n    label_axes[i].axis['bottom'].toggle(ticklabels=False)    \n\nfig.subplots_adjust(wspace=-0.30, hspace=-0.30, left=0.00, right=0.99, top=0.99, bottom=0.0)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/YXrr3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YXrr3.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 89, "user_id": 4686165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0cea06e1d9d1f17de60af345a74b2a?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4686165/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2229, "favorite_count": 1, "accepted_answer_id": 52205722, "answer_count": 1, "score": 0, "last_activity_date": 1536242085, "creation_date": 1536173374, "last_edit_date": 1536180037, "question_id": 52191695, "link": "https://stackoverflow.com/questions/52191695/rotate-transformation-on-matplotlib-axis-in-subplot", "title": "Rotate transformation on matplotlib axis in subplot", "body": "<p>I am trying to create a four-panel figure where the bottom-left panel contains a scatter plot, and the other three panels contain histograms. The top-left will be a standard histogram across the x-dimension of the scatter, the bottom-right will be a 90\u00b0 rotated histogram for the y-dimension. Both of these are easy to do in matplotlib.</p>\n\n<p>I am running into problems with the third histogram, which is to be a 45\u00b0 rotated plot in the top-right of the figure giving the distribution of the differences between the x and y points. I have made such figures before by manually rotating and rescaling the axes in Illustrator, but it seems like matplotlib <em>should</em> be able to produce figures that are already rotated using the transformation methods on the subplot axes.</p>\n\n<p>I thought something like the following might work:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom matplotlib.transforms import Affine2D\n\nfig, ax = plt.subplots(nrows=2, ncols=2, squeeze=True, sharex=False, \n                       sharey=False, figsize=(8,8))\nax[0,1].text(0.5,0.5,'I should be rotated',ha='center',va='center')\nt = ax[0,1].get_transform()\nax[0,1].set_transform(t.transform(Affine2D().rotate_deg(45)))\n\nplt.show()\n</code></pre>\n\n<p>Here I am attempting to get the transform from the axis, modify it, and then replace it back into the axis object. This code has no effect however. Any help would be greatly appreciated.</p>\n\n<p><strong>Edited based on suggestion from ImportanceOfBeingErnest in comments:</strong></p>\n\n<p>I have taken a look at the Floating Axes demo, and now have this:</p>\n\n<pre><code>from matplotlib.transforms import Affine2D\nimport mpl_toolkits.axisartist.floating_axes as floating_axes\nimport matplotlib.pyplot as plt\n\ndef setup_axes(fig, rect, rotation, axisScale):\n    tr = Affine2D().scale(axisScale[0], axisScale[1]).rotate_deg(rotation)\n\n    grid_helper = floating_axes.GridHelperCurveLinear(tr, extremes=(-0.5, 3.5, 0, 4))\n\n    ax = floating_axes.FloatingSubplot(fig, rect, grid_helper=grid_helper)\n    fig.add_subplot(ax)\n    aux_ax = ax.get_aux_axes(tr)\n\n    return ax, aux_ax\n\nfig  = plt.figure(1, figsize=(8, 8))\naxes = []\naxisOrientation = [0, 0, 270, -45]\naxisScale = [[1,1],[2,1],[2,1],[2,1]]\naxisPosition = [223,221,224,222]\n\nfor i in range(0, len(axisOrientation)):\n    ax, aux_ax = setup_axes(fig, axisPosition[i], axisOrientation[i], axisScale[i])\n    axes.append(aux_ax)\nfig.subplots_adjust(wspace=-0.2, hspace=-0.2, left=0.00, right=0.99, top=0.99, bottom=0.0)\nplt.show()\n</code></pre>\n\n<p>This has me closer to what I want:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WrCPA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WrCPA.png\" alt=\"Demonstration of plot\"></a></p>\n\n<p>I will take a shot at adding in the scatter plot and histograms to these axes.</p>\n"}]