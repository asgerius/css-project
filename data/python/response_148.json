[{"tags": ["python", "pandas", "dataframe", "indexing"], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 6879638, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b60b5e015dcc1e04146ac3b076174abb?s=128&d=identicon&r=PG&f=1", "display_name": "Dick Thompson", "link": "https://stackoverflow.com/users/6879638/dick-thompson"}, "edited": false, "score": 0, "creation_date": 1510248187, "post_id": 47200721, "comment_id": 81364996, "body": "thanks so much! that&#39;s exactly what I needed, didn&#39;t know about the stack function. ffill is what I need to forward fill, the one thing is that I don&#39;t want to include assets that weren&#39;t available at all in the beginning start date (for example, an IPO or something). So this method still shows NAs for assets that couldn&#39;t be forward filled, which means there&#39;s no initial backward value to fill. That means if I don&#39;t want to see assets until they are first traded, I should delete rows with NAs- correct? Thanks again!!"}, {"owner": {"reputation": 21, "user_id": 8912693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mr8zg.jpg?s=128&g=1", "display_name": "Roni Chikhmous", "link": "https://stackoverflow.com/users/8912693/roni-chikhmous"}, "reply_to_user": {"reputation": 519, "user_id": 6879638, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b60b5e015dcc1e04146ac3b076174abb?s=128&d=identicon&r=PG&f=1", "display_name": "Dick Thompson", "link": "https://stackoverflow.com/users/6879638/dick-thompson"}, "edited": false, "score": 0, "creation_date": 1510255450, "post_id": 47200721, "comment_id": 81369053, "body": "Exactly. By this approach you will get a NaN for any date before first trade/IPO for a given asset. So you just need to drop these rows for example using <code>.dropna()</code> method."}], "tags": [], "owner": {"reputation": 21, "user_id": 8912693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mr8zg.jpg?s=128&g=1", "display_name": "Roni Chikhmous", "link": "https://stackoverflow.com/users/8912693/roni-chikhmous"}, "is_accepted": false, "score": 2, "last_activity_date": 1510227019, "creation_date": 1510227019, "answer_id": 47200721, "question_id": 47191732, "link": "https://stackoverflow.com/questions/47191732/inserting-rows-in-pandas-with-reindex-on-a-multiindex-dataframe/47200721#47200721", "title": "Inserting rows in Pandas with reindex on a MultiIndex DataFrame", "body": "<p>The first part of your question was cleverly answered <a href=\"https://stackoverflow.com/questions/17287933/filling-in-date-gaps-in-multiindex-pandas-dataframe\">here</a> by TomAugspurger.</p>\n\n<p>Basically you need to use a smart trick that consists of setting the Multiindex, unstacking your data frame, filling the missing values and stacking it again. Then you should convert filled missing values to NaNs again and use the <code>.fillna()</code> method implemented in pandas with <code>method='ffill'</code> in order to replace the NaNs with the last available value.</p>\n\n<p>First, let's generate the data we need:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndata =  [['2016-01-04 00:00:00.000', 1786, '3900', 'B17N9P6', 1],\n['2016-01-04 00:00:00.000', 2041, '1898', 'B1JNK84', 2],\n['2016-01-04 00:00:00.000', 2981, 'CBMG', 'B9F9PM1', 3],\n['2016-01-04 00:00:00.000', 3547, 'MWA', 'B15RZR4', 4],\n['2016-01-04 00:00:00.000', 3570, 'TPLM', 'B065Y40', 5],\n['2016-01-05 00:00:00.000', 3995, 'MHGC', 'B0YRYS2', 1],\n['2016-01-05 00:00:00.000', 4110, 'DSW', 'B0BV2V6', 2],\n['2016-01-05 00:00:00.000', 4874, 'NWE', 'B03PGL4', 3],\n['2016-01-05 00:00:00.000', 4982, 'BOFI', 'B0637D4', 4],\n['2016-01-05 00:00:00.000', 5082, 'ISCTR', 'B03MYS8', 5],\n['2016-01-05 00:00:00.000', 5083, 'KCHOL', 'B03MVJ8', 6]]\n\ncols  = ['tradeDate','assetId','ticker','Sedol','price']\n</code></pre>\n\n<p>Then to tackle the problem:    </p>\n\n<pre><code>df = pd.DataFrame.from_records(data, columns=cols)\n\n# I used `-1` to fill the empty values, but use whatever value\n# does not occur in the dataset\ndf = df.set_index(['tradeDate', 'assetId']).unstack().fillna(-1).stack()\n\n# Once you have the data frame stacked again, you need to\n# convert unknown values to np.nan again\ndf.replace(-1, np.nan, inplace=True)\n\n# Fill with latest value for given assetId\ndf = df.groupby(level=['assetId']).fillna(method='ffill')\n</code></pre>\n\n<p>Hope this answer covers your question, let us know otherwise.</p>\n"}], "owner": {"reputation": 519, "user_id": 6879638, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b60b5e015dcc1e04146ac3b076174abb?s=128&d=identicon&r=PG&f=1", "display_name": "Dick Thompson", "link": "https://stackoverflow.com/users/6879638/dick-thompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1510227019, "creation_date": 1510185298, "question_id": 47191732, "link": "https://stackoverflow.com/questions/47191732/inserting-rows-in-pandas-with-reindex-on-a-multiindex-dataframe", "title": "Inserting rows in Pandas with reindex on a MultiIndex DataFrame", "body": "<p>I have a large panel dataframe that includes multiple assets for multiple dates. The issue is that some assets don't have values every day, so I am looking to just have any blank values for the day be replaced by the last available value for that asset.</p>\n\n<p>For example:</p>\n\n<pre><code>                       tradeDate   assetId  ticker    Sedol      price\n0        2016-01-04 00:00:00.000      1786    3900  B17N9P6        1   \n1        2016-01-04 00:00:00.000      2041    1898  B1JNK84        2   \n2        2016-01-04 00:00:00.000      2981    CBMG  B9F9PM1        3   \n3        2016-01-04 00:00:00.000      3547     MWA  B15RZR4        4   \n4        2016-01-04 00:00:00.000      3570    TPLM  B065Y40        5   \n5        2016-01-05 00:00:00.000      3995    MHGC  B0YRYS2        1   \n6        2016-01-05 00:00:00.000      4110     DSW  B0BV2V6        2   \n7        2016-01-05 00:00:00.000      4874     NWE  B03PGL4        3   \n8        2016-01-05 00:00:00.000      4982    BOFI  B0637D4        4   \n9        2016-01-05 00:00:00.000      5082   ISCTR  B03MYS8        5   \n10       2016-01-05 00:00:00.000      5083   KCHOL  B03MVJ8        6\n</code></pre>\n\n<p>so what I need to do is index on tradeDate and assetIds, and then reindex so that it creates new rows for each tradedate so that there is always the same amount of assetIds. This will create rows with NaNs. I'm confused by this step because I'm not sure the syntax when using multiple indexes and when the columns tradeDate and assetId don't exactly match up. </p>\n\n<p>Finally, I'm going to have to replace the NaNs with the last available value. However, again I have to do it for both indexes for tradeDate and assetId. Appreciate the help on this   </p>\n"}, {"tags": ["python", "apache", "pandas", "parquet"], "comments": [{"owner": {"reputation": 1907, "user_id": 1278112, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e3d3976fda1b5e2cb21d4a357425063a?s=128&d=identicon&r=PG", "display_name": "Shihe Zhang", "link": "https://stackoverflow.com/users/1278112/shihe-zhang"}, "edited": false, "score": 0, "creation_date": 1510207066, "post_id": 47191675, "comment_id": 81338571, "body": "<a href=\"https://stackoverflow.com/a/17531025/1278112\">try opening the file in append mode</a>"}, {"owner": {"reputation": 2563, "user_id": 4695774, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bdc15d346c2f5b951bc99e0150c1a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj S.", "link": "https://stackoverflow.com/users/4695774/siraj-s"}, "reply_to_user": {"reputation": 1907, "user_id": 1278112, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e3d3976fda1b5e2cb21d4a357425063a?s=128&d=identicon&r=PG", "display_name": "Shihe Zhang", "link": "https://stackoverflow.com/users/1278112/shihe-zhang"}, "edited": false, "score": 0, "creation_date": 1510251382, "post_id": 47191675, "comment_id": 81366816, "body": "this does not work (makes not difference from the previous situation)"}, {"owner": {"reputation": 2563, "user_id": 4695774, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bdc15d346c2f5b951bc99e0150c1a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj S.", "link": "https://stackoverflow.com/users/4695774/siraj-s"}, "reply_to_user": {"reputation": 1907, "user_id": 1278112, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e3d3976fda1b5e2cb21d4a357425063a?s=128&d=identicon&r=PG", "display_name": "Shihe Zhang", "link": "https://stackoverflow.com/users/1278112/shihe-zhang"}, "edited": false, "score": 0, "creation_date": 1510251588, "post_id": 47191675, "comment_id": 81366919, "body": "from this link &quot;<a href=\"https://stackoverflow.com/questions/39234391/how-to-append-data-to-an-existing-parquet-file\" title=\"how to append data to an existing parquet file\">stackoverflow.com/questions/39234391/&hellip;</a>&quot; it looks like append is not supported in parquet client API"}, {"owner": {"reputation": 1907, "user_id": 1278112, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e3d3976fda1b5e2cb21d4a357425063a?s=128&d=identicon&r=PG", "display_name": "Shihe Zhang", "link": "https://stackoverflow.com/users/1278112/shihe-zhang"}, "edited": false, "score": 0, "creation_date": 1510275841, "post_id": 47191675, "comment_id": 81377788, "body": "<a href=\"https://pandas.pydata.org/pandas-docs/version/0.21/generated/pandas.DataFrame.to_parquet.html#pandas-dataframe-to-parquet\" rel=\"nofollow noreferrer\">In the doc</a> there is no <code>append</code> mode for <code>to_parquet()</code> API.If you want to append to a file, the <code>append</code> mode is for the file.That&#39;s what I try to express earlier."}], "answers": [{"tags": [], "owner": {"reputation": 887, "user_id": 2485985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f82a0c542d40a48a1f8ab1a161bcd5f2?s=128&d=identicon&r=PG", "display_name": "ben26941", "link": "https://stackoverflow.com/users/2485985/ben26941"}, "is_accepted": false, "score": 2, "last_activity_date": 1520683379, "creation_date": 1520683379, "answer_id": 49208831, "question_id": 47191675, "link": "https://stackoverflow.com/questions/47191675/pandas-write-dataframe-to-parquet-format-with-append/49208831#49208831", "title": "pandas write dataframe to parquet format with append", "body": "<p>There is no append mode in <code>pandas.to_parquet()</code>. What you can do instead is read the existing file, change it, and write back to it overwriting it.</p>\n"}, {"comments": [{"owner": {"reputation": 915, "user_id": 7599215, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-Na34R2S1q88/AAAAAAAAAAI/AAAAAAAACrQ/Hfl96j3LMX4/photo.jpg?sz=128", "display_name": "banderlog013", "link": "https://stackoverflow.com/users/7599215/banderlog013"}, "edited": false, "score": 0, "creation_date": 1616581278, "post_id": 58121762, "comment_id": 118045042, "body": "it will create directory with few parquet files, as pyarrow dataset"}], "tags": [], "owner": {"reputation": 89, "user_id": 1073985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b1b6b21555e1f80f5dd42401c9a0194?s=128&d=identicon&r=PG", "display_name": "Victor Faro", "link": "https://stackoverflow.com/users/1073985/victor-faro"}, "is_accepted": false, "score": 1, "last_activity_date": 1569584108, "last_edit_date": 1569584108, "creation_date": 1569518186, "answer_id": 58121762, "question_id": 47191675, "link": "https://stackoverflow.com/questions/47191675/pandas-write-dataframe-to-parquet-format-with-append/58121762#58121762", "title": "pandas write dataframe to parquet format with append", "body": "<p>To append, do this:</p>\n\n<pre><code>import pandas as pd \nimport pyarrow.parquet as pq\nimport pyarrow as pa\n\ndataframe = pd.read_csv('content.csv')\noutput = \"/Users/myTable.parquet\"\n\n# Create a parquet table from your dataframe\ntable = pa.Table.from_pandas(dataframe)\n\n# Write direct to your parquet file\npq.write_to_dataset(table , root_path=output)\n</code></pre>\n\n<p>This will automatically append into your table.</p>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 9486041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc5dfec0ac8b5d5fb39644c4a5a83db6?s=128&d=identicon&r=PG&f=1", "display_name": "ethereumbrella", "link": "https://stackoverflow.com/users/9486041/ethereumbrella"}, "edited": false, "score": 0, "creation_date": 1613075498, "post_id": 64814917, "comment_id": 116972070, "body": "Hey, thanks for this - it seems to create snappy.parquet files, Is there a way to create singular parquet files, or at least non-snappy files?"}, {"owner": {"reputation": 63, "user_id": 9486041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc5dfec0ac8b5d5fb39644c4a5a83db6?s=128&d=identicon&r=PG&f=1", "display_name": "ethereumbrella", "link": "https://stackoverflow.com/users/9486041/ethereumbrella"}, "edited": false, "score": 0, "creation_date": 1613079209, "post_id": 64814917, "comment_id": 116973475, "body": "Oop nevermind, it has an option for compression=None."}], "tags": [], "owner": {"reputation": 509, "user_id": 5621387, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh4.googleusercontent.com/-ZPA-1FF020Y/AAAAAAAAAAI/AAAAAAAAABU/OqH8Ys5s3Xo/photo.jpg?sz=128", "display_name": "Naveen Srikanth", "link": "https://stackoverflow.com/users/5621387/naveen-srikanth"}, "is_accepted": false, "score": 1, "last_activity_date": 1605239611, "last_edit_date": 1605239611, "creation_date": 1605236916, "answer_id": 64814917, "question_id": 47191675, "link": "https://stackoverflow.com/questions/47191675/pandas-write-dataframe-to-parquet-format-with-append/64814917#64814917", "title": "pandas write dataframe to parquet format with append", "body": "<p>I used aws wrangler library. It works like charm</p>\n<p><strong>Below are the reference docs</strong></p>\n<p><a href=\"https://aws-data-wrangler.readthedocs.io/en/latest/stubs/awswrangler.s3.to_parquet.html\" rel=\"nofollow noreferrer\">https://aws-data-wrangler.readthedocs.io/en/latest/stubs/awswrangler.s3.to_parquet.html</a></p>\n<p>I have read from kinesis stream and used kinesis-python library to consume the message and writing to s3 . processing logic of json I have not included as this post deals with problem unable to append data to s3. Executed in aws sagemaker jupyter</p>\n<p><strong>Below is the sample code I used:</strong></p>\n<pre><code>!pip install awswrangler\nimport awswrangler as wr\nimport pandas as pd\nevet_data=pd.DataFrame({'a': [a], 'b':[b],'c':[c],'d':[d],'e': [e],'f':[f],'g': [g]},columns=['a','b','c','d','e','f','g'])\n#print(evet_data)\ns3_path=&quot;s3://&lt;your bucker&gt;/table/temp/&lt;your folder name&gt;/e=&quot;+e+&quot;/f=&quot;+str(f)\ntry:\n    wr.s3.to_parquet(\n    df=evet_data,\n    path=s3_path,\n    dataset=True,\n    partition_cols=['e','f'],\n    mode=&quot;append&quot;,\n    database=&quot;wat_q4_stg&quot;,\n    table=&quot;raw_data_v3&quot;,\n    catalog_versioning=True  # Optional\n    )\n    print(&quot;write successful&quot;)       \nexcept Exception as e:\n    print(str(e))\n</code></pre>\n<p>Any clarifications ready to help. In few more posts I have read to read data and overwrite again. But as the data gets larger it will slow down the process. It is inefficient</p>\n"}], "owner": {"reputation": 2563, "user_id": 4695774, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bdc15d346c2f5b951bc99e0150c1a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj S.", "link": "https://stackoverflow.com/users/4695774/siraj-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8740, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1605239611, "creation_date": 1510184918, "question_id": 47191675, "link": "https://stackoverflow.com/questions/47191675/pandas-write-dataframe-to-parquet-format-with-append", "title": "pandas write dataframe to parquet format with append", "body": "<p>I am trying to write a <code>pandas dataframe</code> to <code>parquet</code> file format (introduced in most recent pandas version 0.21.0) in <code>append</code> mode. However, instead of appending to the existing file, the file is overwritten with new data. What am i missing?</p>\n\n<p>the write syntax is</p>\n\n<pre><code>df.to_parquet(path, mode='append')\n</code></pre>\n\n<p>the read syntax is </p>\n\n<pre><code>pd.read_parquet(path)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "web-scraping", "scrapy"], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 1418167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb88512fefbb3363a79e03a3d2eb22e?s=128&d=identicon&r=PG", "display_name": "Erin&#231; \u0130nci", "link": "https://stackoverflow.com/users/1418167/erin%c3%a7-%c4%b0nci"}, "is_accepted": false, "score": 0, "last_activity_date": 1510307281, "creation_date": 1510307281, "answer_id": 47219865, "question_id": 47191674, "link": "https://stackoverflow.com/questions/47191674/receiving-an-error-when-trying-to-run-scrapy-crawl/47219865#47219865", "title": "Receiving an error when trying to run &#39;scrapy crawl&#39;", "body": "<p>Seems like you are missing some packages for TLS, I would suggest to install cryptography and OpenSSL packages.</p>\n\n<pre><code>pip install cryptography\n</code></pre>\n\n<p>OpenSSL:</p>\n\n<ul>\n<li>Mac --> <code>brew install openssl</code></li>\n<li>Windows --> <a href=\"http://www.indyproject.org/Sockets/fpc/OpenSSLforWin64.en.aspx\" rel=\"nofollow noreferrer\">http://www.indyproject.org/Sockets/fpc/OpenSSLforWin64.en.aspx</a></li>\n<li>Linux --> <a href=\"https://wiki.openssl.org/index.php/Compilation_and_Installation\" rel=\"nofollow noreferrer\">https://wiki.openssl.org/index.php/Compilation_and_Installation</a></li>\n</ul>\n"}], "owner": {"reputation": 87, "user_id": 2914144, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f256ea508389a4649535d5d57a8f8d3?s=128&d=identicon&r=PG&f=1", "display_name": "user2914144", "link": "https://stackoverflow.com/users/2914144/user2914144"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556109646, "creation_date": 1510184911, "last_edit_date": 1556109646, "question_id": 47191674, "link": "https://stackoverflow.com/questions/47191674/receiving-an-error-when-trying-to-run-scrapy-crawl", "title": "Receiving an error when trying to run &#39;scrapy crawl&#39;", "body": "<p>After I run 'scrapy crawl word' I receive an error. I am trying to use Scrapy to scrape the fda website. I am following the tutorial online. Here is my code:</p>\n\n<pre><code>import scrapy\n\nclass WordSpider(scrapy.Spider):\n    name = \"word\"\n\ndef start_requests(self):\n    start_url = [\n        'https://www.fda.gov/Safety/Recalls/'\n    ]\n\ndef parse(self, response):\n    page = response.url\n    filename = 'www.fda-%s.html' % page\n    with open(filename, 'wb') as f:\n        f.write(response.body)\n</code></pre>\n\n<p>I've changed the code a little because I only need one url and the 'www' is important for the link to work.</p>\n\n<p>The error I am getting is:</p>\n\n<pre><code>:0: UserWarning: You do not have a working installation of the service_identity module: 'No module named cryptography.x509'.\n</code></pre>\n\n<p>I tried doing installing service_identity but I received the same error. Not sure if my code is incorrect or I am missing some package.</p>\n"}, {"tags": ["python", "asterisk"], "answers": [{"tags": [], "owner": {"reputation": 427, "user_id": 557216, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0928d20587770abe874814ea2d5cd23c?s=128&d=identicon&r=PG", "display_name": "brownian", "link": "https://stackoverflow.com/users/557216/brownian"}, "is_accepted": true, "score": 1, "last_activity_date": 1510297054, "last_edit_date": 1510297054, "creation_date": 1510238244, "answer_id": 47204551, "question_id": 47191662, "link": "https://stackoverflow.com/questions/47191662/asterisk-get-number-sip-to-dial-from-external-python-application/47204551#47204551", "title": "Asterisk, get number/SIP to dial from external python application", "body": "<p>Yes, it's possible like this:</p>\n\n<pre><code>exten =&gt; 1001,1,Set(LOCAL(numtodial)=${SHELL(${GETNUM_SCRIPT} ${extension} ${didNumber})})\nsame =&gt; n,Dial(${TECHNOLOGY}/${numtodial})\n</code></pre>\n\n<p>Here <code>GETNUM_SCRIPT</code> is a global variable because I like global variables for things like this (you can redefine it on-the-fly, without <code>dialplan reload</code>, or define it on per-peer basics).</p>\n\n<p>I would also suggest to split getting number and dialing into two lines --- possibly you'll want to perform some sanity checks.</p>\n"}], "owner": {"reputation": 1880, "user_id": 627307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3df9dbd89e2b09ac0d31294673175ae?s=128&d=identicon&r=PG", "display_name": "rodi", "link": "https://stackoverflow.com/users/627307/rodi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 0, "accepted_answer_id": 47204551, "answer_count": 1, "score": 0, "last_activity_date": 1510297054, "creation_date": 1510184837, "question_id": 47191662, "link": "https://stackoverflow.com/questions/47191662/asterisk-get-number-sip-to-dial-from-external-python-application", "title": "Asterisk, get number/SIP to dial from external python application", "body": "<p>I would like to dial a custom number fetched from my DB by a python script when a user calls. \nI need to pass a couple parameters like the extension or the number that is calling to python.\nIs it achievable in Asterisk?</p>\n\n<pre><code>exten =&gt; 1001, 1, Dial(cmd(\"python myScript.py {extension} {didNumber}\") \nsame =&gt; n, Hangup()\n</code></pre>\n\n<p>Edit I saw that there are a couple of Python libraries for asterisk, but it seems an overcomplicated way to just get a phone number (and I can't come up with an easy solution with those libraries easily) and it would require the python script to have much more knowledge of the asterisk system.</p>\n"}, {"tags": ["python", "python-2.7", "video-streaming", "vlc"], "comments": [{"owner": {"reputation": 1174, "user_id": 693052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19194cee31de16441f0f9b3bdc1a2f48?s=128&d=identicon&r=PG", "display_name": "Mike F", "link": "https://stackoverflow.com/users/693052/mike-f"}, "edited": false, "score": 0, "creation_date": 1510219194, "post_id": 47191626, "comment_id": 81344588, "body": "Possible duplicate/answer: <a href=\"https://stackoverflow.com/a/38772208/693052\">stackoverflow.com/a/38772208/693052</a> a bash script verifying if vlc&#39;s state is &#39;playing&#39; - maybe this points you in the right direction?"}, {"owner": {"reputation": 159, "user_id": 6618225, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c8ef2caf307327415deb918762b76b1a?s=128&d=identicon&r=PG&f=1", "display_name": "Kai", "link": "https://stackoverflow.com/users/6618225/kai"}, "reply_to_user": {"reputation": 1174, "user_id": 693052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19194cee31de16441f0f9b3bdc1a2f48?s=128&d=identicon&r=PG", "display_name": "Mike F", "link": "https://stackoverflow.com/users/693052/mike-f"}, "edited": false, "score": 0, "creation_date": 1510257256, "post_id": 47191626, "comment_id": 81370106, "body": "Well the question seems certainly similar, but I want to solve it in Python. Kind of in a way like I open a Website and it doesn&#39;t exist and gives me an HTTPError Exception. Unfortunately if I try to open an invalid livestream link, I get no Exception. The video player just does not open and no error message."}], "owner": {"reputation": 159, "user_id": 6618225, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c8ef2caf307327415deb918762b76b1a?s=128&d=identicon&r=PG&f=1", "display_name": "Kai", "link": "https://stackoverflow.com/users/6618225/kai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523065377, "creation_date": 1510184601, "last_edit_date": 1523065377, "question_id": 47191626, "link": "https://stackoverflow.com/questions/47191626/how-can-i-check-if-a-livestream-works-without-actually-opening-it", "title": "How can I check if a livestream works without actually opening it?", "body": "<p>So I have this basic working video player, that opens me a window and plays me the internet stream using this code:</p>\n\n<pre><code>import vlc\nInstance = vlc.Instance('--play-and-exit')\nplayer = Instance.media_player_new()\nMedia = Instance.media_new(\"http://url.to/whateverLivestream\")\nMedia.get_mrl()\n\nplayer.set_media(Media)\nplayer.play()\n</code></pre>\n\n<p>But I would like the script just to check if the livestream exists and WOULD be playing if I wanted to open it WITHOUT actually opening it.</p>\n\n<p>How can I do that?</p>\n\n<p>Thanks a lot!</p>\n\n<p>[Edit:]\nNow it's been 4 months and I still could not solve the problem. I would like to add to this thread, that I do not care whether this gets solved with the VLC plugin or any other one. ANY solution (python-based) is fine!</p>\n"}, {"tags": ["python", "sikuli", "sikuli-script"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7538065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a6a327467d3feda06bd72e5fcc6d9f?s=128&d=identicon&r=PG&f=1", "display_name": "WayneRoseberry", "link": "https://stackoverflow.com/users/7538065/wayneroseberry"}, "edited": false, "score": 0, "creation_date": 1510325793, "post_id": 47193780, "comment_id": 81401031, "body": "And likewise, calling window() with a number will return the nth window under the application. It doesn&#39;t seem Sikuli providers any kind of enumerator over the list of windows, so you are left with guessing how many there are and going until you get something that is not a window.  Problem is that not all the windows under the application are truly visible, and hence they have dimensions that fall outside the actual region of the application. The worst are ones that start at x=0, y=0, because they look identical to a window that is indeed anchored at 0,0"}], "tags": [], "owner": {"reputation": 6104, "user_id": 1119381, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/aab36e75e2a1b09199da99501429f49e?s=128&d=identicon&r=PG", "display_name": "Eugene S", "link": "https://stackoverflow.com/users/1119381/eugene-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1510200643, "creation_date": 1510200643, "answer_id": 47193780, "question_id": 47191586, "link": "https://stackoverflow.com/questions/47191586/how-to-get-entire-region-of-an-application-in-sikuli/47193780#47193780", "title": "How to get entire region of an application in Sikuli", "body": "<p>As you already found out yourself, <code>window()</code> method already returns a <code>Region</code> but in your case there are multiple windows that the application is generating.</p>\n\n<blockquote>\n  <p>Microsoft Windows operating environment identifies each form in an\n  application by assigning it a handle, or hWnd. The hWnd property is\n  used with Windows API calls.</p>\n</blockquote>\n\n<p>To my understanding, the reason you are not getting all regions is the way <code>window()</code> method is implemented in Sikuli. Internally, it calls a native <code>getHwnd(pid, winNum)</code> method but it's incorrectly assuming that a process has only a single HWND.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/aa979055(v=vs.71).aspx\" rel=\"nofollow noreferrer\">Reference 1</a></p>\n\n<p><a href=\"https://stackoverflow.com/a/2620573/1119381\">Reference 2</a></p>\n"}], "owner": {"reputation": 41, "user_id": 7538065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a6a327467d3feda06bd72e5fcc6d9f?s=128&d=identicon&r=PG&f=1", "display_name": "WayneRoseberry", "link": "https://stackoverflow.com/users/7538065/wayneroseberry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 694, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510200748, "creation_date": 1510184329, "last_edit_date": 1510200748, "question_id": 47191586, "link": "https://stackoverflow.com/questions/47191586/how-to-get-entire-region-of-an-application-in-sikuli", "title": "How to get entire region of an application in Sikuli", "body": "<p>How do you get the entire region for an application via Sikuli script? I am trying to get the entire window without having to find a specific screenshot image. I have the following code right now:</p>\n\n<pre><code>app = App(\"app.exe\")\napp.focus()\nappwindow=app.window()\npopup(\"[\"+str(appwindow.getX())+\",\"+str(appwindow.getY())+\",\"+str(appwindow.getW())+\",\"+str(appwindow.getH())+\"]\"\n</code></pre>\n\n<p>The above displays \"[0,0,1,1]\" This is not the actual region I need.</p>\n\n<p>The application in question has multiple windows, several of which have an X and Y coordinate of 0,0 - several of which do not. I just want the entire visual surface of the application. How do I get that?</p>\n"}, {"tags": ["python", "ffmpeg", "rtsp"], "owner": {"reputation": 634, "user_id": 960479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e59be71b4a3e74b90d96bef243534a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/960479/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1313, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510250550, "creation_date": 1510184058, "last_edit_date": 1510250550, "question_id": 47191540, "link": "https://stackoverflow.com/questions/47191540/how-to-record-rtsp-stream-to-file-in-python", "title": "How to record rtsp stream to file in python", "body": "<p>I need to record a rtsp video stream to file in python, I want to stop the recording at anytime depending on the situation.  I used subprocess to interact with ffmpeg command line, but it breaks sometimes, the video keep recording, resulting in a huge file.</p>\n\n<p>Is there any good way to dump a rtsp video stream to file, with the capability that you can stop the recording anytime after you start recording?</p>\n\n<p>Any help is much appreciated.</p>\n\n<p>ADDED:</p>\n\n<p>Preferably the similar API as the PiCamera like so:</p>\n\n<pre><code>import picamera\nfrom time import sleep\n\ncamera = picamera.PiCamera()\n\ncamera.start_recording('video.h264')\nsleep(5)\ncamera.stop_recording()\n</code></pre>\n\n<p>But the only difference is that the source of video is the IP camera.</p>\n"}, {"tags": ["python", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 1798884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd8bb5ee19adfce37f26703103dd8d13?s=128&d=identicon&r=PG", "display_name": "dev", "link": "https://stackoverflow.com/users/1798884/dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1510199313, "creation_date": 1510199313, "answer_id": 47193586, "question_id": 47191535, "link": "https://stackoverflow.com/questions/47191535/cant-access-some-content-on-page-using-selenium-and-python/47193586#47193586", "title": "Can&#39;t access some content on page using selenium and python", "body": "<p>Since attribute value is in json format for responseBodyContent try this </p>\n\n<p>authkey_text = json.loads(auth_key.get_attribute)\nprint str(authkey_text)</p>\n"}, {"tags": [], "owner": {"reputation": 4487, "user_id": 2329061, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89e7e5642e4f608893b279c8438329a3?s=128&d=identicon&r=PG", "display_name": "Buaban", "link": "https://stackoverflow.com/users/2329061/buaban"}, "is_accepted": true, "score": 1, "last_activity_date": 1510210157, "last_edit_date": 1510210157, "creation_date": 1510209463, "answer_id": 47195398, "question_id": 47191535, "link": "https://stackoverflow.com/questions/47191535/cant-access-some-content-on-page-using-selenium-and-python/47195398#47195398", "title": "Can&#39;t access some content on page using selenium and python", "body": "<p>It looks like you need a custom wait to wait for the element and then wait for text. <br/>\nFirst, add a class, find element and then get <code>innerHTML</code> of the element. Finally, measure length of the string.<br/>\nSee my example below.</p>\n\n<pre><code>class element_text_not_empty(object):\n    def __init__(self, locator):\n        self.locator = locator\n\n    def __call__(self, driver):\n        try:\n            element = driver.find_element(*self.locator)\n            if(len(element.get_attribute('innerHTML').strip())&gt;0):\n                return element.get_attribute('innerHTML')\n            else:\n                return False\n        except Exception as ex:\n            print(\"Error while waiting: \" + str(ex))\n            return False\n\ndriver = webdriver.Chrome(chrome_path)\n...\n...\ntry:\n    print(\"Start wait\")\n    result = WebDriverWait(driver, 20).until(element_text_not_empty((By.XPATH, '//*[@id=\"responseBodyContent\"]')))\n    print(result)\nexcept Exception as ex:\n    print(\"Error: \" + str(ex))\n</code></pre>\n"}], "owner": {"reputation": 394, "user_id": 2465307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/153b302e7122e56490536469ab531c68?s=128&d=identicon&r=PG", "display_name": "kflaw", "link": "https://stackoverflow.com/users/2465307/kflaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 47195398, "answer_count": 2, "score": 0, "last_activity_date": 1510210157, "creation_date": 1510184026, "question_id": 47191535, "link": "https://stackoverflow.com/questions/47191535/cant-access-some-content-on-page-using-selenium-and-python", "title": "Can&#39;t access some content on page using selenium and python", "body": "<p>I am using selenium in a python script to login into a website where I can get an authorization key to access their API. I am able to login and navigate to the page where the authorization key is provided, I am using chrome driver for testing so I can see what's going on. When I get to the final page where the key is displayed, I can't find a way to access it. I can't see it in the page source, and when I try to access via the page element outer html, it doesn't print the value shown on the page. Here is a screenshot of what I see in the browser (I'm interested in accessing the content shown in response body):</p>\n\n<p><a href=\"https://i.stack.imgur.com/lImSG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lImSG.png\" alt=\"enter image description here\"></a></p>\n\n<p>this is the code snippet I am using to try to access the content:</p>\n\n<pre><code>auth_key = WebDriverWait(sel_browser, 10).until(EC.presence_of_element_located((By.XPATH, '//*[@id=\"responseBodyContent\"]')))\nprint auth_key.get_attribute(\"outerHTML\")\n</code></pre>\n\n<p>and this is what the print statement returns:</p>\n\n<pre><code>&lt;pre id=\"responseBodyContent\"&gt;&lt;/pre&gt;\n</code></pre>\n\n<p>I've also tried: </p>\n\n<pre><code>print auth_key.text\n</code></pre>\n\n<p>which returns nothing. Is there way I can extract this key from the page?</p>\n"}, {"tags": ["python", "arbitrary-precision"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510185097, "post_id": 47191533, "comment_id": 81332716, "body": "Hm, seems like newton&#39;s wins! That make sense, I think that&#39;s how they implement <code>sqrt</code>."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510186515, "post_id": 47191533, "comment_id": 81333102, "body": "They really should provide a <code>integer_root</code> function."}, {"owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "edited": false, "score": 0, "creation_date": 1510187769, "post_id": 47191533, "comment_id": 81333439, "body": "@juan.arrivillaga: What do you mean by integer_root?"}, {"owner": {"reputation": 534, "user_id": 8550160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6bbfb0b370c147dd9c1ad1c6320e586?s=128&d=identicon&r=PG&f=1", "display_name": "jman", "link": "https://stackoverflow.com/users/8550160/jman"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510188039, "post_id": 47191533, "comment_id": 81333503, "body": "@juanpa.arrivillaga agreed, I shouldn&#39;t have to implement root algorithms when I want to do something as simple as taking an integer root."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "edited": false, "score": 0, "creation_date": 1510188166, "post_id": 47191533, "comment_id": 81333540, "body": "@ReblochonMasque like x**(1/n) where n is an integer. So square-root, cubed root, etc"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510188308, "post_id": 47191533, "comment_id": 81333590, "body": "@jman yeah. At least this isn&#39;t Java, where you don&#39;t even have <code>sqrt</code> implemented, and forget about logarithms!"}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1510188139, "creation_date": 1510188139, "answer_id": 47192106, "question_id": 47191533, "link": "https://stackoverflow.com/questions/47191533/how-to-efficiently-calculate-cube-roots-using-decimal-in-python/47192106#47192106", "title": "How to efficiently calculate cube roots using decimal in python", "body": "<p>For such a low-order cube root, Newton's is going to be your best bet.  I made the loop more efficient by removing the inner test, and got about a 5% speed improvement.  Removing redundant <code>Decimal</code> conversions got another 2-3%.</p>\n\n<pre><code>def cube_root( A): \n    d1 = Decimal(1)\n    d2 = Decimal(2)\n    d3 = Decimal(3)\n\n    x0 = (A-d1)/d3\n    xn = (d2 * x0 + A / Decimal(x0*x0) ) / d3\n\n    while xn != x0:\n        x0 = xn\n        xn = (d2 * x0 + A / Decimal(x0*x0) ) / d3\n\n    return xn\n</code></pre>\n"}], "owner": {"reputation": 534, "user_id": 8550160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6bbfb0b370c147dd9c1ad1c6320e586?s=128&d=identicon&r=PG&f=1", "display_name": "jman", "link": "https://stackoverflow.com/users/8550160/jman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 837, "favorite_count": 0, "accepted_answer_id": 47192106, "answer_count": 1, "score": 1, "last_activity_date": 1510188139, "creation_date": 1510184007, "question_id": 47191533, "link": "https://stackoverflow.com/questions/47191533/how-to-efficiently-calculate-cube-roots-using-decimal-in-python", "title": "How to efficiently calculate cube roots using decimal in python", "body": "<p>I am quite new using the decimal module in python and I was wondering what is the most efficient method to calculate cube-roots (or any root really). I tried <code>num ** (Decimal(1)/Decimal(3)</code> but it took quite a while. For example, the code below takes about 20 seconds on an Intel i5 processor running python 3:</p>\n\n<pre><code>from decimal import *\n\ngetcontext().prec = 10000\na0 = Decimal(3.0)\n\nimport time\nbeg = time.time()\ncuber = a0**(Decimal(1)/Decimal(3))\nend = time.time()\nprint(end-beg)\n</code></pre>\n\n<p>I know something better can be done because just writing a simple newton algorithm gives much shorter run time (see code below).  <strong>So, my question is what is a good method (built-in preferably) to take integer roots of decimals?</strong></p>\n\n<p>The quick newton method, which is much faster (~0.2 seconds) is below:</p>\n\n<pre><code>def cube_root( A):\n    guess = (A-Decimal(1))/Decimal(3)\n    x0 = (Decimal(2) * guess + A / Decimal(guess*guess) )/Decimal(3.0)\n    while 1:\n        xn =(Decimal(2) * x0 + A / Decimal(x0*x0) )/Decimal(3.0)\n        if xn == x0:\n            break\n        x0 = xn\n    return xn\n\nbeg = time.time()\nprint(cuber - cube_root(a0))\nend = time.time()\nprint(end-beg)\n</code></pre>\n\n<p>The sample output of all of the code above,on my system, is:</p>\n\n<pre><code>23.898984670639038\n0E-9999\n0.10790443420410156\n</code></pre>\n"}, {"tags": ["python", "string", "loops"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 4, "creation_date": 1510183889, "post_id": 47191492, "comment_id": 81332390, "body": "You haven&#39;t said what the rules you&#39;re trying to implement are. Why does AAZZ return two?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510183948, "post_id": 47191492, "comment_id": 81332404, "body": "Also, I&#39;m pretty sure if you hit the <code>else</code> condition, you will <i>loop forever</i>"}, {"owner": {"reputation": 39, "user_id": 8796337, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-Ji9y3e8yXFI/AAAAAAAAAAI/AAAAAAAABMI/ramOK2xH4rQ/photo.jpg?sz=128", "display_name": "KMAN", "link": "https://stackoverflow.com/users/8796337/kman"}, "edited": false, "score": 0, "creation_date": 1510184277, "post_id": 47191492, "comment_id": 81332494, "body": "i managed to fix else to return count that should be fine thank you"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 8796337, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-Ji9y3e8yXFI/AAAAAAAAAAI/AAAAAAAABMI/ramOK2xH4rQ/photo.jpg?sz=128", "display_name": "KMAN", "link": "https://stackoverflow.com/users/8796337/kman"}, "edited": false, "score": 0, "creation_date": 1510184295, "post_id": 47191527, "comment_id": 81332502, "body": "Thank you for that catch, function seems to be fine now"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1510187014, "post_id": 47191527, "comment_id": 81333249, "body": "In the future, it helps to fill out the edit comment accurately: Changing the OP&#39;s code is not &quot;fixing indentation&quot; and should be explained if you want your edit approved. I only noticed my mistake (and that your edit was correct) because I was going to comment about it being incorrect after the review. That being said, sorry."}, {"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1510187126, "post_id": 47191527, "comment_id": 81333270, "body": "@TemporalWolf are you referring to the fact I reverted his code to the original (without the <code>+j</code>)?"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1510187253, "post_id": 47191527, "comment_id": 81333310, "body": "Yes: the review queue does not show context that that was reverting a previous edit. Without that information, it looks like you&#39;re <i>fixing</i> their code, which is harmful for future readers. A descriptive comment would likely prevent future misinterpretation."}, {"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1510187284, "post_id": 47191527, "comment_id": 81333317, "body": "@TemporalWolf Ok, I assumed it showed context the same way it does if I&#39;m viewing the edit history. Will keep that in mind, thanks!"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1510187388, "post_id": 47191527, "comment_id": 81333344, "body": "<a href=\"https://stackoverflow.com/review/suggested-edits/17884700\">This</a> is all a reviewer sees, which, based on that information, it appears destructive, when it really isn&#39;t. Also, see <a href=\"https://stackoverflow.com/posts/47191492/revisions\">the comment I left</a> which makes it clear <i>why</i> the edit was made :)"}], "tags": [], "owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "is_accepted": true, "score": 1, "last_activity_date": 1510183985, "creation_date": 1510183985, "answer_id": 47191527, "question_id": 47191492, "link": "https://stackoverflow.com/questions/47191492/how-do-i-look-specifically-at-the-ends-of-a-string-in-python/47191527#47191527", "title": "How do I look specifically at the ends of a string in python?", "body": "<p>You need to change the condition to <code>i &lt; len(str) + j</code>, otherwise you'll be counting everything twice (once from each end).</p>\n"}], "owner": {"reputation": 39, "user_id": 8796337, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-Ji9y3e8yXFI/AAAAAAAAAAI/AAAAAAAABMI/ramOK2xH4rQ/photo.jpg?sz=128", "display_name": "KMAN", "link": "https://stackoverflow.com/users/8796337/kman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 47191527, "answer_count": 1, "score": 0, "last_activity_date": 1510186655, "creation_date": 1510183799, "last_edit_date": 1510186655, "question_id": 47191492, "link": "https://stackoverflow.com/questions/47191492/how-do-i-look-specifically-at-the-ends-of-a-string-in-python", "title": "How do I look specifically at the ends of a string in python?", "body": "<p>I am trying to create a function that examines the ends of a string in python and returns an integer if it matches the conditions that I have defined, however i am having an issue with the numbers overlapping is there a way for me to get around this simply with just built in string functions and not using any import? so for example the string 'AAZZ' should return to me two but is returning four instead. The conditions are A matches with Z and it Y matches with C. the function will look for pairs to match until it runs into a pair that does not match where it will stop and return the value it has for count.\nHere is what i have so far: </p>\n\n<pre><code>def matching(str):\n    i = 0\n    j = -1\n    count = 0\n\n    while i &lt; len(str): \n        if str[i] == 'A' and str[j] == 'Z':\n            i += 1\n            j -= 1\n            count += 1\n        elif str[i] == 'Z' and str[j] == 'A':\n            i += 1\n            j -= 1\n            count += 1    \n        elif str[i] == 'Y' and str[j] == 'C':\n            i += 1\n            j -= 1\n            count += 1  \n        elif str[i] == 'C' and str[j] == 'Y':\n            i += 1\n            j -= 1\n            count += 1          \n        else:\n            count = 0\n    return count\n</code></pre>\n"}, {"tags": ["python", "logging", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 11214, "user_id": 366207, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a8f20cf31acead835f9eacc605210903?s=128&d=identicon&r=PG", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/366207/ahmad"}, "edited": false, "score": 0, "creation_date": 1510186100, "post_id": 47191831, "comment_id": 81332991, "body": "Thanks, but my main question was why <code>statement</code> isn&#39;t defined inside <code>delete_query</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "reply_to_user": {"reputation": 11214, "user_id": 366207, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a8f20cf31acead835f9eacc605210903?s=128&d=identicon&r=PG", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/366207/ahmad"}, "edited": false, "score": 0, "creation_date": 1510186364, "post_id": 47191831, "comment_id": 81333059, "body": "<code>delete_query</code> is an integer, because that&#39;s what <code>delete()</code> returns."}, {"owner": {"reputation": 11214, "user_id": 366207, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a8f20cf31acead835f9eacc605210903?s=128&d=identicon&r=PG", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/366207/ahmad"}, "edited": false, "score": 0, "creation_date": 1510187353, "post_id": 47191831, "comment_id": 81333336, "body": "Thanks for pointing that out. So then how can I get the delete query that sqlalchemy executes when the aforementioned command is executed ?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "is_accepted": false, "score": 1, "last_activity_date": 1510185949, "creation_date": 1510185949, "answer_id": 47191831, "question_id": 47191488, "link": "https://stackoverflow.com/questions/47191488/sqlalchemy-statement-attribute-does-not-exist-for-some-reason/47191831#47191831", "title": "sqlalchemy statement attribute does not exist for some reason", "body": "<p>As stated in the <a href=\"http://docs.sqlalchemy.org/en/latest/orm/query.html?#sqlalchemy.orm.query.Query.delete\" rel=\"nofollow noreferrer\">SQLAlchemy docs</a>, <code>delete()</code> returns the number of items deleted.</p>\n"}], "owner": {"reputation": 11214, "user_id": 366207, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a8f20cf31acead835f9eacc605210903?s=128&d=identicon&r=PG", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/366207/ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1510185949, "creation_date": 1510183784, "question_id": 47191488, "link": "https://stackoverflow.com/questions/47191488/sqlalchemy-statement-attribute-does-not-exist-for-some-reason", "title": "sqlalchemy statement attribute does not exist for some reason", "body": "<p>I'm new to sqlalchemy and am trying to print/log the actual delete query that is executed by sqlalchemy when the following is executed:</p>\n\n<pre><code>delete_query = mdb_session.query(PendingConfig).filter(PendingConfig.id == config.id).delete()\n</code></pre>\n\n<p>I have looked at a bunch of other stackoverflow posts and the solution suggested is doing this:</p>\n\n<pre><code>print str(delete_query.statement)\n</code></pre>\n\n<p>But this doesn't work since <code>statement</code> attribute doesn't exist in my <code>delete_query</code> object, and I confirmed this by changing the above print code to the following:</p>\n\n<pre><code>if hasattr(delete_objs, 'statement'):\n   print(str(delete_query.statement))\nelse:\n   print(\"statement doesn't exist.\")\n</code></pre>\n\n<p>In the above, the else line is executed. So basically <code>statement</code> attribute isn't existing for me. Why ??? .... Also if I do simply <code>print(str(delete_query))</code>, it prints just either <code>0</code> or <code>1</code>. I don't know why.</p>\n\n<p>Any ideas ?</p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": true, "score": 1, "last_activity_date": 1510184375, "creation_date": 1510184375, "answer_id": 47191590, "question_id": 47191477, "link": "https://stackoverflow.com/questions/47191477/update-the-data-in-the-same-rows-as-the-other-data/47191590#47191590", "title": "Update the data in the same rows as the other data", "body": "<p>Your update is using the wrong values. Should be:</p>\n\n<pre><code>cur.execute(\"UPDATE programs SET program_id=? WHERE start_date=?\",(program_id, program_start_date))\nconn.commit()\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 47191590, "answer_count": 1, "score": 1, "last_activity_date": 1510184375, "creation_date": 1510183703, "question_id": 47191477, "link": "https://stackoverflow.com/questions/47191477/update-the-data-in-the-same-rows-as-the-other-data", "title": "Update the data in the same rows as the other data", "body": "<p>I need some help with my code. I want to find the data of <code>program_start_date</code> into the database as I would like to store the program_id in the same rows as the <code>program_start_date</code> data.</p>\n\n<p>When I try this:</p>\n\n<pre><code>cur.execute(\"UPDATE programs SET program_id=? WHERE start_date=?\",(program_start_date, program_id))\nconn.commit()\n</code></pre>\n\n<p>It will not let me to update the program_id in the same rows as the start_date data.</p>\n\n<p>Here is the full code:</p>\n\n<pre><code>nextday_list = ['20171109224500', '20171109223000', '20171109224500', '20171109223500', '20171109220000', '20171109224000', '20171109230000']\nprogram_id_list = ['3001', '3002', '3003', '3004', '3005', '3006', '3007', '3008', '3009', '3010', '3011', '3012', '3013', '3014', '3015', '3016', '3017', '3018', '3019', '3020', '3021', '3022', '3023', '3024', '3025', '3026', '3027', '3028', '3029', '3030', '3031', '3032', '3033', '3034', '3035', '3036', '3037', '3038', '3039', '3040', '3041', '3042', '3043', '3044', '3045', '3046', '3047', '3048', '3049', '3050', '3051', '3052', '3053', '3054', '3055', '3056', '3057', '3058', '3059', '3060', '3061', '3062', '3063', '3064', '3065', '3066', '3067', '3068', '3069', '3070']\n\nfor nextday, program_id in zip(nextday_list, program_id_list):\n    cur.execute('SELECT start_date, program_id FROM programs WHERE start_date &gt;= ? LIMIT 10', [nextday,])\n    programs = cur.fetchall()\n\n    for ind, row in enumerate(programs):\n        program_start_date = str(row[0])\n        cur.execute(\"UPDATE programs SET program_id=? WHERE start_date=?\",(program_start_date, program_id))\n        conn.commit()\n</code></pre>\n\n<p>Here is the <code>program_start_date</code> data:</p>\n\n<pre><code>20171109224500\n20171109234500\n20171110004500\n20171110005000\n20171110060000\n20171110091500\n20171110100000\n20171110110000\n20171110114500\n20171110121500\n20171109223000\n20171109224500\n20171109234500\n20171110004500\n20171110005000\n20171110060000\n20171110091500\n20171110100000\n20171110110000\n20171110114500\n20171109224500\n20171109234500\n20171110004500\n20171110005000\n20171110060000\n20171110091500\n20171110100000\n20171110110000\n20171110114500\n20171110121500\n20171109224500\n20171109234500\n20171110004500\n20171110005000\n20171110060000\n20171110091500\n20171110100000\n20171110110000\n20171110114500\n20171110121500\n20171109220000\n20171109223000\n20171109224500\n20171109234500\n20171110004500\n20171110005000\n20171110060000\n20171110091500\n20171110100000\n20171110110000\n20171109224500\n20171109234500\n20171110004500\n20171110005000\n20171110060000\n20171110091500\n20171110100000\n20171110110000\n20171110114500\n20171110121500\n20171109234500\n20171110004500\n20171110005000\n20171110060000\n20171110091500\n20171110100000\n20171110110000\n20171110114500\n20171110121500\n20171110130000\n</code></pre>\n"}, {"tags": ["python", "pyserial", "python-module"], "comments": [{"owner": {"reputation": 366, "user_id": 8747665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb6a6a9fc63ae1553f142e0d93b81c21?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Walton", "link": "https://stackoverflow.com/users/8747665/steven-walton"}, "edited": false, "score": 0, "creation_date": 1510184307, "post_id": 47191412, "comment_id": 81332506, "body": "Can you confirm which version of pyserial you have installed with <code>pip freeze</code>? Doing a fresh pip install in a clean environment with python 3.6 and pyserial 3.4 had no issue for me."}, {"owner": {"reputation": 65, "user_id": 7666246, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a4a576fa49d995fe517b9bcb87b22aa9?s=128&d=identicon&r=PG&f=1", "display_name": "TypoweEhhhh", "link": "https://stackoverflow.com/users/7666246/typoweehhhh"}, "reply_to_user": {"reputation": 366, "user_id": 8747665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb6a6a9fc63ae1553f142e0d93b81c21?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Walton", "link": "https://stackoverflow.com/users/8747665/steven-walton"}, "edited": false, "score": 0, "creation_date": 1510253032, "post_id": 47191412, "comment_id": 81367718, "body": "I have the same - PySerial 3.4 and Python 3.6 ."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 8816672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbeefb98f0f6d3d2a748fb739962ba01?s=128&d=identicon&r=PG&f=1", "display_name": "cwilde", "link": "https://stackoverflow.com/users/8816672/cwilde"}, "is_accepted": false, "score": 6, "last_activity_date": 1511993293, "creation_date": 1511993293, "answer_id": 47562659, "question_id": 47191412, "link": "https://stackoverflow.com/questions/47191412/pyserial-attributeerror-module-serial-has-no-attribute-serial/47562659#47562659", "title": "pySerial AttributeError: module &#39;serial&#39; has no attribute &#39;Serial&#39;", "body": "<p>I had the same problem with Python3 3.6.3.1 installed under Cygwin.  I replaced 3.6.3.1 with 3.4.5.1 and the script worked again.  OK, but not a good long term solution.</p>\n\n<p>Better solution: I reinstalled Python3 3.6.3.1, and then did <strong>\"pip install pyserial\"</strong>, and then I was able to run my script.  No additional modules show up when I do help(\"modules\"), but something extra must have been added to serial.</p>\n"}], "owner": {"reputation": 65, "user_id": 7666246, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a4a576fa49d995fe517b9bcb87b22aa9?s=128&d=identicon&r=PG&f=1", "display_name": "TypoweEhhhh", "link": "https://stackoverflow.com/users/7666246/typoweehhhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11077, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1599405194, "creation_date": 1510183351, "question_id": 47191412, "link": "https://stackoverflow.com/questions/47191412/pyserial-attributeerror-module-serial-has-no-attribute-serial", "title": "pySerial AttributeError: module &#39;serial&#39; has no attribute &#39;Serial&#39;", "body": "<p>I have windows 7 64 bit and Python 3.6 </p>\n\n<p>I literally dig entire web for solving this - and nothing works sadly.</p>\n\n<pre><code>AttributeError                            Traceback (most recent call last)\n&lt;ipython-input-150-80ee8bd5f0f2&gt; in &lt;module&gt;()\n----&gt; serial.Serial()\n\nAttributeError: module 'serial' has no attribute 'Serial'\n</code></pre>\n\n<p>I tried solve this by:\n- checking if my file is named serial.py \n- reinstalling module - at first, entire module didn't work, now only it's functions.\n- I can't use any of its features, checking ports don't work, nothing works literally.\n- I checked my pip - everything is fine, module is in folder site-pacages.\n- If I execute some code inside pySerial files - it works. But there is no serial.Serial or connecting with COM ports (which I try to do.)</p>\n"}, {"tags": ["python", "arrays", "comparison", "arrayofarrays"], "comments": [{"owner": {"reputation": 233, "user_id": 7910449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa8aab85b5d5c3059e140dca2c7999b?s=128&d=identicon&r=PG&f=1", "display_name": "userSeventeen", "link": "https://stackoverflow.com/users/7910449/userseventeen"}, "edited": false, "score": 0, "creation_date": 1510183391, "post_id": 47191391, "comment_id": 81332245, "body": "Heavily related: <a href=\"https://stackoverflow.com/questions/6105777/how-to-compare-a-list-of-lists-sets-in-python\" title=\"how to compare a list of lists sets in python\">stackoverflow.com/questions/6105777/&hellip;</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510183777, "post_id": 47191391, "comment_id": 81332359, "body": "Those are not arrays, those look like lists."}], "answers": [{"tags": [], "owner": {"reputation": 5, "user_id": 8280030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb054b66635cae9582d2b86c346a638?s=128&d=identicon&r=PG&f=1", "display_name": "shreyy", "link": "https://stackoverflow.com/users/8280030/shreyy"}, "is_accepted": false, "score": 0, "last_activity_date": 1510186038, "creation_date": 1510186038, "answer_id": 47191843, "question_id": 47191391, "link": "https://stackoverflow.com/questions/47191391/fastest-way-to-compare-array-of-array/47191843#47191843", "title": "Fastest way to compare Array-of-array?", "body": "<p>One way is to flatten the two arrays and compare. Like this:</p>\n\n<p>list1 = [[0, 3], [0, 4, 1, 5], [0, 2]]</p>\n\n<p>list2 = [[0, 4, 1, 5], [0, 3], [0, 2]]</p>\n\n<p>def flat(ls):\n    return [val for sublist in ls for val in sublist]</p>\n\n<p>set(flat(list1)) == set(flat(list2))</p>\n"}, {"tags": [], "owner": {"reputation": 3422, "user_id": 6950186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ba437716e595ca8620f2d5fd75b13?s=128&d=identicon&r=PG&f=1", "display_name": "Transhuman", "link": "https://stackoverflow.com/users/6950186/transhuman"}, "is_accepted": true, "score": 1, "last_activity_date": 1510187335, "last_edit_date": 1510187335, "creation_date": 1510186815, "answer_id": 47191941, "question_id": 47191391, "link": "https://stackoverflow.com/questions/47191391/fastest-way-to-compare-array-of-array/47191941#47191941", "title": "Fastest way to compare Array-of-array?", "body": "<p>You can convert the sub-lists to tuples(immutable) using <code>map(tuple,list))</code> + sort the main list (which sorts the tuples based on the integer element ordering). </p>\n\n<pre><code>l1 = [[0, 3], [0, 4, 1, 5], [0, 2]]\nl2 = [[0, 4, 1, 5], [0, 3], [0, 2]]\nl3 = [[0, 2], [0, 4, 1, 5], [0, 3]]\nprint (sorted(map(tuple,l1)) == sorted(map(tuple,l2)))\n#True\nprint(sorted(map(tuple,l2)) == sorted(map(tuple,l3)))\n#True\nprint (sorted(map(tuple,l3)) == sorted(map(tuple,l1)))\n#True\n\nl4 = [[0, 4, 1, 5, 3], [0, 2]]\nl5 = [[0, 4, 1, 5, 3, 2]]\nsorted(map(tuple,l4)) == sorted(map(tuple,l5))\n#False\n</code></pre>\n"}], "owner": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 47191941, "answer_count": 2, "score": 0, "last_activity_date": 1510187335, "creation_date": 1510183253, "question_id": 47191391, "link": "https://stackoverflow.com/questions/47191391/fastest-way-to-compare-array-of-array", "title": "Fastest way to compare Array-of-array?", "body": "<p>I have array-of-arrays like the ones below :</p>\n\n<pre><code>[[0, 3], [0, 4, 1, 5], [0, 2]]\n[[0, 4, 1, 5], [0, 3], [0, 2]]\n[[0, 2], [0, 4, 1, 5], [0, 3]]\n\n[[0, 4, 1, 5, 3], [0, 2]]\n[[0, 4, 1, 5, 3, 2]]\n</code></pre>\n\n<p>If you look at the first 3 examples they are the same array, just ordered differently.</p>\n\n<p>At any time I have to compare two such AoA and figure out if they are the same.</p>\n\n<p>What is the fastest way to do that ?\nThe arrays themselves are small, but I have to do this check very often.</p>\n"}, {"tags": ["python", "string", "list"], "comments": [{"owner": {"reputation": 314, "user_id": 8576366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PTEwi.jpg?s=128&g=1", "display_name": "Pablo Oliva", "link": "https://stackoverflow.com/users/8576366/pablo-oliva"}, "edited": false, "score": 3, "creation_date": 1510183545, "post_id": 47191365, "comment_id": 81332293, "body": "&#39;u&#39; is not a string, its signaling that it is Unicode encoded. This could help you: <a href=\"https://docs.python.org/2/howto/unicode.html\" rel=\"nofollow noreferrer\">docs.python.org/2/howto/unicode.html</a>"}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 1, "creation_date": 1510183653, "post_id": 47191365, "comment_id": 81332329, "body": "don&#39;t worry about the <code>u</code>. It does not affect the string operations you can do, and it won&#39;t appear in a file if you decide to write the list to a file. Just use the list like you normally would any list of strings"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 7885822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9585df1742ddbc69291a1cf43aeb475e?s=128&d=identicon&r=PG&f=1", "display_name": "M.salameh", "link": "https://stackoverflow.com/users/7885822/m-salameh"}, "edited": false, "score": 0, "creation_date": 1510268719, "post_id": 47209670, "comment_id": 81375747, "body": "Thank you very much. This was helpful"}, {"owner": {"reputation": 1470, "user_id": 4374531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ecc0fcbd63c8e0a55d0c4048c7fb426?s=128&d=identicon&r=PG&f=1", "display_name": "v.coder", "link": "https://stackoverflow.com/users/4374531/v-coder"}, "reply_to_user": {"reputation": 119, "user_id": 7885822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9585df1742ddbc69291a1cf43aeb475e?s=128&d=identicon&r=PG&f=1", "display_name": "M.salameh", "link": "https://stackoverflow.com/users/7885822/m-salameh"}, "edited": false, "score": 0, "creation_date": 1510269321, "post_id": 47209670, "comment_id": 81375951, "body": "Please upvote and accept the answer if it helped you."}], "tags": [], "owner": {"reputation": 1470, "user_id": 4374531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ecc0fcbd63c8e0a55d0c4048c7fb426?s=128&d=identicon&r=PG&f=1", "display_name": "v.coder", "link": "https://stackoverflow.com/users/4374531/v-coder"}, "is_accepted": false, "score": 0, "last_activity_date": 1510254280, "creation_date": 1510254280, "answer_id": 47209670, "question_id": 47191365, "link": "https://stackoverflow.com/questions/47191365/extract-strings-from-list/47209670#47209670", "title": "extract strings from list", "body": "<p>Please try encode option which will convert unicode into string format:</p>\n\n<pre><code>path = [s.encode('utf-8') for s in li]\nprint(\"-\".join(path))\n</code></pre>\n\n<p>This should give you the desired output.</p>\n"}], "owner": {"reputation": 119, "user_id": 7885822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9585df1742ddbc69291a1cf43aeb475e?s=128&d=identicon&r=PG&f=1", "display_name": "M.salameh", "link": "https://stackoverflow.com/users/7885822/m-salameh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 639, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510254280, "creation_date": 1510183098, "last_edit_date": 1510183350, "question_id": 47191365, "link": "https://stackoverflow.com/questions/47191365/extract-strings-from-list", "title": "extract strings from list", "body": "<p>I have this segment of code to extract the shortest path in a graph from one node to another</p>\n\n<pre><code>g = json_graph.node_link_graph(json.load(open(\"MPLS-topo.json\")))\npaths = nx.shortest_path(g, \"H1\", weight=\"weight\")\nfor dest in paths.keys():  # Nicely output all those paths\n  if dest == \"H2\":\n    print \"Shortest Path from H1 to {} is:\".format(dest)\n    print \"{}\".format(paths[dest])\n</code></pre>\n\n<p>the output of it is </p>\n\n<pre><code> Shortest Path from H1 to H2 is:\n ['H1', u'S1', u'S2', u'S3', u'S5', u'H2']\n</code></pre>\n\n<p>I want to remove u and convert the path to string like this</p>\n\n<pre><code> H1-S1-S2-S3-S5-H2\n</code></pre>\n\n<p>I tried this</p>\n\n<pre><code> path = [s.replace('u', '') for s in paths[dest]]\n print path\n y = \"-\".join(path)\n</code></pre>\n\n<p>but it gives me the same output.\nHow can I do this in python?</p>\n"}, {"tags": ["python", "macos", "bundle", "hidden", "scandir"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8386647, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OyMQ9-O3ixM/AAAAAAAAAAI/AAAAAAAABtA/O8G0y0Pl3Tg/photo.jpg?sz=128", "display_name": "David Hajes", "link": "https://stackoverflow.com/users/8386647/david-hajes"}, "edited": false, "score": 0, "creation_date": 1510214062, "post_id": 47192638, "comment_id": 81341819, "body": "there is ls -la from Mac      drwxr-xr-x@   3 hajes  staff        102 Jul 24 11:07 ProStockMaster.pkg     -rw-r--r--@   1 hajes  staff   69241878 Apr 19  2017 Qobuz.dmg     drwxr-xr-x@   3 hajes  admin        102 Jul 24 11:06 LCC Installer.app  PKG, APP is directory...dmg is just disk image"}], "tags": [], "owner": {"reputation": 2036, "user_id": 6510908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXaCN.jpg?s=128&g=1", "display_name": "B-GangsteR", "link": "https://stackoverflow.com/users/6510908/b-gangster"}, "is_accepted": false, "score": 0, "last_activity_date": 1510192333, "creation_date": 1510192333, "answer_id": 47192638, "question_id": 47191345, "link": "https://stackoverflow.com/questions/47191345/python-os-scandir-shows-apple-dmg-app-bundle-as-directory/47192638#47192638", "title": "python os.scandir shows apple dmg, app, bundle as directory", "body": "<p>\"Apps\" (\"<strong>*.app</strong>\") are really directories.</p>\n\n<p><a href=\"https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man1/ls.1.html\" rel=\"nofollow noreferrer\">Take a look at Mac OS command</a> <code>ls</code> :</p>\n\n<blockquote>\n  <p>ls -- list directory contents</p>\n  \n  <p>The following options are available:</p>\n  \n  <p>...</p>\n\n<pre><code>-F      Display a slash (`/') immediately after each pathname that is a directory, an asterisk (`*')\n         after each that is executable, an at sign (`@') after each symbolic link, an equals sign (`=')\n         after each socket, a percent sign (`%') after each whiteout, and a vertical bar (`|') after\n         each that is a FIFO\n -G      Enable colorized output.  This option is equivalent to defining CLICOLOR in the environment.\n         (See below.)\n</code></pre>\n  \n  <p>...</p>\n</blockquote>\n\n<h3>Results for <code>User/Library</code> dir :</h3>\n\n<p><a href=\"https://i.stack.imgur.com/DK2ME.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DK2ME.png\" alt=\"User/Library\"></a></p>\n\n<p>Dirs are colored and appended by <code>/</code></p>\n\n<h3>Results for <code>Applications</code> dir :</h3>\n\n<p><a href=\"https://i.stack.imgur.com/8qg3b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8qg3b.png\" alt=\"Applications\"></a></p>\n\n<p>All apps <code>*.app</code> are dirs.</p>\n\n<h3>And results for other files :</h3>\n\n<p><a href=\"https://i.stack.imgur.com/2YS3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2YS3E.png\" alt=\"### And results for other files\"></a></p>\n\n<p><code>*.dmg</code> and <code>*.zip</code> are marked as executable for some reason.</p>\n"}], "owner": {"reputation": 11, "user_id": 8386647, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OyMQ9-O3ixM/AAAAAAAAAAI/AAAAAAAABtA/O8G0y0Pl3Tg/photo.jpg?sz=128", "display_name": "David Hajes", "link": "https://stackoverflow.com/users/8386647/david-hajes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510192333, "creation_date": 1510182979, "question_id": 47191345, "link": "https://stackoverflow.com/questions/47191345/python-os-scandir-shows-apple-dmg-app-bundle-as-directory", "title": "python os.scandir shows apple dmg, app, bundle as directory", "body": "<p>I'm writing a program for parallel file checksums. I'm stuck with subdirectories count because python os.scandir() shows Apple DMG, apps as directory.</p>\n\n<p>So far I've got following code.</p>\n\n<pre><code>import os, sys\n\n### variables\nPATH_SRC = os.getcwd()\nEXCLUDE_FILES = ('__', '.')\nEXCLUDE_DIRS = ('__', '.', '*.app', '*.dmg')\nLIST_FILES = []\nLIST_DIRS = []\n\nCOUNT_DIRS = 0\nCOUNT_FILES = 0`\n\nwith os.scandir(PATH_SRC) as it:\n  for entry in it:\n    if not entry.name.startswith(EXCLUDE_FILES):\n      if entry.is_dir() and entry.name.startswith(EXCLUDE_DIRS):\n        LIST_DIRS.append(entry.path)\n        COUNT_DIRS = COUNT_DIRS + 1\n      elif entry.is_file():\n        LIST_FILES.append(entry.path)\n        COUNT_FILES = COUNT_FILES + 1\n\nprint ('Source path contains ', COUNT_DIRS, ' subdirectories.')\nprint ('Source path contains ', COUNT_FILES, ' file(s).')\n\n\nprint (LIST_DIRS)\nprint (LIST_FILES)\n</code></pre>\n\n<p>source path contains 10 subdirectories but above by mentioned code shows 16 because there is some apps, dmg and they are shown as directory.</p>\n\n<p>I need to recursively list files inside the source path and exclude hidden and bundles (dmg,app). Count them...it would be used as decision whether to use parallelisation or not. I usually copy photos from flash cards but sometimes I copy whole try on my file server.</p>\n\n<p>Idea behind it is...count all files inside source path...if there is more than 10 files for example...run parallel checksum of files...SSD can handle about >4 files at once and saturate CPU. My workstation has got 2 CPUs with 4 cores each...but there will be SSD bottleneck.</p>\n\n<p>Furthermore RAID 10 file server can handle about 2-3 files at once.</p>\n\n<p>I'm new to Python so don't be surprised about complicated code.</p>\n\n<p>AlGORITM:\n1. check how many files total and decide for MP (Multiprocessing or multithread)</p>\n\n<ol start=\"2\">\n<li><p>recursively check source path, exclude hidden files and bundles...then run checksum sha512 on them</p></li>\n<li><p>every dir/subdir must have own checksum file. I don't want one large checksum file in source path</p></li>\n</ol>\n\n<p>I hope you understand. Please any suggestions?</p>\n\n<p>Regards</p>\n\n<p>Hajes</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 1139, "user_id": 6490589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e5ed65e39aa221ca56c378a724110c?s=128&d=identicon&r=PG&f=1", "display_name": "Forbs", "link": "https://stackoverflow.com/users/6490589/forbs"}, "edited": false, "score": 0, "creation_date": 1510182908, "post_id": 47191319, "comment_id": 81332055, "body": "How&#39;s your HTML?"}, {"owner": {"reputation": 1, "user_id": 8910136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3324087dfdf6c14a3071bae486a9e751?s=128&d=identicon&r=PG&f=1", "display_name": "panda", "link": "https://stackoverflow.com/users/8910136/panda"}, "reply_to_user": {"reputation": 1139, "user_id": 6490589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e5ed65e39aa221ca56c378a724110c?s=128&d=identicon&r=PG&f=1", "display_name": "Forbs", "link": "https://stackoverflow.com/users/6490589/forbs"}, "edited": false, "score": 0, "creation_date": 1510183171, "post_id": 47191319, "comment_id": 81332155, "body": "I need to do it in python :("}, {"owner": {"reputation": 1139, "user_id": 6490589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e5ed65e39aa221ca56c378a724110c?s=128&d=identicon&r=PG&f=1", "display_name": "Forbs", "link": "https://stackoverflow.com/users/6490589/forbs"}, "edited": false, "score": 0, "creation_date": 1510183246, "post_id": 47191319, "comment_id": 81332186, "body": "How&#39;s your printing out HTML commands in a python <code>print</code> statement?"}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1510183497, "post_id": 47191319, "comment_id": 81332277, "body": "Ironic, considering your name, but have you considered <code>pandas</code>?"}, {"owner": {"reputation": 1, "user_id": 8910136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3324087dfdf6c14a3071bae486a9e751?s=128&d=identicon&r=PG&f=1", "display_name": "panda", "link": "https://stackoverflow.com/users/8910136/panda"}, "edited": false, "score": 0, "creation_date": 1510183512, "post_id": 47191319, "comment_id": 81332282, "body": "oh its not in HTML, i just wanted to easily show how it looks like visually in my Ipython console."}, {"owner": {"reputation": 1, "user_id": 8910136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3324087dfdf6c14a3071bae486a9e751?s=128&d=identicon&r=PG&f=1", "display_name": "panda", "link": "https://stackoverflow.com/users/8910136/panda"}, "edited": false, "score": 0, "creation_date": 1510183696, "post_id": 47191319, "comment_id": 81332338, "body": "I have not used pandas before. Could you give me some hints? :)"}], "answers": [{"tags": [], "owner": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "is_accepted": false, "score": 2, "last_activity_date": 1510183607, "creation_date": 1510183607, "answer_id": 47191459, "question_id": 47191319, "link": "https://stackoverflow.com/questions/47191319/print-data-from-loop-in-a-table/47191459#47191459", "title": "Print data from loop in a table", "body": "<p>Use <code>pandas</code> if you want a labeled table:</p>\n\n<pre><code>In [1]: df = pd.read_csv('test.txt', sep=\" \")\n   ...: pd.DataFrame({'mean':df.mean(), 'median':df.median(), 'range':df.max()-df.min()})\nOut[1]: \n       mean  median  range\nA  2.666667     1.0      5\nB  2.666667     3.0      1\nC  4.000000     4.0      0\nD  5.000000     5.0      8\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8910136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3324087dfdf6c14a3071bae486a9e751?s=128&d=identicon&r=PG&f=1", "display_name": "panda", "link": "https://stackoverflow.com/users/8910136/panda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510183607, "creation_date": 1510182817, "last_edit_date": 1510183274, "question_id": 47191319, "link": "https://stackoverflow.com/questions/47191319/print-data-from-loop-in-a-table", "title": "Print data from loop in a table", "body": "<p>Suppose I have a file with 4 columns and 4 rows looking like this</p>\n\n<p><img src=\"https://i.stack.imgur.com/JrF2o.png\" alt=\"file\"></p>\n\n<p>I imported the file and created a loop to get some stats for each column separately:</p>\n\n<pre><code>file= np.loadtxt('file.txt', skiprows=1)\nlist= (file[:,0], file[:,1], file[:,2],file[:,3])\nfor a in list:\n\n    ra = np.amax(a) - np.amin(a)\n    mean = np.mean(a)\n    med = np.median(a)\n\n    print('range', ra)\n    print('mean', round(mean,1))\n    print('med', round(med,1))\n</code></pre>\n\n<p>However this would return me something looking like this</p>\n\n<pre><code>('range', 3)\n('mean', 2)\n('median', 2)\n('range', 4)\n('mean', 3)\n('median', 3)\n('range', 3)\n('mean', 3)\n('median', 2)\n('range', 3)\n('mean', 3)\n('median', 2)\n</code></pre>\n\n<p>My question is how do I print it in a table format for it to resemble this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/8wXtU.png\" alt=\"table\"></p>\n\n<p>I am looking for very easy solutions. Thank you for any help</p>\n"}, {"tags": ["python", "python-2.7", "debugging", "cprofile"], "comments": [{"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1510184218, "post_id": 47191304, "comment_id": 81332473, "body": "If you&#39;re going to go to that detail (without having to invent time travel), it might be simpler to just manually instrument your function and log the the results when they are outliers. You&#39;d probably want to use <code>time.perf_counter()</code> or <code>time.clock()</code>."}, {"owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1510238153, "post_id": 47191304, "comment_id": 81357596, "body": "But I don&#39;t know the slow cases until <i>after</i> the slow stuff has occurred (something with thread blocking that shouldn&#39;t block)"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1510239920, "post_id": 47191304, "comment_id": 81358907, "body": "Right. So you add the instrumentation and only store the results when they are slow. You also never mentioned threading or other details about your actual problem. That might be a better avenue for questions with which you can get concrete help."}, {"owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1510249732, "post_id": 47191304, "comment_id": 81365947, "body": "&quot;and only store the results when they are slow&quot; -- how to do that? &quot;You also never mentioned threading or other details about your actual problem. That might be a better avenue for questions with which you can get concrete help.&quot; -- but I don&#39;t know what&#39;s causing the issue; I don&#39;t want to add distracting details that may or may not be related to the issue. I&#39;ll mention threading."}], "owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510249793, "creation_date": 1510182698, "last_edit_date": 1510249793, "question_id": 47191304, "link": "https://stackoverflow.com/questions/47191304/conditional-profiling-with-cprofile", "title": "conditional profiling with cProfile", "body": "<p>Is there any way to do \"conditional profiling\" with <a href=\"https://docs.python.org/2/library/profile.html#module-cProfile\" rel=\"nofollow noreferrer\"><code>cProfile</code></a>? I have a method, let's call it <code>readPackets()</code>, which is supposed to take only a few milliseconds at most, but every once in a while it takes 0.5 second or more. (The issue involves multithreaded Python access... I assume something else has the GIL or is competing for some lock, but I don't know what.)</p>\n\n<p>What I want to do is profile it <em>only when it takes a long time</em> -- I can already do something like this:</p>\n\n<pre><code>pr = cProfile.Profile()\n\nclass MyEngine(object):\n    def run(self):\n        while self.alive:\n            # in main event loop\n            pr.enable()\n            self.readPackets()\n            pr.disable()\n            ...\n            # other stuff\n</code></pre>\n\n<p>and that gets me a nice profile of what's running inside readPackets in general, but these slowdowns are somewhat rare, and it's really hard to tell what's going on in that one instance.</p>\n\n<p>What I really want is something like this:</p>\n\n<pre><code>pr = cProfile.Profile()\n\nclass MyEngine(object):\n    def run(self):\n        while self.alive:\n            # in main event loop\n            transaction = pr.beginTransaction()\n            t0 = time.time()\n            pr.enable()\n            self.readPackets()\n            pr.disable()\n            t1 = time.time()\n            if (t1 - t0) &gt; 0.5:\n                transaction.commit()  # Found a slow execution!\n            else:\n                transaction.rollback() # it's fast, ignore it\n            ...\n            # other stuff\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>class MyEngine(object):\n    def run(self):\n        while self.alive:\n            # in main event loop\n            t0 = time.time()\n            pr.enable()\n            self.readPackets()\n            pr.disable()\n            t1 = time.time()\n            if (t1 - t0) &lt; 0.5:\n                pr.clear()            # get rid of this iteration, we don't care\n            else:\n                sys.exit()            # got a slow iteration                ...\n            # other stuff\n</code></pre>\n\n<p>Is there any way to profile a single call to a method, but only keep the results if it's slow?</p>\n"}, {"tags": ["python", "anaconda", "jupyter-notebook", "jupyter", "conda"], "comments": [{"owner": {"reputation": 2724, "user_id": 2514130, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4e395d187e74516473c8a14f9639c422?s=128&d=identicon&r=PG", "display_name": "jss367", "link": "https://stackoverflow.com/users/2514130/jss367"}, "edited": false, "score": 0, "creation_date": 1510183039, "post_id": 47191297, "comment_id": 81332105, "body": "Have you tried setting up virtual environments? You could have one for MXNet and another for Tensoflow. <a href=\"https://virtualenv.pypa.io/en/stable/\" rel=\"nofollow noreferrer\">virtualenv.pypa.io/en/stable</a>"}, {"owner": {"reputation": 2724, "user_id": 2514130, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4e395d187e74516473c8a14f9639c422?s=128&d=identicon&r=PG", "display_name": "jss367", "link": "https://stackoverflow.com/users/2514130/jss367"}, "edited": false, "score": 0, "creation_date": 1510183506, "post_id": 47191297, "comment_id": 81332280, "body": "If I&#39;m understanding what you&#39;re saying, you need to active the environment before you call jupyter notebook. So you would do <code>activate pytf</code> then <code>jupyter notebook</code>. Then you would have your notebook open in the correct environment."}, {"owner": {"reputation": 2274, "user_id": 2136741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2bbffef679c4a91d28b45adcac6ec7ad?s=128&d=identicon&r=PG", "display_name": "rgaut", "link": "https://stackoverflow.com/users/2136741/rgaut"}, "reply_to_user": {"reputation": 2724, "user_id": 2514130, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4e395d187e74516473c8a14f9639c422?s=128&d=identicon&r=PG", "display_name": "jss367", "link": "https://stackoverflow.com/users/2514130/jss367"}, "edited": false, "score": 0, "creation_date": 1510304589, "post_id": 47191297, "comment_id": 81387470, "body": "Thanks but installing environment_kernels package has helped to achieve this."}], "answers": [{"comments": [{"owner": {"reputation": 2274, "user_id": 2136741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2bbffef679c4a91d28b45adcac6ec7ad?s=128&d=identicon&r=PG", "display_name": "rgaut", "link": "https://stackoverflow.com/users/2136741/rgaut"}, "edited": false, "score": 0, "creation_date": 1510304489, "post_id": 47191558, "comment_id": 81387387, "body": "Yes without using these command by just going through  the UI, I want to switch the env"}, {"owner": {"reputation": 2327, "user_id": 4171578, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XftcB.jpg?s=128&g=1", "display_name": "Amade", "link": "https://stackoverflow.com/users/4171578/amade"}, "edited": false, "score": 1, "creation_date": 1528160789, "post_id": 47191558, "comment_id": 88391145, "body": "not sure if this is what you&#39;re looking for, but you can try changing the environment in Jupyter Notebook menu, in Kernel -&gt; Change Kernel -&gt; [... available kernels ...]"}, {"owner": {"reputation": 5443, "user_id": 810303, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c0d6bc7497da79b216459b25bcb8dfa3?s=128&d=identicon&r=PG", "display_name": "Shailen", "link": "https://stackoverflow.com/users/810303/shailen"}, "reply_to_user": {"reputation": 2327, "user_id": 4171578, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XftcB.jpg?s=128&g=1", "display_name": "Amade", "link": "https://stackoverflow.com/users/4171578/amade"}, "edited": false, "score": 1, "creation_date": 1547892726, "post_id": 47191558, "comment_id": 95355565, "body": "@Amade - that does not work for me. Changing the kernels always uses the python of a certain activated python. The <code>kernel.json</code> for each of the kernels in the list point to different python paths in their respective environments. Still, <code>!which python</code> always uses the one in the currently activated env where jupyter notebook was started."}], "tags": [], "owner": {"reputation": 727, "user_id": 7120903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QDvo0.jpg?s=128&g=1", "display_name": "Mark Hannel", "link": "https://stackoverflow.com/users/7120903/mark-hannel"}, "is_accepted": false, "score": 2, "last_activity_date": 1510184139, "creation_date": 1510184139, "answer_id": 47191558, "question_id": 47191297, "link": "https://stackoverflow.com/questions/47191297/how-to-switch-environment-on-jupyter-notebook-for-new-notebook/47191558#47191558", "title": "How to switch environment on Jupyter notebook for new notebook?", "body": "<p>When you start a jupyter notebook within an environment, it will only have access to the modules installed in that particular enviroment. If you need two specific environments for two different  notebooks, you will need to start a jupyter notebook within the two environments separately. </p>\n\n<p>If you are using anaconda, you would do the following in a terminal:</p>\n\n<pre><code>source activate MXNET\njupyter notebook\n</code></pre>\n\n<p>Then in a second terminal:</p>\n\n<pre><code> source activate Tensorflow\n jupyter notebook\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2274, "user_id": 2136741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2bbffef679c4a91d28b45adcac6ec7ad?s=128&d=identicon&r=PG", "display_name": "rgaut", "link": "https://stackoverflow.com/users/2136741/rgaut"}, "edited": false, "score": 0, "creation_date": 1510627690, "post_id": 47262847, "comment_id": 81504781, "body": "Yes along with this package I think also need to change the ~/.jupyter/jupyter_notebook_config.py  file with following config  c.NotebookApp.kernel_spec_manager_class = &#39;environment_kernels.EnvironmentKernelSpecManager&#39;"}, {"owner": {"reputation": 571, "user_id": 2332310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afbe3be6e235f4261ee6e4d39808753f?s=128&d=identicon&r=PG", "display_name": "jcb91", "link": "https://stackoverflow.com/users/2332310/jcb91"}, "reply_to_user": {"reputation": 2274, "user_id": 2136741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2bbffef679c4a91d28b45adcac6ec7ad?s=128&d=identicon&r=PG", "display_name": "rgaut", "link": "https://stackoverflow.com/users/2136741/rgaut"}, "edited": false, "score": 0, "creation_date": 1510684380, "post_id": 47262847, "comment_id": 81536432, "body": "This (setting the kernel_spec_manager_class value in config) is done automatically by the nb_conda_kernels.install module (see <a href=\"https://github.com/Anaconda-Platform/nb_conda_kernels/blob/3478523f366b11dd62ed6bd1535196c7c5a7e8c5/nb_conda_kernels/install.py#L76-L77\" rel=\"nofollow noreferrer\">github.com/Anaconda-Platform/nb_conda_kernels/blob/&hellip;</a>), which is called automatically as part of the conda package installation (see the post-link script in the conda recipe at <a href=\"https://github.com/Anaconda-Platform/nb_conda_kernels/blob/3478523f366b11dd62ed6bd1535196c7c5a7e8c5/conda.recipe/post-link.sh\" rel=\"nofollow noreferrer\">github.com/Anaconda-Platform/nb_conda_kernels/blob/&hellip;</a>)"}, {"owner": {"reputation": 5443, "user_id": 810303, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c0d6bc7497da79b216459b25bcb8dfa3?s=128&d=identicon&r=PG", "display_name": "Shailen", "link": "https://stackoverflow.com/users/810303/shailen"}, "edited": false, "score": 0, "creation_date": 1547891972, "post_id": 47262847, "comment_id": 95355381, "body": "the <code>conda-forge</code> channel uses really old packages. Using this channel, you may also be forced to downgrade your python version. To be on the safe side, use the default anaconda channel, i.e use <code>-c defaults</code>"}, {"owner": {"reputation": 5443, "user_id": 810303, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c0d6bc7497da79b216459b25bcb8dfa3?s=128&d=identicon&r=PG", "display_name": "Shailen", "link": "https://stackoverflow.com/users/810303/shailen"}, "reply_to_user": {"reputation": 2274, "user_id": 2136741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2bbffef679c4a91d28b45adcac6ec7ad?s=128&d=identicon&r=PG", "display_name": "rgaut", "link": "https://stackoverflow.com/users/2136741/rgaut"}, "edited": false, "score": 0, "creation_date": 1547894331, "post_id": 47262847, "comment_id": 95355931, "body": "Also, as of 01.2019, the comment from @rgaut does not seem to to work. You need to edit <code>~&#47;.jupyter&#47;jupyter_notebook_config.py</code> and set: <code>c.NotebookApp.kernel_spec_manager_class = &#39;nb_conda_kernels.CondaKernelSpecManager&#39;</code>"}], "tags": [], "owner": {"reputation": 571, "user_id": 2332310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afbe3be6e235f4261ee6e4d39808753f?s=128&d=identicon&r=PG", "display_name": "jcb91", "link": "https://stackoverflow.com/users/2332310/jcb91"}, "is_accepted": false, "score": 11, "last_activity_date": 1510571137, "creation_date": 1510571137, "answer_id": 47262847, "question_id": 47191297, "link": "https://stackoverflow.com/questions/47191297/how-to-switch-environment-on-jupyter-notebook-for-new-notebook/47262847#47262847", "title": "How to switch environment on Jupyter notebook for new notebook?", "body": "<p>You could use the <a href=\"https://github.com/Anaconda-Platform/nb_conda_kernels\" rel=\"noreferrer\">nb_conda_kernels</a> package, which provides a separate  jupyter kernel for each conda environment, along with the appropriate code to handle their setup. This makes switching conda environment as simple as switching jupyter kernel (e.g. from the kernel menu), which I find very convenient. You can get it from the conda-forge channel, using</p>\n\n<pre><code>conda install -c conda-forge nb_conda_kernels\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2274, "user_id": 2136741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2bbffef679c4a91d28b45adcac6ec7ad?s=128&d=identicon&r=PG", "display_name": "rgaut", "link": "https://stackoverflow.com/users/2136741/rgaut"}, "is_accepted": false, "score": 0, "last_activity_date": 1510627860, "creation_date": 1510627860, "answer_id": 47276896, "question_id": 47191297, "link": "https://stackoverflow.com/questions/47191297/how-to-switch-environment-on-jupyter-notebook-for-new-notebook/47276896#47276896", "title": "How to switch environment on Jupyter notebook for new notebook?", "body": "<p>Along with this package I think also need to change the ~/.jupyter/jupyter_notebook_config.py  file with following config</p>\n\n<pre><code>c.NotebookApp.kernel_spec_manager_class = 'environment_kernels.EnvironmentKernelSpecManager'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 914, "user_id": 9352131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbaeab37185cff73fa6995813d56097?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/9352131/travis"}, "is_accepted": false, "score": 0, "last_activity_date": 1584760410, "creation_date": 1584760410, "answer_id": 60784116, "question_id": 47191297, "link": "https://stackoverflow.com/questions/47191297/how-to-switch-environment-on-jupyter-notebook-for-new-notebook/60784116#60784116", "title": "How to switch environment on Jupyter notebook for new notebook?", "body": "<p>I don't really know the definition and relationship between <strong>kernel</strong> and <strong>conda env</strong>, but I beleive we can set a kernel for each <strong>env</strong>.</p>\n\n<p>I got a problem similar to you: I clean my data in <code>data_cleaning.ipynb</code> under <code>env_without_lgb</code>. However, I have <code>lightgbm</code> installed under <code>env_lightgbm</code>. So, I want to switch <strong>kernel/env</strong> from <code>env_without_lgb</code> to <code>env_lightgbm</code>, which we can use <code>Kernel -&gt; Change Kernel</code>: </p>\n\n<p><img src=\"https://i.stack.imgur.com/rfr0h.png\" alt=\"enter image description here\"></p>\n\n<p>If there is not a kernel you want, create a kernel under the right env according to <a href=\"https://ipython.readthedocs.io/en/latest/install/kernel_install.html#kernels-for-different-environments\" rel=\"nofollow noreferrer\">this guide</a>. For me, I only have a <code>Pure Python 3 kernel</code> and <code>R kernel</code> at first and then I create a kernel under <code>env_lightgbm</code>. At last, we can switch kernel when we editing our code.</p>\n\n<p>However, I still can not figure out the relationship between kernel and env.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 13618903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/568f90c0c6420474935eeaee1350923c?s=128&d=identicon&r=PG&f=1", "display_name": "Anne", "link": "https://stackoverflow.com/users/13618903/anne"}, "is_accepted": false, "score": 0, "last_activity_date": 1605213157, "last_edit_date": 1605213157, "creation_date": 1605208657, "answer_id": 64810375, "question_id": 47191297, "link": "https://stackoverflow.com/questions/47191297/how-to-switch-environment-on-jupyter-notebook-for-new-notebook/64810375#64810375", "title": "How to switch environment on Jupyter notebook for new notebook?", "body": "<p>Installing the <code>nb_conda_kernels</code> package as suggested by user @jcb91 worked for me. I did have to install it both in my root (base) environment as well as the virtual environment with which I wanted to use it. To do this, run the following in the Anaconda prompt (in your base environment):</p>\n<pre><code>conda install nb_conda_kernels\n</code></pre>\n<p>Then, activate your virtual environment (in the code below named 'myenv') and install the <code>nb_conda_kernels</code> package there as well. You can do this by running in the Anaconda prompt:</p>\n<pre><code>conda activate myenv\nconda install nb_conda_kernels\n</code></pre>\n<p>You now should be able to switch to your different environment using:</p>\n<pre><code>Kernel -&gt; Change Kernel\n</code></pre>\n"}], "owner": {"reputation": 2274, "user_id": 2136741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2bbffef679c4a91d28b45adcac6ec7ad?s=128&d=identicon&r=PG", "display_name": "rgaut", "link": "https://stackoverflow.com/users/2136741/rgaut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24830, "favorite_count": 6, "answer_count": 5, "score": 6, "last_activity_date": 1605213157, "creation_date": 1510182685, "last_edit_date": 1510183298, "question_id": 47191297, "link": "https://stackoverflow.com/questions/47191297/how-to-switch-environment-on-jupyter-notebook-for-new-notebook", "title": "How to switch environment on Jupyter notebook for new notebook?", "body": "<p>I have an instance with various environment and some notebooks are compatible with different environment for e.g. notebook1 is for MXNet and notebook2 is for Tensorflow.  </p>\n\n<p>How do I jump to new environment when I move from notebook1 to notebook2? \nI tried doing that but this doesn't quite work with Jupyter notebook? Any suggestion?</p>\n\n<p>So I need to do it from conda environment but looks like jupyter notebook  UI doesn't respect (calls right activation function) to set the path. </p>\n"}, {"tags": ["python", "python-3.x", "function", "loops", "while-loop"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1510182720, "post_id": 47191296, "comment_id": 81331998, "body": "because <code>cash</code> is a local variable, why would you want to do this?"}, {"owner": {"reputation": 101, "user_id": 8240298, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oIq74.png?s=128&g=1", "display_name": "Xuan", "link": "https://stackoverflow.com/users/8240298/xuan"}, "reply_to_user": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1510182796, "post_id": 47191296, "comment_id": 81332022, "body": "@JimFasarakisHilliard im writing a betting game where cash is increasing or decreasing while it is still not 0. How should I implement this?"}, {"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1510182834, "post_id": 47191296, "comment_id": 81332032, "body": "Okay, why do you need an additional function to do the increasing and decreasing?"}, {"owner": {"reputation": 101, "user_id": 8240298, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oIq74.png?s=128&g=1", "display_name": "Xuan", "link": "https://stackoverflow.com/users/8240298/xuan"}, "reply_to_user": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1510182909, "post_id": 47191296, "comment_id": 81332056, "body": "@JimFasarakisHilliard I assumed it was bad practice to have functions that have codes that are too long so I wrote another function to be called within it"}, {"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1510182988, "post_id": 47191296, "comment_id": 81332087, "body": "Well, sure, but you took it to the extreme. Just use <code>cash</code> in <code>tim</code>."}, {"owner": {"reputation": 101, "user_id": 8240298, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oIq74.png?s=128&g=1", "display_name": "Xuan", "link": "https://stackoverflow.com/users/8240298/xuan"}, "reply_to_user": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1510183113, "post_id": 47191296, "comment_id": 81332132, "body": "@JimFasarakisHilliard Do u mind taking a look at my code, and suggest how should I structure them. <a href=\"https://paste.ofcode.org/yCdLt39zJD5hhQeHj46kVs\" rel=\"nofollow noreferrer\">paste.ofcode.org/yCdLt39zJD5hhQeHj46kVs</a>"}, {"owner": {"reputation": 101, "user_id": 8240298, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oIq74.png?s=128&g=1", "display_name": "Xuan", "link": "https://stackoverflow.com/users/8240298/xuan"}, "reply_to_user": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1510183157, "post_id": 47191296, "comment_id": 81332147, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/158554/discussion-between-xuan-and-jim-fasarakis-hilliard\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 2, "last_activity_date": 1510186239, "creation_date": 1510186239, "answer_id": 47191863, "question_id": 47191296, "link": "https://stackoverflow.com/questions/47191296/altering-variables-value-in-a-function-by-calling-another-function-as-a-subfunc/47191863#47191863", "title": "Altering variable&#39;s value in a function by calling another function as a subfunction", "body": "<p>Function parameters are passed by value, not by reference, so assigning to the variable in <code>john</code> has no effect on the variable in <code>tim</code>. The function should return the new value:</p>\n\n<pre><code>def tim():\n    cash = 100\n    while cash != 0:\n        print(\"while loop:\",cash)\n        cash = john(cash)\n\ndef john(cash):\n    print(\"john func:\",cash)\n    return cash - 1\n\ntim()\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 8240298, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oIq74.png?s=128&g=1", "display_name": "Xuan", "link": "https://stackoverflow.com/users/8240298/xuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 47191863, "answer_count": 1, "score": 1, "last_activity_date": 1510186239, "creation_date": 1510182681, "last_edit_date": 1510182722, "question_id": 47191296, "link": "https://stackoverflow.com/questions/47191296/altering-variables-value-in-a-function-by-calling-another-function-as-a-subfunc", "title": "Altering variable&#39;s value in a function by calling another function as a subfunction", "body": "<pre><code>def tim():\n    cash = 100\n    while cash != 0:\n        print(\"while loop:\",cash)\n        john(cash)\n\ndef john(cash):\n    print(\"john func:\",cash)\n    cash = cash -1\n\ntim()\n</code></pre>\n\n<p>Can someone explain why john() does not reduce the value of cash? I've been struggling with this for quite long.</p>\n"}, {"tags": ["python", "macos", "unix", "md5", "spack"], "comments": [{"owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1510184348, "post_id": 47191290, "comment_id": 81332515, "body": "This looks unrelated to Git it&#39;s complaining about md5 checksums, but Git uses SHA1, not MD5."}, {"owner": {"reputation": 7430, "user_id": 3474956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RWbuy.jpg?s=128&g=1", "display_name": "kilojoules", "link": "https://stackoverflow.com/users/3474956/kilojoules"}, "reply_to_user": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1510199972, "post_id": 47191290, "comment_id": 81336418, "body": "Thanks. I removed the tag."}], "answers": [{"tags": [], "owner": {"reputation": 1369, "user_id": 5828163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e417a29291a30fb17be24920ce840ec8?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Stewart", "link": "https://stackoverflow.com/users/5828163/adam-stewart"}, "is_accepted": true, "score": 1, "last_activity_date": 1533239502, "creation_date": 1533239502, "answer_id": 51661181, "question_id": 47191290, "link": "https://stackoverflow.com/questions/47191290/spack-expected-commit-but-got-commit/51661181#51661181", "title": "spack expected &lt;commit&gt; but got &lt;commit&gt;", "body": "<p>This error message means that Spack downloaded the <code>yaml-cpp-0.5.3.tar.gz</code> tarball but the checksum for this tarball does not match the checksum listed in the <code>package.py</code>.</p>\n\n<p>In this case, what happened was that you downloaded <code>yaml-cpp</code>, then GitHub changed their automatic tarball generation algorithm, then the checksum in the <code>package.py</code> was updated upstream. See <a href=\"https://github.com/spack/spack/pull/6924\" rel=\"nofollow noreferrer\">https://github.com/spack/spack/pull/6924</a> for more information.</p>\n\n<p>To resolve your problem, either manually delete the tarball or run <code>spack clean --downloads</code> to delete all cached tarballs.</p>\n\n<p>P.S. Spack isn't currently very active on StackOverflow. You're better off asking on <a href=\"https://github.com/spack/spack\" rel=\"nofollow noreferrer\">GitHub</a> or <a href=\"https://spackpm.herokuapp.com/\" rel=\"nofollow noreferrer\">Slack</a>.</p>\n"}], "owner": {"reputation": 7430, "user_id": 3474956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RWbuy.jpg?s=128&g=1", "display_name": "kilojoules", "link": "https://stackoverflow.com/users/3474956/kilojoules"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 51661181, "answer_count": 1, "score": 0, "last_activity_date": 1533239502, "creation_date": 1510182664, "last_edit_date": 1510199958, "question_id": 47191290, "link": "https://stackoverflow.com/questions/47191290/spack-expected-commit-but-got-commit", "title": "spack expected &lt;commit&gt; but got &lt;commit&gt;", "body": "<p>I want to install nalu with spack. My install failed with a cryptic error message:</p>\n\n<pre><code>$ spack clean nalu\n==&gt; Cleaning build stage [nalu@master%clang@8.1.0-apple build_type=RelWithDebInfo ~openfast arch=darwin-sierra-x86_64 /5vijzp7]\n\n$ spack install nalu\n==&gt; pkg-config is already installed in /Users/kilojoules/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/pkg-config-0.29.2-72rz43flet5qcqtnx6zimnqy4ilk3tys\n ......\n==&gt; superlu is already installed in /Users/kilojoules/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/superlu-4.3-yveqzmkbbuutdcdj27m5cyyqlchwzvql\n==&gt; trilinos is already installed in /Users/kilojoules/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/trilinos-12.12.1-ff27cjskjbktug3ubqwdg5izvutewyjj\n==&gt; Installing yaml-cpp\n==&gt; Already downloaded /Users/kilojoules/spack/var/spack/stage/yaml-cpp-0.5.3-x7shbh5adkjvzxrjmfdlppt3ka5v6moy/yaml-cpp-0.5.3.tar.gz\n==&gt; Error: ChecksumError: md5 checksum failed for /Users/kilojoules/spack/var/spack/stage/yaml-cpp-0.5.3-x7shbh5adkjvzxrjmfdlppt3ka5v6moy/yaml-cpp-0.5.3.tar.gz\n    Expected 4e47733d98266e46a1a73ae0a72954eb but got 2bba14e6a7f12c7272f87d044e4a7211\nChecksumError: ChecksumError: md5 checksum failed for /Users/kilojoules/spack/var/spack/stage/yaml-cpp-0.5.3-x7shbh5adkjvzxrjmfdlppt3ka5v6moy/yaml-cpp-0.5.3.tar.gz\n    Expected 4e47733d98266e46a1a73ae0a72954eb but got 2bba14e6a7f12c7272f87d044e4a7211\n\n/Users/kilojoules/spack/lib/spack/spack/package.py:997, in do_fetch:\n     29            self._fetch_time = time.time() - start_time\n     30    \n     31            if spack.do_checksum and self.version in self.versions:\n  &gt;&gt; 32                self.stage.check()\n     33    \n     34            self.stage.cache_local()\n</code></pre>\n\n<p>I tried to go to the folder in question and check out the commit it expected but I couldn't find version control specifications in <code>/Users/kilojoules/spack/var/spack/stage/yaml-cpp-0.5.3-x7shbh5adkjvzxrjmfdlppt3ka5v6moy</code>.</p>\n\n<p>What could this mean? How can I resolve this issue?</p>\n"}, {"tags": ["python", "if-statement", "list-comprehension", "boolean-logic"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1510182865, "post_id": 47191226, "comment_id": 81332043, "body": "Why do you want to use a list comprehension for this? It will make your code hard to read for no benefit."}, {"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1510182938, "post_id": 47191226, "comment_id": 81332070, "body": "Welcome to SO! To address your question regarding the syntax error - that&#39;s because you don&#39;t have a default value for fallback. What if x+y is not 2 and x-y is not 1?"}, {"owner": {"reputation": 53, "user_id": 6728198, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r1q-5Ts6aFw/AAAAAAAAAAI/AAAAAAAAAkg/-MLRWNi9pok/photo.jpg?sz=128", "display_name": "Jonathan Rolfsen", "link": "https://stackoverflow.com/users/6728198/jonathan-rolfsen"}, "edited": false, "score": 0, "creation_date": 1510185814, "post_id": 47191226, "comment_id": 81332910, "body": "@Blurp - Partly because I&#39;m still learning list comprehension logic and structures, but also because I was interested to see if someone would come up with a creative shorter version, or a version that uses True/False logic as apposed to math operation (like &quot;Wander Nauta&#39;s&quot; awesome answer below). I comment my code well too, so I&#39;m not too worried."}, {"owner": {"reputation": 53, "user_id": 6728198, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r1q-5Ts6aFw/AAAAAAAAAAI/AAAAAAAAAkg/-MLRWNi9pok/photo.jpg?sz=128", "display_name": "Jonathan Rolfsen", "link": "https://stackoverflow.com/users/6728198/jonathan-rolfsen"}, "reply_to_user": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1510185943, "post_id": 47191226, "comment_id": 81332939, "body": "@Bahrom Thank you. I forgot those had to be handled in List Comps, I should&#39;ve realized that from my 3rd resource listed."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1510186143, "post_id": 47191226, "comment_id": 81333004, "body": "Even if you comment your code well, nesting ternaries in a comprehension is pretty unreadable, especially for anyone else trying to understand your code. Also, other clever solutions that don&#39;t involve ternaries may still be hard to understand. Readability is almost always more important (and more Pythonic) than shorter code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1510188454, "post_id": 47191226, "comment_id": 81333623, "body": "Sure, there&#39;s a trade-off, but I&#39;m talking about the difference of, typically, a few lines for the sake of readability, not 4 times more code."}, {"owner": {"reputation": 53, "user_id": 6728198, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r1q-5Ts6aFw/AAAAAAAAAAI/AAAAAAAAAkg/-MLRWNi9pok/photo.jpg?sz=128", "display_name": "Jonathan Rolfsen", "link": "https://stackoverflow.com/users/6728198/jonathan-rolfsen"}, "reply_to_user": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1519193135, "post_id": 47191226, "comment_id": 84803591, "body": "@Bahrom  Do you have any recommendations for how I should make posts in the future? I just updated the post, but prior I had gotten down-voted."}], "answers": [{"tags": [], "owner": {"reputation": 14317, "user_id": 182402, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/de96aa2f424a48b2510a7d29c65a8ace?s=128&d=identicon&r=PG", "display_name": "Wander Nauta", "link": "https://stackoverflow.com/users/182402/wander-nauta"}, "is_accepted": true, "score": 0, "last_activity_date": 1510182834, "creation_date": 1510182834, "answer_id": 47191322, "question_id": 47191226, "link": "https://stackoverflow.com/questions/47191226/boolean-logical-comparison-of-lists-using-list-comprehension/47191322#47191322", "title": "Boolean-logical Comparison of Lists Using List Comprehension", "body": "<p>How's this?</p>\n\n<pre><code>L = [int(y) for x, y in zip(A, B) if int(x)]\n</code></pre>\n\n<p>If x is 0, the item is skipped. Otherwise, if y is 1, add 1; if y is 0, add 0.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "is_accepted": false, "score": 0, "last_activity_date": 1510183727, "creation_date": 1510183727, "answer_id": 47191482, "question_id": 47191226, "link": "https://stackoverflow.com/questions/47191226/boolean-logical-comparison-of-lists-using-list-comprehension/47191482#47191482", "title": "Boolean-logical Comparison of Lists Using List Comprehension", "body": "<p>I think something like this would be much easier to read and extend:</p>\n\n<pre><code>A = '11111111111000000010'\nB = '11101010101010101010'\n\nresult_map = {\n    ('1', '1'): 1,\n    ('1', '0'): 0,\n}\n\nresult = [result_map[pair] for pair in zip(A, B) if pair in result_map]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 3159209, "user_type": "registered", "profile_image": "https://graph.facebook.com/933358/picture?type=large", "display_name": "nesaboz", "link": "https://stackoverflow.com/users/3159209/nesaboz"}, "is_accepted": false, "score": 0, "last_activity_date": 1510188321, "last_edit_date": 1510188321, "creation_date": 1510184172, "answer_id": 47191563, "question_id": 47191226, "link": "https://stackoverflow.com/questions/47191226/boolean-logical-comparison-of-lists-using-list-comprehension/47191563#47191563", "title": "Boolean-logical Comparison of Lists Using List Comprehension", "body": "<p>The question is rather convoluted but what I believe you want is this:</p>\n\n<pre><code>a = [int(x) for x in A] \nb = [int(x) for x in B]\nc = [x for x in zip(a, b)]\nI = [idx for (idx, x) in enumerate(a) if x == 0]\nL = [x for (idx, x) in enumerate(b) if idx not in I]\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6728198, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r1q-5Ts6aFw/AAAAAAAAAAI/AAAAAAAAAkg/-MLRWNi9pok/photo.jpg?sz=128", "display_name": "Jonathan Rolfsen", "link": "https://stackoverflow.com/users/6728198/jonathan-rolfsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1422, "favorite_count": 0, "accepted_answer_id": 47191322, "answer_count": 3, "score": -1, "last_activity_date": 1519192560, "creation_date": 1510182321, "last_edit_date": 1519192560, "question_id": 47191226, "link": "https://stackoverflow.com/questions/47191226/boolean-logical-comparison-of-lists-using-list-comprehension", "title": "Boolean-logical Comparison of Lists Using List Comprehension", "body": "<p><strong>Here's what I'm trying to do</strong> (in a single list comprehension):</p>\n\n<p><strong>1.</strong> Compare the the relation of 2 bool-integer lists using logical operators<br>\n<strong>2.</strong> Return a list of bool-int values where:<br>\n    <strong>-</strong> 1 is returned when both a,b values are 1 (1,1)<br>\n    <strong>-</strong> 0 is returned when a==1 and b==0 (1,0)<br>\n    <strong>-</strong> other cases are skipped, as in (0,0 &amp; 0,1)  </p>\n\n<p><strong>Example Logic:</strong>  </p>\n\n<pre><code>A = [1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0]\nB = [1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]\nL = []\n\nfor i in range(len(B)):\n    if A[i] + B[i] == 2:\n        L.append(1)\n    elif A[i]==1 and B[i]==0:\n        L.append(0)\n</code></pre>\n\n<p><strong>Expected Output for print(L):</strong>  </p>\n\n<pre><code>[1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1]\n</code></pre>\n\n<p><strong>My Attempt:</strong> (syntaxError points to the 'for')(and it's a bit long)  </p>\n\n<pre><code>L = [1 if x+y == 2 else 0 if x-y == 1 for x,y in zip(A, B)]  \n</code></pre>\n\n<p><strong>Best Answer by Wander Nauta</strong> (Pythonic and fast)   </p>\n\n<pre><code>L = [y for x, y in zip(A, B) if x]  \n</code></pre>\n\n<p>.<br>\n<strong>Couple of My Reference Points:</strong><br>\n- <a href=\"https://stackoverflow.com/questions/14050824/add-sum-of-values-of-two-lists-into-new-list\">add-sum-of-values-of-two-lists-into-new-list</a><br>\n- <a href=\"https://stackoverflow.com/questions/4406389/if-else-in-a-list-comprehension\">if-else-in-a-list-comprehension</a><br>\n- <a href=\"https://stackoverflow.com/questions/9987483/elif-in-list-comprehension-conditionals\">elif-in-list-comprehension-conditionals</a>  </p>\n\n<p><strong>Use Cases:</strong><br>\n- Comparing lists representing the set of features (un)desired by a user/customer, and (un)available for a given product/service<br>\n- The returned 1's would represent desires_met and 0's would represent desires_unmet<br>\n- Further derivatives/analysis could easily be done on the boolean list returned.  </p>\n"}, {"tags": ["python", "input"], "comments": [{"owner": {"reputation": 812, "user_id": 2428889, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ewG79.jpg?s=128&g=1", "display_name": "apsdehal", "link": "https://stackoverflow.com/users/2428889/apsdehal"}, "edited": false, "score": 0, "creation_date": 1510182435, "post_id": 47191225, "comment_id": 81331899, "body": "Did you call <code>loop</code> function?"}, {"owner": {"reputation": 515, "user_id": 3155133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c4efba1a90fc9f42757774709a3b6c?s=128&d=identicon&r=PG&f=1", "display_name": "Abend", "link": "https://stackoverflow.com/users/3155133/abend"}, "edited": false, "score": 0, "creation_date": 1510182452, "post_id": 47191225, "comment_id": 81331905, "body": "You never invoke the function loop()"}, {"owner": {"reputation": 2064, "user_id": 3407256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YM7I4.jpg?s=128&g=1", "display_name": "foxyblue", "link": "https://stackoverflow.com/users/3407256/foxyblue"}, "edited": false, "score": 0, "creation_date": 1510183095, "post_id": 47191225, "comment_id": 81332124, "body": "I like how this has an attempt to solve the problem, shows some level of understanding of <code>python</code> and requests for <code>the right path</code>"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1510183599, "post_id": 47191225, "comment_id": 81332315, "body": "Don&#39;t use recursion where a <code>while</code> loop would work perfectly well."}], "answers": [{"tags": [], "owner": {"reputation": 812, "user_id": 2428889, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ewG79.jpg?s=128&g=1", "display_name": "apsdehal", "link": "https://stackoverflow.com/users/2428889/apsdehal"}, "is_accepted": false, "score": 0, "last_activity_date": 1510182501, "creation_date": 1510182501, "answer_id": 47191258, "question_id": 47191225, "link": "https://stackoverflow.com/questions/47191225/input-not-working-in-python-3/47191258#47191258", "title": "Input not working in python 3", "body": "<p>You need to call <code>loop</code> function\nTry this:</p>\n\n<pre><code>import math\n\nprint ('Circumference and Area calculator')\ndef loop():\n    again = input ('Would you like to make any more calculations? (y/n)').lower()\n    if again == \"y\":\n        choice()\n    elif again == \"n\":\n            print ('\\nGoodbye')\n    else:\n            print ('Please enter y for yes and n for no')\n            print ('Try again')\n            loop()\nif __name__ == '__main__':\n    loop()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 120, "user_id": 4237910, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EYsNgdvQmqE/AAAAAAAAAAI/AAAAAAAAAGQ/6bjfRklLDI4/photo.jpg?sz=128", "display_name": "Steve Hawkins", "link": "https://stackoverflow.com/users/4237910/steve-hawkins"}, "is_accepted": false, "score": 1, "last_activity_date": 1510182507, "creation_date": 1510182507, "answer_id": 47191259, "question_id": 47191225, "link": "https://stackoverflow.com/questions/47191225/input-not-working-in-python-3/47191259#47191259", "title": "Input not working in python 3", "body": "<p>You've defined the function loop() but you never call it. You'll want something like this at the end of the file:</p>\n\n<pre><code>if __name__ == \"__main__\":\n    loop()\n</code></pre>\n\n<p>Docs on what this does for Python 3 can be found <a href=\"https://docs.python.org/3/library/__main__.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 19, "user_id": 8891331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9b020dbeda0b7dbfc003011ad6f390?s=128&d=identicon&r=PG&f=1", "display_name": "567", "link": "https://stackoverflow.com/users/8891331/567"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2777, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1510182507, "creation_date": 1510182319, "question_id": 47191225, "link": "https://stackoverflow.com/questions/47191225/input-not-working-in-python-3", "title": "Input not working in python 3", "body": "<p>I have been given an assignment by my teacher in class to write a Python program that calculates the circumference and area of certain shapes. So far my first bit of code</p>\n\n<pre><code>import math\n\nprint ('Circumference and Area calculator')\ndef loop():\n    again = input ('Would you like to make any more calculations? (y/n)').lower()\n    if again == \"y\":\n        choice()\n    elif again == \"n\":\n            print ('\\nGoodbye')\n    else:\n            print ('Please enter y for yes and n for no')\n            print ('Try again')\n            loop()\n</code></pre>\n\n<p>But when I run this module in the Python IDLE the input does not show up, and it just prints \"Circumference and Area calculator\". After removing <code>def loop():</code> the input works, but with it it doesn't.</p>\n\n<p>Would any one be able to give a solution or send me on the right path?</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 8883268, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cfb524c45a29b9e37b35c09e6592988e?s=128&d=identicon&r=PG&f=1", "display_name": "HakariDo", "link": "https://stackoverflow.com/users/8883268/hakarido"}, "edited": false, "score": 0, "creation_date": 1510182945, "post_id": 47191303, "comment_id": 81332072, "body": "Thank you, I am learning! A bonus Q: how can I make the user entered path case insensitive, i.e., <code>C:\\a\\b` == </code>c:\\a\\b`?"}], "tags": [], "owner": {"reputation": 570, "user_id": 3246135, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b7765949b68c1d295858f4cf9bd9ceb1?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/3246135/nilo"}, "is_accepted": false, "score": 1, "last_activity_date": 1510182698, "creation_date": 1510182698, "answer_id": 47191303, "question_id": 47191224, "link": "https://stackoverflow.com/questions/47191224/compare-user-input-against-os-getcwd-then-continue-or-quit-with-a-message/47191303#47191303", "title": "Compare user input against os.getcwd(), then continue or quit with a message", "body": "<p>Indentation matters in Python:</p>\n\n<pre><code>import os\nimport sys\n\nprint('Current working directory (CWD) is:', os.getcwd())\nconfcwd = input('Confirm intended CWD by enerting: ')\nif confcwd == os.getcwd():\n    print (\"CWD confirmed.\")\nelse:\n    print (\"ERROR! Unable to verify CWD.\")\n    exit()\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 8883268, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cfb524c45a29b9e37b35c09e6592988e?s=128&d=identicon&r=PG&f=1", "display_name": "HakariDo", "link": "https://stackoverflow.com/users/8883268/hakarido"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510182698, "creation_date": 1510182316, "question_id": 47191224, "link": "https://stackoverflow.com/questions/47191224/compare-user-input-against-os-getcwd-then-continue-or-quit-with-a-message", "title": "Compare user input against os.getcwd(), then continue or quit with a message", "body": "<p>How to display the actual CWD, and also <strong>have the user manually enter</strong> it for confirmation. If they are the same, then continue the program, if they are not the same, then exit the program with a message. </p>\n\n<p>I am getting errors with the <code>else:</code>.  </p>\n\n<pre><code>import os\nimport sys\n\nprint('Current working directory (CWD) is:', os.getcwd())\nconfcwd = input('Confirm intended CWD by enerting: ')\nif confcwd == os.getcwd():\n    print (\"CWD confirmed.\")\n    else:\n    print (\"ERROR! Unable to verify CWD.\")\n    exit()\n</code></pre>\n\n<p>(This one safeguard that file manipulation do not take place in the wrong dir.)</p>\n"}, {"tags": ["python", "jupyter-notebook", "statsmodels"], "comments": [{"owner": {"reputation": 1930, "user_id": 5671926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wxWXS.jpg?s=128&g=1", "display_name": "Mahesh Karia", "link": "https://stackoverflow.com/users/5671926/mahesh-karia"}, "edited": false, "score": 0, "creation_date": 1510648064, "post_id": 47191192, "comment_id": 81512084, "body": "can you uninstall it first and then reinstall it?"}, {"owner": {"reputation": 357, "user_id": 5405684, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/oygjk.gif?s=128&g=1", "display_name": "lstbl", "link": "https://stackoverflow.com/users/5405684/lstbl"}, "edited": false, "score": 0, "creation_date": 1525270515, "post_id": 47191192, "comment_id": 87291808, "body": "Having the same issue, any updates?"}, {"owner": {"reputation": 192, "user_id": 3307095, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/79683c25a5462e1eb9216d066616647f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Mao", "link": "https://stackoverflow.com/users/3307095/richard-mao"}, "edited": false, "score": 0, "creation_date": 1525536382, "post_id": 47191192, "comment_id": 87399703, "body": "same here , I do not what to do . in terminal , imported without problem ."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9341830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b65b61063119698d81ed2d96219e9bbd?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/9341830/leo"}, "is_accepted": false, "score": 0, "last_activity_date": 1518358444, "creation_date": 1518358444, "answer_id": 48732416, "question_id": 47191192, "link": "https://stackoverflow.com/questions/47191192/python-cannot-import-statsmodels-api-importerror-cannot-import-name-getar/48732416#48732416", "title": "Python: cannot import statsmodels.api --&gt; ImportError: cannot import name &#39;getargspec&#39;", "body": "<p>Use pycharm instead of jupyter notebook, you may get some warning messages, but without this importerror.</p>\n"}], "owner": {"reputation": 31, "user_id": 8423604, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154736267492031/picture?type=large", "display_name": "gereige", "link": "https://stackoverflow.com/users/8423604/gereige"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 829, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1518358444, "creation_date": 1510182111, "question_id": 47191192, "link": "https://stackoverflow.com/questions/47191192/python-cannot-import-statsmodels-api-importerror-cannot-import-name-getar", "title": "Python: cannot import statsmodels.api --&gt; ImportError: cannot import name &#39;getargspec&#39;", "body": "<p>I am trying to import statsmodels.api to run a logistic regression and i get the following error:</p>\n\n<p>ImportError: cannot import name 'getargspec'</p>\n\n<p>I have tried to updgrde: pip install statsmodels --upgrade</p>\n\n<p>Still nothing. </p>\n"}, {"tags": ["python", "tkinter", "sqlite"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1510183907, "post_id": 47191048, "comment_id": 81332394, "body": "What debugging have you done? Have you tried printing out <code>x</code> to see if it is what you assume it is?"}], "answers": [{"tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": false, "score": 1, "last_activity_date": 1510182468, "creation_date": 1510182468, "answer_id": 47191252, "question_id": 47191048, "link": "https://stackoverflow.com/questions/47191048/comparing-names-from-tkinter-entry-to-sqlite3-table/47191252#47191252", "title": "Comparing names from tkinter Entry to sqlite3 table", "body": "<p><a href=\"https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection.execute\" rel=\"nofollow noreferrer\"><code>cursor.execute()</code></a> returns a <a href=\"https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor\" rel=\"nofollow noreferrer\"><code>sqlite3.Cursor</code></a> object. You then need to use that cursor to get the actual query results. You could do that with <a href=\"https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor.fetchone\" rel=\"nofollow noreferrer\"><code>cursor.fetchone()</code></a> to grab the first result.</p>\n\n<p>However, since you want to check if there are any rows in the database containing the value of <code>self.surname</code> in the surname column you can query like this:</p>\n\n<pre><code>c.execute('SELECT surname FROM MemberRecordsTable where surname = ?', (self.surname.get(),))\nif c.fetchone():\n    print('Found')\nelse:\n    print('Not found')\n</code></pre>\n\n<p>This query will return rows from the database having the value of <code>self.surname</code> in the <code>surname</code> column. The query is performed using parametrisation to mitigate against SQL injection attacks which are present when accepting arbitrary user entered data.</p>\n"}], "owner": {"reputation": 57, "user_id": 8314616, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/yiz4P.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8314616/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1510182468, "creation_date": 1510181406, "question_id": 47191048, "link": "https://stackoverflow.com/questions/47191048/comparing-names-from-tkinter-entry-to-sqlite3-table", "title": "Comparing names from tkinter Entry to sqlite3 table", "body": "<p>I am wondering how to compare the entry into a tkinter window to data in a sqlite3 table. I am able to read from the table but when compared to an \"Entry\" it never comes out as if the entry has been found. </p>\n\n<pre><code>def __init__(self, master):\nself.frame = Frame(master)\nself.frame.pack()\nself.firstname = StringVar()\nself.surname = StringVar()\n\n def find(self):\n    x = c.execute('SELECT surname FROM MemberRecordsTable')\n    if self.surname.get() == x:\n        found = Label(self.frame, text = 'Name found')\n        found.pack()\n    else:\n        notfound = Label(self.frame, text = 'Name not found')\n        notfound.pack()\n\ndef checkpayments(self):\n    checkmember = Entry(self.frame, textvariable = self.surname)\n    checkmember.pack()\n    checkmember2 = Entry(self.frame, textvariable = self.firstname)\n    checkmember2.pack()\n    findmember = Button(self.frame, text = 'Find member', command = self.find)\n    findmember.pack()\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1510181436, "post_id": 47191040, "comment_id": 81331520, "body": "What would you expect it to be?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1510181450, "post_id": 47191040, "comment_id": 81331534, "body": "Because the first char is <code>.</code> that is matched with the splitting pattern."}, {"owner": {"reputation": 5, "user_id": 8155211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf0c87cad91b51ff75b11ada0ae0bc1?s=128&d=identicon&r=PG&f=1", "display_name": "Avishek Mondal", "link": "https://stackoverflow.com/users/8155211/avishek-mondal"}, "edited": false, "score": 0, "creation_date": 1510186071, "post_id": 47191040, "comment_id": 81332979, "body": "I would expect it to be 172, because I&#39;ve specified the greedy + sign in the delimiter"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 8155211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf0c87cad91b51ff75b11ada0ae0bc1?s=128&d=identicon&r=PG&f=1", "display_name": "Avishek Mondal", "link": "https://stackoverflow.com/users/8155211/avishek-mondal"}, "edited": false, "score": 0, "creation_date": 1510186226, "post_id": 47191085, "comment_id": 81333027, "body": "Is it at all possible to get the first element to be 172 using regex?"}], "tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": false, "score": 0, "last_activity_date": 1510183766, "last_edit_date": 1510183766, "creation_date": 1510181576, "answer_id": 47191085, "question_id": 47191040, "link": "https://stackoverflow.com/questions/47191040/python-re-split/47191085#47191085", "title": "Python re.split", "body": "<p>The first element is everything between the beginning of the string and the first <code>.</code>. There are no such characters, so it is <code>''</code>. <code>n[2]</code> should be blank as well, because there is nothing between the second <code>.</code> and the third.</p>\n"}], "owner": {"reputation": 5, "user_id": 8155211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf0c87cad91b51ff75b11ada0ae0bc1?s=128&d=identicon&r=PG&f=1", "display_name": "Avishek Mondal", "link": "https://stackoverflow.com/users/8155211/avishek-mondal"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "closed_date": 1510181678, "answer_count": 1, "score": -3, "last_activity_date": 1510187629, "creation_date": 1510181377, "last_edit_date": 1510187629, "question_id": 47191040, "link": "https://stackoverflow.com/questions/47191040/python-re-split", "closed_reason": "Duplicate", "title": "Python re.split", "body": "<p>For the following code,</p>\n\n<pre><code>import re\nn = '.172..16.52.207,172.16.52.117'\ns = re.split(',+|\\.+',n)\nprint s\n</code></pre>\n\n<p>why is the first element of <code>s</code> a blank, i.e. <code>''</code> ? </p>\n"}, {"tags": ["python", "flask", "flask-sqlalchemy"], "comments": [{"owner": {"reputation": 548, "user_id": 2304156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50a64d0764c2ad3ec6a9cb6c1ac59e1?s=128&d=identicon&r=PG", "display_name": "PerunSS", "link": "https://stackoverflow.com/users/2304156/perunss"}, "edited": false, "score": 1, "creation_date": 1510181530, "post_id": 47191039, "comment_id": 81331572, "body": "You can chain methods: <code>Taxi.query.filter_by(area=&#39;Abuja&#39;).order_by(Taxi.count).all(&zwnj;&#8203;)</code>"}, {"owner": {"reputation": 42, "user_id": 5631950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uapyH.jpg?s=128&g=1", "display_name": "bones.io", "link": "https://stackoverflow.com/users/5631950/bones-io"}, "reply_to_user": {"reputation": 548, "user_id": 2304156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50a64d0764c2ad3ec6a9cb6c1ac59e1?s=128&d=identicon&r=PG", "display_name": "PerunSS", "link": "https://stackoverflow.com/users/2304156/perunss"}, "edited": false, "score": 0, "creation_date": 1510304237, "post_id": 47191039, "comment_id": 81387235, "body": "Thank you. @PerunSS"}, {"owner": {"reputation": 538, "user_id": 3717142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cx0VD.jpg?s=128&g=1", "display_name": "Naisarg Parmar", "link": "https://stackoverflow.com/users/3717142/naisarg-parmar"}, "edited": false, "score": 0, "creation_date": 1551435075, "post_id": 47191039, "comment_id": 96647600, "body": "How to do order_by DESC?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11801244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b67d1192f1b780f5ead997397e80cdee?s=128&d=identicon&r=PG", "display_name": "rundhik", "link": "https://stackoverflow.com/users/11801244/rundhik"}, "is_accepted": false, "score": 0, "last_activity_date": 1589604217, "creation_date": 1589604217, "answer_id": 61831988, "question_id": 47191039, "link": "https://stackoverflow.com/questions/47191039/filtering-and-ordering-a-query-sqlalchemy/61831988#61831988", "title": "Filtering and ordering a query SQLAlchemy", "body": "<p>For order query descending, try :</p>\n\n<pre><code>taxis = Taxi.query.order_by(Taxi.count.desc()).all()\n</code></pre>\n"}], "owner": {"reputation": 42, "user_id": 5631950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uapyH.jpg?s=128&g=1", "display_name": "bones.io", "link": "https://stackoverflow.com/users/5631950/bones-io"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2023, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1589604217, "creation_date": 1510181353, "question_id": 47191039, "link": "https://stackoverflow.com/questions/47191039/filtering-and-ordering-a-query-sqlalchemy", "title": "Filtering and ordering a query SQLAlchemy", "body": "<p>I am creating a database model for a Taxi recording system for a flask web application, using flask-sqlalchemy, and it looks like this:</p>\n\n<pre><code>class Taxi(db.Model):\n    __tablename__ = 'taxis'\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String(32))\n    area = db.Column(db.String(32))\n    count = db.Column(db.Integer, default=0, index=True)\n    last_dispatched = db.Column(db.DateTime, default=datetime.utcnow)\n</code></pre>\n\n<p>Ordinarily I would query the database model based on the area row doing this:</p>\n\n<p><code>abuja_taxis = Taxi.query.filter_by(area='Abuja').all()</code></p>\n\n<p>and order the database model based on the count row doing this:</p>\n\n<p><code>taxis = Taxi.query.order_by(Taxi.count).all()</code></p>\n\n<p>But I want to query the model by filtering based on the area row and also order that query based on the count row, but I can't order the results of the first filter since that is already a list.</p>\n"}, {"tags": ["python", "performance", "interpreted-language"], "comments": [{"owner": {"reputation": 13849, "user_id": 4201810, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y_UkutO0V_M/AAAAAAAAAAI/AAAAAAAAAjQ/PK7PzkynAm0/photo.jpg?sz=128", "display_name": "georgexsh", "link": "https://stackoverflow.com/users/4201810/georgexsh"}, "edited": false, "score": 2, "creation_date": 1510505722, "post_id": 47191037, "comment_id": 81453018, "body": "would you like to post a minimal example?"}, {"owner": {"reputation": 528, "user_id": 2765164, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a550866d8240a538efa628221909ea0b?s=128&d=identicon&r=PG&f=1", "display_name": "David Nemeskey", "link": "https://stackoverflow.com/users/2765164/david-nemeskey"}, "edited": false, "score": 2, "creation_date": 1510571955, "post_id": 47191037, "comment_id": 81476876, "body": "Some extra explanation of the problem wouldn&#39;t go amiss, either. E.g. you mention inter-process communication, but later reveal that your application would run in a single process. Also, what is it that you want to optimize: just the depth of the Python call stack, or actual context switching in the interpreter? Or the impact of having to do a lookup before every function call?"}, {"owner": {"reputation": 375, "user_id": 3335163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c16ceedcdd8d1a01eee6b5b3de944?s=128&d=identicon&r=PG&f=1", "display_name": "Grisha", "link": "https://stackoverflow.com/users/3335163/grisha"}, "edited": false, "score": 0, "creation_date": 1510758684, "post_id": 47191037, "comment_id": 81572242, "body": "I don&#39;t see a lot of stack overhead in your design - it&#39;s not recursive or smth. Instead of one direct call, you first call the proxy and then the proxy calls the actual implementation - so it&#39;s two function calls instead of one. No big deal in terms of stack usage for me."}, {"owner": {"reputation": 372, "user_id": 8568787, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a89f0fc803ad700b627a8b417901c1bc?s=128&d=identicon&r=PG&f=1", "display_name": "Max Krappmann", "link": "https://stackoverflow.com/users/8568787/max-krappmann"}, "edited": false, "score": 0, "creation_date": 1510851307, "post_id": 47191037, "comment_id": 81621734, "body": "Maybe I&#39;m totally missleading. But couldn&#39;t you store your output in a queue which uses a trace exchange with a fan. Then the sending could be one process while the next task could be processed by the same worker. This can also be done locally using eg. rabbitmq server. The overhead could be decreased using mutliple workers that share the same task or are able to process multiple tasks."}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1511077115, "post_id": 47191037, "comment_id": 81701840, "body": "What &quot;context swap&quot; are you talking about?  Your example code shows a simple dictionary mapping strings to functions.  I get that client code can use an instance of this little class to call a function without knowing in what module that function is defined.  That might be useful, but your program must still load all the modules it needs to populate the dictionary&#39;s values. You seem worried that there&#39;s some performance issue when the functions are defined in several different modules, but there isn&#39;t.  A module is just a file with some code in it, not a separate execution context."}], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 8263546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RLePj.jpg?s=128&g=1", "display_name": "MEE", "link": "https://stackoverflow.com/users/8263546/mee"}, "edited": false, "score": 0, "creation_date": 1511089099, "post_id": 47357222, "comment_id": 81704355, "body": "Hello, this could be used as some kind of source: <a href=\"https://stackoverflow.com/a/100146\">stackoverflow.com/a/100146</a>"}, {"owner": {"reputation": 3513, "user_id": 6103001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a874dcd5632319daf12801f77659d63?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Zaborowski", "link": "https://stackoverflow.com/users/6103001/micha%c5%82-zaborowski"}, "reply_to_user": {"reputation": 483, "user_id": 8263546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RLePj.jpg?s=128&g=1", "display_name": "MEE", "link": "https://stackoverflow.com/users/8263546/mee"}, "edited": false, "score": 0, "creation_date": 1511098381, "post_id": 47357222, "comment_id": 81706879, "body": "In Python everything is an object. Object itself, class, meta class, as well as function / method. If there is singleton proxy, then class / meta class are not relevant here. For method / function - each call creates scope, which is dictionary. Each key is variable name, and value is it&#39;s value. That can&#39;t be done in different way inside Python."}, {"owner": {"reputation": 483, "user_id": 8263546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RLePj.jpg?s=128&g=1", "display_name": "MEE", "link": "https://stackoverflow.com/users/8263546/mee"}, "edited": false, "score": 0, "creation_date": 1511100195, "post_id": 47357222, "comment_id": 81707408, "body": "I supposed this could be a <code>credible</code> source (bounty)"}, {"owner": {"reputation": 3513, "user_id": 6103001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a874dcd5632319daf12801f77659d63?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Zaborowski", "link": "https://stackoverflow.com/users/6103001/micha%c5%82-zaborowski"}, "reply_to_user": {"reputation": 483, "user_id": 8263546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RLePj.jpg?s=128&g=1", "display_name": "MEE", "link": "https://stackoverflow.com/users/8263546/mee"}, "edited": false, "score": 0, "creation_date": 1511102181, "post_id": 47357222, "comment_id": 81708135, "body": "I was looking to reference something, but that was easier to write down what I know. Also I&#39;m just interested in understanding 50 pts. bounty is not that much - accepted answer gives 25."}], "tags": [], "owner": {"reputation": 3513, "user_id": 6103001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a874dcd5632319daf12801f77659d63?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Zaborowski", "link": "https://stackoverflow.com/users/6103001/micha%c5%82-zaborowski"}, "is_accepted": false, "score": 1, "last_activity_date": 1510985245, "last_edit_date": 1592644375, "creation_date": 1510943988, "answer_id": 47357222, "question_id": 47191037, "link": "https://stackoverflow.com/questions/47191037/how-do-python-implementations-handle-context-swap-during-function-calls/47357222#47357222", "title": "How do Python implementations handle context swap during function calls?", "body": "<p>Interesting topic. Frankly speaking Python is not expected to work fast, however, I observe more and more demand on that.</p>\n<h1>In short:</h1>\n<p>Function scope is a <code>dict</code>, and can't see much to optimize here.</p>\n<h1>A bit longer explanation:</h1>\n<p>I know that <a href=\"https://docs.python.org/2/library/collections.html#collections.namedtuple\" rel=\"nofollow noreferrer\">named tuple</a> is used when space optimizations come to play. The reasoning is that with named tuple all keys are the same, and kept once. That way you can save some space in the proxy definition. However, if you call function, it creates a scope, which is <code>dict</code>. That is how Python works. How to optimize it? Well, you have to write that in C, to have full control over what, and when is allocated.</p>\n"}], "owner": {"reputation": 167, "user_id": 6516820, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/3s4ST.jpg?s=128&g=1", "display_name": "Althis", "link": "https://stackoverflow.com/users/6516820/althis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1510985245, "creation_date": 1510181349, "last_edit_date": 1510955691, "question_id": 47191037, "link": "https://stackoverflow.com/questions/47191037/how-do-python-implementations-handle-context-swap-during-function-calls", "title": "How do Python implementations handle context swap during function calls?", "body": "<p>I am trying to create a heavily modular and data-driven program in python, and I'd like to have calls between modules go through a central proxy singleton instead of every object holding references to objects they communicate with. The main reason for this is that I don't want objects to have <strong>any</strong> information of how other modules work in case they are switched around during runtime.</p>\n\n<p>Currently, this proxy service is just a singleton that has a list of tuples with function names and a reference to the object that owns it. Any time a module comes across a command that isn't part of their own methods, the default behavior would be to send it up to this proxy service that would check is there is anyone online capable of executing it. If it finds someone, the proxy forwards the function call to the right object and then sends the return to the caller once it receives it.</p>\n\n<p>The problem I have with this is that every time I need to do any inter-process communication, I am causing a context swap to an object that will end up bloating my callstack unnecessarily.</p>\n\n<p>My question then is thus: </p>\n\n<blockquote>\n  <p><strong>How are context changes such as this handled in python implementations? And what optimizations can I make to lower the impact\n  of such context changes?</strong></p>\n</blockquote>\n\n<p>P.S.: The name proxy might be a bit misleading, but this is not a networked application. The whole thing is running in a single process in a single machine.</p>\n\n<p><strong>Edit:</strong> As asked here is a more concrete example.</p>\n\n<pre><code>class forwardToProxy:\n       dict = {} #this dictionary would contain the names of commands such as \"deleteName\"\n                 #and a first class function bound to the part of the program currently\n                 #responsible for executing that command.\n\n       def forward_command(command, arg):\n           return dispatch[command](arg)\n</code></pre>\n\n<p>This is one example of what I meant for a proxy object. The only thing this class does is forward commands to the parts of the program currently assigned to executing. My question pertains to the consequences of using this kind of structure.</p>\n\n<ul>\n<li><p>Does every call a module makes to it create a new instance of this class in memory until it resolves?</p></li>\n<li><p>If a command were to be forwarded to a module, that would in consequence forward another command, and would cause another module to forwards yet another command, how many instances of this object would be waiting in memory for the eventual return?</p></li>\n<li><p>What exactly happens in memory every time we make an function call in different python implementations?(Please explain for both same-module and external-module calls)</p></li>\n<li><p>What optimizations can be used to reduce the impact of such context changes(would @staticmethod help, for example)?</p></li>\n</ul>\n"}, {"tags": ["python", "discord.py"], "comments": [{"owner": {"reputation": 307, "user_id": 8824355, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xNlniupdxKE/AAAAAAAAAAI/AAAAAAAAABQ/MjI2H4Xj5X4/photo.jpg?sz=128", "display_name": "Mik3NL", "link": "https://stackoverflow.com/users/8824355/mik3nl"}, "edited": false, "score": 0, "creation_date": 1510221993, "post_id": 47191004, "comment_id": 81346461, "body": "Can you share your entire code please?"}, {"owner": {"reputation": 593, "user_id": 6304240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I-ZeigI23xM/AAAAAAAAAAI/AAAAAAAAALU/fY6kSdbgtr8/photo.jpg?sz=128", "display_name": "qspitzer", "link": "https://stackoverflow.com/users/6304240/qspitzer"}, "reply_to_user": {"reputation": 307, "user_id": 8824355, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xNlniupdxKE/AAAAAAAAAAI/AAAAAAAAABQ/MjI2H4Xj5X4/photo.jpg?sz=128", "display_name": "Mik3NL", "link": "https://stackoverflow.com/users/8824355/mik3nl"}, "edited": false, "score": 0, "creation_date": 1510229757, "post_id": 47191004, "comment_id": 81351534, "body": "Here is a link to the code: <a href=\"https://pastebin.com/FGBEiPSp\" rel=\"nofollow noreferrer\">pastebin.com/FGBEiPSp</a>"}], "answers": [{"tags": [], "owner": {"reputation": 276, "user_id": 8592463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a8a954a51c3cadbefcbd244b83dcab0?s=128&d=identicon&r=PG&f=1", "display_name": "J&#246;rmungandr", "link": "https://stackoverflow.com/users/8592463/j%c3%b6rmungandr"}, "is_accepted": true, "score": 1, "last_activity_date": 1510232593, "creation_date": 1510232593, "answer_id": 47202547, "question_id": 47191004, "link": "https://stackoverflow.com/questions/47191004/discord-python-api-bot-and-client/47202547#47202547", "title": "discord python api Bot() and Client()", "body": "<p>Can't you just use:</p>\n\n<pre><code>await bot.create_channel(ctx.message.server, 'test', type=discord.ChannelType.text)\n</code></pre>\n"}], "owner": {"reputation": 593, "user_id": 6304240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I-ZeigI23xM/AAAAAAAAAAI/AAAAAAAAALU/fY6kSdbgtr8/photo.jpg?sz=128", "display_name": "qspitzer", "link": "https://stackoverflow.com/users/6304240/qspitzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1619, "favorite_count": 0, "accepted_answer_id": 47202547, "answer_count": 1, "score": 0, "last_activity_date": 1510232593, "creation_date": 1510181167, "question_id": 47191004, "link": "https://stackoverflow.com/questions/47191004/discord-python-api-bot-and-client", "title": "discord python api Bot() and Client()", "body": "<p>I am trying to make a discord bot in python and I keep running into a problem. What I am trying to do is use discord.ext.commands.Bot() to run a command to create a channel (which uses discord.Client() ). Whenever I start the bot using bot.run('token'), the client part does not work. But if I run the bot using client.run('token'), I am able to create the channel, but not use the command. Is there any way to have both running at the same time, or am I out of luck?</p>\n\n<p>The code for the command is:</p>\n\n<pre><code>@bot.command(pass_context=True)\nasync def channel(ctx):\n    client.create_channel(ctx.message.server, 'test', type=discord.ChannelType.text)\n</code></pre>\n"}, {"tags": ["python", "selenium", "web-scraping", "phantomjs", "sniffing"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1510181680, "post_id": 47191002, "comment_id": 81331628, "body": "Have you tried using a chrome or firefox driver?"}, {"owner": {"reputation": 13061, "user_id": 2715393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwuRh.jpg?s=128&g=1", "display_name": "Vaviloff", "link": "https://stackoverflow.com/users/2715393/vaviloff"}, "edited": false, "score": 0, "creation_date": 1510192705, "post_id": 47191002, "comment_id": 81334609, "body": "content=nosniff has no relation to scraping at all. Just go on with your scraping, what exactly stops you?"}, {"owner": {"reputation": 3, "user_id": 8910062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18c994853bde6f8e55c8938fd7f0f066?s=128&d=identicon&r=PG&f=1", "display_name": "wbc", "link": "https://stackoverflow.com/users/8910062/wbc"}, "reply_to_user": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1510340368, "post_id": 47191002, "comment_id": 81409414, "body": "@SuperStew This ultimately solved the problem (using Firefox). It seems like the site won&#39;t accept headless browsers"}, {"owner": {"reputation": 3, "user_id": 8910062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18c994853bde6f8e55c8938fd7f0f066?s=128&d=identicon&r=PG&f=1", "display_name": "wbc", "link": "https://stackoverflow.com/users/8910062/wbc"}, "reply_to_user": {"reputation": 13061, "user_id": 2715393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwuRh.jpg?s=128&g=1", "display_name": "Vaviloff", "link": "https://stackoverflow.com/users/2715393/vaviloff"}, "edited": false, "score": 0, "creation_date": 1510340438, "post_id": 47191002, "comment_id": 81409444, "body": "@Vaviloff Using Phantomjs would only occasional return the correct site data. Often it would return much less than I knew was on the page. Thanks!"}], "owner": {"reputation": 3, "user_id": 8910062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18c994853bde6f8e55c8938fd7f0f066?s=128&d=identicon&r=PG&f=1", "display_name": "wbc", "link": "https://stackoverflow.com/users/8910062/wbc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510198444, "creation_date": 1510181157, "last_edit_date": 1510198444, "question_id": 47191002, "link": "https://stackoverflow.com/questions/47191002/no-sniff-activated-with-phantomjs-scraping-workaround", "title": "No Sniff activated with phantomjs scraping; workaround?", "body": "<p>I am trying to access the match history site for a match on matchhistory.na.leaugeoflegends.com using Phantomjs. I was able to run the program successfully when I first wrote it but now I get a modified version of the page. The full version I first had included data from the site tables, which is what I am interested in. \nIn the version I receive now I noticed this snippet at the top:</p>\n\n<pre><code>http-equiv=\"X-Content-Type-Options\" content=\"nosniff \n</code></pre>\n\n<p>which I understand prevents repeated scraping of the site. Is there any way to work around this issue? For reference, I need data from about 200 matches from this site </p>\n\n<p>The code I am using is:</p>\n\n<pre><code>import selenium.webdriver\ndriver = selenium.webdriver.PhantomJS()\ndriver.get('http://matchhistory.na.leagueoflegends.com/en/#match-details/TRLH3/1002320097?gameHash=ce10e47aa8e2d965&amp;tab=stats')\nhtml=driver.page_source\n</code></pre>\n\n<p>Thank you for any help</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 719, "user_id": 8702081, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a400502eb3a85e779dd22759e0273c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Valachio", "link": "https://stackoverflow.com/users/8702081/valachio"}, "edited": false, "score": 0, "creation_date": 1510237980, "post_id": 47192095, "comment_id": 81357467, "body": "I clarified my question.  I&#39;m only looking to send an invite to a singular agent.  In my HTML, I have a &lt;form&gt; button for every loop in <code>{% for agent in agent_list %}</code>.  When the sender presses the &#39;Send Invite&#39; button, an invitation should be created for the single agent the button is assigned to."}], "tags": [], "owner": {"reputation": 101, "user_id": 2484641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80648457d74e8a0e9df0313c57b9eb09?s=128&d=identicon&r=PG", "display_name": "miketery", "link": "https://stackoverflow.com/users/2484641/miketery"}, "is_accepted": false, "score": 0, "last_activity_date": 1510188059, "creation_date": 1510188059, "answer_id": 47192095, "question_id": 47190960, "link": "https://stackoverflow.com/questions/47190960/django-pass-a-model-instance-specified-by-template-tags-into-view/47192095#47192095", "title": "Django - Pass a model instance specified by template tags into view", "body": "<p>This</p>\n\n<p><code>receiver_agent = Agent.objects.get(pk = ???)</code></p>\n\n<p>Specifies to get a single agent with a specific primary key <code>pk</code></p>\n\n<p>In your case you're looking to get many. You can either use a filter function (if you need to filter by some parameter. Or you can get all agents. Example of both below.</p>\n\n<ol>\n<li>Filter by some parameter <code>agents = Agent.objects.filter(age=25)</code> this will return a Queryset which you can iterate through in your template.</li>\n<li>Get all agents <code>agents = Agent.objects.all()</code> this also returns a Queryset.</li>\n</ol>\n\n<p>More on this here: <a href=\"https://docs.djangoproject.com/en/1.11/topics/db/queries/#retrieving-all-objects\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.11/topics/db/queries/#retrieving-all-objects</a></p>\n"}, {"comments": [{"owner": {"reputation": 719, "user_id": 8702081, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a400502eb3a85e779dd22759e0273c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Valachio", "link": "https://stackoverflow.com/users/8702081/valachio"}, "edited": false, "score": 0, "creation_date": 1510237767, "post_id": 47196279, "comment_id": 81357296, "body": "Sorry my question may not have been explained well.  I added some clarification to my question.  I&#39;m only looking to pass a single agent into my view.  The agent is specified by &#39;agent&#39; in <code>{% for agent in agent_list %}</code>."}], "tags": [], "owner": {"reputation": 586, "user_id": 8542377, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NGXmD.png?s=128&g=1", "display_name": "Coder949", "link": "https://stackoverflow.com/users/8542377/coder949"}, "is_accepted": false, "score": 0, "last_activity_date": 1510213503, "last_edit_date": 1510213503, "creation_date": 1510212714, "answer_id": 47196279, "question_id": 47190960, "link": "https://stackoverflow.com/questions/47190960/django-pass-a-model-instance-specified-by-template-tags-into-view/47196279#47196279", "title": "Django - Pass a model instance specified by template tags into view", "body": "<p>You have to filter for the agents who are in the team you want to send a team invitation. If you do not have a field which shows in which team the agent is you can not filter it.</p>\n\n<p>Create only one team invitation:</p>\n\n<pre><code>TeamInvitation.objects.create(team='someteam')\n</code></pre>\n\n<p>and then the agent filters:</p>\n\n<pre><code>agent = Agent.objects.get(pk=somepk)\nteaminv = TeamInvitation.objects.filter(team=agent.team)\n</code></pre>\n\n<p><strong>With that way you can show the agent if he was invited.</strong></p>\n\n<p>But I do not know why you want to create an <strong>team</strong> invitation for each agent. A team invitation should only be created once and the agent checks if he was invited. Normally you would make an invitation for the hole team and everyone who is in the team gets the invitation. I hope it is clear what I mean. </p>\n\n<p>So you should think about your structure.</p>\n"}], "owner": {"reputation": 719, "user_id": 8702081, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a400502eb3a85e779dd22759e0273c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Valachio", "link": "https://stackoverflow.com/users/8702081/valachio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1510237662, "creation_date": 1510180947, "last_edit_date": 1510237662, "question_id": 47190960, "link": "https://stackoverflow.com/questions/47190960/django-pass-a-model-instance-specified-by-template-tags-into-view", "title": "Django - Pass a model instance specified by template tags into view", "body": "<p>On my HTML page, I have a list of Agent's (Agent is my custom User model).  Beside each agent is a 'Send Invite' button.  To create a <code>TeamInvitation</code>, I need to specify which Agent is attached to its <code>receiver_agent</code> field (a OneToOneField with Agent).  </p>\n\n<p>There are multiple Agents displayed on the HTML page, and they are listed in order with template tags.  I need to input something after <code>pk</code> at <code>receiver_agent = Agent.objects.get(pk = ???)</code>, but I don't know what to input.</p>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>class InviteAgentSearchResults(ListView):\n    model = Agent\n    form_class = AgentSearchForm\n    template_name = 'invite_agent_search_results.html'\n\n    def get_queryset(self):\n        # ... Code to find correct agent\n\n    def post(self, request, *args, **kwargs):\n        invite = TeamInvitation.objects.create(receiver_agent = Agent.objects.get(pk = ???))\n        return HttpResponse('Invite successfully sent.')\n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>{% for agent in agent_list %}\n&lt;div class=\"agent\"&gt;\n# ... Some code here\n\n        &lt;form method=\"post\"&gt;  # The \"Send Invite\" button\n            {% csrf_token %}\n            &lt;button class=\"button1\"&gt;&lt;span&gt;Send Invite&lt;/span&gt;&lt;/button&gt;\n        &lt;/form&gt;\n&lt;/div&gt;\n{% endfor %}\n</code></pre>\n\n<p>EDIT: For clarification - The sender is only sending an invitation to <strong>one agent</strong>.  There is a 'Send Invite' button beside each agent.  The invitation, when accepted, will add the Agent into the sender's team.</p>\n\n<p>I need to pass the singular agent specified by 'agent in <code>{% for agent in agent_list %}</code> into my views and assign that agent to the <code>receiver_agent</code> field.  You'll see that there is a  button for each 'agent' loop; meaning every agent that is displayed on the page has a 'Send Invite' button next to them.  Pressing the button should only send an invite to that particular agent.</p>\n"}, {"tags": ["python", "csv", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": false, "score": 0, "last_activity_date": 1510181222, "creation_date": 1510181222, "answer_id": 47191014, "question_id": 47190916, "link": "https://stackoverflow.com/questions/47190916/python-reading-names-from-a-csv-file-into-a-dictionary-and-adding-a-value-0-for/47191014#47191014", "title": "Python reading names from a csv file into a dictionary and adding a value 0 for each name", "body": "<p>Replace <code>playerNames = []</code> with <code>playerNames = {}</code> and <code>playerNames.append(row)</code> with <code>playerNames[row[0]] = 0</code>. And \"adding\" 0 isn't quite the right term: you're <em>assigning</em> a zero to each key.</p>\n"}, {"tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": true, "score": 0, "last_activity_date": 1510181313, "creation_date": 1510181313, "answer_id": 47191029, "question_id": 47190916, "link": "https://stackoverflow.com/questions/47190916/python-reading-names-from-a-csv-file-into-a-dictionary-and-adding-a-value-0-for/47191029#47191029", "title": "Python reading names from a csv file into a dictionary and adding a value 0 for each name", "body": "<p>Assuming that each player's name appears just once in the input file:</p>\n\n<pre><code>player_dict = {}\nwith open('player_names.txt') as players:\n    for line in players:\n        player_dict[line.strip()]=0\n\nprint(player_dict)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'larry': 0, 'tom': 0, 'dick': 0}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 727, "user_id": 7120903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QDvo0.jpg?s=128&g=1", "display_name": "Mark Hannel", "link": "https://stackoverflow.com/users/7120903/mark-hannel"}, "is_accepted": false, "score": 0, "last_activity_date": 1510181862, "creation_date": 1510181862, "answer_id": 47191137, "question_id": 47190916, "link": "https://stackoverflow.com/questions/47190916/python-reading-names-from-a-csv-file-into-a-dictionary-and-adding-a-value-0-for/47191137#47191137", "title": "Python reading names from a csv file into a dictionary and adding a value 0 for each name", "body": "<p>With the nested lists of names, you could use the following:</p>\n\n<pre><code>playerDict = dict.fromkeys([p[0] for p in playerNames, 0])\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code>playerDict = {p[0]:0 for p in playerNames}\n</code></pre>\n\n<p>I would advise however that you make only a list of names (instead of a nested list) by appending only the name with the following change:</p>\n\n<pre><code>playerNames.append(row[0])\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 8827660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/235af2c595e0443071ce817ce91b2fc1?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/8827660/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 47191029, "answer_count": 3, "score": 0, "last_activity_date": 1510181862, "creation_date": 1510180741, "question_id": 47190916, "link": "https://stackoverflow.com/questions/47190916/python-reading-names-from-a-csv-file-into-a-dictionary-and-adding-a-value-0-for", "title": "Python reading names from a csv file into a dictionary and adding a value 0 for each name", "body": "<p>I am having trouble creating a dictionary in Python from a csv file of player names. Below is an example of my code:</p>\n\n<pre><code>playerNames = []\nwith open(player_names) as csvfile\n    for row in csv.reader(csvfile)\n        playerNames.append(row)\n</code></pre>\n\n<p>This bit of code will basically read the names from the csv file and put them into a nested list that looks like this:  [[P1], [P2], [P3], [P4]]</p>\n\n<p>Now i'm wanting to add these player names into a dictionary as well as, add a value 0 for each player in the dictionary, the desired outcome will look something like this: {P1:0, P2:0, P3:0, P4:0} however, I am struggling to do this and would greatly appreciate some help. I also wanted to ask if it is possible to read the player names straight into the dictionary as oppose to reading them into a list first?</p>\n\n<p>Any help with this or some example code would be greatly appreciated as I am new to using dictionaries</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["python", "python-3.x", "optional-parameters"], "comments": [{"owner": {"reputation": 1728, "user_id": 8547331, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Vrx69.jpg?s=128&g=1", "display_name": "Jeronimo", "link": "https://stackoverflow.com/users/8547331/jeronimo"}, "edited": false, "score": 1, "creation_date": 1510180860, "post_id": 47190911, "comment_id": 81331284, "body": "For the distinction, you&#39;d need them to be kwargs anyway, wouldn&#39;t you? So what&#39;s wrong with the <code>**kwargs</code> approach?"}, {"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 3, "creation_date": 1510180882, "post_id": 47190911, "comment_id": 81331295, "body": "Give them all default values of <code>None</code>, then pass them as keyword arguments."}, {"owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "edited": false, "score": 0, "creation_date": 1510181425, "post_id": 47190911, "comment_id": 81331516, "body": "As far as your actual function block is concerned, you might want to do a <code>try: [do something with a, b, and c</code>, and then in the except block look at what exception is thrown and decide how to proceed from there."}], "answers": [{"tags": [], "owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "is_accepted": false, "score": 3, "last_activity_date": 1510181080, "creation_date": 1510181080, "answer_id": 47190984, "question_id": 47190911, "link": "https://stackoverflow.com/questions/47190911/how-to-pass-two-or-three-parameters-to-a-function/47190984#47190984", "title": "How to pass two or three parameters to a function?", "body": "<p>You can just give them all default values of <code>None</code>, then pass the arguments as keyword arguments:</p>\n\n<pre><code>def foo(a=None, b=None, c=None):\n    print(a, b, c)\n\nfoo(a=123, b=456)\nfoo(a=123, c=789)\nfoo(b=456, c=789)\n</code></pre>\n\n<p>This example produces:</p>\n\n<pre><code>123 456 None\n123 None 789\nNone 456 789\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": false, "score": 0, "last_activity_date": 1510183510, "creation_date": 1510183510, "answer_id": 47191436, "question_id": 47190911, "link": "https://stackoverflow.com/questions/47190911/how-to-pass-two-or-three-parameters-to-a-function/47191436#47191436", "title": "How to pass two or three parameters to a function?", "body": "<p>Alternative approach:</p>\n\n<pre><code>def func(**kwargs):\n    p_keys = kwargs.keys()\n    if 'a' in p_keys and 'b' in p_keys:\n        # non-compact solution\n        if 'c' in p_keys:\n            # apply optional constraint\n    elif set(p_keys).issubset({'a', 'b', 'c'}):\n        # apply solution for 'any two'\n    else:\n        #complain loudly\n        pass\n    return\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 5953471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bac3aafb1fd89f2df9d3b2da331256?s=128&d=identicon&r=PG", "display_name": "Ben S.", "link": "https://stackoverflow.com/users/5953471/ben-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1510183510, "creation_date": 1510180721, "last_edit_date": 1510180899, "question_id": 47190911, "link": "https://stackoverflow.com/questions/47190911/how-to-pass-two-or-three-parameters-to-a-function", "title": "How to pass two or three parameters to a function?", "body": "<p>This is maybe a little different than just the traditional *args **kwargs paradigm:</p>\n\n<p>I have a mathematical function that takes three independent parameters as input, however, it can also be solved (non-compactly) by specifying any two of the three.</p>\n\n<p>Currently, I have the non-compact solution based strictly on a and b, with c as an optional constraint:</p>\n\n<pre><code>def func(a,b,c=None):\n  if c is not None:\n    # do something with a, b, and c\n  else:\n    # do something with only a, b\n  return result\n</code></pre>\n\n<p>However, I would like to be able to specify any two of a, b, or c, and still keep the option of specifying all three. What's the most Pythonic way of doing that?</p>\n"}, {"tags": ["python", "python-3.x", "google-python-api"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510180803, "post_id": 47190905, "comment_id": 81331267, "body": "&quot;At the same time, none of the functions should return anything&quot; seems like a totally ludicrous requirement. Just making sure, are you certain you&#39;ve understood that correctly? Perhaps you&#39;ve misinterpreted a requirement? Well, one thing you can do is to make the functions share-state, i.e. simply use global variables. This is a bad design approach, however. But it would solve this particular problem, albeit in a way that is not good."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510180928, "post_id": 47190905, "comment_id": 81331312, "body": "As an aside, was taggin this with google-python-api a mistake?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510181392, "post_id": 47190905, "comment_id": 81331508, "body": "The downvotes here are harsh. The OP has provided requirements, and has provided an attempt, which makes it pretty good as far as first-questions go."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510181582, "post_id": 47190905, "comment_id": 81331593, "body": "So, here&#39;s a <a href=\"https://gist.github.com/juanarrivillaga/6ef776b0ad048c34457b6d8968e1816a\" rel=\"nofollow noreferrer\">gist</a> of what I mean, but again, you should really double-check if you&#39;ve understood the requirements correctly."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1510183203, "post_id": 47190905, "comment_id": 81332166, "body": "The problem seems to be that you&#39;re new to programming, and don&#39;t understand how functions are generally intended to be used. The proper way to design things is to have functions that perform computations and return results, and then other code that calls the functions and does something with the results, such as printing them."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510183283, "post_id": 47190905, "comment_id": 81332207, "body": "You can do it using global variables, as @juanpa.arrivillaga suggests, but this is generally considered poor design, as he said. Since you&#39;re a beginner, this is the perfect time to learn good practices, not ask about nonsense like this."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1510183557, "post_id": 47190905, "comment_id": 81332297, "body": "@Barmar it sounds like a misunderstood assignment - or perhaps simply a poorly-designed assignment."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510181474, "post_id": 47191055, "comment_id": 81331548, "body": "Say what you will about sharing state, relying on capturing standard out is probably even worse... Also, <code>sum_</code> in <code>sum</code> is <i>local</i>. So this will throw a <code>TypeError</code>"}, {"owner": {"reputation": 363, "user_id": 7608795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb274660b0b40b9c739b73dc5ec70ac1?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Homan", "link": "https://stackoverflow.com/users/7608795/jack-homan"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510182108, "post_id": 47191055, "comment_id": 81331786, "body": "I wasn&#39;t suggesting capturing from stdout. I think that&#39;s a terrible idea. I was just saying what OP want&#39;s to do isn&#39;t really a reasonable solution. Yeah, definitely didn&#39;t even realize that about sum_. Very stupid mistake. Thanks for pointing it out."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510182143, "post_id": 47191055, "comment_id": 81331801, "body": "Sure, yeah, didn&#39;t mean to imply that you were suggesting that, more of a general comment."}], "tags": [], "owner": {"reputation": 363, "user_id": 7608795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb274660b0b40b9c739b73dc5ec70ac1?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Homan", "link": "https://stackoverflow.com/users/7608795/jack-homan"}, "is_accepted": false, "score": 0, "last_activity_date": 1510182393, "last_edit_date": 1510182393, "creation_date": 1510181427, "answer_id": 47191055, "question_id": 47190905, "link": "https://stackoverflow.com/questions/47190905/call-a-function-in-a-function-without-returning-any-values/47191055#47191055", "title": "Call a function in a function without returning any values", "body": "<p>Without returning anything from sum, there really isn't a way to do what you want unless you capture the sum from stdout. If the function doesn't return anything, then the second function won't be able to use it's results. You need to do.</p>\n\n<pre><code>def sum(a, b, c):\n    return a + b + c\ndef ar():\n    print(sum(1, 2, 3)/3)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8909926, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u-K1qDlcI7E/AAAAAAAAAAI/AAAAAAAAADI/08UZELqOU2o/photo.jpg?sz=128", "display_name": "Veronika Zasimovich", "link": "https://stackoverflow.com/users/8909926/veronika-zasimovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 591, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510182393, "creation_date": 1510180671, "last_edit_date": 1510181420, "question_id": 47190905, "link": "https://stackoverflow.com/questions/47190905/call-a-function-in-a-function-without-returning-any-values", "title": "Call a function in a function without returning any values", "body": "<p>I'm new to programming, and I'm hoping for your help.\nI need to make up a script where a function would be called in another function. At the same time, none of the functions should return anything, print() should be used to present the results.\nI've come up with two simple functions:</p>\n\n<pre><code>def sum1(a,b,c):\n    print (a+b+c)\n</code></pre>\n\n<p>and the other one that should count the arithmetic average of the a, b, and \u0441 from the 1st function. I've been trying to make the 2nd function call the 1st one and use the result to count the arithmetic average. I came up with sth like this but it won't work: </p>\n\n<pre><code>def ar():\n    sum1()\n    print (sum1/3)\n</code></pre>\n\n<p>Any ideas on how to make this whole thing work are greatly appreaciated!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 1, "creation_date": 1510180662, "post_id": 47190872, "comment_id": 81331211, "body": "I would agree with your assessment, it seems like <code>_get_directory</code>, <code>list_languages</code>, <code>normalize_string</code>, and <code>to_seed</code> could all be <code>staticmethod</code> or just free functions instead."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1510180687, "post_id": 47190872, "comment_id": 81331220, "body": "The use of classmethods doesn&#39;t seem necessary here. The only way that <code>cls</code> is used is as a namespace, which raises the question, why not just use the module-level namespace? Honestly, I wouldn&#39;t use classmethods here. This strikes me as a Java programmer writing Python code with an aversion to using module-level functions."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1510181076, "post_id": 47190872, "comment_id": 81331366, "body": "There appears to be quite a bit of context missing. Why does <code>__init__</code> take a <code>language</code> argument that it ignores?"}, {"owner": {"reputation": 3, "user_id": 8910016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38a26fbaacf3349cc0ae683b3c38df6?s=128&d=identicon&r=PG&f=1", "display_name": "Mikey Salas", "link": "https://stackoverflow.com/users/8910016/mikey-salas"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1510181247, "post_id": 47190872, "comment_id": 81331440, "body": "@chepner i removed some stuff to make the code shorter."}], "answers": [{"tags": [], "owner": {"reputation": 306, "user_id": 8500590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sHUSo.jpg?s=128&g=1", "display_name": "Asher Mancinelli", "link": "https://stackoverflow.com/users/8500590/asher-mancinelli"}, "is_accepted": true, "score": 0, "last_activity_date": 1510181889, "creation_date": 1510181889, "answer_id": 47191150, "question_id": 47190872, "link": "https://stackoverflow.com/questions/47190872/understanding-the-usage-of-class-methods/47191150#47191150", "title": "Understanding the usage of class methods", "body": "<p>Your concern is valid, this is not best-practice for writing python class methods. There is no need here for the <code>@classmethod</code> parameter, and for example, the <code>_get_directory()</code> method might as well be its own function as it has no connection to the class. In java, everything has to be a class or in a class, so this looks like python code from a java dev.  </p>\n"}], "owner": {"reputation": 3, "user_id": 8910016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38a26fbaacf3349cc0ae683b3c38df6?s=128&d=identicon&r=PG&f=1", "display_name": "Mikey Salas", "link": "https://stackoverflow.com/users/8910016/mikey-salas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 47191150, "answer_count": 1, "score": 0, "last_activity_date": 1510181889, "creation_date": 1510180501, "question_id": 47190872, "link": "https://stackoverflow.com/questions/47190872/understanding-the-usage-of-class-methods", "title": "Understanding the usage of class methods", "body": "<p>im a c programmer and im fairly new to python, i have trouble understanding why class methods are being used in this piece of code</p>\n\n<pre><code>class Mnemonic(object):\n    def __init__(self, language):\n        self.radix = 2048\n\n    @classmethod\n    def _get_directory(cls):\n        return os.path.join(os.path.dirname(__file__), 'wordlist')\n\n    @classmethod\n    def list_languages(cls):\n        return [f.split('.')[0] for f in os.listdir(cls._get_directory()) if f.endswith('.txt')]\n\n    @classmethod\n    def normalize_string(cls, txt):\n        if isinstance(txt, str if sys.version &lt; '3' else bytes):\n            utxt = txt.decode('utf8')\n        elif isinstance(txt, unicode if sys.version &lt; '3' else str):\n            utxt = txt\n        else:\n            raise TypeError(\"String value expected\")\n\n        return unicodedata.normalize('NFKD', utxt)\n\n    @classmethod\n    def detect_language(cls, code):\n        code = cls.normalize_string(code)\n        first = code.split(' ')[0]\n        languages = cls.list_languages()\n\n        for lang in languages:\n            mnemo = cls(lang)\n            if first in mnemo.wordlist:\n                return lang\n\n        raise ConfigurationError(\"Language not detected\")\n\n    def generate(self, strength=128):\n        # Do Stuff\n\n    def to_entropy(self, words):\n        # Do Stuff\n\n    def to_mnemonic(self, data):\n        # Do Stuff\n\n    def check(self, mnemonic):\n        # Do Stuff\n\n    def expand_word(self, prefix):\n        # Do Stuff\n\n    def expand(self, mnemonic):\n                # Do Stuff\n\n    @classmethod\n    def to_seed(cls, mnemonic, passphrase=''):\n        mnemonic = cls.normalize_string(mnemonic)\n        passphrase = cls.normalize_string(passphrase)\n        return PBKDF2(mnemonic, u'mnemonic' + passphrase, iterations=PBKDF2_ROUNDS, macmodule=hmac, digestmodule=hashlib.sha512).read(64)\n</code></pre>\n\n<p>Mnemonic is not being used as a parent class anywhere, i can see why its being used in <code>detect_language()</code> but i dont understand why its being used on <code>_get_directory()</code></p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 363, "user_id": 7608795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb274660b0b40b9c739b73dc5ec70ac1?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Homan", "link": "https://stackoverflow.com/users/7608795/jack-homan"}, "edited": false, "score": 0, "creation_date": 1510180793, "post_id": 47190866, "comment_id": 81331262, "body": "Can you post an attempt?"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1510181069, "post_id": 47190866, "comment_id": 81331361, "body": "You can print them in just a line in the first try. Trust me!"}], "owner": {"reputation": 11, "user_id": 8909981, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g-ffxmYFlSw/AAAAAAAAAAI/AAAAAAAAAdA/o27hleT1GcA/photo.jpg?sz=128", "display_name": "WarioForever", "link": "https://stackoverflow.com/users/8909981/warioforever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "closed_date": 1510196598, "answer_count": 0, "score": 1, "last_activity_date": 1510211642, "creation_date": 1510180486, "last_edit_date": 1510211642, "question_id": 47190866, "link": "https://stackoverflow.com/questions/47190866/how-can-i-print-every-input-from-for-i-in-range-function-in-one-line", "closed_reason": "Duplicate", "title": "How can I print every input from &quot;for i in range&quot; function in one line?", "body": "<p>What I want to do is to write a program which first tells you to type a number (let's say 4), and then it tells you to name 4 capital cities in the world . In order to do that, I need to use \"for i in range\" function, right?. But after for i in range, how can I have all those names printed on the same line? I'm using python 3.4.4</p>\n\n<p>Here's an attempt: </p>\n\n<p><a href=\"https://i.stack.imgur.com/3TGGz.jpg\" rel=\"nofollow noreferrer\">PythonTask</a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1510180385, "post_id": 47190822, "comment_id": 81331108, "body": "What have you tried so far? Where are you stuck? This isn&#39;t a &quot;do my hw for me&quot; site."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1510180537, "post_id": 47190822, "comment_id": 81331170, "body": "&quot;Is this even possible&quot; Yes, of course it is."}, {"owner": {"reputation": 19, "user_id": 8016393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181c6389a34ac98d3067794dacca0182?s=128&d=identicon&r=PG&f=1", "display_name": "JustJoe", "link": "https://stackoverflow.com/users/8016393/justjoe"}, "edited": false, "score": 0, "creation_date": 1510180555, "post_id": 47190822, "comment_id": 81331173, "body": "I am not sure where to begin with this question"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510180565, "post_id": 47190822, "comment_id": 81331179, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/on-topic\">on topic</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> apply here. StackOverflow is not a design, coding, research, or tutorial service."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 3, "creation_date": 1510180574, "post_id": 47190822, "comment_id": 81331184, "body": "<a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">&quot;Can Someone Help Me?&quot; is not a valid SO question</a>.  This usually suggests that what you need is half an hour with a local tutor or walk through a tutorial, rather than Stack Overflow."}, {"owner": {"reputation": 19, "user_id": 8016393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181c6389a34ac98d3067794dacca0182?s=128&d=identicon&r=PG&f=1", "display_name": "JustJoe", "link": "https://stackoverflow.com/users/8016393/justjoe"}, "edited": false, "score": 0, "creation_date": 1510180749, "post_id": 47190822, "comment_id": 81331246, "body": "I am learn python by myself these are some questions I got from student who have taken computers courses before"}, {"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "edited": false, "score": 0, "creation_date": 1510181478, "post_id": 47190822, "comment_id": 81331552, "body": "The user&#39;s name made my hole day happy, I didn&#39;t notice, but by sure is very great and fun :), considere a change of user name, just an advice"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 8016393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181c6389a34ac98d3067794dacca0182?s=128&d=identicon&r=PG&f=1", "display_name": "JustJoe", "link": "https://stackoverflow.com/users/8016393/justjoe"}, "edited": false, "score": 0, "creation_date": 1510181382, "post_id": 47190931, "comment_id": 81331503, "body": "Thanks you for your help"}, {"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "reply_to_user": {"reputation": 19, "user_id": 8016393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181c6389a34ac98d3067794dacca0182?s=128&d=identicon&r=PG&f=1", "display_name": "JustJoe", "link": "https://stackoverflow.com/users/8016393/justjoe"}, "edited": false, "score": 0, "creation_date": 1510181698, "post_id": 47190931, "comment_id": 81331637, "body": "@helpmeplz no problem, if you understood what I&#39;ve done, the job is done, if you want more explain to the answer I can answer more doubts and question you have, let me know"}, {"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "reply_to_user": {"reputation": 19, "user_id": 8016393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181c6389a34ac98d3067794dacca0182?s=128&d=identicon&r=PG&f=1", "display_name": "JustJoe", "link": "https://stackoverflow.com/users/8016393/justjoe"}, "edited": false, "score": 0, "creation_date": 1510181797, "post_id": 47190931, "comment_id": 81331672, "body": "Ah, one last thing, don&#39;t forget next time add some code you tried before you ask a question! So the users will not down vote the question. And don&#39;t forget to mark one answer as accepted, the one who helped you with the problem most"}], "tags": [], "owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "is_accepted": false, "score": 0, "last_activity_date": 1510180800, "creation_date": 1510180800, "answer_id": 47190931, "question_id": 47190822, "link": "https://stackoverflow.com/questions/47190822/using-recursion-to-find-which-number-is-bigger/47190931#47190931", "title": "Using recursion to find which number is bigger", "body": "<p>Sure it is possible, using recursion you have to consider that positive integer (with 0) could be represented as 0 or the next of a positive number. Considering that, if the number is not 0, you can go a step back, and ask if it is 0, and continue, with code it would be:</p>\n\n<pre><code>def greater_than(a,b):\n  if(a == 0):\n    return b!=0\n  elsif(b == 0):\n    return True\n  else:\n    return greater_than(a-1,b-1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "edited": false, "score": 0, "creation_date": 1510181113, "post_id": 47190944, "comment_id": 81331388, "body": "Is that haskell code?"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "edited": false, "score": 0, "creation_date": 1510181226, "post_id": 47190944, "comment_id": 81331438, "body": "@DamianLattenero yes, thus my text above the code ;)"}, {"owner": {"reputation": 19, "user_id": 8016393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181c6389a34ac98d3067794dacca0182?s=128&d=identicon&r=PG&f=1", "display_name": "JustJoe", "link": "https://stackoverflow.com/users/8016393/justjoe"}, "edited": false, "score": 0, "creation_date": 1510181363, "post_id": 47190944, "comment_id": 81331492, "body": "in line 2 is it saying that the function MyMax and if the first number is 0 it means the second number is the larger?"}, {"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "edited": false, "score": 0, "creation_date": 1510181373, "post_id": 47190944, "comment_id": 81331498, "body": "@AdamSmith sure! Hahaha I thanked  in haskell code first, then translate it, well I by sure would up vote, but the Tag is python... It would be not correct even if I want to, want you add the python idea also?"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "edited": false, "score": 0, "creation_date": 1510181443, "post_id": 47190944, "comment_id": 81331530, "body": "@DamianLattenero no, I specifically did not answer in Python because this is an elementary question intended to create a bit of thought in the pupil about how recursion works and what makes a number &quot;bigger&quot; than another. Feeding code to the student does him harm in this case."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 19, "user_id": 8016393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181c6389a34ac98d3067794dacca0182?s=128&d=identicon&r=PG&f=1", "display_name": "JustJoe", "link": "https://stackoverflow.com/users/8016393/justjoe"}, "edited": false, "score": 0, "creation_date": 1510181474, "post_id": 47190944, "comment_id": 81331547, "body": "@helpmeplz exactly so."}, {"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "edited": false, "score": 0, "creation_date": 1510181595, "post_id": 47190944, "comment_id": 81331596, "body": "@AdamSmith good point"}, {"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "edited": false, "score": 0, "creation_date": 1510181912, "post_id": 47190944, "comment_id": 81331713, "body": "If that&#39;s the case I will up vote for good explain in recursion matters"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1510180857, "creation_date": 1510180857, "answer_id": 47190944, "question_id": 47190822, "link": "https://stackoverflow.com/questions/47190822/using-recursion-to-find-which-number-is-bigger/47190944#47190944", "title": "Using recursion to find which number is bigger", "body": "<p>I'll show you a test implementation in Haskell that would solve the question. It's not the best solution, but your instructor doesn't appear to be looking for efficiency, just some deep thinking about the problem.</p>\n\n<pre class=\"lang-hs prettyprint-override\"><code>-- |'myMax' takes two strictly positive ints and returns\n-- the larger of the two.\nmyMax :: Int -&gt; Int -&gt; Int\nmyMax 0 y = y\nmyMax x 0 = x\nmyMax x y = myMax (x-1) (y-1)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 8016393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181c6389a34ac98d3067794dacca0182?s=128&d=identicon&r=PG&f=1", "display_name": "JustJoe", "link": "https://stackoverflow.com/users/8016393/justjoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1510182134, "accepted_answer_id": 47190944, "answer_count": 2, "score": -3, "last_activity_date": 1510180857, "creation_date": 1510180277, "last_edit_date": 1510180446, "question_id": 47190822, "link": "https://stackoverflow.com/questions/47190822/using-recursion-to-find-which-number-is-bigger", "closed_reason": "Needs more focus", "title": "Using recursion to find which number is bigger", "body": "<p>Hello all I am trying to find out which of two numbers is bigger using recursion and without using the > or the &lt; symbols. Is this even possible? I am only allowed to use + or -\nthanks in advance</p>\n"}, {"tags": ["python", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8910024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/780c688afdbabc665342bf7844da9534?s=128&d=identicon&r=PG&f=1", "display_name": "SortStuff", "link": "https://stackoverflow.com/users/8910024/sortstuff"}, "edited": false, "score": 0, "creation_date": 1510372816, "post_id": 47205117, "comment_id": 81418941, "body": "Holy hell. Your first method make so much sense. Thank you!"}, {"owner": {"reputation": 168, "user_id": 8656417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608a829560ae5f19e061563dad7d7ee5?s=128&d=identicon&r=PG&f=1", "display_name": "PodGen4", "link": "https://stackoverflow.com/users/8656417/podgen4"}, "reply_to_user": {"reputation": 3, "user_id": 8910024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/780c688afdbabc665342bf7844da9534?s=128&d=identicon&r=PG&f=1", "display_name": "SortStuff", "link": "https://stackoverflow.com/users/8910024/sortstuff"}, "edited": false, "score": 0, "creation_date": 1510421295, "post_id": 47205117, "comment_id": 81431826, "body": "@SortStuff When you successfully submit a solution, always make it a point to check out the solutions submitted by the top scorers. That&#39;s how you will learn nifty tricks like these."}], "tags": [], "owner": {"reputation": 168, "user_id": 8656417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608a829560ae5f19e061563dad7d7ee5?s=128&d=identicon&r=PG&f=1", "display_name": "PodGen4", "link": "https://stackoverflow.com/users/8656417/podgen4"}, "is_accepted": true, "score": 2, "last_activity_date": 1510239783, "creation_date": 1510239783, "answer_id": 47205117, "question_id": 47190806, "link": "https://stackoverflow.com/questions/47190806/sort-tuple-inside-tuple-inside-dictionary/47205117#47205117", "title": "Sort tuple inside tuple inside Dictionary?", "body": "<p>Before addressing the problem of sorting a one level deep nested tuple, I will show you an easier way to solve the Hackerrank problem itself.<br>\nThe problem with your solution is this code segment.</p>\n\n<pre><code>if not correctDate in d:\n    d[correctDate] = engagement, totalEngage\nelse:\n    d[correctDate] = d[correctDate], engagement, totalEngage\n</code></pre>\n\n<p>Notice that this block of code that you wrote will produce a <strong>n</strong> level deep nested tuple if you you get <strong>n</strong> types of analytics in the same month. Here's a demonstration.</p>\n\n<pre><code>&gt;&gt;&gt; d = {}\n&gt;&gt;&gt; d[\"2015-12\"] = \"clicks\", 525\n&gt;&gt;&gt; d[\"2015-12\"] = d[\"2015-12\"], \"app_installs\", 982\n&gt;&gt;&gt; d\n{'2015-12': (('clicks', 525), 'app_installs', 982)}\n&gt;&gt;&gt; d[\"2015-12\"] = d[\"2015-12\"], \"downloads\", 100\n&gt;&gt;&gt; d\n{'2015-12': ((('clicks', 525), 'app_installs', 982), 'downloads', 100)}\n</code></pre>\n\n<p>You can use a list to store all types of analytics from the same month. Sorting that list with the first element in tuple being the key is much simpler. </p>\n\n<p>Initialize your dictionary </p>\n\n<pre><code>d = collections.defaultdict(list)\n</code></pre>\n\n<p>Replace the problematic code segment with this- </p>\n\n<pre><code>d[correctDate].append( (engagement, totalEngage) )\n</code></pre>\n\n<p>Finally, you can display the output that is reverse chronologically sorted by date and alphabetically sorted within individual dates. </p>\n\n<pre><code>for key in reversed(sorted(d)):\n\n    print(\"{}, {}\".format(key,   ', '.join( [str(elem) for elem in sorted(a, key=lambda x: x[0])])))\n</code></pre>\n\n<p>Now, coming to the question of sorting a one level deep nested tuple. You will somehow have to <em>flatten</em> the nested tuples to sort them. Or you can bring all of the elements in the tuple to the same level.<br>\n<em>A very clumsy way to do that would be-</em>  </p>\n\n<pre><code>nested_tuple = ( (\"bar\", 1), \"foo\", 3 )\nresult = []\nfor elem, i in enumerate(nested_tuple):\n    if elem is tuple:\n        result.append(elem)\n    else:\n        result.append( (elem, nested_tuple[i+1]) )\nanswer = sorted(result, key=lambda x: x[0])\n</code></pre>\n\n<p>Again, please note that using nested tuples is an unnecessarily complicated approach to solve this problem. But if you insist on using it, you can use recursion to sort arbitrary level deep nested tuples. </p>\n"}], "owner": {"reputation": 3, "user_id": 8910024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/780c688afdbabc665342bf7844da9534?s=128&d=identicon&r=PG&f=1", "display_name": "SortStuff", "link": "https://stackoverflow.com/users/8910024/sortstuff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 47205117, "answer_count": 1, "score": 0, "last_activity_date": 1510239783, "creation_date": 1510180183, "question_id": 47190806, "link": "https://stackoverflow.com/questions/47190806/sort-tuple-inside-tuple-inside-dictionary", "title": "Sort tuple inside tuple inside Dictionary?", "body": "<p>I'm stuck on this Hackerrank question that I'm doing for practice and for the life of me can't seem to figure out how to sort a tuple inside a tuple?</p>\n\n<p>For example, this is the input</p>\n\n<pre><code>2015-08, 2016-04\n\n2015-08-15, clicks, 635\n2016-03-24, app_installs, 683\n2015-04-05, favorites, 763\n2016-01-22, favorites, 788\n2015-12-26, clicks, 525\n2016-06-03, retweets, 101\n2015-12-02, app_installs, 982\n2016-09-17, app_installs, 770\n2015-11-07, impressions, 245\n2016-10-16, impressions, 567\n</code></pre>\n\n<p>And the output that I'm supposed to be getting is...</p>\n\n<pre><code>2016-03, app_installs, 683\n2016-01, favorites, 788\n2015-12, app_installs, 982, clicks, 525\n2015-11, impressions, 245\n2015-08, clicks, 635\n</code></pre>\n\n<p>But what I'm getting instead is</p>\n\n<pre><code>2016-03, app_installs, 683\n2016-01, favorites, 788\n2015-12, ('clicks', '525'), app_installs, 982\n2015-11, impressions, 245\n2015-08, clicks, 635\n</code></pre>\n\n<p>My issue is with the line that says 2015-12. I'm having a hard time arranging that alphabetically when there is more than one tuple.</p>\n\n<p>This is my code</p>\n\n<pre><code># Enter your code here. Read input from STDIN. Print output to STDOUT\nfrom datetime import date\n\nline = input()\n\nstartDate = line.split(',')[0]\nstartYear, startMonth = startDate.split('-')\nstartDate = date(int(startYear), int(startMonth), 1)\n\nendDate = line.split(' ')[1]\nendYear, endMonth = endDate.split('-')\nendDate = date(int(endYear), int(endMonth), 1)\n\nline = input()\n\nd = {}\nwhile True:\n    try:\n        line = input()\n        currentDate = date(int(line.split('-')[0]), int(line.split('-')[1].split('-')[0]), 1)\n\n        if startDate &lt;= currentDate &lt; endDate:\n            engagement = line.split(',')[1].strip()\n            totalEngage = line.split(',')[2].strip()\n            correctDate = \"{}-{}\".format(currentDate.year, str(currentDate.month).zfill(2))\n            if not correctDate in d:\n                d[correctDate] = engagement, totalEngage\n            else:\n                d[correctDate] = d[correctDate], engagement, totalEngage\n    except:\n        break\n\nfor key in reversed(sorted(d)):\n    fin = \"{}, {}\".format(key, ', '.join(map(str, d[key])))\n    print(fin)\n</code></pre>\n\n<p>Any ideas what I'm doing wrong?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "google-maps", "widget", "bokeh"], "answers": [{"comments": [{"owner": {"reputation": 6528, "user_id": 2740380, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/da67a0ebb5bfe35b4393aa34797ded1b?s=128&d=identicon&r=PG&f=1", "display_name": "ragesz", "link": "https://stackoverflow.com/users/2740380/ragesz"}, "edited": false, "score": 0, "creation_date": 1510260031, "post_id": 47206173, "comment_id": 81371677, "body": "Thank you for the answer, I hope it will be fixed soon :)"}], "tags": [], "owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "is_accepted": true, "score": 1, "last_activity_date": 1510242743, "creation_date": 1510242743, "answer_id": 47206173, "question_id": 47190746, "link": "https://stackoverflow.com/questions/47190746/python-bokeh-gmapplot-on-tab-pane-widgets/47206173#47206173", "title": "Python bokeh GMapPlot on Tab Pane widgets", "body": "<p>I am afraid as of Bokeh <code>0.12.10</code> this is still an <a href=\"https://github.com/bokeh/bokeh/issues/6934\" rel=\"nofollow noreferrer\">open known issue specific to GMap plots</a>. You can watch that issue for updates.</p>\n"}], "owner": {"reputation": 6528, "user_id": 2740380, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/da67a0ebb5bfe35b4393aa34797ded1b?s=128&d=identicon&r=PG&f=1", "display_name": "ragesz", "link": "https://stackoverflow.com/users/2740380/ragesz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 47206173, "answer_count": 1, "score": 0, "last_activity_date": 1510242743, "creation_date": 1510179879, "last_edit_date": 1510207383, "question_id": 47190746, "link": "https://stackoverflow.com/questions/47190746/python-bokeh-gmapplot-on-tab-pane-widgets", "title": "Python bokeh GMapPlot on Tab Pane widgets", "body": "<p>I want to create <strong>2 GMapPlots</strong> in the same plot (HTML) object <strong>on separate Tab Panes</strong>, but when I click <strong>on my second tab</strong> then no Google Map nor my little circles are displayed. The <strong>whole area of the plot is grey</strong> and the \"Google\" logo is displayed in the bottom-left corner, but there is no Map. My title of my tab-plots are change correctly when I click on the tabs, and the hover objects are displayed correctly on both plots.</p>\n\n<p>I created the 2 plots in a for cycle using the same data source, so all the code is the same, expect the data values (GPS coordinates) that differ. I have a column that can only have 2 values that define the exact data source (the rows) of each plot. If I filter out the rows of my first plot in the line of for cycle code, then my \"original second\" plot appears correctly. So in this case I have only 1 tab, that has actually the \"second\" plot of my original 2-tab plot and it is displayed correctly in this case (without an other map on other tab).</p>\n\n<p>So it looks like that GMapPlot can be used only for 1 plot in the same plot (HTML) object. Is it true?</p>\n\n<p>1) Of course, if I make the separate bokeh HTML objects (without Tab Panes) then both Maps (and the circles) are displayed correctly.</p>\n\n<p>2) If I create e.g. 2 bar charts in the same plot object (same HTML file) on separate Tab Panes then both charts are displayed correctly.</p>\n\n<p>So does anybody know what the problem could be and how to solve it?</p>\n\n<p>Thank you!!!</p>\n"}, {"tags": ["python", "function", "variables", "return", "return-value"], "comments": [{"owner": {"reputation": 19688, "user_id": 3149020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001905387968/picture?type=large", "display_name": "Spencer Wieczorek", "link": "https://stackoverflow.com/users/3149020/spencer-wieczorek"}, "edited": false, "score": 0, "creation_date": 1510179832, "post_id": 47190719, "comment_id": 81330857, "body": "<code>result = planeFun()</code>. Also you misspelled <code>result</code> in: <code>if reslut in ...</code>"}, {"owner": {"reputation": 1604, "user_id": 5991423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/beK29.jpg?s=128&g=1", "display_name": "Aaron3468", "link": "https://stackoverflow.com/users/5991423/aaron3468"}, "edited": false, "score": 3, "creation_date": 1510179921, "post_id": 47190719, "comment_id": 81330894, "body": "Double check your spellings and please make an edit to explain <i>what</i> has gone wrong exactly. My bet is on a <code>NameError: name &#39;reslut&#39; is not defined</code>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1510179956, "post_id": 47190719, "comment_id": 81330906, "body": "you could convert to lower case+strip your tests would be less tedious... <code>skully=input(&quot;You ran a couple feet away, are you going to go look back in?\\n&quot;).lower().strip()</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510180001, "post_id": 47190719, "comment_id": 81330929, "body": "I don&#39;t understand, what do you mean &quot;Whenever &#39;run&#39; is entered, the program reruns the function&quot;??? You specifically call the function twice..."}, {"owner": {"reputation": 63, "user_id": 8903405, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d3aea0dc49411908a8f9498257791651?s=128&d=identicon&r=PG&f=1", "display_name": "QuestionedE", "link": "https://stackoverflow.com/users/8903405/questionede"}, "edited": false, "score": 0, "creation_date": 1510180020, "post_id": 47190719, "comment_id": 81330939, "body": "That is the problem, but it doesn&#39;t make sense, I need someone to explain why this is happening."}, {"owner": {"reputation": 363, "user_id": 7608795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb274660b0b40b9c739b73dc5ec70ac1?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Homan", "link": "https://stackoverflow.com/users/7608795/jack-homan"}, "edited": false, "score": 0, "creation_date": 1510180044, "post_id": 47190719, "comment_id": 81330952, "body": "Based on your code, you are calling the function twice regardless of whether run is entered...is your problem that you&#39;re seeing the function run twice?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510180084, "post_id": 47190719, "comment_id": 81330968, "body": "@QuestionedE I still don&#39;t understand the problem. Can you explain <b>exactly</b> what&#39;s going on, and perhaps more importantly, what you <i>expect</i> to happen?"}, {"owner": {"reputation": 19688, "user_id": 3149020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001905387968/picture?type=large", "display_name": "Spencer Wieczorek", "link": "https://stackoverflow.com/users/3149020/spencer-wieczorek"}, "edited": false, "score": 0, "creation_date": 1510180085, "post_id": 47190719, "comment_id": 81330972, "body": "@QuestionedE Because you are calling it twice, remove the first <code>planeFun()</code> by itself."}, {"owner": {"reputation": 63, "user_id": 8903405, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d3aea0dc49411908a8f9498257791651?s=128&d=identicon&r=PG&f=1", "display_name": "QuestionedE", "link": "https://stackoverflow.com/users/8903405/questionede"}, "edited": false, "score": 0, "creation_date": 1510180098, "post_id": 47190719, "comment_id": 81330982, "body": "jean-Francois Fabre, what exactly would that do, I am still fairly new to python?"}, {"owner": {"reputation": 363, "user_id": 7608795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb274660b0b40b9c739b73dc5ec70ac1?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Homan", "link": "https://stackoverflow.com/users/7608795/jack-homan"}, "edited": false, "score": 0, "creation_date": 1510180121, "post_id": 47190719, "comment_id": 81330994, "body": "@QuestionedE it would only run the function once"}, {"owner": {"reputation": 63, "user_id": 8903405, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d3aea0dc49411908a8f9498257791651?s=128&d=identicon&r=PG&f=1", "display_name": "QuestionedE", "link": "https://stackoverflow.com/users/8903405/questionede"}, "reply_to_user": {"reputation": 19688, "user_id": 3149020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001905387968/picture?type=large", "display_name": "Spencer Wieczorek", "link": "https://stackoverflow.com/users/3149020/spencer-wieczorek"}, "edited": false, "score": 0, "creation_date": 1510180199, "post_id": 47190719, "comment_id": 81331038, "body": "@SpencerWieczorek Thank you so much! If you put that as the answer, I can mark it as resolved!"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 8903405, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d3aea0dc49411908a8f9498257791651?s=128&d=identicon&r=PG&f=1", "display_name": "QuestionedE", "link": "https://stackoverflow.com/users/8903405/questionede"}, "edited": false, "score": 0, "creation_date": 1510179923, "post_id": 47190742, "comment_id": 81330896, "body": "either way though, when run is entered, the program reruns the function..."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1510179927, "post_id": 47190742, "comment_id": 81330898, "body": "this is probably not the issue"}], "tags": [], "owner": {"reputation": 314, "user_id": 8576366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PTEwi.jpg?s=128&g=1", "display_name": "Pablo Oliva", "link": "https://stackoverflow.com/users/8576366/pablo-oliva"}, "is_accepted": false, "score": 3, "last_activity_date": 1510179858, "creation_date": 1510179858, "answer_id": 47190742, "question_id": 47190719, "link": "https://stackoverflow.com/questions/47190719/why-does-returning-a-value-then-using-it-as-a-variable-not-work-in-python-this/47190742#47190742", "title": "Why does returning a value, then using it as a variable not work in Python this way?", "body": "<p>Second to last line, you typed:</p>\n\n<pre><code>`if reslut in ...`\n</code></pre>\n\n<p>Try with result.</p>\n"}, {"tags": [], "owner": {"reputation": 469, "user_id": 8332501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R5V6i.jpg?s=128&g=1", "display_name": "sslloo", "link": "https://stackoverflow.com/users/8332501/sslloo"}, "is_accepted": false, "score": 0, "last_activity_date": 1510180298, "creation_date": 1510180298, "answer_id": 47190832, "question_id": 47190719, "link": "https://stackoverflow.com/questions/47190719/why-does-returning-a-value-then-using-it-as-a-variable-not-work-in-python-this/47190832#47190832", "title": "Why does returning a value, then using it as a variable not work in Python this way?", "body": "<p>You should fill the \"else\" statement for debugging, means print skully if the input is not yes\nsame for result</p>\n"}, {"tags": [], "owner": {"reputation": 19688, "user_id": 3149020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001905387968/picture?type=large", "display_name": "Spencer Wieczorek", "link": "https://stackoverflow.com/users/3149020/spencer-wieczorek"}, "is_accepted": true, "score": 0, "last_activity_date": 1510180500, "creation_date": 1510180500, "answer_id": 47190871, "question_id": 47190719, "link": "https://stackoverflow.com/questions/47190719/why-does-returning-a-value-then-using-it-as-a-variable-not-work-in-python-this/47190871#47190871", "title": "Why does returning a value, then using it as a variable not work in Python this way?", "body": "<blockquote>\n  <p>Whenever 'run' is entered, the program re runs the function, and I cannot figure out why.</p>\n</blockquote>\n\n<p>This is due to the function <code>planeFun</code> getting called twice:</p>\n\n<pre><code>planeFun()          # &lt;-- 1\n\nresult= planeFun()  # &lt;-- 2\n</code></pre>\n\n<p>Along with this I'd recommend what <em>@Jean-Fran\u00e7ois Fabre</em> mentioned in the comments. Removing trailing and leading white space and making your input not case sensitive can make it easier to check for certain results:</p>\n\n<pre><code>def planeFun ():\n    print(\"The plane has spiked your intrest\")\n    print(\"  s    \")\n    skully=input(\"You ran a couple feet away, are you going to go look back in?\\n\").lower().strip()\n</code></pre>\n\n<p>That way you only need to check for lowercase text and you can remove the upper case duplicate checks.</p>\n"}], "owner": {"reputation": 63, "user_id": 8903405, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d3aea0dc49411908a8f9498257791651?s=128&d=identicon&r=PG&f=1", "display_name": "QuestionedE", "link": "https://stackoverflow.com/users/8903405/questionede"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "closed_date": 1510185307, "accepted_answer_id": 47190871, "answer_count": 3, "score": -3, "last_activity_date": 1514848433, "creation_date": 1510179757, "last_edit_date": 1514848433, "question_id": 47190719, "link": "https://stackoverflow.com/questions/47190719/why-does-returning-a-value-then-using-it-as-a-variable-not-work-in-python-this", "closed_reason": "Needs details or clarity", "title": "Why does returning a value, then using it as a variable not work in Python this way?", "body": "<pre><code>import time\ndef planeFun ():\n    print(\"The plane has spiked your intrest\")\n    print(\"  s    \")\n    skully=input(\"You ran a couple feet away, are you going to go look back in?\\n\")\n    if skully in [\"Yes\", \"yes\", \" yes\", \" Yes\", \"y\", \"Y\", \"ya\"]:\n        print(\"You decide to go and check back in, make sure what you saw is real!\")\n        goin=input(\"should you investigate the plane more, or run away?\\n\")\n        return goin\n\n\nplaneFun()\n\nresult= planeFun()\nif result in [\"run\", \"Run\", \" run\", \" Run\", \"run away\", \"Run away\", \" run away\", \" Run away\"]:\n    print(\"You decide to leave, something weird is going on, and you're not sticking around to find out\")\n</code></pre>\n\n<p>What have I done wrong in this program? I have tried to fix it and couldn't. Whenever 'run' is entered, the program re runs the function, and I cannot figure out why.</p>\n"}, {"tags": ["python", "postgresql", "sqlalchemy"], "comments": [{"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1510179983, "post_id": 47190680, "comment_id": 81330920, "body": "That is not how you use parameters in <code>psycopg2</code>. Also what are you trying to do by setting a table name to something else?"}, {"owner": {"reputation": 11693, "user_id": 858962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f16ec0395b1710fd529b01602de66ca?s=128&d=identicon&r=PG", "display_name": "dopatraman", "link": "https://stackoverflow.com/users/858962/dopatraman"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1510186017, "post_id": 47190680, "comment_id": 81332956, "body": "sorry, meant to set a column. please see edit."}], "answers": [{"comments": [{"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 2, "creation_date": 1510212812, "post_id": 47193568, "comment_id": 81341167, "body": "In the end what&#39;s missing is just the <code>text()</code> wrapper around QUERY, which would handle the :name style in a DB-API independent fashion. Some methods such as <code>Session.execute()</code> actually do that automatically, but not so for <code>Engine.execute()</code>."}], "tags": [], "owner": {"reputation": 257374, "user_id": 398670, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85f50c23bb5e9dfb061af5032bfe8e65?s=128&d=identicon&r=PG", "display_name": "Craig Ringer", "link": "https://stackoverflow.com/users/398670/craig-ringer"}, "is_accepted": false, "score": 2, "last_activity_date": 1510199546, "last_edit_date": 1510199546, "creation_date": 1510199215, "answer_id": 47193568, "question_id": 47190680, "link": "https://stackoverflow.com/questions/47190680/sqlalchemy-exc-programmingerror-psycopg2-programmingerror-syntax-error-at-or/47193568#47193568", "title": "sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near &quot;:&quot;", "body": "<p><code>psycopg2</code> doesn't support <code>:named</code> parameters. <a href=\"https://www.python.org/dev/peps/pep-0249/#paramstyle\" rel=\"nofollow noreferrer\">The Python DB-API spec</a> allows for <code>:named</code> parameters with <code>paramstyle = 'named'</code>, but <code>psycopg2</code> uses:</p>\n\n<pre><code>&gt;&gt;&gt; import psycopg2\n&gt;&gt;&gt; psycopg2.paramstyle\n'pyformat'\n</code></pre>\n\n<p><a href=\"http://initd.org/psycopg/docs/usage.html#passing-parameters-to-sql-queries\" rel=\"nofollow noreferrer\">as documented in the <code>psycopg2</code> docs</a>.</p>\n\n<p>It's a pity that Python's DB-API allows a variety of parameter styles, but that's how it is. Some drivers appear to support changing <code>paramstyle</code> as a DB-API extension. But it doesn't look like <code>psycopg2</code> is one of them:</p>\n\n<pre><code>&gt;&gt;&gt; psycopg2.paramstyle = 'named'\n&gt;&gt;&gt; psycopg2.paramstyle\n'named'\n&gt;&gt;&gt; cur.execute(\"SELECT :a, :b, :c\", {'a': 1, 'b': 2, 'c': 3})\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\npsycopg2.ProgrammingError: syntax error at or near \":\"\nLINE 1: SELECT :a, :b, :c\n\n&gt;&gt;&gt; conn.rollback()\n&gt;&gt;&gt; cur.execute(\"SELECT %(a)s, %(b)s, %(c)s\", {'a': 1, 'b': 2, 'c': 3})\n&gt;&gt;&gt; \n</code></pre>\n\n<p>So if you've seen <code>:param</code> style parameters work before, it's because some outer layer (maybe SQLAlchemy) is adapting your queries for you. A quick look at the <a href=\"http://docs.sqlalchemy.org/en/latest/core/tutorial.html\" rel=\"nofollow noreferrer\">SQLAlchemy docs</a> suggests that <a href=\"http://docs.sqlalchemy.org/en/latest/core/tutorial.html#specifying-bound-parameter-behaviors\" rel=\"nofollow noreferrer\">it may do just that</a>. </p>\n\n<p>At a guess, you're bypassing the SQLAlchemy dialect layer with your current code. But I don't really know SQLAlchemy...</p>\n"}, {"tags": [], "owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "is_accepted": true, "score": 6, "last_activity_date": 1510221171, "last_edit_date": 1510221171, "creation_date": 1510220867, "answer_id": 47198605, "question_id": 47190680, "link": "https://stackoverflow.com/questions/47190680/sqlalchemy-exc-programmingerror-psycopg2-programmingerror-syntax-error-at-or/47198605#47198605", "title": "sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near &quot;:&quot;", "body": "<blockquote>\n  <p>I've never run into problems before passing values into the SQLAlchemy execute. What am I doing wrong?</p>\n</blockquote>\n\n<p>You might have been using <a href=\"http://docs.sqlalchemy.org/en/latest/orm/session_api.html#sqlalchemy.orm.session.Session.execute\" rel=\"noreferrer\"><code>Session.execute()</code></a> before, instead of <a href=\"http://docs.sqlalchemy.org/en/latest/core/connections.html#sqlalchemy.engine.Engine.execute\" rel=\"noreferrer\"><code>Engine.execute()</code></a>. The former automatically wraps SQL strings with the <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.text\" rel=\"noreferrer\"><code>text()</code></a> construct, or at least it behaves as such, which is the key here; it is <code>text()</code> that provides the DB-API driver independent handling of bound parameters/placeholders. Without it you're at the whims of your DB-API, <a href=\"https://stackoverflow.com/a/47193568/2681632\">as noted by Craig Ringer in their answer</a>.</p>\n\n<p>So in order to use <code>:name</code> style placeholders with an engine directly, simply wrap your query with <code>text()</code>:</p>\n\n<pre><code>sqlalchemy_engine.execute(text(QUERY), foo='bar')\n</code></pre>\n\n<p>Note that an engine <a href=\"http://docs.sqlalchemy.org/en/latest/core/engines.html\" rel=\"noreferrer\">is the starting point</a> of an SQLAlchemy app and everything builds on top of it, so that might be the reasoning behind one not doing the automatic wrapping, while the other does. A Session is a higher level abstraction.</p>\n"}], "owner": {"reputation": 11693, "user_id": 858962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f16ec0395b1710fd529b01602de66ca?s=128&d=identicon&r=PG", "display_name": "dopatraman", "link": "https://stackoverflow.com/users/858962/dopatraman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5664, "favorite_count": 0, "accepted_answer_id": 47198605, "answer_count": 2, "score": 5, "last_activity_date": 1510221171, "creation_date": 1510179517, "last_edit_date": 1510186009, "question_id": 47190680, "link": "https://stackoverflow.com/questions/47190680/sqlalchemy-exc-programmingerror-psycopg2-programmingerror-syntax-error-at-or", "title": "sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near &quot;:&quot;", "body": "<p>Here's my query:</p>\n\n<pre><code>QUERY = \"\"\"\n        UPDATE my_table\n        SET\n            my_prop=:foo\n        WHERE hello='world'\n\"\"\"\n</code></pre>\n\n<p>I execute the statement like this:</p>\n\n<pre><code>sqlalchemy_engine.execute(QUERY, foo='bar')\n</code></pre>\n\n<p>When I do I get the following error:</p>\n\n<pre><code>sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near \":\"\nUPDATE my_table\\n        SET\\n            my_prop.foo = :foo\n                                                         ^\n</code></pre>\n\n<p>I've never run into problems before passing values into the SQL Alchemy execute. What am I doing wrong?</p>\n"}, {"tags": ["python", "django", "http", "web"], "comments": [{"owner": {"reputation": 28120, "user_id": 492773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c30dea4ed3e1c2efc5e877f1f3c971?s=128&d=identicon&r=PG", "display_name": "kichik", "link": "https://stackoverflow.com/users/492773/kichik"}, "edited": false, "score": 0, "creation_date": 1510179488, "post_id": 47190633, "comment_id": 81330703, "body": "Have you tried <code>&#47;signup&#47;</code> with the trailing slash?"}, {"owner": {"reputation": 31, "user_id": 5253804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJdmJ.jpg?s=128&g=1", "display_name": "FLATeric", "link": "https://stackoverflow.com/users/5253804/flateric"}, "reply_to_user": {"reputation": 28120, "user_id": 492773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c30dea4ed3e1c2efc5e877f1f3c971?s=128&d=identicon&r=PG", "display_name": "kichik", "link": "https://stackoverflow.com/users/492773/kichik"}, "edited": false, "score": 0, "creation_date": 1510183858, "post_id": 47190633, "comment_id": 81332379, "body": "@kichik on the urls and ajax? yeah"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 2484641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80648457d74e8a0e9df0313c57b9eb09?s=128&d=identicon&r=PG", "display_name": "miketery", "link": "https://stackoverflow.com/users/2484641/miketery"}, "is_accepted": false, "score": 1, "last_activity_date": 1510180220, "creation_date": 1510180220, "answer_id": 47190810, "question_id": 47190633, "link": "https://stackoverflow.com/questions/47190633/ajax-post-returns-404-for-url-in-django-1-10/47190810#47190810", "title": "ajax post returns 404 for url in django 1.10", "body": "<p>Two things could be going wrong.</p>\n\n<ol>\n<li>Missing CSRF token in API call. <a href=\"https://docs.djangoproject.com/en/1.11/ref/csrf/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.11/ref/csrf/</a></li>\n<li>Not properly serialized data. You need to use <code>data=JSON.stringify({dictionary});</code></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5253804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJdmJ.jpg?s=128&g=1", "display_name": "FLATeric", "link": "https://stackoverflow.com/users/5253804/flateric"}, "is_accepted": false, "score": 0, "last_activity_date": 1510185180, "creation_date": 1510185180, "answer_id": 47191717, "question_id": 47190633, "link": "https://stackoverflow.com/questions/47190633/ajax-post-returns-404-for-url-in-django-1-10/47191717#47191717", "title": "ajax post returns 404 for url in django 1.10", "body": "<p>SOLVED!\nshould have indid put an extra / in the end.</p>\n"}], "owner": {"reputation": 31, "user_id": 5253804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJdmJ.jpg?s=128&g=1", "display_name": "FLATeric", "link": "https://stackoverflow.com/users/5253804/flateric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510185180, "creation_date": 1510179327, "question_id": 47190633, "link": "https://stackoverflow.com/questions/47190633/ajax-post-returns-404-for-url-in-django-1-10", "title": "ajax post returns 404 for url in django 1.10", "body": "<p>Im trying to post a simple ajax to 'signup' function in django but keep getting 404, I think it has to do with my url dispatcher and I need some help please..\nmy ajax looks like this:</p>\n\n<pre><code>$('#signupBtn').click(function() {\n$.ajax({\n    type: 'POST',\n    url : '/signup',\n    dataType: \"json\",\n    data : {\n        userId : $('#signupEmail').val(),\n        userPassword : $('#signupPassword').val()\n    },\n    beforeSend: function() {\n        $('#signupBtn').hide();\n    },\n    error: function(xhr,errmsg,err) {\n        $('#signupBtn').show();\n        $('#signupEmail').val(\"\");\n        $('#signupPassword').val(\"\");\n        alert(xhr.status);\n      },\n    success : function(json) {\n            $('#signupBtn').show();\n            $('#signupEmail').val(\"\");\n            $('#signupPassword').val(\"\");\n            alert(json['u']);\n    }\n});\n  return false;});\n</code></pre>\n\n<p>my views.py lookes like this:</p>\n\n<pre><code>def signup(request):\n    userid = request.POST.get('userId')\n    userpass = request.POST.get('userPassword')\n    data = { 'u' : userid, 'p' :  userpass}\n    return JsonResponse(data)\n</code></pre>\n\n<p>and my app urls lookes like this:</p>\n\n<pre><code>from django.conf.urls import url\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n    url(r'^signup$', views.signup, name='signup'),]\n</code></pre>\n\n<p>what is my problem? and how do i fix it? \nthanks.</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 4435, "user_id": 3157209, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f09e0aa62a26ffcf34ba27a698880238?s=128&d=identicon&r=PG&f=1", "display_name": "zimmerrol", "link": "https://stackoverflow.com/users/3157209/zimmerrol"}, "is_accepted": false, "score": 0, "last_activity_date": 1510213499, "last_edit_date": 1510213499, "creation_date": 1510180383, "answer_id": 47190849, "question_id": 47190556, "link": "https://stackoverflow.com/questions/47190556/tensorflow-reuse-neural-network/47190849#47190849", "title": "Tensorflow reuse neural network", "body": "<p>Assuming you create your graph/network's model somehow like this:</p>\n\n<pre><code>with tf.Session() as sess:\n    #do other stuff\n    predictionOp = tf.argmax(py_x, 1)\n\nsaver.save(sess, 'model') \n</code></pre>\n\n<p>where <code>predictionOp</code> is the variable which is the output of your network.</p>\n\n<p>You can add something like this afterwards: <code>tf.add_to_collection(\"predictionOp\", predictionOp)\n</code> to give the <code>predictionOp</code> a name to be easier to find. Then, you can reload your model and get the predictions with:</p>\n\n<pre><code>with tf.Session() as sess:\n    new_saver = tf.train.import_meta_graph('model.meta')\n    new_saver.restore(sess, 'model')\n    predictionOp = tf.get_collection(\"predictionOp\")[0]\n\n    #get the prediction\n    prediction = sess.run(predictionOp, feed_dict={\"x:0\": input_data})\n</code></pre>\n\n<p>For more information, please take a look at the <code>tensorflow</code> <a href=\"https://www.tensorflow.org/programmers_guide/saved_model\" rel=\"nofollow noreferrer\">documentation</a> and <a href=\"http://cv-tricks.com/tensorflow-tutorial/save-restore-tensorflow-models-quick-complete-tutorial/\" rel=\"nofollow noreferrer\">here</a> for some more information about the basics. Also, there are some other threads, which deal with similar problems, like <a href=\"https://stackoverflow.com/questions/33759623/tensorflow-how-to-save-restore-a-model\">this</a> and <a href=\"https://stackoverflow.com/questions/40956040/how-to-use-model-after-trained-in-tensorflow-save-load-graph\">this one</a>.</p>\n"}], "owner": {"reputation": 21, "user_id": 8909906, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j2lY6GwyA40/AAAAAAAAAAI/AAAAAAAAASI/rDZ9ze53qHE/photo.jpg?sz=128", "display_name": "Joan Guillem Castell Ros-zanet", "link": "https://stackoverflow.com/users/8909906/joan-guillem-castell-ros-zanet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1510213499, "creation_date": 1510178975, "last_edit_date": 1510183697, "question_id": 47190556, "link": "https://stackoverflow.com/questions/47190556/tensorflow-reuse-neural-network", "title": "Tensorflow reuse neural network", "body": "<p>I'm new in tensorflow and I've been training a simple neural network, but once is trained, I don't know how to reuse the NN to get the outputs of an input.</p>\n\n<pre><code>def train_neural_network(x,y,aDataTrain,aTargetTrain,aDataTest,aTargetTest):\n    batch_size = 500\n    prediction = neural_network_model(x,len(aDataTrain[0]))\n    cost = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logits=prediction,labels=y))\n    optimizer = tf.train.AdamOptimizer().minimize(cost)\n    hm_epochs = 1\n\n    saver = tf.train.Saver()\n    with tf.Session() as sess:\n        sess.run(tf.global_variables_initializer())\n\n        for epoch in range(hm_epochs):\n            epoch_loss = 0\n            i = 0\n            while i &lt; len(aDataTrain):\n                start = i\n                end = i + batch_size\n                batch_x = np.array(aDataTrain[start:end])\n                batch_y = np.array(aTargetTrain[start:end])\n\n                _,c = sess.run([optimizer,cost],feed_dict={x:batch_x,y:batch_y})\n                epoch_loss += c\n                i += batch_size\n            print (\"Epoch\", epoch, \"completed out of\", hm_epochs, \"loss\", epoch_loss)\n\n        correct =tf.equal(tf.argmax(prediction,1), tf.argmax(y,1))\n\n        accurracy = tf.reduce_mean(tf.cast(correct,'float'))\n        finalAcc = accurracy.eval({x:aDataTest,y:aTargetTest})\n        saver.save(sess, 'model/model.ckpt')\n\n    print(\"Accuracy:\",finalAcc)\n</code></pre>\n\n<p>So, once I've saved the model and try to restore it, I don't know how to continue to get the output of the NN from the \"input_data\".</p>\n\n<pre><code>def execute_neural_network(x,y,aDataTrain,aTargetTrain,aDataTest,aTargetTest):\n    batch_size = 1\n    y_pred = []\n\n    prediction = neural_network_model(x,len(aDataTrain[0]))\n    cost = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logits=prediction,labels=y))\n    optimizer = tf.train.AdamOptimizer().minimize(cost)\n\n    input_data = [5.0, 3.0, 1.0, 5.0, 6.0, 5.0, 2.0, 4.0, 7.0, 6.0, 3.0, 3.0, 3.0, 3.0, 3.0, 4.0, 2.0, 3.0, 3.0, 3.0, 3.0, 3.0, 2.0, 3.0, 2.0, 3.0, 2.0, 3.0, 3.0, 4.0, 3.0, 3.0, 2.0, 4.0, 3.0, 3.0, 2.0, 4.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 61.0, 21.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 75.0, 3.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 6.0, 35.0, 11.0, 10.0, 33.0, 24.0, 6.0, 2.0, 2.0, 3.0, 4.0, 3.0, 3.0, 8.0, 6.0, 5.0, 6.0, 5.0, 8.0, 9.0, 13.0, 7.0, 25.0, 11.0, 2.0, 2.0, 2.0, 2.0, 2.0]\n\n    saver = tf.train.Saver()\n    with tf.Session() as sess:\n        saver.restore(sess, 'model/model.ckpt')\n        #Get neural network output from input_data\n</code></pre>\n"}, {"tags": ["python", "string", "split"], "comments": [{"owner": {"reputation": 5291, "user_id": 2225960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfbe6ed4dfe3277edd4921b31ad78d05?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/2225960/juan"}, "edited": false, "score": 1, "creation_date": 1510179456, "post_id": 47190553, "comment_id": 81330692, "body": "This expression will divide the line in the 4 capturing groups. ^(.+)\\.(.+) (.+):(.+)$ I am not sure how you implement it in python"}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "reply_to_user": {"reputation": 5291, "user_id": 2225960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfbe6ed4dfe3277edd4921b31ad78d05?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/2225960/juan"}, "edited": false, "score": 0, "creation_date": 1510179908, "post_id": 47190553, "comment_id": 81330888, "body": "Applying the regex supplied by @Juan , this seems to do the trick: <code>re.split(&quot;(.+)\\.(.+) (.+):(.+)&quot;, line)[1:5]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 878, "user_id": 6437980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d97d56e964292977ed9503a46b46ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jose A.", "link": "https://stackoverflow.com/users/6437980/jose-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1510179854, "creation_date": 1510179854, "answer_id": 47190740, "question_id": 47190553, "link": "https://stackoverflow.com/questions/47190553/splitting-string-with-multiple-delimiters-in-a-particular-order/47190740#47190740", "title": "Splitting String with Multiple Delimiters in a Particular Order", "body": "<p>This may work. Credit to <a href=\"https://stackoverflow.com/users/2225960/juan\">Juan</a></p>\n\n<pre><code>import re\npattern = re.compile(r'^(.+)\\.(.+) (.+):(.+)$')\nline = 'STOP.F 11966.0000:STOP DEPTH'\npattern.search(line).groups()\nOut[6]: ('STOP', 'F', '11966.0000', 'STOP DEPTH')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 878, "user_id": 6437980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d97d56e964292977ed9503a46b46ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jose A.", "link": "https://stackoverflow.com/users/6437980/jose-a"}, "edited": false, "score": 0, "creation_date": 1510180864, "post_id": 47190776, "comment_id": 81331286, "body": "This exact code throws me the following error in python 3.6.2: <code>sre_constants.error: look-behind requires fixed-width pattern</code> I was trying to compare execution time compiling the pattern first."}], "tags": [], "owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "is_accepted": false, "score": 0, "last_activity_date": 1510180035, "creation_date": 1510180035, "answer_id": 47190776, "question_id": 47190553, "link": "https://stackoverflow.com/questions/47190553/splitting-string-with-multiple-delimiters-in-a-particular-order/47190776#47190776", "title": "Splitting String with Multiple Delimiters in a Particular Order", "body": "<p><strong><code>re.split()</code></strong> solution with specific regex pattern:</p>\n\n<pre><code>import re\n\ns = 'STOP.F 11966.0000:STOP DEPTH'\nresult = re.split(r'(?&lt;=^[^.]+)\\.|(?&lt;=^[^ ]+) |:', s)\n\nprint(result)\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>['STOP', 'F', '11966.0000', 'STOP DEPTH']\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3720401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d61816b417a8107a95ef6bc01d6c7c6a?s=128&d=identicon&r=PG&f=1", "display_name": "subsurfer", "link": "https://stackoverflow.com/users/3720401/subsurfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510180035, "creation_date": 1510178967, "question_id": 47190553, "link": "https://stackoverflow.com/questions/47190553/splitting-string-with-multiple-delimiters-in-a-particular-order", "title": "Splitting String with Multiple Delimiters in a Particular Order", "body": "<p>I am dealing with a type of ASCII file where there are effectively 4 columns of data and the each row is assigned to a line in the file. Below is an example of a row of data from this file</p>\n\n<pre><code>'STOP.F 11966.0000:STOP DEPTH'\n</code></pre>\n\n<p>The data is  always structured so that the delimiter between the first and second column is a period, the delimiter between the second and third column is a space and the delimiter between the third and fourth column is a colon.</p>\n\n<p>Ideally, I would like to find a way to return the following result from the string above </p>\n\n<pre><code>['STOP', 'F', '11966.0000', 'STOP DEPTH']\n</code></pre>\n\n<p>I tried using a regular expression with the period, space and colon as delimiters, but it breaks down (see example below) because I don't know how to specify the specific order in which to split the string, and I don't know if there is a way to specify the maximum number of splits per delimiter right in the regular expression itself. I want it to split the delimiters in the specific order and each delimiter a maximum of 1 time.</p>\n\n<pre><code>import re\nline = 'STOP.F 11966.0000:STOP DEPTH'\nre.split(\"[. :]\", line)\n&gt;&gt;&gt; ['STOP', 'F', '11966', '0000', 'STOP', 'DEPTH']\n</code></pre>\n\n<p>Any suggestions on a tidy way to do this?</p>\n"}, {"tags": ["python", "python-2.7", "loops", "nested"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510178976, "post_id": 47190488, "comment_id": 81330479, "body": "Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 756, "user_id": 8819662, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4c7xj.jpg?s=128&g=1", "display_name": "SPYBUG96", "link": "https://stackoverflow.com/users/8819662/spybug96"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510179080, "post_id": 47190488, "comment_id": 81330519, "body": "@Prune so do you want me to add a &quot;folder&quot; object? what else am I missing?"}, {"owner": {"reputation": 1934, "user_id": 7404750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1lT7.jpg?s=128&g=1", "display_name": "FlorianGD", "link": "https://stackoverflow.com/users/7404750/floriangd"}, "edited": false, "score": 0, "creation_date": 1510179115, "post_id": 47190488, "comment_id": 81330534, "body": "What is folder in your second for? It isn&#39;t defined anywhere"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510179187, "post_id": 47190488, "comment_id": 81330575, "body": "@SPYBUG96: As I said, the posting should be self-contained.  The input file is missing and the return of os.listdir won&#39;t match your needs.  Hard-code those lists, and you should be fine."}, {"owner": {"reputation": 756, "user_id": 8819662, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4c7xj.jpg?s=128&g=1", "display_name": "SPYBUG96", "link": "https://stackoverflow.com/users/8819662/spybug96"}, "reply_to_user": {"reputation": 1934, "user_id": 7404750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1lT7.jpg?s=128&g=1", "display_name": "FlorianGD", "link": "https://stackoverflow.com/users/7404750/floriangd"}, "edited": false, "score": 0, "creation_date": 1510179211, "post_id": 47190488, "comment_id": 81330592, "body": "@FlorianGD just added it to the description, it is a path to a folder with files in it"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510179338, "post_id": 47190488, "comment_id": 81330645, "body": "@SPYBUG96 -- I noticed that, and edited my comment."}, {"owner": {"reputation": 1934, "user_id": 7404750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1lT7.jpg?s=128&g=1", "display_name": "FlorianGD", "link": "https://stackoverflow.com/users/7404750/floriangd"}, "edited": false, "score": 0, "creation_date": 1510179361, "post_id": 47190488, "comment_id": 81330653, "body": "And are you sure that there is a file in your folder that is in your all good file?"}, {"owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "edited": false, "score": 0, "creation_date": 1510179438, "post_id": 47190488, "comment_id": 81330686, "body": "@SPYBUG 96 did u try <code>for item in allGood.readlines()</code>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510179447, "post_id": 47190488, "comment_id": 81330690, "body": "Before we go any further, you might show us the results of your basic debugging.  <code>print (file, item)</code> will show what you&#39;re actually comparing -- and should be part of your diagnosis already."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510179480, "post_id": 47190488, "comment_id": 81330699, "body": "Remember, <code>allGood</code> is a file handle, <i>not</i> the file contents."}, {"owner": {"reputation": 2905, "user_id": 495319, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iyjw1.jpg?s=128&g=1", "display_name": "Wodin", "link": "https://stackoverflow.com/users/495319/wodin"}, "edited": false, "score": 0, "creation_date": 1510179562, "post_id": 47190488, "comment_id": 81330731, "body": "Please provide an example showing the contents of <code>allGood.txt</code> and the files in <code>C:\\your\\folder\\path\\here</code> and the expected and actual output. Also bear in mind that the backslashes in the path should be escaped: <code>&quot;C:\\\\your\\\\folder\\\\path\\\\here&quot;</code>"}, {"owner": {"reputation": 756, "user_id": 8819662, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4c7xj.jpg?s=128&g=1", "display_name": "SPYBUG96", "link": "https://stackoverflow.com/users/8819662/spybug96"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510179606, "post_id": 47190488, "comment_id": 81330752, "body": "@Prune I think you just solved my problem, ugh, I&#39;m such an idiot"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1510179699, "post_id": 47190488, "comment_id": 81330798, "body": "@SPYBUG96  Welcome to the <i>homo sapiens</i> club, which I generally refer to as <code>H. Sap.</code>  Been there, done that, could make a football-field-sized flag from the T-shirts."}, {"owner": {"reputation": 756, "user_id": 8819662, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4c7xj.jpg?s=128&g=1", "display_name": "SPYBUG96", "link": "https://stackoverflow.com/users/8819662/spybug96"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510179766, "post_id": 47190488, "comment_id": 81330829, "body": "@Prune If you want to see what the problem is, I added the output of print(file, item)"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1510180090, "post_id": 47190488, "comment_id": 81330976, "body": "@SPYBUG96: and there&#39;s your other problem: you have to <code>strip</code> the white space form the file name.  I included that in my answer (although Loren&#39;s is one I was about to post, so I&#39;m glad you already accepted that)."}], "answers": [{"comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 3, "creation_date": 1510179587, "post_id": 47190675, "comment_id": 81330742, "body": "I was just about to suggest this tactic -- good work.  BTW, lack of reputation is <i>not</i> an excuse to post a comment as an answer.  This qualifies as an answer, however."}, {"owner": {"reputation": 756, "user_id": 8819662, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4c7xj.jpg?s=128&g=1", "display_name": "SPYBUG96", "link": "https://stackoverflow.com/users/8819662/spybug96"}, "edited": false, "score": 1, "creation_date": 1510179925, "post_id": 47190675, "comment_id": 81330897, "body": "Yeah I&#39;ve had a long day and I just completely forgot about that Thanks"}], "tags": [], "owner": {"reputation": 9958, "user_id": 1107807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c97f65a0efb6e00386ab784768870b4?s=128&d=identicon&r=PG", "display_name": "Don Question", "link": "https://stackoverflow.com/users/1107807/don-question"}, "is_accepted": true, "score": 3, "last_activity_date": 1510179986, "last_edit_date": 1510179986, "creation_date": 1510179501, "answer_id": 47190675, "question_id": 47190488, "link": "https://stackoverflow.com/questions/47190488/nested-loops-not-getting-desired-output/47190675#47190675", "title": "Nested loops not getting desired output", "body": "<p>I don't have enough reputation to comment, so i'll try an answer with insufficient informations. Basically you never have a match. That's why you never enter the second loop.</p>\n\n<p>Did you consider handling the filenames as sets?:</p>\n\n<pre><code>real_files = set(os.listdir(folder))\ngood_files = set(open(\"allGood.txt\", \"r\").readlines())\n\nmatching_files = good_files.intersection(real_files)\nfor file in matching_files:\n    pass # do something\n</code></pre>\n\n<p>Also the text-file entries may contain white-spaces; consider using 'strip`, e.g:</p>\n\n<pre><code>import string\n...\ngood_files = set(map(string.strip, open(\"allGood.txt\", \"r\").readlines()))\n...\n</code></pre>\n\n<p>or somewhat less \"Perl-ish\" ;-)</p>\n\n<pre><code>...\ngood_files_raw = open(\"allGood.txt\", \"r\").readlines()\ngood_files = set(map(string.strip, good_files_raw))\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 2, "last_activity_date": 1510179999, "creation_date": 1510179999, "answer_id": 47190770, "question_id": 47190488, "link": "https://stackoverflow.com/questions/47190488/nested-loops-not-getting-desired-output/47190770#47190770", "title": "Nested loops not getting desired output", "body": "<p>Remember, allGood is a file handle, not the file contents.  Perhaps what you need is something like this:</p>\n\n<pre><code>folder = os.listdir(\"C:\\your\\folder\\path\\here\")\n\nwith open(\"allGood.txt\", \"r\") as allGood:\n    for line in allGood:\n        line = line.strip()\n        if line in folder:\n        ...\n</code></pre>\n"}], "owner": {"reputation": 756, "user_id": 8819662, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4c7xj.jpg?s=128&g=1", "display_name": "SPYBUG96", "link": "https://stackoverflow.com/users/8819662/spybug96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 47190675, "answer_count": 2, "score": 1, "last_activity_date": 1510180190, "creation_date": 1510178710, "last_edit_date": 1510180190, "question_id": 47190488, "link": "https://stackoverflow.com/questions/47190488/nested-loops-not-getting-desired-output", "title": "Nested loops not getting desired output", "body": "<p>I'm trying to get this nested loop to work for a bigger program. This is just a small portion of my code</p>\n\n<p>I want my program to match a file name in a folder to a file name in a text document, and if they match do something. I have no clue why the following nested loop is not working.</p>\n\n<pre><code>allGood = open(\"allGood.txt\", \"r\")\nfolder = \"C:\\your\\folder\\path\\here\"\n\nfor item in allGood:\n    for file in os.listdir(folder):\n\n        if file == item:\n            print \"in item loop\" + item\n            print \"Do a thing\"\n    print \"1 loop completed\"\n</code></pre>\n\n<p>The contents of \"allGood.txt\"</p>\n\n<pre><code>document10080.pdf\ndocument10098.pdf\ndocument10119.pdf\ndocument10172.pdf\ndocument10178.pdf\nand so on\n</code></pre>\n\n<p>The problem is when it gets to the IF statement. It should match only once per loop, but it doesn't. I am only getting a huge output of \"1 loop completed\"</p>\n\n<p>Output from inserting <code>print(file, item)</code></p>\n\n<pre><code>('document10486.pdf', 'document10080.pdf\\n')\n('document10487.pdf', 'document10080.pdf\\n')\n('document10488.pdf', 'document10080.pdf\\n')\n('document10489.pdf', 'document10080.pdf\\n')\n('document1049.pdf', 'document10080.pdf\\n')\n</code></pre>\n\n<p><strong>I see my problem now</strong></p>\n"}, {"tags": ["python", "numpy", "spyder"], "answers": [{"tags": [], "owner": {"reputation": 27032, "user_id": 438386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aceace9b2049723617a2f59f698df0ff?s=128&d=identicon&r=PG", "display_name": "Carlos Cordoba", "link": "https://stackoverflow.com/users/438386/carlos-cordoba"}, "is_accepted": false, "score": 2, "last_activity_date": 1510178961, "creation_date": 1510178961, "answer_id": 47190551, "question_id": 47190486, "link": "https://stackoverflow.com/questions/47190486/spyder-python-variable-explorer-different-view/47190551#47190551", "title": "spyder (python) variable explorer different view", "body": "<p>You need to update Spyder, because support for the most important numeric types of Numpy (32 and 64 bits int, float and complex numbers) was added in Spyder <strong>3.1</strong>, released on January/2017.</p>\n"}], "owner": {"reputation": 131, "user_id": 8669303, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1d2086266b0b47c0d01adfcece9cf8a7?s=128&d=identicon&r=PG&f=1", "display_name": "Matan", "link": "https://stackoverflow.com/users/8669303/matan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510178961, "creation_date": 1510178703, "question_id": 47190486, "link": "https://stackoverflow.com/questions/47190486/spyder-python-variable-explorer-different-view", "title": "spyder (python) variable explorer different view", "body": "<p>i am looking at a tutorial video, and i copied and paste the code.\nsomehow the way spyder shows some variables is different from the way in the tutorial video.\nthis is the way it shows on my pc, i need to double click total_reward to see the value 2178. <a href=\"https://i.stack.imgur.com/CL2Sh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CL2Sh.png\" alt=\"enter image description here\"></a></p>\n\n<p>and this is the way it is shown in the video\n<a href=\"https://i.stack.imgur.com/sNF3e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sNF3e.png\" alt=\"enter image description here\"></a></p>\n\n<p>how can i make spyder show me the value without clicking \"class 'numpy.int64'\"?\n<strong>it is exactly the same code.</strong></p>\n"}, {"tags": ["python", "pandas", "tokenize"], "comments": [{"owner": {"reputation": 542, "user_id": 2732959, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/58349e824f88d3f9e7c525a3b172c744?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2732959/john-smith"}, "edited": false, "score": 0, "creation_date": 1510179588, "post_id": 47190437, "comment_id": 81330743, "body": "Thanks, just tried read_fwf(), it also worked but read_csv() works fine too. The issue was that I had used ill-defined separators."}], "answers": [{"tags": [], "owner": {"reputation": 542, "user_id": 2732959, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/58349e824f88d3f9e7c525a3b172c744?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2732959/john-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1510179352, "last_edit_date": 1510179352, "creation_date": 1510178866, "answer_id": 47190529, "question_id": 47190437, "link": "https://stackoverflow.com/questions/47190437/pandas-read-csv-error-tokenizing-data-on-seemingly-regular-data/47190529#47190529", "title": "Pandas: read_csv, Error tokenizing data on seemingly regular data", "body": "<p>Upon just reading the  first few lines, I noticed a couple of nans, caused by <code>sep=' |  |   |\\t'</code>. such that three spaces were interpreted as '[sep]nan[sep]'.</p>\n\n<p>The solution is:</p>\n\n<pre><code>df = pd.read_csv('elnino', sep=' *', header=None)\n</code></pre>\n\n<p><strong>Edit</strong>: Just noticed that this is probably an even more appropriate solution:\ndf = pd.read_csv('elnino', delim_whitespace=True, header=None)</p>\n"}], "owner": {"reputation": 542, "user_id": 2732959, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/58349e824f88d3f9e7c525a3b172c744?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2732959/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510179352, "creation_date": 1510178459, "question_id": 47190437, "link": "https://stackoverflow.com/questions/47190437/pandas-read-csv-error-tokenizing-data-on-seemingly-regular-data", "title": "Pandas: read_csv, Error tokenizing data on seemingly regular data", "body": "<p>I'm trying to read the elnino dataset from:\n<a href=\"https://archive.ics.uci.edu/ml/machine-learning-databases/el_nino-mld/el_nino.data.html\" rel=\"nofollow noreferrer\">https://archive.ics.uci.edu/ml/machine-learning-databases/el_nino-mld/el_nino.data.html</a></p>\n\n<p>However, I'm getting 'Error tokeninzing data'. The data itself looks like this when opened with WordPad:</p>\n\n<pre><code>1 1   8.96 -140.32 -6.3  -6.4  83.5 27.32 27.57\n1 2   8.95 -140.32 -5.7  -3.6  86.4 26.70 27.62\n1 3   8.96 -140.32 -6.2  -5.8  83.0 27.36 27.68\n1 4   8.96 -140.34 -6.4  -5.3  82.2 27.32 27.70\n1 5   8.96 -140.33 -4.9  -6.2  87.3 27.09 27.85\n1 6   8.96 -140.33 -6.3  -4.9  91.5 26.82 27.98\n1 7   8.97 -140.32 -6.7  -3.7  94.1 26.62 28.04\n1 8   8.96 -140.33 -6.3  -4.8  92.0 26.89 27.98 \n1 9   8.97 -140.33 -6.3  -4.9  86.9 27.44 28.13\n1 10  8.97 -140.32 -4.2  -2.5  87.3 26.62 28.14\n1 11  8.96 -140.32 -6.8  -2.4  86.0 27.60 28.09\n1 12  8.96 -140.33 -7.1  -3.2  82.2 27.87 28.15\n1 13  8.96 -140.33 -6.7  -4.7  81.3 27.75 28.19\n</code></pre>\n\n<p>which looks unproblematic to me. So far I've tried:</p>\n\n<pre><code>pd.read_csv('elnino', sep=' |  |   |\\t', header=None) # ValueError: Expected 13 fields in line 11, saw 35\npd.read_csv('elnino', sep=' ', error_bad_lines=False, header=None) # undesirable, because I'm losing more than half the lines, which are fine and the resulting dataframe still has a lot of nans\n</code></pre>\n\n<p>What is the problem with the input data?</p>\n"}, {"tags": ["python", "alamofire", "webapp2"], "comments": [{"owner": {"reputation": 22041, "user_id": 108207, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dd8608b8b423bdcbda3fe5c0cf8b6230?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas R.", "link": "https://stackoverflow.com/users/108207/niklas-r"}, "edited": false, "score": 0, "creation_date": 1510211661, "post_id": 47190414, "comment_id": 81340571, "body": "Maybe you can use a tool such as Wireshark to see the network traffic of your server, that could help you see if the trip parameter is actually transmitted."}, {"owner": {"reputation": 410, "user_id": 5768272, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1097548193590796/picture?type=large", "display_name": "Adrian Humphrey", "link": "https://stackoverflow.com/users/5768272/adrian-humphrey"}, "reply_to_user": {"reputation": 22041, "user_id": 108207, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dd8608b8b423bdcbda3fe5c0cf8b6230?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas R.", "link": "https://stackoverflow.com/users/108207/niklas-r"}, "edited": false, "score": 0, "creation_date": 1511126374, "post_id": 47190414, "comment_id": 81716818, "body": "Simply using <code>print(self.request.params)</code> will print what was passed into the request handler. Thank you though"}], "answers": [{"tags": [], "owner": {"reputation": 410, "user_id": 5768272, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1097548193590796/picture?type=large", "display_name": "Adrian Humphrey", "link": "https://stackoverflow.com/users/5768272/adrian-humphrey"}, "is_accepted": true, "score": 1, "last_activity_date": 1510269705, "creation_date": 1510269705, "answer_id": 47213275, "question_id": 47190414, "link": "https://stackoverflow.com/questions/47190414/how-to-send-a-dictionary-through-params-webapp2-python/47213275#47213275", "title": "How to send a dictionary through params webapp2 python?", "body": "<p>To access the trip dictionary you would need to use:</p>\n\n<p><code>class CreateMediaPostTaskHandler(webapp2.RequestHandler):\n    def post(self):\n        params = self.request.params\n        start_address_city = params['trip[startAddress][city]']</code></p>\n"}], "owner": {"reputation": 410, "user_id": 5768272, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1097548193590796/picture?type=large", "display_name": "Adrian Humphrey", "link": "https://stackoverflow.com/users/5768272/adrian-humphrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 47213275, "answer_count": 1, "score": 1, "last_activity_date": 1510269705, "creation_date": 1510178357, "question_id": 47190414, "link": "https://stackoverflow.com/questions/47190414/how-to-send-a-dictionary-through-params-webapp2-python", "title": "How to send a dictionary through params webapp2 python?", "body": "<p>I have a dictionary in Swift like so:</p>\n\n<p><code>let params : [String : Any] =</code></p>\n\n<p><code>[\"user_key\": \"ag1kZXZ-Z29hbC1yaXNlchELEgRVc2VyGICAgICAgIAKDA\", \n \"post_text\": \"Lol\", \n \"trip\": [\"posted_by\": \"\", \n         \"endAddress\": \"\", \n         \"post_text\": \"Lol\", \n         \"startAddress\": [\"state\": \"IL\", \n                          \"city\": \"Oak Park\", \n                          \"address1\": \"6503 West North Avenue\", \n                          \"address2\": \"\", \"zipCode\": \"\"], \n         \"time\": \"\", \n         \"role\": \"\", \n         \"eta\": \"\"]]</code></p>\n\n<p>When I send this in the params object of Alamofire, the webapp2 accesses the params by <code>self.request.get('user_key')</code> and so forth, however, it does not get the 'trip' parameter. ```self.request.get('trip') returns nothing. </p>\n\n<p>How do I send this dictionary to webapp2 Request Handler?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 2, "creation_date": 1510178484, "post_id": 47190392, "comment_id": 81330265, "body": "What have you tried so far?"}, {"owner": {"reputation": 13, "user_id": 8689486, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3uBevHEh0ZE/AAAAAAAAAAI/AAAAAAAAB5g/cj8ydjfFW6U/photo.jpg?sz=128", "display_name": "Ashish Dhawan", "link": "https://stackoverflow.com/users/8689486/ashish-dhawan"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1510178637, "post_id": 47190392, "comment_id": 81330342, "body": "nothing, dont know how to do it"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 1, "creation_date": 1510178920, "post_id": 47190392, "comment_id": 81330458, "body": "Split it into two tasks: 1. Take a pair for example <code>(&#39;this&#39;, [&#39;is&#39;, &#39;a&#39;, &#39;test&#39;])</code> and return the bigrams that start with the first element and end with a member of the second element.  2. Take a string and form the input pairs for task 1.  <code>str.split</code> and list slicing will likely help there"}, {"owner": {"reputation": 2518, "user_id": 790436, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/be53188cd185b0a44e3a2b16933f1732?s=128&d=identicon&r=PG", "display_name": "joanlofe", "link": "https://stackoverflow.com/users/790436/joanlofe"}, "edited": false, "score": 1, "creation_date": 1510181623, "post_id": 47190392, "comment_id": 81331603, "body": "As it seems you are new to Stack Overflow, I recommend you read the <a href=\"https://stackoverflow.com/help/how-to-ask\">instructions on how to make questions here</a>. Tip: you should have tried to solve your problem before asking for a solution. In general, it is a good practice to show you have tried hard to solve it, or to find a solution elsewhere before asking."}], "answers": [{"comments": [{"owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "reply_to_user": {"reputation": 13, "user_id": 8689486, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3uBevHEh0ZE/AAAAAAAAAAI/AAAAAAAAB5g/cj8ydjfFW6U/photo.jpg?sz=128", "display_name": "Ashish Dhawan", "link": "https://stackoverflow.com/users/8689486/ashish-dhawan"}, "edited": false, "score": 0, "creation_date": 1510245291, "post_id": 47191067, "comment_id": 81362979, "body": "You&#39;re welcome."}], "tags": [], "owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "is_accepted": true, "score": 1, "last_activity_date": 1510181848, "last_edit_date": 1510181848, "creation_date": 1510181492, "answer_id": 47191067, "question_id": 47190392, "link": "https://stackoverflow.com/questions/47190392/bigram-of-words-in-list/47191067#47191067", "title": "Bigram of words in list", "body": "<p>Make a list of all words in a sentence using the <code>.split()</code> method and then loop over it, adding every appropriate pair into the resulting list:</p>\n\n<pre><code>sentence = \"this is a test string for bigram pair generation\"\n\nwords = sentence.split()\nresult = []\n\nfor i in range(len(words)):\n    for j in range(1, 4):\n        if i + j &lt; len(words):\n            result.append([words[i], words[i+j]])\n\nprint(result)\n</code></pre>\n\n<p>As the appropriate paired word is only <code>1</code> to <code>3</code> words forward, the <code>j</code> variable in the inner <code>for</code> loops is used to ensure it.</p>\n"}], "owner": {"reputation": 13, "user_id": 8689486, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3uBevHEh0ZE/AAAAAAAAAAI/AAAAAAAAB5g/cj8ydjfFW6U/photo.jpg?sz=128", "display_name": "Ashish Dhawan", "link": "https://stackoverflow.com/users/8689486/ashish-dhawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "closed_date": 1510209216, "accepted_answer_id": 47191067, "answer_count": 1, "score": 0, "last_activity_date": 1510181848, "creation_date": 1510178239, "question_id": 47190392, "link": "https://stackoverflow.com/questions/47190392/bigram-of-words-in-list", "closed_reason": "Needs details or clarity", "title": "Bigram of words in list", "body": "<p>I have a sentence:</p>\n\n<pre><code> \"this is a test string for bigram pair generation\"\n</code></pre>\n\n<p>I need to form bigram pairs in python and store them in a variable.\ncondition: a word can only be allowed to make pair with forward next 3 words.</p>\n\n<p>Here is what I want:</p>\n\n<pre><code> [[\"this\", \"is\"], [\"this\", \"a\"], [\"this\", \"test\"], [\"is\", \"a\"], [\"is\", \"test\"], [\"is\", \"string\"], [\"a\", \"test\"], [\"a\", \"string\"], [\"a\", \"for\"], [\"test\", \"string\"], [\"test\", \"for\"], [\"test\", \"bigram\"], [\"string\", \"for\"], [\"string\", \"bigram\"], [\"string\", \"pair\"], [\"for\", \"bigram\"], [\"for\", \"pair\"], [\"for\", \"generation\"], [\"bigram\", \"pair\"], [\"bigram\", \"generation\"], [\"pair\", \"generation\"]]\n</code></pre>\n"}, {"tags": ["python", "opencv", "image-processing", "cv2"], "comments": [{"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1510178222, "post_id": 47190372, "comment_id": 81330132, "body": "Have you tried something? What problems did you encounter?"}, {"owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1510178937, "post_id": 47190372, "comment_id": 81330467, "body": "For each color range use <code>inRange</code> function, compute all non-zero pixels in the destination image, divide that number by total number of pixels in the src image."}, {"owner": {"reputation": 97, "user_id": 2403916, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cd33df68d714bb92f753a3b4fe5432d4?s=128&d=identicon&r=PG", "display_name": "Alex Crooks", "link": "https://stackoverflow.com/users/2403916/alex-crooks"}, "reply_to_user": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1510178966, "post_id": 47190372, "comment_id": 81330477, "body": "I&#39;ve updated the question with my approaches / guesses thus far @mkrieger1"}, {"owner": {"reputation": 97, "user_id": 2403916, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cd33df68d714bb92f753a3b4fe5432d4?s=128&d=identicon&r=PG", "display_name": "Alex Crooks", "link": "https://stackoverflow.com/users/2403916/alex-crooks"}, "reply_to_user": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1510179098, "post_id": 47190372, "comment_id": 81330527, "body": "@zindarod - I&#39;ve tried this one already but it doesn&#39;t perform that well. Maybe the best solution is just forcing the image down to a small size and running this strategy against that."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1510179795, "post_id": 47190372, "comment_id": 81330838, "body": "0) init a # colors histogram at 0, 1) loop image, 2) loop colors, 3) find the closest color 4) add 1 in the histogram at closest color index, 5) normalize L1 the histogram, 6) done. I don&#39;t see how this could take more than 2 seconds. Looping in python is slower... probably some indexed approach is faster. But 2 seconds should be more than enough"}, {"owner": {"reputation": 2991, "user_id": 3877787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DPxhf.jpg?s=128&g=1", "display_name": "Zalman Stern", "link": "https://stackoverflow.com/users/3877787/zalman-stern"}, "edited": false, "score": 0, "creation_date": 1510192249, "post_id": 47190372, "comment_id": 81334502, "body": "How large an image and on what hardware do you need the 2 seconds performance? Pretty sure Halide can take care of that for a pretty broad set of parameters. Will see if I can get some time later to try. This would be brute force, but taking advantage of parallelism in the hardware and a specific compiled implementation."}], "answers": [{"comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1510181284, "post_id": 47190991, "comment_id": 81331457, "body": "This task is also highly parallelizable"}, {"owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1510184498, "post_id": 47190991, "comment_id": 81332557, "body": "Unless he uses a GPU, will his manual looping be as optimized as opencv&#39;s functions? Specially if opencv has been built with a parallel framework?"}], "tags": [], "owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "is_accepted": false, "score": 1, "last_activity_date": 1510181417, "last_edit_date": 1510181417, "creation_date": 1510181096, "answer_id": 47190991, "question_id": 47190372, "link": "https://stackoverflow.com/questions/47190372/what-is-the-distribution-of-colour-in-an-image-relative-to-defined-centroids/47190991#47190991", "title": "What is the distribution of colour in an image relative to defined centroids", "body": "<p>Unfortunately, your \"awful\" solution is probably the fastest for a small number of reference colors. For every pixel you need to find the smallest distance to those references, by exhaustive comparison (note anyway that you can dispense yourself with the square roots).</p>\n\n<p>If you find it too slow, you might consider switching to a compiled language.</p>\n\n<p>For a larger number of colors, you can start thinking of a k-D tree (k=3) which will speedup the search for the nearest color a little. But don't expect miracles.</p>\n\n<p>For an approximate solution, you can consider building a low resolution lookup-table with, say, 32 bins per color component to achieve the 10% accuracy requirement. This makes a total of 32\u00b3=32768 bins, which you will initialize with the index of the nearest color, computed as above. This takes the same time as to fill a 32768 pixels image. When the table is available, this reduces the handling of every pixel to a simple table lookup.</p>\n\n<p>If the same references are used for several or larger images, you can consider using a more accurate lookup-table. If your references are really static and you can afford 24 MB of storage, you can map the whole RGB space.</p>\n\n<p>Final note: every step of the k-means procedure is precisely performing the nearest-neighbor assignment task, and your percentages just come as a byproduct. If you have an optimized k-means handy, with access to the cluster sizes and an option to set the initial centers, use it and perform a single iteration.</p>\n"}, {"tags": [], "owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "is_accepted": false, "score": 0, "last_activity_date": 1510183476, "creation_date": 1510183476, "answer_id": 47191431, "question_id": 47190372, "link": "https://stackoverflow.com/questions/47190372/what-is-the-distribution-of-colour-in-an-image-relative-to-defined-centroids/47191431#47191431", "title": "What is the distribution of colour in an image relative to defined centroids", "body": "<p>I am thinking of a significant speedup you could achieve when the image has large, uniform areas.</p>\n\n<p>If you decompose the image as a mosaic, the pixels in a tile will occupy some volume of RGB space. If it turns out that all the points of this volume map to the same reference, you can assign all pixels in a single go.</p>\n\n<p>Using the lookup-table trick described in my other post, while initializing the table you can determine which bins (cubes in RGB space) map to a single reference color. Then if the bounding box of the volume wholly fits in a cube, you are done.</p>\n\n<p>A more sophisticated version would work with an octree representation of RGB space, where every node (corresponding to a cube of some size) contains the list of nearest colors its content maps to (for a nice distribution of the reference colors, many nodes will have a list of one or two colors. Then for a given tile, you compute the bounding boxes of the color it contains, and a search inside the octree wil return a list of possible colors. In case the list is a singleton you are done. Otherwise, you classify against a reduced number of colors.</p>\n"}, {"tags": [], "owner": {"reputation": 1415, "user_id": 3055724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGm8W.png?s=128&g=1", "display_name": "Duloren", "link": "https://stackoverflow.com/users/3055724/duloren"}, "is_accepted": false, "score": 0, "last_activity_date": 1510192948, "creation_date": 1510192948, "answer_id": 47192707, "question_id": 47190372, "link": "https://stackoverflow.com/questions/47190372/what-is-the-distribution-of-colour-in-an-image-relative-to-defined-centroids/47192707#47192707", "title": "What is the distribution of colour in an image relative to defined centroids", "body": "<p>I used array operations to improve the performance. Roughly speaking I did the same: evaluate the distance for each pixel and to each color and count for the winner (small distance). </p>\n\n<p><a href=\"https://i.stack.imgur.com/6bO93.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6bO93.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I just see your question is on Python and my code is in C++. However see if it can help you to find your solution in Python.</p>\n\n<pre><code>Scalar color1(155, 160, 90);\nScalar color2(110, 210, 245);\nScalar color3(20, 20, 20);\nScalar color4(120, 150, 150);\n\nvoid compare(Mat&amp; targetDistance, Mat&amp; distanceToCompareA,\n        Mat&amp; distanceToCompareB, Mat&amp; distanceToCompareC, String name) {\n\n    Mat compareA = targetDistance - distanceToCompareA;\n    Mat thresholdMatA;\n    threshold(compareA, thresholdMatA, 0, 1, THRESH_BINARY_INV);\n\n    Mat compareB = targetDistance - distanceToCompareB;\n    Mat thresholdMatB;\n    threshold(compareB, thresholdMatB, 0, 1, THRESH_BINARY_INV);\n\n    Mat compareC = targetDistance - distanceToCompareC;\n    Mat thresholdMatC;\n    threshold(compareC, thresholdMatC, 0, 1, THRESH_BINARY_INV);\n\n    Mat thresholdMat;\n    bitwise_and(thresholdMatA, thresholdMatB, thresholdMat);\n\n    bitwise_and(thresholdMat, thresholdMatC, thresholdMat);\n\n    Size size = thresholdMat.size();\n\n    double distro = ceil(sum(thresholdMat)[0] * 100 / (size.height * size.width))/100.0;\n\n    cout &lt;&lt; name &lt;&lt; \" \" &lt;&lt; distro &lt;&lt; endl;\n\n    Mat dest = thresholdMat * 255.0;\n\n    Mat output;\n    dest.convertTo(output, CV_8UC1);\n\n    namedWindow(name, WINDOW_AUTOSIZE);\n    imshow(name, output);\n}\n\nint main() {\n\n    Mat origin = imread(\"XwAAB.jpg\");\n\n    Mat src;\n    origin.convertTo(src, CV_16SC1);\n\n    Mat matColor1 = Mat(src.size(), src.type());\n    matColor1.setTo(color1);\n\n    Mat matColor2 = Mat(src.size(), src.type());\n    matColor2.setTo(color2);\n\n    Mat matColor3 = Mat(src.size(), src.type());\n    matColor3.setTo(color3);\n\n    Mat matColor4 = Mat(src.size(), src.type());\n    matColor4.setTo(color4);\n\n    Mat sub = src - matColor1;\n    Mat pow = sub.mul(sub);\n    Mat distance1;\n    transform(pow, distance1, cv::Matx13f(1, 1, 1));\n\n    sub = src - matColor2;\n    pow = sub.mul(sub);\n    Mat distance2;\n    transform(pow, distance2, cv::Matx13f(1, 1, 1));\n\n    sub = src - matColor3;\n    pow = sub.mul(sub);\n    Mat distance3;\n    transform(pow, distance3, cv::Matx13f(1, 1, 1));\n\n    sub = src - matColor4;\n    pow = sub.mul(sub);\n    Mat distance4;\n    transform(pow, distance4, cv::Matx13f(1, 1, 1));\n\n    compare(distance1, distance2, distance3, distance4, \"color1\");\n\n    compare(distance2, distance1, distance3, distance4, \"color2\");\n\n    compare(distance3, distance1, distance2, distance4, \"color3\");\n\n    compare(distance4, distance1, distance2, distance3, \"color4\");\n\n    namedWindow(\"origin\", WINDOW_AUTOSIZE);\n    imshow(\"origin\", origin);\n    waitKey();\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 2403916, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cd33df68d714bb92f753a3b4fe5432d4?s=128&d=identicon&r=PG", "display_name": "Alex Crooks", "link": "https://stackoverflow.com/users/2403916/alex-crooks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1510192948, "creation_date": 1510178148, "last_edit_date": 1510178942, "question_id": 47190372, "link": "https://stackoverflow.com/questions/47190372/what-is-the-distribution-of-colour-in-an-image-relative-to-defined-centroids", "title": "What is the distribution of colour in an image relative to defined centroids", "body": "<p>Let's say I have the following picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XwAAB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XwAAB.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And the following \"reference\" colours which are static and not determined from the images (in RGB)</p>\n\n<ol>\n<li>[90, 160, 155]</li>\n<li>[245, 210, 110]</li>\n<li>[20, 20, 20]</li>\n<li>[150, 150, 120]</li>\n</ol>\n\n<p>How do I get a return object that tells me, per reference colour, the percentage of colours in the image that are \"closest\" to the reference colour with a return value like such:</p>\n\n<pre><code>{\n  \"colour1\": 0.25, // These aren't the actual distributions, but the answer\n  \"colour2\": 0.1,  // this is trying to represent is that 25% of the colour\n  \"colour3\": 0.6,  // in the image is closest to \"colour1\", 10% of the\n  \"colour4\": 0.05  // image is closest to \"colour2\", etc.\n}\n</code></pre>\n\n<p>Is there a performant way to do this, so that a result could be returned for a large image within a couple of seconds and with a dozen reference colours?</p>\n\n<p>The answer doesn't need to be an exact, an approximation within 10% would be ok, so if reducing the size of the picture dramatically is the way to speed it up then that's ok.</p>\n\n<hr>\n\n<p>My first (and awful - it was just for a quick proof of concept) pass solution was:</p>\n\n<ol>\n<li>Loop through all of the pixels in the picture</li>\n<li>Loop through all of the reference colours</li>\n<li>Calculate the Euclidian distance between the pixel colour and reference colour</li>\n<li>Return the reference colour with the closest Euclidian distance</li>\n<li>Count the occurrences of each reference colour in the result and divide by total number of pixels to get percentage</li>\n</ol>\n\n<p>Of course, this is slow</p>\n\n<p>My next steps, I've been thinking of trying a couple of different options:</p>\n\n<ol>\n<li><p>Use opencv to generate a colour histogram and somehow use the result of that to get to the percentage of each reference colour</p></li>\n<li><p>Use K-means clustering, setting the reference colours as the centroids, and use the result of that</p></li>\n</ol>\n\n<p>But I thought I would ask on here first before diving in to see if anybody has recommendations on where to go, or even better, if there's a simple library that could solve this problem without much effort.</p>\n"}, {"tags": ["python", "django", "authentication", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 2755, "user_id": 1008933, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/090330b177e40c4aeba3d4653c2e62da?s=128&d=identicon&r=PG", "display_name": "Axil", "link": "https://stackoverflow.com/users/1008933/axil"}, "edited": false, "score": 0, "creation_date": 1510178658, "post_id": 47190439, "comment_id": 81330352, "body": "thanks, can a username be not unique ? the username is only unique per company."}, {"owner": {"reputation": 12219, "user_id": 2505071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88523d3d83f1170a7c88ab917a3faf19?s=128&d=identicon&r=PG", "display_name": "iklinac", "link": "https://stackoverflow.com/users/2505071/iklinac"}, "reply_to_user": {"reputation": 2755, "user_id": 1008933, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/090330b177e40c4aeba3d4653c2e62da?s=128&d=identicon&r=PG", "display_name": "Axil", "link": "https://stackoverflow.com/users/1008933/axil"}, "edited": false, "score": 0, "creation_date": 1510178747, "post_id": 47190439, "comment_id": 81330387, "body": "it can be whatever suits you if you do custom auth and model"}], "tags": [], "owner": {"reputation": 12219, "user_id": 2505071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88523d3d83f1170a7c88ab917a3faf19?s=128&d=identicon&r=PG", "display_name": "iklinac", "link": "https://stackoverflow.com/users/2505071/iklinac"}, "is_accepted": false, "score": 0, "last_activity_date": 1510178466, "creation_date": 1510178466, "answer_id": 47190439, "question_id": 47190303, "link": "https://stackoverflow.com/questions/47190303/django-python-change-user-default-attributes-for-authentication/47190439#47190439", "title": "Django Python change user default attributes for authentication", "body": "<p>You should read the documentation regarding <a href=\"https://docs.djangoproject.com/en/1.11/topics/auth/customizing/\" rel=\"nofollow noreferrer\">customizing authentication</a> in Django especially the part regarding <a href=\"https://docs.djangoproject.com/en/1.11/topics/auth/customizing/#substituting-a-custom-user-model\" rel=\"nofollow noreferrer\">User model substitution</a> if you would like to create your own model.</p>\n"}], "owner": {"reputation": 2755, "user_id": 1008933, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/090330b177e40c4aeba3d4653c2e62da?s=128&d=identicon&r=PG", "display_name": "Axil", "link": "https://stackoverflow.com/users/1008933/axil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510178466, "creation_date": 1510177859, "question_id": 47190303, "link": "https://stackoverflow.com/questions/47190303/django-python-change-user-default-attributes-for-authentication", "title": "Django Python change user default attributes for authentication", "body": "<p>In Django, the default attributes for user:\nusername\npassword\nemail\nfirst_name\nlast_name</p>\n\n<p>I would like to remove email, first_name, last_name \nand replace it with company</p>\n\n<p>Is that possible ? Can someone show me the process of performing an authentication session with these 3 modified attributes:\n- company\n- username\n- password</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "sorting", "for-loop", "nested", "jes"], "comments": [{"owner": {"reputation": 1, "user_id": 8909708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f561ed69da5b88d0d81dd7464d75282?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/8909708/sam"}, "edited": false, "score": 0, "creation_date": 1510177860, "post_id": 47190295, "comment_id": 81329963, "body": "Sorry about the link! Here it is: <a href=\"https://i.stack.imgur.com/br8aZ.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/br8aZ.png</a>"}], "answers": [{"tags": [], "owner": {"reputation": 469, "user_id": 8332501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R5V6i.jpg?s=128&g=1", "display_name": "sslloo", "link": "https://stackoverflow.com/users/8332501/sslloo"}, "is_accepted": false, "score": 0, "last_activity_date": 1510178831, "creation_date": 1510178831, "answer_id": 47190519, "question_id": 47190295, "link": "https://stackoverflow.com/questions/47190295/jes-selection-sort-using-nested-for-loops/47190519#47190519", "title": "JES- Selection Sort using Nested For Loops", "body": "<p>First something is wrong with your min calculation, the problem is the definition of min isn't as its right place, try this:</p>\n\n<pre><code>  min = 0\n  for i in range( 0, length) :\n    for j in range ( i + 1, length) :\n      if list[j] &lt; list[min] :\n        min = j\n    i = i + 1\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8909708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f561ed69da5b88d0d81dd7464d75282?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/8909708/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510178831, "creation_date": 1510177818, "question_id": 47190295, "link": "https://stackoverflow.com/questions/47190295/jes-selection-sort-using-nested-for-loops", "title": "JES- Selection Sort using Nested For Loops", "body": "<p>I need to write a program that generates a list containing an arbitrary number of random integers and produces a sorted list using the \"selection sort\" algorithm. </p>\n\n<p>I don't know how to use i to count from 0 to the last index of the list.</p>\n\n<p>I also am unsure of how to use j to count from i + 1 to the last index of the list.</p>\n\n<p>When I run the program, it simply generates a random list of 10 integers, some negative and some positive. Below is a pic of the instructions, and my code so far. Thanks for any kind of help.</p>\n\n<pre><code>def main():    \n\n  list= []    \n\n  length= 10\n\n  num_operations= 0\n\n\n  while num_operations &lt; length :  \n\n    list= list + [randint(1, 100)] \n\n    num_operations+=1    \n\n  print list\n\n\n  for i in range( 0, length ) :    \n    i = i + 1    \n    min = i    \n    for j in range ( i + 1, length ) :   \n      if list[j] &lt; list[min] :    \n        min = j\n\n  if min != i :\n    temp= list[i]\n    list[i]= list[min]\n    list[min]= temp\n</code></pre>\n"}, {"tags": ["python", "linux", "multithreading", "parallel-processing", "ansible"], "comments": [{"owner": {"reputation": 52708, "user_id": 2947502, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4891a41a8749a8ec2a34fe2f03a8b223?s=128&d=identicon&r=PG", "display_name": "techraf", "link": "https://stackoverflow.com/users/2947502/techraf"}, "edited": false, "score": 1, "creation_date": 1510198642, "post_id": 47190283, "comment_id": 81336077, "body": "&quot;<i>some playbooks do task some does not do tasks</i>&quot; -- you need to do some troubleshooting to find some problems in some parts of your code, or in some configuration setting. I have some ideas of what might be your issue, but I have some doubts if they apply."}, {"owner": {"reputation": 483, "user_id": 7095217, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35256b21d3b6144cf17fefaf37059e92?s=128&d=identicon&r=PG&f=1", "display_name": "ivbtar", "link": "https://stackoverflow.com/users/7095217/ivbtar"}, "reply_to_user": {"reputation": 52708, "user_id": 2947502, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4891a41a8749a8ec2a34fe2f03a8b223?s=128&d=identicon&r=PG", "display_name": "techraf", "link": "https://stackoverflow.com/users/2947502/techraf"}, "edited": false, "score": 0, "creation_date": 1510218744, "post_id": 47190283, "comment_id": 81344312, "body": "The yml playbook we are calling is same always. We are calling same playbook 30 times in parallel with different arguments. So yml code is always same."}, {"owner": {"reputation": 52708, "user_id": 2947502, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4891a41a8749a8ec2a34fe2f03a8b223?s=128&d=identicon&r=PG", "display_name": "techraf", "link": "https://stackoverflow.com/users/2947502/techraf"}, "edited": false, "score": 0, "creation_date": 1510218919, "post_id": 47190283, "comment_id": 81344417, "body": "Now that you explained everything, there is no reason for not getting a correct answer. Let\u2019s sit and wait."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1270589"}, "edited": false, "score": 0, "creation_date": 1577138276, "post_id": 47190283, "comment_id": 105104342, "body": "I have to do the same thing, what was your conclusion ?"}, {"owner": {"reputation": 6579, "user_id": 232831, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Xwx64.jpg?s=128&g=1", "display_name": "Julien Palard", "link": "https://stackoverflow.com/users/232831/julien-palard"}, "edited": false, "score": 0, "creation_date": 1603374294, "post_id": 47190283, "comment_id": 114021858, "body": "Related to what I just published: <a href=\"https://pypi.org/project/ansible-parallel/\" rel=\"nofollow noreferrer\">ansible-parallel</a> is a tool doing exactly this: running playbooks in parallel."}], "owner": {"reputation": 483, "user_id": 7095217, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35256b21d3b6144cf17fefaf37059e92?s=128&d=identicon&r=PG&f=1", "display_name": "ivbtar", "link": "https://stackoverflow.com/users/7095217/ivbtar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 884, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510180756, "creation_date": 1510177753, "last_edit_date": 1510179389, "question_id": 47190283, "link": "https://stackoverflow.com/questions/47190283/running-ansible-playbooks-parallel-on-same-host", "title": "Running ansible playbooks parallel on same host", "body": "<p>I am trying to run 30 os.commands that runs ansible-playbook on same host in threaded parallel way in a python script. If i run 30 ansible-playbooks in serial way it is doing all 30 jobs. But when i try to run them in parallel way some playbooks do task some does not do tasks. Python is handling the threaded running of playbooks. I think when ansible tries to run multiple ansible-playbook at the same time on same host a conflict occurs. How can i run 30 threaded playboks at the same time on same host.</p>\n\n<pre><code>def runOsCommand( systemCommand ):\n    print(systemCommand)\n    logging.info(\" \"+systemCommand)\n    os.system(systemCommand)\n\ndef createProfile( Profile,ProfileDesc ):\n    Command= \"ansible-playbook create-profile.yml  --extra-vars \\\"VARIABLE1=\" + str(Profile) + \" \" +  \"VARIABLE2=\" + str(ProfileDesc) +\"\\\"\"\n    runOsCommand(Command)\n    return\n\nclass Thread (threading.Thread):\n    def __init__(self, threadID, name, counter):\n        threading.Thread.__init__(self)\n        self.threadID = threadID\n        self.name = name\n        self.counter = counter\n    def run(self):\n        print \"Starting \" + self.name\n        createProfile(Profile,ProfileDesc)     \n        print \"Exiting \" + self.name\n\nfor iter in range(30):\n    mythreadx = Thread(iter, \"Thread-Datapool-Row-\"+str(iter), iter)\n    mythreadx.start()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1510177871, "post_id": 47190263, "comment_id": 81329967, "body": "The problem is exactly what the error tells you. You&#39;re trying to read a file that&#39;s opened for writing only. See <a href=\"https://docs.python.org/2/library/functions.html#open\" rel=\"nofollow noreferrer\">docs.python.org/2/library/functions.html#open</a>"}], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 3687911, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f71bb30ba6aa22c22f16fd56b0efb4b6?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/3687911/joseph"}, "is_accepted": false, "score": 0, "last_activity_date": 1510177898, "creation_date": 1510177898, "answer_id": 47190311, "question_id": 47190263, "link": "https://stackoverflow.com/questions/47190263/how-to-print-a-file-after-writing-to-it-in-python/47190311#47190311", "title": "How to print a file after writing to it in Python", "body": "<p>The file is open for writing only. Set the <code>\"w\"</code> parameter to <code>\"r+\"</code> to read and write.</p>\n\n<p>As well as this,  after writing to the file, the <code>out_file</code> position will be at the end of the file. To read the contents, you must first add the line <code>out_file.seek(0)</code> to get to the start of the file. </p>\n"}, {"tags": [], "owner": {"reputation": 1567, "user_id": 1196114, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0d58e830a7ac3eff76e058275d3917a9?s=128&d=identicon&r=PG", "display_name": "M. Laing", "link": "https://stackoverflow.com/users/1196114/m-laing"}, "is_accepted": true, "score": 2, "last_activity_date": 1510177957, "creation_date": 1510177957, "answer_id": 47190323, "question_id": 47190263, "link": "https://stackoverflow.com/questions/47190263/how-to-print-a-file-after-writing-to-it-in-python/47190323#47190323", "title": "How to print a file after writing to it in Python", "body": "<p>You are opening out_file with the 'w' flag which is for write only. You either need to close it, and reopen with 'r' or just open it with 'r+' for read and write from the start</p>\n\n<p>Change</p>\n\n<p><code>out_file = open(to_file, 'w')</code></p>\n\n<p>to</p>\n\n<p><code>out_file = open(to_file, 'r+')</code></p>\n\n<p>And then add the following to go back to the start of the file</p>\n\n<p><code>out_file.seek(0)</code></p>\n"}], "owner": {"reputation": 150, "user_id": 8909652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75ff12a89d5ae3a7b2e6eea4c2171427?s=128&d=identicon&r=PG&f=1", "display_name": "dougfair", "link": "https://stackoverflow.com/users/8909652/dougfair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 47190323, "answer_count": 2, "score": -2, "last_activity_date": 1510177957, "creation_date": 1510177670, "question_id": 47190263, "link": "https://stackoverflow.com/questions/47190263/how-to-print-a-file-after-writing-to-it-in-python", "title": "How to print a file after writing to it in Python", "body": "<p>I am  following Hard to Learn Python the Hard way and have tried to modify exercise 17 where you copy one file (Doc1.txt) to another (Doc2.txt) but it is not working using the code below. If I omit line 11, the file copying works fine, however, when I try to print out the contents of the \"new\" Doc2 by including line 11, I get the error \"IOError: File not open for reading\". I feel like I am missing something very basic here and getting a bit frustrated. I know a similar question has been asked before but that answer didn't help. Many thanks in advance.</p>\n\n<pre><code>from sys import argv\n\nscript, from_file, to_file = argv\n\nin_file = open(from_file)\nindata = in_file.read()\n\nout_file = open(to_file, 'w')\nout_file.write(indata)\n\nprint out_file.read()\n\nout_file.close()\nin_file.close()\n</code></pre>\n"}, {"tags": ["python", "django", "templates", "jinja2"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 2484641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80648457d74e8a0e9df0313c57b9eb09?s=128&d=identicon&r=PG", "display_name": "miketery", "link": "https://stackoverflow.com/users/2484641/miketery"}, "is_accepted": false, "score": 1, "last_activity_date": 1510178858, "creation_date": 1510178858, "answer_id": 47190525, "question_id": 47190225, "link": "https://stackoverflow.com/questions/47190225/incrementing-a-variable-to-use-as-serial-number-in-django/47190525#47190525", "title": "Incrementing a variable to use as serial number in django", "body": "<p>Easiest way is probably to do <code>filter(media_type=\"image\")</code> in your views.py Queryset for all_lockscreens.</p>\n"}], "owner": {"reputation": 129, "user_id": 8162611, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/002cbedfe286ca30107a6a8fff5a957b?s=128&d=identicon&r=PG&f=1", "display_name": "Rishabh Pandey", "link": "https://stackoverflow.com/users/8162611/rishabh-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510178858, "creation_date": 1510177488, "last_edit_date": 1510178006, "question_id": 47190225, "link": "https://stackoverflow.com/questions/47190225/incrementing-a-variable-to-use-as-serial-number-in-django", "title": "Incrementing a variable to use as serial number in django", "body": "<p>I am currently using forloop.counter to display serial number but it skips the number when if condition is not satisfied. That is why I am not able to print the serial number. I need a way to increment a variable and then use it for serial number</p>\n\n<p>templates.html</p>\n\n<pre><code>   {% for all in all_lockscreens %}\n    {% if all.media_type == \"image\" %}\n     &lt;tr&gt;\n     &lt;td&gt;{{ forloop.counter }}&lt;/td&gt;\n     &lt;td&gt;{{ all.media_name }}&lt;/td&gt;\n     &lt;td&gt;{{ all.description }}&lt;/td&gt;\n      &lt;td&gt;{{ all.date_added }}&lt;/td&gt;\n      &lt;/tr&gt;\n      {% endif %}\n      {% endfor %}\n</code></pre>\n\n<p>Need to increment a variable inside if loop which can be used for serial number</p>\n"}, {"tags": ["python", "azure", "azure-batch"], "answers": [{"tags": [], "owner": {"reputation": 33085, "user_id": 1210059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d067294d52e3521f96ddc3d0df9ed1c?s=128&d=identicon&r=PG", "display_name": "Tats_innit", "link": "https://stackoverflow.com/users/1210059/tats-innit"}, "is_accepted": true, "score": 3, "last_activity_date": 1510180721, "creation_date": 1510180721, "answer_id": 47190912, "question_id": 47190220, "link": "https://stackoverflow.com/questions/47190220/how-to-retrieve-stdout-stderr-txt-files-from-azure-batch-compute-nodes-using-p/47190912#47190912", "title": "How to retrieve stdout / stderr.txt files from Azure Batch compute nodes using python SDK?", "body": "<p>I think you can do that by using the python <code>batch_client</code>, I found a implementation here: <a href=\"https://github.com/Azure/azure-sdk-for-python/blob/master/doc/batch.rst\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-python/blob/master/doc/batch.rst</a> </p>\n\n<pre><code># Download task output\nwith open('task_output.txt', 'w') as file_output:\n        output = batch_client.file.get_from_task(\n                'python_test_job',\n                'python_task_1',\n                'stdout.txt'\n        )\n        for data in output:\n                file_output.write(data)\n</code></pre>\n"}], "owner": {"reputation": 402, "user_id": 3172278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6fAyJ.jpg?s=128&g=1", "display_name": "RedPanda", "link": "https://stackoverflow.com/users/3172278/redpanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1078, "favorite_count": 0, "accepted_answer_id": 47190912, "answer_count": 1, "score": 2, "last_activity_date": 1510180721, "creation_date": 1510177461, "question_id": 47190220, "link": "https://stackoverflow.com/questions/47190220/how-to-retrieve-stdout-stderr-txt-files-from-azure-batch-compute-nodes-using-p", "title": "How to retrieve stdout / stderr.txt files from Azure Batch compute nodes using python SDK?", "body": "<p>The .NET documentation for Batch includes a method for retrieving files off a node in the pool: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.batch.computenode.getnodefile?view=azure-dotnet\" rel=\"nofollow noreferrer\">link</a> The corresponding classes in the <a href=\"http://azure-sdk-for-python.readthedocs.io/en/latest/ref/azure.batch.html\" rel=\"nofollow noreferrer\">python SDK</a> don't have any methods. What is the best way of returning the stderr.txt file for a task when it fails?</p>\n"}, {"tags": ["python", "pycharm", "typing"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 4, "creation_date": 1510177958, "post_id": 47190218, "comment_id": 81330006, "body": "<code>Generator</code> is for generators, not for sequences."}, {"owner": {"reputation": 373, "user_id": 2793933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc821fd63b492ee2685039067312de4?s=128&d=identicon&r=PG", "display_name": "hansonap", "link": "https://stackoverflow.com/users/2793933/hansonap"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1510182313, "post_id": 47190218, "comment_id": 81331860, "body": "That works, but raises another question - List or Sequence?  From standard docs:   1. <a href=\"https://docs.python.org/3.5/reference/datamodel.html#the-standard-type-hierarchy\" rel=\"nofollow noreferrer\">data model</a> states: &quot;When used as an expression, a slice is a sequence of the same type&quot; 2. <a href=\"https://docs.python.org/3/library/typing.html#typing.List\" rel=\"nofollow noreferrer\">typing</a> states: &quot;List(list, MutableSequence[T]) Generic version of list. Useful for annotating return types. To annotate arguments it is preferred to use abstract collection types such as Mapping, Sequence, or AbstractSet.&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 373, "user_id": 2793933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc821fd63b492ee2685039067312de4?s=128&d=identicon&r=PG", "display_name": "hansonap", "link": "https://stackoverflow.com/users/2793933/hansonap"}, "is_accepted": true, "score": 2, "last_activity_date": 1510346632, "creation_date": 1510346632, "answer_id": 47230826, "question_id": 47190218, "link": "https://stackoverflow.com/questions/47190218/proper-type-hint-for-getitem/47230826#47230826", "title": "proper type hint for __getitem__()", "body": "<p>The correct type hint for <code>__getitem__()</code> is <code>Union[Product, Sequence[Product, None, None]]</code>.</p>\n\n<p>The only place this seems to be documented in the docs is on the <a href=\"https://docs.python.org/3.5/reference/datamodel.html#object.__getslice__\" rel=\"nofollow noreferrer\">data model page</a> which states: \"When used as an expression, a slice is a sequence of the same type\". <strong>Note: a sequence like type (such as List) should also work</strong>, see <a href=\"https://docs.python.org/3/library/typing.html#typing.List\" rel=\"nofollow noreferrer\">typing</a>.</p>\n\n<p>Further discussion: I was expecting a generator when using a slice with a sequence while being iterated over because they are more memory efficient. But now it is obvious to me that this would result in constantly having to do: <code>l_2 = list(l_1[2:])</code>, which would be annoying.</p>\n"}], "owner": {"reputation": 373, "user_id": 2793933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc821fd63b492ee2685039067312de4?s=128&d=identicon&r=PG", "display_name": "hansonap", "link": "https://stackoverflow.com/users/2793933/hansonap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 47230826, "answer_count": 1, "score": 2, "last_activity_date": 1510346632, "creation_date": 1510177460, "last_edit_date": 1510344062, "question_id": 47190218, "link": "https://stackoverflow.com/questions/47190218/proper-type-hint-for-getitem", "title": "proper type hint for __getitem__()", "body": "<p>The method <code>__getitem__()</code> for a sequence (such as a list) can return a single item, or a sequence of items. For example, given the function decoration below:</p>\n\n<pre><code>def __getitem__(self, index) -&gt; Union[Product, Generator[Product, None, None]]:\n    return super(Products, self).__getitem__(index)\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>i1 = 34\nfor product in products[i1:]:\n    print(product.name)\n</code></pre>\n\n<p>I believe <code>Union[Product, Generator[Product, None, None]]</code> to be correct, but PyCharm flags this as improper. Am I misusing the typing library, or is this a PyCharm issue?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 381, "user_id": 7687663, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/a2dfb8b2d5b5d9cdf32958b9f662e3f3?s=128&d=identicon&r=PG&f=1", "display_name": "user152503", "link": "https://stackoverflow.com/users/7687663/user152503"}, "edited": false, "score": 0, "creation_date": 1510177633, "post_id": 47190141, "comment_id": 81329846, "body": "ah, i think it is called &#39;stack&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1510178417, "creation_date": 1510178417, "answer_id": 47190431, "question_id": 47190141, "link": "https://stackoverflow.com/questions/47190141/pandas-how-to-use-column-name-to-pivot-table/47190431#47190431", "title": "pandas: how to use column name to pivot table", "body": "<p>use <code>stack()</code> , after setting Name as an index:</p>\n\n<pre><code>In [397]: df.set_index(df.name)[['A','B','C']].stack()\nOut[397]: \nname   \nTom   A    1\n      B    2\n      C    3\nJack  A    2\n      B    5\n      C    9\nJoe   A    4\n      B    7\n      C    1\ndtype: int64\n</code></pre>\n\n<p>If you want  three data columns, just do :</p>\n\n<pre><code>In [412]: u=df.set_index(df.name)[['A','B','C']].stack().reset_index()\n\nIn [413]: u.columns=['name','letter','value']\n\nIn [414]: u\nOut[414]: \n   name letter  value\n0   Tom      A      1\n1   Tom      B      2\n2   Tom      C      3\n3  Jack      A      2\n4  Jack      B      5\n5  Jack      C      9\n6   Joe      A      4\n7   Joe      B      7\n8   Joe      C      1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1510181198, "post_id": 47190805, "comment_id": 81331421, "body": "@ScottBoston I will keep it :-)"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1510180946, "last_edit_date": 1510180946, "creation_date": 1510180181, "answer_id": 47190805, "question_id": 47190141, "link": "https://stackoverflow.com/questions/47190141/pandas-how-to-use-column-name-to-pivot-table/47190805#47190805", "title": "pandas: how to use column name to pivot table", "body": "<p>You are looking for <code>melt</code></p>\n\n<pre><code>df.melt('name')\nOut[5]: \n   name variable  value\n0   Tom        A      1\n1  Jack        A      2\n2   Joe        A      4\n3   Tom        B      2\n4  Jack        B      5\n5   Joe        B      7\n6   Tom        C      3\n7  Jack        C      9\n8   Joe        C      1\n</code></pre>\n\n<h3>Edit from Scott Boston</h3>\n\n<p>Let's name that 'variable' column with <code>var_name</code> paramater as OP indicates:</p>\n\n<pre><code>df.melt(id_vars='name', var_name='letter')\n\n   name letter  value\n0   Tom      A      1\n1  Jack      A      2\n2   Joe      A      4\n3   Tom      B      2\n4  Jack      B      5\n5   Joe      B      7\n6   Tom      C      3\n7  Jack      C      9\n8   Joe      C      1\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 7687663, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/a2dfb8b2d5b5d9cdf32958b9f662e3f3?s=128&d=identicon&r=PG&f=1", "display_name": "user152503", "link": "https://stackoverflow.com/users/7687663/user152503"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510180946, "creation_date": 1510177135, "question_id": 47190141, "link": "https://stackoverflow.com/questions/47190141/pandas-how-to-use-column-name-to-pivot-table", "title": "pandas: how to use column name to pivot table", "body": "<p>I have a table looks like:</p>\n\n<pre><code>name    A    B    C\nTom     1    2    3\nJack    2    5    9\nJoe     4    7    1\n</code></pre>\n\n<p>I want to pivot this table into a new table with only 3 columns:</p>\n\n<pre><code>name    letter    value\nTom     A         1\nTom     B         2\nTom     C         3\nJack    A         2\nJack    B         5\nJack    C         9\nJoe     A         4\nJoe     B         7\nJoe     C         1\n</code></pre>\n\n<p>what I am doing now is a for loop</p>\n\n<pre><code>temp = []\nfor c in ['A','B',C']:\n    #create new dataframe for letter\n    #append new frame to temp\n\nreturn pd.concat(temp)\n</code></pre>\n\n<p>Does anyone know an elegant way of doing this?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "dataflow", "gcp"], "comments": [{"owner": {"reputation": 2749, "user_id": 8532656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ty503.jpg?s=128&g=1", "display_name": "TidyDev", "link": "https://stackoverflow.com/users/8532656/tidydev"}, "edited": false, "score": 0, "creation_date": 1510178898, "post_id": 47190063, "comment_id": 81330447, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42535285/using-service-account-with-google-cloud-dataflow\" title=\"using service account with google cloud dataflow\">stackoverflow.com/questions/42535285/&hellip;</a>"}, {"owner": {"reputation": 2749, "user_id": 8532656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ty503.jpg?s=128&g=1", "display_name": "TidyDev", "link": "https://stackoverflow.com/users/8532656/tidydev"}, "edited": false, "score": 3, "creation_date": 1510178905, "post_id": 47190063, "comment_id": 81330448, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42535285/using-service-account-with-google-cloud-dataflow\">Using Service Account with google cloud dataflow</a>"}, {"owner": {"reputation": 715, "user_id": 2304948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/135f9d23e261fb03f514f45011725b41?s=128&d=identicon&r=PG", "display_name": "garcianavalon", "link": "https://stackoverflow.com/users/2304948/garcianavalon"}, "edited": false, "score": 0, "creation_date": 1526980370, "post_id": 47190063, "comment_id": 87940914, "body": "did you find out how to do it?"}], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 3648318, "user_type": "registered", "profile_image": "https://graph.facebook.com/1684441200/picture?type=large", "display_name": "kSureja", "link": "https://stackoverflow.com/users/3648318/ksureja"}, "is_accepted": false, "score": 0, "last_activity_date": 1561964409, "creation_date": 1561964409, "answer_id": 56831219, "question_id": 47190063, "link": "https://stackoverflow.com/questions/47190063/how-to-run-gcp-dataflow-as-a-service-account/56831219#56831219", "title": "How to run GCP Dataflow as a Service Account", "body": "<p>To set up service account based authentication:</p>\n\n<p>In the GCP Console, go to the Create service account key page.\n<a href=\"https://console.cloud.google.com/apis/credentials/serviceaccountkey\" rel=\"nofollow noreferrer\">Here</a></p>\n\n<p>From the Service account list, select New service account.\nIn the Service account name field, enter a name.\nFrom the Role list, select Project > Owner.</p>\n\n<p>Note: The Role field authorizes your service account to access resources. You can view and change this field later by using the GCP Console. If you are developing a production app, specify more granular permissions than Project > Owner. For more information, see granting roles to service accounts.</p>\n\n<p>Click Create. </p>\n\n<p>A JSON file that contains your key downloads to your computer.</p>\n\n<p>Set the environment variable GOOGLE_APPLICATION_CREDENTIALS to the file path of the JSON file that contains your service account key. This variable only applies to your current shell session, so if you open a new session, set the variable again.</p>\n\n<p>You can get more information from here : <a href=\"https://cloud.google.com/dataflow/docs/quickstarts/quickstart-python\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/quickstarts/quickstart-python</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8909824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a46f2d0d68e3dd5d11e6bf8ffddeb36c?s=128&d=identicon&r=PG&f=1", "display_name": "Gobi", "link": "https://stackoverflow.com/users/8909824/gobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 641, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561964409, "creation_date": 1510176814, "question_id": 47190063, "link": "https://stackoverflow.com/questions/47190063/how-to-run-gcp-dataflow-as-a-service-account", "title": "How to run GCP Dataflow as a Service Account", "body": "<p>Right now when I kick off the dataflow it kicks it off as my UserName. Is there a way to run the GCP Dataflow as a service account? If so, can you provide any samples? </p>\n\n<p>Much Appreciated!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 2, "creation_date": 1510177169, "post_id": 47190055, "comment_id": 81329634, "body": "you might be able to speed things up by dropping the <code>[]</code> around your comprehension. That should work equivalently as a genexp but not haev to allocate a list."}, {"owner": {"reputation": 173, "user_id": 4662041, "user_type": "registered", "profile_image": "https://graph.facebook.com/870143036364930/picture?type=large", "display_name": "Sheshnath", "link": "https://stackoverflow.com/users/4662041/sheshnath"}, "edited": false, "score": 1, "creation_date": 1510177991, "post_id": 47190055, "comment_id": 81330025, "body": "Also, apart from removing [] from list comprehension, if you use list instead of set, you will gain a little performance boost"}], "answers": [{"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 0, "last_activity_date": 1510183420, "creation_date": 1510183420, "answer_id": 47191421, "question_id": 47190055, "link": "https://stackoverflow.com/questions/47190055/identify-a-bottleneck-that-isnt-explicit-using-cprofile/47191421#47191421", "title": "Identify a bottleneck that isn&#39;t explicit using cProfile", "body": "<p>I implemented a couple tweaks to help out. See my comments and results below. In all cases I changed the accumulator from being named <code>primes</code> (shadowing its function name) to being named <code>ps</code>. I didn't test to see if this improved performance, I just hate shadowing names :o)</p>\n\n<hr>\n\n<pre><code># Your original code\ndef prime_orig(n):\n    ps = set([2])\n    count = 1\n    i = 1\n    while count &lt; n:\n        i += 2\n        if not any([i % num == 0 for num in ps]):\n            ps.add(i)\n            count += 1\n\n# replace the set accum with a list, per @Sheshnath's comment\ndef prime_list(n):\n    ps = [2]\n    count = 1\n    i = 1\n    while count &lt; n:\n        i += 2\n        if not any([i % num == 0 for num in ps]):\n            ps.append(i)\n            count += 1\n\n# replace the listcomp with a genexp\ndef prime_genexp(n):\n    ps = set([2])\n    count = 1\n    i = 1\n    while count &lt; n:\n        i += 2\n        if not any(i % num == 0 for num in ps):\n            ps.add(i)\n            count += 1\n\n# both optimizations at once\ndef prime_genexp_list(n):\n    ps = [2]\n    count = 1\n    i = 1\n    while count &lt; n:\n        i += 2\n        if not any(i % num == 0 for num in ps):\n            ps.append(i)\n            count += 1\n</code></pre>\n\n<p>RESULTS:</p>\n\n<pre><code>cProfile.run('prime_orig(10001)')\n\n         114746 function calls in 27.283 seconds\n\n   Ordered by: standard name\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n        1    0.701    0.701   27.283   27.283 &lt;ipython-input-2-3059f1e23ab4&gt;:1(prime_orig)\n    52371   26.330    0.001   26.330    0.001 &lt;ipython-input-2-3059f1e23ab4&gt;:7(&lt;listcomp&gt;)\n        1    0.000    0.000   27.283   27.283 &lt;string&gt;:1(&lt;module&gt;)\n    52371    0.250    0.000    0.250    0.000 {built-in method builtins.any}\n        1    0.000    0.000   27.283   27.283 {built-in method builtins.exec}\n    10000    0.003    0.000    0.003    0.000 {method 'add' of 'set' objects}\n        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>cProfile.run('prime_list(10001)')\n\n         114746 function calls in 24.523 seconds\n\n   Ordered by: standard name\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n        1    0.666    0.666   24.523   24.523 &lt;ipython-input-2-3059f1e23ab4&gt;:11(prime_list)\n    52371   23.625    0.000   23.625    0.000 &lt;ipython-input-2-3059f1e23ab4&gt;:17(&lt;listcomp&gt;)\n        1    0.000    0.000   24.523   24.523 &lt;string&gt;:1(&lt;module&gt;)\n    52371    0.231    0.000    0.231    0.000 {built-in method builtins.any}\n        1    0.000    0.000   24.523   24.523 {built-in method builtins.exec}\n    10000    0.001    0.000    0.001    0.000 {method 'append' of 'list' objects}\n        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}\n</code></pre>\n\n<p>&nbsp;    </p>\n\n<pre><code>cProfile.run('prime_genexp(10001)')\n\n         50627376 function calls in 10.577 seconds\n\n   Ordered by: standard name\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n        1    0.040    0.040   10.577   10.577 &lt;ipython-input-2-3059f1e23ab4&gt;:21(prime_genexp)\n 50565001    7.060    0.000    7.060    0.000 &lt;ipython-input-2-3059f1e23ab4&gt;:27(&lt;genexpr&gt;)\n        1    0.000    0.000   10.577   10.577 &lt;string&gt;:1(&lt;module&gt;)\n    52371    3.475    0.000   10.530    0.000 {built-in method builtins.any}\n        1    0.000    0.000   10.577   10.577 {built-in method builtins.exec}\n    10000    0.002    0.000    0.002    0.000 {method 'add' of 'set' objects}\n        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>cProfile.run('prime_genexp_list(10001)')\n\n         50400891 function calls in 9.781 seconds\n\n   Ordered by: standard name\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n        1    0.040    0.040    9.781    9.781 &lt;ipython-input-2-3059f1e23ab4&gt;:31(prime_genexp_list)\n 50338516    6.272    0.000    6.272    0.000 &lt;ipython-input-2-3059f1e23ab4&gt;:37(&lt;genexpr&gt;)\n        1    0.000    0.000    9.781    9.781 &lt;string&gt;:1(&lt;module&gt;)\n    52371    3.468    0.000    9.735    0.000 {built-in method builtins.any}\n        1    0.000    0.000    9.781    9.781 {built-in method builtins.exec}\n    10000    0.001    0.000    0.001    0.000 {method 'append' of 'list' objects}\n        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 4882608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KjW8l.jpg?s=128&g=1", "display_name": "Ryan Asensio", "link": "https://stackoverflow.com/users/4882608/ryan-asensio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "accepted_answer_id": 47191421, "answer_count": 1, "score": 0, "last_activity_date": 1510183420, "creation_date": 1510176793, "last_edit_date": 1510178699, "question_id": 47190055, "link": "https://stackoverflow.com/questions/47190055/identify-a-bottleneck-that-isnt-explicit-using-cprofile", "title": "Identify a bottleneck that isn&#39;t explicit using cProfile", "body": "<p>Can you help identify the bottleneck of this code? I am solving problem #7 of project Euler, and am failing to understand why this solution takes so long (30s). I know there are better solutions, I just want to understand more about why this, specifically is so bad.</p>\n\n<pre><code>def primes(n):\n    primes = set([2])\n    count = 1\n    i = 1\n    while count &lt; n:\n        i += 2\n        if not any([i % num == 0 for num in primes]):\n            primes.add(i)\n            count += 1\n    print i\n\ncProfile.run(\"primes(10001)\") #slow! 30s\n</code></pre>\n\n<p>The profile is here below:</p>\n\n<pre><code>62374 function calls in 34.605 seconds\n\n   Ordered by: standard name\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n        1    0.000    0.000   34.605   34.605 &lt;string&gt;:1(&lt;module&gt;)\n        1   34.273   34.273   34.605   34.605 problem_7.py:8(primes)\n    52371    0.328    0.000    0.328    0.000 {any}\n    10000    0.004    0.000    0.004    0.000 {method 'add' of 'set' objects}\n        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 955, "user_id": 4193208, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fdc4951e636f003e09dcef12ca5a483c?s=128&d=identicon&r=PG&f=1", "display_name": "liorko", "link": "https://stackoverflow.com/users/4193208/liorko"}, "edited": false, "score": 1, "creation_date": 1510176875, "post_id": 47190042, "comment_id": 81329494, "body": "have you tried looking at the documentation? Which IDE are you using?"}, {"owner": {"reputation": 20381, "user_id": 7254633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XCPaMN6qzA0/AAAAAAAAAAI/AAAAAAAAADs/o9igiVGFyK0/photo.jpg?sz=128", "display_name": "John Anderson", "link": "https://stackoverflow.com/users/7254633/john-anderson"}, "edited": false, "score": 1, "creation_date": 1510177186, "post_id": 47190042, "comment_id": 81329643, "body": "<code>urllib.urlopen()</code> is python2, and is not available in python3. In python3, you can use  <code>urllib2.urlopen()</code>"}, {"owner": {"reputation": 15, "user_id": 8821582, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/aabc1cf64e07fdf09ca850befa798a43?s=128&d=identicon&r=PG&f=1", "display_name": "Mogheh", "link": "https://stackoverflow.com/users/8821582/mogheh"}, "edited": false, "score": 0, "creation_date": 1510234725, "post_id": 47190042, "comment_id": 81355040, "body": "I am using Pycharm. Even if I try urllib2.urlopen() it doesn&#39;t work. Gives me the same message."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8821582, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/aabc1cf64e07fdf09ca850befa798a43?s=128&d=identicon&r=PG&f=1", "display_name": "Mogheh", "link": "https://stackoverflow.com/users/8821582/mogheh"}, "edited": false, "score": 1, "creation_date": 1510234756, "post_id": 47190718, "comment_id": 81355077, "body": "I tried that and I still get the same error. I&#39;m using Pycharm by the way"}, {"owner": {"reputation": 15, "user_id": 8821582, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/aabc1cf64e07fdf09ca850befa798a43?s=128&d=identicon&r=PG&f=1", "display_name": "Mogheh", "link": "https://stackoverflow.com/users/8821582/mogheh"}, "edited": false, "score": 0, "creation_date": 1510244580, "post_id": 47190718, "comment_id": 81362474, "body": "That works now. However I modified my original post with the updated information. Thanks for this by the way."}], "tags": [], "owner": {"reputation": 69, "user_id": 8168819, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154846444778751/picture?type=large", "display_name": "Vijay K. Narayanan", "link": "https://stackoverflow.com/users/8168819/vijay-k-narayanan"}, "is_accepted": false, "score": 1, "last_activity_date": 1510179749, "creation_date": 1510179749, "answer_id": 47190718, "question_id": 47190042, "link": "https://stackoverflow.com/questions/47190042/urllib-urlopen-cannot-find-reference/47190718#47190718", "title": "urllib.urlopen cannot find reference", "body": "<p>This is because there is no such method as <code>urllib.urlopen()</code>. Instead, try the following.</p>\n\n<pre><code>from urllib.request import urlopen\n\ndef download_permitted(address):\n    f = urlopen(\"http://\" + address + \"/config?action=get&amp;paramid=eParamID_MediaState\")\n    ...\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8821582, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/aabc1cf64e07fdf09ca850befa798a43?s=128&d=identicon&r=PG&f=1", "display_name": "Mogheh", "link": "https://stackoverflow.com/users/8821582/mogheh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1518, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510243833, "creation_date": 1510176755, "last_edit_date": 1510243833, "question_id": 47190042, "link": "https://stackoverflow.com/questions/47190042/urllib-urlopen-cannot-find-reference", "title": "urllib.urlopen cannot find reference", "body": "<p>Now I can get the code to execute but when i call the function and pass the parameter it tells me invalid syntax. I tried with '10.1.1.27' and \"10.1.1.27\" as well as the below code but I can't get it to work. Any advice is appreciated.</p>\n\n<pre><code>download_permitted(10.1.1.27)\n</code></pre>\n\n<p>Below is the function in it's entirety</p>\n\n<pre><code>    from urllib.request import urlopen\ndef download_permitted(address):\n    f=urlopen(\"http://\"+address+\"/config?action=get&amp;paramid=eParamID_MediaState\")\n    response = f.read()\n    if (response.find('\"value\":\"1\"') &gt; -1):\n        return True\n    f = urlopen(\"http://\" + address + \"/config?action=set&amp;paramid=eParamID_MediaState&amp;value=1\")\n</code></pre>\n"}, {"tags": ["python", "json", "python-internals"], "comments": [{"owner": {"reputation": 2338, "user_id": 3080953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe6bc2a51d294b0d1d65fa203e496c7a?s=128&d=identicon&r=PG&f=1", "display_name": "c2huc2hu", "link": "https://stackoverflow.com/users/3080953/c2huc2hu"}, "edited": false, "score": 0, "creation_date": 1510176899, "post_id": 47190008, "comment_id": 81329507, "body": "Where is your code?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4957735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72BU0.png?s=128&g=1", "display_name": "Al Mashud Shishir", "link": "https://stackoverflow.com/users/4957735/al-mashud-shishir"}, "edited": false, "score": 0, "creation_date": 1510177582, "post_id": 47190177, "comment_id": 81329818, "body": "ok,thanks.However it will work,but thought as the response was ok ,then something unusual just happened.Anyway thanks for the help.Much appreciated"}, {"owner": {"reputation": 7454, "user_id": 2511718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3jZ8.jpg?s=128&g=1", "display_name": "bgse", "link": "https://stackoverflow.com/users/2511718/bgse"}, "reply_to_user": {"reputation": 3, "user_id": 4957735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72BU0.png?s=128&g=1", "display_name": "Al Mashud Shishir", "link": "https://stackoverflow.com/users/4957735/al-mashud-shishir"}, "edited": false, "score": 0, "creation_date": 1510177947, "post_id": 47190177, "comment_id": 81329998, "body": "@AlMashudShishir The thing is, your code as it is might work in some cases, and fail in others. For example, the check for <code>data</code> you use could fail if the API doesn&#39;t return data, see the edit."}], "tags": [], "owner": {"reputation": 7454, "user_id": 2511718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3jZ8.jpg?s=128&g=1", "display_name": "bgse", "link": "https://stackoverflow.com/users/2511718/bgse"}, "is_accepted": false, "score": 0, "last_activity_date": 1510178006, "last_edit_date": 1510178006, "creation_date": 1510177288, "answer_id": 47190177, "question_id": 47190008, "link": "https://stackoverflow.com/questions/47190008/internal-error-occured-after-json-decoding-1100-elements-using-python/47190177#47190177", "title": "internal error occured after json decoding 1100 elements using python", "body": "<p>In this line of your code:</p>\n\n<pre><code>result.append((u,data[\"domain\"][\"domain_rating\"]))\n</code></pre>\n\n<p>You are trying to access a key in the <code>data</code> dictionary that does not exist, resulting in your error:</p>\n\n<pre><code>KeyError: 'domain'\n</code></pre>\n\n<p>You'd best check if the key exists in your dictionary before accessing, like this:</p>\n\n<pre><code>if \"domain\" in data:\n    print('found domain')\n</code></pre>\n\n<p>On a side note, using this code</p>\n\n<pre><code>if data != \"\"\n</code></pre>\n\n<p>to check your dictionary isn't a very good idea, it will always be <code>True</code>, see this example in Python interpreter:</p>\n\n<pre><code>&gt;&gt;&gt; mydict = dict(foo='foo', bar='bar')\n&gt;&gt;&gt; mydict\n{'foo': 'foo', 'bar': 'bar'}\n&gt;&gt;&gt; mydict != \"\"\nTrue\n&gt;&gt;&gt; mydict2 = dict()\n&gt;&gt;&gt; mydict2\n{}\n&gt;&gt;&gt; mydict2 != \"\"\nTrue\n&gt;&gt;&gt; mydict2 = None\n&gt;&gt;&gt; mydict2 != \"\"\nTrue\n</code></pre>\n\n<p>As you can see, with an empty dict, and even if we set <code>mydict2</code> to <code>None</code>, we satisfy the condition, but your code below would fail.</p>\n"}], "owner": {"reputation": 3, "user_id": 4957735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72BU0.png?s=128&g=1", "display_name": "Al Mashud Shishir", "link": "https://stackoverflow.com/users/4957735/al-mashud-shishir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1510178006, "creation_date": 1510176620, "last_edit_date": 1510177043, "question_id": 47190008, "link": "https://stackoverflow.com/questions/47190008/internal-error-occured-after-json-decoding-1100-elements-using-python", "title": "internal error occured after json decoding 1100 elements using python", "body": "<p>I am using python to decode an api response,which is in json format.After 1100 data checking this error occurs </p>\n\n<pre><code>&lt;Response [200]&gt;\n{'error': 'internal error'}\nTraceback (most recent call last):\n  File \"E:/freelancer_projects/ahref/app2.py\", line 63, in &lt;module&gt;\n    get_rating()\n  File \"E:/freelancer_projects/ahref/app2.py\", line 46, in get_rating\n    result.append((u,data[\"domain\"][\"domain_rating\"]))\nKeyError: 'domain'\n</code></pre>\n\n<p>As you can see the response from the api is ok,but the error just saying its internal.Why is this error and what will be its fix ? I am using requests library to get data from api </p>\n\n<p>full code:</p>\n\n<pre><code>def get_rating():\n    fr = input(\"Enter filename of urls:\")\n    token = input(\"Enter token:\")\n    f = open(fr, \"r\",encoding=\"utf8\")\n    urls = f.readlines()\n    result=[]\n    count=1\n    for u in urls:\n        u = u.replace(\"http://\", \"\")\n        u = u.replace(\"https://\", \"\")\n        if \"www\" not in u:\n            u=\"www\"+u\n        ind = u.find(\"www\")\n        u = u[ind:]\n        u=u.replace('\\n', '')\n\n        u=u[:-1]\n        # print(u)\n\n        data=getPageData(u,token)\n        if data != \"\":\n            print(data)\n            # print(data)\n            # print(data[\"domain\"][\"domain_rating\"])\n            result.append((u,data[\"domain\"][\"domain_rating\"]))\n            print(count)\n            count+=1\n\n    # print(result)\n    result=sorted(result,key=lambda x:x[1],reverse=True)\n    # print(result)\n    saveData(result)\ndef saveData(result):\n    wb = openpyxl.Workbook()\n    sheet =wb.get_sheet_by_name('Sheet')\n    sheet.cell(row=1, column=1).value = \"URL\"\n    sheet.cell(row=1, column=2).value = \"DOMAIN RATING\"\n    for index,r in enumerate(result):\n        sheet.cell(row=index+2, column=1).value = r[0]\n        sheet.cell(row=index+2, column=2).value = r[1]\n    wb.save(\"output.xlsx\")\nget_rating()\n</code></pre>\n"}, {"tags": ["python", "subprocess"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1510176926, "post_id": 47189986, "comment_id": 81329516, "body": "Put the argument in quotes, just as you would from the command line."}, {"owner": {"reputation": 20381, "user_id": 7254633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XCPaMN6qzA0/AAAAAAAAAAI/AAAAAAAAADs/o9igiVGFyK0/photo.jpg?sz=128", "display_name": "John Anderson", "link": "https://stackoverflow.com/users/7254633/john-anderson"}, "edited": false, "score": 1, "creation_date": 1510176928, "post_id": 47189986, "comment_id": 81329517, "body": "What is arguments supposed to be? I get a syntax error on that line."}, {"owner": {"reputation": 1733, "user_id": 1413374, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/4d08a695cf9f4c757fd16d2dc447d9f2?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1413374/sebastian"}, "edited": false, "score": 0, "creation_date": 1510177096, "post_id": 47189986, "comment_id": 81329596, "body": "Did you consider using a function of the other script by importing it as a module instead of calling it as subprocess?"}, {"owner": {"reputation": 119, "user_id": 6584224, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xdcIY.gif?s=128&g=1", "display_name": "kiryha", "link": "https://stackoverflow.com/users/6584224/kiryha"}, "edited": false, "score": 0, "creation_date": 1510178235, "post_id": 47189986, "comment_id": 81330138, "body": "Sorry, that was an abstract example and I mess up my strings. Should be <code>&#39;{0} &quot;{1}&quot;&#39;.format(x, y)</code> and I did <code>&#39;{0} {1}&#39;.format(x, y)</code>, so it does not work."}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1510178435, "post_id": 47189986, "comment_id": 81330237, "body": "Are you using <code>shell=True</code>? A default <code>subprocess.call(&#39;some arbitrary string&#39;)</code> will attempt to find and execute something called <code>some arbitrary string</code>, spaces and all."}, {"owner": {"reputation": 119, "user_id": 6584224, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xdcIY.gif?s=128&g=1", "display_name": "kiryha", "link": "https://stackoverflow.com/users/6584224/kiryha"}, "edited": false, "score": 0, "creation_date": 1510179200, "post_id": 47189986, "comment_id": 81330585, "body": "No, I am not using <code>shell = True</code>"}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 8761293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209cf3b84d86936eb93309224112d085?s=128&d=identicon&r=PG&f=1", "display_name": "Aswini", "link": "https://stackoverflow.com/users/8761293/aswini"}, "is_accepted": true, "score": 0, "last_activity_date": 1510177813, "creation_date": 1510177813, "answer_id": 47190291, "question_id": 47189986, "link": "https://stackoverflow.com/questions/47189986/call-python-file-from-another-file-with-arguments-containing-spaces/47190291#47190291", "title": "Call python file from another file with arguments containing spaces", "body": "<p>Change this line \n    arguments = '{'a': 'apple'}' \nto\n    arguments = \"{'a': 'apple'}\"</p>\n"}], "owner": {"reputation": 119, "user_id": 6584224, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xdcIY.gif?s=128&g=1", "display_name": "kiryha", "link": "https://stackoverflow.com/users/6584224/kiryha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 47190291, "answer_count": 1, "score": 0, "last_activity_date": 1510177813, "creation_date": 1510176555, "question_id": 47189986, "link": "https://stackoverflow.com/questions/47189986/call-python-file-from-another-file-with-arguments-containing-spaces", "title": "Call python file from another file with arguments containing spaces", "body": "<p>If I run a script, which runs and passing arguments to another script </p>\n\n<pre><code>python = 'C:/Python27/' \nroute = 'D:/core.py'\narguments = '{'a': 'apple'}'\nsubprocess.call('{0} {1} {2}'.format(python, route, arguments))\n</code></pre>\n\n<p>In core.py I get only <code>'{'a':</code> as an argument, everything after space is lost. Is there a workaround? </p>\n"}, {"tags": ["python", "pandas", "series"], "comments": [{"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 2, "creation_date": 1510177093, "post_id": 47189831, "comment_id": 81329592, "body": "Iteration over a Series loops over the values. Iteration over a DataFrame loops over the column names."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 1, "creation_date": 1510177212, "post_id": 47189831, "comment_id": 81329657, "body": "The behavior of <code>in</code> is more consistent: <code>item in series</code> is equivalent to  <code>item in series.index</code>, and <code>item in df</code> is equivalent to <code>item in df.columns</code>."}], "answers": [{"tags": [], "owner": {"reputation": 198, "user_id": 2641913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T3t0v.jpg?s=128&g=1", "display_name": "Rofgar", "link": "https://stackoverflow.com/users/2641913/rofgar"}, "is_accepted": false, "score": 0, "last_activity_date": 1510177580, "creation_date": 1510177580, "answer_id": 47190244, "question_id": 47189831, "link": "https://stackoverflow.com/questions/47189831/pandas-series-and-the-in-operator/47190244#47190244", "title": "Pandas Series and the `in` operator", "body": "<blockquote>\n  <p>Why is it giving me the Values instead of the keys?</p>\n</blockquote>\n\n<p>Because it was programmed to make the in operator iterate over values, for display purposes, since your keys are considered the series indices.</p>\n\n<blockquote>\n  <p>The reason I ask is that this actually turned out to be messing up my program while mapping values from a DataFrame to values in a Series</p>\n</blockquote>\n\n<p>There are two reasons your mapping is off, first one is that the keys are case sensitive so 'fred' maps to -> 'Fred', BUT 'Fred' -> NAN since there is no index in the series.\nSecond one, map operates on the whole df, so if you use a key such as 'john' that is missing from the series, the mapping would be NAN.</p>\n\n<blockquote>\n  <p>but when I do</p>\n  \n  <blockquote>\n    <p>df[df.name.isin('lkup')].name</p>\n    \n    <blockquote>\n      <p>3 Fred</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>Pandas data frame isin function works quite differently from the python's in operator.\nIt build a matrix with matched values.\nSince your values are gathered from series, they are 'Fred' and 'Amy' respectively, because iterator returns values, not the indices of the series.</p>\n\n<p>Source:\n<a href=\"http://pandas.pydata.org/pandas-docs/stable/dsintro.html#series\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/pandas-docs/stable/dsintro.html#series</a></p>\n\n<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame</a></p>\n\n<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.isin.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.isin.html</a></p>\n"}], "owner": {"reputation": 1818, "user_id": 5767904, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/820dadd22cfbf7937f5825fbc867473e?s=128&d=identicon&r=PG&f=1", "display_name": "RSHAP", "link": "https://stackoverflow.com/users/5767904/rshap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 752, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1510177580, "creation_date": 1510175758, "question_id": 47189831, "link": "https://stackoverflow.com/questions/47189831/pandas-series-and-the-in-operator", "title": "Pandas Series and the `in` operator", "body": "<p>This seems like strange and counter-intuitive behavior. Can anyone explain why this is designed like this?</p>\n\n<pre><code>lkup = pd.Series({'fred':'Fred','amy':'Amy'})\n\nfor n in lkup:\n    print(n,' --&gt; ',n in lkup)\n&gt;&gt;&gt;\nAmy  --&gt;  False\nFred  --&gt;  False\n</code></pre>\n\n<p>Why is it giving me the <em>Values</em> instead of the keys?</p>\n\n<pre><code>'fred' in lkup, 'amy' in lkup\n&gt;&gt;&gt;&gt; True, True\n</code></pre>\n\n<p>The reason I ask is that this actually turned out to be messing up my program while mapping values from a DataFrame to values in a Series</p>\n\n<pre><code>df = pd.DataFrame([['fred',1,2,3],['amy',3,4,5],['john',5,6,7],['Fred',11,12,33]], columns=['name','c1','c2','c3'])\n\ndf\n&gt;&gt;&gt; \n    name    c1  c2  c3\n0   fred    1   2   3\n1   amy     3   4   5\n2   john    5   6   7\n3   Fred    11  12  33\n\n\ndf.name.map(lkup)\n&gt;&gt;&gt;\n0    Fred\n1     Amy\n2     NaN\n3     NaN\n</code></pre>\n\n<p>Great - as expected since:</p>\n\n<pre><code>lkup.to_dict()\n&gt;&gt;&gt; {'amy': 'Amy', 'fred': 'Fred'}\n</code></pre>\n\n<p>but when I do</p>\n\n<pre><code>df[df.name.isin('lkup')].name\n&gt;&gt;&gt; 3 Fred\n</code></pre>\n\n<p>With DataFrames I don't have this problem. </p>\n\n<pre><code>for n in df:\n    print(n,' --&gt; ',n in df)\n&gt;&gt;&gt; \nname  --&gt;  True\nc1  --&gt;  True\nc2  --&gt;  True\nc3  --&gt;  True\n</code></pre>\n\n<p>What is the reasoning for this contradictory logic?</p>\n"}, {"tags": ["python", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 6328116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d4e12d72cb6d5e1333e3b56fca98c3?s=128&d=identicon&r=PG&f=1", "display_name": "MK 62665", "link": "https://stackoverflow.com/users/6328116/mk-62665"}, "edited": false, "score": 0, "creation_date": 1510177547, "post_id": 47190097, "comment_id": 81329803, "body": "Oh okay. But, is there a way to prevent python crashing and instead return a error message saying no camera has been connected? As the program crashes, I am unable to identify the error type to use it with try-except."}, {"owner": {"reputation": 167, "user_id": 3084244, "user_type": "registered", "profile_image": "https://graph.facebook.com/818079836/picture?type=large", "display_name": "LucasRT", "link": "https://stackoverflow.com/users/3084244/lucasrt"}, "reply_to_user": {"reputation": 125, "user_id": 6328116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d4e12d72cb6d5e1333e3b56fca98c3?s=128&d=identicon&r=PG&f=1", "display_name": "MK 62665", "link": "https://stackoverflow.com/users/6328116/mk-62665"}, "edited": false, "score": 0, "creation_date": 1510237900, "post_id": 47190097, "comment_id": 81357407, "body": "is kind of weird your project using CV without camera plugged... use an if, in case no camera plugged, so don&#180;t do videoCapture (it&#180;s like natural to expect an error if no camera available), else do videoCapture: camera working properly."}, {"owner": {"reputation": 125, "user_id": 6328116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d4e12d72cb6d5e1333e3b56fca98c3?s=128&d=identicon&r=PG&f=1", "display_name": "MK 62665", "link": "https://stackoverflow.com/users/6328116/mk-62665"}, "edited": false, "score": 0, "creation_date": 1510249914, "post_id": 47190097, "comment_id": 81366038, "body": "I am not trying to use it without the camera. I just want my program to tell the user that camera is not connected if program is run instead of crashing! I tried what you suggested and itt still doesn&#39;t fix the issue! Thank you though! On a closer look, I found that <b>cap.read()[0]</b> returns a <i>false</i> when the camera is disconnected and goes back to <i>true</i>  when i call the function again (the camera is still disconnected!!!!!). When I re-connect the camera, it returns false once and then goes back to true again! :( I am not sure if this is a problem with camera handling by openCV or windows."}, {"owner": {"reputation": 167, "user_id": 3084244, "user_type": "registered", "profile_image": "https://graph.facebook.com/818079836/picture?type=large", "display_name": "LucasRT", "link": "https://stackoverflow.com/users/3084244/lucasrt"}, "reply_to_user": {"reputation": 125, "user_id": 6328116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d4e12d72cb6d5e1333e3b56fca98c3?s=128&d=identicon&r=PG&f=1", "display_name": "MK 62665", "link": "https://stackoverflow.com/users/6328116/mk-62665"}, "edited": false, "score": 0, "creation_date": 1510344984, "post_id": 47190097, "comment_id": 81411470, "body": "take a look at this: <a href=\"https://stackoverflow.com/questions/36268054/opencv-python-videocapture-read-does-not-return-false-when-rtsp-connection-is?rq=1\" title=\"opencv python videocapture read does not return false when rtsp connection is\">stackoverflow.com/questions/36268054/&hellip;</a> seems an OpenCV issue."}, {"owner": {"reputation": 125, "user_id": 6328116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d4e12d72cb6d5e1333e3b56fca98c3?s=128&d=identicon&r=PG&f=1", "display_name": "MK 62665", "link": "https://stackoverflow.com/users/6328116/mk-62665"}, "edited": false, "score": 0, "creation_date": 1510349061, "post_id": 47190097, "comment_id": 81413400, "body": "Thanks Lucas! Looks like they too have not found the solution yet!  For now, once the return becomes false the first time, I display a message and exit the program with &#39;exit()&#39;. The user has to start from the beginning. Figured this was better than letting windows freeze.   It would be great if there is a way to keep the program waiting until the cam is reconnected. If the &#39;ret&#39; in cap.read() works reliably, this would be easy."}], "tags": [], "owner": {"reputation": 167, "user_id": 3084244, "user_type": "registered", "profile_image": "https://graph.facebook.com/818079836/picture?type=large", "display_name": "LucasRT", "link": "https://stackoverflow.com/users/3084244/lucasrt"}, "is_accepted": false, "score": 0, "last_activity_date": 1510176977, "creation_date": 1510176977, "answer_id": 47190097, "question_id": 47189785, "link": "https://stackoverflow.com/questions/47189785/opencv-returning-error-message-when-webcam-is-not-connected/47190097#47190097", "title": "OpenCV Returning error message when webcam is not connected", "body": "<p>first you need to have at least one camera pluged, without any camera the program have to fail.\ncv2.VideoCapture(0) is looking for the first camera (number cero), so if you plug the camera out will return error.\nhow to fix: list cameras, set the one that\u00b4s not the webcam as default </p>\n"}], "owner": {"reputation": 125, "user_id": 6328116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d4e12d72cb6d5e1333e3b56fca98c3?s=128&d=identicon&r=PG&f=1", "display_name": "MK 62665", "link": "https://stackoverflow.com/users/6328116/mk-62665"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 862, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513181088, "creation_date": 1510175560, "last_edit_date": 1513181088, "question_id": 47189785, "link": "https://stackoverflow.com/questions/47189785/opencv-returning-error-message-when-webcam-is-not-connected", "title": "OpenCV Returning error message when webcam is not connected", "body": "<p>I am using OpenCV 3.3 with Python 2.7 on a Windows 10 PC. In one of my projects, I am connecting an external webcam to do some tracking. Everything works well as long as the webcam is connected. If the webcam is disconnected before the program runs/during the program, the program crashes. When I tried a dummy program to check what's going wrong, I noticed that the program crashes in the line where i call cv2.VideoCapture(0) itself. </p>\n\n<p><em>Code Snippet:</em></p>\n\n<p>cap=cv2.VideoCapture(0) -- this line is in the main program and if camera is not connected, the program crashes at this point</p>\n\n<p>--The below lines are inside a function and is called by the main program based on some other input</p>\n\n<blockquote>\n  <p>r, a = cap.read()</p>\n  \n  <p>while not r:</p>\n  \n  <blockquote>\n    <p>print 'Reconnect Camera'</p>\n    \n    <p>r , a = cap.read()</p>\n  </blockquote>\n  \n  <p>print 'All Okay!'</p>\n</blockquote>\n\n<p>I put the while loop in there to prevent problems if the camera is disconnected after the cap=cv2.VideoCapture(0) but before cap.read() inside the function. This also does not do the work as 'r' value becomes true in the second iteration even after the camera disconnects. I have put a graph below to represent the behavior of 'r' with camera's connection.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UzDYB.jpg\" rel=\"nofollow noreferrer\">a -> Camera is disconnected and 'r' goes to false;b -> Camera is still disconnected but 'r' is true now;c-> Camera is re-connected and 'r' goes to false;d -> Camera is connected, 'r' goes back to true but     </a></p>\n\n<p>I might be doing something wrong! How do I fix this?! Thanks in advance guys!</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 1421, "user_id": 7299505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLVAy.jpg?s=128&g=1", "display_name": "cosinepenguin", "link": "https://stackoverflow.com/users/7299505/cosinepenguin"}, "edited": false, "score": 0, "creation_date": 1510175528, "post_id": 47189764, "comment_id": 81328881, "body": "Is this an exercise in recursion?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 6, "creation_date": 1510175598, "post_id": 47189764, "comment_id": 81328906, "body": "This sounds like a headache waiting to happen when ordinary floating-point rounding causes your code to receive <code>0.30000000000000004</code> instead of <code>0.3</code> or something like that."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1510175738, "post_id": 47189764, "comment_id": 81328967, "body": "@user2357112 - I wonder if a correct answer might  include <a href=\"https://docs.python.org/2/library/decimal.html\" rel=\"nofollow noreferrer\"><code>decimal.Decimal</code></a>?"}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1510179115, "post_id": 47189764, "comment_id": 81330535, "body": "Might be easier to just say if the next <i>x</i> decimal places are 0, call it good."}], "answers": [{"comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 1, "creation_date": 1510179050, "post_id": 47189801, "comment_id": 81330504, "body": "What answer do you get for <code>x=.81</code>?"}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 1, "creation_date": 1510179285, "post_id": 47189801, "comment_id": 81330624, "body": "The following two-digit decimal (literals) will blow up: <code>0.07</code>, <code>0.14</code>, <code>0.23</code>, <code>0.28</code>, <code>0.46</code>, <code>0.47</code>, <code>0.53</code>, <code>0.56</code>, <code>0.57</code>, <code>0.59</code>, <code>0.81</code>, <code>0.83</code>, <code>0.92</code>, <code>0.94</code>"}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1510179567, "post_id": 47189801, "comment_id": 81330734, "body": "Yea those get a little funky, but that wasn&#39;t the issue in the original question. If Caroline amends it, I&#39;ll be happy to address it."}], "tags": [], "owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "is_accepted": false, "score": 2, "last_activity_date": 1510175608, "creation_date": 1510175608, "answer_id": 47189801, "question_id": 47189764, "link": "https://stackoverflow.com/questions/47189764/making-a-decimal-a-whole-number/47189801#47189801", "title": "Making a decimal a whole number", "body": "<p>You could do this</p>\n\n<pre><code>x=.25\nwhile int(x) != x:\n    x=x*10\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1510179397, "post_id": 47189921, "comment_id": 81330667, "body": "What&#39;s the point of <code>&#39;{}&#39;.format(x)</code> vs. <code>str(x)</code>? You could also probably handle other numbers if you just remove all <code>.</code>&#39;s and <code>lstrip(&#39;0&#39;)</code>"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1510179756, "post_id": 47189921, "comment_id": 81330822, "body": "<code>1.4e-19</code> is between 0 and 1."}], "tags": [], "owner": {"reputation": 508, "user_id": 7488315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c77f02af8cefbe630b492a7bdf3f6aa?s=128&d=identicon&r=PG&f=1", "display_name": "Chun-Yen Wang", "link": "https://stackoverflow.com/users/7488315/chun-yen-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1510176239, "creation_date": 1510176239, "answer_id": 47189921, "question_id": 47189764, "link": "https://stackoverflow.com/questions/47189764/making-a-decimal-a-whole-number/47189921#47189921", "title": "Making a decimal a whole number", "body": "<p>If the input is always positive fraction (1 > x > 0), I would try this:</p>\n\n<pre><code>def fraction2int(b):\n    return int('{}'.format(b).replace('0.', ''))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 1, "creation_date": 1510179154, "post_id": 47190264, "comment_id": 81330559, "body": "What answer do you get for <code>x=.81</code>?"}, {"owner": {"reputation": 284, "user_id": 4595387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806f14a8f9f1d4580f5cb4b31f50a200?s=128&d=identicon&r=PG&f=1", "display_name": "w33haa", "link": "https://stackoverflow.com/users/4595387/w33haa"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1510185820, "post_id": 47190264, "comment_id": 81332911, "body": "@Rob\u1d69 with  x =.81 the result is 81"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1510194109, "post_id": 47190264, "comment_id": 81334961, "body": "Hmm. When I run your code with <code>x=.81</code>, I get this: <code>8100000000000001.0</code> Python3 demo: <a href=\"https://ideone.com/Mwl0KL\" rel=\"nofollow noreferrer\">ideone.com/Mwl0KL</a>  Python2 demo: <a href=\"https://ideone.com/E2T6xH\" rel=\"nofollow noreferrer\">ideone.com/E2T6xH</a>"}, {"owner": {"reputation": 284, "user_id": 4595387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806f14a8f9f1d4580f5cb4b31f50a200?s=128&d=identicon&r=PG&f=1", "display_name": "w33haa", "link": "https://stackoverflow.com/users/4595387/w33haa"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1510195949, "post_id": 47190264, "comment_id": 81335404, "body": "ok, i just tested it, as Nick T said some decimals blow up, i tested it first in my web browser console, sorry."}, {"owner": {"reputation": 284, "user_id": 4595387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806f14a8f9f1d4580f5cb4b31f50a200?s=128&d=identicon&r=PG&f=1", "display_name": "w33haa", "link": "https://stackoverflow.com/users/4595387/w33haa"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1510196057, "post_id": 47190264, "comment_id": 81335436, "body": "@Rob\u1d69 can u explain why 81.0 % 1.0 in my python console is 0.0 but dont break my while loop?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 2, "creation_date": 1510196575, "post_id": 47190264, "comment_id": 81335561, "body": "Because <code>.81</code>, like most other numbers, is not precisely representable as a binary floating-point number. The literal <code>.81</code> is not precisely 81 hundredths., but evaluates to something closer to <code>0.81000000000000005329</code>.  Therefore <code>(.81 * 10) * 10</code> is not precisely 81, but something closer to <code>81.000000000000005329</code>.  For more information, see <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a>"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1510196892, "post_id": 47190264, "comment_id": 81335642, "body": "To see how this works out in your example, add <code>print(&#39;{0:.40f}&#39;.format(x))</code> to your loop."}], "tags": [], "owner": {"reputation": 284, "user_id": 4595387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806f14a8f9f1d4580f5cb4b31f50a200?s=128&d=identicon&r=PG&f=1", "display_name": "w33haa", "link": "https://stackoverflow.com/users/4595387/w33haa"}, "is_accepted": false, "score": 0, "last_activity_date": 1510177676, "creation_date": 1510177676, "answer_id": 47190264, "question_id": 47189764, "link": "https://stackoverflow.com/questions/47189764/making-a-decimal-a-whole-number/47190264#47190264", "title": "Making a decimal a whole number", "body": "<p>Another way</p>\n\n<pre><code>x=.25\nwhile x % 1.0 != 0:\n    x=x*10\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8854060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f229b1f27454f99be6ea9d9f543bfb1?s=128&d=identicon&r=PG&f=1", "display_name": "Carrie", "link": "https://stackoverflow.com/users/8854060/carrie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1510178693, "creation_date": 1510175456, "last_edit_date": 1510178693, "question_id": 47189764, "link": "https://stackoverflow.com/questions/47189764/making-a-decimal-a-whole-number", "title": "Making a decimal a whole number", "body": "<p>I need to take a number like (0.25) and multiply by ten repeatedly until there are no values after the decimal point.</p>\n\n<p>For example, if the number was <code>.25</code> then I would need to multiply by ten repeatedly:</p>\n\n<p><code>.25 * 10 * 10 = 25</code></p>\n\n<p>or if the number was <code>1.5</code></p>\n\n<p><code>1.5 * 10 = 15</code></p>\n\n<p>What would be the best way to do this? A for loop?\nI know I should do something like</p>\n\n<pre><code>number = .75\nfor i in range(0,10):\n    number * 10**i = ???? (this is where I am stuck)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "lambda", "python-2.6"], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1510176585, "post_id": 47189924, "comment_id": 81329351, "body": "@wim: The <code>x</code> for the keyword argument is stored as a string."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1510176714, "post_id": 47189924, "comment_id": 81329421, "body": "Yeah, I get it, but I don&#39;t think it&#39;s a &quot;string constant&quot;.  Sorry, it was a rhetorical question  :)"}, {"owner": {"reputation": 23, "user_id": 8909693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0327a1469db5fa046d824277e0ba18d6?s=128&d=identicon&r=PG&f=1", "display_name": "user8909693", "link": "https://stackoverflow.com/users/8909693/user8909693"}, "edited": false, "score": 0, "creation_date": 1510176833, "post_id": 47189924, "comment_id": 81329483, "body": "Thank You for the response. Makes perfect sense."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 3, "last_activity_date": 1510176262, "creation_date": 1510176262, "answer_id": 47189924, "question_id": 47189735, "link": "https://stackoverflow.com/questions/47189735/python-doc-behavior-2-6-vs-2-7/47189924#47189924", "title": "Python __doc__ behavior 2.6 vs 2.7", "body": "<p>This was <a href=\"https://bugs.python.org/issue8164\" rel=\"nofollow noreferrer\">Python issue 8164</a>. String constants used by a lambda's code were incorrectly getting interpreted as docstrings. This was <a href=\"https://github.com/python/cpython/commit/0dee9c1b5cba45c2a6c0320021f88397c559312e\" rel=\"nofollow noreferrer\">fixed</a> by making <code>None</code> the first constant in a lambda's code.</p>\n"}], "owner": {"reputation": 23, "user_id": 8909693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0327a1469db5fa046d824277e0ba18d6?s=128&d=identicon&r=PG&f=1", "display_name": "user8909693", "link": "https://stackoverflow.com/users/8909693/user8909693"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 47189924, "answer_count": 1, "score": 2, "last_activity_date": 1531169142, "creation_date": 1510175348, "last_edit_date": 1531169142, "question_id": 47189735, "link": "https://stackoverflow.com/questions/47189735/python-doc-behavior-2-6-vs-2-7", "title": "Python __doc__ behavior 2.6 vs 2.7", "body": "<p>If I have the following code:</p>\n\n<pre><code>def foo(x, y):\n    return x * y\n\nt1 = lambda a, b: foo(x=a, y=b)\nprint t1.__doc__\n</code></pre>\n\n<p>Output in 2.6:</p>\n\n<pre><code>x\n</code></pre>\n\n<p>Output in 2.7:</p>\n\n<pre><code>None\n</code></pre>\n\n<p>Though the behavior in 2.7 looks accurate, I am not able to find a bug or change request for this changed behavior. Can someone throw more lights or link me to the change request for this?</p>\n"}, {"tags": ["python", "deep-learning"], "comments": [{"owner": {"reputation": 12946, "user_id": 6064933, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/zto2h.jpg?s=128&g=1", "display_name": "jdhao", "link": "https://stackoverflow.com/users/6064933/jdhao"}, "edited": false, "score": 0, "creation_date": 1510240165, "post_id": 47189734, "comment_id": 81359109, "body": "You should state more clearly what you want to achieve and provide some <a href=\"https://stackoverflow.com/help/mcve\">minimal working example</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3111496"}, "reply_to_user": {"reputation": 12946, "user_id": 6064933, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/zto2h.jpg?s=128&g=1", "display_name": "jdhao", "link": "https://stackoverflow.com/users/6064933/jdhao"}, "edited": false, "score": 0, "creation_date": 1510241264, "post_id": 47189734, "comment_id": 81359937, "body": "I applied alexnet for MNIST data set after I changes the parameters in the net to make size working. Is this the only way to do that or such deep nets have options for MNIST too?"}, {"owner": {"reputation": 2016, "user_id": 6076729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-4HZYb101vrI/AAAAAAAAAAI/AAAAAAAAHP0/F4XjN3SAfq4/photo.jpg?sz=128", "display_name": "Manuel Lagunas", "link": "https://stackoverflow.com/users/6076729/manuel-lagunas"}, "edited": false, "score": 0, "creation_date": 1510241304, "post_id": 47189734, "comment_id": 81359960, "body": "Probably you have to consider either: to scale the image before feeding it to the netowrk or to change the kernel size of the last average pooling layer before the fully connected layer (so it flattens the output) in the dense net model."}, {"owner": {"reputation": 12946, "user_id": 6064933, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/zto2h.jpg?s=128&g=1", "display_name": "jdhao", "link": "https://stackoverflow.com/users/6064933/jdhao"}, "edited": false, "score": 0, "creation_date": 1510276234, "post_id": 47189734, "comment_id": 81377900, "body": "MNIST is a quite simple dataset, maybe you do not need to classify the dataset image with densenet."}], "owner": {"user_type": "does_not_exist", "display_name": "user3111496"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510175339, "creation_date": 1510175339, "question_id": 47189734, "link": "https://stackoverflow.com/questions/47189734/pytorch-and-applying-dense-nets-for-mnist", "title": "PyTorch and applying dense nets for MNIST", "body": "<p>I am trying to apply dense nets in pytorch for MNIST dataset classification.\nBut there is a problem with sizing, is there any parameter for MNIST dataset in dense nets (vgg, alexnet, densenet and etc) or we should modify the source code?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1510175467, "post_id": 47189710, "comment_id": 81328851, "body": "Are you sure that code produces that result? For me, it produces <code>AttributeError</code>. Please run that code you&#39;ve posted, and copy-paste (never retype) the code into your question"}, {"owner": {"reputation": 878, "user_id": 6437980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d97d56e964292977ed9503a46b46ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jose A.", "link": "https://stackoverflow.com/users/6437980/jose-a"}, "edited": false, "score": 0, "creation_date": 1510176300, "post_id": 47189710, "comment_id": 81329219, "body": "This has nothing to do with the problem but if you use list (mutable) in an instance variable, all the instances will share that variable. So the next foodchain you create will have the first, second, biglist etc same lists. And btw, since you want to pop items I recommend you use deque instead of lists. (Well, not if you recreate the variables in the <code>__init__</code> method, but then the instance variables are pointless)"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7276683, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/793989ffe2939c9a1f7c17afb3822415?s=128&d=identicon&r=PG&f=1", "display_name": "orgee", "link": "https://stackoverflow.com/users/7276683/orgee"}, "edited": false, "score": 0, "creation_date": 1510175770, "post_id": 47189765, "comment_id": 81328981, "body": "sorry, edited it.  right slightlynybbled, but I want it to allways show the empty space (&quot; &quot;), when the element has been removed"}, {"owner": {"reputation": 1952, "user_id": 3037766, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/PPfnV.png?s=128&g=1", "display_name": "slightlynybbled", "link": "https://stackoverflow.com/users/3037766/slightlynybbled"}, "reply_to_user": {"reputation": 53, "user_id": 7276683, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/793989ffe2939c9a1f7c17afb3822415?s=128&d=identicon&r=PG&f=1", "display_name": "orgee", "link": "https://stackoverflow.com/users/7276683/orgee"}, "edited": false, "score": 0, "creation_date": 1510175966, "post_id": 47189765, "comment_id": 81329072, "body": "@orgee I think you want to use the &#39;-1&#39; as a parameter into <code>pop()</code>"}, {"owner": {"reputation": 53, "user_id": 7276683, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/793989ffe2939c9a1f7c17afb3822415?s=128&d=identicon&r=PG&f=1", "display_name": "orgee", "link": "https://stackoverflow.com/users/7276683/orgee"}, "edited": false, "score": 0, "creation_date": 1510176121, "post_id": 47189765, "comment_id": 81329150, "body": "tried that, result is still  [&quot;banana&quot;, &quot;apple&quot;][&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;lemon&quot;][&quot; &quot;,&quot; &quot;,&quot; &quot;] the result I want is  [&quot; &quot;, &quot;banana&quot;, &quot;apple&quot;][&quot; &quot;, &quot; &quot;, &quot;lemon&quot;][&quot; &quot;,&quot; &quot;,&quot; &quot;]  im new to this, don&#39;t know if I explained my problem really well!"}, {"owner": {"reputation": 878, "user_id": 6437980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d97d56e964292977ed9503a46b46ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jose A.", "link": "https://stackoverflow.com/users/6437980/jose-a"}, "edited": false, "score": 0, "creation_date": 1510176663, "post_id": 47189765, "comment_id": 81329399, "body": "That code does what you wanted in the question, other thing is that implicitly you also said &quot;I want to pop the first element of the second list while doing this, and insert it at the begginig of the first list&quot; in the example. So the thing you need to do is <code>from collections import deque</code> <code>deque1.appendleft(deque2.popleft())</code> <code>deque2.append(deque1.pop())</code>"}], "tags": [], "owner": {"reputation": 1952, "user_id": 3037766, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/PPfnV.png?s=128&g=1", "display_name": "slightlynybbled", "link": "https://stackoverflow.com/users/3037766/slightlynybbled"}, "is_accepted": false, "score": 2, "last_activity_date": 1510175887, "last_edit_date": 1510175887, "creation_date": 1510175457, "answer_id": 47189765, "question_id": 47189710, "link": "https://stackoverflow.com/questions/47189710/pop-from-one-list-and-append-to-the-other/47189765#47189765", "title": "Pop from one list and append to the other", "body": "<p>To concisely <code>pop</code> from one list and <code>push</code> to another:</p>\n\n<pre><code>&gt; list0 = [1, 2, 3]\n&gt; list1 = [4, 5, 6]\n&gt; list1.append(list0.pop(-1))\n&gt; list0\n[1, 2]\n&gt; list1\n[4, 5, 6, 3]\n</code></pre>\n\n<p>The <code>pop()</code> has a parameter of <code>-1</code> to acquire the last element.</p>\n"}, {"tags": [], "owner": {"reputation": 878, "user_id": 6437980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d97d56e964292977ed9503a46b46ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jose A.", "link": "https://stackoverflow.com/users/6437980/jose-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1510177349, "creation_date": 1510177349, "answer_id": 47190187, "question_id": 47189710, "link": "https://stackoverflow.com/questions/47189710/pop-from-one-list-and-append-to-the-other/47190187#47190187", "title": "Pop from one list and append to the other", "body": "<p>Based on my comments I propose this solution using deque from the lovely collections module</p>\n\n<pre><code>from collections import deque\n\nclass foodchain:\n    def __init__(self, temp1=\" \", temp2=\" \", temp3=\" \"):\n        self.temp1 = temp1\n        self.temp2 = temp2\n        self.temp3 = temp3\n        self.first = deque([\"banana\", \"apple\", \"lemon\"])\n        self.second = deque([self.temp1, self.temp2, self.temp3])\n        self.last = deque([self.temp1, self.temp2, self.temp3])\n        self.big_list = [self.first, self.second, self.last]\n    def move21(self):\n        self.first.appendleft(self.second.popleft())\n        self.second.append(self.first.pop())\nfood = foodchain()\nprint(food.big_list)\nfood.move21()\nprint(food.big_list)\n\n[deque(['banana', 'apple', 'lemon']), deque([' ', ' ', ' ']), deque([' ', ' ', ' '])]\n[deque([' ', 'banana', 'apple']), deque([' ', ' ', 'lemon']), deque([' ', ' ', ' '])]\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 7276683, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/793989ffe2939c9a1f7c17afb3822415?s=128&d=identicon&r=PG&f=1", "display_name": "orgee", "link": "https://stackoverflow.com/users/7276683/orgee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510177349, "creation_date": 1510175237, "last_edit_date": 1510176252, "question_id": 47189710, "link": "https://stackoverflow.com/questions/47189710/pop-from-one-list-and-append-to-the-other", "title": "Pop from one list and append to the other", "body": "<p>I want to create three small lists (holding three elements each) and one big list holding all three lists. \nThen I want to pop the last element from my first list and append it to the second list, and put it as the last element. </p>\n\n<p>right now, the result looks like this after appending:</p>\n\n<p>[\"banana\", \"apple\"][\" \", \" \", \" \", \"lemon\"][\" \",\" \",\" \"]</p>\n\n<p>I want the result to look like this:</p>\n\n<p>[\" \", \"banana\", \"apple\"][\" \", \" \", \"lemon\"][\" \",\" \",\" \"]</p>\n\n<pre><code>class foodchain:\n    temp1 = \" \"\n    temp2 = \" \"\n    temp3 = \" \"\n    first = []\n    second = []\n    last = []\n    biglist = []\n\n    def __init__(self, temp1 = \" \", temp2 = \" \", temp3 = \" \"):\n        self.temp1 = temp1\n        self.temp2 = temp2\n        self.temp3 = temp3\n        self.first = [\"banana\", \"apple\", \"lemon\"]\n        self.second = [self.temp1, self.temp2, self.temp3]\n        self.last = [self.temp1, self.temp2, self.temp3]\n        self.biglist = [self.first,self.second,self.last]\n\nfood = foodchain()\n\nprint(food.biglist)\n\nfood.biglist[1].append(food.biglist[0].pop())\n\nprint(food.biglist)\n</code></pre>\n"}, {"tags": ["python", "text"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1510176131, "post_id": 47189687, "comment_id": 81329152, "body": "I may not be understanding what you&#39;re trying to do, but this code seems to work. What extra text is being truncated?"}, {"owner": {"reputation": 187, "user_id": 8549300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec4abe231418b565d45b09d16192cf5e?s=128&d=identicon&r=PG&f=1", "display_name": "firefly", "link": "https://stackoverflow.com/users/8549300/firefly"}, "edited": false, "score": 0, "creation_date": 1510176794, "post_id": 47189687, "comment_id": 81329459, "body": "I just ran it again so I could paste an example, but this time it worked fine...very odd. It was adding extra parts of sentences to the end of the text, I think taken from the point of the string I&#39;d replaced."}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 8549300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec4abe231418b565d45b09d16192cf5e?s=128&d=identicon&r=PG&f=1", "display_name": "firefly", "link": "https://stackoverflow.com/users/8549300/firefly"}, "edited": false, "score": 0, "creation_date": 1510176333, "post_id": 47189746, "comment_id": 81329233, "body": "OK, that makes sense, thank you. But I can&#39;t work out how to get around it? Do I essentially want to tell it to start seeking at 0 but then end at the end of the document?"}, {"owner": {"reputation": 312, "user_id": 8791728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0662d286933feccc392e355ac42a06?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Orzel", "link": "https://stackoverflow.com/users/8791728/dylan-orzel"}, "reply_to_user": {"reputation": 187, "user_id": 8549300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec4abe231418b565d45b09d16192cf5e?s=128&d=identicon&r=PG&f=1", "display_name": "firefly", "link": "https://stackoverflow.com/users/8549300/firefly"}, "edited": false, "score": 0, "creation_date": 1510176471, "post_id": 47189746, "comment_id": 81329293, "body": "It&#39;s a little hard to tell when one doesn&#39;t know what the file looks like, but from what I could gleam you&#39;re trying to replace one char with another, file-wide right?"}, {"owner": {"reputation": 187, "user_id": 8549300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec4abe231418b565d45b09d16192cf5e?s=128&d=identicon&r=PG&f=1", "display_name": "firefly", "link": "https://stackoverflow.com/users/8549300/firefly"}, "edited": false, "score": 0, "creation_date": 1510176829, "post_id": 47189746, "comment_id": 81329479, "body": "Yes that&#39;s right. I just ran the code again to get some examples to show and it worked fine...now I&#39;m even more confused!"}, {"owner": {"reputation": 312, "user_id": 8791728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0662d286933feccc392e355ac42a06?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Orzel", "link": "https://stackoverflow.com/users/8791728/dylan-orzel"}, "reply_to_user": {"reputation": 187, "user_id": 8549300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec4abe231418b565d45b09d16192cf5e?s=128&d=identicon&r=PG&f=1", "display_name": "firefly", "link": "https://stackoverflow.com/users/8549300/firefly"}, "edited": false, "score": 0, "creation_date": 1510177090, "post_id": 47189746, "comment_id": 81329591, "body": "Interesting! Looking at the code again I guess I would expect that to work as content is saved before the truncate. Maybe the &quot;error&quot; was with how you are viewing the results?"}, {"owner": {"reputation": 187, "user_id": 8549300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec4abe231418b565d45b09d16192cf5e?s=128&d=identicon&r=PG&f=1", "display_name": "firefly", "link": "https://stackoverflow.com/users/8549300/firefly"}, "edited": false, "score": 0, "creation_date": 1510177697, "post_id": 47189746, "comment_id": 81329877, "body": "It must have been, although not sure how that came about. Thank you for your help anyway and now I understand .seek and .truncate better."}], "tags": [], "owner": {"reputation": 312, "user_id": 8791728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0662d286933feccc392e355ac42a06?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Orzel", "link": "https://stackoverflow.com/users/8791728/dylan-orzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1510175394, "creation_date": 1510175394, "answer_id": 47189746, "question_id": 47189687, "link": "https://stackoverflow.com/questions/47189687/how-to-replace-a-string-in-text-without-truncating-extra-text-seek-issue/47189746#47189746", "title": "How to replace a string in text without truncating extra text, .seek() issue?", "body": "<p>The extra text is being truncated because you used a <code>seek</code> value of <code>0</code>. Since\nthe current place in the file is the default <code>size</code> parameter for <code>truncate</code>,\nit truncates everything.</p>\n\n<p>More <a href=\"https://www.tutorialspoint.com/python/file_truncate.htm\" rel=\"nofollow noreferrer\">here.</a></p>\n"}], "owner": {"reputation": 187, "user_id": 8549300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec4abe231418b565d45b09d16192cf5e?s=128&d=identicon&r=PG&f=1", "display_name": "firefly", "link": "https://stackoverflow.com/users/8549300/firefly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 47189746, "answer_count": 1, "score": 1, "last_activity_date": 1510177035, "creation_date": 1510175106, "last_edit_date": 1510177035, "question_id": 47189687, "link": "https://stackoverflow.com/questions/47189687/how-to-replace-a-string-in-text-without-truncating-extra-text-seek-issue", "title": "How to replace a string in text without truncating extra text, .seek() issue?", "body": "<p>I am using the following code to find and replace characters in a text</p>\n\n<pre><code>for file in glob.glob(os.path.join(path, '*.txt')):\n    if file.endswith(\".txt\"):\n        with open(file, 'r+', encoding = 'windows-1250') as f:\n            content = f.read()\n            f.seek(0)\n            f.truncate()\n            f.write(content.replace('\u0102', '\u2019'))\n</code></pre>\n\n<p>however extra text is being truncated in the file. Is this because of using .seek()? How can I fix this? Thank you. </p>\n"}, {"tags": ["python", "file", "text", "external"], "comments": [{"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 0, "creation_date": 1510176939, "post_id": 47189680, "comment_id": 81329523, "body": "Will the <code>string</code> match the <code>line</code> exactly?"}], "answers": [{"tags": [], "owner": {"reputation": 1035, "user_id": 3169750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/59fb3e67659a5380f6a7b75a8612ad34?s=128&d=identicon&r=PG&f=1", "display_name": "Dvir Samuel", "link": "https://stackoverflow.com/users/3169750/dvir-samuel"}, "is_accepted": false, "score": 0, "last_activity_date": 1510176631, "creation_date": 1510176631, "answer_id": 47190010, "question_id": 47189680, "link": "https://stackoverflow.com/questions/47189680/find-the-line-number-a-string-is-on-in-an-external-text-file/47190010#47190010", "title": "Find the line number a string is on in an external text file", "body": "<pre><code>filepath = 'test.txt'\nsubstring = \"aaa\"\nwith open(filepath) as fp:  \n   line = fp.readline()\n   cnt = 1\n   flag = False\n   while line:\n       if substring in line:\n            print(\"string found in line {}\".format(cnt))\n            flag = True\n            break\n       line = fp.readline()\n       cnt += 1\n   if not flag:\n       print(\"string not found in file\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 109227, "user_id": 641955, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Hg2nO.jpg?s=128&g=1", "display_name": "janos", "link": "https://stackoverflow.com/users/641955/janos"}, "is_accepted": false, "score": 1, "last_activity_date": 1510176676, "creation_date": 1510176676, "answer_id": 47190023, "question_id": 47189680, "link": "https://stackoverflow.com/questions/47189680/find-the-line-number-a-string-is-on-in-an-external-text-file/47190023#47190023", "title": "Find the line number a string is on in an external text file", "body": "<p>You can implement this algorithm:</p>\n\n<ul>\n<li>Initialize a counter</li>\n<li>Read lines one by one</li>\n<li>If the line matches the target, return the current count</li>\n<li>Increment the count</li>\n<li>If reached the end without returning, the line is not in the file</li>\n</ul>\n\n<p>For example:</p>\n\n<pre><code>def find_line(path, target):\n    with open(path) as fh:\n        count = 1\n        for line in fh:\n            if line.strip() == target:\n                return count\n            count += 1\n\n    return 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": false, "score": 0, "last_activity_date": 1510176905, "creation_date": 1510176905, "answer_id": 47190082, "question_id": 47189680, "link": "https://stackoverflow.com/questions/47189680/find-the-line-number-a-string-is-on-in-an-external-text-file/47190082#47190082", "title": "Find the line number a string is on in an external text file", "body": "<p>If the <code>string</code> will match a <code>line</code> exactly, we can do this in <code>one-line</code>:</p>\n\n<pre><code>print(open('test.txt').read().split(\"\\n\").index(input(\"Enter string to search\")))\n</code></pre>\n\n<p>Well the above kind of works accept it won't <code>print</code> \"no match\" if there isn't one. For that, we can just add a little <code>try</code>:</p>\n\n<pre><code>try:\n    print(open('test.txt').read().split(\"\\n\").index(input(\"Enter string to search\")))\nexcept ValueError:\n    print(\"no match\")\n</code></pre>\n\n<hr>\n\n<p>Otherwise, if the <code>string</code> is just somewhere <em>in</em> one of the <code>lines</code>, we can do:</p>\n\n<pre><code>string = input(\"Enter string to search\")\nfor i, l in enumerate(open('test.txt').read().split(\"\\n\")):\n    if string in l:\n        print(\"Line number\", i)\n        break\nelse:\n    print(\"no match\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1308, "user_id": 4468084, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/eb44ca05e219e91ddde075ac13209541?s=128&d=identicon&r=PG", "display_name": "Spooky", "link": "https://stackoverflow.com/users/4468084/spooky"}, "is_accepted": true, "score": 0, "last_activity_date": 1510177282, "creation_date": 1510177282, "answer_id": 47190174, "question_id": 47189680, "link": "https://stackoverflow.com/questions/47189680/find-the-line-number-a-string-is-on-in-an-external-text-file/47190174#47190174", "title": "Find the line number a string is on in an external text file", "body": "<p>A text file differs from memory used in programs (such as dictionaries and arrays) in the manner that it is sequential. Much like the old tapes used for storage a long, long time ago, there's no way to grab/find a specific line without combing through all prior lines (or somehow guessing the exact memory location). Your best option is just to create a for loop that iterates through each line until it finds the one it's looking for, returning the amount of lines traversed until that point.</p>\n\n<pre><code>file = open('test.txt', 'r')\nstring = input(\"Enter string to search\")\nlineCount = 0\nfor line in file:\n    lineCount += 1\n    if string == line.rstrip(): # remove trailing newline\n        print(lineCount)\n        break\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8896390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdce6c176dd70919e707155e79094325?s=128&d=identicon&r=PG&f=1", "display_name": "BlueCanary", "link": "https://stackoverflow.com/users/8896390/bluecanary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6097, "favorite_count": 1, "accepted_answer_id": 47190174, "answer_count": 4, "score": 2, "last_activity_date": 1510177282, "creation_date": 1510175071, "question_id": 47189680, "link": "https://stackoverflow.com/questions/47189680/find-the-line-number-a-string-is-on-in-an-external-text-file", "title": "Find the line number a string is on in an external text file", "body": "<p>I am trying to create a program where it gets input from a string entered by the user and searches for that string in a text file and prints out the line number. If the string is not in the text file, it will print that out. How would I do this? Also I am not sure if even the for loop that I have so far would work for this so any suggestions / help would be great :).</p>\n\n<p>What I have so far:</p>\n\n<pre><code>file = open('test.txt', 'r')\nstring = input(\"Enter string to search\")\nfor string in file:\n    print(\"\") #print the line number\n</code></pre>\n"}, {"tags": ["python", "encoding", "keras", "categorical-data"], "comments": [{"owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1516567251, "post_id": 47189673, "comment_id": 83729845, "body": "Have you read my answer?"}], "answers": [{"tags": [], "owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "is_accepted": false, "score": 0, "last_activity_date": 1510175376, "creation_date": 1510175376, "answer_id": 47189743, "question_id": 47189673, "link": "https://stackoverflow.com/questions/47189673/convert-a-predictor-to-categorical-in-python/47189743#47189743", "title": "Convert a predictor to categorical in Python", "body": "<p>Try:</p>\n\n<pre><code>from sklearn.preprocessing import LabelEncoder\n\nencoder = LabelEncoder()\nencoder.fit(var)\nencoded_var = encoder.transform(var)\n</code></pre>\n\n<p>and if you want one-hot encoded:</p>\n\n<pre><code>dummy_var = np_utils.to_categorical(encoded_var)\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 3661376, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/38959b88a8d68571e250fa48afde9ccb?s=128&d=identicon&r=PG&f=1", "display_name": "TDo", "link": "https://stackoverflow.com/users/3661376/tdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1510175376, "creation_date": 1510175050, "question_id": 47189673, "link": "https://stackoverflow.com/questions/47189673/convert-a-predictor-to-categorical-in-python", "title": "Convert a predictor to categorical in Python", "body": "<p>Is there any function in Keras that allows me to convert a numeric/continuous predictor into categorical variable quickly? I know we do one-hot encoding but I am looking for something similar like this in R:</p>\n\n<pre><code>var = as.factor(var)\n</code></pre>\n"}, {"tags": ["python", "pyaudio", "wave"], "answers": [{"comments": [{"owner": {"reputation": 509, "user_id": 4781181, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9c701c7a1e52a8595d73169722dc66a8?s=128&d=identicon&r=PG", "display_name": "knowads", "link": "https://stackoverflow.com/users/4781181/knowads"}, "edited": false, "score": 0, "creation_date": 1510177099, "post_id": 47189899, "comment_id": 81329599, "body": "It looks like the callback runs whenever data is available? What exactly is input_data in regards to audio.open? Is it equivalent to stream.read()?"}, {"owner": {"reputation": 312, "user_id": 8791728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0662d286933feccc392e355ac42a06?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Orzel", "link": "https://stackoverflow.com/users/8791728/dylan-orzel"}, "reply_to_user": {"reputation": 509, "user_id": 4781181, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9c701c7a1e52a8595d73169722dc66a8?s=128&d=identicon&r=PG", "display_name": "knowads", "link": "https://stackoverflow.com/users/4781181/knowads"}, "edited": false, "score": 0, "creation_date": 1510177221, "post_id": 47189899, "comment_id": 81329663, "body": "It looks like it&#39;s an np.int16. One can use <code>np.fromstring(input_data, dtype=np.int16)</code> to read it"}, {"owner": {"reputation": 312, "user_id": 8791728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0662d286933feccc392e355ac42a06?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Orzel", "link": "https://stackoverflow.com/users/8791728/dylan-orzel"}, "reply_to_user": {"reputation": 509, "user_id": 4781181, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9c701c7a1e52a8595d73169722dc66a8?s=128&d=identicon&r=PG", "display_name": "knowads", "link": "https://stackoverflow.com/users/4781181/knowads"}, "edited": false, "score": 0, "creation_date": 1510177361, "post_id": 47189899, "comment_id": 81329731, "body": "More generally, I believe it&#39;s based off of the <code>FORMAT</code> passed to <code>audio.open</code>. It will be the equivalent numpy format for that data type."}, {"owner": {"reputation": 509, "user_id": 4781181, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9c701c7a1e52a8595d73169722dc66a8?s=128&d=identicon&r=PG", "display_name": "knowads", "link": "https://stackoverflow.com/users/4781181/knowads"}, "edited": false, "score": 1, "creation_date": 1510179192, "post_id": 47189899, "comment_id": 81330579, "body": "But what does it replace in my implementation? If I took your example and had it run the stream for RECORD_SECONDS is equivalent to spf.readframes()?"}], "tags": [], "owner": {"reputation": 312, "user_id": 8791728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0662d286933feccc392e355ac42a06?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Orzel", "link": "https://stackoverflow.com/users/8791728/dylan-orzel"}, "is_accepted": true, "score": 2, "last_activity_date": 1510176132, "creation_date": 1510176132, "answer_id": 47189899, "question_id": 47189624, "link": "https://stackoverflow.com/questions/47189624/maintain-a-streaming-microphone-input-in-python/47189899#47189899", "title": "Maintain a streaming microphone input in Python", "body": "<p>Yes, you can give a callback to the <code>stream</code> variable and do with that audio whatever you would like:</p>\n\n<pre><code>def callback(input_data, frame_count, time_info, flags):\n    ...\n\n    return input_data, pyaudio.paContinue\n\nstream = audio.open(format=FORMAT,\n                    channels=CHANNELS,\n                    rate=RATE,\n                    input=True,\n                    stream_callback=callback,\n                    frames_per_buffer=CHUNK)\n</code></pre>\n\n<p>More <a href=\"https://people.csail.mit.edu/hubert/pyaudio/docs/#example-callback-mode-audio-i-o\" rel=\"nofollow noreferrer\">here.</a></p>\n"}], "owner": {"reputation": 509, "user_id": 4781181, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9c701c7a1e52a8595d73169722dc66a8?s=128&d=identicon&r=PG", "display_name": "knowads", "link": "https://stackoverflow.com/users/4781181/knowads"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6228, "favorite_count": 3, "accepted_answer_id": 47189899, "answer_count": 1, "score": 2, "last_activity_date": 1545855869, "creation_date": 1510174823, "last_edit_date": 1545855869, "question_id": 47189624, "link": "https://stackoverflow.com/questions/47189624/maintain-a-streaming-microphone-input-in-python", "title": "Maintain a streaming microphone input in Python", "body": "<p>I'm streaming microphone input from my laptop computer using Python. I'm currently using PyAudio and .wav to create a 2 second batches (code below) and then read out the frame representations of the newly created .wav file in a loop. </p>\n\n<p>However I really just want the <code>np.ndarray</code> represented by \"signal\" in the code that is the Int16 representation of the .wav file. Is there a way to bypass writing to .wav entirely and make my application appear to be \"real-time\" instead of micro-batch?</p>\n\n<pre><code>import pyaudio\nimport wave\n\n#AUDIO INPUT\nFORMAT = pyaudio.paInt16\nCHANNELS = 1\nRATE = 44100\nCHUNK = 1024\nRECORD_SECONDS = 2\nWAVE_OUTPUT_FILENAME = \"output.wav\"\n\naudio = pyaudio.PyAudio()\n\n# start Recording\nstream = audio.open(format=FORMAT, channels=CHANNELS,\n                rate=RATE, input=True,\n                frames_per_buffer=CHUNK)\nwhile(1):\n  print \"recording\"\n  frames = []\n  for i in range(0, int(RATE / CHUNK * RECORD_SECONDS)):\n      data = stream.read(CHUNK)\n      frames.append(data)\n  waveFile = wave.open(WAVE_OUTPUT_FILENAME, 'wb')\n  waveFile.setnchannels(CHANNELS)\n  waveFile.setsampwidth(audio.get_sample_size(FORMAT))\n  waveFile.setframerate(RATE)\n  waveFile.writeframes(b''.join(frames))\n  waveFile.close()\n  spf = wave.open(WAVE_OUTPUT_FILENAME,'r')\n\n  #Extract Raw Audio from Wav File\n  signal = spf.readframes(-1)\n  signal = np.fromstring(signal, 'Int16')   \n  copy= signal.copy()\n</code></pre>\n\n<p># stop Recording\n   stream.stop_stream()\n   stream.close()\n   audio.terminate()</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 2442, "user_id": 7052826, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/10207820681381192/picture?type=large", "display_name": "Mitchell van Zuylen", "link": "https://stackoverflow.com/users/7052826/mitchell-van-zuylen"}, "edited": false, "score": 0, "creation_date": 1510188991, "post_id": 47191118, "comment_id": 81333762, "body": "Running the <code>echo</code> returns nothing. Running <code>env = os.getenv(&#39;DJANGO_LOG_LEVEL&#39;,&#39;INFO&#39;)</code> returns &#39;INFO&#39;. It appears it is not set."}], "tags": [], "owner": {"reputation": 101, "user_id": 2484641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80648457d74e8a0e9df0313c57b9eb09?s=128&d=identicon&r=PG", "display_name": "miketery", "link": "https://stackoverflow.com/users/2484641/miketery"}, "is_accepted": true, "score": 0, "last_activity_date": 1510181766, "creation_date": 1510181766, "answer_id": 47191118, "question_id": 47189592, "link": "https://stackoverflow.com/questions/47189592/simple-log-to-console-in-django-1-7-11/47191118#47191118", "title": "Simple log to console in Django 1.7.11", "body": "<p>This method:</p>\n\n<pre><code>os.getenv('DJANGO_LOG_LEVEL', 'INFO')\n</code></pre>\n\n<p>First tries to get the environment variable if set. If not set then it defaults to the second argument. Its possible <code>DJANGO_LOG_LEVEL</code> is set to something higher than INFO.</p>\n\n<p>To test this hypothesis run the following in your environment.</p>\n\n<pre><code>echo $DJANGO_LOG_LEVEL\n</code></pre>\n\n<p>Make sure its either 1. not set, or 2. set to INFO</p>\n\n<pre><code>export DJANGO_LOG_LEVEL=INFO\n</code></pre>\n"}], "owner": {"reputation": 2442, "user_id": 7052826, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/10207820681381192/picture?type=large", "display_name": "Mitchell van Zuylen", "link": "https://stackoverflow.com/users/7052826/mitchell-van-zuylen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 588, "favorite_count": 0, "accepted_answer_id": 47191118, "answer_count": 1, "score": 0, "last_activity_date": 1510181766, "creation_date": 1510174710, "question_id": 47189592, "link": "https://stackoverflow.com/questions/47189592/simple-log-to-console-in-django-1-7-11", "title": "Simple log to console in Django 1.7.11", "body": "<p>I've been breaking my head over creating a simple logfile within my django application. I've tried applying <a href=\"https://stackoverflow.com/questions/5739830/simple-log-to-file-example-for-django-1-3\">this question</a>, as well as the examples on the docs, but it simply doesn't seem to work and I don't know what is going wrong. </p>\n\n<p>My current logfile, second example straight from the <a href=\"https://docs.djangoproject.com/en/dev/topics/logging/#examples\" rel=\"nofollow noreferrer\">doc</a>: </p>\n\n<pre><code>LOGGING = {\n    'version': 1,\n    'disable_existing_loggers': False,\n    'handlers': {\n        'console': {\n            'class': 'logging.StreamHandler',\n        },\n    },\n    'loggers': {\n        'django': {\n            'handlers': ['console'],\n            'level': os.getenv('DJANGO_LOG_LEVEL', 'INFO'),\n        },\n    },\n}\n</code></pre>\n\n<p>The docs states the following:</p>\n\n<blockquote>\n  <p>\"this config only sends messages of level INFO or higher to the console\"</p>\n</blockquote>\n\n<p>In my understanding, if I were to place this into my <code>home.view.py</code> file...</p>\n\n<pre><code>import logging\nlog = logging.getLogger(__name__)\nlog.debug(\"Hey there it works!!\")\nlog.info(\"Hey there it works!!\")\nlog.warn(\"Hey there it works!!\")\nlog.error(\"Hey there it works!!\")\n</code></pre>\n\n<p>...i  should get the <code>info</code>, the <code>warn</code> and the <code>error</code> message printed to my console, whenever a call is made to <code>home.views.py</code>, which I thought happens when I visit the correct url. </p>\n\n<p>This appears to be false. It seems however that only <code>warn</code> and <code>error</code> is printed, and only when I run <code>manage.py collectstatic</code>.</p>\n\n<pre><code>WARNING:home.views:Hey there it works!!\nERROR:home.views:Hey there it works!!\n</code></pre>\n\n<p>I want to receive the log messages in console, whenever I visit a webpage that's rendered from <code>home.views.py</code>. How do I do this? </p>\n"}, {"tags": ["python", "pandas-datareader"], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 6627176, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dafe9730c6fdbfe8ef7cb7cccf25c211?s=128&d=identicon&r=PG&f=1", "display_name": "spacedinosaur10", "link": "https://stackoverflow.com/users/6627176/spacedinosaur10"}, "edited": false, "score": 0, "creation_date": 1510247394, "post_id": 47190571, "comment_id": 81364476, "body": "@YingSquared- I tried that and i am still getting the same error message. When I copy and paste the URL, generate the excel file, and open it, the data is all there, but python seem to be having trouble reading the URL. raise RemoteDataError(&#39;Unable to read URL: {0}&#39;.format(url))  RemoteDataError: Unable to read URL: <a href=\"http://www.google.com/finance/historical?q=F&amp;startdate=Sep+27%2C+2017&amp;enddate=Nov+07%2C+2017&amp;output=csv\" rel=\"nofollow noreferrer\">google.com/finance/&hellip;</a>"}], "tags": [], "owner": {"reputation": 717, "user_id": 8354077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zGCRB.jpg?s=128&g=1", "display_name": "SAKURA", "link": "https://stackoverflow.com/users/8354077/sakura"}, "is_accepted": false, "score": 0, "last_activity_date": 1510179071, "creation_date": 1510179071, "answer_id": 47190571, "question_id": 47189585, "link": "https://stackoverflow.com/questions/47189585/error-when-trying-to-connect-to-google-finance-python/47190571#47190571", "title": "Error when trying to connect to google finance Python", "body": "<p>If you open the csv file, you will see that there is no data for \"2017-11-04\", hence the error. </p>\n\n<p>The codes would work for another date, such as \"2017-11-03\", which is in the csv. Here is the output:</p>\n\n<pre><code>Open            12.41\nHigh            12.46\nLow             12.32\nClose           12.36\nVolume    33220261.00\nName: 2017-11-03 00:00:00, dtype: float64\n</code></pre>\n\n<p>Google Finance API does not cover every day. It frequently misses a day or two. </p>\n"}], "owner": {"reputation": 505, "user_id": 6627176, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dafe9730c6fdbfe8ef7cb7cccf25c211?s=128&d=identicon&r=PG&f=1", "display_name": "spacedinosaur10", "link": "https://stackoverflow.com/users/6627176/spacedinosaur10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510179071, "creation_date": 1510174692, "question_id": 47189585, "link": "https://stackoverflow.com/questions/47189585/error-when-trying-to-connect-to-google-finance-python", "title": "Error when trying to connect to google finance Python", "body": "<p>I am able to connect to yahoo finance using datareader but am having issues connecting to other APIs such as google finance and I cannot figure out why. </p>\n\n<p>I am using the following code:</p>\n\n<pre><code>import pandas_datareader.data as web\nimport datetime\nstart = datetime.datetime(2017, 9, 27)\nend = datetime.datetime(2017, 11, 7)\nf = web.DataReader('F', 'google', start, end)\nf.ix['2017-11-04']\n</code></pre>\n\n<p>And get the following error message:</p>\n\n<p>RemoteDataError: Unable to read URL: <a href=\"http://www.google.com/finance/historical?q=F&amp;startdate=Sep+27%2C+2017&amp;enddate=Nov+07%2C+2017&amp;output=csv\" rel=\"nofollow noreferrer\">http://www.google.com/finance/historical?q=F&amp;startdate=Sep+27%2C+2017&amp;enddate=Nov+07%2C+2017&amp;output=csv</a></p>\n\n<p>Any suggestions would be helpful as I could not find anything online about this.</p>\n"}, {"tags": ["python", "list"], "answers": [{"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1510174709, "post_id": 47189511, "comment_id": 81328439, "body": "I did not downvote, but it&#39;s plain to see that your answer does not really address OP&#39;s doubts.... sure they need a list comp, but <code>[a* 2 for a in x]</code> will not get them there. If you are willing to help, but not willing to address the question at length, a comment would be more suitable."}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1510174762, "post_id": 47189511, "comment_id": 81328466, "body": "He&#39;s asking why the one liner works. I&#39;m not attempting to fix his code or solve anything, just help him see what is going on."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1510174819, "post_id": 47189511, "comment_id": 81328499, "body": "Hmm, indeed I did misread, but your answer still does not explain why the code works. Just that it uses a list comprhension... nothing more."}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1510174912, "post_id": 47189511, "comment_id": 81328562, "body": "A complete explanation of list comprehension seems a little beyond the scope of an SO answer. That&#39;s what the docs are for. All this was meant to do was help him figure it out himself."}], "tags": [], "owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "is_accepted": false, "score": -2, "last_activity_date": 1510174475, "creation_date": 1510174475, "answer_id": 47189511, "question_id": 47189463, "link": "https://stackoverflow.com/questions/47189463/storing-phrases-from-a-string-into-a-list/47189511#47189511", "title": "Storing phrases from a string into a list", "body": "<p>It's list comprehension. Run something simple like this to see how it works. It's basically a way to loop through a list in a succinct way. </p>\n\n<pre><code>x=[1,2,3,4,5,6]\ny=[a*2 for a in x]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "is_accepted": true, "score": 0, "last_activity_date": 1510175361, "creation_date": 1510175361, "answer_id": 47189739, "question_id": 47189463, "link": "https://stackoverflow.com/questions/47189463/storing-phrases-from-a-string-into-a-list/47189739#47189739", "title": "Storing phrases from a string into a list", "body": "<p>Python supports something called <strong>List comprehension</strong>.</p>\n\n<p><strong>Summary</strong></p>\n\n<blockquote>\n  <p>It consists of brackets containing an expression followed by a for\n  clause, then zero or more for or if clauses. The expressions can be\n  anything, meaning you can put in all kinds of objects in lists.</p>\n</blockquote>\n\n<p><strong>Behind the scenes</strong></p>\n\n<p>Thus, you can read the above expression this way:</p>\n\n<pre><code>[return something for something in listofsomethings if something exists ]\n</code></pre>\n\n<p><em>Note that the above expression is only for educational purposes and is not valid in any way.</em></p>\n\n<p>Therefore in your particular case, it could be translated to this:</p>\n\n<pre><code>for phrase in line.split('  '):\n    if phrase:\n        phrase.strip()\n</code></pre>\n\n<p>So as you can see, it does exactly what you expect it to do. Both do the exact same thing but list comprehension is generally considered as more pythonic. </p>\n"}], "owner": {"reputation": 39, "user_id": 8882997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/02e15ea86a1acdde07f0ae5286bb22e2?s=128&d=identicon&r=PG&f=1", "display_name": "NewishToProgramming", "link": "https://stackoverflow.com/users/8882997/newishtoprogramming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 47189739, "answer_count": 2, "score": 1, "last_activity_date": 1510175361, "creation_date": 1510174272, "last_edit_date": 1510174450, "question_id": 47189463, "link": "https://stackoverflow.com/questions/47189463/storing-phrases-from-a-string-into-a-list", "title": "Storing phrases from a string into a list", "body": "<p>I've found this bit of code that works exactly as intended, yet im puzzled as to why.</p>\n\n<p>The idea is to extract information from each line (without spaces or extra tabulation symbols).</p>\n\n<p>The code i found is the following:</p>\n\n<pre><code>def extract_information(line: str) -&gt; list:\n\nreturn [phrase.strip() for phrase in line.split('  ') if phrase]\n</code></pre>\n\n<p>And it works! But since it's a one-liner, im having a hard time trying to decipher it, im used to fully written out loops.</p>\n\n<pre><code>Ie.\n\nprint(extract_information(\"Marni             FIGHTS FOR LIFE           Old Shack            Will rule the kingdom\"))\n</code></pre>\n\n<p>Should become:</p>\n\n<pre><code>['Marni', 'FIGHTS FOR LIFE', 'Old Shack', 'Will rule the kingdom']\n</code></pre>\n\n<p>Anyone has a clue about this ?</p>\n"}, {"tags": ["python", "apache2", "pythonpath"], "owner": {"reputation": 2922, "user_id": 4706745, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a048c08f07e754a348a46ca9c7dad4ab?s=128&d=identicon&r=PG&f=1", "display_name": "jax", "link": "https://stackoverflow.com/users/4706745/jax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1331, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510174117, "creation_date": 1510174117, "question_id": 47189418, "link": "https://stackoverflow.com/questions/47189418/consider-setting-pythonhome-to-prefixexec-prefix", "title": "Consider setting $PYTHONHOME to &lt;prefix&gt;[:&lt;exec_prefix&gt;]", "body": "<p>I am trying to host and application myproject at VPS, Ubuntu-16.04 with Apache2. I have configure apache2 but its showing an strange error related to python. in apache2 error long. This is my 000-default.conf file content. </p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n\n\n    Alias /static /home/myproject/static\n    &lt;Directory /home/myproject/static&gt;\n        Require all granted\n    &lt;/Directory&gt;\n\n    &lt;Directory /home/myproject/myproject&gt;\n        &lt;Files wsgi.py&gt;\n            Require all granted\n        &lt;/Files&gt;\n    &lt;/Directory&gt;\n\n\n\n     WSGIDaemonProcess myproject python-home=/home/myproject/myprojectenv python-path=/home/myproject/myprojectenv/lib/python2.7/site-packages\n     WSGIProcessGroup myproject\n     WSGIScriptAlias / /home/myproject/myproject/wsgi.py\n\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/html\n\n\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n&lt;/VirtualHost&gt;\n\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\n</code></pre>\n\n<p>And this is the error log of apache2 error log .. </p>\n\n<pre><code>Could not find platform independent libraries &lt;prefix&gt;\nCould not find platform dependent libraries &lt;exec_prefix&gt;\nConsider setting $PYTHONHOME to &lt;prefix&gt;[:&lt;exec_prefix&gt;]\nImportError: No module named site\nCould not find platform independent libraries &lt;prefix&gt;\nCould not find platform dependent libraries &lt;exec_prefix&gt;\nConsider setting $PYTHONHOME to &lt;prefix&gt;[:&lt;exec_prefix&gt;]\nImportError: No module named site\n</code></pre>\n\n<p>I have also created an virtualenv at \"/home/myproject/myvirtualenv\", how could i solve this problem.. </p>\n"}, {"tags": ["python", "loops", "while-loop", "passwords", "username"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1510174333, "post_id": 47189414, "comment_id": 81328223, "body": "Why not? What don&#39;t you understand?"}, {"owner": {"reputation": 238, "user_id": 2659549, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/036dc690de0cb5a745980551d5212775?s=128&d=identicon&r=PG", "display_name": "nicusor", "link": "https://stackoverflow.com/users/2659549/nicusor"}, "edited": false, "score": 0, "creation_date": 1510174363, "post_id": 47189414, "comment_id": 81328240, "body": "You should provide more context in order to receive an answer."}, {"owner": {"reputation": 4116, "user_id": 1231271, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/99e684f0e9c7c1a7cfec024f49277f6d?s=128&d=identicon&r=PG", "display_name": "Sam Fen", "link": "https://stackoverflow.com/users/1231271/sam-fen"}, "edited": false, "score": 0, "creation_date": 1510174853, "post_id": 47189414, "comment_id": 81328523, "body": "If you show your work so far, and what&#39;s not working for you, people will be able to better answer your question."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8909647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWmgn.jpg?s=128&g=1", "display_name": "Sourav Multani", "link": "https://stackoverflow.com/users/8909647/sourav-multani"}, "edited": false, "score": 0, "creation_date": 1510175862, "post_id": 47189651, "comment_id": 81329024, "body": "There is another issue, if i type the username right and password is wrong the code works, however if the username is wrong but the password is right the code stops"}], "tags": [], "owner": {"reputation": 11, "user_id": 8909718, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/42f2b52379ad2a53604ec24e6d7080f2?s=128&d=identicon&r=PG", "display_name": "Victor", "link": "https://stackoverflow.com/users/8909718/victor"}, "is_accepted": false, "score": 1, "last_activity_date": 1510174953, "creation_date": 1510174953, "answer_id": 47189651, "question_id": 47189414, "link": "https://stackoverflow.com/questions/47189414/using-while-loop-to-get-the-right-username-from-user/47189651#47189651", "title": "Using while loop to get the right username from user", "body": "<pre><code>username = Bob\npassword = 123\nuser = ''\npassw = ''\n\nwhile username != user and password != passw: \npassw = input('Input password:')\nuser = input('Input username:')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8909647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWmgn.jpg?s=128&g=1", "display_name": "Sourav Multani", "link": "https://stackoverflow.com/users/8909647/sourav-multani"}, "edited": false, "score": 0, "creation_date": 1510176145, "post_id": 47189850, "comment_id": 81329159, "body": "The code  is outputting incorrect an please proceed before the question is asked.Why?"}, {"owner": {"reputation": 11, "user_id": 8909647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWmgn.jpg?s=128&g=1", "display_name": "Sourav Multani", "link": "https://stackoverflow.com/users/8909647/sourav-multani"}, "edited": false, "score": 0, "creation_date": 1510176172, "post_id": 47189850, "comment_id": 81329170, "body": "Traceback (most recent call last):   File &quot;C:\\Users\\SOURAVPREET\\Desktop\\Python GCSE YR 11\\Testing.py&quot;, line 6, in &lt;module&gt;     while getin_1 != answer_1 or getin_2 != answer_2: NameError: name &#39;answer_2&#39; is not defined    <b><i>This is the error when i put the username and the password right</i></b>"}, {"owner": {"reputation": 11, "user_id": 8909647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWmgn.jpg?s=128&g=1", "display_name": "Sourav Multani", "link": "https://stackoverflow.com/users/8909647/sourav-multani"}, "edited": false, "score": 0, "creation_date": 1510176878, "post_id": 47189850, "comment_id": 81329497, "body": "Thanks, MATE, you saved me from failing my NEA."}, {"owner": {"reputation": 11, "user_id": 8909647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWmgn.jpg?s=128&g=1", "display_name": "Sourav Multani", "link": "https://stackoverflow.com/users/8909647/sourav-multani"}, "edited": false, "score": 0, "creation_date": 1510177009, "post_id": 47189850, "comment_id": 81329553, "body": "Now there is just one thing, you know when i run my code, the phrase &quot;incorrect &quot;and &quot;please proceed&quot; pop up before the &quot;enter your username&quot; statement is there any way to fix that?"}, {"owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "reply_to_user": {"reputation": 11, "user_id": 8909647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWmgn.jpg?s=128&g=1", "display_name": "Sourav Multani", "link": "https://stackoverflow.com/users/8909647/sourav-multani"}, "edited": false, "score": 0, "creation_date": 1510178634, "post_id": 47189850, "comment_id": 81330338, "body": "I fixed it in my answer now, so please copy / paste the code again."}], "tags": [], "owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "is_accepted": true, "score": 0, "last_activity_date": 1510178562, "last_edit_date": 1510178562, "creation_date": 1510175855, "answer_id": 47189850, "question_id": 47189414, "link": "https://stackoverflow.com/questions/47189414/using-while-loop-to-get-the-right-username-from-user/47189850#47189850", "title": "Using while loop to get the right username from user", "body": "<p>I fixed your code:</p>\n\n<pre><code>answer_1 = \"america\"\nanswer_2 = \"italy\"\ngetin_1 = input(\"Enter your Username: \")\ngetin_2 = input(\"Enter your password: \")\n\nwhile getin_1 != answer_1 or getin_2 != answer_2:\n    print(\"Incorrect\")\n    print(\"Please proceed\")\n    getin_1 = input(\"Enter your Username: \")\n    getin_2 = input(\"Enter your password: \")\n\nprint(\"Your username and password are OK.\")\n</code></pre>\n\n<p>To ask user again and again, you have to put question in a <em>loop</em> - <code>if</code> command is not sufficient.</p>\n\n<p>There is no need to use <code>break</code> or <code>continue</code> commands as all required conditions are already in the <code>while</code> loop.</p>\n"}], "owner": {"reputation": 11, "user_id": 8909647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWmgn.jpg?s=128&g=1", "display_name": "Sourav Multani", "link": "https://stackoverflow.com/users/8909647/sourav-multani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1738, "favorite_count": 0, "closed_date": 1614782463, "accepted_answer_id": 47189850, "answer_count": 2, "score": -3, "last_activity_date": 1510178562, "creation_date": 1510174114, "last_edit_date": 1510174900, "question_id": 47189414, "link": "https://stackoverflow.com/questions/47189414/using-while-loop-to-get-the-right-username-from-user", "closed_reason": "Not suitable for this site", "title": "Using while loop to get the right username from user", "body": "<p><strong>I want to create a code which will ask the user its username and password.\nThe username and password will already be a variable.\nThis code will keep asking the user the username and password over and over again\nuntil the right username and password are typed in.</strong>\n<strong><em>However I am not able to create this code, please help.\nCan anyone give me an example, please?</em></strong>\nI tried to create this code however, it doesn't work.First, if the username and the password are wrong the \"Incorrect\" just keeps repeating that's what I don't to happen and second I want that if the username or password is wrong the enter your username and enter your password keeps repeating until the user puts the credentials right.</p>\n\n<pre><code>answer_1 = (\"america\")\nasnwer_2 = (\"italy\")\ngetin=input(\"Enter your Username: \")\ngetin_2=input(\"Enter your password :\")\n    if getin!=answer_1 or getin_2!=answer_2:\n        print(\"Incorrect\")\n        continue\n    print(\"Please proceed\")\n    break\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 459, "user_id": 7047790, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IBTUF.png?s=128&g=1", "display_name": "Dat Ha", "link": "https://stackoverflow.com/users/7047790/dat-ha"}, "is_accepted": false, "score": 0, "last_activity_date": 1510174217, "creation_date": 1510174217, "answer_id": 47189443, "question_id": 47189319, "link": "https://stackoverflow.com/questions/47189319/fixing-numpy-array-after-reading-in-text-file/47189443#47189443", "title": "Fixing numpy array after reading in text file", "body": "<p>Change this line :</p>\n\n<pre><code>a.append(li.split(\",\"))\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>a.append(li.split(\",\")[1:])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 2845180, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e11f6b89215dd8293644424a1db6b13f?s=128&d=identicon&r=PG&f=1", "display_name": "user2845180", "link": "https://stackoverflow.com/users/2845180/user2845180"}, "edited": false, "score": 0, "creation_date": 1510181688, "post_id": 47189514, "comment_id": 81331631, "body": "When running this, sometimes I get the error ValueError: could not convert string to float: &#39;end&#39;. After searching, I cant find much on this. Any idea what could be causing this?"}, {"owner": {"reputation": 46, "user_id": 4761525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92f48615a4b78c57d2c688b404580056?s=128&d=identicon&r=PG&f=1", "display_name": "ma22", "link": "https://stackoverflow.com/users/4761525/ma22"}, "reply_to_user": {"reputation": 33, "user_id": 2845180, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e11f6b89215dd8293644424a1db6b13f?s=128&d=identicon&r=PG&f=1", "display_name": "user2845180", "link": "https://stackoverflow.com/users/2845180/user2845180"}, "edited": false, "score": 0, "creation_date": 1510240586, "post_id": 47189514, "comment_id": 81359439, "body": "This means the string it is trying to convert to float is not actually composed of digits. You could place this conversion in a try-except (I edited the code snippet)"}], "tags": [], "owner": {"reputation": 46, "user_id": 4761525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92f48615a4b78c57d2c688b404580056?s=128&d=identicon&r=PG&f=1", "display_name": "ma22", "link": "https://stackoverflow.com/users/4761525/ma22"}, "is_accepted": false, "score": 0, "last_activity_date": 1510240414, "last_edit_date": 1510240414, "creation_date": 1510174487, "answer_id": 47189514, "question_id": 47189319, "link": "https://stackoverflow.com/questions/47189319/fixing-numpy-array-after-reading-in-text-file/47189514#47189514", "title": "Fixing numpy array after reading in text file", "body": "<p>To end up with a list of numbers instead of strings, I recommend the following:</p>\n\n<pre><code>a = []\nfor line in open(\"Input.txt\"):\n    li=line.strip()\n    if li.startswith(\"point_load\"):\n        l = li.split(',')\n        for num in l[1:]:\n            try:\n                num = float(num.strip())\n                a.append(num)\n            except ValueError:\n                print 'num was not a number'\n</code></pre>\n\n<p>The difference here is the list slice which takes the entire line starting from the second comma-separated element (more here: <a href=\"https://stackoverflow.com/questions/509211/understanding-pythons-slice-notation\">understanding-pythons-slice-notation</a>)</p>\n\n<pre><code>l[1:]\n</code></pre>\n\n<p>Also, stripping then converting the strings to floats (since you have decimals)</p>\n\n<pre><code>num = float(num.strip())\n</code></pre>\n\n<p>Resulting array:</p>\n\n<pre><code>a = [3.0, -300.0, 6.5, 500.0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "is_accepted": false, "score": 0, "last_activity_date": 1510174899, "creation_date": 1510174899, "answer_id": 47189638, "question_id": 47189319, "link": "https://stackoverflow.com/questions/47189319/fixing-numpy-array-after-reading-in-text-file/47189638#47189638", "title": "Fixing numpy array after reading in text file", "body": "<pre><code>li.split(\",\")\n</code></pre>\n\n<p>returns a <em>list</em>, so you appended a <em>list</em>, obtaining a <em>nested list</em>.</p>\n\n<p>You wanted append <em>individual elements</em> append to the <code>a</code> list, namely 2nd and 3rd, i. e. with indices <code>1</code> and <code>2</code>. So instead</p>\n\n<pre><code>a.append(li.split(\",\"))\n</code></pre>\n\n<p>use</p>\n\n<pre><code>temp = li.split(\",\"))\nsecond = temp[1]\nthird  = temp[2]\na.append(float(second))\na.append(float(third))\n</code></pre>\n\n<p>Note the use of the <code>float()</code> function as the <code>.split()</code> method returns a list of <em>strings</em>.<br>\n(Maybe in the last <code>.append()</code> would be more appropriate for you the use of <code>int()</code> function instead.)</p>\n"}], "owner": {"reputation": 33, "user_id": 2845180, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e11f6b89215dd8293644424a1db6b13f?s=128&d=identicon&r=PG&f=1", "display_name": "user2845180", "link": "https://stackoverflow.com/users/2845180/user2845180"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1510240414, "creation_date": 1510173812, "question_id": 47189319, "link": "https://stackoverflow.com/questions/47189319/fixing-numpy-array-after-reading-in-text-file", "title": "Fixing numpy array after reading in text file", "body": "<p>I'm trying to read in a text file and format it correctly in a numpy array.</p>\n\n<p>The Input.txt file contains:</p>\n\n<pre><code> point_load, 3, -300\n\n point_load, 6.5, 500\n\n point_moment, 6.5, 3000  \n</code></pre>\n\n<p>I want to produce this array:</p>\n\n<pre><code> point_load = [3, -300, 65, 500]\n</code></pre>\n\n<p>My code is:</p>\n\n<pre><code> a = []\n for line in open(\"Input.txt\"):\n     li=line.strip()\n     if li.startswith(\"point_load\")\n          a.append(li.split(\",\"))\n\n #np.flatten(a)\n</code></pre>\n\n<p>My code prints: </p>\n\n<pre><code> [['point_load', '     3', '          -300'], ['point_load', '     6.5', '         500']]\n</code></pre>\n\n<p>Any help would be appreciated. Thank you. </p>\n"}, {"tags": ["python", "matplotlib", "colormap"], "comments": [{"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 0, "creation_date": 1510218799, "post_id": 47189276, "comment_id": 81344359, "body": "What do you mean &quot;without any colormap&quot;? If you don&#39;t set the colormap using <code>set_cmap(&#39;jet&#39;)</code> the default colormap will be applied to the images. Are you just trying get back to the matplotlib default?"}, {"owner": {"reputation": 71, "user_id": 4703855, "user_type": "registered", "profile_image": "https://graph.facebook.com/1008554852489453/picture?type=large", "display_name": "tuska10", "link": "https://stackoverflow.com/users/4703855/tuska10"}, "reply_to_user": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 0, "creation_date": 1510219965, "post_id": 47189276, "comment_id": 81345069, "body": "@DavidG yes, my question was how get the default colormap back in case you have already set some other with <code>set_cmap()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4703855, "user_type": "registered", "profile_image": "https://graph.facebook.com/1008554852489453/picture?type=large", "display_name": "tuska10", "link": "https://stackoverflow.com/users/4703855/tuska10"}, "edited": false, "score": 0, "creation_date": 1510220076, "post_id": 47198052, "comment_id": 81345146, "body": "That <code>viridis</code> was the one I was looking for! Thanks!! I was aware of the <code>cmap</code> argument in <code>imshow()</code> but didn&#39;t know this default colormap that could be set by <code>set_cmap()</code>"}, {"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "reply_to_user": {"reputation": 71, "user_id": 4703855, "user_type": "registered", "profile_image": "https://graph.facebook.com/1008554852489453/picture?type=large", "display_name": "tuska10", "link": "https://stackoverflow.com/users/4703855/tuska10"}, "edited": false, "score": 0, "creation_date": 1510220720, "post_id": 47198052, "comment_id": 81345556, "body": "No problem. <a href=\"https://matplotlib.org/users/dflt_style_changes.html#colormap\" rel=\"nofollow noreferrer\">This</a> shows the changes that were made to matplotlib 2 colormap default style"}], "tags": [], "owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "is_accepted": true, "score": 0, "last_activity_date": 1510219317, "creation_date": 1510219317, "answer_id": 47198052, "question_id": 47189276, "link": "https://stackoverflow.com/questions/47189276/matplotlib-how-to-unset-default-colormap/47198052#47198052", "title": "Matplotlib: How to unset default colormap?", "body": "<p>You can set the colormap using <code>set_cmap</code> as you are aware. This changes the colormap for all subsequent figures plotted. If you want to undo the changes you have made, simply go back to the matplotlib default colormap, which in matplotlib 2 is <code>viridis</code>.</p>\n\n<p>However, there is also a <code>cmap</code> argument for <code>imshow()</code> which lets you change the colormap applied for an individual plot. This means you don't keep having to change the global colormap, however you <em>would</em> have to write this in every call to <code>imshow()</code></p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\ndata = np.random.randn(25).reshape(5,5)\n\nfig, (ax1, ax2) = plt.subplots(1,2)\n\nax1.imshow(data)\nax1.set_title(\"Matplotlib default cmap\")\n\nax2.imshow(data, cmap='jet')\nax2.set_title(\"jet cmap\")\n\nplt.show()\n</code></pre>\n\n<p>Which gives:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bb9Eb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bb9Eb.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 0, "last_activity_date": 1510223887, "creation_date": 1510223887, "answer_id": 47199650, "question_id": 47189276, "link": "https://stackoverflow.com/questions/47189276/matplotlib-how-to-unset-default-colormap/47199650#47199650", "title": "Matplotlib: How to unset default colormap?", "body": "<p>The command <code>plt.set_cmap(\"jet\")</code> sets the colormap in the rcParams to be the <code>\"jet\"</code> colormap. </p>\n\n<p>In order to get back the default colormap, you can set the cmap to the default colormap from the <code>rcParamsDefault</code> dictionary.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nprint(plt.rcParams[\"image.cmap\"]) # prints viridis\n\nplt.set_cmap(\"jet\")\nprint(plt.rcParams[\"image.cmap\"]) # prints jet\n\nplt.set_cmap(plt.rcParamsDefault[\"image.cmap\"])\nprint(plt.rcParams[\"image.cmap\"]) # prints viridis\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 4703855, "user_type": "registered", "profile_image": "https://graph.facebook.com/1008554852489453/picture?type=large", "display_name": "tuska10", "link": "https://stackoverflow.com/users/4703855/tuska10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1603, "favorite_count": 0, "accepted_answer_id": 47198052, "answer_count": 2, "score": 0, "last_activity_date": 1510223887, "creation_date": 1510173672, "question_id": 47189276, "link": "https://stackoverflow.com/questions/47189276/matplotlib-how-to-unset-default-colormap", "title": "Matplotlib: How to unset default colormap?", "body": "<p>I am showing images with matplotlib and applying some colormaps to the images. I've figured you can set a default colormap by something like</p>\n\n<pre><code>plt.set_cmap('jet')\n</code></pre>\n\n<p>and then that colormap will be applied every time when using <code>plt.imshow()</code></p>\n\n<p>But how about undoing that? If I want to show the original images again without any colormap? I haven't found in the docs anything about that, neither by quick googling so any help would be appreciated.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "sockets", "server"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1510174437, "post_id": 47189273, "comment_id": 81328270, "body": "what&#39;s <code>LOCAL_IP</code>?"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1510174586, "post_id": 47189273, "comment_id": 81328353, "body": "Your code is broken: <code>recv</code> reads up to the given number of bytes, not exactly this number."}, {"owner": {"reputation": 1, "user_id": 8909591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee95b229dfdf2936682c94555bba9832?s=128&d=identicon&r=PG&f=1", "display_name": "\u05e1\u05d9\u05db\u05d5 \u05de\u05e0\u05d9\u05d0\u05e7", "link": "https://stackoverflow.com/users/8909591/%d7%a1%d7%99%d7%9b%d7%95-%d7%9e%d7%a0%d7%99%d7%90%d7%a7"}, "reply_to_user": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1510174901, "post_id": 47189273, "comment_id": 81328555, "body": "@Daniel, the recv uses the protocol i have made up, that why it is a hard coded number. it does work with a local connection"}, {"owner": {"reputation": 449289, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1510175864, "post_id": 47189273, "comment_id": 81329027, "body": "10060 is a timeout error, not a connection error. The client code is expecting the server to send a message as soon as the client connects. Where is the server code that actually sends that message? Why are you queuing the message before adding <code>new_socket</code> to <code>outputs</code>? Is it possible that the server tries to send the queued message prematurely, or worse ignore it?"}, {"owner": {"reputation": 1, "user_id": 8909591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee95b229dfdf2936682c94555bba9832?s=128&d=identicon&r=PG&f=1", "display_name": "\u05e1\u05d9\u05db\u05d5 \u05de\u05e0\u05d9\u05d0\u05e7", "link": "https://stackoverflow.com/users/8909591/%d7%a1%d7%99%d7%9b%d7%95-%d7%9e%d7%a0%d7%99%d7%90%d7%a7"}, "reply_to_user": {"reputation": 449289, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1510402798, "post_id": 47189273, "comment_id": 81425642, "body": "@RemyLebeau this is highly unlikely since the server run correctly on local connections"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8909591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee95b229dfdf2936682c94555bba9832?s=128&d=identicon&r=PG&f=1", "display_name": "\u05e1\u05d9\u05db\u05d5 \u05de\u05e0\u05d9\u05d0\u05e7", "link": "https://stackoverflow.com/users/8909591/%d7%a1%d7%99%d7%9b%d7%95-%d7%9e%d7%a0%d7%99%d7%90%d7%a7"}, "edited": false, "score": 0, "creation_date": 1510175555, "post_id": 47189510, "comment_id": 81328891, "body": "That is very strange, I have done exactly what you said (i am going from an internet client to a server behind LAN). But that still not working. Thanks anyways."}, {"owner": {"reputation": 449289, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 1, "user_id": 8909591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee95b229dfdf2936682c94555bba9832?s=128&d=identicon&r=PG&f=1", "display_name": "\u05e1\u05d9\u05db\u05d5 \u05de\u05e0\u05d9\u05d0\u05e7", "link": "https://stackoverflow.com/users/8909591/%d7%a1%d7%99%d7%9b%d7%95-%d7%9e%d7%a0%d7%99%d7%90%d7%a7"}, "edited": false, "score": 0, "creation_date": 1510175682, "post_id": 47189510, "comment_id": 81328937, "body": "Define &quot;not working&quot; exactly. There are many things that can go wrong. Is the client connecting at all, yes or no? If Yes, is the client receiving any data at all, yes or no? Where EXACTLY is the error being reported? At which step in your code? Please be more specific about WHAT exactly is not working."}, {"owner": {"reputation": 449289, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 1, "user_id": 8909591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee95b229dfdf2936682c94555bba9832?s=128&d=identicon&r=PG&f=1", "display_name": "\u05e1\u05d9\u05db\u05d5 \u05de\u05e0\u05d9\u05d0\u05e7", "link": "https://stackoverflow.com/users/8909591/%d7%a1%d7%99%d7%9b%d7%95-%d7%9e%d7%a0%d7%99%d7%90%d7%a7"}, "edited": false, "score": 0, "creation_date": 1510176040, "post_id": 47189510, "comment_id": 81329106, "body": "I suggest you use a packet sniffer, like Wireshark, to make sure the client connections are reaching the server machine. If you don&#39;t see them in the sniffer, then the router is not configured correctly. If you do see them in the sniffer, but your server code is not seeing them, then your server code is faulty."}], "tags": [], "owner": {"reputation": 449289, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1510175945, "last_edit_date": 1510175945, "creation_date": 1510174475, "answer_id": 47189510, "question_id": 47189273, "link": "https://stackoverflow.com/questions/47189273/errno-10060-when-trying-to-connect-from-a-local-client-to-the-my-server-using-my/47189510#47189510", "title": "Errno 10060 when trying to connect from a local client to the my server using my external ip adress", "body": "<p><code>127.0.0.1</code> is a loopback IP, it does not exist outside of the local machine.  If you bind your server socket to <code>127.0.0.1</code>, then only clients on the same machine can connect to <code>127.0.0.1</code>.</p>\n\n<p>If the server machine is connected to a LAN, and you want clients on the same LAN to connect to your server socket, it must be bound to the server machine's local LAN IP, or to <code>0.0.0.0</code> to bind to all available local IPs.</p>\n\n<p>If you want clients from the Internet to connect to your server socket, they must connect to your Internet connection's public IP.</p>\n\n<p>If your server machine is <em>directly</em> connected to the Internet modem, then the server machine's LAN IP is the modem's Internet IP.  That is the IP you need to bind your server socket to.  But, if your server machine is behind a LAN router, then you must configure the router to port-forward inbound connections from the router's public IP to the server machine's LAN IP, and then bind your server socket to that LAN IP.</p>\n\n<p>And, of course, if your server machine has a firewall, make sure the desired port is open on it.</p>\n\n<p>That being said, 10060 is a timeout error, not a connection error. The client code you have shown is expecting the server to send a message as soon as the client connects.  But is the server actually sending that message?  You showed code that queues the message, but you did not show the code that actually sends it.</p>\n"}], "owner": {"reputation": 1, "user_id": 8909591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee95b229dfdf2936682c94555bba9832?s=128&d=identicon&r=PG&f=1", "display_name": "\u05e1\u05d9\u05db\u05d5 \u05de\u05e0\u05d9\u05d0\u05e7", "link": "https://stackoverflow.com/users/8909591/%d7%a1%d7%99%d7%9b%d7%95-%d7%9e%d7%a0%d7%99%d7%90%d7%a7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 781, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510175945, "creation_date": 1510173667, "last_edit_date": 1510174395, "question_id": 47189273, "link": "https://stackoverflow.com/questions/47189273/errno-10060-when-trying-to-connect-from-a-local-client-to-the-my-server-using-my", "title": "Errno 10060 when trying to connect from a local client to the my server using my external ip adress", "body": "<p>I am tring to create a multi connection server in python using sockets. Not by any real protocol but by own defined protocol.</p>\n\n<p>I have got my server running correctly with my local ip (127.0.0.1) and now i want my friends to connect but we keep getting this error :[Errno 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.</p>\n\n<p>I have opened ports correctly and set my server ip to the ip given by ipconfig. Am i missing somthing or doing doing anything wrong?</p>\n\n<p>this is the relevant server code:</p>\n\n<pre><code>def initialize():\n\n    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)  # Setup a server socket\n\n    server_port = raw_input(\"Enter the port to run the server on\\n\")  # Ask the admin for port\n    while server_port.isdigit() is not True:\n        server_port = raw_input(\"Enter the port to run the server on\\n\")\n\n    server_socket.bind((LOCAL_IP, int(server_port)))  # Bind the server socket to this computer\n\n    inputs.append(server_socket)\n\n    terminated = False\n    while not terminated:\n\n        readable_sockets, writable_sockets, error_sockets = select.select(inputs, outputs, [])  # check which of the\n        handle_inputs(readable_sockets, server_socket)\n        handle_messages(writable_sockets) # this works on my local ip server\n        # sockets we expect to use are actually free\n\n\ndef handle_inputs(readable_sockets, server_socket):\n    \"\"\"\n    This functions purpose is to read all inputs given by users, and create new requests accordingly\n\n    :param readable_sockets: a list of sockets which are waiting to be read\n    :param server_socket: the socket of the server\n    \"\"\"\n\n    for cur_socket in readable_sockets:\n\n        if cur_socket is server_socket:\n            new_socket, new_ip = server_socket.accept(1)\n\n            answers_queue.append(Answer(new_socket, Answer.HND_TYPE, 9, \"handshake\"))\n            if new_socket not in outputs:\n                outputs.append(new_socket)\n</code></pre>\n\n<p>this is the relvent client code:</p>\n\n<pre><code>def main():\n    my_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    my_socket.connect((EXTERNAL_IP, PORT))\n    data = my_socket.recv(1)\n    if data == 'H':\n        print my_socket.recv(int(my_socket.recv(2)))\n    else:\n        print \"ERRRRRRRRRRRRRRRRR\"\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 459, "user_id": 7047790, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IBTUF.png?s=128&g=1", "display_name": "Dat Ha", "link": "https://stackoverflow.com/users/7047790/dat-ha"}, "is_accepted": false, "score": 0, "last_activity_date": 1510174556, "last_edit_date": 1510174556, "creation_date": 1510173748, "answer_id": 47189301, "question_id": 47189215, "link": "https://stackoverflow.com/questions/47189215/need-to-subtract-only-the-non-zero-values-in-pandas-python/47189301#47189301", "title": "Need to subtract only the non-zero values in pandas - python", "body": "<p>This should do the work!</p>\n\n<pre><code>difference = [0 if i == 0 else i-10 for i in df]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 651, "user_id": 8202745, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh6.googleusercontent.com/-urDEsdWgPaM/AAAAAAAAAAI/AAAAAAAAACc/-uRInQ8AkjA/photo.jpg?sz=128", "display_name": "Arvinth Kumar", "link": "https://stackoverflow.com/users/8202745/arvinth-kumar"}, "edited": false, "score": 0, "creation_date": 1510179984, "post_id": 47189439, "comment_id": 81330921, "body": "@ArvinthKumar Yw~ ;-)"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1510174195, "creation_date": 1510174195, "answer_id": 47189439, "question_id": 47189215, "link": "https://stackoverflow.com/questions/47189215/need-to-subtract-only-the-non-zero-values-in-pandas-python/47189439#47189439", "title": "Need to subtract only the non-zero values in pandas - python", "body": "<p><code>reaplce</code> then <code>fillna</code></p>\n\n<pre><code>df.replace({0:np.nan}).add(-10).fillna(0)\nOut[1638]: \n     value\n1   0.0000\n2   0.0000\n3   0.0000\n4   0.0000\n5  41.1340\n6  42.4833\n7  43.7698\n8  -5.0000\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1510174677, "post_id": 47189464, "comment_id": 81328412, "body": "Or maybe np.where do the same:-)"}], "tags": [], "owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "is_accepted": false, "score": 3, "last_activity_date": 1510174273, "creation_date": 1510174273, "answer_id": 47189464, "question_id": 47189215, "link": "https://stackoverflow.com/questions/47189215/need-to-subtract-only-the-non-zero-values-in-pandas-python/47189464#47189464", "title": "Need to subtract only the non-zero values in pandas - python", "body": "<p>I'd just use <code>where</code>:</p>\n\n<pre><code>In [12]: df.value.where(df.value == 0, df.value - 10)\nOut[12]: \n1     0.0000\n2     0.0000\n3     0.0000\n4     0.0000\n5    41.1340\n6    42.4833\n7    43.7698\n8    -5.0000\nName: value, dtype: float64\n</code></pre>\n\n<p>This is read as \"use the existing <code>df.value</code> <em>where</em> <code>df.value == 0</code>, otherwise use <code>df.value - 10</code>\".</p>\n"}], "owner": {"reputation": 651, "user_id": 8202745, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh6.googleusercontent.com/-urDEsdWgPaM/AAAAAAAAAAI/AAAAAAAAACc/-uRInQ8AkjA/photo.jpg?sz=128", "display_name": "Arvinth Kumar", "link": "https://stackoverflow.com/users/8202745/arvinth-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 0, "accepted_answer_id": 47189439, "answer_count": 3, "score": 0, "last_activity_date": 1510174556, "creation_date": 1510173508, "last_edit_date": 1510173966, "question_id": 47189215, "link": "https://stackoverflow.com/questions/47189215/need-to-subtract-only-the-non-zero-values-in-pandas-python", "title": "Need to subtract only the non-zero values in pandas - python", "body": "<p>I am having dataframe <code>df</code>. I need to subtract only non-zero values in dataframe and if its 0 then keep its as 0.</p>\n\n<pre><code>  difference = df[value] - 10\n</code></pre>\n\n<p>Help me in doing conditional subtracting efficiently as possible, subtract only if value greater than zero in dataframe. </p>\n\n<p>Dataframe <code>df</code></p>\n\n<pre><code>    value\n1   0\n2   0\n3   0 \n4   0\n5   51.134\n6   52.4833\n7   53.7698\n8   5\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>   0\n   0\n   0 \n   0\n   41.134\n   42.4833\n   43.7698\n   -5\n</code></pre>\n"}, {"tags": ["python", "pandas", "pandas-groupby"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 1813339, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cc3e344f3d154a52dcc1c9c776a22bea?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1813339/robert"}, "is_accepted": true, "score": 0, "last_activity_date": 1510258548, "creation_date": 1510258548, "answer_id": 47210776, "question_id": 47189212, "link": "https://stackoverflow.com/questions/47189212/pandas-count-unique-if-condition-true/47210776#47210776", "title": "pandas count unique if condition true", "body": "<p>If anyone is running into a similar problem, here's what I came up with to generate the three outputs described. It might not be the most elegant solution, but it works!</p>\n\n<pre><code>import pandas as pd\nimport argparse\nimport os\nimport sys\n\n#arguments\nparser = argparse.ArgumentParser(description=\"Generate counts by sample and total bases by sample of low coverage regions\") \n\nparser.add_argument(\"-i\", \"--input\", help=\"input filename\", required=True)\nparser.add_argument(\"-o\", \"--output\", help=\"output basename\", required=True) \n\nargs = parser.parse_args() \n\n#output filenames\nregion_count_file = args.output + \"_region_count.txt\"\nbases_count_file = args.output + \"_bases_count.txt\"\nsample_count_file = args.output + \"_sample_count.txt\"\n\n#read in\ndf = pd.read_table(args.input)\n\n#check output doesn't exist\nif os.path.exists(region_count_file) or os.path.exists(bases_count_file) or os.path.exists(sample_count_file):\n    sys.exit(\"ERROR: output basename %s files already exist\" % args.output)\n\n#for filtering on different regions\nintron = df['Region'].str.contains('intron')\nutr = df['Region'].str.contains('utr')\ncds = df['Region'].str.contains('cds')\n\n#count regions per sample\nunique_regions = df.groupby('Sample').Region.nunique()\nunique_intron = df[intron].groupby('Sample').Region.nunique()\nunique_utr = df[utr].groupby('Sample').Region.nunique()\nunique_cds = df[cds].groupby('Sample').Region.nunique()\n\n#sum bases per sample\nbases_total = df.groupby(['Sample'])['Overlap'].sum()\nbases_intron = df[intron].groupby(['Sample'])['Overlap'].sum()\nbases_utr = df[utr].groupby(['Sample'])['Overlap'].sum()\nbases_cds = df[cds].groupby(['Sample'])['Overlap'].sum()\n\n#count samples per region\nsamples_per_region = df.groupby('Region').Sample.nunique()\n\n#format regions per sample for output\ncombine_region_count = pd.concat([unique_regions,unique_intron,unique_utr,unique_cds], axis=1)\ncombine_region_count.columns = 'Total','Intron','UTR','CDS'\n\n#format bases per sample for output\ncombine_bases = pd.concat([bases_total,bases_intron,bases_utr,bases_cds], axis=1)\ncombine_bases.columns = 'Total','Intron','UTR','CDS'\n\n#format samples per region for output\n#samples_per_region.reset_index(name='Num Samples')\n#not sure why this is not working, but not that important\n\n\n#output each\ncombine_region_count.to_csv(region_count_file,sep='\\t')\ncombine_bases.to_csv(bases_count_file,sep='\\t')\nsamples_per_region.to_csv(sample_count_file,sep='\\t')\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 1813339, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cc3e344f3d154a52dcc1c9c776a22bea?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1813339/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 47210776, "answer_count": 1, "score": 0, "last_activity_date": 1510258548, "creation_date": 1510173502, "last_edit_date": 1510244481, "question_id": 47189212, "link": "https://stackoverflow.com/questions/47189212/pandas-count-unique-if-condition-true", "title": "pandas count unique if condition true", "body": "<p>I'm trying to write a python script to generate counts from the following dataframe. I was using countifs in excel, but duplicates in 'Sample' and 'Region' are causing issues with using countifs.</p>\n\n<p>Example input df:</p>\n\n<pre><code>Sample  Chr Start   End Region  Size    Strand  Chr2    Start2  End2    Coverage    Overlap\n101 chr1    198661465   198661475   NM_002838_PTPRC_intron_2_R  10  +   chr1    198608563   198661471   0   6\n101 chr1    198661465   198661475   NM_001267798_PTPRC_intron_2_R   10  +   chr1    198608563   198661471   0   6\n101 chr1    198661465   198661475   NM_080921_PTPRC_intron_2_R  10  +   chr1    198608563   198661471   0   6\n101 chr1    236966727   236966942   NM_000254_MTR_cds_2 215 +   chr1    236966742   236966743   11  1\n101 chr1    236966727   236966942   NM_001291939_MTR_cds_2  215 +   chr1    236966742   236966743   11  1\n101 chr1    236966742   236966942   NM_001291940_MTR_5utr_2 200 +   chr1    236966742   236966743   11  1\n101 chr1    236979843   236979853   NM_000254_MTR_intron_8_L    10  +   chr1    236979846   236979847   9   1\n101 chr1    236979843   236979853   NM_000254_MTR_intron_8_L    10  +   chr1    236979847   236979848   8   1\n101 chr1    236979843   236979853   NM_000254_MTR_intron_8_L    10  +   chr1    236979848   236979852   7   4\n101 chr1    236979843   236979853   NM_000254_MTR_intron_8_L    10  +   chr1    236979852   236979854   6   1\n101 chr1    236979843   236979853   NM_001291940_MTR_intron_8_L 10  +   chr1    236979846   236979847   9   1\n101 chr1    236979843   236979853   NM_001291940_MTR_intron_8_L 10  +   chr1    236979847   236979848   8   1\n101 chr1    236979843   236979853   NM_001291940_MTR_intron_8_L 10  +   chr1    236979848   236979852   7   4\n</code></pre>\n\n<p>So, a single sample can have the same 'Region' listed more than once (different coordinates, but that doesn't matter for counting).</p>\n\n<p><strong>desired output 1</strong> - counts by 'Sample' if 'Region' contains \"utr\" or \"intron\" or \"cds\", accounting for duplicate 'Region' per 'Sample':</p>\n\n<pre><code>Sample  Total   Intron  UTR CDS\n101 68  40  13  15\n102 64  38  13  13\n</code></pre>\n\n<p><strong>desired output 2</strong> - sum of 'Overlap' by 'Sample' if 'Region' contains \"utr\" or \"intron\" or \"cds\":</p>\n\n<pre><code>Sample  Total   Intron  UTR CDS\n101 2838    321 1433    1084\n102 2524    291 1449    784\n</code></pre>\n\n<p><strong>desired output 3</strong> - List of 'Region' with counts for number of samples with that 'Region' listed</p>\n\n<pre><code>Region  Num Samples\nENST00000390559_IGHM_cds_4  2\nENST00000390559_IGMH_cds_1  2\nENST00000390559_IGMH_cds_2  2\nENST00000390559_IGMH_cds_3  12\nENST00000390559_IGMH_intron_1_L 2\nENST00000390559_IGMH_intron_1_R 2\nENST00000390559_IGMH_intron_2_L 10\n</code></pre>\n\n<p>EDIT:\nI've figured out how to get output#3:</p>\n\n<pre><code>df.groupby('Region').Sample.nunique()\n</code></pre>\n\n<p>and I can get Total for output#1 with:</p>\n\n<pre><code>df.groupby('Sample').Region.nunique()\n</code></pre>\n\n<p>now I just need to figure out how to filter my groups for containing 'utr/cds/intron' and summing the 'Overlap' of filtered groups.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1510173546, "post_id": 47189194, "comment_id": 81327771, "body": "Your <code>break</code> will jump you out of the <code>for</code> loop only. Not the <code>while</code> loop."}, {"owner": {"reputation": 3891, "user_id": 2326911, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/173ece6e1a474bf45d2dee00f651b543?s=128&d=identicon&r=PG&f=1", "display_name": "\u1d00\u0280\u1d0d\u1d00\u0274", "link": "https://stackoverflow.com/users/2326911/%e1%b4%80%ca%80%e1%b4%8d%e1%b4%80%c9%b4"}, "edited": false, "score": 0, "creation_date": 1510173569, "post_id": 47189194, "comment_id": 81327789, "body": "You <code>break</code> from <code>for</code> loop but you remain in <code>while true</code> loop."}, {"owner": {"reputation": 109227, "user_id": 641955, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Hg2nO.jpg?s=128&g=1", "display_name": "janos", "link": "https://stackoverflow.com/users/641955/janos"}, "edited": false, "score": 1, "creation_date": 1510173670, "post_id": 47189194, "comment_id": 81327844, "body": "Why do you need the <code>while True:</code> loop at all?"}, {"owner": {"reputation": 37, "user_id": 5802625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/788ba282a8114f22946086c09887f778?s=128&d=identicon&r=PG&f=1", "display_name": "TheCompStudentAJ", "link": "https://stackoverflow.com/users/5802625/thecompstudentaj"}, "edited": false, "score": 0, "creation_date": 1510173897, "post_id": 47189194, "comment_id": 81327968, "body": "So if the user enters the wrong username/password it will restart"}, {"owner": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "edited": false, "score": 0, "creation_date": 1510174743, "post_id": 47189194, "comment_id": 81328459, "body": "But the user name and password prompt is outside of the <code>while</code> loop. Even if you did have a way to restart it, those two lines before the <code>while True</code> wouldn&#39;t run again. (And it&#39;s <code>continue</code> that runs a loop again; <code>break</code> stops the loop entirely.)"}, {"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "reply_to_user": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "edited": false, "score": 0, "creation_date": 1510175442, "post_id": 47189194, "comment_id": 81328842, "body": "@ArthurTacca The OP had quite a bit wrong with the code, I wrote something that works as they want..."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5802625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/788ba282a8114f22946086c09887f778?s=128&d=identicon&r=PG&f=1", "display_name": "TheCompStudentAJ", "link": "https://stackoverflow.com/users/5802625/thecompstudentaj"}, "edited": false, "score": 0, "creation_date": 1510174231, "post_id": 47189326, "comment_id": 81328165, "body": "this infinitely loops access denied"}, {"owner": {"reputation": 855, "user_id": 6511194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YW3XjPQkxbI/AAAAAAAAAAI/AAAAAAAAGz0/bgQjr-2oFHg/photo.jpg?sz=128", "display_name": "Evan Nowak", "link": "https://stackoverflow.com/users/6511194/evan-nowak"}, "reply_to_user": {"reputation": 37, "user_id": 5802625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/788ba282a8114f22946086c09887f778?s=128&d=identicon&r=PG&f=1", "display_name": "TheCompStudentAJ", "link": "https://stackoverflow.com/users/5802625/thecompstudentaj"}, "edited": false, "score": 0, "creation_date": 1510175128, "post_id": 47189326, "comment_id": 81328681, "body": "As other people have mentioned, you don&#39;t need the while loop, it will loop infinitely regardless of the outcome of the for loop. I was merely giving a method of exiting the while. You could also add the flag to the access denied portion if you need the while."}], "tags": [], "owner": {"reputation": 855, "user_id": 6511194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YW3XjPQkxbI/AAAAAAAAAAI/AAAAAAAAGz0/bgQjr-2oFHg/photo.jpg?sz=128", "display_name": "Evan Nowak", "link": "https://stackoverflow.com/users/6511194/evan-nowak"}, "is_accepted": false, "score": 1, "last_activity_date": 1510181441, "last_edit_date": 1510181441, "creation_date": 1510173824, "answer_id": 47189326, "question_id": 47189194, "link": "https://stackoverflow.com/questions/47189194/break-function-does-not-work-when-the-correct-password-and-username-are-entered/47189326#47189326", "title": "break function does not work when the correct password and username are entered from the file", "body": "<p>You can set a flag to get out of the while:</p>\n\n<pre><code>with open('username1.txt') as infile:\n    data1 = infile.read().split('\\n')\n\nwith open('password1.txt') as infile:\n    data2 = infile.read().split('\\n')\n\nflag = True\nwhile flag:\n    content2 = input('Username:')\n    content = input('Password:')\n\n    for i in range(len(data1)):\n        if data1[i] == content2 and data2[i] == content:\n            print('You have access to something special.')\n            flag = False\n            break\n        else:\n            print('Access denied.')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 5802625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/788ba282a8114f22946086c09887f778?s=128&d=identicon&r=PG&f=1", "display_name": "TheCompStudentAJ", "link": "https://stackoverflow.com/users/5802625/thecompstudentaj"}, "edited": false, "score": 0, "creation_date": 1510174885, "post_id": 47189350, "comment_id": 81328547, "body": "infinitely prints access denied"}, {"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "reply_to_user": {"reputation": 37, "user_id": 5802625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/788ba282a8114f22946086c09887f778?s=128&d=identicon&r=PG&f=1", "display_name": "TheCompStudentAJ", "link": "https://stackoverflow.com/users/5802625/thecompstudentaj"}, "edited": false, "score": 0, "creation_date": 1510175280, "post_id": 47189350, "comment_id": 81328755, "body": "@TheCompStudentAJ Sorry I missed a couple of things because I hadn&#39;t properly tested it. I have now made the files and checked with some different cases and it seems to be working well! <b>:)</b> please up-vote and accept if it works for you too! Sorry for the mistakes before"}], "tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": true, "score": 2, "last_activity_date": 1510174915, "last_edit_date": 1510174915, "creation_date": 1510173904, "answer_id": 47189350, "question_id": 47189194, "link": "https://stackoverflow.com/questions/47189194/break-function-does-not-work-when-the-correct-password-and-username-are-entered/47189350#47189350", "title": "break function does not work when the correct password and username are entered from the file", "body": "<p>From your most recent edit, I see what you really want...</p>\n\n<p>Note that I have removed the second <code>break</code> here, as when <code>looping</code> through the <code>usernames</code>, if the entered <code>username</code> doesn't match, we don't want to <code>deny</code> straight away, we want to keep checking...</p>\n\n<pre><code>file = open('username1.txt','r')\nusernames = file.read().split(\"\\n\")\nfile.close()\n\nfile = open('password1.txt','r')\npasswords = file.read().split(\"\\n\")\nfile.close()\n\npassed = False\n\nwhile not passed:\n    username = input('Username:')\n    password = input('Password:')\n    for i in range(len(usernames)):\n        if usernames[i] == username and passwords[i] == password:\n            print('You have access to something special.')\n            passed = True\n            break\n    else:\n        print('Access denied. Try again')\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5802625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/788ba282a8114f22946086c09887f778?s=128&d=identicon&r=PG&f=1", "display_name": "TheCompStudentAJ", "link": "https://stackoverflow.com/users/5802625/thecompstudentaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 47189350, "answer_count": 2, "score": 1, "last_activity_date": 1510181441, "creation_date": 1510173434, "last_edit_date": 1510174345, "question_id": 47189194, "link": "https://stackoverflow.com/questions/47189194/break-function-does-not-work-when-the-correct-password-and-username-are-entered", "title": "break function does not work when the correct password and username are entered from the file", "body": "<p>Break function does not work when I enter the correct username and password from the file. The words 'access to something special' print infinitely. How do I fix this? I want the program to start again if the user enters the password/username wrong. </p>\n\n<pre><code>content2=input('Username:')\ncontent=input('Password:')\n\nwhile True:\n    file=open('username1.txt','r')\n    data1 =file.read()\n    file.close()\n\n    file1=open('password1.txt','r')\n    data2 =file1.read()\n    file1.close()\n\n    data1 = data1.split(\"\\n\")\n    data2 = data2.split(\"\\n\")\n\n    for i in range(len(data1)):\n        if data1[i] == content2 and data2[i] == content:\n            print('You have access to something special.')\n            break\n        else:\n            print('Access denied.')\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 8, "creation_date": 1510173504, "post_id": 47189191, "comment_id": 81327745, "body": "Equality comparison is <code>==</code>. Your indentation is wrong."}, {"owner": {"reputation": 3891, "user_id": 2326911, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/173ece6e1a474bf45d2dee00f651b543?s=128&d=identicon&r=PG&f=1", "display_name": "\u1d00\u0280\u1d0d\u1d00\u0274", "link": "https://stackoverflow.com/users/2326911/%e1%b4%80%ca%80%e1%b4%8d%e1%b4%80%c9%b4"}, "edited": false, "score": 1, "creation_date": 1510173614, "post_id": 47189191, "comment_id": 81327806, "body": "and what is <code>return print</code> ?"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 3891, "user_id": 2326911, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/173ece6e1a474bf45d2dee00f651b543?s=128&d=identicon&r=PG&f=1", "display_name": "\u1d00\u0280\u1d0d\u1d00\u0274", "link": "https://stackoverflow.com/users/2326911/%e1%b4%80%ca%80%e1%b4%8d%e1%b4%80%c9%b4"}, "edited": false, "score": 0, "creation_date": 1510173710, "post_id": 47189191, "comment_id": 81327866, "body": "@Arman: <code>return print</code> returns the <code>print</code>-function."}, {"owner": {"reputation": 3891, "user_id": 2326911, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/173ece6e1a474bf45d2dee00f651b543?s=128&d=identicon&r=PG&f=1", "display_name": "\u1d00\u0280\u1d0d\u1d00\u0274", "link": "https://stackoverflow.com/users/2326911/%e1%b4%80%ca%80%e1%b4%8d%e1%b4%80%c9%b4"}, "reply_to_user": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1510173816, "post_id": 47189191, "comment_id": 81327925, "body": "@Daniel , is it a use able action or it&#39;s just a miss functionality here?"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 3891, "user_id": 2326911, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/173ece6e1a474bf45d2dee00f651b543?s=128&d=identicon&r=PG&f=1", "display_name": "\u1d00\u0280\u1d0d\u1d00\u0274", "link": "https://stackoverflow.com/users/2326911/%e1%b4%80%ca%80%e1%b4%8d%e1%b4%80%c9%b4"}, "edited": false, "score": 0, "creation_date": 1510174117, "post_id": 47189191, "comment_id": 81328098, "body": "@Arman: it is probably not useful, but also no syntax error."}], "answers": [{"tags": [], "owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "is_accepted": false, "score": 0, "last_activity_date": 1510173871, "last_edit_date": 1510173871, "creation_date": 1510173680, "answer_id": 47189282, "question_id": 47189191, "link": "https://stackoverflow.com/questions/47189191/python-always-getting-invalid-syntax-error/47189282#47189282", "title": "Python always getting invalid syntax error", "body": "<p>You are using an assignment to compare the values rather than using the comparison operator <code>==</code>. Also, I would refer to local variables using lowercase letters.\nFinally, I don't get why you are returning the <code>print</code> function, remove that.</p>\n\n<pre><code>def steigung(a,b,c,d,x):\n\n   ausgabe= 3*a*x**2+2*b*x+c\n   ausgabe2= 6*a*x+2*b\n\n   if ausgabe &gt;= 1:\n      print(\"Die Funktion Steigt\")\n   elif ausgabe &lt;= -1:\n      print(\"Die Funktion F\u00e4llt\")\n   elif ausgabe==0 and ausgabe2 &gt; 0:\n      print(\"Die Funktion hat ein lokales Minimum\")\n   elif ausgabe==0 and ausgabe2 &lt; 0:\n      print(\"Die Funktion hat ein lokales Maximum\")\n   elif ausgabe==0 and ausgabe2==0:\n      print(\"die Funktion einen kritischen Punkt unbekannten Typs\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2154600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d8d78aaf7183395fcce4835dc887263?s=128&d=identicon&r=PG", "display_name": "Asacs", "link": "https://stackoverflow.com/users/2154600/asacs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 1, "answer_count": 1, "score": -3, "last_activity_date": 1510173871, "creation_date": 1510173429, "question_id": 47189191, "link": "https://stackoverflow.com/questions/47189191/python-always-getting-invalid-syntax-error", "title": "Python always getting invalid syntax error", "body": "<p>I dont understand why i get always a invalid syntax error.\nCan you please help?</p>\n\n<pre><code>def steigung(a,b,c,d,x):\n\nAusgabe= 3*a*x**2+2*b*x+c\nAusgabe2= 6*a*x+2*b\n\nif Ausgabe &gt;= 1:\n    print(\"Die Funktion Steigt\")\nelif Ausgabe &lt;= -1:\n    print(\"Die Funktion F\u00e4llt\")\nelif Ausgabe=0 and Ausgabe2 &gt; 0:\n    print(\"Die Funktion hat ein lokales Minimum\")\nelif Ausgabe=0 and Ausgabe2 &lt; 0:\n    print(\"Die Funktion hat ein lokales Maximum\")\nelif Ausgabe=0 and Ausgabe2 = 0:\n    print(\"die Funktion einen kritischen Punkt unbekannten Typs\")\n\n\nreturn print\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 43, "user_id": 8839802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80c313eec28dcf3adc52b1eb7a4fca0?s=128&d=identicon&r=PG&f=1", "display_name": "toussaint31", "link": "https://stackoverflow.com/users/8839802/toussaint31"}, "edited": false, "score": 0, "creation_date": 1510237129, "post_id": 47189166, "comment_id": 81356801, "body": "This ended up working for me:    In: print filter(lambda x: u&#39;itator-QueryClient&#39; in x, IRAData[&#39;Labels&#39;]    Out: [&quot;u&#39;itator-QueryClient&#39;&quot;, &quot;u&#39;itator-QueryClient&#39;&quot;]"}], "answers": [{"tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1510249016, "last_edit_date": 1510249016, "creation_date": 1510246173, "answer_id": 47207391, "question_id": 47189166, "link": "https://stackoverflow.com/questions/47189166/python-in-does-not-recognize-values-in-dataframe-column/47207391#47207391", "title": "Python: &quot;in&quot; does not recognize values in DataFrame column", "body": "<p>I think the best way to avoid this problems is to correctly import the data.</p>\n\n<p>You store  <code>\"u'itator-QueryClient'\"</code> where <code>u</code> is a raw marker of unicode string,\nwhen <code>'itator-QueryClient'</code> is the good information to store here.</p>\n\n<p>For example from this html page, just select and copy the lines 381 to 384 an invoque :</p>\n\n<pre><code>In [498]: import ast\nIn [499]: pd.read_clipboard(names=['value'],index_col=0,header=None,\\\nconverters={'value': ast.literal_eval})\nOut[499]: \n                  value\n381     itator-OnSystem\n382  itator-QueryClient\n383     itator-OnSystem\n384     itator-OnSystem\n</code></pre>\n\n<p>Then <code>'itator-QueryClient' in IRAData['value']</code> will be evaluated to <code>True</code>.</p>\n"}], "owner": {"reputation": 43, "user_id": 8839802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80c313eec28dcf3adc52b1eb7a4fca0?s=128&d=identicon&r=PG&f=1", "display_name": "toussaint31", "link": "https://stackoverflow.com/users/8839802/toussaint31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510249016, "creation_date": 1510173347, "last_edit_date": 1510237320, "question_id": 47189166, "link": "https://stackoverflow.com/questions/47189166/python-in-does-not-recognize-values-in-dataframe-column", "title": "Python: &quot;in&quot; does not recognize values in DataFrame column", "body": "<p>I have an excerpt from a DataFrame \"IRAData\" and a Column called 'Labels':</p>\n\n<pre><code>380       u'itator-Research'\n381       u'itator-OnSystem'\n382    u'itator-QueryClient'\n383       u'itator-OnSystem'\n384       u'itator-OnSystem'\n385       u'itator-OnSystem'\n386       u'itator-OnSystem'\n387       u'itator-OnSystem'\n388       u'itator-OnSystem'\nName: Labels, dtype: object\n</code></pre>\n\n<p>But when I run the following code, I get \"False\" output:</p>\n\n<pre><code>print(u'itator-QueryClient' in IRAData['Labels'])\n</code></pre>\n\n<p>Same goes for the other values in the column and when I remove the unicode 'u'. \nAnyone have an idea as to why?</p>\n\n<p>EDIT: The solution that I placed in a comment below worked. Did not need to attempt the answer to the suggested duplicate question.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "selenium", "selenium-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 7385670, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2d214b8fd3774463bcb2e7b4c894ac6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/7385670/mike"}, "edited": false, "score": 0, "creation_date": 1510173976, "post_id": 47189262, "comment_id": 81328014, "body": "Perfect, got it working. Thank You!"}], "tags": [], "owner": {"reputation": 31, "user_id": 3691734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d960bff6639d3f6254e7b8fddb47226?s=128&d=identicon&r=PG&f=1", "display_name": "aliowka", "link": "https://stackoverflow.com/users/3691734/aliowka"}, "is_accepted": false, "score": 2, "last_activity_date": 1510174344, "last_edit_date": 1510174344, "creation_date": 1510173633, "answer_id": 47189262, "question_id": 47189151, "link": "https://stackoverflow.com/questions/47189151/typeerror-must-be-str-not-tuple-variable-as-a-string-in-an-array/47189262#47189262", "title": "TypeError: must be str, not tuple. Variable as a string in an Array", "body": "<p>The *args means unpacked list of parameters, so the tuple should be unpacked: command(*variable) or if you want to pass it as is, you can define command(args) and than call to command(variable).\nThe self parameter in your code is a typo. </p>\n"}], "owner": {"reputation": 107, "user_id": 7385670, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2d214b8fd3774463bcb2e7b4c894ac6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/7385670/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1784, "favorite_count": 0, "closed_date": 1510179889, "answer_count": 1, "score": 0, "last_activity_date": 1510174344, "creation_date": 1510173297, "question_id": 47189151, "link": "https://stackoverflow.com/questions/47189151/typeerror-must-be-str-not-tuple-variable-as-a-string-in-an-array", "closed_reason": "Not suitable for this site", "title": "TypeError: must be str, not tuple. Variable as a string in an Array", "body": "<p>Here is the code I have, I keep getting TypeError: must be str, not tuple</p>\n\n<pre><code>variable = [\"Variable1\", \"Variable2\"]\n\ndef command(self, *arg):\n    numparm = len(arg)\n    for i in range (0,numparm):\n        self.driver.find_element_by_xpath(\".//div[text()='\"+ arg[i] +\"']\")\n\ncommand(variable)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "sqlite", "sql-insert", "insert-into"], "comments": [{"owner": {"reputation": 7454, "user_id": 2511718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3jZ8.jpg?s=128&g=1", "display_name": "bgse", "link": "https://stackoverflow.com/users/2511718/bgse"}, "edited": false, "score": 1, "creation_date": 1510173261, "post_id": 47189101, "comment_id": 81327608, "body": "Are there any error messages?"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1510173322, "post_id": 47189101, "comment_id": 81327641, "body": "Have you tried to do a <code>COMMIT</code>?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1510173352, "post_id": 47189101, "comment_id": 81327659, "body": "&quot;Doesn&#39;t work&quot; is not specific enough. Add details."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1510173648, "post_id": 47189101, "comment_id": 81327829, "body": "See about <a href=\"https://docs.python.org/2/library/sqlite3.html#using-the-connection-as-a-context-manager\" rel=\"nofollow noreferrer\">using the connection as a context manager</a>"}], "answers": [{"tags": [], "owner": {"reputation": 266, "user_id": 8857668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Foe6s.jpg?s=128&g=1", "display_name": "Brendan Samek", "link": "https://stackoverflow.com/users/8857668/brendan-samek"}, "is_accepted": true, "score": 3, "last_activity_date": 1510173285, "creation_date": 1510173285, "answer_id": 47189143, "question_id": 47189101, "link": "https://stackoverflow.com/questions/47189101/why-insert-into-doesnt-work-in-python/47189143#47189143", "title": "Why INSERT INTO doesn&#39;t work in python", "body": "<p>The python library of SQLITE3 is transactional, meaning that it doesn't commit to the database until you commit the changes.</p>\n\n<p>after the INSERT INTO statement put the line:</p>\n\n<pre><code>conn.commit()\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8909538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5254e847e3407be8e0abb332c6371b4b?s=128&d=identicon&r=PG&f=1", "display_name": "user8909538", "link": "https://stackoverflow.com/users/8909538/user8909538"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 0, "accepted_answer_id": 47189143, "answer_count": 1, "score": 0, "last_activity_date": 1510173285, "creation_date": 1510173128, "question_id": 47189101, "link": "https://stackoverflow.com/questions/47189101/why-insert-into-doesnt-work-in-python", "title": "Why INSERT INTO doesn&#39;t work in python", "body": "<p>i have problem with SQLite3 in Python (using PyCharm + Python 3.5 on W10). The insert doesn't work</p>\n\n<pre><code>import sqlite3\n\nconn = sqlite3.connect(\"test.db\")\nc = conn.cursor()\nc.execute(\"DROP TABLE Normal;\") # to clean data\nc.execute(\"CREATE TABLE Normal (Invoice INTEGER);\")\nc.execute(\"INSERT INTO Normal (Invoice) VALUES (24);\")\n</code></pre>\n\n<p>If I run sqlite3.exe in the directory afterwards, open the db and write commands in cmd.exe console:</p>\n\n<pre><code>sqlite&gt; .open test.db;\nsqlite&gt; select * from Normal;\nsqlite&gt; INSERT INTO Normal (Invoice) VALUES (24);\nsqlite&gt; select * from Normal;\n24\n</code></pre>\n\n<p>The very same insert works. I am confused...</p>\n"}, {"tags": ["python", "qt", "pyqt", "pyqt5", "qpushbutton"], "comments": [{"owner": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 0, "creation_date": 1510173536, "post_id": 47189091, "comment_id": 81327760, "body": "what is PlotCanvas&#39;? i have this error on your code: NameError: name &#39;PlotCanvas&#39; is not defined"}, {"owner": {"reputation": 1, "user_id": 8902225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7cadf71fdee60d943428cf4e07cc3b9?s=128&d=identicon&r=PG&f=1", "display_name": "J JH", "link": "https://stackoverflow.com/users/8902225/j-jh"}, "reply_to_user": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 0, "creation_date": 1510173737, "post_id": 47189091, "comment_id": 81327883, "body": "You have an apostrophe right after canvas. That&#39;s probably why it didn&#39;t work. Also, I&#39;ll remove the version of the command that does work and leave the one that does not (for clarity)."}, {"owner": {"reputation": 1, "user_id": 8902225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7cadf71fdee60d943428cf4e07cc3b9?s=128&d=identicon&r=PG&f=1", "display_name": "J JH", "link": "https://stackoverflow.com/users/8902225/j-jh"}, "reply_to_user": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "edited": false, "score": 0, "creation_date": 1510173885, "post_id": 47189091, "comment_id": 81327958, "body": "You can also just leave out the canvas altogether."}], "answers": [{"tags": [], "owner": {"reputation": 1866, "user_id": 7343404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c35c26faa37ecec20770b529b1004d5?s=128&d=identicon&r=PG&f=1", "display_name": "DRPK", "link": "https://stackoverflow.com/users/7343404/drpk"}, "is_accepted": false, "score": 1, "last_activity_date": 1510174385, "creation_date": 1510174385, "answer_id": 47189491, "question_id": 47189091, "link": "https://stackoverflow.com/questions/47189091/pyqt5-qpushbutton-with-clicked-connect-does-not-work/47189491#47189491", "title": "pyqt5 QPushButton() ( with clicked.connect() ) does not work", "body": "<p>Try This:</p>\n\n<pre><code>import sys\nfrom PyQt5.QtWidgets import (QApplication, QWidget, QPushButton, QSizePolicy,\n                         QDoubleSpinBox, QLabel, QCheckBox, QMainWindow,\nQGridLayout)\nfrom PyQt5.QtCore import QCoreApplication\nimport matplotlib\nfrom matplotlib.figure import Figure\nimport numpy as np\nfrom matplotlib.backends.backend_qt5agg import FigureCanvasQTAgg as FigureCanvas\nfrom matplotlib.backends.backend_qt5agg import NavigationToolbar2QT as NavigationToolbar\n\n\n\nclass MainWindow(QWidget):\n\n    def __init__(self):\n        super().__init__()\n\n        self.initUI()\n\n    def initUI(self):\n\n        # Geometry of main window:\n        self.setGeometry(200, 200, 1000, 1000)\n        self.setWindowTitle('Simulation')\n\n        #---------------------------------------\n                # Button for adding blades\n        blade_button = QPushButton('Add', self)\n        blade_button.clicked.connect(self.add_Bladebox)\n        blade_button.move(800, 600)\n\n\n        #---------------------------------------\n\n        self.show()\n\n    # Method for input box:\n    def inputBox(self, left, top, maxvalue, step, default,decimals):\n        box = QDoubleSpinBox(self)\n        box.move(left,top)\n        box.setDecimals(decimals)\n        box.setMaximum(maxvalue)\n        box.setSingleStep(step)\n        box.setProperty(\"value\", default)\n        box.resize(box.sizeHint())\n        box.show()\n\n    # Method for adding blade boxes\n    def add_Bladebox(self):\n\n        print('This is Ok')\n\n        left = 900\n        top = 500\n        maxvalue = 3\n        step = 1\n        default = 0\n        decimals = 1\n        self.inputBox(left, top, maxvalue, step, default, decimals)\n\n\nif __name__ == '__main__':\n\n    app = QCoreApplication.instance()\n    if app is None:\n        app = QApplication(sys.argv)\n    ex = MainWindow()\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8902225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7cadf71fdee60d943428cf4e07cc3b9?s=128&d=identicon&r=PG&f=1", "display_name": "J JH", "link": "https://stackoverflow.com/users/8902225/j-jh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510192989, "creation_date": 1510173098, "last_edit_date": 1510192989, "question_id": 47189091, "link": "https://stackoverflow.com/questions/47189091/pyqt5-qpushbutton-with-clicked-connect-does-not-work", "title": "pyqt5 QPushButton() ( with clicked.connect() ) does not work", "body": "<p>I have this very simple GUI, but I can't get the pressbutton working. I have tried using <em>partial</em> and <em>lambda</em> in the clicked.connect command, but had no luck. I know that I could only ever press the button once, since I don't have a loop to keep changing the location of each new input box, but I just want to get it working first.</p>\n\n<p>Thanks you for any advice</p>\n\n<pre><code>import sys\nfrom PyQt5.QtWidgets import (QApplication, QWidget, QPushButton, QSizePolicy,\n                         QDoubleSpinBox, QLabel, QCheckBox, QMainWindow,\nQGridLayout)\nfrom PyQt5.QtCore import QCoreApplication\nimport matplotlib\nfrom matplotlib.figure import Figure\nimport numpy as np\nfrom matplotlib.backends.backend_qt5agg import FigureCanvasQTAgg as FigureCanvas\nfrom matplotlib.backends.backend_qt5agg import NavigationToolbar2QT as NavigationToolbar\n\n\n\nclass MainWindow(QWidget):\n\n    def __init__(self):\n        super().__init__()\n\n        self.initUI()\n\n    def initUI(self):\n\n        # Geometry of main window:\n        self.setGeometry(200, 200, 1000, 1000)\n        self.setWindowTitle('Simulation')\n\n        #---------------------------------------\n                # Button for adding blades\n        blade_button = QPushButton('Add', self)\n        blade_button.clicked.connect(self.add_Bladebox)\n        blade_button.move(800, 600)\n\n\n        #---------------------------------------\n\n        self.show()\n\n    # Method for input box:\n    def inputBox(self, left, top, maxvalue, step, default,decimals):\n        box = QDoubleSpinBox(self)\n        box.move(left,top)\n        box.setDecimals(decimals)\n        box.setMaximum(maxvalue)\n        box.setSingleStep(step)\n        box.setProperty(\"value\", default)\n        box.resize(box.sizeHint())\n        return box\n\n    # Method for adding blade boxes\n    def add_Bladebox(self):\n        left = 900\n        top = 500\n        maxvalue = 3\n        step=1\n        default=0\n        decimals=1\n        blade_box = self.inputBox(left, top, maxvalue, step, default, decimals)\n\n\nif __name__ == '__main__':\n\n    app = QCoreApplication.instance()\n    if app is None:\n        app = QApplication(sys.argv)\n    ex = MainWindow()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "list", "if-statement"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 4, "creation_date": 1510173094, "post_id": 47189048, "comment_id": 81327522, "body": "what is reader? can you print <code>type(a)</code> as well? and paste the output of your console <i>as text</i> not as image (so we can try to reproduce)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1510174996, "post_id": 47189048, "comment_id": 81328607, "body": "thanks for the edit, useful, but can you add <code>print(a[0],type(a[0])</code> to be sure of the type of the <i>items</i> and which they are ? (sorry, I should have asked earlier)"}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1510174893, "post_id": 47189220, "comment_id": 81328550, "body": "if the reader returns a string then <code>if tag1 in a</code> works (substring test)."}, {"owner": {"reputation": 421, "user_id": 4761244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27fde846b0dac5d51ba1360277ff3342?s=128&d=identicon&r=PG&f=1", "display_name": "colopop", "link": "https://stackoverflow.com/users/4761244/colopop"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1510175356, "post_id": 47189220, "comment_id": 81328797, "body": "@Jean-Fran&#231;oisFabre You are correct. I did a quick test to verify my answer, but I made a mistake while doing so. I should have just looked for documentation instead."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1510175546, "post_id": 47189220, "comment_id": 81328889, "body": "this kind of question is difficult to solve because we don&#39;t have the hardware the OP has, so it&#39;s important to get the maximum of info from the OP. I tried, but forgot some points. Let&#39;s wait for his new comment/edit."}], "tags": [], "owner": {"reputation": 421, "user_id": 4761244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27fde846b0dac5d51ba1360277ff3342?s=128&d=identicon&r=PG&f=1", "display_name": "colopop", "link": "https://stackoverflow.com/users/4761244/colopop"}, "is_accepted": false, "score": 3, "last_activity_date": 1510175712, "last_edit_date": 1510175712, "creation_date": 1510173521, "answer_id": 47189220, "question_id": 47189048, "link": "https://stackoverflow.com/questions/47189048/evaluating-if-variable-in-list-python/47189220#47189220", "title": "Evaluating if variable in list python", "body": "<p>It turns out the below answer doesn't work here, since \"reader\" is an object other than a file and <code>a</code> is a list already. A better solution for you might be to change your \"if in\"s to <code>if any(tag1 == tag.epc for tag in a)</code>. Printing is misleading in this case since it seems the list is actually filled with objects that print as strings but won't compare equal to strings.</p>\n\n<p>I'm going to leave the earlier answer since it might be helpful to people with similar problems.</p>\n\n<p>=======================================================================</p>\n\n<p>Assuming \"reader\" is a file, using <code>reader.read()</code> doesn't return a list. It returns a string. You won't get an interpreter error because strings are iterable, but you also won't get the results you expect! </p>\n\n<p><strong>EDIT:</strong> Using <code>string1 in string2</code> will return True iff string1 is a substring of string2. However, it is still important to be careful, because other operations that are valid (like <code>a[0]</code>) will return unexpected results.</p>\n\n<p>Try </p>\n\n<pre><code>import ast\na = ast.literal_eval(reader.read())\n</code></pre>\n\n<p>That will try to interpret the result of <code>.read()</code> as a list. If that doesn't work for you, look into <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow noreferrer\">regular expressions</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 469, "user_id": 8332501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R5V6i.jpg?s=128&g=1", "display_name": "sslloo", "link": "https://stackoverflow.com/users/8332501/sslloo"}, "is_accepted": false, "score": 1, "last_activity_date": 1510173526, "creation_date": 1510173526, "answer_id": 47189223, "question_id": 47189048, "link": "https://stackoverflow.com/questions/47189048/evaluating-if-variable-in-list-python/47189223#47189223", "title": "Evaluating if variable in list python", "body": "<p>You should propably print the context of list object a ( reader.read() )\nIt will tell you the content or the purposed object, then understand what is the comparison about (the if statement)</p>\n"}, {"tags": [], "owner": {"reputation": 7454, "user_id": 2511718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3jZ8.jpg?s=128&g=1", "display_name": "bgse", "link": "https://stackoverflow.com/users/2511718/bgse"}, "is_accepted": true, "score": 2, "last_activity_date": 1510174019, "last_edit_date": 1510174019, "creation_date": 1510173675, "answer_id": 47189279, "question_id": 47189048, "link": "https://stackoverflow.com/questions/47189048/evaluating-if-variable-in-list-python/47189279#47189279", "title": "Evaluating if variable in list python", "body": "<p>Looking at <a href=\"https://github.com/gotthardp/python-mercuryapi#readerreadtimeout500\" rel=\"nofollow noreferrer\">the documentation</a>, it appears that you do not get a list of <code>str</code>, but<code>TagReadData</code> objects.</p>\n\n<p>Try along these lines:</p>\n\n<pre><code>tag1 = b'E2004005730702602190360B'\ntag2 = b'E20040057307026421903619'\n\na = reader.read()\nfor tag in a:\n    if tag1 == tag.epc:\n        print('tag1')\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 7177051, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/cS6D4.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7177051/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 47189279, "answer_count": 3, "score": 3, "last_activity_date": 1510175712, "creation_date": 1510172955, "last_edit_date": 1510173538, "question_id": 47189048, "link": "https://stackoverflow.com/questions/47189048/evaluating-if-variable-in-list-python", "title": "Evaluating if variable in list python", "body": "<p>I am using a RFID reader to scan multiple RFID tags. The readings are placed into a list. I am trying to check if a tag is in the reading. Using the 'if in' method is not working for me. </p>\n\n<pre><code>import mercury\nimport time\n\nreader = mercury.Reader(\"tmr:///dev/ttyUSB0\")\nreader.set_region(\"EU3\")\nreader.set_read_plan([1], \"GEN2\")\n\ntag1 = 'E2004005730702602190360B'\ntag2 = 'E20040057307026421903619'\n\nwhile True:\n    a = reader.read()\n    print (a)\n    print(type(a))\n    if tag1 in a:\n            print('tag1')\n            time.sleep(0.2)\n            break\n    if tag2 in a:\n            print('tag2')\n            time.sleep(0.2)\n            break\n    time.sleep(0.2)\n</code></pre>\n\n<p>My terminal is output is: </p>\n\n<pre><code>['E20040057307026421903619', 'E2004005730702602190360B']\n&lt;type 'list'&gt;\n</code></pre>\n\n<p>So the if conditions is not executed when tag1 or tag2 are in a. </p>\n\n<p>I can't seem to make it enter the if condition. Any advice? </p>\n"}, {"tags": ["python", "math"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 8767755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/518fb0407f5561e1ef5295b2f85f77c3?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac Little", "link": "https://stackoverflow.com/users/8767755/isaac-little"}, "is_accepted": true, "score": 0, "last_activity_date": 1510174114, "creation_date": 1510174114, "answer_id": 47189415, "question_id": 47189033, "link": "https://stackoverflow.com/questions/47189033/calculate-coordinates-from-a-list-of-distances/47189415#47189415", "title": "Calculate Coordinates from a List of Distances", "body": "<p>It sounds like you are working in two dimensional space. If so you can use the Gram matrix as explained at the bottom of this page <a href=\"https://math.stackexchange.com/questions/156161/finding-the-coordinates-of-points-from-distance-matrix\">https://math.stackexchange.com/questions/156161/finding-the-coordinates-of-points-from-distance-matrix</a></p>\n\n<p>Additionally this page (<a href=\"https://stackoverflow.com/questions/10963054/finding-the-coordinates-of-points-from-distance-matrix\">Finding the coordinates of points from distance matrix</a>) describes how to implement it in code</p>\n"}], "owner": {"reputation": 19, "user_id": 5546516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2740ff04976efd9227308a424eea0a95?s=128&d=identicon&r=PG&f=1", "display_name": "B.K Lewis", "link": "https://stackoverflow.com/users/5546516/b-k-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 47189415, "answer_count": 1, "score": -2, "last_activity_date": 1510174114, "creation_date": 1510172906, "question_id": 47189033, "link": "https://stackoverflow.com/questions/47189033/calculate-coordinates-from-a-list-of-distances", "title": "Calculate Coordinates from a List of Distances", "body": "<p>I would like to find a way to calculate a list of \"coordinates\" from a list of distances between points. I know this can't be done exactly without an angle but I am using k-means to cluster the points together and the exact coordinates do not matter, only that the integrity of the distances remain. For example, if point1 is 3.6 away from point2 and point 2 is 4.24 away from point3 and point1 is 5 away from point3. Then point1 coordinates can be (0,0), point2 (3, 2) and point3(0, 5). This would have a lot of points and all would need to be maintained. I am imagining this to be an NP problem of sorts but if I am overthinking it and there is an easy way to do this I would very much appreciate it.</p>\n\n<p>Python would be nice.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1510172981, "post_id": 47189031, "comment_id": 81327466, "body": "Just use a list and convert to an array. It&#39;s likely going to be more performant."}], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 3, "last_activity_date": 1510173149, "creation_date": 1510173149, "answer_id": 47189104, "question_id": 47189031, "link": "https://stackoverflow.com/questions/47189031/initialize-empty-vector-with-3-dimensions/47189104#47189104", "title": "Initialize empty vector with 3 dimensions", "body": "<p>The most straightforward way is to use <code>np.vstack</code>:</p>\n\n<pre><code>In [9]: arr = np.array([1,2,3])\n\nIn [10]: x = np.arange(20, 23)\n\nIn [11]: arr = np.vstack([arr, x])\n\nIn [12]: arr\nOut[12]:\narray([[ 1,  2,  3],\n       [20, 21, 22]])\n</code></pre>\n\n<p>Note, your entire approach has major code smell, doing the above in a loop will give you quadratic complexity. Perhaps you should work with a list and then convert to an array at the end (which will at least be linear-time). Or maybe rethink your approach entirely. </p>\n\n<p>Or, as you imply, you could pre-allocate your array:</p>\n\n<pre><code>In [18]: result = np.zeros((10, 3))\n\nIn [19]: result\nOut[19]:\narray([[ 0.,  0.,  0.],\n       [ 0.,  0.,  0.],\n       [ 0.,  0.,  0.],\n       [ 0.,  0.,  0.],\n       [ 0.,  0.,  0.],\n       [ 0.,  0.,  0.],\n       [ 0.,  0.,  0.],\n       [ 0.,  0.,  0.],\n       [ 0.,  0.,  0.],\n       [ 0.,  0.,  0.]])\n\nIn [20]: result[0] = x\n\nIn [21]: result\nOut[21]:\narray([[ 20.,  21.,  22.],\n       [  0.,   0.,   0.],\n       [  0.,   0.,   0.],\n       [  0.,   0.,   0.],\n       [  0.,   0.,   0.],\n       [  0.,   0.,   0.],\n       [  0.,   0.,   0.],\n       [  0.,   0.,   0.],\n       [  0.,   0.,   0.],\n       [  0.,   0.,   0.]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 7412060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436cabf7ab8ff111e9ddd72a5b360cec?s=128&d=identicon&r=PG&f=1", "display_name": "Alon Gelber", "link": "https://stackoverflow.com/users/7412060/alon-gelber"}, "is_accepted": false, "score": 1, "last_activity_date": 1510173806, "creation_date": 1510173806, "answer_id": 47189317, "question_id": 47189031, "link": "https://stackoverflow.com/questions/47189031/initialize-empty-vector-with-3-dimensions/47189317#47189317", "title": "Initialize empty vector with 3 dimensions", "body": "<p>You can try using vstack to add rows. </p>\n\n<pre><code>accepted_clusters=np.vstack([accepted_clusters,(0.89505277,  0.8359252,   0.21434642)])\n</code></pre>\n"}], "owner": {"reputation": 110, "user_id": 8777118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2a485aa3520a47a84d420db0afcb3bf?s=128&d=identicon&r=PG&f=1", "display_name": "Macter", "link": "https://stackoverflow.com/users/8777118/macter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 47189104, "answer_count": 2, "score": 0, "last_activity_date": 1510173806, "creation_date": 1510172898, "last_edit_date": 1510173208, "question_id": 47189031, "link": "https://stackoverflow.com/questions/47189031/initialize-empty-vector-with-3-dimensions", "title": "Initialize empty vector with 3 dimensions", "body": "<p>I want to initialize an empty vector with 3 columns that I can add to. I need to perform some l2 norm distance calculations on the rows after I have added to it, and I'm having the following problem. </p>\n\n<p>I start with an initial empty array:</p>\n\n<pre><code>accepted_clusters = np.array([])\n</code></pre>\n\n<p>Then I add my first 1x3 set of values to this:</p>\n\n<pre><code>accepted_clusters = np.append(accepted_clusters, X_1)\n</code></pre>\n\n<p>returning:</p>\n\n<pre><code>[ 0.47843416  0.50829221  0.51484499]\n</code></pre>\n\n<p>Then I add a second set of 1x3 values in the same way, and I get the following:</p>\n\n<pre><code>[ 0.47843416  0.50829221  0.51484499  0.89505277  0.8359252   0.21434642]\n</code></pre>\n\n<p>However, what I want is something like this:</p>\n\n<pre><code>[ 0.47843416  0.50829221  0.51484499]\n[ 0.89505277  0.8359252   0.21434642]\n.. and so on\n</code></pre>\n\n<p>This would enable me to calculate distances between the rows. Ideally, the initial empty vector would be of undefined length, but something like a 10x3 of zeros would also work if the code for that is easy. </p>\n"}, {"tags": ["python", "anaconda", "remote-access", "spyder", "remote-server"], "answers": [{"tags": [], "owner": {"reputation": 27032, "user_id": 438386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aceace9b2049723617a2f59f698df0ff?s=128&d=identicon&r=PG", "display_name": "Carlos Cordoba", "link": "https://stackoverflow.com/users/438386/carlos-cordoba"}, "is_accepted": false, "score": 0, "last_activity_date": 1510177302, "creation_date": 1510177302, "answer_id": 47190182, "question_id": 47189009, "link": "https://stackoverflow.com/questions/47189009/run-script-on-remote-kernel/47190182#47190182", "title": "Run script on remote kernel", "body": "<p>(<em>Spyder maintainer here</em>) The only way to evaluate a local file in a remote kernel is to run it as a cell. For that, you need to add this comment before the first line with code in your file</p>\n\n<pre><code># %%\nimport foo\n...\n</code></pre>\n\n<p>Then, you need to press <code>Ctrl+Enter</code> in the Editor to send the entire contents of your file to the console.</p>\n"}], "owner": {"reputation": 762, "user_id": 7248562, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c8475428a9ab03f342cf2ac42dff20b4?s=128&d=identicon&r=PG&f=1", "display_name": "hdatas", "link": "https://stackoverflow.com/users/7248562/hdatas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510177302, "creation_date": 1510172815, "question_id": 47189009, "link": "https://stackoverflow.com/questions/47189009/run-script-on-remote-kernel", "title": "Run script on remote kernel", "body": "<p>I would how to run a script using a remote kernel ? I have everything set and did connect successfully to the kernel from Spyder but I'm getting an error when executing the script. It says file (script file) not found. Is there a way to just run the script without copying it and all the data files ?\nJust use the remote kernel for calculation ?</p>\n\n<p>Thanks !</p>\n"}, {"tags": ["python", "text-files"], "comments": [{"owner": {"reputation": 4701, "user_id": 3662110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I19Jk.jpg?s=128&g=1", "display_name": "jmargolisvt", "link": "https://stackoverflow.com/users/3662110/jmargolisvt"}, "edited": false, "score": 0, "creation_date": 1510172795, "post_id": 47188972, "comment_id": 81327371, "body": "Consider adding the appropriate language tag."}, {"owner": {"reputation": 3, "user_id": 8909543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317d9d7c96f9489b8dc771ffe4ee5df2?s=128&d=identicon&r=PG&f=1", "display_name": "Dingle Jackson", "link": "https://stackoverflow.com/users/8909543/dingle-jackson"}, "reply_to_user": {"reputation": 4701, "user_id": 3662110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I19Jk.jpg?s=128&g=1", "display_name": "jmargolisvt", "link": "https://stackoverflow.com/users/3662110/jmargolisvt"}, "edited": false, "score": 0, "creation_date": 1510173486, "post_id": 47188972, "comment_id": 81327732, "body": "Sorry new to the site."}, {"owner": {"reputation": 432, "user_id": 8232125, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1401839689882105/picture?type=large", "display_name": "Arthur Spoon", "link": "https://stackoverflow.com/users/8232125/arthur-spoon"}, "edited": false, "score": 1, "creation_date": 1510175779, "post_id": 47188972, "comment_id": 81328987, "body": "Can you make it clear what the problem is and what you want to do? Right now you&#39;re just describing what you&#39;ve done but we don&#39;t know what&#39;s wrong with it..."}], "answers": [{"tags": [], "owner": {"reputation": 432, "user_id": 8232125, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1401839689882105/picture?type=large", "display_name": "Arthur Spoon", "link": "https://stackoverflow.com/users/8232125/arthur-spoon"}, "is_accepted": false, "score": 0, "last_activity_date": 1510263771, "creation_date": 1510263771, "answer_id": 47212052, "question_id": 47188972, "link": "https://stackoverflow.com/questions/47188972/program-that-reads-a-vote-text-file-and-prints-the-outcome-not-printing-the-righ/47212052#47212052", "title": "Program that reads a vote text file and prints the outcome not printing the right numbers", "body": "<p>First of all, you should note that your <code>file.readlines()</code> actually gives you the <code>\\n</code> at the end of each line, which in your code will both be treated in the <code>else</code> block, so as no's:</p>\n\n<pre><code>&gt;&gt;&gt; with open(\"votes.txt\",\"r\") as f:\n...     print(f.readlines())\n... \n['Aberdeenshire\\n',\n'yyynnnnynynyannnynynanynaanyna\\n',\n'Midlothian\\n',\n'nnnnynyynyanyaanynyanynnnanyna\\n',\n'Berwickshire\\n',\n'nnnnnnnnnnnnnnnnnnnnynnnnnynnnnny\\n']\n</code></pre>\n\n<p>So that might explain why you don't find the good numbers...</p>\n\n<p>Now, to make the code a bit more efficient, we could look into the <a href=\"https://docs.python.org/3.6/library/stdtypes.html#str.count\" rel=\"nofollow noreferrer\"><code>count</code></a> method of <code>str</code>, and maybe also get rid of those <code>\\n</code> with a <code>split</code> rather than a <code>readlines</code>:</p>\n\n<pre><code>with open(\"votes.txt\",\"r\") as f:\n    full = f.read()\n    lines = full.split(\"\\n\")\n    votes = 0\n    a = 0\n    y = 0\n    n = 0\n    for m in range(1,len(lines),2):\n        line = lines[m]\n        votes += len(line) # I'm counting n's as well here\n        a += line.count(\"a\")\n        y += line.count(\"y\")\n        n += line.count(\"n\")\n    print(\"Overall, there were \" + str(100 * y / (y + n)) + \"% yes votes.\")\n</code></pre>\n\n<p>Hope that helped!</p>\n"}, {"comments": [{"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 1, "creation_date": 1510264927, "post_id": 47212219, "comment_id": 81374118, "body": "I made some small adjustments."}], "tags": [], "owner": {"reputation": 878, "user_id": 6437980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d97d56e964292977ed9503a46b46ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jose A.", "link": "https://stackoverflow.com/users/6437980/jose-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1510264894, "last_edit_date": 1510264894, "creation_date": 1510264459, "answer_id": 47212219, "question_id": 47188972, "link": "https://stackoverflow.com/questions/47188972/program-that-reads-a-vote-text-file-and-prints-the-outcome-not-printing-the-righ/47212219#47212219", "title": "Program that reads a vote text file and prints the outcome not printing the right numbers", "body": "<p>More or less pythonic one liner, it doesn't give you the votes for each person/city tho:</p>\n\n<pre><code>from collections import Counter\n\nl = \"\"\"Aberdeenshire  \nyyynnnnynynyannnynynanynaanyna  \nMidlothian  \nnnnnynyynyanyaanynyanynnnanyna  \nBerwickshire  \nnnnnnnnnnnnnnnnnnnnnynnnnnynnnnny\"\"\"\n\nCounter([char for line in l.split('\\n')[1::2] for char in line.strip()])\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>Counter({'a': 11, 'n': 60, 'y': 22})\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8909543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317d9d7c96f9489b8dc771ffe4ee5df2?s=128&d=identicon&r=PG&f=1", "display_name": "Dingle Jackson", "link": "https://stackoverflow.com/users/8909543/dingle-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510264894, "creation_date": 1510172667, "last_edit_date": 1510175342, "question_id": 47188972, "link": "https://stackoverflow.com/questions/47188972/program-that-reads-a-vote-text-file-and-prints-the-outcome-not-printing-the-righ", "title": "Program that reads a vote text file and prints the outcome not printing the right numbers", "body": "<p>Here is my code I need it to read a line of text that just composes of y's a's and n's y meaning yes n meaning no a meaning abstain, I'm trying to add up the number of yes votes. The text file looks like this:</p>\n\n<pre><code>Aberdeenshire  \nyyynnnnynynyannnynynanynaanyna  \nMidlothian  \nnnnnynyynyanyaanynyanynnnanyna  \nBerwickshire  \nnnnnnnnnnnnnnnnnnnnnynnnnnynnnnny  \n</code></pre>\n\n<p>here is my code:</p>\n\n<pre><code>def main():\n    file = open(\"votes.txt\")\n    lines = file.readlines()\n\n    votes = 0\n    count = 0\n    count_all = 0\n    for m in range(1,len(lines),2):\n        line = lines[m]\n        for v in line:\n            if v == 'a':\n                votes += 1\n            elif v == 'y':\n                count_all += 1\n                count += 1\n                votes += 1\n            else:\n                count_all += 1\n\n        print(\"percentage:\" + (str(count/count_all)))\n\n    print(\"Overall there were \", (count/count_all),\"  yes votes\")\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "logging"], "comments": [{"owner": {"reputation": 4120, "user_id": 2944584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8270e1538d1dfd3335ea40fe6f95371?s=128&d=identicon&r=PG", "display_name": "m1keil", "link": "https://stackoverflow.com/users/2944584/m1keil"}, "edited": false, "score": 1, "creation_date": 1510529383, "post_id": 47188977, "comment_id": 81460961, "body": "I just tested on my machine, and could &quot;replicate&quot; the messages going into console under py2 and silence under py3. My best bet is that the python version is <b>not</b> the same. In py2 there&#39;s no <code>handlers</code> arg in basicConfig() and it will be ignored.  I know you said that py version is indeed the same but can you double check?"}, {"owner": {"reputation": 181, "user_id": 7190610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e23e4a96c203b31ea48cd36a646c3250?s=128&d=identicon&r=PG&f=1", "display_name": "dselgo", "link": "https://stackoverflow.com/users/7190610/dselgo"}, "reply_to_user": {"reputation": 4120, "user_id": 2944584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8270e1538d1dfd3335ea40fe6f95371?s=128&d=identicon&r=PG", "display_name": "m1keil", "link": "https://stackoverflow.com/users/2944584/m1keil"}, "edited": false, "score": 0, "creation_date": 1515091304, "post_id": 47188977, "comment_id": 83178335, "body": "sorry for the delayed response, forgot that I created this issue. You are correct, the python version was in fact py2. Updating it to py3 solved it. Thanks for the help!"}], "owner": {"reputation": 181, "user_id": 7190610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e23e4a96c203b31ea48cd36a646c3250?s=128&d=identicon&r=PG&f=1", "display_name": "dselgo", "link": "https://stackoverflow.com/users/7190610/dselgo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510172659, "creation_date": 1510172659, "question_id": 47188977, "link": "https://stackoverflow.com/questions/47188977/python-logging-to-console-window-randomly-on-different-machines", "title": "Python logging to console window randomly on different machines", "body": "<p>I have a Python script that utilizes the logging module to log messages to a file. And in most cases it works just fine, but on some of my co-worker's machines it is logging every message from every imported module to the console window. There doesn't seem to be any pattern as to why this is working on some machines and not on others.</p>\n\n<p>Here is how I set up the logger</p>\n\n<pre><code>logger = logging.getLogger(__name__)\nif __name__ == \"__main__\":\n    args = parser.parse_args()\n\n    logging.basicConfig(handlers=[logging.NullHandler()]) #do this so that imported modules don't screw with logging\n    logger.setLevel(logging.DEBUG)\n    handler = logging.FileHandler(args.log)\n    handler.setLevel(logging.DEBUG)\n    formatter = logging.Formatter('[%(asctime)s] %(levelname)s: %(message)s')\n    handler.setFormatter(formatter)\n    logger.addHandler(handler)\n\n    logger.info(str(args))\n    main(args)\n</code></pre>\n\n<p>So what's happening is first I set up my logger as a global variable, then I use basicConfig to set the root handler as the NullHandler(), this is so that any imported modules won't log anything to my log file or my console window, and finally I set my logger to log to a log file provided in the program arguments.</p>\n\n<p>This works exactly how I want to on my machine, the log file is only written to when I use my <code>logger</code> object. No log messages are passed to my console window and no log messages from imported modules go to my log file.</p>\n\n<p>However, on a few random machines, every single call to <code>logging</code> or <code>logger</code> goes to the console window. The logs in the log file are ok, they only show the logs I expect them to (the ones called with <code>logger</code>).</p>\n\n<p>For instance, when I do <code>logger.info(str(args))</code>, </p>\n\n<p><code>INFO: Namespace(arg1='Foo', arg2='Bar', arg3='foobar')</code></p>\n\n<p>is outputted to the console window.</p>\n\n<p>I can't think of any reason that this would behave differently on different machines. It is the exact same script, the same version of python, and the same version of logging. Any ideas?</p>\n"}, {"tags": ["python", "keras"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8157124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b944deaadd298661d9adc98287c3d?s=128&d=identicon&r=PG&f=1", "display_name": "maroontide", "link": "https://stackoverflow.com/users/8157124/maroontide"}, "edited": false, "score": 0, "creation_date": 1510177991, "post_id": 47189685, "comment_id": 81330024, "body": "Thanks! It works like a charm. from sklearn.utils import shuffle"}], "tags": [], "owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "is_accepted": true, "score": 2, "last_activity_date": 1510175098, "creation_date": 1510175098, "answer_id": 47189685, "question_id": 47188978, "link": "https://stackoverflow.com/questions/47188978/poor-gridsearchcv-results-with-keras-on-iris/47189685#47189685", "title": "poor GridSearchCV results with keras on iris", "body": "<p>Try adding following lines:</p>\n\n<pre><code>from sklearn.metrics import shuffle\n\nX, Y = shuffle(X, Y)\n</code></pre>\n\n<p>The reason behind this weird behavior is because your data wasn't shuffled - every time (in a 3-fold cross-validation) your data was splitted in such manner that there was only two classes in a train set and third class was exclusively in a test fold. Read <a href=\"https://stackoverflow.com/questions/47002177/gridsearchcv-for-number-of-neurons/47003016#47003016\">here</a> for more detailed explanation.</p>\n"}], "owner": {"reputation": 53, "user_id": 8157124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b944deaadd298661d9adc98287c3d?s=128&d=identicon&r=PG&f=1", "display_name": "maroontide", "link": "https://stackoverflow.com/users/8157124/maroontide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 47189685, "answer_count": 1, "score": 1, "last_activity_date": 1510175098, "creation_date": 1510172645, "question_id": 47188978, "link": "https://stackoverflow.com/questions/47188978/poor-gridsearchcv-results-with-keras-on-iris", "title": "poor GridSearchCV results with keras on iris", "body": "<p>I was trying to explore the GridSearchCV feature with keras on the classification of <a href=\"https://archive.ics.uci.edu/ml/datasets/iris\" rel=\"nofollow noreferrer\">Iris data</a>. The grid search is about batch_size and epochs. However, I was surprised by the accuracy in the results but can't find the cause. Thanks a lot for your help!</p>\n\n<p>The code is attached here as well as the output.</p>\n\n<pre><code>from keras.models import Sequential\nfrom keras.layers import Dense\nfrom keras.utils import np_utils\nfrom keras.wrappers.scikit_learn import KerasClassifier\nimport numpy\nimport pandas as pd\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.model_selection import GridSearchCV\n\n# Function to create model, required for KerasClassifier\ndef create_model():\n    # create model\n    model = Sequential()\n    model.add(Dense(8, input_dim=4, activation='relu'))\n    model.add(Dense(3, activation='softmax'))\n    # Compile model\n    model.compile(loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy'])\n    return model\n# fix random seed for reproducibility\nseed = 7\nnumpy.random.seed(seed)\n\ndataframe = pd.read_csv(\"iris.csv\", header=None)\ndataset = dataframe.values\nX = dataset[:,0:4].astype(float)\nY = dataset[:,4]\n\n# encode class values as integers\nencoder = LabelEncoder()\nencoder.fit(Y)\nencoded_Y = encoder.transform(Y)\n# convert integers to dummy variables (i.e. one hot encoded)\ndummy_y = np_utils.to_categorical(encoded_Y)\n\n# create model\nmodel = KerasClassifier(build_fn=create_model, verbose=0)\n# define the grid search parameters\nbatch_size = [5, 10, 20, 40, 60, 80, 100]\nepochs = [10, 50, 100, 200]\nparam_grid = dict(batch_size=batch_size, epochs=epochs)\ngrid = GridSearchCV(estimator=model, param_grid=param_grid, n_jobs=1)\ngrid_result = grid.fit(X, dummy_y)\n# summarize results\nprint(\"Best: %f using %s\" % (grid_result.best_score_, grid_result.best_params_))\nmeans = grid_result.cv_results_['mean_test_score']\nstds = grid_result.cv_results_['std_test_score']\nparams = grid_result.cv_results_['params']\nfor mean, stdev, param in zip(means, stds, params):\n    print(\"%f (%f) with: %r\" % (mean, stdev, param))\n\nUsing TensorFlow backend.\nBest: 0.666667 using {'batch_size': 100, 'epochs': 10}\n0.000000 (0.000000) with: {'batch_size': 5, 'epochs': 10}\n0.000000 (0.000000) with: {'batch_size': 5, 'epochs': 50}\n0.000000 (0.000000) with: {'batch_size': 5, 'epochs': 100}\n0.000000 (0.000000) with: {'batch_size': 5, 'epochs': 200}\n0.000000 (0.000000) with: {'batch_size': 10, 'epochs': 10}\n0.000000 (0.000000) with: {'batch_size': 10, 'epochs': 50}\n0.000000 (0.000000) with: {'batch_size': 10, 'epochs': 100}\n0.000000 (0.000000) with: {'batch_size': 10, 'epochs': 200}\n0.006667 (0.009428) with: {'batch_size': 20, 'epochs': 10}\n0.000000 (0.000000) with: {'batch_size': 20, 'epochs': 50}\n0.000000 (0.000000) with: {'batch_size': 20, 'epochs': 100}\n0.000000 (0.000000) with: {'batch_size': 20, 'epochs': 200}\n0.333333 (0.471405) with: {'batch_size': 40, 'epochs': 10}\n0.000000 (0.000000) with: {'batch_size': 40, 'epochs': 50}\n0.000000 (0.000000) with: {'batch_size': 40, 'epochs': 100}\n0.000000 (0.000000) with: {'batch_size': 40, 'epochs': 200}\n0.006667 (0.009428) with: {'batch_size': 60, 'epochs': 10}\n0.013333 (0.018856) with: {'batch_size': 60, 'epochs': 50}\n0.000000 (0.000000) with: {'batch_size': 60, 'epochs': 100}\n0.000000 (0.000000) with: {'batch_size': 60, 'epochs': 200}\n0.000000 (0.000000) with: {'batch_size': 80, 'epochs': 10}\n0.000000 (0.000000) with: {'batch_size': 80, 'epochs': 50}\n0.000000 (0.000000) with: {'batch_size': 80, 'epochs': 100}\n0.000000 (0.000000) with: {'batch_size': 80, 'epochs': 200}\n0.666667 (0.471405) with: {'batch_size': 100, 'epochs': 10}\n0.000000 (0.000000) with: {'batch_size': 100, 'epochs': 50}\n0.040000 (0.056569) with: {'batch_size': 100, 'epochs': 100}\n0.000000 (0.000000) with: {'batch_size': 100, 'epochs': 200}\n</code></pre>\n"}, {"tags": ["python", "sql-server", "pyodbc"], "comments": [{"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1510173268, "post_id": 47188976, "comment_id": 81327611, "body": "Have you tried just performing the insert and then accessing <code>cursor.lastrowid</code>? <a href=\"https://www.python.org/dev/peps/pep-0249/#lastrowid\" rel=\"nofollow noreferrer\">python.org/dev/peps/pep-0249/#lastrowid</a>"}, {"owner": {"reputation": 3672, "user_id": 1368195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f456b9f3fed14d1db444f6e91e929c50?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1368195/alex"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1510182429, "post_id": 47188976, "comment_id": 81331894, "body": "I got an error message <code>AttributeError: pyodbc.Cursor object has no attribute lastrowid.</code>"}], "answers": [{"tags": [], "owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "is_accepted": true, "score": 9, "last_activity_date": 1510187479, "last_edit_date": 1510187479, "creation_date": 1510184977, "answer_id": 47191685, "question_id": 47188976, "link": "https://stackoverflow.com/questions/47188976/how-to-get-the-identity-value-when-using-insert-output-with-pyodbc/47191685#47191685", "title": "How to get the IDENTITY value when using INSERT ... OUTPUT with pyodbc", "body": "<p>I was able to reproduce your issue, and I was able to avoid it by retrieving the <code>id</code> value immediately after the INSERT and <em>before</em> the commit. That is, instead of</p>\n\n\n\n<pre><code>cursor.execute(string, \"John Doe\", 35)\ncursor.commit()\nid = cursor.fetchone()[0]\n</code></pre>\n\n<p>I did</p>\n\n<pre><code>cursor.execute(string, \"John Doe\", 35)\nid = cursor.fetchone()[0]  # although cursor.fetchval() would be preferred\ncursor.commit()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3020, "user_id": 1264920, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6401cada72e3e86775c409db49e6befb?s=128&d=identicon&r=PG", "display_name": "TPPZ", "link": "https://stackoverflow.com/users/1264920/tppz"}, "is_accepted": false, "score": 2, "last_activity_date": 1585240803, "creation_date": 1585240803, "answer_id": 60872000, "question_id": 47188976, "link": "https://stackoverflow.com/questions/47188976/how-to-get-the-identity-value-when-using-insert-output-with-pyodbc/60872000#60872000", "title": "How to get the IDENTITY value when using INSERT ... OUTPUT with pyodbc", "body": "<p>If you're using SQLAlchemy with an <code>engine</code>, then you can retrieve the PyODBC cursor like this before running the query and fetching the table ID.</p>\n\n<pre><code>    connection = sql_alchemy_engine.raw_connection()\n    cursor = connection.cursor()\n    result = cursor.execute(\n        \"\"\"\n        INSERT INTO MySchema.MyTable (Col1, Col2) OUTPUT INSERTED.MyTableId \n        VALUES (?, ?);\n        \"\"\",\n        col1_value,\n        col2_value,\n    )\n    myTableId = cursor.fetchone()[0]\n    cursor.commit()\n    print(\"my ID is:\", myTableId)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 916, "user_id": 765540, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8e215e1f06dc5b1d1319b2c5df1fadbb?s=128&d=identicon&r=PG", "display_name": "Blink", "link": "https://stackoverflow.com/users/765540/blink"}, "is_accepted": false, "score": 4, "last_activity_date": 1599725259, "creation_date": 1599725259, "answer_id": 63825425, "question_id": 47188976, "link": "https://stackoverflow.com/questions/47188976/how-to-get-the-identity-value-when-using-insert-output-with-pyodbc/63825425#63825425", "title": "How to get the IDENTITY value when using INSERT ... OUTPUT with pyodbc", "body": "<p>For me only this worked with Azure SQL Serverless (using <em>pyodbc==4.0.28</em>):</p>\n<pre><code>cursor.execute(insert_statement, param_value_list)\ncursor.execute(&quot;SELECT @@IDENTITY AS ID;&quot;)\nreturn cursor.fetchone()[0]\n</code></pre>\n"}], "owner": {"reputation": 3672, "user_id": 1368195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f456b9f3fed14d1db444f6e91e929c50?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1368195/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5636, "favorite_count": 3, "accepted_answer_id": 47191685, "answer_count": 3, "score": 12, "last_activity_date": 1599725259, "creation_date": 1510172644, "last_edit_date": 1510185984, "question_id": 47188976, "link": "https://stackoverflow.com/questions/47188976/how-to-get-the-identity-value-when-using-insert-output-with-pyodbc", "title": "How to get the IDENTITY value when using INSERT ... OUTPUT with pyodbc", "body": "<p>I am trying to get the ID of a newly inserted row by using <code>OUTPUT</code>. However, I encountered the HY010 error. The following query/code is what I use:</p>\n\n<pre><code>string = \"\"\"\n         SET NOCOUNT ON;\n         DECLARE @NEWID TABLE(ID INT);\n\n         INSERT INTO dbo.t1 (Username, Age)\n         OUTPUT inserted.id INTO @NEWID(ID)\n         VALUES(?, ?)\n\n         SELECT ID FROM @NEWID\n         \"\"\"\n\ncursor.execute(string, \"John Doe\", 35)\ncursor.commit()\nid = cursor.fetchone()[0]\n</code></pre>\n\n<p>the last line <code>id = cursor.fetchone()[0]</code> led to a HY010 error (see below). Any advice would be greatly appreciated!</p>\n\n<pre><code>pyodbc.Error: ('HY010', '[HY010] [Microsoft][ODBC SQL Server Driver]Function sequence error (0) (SQLFetch)')\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "numpy", "lambda", "scipy"], "answers": [{"comments": [{"owner": {"reputation": 780, "user_id": 1390639, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d7eb1c787e4f704466f85b5c2ac9685b?s=128&d=identicon&r=PG", "display_name": "villaa", "link": "https://stackoverflow.com/users/1390639/villaa"}, "edited": false, "score": 0, "creation_date": 1510174048, "post_id": 47189092, "comment_id": 81328060, "body": "as you can see the <code>np.piecewise</code> portion is working as expected despite your comment.  Can you explain how I should modify the use of the <code>np.piecewise</code> function given the evaluation I need?  Linear function for any argument less than <code>ul</code>, zero otherwise."}, {"owner": {"reputation": 432, "user_id": 8232125, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1401839689882105/picture?type=large", "display_name": "Arthur Spoon", "link": "https://stackoverflow.com/users/8232125/arthur-spoon"}, "reply_to_user": {"reputation": 780, "user_id": 1390639, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d7eb1c787e4f704466f85b5c2ac9685b?s=128&d=identicon&r=PG", "display_name": "villaa", "link": "https://stackoverflow.com/users/1390639/villaa"}, "edited": false, "score": 0, "creation_date": 1510175036, "post_id": 47189092, "comment_id": 81328632, "body": "I was sort of guessing from the only logical test I was seeing here... My explanation of the error stands though: <code>_quad</code> is trying to compare the value of an array to <code>Inf</code> (through the parameter you passed), which is making me think that <code>_quad</code> is designed to be used with arrays. If you want to evaluate <code>_quad</code> for several values, I think the simplest way will be to loop over the values of <code>x</code> and call <code>_quad</code> for each value."}], "tags": [], "owner": {"reputation": 432, "user_id": 8232125, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1401839689882105/picture?type=large", "display_name": "Arthur Spoon", "link": "https://stackoverflow.com/users/8232125/arthur-spoon"}, "is_accepted": false, "score": 0, "last_activity_date": 1510173102, "creation_date": 1510173102, "answer_id": 47189092, "question_id": 47188932, "link": "https://stackoverflow.com/questions/47188932/creating-a-new-lambda-function-by-integrating/47189092#47189092", "title": "creating a new lambda function by integrating", "body": "<p>Please always give the full traceback of your any error so that we can actually know where it's not working.</p>\n\n<p>From the error however I can already say that when you write <code>np.piecewise(x, [x &lt; ul, x &gt;= ul], [x[x&lt;ul],0])</code>, the logical tests you are running on your arrays are the problem. Namely, when you write <code>x &lt; ul</code>, do you mean that all values in <code>x</code> must be so that <code>x[i] &lt; ul[i]</code>? Do you mean that at least one value satisfies this condition?</p>\n\n<p>The fix to that problem is basically given by the error: write any logical tests between array within a <code>np.all()</code> or <code>np.any()</code> function, for example <code>np.all(x &lt; ul)</code> if you want all values in <code>x</code> to be less than values in <code>ul</code> in the same position.</p>\n"}, {"comments": [{"owner": {"reputation": 780, "user_id": 1390639, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d7eb1c787e4f704466f85b5c2ac9685b?s=128&d=identicon&r=PG", "display_name": "villaa", "link": "https://stackoverflow.com/users/1390639/villaa"}, "edited": false, "score": 0, "creation_date": 1510605971, "post_id": 47235072, "comment_id": 81497501, "body": "@6-white-male in your second non-code line did you mean <code>f_pdf(3)</code>  I agree with that.  I&#39;m curious as to why it <i>seemed</i> to work as originally written when I gave that function a numpy array."}, {"owner": {"reputation": 780, "user_id": 1390639, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d7eb1c787e4f704466f85b5c2ac9685b?s=128&d=identicon&r=PG", "display_name": "villaa", "link": "https://stackoverflow.com/users/1390639/villaa"}, "edited": false, "score": 0, "creation_date": 1510607174, "post_id": 47235072, "comment_id": 81498227, "body": "@6-white-male your shortcut using <code>np.vectorize</code> seems to work well but there is numerical instability after the upper limit the integral should be constant however some function evaluations fluctuate to <code>0.49999997</code> and some have upward fluctuations.  I eventually tried <code>f_cdf = np.vectorize(lambda x: integrate.quad(f_pdf,0,x,epsabs=1e-15,limit=100)[0])</code> because I thought changing the tolerance and/or the amount of subintervals would make the answer more precise.  The results changed a little but I was not able to get better than 8-digit precision."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "is_accepted": true, "score": 1, "last_activity_date": 1510608803, "last_edit_date": 1510608803, "creation_date": 1510381728, "answer_id": 47235072, "question_id": 47188932, "link": "https://stackoverflow.com/questions/47188932/creating-a-new-lambda-function-by-integrating/47235072#47235072", "title": "creating a new lambda function by integrating", "body": "<p>The third parameter of <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.piecewise.html\" rel=\"nofollow noreferrer\"><code>piecewise</code></a> is supposed to be</p>\n\n<blockquote>\n  <p>list of callables, f(x,*args,**kw), or scalars</p>\n</blockquote>\n\n<p>and <code>x[x &lt; ul]</code> is neither. As written, even a single evaluation <code>f_cdf(3)</code> fails for this reason. </p>\n\n<p>If using a callable there, </p>\n\n<pre><code>f_pdf = lambda x: np.piecewise(x, [x &lt; ul, x &gt;= ul], [lambda x: x, 0])\n</code></pre>\n\n<p>evaluation of <code>f_cdf(3)</code> works, returning <code>(0.49999999999999994, 5.551115123125782e-16)</code>. You probably only want the first part of this tuple, and not the second one, which is an estimate for integration error. So use </p>\n\n<pre><code>f_cdf = lambda x: integrate.quad(f_pdf, 0, x)[0]\n</code></pre>\n\n<p>Since <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.quad.html\" rel=\"nofollow noreferrer\"><code>quad</code></a> does not accept an array as its third argument (it must be a float), an attempt to pass X to <code>f_cdf</code> will fail.  A lazy way to deal with this is to slap <code>vectorize</code> on the function: </p>\n\n<pre><code>f_cdf = np.vectorize(lambda x: integrate.quad(f_pdf,0,x)[0])\n</code></pre>\n\n<p>will make it possible to use <code>f_cdf(X)</code>. This is slow, however. </p>\n\n<h3>Integration with variable upper limit</h3>\n\n<p>A very fast, but not very accurate way is to use <code>cumtrapz</code> method:</p>\n\n<pre><code>print(integrate.cumtrapz(f_pdf(X), X))\n</code></pre>\n\n<p>is much faster than <code>f_cdf(X)</code> but the output has noticeable errors of integration. </p>\n\n<p>To get an accurate result, one can write a <code>for</code> loop that performs integration with <code>quad</code> over very short intervals from X[i-1] to  X[i] and adds the result. This won't easily fit in a one-line <code>lambda</code>, however. </p>\n\n<h3>Precision issue</h3>\n\n<p>Your integrand <code>f_cdf</code> is discontinuous at <code>ul</code>, which hurts the precision of integration. To improve the precision, provide <code>points=[ul]</code> parameter when it falls in the range of integration. Like this: </p>\n\n<pre><code>integrate.quad(f_pdf, 0, x)[0] if x &lt; ul else integrate.quad(f_pdf, 0, x, points=[ul])[0]\n</code></pre>\n"}], "owner": {"reputation": 780, "user_id": 1390639, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d7eb1c787e4f704466f85b5c2ac9685b?s=128&d=identicon&r=PG", "display_name": "villaa", "link": "https://stackoverflow.com/users/1390639/villaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 47235072, "answer_count": 2, "score": 1, "last_activity_date": 1510608803, "creation_date": 1510172472, "last_edit_date": 1510388504, "question_id": 47188932, "link": "https://stackoverflow.com/questions/47188932/creating-a-new-lambda-function-by-integrating", "title": "creating a new lambda function by integrating", "body": "<p>I have an existing function defined in Python using a <code>lambda</code> function.  The function represents the PDF of a probability distribution.  I would like to construct another <code>lambda</code> function one-liner which represents the CDF.  </p>\n\n<p>I do not wish to use a separate function definition with the <code>def</code> keyword.</p>\n\n<p>Below is the code portion I've been working with:</p>\n\n<pre><code>import numpy as np\nimport scipy.integrate as integrate\n\n#define range\ndx=0.01\nX  = np.arange(0,13,dx)\n\n#define a piecewise function for the spline\nul = 1.0\nf_pdf = lambda x: np.piecewise(x, [x &lt; ul, x &gt;= ul], [x[x&lt;ul],0])\nf_cdf = lambda x: integrate.quad(f_pdf,0,x)\n\n#print the function evaluations\nprint(f_pdf(X))\nprint(f_cdf(X))\n</code></pre>\n\n<p>Note that I recently found that for the piecewise definition I needed to restrict the range on the returned array in the <code>x&lt;ul</code> case like <code>x[x&lt;ul]</code> in order for this to work correctly with different size arrays. </p>\n\n<p>The error I get from the last command includes:</p>\n\n<pre><code>    ---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-4-ff6550e6092c&gt; in &lt;module&gt;()\n     13 #print the function evaluations\n     14 print(f_pdf(X))\n---&gt; 15 print(f_cdf(X))\n\n&lt;ipython-input-4-ff6550e6092c&gt; in &lt;lambda&gt;(x)\n      9 ul = 1.0\n     10 f_pdf = lambda x: np.piecewise(x, [x &lt; ul, x &gt;= ul], [x[x&lt;ul],0])\n---&gt; 11 f_cdf = lambda x: integrate.quad(f_pdf,0,x)\n     12 \n     13 #print the function evaluations\n\n/path/anaconda3/lib/python3.6/site-packages/scipy/integrate/quadpack.py in quad(func, a, b, args, full_output, epsabs, epsrel, limit, points, weight, wvar, wopts, maxp1, limlst)\n    321     if (weight is None):\n    322         retval = _quad(func, a, b, args, full_output, epsabs, epsrel, limit,\n--&gt; 323                        points)\n    324     else:\n    325         retval = _quad_weight(func, a, b, args, full_output, epsabs, epsrel,\n\n/path/anaconda3/lib/python3.6/site-packages/scipy/integrate/quadpack.py in _quad(func, a, b, args, full_output, epsabs, epsrel, limit, points)\n    370 def _quad(func,a,b,args,full_output,epsabs,epsrel,limit,points):\n    371     infbounds = 0\n--&gt; 372     if (b != Inf and a != -Inf):\n    373         pass   # standard integration\n    374     elif (b == Inf and a != -Inf):\n\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\n</code></pre>\n\n<p>When I try to let it return values corresponding to an array of integration endpoints.  I considered that the function <code>integrate.quad</code> is not suited to take an array as the integration endpoint, but is there a suitable alternative?</p>\n\n<p>I am using Python 3.6.1.</p>\n"}, {"tags": ["python", "math"], "comments": [{"owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1510172723, "post_id": 47188914, "comment_id": 81327347, "body": "wouldn&#39;t shrinking a number by 1.5 such as the number one would result it <code>-0.5</code>?"}, {"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "edited": false, "score": 0, "creation_date": 1510172753, "post_id": 47188914, "comment_id": 81327355, "body": "Not sure about a name, but here&#39;s a one line version of it if it helps - <code>[max(i-s, 0) if i &gt; 0 else min(i+s, 0) for i in x]</code>"}, {"owner": {"reputation": 21, "user_id": 2985406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1fd39de084e977ffa294e45de96f39?s=128&d=identicon&r=PG&f=1", "display_name": "Toby", "link": "https://stackoverflow.com/users/2985406/toby"}, "reply_to_user": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1510191662, "post_id": 47188914, "comment_id": 81334359, "body": "@Cyzanfar the point is that it gets absorbed into zero"}], "answers": [{"tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 0, "last_activity_date": 1510238270, "creation_date": 1510238270, "answer_id": 47204561, "question_id": 47188914, "link": "https://stackoverflow.com/questions/47188914/remove-part-of-number-line-aka-origin-translation-in-both-directions/47204561#47204561", "title": "Remove part of number line - aka origin translation in both directions", "body": "<p>If you don't even know a name for some operation, it seems unlikely to be included in the language; this is the case w/ your curious \"shrink and absorb\" operation and Python/numpy.</p>\n"}], "owner": {"reputation": 21, "user_id": 2985406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1fd39de084e977ffa294e45de96f39?s=128&d=identicon&r=PG&f=1", "display_name": "Toby", "link": "https://stackoverflow.com/users/2985406/toby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510238270, "creation_date": 1510172391, "question_id": 47188914, "link": "https://stackoverflow.com/questions/47188914/remove-part-of-number-line-aka-origin-translation-in-both-directions", "title": "Remove part of number line - aka origin translation in both directions", "body": "<p>This is such a simple concept, but surprisingly I couldn't find any threads on it. Basically, I'm curious if there's an operator / transformation that effectively removes a portion of the number line centered on zero.  </p>\n\n<p>For example, let's say we have a list: <code>x = [1, 2, -1, -2]</code> and want to apply the transformation. If the shrink occurs at 1.5, then the output would be <code>out = [0.0, 0.5, 0.0, -0.5]</code> does this make sense? Equivalent code is shown below, I'm just curious if there's an actual name for this &amp; an existing operator.</p>\n\n<pre><code>    def operator(list, shrinkValue):\n        # assume it's numpy list\n        sign = np.sign(list)\n        list -= sign * shrinkValue # translate towards zero\n        idx = (sign * list) &lt; 0.0 # get indices that passed the new zero\n        list[idx] = 0.0\n        return list\n</code></pre>\n"}]