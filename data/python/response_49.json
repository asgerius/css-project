[{"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 1098, "user_id": 3087339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce23c12b5a039d846974a4cf2b48a4fb?s=128&d=identicon&r=PG", "display_name": "elParaguayo", "link": "https://stackoverflow.com/users/3087339/elparaguayo"}, "edited": false, "score": 0, "creation_date": 1450338012, "post_id": 34324386, "comment_id": 56399585, "body": "Have you tried the example code on this page: <a href=\"https://groups.google.com/forum/m/#!msg/kivy-users/Go7HINbBtI0/OSJvw0AEbPoJ\" rel=\"nofollow noreferrer\">groups.google.com/forum/m/#!msg/kivy-users/Go7HINbBtI0/&hellip;</a> ?"}, {"owner": {"reputation": 543, "user_id": 4893295, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6bcbe3081615f66750eb71bb7bdca7a8?s=128&d=identicon&r=PG&f=1", "display_name": "user4893295", "link": "https://stackoverflow.com/users/4893295/user4893295"}, "reply_to_user": {"reputation": 1098, "user_id": 3087339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce23c12b5a039d846974a4cf2b48a4fb?s=128&d=identicon&r=PG", "display_name": "elParaguayo", "link": "https://stackoverflow.com/users/3087339/elparaguayo"}, "edited": false, "score": 0, "creation_date": 1450352318, "post_id": 34324386, "comment_id": 56408503, "body": "I&#39;ve tried using the code that Tim H posts in that link, but it tells me it can&#39;t find the module, so I think I&#39;m importing it incorrectly or from the wrong place. I&#39;m not sure if that code gives me the ability to fade just the edge of an image though?"}, {"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 1, "creation_date": 1450353176, "post_id": 34324386, "comment_id": 56409042, "body": "I guess the simplest way to do this in the kivy api is to use the Stencil instructions. You&#39;d want to make a stencil mask whose own alpha fades at the edge. I&#39;d have to experiment to see how this would work though, with the docs <a href=\"http://kivy.org/docs/api-kivy.graphics.stencil_instructions.html\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 543, "user_id": 4893295, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6bcbe3081615f66750eb71bb7bdca7a8?s=128&d=identicon&r=PG&f=1", "display_name": "user4893295", "link": "https://stackoverflow.com/users/4893295/user4893295"}, "edited": false, "score": 1, "creation_date": 1450352440, "post_id": 34325646, "comment_id": 56408563, "body": "I could just design the whole interface in Photoshop ;) The graphic is linked, and will change regularly unfortunately."}], "tags": [], "owner": {"reputation": 31, "user_id": 5602397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c0c33c34851ef0943179f73998f6e?s=128&d=identicon&r=PG&f=1", "display_name": "autopython", "link": "https://stackoverflow.com/users/5602397/autopython"}, "is_accepted": false, "score": -1, "last_activity_date": 1450319450, "creation_date": 1450319450, "answer_id": 34325646, "question_id": 34324386, "link": "https://stackoverflow.com/questions/34324386/how-to-add-a-gradient-to-an-image/34325646#34325646", "title": "How to add a gradient to an image", "body": "<p>You can just create another image with faded edge and load it.</p>\n"}], "owner": {"reputation": 543, "user_id": 4893295, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6bcbe3081615f66750eb71bb7bdca7a8?s=128&d=identicon&r=PG&f=1", "display_name": "user4893295", "link": "https://stackoverflow.com/users/4893295/user4893295"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 219, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450319450, "creation_date": 1450310215, "question_id": 34324386, "link": "https://stackoverflow.com/questions/34324386/how-to-add-a-gradient-to-an-image", "title": "How to add a gradient to an image", "body": "<p>I have an interface made with Kivy, which has an image in part of it. I want to fade one edge of this image. What's the easiest way of achieving this?</p>\n"}, {"tags": ["python", "arrays", "numpy", "multidimensional-array", "percentage"], "comments": [{"owner": {"reputation": 1082, "user_id": 4218896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/467d0f21ceaf1cc47ed8d84f94e89b77?s=128&d=identicon&r=PG&f=1", "display_name": "jfish003", "link": "https://stackoverflow.com/users/4218896/jfish003"}, "edited": false, "score": 1, "creation_date": 1450325987, "post_id": 34324329, "comment_id": 56394989, "body": "Are you looking to count the total number of times that the threshold is exceeded in the entire array or the total number of times for each time stamp. i.e are you looking for a single number like 100 times or 930 numbers, so it was exceeded 5 times on time stamp 1 and 10 times on time stamp 2 and so on."}, {"owner": {"reputation": 43, "user_id": 5688736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82d82de17112cebfb307832c097f6ef0?s=128&d=identicon&r=PG&f=1", "display_name": "wxgirl1031", "link": "https://stackoverflow.com/users/5688736/wxgirl1031"}, "reply_to_user": {"reputation": 1082, "user_id": 4218896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/467d0f21ceaf1cc47ed8d84f94e89b77?s=128&d=identicon&r=PG&f=1", "display_name": "jfish003", "link": "https://stackoverflow.com/users/4218896/jfish003"}, "edited": false, "score": 0, "creation_date": 1450368802, "post_id": 34324329, "comment_id": 56419739, "body": "The total number of times at each lat/lon (hence the i and j pair within the loops), so the final output would result in an array of shape (720, 360) and each point would hold the number of times exceeded. Does that help to clarify it better?"}], "answers": [{"tags": [], "owner": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "is_accepted": false, "score": 2, "last_activity_date": 1450315858, "creation_date": 1450315858, "answer_id": 34325194, "question_id": 34324329, "link": "https://stackoverflow.com/questions/34324329/counting-the-number-of-times-a-threshold-is-met-or-exceeded-in-a-multidimensiona/34325194#34325194", "title": "Counting the number of times a threshold is met or exceeded in a multidimensional array in Python", "body": "<p>Ah, look, another meteorologist!</p>\n\n<p>There are probably multiple ways to do this and my solution is unlikely to be the fastest since it uses numpy's <code>MaskedArray</code>, which is known to be slow, but this should work:</p>\n\n<p>Numpy has a data type called a <code>MaskedArray</code> which actually contains two normal <code>numpy</code> arrays.  It contains a data array as well as a boolean mask.  I would first mask all data that are greater than or equal to my threshold (use <code>np.ma.masked_greater()</code> for just greater than):</p>\n\n<pre><code>ice = np.ma.masked_greater_equal(ice)\n</code></pre>\n\n<p>You can then use <code>ice.count()</code> to determine how many values are below your threshold for each lat/lon point by specifying that you want to count along a specific axis:</p>\n\n<pre><code>n_good = ice.count(axis=0)\n</code></pre>\n\n<p>This should return a 2-dimensional array containing the number of good points.  You can then calculate the number of bad by subtracting <code>n_good</code> from <code>ice.shape[0]</code>:</p>\n\n<pre><code>n_bad = ice.shape[0] - n_good\n</code></pre>\n\n<p>and calculate the percentage that are bad using:</p>\n\n<pre><code>perc_bad = n_bad/float(ice.shape[0])\n</code></pre>\n\n<p>There are plenty of ways to do this without using <code>MaskedArray</code>.  This is just the easy way that comes to mind for me.</p>\n"}, {"comments": [{"owner": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "edited": false, "score": 0, "creation_date": 1450387300, "post_id": 34329657, "comment_id": 56430465, "body": "Your answer made me realize how badly I overthought that problem."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "edited": false, "score": 0, "creation_date": 1450387712, "post_id": 34329657, "comment_id": 56430686, "body": "@Vorticity Ah don&#39;t worry! Happens to the best of us! :)"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 3, "last_activity_date": 1450340127, "creation_date": 1450340127, "answer_id": 34329657, "question_id": 34324329, "link": "https://stackoverflow.com/questions/34324329/counting-the-number-of-times-a-threshold-is-met-or-exceeded-in-a-multidimensiona/34329657#34329657", "title": "Counting the number of times a threshold is met or exceeded in a multidimensional array in Python", "body": "<p>You can compare the input 3D array with the threshold <code>x</code> and then sum along the first axis with <a href=\"http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.ndarray.sum.html\" rel=\"nofollow\"><code>ndarray.sum(axis=0)</code></a> to get the count and thereby the percentages, like so -</p>\n\n<pre><code># Calculate count after thresholding with x and summing along first axis\ncount = (ice &gt; x).sum(axis=0)\n\n# Get percentages (ratios) by dividing with first axis length\npercent_ice = np.true_divide(count,ice.shape[0])\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5688736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82d82de17112cebfb307832c097f6ef0?s=128&d=identicon&r=PG&f=1", "display_name": "wxgirl1031", "link": "https://stackoverflow.com/users/5688736/wxgirl1031"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1523, "favorite_count": 1, "accepted_answer_id": 34329657, "answer_count": 2, "score": 4, "last_activity_date": 1450340127, "creation_date": 1450309795, "question_id": 34324329, "link": "https://stackoverflow.com/questions/34324329/counting-the-number-of-times-a-threshold-is-met-or-exceeded-in-a-multidimensiona", "title": "Counting the number of times a threshold is met or exceeded in a multidimensional array in Python", "body": "<p>I have an numpy array that I brought in from a netCDF file with the shape (930, 360, 720) where it is organized as (time, latitudes, longitudes). </p>\n\n<p>At each lat/lon pair for each of the 930 time stamps, I need to count the number of times that the value meets or exceeds a threshold \"x\" (such as 0.2 or 0.5 etc.) and ultimately calculate the percentage that the threshold was exceeded at each point, then output the results so they can be plotted later on.</p>\n\n<p>I have attempted numerous methods but here is my most recent:</p>\n\n<pre><code>lat_length = len(lats) \n\n#where lats has been defined earlier when unpacked from the netCDF dataset\n\nlon_length = len(lons) \n\n#just as lats; also these were defined before using np.meshgrid(lons, lats)\n\nfor i in range(0, lat_length):\n     for j in range(0, lon_length):\n          if ice[:,i,j] &gt;= x:\n               #code to count number of occurrences here\n               #code to calculate percentage here\n               percent_ice[i,j] += count / len(time) #calculation \n\n #then go on to plot percent_ice\n</code></pre>\n\n<p>I hope this makes sense! I would greatly appreciate any help. I'm self taught in Python so I may be missing something simple. </p>\n\n<p>Would this be a time to use the any() function? What would be the most efficient way to count the number of times the threshold was exceeded and then calculate the percentage?</p>\n"}, {"tags": ["python", "ssh", "pexpect"], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 5628940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a983d4a54b22cb1896fce38447912ff9?s=128&d=identicon&r=PG&f=1", "display_name": "sikez", "link": "https://stackoverflow.com/users/5628940/sikez"}, "is_accepted": true, "score": 0, "last_activity_date": 1450334847, "creation_date": 1450334847, "answer_id": 34328276, "question_id": 34324286, "link": "https://stackoverflow.com/questions/34324286/hide-prexcept-prompt-output/34328276#34328276", "title": "Hide prexcept prompt output", "body": "<p>The pexcept prompt() is a special case of the except() that recognizes most types of prompt identifiers. self.session.before was taking everything between the most recently used prompt and the prompt to be used; in other words, it was taking the command entered and the output. To get rid of the repeated command, just eliminate the first word of the string. I did this by splitting the string into a list, and then, printing everything out except for the first element of the list.</p>\n"}], "owner": {"reputation": 85, "user_id": 5628940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a983d4a54b22cb1896fce38447912ff9?s=128&d=identicon&r=PG&f=1", "display_name": "sikez", "link": "https://stackoverflow.com/users/5628940/sikez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 34328276, "answer_count": 1, "score": 1, "last_activity_date": 1450334847, "creation_date": 1450309510, "question_id": 34324286, "link": "https://stackoverflow.com/questions/34324286/hide-prexcept-prompt-output", "title": "Hide prexcept prompt output", "body": "<p>I am writing a program in Python 2.7 that creates an SSH connection and outputs the results of the command entered. It works fine, but I want to hide the prompt output, or alternatively, is there a way to eliminate the need for prompt?</p>\n\n<p>This is my code responsible for the output:</p>\n\n<pre><code>    if cmd == '!':\n        print (\"Connection terminated.\")\n        self.session.logout()\n        sys.exit(0) \n    else:\n        self.session.sendline(cmd)\n\n        with suppress_stdout():\n            self.session.prompt()\n\n        return self.session.before \n</code></pre>\n\n<p>A sample output (I want to get rid of the second 'ls'):</p>\n\n<pre><code>-&gt; ls\nls\nbin    dev   initrd.img      lib32   lost+found  opt   run   sys  var\nboot   etc   initrd.img.old  lib64   media       proc  sbin  tmp  vmlinuz\ncdrom  home  lib             libx32  mnt         root  srv   usr  vmlinuz.old\n\n-&gt; \n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 2782415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b349cf747164eb9934c9bad5335b868c?s=128&d=identicon&r=PG", "display_name": "ContortedTrash", "link": "https://stackoverflow.com/users/2782415/contortedtrash"}, "edited": false, "score": 0, "creation_date": 1450333234, "post_id": 34324283, "comment_id": 56397231, "body": "This fixed my problem pretty quickly but the same problem occurred and the use of **kwargs did not help:  <code>class BaseTile(): \tdef __init__(self,x,y,*args,**kwargs): \t\tself.x=x \t\tself.y=y  class DoorTile(BaseTile): \tdef __init__(self,door,): \t\tself.door=door \t\tsuper().__init__(*args,**kwargs)  class NWBasement(DoorTile): \tdef __init__(self): \t\tsuper().__init__(x=0,y=0,door=CageDoor())  NWBasementTile = NWBasement() </code>  `   File &quot;tiles.py&quot;, line 25, in <b>init</b>     super().__init__(x=0,y=0,door=CageDoor()) TypeError: __init__() got an unexpected keyword argument &#39;x&#39; `"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 71, "user_id": 2782415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b349cf747164eb9934c9bad5335b868c?s=128&d=identicon&r=PG", "display_name": "ContortedTrash", "link": "https://stackoverflow.com/users/2782415/contortedtrash"}, "edited": false, "score": 0, "creation_date": 1450352063, "post_id": 34324283, "comment_id": 56408348, "body": "@ContortedTrash: <code>DoorTile</code> is passing <code>*args,**kwargs</code> but not accepting them. You can&#39;t pass stuff without accepting it!"}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 9, "last_activity_date": 1450309821, "last_edit_date": 1450309821, "creation_date": 1450309486, "answer_id": 34324283, "question_id": 34324247, "link": "https://stackoverflow.com/questions/34324247/unexpected-keyword-argument-in-super-init/34324283#34324283", "title": "&#39;Unexpected Keyword Argument&#39; in super().__init__()", "body": "<p><code>Door</code>'s <code>__init__</code> doesn't accept <code>name</code> or <code>description</code>, so the call in <code>CageDoor.__init__</code> (which passes control to <code>Door.__init__</code> because <code>super()</code> determines that is the next class up in the inheritance hierarchy) is going to fail.</p>\n\n<p>Change <code>Door.__init__</code> to:</p>\n\n<pre><code>class Door(Scenery):\n    def __init__(self,openstatus,lockstatus, *args, **kwargs):\n        self.openstatus=openstatus\n        self.lockstatus=lockstatus\n        super().__init__(*args, **kwargs)\n</code></pre>\n\n<p>and it will then seamlessly pass along all arguments besides the two it uses to the next <code>__init__</code> up the chain. The advantage to accepting and passing <code>*args</code> and <code>**kwargs</code> is that even if <code>Scenery</code>'s constructor prototype changes, <code>Door</code> doesn't have to; the callers would need to pass along the correct arguments if no defaults are provided (so adding new arguments to <code>Scenery</code>'s constructor without giving them useful defaults is poor form), but <code>Door</code> remains stable.</p>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450310748, "post_id": 34324330, "comment_id": 56390640, "body": "For the top of the hierarchy, assuming no multiple inheritance (which is usually a good idea to avoid, and since <code>Scenery</code> doesn&#39;t delegate using <code>super</code>, it&#39;s assuming that already), you wouldn&#39;t need to accept <code>*args, **kwargs</code>, since the top of the hierarchy isn&#39;t going to pass them anywhere else, and having completely unrecognized arguments raise an exception helps avoid issues with typo-ed keyword argument names getting silently dropped on the floor."}], "tags": [], "owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1450309822, "creation_date": 1450309822, "answer_id": 34324330, "question_id": 34324247, "link": "https://stackoverflow.com/questions/34324247/unexpected-keyword-argument-in-super-init/34324330#34324330", "title": "&#39;Unexpected Keyword Argument&#39; in super().__init__()", "body": "<p>When using super it is important that all the methods in the call chain use the same interface. Here you have <code>Door</code> not taking <code>name</code>, or <code>description</code>. And Scenery doesn't take <code>openstatus</code> or <code>lockstatus</code>. You should have every method in the call chain accept <code>*args</code>, and <code>**kwargs</code> so it can ignore parameters it doesn't care about. For more information see <a href=\"https://rhettinger.wordpress.com/2011/05/26/super-considered-super/\" rel=\"nofollow\">this post</a></p>\n\n<p>In this example it means re-writing <code>Door</code> and <code>Scenery</code> thusly:</p>\n\n<pre><code>class Scenery():\n    def __init__(self,name,description, *args, **kwargs):\n        self.name=name\n        self.description=description\n\nclass Door(Scenery):\n    def __init__(self openstatus,lockstatus, *args, **kwargs):\n        self.openstatus=openstatus\n        self.lockstatus=lockstatus\n        super().__init__(*args, **kwargs)\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 2782415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b349cf747164eb9934c9bad5335b868c?s=128&d=identicon&r=PG", "display_name": "ContortedTrash", "link": "https://stackoverflow.com/users/2782415/contortedtrash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4512, "favorite_count": 0, "answer_count": 2, "score": 7, "last_activity_date": 1450310360, "creation_date": 1450309262, "last_edit_date": 1450310360, "question_id": 34324247, "link": "https://stackoverflow.com/questions/34324247/unexpected-keyword-argument-in-super-init", "title": "&#39;Unexpected Keyword Argument&#39; in super().__init__()", "body": "<p>I'm writing a small text game. \nI keep getting an error when trying to define a class variable.</p>\n\n<p>Here's the class code:</p>\n\n<pre><code>class Scenery():\n    def __init__(self,name,description):\n        self.name=name\n        self.description=description\n\nclass Door(Scenery):\n    def __init__(self,openstatus,lockstatus):\n        self.openstatus=openstatus\n        self.lockstatus=lockstatus\n        super().__init__(name,description,openstatus,lockstatus)\n\nclass CageDoor(Door):\n    def __init__(self):\n        super().__init__(lockstatus=False,\n                         openstatus=False,\n                         name=\"Cage Door\",\n                         description=\"It's the door to the cage.\")\n</code></pre>\n\n<p>The main.py code: </p>\n\n<pre><code>from tiles import CageDoor\n\nCageDoor = CageDoor()\n</code></pre>\n\n<p>And the error:</p>\n\n<pre><code>  File \"main.py\", line 3, in &lt;module&gt;\n    CageDoor = CageDoor()\n  *File Location*\n    name=\"Cage Door\"\nTypeError: __init__() got an unexpected keyword argument 'name'\n</code></pre>\n"}, {"tags": ["python", "django", "choicefield"], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 3, "last_activity_date": 1450310312, "last_edit_date": 1450310312, "creation_date": 1450310130, "answer_id": 34324374, "question_id": 34324210, "link": "https://stackoverflow.com/questions/34324210/some-django-choicefields-with-the-same-choice-source/34324374#34324374", "title": "Some Django ChoiceFields with the same choice source", "body": "<p>Use a list for <code>DAYS</code>:</p>\n\n<pre><code>class MyModel(models.Model):\n    DAYS = [str(d), str(d)) for d in range(1, 29)]\n    day1 = models.CharField('Day 1', max_length=3, null=True, blank=True, choices=DAYS)\n    day2 = models.CharField('Day 2', max_length=3, null=True, blank=True, choices=DAYS)\n</code></pre>\n\n<p>Currently, <code>DAYS</code> is a generator. When you access it the first time to get choices for <code>day1</code>, it returns the results you expect. However, the generator has then been consumed, so you get an empty list when you try to get the choices for <code>day2</code>.</p>\n\n<p>You can see this by trying the following in the Python shell:</p>\n\n<pre><code>&gt;&gt;&gt; DAYS = ((str(d), str(d)) for d in range(1,5))\n&gt;&gt;&gt; print(list(DAYS))\n[('1', '1'), ('2', '2'), ('3', '3'), ('4', '4')]\n&gt;&gt;&gt; print(list(DAYS))\n[]\n&gt;&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 2464, "user_id": 494631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/20649650b6209254e570442e953a8f5f?s=128&d=identicon&r=PG", "display_name": "baldr", "link": "https://stackoverflow.com/users/494631/baldr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 34324374, "answer_count": 1, "score": 3, "last_activity_date": 1450310312, "creation_date": 1450309055, "question_id": 34324210, "link": "https://stackoverflow.com/questions/34324210/some-django-choicefields-with-the-same-choice-source", "title": "Some Django ChoiceFields with the same choice source", "body": "<p>I have a model like this:</p>\n\n<pre><code>class MyModel(models.Model):\n    DAYS = ((str(d), str(d)) for d in range(1, 29))\n\n    day1 = models.CharField('Day 1', max_length=3, null=True, blank=True, choices=DAYS)\n    day2 = models.CharField('Day 2', max_length=3, null=True, blank=True, choices=DAYS)\n</code></pre>\n\n<p>After it gets rendered I see that only field <code>day1</code> has choice list, but <code>day2</code> is empty. If I make another constant <code>DAYS2</code> with the same definition and assign it to <code>day2</code> - it works.</p>\n\n<p>It seems Django modifies the source of <code>choices</code> argument? I did not find it in the sources, but maybe I do something wrong? Is it a known limitation?</p>\n\n<p>I can use workaround of applying <code>deepcopy</code> on <code>DAYS</code>. But I do not think it is good style. Is there another way?</p>\n"}, {"tags": ["python", "diophantine"], "answers": [{"tags": [], "owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "is_accepted": true, "score": 3, "last_activity_date": 1450310230, "last_edit_date": 1450310230, "creation_date": 1450309595, "answer_id": 34324298, "question_id": 34324197, "link": "https://stackoverflow.com/questions/34324197/solving-linear-diophantine-equation/34324298#34324298", "title": "Solving linear Diophantine equation", "body": "<p>I'm guessing you're using Python 3 (as opposed to Python 2).  In Python 3, integer division returns a float result.  However, you can force the Python 2 behavior by using the <code>//</code> operator.  Try changing the following line:</p>\n\n<pre><code>q=r1/r2\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>q=r1//r2\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 5551935, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NtEIR.jpg?s=128&g=1", "display_name": "Oscar Martinez", "link": "https://stackoverflow.com/users/5551935/oscar-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3104, "favorite_count": 0, "accepted_answer_id": 34324298, "answer_count": 1, "score": 2, "last_activity_date": 1564031338, "creation_date": 1450308970, "last_edit_date": 1564031338, "question_id": 34324197, "link": "https://stackoverflow.com/questions/34324197/solving-linear-diophantine-equation", "title": "Solving linear Diophantine equation", "body": "<p>I am trying to code an algorithm in Python in order to solve linear Diophantine equations.</p>\n\n<p>I think my algorithm is correct because I have tested it on a paper, however when I run it, it returns strange values.</p>\n\n<p>My code:</p>\n\n<pre><code>def solve_Dioph(a,b,c):\n    m1=1\n    m2=0\n    n1=0\n    n2=1\n    r1=a\n    r2=b\n    while r1%r2!=0:\n        q=r1/r2\n        aux=r1%r2\n        r1=r2\n        r2=aux\n        aux3=n1-(n2*q)\n        aux2=m1-(m2*q)\n        m1=m2\n        n1=n2\n        m2=aux2\n        n2=aux3\n    return m2*c,n2*c;\n</code></pre>\n\n<p>It uses 7 variables and 3 auxiliar variables. After testing it with a pen and a paper, with this values:</p>\n\n<pre><code>a=65 b=14 c=4\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>m2=-3*4 and n2=14*4\n</code></pre>\n\n<p>However, when I run it:</p>\n\n<pre><code>solve_Dioph(65,14,4)\n</code></pre>\n\n<p>It returns:</p>\n\n<pre><code>(-227/9, 16393/126)\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "artificial-intelligence"], "answers": [{"comments": [{"owner": {"reputation": 2682, "user_id": 3089523, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1f1d349d7dd96964734d628447c0e929?s=128&d=identicon&r=PG&f=1", "display_name": "Bin", "link": "https://stackoverflow.com/users/3089523/bin"}, "edited": false, "score": 0, "creation_date": 1450983911, "post_id": 34328791, "comment_id": 56655719, "body": "Thanks for your comments. The concern on modifying steps directly also is my concern, that&#39;s why I asked whether there is a safe way to do this. Oh, about why I want to modify pipelines instead of creating new pipelines. The reason is because that I want to do a bunch of experiments with different pipeline. So modifying them in code is a preferred way. I agree that create new Pipeline is also a good way to go. I probably reconsider this. Thanks. (Still hoping some one have a way of modifying the steps safely :)"}], "tags": [], "owner": {"reputation": 7661, "user_id": 1030820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bd43a0f1dab655253a7003bf201d290?s=128&d=identicon&r=PG", "display_name": "Ibraim Ganiev", "link": "https://stackoverflow.com/users/1030820/ibraim-ganiev"}, "is_accepted": false, "score": 1, "last_activity_date": 1450336765, "creation_date": 1450336765, "answer_id": 34328791, "question_id": 34324192, "link": "https://stackoverflow.com/questions/34324192/insert-or-delete-a-step-in-scikit-learn-pipeline/34328791#34328791", "title": "Insert or delete a step in scikit-learn Pipeline", "body": "<p>Yes, that's possible, but you must fulfill same requirements which Pipeline requires at initialization, i.e. you cannot insert predictor in any step except last, you should call <code>fit</code> after you update Pipeline.steps, because after such update all steps (maybe they were learned in previous <code>fit</code> calls) will be invalidated, also last step of Pipeline should always implement <code>fit</code> method, all previous steps should implement <code>fit_transform</code>.</p>\n\n<p>So yes, it will work in current codebase, but i think it's not a good solution for your task, it makes your code more dependent on current implementation of Pipeline, i think it's more convenient to create new Pipeline with modified steps, because Pipeline will at least validate all your steps in initialization, also creating new Pipeline will not significantly differ in terms of speed from modifying steps of existing pipeline, but as i've just said - creation of new Pipeline after each modification of steps is safer in case when someone will significantly change implementation of Pipeline.</p>\n"}, {"comments": [{"owner": {"reputation": 2682, "user_id": 3089523, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1f1d349d7dd96964734d628447c0e929?s=128&d=identicon&r=PG&f=1", "display_name": "Bin", "link": "https://stackoverflow.com/users/3089523/bin"}, "edited": false, "score": 0, "creation_date": 1476884701, "post_id": 40119816, "comment_id": 67536139, "body": "Thanks for your answer. Could you please expand on &quot;based on rudimentary testing&quot;?"}, {"owner": {"reputation": 121, "user_id": 1533488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072c58d3b89d49d41f8cf3182d43e4de?s=128&d=identicon&r=PG", "display_name": "labelmaker", "link": "https://stackoverflow.com/users/1533488/labelmaker"}, "reply_to_user": {"reputation": 2682, "user_id": 3089523, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1f1d349d7dd96964734d628447c0e929?s=128&d=identicon&r=PG&f=1", "display_name": "Bin", "link": "https://stackoverflow.com/users/3089523/bin"}, "edited": false, "score": 1, "creation_date": 1476968490, "post_id": 40119816, "comment_id": 67579028, "body": "I have about 500 pre-trained pipelines with identical vectorization steps. I transformed the incoming data using the vectorization step of one of these pipelines, then removed this step from all pipelines before running each pipeline&#39;s predict_proba method on the pre-vectorized data. The resultant scores were the same as if I had run each unmodified pipeline on the raw data without pre-vectorizing, and the overall runtime was improved since I wasn&#39;t doing the identical vectorization step over and over. Note that this only works with stateless transformers like the hashing vectorizer."}], "tags": [], "owner": {"reputation": 121, "user_id": 1533488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072c58d3b89d49d41f8cf3182d43e4de?s=128&d=identicon&r=PG", "display_name": "labelmaker", "link": "https://stackoverflow.com/users/1533488/labelmaker"}, "is_accepted": false, "score": 12, "last_activity_date": 1476834670, "last_edit_date": 1476834670, "creation_date": 1476834299, "answer_id": 40119816, "question_id": 34324192, "link": "https://stackoverflow.com/questions/34324192/insert-or-delete-a-step-in-scikit-learn-pipeline/40119816#40119816", "title": "Insert or delete a step in scikit-learn Pipeline", "body": "<p>Based on rudimentary testing you can safely remove a step from a scikit-learn pipeline just like you would any list item, with a simple</p>\n\n<pre><code>clf_pipeline.steps.pop(n)\n</code></pre>\n\n<p>where n is the position of the individual estimator you are trying to remove.</p>\n"}, {"comments": [{"owner": {"reputation": 2978, "user_id": 5755357, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OIpYiRYdxjU/AAAAAAAAAAI/AAAAAAAAAEc/VPiHlIZsMnE/photo.jpg?sz=128", "display_name": "willk", "link": "https://stackoverflow.com/users/5755357/willk"}, "edited": false, "score": 1, "creation_date": 1592240066, "post_id": 46885639, "comment_id": 110348295, "body": "Thank you for the helpful answer! I think the <code>append</code> or <code>insert</code> should be done with a <code>tuple</code> instead of a ` list` because each step in a pipeline is a <code>tuple</code>. As in:  <code>pipe.steps.append((&#39;step name&#39;,transformer()))</code> and <code>pipe.steps.insert(1,(&#39;estimator&#39;,transformer()))</code>"}], "tags": [], "owner": {"reputation": 5335, "user_id": 3441597, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f305e9e06205fb0a43a3b352ac99abc4?s=128&d=identicon&r=PG&f=1", "display_name": "HonzaB", "link": "https://stackoverflow.com/users/3441597/honzab"}, "is_accepted": true, "score": 25, "last_activity_date": 1508749819, "creation_date": 1508749819, "answer_id": 46885639, "question_id": 34324192, "link": "https://stackoverflow.com/questions/34324192/insert-or-delete-a-step-in-scikit-learn-pipeline/46885639#46885639", "title": "Insert or delete a step in scikit-learn Pipeline", "body": "<p>I see that everyone mentioned only the delete step. In case you want to also insert a step in the pipeline:</p>\n\n<pre><code>pipe.steps.append(['step name',transformer()])\n</code></pre>\n\n<p><code>pipe.steps</code> works in the same way as lists do, so you can also insert an item into a specific location:</p>\n\n<pre><code>pipe.steps.insert(1,['estimator',transformer()]) #insert as second step\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 368, "user_id": 5500488, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0691ea6c592e01686f6b5734316a9834?s=128&d=identicon&r=PG&f=1", "display_name": "skurp", "link": "https://stackoverflow.com/users/5500488/skurp"}, "edited": false, "score": 1, "creation_date": 1569602910, "post_id": 57292703, "comment_id": 102663623, "body": "<code>clf3 = Pipeline([clf.steps[0], clf.steps[2]])</code>"}], "tags": [], "owner": {"reputation": 383, "user_id": 2526582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031741853441d7c93e9a50ffbabffb86?s=128&d=identicon&r=PG", "display_name": "plumbus_bouquet", "link": "https://stackoverflow.com/users/2526582/plumbus-bouquet"}, "is_accepted": false, "score": 5, "last_activity_date": 1564582288, "last_edit_date": 1564582288, "creation_date": 1564581941, "answer_id": 57292703, "question_id": 34324192, "link": "https://stackoverflow.com/questions/34324192/insert-or-delete-a-step-in-scikit-learn-pipeline/57292703#57292703", "title": "Insert or delete a step in scikit-learn Pipeline", "body": "<p>Just chiming in because I feel like the other answers answered the question of adding steps to a pipeline really well, <strong>but didn't really cover how to delete a step from a pipeline.</strong></p>\n\n<p>Watch out with my approach though. Slicing lists in this instance is a bit weird. </p>\n\n<pre><code>from sklearn.pipeline import Pipeline\nfrom sklearn.svm import SVC\nfrom sklearn.decomposition import PCA\nfrom sklearn.preprocessing import PolynomialFeatures\n\nestimators = [('reduce_dim', PCA()), ('poly', PolynomialFeatures()), ('svm', SVC())]\nclf = Pipeline(estimators)\n</code></pre>\n\n<p>If you want to create a pipeline with just steps PCA/Polynomial you can just slice the list step by indexes and pass it to Pipeline</p>\n\n<pre><code>clf1 = Pipeline(clf.steps[0:2])\n</code></pre>\n\n<p>Want to just use steps 2/3?\nWatch out these slices don't always make the most amount of sense</p>\n\n<pre><code>clf2 = Pipeline(clf.steps[1:3])\n</code></pre>\n\n<p>Want to just use steps 1/3? \nI can't seem to do using this approach</p>\n\n<pre><code>clf3 = Pipeline(clf.steps[0] + clf.steps[2]) # errors\n</code></pre>\n"}], "owner": {"reputation": 2682, "user_id": 3089523, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1f1d349d7dd96964734d628447c0e929?s=128&d=identicon&r=PG&f=1", "display_name": "Bin", "link": "https://stackoverflow.com/users/3089523/bin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8891, "favorite_count": 7, "accepted_answer_id": 46885639, "answer_count": 4, "score": 26, "last_activity_date": 1564582288, "creation_date": 1450308940, "question_id": 34324192, "link": "https://stackoverflow.com/questions/34324192/insert-or-delete-a-step-in-scikit-learn-pipeline", "title": "Insert or delete a step in scikit-learn Pipeline", "body": "<p>Is it possible to delete or insert a step in a <code>sklearn.pipeline.Pipeline</code> object?</p>\n\n<p>I am trying to do a grid search with or without one step in the Pipeline object. And wondering whether I can insert or delete a step in the pipeline. I saw in the <code>Pipeline</code> source code, there is a <code>self.steps</code> object holding all the steps. We can get the steps by <code>named_steps()</code>.  Before modifying it, I want to make sure, I do not cause unexpected effects. </p>\n\n<p>Here is a example code:</p>\n\n<pre><code>from sklearn.pipeline import Pipeline\nfrom sklearn.svm import SVC\nfrom sklearn.decomposition import PCA\nestimators = [('reduce_dim', PCA()), ('svm', SVC())]\nclf = Pipeline(estimators)\nclf \n</code></pre>\n\n<p>Is it possible that we do something like <code>steps = clf.named_steps()</code>, then insert or delete in this list? Does this cause undesired effect on the clf object?</p>\n"}, {"tags": ["python", "file"], "comments": [{"owner": {"reputation": 512, "user_id": 5059201, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/hes4w.jpg?s=128&g=1", "display_name": "Sam McCreery", "link": "https://stackoverflow.com/users/5059201/sam-mccreery"}, "edited": false, "score": 1, "creation_date": 1450309063, "post_id": 34324174, "comment_id": 56390155, "body": "Have a read of <a href=\"https://wiki.python.org/moin/HowTo/Sorting#Key_Functions\" rel=\"nofollow noreferrer\">wiki.python.org/moin/HowTo/Sorting#Key_Functions</a>"}, {"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 1, "creation_date": 1450309900, "post_id": 34324174, "comment_id": 56390405, "body": "Also, don&#39;t name your variables things like <code>Class</code> (it&#39;s very close to the built-in <code>class</code> keyword, and avoid generic variable names like <code>Name</code> - something like <code>pupil_name</code> would be better."}], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 1, "last_activity_date": 1450310484, "creation_date": 1450310484, "answer_id": 34324418, "question_id": 34324174, "link": "https://stackoverflow.com/questions/34324174/rearranging-a-file/34324418#34324418", "title": "Rearranging a file", "body": "<p><code>sorted</code>'s <code>key</code> function can do this for you, but it's much nicer if you haven't combined them into a single string, but store <code>tuple</code>s of the pairs instead. Using <code>operator.itemgetter</code> generalizes nicely. Instead of storing:</p>\n\n<pre><code>score = str(score)\nInfo = Name + \" \" + score\n</code></pre>\n\n<p>store:</p>\n\n<pre><code>Info = (Name, score)  # Score remains a float\n</code></pre>\n\n<p>Then when you need to sort, do:</p>\n\n<pre><code># Imports at top of file, not each sort\nfrom operator import itemgetter\n\n...\n\nfor name, score in sorted(myunorderedinfo, key=itemgetter(1, 0)):\n</code></pre>\n\n<p>In the code you provided, you're writing to a file and reading back (which would require reparsing), so you may want to look at the <code>csv</code> module to store the pairs with proper formatting (simple space separation is easy to mess up); you'd have to convert the inputs back to <code>float</code> in that case though, since <code>csv.reader</code> passes back <code>list</code>s of <code>str</code>, but that's relatively easy to do with a simple generator expression (left as an exercise).</p>\n"}, {"tags": [], "owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "is_accepted": false, "score": 0, "last_activity_date": 1450310793, "creation_date": 1450310793, "answer_id": 34324465, "question_id": 34324174, "link": "https://stackoverflow.com/questions/34324174/rearranging-a-file/34324465#34324465", "title": "Rearranging a file", "body": "<p>As an aside, you could make your code much neater by removing all that duplicated code:</p>\n\n<pre><code>VALID_CLASS_NAMES = {\"A\", \"B\", \"C\"}\n\nif Classresults not in VALID_CLASS_NAMES:\n    print(\"Invalid class results selection\")\n    raise Exception(\"BOOM\")\n\nfilename = \"Class {} Results.txt\".format(Classresults)\nwith open(filename, \"r\") as class_results_file:\n    alphabet=class_results_file.readlines()\n    for line in sorted(alphabet):\n        print(line)\n</code></pre>\n\n<p>Now if you ever add class \"D\" then you just need to add it to the set of valid class names.</p>\n"}], "owner": {"reputation": 13, "user_id": 5362380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cae9033f502b1094b6c8c4dfcf0e2107?s=128&d=identicon&r=PG&f=1", "display_name": "jamieT-G", "link": "https://stackoverflow.com/users/5362380/jamiet-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1450310793, "creation_date": 1450308821, "last_edit_date": 1450310638, "question_id": 34324174, "link": "https://stackoverflow.com/questions/34324174/rearranging-a-file", "title": "Rearranging a file", "body": "<p>I have a piece of code (seen below) which enables me to be able to ask pupils a series of random questions and then save their name and scores to a file. I combined the name and score into a single variable called info, with the name coming first then the score.  I now need to sort this information in order of score. Is there a way for me to make the score go in front of the name temporarily in the entire file so that I can use the sorted function to get it to go from lowest to highest?</p>\n\n<p>Any help would be greatly appreciated!!! Thank you.</p>\n\n<pre><code>import random\nimport time\n\nName=input(\"What is your name?\")\nClass=input(\"Are you in Class A, B or C?\")\nprint(\"Welcome\" ,Name, \"to the Maths Quiz!!\")\ntime.sleep(3)\nQuestionNumber=0\nOperations=[\"+\",\"-\",\"x\"]\nanswer=0\nscore=0\nwhile QuestionNumber &lt; 10:\n        Num1=random.randint(1,12)\n        Num2=random.randint(1,12)\n        QuestionNumber=QuestionNumber+1\n        operation = random.choice(Operations)\n        print(\"What is\", Num1 ,operation, Num2)\n        guess=int(input(\"What is the answer to this question?\"))\n\n        if operation ==\"+\":\n            answer=Num1+Num2\n\n        elif operation ==\"-\":\n                answer=Num1-Num2\n\n        elif operation ==\"x\":\n            answer=Num1*Num2\n\n        if guess==answer:\n            score=score+1\n            print (\"Correct\")\n        else:\n            print(\"Incorrect\")\n\nprint(\"Well done You got\", score, \"Out of 10!!\")\nscore=str((score))\nInfo= (Name + (\" \") + score)\nif Class==\"A\":\n        ClassA=open(\"Class A Results.txt\",\"a\")\n        ClassA.write(Info)\n        ClassA.write(\" \\n\")\n        ClassA.close()\nelif Class==\"B\":\n        ClassB=open(\"Class B Results.txt\",\"a\")\n        ClassB.write(Info)\n        ClassB.write(\" \\n\")\n        ClassB.close()\nelif Class==\"C\":\n        ClassC=open(\"Class C Results.txt\",\"a\")\n        ClassC.write(\" \\n\")\n        ClassC.write(Info)\n        ClassC.close()\n\nViewscores=input(\"Do you want to see previous scores? Y/N\")\n\nif Viewscores==\"Y\":\n        Classresults=input(\"Which Class would you like to see the results of?\")\nelse:\n        print (\"Thank you for using the maths quiz, press enter to close the program in 10 seconds\")\n        time.sleep(10)\n        closeprogram=input(\"Hit enter\")\nif Classresults==\"A\":\n        ClassA=open(\"Class A Results.txt\",\"r\")\n        Class=Class\n        alphabet=ClassA.readlines()\n        for line in sorted(alphabet):\n                print(line)\nelif Classresults==\"B\":\n        ClassB=open(\"Class B Results.txt\",\"r\")\n        Class=ClassB\n        alphabet=ClassB.readlines()\n        for line in sorted(alphabet):\n                print(line)\nelif Classresults==\"C\":\n        ClassC=open(\"Class C Results.txt\",\"r\")\n        Class=ClassC\n        alphabet=ClassC.readlines()\n        for line in sorted(alphabet):\n                print(line)\nelse:\n        print (\"That is not valid\")\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1450308924, "post_id": 34324154, "comment_id": 56390107, "body": "Is <code>dd</code> supposed to be an instance variable? Currently it&#39;s a local variable in each method"}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1450309134, "post_id": 34324154, "comment_id": 56390176, "body": "Following up from what Eric said, changing <code>dd</code> to <code>self.dd</code> everywhere would solve your problem. However, at no point do you set <code>dd</code> to 0 other than in the <code>Stop()</code> method, which is never called."}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 5685105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f500e4c49345d0bfce2221911e00427?s=128&d=identicon&r=PG&f=1", "display_name": "M. Bloom", "link": "https://stackoverflow.com/users/5685105/m-bloom"}, "is_accepted": false, "score": 0, "last_activity_date": 1450309566, "last_edit_date": 1495542655, "creation_date": 1450309566, "answer_id": 34324291, "question_id": 34324154, "link": "https://stackoverflow.com/questions/34324154/start-and-stop-functions-python/34324291#34324291", "title": "Start and stop functions python", "body": "<p>It seems like you want your class <code>Class1</code> to have the varible <code>dd</code> which would either be set to 1 or 0. To do this you need to use <code>self.dd</code>.</p>\n\n<p>Take a look at <a href=\"https://stackoverflow.com/a/11008311/5685105\">this post</a>. It does a great job explaining how variable are assigned in Python. </p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5573507, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-30taB2gPnrw/AAAAAAAAAAI/AAAAAAAACHM/FqRrNtkV0yk/photo.jpg?sz=128", "display_name": "Unknown 0.o", "link": "https://stackoverflow.com/users/5573507/unknown-0-o"}, "edited": false, "score": 0, "creation_date": 1450309765, "post_id": 34324303, "comment_id": 56390372, "body": "This is only a small part of my code. Well not exact but it&#39;s still the same concept. I have the start and stop functions set to run when a button is pressed in the GUI."}, {"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "reply_to_user": {"reputation": 1, "user_id": 5573507, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-30taB2gPnrw/AAAAAAAAAAI/AAAAAAAACHM/FqRrNtkV0yk/photo.jpg?sz=128", "display_name": "Unknown 0.o", "link": "https://stackoverflow.com/users/5573507/unknown-0-o"}, "edited": false, "score": 0, "creation_date": 1450309884, "post_id": 34324303, "comment_id": 56390399, "body": "I guess you will be able to use something out of this either way ;)"}], "tags": [], "owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "is_accepted": false, "score": 0, "last_activity_date": 1450309643, "creation_date": 1450309643, "answer_id": 34324303, "question_id": 34324154, "link": "https://stackoverflow.com/questions/34324154/start-and-stop-functions-python/34324303#34324303", "title": "Start and stop functions python", "body": "<p>Besides the problem that there are two <code>dd</code> variables, one in each method, I dont quite understand how you are able to even call <code>Stop</code> while <code>startProgram</code> is being executed?</p>\n\n<p>It looks to me like you are trying to implement a thread:</p>\n\n<pre><code>class Class1(threading.Thread):\n    def __init__(self):\n        super(Class1, self).__init__()\n        self.dd = True\n\n    def function(self, a):\n        print a\n\n    def run(self):\n        with open('data\\blah.txt') as e:\n            for i in e:\n                if self.dd:\n                    self.function(i)\n                # maybe else: break?\n\n    def stop(self):\n       self.dd = False\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>You would use it as:</p>\n\n<pre><code>c = Class1()\nc.start()\n#...\nc.stop()\nc.join()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5573507, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-30taB2gPnrw/AAAAAAAAAAI/AAAAAAAACHM/FqRrNtkV0yk/photo.jpg?sz=128", "display_name": "Unknown 0.o", "link": "https://stackoverflow.com/users/5573507/unknown-0-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1450309643, "creation_date": 1450308730, "question_id": 34324154, "link": "https://stackoverflow.com/questions/34324154/start-and-stop-functions-python", "title": "Start and stop functions python", "body": "<p>I have a loop function that should only run when the variable dd is set to 1. I have two other classes that should start and stop it. Start() sets dd to 1 and runs the loop. Stop() sets dd to 0. But the problem is the variable doesn't change from it's original value 0 when Start() is ran or vise-versa if set to 1 to start with.</p>\n\n<pre><code>  class Class1(object):\n\n      def Function(self, a):\n          print a\n\n      def startProgram(self):\n          with open('data\\blah.txt') as e:\n              for i in e:\n                  if dd == 1:\n                      self.Function(i)\n\n      def Start(self):\n          dd = 1\n          self.startProgram()\n\n      def Stop(self):\n         dd = 0\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "unit-testing", "python-unittest", "with-statement"], "answers": [{"comments": [{"owner": {"reputation": 1550, "user_id": 3772347, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/PXajO.jpg?s=128&g=1", "display_name": "AdjunctProfessorFalcon", "link": "https://stackoverflow.com/users/3772347/adjunctprofessorfalcon"}, "edited": false, "score": 0, "creation_date": 1450309141, "post_id": 34324204, "comment_id": 56390179, "body": "My question is: is my understanding of how the with statement in the unit test works basically correct?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 1550, "user_id": 3772347, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/PXajO.jpg?s=128&g=1", "display_name": "AdjunctProfessorFalcon", "link": "https://stackoverflow.com/users/3772347/adjunctprofessorfalcon"}, "edited": false, "score": 1, "creation_date": 1450309168, "post_id": 34324204, "comment_id": 56390188, "body": "@Malvin9000 -- I think so?  Does your understanding match with the description I just wrote?  ;-)"}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 15, "last_activity_date": 1450309025, "creation_date": 1450309025, "answer_id": 34324204, "question_id": 34324149, "link": "https://stackoverflow.com/questions/34324149/understanding-with-statement-to-catch-valueerror-in-unittest-class/34324204#34324204", "title": "Understanding with statement to catch ValueError in unittest class", "body": "<p>I'm not 100% sure what your question is here ...</p>\n\n<p><code>TestCase.assertRaises</code> creates an object that can be used as a context manager (which is why it can be used with the <code>with</code> statement).  When used this way:</p>\n\n<pre><code>with self.assertRaises(SomeExceptionClass):\n    # code\n</code></pre>\n\n<p>The context manager's <code>__exit__</code> method will check the exception information passed in.  If it is missing, an <code>AssertionError</code> will be thrown causing the test to fail.  If the exception is the wrong type (e.g. not an instance of <code>SomeExceptionClass</code>), an <code>AssertionError</code> will be thrown as well.</p>\n"}, {"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1450309291, "post_id": 34324233, "comment_id": 56390229, "body": "And with the help of <code>contextlib</code>, this form of <code>assertRaises</code> becomes pretty easy to write."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1450309382, "post_id": 34324233, "comment_id": 56390256, "body": "@mgilson I&#39;ve not used contextlib before, I&#39;ll have to give that a go :)"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1450309712, "post_id": 34324233, "comment_id": 56390361, "body": "This would be a fun toy problem to get yourself used to it."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 3, "last_activity_date": 1453211444, "last_edit_date": 1453211444, "creation_date": 1450309213, "answer_id": 34324233, "question_id": 34324149, "link": "https://stackoverflow.com/questions/34324149/understanding-with-statement-to-catch-valueerror-in-unittest-class/34324233#34324233", "title": "Understanding with statement to catch ValueError in unittest class", "body": "<p>It sounds like you understand what the test is doing. You might find it useful to see how you could write the test if <code>assertRaises</code> did not exist.</p>\n\n<pre><code>def test_zero_hours_total(self):\n    try:\n        pay = divide_pay(360.0, {\"Alice\": 0.0, \"Bob\": 0.0, \"Carol\": 0.0})\n    except ValueError:\n        # The exception was raised as expected\n        pass\n    else:\n        # If we get here, then the ValueError was not raised\n        # raise an exception so that the test fails\n        raise AssertionError(\"ValueError was not raised\")\n</code></pre>\n\n<p>Note that you don't have to use <code>assertRaises</code> as a context manager. You can also pass it the exception, a callable, and arguments for that callable:</p>\n\n<pre><code>def test_zero_hours_total(self):\n    self.assertRaises(ValueError, divide_pay, 360.0, {\"Alice\": 0.0, \"Bob\": 0.0, \"Carol\": 0.0})\n</code></pre>\n"}], "owner": {"reputation": 1550, "user_id": 3772347, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/PXajO.jpg?s=128&g=1", "display_name": "AdjunctProfessorFalcon", "link": "https://stackoverflow.com/users/3772347/adjunctprofessorfalcon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8078, "favorite_count": 0, "accepted_answer_id": 34324204, "answer_count": 2, "score": 6, "last_activity_date": 1453211444, "creation_date": 1450308711, "last_edit_date": 1450309217, "question_id": 34324149, "link": "https://stackoverflow.com/questions/34324149/understanding-with-statement-to-catch-valueerror-in-unittest-class", "title": "Understanding with statement to catch ValueError in unittest class", "body": "<p>New to unittest and Python in general, came across example in a tutorial introduction to unit testing wherein a with statement is used to catch a ValueError. </p>\n\n<p>The script being tested (invoice_calculator.py) is: </p>\n\n<pre><code>def divide_pay(amount, staff_hours):\n    \"\"\"\n    Divide an invoice evenly amongst staff depending on how many hours they\n    worked on a project\n    \"\"\"\n    total_hours = 0\n    for person in staff_hours:\n        total_hours += staff_hours[person]\n\n    if total_hours == 0:\n        raise ValueError(\"No hours entered\")\n\n    per_hour = amount / total_hours\n\n    staff_pay = {}\n    for person in staff_hours:\n        pay = staff_hours[person] * per_hour\n        staff_pay[person] = pay\n\n    return staff_pay\n</code></pre>\n\n<p>The unit test includes this function in order to catch an edge case wherein <code>staff_hours = None</code> :</p>\n\n<pre><code>import unittest\nfrom invoice_calculator import divide_pay\n\nclass InvoiceCalculatorTests(unittest.TestCase):\n    def test_equality(self):\n        pay = divide_pay(300.0, {\"Alice\": 3.0, \"Bob\": 6.0, \"Carol\": 0.0})\n        self.assertEqual(pay, {'Bob': 75.0, 'Alice': 75.0, 'Carol': 150.0})\n\n    def test_zero_hours_total(self):\n        with self.assertRaises(ValueError):\n            pay = divide_pay(360.0, {\"Alice\": 0.0, \"Bob\": 0.0, \"Carol\": 0.0})\n\nif __name__ == \"__main__\":\n    unittest.main()\n</code></pre>\n\n<p>Regarding the use of the <code>with</code> statement in <code>test_zero_hours_total(self)</code>, what is actually happening here in terms of how this statement works/is being executed?</p>\n\n<p>Is the <code>test_zero_hours_total()</code> function basically working as follows (layman's description): the expected error should be <code>ValueError</code> (which we're doing by passing <code>ValueError</code> to the function <code>assertRaises()</code>) when <code>360.0, {\"Alice\": 0.0, \"Bob\": 0.0, \"Carol\": 0.0}</code> (which would raise a <code>ValueError</code> in <code>divide_pay()</code>) is passed as arguments to the <code>divide_pay()</code> function? </p>\n"}, {"tags": ["python", "python-3.x", "key", "keyboard-shortcuts"], "answers": [{"tags": [], "owner": {"reputation": 563, "user_id": 5657071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b86880273799f87efafd0734118f2d9?s=128&d=identicon&r=PG&f=1", "display_name": "RasikhJ", "link": "https://stackoverflow.com/users/5657071/rasikhj"}, "is_accepted": false, "score": 0, "last_activity_date": 1458669446, "creation_date": 1458669446, "answer_id": 36161835, "question_id": 34324025, "link": "https://stackoverflow.com/questions/34324025/how-to-implement-key-combinations-including-modifier-keys-in-python/36161835#36161835", "title": "How to implement key combinations (including modifier keys) in Python?", "body": "<p>I use pykeyboard ( with Python 2.7 ) to \"simultaneously press\" 2 keyboard keys as a hotkey. The pykeyboard package comes installed with the <a href=\"https://pypi.python.org/pypi/PyUserInput\" rel=\"nofollow\">PyUserInput</a> installation. </p>\n\n<p>Code Example : If I want to automatically have my program hit the hotkey combination ( CTRL + P ) to print something without me laying a finger on the keyboard, here is how I would do it through pykeyboard. </p>\n\n<pre><code>import pykeyboard\nkeyboard_object = pykeyboard.PyKeyboard()\n</code></pre>\n\n<p>I begin by creating my keyboard object as shown above. </p>\n\n<pre><code>keyboard_object.press_key   ( keyboard_object.control_key )\nkeyboard_object.tap_key     ( \"P\" )  # Upper-Case\nkeyboard_object.release_key ( keyboard_object.control_key )\n</code></pre>\n\n<p>That should bring up the print window and I could have it continue forward to print on the default setting by having my script hit the Enter Key.</p>\n\n<pre><code>keyboard_object.tap_key ( keyboard_object.enter_key )\n</code></pre>\n\n<p>I can even have my script type custom strings. This can be useful if I want to save a file by a specified string in an automated form. I'll begin with the ( CTRL + S ) hotkey combination.</p>\n\n<pre><code>keyboard_object.press_key   ( keyboard_object.control_key )\nkeyboard_object.tap_key     ( \"S\" )  # Upper-Case\nkeyboard_object.release_key ( keyboard_object.control_key )\n</code></pre>\n\n<p>The \"Save-As\" window should pop up, prompting me to specify the filename that I want to have saved. So I'll pass that as a string.</p>\n\n<pre><code>keyboard_object.type_string ( \"MyFilename-03_22_2016.html\" )\nkeyboard_object.tap_key ( keyboard_object.enter_key )\n</code></pre>\n\n<p>Voila!</p>\n"}], "owner": {"reputation": 559, "user_id": 5661257, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5ea35715e91596140ffa13e3b8863ad8?s=128&d=identicon&r=PG&f=1", "display_name": "R. Kap", "link": "https://stackoverflow.com/users/5661257/r-kap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1239, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458669446, "creation_date": 1450308110, "last_edit_date": 1450383163, "question_id": 34324025, "link": "https://stackoverflow.com/questions/34324025/how-to-implement-key-combinations-including-modifier-keys-in-python", "title": "How to implement key combinations (including modifier keys) in Python?", "body": "<p>I am wondering about bow to implement two-key combinations in Python. I am  utilizing the <code>turtle.onkey()</code> function since I am using turtle graphics, but it seems like it is not very versatile, as I cannot find a way for it to take key combinations. So, is there <strong>any other way</strong> to implement <strong>key combinations</strong> in <strong>python</strong>? Any help regarding this issue is very much appreciated! :)</p>\n"}, {"tags": ["python", "list", "matrix", "nonetype"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1450308094, "post_id": 34323983, "comment_id": 56389825, "body": "You see that part near the start of the function where you specifically go through and remove Nones? Do you think that has anything to do with the problem? (Also, don&#39;t use <code>row.index(temp)</code>. It&#39;s slow, it&#39;s bug-prone in the presence of duplicates, and you should already know the index.)"}, {"owner": {"reputation": 1, "user_id": 5679182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43bc8045c01270e494d56169a07a4aba?s=128&d=identicon&r=PG&f=1", "display_name": "garex434", "link": "https://stackoverflow.com/users/5679182/garex434"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1450308336, "post_id": 34323983, "comment_id": 56389910, "body": "I make a copy just to remove the Nones, and I assure you this function works perfectly fine if it&#39;s the only one called."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 4, "creation_date": 1450309944, "post_id": 34323983, "comment_id": 56390418, "body": "you will have to show how you are calling this function in your code. You say that it works one way and not the other so show both ways that you call the function"}, {"owner": {"reputation": 3026, "user_id": 268968, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RRNRg.jpg?s=128&g=1", "display_name": "rdodev", "link": "https://stackoverflow.com/users/268968/rdodev"}, "edited": false, "score": 0, "creation_date": 1450313033, "post_id": 34323983, "comment_id": 56391329, "body": "I think you&#39;re getting into trouble in the while loop checking for/removing <code>None</code>. Personally the code seems overly complicated for what it&#39;s trying to do."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1450313115, "post_id": 34323983, "comment_id": 56391352, "body": "<code>i</code> in <code>row</code> and <code>copy1</code> will not be related, which is likely a source of some of your problems. You read <code>copy1[i]</code> and write a computed value to <code>row[i]</code>, but all the removed <code>None</code>s mean that the indices in <code>row</code> are only tangentially related to <code>copy1</code> at best. Beyond that, you&#39;ve turned removing <code>None</code>s from <code>list</code> into a <code>O(n**2)</code> operation, when it should only be <code>O(n)</code>; <code>copy1 = [x for x in row if x is not None]</code> would both copy and strip the <code>None</code>s in a single pass, with the cost being proportionate to the length of <code>row</code>, not the length of <code>row</code> and the number of <code>None</code>s in it."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1450313229, "post_id": 34323983, "comment_id": 56391380, "body": "Might also be useful to see the supposedly working non-helper function version. Code this ugly seems likely to be the result of really poor refactoring."}], "answers": [{"tags": [], "owner": {"reputation": 4251, "user_id": 2997179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RPknn.png?s=128&g=1", "display_name": "Martin Valgur", "link": "https://stackoverflow.com/users/2997179/martin-valgur"}, "is_accepted": false, "score": 0, "last_activity_date": 1450314208, "creation_date": 1450314208, "answer_id": 34324981, "question_id": 34323983, "link": "https://stackoverflow.com/questions/34323983/are-nonetype-objects-deleted-during-list-operations/34324981#34324981", "title": "Are NoneType objects deleted during list operations?", "body": "<p>Here's an alternative implementation of the same function. It becomes much cleaner if you don't reuse the <code>row</code> variable and use a separate index for <code>trimmed</code> and <code>new_row</code>.</p>\n\n<pre><code>def match(row):\n    trimmed = list(filter(None, row))\n    new_row = [None] * 4\n    score = 0\n    i = 0\n    j = 0\n    while i &lt; len(trimmed):\n        temp = trimmed[i]\n        if i + 1 &lt; len(trimmed) and trimmed[i + 1] == temp:\n            new_row[j] = temp * 2\n            score += temp * 2\n            i += 1\n        else:\n            new_row[j] = temp\n        i += 1\n        j += 1\n    return new_row\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5679182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43bc8045c01270e494d56169a07a4aba?s=128&d=identicon&r=PG&f=1", "display_name": "garex434", "link": "https://stackoverflow.com/users/5679182/garex434"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1450314208, "creation_date": 1450307835, "last_edit_date": 1450312436, "question_id": 34323983, "link": "https://stackoverflow.com/questions/34323983/are-nonetype-objects-deleted-during-list-operations", "title": "Are NoneType objects deleted during list operations?", "body": "<p>So I am implementing several functions for the 2048 game, and have some problems with the vital, so-called <code>match( row )</code> [search for list items adjacent or separated only by <code>None</code>'s and add them at leftmost position]. My algorithm seems to work very well on its own, but when implemented as helper function it runs into some trouble. For example, the matched row is used as <code>[2]</code> or <code>[4,4]</code>, whereas it should be inputted as <code>[None,2,None,None]</code> and <code>[2,None,2,4]</code>, respectively, wherefrom my inquiry about possible NoneType object deletion.</p>\n\n<p>Any light shed on this question would be very much appreciated.</p>\n\n<p>Here is the full function:</p>\n\n<pre><code>def match(row):\n    copy1 = row.copy()\n    score = 0\n    while None in copy1: copy1.remove(None)\n    i = 0\n    while i &lt; len(copy1):\n        temp = copy1[i]\n        if i &lt; len(copy1)-1 and copy1[i+1] == temp:\n            row[i] = temp*2\n            row[row.index(temp)] = None\n            score = score + temp*2\n            i = i + 2\n        else:\n            i = i + 1\n    return row\n</code></pre>\n"}, {"tags": ["python", "loops", "variables", "addition"], "comments": [{"owner": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "edited": false, "score": 0, "creation_date": 1450308094, "post_id": 34323908, "comment_id": 56389824, "body": "From what i can see the indentation could be a problem here. Indent the while loop to the if statement above it. The other if statement seems to have its print also at incorrect indentation."}, {"owner": {"reputation": 23, "user_id": 5688238, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6eEbo.jpg?s=128&g=1", "display_name": "Copache", "link": "https://stackoverflow.com/users/5688238/copache"}, "reply_to_user": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "edited": false, "score": 0, "creation_date": 1450308367, "post_id": 34323908, "comment_id": 56389919, "body": "Thanks for the reply! It was just a formatting error on part of me copying it over to the website box. The loop runs for sure. I just don&#39;t know what operation I should use to make the deficit equal the cost."}, {"owner": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "edited": false, "score": 0, "creation_date": 1450308573, "post_id": 34323908, "comment_id": 56389989, "body": "inside of the loop insert <code>deficit -= ???</code>  where  <code>???</code> is some variable. This basically is <code>deficit=deficit - ???</code>"}], "answers": [{"tags": [], "owner": {"reputation": 286, "user_id": 5051733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-rWmeMhtN2wg/AAAAAAAAAAI/AAAAAAAAAIU/o4AmgG3LrnI/photo.jpg?sz=128", "display_name": "John Marshall", "link": "https://stackoverflow.com/users/5051733/john-marshall"}, "is_accepted": false, "score": 0, "last_activity_date": 1450308671, "creation_date": 1450308671, "answer_id": 34324143, "question_id": 34323908, "link": "https://stackoverflow.com/questions/34323908/python-performing-user-defined-addition-to-a-variable-in-a-loop/34324143#34324143", "title": "Python: Performing user-defined addition to a variable in a loop", "body": "<p>Assuming you don't want to break from the loop until they pay enough money you could do this: </p>\n\n<pre><code>while abs(deficit) &lt; cost:\n    added = float(input(\"Please enter an additional $\",deficit,\".\"))\n    deficit = cost - deposit - added \n</code></pre>\n\n<p>The abs function will output the absolute value so you can compare it directly to cost.</p>\n\n<p>Somethings to note though, you might want to do error checking on your inputs.\nAlso, if you do want to be able provide a mechanism for the user to break from the loop, you could add a boolean true or false (instead of loop count) that is attached to some other input like \"Do you want to insert more money? y or n\"  </p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5688238, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6eEbo.jpg?s=128&g=1", "display_name": "Copache", "link": "https://stackoverflow.com/users/5688238/copache"}, "edited": false, "score": 0, "creation_date": 1450309125, "post_id": 34324181, "comment_id": 56390173, "body": "I&#39;m not really undestanding how the &quot;str(deficit) +&quot; operates. What is the exact name (or idea) for that kind of feature? I want to learn more about what it does."}, {"owner": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "reply_to_user": {"reputation": 23, "user_id": 5688238, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6eEbo.jpg?s=128&g=1", "display_name": "Copache", "link": "https://stackoverflow.com/users/5688238/copache"}, "edited": false, "score": 0, "creation_date": 1450309245, "post_id": 34324181, "comment_id": 56390212, "body": "@AustinHowe in this case, the concatenation of these strings requires an explicit <a href=\"http://www.informit.com/articles/article.aspx?p=459269&amp;seqNum=7\" rel=\"nofollow noreferrer\">type cast</a> of <i>deficit</i> to a string, which <a href=\"https://docs.python.org/2/library/functions.html#str\" rel=\"nofollow noreferrer\"><code>str()</code></a> does. <i>In hindsight, I should&#39;ve formatted the string, rather than concatenate them. Oh well.</i>"}], "tags": [], "owner": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "is_accepted": true, "score": 1, "last_activity_date": 1450309723, "last_edit_date": 1450309723, "creation_date": 1450308855, "answer_id": 34324181, "question_id": 34323908, "link": "https://stackoverflow.com/questions/34323908/python-performing-user-defined-addition-to-a-variable-in-a-loop/34324181#34324181", "title": "Python: Performing user-defined addition to a variable in a loop", "body": "<p>This works for me. Do make sure to increase the <code>loopCount</code>, as right now, it will not loop more than once.</p>\n\n<pre><code>selection = 5\nloopCount = 0\ndeposit = 0\ncost = 1.75\nprint(\"It costs $\",cost,\".\")\ndeposit = float(input(\"Enter your money amount (e.g. 1.5 for $1.50, .50 for $0.50, etc.):\\n--\\n\"))\ndeficit = cost - deposit\nchange = deposit - cost\nif deposit &lt; cost:\n    while deficit &gt; 0 and loopCount &lt; 1:\n        deficit -= float(input(\"Please enter an additional ${}.\".format(deficit)))\n        loopCount += 1\nif deposit &gt;= cost:\n    print(\"Thank you for purchasing item#\",selection,\". Your change is $\",change,\".\")\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5688238, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6eEbo.jpg?s=128&g=1", "display_name": "Copache", "link": "https://stackoverflow.com/users/5688238/copache"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 34324181, "answer_count": 2, "score": 2, "last_activity_date": 1450309723, "creation_date": 1450307462, "last_edit_date": 1450308283, "question_id": 34323908, "link": "https://stackoverflow.com/questions/34323908/python-performing-user-defined-addition-to-a-variable-in-a-loop", "title": "Python: Performing user-defined addition to a variable in a loop", "body": "<p>This is a module in part of a larger \"vending machine\" I am working on. I have ran into some issues, though. If they do not pay enough ($1.75) they are asked to enter an additional amount of money. Part of my problem is that I don't know what operations I should do to change the deficit inside of a loop. All of the things I've tried has resulted in errors like \"input expected at most 1 arguments, got 3\" and so forth. </p>\n\n<pre><code>selection = 5\nloopCount = 0\ndeposit = 0\ncost = 1.75\nprint(\"It costs $\",cost,\".\")\ndeposit = float(input(\"Enter your money amount (e.g. 1.5 for $1.50, .50 for $0.50, etc.):\\n--\\n\"))\ndeficit = cost - deposit\nchange = deposit - cost\nif deposit &lt; cost:\n    while deficit &gt; 0 and loopCount &lt; 1:\n        ??? = float(input(\"Please enter an additional $\",deficit,\".\"))\n        loopCount += 1\nif deposit &gt;= cost:\n    print(\"Thank you for purchasing item#\",selection,\". Your change is $\",change,\".\")\n</code></pre>\n"}, {"tags": ["python", "flask", "flask-sqlalchemy", "flask-security"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 4979322, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/932684c5b9f4ce7027981d833a014f47?s=128&d=identicon&r=PG&f=1", "display_name": "Bhargav Patel", "link": "https://stackoverflow.com/users/4979322/bhargav-patel"}, "edited": false, "score": 3, "creation_date": 1450369152, "post_id": 34339136, "comment_id": 56420049, "body": "Hey I just checked it today and it is working fine! I guess since Flask-stormpath is also using Flask-security it happened due to cache. Because my local env was working good all time and with the same code production was not working as expected.  Thank you though.. :)"}], "tags": [], "owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "is_accepted": false, "score": 1, "last_activity_date": 1450368450, "creation_date": 1450368450, "answer_id": 34339136, "question_id": 34323898, "link": "https://stackoverflow.com/questions/34323898/dataerror-psycopg2-dataerror-invalid-input-syntax-for-integer-https-api-s/34339136#34339136", "title": "DataError: (psycopg2.DataError) invalid input syntax for integer: &quot;https://api.stormpath.com/v1/accounts/xxxxxxxxxxxxxxxxxxx&quot;", "body": "<p>Your code is passing URL where it should pass the id of the user to a function.</p>\n\n<p>Please try to figure out where in your code this is being passed errorneously. If you cannot fix your code please edit the question and include a full traceback and related code.</p>\n"}], "owner": {"reputation": 131, "user_id": 4979322, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/932684c5b9f4ce7027981d833a014f47?s=128&d=identicon&r=PG&f=1", "display_name": "Bhargav Patel", "link": "https://stackoverflow.com/users/4979322/bhargav-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 847, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1450368450, "creation_date": 1450307422, "last_edit_date": 1450367466, "question_id": 34323898, "link": "https://stackoverflow.com/questions/34323898/dataerror-psycopg2-dataerror-invalid-input-syntax-for-integer-https-api-s", "title": "DataError: (psycopg2.DataError) invalid input syntax for integer: &quot;https://api.stormpath.com/v1/accounts/xxxxxxxxxxxxxxxxxxx&quot;", "body": "<p>I was using Flask-Stormpath and then I switched to Flask-security instead of Flask-Stormpath. So I uninstall it(stormpath). \nBut somehow I don't know it is taking stormpath account to find user detail.</p>\n\n<pre><code>DataError: (psycopg2.DataError) invalid input syntax for integer: \n\"https://api.stormpath.com/v1/accounts/xxxxxxxxxxxxxxxxxx\"\nLINE 3: WHERE auth_user.id = 'https://api.stormpath.com/v1/accounts/...\n\n[SQL: 'SELECT auth_user.id AS auth_user_id, auth_user.uuid AS auth_user_uuid, auth_user.created_at AS auth_user_created_at, auth_user.updated_at AS auth_user_updated_at, auth_user.deleted_at AS auth_user_deleted_at, auth_user.email AS auth_user_email, auth_user.password AS auth_user_password, auth_user.first_name AS auth_user_first_name, auth_user.last_name AS auth_user_last_name, auth_user.active AS auth_user_active, auth_user.confirmed_at AS auth_user_confirmed_at, auth_user.last_login_at AS auth_user_last_login_at, auth_user.current_login_at AS auth_user_current_login_at, auth_user.last_login_ip AS auth_user_last_login_ip, auth_user.current_login_ip AS auth_user_current_login_ip, auth_user.login_count AS auth_user_login_count \\nFROM auth_user \\nWHERE auth_user.id = %(id_1)s \\n LIMIT %(param_1)s'] [parameters: {'id_1': u'https://api.stormpath.com/v1/accounts/xxxxxxxxxxxxxxxx', 'param_1': 1}]\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "edited": false, "score": 0, "creation_date": 1450307289, "post_id": 34323852, "comment_id": 56389509, "body": "Do you mean converting from the datetime object to a string?"}, {"owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "reply_to_user": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "edited": false, "score": 0, "creation_date": 1450307345, "post_id": 34323852, "comment_id": 56389525, "body": "no - it is in a string field (i.e. <code>[datetime.date(2003, 2, 4)...</code>] is just text) - i want to convert it back to a list of dates."}, {"owner": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "edited": false, "score": 0, "creation_date": 1450307400, "post_id": 34323852, "comment_id": 56389554, "body": "Wait so the whole thing is a string like so: <code>&quot;[datetime.date(2003, 2, 4), datetime.date(2003, 2, 6)]&quot;</code> ?"}, {"owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "reply_to_user": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "edited": false, "score": 0, "creation_date": 1450307444, "post_id": 34323852, "comment_id": 56389566, "body": "yes - it was previously a list of dates in python, but was saved to the sql as a string - i want to convert back to list of dates"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1450307461, "post_id": 34323852, "comment_id": 56389573, "body": "like an unwanted crazy uncle in thanksgiving, I could hear the sound of <code>eval</code> creeping up on this question"}, {"owner": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "edited": false, "score": 0, "creation_date": 1450307634, "post_id": 34323852, "comment_id": 56389658, "body": "Perhaps you could use the solution from here: <a href=\"http://stackoverflow.com/questions/4235606/python-ast-literal-eval-and-datetime\" title=\"python ast literal eval and datetime\">stackoverflow.com/questions/4235606/&hellip;</a>"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1450318340, "post_id": 34323852, "comment_id": 56392849, "body": "the correct solution is to fix your upstream data generation process, to avoid parsing Python code. What specific format to use instead depends on your application e.g., <code>pickle</code>, <code>json</code> may be used in different cases."}], "answers": [{"comments": [{"owner": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "edited": false, "score": 0, "creation_date": 1450307628, "post_id": 34323938, "comment_id": 56389655, "body": "<code>eval</code> IS dangerous, so I see no reason why you would suggest it at all"}, {"owner": {"reputation": 11661, "user_id": 277267, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/F0Dwz.png?s=128&g=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/277267/daniel-f"}, "reply_to_user": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "edited": false, "score": 0, "creation_date": 1450307724, "post_id": 34323938, "comment_id": 56389689, "body": "@TerryA There, updated the warning. That should void your argument."}, {"owner": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "edited": false, "score": 0, "creation_date": 1450307826, "post_id": 34323938, "comment_id": 56389728, "body": "Well then that&#39;s not really your answer is it. You&#39;re basically saying &quot;don&#39;t do x, do y, but here&#39;s x&quot;. Show &#39;y&#39; :)"}, {"owner": {"reputation": 11661, "user_id": 277267, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/F0Dwz.png?s=128&g=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/277267/daniel-f"}, "reply_to_user": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "edited": false, "score": 0, "creation_date": 1450308340, "post_id": 34323938, "comment_id": 56389911, "body": "@TerryA Updated the code. But actually the question does not ask about security related stuff. This is one valid application for eval, regardless of the security implications."}], "tags": [], "owner": {"reputation": 11661, "user_id": 277267, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/F0Dwz.png?s=128&g=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/277267/daniel-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1450308234, "last_edit_date": 1450308234, "creation_date": 1450307588, "answer_id": 34323938, "question_id": 34323852, "link": "https://stackoverflow.com/questions/34323852/convert-string-to-list-of-dates/34323938#34323938", "title": "Convert string to list of dates", "body": "<p>This, but eval is dangerous, so you might want to regex it to check if it is of the format you expect. </p>\n\n<pre><code>import re\nimport datetime\nstrdates = \"[datetime.date(2003, 2, 4), datetime.date(2003, 2, 6)]\"\nif re.search(r\"\\[(datetime\\.date\\(\\d{4},\\ *\\d{1,2},\\ *\\d{1,2}\\),?\\ *)+]\", strdates):\n  dates = eval(strdates)\n  for date in dates:\n    print date\n</code></pre>\n\n<p>So if you trust your database, you can remove the regex.</p>\n"}, {"tags": [], "owner": {"reputation": 2346, "user_id": 4400277, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e793a96600dee929c909b81fcc05cd7?s=128&d=identicon&r=PG&f=1", "display_name": "Boa", "link": "https://stackoverflow.com/users/4400277/boa"}, "is_accepted": false, "score": 1, "last_activity_date": 1450309624, "last_edit_date": 1450309624, "creation_date": 1450308683, "answer_id": 34324146, "question_id": 34323852, "link": "https://stackoverflow.com/questions/34323852/convert-string-to-list-of-dates/34324146#34324146", "title": "Convert string to list of dates", "body": "<pre><code>from dateutil.parser import parse\n\nd = \"[datetime.date(2003, 2, 4), datetime.date(2003, 2, 6)]\"\n\nreverse_date = lambda x: ','.join(x.split(',')[::-1])\nclean_up = lambda x: x.replace('datetime.date(','').replace(')','')\n\n[parse(reverse_date(clean_up(x))) for x in d[1:-1].split('),')]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[datetime.datetime(2003, 4, 2, 0, 0), datetime.datetime(2003, 6, 2, 0, 0)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "is_accepted": true, "score": 3, "last_activity_date": 1450310941, "creation_date": 1450310941, "answer_id": 34324489, "question_id": 34323852, "link": "https://stackoverflow.com/questions/34323852/convert-string-to-list-of-dates/34324489#34324489", "title": "Convert string to list of dates", "body": "<p>You could turn your code into something <code>ast.literal_eval</code> can parse and then convert it back into <code>datetime.date</code> objects:</p>\n\n<pre><code>import ast\nimport datetime\n\nd = \"[datetime.date(2003, 2, 4), datetime.date(2003, 2, 6)]\"\ndates = [datetime.date(*args) for args in ast.literal_eval(d.replace('datetime.date', ''))]\n</code></pre>\n\n<p>This avoids the potential security problems of <code>eval</code> while still being reasonably simple.</p>\n"}, {"tags": [], "owner": {"reputation": 5183, "user_id": 3155195, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96fb82a06f0a269039e913211ac44fcd?s=128&d=identicon&r=PG&f=1", "display_name": "zehnpaard", "link": "https://stackoverflow.com/users/3155195/zehnpaard"}, "is_accepted": false, "score": 1, "last_activity_date": 1450331194, "last_edit_date": 1450331194, "creation_date": 1450312930, "answer_id": 34324802, "question_id": 34323852, "link": "https://stackoverflow.com/questions/34323852/convert-string-to-list-of-dates/34324802#34324802", "title": "Convert string to list of dates", "body": "<p>Sometimes, regex really is the right tool for the job - I don't think the following code is too complex, and seems pretty explicit in its intention:</p>\n\n<pre><code>from dateutil.parser import parse\nimport re\n\ns = \"[datetime.date(2003, 2, 4), datetime.date(2003, 2, 6)]\"\nc = re.compile(\"datetime.date\\((.*?)\\)\")\ndate_strings = c.findall(s)\nprint [parse(date_string).date() for date_string in date_strings]\n</code></pre>\n\n<p>If you don't have access to the <code>dateutil</code> module, then you can also roll your own <code>parse</code> function:</p>\n\n<pre><code>import datetime\nimport re\n\ndef parse(s):\n    year, month, day = s.split(', ')\n    year, month, day = int(year), int(month), int(day)\n    return datetime.date(year, month, day)\n\ns = \"[datetime.date(2003, 2, 4), datetime.date(2003, 2, 6)]\"\nc = re.compile(\"datetime.date\\((.*?)\\)\")\ndate_strings = c.findall(s)\nprint [parse(date_string) for date_string in date_strings]\n</code></pre>\n"}], "owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 34324489, "answer_count": 4, "score": 0, "last_activity_date": 1450331194, "creation_date": 1450307185, "last_edit_date": 1450307539, "question_id": 34323852, "link": "https://stackoverflow.com/questions/34323852/convert-string-to-list-of-dates", "title": "Convert string to list of dates", "body": "<p>I am reading a list of dates which has been saved to a sql file as a string filed - it has the form <code>\"[datetime.date(2003, 2, 4), datetime.date(2003, 2, 6)]\"</code>. Is there a easy way of converting this from the string to the original format again?</p>\n\n<p>[n.b. all i can think of would be to parse it by regex, but I am hoping that there would be an easier way]</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 13904, "user_id": 106140, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/f976af5e820922c8ebc645e42f8e17a4?s=128&d=identicon&r=PG", "display_name": "Olivier Pons", "link": "https://stackoverflow.com/users/106140/olivier-pons"}, "edited": false, "score": 0, "creation_date": 1450311418, "post_id": 34324065, "comment_id": 56390870, "body": "With your second solution if I try with &quot;pelh&quot; and &quot;help&quot; then set(&#39;pehl&#39;)==set(&#39;help&#39;) then I may get &quot;true&quot; even though the words are not the same. Am I right?"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 13904, "user_id": 106140, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/f976af5e820922c8ebc645e42f8e17a4?s=128&d=identicon&r=PG", "display_name": "Olivier Pons", "link": "https://stackoverflow.com/users/106140/olivier-pons"}, "edited": false, "score": 0, "creation_date": 1450311667, "post_id": 34324065, "comment_id": 56390949, "body": "Yes, but remember that you are calling <code>set</code> on the object being returned from <code>zip</code>. So say your descriptions are <code>&quot;help&quot;</code> and <code>&quot;hepl&#39;</code>, then <code>set(a)</code> in your code is equivalent to <code>set((&#39;help&#39;,&#39;hepl&#39;))</code> which would still give you a length of 2 since <code>&#39;help&#39; != &#39;hepl&#39;</code>"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 13904, "user_id": 106140, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/f976af5e820922c8ebc645e42f8e17a4?s=128&d=identicon&r=PG", "display_name": "Olivier Pons", "link": "https://stackoverflow.com/users/106140/olivier-pons"}, "edited": false, "score": 0, "creation_date": 1450311773, "post_id": 34324065, "comment_id": 56390988, "body": "in other words, it would still work; I have tried and tested it :)"}, {"owner": {"reputation": 13904, "user_id": 106140, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/f976af5e820922c8ebc645e42f8e17a4?s=128&d=identicon&r=PG", "display_name": "Olivier Pons", "link": "https://stackoverflow.com/users/106140/olivier-pons"}, "edited": false, "score": 0, "creation_date": 1450341027, "post_id": 34324065, "comment_id": 56401162, "body": "Thank you very much indeed, it works flawlessly. I could not google for <b><code>*</code></b>, may I ask you why I had to add a star here: &quot;<code>d = zip(*[g.description.split() for g in groupes])</code>&quot;? (I did this code based on some sample but if you google for <code>python what means *</code> you dont get a valid result)"}, {"owner": {"reputation": 13904, "user_id": 106140, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/f976af5e820922c8ebc645e42f8e17a4?s=128&d=identicon&r=PG", "display_name": "Olivier Pons", "link": "https://stackoverflow.com/users/106140/olivier-pons"}, "edited": false, "score": 0, "creation_date": 1450345271, "post_id": 34324065, "comment_id": 56403900, "body": "I think I&#39;ll give this exercice for my students, to do this in Php + command line, then I&#39;ll show them my solution in Python <b><code>:^D</code></b>"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 13904, "user_id": 106140, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/f976af5e820922c8ebc645e42f8e17a4?s=128&d=identicon&r=PG", "display_name": "Olivier Pons", "link": "https://stackoverflow.com/users/106140/olivier-pons"}, "edited": false, "score": 0, "creation_date": 1450371363, "post_id": 34324065, "comment_id": 56421607, "body": "the <code>*</code> unpacks the list from the list comprehension into separate arguments in the function. I will edit to show an example."}], "tags": [], "owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "is_accepted": true, "score": 0, "last_activity_date": 1450371570, "last_edit_date": 1450371570, "creation_date": 1450308346, "answer_id": 34324065, "question_id": 34323845, "link": "https://stackoverflow.com/questions/34323845/python-find-common-letters-in-array-without-cutting-a-word/34324065#34324065", "title": "Python: find common letters in array without cutting a word", "body": "<p>add:</p>\n\n<pre><code>if any(' ' != c for c in next(d,[])):\n    while b[-1] != ' ':\n        b.pop()\n</code></pre>\n\n<p>after your <code>for</code> loop. This:</p>\n\n<ul>\n<li>checks if there are any characters in the next set of characters that aren't spaces. If there are, that means that there is at least one word being cut off</li>\n<li>pops any characters that arent spaces from the end of b</li>\n<li>if all 3 strings are identical, the <code>next()</code> would normally cause a <code>StopIteration</code> error so make sure to have the <code>[]</code> default</li>\n</ul>\n\n<p>Also, you should change <code>print(u'{} ({})'.format(a, b))</code> to <code>print(u'{}({})'.format(a, b))</code> to avoid an extra space before the <code>(</code> in your printed string.</p>\n\n<h1>EDIT - better way?</h1>\n\n<p>A possibly more pythonic way than this is to change your <code>zip</code> to this:</p>\n\n<pre><code>d = zip(*[g['description'].split() for g in groupes])\n</code></pre>\n\n<p>to split each string and instead iterate word by word instead of interating by letter.</p>\n\n<p>Just make sure to change your <code>join</code> as well to:</p>\n\n<pre><code>a = u' '.join(b) #space instead of empty string\n</code></pre>\n\n<h1>EDIT - why the <code>*</code> star?</h1>\n\n<p>This is used for argument unpacking. Notice the difference between passing a list (or in most cases, any iterable) with and without the *:</p>\n\n<pre><code>&gt;&gt;&gt; def foo(a= None, b = None, c = None):\n    print('''\n    a: %s\n    b: %s\n    c: %s\n    ''' %(str(a),str(b),str(c)))\n\n\n&gt;&gt;&gt; test = [1,2,3]\n&gt;&gt;&gt; foo(test)\n\n    a: [1, 2, 3]\n    b: None\n    c: None\n\n&gt;&gt;&gt; foo(*test)\n\n    a: 1\n    b: 2\n    c: 3\n</code></pre>\n"}], "owner": {"reputation": 13904, "user_id": 106140, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/f976af5e820922c8ebc645e42f8e17a4?s=128&d=identicon&r=PG", "display_name": "Olivier Pons", "link": "https://stackoverflow.com/users/106140/olivier-pons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 34324065, "answer_count": 1, "score": 1, "last_activity_date": 1450371570, "creation_date": 1450307142, "last_edit_date": 1450307578, "question_id": 34323845, "link": "https://stackoverflow.com/questions/34323845/python-find-common-letters-in-array-without-cutting-a-word", "title": "Python: find common letters in array without cutting a word", "body": "<p>Here's my (working) code:</p>\n\n<pre><code>groupes = [{'description': 'i am a letter', 'exemple': 'e1'},\n           {'description': 'i am a brick', 'exemple': 'e2'},\n           {'description': 'i am a dog', 'exemple': 'e3'}]\nd = zip(*[g['description'] for g in groupes])\nb = []\nfor a in d:\n    if len(set(a)) == 1:\n        b.append(set(a).pop())\n    else:\n        break\na = u''.join(b)\nl = len(a)\nprint()\nb = [u'{} \"{}\"'.format(b['description'][l:], b['exemple']) for b in groupes]\nb = u', '.join(b).strip()\nprint(u'{} ({})'.format(a, b))\n</code></pre>\n\n<p>It outputs all the letters in common, and with the reste, put it in <code>()</code> with the example.\nMy problem is when the letters in common stop in the middle of a word, like this:</p>\n\n<pre><code>groupes = [{'description': 'i am a douche', 'exemple': 'e1'},\n           {'description': 'i am a dandy', 'exemple': 'e2'},\n           {'description': 'i am a dog', 'exemple': 'e3'}]\n</code></pre>\n\n<p>Then you'll get:</p>\n\n<pre><code>i am a d (ouche \"e1\", andy \"e2\", og \"e3\")\n</code></pre>\n\n<p>Whereas I want to get</p>\n\n<pre><code>i am a (douche \"e1\", dandy \"e2\", dog \"e3\")\n</code></pre>\n\n<p>Any idea how to do this \"the python way\"?</p>\n"}, {"tags": ["python", "django", "django-models", "django-views"], "answers": [{"comments": [{"owner": {"reputation": 1164, "user_id": 3800389, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3182101ccf732ff6bac4b37f7a34759c?s=128&d=identicon&r=PG&f=1", "display_name": "WutWut", "link": "https://stackoverflow.com/users/3800389/wutwut"}, "edited": false, "score": 0, "creation_date": 1450310456, "post_id": 34324094, "comment_id": 56390559, "body": "Doesn&#39;t <code>date.today()</code> give a string output? How do you get an integer output in terms of weekday?"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 1164, "user_id": 3800389, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3182101ccf732ff6bac4b37f7a34759c?s=128&d=identicon&r=PG&f=1", "display_name": "WutWut", "link": "https://stackoverflow.com/users/3800389/wutwut"}, "edited": false, "score": 0, "creation_date": 1450310668, "post_id": 34324094, "comment_id": 56390617, "body": "As the code shows, you can get the integer day of the week for a date using its <code>weekday()</code> method. If you try out <code>date.today()</code> in your shell, you can see that it doesn&#39;t return a string, it returns a <code>datetime.date</code> instance."}, {"owner": {"reputation": 1164, "user_id": 3800389, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3182101ccf732ff6bac4b37f7a34759c?s=128&d=identicon&r=PG&f=1", "display_name": "WutWut", "link": "https://stackoverflow.com/users/3800389/wutwut"}, "edited": false, "score": 0, "creation_date": 1450310795, "post_id": 34324094, "comment_id": 56390664, "body": "Yes you are right, but subtracting those types throws an error <code>TypeError: unsupported operand type(s) for -: &#39;datetime.date&#39; and &#39;int&#39;</code>"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 1164, "user_id": 3800389, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3182101ccf732ff6bac4b37f7a34759c?s=128&d=identicon&r=PG&f=1", "display_name": "WutWut", "link": "https://stackoverflow.com/users/3800389/wutwut"}, "edited": false, "score": 1, "creation_date": 1450311007, "post_id": 34324094, "comment_id": 56390730, "body": "As you saw in your question, you can use a <code>timedelta</code> to add or subtract from dates. I&#39;ve fixed the code now."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 1, "last_activity_date": 1450310949, "last_edit_date": 1450310949, "creation_date": 1450308472, "answer_id": 34324094, "question_id": 34323843, "link": "https://stackoverflow.com/questions/34323843/sorting-queryset-with-date/34324094#34324094", "title": "Sorting queryset with date", "body": "<p>You can use the <a href=\"https://docs.djangoproject.com/en/1.9/ref/models/querysets/#month\" rel=\"nofollow\"><code>__month</code></a> and <a href=\"https://docs.djangoproject.com/en/1.9/ref/models/querysets/#year\" rel=\"nofollow\"><code>__year</code></a> lookups to limit the queryset to this month's objects.</p>\n\n<pre><code>from datetime import date\ntoday = date.today()\nthis_month_qs = Sample.objects.filter(\n    date__month=today.month,\n    date_year=today.year,\n)\n</code></pre>\n\n<p>To find this weeks objects, you first need to find the date of this Monday. You can do this by finding today's day of the week (Monday = 0, Sunday = 6) using a date's <code>weekday()</code> method, and subtracting that many days from today. It's easy to calculate the last day of the week by adding 6 days, and then you can use <code>__range</code> to find this week's objects.</p>\n\n<pre><code>from datetime import date, timedelta\ntoday = date.today()\n# Use today.isoweekday() if you want the week\n# to start on Sunday instead of Monday \nfirst_day_of_week = date.today() - timedelta(today.weekday())\nend_date = first_day_of_week + timedelta(days=6)\nthis_week_qs = Sample.objects.filter(date__range=[startdate, enddate])\n</code></pre>\n"}], "owner": {"reputation": 1164, "user_id": 3800389, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3182101ccf732ff6bac4b37f7a34759c?s=128&d=identicon&r=PG&f=1", "display_name": "WutWut", "link": "https://stackoverflow.com/users/3800389/wutwut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 34324094, "answer_count": 1, "score": 2, "last_activity_date": 1450338602, "creation_date": 1450307137, "last_edit_date": 1495541745, "question_id": 34323843, "link": "https://stackoverflow.com/questions/34323843/sorting-queryset-with-date", "title": "Sorting queryset with date", "body": "<p>Extending from the question <a href=\"https://stackoverflow.com/questions/34307663/django-sort-the-query-elements-in-a-weekly-monthly-daily-fashion/34310443#34310443\">here</a>, where queryset is filtered using input from the user, I wanted to know if it was possible to filter queryset depending on present month and week. Eg each month should start on the 1st and each week on a monday and the queryset should be filtered for all the tests that have taken place in the present month and week.</p>\n\n<pre><code>models.py\n\nclass City(models.Model):\n    city_name=models.CharField(max_length=100,default='',blank=False)\n\nclass Person(models.Model):\n    title = models.CharField(max_length=3,default=\"mr\",blank=False)\n    name = models.CharField(max_length=50,default='',blank=False)\n    address = models.CharField(max_length=200,default='',blank=False)\n    city = models.ForeignKey(City)\n\nclass Test(models.Model):\n    person = models.ForeignKey(Person)\n    date = models.DateTimeField(auto_now_add=True)\n    test_name = models.CharField(max_length=200,default='',blank=False)\n    subject = models.CharField(max_length=100,default='')\n</code></pre>\n\n<p><code>views.py</code></p>\n\n<pre><code>def personlist(request, id):\ndata = requests.get('http://127.0.0.1:8000/app/cities/' + id + '/persons/').json()\ncontext = RequestContext(request, {\n'persons': data['results'],'count': data['count'],\n})\n\nreturn render_to_response('template.html', context)\n</code></pre>\n\n<p>And the related <a href=\"http://pastebin.com/pYLBjrjh\" rel=\"nofollow noreferrer\">json</a></p>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/4668619/django-database-query-how-to-filter-objects-by-date-range\">this</a> question - one way could be to use</p>\n\n<pre><code>startdate = date.today()\nenddate = startdate + timedelta(days=6)\nSample.objects.filter(date__range=[startdate, enddate])\n</code></pre>\n\n<p>But wouldn't <code>date.today()</code> keep changing everyday and thus everyday a new week will start and thus, a new queryset?Similarly with month. Is there a way to get querysets filtered by present week and month. With each starting from every monday and every 1st respectively?</p>\n"}, {"tags": ["python", "nlp", "entity", "named"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5562898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3e5bf723066e7e99e7f07983249a051?s=128&d=identicon&r=PG&f=1", "display_name": "user5562898", "link": "https://stackoverflow.com/users/5562898/user5562898"}, "edited": false, "score": 0, "creation_date": 1450314854, "post_id": 34324260, "comment_id": 56391834, "body": "Wow thanks for your effort. :) I will need some time to work through it."}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1450337626, "post_id": 34324260, "comment_id": 56399378, "body": "Possibly something like this too: <a href=\"https://gist.github.com/alvations/73bce71acf229265bc08\" rel=\"nofollow noreferrer\">gist.github.com/alvations/73bce71acf229265bc08</a>"}], "tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": true, "score": 1, "last_activity_date": 1450314633, "last_edit_date": 1450314633, "creation_date": 1450309349, "answer_id": 34324260, "question_id": 34323743, "link": "https://stackoverflow.com/questions/34323743/named-entity-recognition-python/34324260#34324260", "title": "Named Entity Recognition Python", "body": "<p>In <code>word+n[0].isupper()</code>, both <code>word</code> and <code>n</code> are of type <code>int</code> and therefore can not be indexed using <code>[]</code>, i.e. integers are not subscriptable.</p>\n\n<p>I think that your intention is to check that the nth word past the current one starts with a capital, however, that would be done with <code>text[word+n][0]</code>. Regardless, I don't think that your method is going to work for values of <code>n</code> other than 2, e.g. if <code>n</code> were 3 you would need to check that all words between the current one and the nth word past the current one are capitalised.</p>\n\n<p>The easiest fix is to use <code>all()</code> to check that each sublist of words begin with a capital:</p>\n\n<pre><code>ngramlist = [text[word:word+n] for word in range(len(text)-(n-1))\n                 if all(s[0].isupper() for s in text[word:word+n])]\n</code></pre>\n\n<p>If you want something a bit faster you could do something like this to group runs of capitalised words together:</p>\n\n<pre><code>from itertools import groupby\n\ntext = 'Does John Doe eat pizza in New York?'.split()\ncaps_words = [list(v) for g,v in groupby(text, key=lambda x: x[0].isupper()) if g]\nprint(caps_words)\n</code></pre>\n\n<p>This would output</p>\n\n<pre>\n[['Does', 'John', 'Doe'], ['New', 'York?']]\n</pre>\n\n<p>Now you need to extract sublists of length <code>n</code> from each run:</p>\n\n<pre><code>ngrams = []\nn = 2\nfor run in caps_words:\n    ngrams.extend(run[i:i+n] for i in range(len(run)-(n-1)))\n</code></pre>\n\n<p>which results in <code>ngrams</code>:</p>\n\n<pre>\n[['Does', 'John'], ['John', 'Doe'], ['New', 'York?']]\n</pre>\n\n<p>and for <code>n</code> = 3:</p>\n\n<pre>\n[['Does', 'John', 'Doe']]\n</pre>\n\n<p>Putting that all together (and turning the ngram accumulator into a list comprehension) results in a function like this:</p>\n\n<pre><code>from itertools import groupby\n\ndef upper_case_ngrams(words, n):\n    caps_words = [list(v) for g,v in groupby(words, key=lambda x: x[0].isupper()) if g]\n    return [tuple(run[i:i+n]) for run in caps_words\n                for i in range(len(run)-(n-1))]\n\ntext = 'Does John Doe eat pizza in New York?'.split()\nfor n in range(1, 5):\n   print(upper_case_ngrams(text, n))\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre>\n[('Does',), ('John',), ('Doe',), ('New',), ('York?',)]\n[('Does', 'John'), ('John', 'Doe'), ('New', 'York?')]\n[('Does', 'John', 'Doe')]\n[]\n</pre>\n"}], "owner": {"reputation": 15, "user_id": 5562898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3e5bf723066e7e99e7f07983249a051?s=128&d=identicon&r=PG&f=1", "display_name": "user5562898", "link": "https://stackoverflow.com/users/5562898/user5562898"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 34324260, "answer_count": 1, "score": 0, "last_activity_date": 1450325129, "creation_date": 1450306631, "last_edit_date": 1450325129, "question_id": 34323743, "link": "https://stackoverflow.com/questions/34323743/named-entity-recognition-python", "title": "Named Entity Recognition Python", "body": "<p>What I want to do: Extract all the occurrences of n consecutive words that all begin with a capital letter.</p>\n\n<pre><code>Input: (\"Does John Doe eat pizza in New York?\", 2)\nOutput: [(\"Does\", \"John\"),(\"John\", \"Doe\")(\"New\",\"York\")]\n\nInput: (\"Does John Doe eat pizza in New York?\", 3)\nOutput: [(\"Does\", \"John\",\"Doe\")]\n</code></pre>\n\n<p>Here is what I have come up with so far:  </p>\n\n<pre><code># create text file\nfw = open(\"ngram.txt\", \"w\")\nfw.write (\"Does John Doe eat pizza in New York?\")\nfw.close()\n\ndef UpperCaseNGrams (file,n):\n    fr = open (file, \"r\")\n    text = fr.read().split()\n\n    ngramlist = [text[word:word+n] for word in range(len(text)-(n-1)) if word[0].isupper() if word+n[0].isupper()]  \n    return ngramlist\n\nprint (UpperCaseNGrams(\"ngram.txt\",2))\n</code></pre>\n\n<p>I get the following error:<br>\nTypeError: 'int' object is not subscriptable</p>\n\n<p>What do I have to change in order for it to work?  </p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5683555"}, "edited": false, "score": 0, "creation_date": 1450306449, "post_id": 34323606, "comment_id": 56389159, "body": "Ah, it all makes sense now. This worked a treat! Thank you very much."}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 5, "last_activity_date": 1450305966, "creation_date": 1450305966, "answer_id": 34323606, "question_id": 34323574, "link": "https://stackoverflow.com/questions/34323574/use-a-wildcard-in-python-array/34323606#34323606", "title": "Use a wildcard in Python array?", "body": "<p>There is no such thing.  You'll need to look at all of the items in <code>data['Descriptions'].values()</code> and check to</p>\n\n<ol>\n<li>Make sure it's a dict.</li>\n<li>Make sure it has a <code>'name'</code> field.</li>\n</ol>\n\n<p>Once you've done those checks, you can pack it into a list.  here's a list-comprehension that should get the job done ... (I think :-)...</p>\n\n<pre><code>names = [d['name'] for d in data['Descriptions'].values()\n         if isinstance(d, dict) and 'name' in d]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "is_accepted": false, "score": 0, "last_activity_date": 1450306135, "creation_date": 1450306135, "answer_id": 34323640, "question_id": 34323574, "link": "https://stackoverflow.com/questions/34323574/use-a-wildcard-in-python-array/34323640#34323640", "title": "Use a wildcard in Python array?", "body": "<p><code>something[*].x</code> is implemented as <code>[item.x for item in something]</code></p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The above is true if <code>something</code> is a <code>list</code>. For dictionaries, it is:</p>\n\n<pre><code>[item.x for item in something.values()]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10101370, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/03ae6e595154b905d7005a73679a8555?s=128&d=identicon&r=PG", "display_name": "Devin L", "link": "https://stackoverflow.com/users/10101370/devin-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1531937928, "creation_date": 1531937928, "answer_id": 51408586, "question_id": 34323574, "link": "https://stackoverflow.com/questions/34323574/use-a-wildcard-in-python-array/51408586#51408586", "title": "Use a wildcard in Python array?", "body": "<p>Im late to the party, but I would suggest not use <em>pprint</em> ever when using json objects or API calls.</p>\n\n<p>Instead do something like ## print(json.dumps(data[key], indent=4)) ###</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5683555"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2196, "favorite_count": 0, "accepted_answer_id": 34323606, "answer_count": 3, "score": 2, "last_activity_date": 1531937928, "creation_date": 1450305833, "question_id": 34323574, "link": "https://stackoverflow.com/questions/34323574/use-a-wildcard-in-python-array", "title": "Use a wildcard in Python array?", "body": "<p>Good day.\nI can't seem to find a definitive answer to this question. I am attempting to decipher a large JSON file but I don't know the exact titles of the data and so I want to use a wildcard. </p>\n\n<p>I have tried using ' [*] '  ' [] ' and anything else I can think of - no luck!</p>\n\n<p>As it stands my code looks like this:</p>\n\n<pre><code>import json\nfrom pprint import pprint\n\nwith open('data.json') as data_file:    \n    data = json.load(data_file)\n\npprint(data['Descriptions']['WILDCARD']['name'])\n</code></pre>\n\n<p>I am using python version 2.7.1 but also have 3.3. I may be doing this completely wrong...</p>\n\n<p>Any help appreciated! :-)</p>\n"}, {"tags": ["python", "huffman-code"], "comments": [{"owner": {"reputation": 4124, "user_id": 4394418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OEtIP.png?s=128&g=1", "display_name": "Gerard Rozsavolgyi", "link": "https://stackoverflow.com/users/4394418/gerard-rozsavolgyi"}, "edited": false, "score": 0, "creation_date": 1450305907, "post_id": 34323495, "comment_id": 56388920, "body": "sym looks like the symbols (the keys of the dict coming as parameter) and wt their weights (values associated)"}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 1, "creation_date": 1450307597, "post_id": 34323495, "comment_id": 56389645, "body": "<a href=\"http://rosettacode.org/wiki/Huffman_coding#Python\" rel=\"nofollow noreferrer\">Link</a> to the code, by the way."}, {"owner": {"reputation": 2777, "user_id": 4852094, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10102767534136292/picture?type=large", "display_name": "Rob", "link": "https://stackoverflow.com/users/4852094/rob"}, "edited": false, "score": 0, "creation_date": 1450316008, "post_id": 34323495, "comment_id": 56392186, "body": "as a heads up, it&#39;s poor etiquette to pose a question and not respond to any of the answers.  Either comment or click a check mark to close this issue out."}], "answers": [{"tags": [], "owner": {"reputation": 617, "user_id": 2955375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBSRp.jpg?s=128&g=1", "display_name": "chinglun", "link": "https://stackoverflow.com/users/2955375/chinglun"}, "is_accepted": false, "score": -3, "last_activity_date": 1450305866, "creation_date": 1450305866, "answer_id": 34323585, "question_id": 34323495, "link": "https://stackoverflow.com/questions/34323495/python-understanding-huffman-code/34323585#34323585", "title": "Python, understanding Huffman code", "body": "<p>sym is symbol, and wt is weight.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Huffman_coding\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Huffman_coding</a></p>\n"}, {"tags": [], "owner": {"reputation": 2777, "user_id": 4852094, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10102767534136292/picture?type=large", "display_name": "Rob", "link": "https://stackoverflow.com/users/4852094/rob"}, "is_accepted": false, "score": -1, "last_activity_date": 1450307093, "last_edit_date": 1450307093, "creation_date": 1450305931, "answer_id": 34323599, "question_id": 34323495, "link": "https://stackoverflow.com/questions/34323495/python-understanding-huffman-code/34323599#34323599", "title": "Python, understanding Huffman code", "body": "<p>This is an interesting problem.  Imagine a dictionary with five letters where the key is the letter and the value is the frequency:</p>\n\n<pre><code>a = {'a':1, 'b':2, 'c':3, 'd':4, 'e':5}\n</code></pre>\n\n<p>then mapping it so that it's a list of lists with frequency, and a list starting with the letter into the heap variable like this:</p>\n\n<pre><code>[[1, ['a', '']], [2, ['b', '']], [3, ['c', '']], [4, ['d', '']], [5, ['e', '']]]\n</code></pre>\n\n<p>then when you heapify it, you get:</p>\n\n<pre><code>[[1, ['a', '']],\n [3, ['c', '']],\n [2, ['b', '']],\n [5, ['e', '']],\n [4, ['d', '']]]\n</code></pre>\n\n<p>Just work things out step by step with a valid dictionary to encode like the one given on the wikipedia page and you'll be able to see what each step does.  Or use a trivial example to start like the one I gave and slowly grow the number of elements until you're working with a real document.</p>\n\n<p>What the rosetta code is doing is iterating through the heap and adding digits to the blank string you see after the letter based on frequency, until each letter is mapped to a binary interpretation.  So in the end you'd having something like this:</p>\n\n<pre><code> [['e', '101'], \n  ['d', '010'], \n  ['c', '1001'], \n  ['b', '1100'], \n  ['a', '1101']]\n</code></pre>\n\n<p>where the most frequent letters require the fewest bits.</p>\n"}, {"tags": [], "owner": {"reputation": 6465, "user_id": 1459669, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WW5ah.jpg?s=128&g=1", "display_name": "no\u0265\u0287\u028e\u0500\u028ez\u0250\u0279\u0186", "link": "https://stackoverflow.com/users/1459669/no%c9%a5%ca%87%ca%8e%d4%80%ca%8ez%c9%90%c9%b9%c6%86"}, "is_accepted": false, "score": 2, "last_activity_date": 1450305949, "creation_date": 1450305949, "answer_id": 34323603, "question_id": 34323495, "link": "https://stackoverflow.com/questions/34323495/python-understanding-huffman-code/34323603#34323603", "title": "Python, understanding Huffman code", "body": "<p>This is a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">list comprehension</a>. This is saying </p>\n\n<ul>\n<li>Get the items of <code>symb2freq</code> and start to loop over them.</li>\n<li>Get the first item in <code>symb2freq</code> and unpack them into variables <code>sym</code> and <code>wt</code>.</li>\n<li>Now add <code>[wt, [sym, \"\"]]</code> to the list</li>\n<li>Do this for each item</li>\n<li>Now put the list in the variable <code>heap</code></li>\n</ul>\n\n<p>For example, <code>[bar(x) for x in foo]</code> makes a list that applies <code>bar(x)</code> to each value in the list. </p>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 2789351, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vACZN.png?s=128&g=1", "display_name": "Sabih", "link": "https://stackoverflow.com/users/2789351/sabih"}, "edited": false, "score": 0, "creation_date": 1450360753, "post_id": 34323887, "comment_id": 56414090, "body": "Thank you @Reti43 very much, brilliantly explained!"}], "tags": [], "owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "is_accepted": true, "score": 3, "last_activity_date": 1450307958, "last_edit_date": 1450307958, "creation_date": 1450307386, "answer_id": 34323887, "question_id": 34323495, "link": "https://stackoverflow.com/questions/34323495/python-understanding-huffman-code/34323887#34323887", "title": "Python, understanding Huffman code", "body": "<p><code>sym2freq</code> is a dictionary with keys some symbols and their values the symbol's frequency. For example, if you have the string 'aaabacba', the dictionary will look like this</p>\n\n<pre><code>sym2freq = {'a': 5, 'b': 2, 'c': 1}\n</code></pre>\n\n<p>That's because we have 5 times the letter a, 2 times the letter b and 1 time the letter c.</p>\n\n<p>Dictionaries have the method <code>items()</code>, which will return a tuple of each key with its respective value. In our case, it would return</p>\n\n<pre><code>&gt;&gt;&gt; sym2freq.items()\n(('a', 5), ('b', 2), ('c', 1))\n</code></pre>\n\n<p>The <code>for sym, wt in symb2freq.items()</code> part of the comprehension list is just unpacking. Every time we fetch one of our tuples from above, we assign the first object to the variable <code>sym</code> and the second to the variable <code>wt</code>. The names sym and wt were chosen purely to be reflective of the values the represent, i.e. symbol and weight (frequency).</p>\n\n<pre><code>&gt;&gt;&gt; sym, wt = ('a', 5)\n&gt;&gt;&gt; print sym\n'a'\n&gt;&gt;&gt; print wt\n5\n</code></pre>\n\n<p>And since the list comprehension will create lists of the structure <code>[wt, [sym, \"\"]]</code>, you'll end up with the list</p>\n\n<pre><code>&gt;&gt;&gt; encode(sym2freq)\n[[5, ['a', '']], [2, ['b', '']], [1, ['c', '']]]\n</code></pre>\n\n<p>The reason why we go from a dictionary of symbol frequencies to a structure like the list <code>heap</code> is so we can sort out symbols in terms of their frequencies, which, as you are learning, is part of constructing the Huffman tree.</p>\n"}], "owner": {"reputation": 165, "user_id": 2789351, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vACZN.png?s=128&g=1", "display_name": "Sabih", "link": "https://stackoverflow.com/users/2789351/sabih"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 843, "favorite_count": 1, "accepted_answer_id": 34323887, "answer_count": 4, "score": 1, "last_activity_date": 1450308519, "creation_date": 1450305525, "last_edit_date": 1450308519, "question_id": 34323495, "link": "https://stackoverflow.com/questions/34323495/python-understanding-huffman-code", "title": "Python, understanding Huffman code", "body": "<p>I am trying to understand a Huffman code written in python by 'Rosetta code'. Following is small part from the code. </p>\n\n<pre><code>def encode(symb2freq):\n    heap = [[wt, [sym, \"\"]] for sym, wt in symb2freq.items()] #What does this do?\n</code></pre>\n\n<p>I'm assuming variable <code>heap</code> is a list. But what is <code>wt</code> and <code>sym</code>? </p>\n"}, {"tags": ["python", "shell", "subprocess", "xilinx", "xilinx-ise"], "answers": [{"comments": [{"owner": {"reputation": 1166, "user_id": 1135236, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/94e93ccada6e9285d96dbc7528265421?s=128&d=identicon&r=PG", "display_name": "GCon", "link": "https://stackoverflow.com/users/1135236/gcon"}, "edited": false, "score": 0, "creation_date": 1458350561, "post_id": 34352779, "comment_id": 59837648, "body": "Unbelievable! I just had this issue, and was about to give up on it being too esoteric :) Now I can print debug/build info to the Vivado console! Yay!"}], "tags": [], "owner": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "is_accepted": true, "score": 3, "last_activity_date": 1450436324, "last_edit_date": 1450436324, "creation_date": 1450432508, "answer_id": 34352779, "question_id": 34323422, "link": "https://stackoverflow.com/questions/34323422/where-does-the-xilinx-tcl-shell-emit-the-results/34352779#34352779", "title": "Where does the Xilinx TCL shell emit the results?", "body": "<p>I have tried several approaches on Linux, but it seemes that xtclsh detects whether standard input is connected to a pipe or a (pseudo) terminal. If it is connected to a pipe, xtclsh suppresses any output which would be normally written to standard output (prompt output, command results). I think, the same applies to Windows.</p>\n\n<p>Messages (whether informative, warning or error) which are printed on standard error still go there even if the input is connected to a pipe.</p>\n\n<p>To get the messages printed on standard output you can use the <code>puts</code> tcl command which always prints on standard output. That is, <code>puts [command]</code> takes the standard output of <code>command</code> and prints it always to standard output.</p>\n\n<p><strong>Example</strong>: Let's assume we have a <code>test.xise</code> project with two files: the top-level entity in <code>test.vhd</code> and the testbench in <code>test_tb.vhd</code>. And, we want to list all files in the project using this tcl script (<code>commands.tcl</code>):</p>\n\n<pre><code>puts [project open test]\nputs \"-----------------------------------------------------------------------\"\nputs [search *.vhd]\nexit\n</code></pre>\n\n<p>Then the call <code>xtclsh &lt; commands.tcl 2&gt; error.log</code> prints this on standard output:</p>\n\n<pre><code>test\n-----------------------------------------------------------------------\n/home/zabel/tmp/test/test.vhd\n/home/zabel/tmp/test/test_tb.vhd\n</code></pre>\n\n<p>And this is printed on standard error (into file <code>error.log</code>):</p>\n\n<pre><code>INFO:HDLCompiler:1061 - Parsing VHDL file \"/home/zabel/tmp/test/test.vhd\" into\n   library work\nINFO:ProjectMgmt - Parsing design hierarchy completed successfully.\n</code></pre>\n"}], "owner": {"reputation": 13176, "user_id": 3719459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sBD6F.jpg?s=128&g=1", "display_name": "Paebbels", "link": "https://stackoverflow.com/users/3719459/paebbels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 992, "favorite_count": 1, "accepted_answer_id": 34352779, "answer_count": 1, "score": 6, "last_activity_date": 1450436324, "creation_date": 1450305240, "question_id": 34323422, "link": "https://stackoverflow.com/questions/34323422/where-does-the-xilinx-tcl-shell-emit-the-results", "title": "Where does the Xilinx TCL shell emit the results?", "body": "<p>I'm trying to develop a Python based wrapper around the Xilinx ISE TCL shell <code>xtclsh.exe</code>. If it works, I'll add support for other shells like PlanAhead or Vivado ...</p>\n\n<p>So what's the big picture? I have a list of VHDL source files, which form an IP core. I would like to open an existing ISE project, search for missing VHDL files and add them if necessary. Because IP cores have overlapping file dependencies, it's possible that a project already contains some files, so I'm only looking for missing files.</p>\n\n<p>The example user Python 3.x and <code>subprocess</code> with pipes. The <code>xtclsh.exe</code> is launched and commands are send line by line to the shell. The output is monitored for results. To ease the example, I redirected STDERR to STDOUT. A dummy output <strong>POC_BOUNDARY</strong> is inserted into the command stream, to indicate completed commands.</p>\n\n<p>The attached example code can be tested by setting up an example ISE project, which has some VHDL source files.</p>\n\n<p>My problem is that INFO, WARNING and ERROR messages are displayed, but the results from the TCL commands can not be read by the script.</p>\n\n<p>Manually executing <code>search *.vhdl -type file</code> in xtclsh.exe results in:</p>\n\n<pre><code>% search *.vhdl -type file\nD:/git/PoC/src/common/config.vhdl\nD:/git/PoC/src/common/utils.vhdl\nD:/git/PoC/src/common/vectors.vhdl\n</code></pre>\n\n<p>Executing the script results in:</p>\n\n<pre><code>....\npress ENTER for the next step\nsending 'search *.vhdl -type file'\nstdoutLine='POC_BOUNDARY\n'\noutput consumed until boundary string\n....\n</code></pre>\n\n<p><strong>Questions:</strong></p>\n\n<ul>\n<li>Where does xtclsh write to?</li>\n<li>How can I read the results from TCL commands?</li>\n</ul>\n\n<p>Btw: The prompt sign <code>%</code> is also not visible to my script.</p>\n\n<hr>\n\n<p><strong>Python code to reproduce the behavior:</strong></p>\n\n<pre><code>import subprocess\n\nclass XilinxTCLShellProcess(object):\n  # executable = \"sortnet_BitonicSort_tb.exe\"\n  executable = r\"C:\\Xilinx\\14.7\\ISE_DS\\ISE\\bin\\nt64\\xtclsh.exe\"\n  boundarString = \"POC_BOUNDARY\"\n  boundarCommand = bytearray(\"puts {0}\\n\".format(boundarString), \"ascii\")\n\n  def create(self, arguments):\n    sysargs = []\n    sysargs.append(self.executable)\n\n    self.proc = subprocess.Popen(sysargs, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\n    self.sendBoundardCommand()\n\n    while(True):\n      stdoutLine = self.proc.stdout.readline().decode()\n      if (self.boundarString in stdoutLine):\n        break\n    print(\"found boundary string\")\n\n  def terminate(self):\n    self.proc.terminate()\n\n  def sendBoundardCommand(self):\n    self.proc.stdin.write(self.boundarCommand)\n    self.proc.stdin.flush()\n\n  def sendCommand(self, line):\n    command = bytearray(\"{0}\\n\".format(line), \"ascii\")\n    self.proc.stdin.write(command)\n    self.sendBoundardCommand()\n\n  def sendLine(self, line):\n    self.sendCommand(line)\n\n    while(True):\n      stdoutLine = self.proc.stdout.readline().decode()\n      print(\"stdoutLine='{0}'\".format(stdoutLine))\n      if (stdoutLine == \"\"):\n        print(\"reached EOF in stdout\")\n        break\n      elif (\"vhdl\" in stdoutLine):\n        print(\"found a file name\")\n      elif (self.boundarString in stdoutLine):\n        print(\"output consumed until boundary string\")\n        break\n\ndef main():\n  print(\"creating 'XilinxTCLShellProcess' instance\")\n  xtcl = XilinxTCLShellProcess()\n\n  print(\"launching process\")\n  arguments = []\n  xtcl.create(arguments)\n\n  i = 1\n  while True:\n    print(\"press ENTER for the next step\")\n    from msvcrt import getch\n    from time import sleep\n    sleep(0.1)  # 0.1 seconds\n\n    key = ord(getch())\n    if key == 27:    # ESC\n      print(\"aborting\")\n      print(\"sending 'exit'\")\n      xtcl.sendLine(\"exit\")\n      break\n    elif key == 13: # ENTER\n      if (i == 1):\n        #print(\"sending 'project new test.xise'\")\n        #xtcl.sendLine(\"project new test.xise\")\n        print(\"sending 'project open PoCTest.xise'\")\n        xtcl.sendLine(\"project open PoCTest.xise\")\n        i += 1\n      elif (i == 2):\n        print(\"sending 'lib_vhdl get PoC files'\")\n        xtcl.sendLine(\"lib_vhdl get PoC files\")\n        i += 1\n      elif (i == 3):\n        print(\"sending 'search *.vhdl -type file'\")\n        xtcl.sendLine(\"search *.vhdl -type file\")\n        i += 1\n      elif (i == 4):\n        print(\"sending 'xfile add ../../src/common/strings.vhdl -lib_vhdl PoC -view ALL'\")\n        xtcl.sendLine(\"xfile add ../../src/common/strings.vhdl -lib_vhdl PoC -view ALL\")\n        i += 16\n      elif (i == 20):\n        print(\"sending 'project close'\")\n        xtcl.sendLine(\"project close\")\n        i += 1\n      elif (i == 21):\n        print(\"sending 'exit'\")\n        xtcl.sendCommand(\"exit\")\n        break\n\n  print(\"exit main()\")\n  xtcl.terminate()\n\n  print(\"the end!\")\n\n# entry point\nif __name__ == \"__main__\":\n  main()\n</code></pre>\n"}, {"tags": ["python", "error-handling", "foursquare"], "answers": [{"tags": [], "owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "is_accepted": true, "score": 0, "last_activity_date": 1450307406, "creation_date": 1450307406, "answer_id": 34323894, "question_id": 34323378, "link": "https://stackoverflow.com/questions/34323378/foursquare-authentication-no-handlers-could-be-found-for-logger-foursquare/34323894#34323894", "title": "Foursquare authentication - &#39;No handlers could be found for logger &quot;foursquare&quot;&#39;", "body": "<p>The handler message is just complaining you didn't set up a logger under for the <code>foursquare</code> namespace.</p>\n\n<p>Your real error is the message at the end of the stack trace:</p>\n\n<pre><code>foursquare.FoursquareException: \n    Response format invalid, missing meta property. data: {u'error': u'invalid_client'}\n</code></pre>\n\n<p>The message indicates that your client's credentials are incorrect. The credentials aren't fully checked until you attempt to use the client for a privileged action like <code>client.set_access_token</code>, so the most likely culprit here is to look at what you pass for <code>client_secret</code> when constructing the Foursquare client object.</p>\n\n<p><code>client_id</code> is probably not the problem because you'd have to go through the URL-OAuth flow in order to get the <code>access_token</code> you use.</p>\n"}], "owner": {"reputation": 7481, "user_id": 2666270, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8b08ff3f628c4d11f81fe113c6eda6b9?s=128&d=identicon&r=PG", "display_name": "pceccon", "link": "https://stackoverflow.com/users/2666270/pceccon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 34323894, "answer_count": 1, "score": 1, "last_activity_date": 1450307406, "creation_date": 1450305073, "question_id": 34323378, "link": "https://stackoverflow.com/questions/34323378/foursquare-authentication-no-handlers-could-be-found-for-logger-foursquare", "title": "Foursquare authentication - &#39;No handlers could be found for logger &quot;foursquare&quot;&#39;", "body": "<p>I'm starting with the Foursquare API, in <a href=\"https://github.com/mLewisLogic/foursquare\" rel=\"nofollow\">Python</a>, and I'm not sure why I can't authenticate.</p>\n\n<p>Following the tutorial, so far I have this piece of code:</p>\n\n<pre><code>import foursquare\nclient = foursquare.Foursquare(client_id=myid, client_secret=mysecret, \n                               redirect_uri='http://fondu.com/oauth/authorize')\nauth_uri = client.oauth.auth_url()\naccess_token = client.oauth.get_token('XX_CODE_RETURNED_IN_REDIRECT_XX')\nclient.set_access_token(access_token)\n\nclient.venues.explore(params={'near': 'New York, NY', 'time' : date})\n</code></pre>\n\n<p>I've created an app here:</p>\n\n<p><a href=\"https://foursquare.com/developers/apps\" rel=\"nofollow\">https://foursquare.com/developers/apps</a></p>\n\n<p>and I'm using both:</p>\n\n<p><strong>Client id</strong></p>\n\n<p><strong>Client secret</strong></p>\n\n<p>shown in the page.</p>\n\n<p>However, when running this code, I get:</p>\n\n<pre><code>No handlers could be found for logger \"foursquare\"\nTraceback (most recent call last):\n  File \"noiseInference.py\", line 270, in &lt;module&gt;\n    getFoursquareCheckIns(date)\n  File \"noiseInference.py\", line 156, in getFoursquareCheckIns\n    access_token = client.oauth.get_token('XX_CODE_RETURNED_IN_REDIRECT_XX')\n  File \"/Library/Python/2.7/site-packages/foursquare/__init__.py\", line 134, in get_token\n    response = _request_with_retry(url)\n  File \"/Library/Python/2.7/site-packages/foursquare/__init__.py\", line 707, in _request_with_retry\n    return _process_request_with_httplib2(url, headers, data)\n  File \"/Library/Python/2.7/site-packages/foursquare/__init__.py\", line 730, in _process_request_with_httplib2\n    return _check_response(data)\n  File \"/Library/Python/2.7/site-packages/foursquare/__init__.py\", line 763, in _check_response\n    raise FoursquareException(errmsg)\nfoursquare.FoursquareException: Response format invalid, missing meta property. data: {u'error': u'invalid_client'}\n</code></pre>\n\n<p>Not sure what's the problem.</p>\n"}, {"tags": ["python", "django", "listview", "detailview"], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 2, "last_activity_date": 1450305718, "creation_date": 1450305718, "answer_id": 34323548, "question_id": 34323371, "link": "https://stackoverflow.com/questions/34323371/detailview-not-showing-data/34323548#34323548", "title": "DetailView not showing data", "body": "<p>In the <code>DetailView</code>, Django <a href=\"https://docs.djangoproject.com/en/1.9/ref/class-based-views/mixins-single-object/#django.views.generic.detail.SingleObjectMixin.get_context_object_name\" rel=\"nofollow\">uses the model name in lowercase, by default</a>, if you haven't set <code>context_object_name</code>. </p>\n\n<pre><code>{{ passwordsafe.pwWebsite }} \n</code></pre>\n"}], "owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 34323548, "answer_count": 1, "score": 0, "last_activity_date": 1450305718, "creation_date": 1450305031, "question_id": 34323371, "link": "https://stackoverflow.com/questions/34323371/detailview-not-showing-data", "title": "DetailView not showing data", "body": "<p>I am trying to display a <code>ListView</code> of items that when clicked opens the respective <code>DetailView</code> for that item.  This is a pretty straightforward thing to do in Django, but I'm running into some trouble with it.</p>\n\n<p>I have successfully created a <code>ListView</code>, but I can't get the <code>DetailView</code> to display the information for each item.</p>\n\n<p>I am building a password safe. The <code>ListView</code> lists all the passwords saved, and the <code>DetailView</code> is the view/edit page for each password. And yes, I realize actually putting a password safe on the internet is a terrible idea, it's just a test project :)</p>\n\n<p>My <code>PasswordSafe</code> class:</p>\n\n<pre><code>class PasswordSafe(models.Model):\n    user = models.OneToOneField(User)\n\n    pwWebsite = models.CharField(max_length=30)\n    pwUsername = models.CharField(max_length=30)\n    pwEmail = models.CharField(max_length=30)\n    pwPassword = models.CharField(max_length=30)\n\n    def __unicode__(self):              # __unicode__ on Python 2, __str__ on Python 3\n        return self.pwWebsite\n\nUser.passwordSafe = property(lambda u: PasswordSafe.objects.get_or_create(user=u)[0])\n</code></pre>\n\n<p>My <code>urls.py</code>:</p>\n\n<pre><code>from django.conf.urls import patterns, include, url\nfrom django.views.generic import ListView, DetailView\nfrom models import PasswordSafe\n\nurlpatterns = [\n    url(r'^passwordSafe/$', ListView.as_view(queryset=PasswordSafe.objects.all().order_by('-pwWebsite')[:10], template_name = 'userprofile/passwordSafe_list.html')),\n    url(r'^passwordSafe/(?P&lt;pk&gt;\\d+)/$', DetailView.as_view(model=PasswordSafe, template_name='userprofile/passwordSafe.html')),\n    ]\n</code></pre>\n\n<p>I use the following code successfully in my <code>ListView</code> template (<code>passwordSafe_list.html</code>):</p>\n\n<pre><code>{% for passwordSafe in object_list %}\n\n    &lt;h2&gt;&lt;a href=\"/accounts/passwordSafe/{{passwordSafe.id}}\"&gt;{{ passwordSafe.pwWebsite }}&lt;/a&gt;&lt;/h2&gt;\n\n{% endfor %}\n</code></pre>\n\n<p>However, when I try to use the passwordSafe data in my <code>Detailview</code> (the <code>passwordSafe.html</code> template), nothing shows up.  I use the following code to try and change the title:</p>\n\n<pre><code>&lt;title&gt;{% block title %} | Edit {{ passwordSafe.pwWebsite }} Password{% endblock %}&lt;/title&gt;\n</code></pre>\n\n<p>This should show a title something like \"Password Safe | Edit Google Password\", but <code>passwordSafe.pwWebsite</code> returns with nothing.  Am I doing something wrong in trying to reference passwordSafe from this template?  I know I haven't passed a query set like I did with the <code>ListView</code>, but I'm not sure if that's part of the problem or not.</p>\n"}, {"tags": ["python", "pyqt", "pyqt4"], "comments": [{"owner": {"reputation": 4899, "user_id": 4720935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8sPO.png?s=128&g=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/4720935/mel"}, "edited": false, "score": 0, "creation_date": 1450358833, "post_id": 34323349, "comment_id": 56412761, "body": "<a href=\"http://doc.qt.io/qt-4.8/qfiledialog.html#getSaveFileName\" rel=\"nofollow noreferrer\">doc.qt.io/qt-4.8/qfiledialog.html#getSaveFileName</a>"}, {"owner": {"reputation": 225, "user_id": 3739505, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FJUip.jpg?s=128&g=1", "display_name": "JCMcRae", "link": "https://stackoverflow.com/users/3739505/jcmcrae"}, "reply_to_user": {"reputation": 4899, "user_id": 4720935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8sPO.png?s=128&g=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/4720935/mel"}, "edited": false, "score": 0, "creation_date": 1450405342, "post_id": 34323349, "comment_id": 56436774, "body": "Okay, but then where do I put <code>mipmaps</code> in getSaveFileName?"}, {"owner": {"reputation": 4899, "user_id": 4720935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8sPO.png?s=128&g=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/4720935/mel"}, "edited": false, "score": 0, "creation_date": 1450422222, "post_id": 34323349, "comment_id": 56441831, "body": "you don&#39;t. You get the path where to save with the dialog, and then you save the image. Just like to load: get the path, then create a <code>QPixMap</code>"}, {"owner": {"reputation": 225, "user_id": 3739505, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FJUip.jpg?s=128&g=1", "display_name": "JCMcRae", "link": "https://stackoverflow.com/users/3739505/jcmcrae"}, "reply_to_user": {"reputation": 4899, "user_id": 4720935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8sPO.png?s=128&g=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/4720935/mel"}, "edited": false, "score": 0, "creation_date": 1450561324, "post_id": 34323349, "comment_id": 56493012, "body": "Okay, so I have the getSaveFileName set up, but I just can&#39;t seem to save an image. I set a mipmap array value to a new QPixmap as such: <code>pixmap2 = QPixmap(mipmaps[0])</code>, and then &#39;pixmap2 = QtGui.QFileDialog.getSaveFileName(self, &quot;Save Image&quot;, &quot;&quot;,&quot;Image File (*.jpg *.png *.gif)&quot;)`  But nothing saves. What am I doing wrong here?"}], "answers": [{"tags": [], "owner": {"reputation": 4899, "user_id": 4720935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8sPO.png?s=128&g=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/4720935/mel"}, "is_accepted": true, "score": 2, "last_activity_date": 1450689549, "creation_date": 1450689549, "answer_id": 34392299, "question_id": 34323349, "link": "https://stackoverflow.com/questions/34323349/saving-mipmap-files/34392299#34392299", "title": "Saving Mipmap files", "body": "<p>To open/save any documents, there are two steps:</p>\n\n<ol>\n<li><p><strong>Get the path</strong> as a string, for example <code>\"/home/Documents/myImage.png\"</code>. One way to get the path is to ask the user in a dialog.<br>\nQt provides methods to do this, one being <code>getSaveFileName()</code>. From the <a href=\"http://doc.qt.io/qt-4.8/qfiledialog.html#getSaveFileName\" rel=\"nofollow\">doc</a>:</p>\n\n<blockquote>\n  <p>This is a convenience static function that will return a file name\n  selected by the user. The file does not have to exist.</p>\n</blockquote>\n\n<p>This methods returns a file name: it does not save anything.</p></li>\n<li><p><strong>Open or save the document</strong>, using the path.<br>\nTo load the image, you used <code>pixmap = QPixmap(imagePath)</code><br>\nTo save it, you can use <code>pixmap.save(imagePath)</code> (<a href=\"http://doc.qt.io/qt-4.8/qpixmap.html#save\" rel=\"nofollow\">doc</a>)</p></li>\n</ol>\n"}], "owner": {"reputation": 225, "user_id": 3739505, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FJUip.jpg?s=128&g=1", "display_name": "JCMcRae", "link": "https://stackoverflow.com/users/3739505/jcmcrae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 34392299, "answer_count": 1, "score": 0, "last_activity_date": 1450689549, "creation_date": 1450304935, "last_edit_date": 1450358895, "question_id": 34323349, "link": "https://stackoverflow.com/questions/34323349/saving-mipmap-files", "title": "Saving Mipmap files", "body": "<p>So, I am almost done with building my program that creates mipmaps. It will successfully upload an image of your choosing, and create mipmaps of that image, but now the last part is where I am stuck.</p>\n\n<p>I now want for the the user to be able to save his or her mipmaps, but I am not sure how. I want them to be able to save it anywhere they want, and I have a feeling it will require a dialoq box, but I only know how to implement dialog boxes when opening items, not saving them.</p>\n\n<p>Here is my code so far:</p>\n\n<pre><code>from __future__ import division\nfrom PyQt4 import QtCore, QtGui, QtOpenGL\nfrom PyQt4.QtGui import * #Used to import QPixmap. DO NOT REMOVE.\nfrom PyQt4.QtCore import * #Used to import Qt.KeepAspectRation. DO NOT REMOVE.\nimport sys, os\nimport mmCreator\n\n\nclass MyApp(QtGui.QMainWindow, mmCreator.Ui_MainWindow):\n    def __init__(self, parent=None):\n        super(MyApp, self).__init__(parent)\n        self.setupUi(self)\n        self.btnSelect.clicked.connect(self.select_image)\n        self.btnConvert.clicked.connect(self.mipmap)\n        self.btnDownload.clicked.connect(self.download)\n\n\n    def select_image(self):\n        self.origImage.setAlignment(QtCore.Qt.AlignCenter)\n        self.origImage.clear()\n        global image\n        image = QtGui.QFileDialog.getOpenFileName(self,\n                                              \"Select Image\",\n                                              \"\",\n                                              \"Image File (*.jpg *.png *.gif)\")\n        global pixmap\n        pixmap = QPixmap(image)\n        scaledPixmap = pixmap.scaled(self.origImage.size(), Qt.KeepAspectRatio)\n        self.origImage.setPixmap(scaledPixmap)\n        self.origImage.show()\n\n\n    def mipmap(self):\n        self.mipMap.setAlignment(QtCore.Qt.AlignCenter)\n        #Create scaled versions of the source image.\n        pixmap = QPixmap(image)\n        global mipmaps\n        mipmaps = []\n        #Version 1 goes up to 1/16 of original size.\n        mipmaps.append(pixmap.scaledToWidth(pixmap.width() / 2))\n        mipmaps.append(pixmap.scaledToWidth(pixmap.width() / 4))\n        mipmaps.append(pixmap.scaledToWidth(pixmap.width() / 8))\n        mipmaps.append(pixmap.scaledToWidth(pixmap.width() / 16))\n        #Show the first mipmapped version of the image, at 75% label size.\n        scaledMipMap = mipmaps[0].scaled(self.mipMap.size() * (3/4), Qt.KeepAspectRatio)\n        self.mipMap.setPixmap(scaledMipMap)\n        self.mipMap.show()\n\n    def download():\n        mipmaps.save('/path/to/file.png', 'PNG')\n\ndef main():\n    app = QtGui.QApplication(sys.argv)\n    form = MyApp()\n    form.show()\n    app.exec_()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1450305219, "post_id": 34323265, "comment_id": 56388583, "body": "I&#39;m not sure whether <i>flask</i> has some built-in support for that (expecting an answer), but you definitely could register route to <code>&#39;&#47;route&#47;get&#47;&lt;response_type&gt;&#39;</code> and then serve different data depending on <code>response_type</code> value. You could even make a decoroator which configures the route <i>and</i> serves one type or the other automatically."}], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 3452630, "user_type": "registered", "profile_image": "https://graph.facebook.com/560435417/picture?type=large", "display_name": "Brad K.", "link": "https://stackoverflow.com/users/3452630/brad-k"}, "is_accepted": true, "score": 2, "last_activity_date": 1450305597, "creation_date": 1450305597, "answer_id": 34323513, "question_id": 34323265, "link": "https://stackoverflow.com/questions/34323265/modular-routes-in-python-flask/34323513#34323513", "title": "Modular routes in python flask", "body": "<p>You'll want to take a look at <a href=\"http://flask.pocoo.org/docs/0.10/blueprints/\" rel=\"nofollow\">Blueprints</a>.</p>\n\n<p>When defining your application, you can register Blueprints with a path prefix:</p>\n\n<pre><code>app = Flask(__name__, template_folder='views')\napp.register_blueprint(controllers.route1, url_prefix=\"/route1\")\napp.register_blueprint(controllers.route2, url_prefix=\"/route2\")\n</code></pre>\n\n<p>Then define the controllers for these routes in separate files.</p>\n\n<pre><code>route1 = Blueprint('route1', __name__, template_folder='views')\n\n@route1.route('/get/as_text',methods=['GET'])\ndef get_as_text_route():\n\n    return json.jsonify(data=\"my data\")\n</code></pre>\n\n<p>You could also checkout <a href=\"http://flask-restful-cn.readthedocs.org/en/0.3.4/\" rel=\"nofollow\">Flask Restful</a> for creating REST APIs in with Flask.</p>\n"}], "owner": {"reputation": 952, "user_id": 2091965, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1c1285c630291af3766d5b8c6cd80a15?s=128&d=identicon&r=PG", "display_name": "eignhpants", "link": "https://stackoverflow.com/users/2091965/eignhpants"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1403, "favorite_count": 0, "accepted_answer_id": 34323513, "answer_count": 1, "score": 2, "last_activity_date": 1450305597, "creation_date": 1450304605, "last_edit_date": 1450304956, "question_id": 34323265, "link": "https://stackoverflow.com/questions/34323265/modular-routes-in-python-flask", "title": "Modular routes in python flask", "body": "<p>I am trying to have one service which will fulfill two related functions. I would like to have something like this for my REST api:</p>\n\n<pre><code>/route1/get/as_text\n\n/route2/get/as_json\n</code></pre>\n\n<p>In nodejs, you can pass off a collection of routes from some base URL by saying:</p>\n\n<pre><code>app.use('/route1/', route1.js)\napp.use('/route2/', route2.js)\n</code></pre>\n\n<p>and then the <code>route1.js</code> will have routes defined like this:</p>\n\n<pre><code>app.router('/as_text', function(){//some stuff})\n</code></pre>\n\n<p>When I do this, can define a set of routes, that all have <code>/route1/</code> as the basis of the URL. I would like to do something similar in flask, where I just define the first section of the url, and add all logic of that section of the API into a file which is separate to another section of the api.</p>\n\n<p>Is this possible in flask? Or should I look for a new approach?</p>\n"}, {"tags": ["python", "list", "python-2.7", "readlines"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1450304909, "post_id": 34323262, "comment_id": 56388426, "body": "I think this is Python2? Also, could you include a sample of AAPLprice.txt? E.g. what the lines look like?"}, {"owner": {"reputation": 31, "user_id": 5548168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6aa290a5c52bdd83ac7bce5d7b9a8d9?s=128&d=identicon&r=PG&f=1", "display_name": "Fettucini", "link": "https://stackoverflow.com/users/5548168/fettucini"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1450305014, "post_id": 34323262, "comment_id": 56388476, "body": "@cricket_007 yes 2.7"}, {"owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1450305015, "post_id": 34323262, "comment_id": 56388477, "body": "How are you trying to combine the string and list? You can concatenate them together if you turn the list into a string first using str(list)"}, {"owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "edited": false, "score": 0, "creation_date": 1450305213, "post_id": 34323262, "comment_id": 56388579, "body": "there are a lot of things to do with lines above.  but simply put <code>,</code> after your first print statement and <code>[0]</code> after last."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1450305284, "post_id": 34323262, "comment_id": 56388608, "body": "Is there a certain reason you print the first column of the final line and the max value from the second column? Are all the first column values the same?"}, {"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 0, "creation_date": 1450305642, "post_id": 34323262, "comment_id": 56388786, "body": "a = 2015-07-21 b = [&#39;lol&#39;]  print a,str(b)  You can cast your list to a string, to concatenate?"}], "answers": [{"tags": [], "owner": {"reputation": 2924, "user_id": 4052384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2WuTl.jpg?s=128&g=1", "display_name": "Anthony Pham", "link": "https://stackoverflow.com/users/4052384/anthony-pham"}, "is_accepted": true, "score": 0, "last_activity_date": 1450308809, "creation_date": 1450308809, "answer_id": 34324166, "question_id": 34323262, "link": "https://stackoverflow.com/questions/34323262/python-how-do-i-combine-two-outputs-and-merge-them-so-what-prints-is-a-single-v/34324166#34324166", "title": "Python- How do I combine two outputs and merge them so what prints is a single value? python 2.7", "body": "<p>You could simply join them together with a \"+\":</p>\n\n<pre><code>a = 2015-07-21 \nb = ['129.606052']\nprint a + b[0]\n</code></pre>\n\n<p><code>b[0]</code> takes the first item in the list, <code>b</code>. In this case, it takes out the only item in the list. You can add a space by simply adding a string in between them:</p>\n\n<pre><code>print a + \" \" + b[0]\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5548168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6aa290a5c52bdd83ac7bce5d7b9a8d9?s=128&d=identicon&r=PG&f=1", "display_name": "Fettucini", "link": "https://stackoverflow.com/users/5548168/fettucini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1902, "favorite_count": 0, "accepted_answer_id": 34324166, "answer_count": 1, "score": -5, "last_activity_date": 1450308809, "creation_date": 1450304572, "last_edit_date": 1450305142, "question_id": 34323262, "link": "https://stackoverflow.com/questions/34323262/python-how-do-i-combine-two-outputs-and-merge-them-so-what-prints-is-a-single-v", "title": "Python- How do I combine two outputs and merge them so what prints is a single value? python 2.7", "body": "<p>So basically I have this code:  </p>\n\n<pre><code>try:\n    fhanddate = open('AAPLprice.txt')\n\nexcept:\n    print 'Could not open file - closing application'\n    exit()\n\nstock_date = []\n\nfor line in fhanddate:\n    p = line.strip()\n    q = p.split(',')\n    r = q[0:]\n\n    stock_date.append(r)\n\nfor line in stock_date:\n    pass\nlast = line\nprint last[0]\n\ntry:\n    fhanda = open('AAPLprice.txt')\nexcept:\n    print 'Could not open file - closing application'\n    exit()\n\nstock_priceA = []\n\nfor line in fhanda:\n    p = line.strip()\n    q = p.split(',')\n    r = q[-1:]\n    stock_priceA.append(r)\n\nprint max(stock_priceA)\n</code></pre>\n\n<p>My output as a result is : </p>\n\n<pre><code>2015-07-21    \n['129.606052']\n</code></pre>\n\n<p>So I want to know how I can combine both of these outputs so I get : 2015-07-21 129.606052 , as a result</p>\n\n<p>When I try to just combine them I get the \"TypeError: cannot concatenate 'str' and 'list' objects\" error</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12642, "user_id": 3019689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cc10b8b7be444698cc0737fb52d51ce7?s=128&d=identicon&r=PG&f=1", "display_name": "jez", "link": "https://stackoverflow.com/users/3019689/jez"}, "edited": false, "score": 0, "creation_date": 1450304742, "post_id": 34323147, "comment_id": 56388335, "body": "My bet would be the original author wrote multiple test cases and renamed them <code>__main__1</code> etc just to keep them <i>around</i> for reference, without intending for them to be called. Probably he/she switched between test cases by editing the file and removing the numeral from one of those names at a time.  If you want to switch between cases <i>without</i> continually making changes to the source file, I suggest rewriting it so that there&#39;s one single <code>__main__</code> section, which switches based on a command-line argument retrieved from <code>sys.argv</code>"}, {"owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 1, "creation_date": 1450304801, "post_id": 34323147, "comment_id": 56388372, "body": "In the example you linked, there&#39;s a comment that might indicate that these are <b>examples</b> of different &quot;main functions&quot;. (Note that they aren&#39;t actual functions, per se.) This might explain why there are multiple ones. <code>if __name__ == &#39;__main__&#39;</code> (without any numbers) is a common idiom to detect whether a script was called (directly) on the command line (vs. imported as a module in another script.)"}, {"owner": {"reputation": 3015, "user_id": 965738, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/93c879f9b2acb81db22ec9e2e5ef87c9?s=128&d=identicon&r=PG", "display_name": "Tom Makin", "link": "https://stackoverflow.com/users/965738/tom-makin"}, "reply_to_user": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 0, "creation_date": 1450305472, "post_id": 34323147, "comment_id": 56388702, "body": "@das-g Thanks for pointing out the comment in the link regarding &quot;examples&quot;, I think that explains the reasons for doing it in their case. Perhaps my author was also thinking along the same lines."}], "answers": [{"comments": [{"owner": {"reputation": 3015, "user_id": 965738, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/93c879f9b2acb81db22ec9e2e5ef87c9?s=128&d=identicon&r=PG", "display_name": "Tom Makin", "link": "https://stackoverflow.com/users/965738/tom-makin"}, "edited": false, "score": 0, "creation_date": 1450304759, "post_id": 34323268, "comment_id": 56388344, "body": "Thanks for your thoughts on this. The script in question has about 10 of these sections, so I guess it would be a bit impractical to swap in and out. And sadly I don&#39;t have access to the author."}, {"owner": {"reputation": 3015, "user_id": 965738, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/93c879f9b2acb81db22ec9e2e5ef87c9?s=128&d=identicon&r=PG", "display_name": "Tom Makin", "link": "https://stackoverflow.com/users/965738/tom-makin"}, "edited": false, "score": 0, "creation_date": 1450305965, "post_id": 34323268, "comment_id": 56388952, "body": "I&#39;m concluding that either the intention was to sawp in about manually or that there is supposed to be some sort of external script runner such as the <code>brython</code> interface mentioned in my update. Either way, it doesn&#39;t look like there is any python magic that I&#39;ve missed here. Thanks again to all for chipping in."}], "tags": [], "owner": {"reputation": 412, "user_id": 1624676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MXuKL.jpg?s=128&g=1", "display_name": "zencodism", "link": "https://stackoverflow.com/users/1624676/zencodism"}, "is_accepted": true, "score": 1, "last_activity_date": 1450304622, "creation_date": 1450304622, "answer_id": 34323268, "question_id": 34323147, "link": "https://stackoverflow.com/questions/34323147/python-script-entry-point-how-to-call-main-2/34323268#34323268", "title": "Python script entry point: How to call &quot;__main__2&quot;?", "body": "<p>The standard <a href=\"https://docs.python.org/2/library/__main__.html\" rel=\"nofollow\">doc</a> mentions only <strong>main</strong> as a reserved module namespace. After looking at your sample I notice that every main method seems separate, does its imports, performs some enclosed functionality. My suspicion is that the developer wanted to quickly swap functionalities and didn't bother to use command line arguments for that, opting instead to swap '<strong>main2</strong>' to '<strong>main</strong>' as needed.</p>\n\n<p>This is by no means proven, though - any chance of contacting the one who wrote this in the first place?</p>\n"}], "owner": {"reputation": 3015, "user_id": 965738, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/93c879f9b2acb81db22ec9e2e5ef87c9?s=128&d=identicon&r=PG", "display_name": "Tom Makin", "link": "https://stackoverflow.com/users/965738/tom-makin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 34323268, "answer_count": 1, "score": 2, "last_activity_date": 1450305113, "creation_date": 1450304161, "last_edit_date": 1450305113, "question_id": 34323147, "link": "https://stackoverflow.com/questions/34323147/python-script-entry-point-how-to-call-main-2", "title": "Python script entry point: How to call &quot;__main__2&quot;?", "body": "<p>I have inherited a python script which appears to have multiple distinct entry points. For example:</p>\n\n<pre><code>if __name__ == '__main__1':\n   ... Do stuff for option 1\n\nif __name__ == '__main__2':\n   ... Do stuff for option 2\n\netc\n</code></pre>\n\n<p>Google has turned up a few other examples of this syntax (e.g. <a href=\"https://github.com/mscook/uqbinfpy/blob/master/examples/phylo_examples.py\" rel=\"nofollow\">here</a>) but I'm still no wiser on how to use it. </p>\n\n<p>So the question is: How can I call a specific entry point in a python script that has multiple numbered <code>__main__</code> sections?</p>\n\n<p><strong>Update:</strong>\nI found another example of it here, where the syntax appears to be related to a specfic tool.\n<a href=\"https://github.com/brython-dev/brython/issues/163\" rel=\"nofollow\">https://github.com/brython-dev/brython/issues/163</a></p>\n"}, {"tags": ["python", "scikit-image"], "answers": [{"comments": [{"owner": {"reputation": 1183, "user_id": 3637548, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/58v6s.jpg?s=128&g=1", "display_name": "B Furtado", "link": "https://stackoverflow.com/users/3637548/b-furtado"}, "edited": false, "score": 0, "creation_date": 1450698650, "post_id": 34325979, "comment_id": 56531223, "body": "Thanks! Not sure why I would need to make it an array before rotating it. But, it did work. Best,"}], "tags": [], "owner": {"reputation": 246, "user_id": 4176552, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-EegtMnrpAL8/AAAAAAAAAAI/AAAAAAAABFw/Ye3I2cgaKD8/photo.jpg?sz=128", "display_name": "Maxwell Grady", "link": "https://stackoverflow.com/users/4176552/maxwell-grady"}, "is_accepted": true, "score": 2, "last_activity_date": 1516629413, "last_edit_date": 1516629413, "creation_date": 1450321829, "answer_id": 34325979, "question_id": 34323123, "link": "https://stackoverflow.com/questions/34323123/trying-to-rotate-a-simple-picture-in-python-using-skimage-transform/34325979#34325979", "title": "Trying to ROTATE a simple picture in Python using skimage.transform", "body": "<p>Would have to do some more testing but at first glance I'd say the problem is the first argument you are passing to the rotate() function.</p>\n\n<p>According to the docs for Skimage: <a href=\"http://scikit-image.org/docs/stable/api/skimage.transform.html#rotate\" rel=\"nofollow noreferrer\">http://scikit-image.org/docs/stable/api/skimage.transform.html#rotate</a></p>\n\n<p>rotate() takes a first argument an image in the format of ndarray. Your object (since you are using the 'novice' module, is of type  according to my quick test.</p>\n\n<p>Try something like:</p>\n\n<pre><code>new_pic = rotate(pic.array, 180)\n</code></pre>\n\n<p>pic.array is a direct reference to the underlying ndarray object stored in the novice 'Picture' object</p>\n\n<p>EDIT: This gives you new_pic as numpy array! so you'll need to do the following to show it:</p>\n\n<pre><code>new_pic = rotate(pic.array, 180)\n\nfrom skimage.io import imshow, show\n\nimshow(new_pic)\n\nshow()\n</code></pre>\n"}], "owner": {"reputation": 1183, "user_id": 3637548, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/58v6s.jpg?s=128&g=1", "display_name": "B Furtado", "link": "https://stackoverflow.com/users/3637548/b-furtado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8874, "favorite_count": 0, "accepted_answer_id": 34325979, "answer_count": 1, "score": 3, "last_activity_date": 1516629413, "creation_date": 1450304049, "question_id": 34323123, "link": "https://stackoverflow.com/questions/34323123/trying-to-rotate-a-simple-picture-in-python-using-skimage-transform", "title": "Trying to ROTATE a simple picture in Python using skimage.transform", "body": "<p>I have a simple picture in Python 3.X\nI can display it.\nHowever, I cannot rotate it, using skimage.transform.rotate.</p>\n\n<p>The error is that my 'Picture' object has no shape. I've seen the .shape included after the rotate command, but it still does not work.</p>\n\n<p>Here is my code</p>\n\n<pre><code>import skimage\nfrom skimage import novice\n\n# New, all black picture\npic = skimage.novice.Picture.from_size((600, 600), color=(0, 0, 0))\n\n# Coloring some pixels in white\nfor i in range(0, len(all_dots) - 1, 2):\n    x = all_dots[i]\n    y = all_dots[i + 1]\n    pic[x, y] = (255, 255, 255)\n\nfrom skimage.transform import rotate\n\nnew_pic = rotate(pic, 180)\n# Also new_pic = rotate(pic, 180).shape does not work\n\nnew_pic.show()\n</code></pre>\n\n<p>Any ideas? Thanks</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 1, "creation_date": 1450304213, "post_id": 34323107, "comment_id": 56388063, "body": "You should download the page (try e.g. <code>urllib</code>), then you should parse the html (<code>BeautifulSoup</code> is good for that), then calculate the average (that part should be easy)."}, {"owner": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "reply_to_user": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1450304333, "post_id": 34323107, "comment_id": 56388124, "body": "@zvone not quite sure if this is meant to be a scraping operation, but if so, that&#39;d definitely work too :)."}, {"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "reply_to_user": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "edited": false, "score": 0, "creation_date": 1450304623, "post_id": 34323107, "comment_id": 56388280, "body": "@N.Wouda  The question is unclear. OP did not really say what his problem is ;) I was in fact expecting his response to clarify the question."}, {"owner": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "reply_to_user": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1450304742, "post_id": 34323107, "comment_id": 56388336, "body": "@zvone eagerly awaiting the same here!"}, {"owner": {"reputation": 1, "user_id": 5688628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19effbd0c509fa4a461a3d40135b0ab1?s=128&d=identicon&r=PG&f=1", "display_name": "Billy on", "link": "https://stackoverflow.com/users/5688628/billy-on"}, "edited": false, "score": 0, "creation_date": 1450522961, "post_id": 34323107, "comment_id": 56481645, "body": "My aim is to calculate 2 moving averages from this data source. The print view would effectively just show; Lloyds - MA 10 &#163;3.45, MA 30 &#163;4.20"}], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 5688583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/377816cc1322671318f7c5f3cb2515ee?s=128&d=identicon&r=PG&f=1", "display_name": "ashutosh", "link": "https://stackoverflow.com/users/5688583/ashutosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1450304740, "creation_date": 1450304740, "answer_id": 34323303, "question_id": 34323107, "link": "https://stackoverflow.com/questions/34323107/python-moving-average-on-web-data/34323303#34323303", "title": "Python moving average on web data", "body": "<p>You can use this sample code.</p>\n\n<pre><code>import urllib\nfrom BeautifulSoup import *\n\nurl = raw_input('Enter - ')\nhtml = urllib.urlopen(url).read()\n\nsoup = BeautifulSoup(html)\n# Retrieve all of the anchor tags\ntags = soup('span')\nfor tag in tags:\n   # Look at the parts of a tag\n   #calculate whatever you wanto\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5688628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19effbd0c509fa4a461a3d40135b0ab1?s=128&d=identicon&r=PG&f=1", "display_name": "Billy on", "link": "https://stackoverflow.com/users/5688628/billy-on"}, "edited": false, "score": 0, "creation_date": 1450477991, "post_id": 34323353, "comment_id": 56472363, "body": "Thanks all for your comments and replies."}], "tags": [], "owner": {"reputation": 981, "user_id": 5672137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/iOyqj.jpg?s=128&g=1", "display_name": "Marcin Zdunek", "link": "https://stackoverflow.com/users/5672137/marcin-zdunek"}, "is_accepted": false, "score": 0, "last_activity_date": 1450304957, "creation_date": 1450304957, "answer_id": 34323353, "question_id": 34323107, "link": "https://stackoverflow.com/questions/34323107/python-moving-average-on-web-data/34323353#34323353", "title": "Python moving average on web data", "body": "<p>Try it:    </p>\n\n<pre><code>from urllib import request\nfrom bs4 import BeautifulSoup\n\nurl = \"https://uk.finance.yahoo.com/q/hp?a=&amp;b=&amp;c=&amp;d=11&amp;e=16&amp;f=2015&amp;g=d&amp;s=LLOY.L%2C+&amp;ql=1\"\nhtml_contents = request.urlopen(url).read()\n\npage = BeautifulSoup(html_contents, \"html.parser\")\nel_list = page.find_all(\"span\", {\"id\": \"yfs_p43_lloy.l\"})\nprint(el_list[0])\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5688628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19effbd0c509fa4a461a3d40135b0ab1?s=128&d=identicon&r=PG&f=1", "display_name": "Billy on", "link": "https://stackoverflow.com/users/5688628/billy-on"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1450304957, "creation_date": 1450303998, "question_id": 34323107, "link": "https://stackoverflow.com/questions/34323107/python-moving-average-on-web-data", "title": "Python moving average on web data", "body": "<p>Relatively new to python so apologies if I ask a stupid question.</p>\n\n<p>I just want to check if this is possible and if it is how complex.</p>\n\n<p>I would like to calculate the moving average from share data on this web page</p>\n\n<p><a href=\"https://uk.finance.yahoo.com/q/hp?a=&amp;b=&amp;c=&amp;d=11&amp;e=16&amp;f=2015&amp;g=d&amp;s=LLOY.L%2C+&amp;ql=1\" rel=\"nofollow\">https://uk.finance.yahoo.com/q/hp?a=&amp;b=&amp;c=&amp;d=11&amp;e=16&amp;f=2015&amp;g=d&amp;s=LLOY.L%2C+&amp;ql=1</a></p>\n"}, {"tags": ["python", "python-2.x"], "comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1450304026, "post_id": 34323068, "comment_id": 56387948, "body": "It seems that argv has only one value. You executed <code>python yourscript</code> instead of <code>python yourscript a b c</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5688627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWgmZ.jpg?s=128&g=1", "display_name": "Stubborn Goat", "link": "https://stackoverflow.com/users/5688627/stubborn-goat"}, "edited": false, "score": 0, "creation_date": 1450304361, "post_id": 34323100, "comment_id": 56388144, "body": "thanks for help but I get a new error :NameError: name &#39;script&#39; is not defined"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "reply_to_user": {"reputation": 1, "user_id": 5688627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWgmZ.jpg?s=128&g=1", "display_name": "Stubborn Goat", "link": "https://stackoverflow.com/users/5688627/stubborn-goat"}, "edited": false, "score": 0, "creation_date": 1450304709, "post_id": 34323100, "comment_id": 56388323, "body": "@StubbornGoat:  <code>script</code> would not be defined if you didn&#39;t pass 3 arguments.  The execution path would have gone through the else-clause and the variables are not defined in that case.  You can either move you print logic inside of the if-clause or set your variables to a default value before the if-statement."}], "tags": [], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "is_accepted": false, "score": 1, "last_activity_date": 1450304839, "last_edit_date": 1450304839, "creation_date": 1450303963, "answer_id": 34323100, "question_id": 34323068, "link": "https://stackoverflow.com/questions/34323068/python-unpack-error-need-more-values-to-unpack/34323100#34323100", "title": "Python unpack error need more values to unpack", "body": "<p><code>script, first, second, third = argv</code> 'unpacks' <code>argv</code> (which must contain 4 items) into the corresponding variables. Apparently, you didn't pass the 3 arguments to your script.</p>\n\n<p>Try this to check:</p>\n\n<pre><code>if len(argv) == 4:\n    script, first, second, third = argv\nelse:\n    print \"Not enough arguments\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6465, "user_id": 1459669, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WW5ah.jpg?s=128&g=1", "display_name": "no\u0265\u0287\u028e\u0500\u028ez\u0250\u0279\u0186", "link": "https://stackoverflow.com/users/1459669/no%c9%a5%ca%87%ca%8e%d4%80%ca%8ez%c9%90%c9%b9%c6%86"}, "is_accepted": false, "score": 0, "last_activity_date": 1450305191, "creation_date": 1450305191, "answer_id": 34323410, "question_id": 34323068, "link": "https://stackoverflow.com/questions/34323068/python-unpack-error-need-more-values-to-unpack/34323410#34323410", "title": "Python unpack error need more values to unpack", "body": "<p>This means that you are not providing enough arguments to the python script. This error means you tried to unpack more values than there were in the list. Run it like <code>python file.py a b c</code>.</p>\n\n<p>Try this code:</p>\n\n<pre><code>if len(argv) == 4:\n    script, first, second, third = argv\n    print \"The script is called:\", script\n    print \"Your first variable is:\", first\n    print \"Your second variable is:\", second\n    print \"Your third variable is:\", third\nelse:\n    print \"Not enough arguments\"\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5688627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWgmZ.jpg?s=128&g=1", "display_name": "Stubborn Goat", "link": "https://stackoverflow.com/users/5688627/stubborn-goat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2798, "favorite_count": 0, "closed_date": 1450310540, "answer_count": 2, "score": 0, "last_activity_date": 1450305276, "creation_date": 1450303820, "last_edit_date": 1450305276, "question_id": 34323068, "link": "https://stackoverflow.com/questions/34323068/python-unpack-error-need-more-values-to-unpack", "closed_reason": "Duplicate", "title": "Python unpack error need more values to unpack", "body": "<p>I run this code:</p>\n\n<pre><code>from sys import argv\n\nscript, first, second, third = argv\n\nprint \"The script is called:\", script\nprint \"Your first variable is:\", first\nprint \"Your second variable is:\", second\nprint \"Your third variable is:\", third\n</code></pre>\n\n<p>But when I run it, I get this error:</p>\n\n<p><code>ValueError: need more than 1 value to unpack</code></p>\n"}, {"tags": ["python", "python-2.7", "numpy", "pca"], "answers": [{"comments": [{"owner": {"reputation": 1784, "user_id": 2812237, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/B27re.png?s=128&g=1", "display_name": "Naz", "link": "https://stackoverflow.com/users/2812237/naz"}, "edited": false, "score": 0, "creation_date": 1450304948, "post_id": 34323069, "comment_id": 56388449, "body": "Oh. That&#39;s why I said my linear algebra is shabby. In such a case the results are equivalent. This was impacting my 3d scatter plot. But now I will just flip the third column I suppose"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1450303825, "creation_date": 1450303825, "answer_id": 34323069, "question_id": 34323027, "link": "https://stackoverflow.com/questions/34323027/alternative-to-numpys-linalg-eig/34323069#34323069", "title": "Alternative to numpy&#39;s linalg.eig?", "body": "<blockquote>\n  <p>So if scikit's third eigenvector is <code>(a,-b,-c,-d)</code> then mine is <code>(-a,b,c,d)</code>.</p>\n</blockquote>\n\n<p>That's completely normal. If <code>v</code> is an eigenvector of a matrix, then <code>-v</code> is an eigenvector with the same eigenvalue.</p>\n"}, {"tags": [], "owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "is_accepted": true, "score": 1, "last_activity_date": 1450303874, "creation_date": 1450303874, "answer_id": 34323084, "question_id": 34323027, "link": "https://stackoverflow.com/questions/34323027/alternative-to-numpys-linalg-eig/34323084#34323084", "title": "Alternative to numpy&#39;s linalg.eig?", "body": "<p>This is desired behaviour, even stated in the documentation of sklearn's PCA</p>\n\n<blockquote>\n  <p>Due to implementation subtleties of the Singular Value Decomposition (SVD), which is used in this implementation, running fit twice on the same matrix <strong>can lead to principal components with signs flipped</strong> (change in direction). For this reason, it is important to always use the same estimator object to transform data in a consistent fashion.</p>\n</blockquote>\n\n<p>and quite obviously correct from mathematical perspective, as if v is eigenvector of A then</p>\n\n<pre><code>Av = kv\n</code></pre>\n\n<p>thus also</p>\n\n<pre><code>A(-v) = -(Av) = -(kv) = k(-v)\n</code></pre>\n"}], "owner": {"reputation": 1784, "user_id": 2812237, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/B27re.png?s=128&g=1", "display_name": "Naz", "link": "https://stackoverflow.com/users/2812237/naz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 34323084, "answer_count": 2, "score": 0, "last_activity_date": 1450303874, "creation_date": 1450303680, "question_id": 34323027, "link": "https://stackoverflow.com/questions/34323027/alternative-to-numpys-linalg-eig", "title": "Alternative to numpy&#39;s linalg.eig?", "body": "<p>I have written a simple PCA code that calculates the covariance matrix and then uses <code>linalg.eig</code> on that covariance matrix to find the principal components. When I use scikit's PCA for three principal components I get almost the equivalent result. My PCA function outputs the third column of transformed data with flipped signs to what scikit's PCA function does. Now I think there is a higher probability that scikit's built-in PCA is correct than to assume that my code is correct. I have noticed that the third principal component/eigenvector has flipped signs in my case. So if scikit's third eigenvector is <code>(a,-b,-c,-d)</code> then mine is <code>(-a,b,c,d)</code>. I might a bit shabby in my linear algebra, but I assume those are different results. The way I arrive at my eigenvectors is by computing the eigenvectors and eigenvalues of the covariance matrix using <code>linalg.eig</code>. I would gladly try to find eigenvectors by hand, but doing that for a <code>4x4</code> matrix (I am using iris data set) is not fun.</p>\n\n<p>Iris data set has 4 dimensions, so at most I can run PCA for 4 components. When I run for one component, the results are equivalent. When I run for 2, also equivalent. For three, as I said, my function outputs flipped signs in the third column. When I run for four, again signs are flipped in the third column and all other columns are fine. I am afraid I cannot provide the code for this. This is a project, kind of.</p>\n"}, {"tags": ["python", "linux", "bash", "gnome"], "comments": [{"owner": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "edited": false, "score": 4, "creation_date": 1450303808, "post_id": 34322967, "comment_id": 56387830, "body": "It&#39;s probably due to running from a different directory, but you&#39;ve redacted the paths so it&#39;s hard to tell (consider redact-&gt;run-&gt;post instead of run-&gt;redact-&gt;post). Do you experience the same problem if you do <code>cd ~ &amp;&amp; &#47;full&#47;path&#47;to&#47;script1.sh</code> instead of cd&#39;ing and using <code>.&#47;</code>?"}, {"owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "edited": false, "score": 1, "creation_date": 1450303823, "post_id": 34322967, "comment_id": 56387843, "body": "Are you sure you are not using a relative path?"}], "owner": {"reputation": 43, "user_id": 5680334, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10207979050376850/picture?type=large", "display_name": "Krowa", "link": "https://stackoverflow.com/users/5680334/krowa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1450310493, "creation_date": 1450303487, "last_edit_date": 1592644375, "question_id": 34322967, "link": "https://stackoverflow.com/questions/34322967/sh-stops-execution-after-invoking-a-py-if-run-from-gnome-shortcut", "title": ".sh stops execution after invoking a .py if run from Gnome shortcut", "body": "<p>I have a dumb question and I hope you can help me ..\nI have &quot;script1.sh&quot;, &quot;script_python.py&quot; and &quot;script_python2.py&quot;, all have permissions 755 and are in the same folder</p>\n<p>script1.sh:</p>\n<pre><code>#!/bin/bash\n\nexample=/path/to/script_python.py\narg=/path/to/image.jpg\nvariable=/path/to/script_python2.py\npath_file=/path/to/file.webm\ntitle_test=&quot;This is the title&quot;\ndescripcion_test=&quot;This is the description&quot;\n\npython $example $arg $arg\n\npython $variable --file=&quot;$path_file&quot; --title=&quot;$title_test&quot; --description=&quot;$descripcion_test&quot; --category=&quot;22&quot; --privacyStatus=&quot;public&quot;\nexit 0\n</code></pre>\n<p>Make a cd to the folder containing the scripts, then (from the bash console) write:</p>\n<pre><code>./script1.sh\n</code></pre>\n<p>It runs all OK! ..it runs perfect both python scripts</p>\n<h1>----------------------------------------</h1>\n<p>But the problem is here ...</p>\n<p>If I create a shortcut 'gnome' (All Settings&gt; Shortcuts&gt; Keyboard) and income as /path/to/script1.sh command .....  runs the first python script('script_python.py')..but NOT run the 2nd python script ('script_python2.py')...</p>\n<p>It means that fails to run 'script_python2.py' from 'script1.sh' when pressure key combination... why?\nHow could solve this problem?</p>\n<p>Thanks you!</p>\n"}, {"tags": ["python", "audio", "text-to-speech", "wav", "wave"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1450304026, "post_id": 34322952, "comment_id": 56387947, "body": "how many file are there? this is only writing 2 of your wav&#39;s frame data to the ouptut file"}, {"owner": {"reputation": 35, "user_id": 5688611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b530d76ce6d2a1fadd62c52873525318?s=128&d=identicon&r=PG&f=1", "display_name": "bt123", "link": "https://stackoverflow.com/users/5688611/bt123"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1450304569, "post_id": 34322952, "comment_id": 56388244, "body": "the number can vary, usually less than 6"}], "answers": [{"tags": [], "owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "is_accepted": true, "score": 2, "last_activity_date": 1450305377, "last_edit_date": 1495541747, "creation_date": 1450305377, "answer_id": 34323456, "question_id": 34322952, "link": "https://stackoverflow.com/questions/34322952/concatenate-wav-files-using-wave-in-python/34323456#34323456", "title": "Concatenate wav files using wave in python", "body": "<p>I am assuming that you were using <a href=\"https://stackoverflow.com/questions/2890703/how-to-join-two-wav-files-using-python\">this question</a> as your reference. However, the code that you have taken only takes into account 2 wav files because that is what the original question had asked.</p>\n\n<p>Although I am not if this will fix the problem of the sound being on top of each other, you should iterate through each item in your <code>data</code> list.</p>\n\n<pre><code>output = wave.open(outfile, 'wb')\noutput.setparams(data[0][0])\nfor params,frames in data:\n    output.writeframes(frames)\noutput.close()\n</code></pre>\n\n<p>to ensure you are putting in the frames from each file you have.</p>\n\n<p>One thing to keep in mind is that the params for your new wav files might be specific to each file and you might want to check that <a href=\"https://docs.python.org/2/library/wave.html#wave.Wave_read.getparams\" rel=\"nofollow noreferrer\"><code>getparams()</code></a> is returning similar results for each file.</p>\n"}], "owner": {"reputation": 35, "user_id": 5688611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b530d76ce6d2a1fadd62c52873525318?s=128&d=identicon&r=PG&f=1", "display_name": "bt123", "link": "https://stackoverflow.com/users/5688611/bt123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2148, "favorite_count": 0, "accepted_answer_id": 34323456, "answer_count": 1, "score": 2, "last_activity_date": 1450305377, "creation_date": 1450303439, "last_edit_date": 1450304363, "question_id": 34322952, "link": "https://stackoverflow.com/questions/34322952/concatenate-wav-files-using-wave-in-python", "title": "Concatenate wav files using wave in python", "body": "<p>I am trying to concatenate a list of wav files into a single continuous wav file. I have used the following snippet but the output is not correct, sounds almost like the files are on top of each other. <code>audio_files</code> is a list with .wav filenames that are playing as expected.</p>\n\n<p>This is my current code:</p>\n\n<pre><code>outfile = \"sounds.wav\"\n\n    data= []\n    for wav_file in audio_files:\n        w = wave.open(wav_file, 'rb')\n        data.append( [w.getparams(), w.readframes(w.getnframes())] )\n        w.close()\n    output = wave.open(outfile, 'wb')\n    output.setparams(data[0][0])\n    output.writeframes(data[0][1])\n    output.writeframes(data[1][1])\n    output.close()\n</code></pre>\n"}, {"tags": ["python", "shell", "unix", "gsutil"], "comments": [{"owner": {"reputation": 4475, "user_id": 2263165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2bf7c90b7e27710a33b0bedcebde94?s=128&d=identicon&r=PG", "display_name": "Travis Hobrla", "link": "https://stackoverflow.com/users/2263165/travis-hobrla"}, "edited": false, "score": 0, "creation_date": 1450306578, "post_id": 34322831, "comment_id": 56389220, "body": "Do you need a solution that copies only certain files from each bucket, or is your goal to copy all of the files?"}, {"owner": {"reputation": 91, "user_id": 5253795, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/267e4693321eda3cc7fad478717ecde2?s=128&d=identicon&r=PG&f=1", "display_name": "kab", "link": "https://stackoverflow.com/users/5253795/kab"}, "reply_to_user": {"reputation": 4475, "user_id": 2263165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2bf7c90b7e27710a33b0bedcebde94?s=128&d=identicon&r=PG", "display_name": "Travis Hobrla", "link": "https://stackoverflow.com/users/2263165/travis-hobrla"}, "edited": false, "score": 0, "creation_date": 1450309580, "post_id": 34322831, "comment_id": 56390321, "body": "Only copy specific files for that day.To give an example there are files for each hour so we will need to copy all 24 files for earlier dates"}], "answers": [{"tags": [], "owner": {"reputation": 4475, "user_id": 2263165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2bf7c90b7e27710a33b0bedcebde94?s=128&d=identicon&r=PG", "display_name": "Travis Hobrla", "link": "https://stackoverflow.com/users/2263165/travis-hobrla"}, "is_accepted": false, "score": 1, "last_activity_date": 1450312647, "creation_date": 1450312647, "answer_id": 34324751, "question_id": 34322831, "link": "https://stackoverflow.com/questions/34322831/gsutil-resume-download-using-tracker-files/34324751#34324751", "title": "GSutil resume download using tracker files", "body": "<p>You can use the manifest file functionality of cp to do this:</p>\n\n<pre><code>python gsutil -m cp -R -L manifest.log gs://$bucketId/*$fileListTobeDownloaded*$downloadedFileDate* $downloadFilePath\n</code></pre>\n\n<p>You'll need a separate manifest file per each unique cp command you execute. Take a look at the \"-L\" option documentation in <a href=\"https://cloud.google.com/storage/docs/gsutil/commands/cp#options\" rel=\"nofollow\">gsutil help cp</a> for details.</p>\n"}], "owner": {"reputation": 91, "user_id": 5253795, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/267e4693321eda3cc7fad478717ecde2?s=128&d=identicon&r=PG&f=1", "display_name": "kab", "link": "https://stackoverflow.com/users/5253795/kab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452680285, "creation_date": 1450302972, "last_edit_date": 1452680285, "question_id": 34322831, "link": "https://stackoverflow.com/questions/34322831/gsutil-resume-download-using-tracker-files", "title": "GSutil resume download using tracker files", "body": "<p>I have developing a unix shell script which will download files from GCS on to my server.I am using the command and it works pretty good.   </p>\n\n<pre><code>python gsutil -m cp -R gs://$bucketId/*$fileListTobeDownloaded*$downloadedFileDate* $downloadFilePath  \n</code></pre>\n\n<p>Total size of all Files which I am downloading is 30gb.\nI am creating tracker file in specific location on the server by setting state_dir in .boto file.</p>\n\n<p>I want to build retry mechanism so that if some of the downloads do not complete then instead of restarting the entire job, only those files should be download which failed or did not download in previous run.</p>\n\n<p>Please advice</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "spark-graphx"], "answers": [{"comments": [{"owner": {"reputation": 1337, "user_id": 2300708, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4f79f022bcac42e17312d7f2d522959e?s=128&d=identicon&r=PG", "display_name": "Chris Chambers", "link": "https://stackoverflow.com/users/2300708/chris-chambers"}, "edited": false, "score": 0, "creation_date": 1450819148, "post_id": 34323018, "comment_id": 56590786, "body": "I think you can try aggregateByKey() and implement some of your own logic to get slightly better performance than groupByKey(). That will first combine on the partition side before the final merge."}, {"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "reply_to_user": {"reputation": 1337, "user_id": 2300708, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4f79f022bcac42e17312d7f2d522959e?s=128&d=identicon&r=PG", "display_name": "Chris Chambers", "link": "https://stackoverflow.com/users/2300708/chris-chambers"}, "edited": false, "score": 0, "creation_date": 1450843153, "post_id": 34323018, "comment_id": 56597731, "body": "@ChrisChambers Nothing in the example input suggests there are duplicates values per key so <code>mapValues(set)</code> is just a precaution. Otherwise it would be of course worth trying."}], "tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 2, "last_activity_date": 1450303967, "last_edit_date": 1450303967, "creation_date": 1450303658, "answer_id": 34323018, "question_id": 34322803, "link": "https://stackoverflow.com/questions/34322803/how-to-create-pair-rdd-with-elements-that-share-keys-in-source-rdd/34323018#34323018", "title": "How to create pair RDD with elements that share keys in source RDD?", "body": "<p>As far as I understand your description something like this should work:</p>\n\n<pre><code>output = (rdd1\n   .groupByKey()\n   .mapValues(set)\n   .flatMap(lambda kvs: [(x, y) for x in kvs[1] for y in kvs[1] if x &lt; y])\n   .distinct())\n</code></pre>\n\n<p>Unfortunately it is rather expensive operation.</p>\n"}], "owner": {"reputation": 2666, "user_id": 947167, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/qrILJ.jpg?s=128&g=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/947167/jared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 0, "accepted_answer_id": 34323018, "answer_count": 1, "score": 0, "last_activity_date": 1450466013, "creation_date": 1450302871, "last_edit_date": 1450466013, "question_id": 34322803, "link": "https://stackoverflow.com/questions/34322803/how-to-create-pair-rdd-with-elements-that-share-keys-in-source-rdd", "title": "How to create pair RDD with elements that share keys in source RDD?", "body": "<p>I have a key-value RDD in pyspark and would like to return an RDD of pairs that have the same key in the source RDD.</p>\n\n<pre><code>#input rdd of id and user\nrdd1 = sc.parallelize([(1, \"user1\"), (1, \"user2\"), (2, \"user1\"), (2, \"user3\"), (3,\"user2\"), (3,\"user4\"), (3,\"user1\")])\n\n#desired output\n[(\"user1\",\"user2\"),(\"user1\",\"user3\"),(\"user1\",\"user4\"),(\"user2\",\"user4\")]\n</code></pre>\n\n<p>So far I have been unable to come up with the correct combination of functions to do this. The purpose of this is to create an edge list of users based off of a shared common key.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1450303061, "post_id": 34322797, "comment_id": 56387495, "body": "No, <code>Entry</code> does not have a method <code>setText</code>. That name does not even respect Python conventions (it would be <code>set_text</code>, but that does not exist either). Use <code>configure</code> instead. Best thing would be to use a <code>StringVar</code>"}], "answers": [{"tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": false, "score": 2, "last_activity_date": 1450303010, "creation_date": 1450303010, "answer_id": 34322843, "question_id": 34322797, "link": "https://stackoverflow.com/questions/34322797/python-gui-entrybuttons/34322843#34322843", "title": "Python GUI EntryButtons", "body": "<p><code>Entry</code> methods can be found <a href=\"http://effbot.org/tkinterbook/entry.htm#reference\" rel=\"nofollow\">here</a>.  As far as I can tell, there is no <code>setText</code> method.  There is however an <code>insert</code> method that you could use to set the text (though you might wand to <code>delete</code> the current text first).</p>\n\n<pre><code>def set_text(entry, text):\n    entry.delete(0, tkinter.END)\n    entry.insert(0 text)\n</code></pre>\n\n<p>Alternatively, you can hook the entry up to a <code>StringVar</code> and use it's <code>.set()</code> and <code>.get()</code> methods.  e.g. (from the linked docs above):</p>\n\n<pre><code>v = StringVar()\ne = Entry(master, textvariable=v)\ne.pack()\n\nv.set(\"a default value\")\ns = v.get()\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 5556679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c641693aefa869634355d473e99a584e?s=128&d=identicon&r=PG&f=1", "display_name": "Katie2423", "link": "https://stackoverflow.com/users/5556679/katie2423"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450303010, "creation_date": 1450302824, "question_id": 34322797, "link": "https://stackoverflow.com/questions/34322797/python-gui-entrybuttons", "title": "Python GUI EntryButtons", "body": "<p>I'm making a small GUI application that deals with grades and whatnot and outputs the highest grades and etc. </p>\n\n<p>Here's a part of the code:</p>\n\n<pre><code>root = Tk()\n\ngradeList = []\n\ndef addGradeObject(name, percentage):\n    gradeList.append(Grade(name, percentage))\n    updateOutput()\n    print(gradeList)\n\ndef undoAdd():\n    try:\n        gradeList.pop(len(gradeList) - 1)\n        updateOutput()\n        print(gradeList)\n    except Exception:\n        pass\n\ndef updateOutput():\n    highestGrade.setText(highest_grade(gradeList))\n    lowestGrade.setText(lowest_grade(gradeList))\n    numFailed.setText(num_failed(gradeList))\n\naddButton = Button(text = \"Add Grade\", command = lambda: addGradeObject    (entryA.get(), entryB.get())).grid(row = 1, column = 4)\nundoButton = Button(text = \"Undo\", command = undoAdd).grid(row = 2, column = 4)\n\nentryA = Entry()\nentryA.grid(row = 1, column = 1)\nentryB = Entry()\nentryB.grid(row = 1, column = 2)\n\nhighestGrade = Entry()\nhighestGrade.grid(row = 2, column = 1)\nlowestGrade = Entry()\nlowestGrade.grid(row = 3, column = 1)\nnumFailed = Entry()\nnumFailed.grid(row = 4, column = 1)\n\nroot.title(\"Grade Checker\")\n\n\nroot.mainloop()\n</code></pre>\n\n<p>The problem is I'm getting this error: </p>\n\n<pre><code>AttributeError: 'Entry' object has no attribute 'setText'\n</code></pre>\n\n<p>I don't understand. When you create an Entry box, doesn't the object of class \"Entry\" have an attribute/method that allows you to set text to it? I really don't know why it's not working</p>\n"}, {"tags": ["python", "json", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 16356, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/MqCvM.jpg?s=128&g=1", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "edited": false, "score": 0, "creation_date": 1450303165, "post_id": 34322778, "comment_id": 56387539, "body": "Check the tests in github for DRF. This may help you. <a href=\"https://github.com/tomchristie/django-rest-framework/blob/6284bceaaff0e53349131164ce5c16cda8deb715/tests/test_testing.py#L233-L238\" rel=\"nofollow noreferrer\">github.com/tomchristie/django-rest-framework/blob/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15098, "user_id": 4458034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f986d9d2a1920cd4c9c71110a2dc7905?s=128&d=identicon&r=PG", "display_name": "Linovia", "link": "https://stackoverflow.com/users/4458034/linovia"}, "is_accepted": false, "score": 3, "last_activity_date": 1450359488, "creation_date": 1450359488, "answer_id": 34335995, "question_id": 34322778, "link": "https://stackoverflow.com/questions/34322778/upload-image-on-json-django-rest-framework/34335995#34335995", "title": "upload image on json DJANGO REST FRAMEWORK", "body": "<p>Django REST framework doesn't support out of the box file upload through JSON. <a href=\"http://www.django-rest-framework.org/api-guide/fields/#file-upload-fields\" rel=\"nofollow\">The documentation mentions that</a>. Maybe a 3rd party does.</p>\n\n<p>Note that the file upload tests in DRF do use the form content type instead of JSON.</p>\n"}, {"comments": [{"owner": {"reputation": 472, "user_id": 1957846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fOXJc.jpg?s=128&g=1", "display_name": "vladimir.gorea", "link": "https://stackoverflow.com/users/1957846/vladimir-gorea"}, "edited": false, "score": 0, "creation_date": 1613214026, "post_id": 47067756, "comment_id": 117010218, "body": "He&#39;s not using formdata! He&#39;s using json!"}], "tags": [], "owner": {"reputation": 1, "user_id": 2155318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a238f83cb6825277b1e87f42d5e6be4?s=128&d=identicon&r=PG", "display_name": "Edder Ram&#237;rez", "link": "https://stackoverflow.com/users/2155318/edder-ram%c3%adrez"}, "is_accepted": false, "score": 0, "last_activity_date": 1545111844, "last_edit_date": 1545111844, "creation_date": 1509598002, "answer_id": 47067756, "question_id": 34322778, "link": "https://stackoverflow.com/questions/34322778/upload-image-on-json-django-rest-framework/47067756#47067756", "title": "upload image on json DJANGO REST FRAMEWORK", "body": "<p>for registering user RegisterSerializer </p>\n\n<pre><code>class RegistrationSerializer(RegisterSerializer):\n\n    \"\"\"\n    Formulario de registro personalizado\n    \"\"\"\n    first_name = serializers.CharField(max_length=50)\n    last_name = serializers.CharField(max_length=50)\n    phone_number = serializers.CharField(max_length=30)\n    street_name = serializers.CharField(max_length=50)\n    int_number = serializers.CharField(max_length=5)\n    ext_number = serializers.CharField(max_length=5)\n    suburb = serializers.CharField(max_length=60)\n    city = serializers.CharField(max_length=60)\n    cp = serializers.CharField(max_length=50)\n    state = serializers.CharField(max_length=60)\n    backup_phone = serializers.CharField(max_length=30, allow_blank=True)\n    curp = serializers.CharField(max_length=50)\n\n    avatar = serializers.ImageField(allow_empty_file=True, required=False)\n\ndef get_cleaned_data(self):\n    pass\n\ndef save(self, request):\n\n    pass\n</code></pre>\n\n<p>it worked for me.</p>\n\n<p>in postman \n<a href=\"https://i.stack.imgur.com/QVLsd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QVLsd.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 112, "user_id": 5508702, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bc27708f845d1dee8f94fdbe6d45547c?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Del Toro", "link": "https://stackoverflow.com/users/5508702/marco-del-toro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4186, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1545111844, "creation_date": 1450302768, "question_id": 34322778, "link": "https://stackoverflow.com/questions/34322778/upload-image-on-json-django-rest-framework", "title": "upload image on json DJANGO REST FRAMEWORK", "body": "<p>I'm trying to upload an encoded BASE64 image when I register a new user for my app i use a ImageField inside my userprofile\nthe problem is the API gives me the following error.</p>\n\n<pre><code>{\n  \"userprofile\": {\n    \"photo\": [\n      \"The submitted data was not a file. Check the encoding type on the form.\"\n    ]\n  }\n}\n</code></pre>\n\n<p>This is my information in the request I use a POST Request with header Content-Type: application/json for the request i use POSTMAN from google </p>\n\n<pre><code>{\n\n    \"username\": \"is690002\",\n    \"password\": \"is690002\",\n    \"first_name\": \"andres \",\n    \"last_name\": \"Barragan\",\n    \"email\": \"zaturoz.marco@gmail.com\",\n    \"userprofile\": {\n        \"gender\": \"F\",\n        \"phone_number\": \"3315854644\",\n        \"photo\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYAB.......\"\n    }\n  }\n</code></pre>\n\n<p>This is my model.py</p>\n\n<pre><code>class UserProfile(models.Model):\n    user = models.OneToOneField(User, related_name='userprofile')\n\n    GENDER_CHOICES = (\n        ('M', 'Male'),\n        ('F', 'Female'),\n    )\n    gender = models.CharField(max_length=1, choices=GENDER_CHOICES, default='M')\n\n    phone_regex = RegexValidator(regex=r'^\\+?1?\\d{9,15}$',message=\"Phone must be entered in the format: '+999999999'. Up 15 digits allowed.\")\n    #The Field on DataBase after check if it's a valid Phone Number.\n    # validators should be a list\n    phone_number = models.CharField(validators=[phone_regex], max_length=15, blank=True) \n    photo = models.ImageField(upload_to = 'C:\\ProjectsDJ\\carpoolapp\\photos', null = True)\n</code></pre>\n\n<p>my serializers</p>\n\n<pre><code>class UserProfileSerializer(serializers.ModelSerializer):\n    photo =  serializers.ImageField(max_length=None, use_url=False)\n    class Meta:\n        model = UserProfile\n        fields = (\n            'gender',\n            'phone_number',\n            'photo'\n            )\n\n\nclass UserRegistrationSerializer(serializers.HyperlinkedModelSerializer):\n    userprofile = UserProfileSerializer()\n    class Meta:\n        model = User\n        fields = (\n            'username',\n            'first_name',\n            'last_name',\n            'email',\n            'password',\n            'userprofile'\n            )\n        extra_kwargs = {'password': {'write_only': True}}\n\n#@Override create for create a user and profile from HTTP Request\n    def create(self, validated_data): #\n            userprofile_data = validated_data.pop('userprofile')\n            user = User.objects.create(**validated_data) # Create the user object instance before store in the DB\n            user.set_password(validated_data['password']) #Hash to the Password of the user instance\n            user.save() #Save the Hashed Password\n            UserProfile.objects.create(user=user, **userprofile_data)\n            return user #Return user object\n</code></pre>\n\n<p>and my View.py</p>\n\n<pre><code>class UserRegister(APIView):\n\n    permission_classes = ()\n    def post(self, request):\n        serializer = UserRegistrationSerializer(data = request.data) #, files = request.FILES)\n        serializer.is_valid(raise_exception=True) # If the JSON Is\n        serializer.save() #Save user in DB\n        return Response(status=status.HTTP_201_CREATED)\n</code></pre>\n\n<p>NOTE: everything is fine if i dont use the imageField i can create my user etc, also i tried two tutorials here in StackOverflow</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1450304448, "post_id": 34322762, "comment_id": 56388181, "body": "Just to be clear, &quot;11618&quot; would be the key from the first line and its values would be the next 3 lines? And the next key, &quot;11620&quot;, would have an empty list of values?"}, {"owner": {"reputation": 43, "user_id": 5604940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d51600198ab78bb7dc8590903a48b2?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/5604940/jared"}, "reply_to_user": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1450304797, "post_id": 34322762, "comment_id": 56388370, "body": "11618 would be the key, and it would have the values <code>[[11619], [11620],[12180]]</code>. &#39;11620&#39; would not be a key, so it wouldn&#39;t have an empty list of values. In reality, &#39;11618&#39; would have a list of 82 values as indicated in the brackets following &#39;11618&#39;. I&#39;m trying to write some code now to take advantage of the fact that I &quot;know&quot; how many values the key should have. Following this, the key &#39;12183&#39; above would not have a value."}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1450305057, "post_id": 34322762, "comment_id": 56388493, "body": "I&#39;m sorry, we meant the same thing, I just confused the numbers."}, {"owner": {"reputation": 43, "user_id": 5604940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d51600198ab78bb7dc8590903a48b2?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/5604940/jared"}, "reply_to_user": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1450305191, "post_id": 34322762, "comment_id": 56388572, "body": "No worries, it&#39;s hard to explain these things when not in person!"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1450305355, "post_id": 34322762, "comment_id": 56388638, "body": "I don&#39;t see any lines that start with <code>\\d+.</code> and contain two items."}, {"owner": {"reputation": 43, "user_id": 5604940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d51600198ab78bb7dc8590903a48b2?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/5604940/jared"}, "edited": false, "score": 0, "creation_date": 1450305693, "post_id": 34322762, "comment_id": 56388811, "body": "Sorry, &#39;\\d+.&#39; is my way of saying one or two digits followed by a &#39;.&#39;. The &#39;.&#39; has to be there, or else those lines aren&#39;t distinguished from the others."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1450305764, "post_id": 34322762, "comment_id": 56388844, "body": "I still don&#39;t see any such lines.  The first line in your example starts with spaces, not digits."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5604940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d51600198ab78bb7dc8590903a48b2?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/5604940/jared"}, "edited": false, "score": 0, "creation_date": 1450310965, "post_id": 34323602, "comment_id": 56390716, "body": "So I can get this to work on your &quot;dummy&quot; example with in_file as a string, then split, but I can&#39;t get it to work with my full file. When I print your in_file, it looks like this <code>[&#39;  1. 11618 [82]  &#39;, &#39;11619  &#39;, &#39;11620  &#39;, &#39;12180  &#39;, &#39;  2. 12183 [1]  &#39;, &#39;  3. 12918 [2]  &#39;, &#39;12922  &#39;]</code>, but when I print mine, it looks like this <code>[&#39;  1. 11618 [82]&#39;, &#39;&#39;] [&#39;11619&#39;, &#39;&#39;] [&#39;11620&#39;, &#39;&#39;]</code>  This different structure throws off your code. I can get rid of the last item in each list by using the .strip() command, but that&#39;s not the problem. Do you have any what the problem is? Thanks!"}, {"owner": {"reputation": 43, "user_id": 5604940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d51600198ab78bb7dc8590903a48b2?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/5604940/jared"}, "edited": false, "score": 0, "creation_date": 1450320599, "post_id": 34323602, "comment_id": 56393502, "body": "I think the problem is that I am generating a list for each line, <code>[&#39;1. 11618 [82]&#39;]\\n[&#39;11619&#39;]\\n[&#39;11620&#39;]</code>, so I have a list of lists, and yours is just a single list with each element having 1 to 3 items <code>[&#39; 1. 11618 [82] &#39;, &#39;11619 &#39;, &#39;11620 &#39;, &#39;12180 &#39;, &#39; 2. 12183 [1] &#39;, &#39; 3. 12918 [2] &#39;, &#39;12922 &#39;]</code>. I will try and add the code I am using and a snippet from the file in my original question above, I can&#39;t get this formatting down!"}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "reply_to_user": {"reputation": 43, "user_id": 5604940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d51600198ab78bb7dc8590903a48b2?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/5604940/jared"}, "edited": false, "score": 0, "creation_date": 1450321703, "post_id": 34323602, "comment_id": 56393808, "body": "Okay, now I understand the result. <code>line.split(&#39;\\n&#39;)</code> will return a list of the items, so if you have the string <code>s = &#39;abc\\n&#39;</code>, it will return <code>[&#39;abc&#39;, &#39;&#39;]</code>. You can amend this by doing <code>s.split(&#39;\\n&#39;)[0]</code>, but if you follow the suggestions from my updated questions, you will have to do minimum string manipulations. I believe this should work as intended now."}, {"owner": {"reputation": 43, "user_id": 5604940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d51600198ab78bb7dc8590903a48b2?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/5604940/jared"}, "edited": false, "score": 0, "creation_date": 1450324233, "post_id": 34323602, "comment_id": 56394535, "body": "Phew, thanks so much for sticking around and helping! I&#39;m still trying to wrap my head around &#39;if key&#39; statement and having to empty the list, so I&#39;m going to think about it some more. As for now, your code works great! I&#39;ve got it looping over files now, and it seems to be working perfectly! Thanks!"}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "reply_to_user": {"reputation": 43, "user_id": 5604940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d51600198ab78bb7dc8590903a48b2?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/5604940/jared"}, "edited": false, "score": 0, "creation_date": 1450325038, "post_id": 34323602, "comment_id": 56394741, "body": "In Python anything other than <code>None</code>, <code>False</code>, <code>0</code>, and an empty string/list/tuple/set/dict has a <a href=\"https://docs.python.org/2.4/lib/truth.html\" rel=\"nofollow noreferrer\"><i>truthy</i> value</a>. So as long as <code>key</code> has a string with at least length 1, it will evaluate to <code>True</code>."}], "tags": [], "owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "is_accepted": true, "score": 1, "last_activity_date": 1450321549, "last_edit_date": 1450321549, "creation_date": 1450305946, "answer_id": 34323602, "question_id": 34322762, "link": "https://stackoverflow.com/questions/34322762/add-values-to-a-key-between-string-match-instances-in-python/34323602#34323602", "title": "Add values to a key between string match instances in Python", "body": "<p>This seems to do what you want.</p>\n\n<pre><code>with open('example.txt', 'r') as in_file:\n    key = None\n    sequences = {}\n\n    for line in in_file:\n        if '.' in line:\n            if key:\n                sequences[key] = values\n            key = line.split()[1]\n            values = []\n        else:\n            values.append([line[:-1].strip()])\n    sequences[key] = values\n</code></pre>\n\n<p>Effectively, you keep a list of the values. If you find a line that has the format of a key, you store the current list of values with their respective key, empty the list and set the key to be according to the currently read line. Once you're out of lines, you simply add in the values from the last key you were working on.</p>\n\n<p>Initially we have an undefined key. Since the first line will be a key, the code will enter the <code>if '.' in line:</code> block and attempt to map any values so far to our key. In order to prevent it this one time, the mapping is done inside the <code>if key:</code> block.</p>\n\n<p>I used <code>if '.' in line</code> because it's guaranteed to be found earlier in the string than <code>'['</code>. However, that's a matter of preference.</p>\n\n<p>It's better to open a file with the <code>with</code> syntax. But even if you do it as <code>in_file = open(...)</code>, when you iterate through the lines, they will contain a newline at the end. However, you don't need to do any premature string manipulation. First check whether the line is a key or a value. <code>line.split()[1]</code> will naturally pick out the key value for you, without having to worry about removing any whitespace or newlines. And if it is a value, <code>line[:-1]</code> will return the string without the newline, of which you can strip the whitespace.</p>\n"}], "owner": {"reputation": 43, "user_id": 5604940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d51600198ab78bb7dc8590903a48b2?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/5604940/jared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 1, "accepted_answer_id": 34323602, "answer_count": 1, "score": 0, "last_activity_date": 1450321549, "creation_date": 1450302706, "last_edit_date": 1450320825, "question_id": 34322762, "link": "https://stackoverflow.com/questions/34322762/add-values-to-a-key-between-string-match-instances-in-python", "title": "Add values to a key between string match instances in Python", "body": "<p>I'm trying to make a dictionary where each key is the name (of a unique DNA sequence), and its value will be a list of other names (that have the same DNA sequence). For instance <code>{'2617': [['5632'], ['7630'], ...}</code>. I'm trying to populate this dictionary from a file that has this structure:  </p>\n\n<pre><code>  1. 11618 [82]  \n11619  \n11620  \n12180  \n  2. 12183 [1]  \n  3. 12918 [2]  \n12922  \n</code></pre>\n\n<p>I want the key to be the 2nd item on lines that start with <code>\\d+.</code>, then the values will be all the lines until the next instance of <code>\\d+.</code>. I can't figure how to add these values until the next instance of the <code>\\d+.</code> match.<br>\nRight now, I just have a list of the unique sequences, from:</p>\n\n<pre><code>unique_seqs=[]  \nfor line in in_file:  \n    line=line.strip()  \n    if '[' in line:  \n        line=line.split()  \n        unique_seqs.append(line[1])\n</code></pre>\n\n<p>I can make this list into dictionary values, but I don't know how to make a loop to add the keys and values at the same time from my file. Thanks in advance!  Added:<br>\nHere's a bit from the file:</p>\n\n<pre><code>  1. 11618 [82]\n11619\n11620\n12180\nML_S2470\nML_S2472\n  2. 12183 [1]\n12922\n  3. 12919 [20]\n12920\n12921\n</code></pre>\n\n<p>and the code that made my list in the last comment below:</p>\n\n<pre><code>in_file = open('example.txt', 'r')\nfor line in in_file:\n    line=line.strip()\n    line=line.split('\\n')\n</code></pre>\n"}, {"tags": ["python", "numpy", "matplotlib"], "comments": [{"owner": {"reputation": 3223, "user_id": 501979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e705bcc10f6b8b5e04104546ea523d7?s=128&d=identicon&r=PG", "display_name": "Ali Nikneshan", "link": "https://stackoverflow.com/users/501979/ali-nikneshan"}, "edited": false, "score": 3, "creation_date": 1450302662, "post_id": 34322656, "comment_id": 56387296, "body": "please provide your code and where you have  the issue"}, {"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 1, "creation_date": 1450330351, "post_id": 34322656, "comment_id": 56396207, "body": "You probably want to use <code>basemap</code> or <code>cartopy</code>"}, {"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 1, "creation_date": 1450330370, "post_id": 34322656, "comment_id": 56396213, "body": "or maybe <code>geopandas</code>"}, {"owner": {"reputation": 1003, "user_id": 912307, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8f7d126e14378823b0d540f92f948e0?s=128&d=identicon&r=PG", "display_name": "&#197;smund", "link": "https://stackoverflow.com/users/912307/%c3%85smund"}, "edited": false, "score": 0, "creation_date": 1591343423, "post_id": 34322656, "comment_id": 110024850, "body": "Have a look at <a href=\"https://datashader.org/\" rel=\"nofollow noreferrer\">datashader.org</a>"}], "owner": {"reputation": 11, "user_id": 5688576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1292cfb198a3f10d6c4bd4e1b07863ce?s=128&d=identicon&r=PG&f=1", "display_name": "user5688576", "link": "https://stackoverflow.com/users/5688576/user5688576"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1450303391, "creation_date": 1450302223, "last_edit_date": 1486566454, "question_id": 34322656, "link": "https://stackoverflow.com/questions/34322656/python-create-density-layer-map-wgs84", "title": "Python create density layer/map WGS84", "body": "<p>I'm new to Python and struggling a little bit.  Basically I'm trying to create a geospatial density layer that can be in WGS84 with a weighted attribute and I want to \"color\" the attributes based on values. </p>\n\n<p>So essentially I have lets say 10K records all with different locations and with a weight (basically the number of occurrences in this area).  Basically its' gridded up and I have a centroid lon/lat with a number of occurences. </p>\n\n<p>For example.  If I have data related to the number of UCLA Graduates in the United States (gridded up by location) and I want to show these on a map that provides \u201cCOLOR\u201d to indicate \u201cdensity\u201d </p>\n\n<p>So my data would look like</p>\n\n<pre><code>lon,lat,total_graduates\n23.24242, 42.242424,  212\n24.22424, 43.242424, 86\n</code></pre>\n\n<p>I want to create a heat map/density, etc\u2026  like </p>\n\n<p><a href=\"https://petapixel.com/assets/uploads/2012/01/heatmap.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://petapixel.com/assets/uploads/2012/01/heatmap.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I only need the actual layer output and not the map.</p>\n\n<p>My end result is to create a .PNG file that will be used in some of our GIS applications as \"layers\".  </p>\n\n<p>In some cases I could have a hundred thousand \"boxes/grids\" so I need something as fast as possible to render the image in WGS84.  </p>\n\n<p>I've been trying to do this with <code>matplotlib</code> but having no luck.  Any guidance would be helpful.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1450302257, "post_id": 34322635, "comment_id": 56387084, "body": "the keyword is <code>for loop</code>"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 1, "creation_date": 1450302373, "post_id": 34322635, "comment_id": 56387141, "body": "Do you want to know if <i>all</i> the elements in that slice (which only includes board[0] and board[1], not board[2]) are equal to choice or if <i>any</i> of them are?"}], "answers": [{"comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 5, "creation_date": 1450302353, "post_id": 34322667, "comment_id": 56387131, "body": "you dont need the <code>[]</code>, <code>all</code> works for generators as well."}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": true, "score": 0, "last_activity_date": 1450303051, "last_edit_date": 1450303051, "creation_date": 1450302271, "answer_id": 34322667, "question_id": 34322635, "link": "https://stackoverflow.com/questions/34322635/i-want-to-go-thought-list-with-if-to-check-if-multiple-elements-are-equal-to-tha/34322667#34322667", "title": "I want to go thought list with if to check if multiple elements are equal to that I want", "body": "<p>Use a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">list comprehension</a> and <a href=\"https://docs.python.org/2/library/functions.html#all\" rel=\"nofollow\">all</a>:</p>\n\n<pre><code>if all([b == choice for b in board[0:2]]):\n   ...\n</code></pre>\n\n<p>This compares each item in your array and creates a new array of True/False values.  Then <code>all()</code> returns True only if all the items in the new array are True (ie. they matched your <code>choice</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 281, "user_id": 2980848, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9b4a812253f76faf3329549ce87c255c?s=128&d=identicon&r=PG&f=1", "display_name": "malloc", "link": "https://stackoverflow.com/users/2980848/malloc"}, "is_accepted": false, "score": 1, "last_activity_date": 1450302645, "creation_date": 1450302645, "answer_id": 34322745, "question_id": 34322635, "link": "https://stackoverflow.com/questions/34322635/i-want-to-go-thought-list-with-if-to-check-if-multiple-elements-are-equal-to-tha/34322745#34322745", "title": "I want to go thought list with if to check if multiple elements are equal to that I want", "body": "<pre><code>for item in board[0:2]:\n    if item==choice:\n        #the code here\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1450309563, "last_edit_date": 1450309563, "creation_date": 1450303230, "answer_id": 34322901, "question_id": 34322635, "link": "https://stackoverflow.com/questions/34322635/i-want-to-go-thought-list-with-if-to-check-if-multiple-elements-are-equal-to-tha/34322901#34322901", "title": "I want to go thought list with if to check if multiple elements are equal to that I want", "body": "<p>If your elements are hashable use a <code>set</code>:</p>\n\n<pre><code>st = set(choice)\n\nif st.issuperset(board[0:2]):\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f2c3bfceddea6e6ef74d1eb129ddcf?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitar Dimitrov", "link": "https://stackoverflow.com/users/5688581/dimitar-dimitrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 34322667, "answer_count": 3, "score": 1, "last_activity_date": 1450309563, "creation_date": 1450302114, "question_id": 34322635, "link": "https://stackoverflow.com/questions/34322635/i-want-to-go-thought-list-with-if-to-check-if-multiple-elements-are-equal-to-tha", "title": "I want to go thought list with if to check if multiple elements are equal to that I want", "body": "<p>I want to do something like that:</p>\n\n<pre><code>if board[0:2] == choice:\n    #the code here\n</code></pre>\n\n<p>So the thing I want is to go through the elements from 0 to 2 and to check if they are equal to 'choice' but I don't know how to do that.\n  Please help!</p>\n"}, {"tags": ["python", "arrays", "netcdf"], "answers": [{"comments": [{"owner": {"reputation": 205, "user_id": 5402286, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/9bb1f8b890ca757a8a817b96ec284fb8?s=128&d=identicon&r=PG&f=1", "display_name": "alice", "link": "https://stackoverflow.com/users/5402286/alice"}, "edited": false, "score": 0, "creation_date": 1450302827, "post_id": 34322777, "comment_id": 56387385, "body": "isnt it append mode only append from the end of the arrary instead of updating?"}, {"owner": {"reputation": 205, "user_id": 5402286, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/9bb1f8b890ca757a8a817b96ec284fb8?s=128&d=identicon&r=PG&f=1", "display_name": "alice", "link": "https://stackoverflow.com/users/5402286/alice"}, "edited": false, "score": 0, "creation_date": 1450303787, "post_id": 34322777, "comment_id": 56387819, "body": "Now the problem is that     infile[value==0 or value1==0]==0 is wrong it gives me error"}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "reply_to_user": {"reputation": 205, "user_id": 5402286, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/9bb1f8b890ca757a8a817b96ec284fb8?s=128&d=identicon&r=PG&f=1", "display_name": "alice", "link": "https://stackoverflow.com/users/5402286/alice"}, "edited": false, "score": 0, "creation_date": 1450303994, "post_id": 34322777, "comment_id": 56387937, "body": "What do you want achieve with <code>infile[value==0 or value1==0]==0</code>.  You cannot use <code>[]</code> with a file object."}], "tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": false, "score": 0, "last_activity_date": 1450303152, "last_edit_date": 1450303152, "creation_date": 1450302766, "answer_id": 34322777, "question_id": 34322622, "link": "https://stackoverflow.com/questions/34322622/how-to-updating-an-exising-netcdf-array-in-python/34322777#34322777", "title": "How to updating an exising netCDF array in python", "body": "<p>Open the file in append mode with <code>a</code>:</p>\n\n<pre><code>infile=net.Dataset(\"2015%s%s-160000_0.nc\" % (month,day), \"a\")\n</code></pre>\n\n<p>Now you can read and write to an existing file as the docs say:</p>\n\n<blockquote>\n  <p><code>a</code> and <code>r+</code> mean append (in analogy with\n  serial files); an existing file is opened for reading and writing.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 205, "user_id": 5402286, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/9bb1f8b890ca757a8a817b96ec284fb8?s=128&d=identicon&r=PG&f=1", "display_name": "alice", "link": "https://stackoverflow.com/users/5402286/alice"}, "edited": false, "score": 0, "creation_date": 1450305271, "post_id": 34323156, "comment_id": 56388604, "body": "[(value==0) | (value1==0)]  isnit is the bar meaning and? but i actually want a or"}, {"owner": {"reputation": 8028, "user_id": 3581217, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d9103199ae078d2112c1f021a839bea7?s=128&d=identicon&r=PG", "display_name": "Bart", "link": "https://stackoverflow.com/users/3581217/bart"}, "reply_to_user": {"reputation": 205, "user_id": 5402286, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/9bb1f8b890ca757a8a817b96ec284fb8?s=128&d=identicon&r=PG&f=1", "display_name": "alice", "link": "https://stackoverflow.com/users/5402286/alice"}, "edited": false, "score": 0, "creation_date": 1450305377, "post_id": 34323156, "comment_id": 56388653, "body": "No,  <code>&amp;</code> means <i>and</i>, <code>|</code> is <i>or</i>. See e.g. <a href=\"https://wiki.python.org/moin/BitwiseOperators\" rel=\"nofollow noreferrer\">this</a> documentation"}, {"owner": {"reputation": 8028, "user_id": 3581217, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d9103199ae078d2112c1f021a839bea7?s=128&d=identicon&r=PG", "display_name": "Bart", "link": "https://stackoverflow.com/users/3581217/bart"}, "reply_to_user": {"reputation": 205, "user_id": 5402286, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/9bb1f8b890ca757a8a817b96ec284fb8?s=128&d=identicon&r=PG&f=1", "display_name": "alice", "link": "https://stackoverflow.com/users/5402286/alice"}, "edited": false, "score": 0, "creation_date": 1450305851, "post_id": 34323156, "comment_id": 56388891, "body": "<code>numpy</code> also has built-in operators for this, so something like <code>nc1.variables[&quot;HailProb&quot;][np.logical_or(value==0, value1==0)] = 0</code> should also work"}, {"owner": {"reputation": 205, "user_id": 5402286, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/9bb1f8b890ca757a8a817b96ec284fb8?s=128&d=identicon&r=PG&f=1", "display_name": "alice", "link": "https://stackoverflow.com/users/5402286/alice"}, "edited": false, "score": 0, "creation_date": 1450385019, "post_id": 34323156, "comment_id": 56429350, "body": "I tried exactly i like said. the file does not being updated at all. its still the same file, i can see the date of the infile does not change."}, {"owner": {"reputation": 8028, "user_id": 3581217, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d9103199ae078d2112c1f021a839bea7?s=128&d=identicon&r=PG", "display_name": "Bart", "link": "https://stackoverflow.com/users/3581217/bart"}, "reply_to_user": {"reputation": 205, "user_id": 5402286, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/9bb1f8b890ca757a8a817b96ec284fb8?s=128&d=identicon&r=PG&f=1", "display_name": "alice", "link": "https://stackoverflow.com/users/5402286/alice"}, "edited": false, "score": 0, "creation_date": 1450426094, "post_id": 34323156, "comment_id": 56443629, "body": "Can you update your post and add the code that you are trying now? Otherwise we can only guess what is going wrong"}], "tags": [], "owner": {"reputation": 8028, "user_id": 3581217, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d9103199ae078d2112c1f021a839bea7?s=128&d=identicon&r=PG", "display_name": "Bart", "link": "https://stackoverflow.com/users/3581217/bart"}, "is_accepted": false, "score": 0, "last_activity_date": 1450461445, "last_edit_date": 1450461445, "creation_date": 1450304189, "answer_id": 34323156, "question_id": 34322622, "link": "https://stackoverflow.com/questions/34322622/how-to-updating-an-exising-netcdf-array-in-python/34323156#34323156", "title": "How to updating an exising netCDF array in python", "body": "<p>I believe that there were a couple of problems with your code. </p>\n\n<ol>\n<li><p>In order to change an existing file, I think you should read it in <code>r+</code> (or, as mentioned by Mike M\u00fcller, in <code>a</code>) mode.</p></li>\n<li><p>With <code>infile[value==0 or value1==0]==0</code>, <code>infile</code> is not your data array, but the <code>netCDF4</code> object. To change the variable, you need something like <code>infile.variables[\"HailProb\"]...</code></p></li>\n<li><p>With <code>infile[..]==0</code>, <code>==</code> tests for equality, it doesn't set a new value in <code>infile</code> (use <code>=</code> for that, if <code>infile</code> was actually an array)</p></li>\n<li><p>Your line with <code>value==0 or value1==0</code> won't work; you need something like <code>(value==0) | (value1==0)</code> to slice the array.</p></li>\n</ol>\n\n<p>I think that something like this should work:</p>\n\n<pre><code>import netCDF4 as net\n\ndays=[\"01\",\"02\",\"03\",\"04\",\"05\",\"06\",\"07\",\"08\",\"09\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\"]\nmonths=[\"02\",\"03\",\"04\",\"05\",\"06\",\"07\"]\n\nfor month in months:\n    for day in days:\n        try:\n            infile = net.Dataset(\"2015%s%s-160000_0.nc\" % (month,day), \"r+\")\n            value  = infile.variables['HailProb'][:]\n            value1 = infile1.variables['hailsie'][:]\n            infile.variables['HailProb'][(value==0) | (value1==0)] = 0\n            infile.close()\n        except RuntimeError:\n            continue\n</code></pre>\n\n<p>A more complete working example, which also creates the NetCDF files to play around with:</p>\n\n<pre><code>import netCDF4 as nc4\nimport numpy as np\n\n# Create NetCDF file 1\nnc1  = nc4.Dataset('nc1.nc', 'w')\nnc1.createDimension('z', 10)\nnc_var = nc1.createVariable('HailProb', 'f8', 'z')\n\n# Add some dummy data, and set a single value to zero:\nnc_var[:] = np.random.randint(2, 10, size=10)\nnc_var[5] = 0\nnc1.close()\n\n# Create NetCDF file 2\nnc2  = nc4.Dataset('nc2.nc', 'w')\nnc2.createDimension('z', 10)\nnc_var = nc2.createVariable('hailsie', 'f8', 'z')\n\n# Add some dummy data, and set a single value to zero:\nnc_var[:] = np.random.randint(2, 10, size=10)\nnc_var[3] = 0\nnc2.close()\n\n# Read files back\n# File 1 in in \"r+\" mode, since we want to edit it\nnc1 = nc4.Dataset('nc1.nc', 'r+')\nvalue = nc1.variables[\"HailProb\"][:]\n\n# File 2 only required \"r\" (read) mode\nnc2 = nc4.Dataset('nc2.nc', 'r')\nvalue1 = nc2.variables[\"hailsie\"][:]\n\n# Update NetCDF file based on some conditions\nnc1.variables[\"HailProb\"][(value==0) | (value1==0)] = 0\n\nnc1.close()\nnc2.close()\n</code></pre>\n\n<p>After running the first part of the code (creation of <code>nc1.nc</code> and <code>nc2.nc</code>), <code>ncdump -v HailProp nc1.nc</code> and <code>ncdump -v hailcie nc2.nc</code> gives me:</p>\n\n<pre><code>HailProb = 2, 9, 6, 6, 9, 0, 5, 4, 8, 6 ;\nhailsie  = 4, 6, 2, 0, 4, 3, 6, 4, 5, 7 ;\n</code></pre>\n\n<p>After running the second part of the code, I get:</p>\n\n<pre><code>HailProb = 5, 6, 8, 0, 7, 0, 6, 4, 2, 4 ;\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 5402286, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/9bb1f8b890ca757a8a817b96ec284fb8?s=128&d=identicon&r=PG&f=1", "display_name": "alice", "link": "https://stackoverflow.com/users/5402286/alice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4734, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1450461445, "creation_date": 1450302055, "last_edit_date": 1450302508, "question_id": 34322622, "link": "https://stackoverflow.com/questions/34322622/how-to-updating-an-exising-netcdf-array-in-python", "title": "How to updating an exising netCDF array in python", "body": "<p>I have a code as shown below, I want to update the existing NetCDF file according to another NetCDF file. If in the other NetCDF file <code>value=0</code> at the place of the existing NetCDF file then it is 0. So I only consider the place where the other netcdf not equal to 0</p>\n\n<pre><code>import netCDF4 as net\n\ndays=[\"01\",\"02\",\"03\",\"04\",\"05\",\"06\",\"07\",\"08\",\"09\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\"]\nmonths=[\"02\",\"03\",\"04\",\"05\",\"06\",\"07\"]\n\nfor month in months:\n    for day in days:\n        try:\n            infile=net.Dataset(\"2015%s%s-160000_0.nc\" % (month,day),\"w\")\n            value=infile.variables['HailProb'][:]\n            value1=infile1.variables['hailsie'][:]\n            infile[value==0 or value1==0]==0\n            infile.close()\n        except RuntimeError:\n            continue\n</code></pre>\n\n<p>Because if I open the <code>infile</code> in write mode I worry all the existing data would be rewritten. Can somebody take a look at how I address the issue here? Whats wrong with the code?</p>\n"}, {"tags": ["python", "programming-languages", "octave", "julia", "complex-numbers"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 2, "creation_date": 1450302226, "post_id": 34322604, "comment_id": 56387068, "body": "I know that <a href=\"http://www.sympy.org/en/index.html\" rel=\"nofollow noreferrer\"><code>sympy</code></a> in python has the capabilities of doing this though I myself am not all too familiar with how"}, {"owner": {"reputation": 7792, "user_id": 131264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67c4f2aed4839e9325dd58097aaa8eca?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/131264/alexander"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1450302351, "post_id": 34322604, "comment_id": 56387129, "body": "That&#39;s cool! I&#39;m particularly interested in a language that can do this &quot;out of the box&quot;, though. Updated the question to reflect this."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1450302465, "post_id": 34322604, "comment_id": 56387191, "body": "Probably Mathematica? It seems to have all sorts of stuff like this."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1450302492, "post_id": 34322604, "comment_id": 56387204, "body": "any math based language probably has it, <a href=\"http://www.mathworks.com/help/matlab/ref/roots.html\" rel=\"nofollow noreferrer\">Matlab</a> seems to have this function"}, {"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "edited": false, "score": 0, "creation_date": 1450302524, "post_id": 34322604, "comment_id": 56387222, "body": "Matlab first one i can think of."}, {"owner": {"reputation": 7792, "user_id": 131264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67c4f2aed4839e9325dd58097aaa8eca?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/131264/alexander"}, "edited": false, "score": 0, "creation_date": 1450302540, "post_id": 34322604, "comment_id": 56387238, "body": "Thanks, both Mathematica and Matlab can probably do this. Updated the question to reflect that I was looking for open source software. I should have been even more specific in the first place."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1450302561, "post_id": 34322604, "comment_id": 56387248, "body": "Oh, yeah, of course, just treating it as a special case of general polynomial root-finding and passing it to a function for that would do the job."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1450302707, "post_id": 34322604, "comment_id": 56387317, "body": "@Alexander: <a href=\"https://www.gnu.org/software/octave/doc/interpreter/Finding-Roots.html\" rel=\"nofollow noreferrer\">Octave has <code>roots</code>, just like Matlab.</a>"}, {"owner": {"reputation": 7792, "user_id": 131264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67c4f2aed4839e9325dd58097aaa8eca?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/131264/alexander"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1450302867, "post_id": 34322604, "comment_id": 56387406, "body": "@user2357112 Yeah, but when entering 2^(-1/3), only one root is returned. Is there a language that will return all three?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1450303258, "post_id": 34322604, "comment_id": 56387583, "body": "@Alexander: Doubtful. If you make 2^(-1/3) give 3 results, then defining 2^-ln(3) gets weird. Also, if 1/3 is floating-point, then it&#39;s not exactly a third of 1, and you need to make hard choices about tolerances. This is better handled by a function explicitly designed to return the roots of an equation."}, {"owner": {"reputation": 7792, "user_id": 131264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67c4f2aed4839e9325dd58097aaa8eca?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/131264/alexander"}, "edited": false, "score": 0, "creation_date": 1450303759, "post_id": 34322604, "comment_id": 56387804, "body": "2^-ln(3) is approximately 0.46696 according to Wolfram Alpha. Please explain what would get weird, I don&#39;t see it. And how would a function call make the hard choices any easier?"}, {"owner": {"reputation": 816, "user_id": 124077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/647909bd95accb7b1192bc5979f29d9b?s=128&d=identicon&r=PG", "display_name": "Jiahao Chen", "link": "https://stackoverflow.com/users/124077/jiahao-chen"}, "edited": false, "score": 6, "creation_date": 1450304786, "post_id": 34322604, "comment_id": 56388364, "body": "There is something very confusing about the way this question is phrased. 2^(-1/3) by itself is not an equation (or inequality) and so has no &quot;solution&quot; per se. However, 2^(-1/3) is a solution to the equation x^(-3) = 2, which is what OP really is asking. However, by convention in complex analysis, 2^(-1/3) refers only to the principal root, which in this case is real. It is understood that the other roots are related to 2^(-1/3) by powers of exp(-i 2pi/3)."}, {"owner": {"reputation": 7792, "user_id": 131264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67c4f2aed4839e9325dd58097aaa8eca?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/131264/alexander"}, "edited": false, "score": 0, "creation_date": 1450305499, "post_id": 34322604, "comment_id": 56388717, "body": "Jiahao Chen, you are undoubtedly right about complex analysis. But when Wolfram Alpha gets it right, why can&#39;t also a REPL for a language that already supports both complex numbers and multiple return values also get it right?"}, {"owner": {"reputation": 816, "user_id": 124077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/647909bd95accb7b1192bc5979f29d9b?s=128&d=identicon&r=PG", "display_name": "Jiahao Chen", "link": "https://stackoverflow.com/users/124077/jiahao-chen"}, "edited": false, "score": 7, "creation_date": 1450306742, "post_id": 34322604, "comment_id": 56389290, "body": "My point is that 2^(-1/3), as the principal root, is a real number. The first thing that Wolfram Alpha returns is exactly this <i>single</i> real number. Asking for all the roots of x^-3 = 2 is a different question, one answered by <code>roots</code>, which Wolfram Alpha is pointing to you as related information. So you are not being precise by saying &quot;Wolfram Alpha gets it right&quot; - it gets it right only because it&#39;s trying to second-guess you and you read the part of the output that is the answer that you wanted, which is actually the answer to a different question."}, {"owner": {"reputation": 7792, "user_id": 131264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67c4f2aed4839e9325dd58097aaa8eca?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/131264/alexander"}, "edited": false, "score": 0, "creation_date": 1450306939, "post_id": 34322604, "comment_id": 56389384, "body": "I see. Thank you for explaining."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1450307472, "post_id": 34322604, "comment_id": 56389578, "body": "What gets weird? Well, why do you think that 2^-ln(3) having only one solution and 2^(-1/3) having 3 makes sense, besides that Wolfram Alpha said so? Because -ln(3) is irrational? If you make x^y single-valued for irrational y and multi-valued for rational y, you run into all sorts of nasty problems, from &quot;what floating-point numbers do we guess are meant to be irrational when all finite floating-point numbers are actually rational&quot; to &quot;how do we sanely deal with an output that could be either a number or a list when we don&#39;t know the rationality of y&quot;."}, {"owner": {"reputation": 16064, "user_id": 1667895, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/78291e8d1f1bb0b3aac4a95bf71be0e1?s=128&d=identicon&r=PG", "display_name": "Colin T Bowers", "link": "https://stackoverflow.com/users/1667895/colin-t-bowers"}, "edited": false, "score": 0, "creation_date": 1450307593, "post_id": 34322604, "comment_id": 56389643, "body": "Part (1/2): Alexander, I can&#39;t be certain, but I suspect the issue is one of language design, and specifically revolves around type-stability. That is, if a programming language is to be fast, then the output types from a function need to be pre-determined based on the input types. In your case, you have a simple function: two floating point inputs, one put to the power of the other. If we input <code>2.0^(-1&#47;2)</code>, then there are two roots. If we input <code>2.0^(-1&#47;3)</code> there are three roots, and so on. If the behaviour you are after is that all roots are output from the function, then the"}, {"owner": {"reputation": 16064, "user_id": 1667895, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/78291e8d1f1bb0b3aac4a95bf71be0e1?s=128&d=identicon&r=PG", "display_name": "Colin T Bowers", "link": "https://stackoverflow.com/users/1667895/colin-t-bowers"}, "edited": false, "score": 0, "creation_date": 1450307711, "post_id": 34322604, "comment_id": 56389684, "body": "Part (2/2): language needs to do a <i>lot</i> of work every time the function is called in order to determine the output type. Therefore the function (and probably the whole language) will be very slow. If instead, the language uses the rule that only the first root is output, no matter what the inputs, then there is much less work needed to determine the output type (it&#39;ll either be a single floating point, or a single complex) and so the function (and language) will run much faster. This is why root-finding should (and usually will) be its own special-case function."}, {"owner": {"reputation": 816, "user_id": 124077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/647909bd95accb7b1192bc5979f29d9b?s=128&d=identicon&r=PG", "display_name": "Jiahao Chen", "link": "https://stackoverflow.com/users/124077/jiahao-chen"}, "reply_to_user": {"reputation": 16064, "user_id": 1667895, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/78291e8d1f1bb0b3aac4a95bf71be0e1?s=128&d=identicon&r=PG", "display_name": "Colin T Bowers", "link": "https://stackoverflow.com/users/1667895/colin-t-bowers"}, "edited": false, "score": 1, "creation_date": 1450309233, "post_id": 34322604, "comment_id": 56390207, "body": "@ColinTBowers see my earlier comments about 2^(-3) being by convention <i>one</i> of the solutions to x^-3 = 2. It is correct that 2^(-3) only evaluates to a single real number."}, {"owner": {"reputation": 30380, "user_id": 1129973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2a2e9b9a222ef69202646f2b115c3bd?s=128&d=identicon&r=PG", "display_name": "Vincent Zoonekynd", "link": "https://stackoverflow.com/users/1129973/vincent-zoonekynd"}, "edited": false, "score": 0, "creation_date": 1450341125, "post_id": 34322604, "comment_id": 56401216, "body": "Things would get worse if you wanted the same behaviour for other <a href=\"https://en.wikipedia.org/wiki/Multivalued_function\" rel=\"nofollow noreferrer\">multi-valued functions</a>: for instance, <code>log(1)</code> would no longer be a single number, <code>0</code>, from the <a href=\"https://en.wikipedia.org/wiki/Principal_branch\" rel=\"nofollow noreferrer\">principal branch</a> of the logarithm, but the <i>infinite</i> set, 2\u03c0i\u2124, containing all the solutions of <code>exp(z)=1</code>."}, {"owner": {"reputation": 7792, "user_id": 131264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67c4f2aed4839e9325dd58097aaa8eca?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/131264/alexander"}, "reply_to_user": {"reputation": 30380, "user_id": 1129973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2a2e9b9a222ef69202646f2b115c3bd?s=128&d=identicon&r=PG", "display_name": "Vincent Zoonekynd", "link": "https://stackoverflow.com/users/1129973/vincent-zoonekynd"}, "edited": false, "score": 0, "creation_date": 1450341715, "post_id": 34322604, "comment_id": 56401522, "body": "@Vincent Zoonekynd, I think that would be awesome! Some languages support infinite sets, like Haskell. Perhaps there is a theoretical possibility that a language could support this?"}, {"owner": {"reputation": 16064, "user_id": 1667895, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/78291e8d1f1bb0b3aac4a95bf71be0e1?s=128&d=identicon&r=PG", "display_name": "Colin T Bowers", "link": "https://stackoverflow.com/users/1667895/colin-t-bowers"}, "reply_to_user": {"reputation": 816, "user_id": 124077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/647909bd95accb7b1192bc5979f29d9b?s=128&d=identicon&r=PG", "display_name": "Jiahao Chen", "link": "https://stackoverflow.com/users/124077/jiahao-chen"}, "edited": false, "score": 0, "creation_date": 1450403271, "post_id": 34322604, "comment_id": 56436289, "body": "@JiahaoChen Ah yep, you&#39;re totally on the money there. I think I got a bit side-tracked - In my head I was trying to explain why <code>sqrt(4)</code> typically returns <code>2</code> in most languages, even though <code>-2</code> is an equally valid answer. But you&#39;re right, it doesn&#39;t really make sense to discuss that with respect to the roots of an expression that isn&#39;t even an equation..."}], "answers": [{"comments": [{"owner": {"reputation": 7792, "user_id": 131264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67c4f2aed4839e9325dd58097aaa8eca?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/131264/alexander"}, "edited": false, "score": 0, "creation_date": 1450304341, "post_id": 34323022, "comment_id": 56388130, "body": "Yes, but Octave lacks the two other answers when typing in 2^(-1/3)."}, {"owner": {"reputation": 17884, "user_id": 2278029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fKGS.jpg?s=128&g=1", "display_name": "horchler", "link": "https://stackoverflow.com/users/2278029/horchler"}, "reply_to_user": {"reputation": 7792, "user_id": 131264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67c4f2aed4839e9325dd58097aaa8eca?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/131264/alexander"}, "edited": false, "score": 0, "creation_date": 1450304507, "post_id": 34323022, "comment_id": 56388216, "body": "You&#39;re never going to get all of the roots by just typing <code>2^(-1&#47;3)</code> in any language. My code should work fine in Octave."}, {"owner": {"reputation": 7792, "user_id": 131264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67c4f2aed4839e9325dd58097aaa8eca?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/131264/alexander"}, "edited": false, "score": 1, "creation_date": 1450305201, "post_id": 34323022, "comment_id": 56388576, "body": "If you are sure that there exists no such language, I will accept that as the answer. I am more interested in language design than the actual roots."}], "tags": [], "owner": {"reputation": 17884, "user_id": 2278029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fKGS.jpg?s=128&g=1", "display_name": "horchler", "link": "https://stackoverflow.com/users/2278029/horchler"}, "is_accepted": false, "score": 2, "last_activity_date": 1450307276, "last_edit_date": 1450307276, "creation_date": 1450303668, "answer_id": 34323022, "question_id": 34322604, "link": "https://stackoverflow.com/questions/34322604/programming-language-with-multiple-roots/34323022#34323022", "title": "Programming language with multiple roots", "body": "<p>Here is how to solve for all of the roots of <em>b</em><sup>1/<em>n</em></sup> via the roots the polynomial <em>x</em><sup><em>n</em></sup> - <em>b</em> with Matlab's <a href=\"http://www.mathworks.com/help/matlab/ref/roots.html\" rel=\"nofollow\"><code>roots</code></a> or Octave's <a href=\"https://www.gnu.org/software/octave/doc/interpreter/Finding-Roots.html\" rel=\"nofollow\"><code>roots</code></a>:</p>\n\n<pre><code>b = 2;\nn = -3; % for b^(1/n)\nc = [1 zeros(1,abs(n)-1) -b];\nr = roots(c).^sign(n);\n</code></pre>\n\n<p>which returns</p>\n\n<pre><code>r =\n\n -0.396850262992050 - 0.687364818499301i\n -0.396850262992050 + 0.687364818499301i\n  0.793700525984100 + 0.000000000000000i\n</code></pre>\n\n<p>Alternatively, using <a href=\"https://en.wikipedia.org/wiki/Root_of_unity\" rel=\"nofollow\">roots of unity</a> (not sure how numerically robust this is):</p>\n\n<pre><code>b = 2;\nn = -3;\nn0 = abs(n);\nr0 = b^(1/n0);\nw = exp(2*pi*1i/n0);\nr = (r0*w.^(0:n0-1).').^sign(n)\n</code></pre>\n\n<p>Or using Matlab's Symbolic Math toolbox:</p>\n\n<pre><code>b = 2;\nn = -3;\nc = [1 zeros(1,abs(n)-1) -b];\nr = solve(poly2sym(c)).^sign(n)\n</code></pre>\n\n<p>which returns:</p>\n\n<pre><code>r =\n\n                           2^(2/3)/2\n  2^(2/3)/(2*((3^(1/2)*1i)/2 - 1/2))\n -2^(2/3)/(2*((3^(1/2)*1i)/2 + 1/2))\n</code></pre>\n\n<p>In certain cases you might also find <a href=\"http://www.mathworks.com/help/matlab/ref/nthroot.html\" rel=\"nofollow\"><code>nthroot</code></a> helpful (<a href=\"http://octave.sourceforge.net/octave/function/nthroot.html\" rel=\"nofollow\">Octave documentation</a>).</p>\n"}, {"tags": [], "owner": {"reputation": 13119, "user_id": 3580870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/880fd75a9cbd3bdbaa07d87893f9c355?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Getz", "link": "https://stackoverflow.com/users/3580870/dan-getz"}, "is_accepted": true, "score": 7, "last_activity_date": 1450309126, "last_edit_date": 1450309126, "creation_date": 1450308736, "answer_id": 34324155, "question_id": 34322604, "link": "https://stackoverflow.com/questions/34322604/programming-language-with-multiple-roots/34324155#34324155", "title": "Programming language with multiple roots", "body": "<p>As many comments explained, wanting a general purpose language to give by default the result from every branch of the complex root function is probably a tall order. But <strong>Julia</strong> allows specializing/overloading operators very naturally (as even the out-of-the-box implementation is often written in Julia). Specifically:</p>\n\n<pre><code>using Roots,Polynomials  # Might need to Pkg.add(\"Roots\") first\nimport Base: ^\n\n^{T&lt;:AbstractFloat}(b::T, r::Rational{Int64}) =\n    roots(poly([0])^r.den - b^abs(r.num)).^sign(r.num)\n</code></pre>\n\n<p>And now when trying to raise a float to a rational power:</p>\n\n<pre><code>julia&gt; 2.0^(-1//3)\n3-element Array{Complex{Float64},1}:\n -0.39685-0.687365im\n -0.39685+0.687365im\n 0.793701-0.0im     \n</code></pre>\n\n<p>Note that specializing the definition of <code>^</code> to rational exponents solves the rounding problem mentioned in the comments.</p>\n"}], "owner": {"reputation": 7792, "user_id": 131264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67c4f2aed4839e9325dd58097aaa8eca?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/131264/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 34324155, "answer_count": 2, "score": 2, "last_activity_date": 1450309126, "creation_date": 1450301969, "last_edit_date": 1450302501, "question_id": 34322604, "link": "https://stackoverflow.com/questions/34322604/programming-language-with-multiple-roots", "title": "Programming language with multiple roots", "body": "<p>The answer to 2^(-1/3) are three roots:</p>\n\n<p>0.79370, -0.39685-0.68736i and 0.39685+0.68736i (approximately)</p>\n\n<p>See the correct answer at <a href=\"http://www.wolframalpha.com/input/?i=2%5E%28-1%2F3%29\" rel=\"nofollow\">Wolfram Alpha</a>.</p>\n\n<p>I know several languages that supports complex numbers, but they all only return the first of the three results:</p>\n\n<p>Python:</p>\n\n<pre><code>&gt;&gt;&gt; complex(2,0)**(-1/3)\n(0.7937005259840998-0j)\n</code></pre>\n\n<p>Octave:</p>\n\n<pre><code>&gt;&gt; (2+0i)^(-1/3)\nans = 0.79370\n</code></pre>\n\n<p>Julia:</p>\n\n<pre><code>julia&gt; complex(2,0)^(-1/3)\n0.7937005259840998 + 0.0im\n</code></pre>\n\n<p>What I'm looking for is something along the lines of:</p>\n\n<pre><code>&gt;&gt; 2^(-1/3)\n[0.79370+0i, -0.39685-0.68736i, 0.39685+0.68736i]\n</code></pre>\n\n<p>Is there a programming language (with a REPL) that will correctly return all three roots, without having to resort to any special modules or libraries, that also has an open source implementation available?</p>\n"}, {"tags": ["python", "plotly"], "owner": {"reputation": 342, "user_id": 5066487, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/97c23fc6b1c4a739b34f5833de7b5b82?s=128&d=identicon&r=PG&f=1", "display_name": "1v0", "link": "https://stackoverflow.com/users/5066487/1v0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1490531567, "creation_date": 1450301754, "last_edit_date": 1490531567, "question_id": 34322562, "link": "https://stackoverflow.com/questions/34322562/plotly-wait-until-plot-function-created-a-plot-on-the-plotly-server", "title": "plotly: wait until plot function created a plot on the plotly server", "body": "<p>I am using the <code>plotly</code> <code>plot</code> function to create plots like:</p>\n\n<pre><code>import plotly.plotly as py\nplot_url = py.plot(data_json, filename=name)\n</code></pre>\n\n<p>Is there a way to get notified when the <code>plot</code> function is done creating a plot on the plotly server? (Or make the call blocking)</p>\n"}, {"tags": ["python", "session", "orm", "sqlalchemy", "psycopg2"], "comments": [{"owner": {"reputation": 2507, "user_id": 4247599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-BgZOHN-rOnw/AAAAAAAAAAI/AAAAAAAAAEQ/4DtqczA7QDA/photo.jpg?sz=128", "display_name": "SeF", "link": "https://stackoverflow.com/users/4247599/sef"}, "edited": false, "score": 0, "creation_date": 1570729464, "post_id": 34322471, "comment_id": 103014989, "body": "I think your answer is right here: <a href=\"https://hackersandslackers.com/pythonic-database-management-with-sqlalchemy/\" rel=\"nofollow noreferrer\">hackersandslackers.com/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 506, "user_id": 1283162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/239563e2c99c08a2554acc6c102b3292?s=128&d=identicon&r=PG", "display_name": "Atom", "link": "https://stackoverflow.com/users/1283162/atom"}, "edited": false, "score": 1, "creation_date": 1551954413, "post_id": 34364247, "comment_id": 96833801, "body": "&quot;connectionless&quot; word implies no connection is being created, which according to Neal&#39;s answer is not the case."}], "tags": [], "owner": {"reputation": 14349, "user_id": 1384641, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/bqaZL.png?s=128&g=1", "display_name": "Nabeel Ahmed", "link": "https://stackoverflow.com/users/1384641/nabeel-ahmed"}, "is_accepted": true, "score": 149, "last_activity_date": 1509501993, "last_edit_date": 1509501993, "creation_date": 1450474335, "answer_id": 34364247, "question_id": 34322471, "link": "https://stackoverflow.com/questions/34322471/sqlalchemy-engine-connection-and-session-difference/34364247#34364247", "title": "SQLAlchemy: engine, connection and session difference", "body": "<p><strong>A one-line overview:</strong> </p>\n\n<p>The behavior of <code>execute()</code> is same in all the cases, but they are 3 different methods, in <code>Engine</code>, <code>Connection</code>, and <code>Session</code> classes.</p>\n\n<p><strong>What exactly is <code>execute()</code>:</strong></p>\n\n<p>To understand behavior of <code>execute()</code> we need to look into the <code>Executable</code> class. <code>Executable</code> is a superclass for all \u201cstatement\u201d types of objects, including select(), delete(),update(), insert(), text() - in simplest words possible, an <code>Executable</code> is a SQL expression construct supported in SQLAlchemy.</p>\n\n<p>In all the cases the <code>execute()</code> method takes the SQL text or constructed SQL expression i.e. any of the variety of SQL expression constructs supported in SQLAlchemy and returns query results (a <code>ResultProxy</code> - Wraps a <code>DB-API</code> cursor object to provide easier access to row columns.) </p>\n\n<hr>\n\n<p><strong>To clarify it further (only for conceptual clarification, not a recommended approach)</strong>:</p>\n\n<p>In addition to <code>Engine.execute()</code> (connectionless execution), <code>Connection.execute()</code>, and <code>Session.execute()</code>, it is also possible to use the <code>execute()</code> directly on any <code>Executable</code> construct. The <code>Executable</code> class has it's own implementation of <code>execute()</code> - As per official documentation, one line description about what the <code>execute()</code> does is \"<strong>Compile and execute this <code>Executable</code></strong>\". In this case we need to explicitly bind the <code>Executable</code> (SQL expression construct) with a <code>Connection</code> object or, <code>Engine</code> object (which implicitly get a <code>Connection</code> object), so the <code>execute()</code> will know where to execute the <code>SQL</code>.</p>\n\n<p>The following example demonstrates it well - Given a table as below:</p>\n\n<pre><code>from sqlalchemy import MetaData, Table, Column, Integer\n\nmeta = MetaData()\nusers_table = Table('users', meta,\n    Column('id', Integer, primary_key=True),\n    Column('name', String(50)))\n</code></pre>\n\n<p><strong>Explicit execution</strong> i.e. <code>Connection.execute()</code> - passing the SQL text or constructed SQL expression to the <code>execute()</code> method of <code>Connection</code>:</p>\n\n<pre><code>engine = create_engine('sqlite:///file.db')\nconnection = engine.connect()\nresult = connection.execute(users_table.select())\nfor row in result:\n    # ....\nconnection.close()\n</code></pre>\n\n<p><strong>Explicit connectionless execution</strong> i.e. <code>Engine.execute()</code> - passing the SQL text or constructed SQL expression directly to the <code>execute()</code> method of Engine:</p>\n\n<pre><code>engine = create_engine('sqlite:///file.db')\nresult = engine.execute(users_table.select())\nfor row in result:\n    # ....\nresult.close()\n</code></pre>\n\n<p><strong>Implicit execution</strong> i.e. <code>Executable.execute()</code> - is also connectionless, and calls the <code>execute()</code> method of the <code>Executable</code>, that is, it calls <code>execute()</code> method directly on the <code>SQL</code> expression construct (an instance of <code>Executable</code>) itself.</p>\n\n<pre><code>engine = create_engine('sqlite:///file.db')\nmeta.bind = engine\nresult = users_table.select().execute()\nfor row in result:\n    # ....\nresult.close()\n</code></pre>\n\n<p>Note: Stated the implicit execution example for the purpose of clarification - this way of execution is highly not recommended - as per <a href=\"http://docs.sqlalchemy.org/en/rel_1_0/core/connections.html#connectionless-execution-implicit-execution\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>\u201cimplicit execution\u201d is a very old usage pattern that in most cases is\n  more confusing than it is helpful, and its usage is discouraged. Both\n  patterns seem to encourage the overuse of expedient \u201cshort cuts\u201d in\n  application design which lead to problems later on.</p>\n</blockquote>\n\n<hr>\n\n<h2>Your questions:</h2>\n\n<blockquote>\n  <p>As I understand if someone use engine.execute it creates connection,\n  opens session (Alchemy cares about it for you) and executes query.</p>\n</blockquote>\n\n<p>You're right for the part \"if someone use <code>engine.execute</code> it creates <code>connection</code> \" but not for \"opens <code>session</code> (Alchemy cares about it for you) and executes query \" - Using <code>Engine.execute()</code> and <code>Connection.execute()</code> is (almost) one the same thing, in formal, <code>Connection</code> object gets created implicitly, and in later case we explicitly instantiate it. What really happens in this case is:</p>\n\n<pre><code>`Engine` object (instantiated via `create_engine()`) -&gt; `Connection` object (instantiated via `engine_instance.connect()`) -&gt; `connection.execute({*SQL expression*})`\n</code></pre>\n\n<blockquote>\n  <p>But is there a global difference between these three ways of\n  performing such task?</p>\n</blockquote>\n\n<p>At DB layer it's exactly the same thing, all of them are executing SQL (text expression or various SQL expression constructs). From application's point of view there are two options:</p>\n\n<ul>\n<li>Direct execution - Using <code>Engine.execute()</code> or <code>Connection.execute()</code></li>\n<li>Using <code>sessions</code> - efficiently handles transaction as single\nunit-of-work, with ease via <code>session.add()</code>, <code>session.rollback()</code>, <code>session.commit()</code>, <code>session.close()</code>. It is the way to interact with the DB in case of ORM i.e. mapped tables. Provides <a href=\"http://docs.sqlalchemy.org/en/rel_1_0/core/connections.html#\" rel=\"noreferrer\">identity_map</a> for instantly getting already accessed or newly created/added objects during a single request.</li>\n</ul>\n\n<p><code>Session.execute()</code> ultimately uses <code>Connection.execute()</code> statement execution method in order to execute the SQL statement. Using <code>Session</code> object is SQLAlchemy ORM's recommended way for an application to interact with the database.</p>\n\n<p>An excerpt from the <a href=\"http://docs.sqlalchemy.org/en/rel_1_0/core/connections.html#\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Its important to note that when using the SQLAlchemy ORM, these\n  objects are not generally accessed; instead, the Session object is\n  used as the interface to the database. However, for applications that\n  are built around direct usage of textual SQL statements and/or SQL\n  expression constructs without involvement by the ORM\u2019s higher level\n  management services, the Engine and Connection are king (and queen?) -\n  read on.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2516, "user_id": 683482, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/lBysC.jpg?s=128&g=1", "display_name": "Raju yourPepe", "link": "https://stackoverflow.com/users/683482/raju-yourpepe"}, "edited": false, "score": 0, "creation_date": 1559573700, "post_id": 42772654, "comment_id": 99454142, "body": "Given created session, how does my Session linked with my PostgreSQL connection  ?"}, {"owner": {"reputation": 1749, "user_id": 3945895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkLoz.jpg?s=128&g=1", "display_name": "Neal", "link": "https://stackoverflow.com/users/3945895/neal"}, "reply_to_user": {"reputation": 2516, "user_id": 683482, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/lBysC.jpg?s=128&g=1", "display_name": "Raju yourPepe", "link": "https://stackoverflow.com/users/683482/raju-yourpepe"}, "edited": false, "score": 0, "creation_date": 1559588108, "post_id": 42772654, "comment_id": 99460513, "body": "@RajuyourPepe <code>my_session.connection()</code>. Docs: <a href=\"https://docs.sqlalchemy.org/en/13/orm/session_api.html#sqlalchemy.orm.session.Session.connection\" rel=\"nofollow noreferrer\">docs.sqlalchemy.org/en/13/orm/&hellip;</a>."}, {"owner": {"reputation": 2516, "user_id": 683482, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/lBysC.jpg?s=128&g=1", "display_name": "Raju yourPepe", "link": "https://stackoverflow.com/users/683482/raju-yourpepe"}, "edited": false, "score": 0, "creation_date": 1559619360, "post_id": 42772654, "comment_id": 99467895, "body": "Seriously ?  &#39;Session&#39; object has no attribute &#39;connect&#39;&quot;,  is what I have found"}, {"owner": {"reputation": 1749, "user_id": 3945895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkLoz.jpg?s=128&g=1", "display_name": "Neal", "link": "https://stackoverflow.com/users/3945895/neal"}, "reply_to_user": {"reputation": 2516, "user_id": 683482, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/lBysC.jpg?s=128&g=1", "display_name": "Raju yourPepe", "link": "https://stackoverflow.com/users/683482/raju-yourpepe"}, "edited": false, "score": 0, "creation_date": 1559656362, "post_id": 42772654, "comment_id": 99484233, "body": "@RajuyourPepe look carefully at the command, it is <code>connection()</code> not <code>connect</code>. See my link to the docs."}, {"owner": {"reputation": 955, "user_id": 4933540, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205228751810959/picture?type=large", "display_name": "Yash Tamakuwala", "link": "https://stackoverflow.com/users/4933540/yash-tamakuwala"}, "edited": false, "score": 0, "creation_date": 1604473392, "post_id": 42772654, "comment_id": 114354857, "body": "I am using session and I also close it when querying is done. I still sometimes get that database is locked. Any idea?"}], "tags": [], "owner": {"reputation": 1749, "user_id": 3945895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkLoz.jpg?s=128&g=1", "display_name": "Neal", "link": "https://stackoverflow.com/users/3945895/neal"}, "is_accepted": false, "score": 138, "last_activity_date": 1559152754, "last_edit_date": 1559152754, "creation_date": 1489436200, "answer_id": 42772654, "question_id": 34322471, "link": "https://stackoverflow.com/questions/34322471/sqlalchemy-engine-connection-and-session-difference/42772654#42772654", "title": "SQLAlchemy: engine, connection and session difference", "body": "<p><a href=\"https://stackoverflow.com/a/34364247/3945895\">Nabeel's answer</a> covers a lot of details and is helpful, but I found it confusing to follow. Since this is currently the first Google result for this issue, adding my understanding of it for future people that find this question:</p>\n\n<h1>Running .execute()</h1>\n\n<p>As OP and Nabell Ahmed both note, when executing a plain <code>SELECT * FROM tablename</code>, there's no difference in the result provided. </p>\n\n<p>The differences between these three objects do become important depending on the context that the <code>SELECT</code> statement is used in or, more commonly, when you want to do other things like <code>INSERT</code>, <code>DELETE</code>, etc. </p>\n\n<h1>When to use Engine, Connection, Session generally</h1>\n\n<ul>\n<li><p><strong>Engine</strong> is the lowest level object used by SQLAlchemy. It <a href=\"http://docs.sqlalchemy.org/en/latest/core/pooling.html\" rel=\"noreferrer\">maintains a pool of connections</a> available for use whenever the application needs to talk to the database. <code>.execute()</code> is a convenience method that first calls <code>conn = engine.connect(close_with_result=True)</code> and the then <code>conn.execute()</code>. The close_with_result parameter means the connection is closed automatically. (I'm slightly paraphrasing the source code, but essentially true). <em>edit: <a href=\"https://github.com/sqlalchemy/sqlalchemy/blob/d514c032cd0349afc93f89d5b99835198ae70112/lib/sqlalchemy/engine/base.py#L2165-L2166\" rel=\"noreferrer\">Here's the source code for engine.execute</a></em></p>\n\n<p>You can use engine to execute raw SQL.</p>\n\n<pre><code>result = engine.execute('SELECT * FROM tablename;')\n#what engine.execute() is doing under the hood\nconn = engine.connect(close_with_result=True)\nresult = conn.execute('SELECT * FROM tablename;')\n\n#after you iterate over the results, the result and connection get closed\nfor row in result:\n    print(result['columnname']\n\n#or you can explicitly close the result, which also closes the connection\nresult.close()\n</code></pre>\n\n<p>This is covered in the docs under <a href=\"http://docs.sqlalchemy.org/en/latest/core/connections.html#basic-usage\" rel=\"noreferrer\">basic usage</a>.</p></li>\n<li><p><strong>Connection</strong> is (as we saw above) the thing that actually does the work of executing a SQL query. You should do this whenever you want greater control over attributes of the connection, when it gets closed, etc. For example, a very import example of this is a <a href=\"http://docs.sqlalchemy.org/en/rel_1_0/core/connections.html#using-transactions\" rel=\"noreferrer\">Transaction</a>, which lets you decide when to commit your changes to the database. In normal use, changes are autocommitted. With the use of transactions, you could (for example) run several different SQL statements and if something goes wrong with one of them you could undo all the changes at once.</p>\n\n<pre><code>connection = engine.connect()\ntrans = connection.begin()\ntry:\n    connection.execute(\"INSERT INTO films VALUES ('Comedy', '82 minutes');\")\n    connection.execute(\"INSERT INTO datalog VALUES ('added a comedy');\")\n    trans.commit()\nexcept:\n    trans.rollback()\n    raise\n</code></pre>\n\n<p>This would let you undo both changes if one failed, like if you forgot to create the datalog table.</p>\n\n<p>So if you're executing raw SQL code and need control, use connections</p></li>\n<li><p><strong>Sessions</strong> are used for the Object Relationship Management (ORM) aspect of SQLAlchemy (in fact you can see this from how they're imported: <code>from sqlalchemy.orm import sessionmaker</code>). They use connections and transactions under the hood to run their automatically-generated SQL statements. <code>.execute()</code> is a convenience function that passes through to whatever the session is bound to (usually an engine, but can be a connection). </p>\n\n<p>If you're using the ORM functionality, use session; if you're only doing straight SQL queries not bound to objects, you're probably better off using connections directly. </p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 332, "user_id": 7639174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OeBYf.png?s=128&g=1", "display_name": "lone_coder", "link": "https://stackoverflow.com/users/7639174/lone-coder"}, "edited": false, "score": 0, "creation_date": 1602825859, "post_id": 57468512, "comment_id": 113847501, "body": "you didn&#39;t check whether the db is alive or not?"}], "tags": [], "owner": {"reputation": 716, "user_id": 6655562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/515ad6c0ed020a56e428cc42210873e7?s=128&d=identicon&r=PG&f=1", "display_name": "Jie", "link": "https://stackoverflow.com/users/6655562/jie"}, "is_accepted": false, "score": 1, "last_activity_date": 1565645502, "creation_date": 1565645502, "answer_id": 57468512, "question_id": 34322471, "link": "https://stackoverflow.com/questions/34322471/sqlalchemy-engine-connection-and-session-difference/57468512#57468512", "title": "SQLAlchemy: engine, connection and session difference", "body": "<p>Here is an example of running DCL (Data Control Language) such as GRANT</p>\n\n<pre><code>def grantAccess(db, tb, user):\n  import sqlalchemy as SA\n  import psycopg2\n\n  url = \"{d}+{driver}://{u}:{p}@{h}:{port}/{db}\".\\\n            format(d=\"redshift\",\n            driver='psycopg2',\n            u=username,\n            p=password,\n            h=host,\n            port=port,\n            db=db)\n  engine = SA.create_engine(url)\n  cnn = engine.connect()\n  trans = cnn.begin()\n  strSQL = \"GRANT SELECT on table \" + tb + \" to \" + user + \" ;\"\n  try:\n      cnn.execute(strSQL)\n      trans.commit()\n  except:\n      trans.rollback()\n      raise\n</code></pre>\n"}], "owner": {"reputation": 2419, "user_id": 978424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3946660aefd8904a90a69f9d5cba7f?s=128&d=identicon&r=PG", "display_name": "ololobus", "link": "https://stackoverflow.com/users/978424/ololobus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67720, "favorite_count": 65, "accepted_answer_id": 34364247, "answer_count": 3, "score": 165, "last_activity_date": 1565645502, "creation_date": 1450301371, "last_edit_date": 1535972688, "question_id": 34322471, "link": "https://stackoverflow.com/questions/34322471/sqlalchemy-engine-connection-and-session-difference", "title": "SQLAlchemy: engine, connection and session difference", "body": "<p>I use SQLAlchemy and there are at least three entities: <code>engine</code>, <code>session</code> and <code>connection</code>, which have <code>execute</code> method, so if I e.g. want to select all records from <code>table</code> I can do this</p>\n\n<pre><code>engine.execute(select([table])).fetchall()\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>connection.execute(select([table])).fetchall()\n</code></pre>\n\n<p>and even this</p>\n\n<pre><code>session.execute(select([table])).fetchall()\n</code></pre>\n\n<p>- the results will be the same.</p>\n\n<p>As I understand it, if someone uses <code>engine.execute</code> it creates <code>connection</code>, opens <code>session</code> (Alchemy takes care of it for you) and executes the query. But is there a global difference between these three ways of performing such a \ntask?</p>\n"}, {"tags": ["python", "python-2.7", "numpy", "arcgis", "arcpy"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1121588"}, "edited": false, "score": 0, "creation_date": 1450489475, "post_id": 34322458, "comment_id": 56642504, "body": "You need to explore arcpy more. Numpy array access ... to and from .. is built in and used extensively. Begin with this link then explore the rest of the options in the data access module <a href=\"http://desktop.arcgis.com/en/desktop/latest/analyze/arcpy-functions/numpyarraytoraster-function.htm\" rel=\"nofollow noreferrer\">NumPyArrayToRaster</a>"}, {"owner": {"reputation": 31, "user_id": 5688546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z1tsX.png?s=128&g=1", "display_name": "Coder McGee", "link": "https://stackoverflow.com/users/5688546/coder-mcgee"}, "edited": false, "score": 0, "creation_date": 1450966388, "post_id": 34322458, "comment_id": 56649595, "body": "Thank you for the response @DanPatterson. I realize that in skimming my post, everything about it suggests that I&#39;m looking for the functionality that NumPyArrayToRaster provides (the title virtually screams it!). In reality I&#39;m trying to do something pretty different and more complicated, which is to use information in an array to populate a raster. I think with arcpy the above approach is probably the best that can be done, but that I should look into other software for a more efficient approach."}], "answers": [{"tags": [], "owner": {"reputation": 6473, "user_id": 1446289, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/407d1774cc79b26ca440f2bc1b4103d5?s=128&d=identicon&r=PG", "display_name": "Borealis", "link": "https://stackoverflow.com/users/1446289/borealis"}, "is_accepted": false, "score": 0, "last_activity_date": 1455429706, "creation_date": 1455429706, "answer_id": 35388879, "question_id": 34322458, "link": "https://stackoverflow.com/questions/34322458/creating-a-raster-image-from-a-numpy-array/35388879#35388879", "title": "Creating a raster image from a NumPy array", "body": "<p><a href=\"http://resources.arcgis.com/en/help/main/10.2/index.html#/NumPyArrayToRaster/03q30000007q000000/\" rel=\"nofollow\">NumPyArrayToRaster (arcpy)</a> was designed for this type of operation. </p>\n\n<p>An example from the documentation:</p>\n\n<pre><code>import arcpy\nimport numpy\n\n# Create a simple array from scratch using random values\nmyArray = numpy.random.random_integers(0,100,2500)\nmyArray.shape = (50,50)\n\n# Convert array to a geodatabase raster\nmyRaster = arcpy.NumPyArrayToRaster(myArray,x_cell_size=1)\nmyRaster.save(\"C:/output/fgdb.gdb/myRandomRaster\")\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5688546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z1tsX.png?s=128&g=1", "display_name": "Coder McGee", "link": "https://stackoverflow.com/users/5688546/coder-mcgee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1489, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1455429706, "creation_date": 1450301323, "last_edit_date": 1450496684, "question_id": 34322458, "link": "https://stackoverflow.com/questions/34322458/creating-a-raster-image-from-a-numpy-array", "title": "Creating a raster image from a NumPy array", "body": "<p>I am scripting using arcpy, and I have a NumPy matrix with dimensions crops by counties. This matrix is populated with floats.</p>\n\n<p>I also have an individual raster image showing crops as well as a shapefile showing counties.</p>\n\n<p>I would like to save the contents of my NumPy matrix to a new raster, using the correct value in the matrix given that the raster pixel is a certain crop in a certain county.</p>\n\n<p>My question is: how can I improve the way that I'm converting the matrix to a raster image?</p>\n\n<p>Currently I do something like the following:</p>\n\n<pre><code># initialize my output\noutraster = 0 * cropraster\n\nfor crop in crops\n    for county in counties\n        outraster = outraster + \\\n        conditional statements checking if cropraster pixel is in \n        current county and crop, and if so return matrix value\n\noutraster.save(filename)\n</code></pre>\n\n<p>The conditional statements are nested spatial analyst \"Con\" calls, whose syntax I will spare you.</p>\n\n<p>This works OK, but is quite ugly and I feel there should be a better way to do what I'm trying to do. The above approach crashes when I attempt too many counties or crops. It fails on the save step.</p>\n\n<p>I would like to know if there is a simpler way to accomplish what I'm after. Any advice?</p>\n"}, {"tags": ["python", "string", "python-3.x", "pandas", "printing"], "answers": [{"comments": [{"owner": {"reputation": 8493, "user_id": 2954547, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a859521339cfc1d7bc8a3d3da7031cab?s=128&d=identicon&r=PG&f=1", "display_name": "shadowtalker", "link": "https://stackoverflow.com/users/2954547/shadowtalker"}, "edited": false, "score": 1, "creation_date": 1450315152, "post_id": 34324332, "comment_id": 56391932, "body": "Interesting, although I don&#39;t see anything in the definition that precludes a DataFrame from containing a newline <i>inside</i> an element. The principle works just fine in R, for instance. Either way I&#39;ll probably just end up doing it row-by-row with string formatting."}, {"owner": {"reputation": 541, "user_id": 5678325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7adec05602a8899beda24e1e69390687?s=128&d=identicon&r=PG", "display_name": "oystein-hr", "link": "https://stackoverflow.com/users/5678325/oystein-hr"}, "reply_to_user": {"reputation": 8493, "user_id": 2954547, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a859521339cfc1d7bc8a3d3da7031cab?s=128&d=identicon&r=PG&f=1", "display_name": "shadowtalker", "link": "https://stackoverflow.com/users/2954547/shadowtalker"}, "edited": false, "score": 0, "creation_date": 1450360747, "post_id": 34324332, "comment_id": 56414086, "body": "If you grab an element from a DataFrame that contains for example &#39;johnny\\nnewline&#39; and print that, it will print &#39;johnny&#39; on one line and &#39;newline&#39; on a new line. Adding another option, and print example to answer."}], "tags": [], "owner": {"reputation": 541, "user_id": 5678325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7adec05602a8899beda24e1e69390687?s=128&d=identicon&r=PG", "display_name": "oystein-hr", "link": "https://stackoverflow.com/users/5678325/oystein-hr"}, "is_accepted": true, "score": 4, "last_activity_date": 1450360918, "last_edit_date": 1450360918, "creation_date": 1450309832, "answer_id": 34324332, "question_id": 34322448, "link": "https://stackoverflow.com/questions/34322448/pretty-printing-newlines-inside-a-string-in-a-pandas-dataframe/34324332#34324332", "title": "Pretty printing newlines inside a string in a Pandas DataFrame", "body": "<p>From pandas.DataFrame <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html\" rel=\"nofollow\">documention</a>:</p>\n\n<blockquote>\n  <p>Two-dimensional size-mutable, potentially heterogeneous tabular data\n  structure with labeled axes (rows and columns). Arithmetic operations\n  align on both row and column labels. Can be thought of as a dict-like\n  container for Series objects. The primary pandas data structure</p>\n</blockquote>\n\n<p>So you can't have a row without an index. Newline \"\\n\" won't work in DataFrame. </p>\n\n<p>You could overwrite 'pos' with an empty value, and output the next 'bidder' on the next row. But then index and 'pos' would be offset every time you do that. Like: </p>\n\n<pre><code>  pos    bidder\n0   1          \n1   2          \n2   3  &lt;- alice\n3        &lt;- bob\n4   5   \n</code></pre>\n\n<p>So if a bidder called 'frank' had 4 as value, it would overwrite 'bob'. This would cause problems as you add more. It is probably possible to use DataFrame and write code to work around this issue, but probably worth looking into other solutions.</p>\n\n<p>Here is the code to produce the output structure above.</p>\n\n<pre><code>import pandas as pd\n\nn = 5\noutput = pd.DataFrame({'pos': range(1, n + 1),\n                      'bidder': [''] * n},\n                      columns=['pos', 'bidder'])\nbids = {'alice': 3, 'bob': 3}\nused_pos = []\nfor bidder, pos in bids.items():\n    if pos in used_pos:\n        output.ix[pos, 'bidder'] = \"&lt;- %s\" % bidder\n        output.ix[pos, 'pos'] = ''\n    else:\n        output.ix[pos - 1, 'bidder'] = \"&lt;- %s\" % bidder\n        used_pos.append(pos)\nprint(output)\n</code></pre>\n\n<p><em>Edit:</em></p>\n\n<p>Another option is to restructure the data and output. You could\nhave pos as columns, and create a new row for each key/person\nin the data. In the code example below it prints the DataFrame with NaN\nvalues replaced with an empty string.</p>\n\n<pre><code>import pandas as pd\n\ndata = {'johnny\\nnewline': 2, 'alice': 3, 'bob': 3,\n        'frank': 4, 'lisa': 1, 'tom': 8}\nn = range(1, max(data.values()) + 1)\n\n# Create DataFrame with columns = pos\noutput = pd.DataFrame(columns=n, index=[])\n\n# Populate DataFrame with rows\nfor index, (bidder, pos) in enumerate(data.items()):\n    output.loc[index, pos] = bidder\n\n# Print the DataFrame and remove NaN to make it easier to read.\nprint(output.fillna(''))\n\n# Fetch and print every element in column 2\nfor index in range(1, 5):\n    print(output.loc[index, 2])\n</code></pre>\n\n<p>It depends what you want to do with the data though. Good luck :)</p>\n"}, {"comments": [{"owner": {"reputation": 1294, "user_id": 8272600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pMuKT.jpg?s=128&g=1", "display_name": "Julio Cezar Silva", "link": "https://stackoverflow.com/users/8272600/julio-cezar-silva"}, "edited": false, "score": 0, "creation_date": 1611099536, "post_id": 46326725, "comment_id": 116340810, "body": "Quick and clean, no setting changes, just a notebook-specific oneliner. This is the one for me."}], "tags": [], "owner": {"reputation": 2594, "user_id": 146478, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac1ce49e15852dc29cbd8fe2aa47aea7?s=128&d=identicon&r=PG", "display_name": "unsorted", "link": "https://stackoverflow.com/users/146478/unsorted"}, "is_accepted": false, "score": 26, "last_activity_date": 1519681013, "last_edit_date": 1519681013, "creation_date": 1505923054, "answer_id": 46326725, "question_id": 34322448, "link": "https://stackoverflow.com/questions/34322448/pretty-printing-newlines-inside-a-string-in-a-pandas-dataframe/46326725#46326725", "title": "Pretty printing newlines inside a string in a Pandas DataFrame", "body": "<p>If you're trying to do this in ipython notebook, you can do:</p>\n\n<pre><code>from IPython.display import display, HTML\n\ndef pretty_print(df):\n    return display( HTML( df.to_html().replace(\"\\\\n\",\"&lt;br&gt;\") ) )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6664842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/734436101204c0e5b0468f81fc08c97a?s=128&d=identicon&r=PG&f=1", "display_name": "Roger d&#39;Amiens", "link": "https://stackoverflow.com/users/6664842/roger-damiens"}, "is_accepted": false, "score": 3, "last_activity_date": 1552658545, "creation_date": 1552658545, "answer_id": 55184352, "question_id": 34322448, "link": "https://stackoverflow.com/questions/34322448/pretty-printing-newlines-inside-a-string-in-a-pandas-dataframe/55184352#55184352", "title": "Pretty printing newlines inside a string in a Pandas DataFrame", "body": "<p>Somewhat in line with unsorted's answer:</p>\n\n<pre><code>import pandas as pd\n\n# Save the original `to_html` function to call it later\npd.DataFrame.base_to_html = pd.DataFrame.to_html\n# Call it here in a controlled way\npd.DataFrame.to_html = (\n    lambda df, *args, **kwargs: \n        (df.base_to_html(*args, **kwargs)\n           .replace(r\"\\n\", \"&lt;br/&gt;\"))\n)\n</code></pre>\n\n<p>This way, you don't need to call any explicit function in Jupyter notebooks, as <code>to_html</code> is called internally. If you want the original function, call <code>base_to_html</code> (or whatever you named it).</p>\n\n<p>I'm using <code>jupyter 1.0.0</code>, <code>notebook 5.7.6</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 553, "user_id": 5821101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8YqU.png?s=128&g=1", "display_name": "yongjieyongjie", "link": "https://stackoverflow.com/users/5821101/yongjieyongjie"}, "is_accepted": false, "score": 13, "last_activity_date": 1562219609, "creation_date": 1562219609, "answer_id": 56881411, "question_id": 34322448, "link": "https://stackoverflow.com/questions/34322448/pretty-printing-newlines-inside-a-string-in-a-pandas-dataframe/56881411#56881411", "title": "Pretty printing newlines inside a string in a Pandas DataFrame", "body": "<h1>Using pandas <code>.set_properties()</code> and CSS <code>white-space</code> property</h1>\n\n<p><em>[For use in IPython notebooks]</em></p>\n\n<p>Another way will be to use pandas's <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.io.formats.style.Styler.set_properties.html\" rel=\"noreferrer\">pandas.io.formats.style.Styler.set_properties()</a> method and the CSS <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/white-space#Values\" rel=\"noreferrer\"><code>\"white-space\": \"pre-wrap\"</code></a> property:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from IPython.display import display\n\n# Assuming the variable df contains the relevant DataFrame\ndisplay(df.style.set_properties(**{\n    'white-space': 'pre-wrap',\n})\n\n</code></pre>\n\n<p>To keep the text left-aligned, you might want to add <code>'text-align': 'left'</code> as below:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from IPython.display import display\n\n# Assuming the variable df contains the relevant DataFrame\ndisplay(df.style.set_properties(**{\n    'text-align': 'left',\n    'white-space': 'pre-wrap',\n})\n\n</code></pre>\n"}], "owner": {"reputation": 8493, "user_id": 2954547, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a859521339cfc1d7bc8a3d3da7031cab?s=128&d=identicon&r=PG&f=1", "display_name": "shadowtalker", "link": "https://stackoverflow.com/users/2954547/shadowtalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21846, "favorite_count": 3, "accepted_answer_id": 34324332, "answer_count": 4, "score": 19, "last_activity_date": 1562219609, "creation_date": 1450301280, "question_id": 34322448, "link": "https://stackoverflow.com/questions/34322448/pretty-printing-newlines-inside-a-string-in-a-pandas-dataframe", "title": "Pretty printing newlines inside a string in a Pandas DataFrame", "body": "<p>I have a Pandas DataFrame in which one of the columns contains string elements, and those string elements contain new lines that I would like to print literally. But they just appear as <code>\\n</code> in the output.</p>\n\n<p>That is, I want to print this:</p>\n\n<pre><code>  pos     bidder\n0   1\n1   2\n2   3  &lt;- alice\n       &lt;- bob\n3   4\n</code></pre>\n\n<p>but this is what I get:</p>\n\n<pre><code>  pos            bidder\n0   1\n1   2\n2   3  &lt;- alice\\n&lt;- bob\n3   4\n</code></pre>\n\n<p>How can I accomplish what I want? Can I use a DataFrame, or will I have to revert to manually printing padded columns one row at a time?</p>\n\n<p>Here's what I have so far:</p>\n\n<pre><code>n = 4\noutput = pd.DataFrame({\n    'pos': range(1, n+1),\n    'bidder': [''] * n\n})\nbids = {'alice': 3, 'bob': 3}\nused_pos = []\nfor bidder, pos in bids.items():\n    if pos in used_pos:\n        arrow = output.ix[pos, 'bidder']\n        output.ix[pos, 'bidder'] = arrow + \"\\n&lt;- %s\" % bidder\n    else:\n        output.ix[pos, 'bidder'] = \"&lt;- %s\" % bidder\nprint(output)\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 2, "creation_date": 1450301599, "post_id": 34322402, "comment_id": 56386735, "body": "you  have finite, but <b>extremely long</b> recursion in <code>comparelist</code>, you should never code like this - if you are supposed to repeat the code multiple times use <b>loops</b> not recursion."}], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 2, "last_activity_date": 1450301798, "creation_date": 1450301798, "answer_id": 34322567, "question_id": 34322402, "link": "https://stackoverflow.com/questions/34322402/recursion-errors-in-a-dice-rolling-simluation-how-long-to-match-x-dice-in-one/34322567#34322567", "title": "Recursion errors in a dice rolling simluation (how long to match &#39;x&#39; dice in one roll)", "body": "<p>Python has <a href=\"https://docs.python.org/3/library/sys.html#sys.getrecursionlimit\" rel=\"nofollow\">fairly low recursion limit by default (IIRC, 1000 stack frames)</a>. Your code doesn't cap the recursion (there is no <code>maximum_attempts</code> check), so if it recurses too many times trying to \"win\", it hits the limit and dies.</p>\n\n<p>You could <a href=\"https://docs.python.org/3/library/sys.html#sys.setrecursionlimit\" rel=\"nofollow\">set a higher recursion limit</a>, but that only extends the cap a little bit; every additional die reduces the odds of a given roll winning by 1/6, so you always win with one die, win 1/6 for two, 1/36 for three, 1/216 for 4, 1/1296 for 5, etc. The odds of a win drop quickly; a higher recursion limit would still fail occasionally by chance, and it wouldn't give you much in the way of additional capacity for more dice most of the time.</p>\n\n<p>You really need to ditch the recursion in favor of imperative techniques.</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 5688496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3baaf1ad177561858abf5a78254cdef0?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5688496/jon"}, "edited": false, "score": 0, "creation_date": 1450319883, "post_id": 34322616, "comment_id": 56393292, "body": "Thank you very much!  I made the while loop adjustment and everything worked perfectly!  I will work to not use recursion in the future.  Thanks again!"}], "tags": [], "owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "is_accepted": false, "score": 0, "last_activity_date": 1450302024, "creation_date": 1450302024, "answer_id": 34322616, "question_id": 34322402, "link": "https://stackoverflow.com/questions/34322402/recursion-errors-in-a-dice-rolling-simluation-how-long-to-match-x-dice-in-one/34322616#34322616", "title": "Recursion errors in a dice rolling simluation (how long to match &#39;x&#39; dice in one roll)", "body": "<p>In answer to your question, the best way to avoid this error is to avoid recursion. Although it can be said that most iterative procedures can be done recursively, that doesn't mean that it should be.</p>\n\n<p>In your case, you are attempting to iterate over a non-determined amount of times that can, possibly, get exponentially larger as the number of dice grows, as the amount of combinations in a dice roll are <code>6^n</code> or <code>O(2^n)</code> for <code>n</code> number of dice.</p>\n\n<p>Not only that, your iterations are simple are just iterating a single variable (<code>attempts</code>) by 1 each time. In other words, you are running the EXACT SAME code over and over and over and ... over again until a certain stop condition. The usual answer to this? a loop. more specifically, a while loop. There is no need for recursion.</p>\n\n<p>So restructure your code to this:</p>\n\n<pre><code>#compares all the items in the list, and see's if they match\ndef comparelist(dicetoroll,attempts):\n\n    #continue doing this unless break or return\n    while True:\n        fillthelist(dicetoroll)\n        #print statement used to make sure this was running\n        print dierolls\n        #print statment used to see if this section of code was running\n        print(all(dierolls[0] == elem for elem in dierolls))\n\n        #gives a check to make sure the code is running and not stopped by\n        #printing a result every 100 attempts\n        if attempts%100 == True:\n            print attempts\n        else:\n            pass\n\n        #does the actual check to see if all items in the list are the same\n        if all(dierolls[0] == elem for elem in dierolls):\n            #if all items in list are the same, go to the results function\n            wongame(attempts)\n            #break out of the loop\n            break\n        else:\n            #increment the attempts counter, and try again\n            attempts += 1\n     return #if you want the function to return something\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5688496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3baaf1ad177561858abf5a78254cdef0?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5688496/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 34322567, "answer_count": 2, "score": 0, "last_activity_date": 1450302024, "creation_date": 1450301143, "question_id": 34322402, "link": "https://stackoverflow.com/questions/34322402/recursion-errors-in-a-dice-rolling-simluation-how-long-to-match-x-dice-in-one", "title": "Recursion errors in a dice rolling simluation (how long to match &#39;x&#39; dice in one roll)", "body": "<p>OK, so very, very new to coding and python.  </p>\n\n<p>Goal of this script:  How many times do you have to roll 'x' dice to have them all come up the same value?</p>\n\n<p>Here's what it tries to do:\nTake a number of dice from the user\nSimulate rolling all those dice\nIf all the dice match, print out how many attempts were made to succeed, if they don't match, try again.</p>\n\n<p>Here's what happens:</p>\n\n<p>If the user input a small number of dice, 1-4 or so, it works fine.  </p>\n\n<p>Once the user inputs 5 dice (or more) it runs into a 'maximum recursion depth exceeded while calling a python object' error.  it appears to be part of the call to  random.randint </p>\n\n<p>I'm hoping someone can give me a little guidance as to how to avoid this error, given that I'm not sure why the recursion becomes infinite.  I have attempted to comment my code so that it makes sense (at least to me).  </p>\n\n<p>If it matters, I am working in python 2.6 in the Enthought Canopy environment.</p>\n\n<pre><code>import random\n\n#create the empty list to store values\ndierolls = []  \n\n#used to roll ythe dice\ndef diceroll():  \n    return random.randint(1,6)\n\n#gets user input to determine how many dice we are rollin    \ndef askfornumofdicetoroll():  \n    return int(input(\"How many dice should we roll?\"))\n\n#fills the dierolls list with the appropriate     \ndef fillthelist(dicecount): \n    #empty the list and start fresh each iteration\n    dierolls[:] = []\n\n    #input a die roll for each die the user says to roll\n    for i in range(0,dicecount):\n        dierolls.append(diceroll())\n    #print dierolls #used to check that this code was running\n    return dierolls\n\n#what to do when all the dice match\ndef wongame(attempts):\n    print(\"You matched all the dice in\", attempts , \"tries\")\n\n#compares all the items in the list, and see's if they match\ndef comparelist(dicetoroll,attempts):\n\n    fillthelist(dicetoroll)\n    #print statement used to make sure this was running\n    print dierolls\n    #print statment used to see if this section of code was running\n    print(all(dierolls[0] == elem for elem in dierolls))\n\n    #gives a check to make sure the code is running and not stopped by\n    #printing a result every 100 attempts\n    if attempts%100 == True:\n        print attempts\n    else:\n        pass\n\n    #does the actual check to see if all items in the list are the same\n    if all(dierolls[0] == elem for elem in dierolls):\n        #if all items in list are the same, go to the results function\n        wongame(attempts)\n    else:\n        #increment the attempts counter, and try again\n        attempts += 1\n        comparelist(dicetoroll, attempts)  \n\n#runs the program\ndef main():\n    attempts = 1\n    dicetoroll = askfornumofdicetoroll()\n    comparelist(dicetoroll,attempts)\n</code></pre>\n"}, {"tags": ["python", "django", "web-services", "django-views"], "comments": [{"owner": {"reputation": 2507, "user_id": 4364572, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f6ffcd1d5e5c0b2f8613afb95429f27?s=128&d=identicon&r=PG", "display_name": "utkbansal", "link": "https://stackoverflow.com/users/4364572/utkbansal"}, "edited": false, "score": 1, "creation_date": 1450304994, "post_id": 34322334, "comment_id": 56388466, "body": "So you want the xml file to be downloaded by the browser, right?"}, {"owner": {"reputation": 483, "user_id": 4552571, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/583765e69a8258d39de198b5143d47d8?s=128&d=identicon&r=PG&f=1", "display_name": "joselegit", "link": "https://stackoverflow.com/users/4552571/joselegit"}, "reply_to_user": {"reputation": 2507, "user_id": 4364572, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f6ffcd1d5e5c0b2f8613afb95429f27?s=128&d=identicon&r=PG", "display_name": "utkbansal", "link": "https://stackoverflow.com/users/4364572/utkbansal"}, "edited": false, "score": 0, "creation_date": 1450364957, "post_id": 34322334, "comment_id": 56416984, "body": "yes, I want be able to choose to download the file or only read the file in  the template, because sometimes the response have a lot of information or a little information. The response depends of the WS previously selected for the user"}], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 4552571, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/583765e69a8258d39de198b5143d47d8?s=128&d=identicon&r=PG&f=1", "display_name": "joselegit", "link": "https://stackoverflow.com/users/4552571/joselegit"}, "edited": false, "score": 0, "creation_date": 1450452232, "post_id": 34342744, "comment_id": 56459161, "body": "I have a doubt. I need to create other view to pass the response and made it able to download or I can use the that I am using actually. Following your suggestion how can pass the variables and the template name."}, {"owner": {"reputation": 2507, "user_id": 4364572, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f6ffcd1d5e5c0b2f8613afb95429f27?s=128&d=identicon&r=PG", "display_name": "utkbansal", "link": "https://stackoverflow.com/users/4364572/utkbansal"}, "reply_to_user": {"reputation": 483, "user_id": 4552571, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/583765e69a8258d39de198b5143d47d8?s=128&d=identicon&r=PG&f=1", "display_name": "joselegit", "link": "https://stackoverflow.com/users/4552571/joselegit"}, "edited": false, "score": 0, "creation_date": 1450458313, "post_id": 34342744, "comment_id": 56462942, "body": "So you want to show it on a page and there give a download button?"}, {"owner": {"reputation": 483, "user_id": 4552571, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/583765e69a8258d39de198b5143d47d8?s=128&d=identicon&r=PG&f=1", "display_name": "joselegit", "link": "https://stackoverflow.com/users/4552571/joselegit"}, "edited": false, "score": 0, "creation_date": 1450709726, "post_id": 34342744, "comment_id": 56538052, "body": "yes. I try passing the data to the template, but when I download the file only say <code>[object object]</code>"}], "tags": [], "owner": {"reputation": 2507, "user_id": 4364572, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f6ffcd1d5e5c0b2f8613afb95429f27?s=128&d=identicon&r=PG", "display_name": "utkbansal", "link": "https://stackoverflow.com/users/4364572/utkbansal"}, "is_accepted": false, "score": 0, "last_activity_date": 1450380652, "creation_date": 1450380652, "answer_id": 34342744, "question_id": 34322334, "link": "https://stackoverflow.com/questions/34322334/serve-web-service-response-to-download-as-file/34342744#34342744", "title": "Serve web service response to download as file", "body": "<p>To make a file downloadable, you just need to change one HTTP Header, Content-Disposition.</p>\n\n<pre><code>def some_view(response):\n    xmlFile = open(pathout, 'r')\n    myfile = FileWrapper(xmlFile)\n    response = HttpResponse(myfile, content_type='application/xml')\n    response['Content-Disposition'] = 'attachment; filename='+filename\n    return response\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 4552571, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/583765e69a8258d39de198b5143d47d8?s=128&d=identicon&r=PG&f=1", "display_name": "joselegit", "link": "https://stackoverflow.com/users/4552571/joselegit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 668, "favorite_count": 0, "closed_date": 1450543095, "answer_count": 1, "score": 2, "last_activity_date": 1450380652, "creation_date": 1450300917, "question_id": 34322334, "link": "https://stackoverflow.com/questions/34322334/serve-web-service-response-to-download-as-file", "closed_reason": "Duplicate", "title": "Serve web service response to download as file", "body": "<p>I have a template where I render a response from a web service.</p>\n\n<pre><code>def XMLResponseView9request):\n    ...\n    with open(archivo_request,\"r\") as archivo:\n         request_data = archivo.read()\n\n    headers = {'Content-type':'text/xml'}\n    data_response = requests.post(target_url, data=request_data, headers=headers)\n    jdato = xmltodict.parse(data_response.content)\n    data_xml = data_response.text\n    data_template = json.dumps(jdato)\n\n    return render_to_response('response.html',\n                              {'data':data_template,'dataxml':data_xml},\n                              context_instance=RequestContext(request))\n</code></pre>\n\n<p>Beside of render the response I want to serve the response as a file (xml or txt) to be downloaded.</p>\n\n<p>I try passing the response as text (variable: data_xml) and served through a simple javascript function, but the file is empty or only have one line \"[object Object]\".</p>\n\n<p>Is possible serve the response as file from the DJANGO view instead of passing the text to the template.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "django", "azure", "azure-cloud-services", "django-storage"], "answers": [{"tags": [], "owner": {"reputation": 13274, "user_id": 4989668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6Z4G.jpg?s=128&g=1", "display_name": "Gary Liu - MSFT", "link": "https://stackoverflow.com/users/4989668/gary-liu-msft"}, "is_accepted": true, "score": 2, "last_activity_date": 1450320544, "creation_date": 1450320544, "answer_id": 34325809, "question_id": 34322310, "link": "https://stackoverflow.com/questions/34322310/setting-url-of-django-imagefield-model-attribute-via-custom-storage-written-for/34325809#34325809", "title": "Setting url of Django Imagefield model attribute via custom storage written for Azure Cloud Storage", "body": "<p>The Blobs in Azure Blob Storage have their own unique urls for accessing. The URL is in the format: <code>http://&lt;your_storage_name&gt;.blob.core.windows.net/&lt;container_name&gt;/&lt;blob_name&gt;</code>, you can directly access it in browser, if you set the access permission of blob to public.</p>\n\n<p>To your issue, if it is not sensitive to your images in Blob Storage, you can simply set access permission to <code>public blob</code> to allow public read access to the blobs in the container, but not the container properties and metadata.   </p>\n\n<p>Login in <a href=\"https://manage.windowsazure.com/\" rel=\"nofollow noreferrer\">Azure mange portal</a>, click storage tab in left nav, click your storage name in the list to step in your storage manage page, click <strong>CONTAINERS</strong> tab, select the specific container name, click the <strong>EDIT</strong> button in bottom, change the access permission and click OK button to save the configuration:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OymSp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OymSp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Click the container name we can step in the list of blobs in this container. We can copy the URL of an item, visit in browser to have a check.</p>\n\n<p>And per my understanding, if you want to show the images after uploading to Azure storage, we just need a few modification on the original code.</p>\n\n<p>In the custom storage class, assume the function <code>url()</code> should return the correct the URL. In my test, I directly return the URL string for a quick test:</p>\n\n<pre><code>def geturl(self,name):\n    return '%s/%s/%s' % ('http://garyteststorage.blob.core.windows.net','mycontainer', name)\n</code></pre>\n\n<p>And we can modify the return of function <code>_save()</code> to the <code>URL</code> of the image class instead of <code>name</code>:</p>\n\n<pre><code>url = self.geturl(name)\nreturn url\n#return name\n</code></pre>\n\n<p><strong>In models.py</strong>:</p>\n\n<pre><code>def upload_path(instance, filename):\n    return 'uploads-from-custom-storage-{}'.format(filename)\n\nclass Photo(models.Model):\n    #description = models.TextField(validators=[MaxLengthValidator(500)])\n    #submitted_on = models.DateTimeField(auto_now_add=True)\n    image_file = models.ImageField(upload_to=upload_path, storage=OverwriteStorage(), null=True, blank=True )\n</code></pre>\n\n<p>As before, it will save the image name in database, and after modification, it will save the full url of blob in database.</p>\n\n<p>code snippet <strong>In view.py</strong>:</p>\n\n<pre><code>if form.is_valid():\n    newImage = Photo(image_file = request.FILES['image_file'])\n    newImage.save()\n    imageurl = newImage.image_file\n    html = \"&lt;img src=%s&gt;&lt;/img&gt;&lt;br&gt;\" %imageurl\n    # Redirect to the document list after POST\n    return HttpResponse(html)\n</code></pre>\n"}], "owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1200, "favorite_count": 1, "accepted_answer_id": 34325809, "answer_count": 1, "score": 1, "last_activity_date": 1450320544, "creation_date": 1450300813, "last_edit_date": 1450301293, "question_id": 34322310, "link": "https://stackoverflow.com/questions/34322310/setting-url-of-django-imagefield-model-attribute-via-custom-storage-written-for", "title": "Setting url of Django Imagefield model attribute via custom storage written for Azure Cloud Storage", "body": "<p>I have a Django web app where users upload images and others view them. I have a custom storage class in this app to upload image files to Azure Cloud Storage. Currently images are being uploaded successfully, <strong>but their urls are not being set.</strong> Thus, the following code in my template yields a <a href=\"http://www.clker.com/cliparts/J/h/C/1/o/C/broken-file-icon-hi.png\" rel=\"nofollow\">broken image</a>:</p>\n\n<pre><code>{% if entry.image_file %}\n&lt;img src=\"{{ entry.image_file.url }}\"&gt;&lt;/img&gt;&lt;br&gt;\n{% endif %}\n</code></pre>\n\n<p>Can you point out what my custom storage class is missing? Here's how it appears in my <strong>models.py</strong> currently:</p>\n\n<pre><code>from django.db import models\nimport os\nfrom django.conf import settings\nfrom django.core.files.storage import Storage\nfrom azure.storage.blob import BlobService\naccountName = 'accname'\naccountKey = 'acckey'\n\nclass OverwriteStorage(Storage):\n    container = 'containername'\n    account_name = accountName\n    account_key = accountKey\n\n    def __init__(self, account_name=None, account_key=None, container=None):\n\n        if account_name is not None:\n            self.account_name = account_name\n\n        if account_key is not None:\n            self.account_key = account_key\n\n        if container is not None:\n            self.container = container\n    def __getstate__(self):\n        return dict(\n            account_name=self.account_name,\n            account_key=self.account_key,\n            container=self.container\n        )\n    def _save(self,name,content):\n        blob_service = BlobService(account_name=accountName, account_key=accountKey)\n        import mimetypes\n        content.open()\n        content_type = None\n        if hasattr(content.file, 'content_type'):\n            content_type = content.file.content_type\n        else:\n            content_type = mimetypes.guess_type(name)[0]\n        print content_type\n        content_str = content.read()\n        blob_service.put_blob(\n            'containername',\n            name,\n            content_str,\n            x_ms_blob_type='BlockBlob',\n            x_ms_blob_content_type=content_type\n        )\n        content.close()\n        return name\n    def get_available_name(self,name):\n        return name\n    def _get_service(self):\n        if not hasattr(self, '_blob_service'):\n            self._blob_service = BlobService(\n                account_name=self.account_name,\n                account_key=self.account_key,\n                protocol='http'\n            )\n        return self._blob_service\n    def _open(self, name, mode='rb'):\n        from django.core.files.base import ContentFile\n        contents = self._get_service().get_blob(self.container, name)\n        return ContentFile(contents)\n    def _get_properties(self, name):\n        return self._get_service().get_blob_properties(\n            self.container,\n            name\n        )\n    def _get_container_url(self):\n        if not hasattr(self, '_container_url'):\n            base_url = '{protocol}://{host}/{container}'\n            if self.cdn_host:\n                base_url = self.cdn_host\n            self._container_url = base_url.format({\n                'protocol': 'http',\n                'host': self._get_service()._get_host(),\n                'container': self.container,\n            })\n        return self._container_url\n    def url(self, name):\n        url = '%s/%s' % (self._get_container_url(), name)\n        return url\n\nclass Entry(models.Model):\n    description = models.TextField(validators=[MaxLengthValidator(500)])\n    submitted_on = models.DateTimeField(auto_now_add=True)\n    image_file = models.ImageField(upload_to=upload_to_location, storage=OverwriteStorage(), null=True, blank=True )\n</code></pre>\n\n<p>The example I'm following is <a href=\"https://github.com/Rediker-Software/django-azure-storage/blob/master/azure_storage/storage.py\" rel=\"nofollow\">here</a>. I have looked at <a href=\"https://docs.djangoproject.com/en/1.9/ref/files/storage/#django.core.files.storage.Storage.url\" rel=\"nofollow\">django documentation</a> for custom file storage, and if you scroll through the code I've pasted above, I've defined a <code>url(self, name):</code> method. Yet this doesn't get called (I've tested it with a <code>print</code> statement). Please advise!</p>\n"}, {"tags": ["python", "logging"], "answers": [{"tags": [], "owner": {"reputation": 1436, "user_id": 727238, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5d098a48ad5efbe0e59cb39b36b8bb36?s=128&d=identicon&r=PG", "display_name": "ardabro", "link": "https://stackoverflow.com/users/727238/ardabro"}, "is_accepted": false, "score": 0, "last_activity_date": 1450301113, "creation_date": 1450301113, "answer_id": 34322394, "question_id": 34322297, "link": "https://stackoverflow.com/questions/34322297/how-to-gather-all-modules-loggers-under-one-parent/34322394#34322394", "title": "how to gather all module&#39;s loggers under one parent?", "body": "<p>Ok I found the answer. The master parent for all loggers is root logger - no mater it's name doesn't appear in the canonical name.</p>\n"}], "owner": {"reputation": 1436, "user_id": 727238, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5d098a48ad5efbe0e59cb39b36b8bb36?s=128&d=identicon&r=PG", "display_name": "ardabro", "link": "https://stackoverflow.com/users/727238/ardabro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 13, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450301113, "creation_date": 1450300780, "question_id": 34322297, "link": "https://stackoverflow.com/questions/34322297/how-to-gather-all-modules-loggers-under-one-parent", "title": "how to gather all module&#39;s loggers under one parent?", "body": "<p>I understand and like the idea of hierarchical structure of loggers with canonical module name as the name of the logger. But I don't know how to tie everything up at the top level.\nSupposing I have application using </p>\n\n<p><strong>package1.subpackage1.module1</strong> and </p>\n\n<p><strong>package2.subpackage2.module2</strong>. </p>\n\n<p>And now I'd like to define one handler and one formatter for all. But I don't want to enumerate all module's loggers and setup them separately.\nIt seems that all module loggers should be automagically attached somewhere to \"master\" logger, where the only handler is defined. \nHow to achieve this?</p>\n"}, {"tags": ["python", "warnings", "openpyxl", "user-warning"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1450301886, "post_id": 34322231, "comment_id": 56386894, "body": "Where is this <code>xlsx</code> file coming from? What tool was used to create it? Thanks."}, {"owner": {"reputation": 167, "user_id": 4220069, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d497bf261645b28c19a6d721fca4bb1?s=128&d=identicon&r=PG&f=1", "display_name": "jcmcdonald", "link": "https://stackoverflow.com/users/4220069/jcmcdonald"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1450302517, "post_id": 34322231, "comment_id": 56387215, "body": "The .xlsx file is coming from the same folder as the python file. I created it using Microsoft Excel for Mac 2011(version 14.5.9)."}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 4220069, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d497bf261645b28c19a6d721fca4bb1?s=128&d=identicon&r=PG&f=1", "display_name": "jcmcdonald", "link": "https://stackoverflow.com/users/4220069/jcmcdonald"}, "edited": false, "score": 4, "creation_date": 1450303658, "post_id": 34322752, "comment_id": 56387765, "body": "Sorry for my ignorance but are you saying that openpyxl cannot understand/read .xlsx files?  If I were to add read_only = True to this line.. wb = load_workbook(&#39;NFL.xlsx&#39;, read_only = True, data_only = True). I no longer receive this warning message."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 167, "user_id": 4220069, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d497bf261645b28c19a6d721fca4bb1?s=128&d=identicon&r=PG&f=1", "display_name": "jcmcdonald", "link": "https://stackoverflow.com/users/4220069/jcmcdonald"}, "edited": false, "score": 2, "creation_date": 1450303733, "post_id": 34322752, "comment_id": 56387791, "body": "@jcmcdonald nope, I&#39;m saying there is an extension/feature used inside the file that openpyxl cannot understand. And, yes, if you need data only, <code>date_only</code> would make it not parse the extensions at all. Hope that helps."}, {"owner": {"reputation": 167, "user_id": 4220069, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d497bf261645b28c19a6d721fca4bb1?s=128&d=identicon&r=PG&f=1", "display_name": "jcmcdonald", "link": "https://stackoverflow.com/users/4220069/jcmcdonald"}, "edited": false, "score": 1, "creation_date": 1450304141, "post_id": 34322752, "comment_id": 56388019, "body": "Sorry again. Is there away to avoid the warning?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 167, "user_id": 4220069, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d497bf261645b28c19a6d721fca4bb1?s=128&d=identicon&r=PG&f=1", "display_name": "jcmcdonald", "link": "https://stackoverflow.com/users/4220069/jcmcdonald"}, "edited": false, "score": 0, "creation_date": 1450304333, "post_id": 34322752, "comment_id": 56388123, "body": "@jcmcdonald that&#39;s what would be not easy without seeing the actual file. See if you can share it (no need for any private data inside it please). Thanks."}, {"owner": {"reputation": 167, "user_id": 4220069, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d497bf261645b28c19a6d721fca4bb1?s=128&d=identicon&r=PG&f=1", "display_name": "jcmcdonald", "link": "https://stackoverflow.com/users/4220069/jcmcdonald"}, "edited": false, "score": 0, "creation_date": 1450304842, "post_id": 34322752, "comment_id": 56388392, "body": "Thanks for the help. Even if I open a brand new blank .xlsx document, save it to the same directory and change the file name in the code I still get the same error."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 167, "user_id": 4220069, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d497bf261645b28c19a6d721fca4bb1?s=128&d=identicon&r=PG&f=1", "display_name": "jcmcdonald", "link": "https://stackoverflow.com/users/4220069/jcmcdonald"}, "edited": false, "score": 0, "creation_date": 1450308046, "post_id": 34322752, "comment_id": 56389801, "body": "@jcmcdonald sure, please share the file, I mean. Thanks."}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 2, "creation_date": 1450338778, "post_id": 34322752, "comment_id": 56400016, "body": "The warnings refer to extensions that Microsoft has added to the file format since 2006. They are not covered by the specification."}, {"owner": {"reputation": 1217, "user_id": 2193381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/643fd74e5365aaaf1717eabf643f5162?s=128&d=identicon&r=PG&f=1", "display_name": "Vishal", "link": "https://stackoverflow.com/users/2193381/vishal"}, "edited": false, "score": 2, "creation_date": 1527666573, "post_id": 34322752, "comment_id": 88207388, "body": "How do I handle the Warning? Also, can I determine the offending built-in extension? How would I do that?"}, {"owner": {"reputation": 451, "user_id": 1749240, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/babd74dc36d20bcd78d1433c54a66c07?s=128&d=identicon&r=PG", "display_name": "Amir Katz", "link": "https://stackoverflow.com/users/1749240/amir-katz"}, "edited": false, "score": 0, "creation_date": 1581434658, "post_id": 34322752, "comment_id": 106427575, "body": "The flag data_only=True <b>does NOT</b> cover extensions, so it seems that there is currently no way to suppress this warning."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 7, "last_activity_date": 1450352588, "last_edit_date": 1450352588, "creation_date": 1450302670, "answer_id": 34322752, "question_id": 34322231, "link": "https://stackoverflow.com/questions/34322231/python-2-7-openpyxl-userwarning/34322752#34322752", "title": "Python 2.7 Openpyxl UserWarning", "body": "<p>This error happens when <code>openpyxl</code> cannot understand/read an extension (<a href=\"https://bitbucket.org/openpyxl/openpyxl/src/59d472f008dbbe2f99c487879709204115090e93/openpyxl/reader/worksheet.py?at=default&amp;fileviewer=file-view-default#worksheet.py-317:322\" rel=\"noreferrer\">source</a>). Here is the <a href=\"https://bitbucket.org/openpyxl/openpyxl/src/59d472f008dbbe2f99c487879709204115090e93/openpyxl/xml/constants.py?at=default&amp;fileviewer=file-view-default#constants.py-103:113\" rel=\"noreferrer\">list of built-in extensions <code>openpyxl</code> currently knows that is doesn't support</a>:</p>\n\n<ul>\n<li>Conditional Formatting</li>\n<li>Data Validation</li>\n<li>Sparkline Group</li>\n<li>Slicer List</li>\n<li>Protected Range</li>\n<li>Ignored Error</li>\n<li>Web Extension</li>\n<li>Slicer List</li>\n<li>Timeline Ref</li>\n</ul>\n\n<p>Also see the <a href=\"https://msdn.microsoft.com/en-us/library/dd905242(v=office.12).aspx\" rel=\"noreferrer\">Worksheet extension list specification</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8447568, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eoIz0_8nCTE/AAAAAAAAAAI/AAAAAAAAAB0/PGuxWvKF8cs/photo.jpg?sz=128", "display_name": "Lawrence Niculescu", "link": "https://stackoverflow.com/users/8447568/lawrence-niculescu"}, "is_accepted": false, "score": 2, "last_activity_date": 1502395999, "creation_date": 1502395999, "answer_id": 45622738, "question_id": 34322231, "link": "https://stackoverflow.com/questions/34322231/python-2-7-openpyxl-userwarning/45622738#45622738", "title": "Python 2.7 Openpyxl UserWarning", "body": "<p>Using python 3.5 under Anaconda3, Excel 2016, Windows10 -- I had the same problem initially with an xlsx file. Tried to make it into a csv and did not work. What worked was: select the entire spreadsheet, copy on a Notepad, select the notepad text, paste in a new spreadsheet, save as xslx. It looks like any extra formatting would result in a warning.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5874966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tr9Dk9sawOo/AAAAAAAAAAI/AAAAAAAAAHc/UKcnuUQpuFI/photo.jpg?sz=128", "display_name": "lug0lug0", "link": "https://stackoverflow.com/users/5874966/lug0lug0"}, "is_accepted": false, "score": 2, "last_activity_date": 1559584171, "last_edit_date": 1559584171, "creation_date": 1559583912, "answer_id": 56432207, "question_id": 34322231, "link": "https://stackoverflow.com/questions/34322231/python-2-7-openpyxl-userwarning/56432207#56432207", "title": "Python 2.7 Openpyxl UserWarning", "body": "<p>Try to add single quotes to your data_only parameter like this:</p>\n\n<pre><code>wb = load_workbook('NFL.xlsx', data_only = **'True'**)\n</code></pre>\n\n<p>This works for me.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 12241001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87d7117d51360342c26100f90b06168?s=128&d=identicon&r=PG&f=1", "display_name": "KillerKingTR", "link": "https://stackoverflow.com/users/12241001/killerkingtr"}, "reply_to_user": {"reputation": 1882, "user_id": 10880993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NvxDM.png?s=128&g=1", "display_name": "Beniamin H", "link": "https://stackoverflow.com/users/10880993/beniamin-h"}, "edited": false, "score": 0, "creation_date": 1571613136, "post_id": 58477661, "comment_id": 103288553, "body": "yeah i know but i get the output I want and I need to hide error i couldnt find a way to get rid of it so I did it that way"}], "tags": [], "owner": {"reputation": 11, "user_id": 12241001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87d7117d51360342c26100f90b06168?s=128&d=identicon&r=PG&f=1", "display_name": "KillerKingTR", "link": "https://stackoverflow.com/users/12241001/killerkingtr"}, "is_accepted": false, "score": 0, "last_activity_date": 1571608553, "creation_date": 1571608553, "answer_id": 58477661, "question_id": 34322231, "link": "https://stackoverflow.com/questions/34322231/python-2-7-openpyxl-userwarning/58477661#58477661", "title": "Python 2.7 Openpyxl UserWarning", "body": "<p>It is already listed in the first answer what is wrong with it If you only want to get rid of the error that is given in red for some reason. You can go to the file location of the error and <code>#</code> the line where is says warn(msg) this will stop the error being displayed the code still works fine in my experience.I am not sure if this will work after compiled but this should work in the same machine.\nPS:I had the same error and this is what I did because I though it could be confusing for the end user\nPS:You can use a try and except error catcher too but this is quicker.</p>\n"}], "owner": {"reputation": 167, "user_id": 4220069, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d497bf261645b28c19a6d721fca4bb1?s=128&d=identicon&r=PG&f=1", "display_name": "jcmcdonald", "link": "https://stackoverflow.com/users/4220069/jcmcdonald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25516, "favorite_count": 4, "answer_count": 4, "score": 8, "last_activity_date": 1577979834, "creation_date": 1450300575, "last_edit_date": 1577979834, "question_id": 34322231, "link": "https://stackoverflow.com/questions/34322231/python-2-7-openpyxl-userwarning", "title": "Python 2.7 Openpyxl UserWarning", "body": "<p>Why do I receive this warning message every time I run my code? (below). Is it possible to get rid of it? If so, how do I do that?</p>\n\n<p>My code:</p>\n\n<pre><code>from openpyxl import load_workbook\nfrom openpyxl import Workbook\n\nwb = load_workbook('NFL.xlsx', data_only = True)\nws = wb.active\nsh = wb[\"Sheet1\"]\n\n\nptsDiff = (sh['J127'].value)\nprint ptsDiff\n</code></pre>\n\n<p>The code works but I get this warning message:</p>\n\n<pre><code>Warning (from warnings module):\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/openpyxl/reader/worksheet.py\", line 320\nwarn(msg)\nUserWarning: Unknown extension is not supported and will be removed\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 950, "user_id": 3614855, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/267970129056459ed1a52d4373fc438b?s=128&d=identicon&r=PG&f=1", "display_name": "fiacre", "link": "https://stackoverflow.com/users/3614855/fiacre"}, "edited": false, "score": 2, "creation_date": 1450300656, "post_id": 34322216, "comment_id": 56386268, "body": "Put it anywhere django will find it.  I often have a utils module for general purpose utilities."}, {"owner": {"reputation": 335, "user_id": 3709339, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b38525e811ad102d2f7d6a919ef5c756?s=128&d=identicon&r=PG&f=1", "display_name": "Silvestrini", "link": "https://stackoverflow.com/users/3709339/silvestrini"}, "edited": false, "score": 0, "creation_date": 1450300893, "post_id": 34322216, "comment_id": 56386387, "body": "Thank you for the answers! But if I put it in a separate file and then import it, how do I print the attributes in a HTML template? I know that through the functions in the views.py I must return the request and template name. Yet I can&#39;t seem to &quot;pass&quot; my attributes to the template page."}, {"owner": {"reputation": 2830, "user_id": 856070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3aeef5f536776e6a56b1581a2a0fee?s=128&d=identicon&r=PG", "display_name": "jcfollower", "link": "https://stackoverflow.com/users/856070/jcfollower"}, "edited": false, "score": 0, "creation_date": 1450301621, "post_id": 34322216, "comment_id": 56386749, "body": "<code>return render_to_response(&#39;my_page.html&#39;, template_values_dict, ...)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 3709339, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b38525e811ad102d2f7d6a919ef5c756?s=128&d=identicon&r=PG&f=1", "display_name": "Silvestrini", "link": "https://stackoverflow.com/users/3709339/silvestrini"}, "edited": false, "score": 0, "creation_date": 1450302539, "post_id": 34322636, "comment_id": 56387235, "body": "And after I successfully imported my class, how do I pass the attributes to an HTML template? Do I return an object of the class created in the views.py with the render() or render_to_response?"}, {"owner": {"reputation": 1425, "user_id": 357631, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4961fbcd89536082eb7b2def765388df?s=128&d=identicon&r=PG", "display_name": "Patrick Beeson", "link": "https://stackoverflow.com/users/357631/patrick-beeson"}, "edited": false, "score": 0, "creation_date": 1450308286, "post_id": 34322636, "comment_id": 56389893, "body": "Check my answer for an idea of how to do this"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 335, "user_id": 3709339, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b38525e811ad102d2f7d6a919ef5c756?s=128&d=identicon&r=PG&f=1", "display_name": "Silvestrini", "link": "https://stackoverflow.com/users/3709339/silvestrini"}, "edited": false, "score": 0, "creation_date": 1450308934, "post_id": 34322636, "comment_id": 56390113, "body": "@Silvestrini, See my response at the bottom of my answer."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": 5, "last_activity_date": 1450313764, "last_edit_date": 1450313764, "creation_date": 1450302117, "answer_id": 34322636, "question_id": 34322216, "link": "https://stackoverflow.com/questions/34322216/where-to-implement-python-classes-in-django/34322636#34322636", "title": "Where to implement python classes in Django?", "body": "<blockquote>\n  <p>I don't know where do the Python classes I write go. Like they go in\n  a separate file and then are imported to the views.py.\n  Example I want to implement a Class Alphabet.</p>\n</blockquote>\n\n<p>It's just a matter of getting your import statement correct:</p>\n\n<pre><code>django_proj1/\n   django_proj1/\n   myapp/\n      myclasses.py\n      views.py\n</code></pre>\n\n<p>Then in your view:</p>\n\n<pre><code>#myapp/views.py:\nfrom myapp.myclasses import Alphabet\n</code></pre>\n\n<p>Or, you could do it like this:</p>\n\n<pre><code>django_proj1/\n   django_proj1/\n      myclasses.py\n   myapp/\n      views.py\n</code></pre>\n\n<p>And in your view:</p>\n\n<pre><code>#myapp/views.py:\nfrom django_proj1.myclasses import Alphabet\n</code></pre>\n\n<p><strong>Response to comment:</strong></p>\n\n<blockquote>\n  <p>And after I successfully imported my class, how do I pass the\n  attributes to an HTML template?</p>\n</blockquote>\n\n<p>The following is straight from the official <a href=\"https://docs.djangoproject.com/en/1.8/intro/tutorial03/#write-views-that-actually-do-something\" rel=\"nofollow\">django tutorial</a>.</p>\n\n<p><strong>myapp/views.py</strong>:</p>\n\n<pre><code>from django.shortcuts import render\nfrom django.http import HttpResponse\n\nfrom myapp.myclasses import Alphabet  #&lt;*** Import your class.\nfrom django.template import RequestContext, loader  #&lt;*** Import stuff for the template.\n\n# Create your views here.\n\ndef index(request):\n    alph = Alphabet()\n    result = alph.change('hello')  #Your class produces some result here.\n\n    template = loader.get_template(\"myapp/index.html\")\n    context = RequestContext(request, {\n        'x' : result   #&lt;*** Make a variable named x available in your template.\n    })\n\n    return HttpResponse(template.render(context))\n</code></pre>\n\n<p>The <code>directory structure</code> looks like this:</p>\n\n<pre><code>django_proj1/\n   django_proj1/\n   myapp/\n      myclasses.py\n      views.py\n      templates/  &lt;***Create this directory \n          myapp/  &lt;***Create this directory\n             index.html  &lt;***Create this file\n</code></pre>\n\n<p><strong>myapp/templates/myapp/index.html</strong>:</p>\n\n<pre><code>{% if x %}\n&lt;div&gt;The result you requested was: {{x}}&lt;/div&gt;\n{% else %}\n&lt;div&gt;Sorry, couldn't get the result.&lt;/div&gt;\n{% endif %}\n</code></pre>\n\n<p><strong>myapp/myclasses.py</strong>:</p>\n\n<pre><code>class Alphabet:\n    def change(self, word):\n        return word + 'Z'\n</code></pre>\n\n<p><strong>Start the server</strong>:</p>\n\n<pre><code>.../my_django_projects/django_proj1$ python manage.py runserver\n</code></pre>\n\n<p><strong>url in your browser</strong>:</p>\n\n<pre><code>http://localhost:8000/myapp/\n</code></pre>\n\n<p>You should see:</p>\n\n<blockquote>\n  <p>The result you requested was: helloZ</p>\n</blockquote>\n\n<p>If you comment out the following line in <code>myapp/views.py</code>:</p>\n\n<pre><code>    context = RequestContext(request, {\n        #'x' : result   #&lt;*** Make a variable named x available in your template.\n    })\n</code></pre>\n\n<p>Then the template will send the <code>else</code> portion of <code>index.html</code> to the browser:</p>\n\n<blockquote>\n  <p>Sorry, couldn't get the result.</p>\n</blockquote>\n\n<p><strong>django_proj1/django_proj1/urls.py</strong>:</p>\n\n<pre><code>from django.conf.urls import patterns, include, url\nfrom django.contrib import admin\n\nfrom . import views\n\nurlpatterns = patterns('',\n    # Examples:\n    # url(r'^$', 'dj1.views.home', name='home'),\n    # url(r'^blog/', include('blog.urls')),\n\n    url(r'^admin/', include(admin.site.urls)),\n\n    url(r'^myapp/', include('myapp.urls')),\n\n)\n</code></pre>\n\n<p><strong>django_proj1/myapp/urls.py:</strong></p>\n\n<pre><code>from django.conf.urls import url\n\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1425, "user_id": 357631, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4961fbcd89536082eb7b2def765388df?s=128&d=identicon&r=PG", "display_name": "Patrick Beeson", "link": "https://stackoverflow.com/users/357631/patrick-beeson"}, "is_accepted": false, "score": 3, "last_activity_date": 1450308271, "last_edit_date": 1450308271, "creation_date": 1450302136, "answer_id": 34322639, "question_id": 34322216, "link": "https://stackoverflow.com/questions/34322216/where-to-implement-python-classes-in-django/34322639#34322639", "title": "Where to implement python classes in Django?", "body": "<p>Django is just Python at the end of the day.</p>\n\n<p>You can create new modules anywhere in your project, and import them into your views, models, urls, etc. This is often how you'd organize general utils (utils.py).</p>\n\n<p>You can deliver data to your views in a few ways, for instance:</p>\n\n<pre><code>from your_module import some_object\n\nclass MyView(TemplateView):\n    template_name = 'some_template.html'\n\n    def get_context_data(self, **kwargs):\n        context = super(MyView, self).get_context_data(**kwargs)\n        context['my_data'] = some_object.some_method()\n        return context\n</code></pre>\n\n<p>And in <code>some_template.html</code>: <code>{{ my_data }}</code></p>\n"}, {"tags": [], "owner": {"reputation": 532, "user_id": 2698109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d49915a82317e20c5e7e6905d0d6be?s=128&d=identicon&r=PG", "display_name": "eribeiro", "link": "https://stackoverflow.com/users/2698109/eribeiro"}, "is_accepted": false, "score": 1, "last_activity_date": 1450303500, "creation_date": 1450303500, "answer_id": 34322974, "question_id": 34322216, "link": "https://stackoverflow.com/questions/34322216/where-to-implement-python-classes-in-django/34322974#34322974", "title": "Where to implement python classes in Django?", "body": "<p>It depends on the scope of the Alphabet class. If it is a utility class then I would suggest to put in a utils.py file, for example. But it is perfectly fine to have classes in the views.py file, mainly those dealing with UI processing. Up to you. </p>\n"}, {"tags": [], "owner": {"reputation": 10796, "user_id": 1105249, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/083d54b8327a76a1dcf57df507ab7b34?s=128&d=identicon&r=PG", "display_name": "Luis Masuelli", "link": "https://stackoverflow.com/users/1105249/luis-masuelli"}, "is_accepted": false, "score": 1, "last_activity_date": 1450309571, "creation_date": 1450309571, "answer_id": 34324293, "question_id": 34322216, "link": "https://stackoverflow.com/questions/34322216/where-to-implement-python-classes-in-django/34324293#34324293", "title": "Where to implement python classes in Django?", "body": "<p>Distinct to similar frameworks, you can put your Python code anywhere in your project, provided you can reference them later by their import path (model classes are partially an exception, though):</p>\n\n<ol>\n<li>Applications are referenced by their import path (or an <code>AppConfig</code> import path). Although there's some magic involving <code>test.py</code> and <code>models.py</code>, most of the times the import / reference is quite explicit.</li>\n<li>Views are referenced by <code>urls.py</code> files, but imported as regular python import path.</li>\n<li>Middlewares are referenced by strings which denote an import path ending with their class name.</li>\n<li>Other settings you normally don't configure are also full import paths.</li>\n</ol>\n\n<p>The exception to this explicitness is:</p>\n\n<ol>\n<li><p>models.py, test.py, admin.py : They have special purposes and may not exist, providing:</p>\n\n<ol>\n<li>You will not need any model in your app, and will provide an <code>AppConfig</code> (instead of just the app name) in your <code>INSTALLED_APPS</code>.</li>\n<li>You will not rely on autodiscovery for admin classes in your app.</li>\n<li>You don't want to make tests on your app, or will specify a non-default path for your app-specific test command run.</li>\n</ol></li>\n<li><p>templates and static files: your project will rely on per-app loaders for your static files and for your templates files, and ultimately there's a brute-force search in each of your apps: their inner <code>static/</code> and <code>templates/</code> directories, if exist, are searched for those files.</p></li>\n</ol>\n\n<p><strong>Everything else is just normal python code</strong> and, if you need to import them from any view, you just do a normal import sentence for them (since view code is imported with the normal Python import mechanism).</p>\n"}], "owner": {"reputation": 335, "user_id": 3709339, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b38525e811ad102d2f7d6a919ef5c756?s=128&d=identicon&r=PG&f=1", "display_name": "Silvestrini", "link": "https://stackoverflow.com/users/3709339/silvestrini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1371, "favorite_count": 0, "accepted_answer_id": 34322636, "answer_count": 4, "score": 6, "last_activity_date": 1450313764, "creation_date": 1450300524, "question_id": 34322216, "link": "https://stackoverflow.com/questions/34322216/where-to-implement-python-classes-in-django", "title": "Where to implement python classes in Django?", "body": "<p>I'm learning <code>Django</code> on my own and I can't seem to get a clue of where I implement a regular Python class. What I mean is, I don't know where do the Python classes I write go. Like they go in a separate file and then are imported to the <code>views.py</code> or are the classes implemented inside the <code>views.py</code> file?</p>\n\n<p>Example I want to implement a <code>Class Alphabet</code>, should I do this in a separate file inside the module or just implement the functions inside the <code>views.py</code> file?</p>\n"}, {"tags": ["python", "django", "forms", "django-templates", "django-views"], "comments": [{"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1450300624, "post_id": 34322178, "comment_id": 56386246, "body": "<code>TemplateDoesNotExist</code>, you are missing file <code>template.html</code>."}, {"owner": {"reputation": 629, "user_id": 4966987, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a98462949406ee05cb3518e1d986f8ea?s=128&d=identicon&r=PG&f=1", "display_name": "qwertp", "link": "https://stackoverflow.com/users/4966987/qwertp"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1450300818, "post_id": 34322178, "comment_id": 56386344, "body": "No the file is there. Because another view is accessing the same template. The error is <code>TemplateDoesNotExist at &#47;app&#47;1&#47;new_page&#47;</code> The traceback doesn&#39;t even mention the template file."}], "answers": [{"comments": [{"owner": {"reputation": 629, "user_id": 4966987, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a98462949406ee05cb3518e1d986f8ea?s=128&d=identicon&r=PG&f=1", "display_name": "qwertp", "link": "https://stackoverflow.com/users/4966987/qwertp"}, "edited": false, "score": 0, "creation_date": 1450302417, "post_id": 34322339, "comment_id": 56387169, "body": "Why is the <code>csrfmiddlewaretoken=CpYebRXTmLkHfo6hRQSrfZPdMFjWW9Ri&amp;</code> part appended to the url? Is it because of the <code>csrf</code> token?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "reply_to_user": {"reputation": 629, "user_id": 4966987, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a98462949406ee05cb3518e1d986f8ea?s=128&d=identicon&r=PG&f=1", "display_name": "qwertp", "link": "https://stackoverflow.com/users/4966987/qwertp"}, "edited": false, "score": 1, "creation_date": 1450339520, "post_id": 34322339, "comment_id": 56400412, "body": "Yes; it&#39;s in the form, so gets submitted along with the rest of the data. You don&#39;t need it for a GET submission though, you can omit the tag completely."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 2, "last_activity_date": 1450300934, "creation_date": 1450300934, "answer_id": 34322339, "question_id": 34322178, "link": "https://stackoverflow.com/questions/34322178/creating-forms-with-method-get-in-django/34322339#34322339", "title": "Creating forms with method=&quot;get&quot; in django", "body": "<p>This is nothing to do with forms or GET.</p>\n\n<p>You have used the <code>render_to_response</code> shortcut, which takes two positional arguments: template and context. But you have passed three arguments, putting the request first; that shortcut does not take the request.</p>\n\n<p>I think you meant to just use the <code>render</code> shortcut, which <em>does</em> take the request first.</p>\n\n<pre><code>return render(request,'template.html', context)\n</code></pre>\n"}], "owner": {"reputation": 629, "user_id": 4966987, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a98462949406ee05cb3518e1d986f8ea?s=128&d=identicon&r=PG&f=1", "display_name": "qwertp", "link": "https://stackoverflow.com/users/4966987/qwertp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5429, "favorite_count": 0, "accepted_answer_id": 34322339, "answer_count": 1, "score": 3, "last_activity_date": 1450300934, "creation_date": 1450300327, "question_id": 34322178, "link": "https://stackoverflow.com/questions/34322178/creating-forms-with-method-get-in-django", "title": "Creating forms with method=&quot;get&quot; in django", "body": "<p>I have a form containing two text input types. The value from both the forms are passed onto the view <code>myfunc</code> which then passes it on to another template.the url of the form results should be </p>\n\n<p><code>/app/1/new_page/?key=key&amp;value=value</code></p>\n\n<p>But on submitting the form, it goes to the following url -</p>\n\n<pre><code>/app/1/new_page/?csrfmiddlewaretoken=CpYebRXTmLkHfo6hRQSrfZPdMFjWW9Ri&amp;key=a1&amp;value=41325\n</code></pre>\n\n<p>and gives the error - </p>\n\n<pre><code>Exception Type:     TemplateDoesNotExist\nException Value:    &lt;WSGIRequest: GET '/app/1/new_page/?csrfmiddlewaretoken=CpYebRXTmLkHfo6hRQSrfZPdMFjWW9Rikey=a1&amp;value=41325'&gt;\n</code></pre>\n\n<p>Even manually entering the correct url gives the same <code>Exception Type and Value</code></p>\n\n<p>But I have declared the template in the view. What could be the problem here? </p>\n\n<p><code>template containing form</code></p>\n\n<pre><code>&lt;form action=\"{% url 'my_func' id %}\" method=\"GET\"&gt;\n    {% csrf_token %}\n    &lt;input id=\"key\" type=\"text\" name=\"key\" value=\"\"&gt;\n    &lt;input id=\"value\" type=\"text\" name=\"value\" value=\"\"&gt;\n    &lt;input type=\"submit\" value=\"Submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><code>views.py</code></p>\n\n<pre><code>def myfunc(request, id):\n    key = request.GET.get('key')\n    value = request.GET.get('value')\n    context = {'key': key}\n    return render_to_response(request,'template.html', context)\n</code></pre>\n\n<p><code>urls.py</code></p>\n\n<pre><code>url(r'^app/(?P&lt;id&gt;\\d+)/new-page/$', views.myfunc, name=\"my_func\"),\n</code></pre>\n"}, {"tags": ["python", "windows", "python-3.x", "clipboard"], "answers": [{"comments": [{"owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "edited": false, "score": 3, "creation_date": 1450302457, "post_id": 34322648, "comment_id": 56387188, "body": "Tested on Windows 7 with pillow and PyWin32 219 and it worked fine with BytesIO"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "edited": false, "score": 0, "creation_date": 1450302688, "post_id": 34322648, "comment_id": 56387309, "body": "@MikeDriscoll: Thanks for confirming. I&#39;ll remove the qualified language."}, {"owner": {"reputation": 2103, "user_id": 3209523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yeaZC.jpg?s=128&g=1", "display_name": "canbax", "link": "https://stackoverflow.com/users/3209523/canbax"}, "edited": false, "score": 0, "creation_date": 1588347300, "post_id": 34322648, "comment_id": 108868116, "body": "format must be BMP for anyone want to get a different format"}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 10, "last_activity_date": 1450302706, "last_edit_date": 1450302706, "creation_date": 1450302180, "answer_id": 34322648, "question_id": 34322132, "link": "https://stackoverflow.com/questions/34322132/copy-image-to-clipboard/34322648#34322648", "title": "Copy image to clipboard?", "body": "<p>You don't want <code>StringIO</code> here. Images are raw binary data, and in Py3, <code>str</code> is purely for text, <code>bytes</code> and <code>bytes</code>-like objects (<code>bytearray</code>, contiguous <code>memoryview</code>s, <code>mmap</code>s) are for binary data. To replace Py2's <code>StringIO.StringIO</code> for binary data, you want to use <code>io.BytesIO</code> in Python 3, not <code>io.StringIO</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13035196, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z8VnOnTLpNA/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nB-B5AmBhUZHTkXfDSn79IOn04-mg/photo.jpg?sz=128", "display_name": "pypcdev", "link": "https://stackoverflow.com/users/13035196/pypcdev"}, "is_accepted": false, "score": 1, "last_activity_date": 1583785654, "creation_date": 1583785654, "answer_id": 60607892, "question_id": 34322132, "link": "https://stackoverflow.com/questions/34322132/copy-image-to-clipboard/60607892#60607892", "title": "Copy image to clipboard?", "body": "<p>You can copy bitmap image to clipboard using winclip32\ninstall:</p>\n\n<pre><code>pip install winclip32\n</code></pre>\n\n<p>copy:</p>\n\n<pre><code>import winclip32\nwinclip32.set_clipboard_data(winclip32.BITMAPINFO_STD_STRUCTURE, your_binary_here)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2103, "user_id": 3209523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yeaZC.jpg?s=128&g=1", "display_name": "canbax", "link": "https://stackoverflow.com/users/3209523/canbax"}, "is_accepted": false, "score": 2, "last_activity_date": 1588348653, "creation_date": 1588348653, "answer_id": 61546024, "question_id": 34322132, "link": "https://stackoverflow.com/questions/34322132/copy-image-to-clipboard/61546024#61546024", "title": "Copy image to clipboard?", "body": "<p>For those who want to copy-paste</p>\n\n<pre><code># parameter must be a PIL image \ndef send_to_clipboard(image):\n    output = BytesIO()\n    image.convert('RGB').save(output, 'BMP')\n    data = output.getvalue()[14:]\n    output.close()\n\n    win32clipboard.OpenClipboard()\n    win32clipboard.EmptyClipboard()\n    win32clipboard.SetClipboardData(win32clipboard.CF_DIB, data)\n    win32clipboard.CloseClipboard()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 13615041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049506347bdd49be36e0512229d4bdaf?s=128&d=identicon&r=PG", "display_name": "Luis Villamil", "link": "https://stackoverflow.com/users/13615041/luis-villamil"}, "is_accepted": true, "score": 4, "last_activity_date": 1590428455, "creation_date": 1590428455, "answer_id": 62007792, "question_id": 34322132, "link": "https://stackoverflow.com/questions/34322132/copy-image-to-clipboard/62007792#62007792", "title": "Copy image to clipboard?", "body": "<p>I did copy the code and replace the StringIO with BytesIO and it worked! (with *.jpg and *.png files) Thank you so much! </p>\n\n<pre><code>from io import BytesIO\nimport win32clipboard\nfrom PIL import Image\n\ndef send_to_clipboard(clip_type, data):\n    win32clipboard.OpenClipboard()\n    win32clipboard.EmptyClipboard()\n    win32clipboard.SetClipboardData(clip_type, data)\n    win32clipboard.CloseClipboard()\n\nfilepath = 'Ico2.png'\nimage = Image.open(filepath)\n\noutput = BytesIO()\nimage.convert(\"RGB\").save(output, \"BMP\")\ndata = output.getvalue()[14:]\noutput.close()\n\nsend_to_clipboard(win32clipboard.CF_DIB, data)\n</code></pre>\n"}], "owner": {"reputation": 13026, "user_id": 2125837, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760b6ec2b6e1cba2b0218178425f4cde?s=128&d=identicon&r=PG", "display_name": "xpt", "link": "https://stackoverflow.com/users/2125837/xpt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6155, "favorite_count": 3, "accepted_answer_id": 62007792, "answer_count": 4, "score": 9, "last_activity_date": 1603216168, "creation_date": 1450300120, "last_edit_date": 1603216168, "question_id": 34322132, "link": "https://stackoverflow.com/questions/34322132/copy-image-to-clipboard", "title": "Copy image to clipboard?", "body": "<p>First of all, the question on SO <a href=\"https://stackoverflow.com/questions/15243994/copy-image-to-clipboard-in-python\">copy image to clipboard in python</a> leads to answer <a href=\"https://stackoverflow.com/questions/7050448/write-image-to-windows-clipboard-in-python-with-pil-and-win32clipboard\">Write image to Windows clipboard in python with PIL and win32clipboard?</a>, which was only good for Python 2.x. -- I tried it and it didn't work. I overcame one problem: <a href=\"https://stackoverflow.com/questions/11914472/stringio-in-python3\">StringIO and cStringIO modules are gone in Python 3.0:</a>, but bumped into another one:</p>\n\n<pre><code>TypeError: string argument expected, got 'bytes'\n</code></pre>\n\n<p>Hence, re-asking the same question again for Python 3 -- How to copy image to clipboard in Python 3? Here is the code I've got so far:</p>\n\n<pre><code>from io import StringIO\nimport win32clipboard\nfrom PIL import Image\n\ndef send_to_clipboard(clip_type, data):\n    win32clipboard.OpenClipboard()\n    win32clipboard.EmptyClipboard()\n    win32clipboard.SetClipboardData(clip_type, data)\n    win32clipboard.CloseClipboard()\n\nfilepath = 'image.jpg'\nimage = Image.open(filepath)\n\noutput = StringIO()\nimage.convert(\"RGB\").save(output, \"BMP\")\ndata = output.getvalue()[14:]\noutput.close()\n\nsend_to_clipboard(win32clipboard.CF_DIB, data)\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 6712, "user_id": 122139, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e24cd8afa32a0e16b095a5348f6b772b?s=128&d=identicon&r=PG", "display_name": "Smandoli", "link": "https://stackoverflow.com/users/122139/smandoli"}, "edited": false, "score": 0, "creation_date": 1450300176, "post_id": 34322106, "comment_id": 56386050, "body": "Just use the &#39;k&#39; and &#39;v&#39; alternation."}, {"owner": {"reputation": 156828, "user_id": 497418, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/248d820c4cc1b6eb7924c658c45443b5?s=128&d=identicon&r=PG", "display_name": "zzzzBov", "link": "https://stackoverflow.com/users/497418/zzzzbov"}, "edited": false, "score": 4, "creation_date": 1450300198, "post_id": 34322106, "comment_id": 56386067, "body": "You haven&#39;t shown <a href=\"http://whathaveyoutried.com\" rel=\"nofollow noreferrer\">what you&#39;ve tried</a>. You haven&#39;t tagged your question with what programming language you&#39;re using to know what flavor of regex is to be used. Voting to close this as too broad."}, {"owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "reply_to_user": {"reputation": 942, "user_id": 1241562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d00e014e506f5c47b5e129f5cc9dacd2?s=128&d=identicon&r=PG", "display_name": "R Day", "link": "https://stackoverflow.com/users/1241562/r-day"}, "edited": false, "score": 0, "creation_date": 1450300393, "post_id": 34322106, "comment_id": 56386152, "body": "@RDay.  Do you really want me to write the 10,000 things I&#39;ve tried?  I&#39;m assuming its a pretty basic regex question and would take an expert all 5 seconds to answer.  Stop trolling stack questions looking for opportunities to write &quot;What have your tried?&quot;."}, {"owner": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 1, "creation_date": 1450300627, "post_id": 34322106, "comment_id": 56386253, "body": "@GoBrewers14 It may be annoying, but it prevents users more or less from asking &quot;do my work/homework&quot;-questions."}, {"owner": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "edited": false, "score": 1, "creation_date": 1450300696, "post_id": 34322106, "comment_id": 56386279, "body": "I am with @GoBrewers14 on this one. It is a simple question, and other than the tagging, it really adds nothing to ask him to show what has been tried so far. This is not a problem in any specific code - nor too elaborate to answer quickly, it is just a general question deserving a general answer."}, {"owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "reply_to_user": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 0, "creation_date": 1450301124, "post_id": 34322106, "comment_id": 56386513, "body": "@palsch What evidence is there that this is homework?  I&#39;m at work, regex isn&#39;t my forte, I didn&#39;t want to spend 5 hours figuring this out."}, {"owner": {"reputation": 2513, "user_id": 4306257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA-9KcNdcEE/AAAAAAAAAAI/AAAAAAAAACg/zxp_1pcQ6Lg/photo.jpg?sz=128", "display_name": "palsch", "link": "https://stackoverflow.com/users/4306257/palsch"}, "edited": false, "score": 0, "creation_date": 1450301317, "post_id": 34322106, "comment_id": 56386592, "body": "No, I don&#39;t mean this is homework. I don&#39;t really understand the downvotes, too. I just wanted to defend the &quot;What have you tried?&quot;-question. To see that this is no homework I just must have a look at your reputation score. ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "edited": false, "score": 1, "creation_date": 1450301306, "post_id": 34322198, "comment_id": 56386588, "body": "Thanks, appreciate the help."}], "tags": [], "owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "is_accepted": true, "score": 3, "last_activity_date": 1450300426, "creation_date": 1450300426, "answer_id": 34322198, "question_id": 34322106, "link": "https://stackoverflow.com/questions/34322106/match-every-other-character-in-a-string/34322198#34322198", "title": "Match every other character in a string", "body": "<p>Match with:</p>\n\n<pre><code>([^|]*)\\|([^|]*(\\||$))\n</code></pre>\n\n<p>Replace with <code>$1:$2</code>.</p>\n\n<p><a href=\"https://regex101.com/r/yV0aV6/1\" rel=\"nofollow\">See it in action</a></p>\n\n<hr>\n\n<p>General idea:</p>\n\n<ul>\n<li><code>[^|]*</code> - multiple non-<code>|</code> characters</li>\n<li><code>()</code> defines a group</li>\n<li><code>(\\||$)</code> - a <code>|</code> or the end of the string</li>\n<li>The entire regex reads as <em>multiple non <code>|</code> characters in the first group, followed by a <code>|</code>, followed by multiple non <code>|</code> characters and a <code>|</code> or end of string in the second group</em></li>\n</ul>\n"}], "owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 752, "favorite_count": 0, "accepted_answer_id": 34322198, "answer_count": 1, "score": -4, "last_activity_date": 1450300426, "creation_date": 1450300012, "last_edit_date": 1450300248, "question_id": 34322106, "link": "https://stackoverflow.com/questions/34322106/match-every-other-character-in-a-string", "title": "Match every other character in a string", "body": "<p>I have a string</p>\n\n<pre><code>k1|v1|k2|v2|k3|v3|k4|v4\n</code></pre>\n\n<p>and I want to match on every other <code>|</code> so I can change the string to </p>\n\n<pre><code>k1:v1|k2:v2|k3:v3|k4:v4\n</code></pre>\n\n<p>I know I can match on <code>|</code> by doing a grouping like <code>(|)</code> but I can't figure out how to match only every other pipe.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "multithreading", "nginx", "flask"], "answers": [{"tags": [], "owner": {"reputation": 19398, "user_id": 775345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/c6jtG.jpg?s=128&g=1", "display_name": "Robert Moskal", "link": "https://stackoverflow.com/users/775345/robert-moskal"}, "is_accepted": false, "score": 3, "last_activity_date": 1450300285, "creation_date": 1450300285, "answer_id": 34322170, "question_id": 34321986, "link": "https://stackoverflow.com/questions/34321986/how-do-i-run-a-long-running-job-in-the-background-in-python/34322170#34322170", "title": "How do I run a long-running job in the background in Python", "body": "<p>Your approach is fine and will totally work, but why reinvent the background worker for python web applications when a widely accepted solution exists, namely celery.</p>\n\n<p>I'd need to see a lot tests before I trusted any home rolled code for such an important task.</p>\n\n<p>Plus celery gives you features like task persistence and the ability to distribute workers across multiple machines.</p>\n"}, {"comments": [{"owner": {"reputation": 2912, "user_id": 923797, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5a3168b82ab435b01767d070b74a7c96?s=128&d=identicon&r=PG", "display_name": "cjohnson318", "link": "https://stackoverflow.com/users/923797/cjohnson318"}, "edited": false, "score": 1, "creation_date": 1527269983, "post_id": 34322333, "comment_id": 88080729, "body": "I think the tutorial @ali-nikneshan was referencing is: <a href=\"http://flask.pocoo.org/docs/0.12/patterns/celery/\" rel=\"nofollow noreferrer\">flask.pocoo.org/docs/0.12/patterns/celery</a>"}, {"owner": {"reputation": 1208, "user_id": 1259406, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c0145fc6b26e8f27b1d51fae6c1bbea7?s=128&d=identicon&r=PG", "display_name": "maugch", "link": "https://stackoverflow.com/users/1259406/maugch"}, "edited": false, "score": 0, "creation_date": 1597734514, "post_id": 34322333, "comment_id": 112222697, "body": "Side note for multiplatform people like me: Celery 4.x does not support windows anymore."}, {"owner": {"reputation": 3223, "user_id": 501979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e705bcc10f6b8b5e04104546ea523d7?s=128&d=identicon&r=PG", "display_name": "Ali Nikneshan", "link": "https://stackoverflow.com/users/501979/ali-nikneshan"}, "reply_to_user": {"reputation": 1208, "user_id": 1259406, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c0145fc6b26e8f27b1d51fae6c1bbea7?s=128&d=identicon&r=PG", "display_name": "maugch", "link": "https://stackoverflow.com/users/1259406/maugch"}, "edited": false, "score": 0, "creation_date": 1598166220, "post_id": 34322333, "comment_id": 112364983, "body": "@maugch oh, you can still use is with <code>-P solo</code>."}], "tags": [], "owner": {"reputation": 3223, "user_id": 501979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e705bcc10f6b8b5e04104546ea523d7?s=128&d=identicon&r=PG", "display_name": "Ali Nikneshan", "link": "https://stackoverflow.com/users/501979/ali-nikneshan"}, "is_accepted": true, "score": 16, "last_activity_date": 1527306744, "last_edit_date": 1527306744, "creation_date": 1450300917, "answer_id": 34322333, "question_id": 34321986, "link": "https://stackoverflow.com/questions/34321986/how-do-i-run-a-long-running-job-in-the-background-in-python/34322333#34322333", "title": "How do I run a long-running job in the background in Python", "body": "<p>The more regular approch to handle such issue is extract the action from the base application and call it outside, using a task manager system like <a href=\"http://www.celeryproject.org/\" rel=\"noreferrer\">Celery</a>. </p>\n\n<p>Using <a href=\"http://flask.pocoo.org/docs/1.0/patterns/celery/\" rel=\"noreferrer\">this</a> tutorial you can create your task and trigger it from your web application.</p>\n\n<pre><code>from flask import Flask\n\napp = Flask(__name__)\napp.config.update(\n    CELERY_BROKER_URL='redis://localhost:6379',\n    CELERY_RESULT_BACKEND='redis://localhost:6379'\n)\ncelery = make_celery(app)\n\n\n@celery.task()\ndef add_together(a, b):\n    return a + b\n</code></pre>\n\n<p>Then you can run:</p>\n\n<pre><code>&gt;&gt;&gt; result = add_together.delay(23, 42)\n&gt;&gt;&gt; result.wait()\n65\n</code></pre>\n\n<p>Just remember you need to run worker separately:</p>\n\n<pre><code>celery -A your_application worker\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11204, "user_id": 895659, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cmPXO.jpg?s=128&g=1", "display_name": "Farshid Ashouri", "link": "https://stackoverflow.com/users/895659/farshid-ashouri"}, "is_accepted": false, "score": 8, "last_activity_date": 1450499568, "last_edit_date": 1592644375, "creation_date": 1450499568, "answer_id": 34367284, "question_id": 34321986, "link": "https://stackoverflow.com/questions/34321986/how-do-i-run-a-long-running-job-in-the-background-in-python/34367284#34367284", "title": "How do I run a long-running job in the background in Python", "body": "<p>Well, Although your approach is not incorrect, basicly it may lead your program run out of available threads. As <a href=\"https://stackoverflow.com/users/501979/ali-nikneshan\">Ali</a> mentioned, a general approach is to use Job Queues like <code>RQ</code> or <code>Celery</code>.  However you don't need to extract functions to use those libraries.  For Flask, I recommend you to use <a href=\"https://github.com/mattupstate/flask-rq\" rel=\"nofollow noreferrer\">Flask-RQ</a>.  It's simple to start:</p>\n<h2>RQ</h2>\n<pre><code>pip install flask-rq\n</code></pre>\n<p>Just remember to install Redis before using it in your Flask app.</p>\n<p>And simply use @Job Decorator in your Flask functions:</p>\n<pre><code>from flask.ext.rq import job\n\n\n@job\ndef process(i):\n    #  Long stuff to process\n\n\nprocess.delay(3)\n</code></pre>\n<p>And finally you need <code>rqworker</code> to start the worker:</p>\n<blockquote>\n<p>rqworker</p>\n</blockquote>\n<p>You can see <a href=\"http://python-rq.org/\" rel=\"nofollow noreferrer\">RQ docs</a> for more info.  RQ designed for simple long running processes.</p>\n<h2>Celery</h2>\n<p>Celery is more complicated, has huge list of features and is not recommended if you are new to job queues and distributed processing methods.</p>\n<h2>Greenlets</h2>\n<p>Greenlets have switches.  Let you to switch between long running processes.\nYou can use greenlets for running processes.  The benefit is you don't need Redis and other worker, instead you have to re-design your functions to be compatible:</p>\n<pre><code>from greenlet import greenlet\n\ndef test1():\n    print 12\n    gr2.switch()\n    print 34\n\ndef test2():\n    print 56\n    gr1.switch()\n    print 78\n\ngr1 = greenlet(test1)\ngr2 = greenlet(test2)\ngr1.switch()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6561, "user_id": 250019, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/922c9fdc02ec0531cd152ca7cadb33bf?s=128&d=identicon&r=PG", "display_name": "Fabiano Soriani", "link": "https://stackoverflow.com/users/250019/fabiano-soriani"}, "edited": false, "score": 0, "creation_date": 1535497895, "post_id": 39008342, "comment_id": 91085012, "body": "Good point for futures, it&#39;s what grpc (among others) use to handle parallel requests"}, {"owner": {"reputation": 153, "user_id": 7760431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DH84c.jpg?s=128&g=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/7760431/anton"}, "edited": false, "score": 0, "creation_date": 1616798808, "post_id": 39008342, "comment_id": 118125435, "body": "but dont threads lock the application in python?"}], "tags": [], "owner": {"reputation": 1419, "user_id": 5569578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e89pp.jpg?s=128&g=1", "display_name": "Denys Synashko", "link": "https://stackoverflow.com/users/5569578/denys-synashko"}, "is_accepted": false, "score": 37, "last_activity_date": 1512194572, "last_edit_date": 1512194572, "creation_date": 1471481352, "answer_id": 39008342, "question_id": 34321986, "link": "https://stackoverflow.com/questions/34321986/how-do-i-run-a-long-running-job-in-the-background-in-python/39008342#39008342", "title": "How do I run a long-running job in the background in Python", "body": "<p>Celery and RQ is overengineering for <strong>simple task</strong>.\nTake a look at this docs - <a href=\"https://docs.python.org/3/library/concurrent.futures.html\" rel=\"noreferrer\">https://docs.python.org/3/library/concurrent.futures.html</a></p>\n\n<p>Also check example, how to run long-running jobs in background for Flask app - <a href=\"https://stackoverflow.com/a/39008301/5569578\">https://stackoverflow.com/a/39008301/5569578</a></p>\n"}], "owner": {"reputation": 1608, "user_id": 1758023, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8867b4c763d9995de34ec14bfb9fbdab?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1758023/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23513, "favorite_count": 12, "accepted_answer_id": 34322333, "answer_count": 4, "score": 22, "last_activity_date": 1527306744, "creation_date": 1450299514, "question_id": 34321986, "link": "https://stackoverflow.com/questions/34321986/how-do-i-run-a-long-running-job-in-the-background-in-python", "title": "How do I run a long-running job in the background in Python", "body": "<p>I have a web-service that runs long-running jobs (in the order of several hours). I am developing this using Flask, Gunicorn, and nginx.</p>\n\n<p>What I am thinking of doing is to have the route which takes a long time to complete, call a function that creates a thread. The function will then return a guid back to the route, and the route will return a url (using the guid) that the user can use to check progress. I am making the thread a daemon (thread.daemon = True) so that the thread exits if my calling code exits (unexpectedly).</p>\n\n<p>Is this the correct approach to use? It works, but that doesn't mean that it is correct.</p>\n\n<pre><code>my_thread = threading.Thread(target=self._run_audit, args=())\nmy_thread.daemon = True\nmy_thread.start()\n</code></pre>\n"}, {"tags": ["python", "html", "flask"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1450301104, "post_id": 34321978, "comment_id": 56386499, "body": "I wonder what is the point of doing this. You&#39;re obviously passing <code>some_list</code> into the template into the first place, in order to render it; so you already have it on the server, why pass it through to the client and back again? Better store it somewhere like the session between requests."}, {"owner": {"reputation": 1979, "user_id": 1823368, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3fbe9e3187b5a041f1e974be524c89?s=128&d=identicon&r=PG", "display_name": "sookie", "link": "https://stackoverflow.com/users/1823368/sookie"}, "edited": false, "score": 0, "creation_date": 1450301896, "post_id": 34321978, "comment_id": 56386898, "body": "I guess this is what I was trying to confirm. So parsing is the only option then?"}], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 2, "last_activity_date": 1450302208, "last_edit_date": 1450302208, "creation_date": 1450301612, "answer_id": 34322529, "question_id": 34321978, "link": "https://stackoverflow.com/questions/34321978/interpret-an-html-form-value-as-a-list-in-a-flask-view/34322529#34322529", "title": "Interpret an HTML form value as a list in a Flask view", "body": "<p>When an HTML form is submitted from a client, it sends the field values as strings.  Assuming the value you will enter in this field looks like <code>abc, def, 123, foo</code>, then you just split the value on <code>,</code> and strip any surrounding whitespace.</p>\n\n<pre><code>elements = [y for y in (x.strip() for x in request.form['list'].split(',')) if y]\n</code></pre>\n\n<hr>\n\n<p>Rather than passing/parsing a value back and forth in a hidden form field, what you're probably looking for is the session.  That allows you to store JSON serializable values across requests.</p>\n\n<pre><code>elements = session.get('elements', [])  # get existing data\nelements.append(len(data))  # do something to the data\nsession['elements'] = data  # store the new data\n</code></pre>\n"}], "owner": {"reputation": 1979, "user_id": 1823368, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3fbe9e3187b5a041f1e974be524c89?s=128&d=identicon&r=PG", "display_name": "sookie", "link": "https://stackoverflow.com/users/1823368/sookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1325, "favorite_count": 1, "accepted_answer_id": 34322529, "answer_count": 1, "score": 1, "last_activity_date": 1450302421, "creation_date": 1450299491, "last_edit_date": 1450302421, "question_id": 34321978, "link": "https://stackoverflow.com/questions/34321978/interpret-an-html-form-value-as-a-list-in-a-flask-view", "title": "Interpret an HTML form value as a list in a Flask view", "body": "<p>I want to set a hidden form field to a list of values, then use the list when the form is submitted.  However, the value seems to be a string instead of a list.  How do I use get list I passed to the form as a list?</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form method=\"POST\" action=\"{{ url_for('action') }}\"&gt;\n    &lt;input type=\"hidden\" name=\"list\" value=\"{{ some_list }}\"/&gt;\n    &lt;input type=\"submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n\n\n<pre><code>@app.route('/action', methods=['POST'])\ndef action():\n    elements = request.form['list']\n    list_length = len(elements)\n    ...\n</code></pre>\n"}, {"tags": ["python", "sqlalchemy", "field", "uppercase"], "comments": [{"owner": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1450300117, "post_id": 34321976, "comment_id": 56386023, "body": "You mean, you have user input which should be forced to be uppercase?"}, {"owner": {"reputation": 173, "user_id": 884136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1965292579917948158cc852b1cbd33f?s=128&d=identicon&r=PG", "display_name": "Darius", "link": "https://stackoverflow.com/users/884136/darius"}, "reply_to_user": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1450304405, "post_id": 34321976, "comment_id": 56388161, "body": "Yes, exactly, but I would like to have a custom type and use it. I dug a bit and found a TypeDecorator, and it almost working with the exception that the values are converted only on db.session.commit(). Please see my answer. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 950, "user_id": 3614855, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/267970129056459ed1a52d4373fc438b?s=128&d=identicon&r=PG&f=1", "display_name": "fiacre", "link": "https://stackoverflow.com/users/3614855/fiacre"}, "is_accepted": false, "score": 1, "last_activity_date": 1450300287, "creation_date": 1450300287, "answer_id": 34322171, "question_id": 34321976, "link": "https://stackoverflow.com/questions/34321976/best-way-to-force-values-to-uppercase-in-sqlalchemy-field/34322171#34322171", "title": "Best way to force values to uppercase in sqlalchemy field", "body": "<p>Have a look at <a href=\"http://docs.sqlalchemy.org/en/latest/core/event.html\" rel=\"nofollow\">events</a></p>\n\n<p>YOu can easily add a listener for a save/update and just uppercase the string:</p>\n\n<pre><code>def uppercase_code(target, value, oldvalue, initiator):\n    return value.upper()\n\n# setup listener on Item.code attribute, instructing\n# it to use the return value\nlisten(Item.code, 'set', uppercase_code, retval=True)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1450321159, "post_id": 34322323, "comment_id": 56393663, "body": "I would consider throwing a warning, when applying this function. The user should now that he is supposed to enter uppercase strings. This also minimizes the surprises a user can get."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1450321623, "post_id": 34322323, "comment_id": 56393791, "body": "@MaxNoe: Depends on what you view the purpose of this to be. Seamlessly converting to uppercase as a design feature to save the user&#39;s <code>Shift</code>/<code>Caps Lock</code> key some wear is not unreasonable."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1450321906, "post_id": 34322323, "comment_id": 56393869, "body": "@MaxNoe: Your suggested edit was wrong in any event (<code>str.isupper</code> will return <code>False</code> if no cased characters are in the string, so it would have warned if you passed it <code>&quot;123&quot;</code>, even though no transformation was needed). While this is using the validation feature, validation can be used for seamless transformation too; convenience features that actually get used are a good thing; warning if they get used is silly."}, {"owner": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1450322129, "post_id": 34322323, "comment_id": 56393930, "body": "Ah, ok. I only tried<code>&#39;TEST1234&#39;.isupper()</code> which returns True. I, as a user, would want to know if the data I enter is somehow converted."}, {"owner": {"reputation": 436, "user_id": 2564698, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Y3mGY.png?s=128&g=1", "display_name": "mr_bulrathi", "link": "https://stackoverflow.com/users/2564698/mr-bulrathi"}, "edited": false, "score": 0, "creation_date": 1608634450, "post_id": 34322323, "comment_id": 115637430, "body": "Didn&#39;t worked for me. ORM just ignores it"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 436, "user_id": 2564698, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Y3mGY.png?s=128&g=1", "display_name": "mr_bulrathi", "link": "https://stackoverflow.com/users/2564698/mr-bulrathi"}, "edited": false, "score": 1, "creation_date": 1608638364, "post_id": 34322323, "comment_id": 115638975, "body": "@mr_bulrathi: You&#39;re going to need to be more specific on how it&#39;s failing if you want a fix. <a href=\"https://docs.sqlalchemy.org/en/14/orm/mapped_attributes.html#simple-validators\" rel=\"nofollow noreferrer\">The docs</a> say it should still work, though there are specific cases (e.g. server-generated primary keys) where it doesn&#39;t get applied as of SQLAlchemy 1.0.0."}, {"owner": {"reputation": 436, "user_id": 2564698, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Y3mGY.png?s=128&g=1", "display_name": "mr_bulrathi", "link": "https://stackoverflow.com/users/2564698/mr-bulrathi"}, "edited": false, "score": 0, "creation_date": 1608640958, "post_id": 34322323, "comment_id": 115640050, "body": "I&#39;ve described my issue in more detail - <a href=\"https://stackoverflow.com/questions/65408938/sqlalchemy-save-value-as-uppercase-automatically\" title=\"sqlalchemy save value as uppercase automatically\">stackoverflow.com/questions/65408938/&hellip;</a>"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 436, "user_id": 2564698, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Y3mGY.png?s=128&g=1", "display_name": "mr_bulrathi", "link": "https://stackoverflow.com/users/2564698/mr-bulrathi"}, "edited": false, "score": 1, "creation_date": 1608642717, "post_id": 34322323, "comment_id": 115640810, "body": "@mr_bulrathi: Seems like you bypassed the model object by using <code>User.__table__</code> directly, instead of constructing a <code>User</code>; <code>User.__table__</code> usage doesn&#39;t actually see <code>User</code>. Without <code>User</code> being directly involved, you bypassed validators as well. Don&#39;t do that. :-) (I&#39;d appreciate if you retracted the downvote)"}, {"owner": {"reputation": 436, "user_id": 2564698, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Y3mGY.png?s=128&g=1", "display_name": "mr_bulrathi", "link": "https://stackoverflow.com/users/2564698/mr-bulrathi"}, "edited": false, "score": 0, "creation_date": 1608647154, "post_id": 34322323, "comment_id": 115642767, "body": "sure, but so writes: You last voted on this answer 3 hours ago. Your vote is now locked in unless this answer is edited. :("}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 436, "user_id": 2564698, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Y3mGY.png?s=128&g=1", "display_name": "mr_bulrathi", "link": "https://stackoverflow.com/users/2564698/mr-bulrathi"}, "edited": false, "score": 0, "creation_date": 1608650033, "post_id": 34322323, "comment_id": 115644157, "body": "@mr_bulrathi: Just added a clarifying note for anyone who has the same problem you have, so it should be unlocked now. :-)"}, {"owner": {"reputation": 436, "user_id": 2564698, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Y3mGY.png?s=128&g=1", "display_name": "mr_bulrathi", "link": "https://stackoverflow.com/users/2564698/mr-bulrathi"}, "edited": false, "score": 0, "creation_date": 1608657663, "post_id": 34322323, "comment_id": 115647684, "body": "Upvoted. Thanks again!"}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 24, "last_activity_date": 1608650003, "last_edit_date": 1608650003, "creation_date": 1450300886, "answer_id": 34322323, "question_id": 34321976, "link": "https://stackoverflow.com/questions/34321976/best-way-to-force-values-to-uppercase-in-sqlalchemy-field/34322323#34322323", "title": "Best way to force values to uppercase in sqlalchemy field", "body": "<p>Validators can do this fairly easily:</p>\n<pre><code>from sqlalchemy.orm import validates\n\nclass Item(db.Model):\n    # I need to ensure the code column converts values to uppercase automatically\n    code = db.Column(db.String(30), primary_key=True)\n    name = db.Column(db.String(250), nullable=False)\n    \n    @validates('code', 'name')\n    def convert_upper(self, key, value):\n        return value.upper()\n</code></pre>\n<p>A similar approach can be taken with <a href=\"http://docs.sqlalchemy.org/en/latest/orm/mapped_attributes.html#using-descriptors-and-hybrids\" rel=\"noreferrer\">descriptors or hybrids</a>, though it's not quite as easy to apply the same mutations to multiple columns at once. <a href=\"http://docs.sqlalchemy.org/en/latest/orm/extensions/hybrid.html\" rel=\"noreferrer\">Hybrids</a> do provide some additional benefits, in that using them in queries can delegate work to the DBMS instead of performing the work on the Python side (though for this particular case, doing the work on the Python side doesn't really cost you anything).</p>\n<p>To be clear, the validator is applied at the model level; you must be constructing <code>Item</code> classes to benefit from it (for example, using <code>Item.__table__</code> to directly manipulate the table will bypass the model's validator).</p>\n"}, {"tags": [], "owner": {"reputation": 372, "user_id": 5780212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03469d42bdf0d27e234dfbb03a4b5971?s=128&d=identicon&r=PG&f=1", "display_name": "rsommerard", "link": "https://stackoverflow.com/users/5780212/rsommerard"}, "is_accepted": false, "score": 0, "last_activity_date": 1610458568, "creation_date": 1610458568, "answer_id": 65685039, "question_id": 34321976, "link": "https://stackoverflow.com/questions/34321976/best-way-to-force-values-to-uppercase-in-sqlalchemy-field/65685039#65685039", "title": "Best way to force values to uppercase in sqlalchemy field", "body": "<p>The best way is to use <a href=\"https://docs.sqlalchemy.org/en/13/orm/mapped_attributes.html#using-descriptors-and-hybrids\" rel=\"nofollow noreferrer\">descriptors</a></p>\n<p>In you case you can do:</p>\n<pre><code>from flask.ext.sqlalchemy import SQLAlchemy\ndb = SQLAlchemy()\n\nclass Item(db.Model):\n    # I need to ensure the code column converts values to uppercase automatically\n    _code = db.Column(&quot;code&quot;, db.String(30), primary_key=True)\n    _name = db.Column(&quot;name&quot;, db.String(250), nullable=False)\n\n    @property\n    def name(self):\n        return self._name\n\n    @name.setter\n    def name(self, name):\n        self._name = name.upper()\n\n    @property\n    def code(self):\n        return self._code\n\n    @code.setter\n    def name(self, code):\n        self._code = code.upper()\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 884136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1965292579917948158cc852b1cbd33f?s=128&d=identicon&r=PG", "display_name": "Darius", "link": "https://stackoverflow.com/users/884136/darius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4372, "favorite_count": 2, "accepted_answer_id": 34322323, "answer_count": 3, "score": 12, "last_activity_date": 1610458568, "creation_date": 1450299483, "question_id": 34321976, "link": "https://stackoverflow.com/questions/34321976/best-way-to-force-values-to-uppercase-in-sqlalchemy-field", "title": "Best way to force values to uppercase in sqlalchemy field", "body": "<p>I am pretty new to python and sqlalchemy and would like to ask for an advice.</p>\n\n<p>What would be the best way to force uppercase values in a SqlAlchemy field when the record is inserted/updated? Should I use events for that? Here I am using flask-sqlalchemy version, but I believe it is something similar to SQLAlchemy.</p>\n\n<pre><code>from flask.ext.sqlalchemy import SQLAlchemy\ndb = SQLAlchemy()\n\nclass Item(db.Model):\n    # I need to ensure the code column converts values to uppercase automatically\n    code = db.Column(db.String(30), primary_key=True)\n    name = db.Column(db.String(250), nullable=False)\n    ...\n</code></pre>\n\n<p>Thanks for the advice</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1450301438, "post_id": 34322093, "comment_id": 56386661, "body": "Note that OP doesn&#39;t actually instantiated the class at all; both <code>aux</code> and <code>newTable</code> in his code are simply references to the class itself."}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1450311748, "post_id": 34322093, "comment_id": 56390979, "body": "Yes I&#39;m aware, but from the problem description I figured it was fair to assume he wanted to. I&#39;ll edit my answer to include a bit about instantiation"}], "tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": true, "score": 6, "last_activity_date": 1450361581, "last_edit_date": 1495539949, "creation_date": 1450299955, "answer_id": 34322093, "question_id": 34321974, "link": "https://stackoverflow.com/questions/34321974/python-parameter-is-being-changed/34322093#34322093", "title": "Python - Parameter is being changed", "body": "<p>This is because you're declaring the equivalent of a <a href=\"https://stackoverflow.com/questions/68645/static-class-variables-in-python\">static class variable</a> and when you update it, it gets updated for every instance of that class. What you want is to declare <a href=\"https://docs.python.org/2/tutorial/classes.html#instance-objects\" rel=\"nofollow noreferrer\">instance variables</a> like this:</p>\n\n<pre><code>class table:\n    def __init__(self):\n        self.h = 0\n        self.g = 0\n</code></pre>\n\n<p>Now when you instantiate the class like this: <code>aux = table()</code>, it assigns the values to <em>that instance</em> of table - just the <code>aux</code> variable. </p>\n\n<p>Your move function will look like this:</p>\n\n<pre><code>move(x):\n    newTable = table()\n    newTable.g = x.g + 1\n</code></pre>\n\n<p>which will increment the value of <code>newTable.g</code>, but <em>not</em> the value of <code>x.g</code>. You'll also probably want to return the new table like this: <code>return newTable</code> and you can then use it in other functions.</p>\n\n<p>It's worth noting that in your code you never actually perform instantiation of the table class. This means that when you assign <code>aux = table</code>, it just assigns a reference to the class to your variable <code>aux</code>. To create an instance of a class, you call the class like you would a function - this is called a constructor - and it calls the class's <code>__init__</code> method. So when I declare <code>aux = table()</code>, the table <code>__init__</code> method is executed and then the new instance of the class is returned. </p>\n"}, {"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 2, "last_activity_date": 1450299976, "creation_date": 1450299976, "answer_id": 34322097, "question_id": 34321974, "link": "https://stackoverflow.com/questions/34321974/python-parameter-is-being-changed/34322097#34322097", "title": "Python - Parameter is being changed", "body": "<p><code>h</code> and <code>g</code> are static, i.e. \"class variables\". <code>h</code> and <code>g</code> are not unique for an object of class <code>table</code>, but are attributes of that class itself. </p>\n"}, {"comments": [{"owner": {"reputation": 10697, "user_id": 2445864, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSfSO.jpg?s=128&g=1", "display_name": "Hubert Grzeskowiak", "link": "https://stackoverflow.com/users/2445864/hubert-grzeskowiak"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1450842846, "post_id": 34322103, "comment_id": 56597667, "body": "Right. That comes from switching between languages all the time... sigh"}], "tags": [], "owner": {"reputation": 10697, "user_id": 2445864, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSfSO.jpg?s=128&g=1", "display_name": "Hubert Grzeskowiak", "link": "https://stackoverflow.com/users/2445864/hubert-grzeskowiak"}, "is_accepted": false, "score": 2, "last_activity_date": 1450842828, "last_edit_date": 1450842828, "creation_date": 1450300004, "answer_id": 34322103, "question_id": 34321974, "link": "https://stackoverflow.com/questions/34321974/python-parameter-is-being-changed/34322103#34322103", "title": "Python - Parameter is being changed", "body": "<p>By defining attributes just on the class they're bound to the whole class (static) and not to individual instances (aka objects). What you rather want is assigning them inside a constructor:</p>\n\n<pre><code>class Table:\n    def __init__(self):\n        self.h = 0\n        self.g = 0\n\n    def move(self, delta):\n        self.h += deta\n</code></pre>\n\n<p>Note that I also changed the move function to a method. The difference is that a method changes the state of individual instances.</p>\n\n<p>You can then create instances and work with them like this:</p>\n\n<pre><code>t1 = Table()\nt2 = Table()\nt1.move(10)\nprint(t1.h)   # will print 10\nprint(t2.h)   # will print 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "is_accepted": false, "score": 2, "last_activity_date": 1450300443, "creation_date": 1450300443, "answer_id": 34322202, "question_id": 34321974, "link": "https://stackoverflow.com/questions/34321974/python-parameter-is-being-changed/34322202#34322202", "title": "Python - Parameter is being changed", "body": "<p>When you did this:</p>\n\n<pre><code>aux = table\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>newTable = table\n</code></pre>\n\n<p>you did not create new object instances of the class <code>table</code>. You simply referenced the class <code>table</code>'s own instance with two different variables. In short both <code>aux</code> and <code>newTable</code> <em>reference</em> (forgive me for doing this; <strong>point to</strong>) the same thing.</p>\n\n<p>Note that <code>h, g</code> are shared attributes of the class <code>table</code>. They are shared by all instances of the class <code>table</code>. </p>\n"}], "owner": {"reputation": 47, "user_id": 5688411, "user_type": "registered", "profile_image": "https://graph.facebook.com/924179281005363/picture?type=large", "display_name": "Adriano Ferrari Cardoso", "link": "https://stackoverflow.com/users/5688411/adriano-ferrari-cardoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 34322093, "answer_count": 4, "score": 0, "last_activity_date": 1450842828, "creation_date": 1450299465, "question_id": 34321974, "link": "https://stackoverflow.com/questions/34321974/python-parameter-is-being-changed", "title": "Python - Parameter is being changed", "body": "<p>So, I have this class</p>\n\n<pre><code>class table:\n    h = 0\n    g = 0\n</code></pre>\n\n<p>And I have one element of this class called aux.  </p>\n\n<pre><code>aux = table\n</code></pre>\n\n<p>aux.g is equal to zero.<br>\nLater I call this function move(aux)</p>\n\n<pre><code>move(x):\n    newTable = table\n    newTable.g = x.g + 1\n</code></pre>\n\n<p>newTable.g receives 1 as expected, but x.g also changes from 0 to 1. Why?<br>\nThanks in advance, Adriano</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 309, "user_id": 4244912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kf40C.png?s=128&g=1", "display_name": "Ogaday", "link": "https://stackoverflow.com/users/4244912/ogaday"}, "edited": false, "score": 0, "creation_date": 1450301239, "post_id": 34321934, "comment_id": 56386561, "body": "I wonder if you could load it into an array with something like np.loadtxt, transpose it (or some of it) and write it back to the csv file. Haven&#39;t really thought it through."}, {"owner": {"reputation": 471, "user_id": 3931263, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/586564807/picture?type=large", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/3931263/nikhil-gupta"}, "reply_to_user": {"reputation": 309, "user_id": 4244912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kf40C.png?s=128&g=1", "display_name": "Ogaday", "link": "https://stackoverflow.com/users/4244912/ogaday"}, "edited": false, "score": 0, "creation_date": 1450304060, "post_id": 34321934, "comment_id": 56387971, "body": "@Ogaday I thought of that but couldnt get it to working and recalled something I used <code>pandas</code> for in the past."}], "answers": [{"comments": [{"owner": {"reputation": 471, "user_id": 3931263, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/586564807/picture?type=large", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/3931263/nikhil-gupta"}, "edited": false, "score": 0, "creation_date": 1450304337, "post_id": 34322487, "comment_id": 56388127, "body": "here you are hardcoding <code>index</code>. In my case, the original data is in <code>test.csv</code> file. can you please give an example for this scenario?"}, {"owner": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "reply_to_user": {"reputation": 471, "user_id": 3931263, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/586564807/picture?type=large", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/3931263/nikhil-gupta"}, "edited": false, "score": 0, "creation_date": 1450305898, "post_id": 34322487, "comment_id": 56388912, "body": "@NikhilGupta I honestly do not know what you mean. My posted dataframe is an example. Do you need help on how to read your csv into a pandas dataframe?"}, {"owner": {"reputation": 471, "user_id": 3931263, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/586564807/picture?type=large", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/3931263/nikhil-gupta"}, "edited": false, "score": 0, "creation_date": 1450306527, "post_id": 34322487, "comment_id": 56389192, "body": "I managed to read-in and convert the content of my .csv file into something that looks like <code>df</code> in your example but its not a square frame. Any suggestions on how to do the same if its not a square frame? (FYI, I tried with a csv file with square frame and incorporated your example and it works)"}, {"owner": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "reply_to_user": {"reputation": 471, "user_id": 3931263, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/586564807/picture?type=large", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/3931263/nikhil-gupta"}, "edited": false, "score": 0, "creation_date": 1450306902, "post_id": 34322487, "comment_id": 56389362, "body": "@NikhilGupta I am so sorry! From the way you phrased you question, I assumed you wanted to <i>literally</i> switch your index and columns. That is indeed only possible when the frame is square, but that is not your desired output. What you need is a simple transpose! I&#39;ll update my answer, please give me a minute."}, {"owner": {"reputation": 471, "user_id": 3931263, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/586564807/picture?type=large", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/3931263/nikhil-gupta"}, "edited": false, "score": 0, "creation_date": 1450307039, "post_id": 34322487, "comment_id": 56389416, "body": "totally alright. It also looks like the method you suggested doesn&#39;t arrange the data appropriately. It shifts the row and column header but not the data."}, {"owner": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "reply_to_user": {"reputation": 471, "user_id": 3931263, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/586564807/picture?type=large", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/3931263/nikhil-gupta"}, "edited": false, "score": 0, "creation_date": 1450307185, "post_id": 34322487, "comment_id": 56389466, "body": "@NikhilGupta it does so because that&#39;d be a literal switch of the index and columns. I must admit, your question struck me as odd, but now that I understand you simply want to transpose the data, that&#39;s incredibly easy to do!"}, {"owner": {"reputation": 471, "user_id": 3931263, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/586564807/picture?type=large", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/3931263/nikhil-gupta"}, "edited": false, "score": 0, "creation_date": 1450307557, "post_id": 34322487, "comment_id": 56389621, "body": "+ This works perfect. I did not know about <code>transpose</code>. I am assuming I can simply use python&#39;s csv-methods to write the new <code>df</code> to a .csv file, right?"}, {"owner": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "reply_to_user": {"reputation": 471, "user_id": 3931263, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/586564807/picture?type=large", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/3931263/nikhil-gupta"}, "edited": false, "score": 1, "creation_date": 1450307613, "post_id": 34322487, "comment_id": 56389648, "body": "@NikhilGupta you might want to look into <a href=\"http://pandas.pydata.org/pandas-docs/version/0.17.1/generated/pandas.DataFrame.to_csv.html\" rel=\"nofollow noreferrer\">DataFrame.to_csv</a>!"}], "tags": [], "owner": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "is_accepted": true, "score": 1, "last_activity_date": 1450307115, "last_edit_date": 1450307115, "creation_date": 1450301438, "answer_id": 34322487, "question_id": 34321934, "link": "https://stackoverflow.com/questions/34321934/switching-row-header-and-column-header-in-python/34322487#34322487", "title": "Switching row header and column header in python", "body": "<p>Assuming it is in a pandas dataframe already, this works:</p>\n\n<pre><code>df = pd.DataFrame(\n    data=[[1, 3], [2, 5]],\n    index=[0, 1],\n    columns=['a', 'b']\n)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&gt;&gt;&gt;print(df)\n      a  b\n   0  1  3\n   1  2  5\n</code></pre>\n\n<p>Then, transpose the dataframe:</p>\n\n<pre><code>&gt;&gt;&gt;print(df.transpose())\n      0  1\n   a  1  2\n   b  3  5\n</code></pre>\n"}], "owner": {"reputation": 471, "user_id": 3931263, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/586564807/picture?type=large", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/3931263/nikhil-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 34322487, "answer_count": 1, "score": 0, "last_activity_date": 1450307115, "creation_date": 1450299267, "last_edit_date": 1450300820, "question_id": 34321934, "link": "https://stackoverflow.com/questions/34321934/switching-row-header-and-column-header-in-python", "title": "Switching row header and column header in python", "body": "<p>I have a .csv file that has data something like this:</p>\n\n<pre><code>#file...out/houses.csv\n#data...sun may 1 11:20:43 2011\n#user...abs12\n#host...(null)\n#group...class=house\n#property..change_per_hour\n#limit...0\n#interval..10000000\n#timestamp,house_0,house_1,house_2,house_3,.....,house_1000\n2010-07-01 00:00:00 EDT,1.2,1.3,1.4,1.5,........,9.72\n2010-07-01 01:00:00 EDT,2.2,2.3,2.4,2.5,........,19.72\n2010-07-01 02:00:00 EDT,3.2,3.3,3.4,3.5,........,29.72\n2010-07-01 05:00:00 EDT,5.2,5.3,5.4,5.5,........,59.72\n2010-07-01 06:00:00 EDT,6.2,,6.4,,..............,\n...\n</code></pre>\n\n<p>I want to convert this and save to a new .csv and the data should look like:</p>\n\n<pre><code>#file...out/houses.csv\n#data...sun may 1 11:20:43 2011\n#user...abs12\n#host...(null)\n#group...class=house\n#property..change_per_hour\n#limit...0\n#interval..10000000\n#EntityName,2010-07-01 00:00:00 EDT,2010-07-01 01:00:00 EDT,2010-07-01 02:00:00 EDT,2010-07-01 05:00:00 EDT,2010-07-01 06:00:00 EDT\nhouse_0,1.2,2.2,3.2,5.2,6.2,...\nhouse_1,1.3,2.3,3.3,5.3,,...\nhouse_2,1.4,2.4,3.4,5.4,6.4,...\nhouse_3,1.5,2.5,3.5,5.5,,...\n...\nhouse_1000,9.72,19.72,29.72,59.72,\n</code></pre>\n\n<p>I tried to use pandas: convert to a dictionary that looks like <code>dtDict={'house_0':{'datetimestamp_1':'value_1','datetimestamp_2':'value_2'...}...}</code>but I am not able to convert to a dictionary and use panda's <code>DataFrame</code> such as <code>pandas.DataFrame(dtDict)</code> to do that conversion. I dont have to use pandas (can you anything in python) but thought pandas is good for csv manipulation. any help?</p>\n"}, {"tags": ["python", "json", "pandas", "twitter", "jsonpickle"], "answers": [{"comments": [{"owner": {"reputation": 1312, "user_id": 2645252, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/bb55801eca56ea86014fac87ef96a062?s=128&d=identicon&r=PG", "display_name": "mobcdi", "link": "https://stackoverflow.com/users/2645252/mobcdi"}, "edited": false, "score": 0, "creation_date": 1450301325, "post_id": 34322145, "comment_id": 56386596, "body": "Thanks for your response and guidance. If I wanted to end up with a pandas dataframe would you recommend a different data structure to use instead of the array after decoding (should the last line of the loop read tweets.append(jsonpickle.decode(line)) ?"}, {"owner": {"reputation": 3467, "user_id": 5509239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6563e2e4d92a4591fcf3b7860bb28192?s=128&d=identicon&r=PG&f=1", "display_name": "memoselyk", "link": "https://stackoverflow.com/users/5509239/memoselyk"}, "reply_to_user": {"reputation": 1312, "user_id": 2645252, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/bb55801eca56ea86014fac87ef96a062?s=128&d=identicon&r=PG", "display_name": "mobcdi", "link": "https://stackoverflow.com/users/2645252/mobcdi"}, "edited": false, "score": 0, "creation_date": 1450304195, "post_id": 34322145, "comment_id": 56388050, "body": "I&#39;ve fixed the variable name in the <code>jsonpicke.decode</code> part. If you have your data as json and want to convert it to a <code>DataFrame</code>, doesn&#39;t <a href=\"http://pandas.pydata.org/pandas-docs/version/0.17.0/generated/pandas.read_json.html\" rel=\"nofollow noreferrer\"><code>pandas.read_json</code></a> do what you want? You could save the data as a file and later process it with pandas."}], "tags": [], "owner": {"reputation": 3467, "user_id": 5509239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6563e2e4d92a4591fcf3b7860bb28192?s=128&d=identicon&r=PG&f=1", "display_name": "memoselyk", "link": "https://stackoverflow.com/users/5509239/memoselyk"}, "is_accepted": true, "score": 1, "last_activity_date": 1450304005, "last_edit_date": 1495540863, "creation_date": 1450300161, "answer_id": 34322145, "question_id": 34321925, "link": "https://stackoverflow.com/questions/34321925/keyerror-reading-json-pickled-tweets-into-dataframe-using-read-pickle/34322145#34322145", "title": "KeyError reading json_pickle(d) tweets into dataframe using read_pickle", "body": "<p>The <code>read_pickle</code> method is intended to deserialize data <em>created</em> with the pickle module, e.g. data serialized with <code>to_picke</code> method of <code>Series</code>, <code>DataFrames</code> or <code>Panel</code>. Like shown in <a href=\"https://stackoverflow.com/a/17098736/5509239\">this answer</a>.</p>\n\n<p>If you are using <code>jsonpickle.encode</code>, you should be using the dual method provided by the library, <code>jsonpickle.decode</code> to deserialize your data.</p>\n\n<p>In general, I think you are better of using pandas' serialization mechanism.</p>\n\n<p>But if you want too badly to use <code>jsonpickle</code>:</p>\n\n<ol>\n<li>Note the following from documentation, \n\n<blockquote>\n  <p>If you will never need to load (regenerate the Python class from JSON), you can pass in the keyword unpicklable=False</p>\n</blockquote></li>\n</ol>\n\n<p>So, you shoudn't passk <code>unpicklable=False</code> to the <code>encode</code> methdod.</p>\n\n<ol start=\"2\">\n<li>You appear to be saving each object to a line in your file, so you should do.</li>\n</ol>\n\n<p>Something along this lines,</p>\n\n<pre><code>tweets = []\nfor line in fileToProcess:\n    line = line[:-1]  # Drop '\\n' char\n    tweets.append(jsonpickle.decode(line)) \n</code></pre>\n"}], "owner": {"reputation": 1312, "user_id": 2645252, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/bb55801eca56ea86014fac87ef96a062?s=128&d=identicon&r=PG", "display_name": "mobcdi", "link": "https://stackoverflow.com/users/2645252/mobcdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 746, "favorite_count": 0, "accepted_answer_id": 34322145, "answer_count": 1, "score": 1, "last_activity_date": 1450304005, "creation_date": 1450299244, "last_edit_date": 1450299763, "question_id": 34321925, "link": "https://stackoverflow.com/questions/34321925/keyerror-reading-json-pickled-tweets-into-dataframe-using-read-pickle", "title": "KeyError reading json_pickle(d) tweets into dataframe using read_pickle", "body": "<p>Using python 2.7 and the jsonpickle and pandas library I saved a number of tweets to a .txt file using <code>jsonfile.write(jsonpickle.encode(tweets._json,unpicklable=False)+'\\n')</code> \nwhich encodes the json value of the tweet using the <code>jsonpickle</code> package</p>\n\n<p>when i try to read the txt file into a pandas dataframe in a different script using \n<code>tester = pandas.read_pickle(fileToProcess)</code></p>\n\n<p>My traceback's most recent call is</p>\n\n<blockquote>\n  <p>File \"C:\\Python27\\lib\\pickle.py\", line 858, in load\n      dispatchkey\n  KeyError: '{'</p>\n</blockquote>\n\n<p>I get the same error with a number of files I created. \nHere is an example file 3.8MB in size <a href=\"https://drive.google.com/file/d/0B36Iq5nWyHEFRVE4OE84SFFwQ1U/view?usp=sharing\" rel=\"nofollow\">Sample Tweets File</a>\nI'm new to json files but can an panda or a pickle expert help me get my tweets into a dataframe?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 450, "user_id": 1490760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENtSd.jpg?s=128&g=1", "display_name": "mrDinkelman", "link": "https://stackoverflow.com/users/1490760/mrdinkelman"}, "edited": false, "score": 0, "creation_date": 1450299160, "post_id": 34321865, "comment_id": 56385521, "body": "this is not code writing resource, please provide your codes first"}, {"owner": {"reputation": 1941, "user_id": 5186820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3054407a607bcfc6f7203280afd0aceb?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5186820/brian"}, "edited": false, "score": 1, "creation_date": 1450299365, "post_id": 34321865, "comment_id": 56385633, "body": "You&#39;re welcome.  You&#39;re great, too.  Did you have a question?"}, {"owner": {"reputation": 3, "user_id": 5626944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95d25953d42267c96e655edadeb43c6?s=128&d=identicon&r=PG&f=1", "display_name": "Aidan Tulloch", "link": "https://stackoverflow.com/users/5626944/aidan-tulloch"}, "edited": false, "score": 0, "creation_date": 1450300145, "post_id": 34321865, "comment_id": 56386036, "body": "Yes, Brian. It is written just above where you wrote your thing"}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1450300634, "post_id": 34321865, "comment_id": 56386259, "body": "Can you give us an example line from the file?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1450478274, "post_id": 34321865, "comment_id": 56472454, "body": "Scripted the introduction as a proper use case; easier to read."}], "answers": [{"tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": true, "score": 1, "last_activity_date": 1450300812, "creation_date": 1450300812, "answer_id": 34322308, "question_id": 34321865, "link": "https://stackoverflow.com/questions/34321865/python-2-how-do-i-search-for-a-string-in-a-text-file-before-returning-the-entir/34322308#34322308", "title": "Python 2: How do I search for a string in a text file before returning the entire line from the text file that contains this string?", "body": "<p>Without the actual txt file, it's hard to say if this will work perfectly, but it's the right general idea.</p>\n\n<pre><code>with open(\"file.txt\", \"r\") as f, open(\"otherfile.txt\", \"a\") as g:\n    for line in file.readlines():\n        lineparts = line.split()\n            if id_code in lineparts:\n                g.write(line)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5626944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95d25953d42267c96e655edadeb43c6?s=128&d=identicon&r=PG&f=1", "display_name": "Aidan Tulloch", "link": "https://stackoverflow.com/users/5626944/aidan-tulloch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 34322308, "answer_count": 1, "score": 0, "last_activity_date": 1450478274, "creation_date": 1450299005, "last_edit_date": 1450478274, "question_id": 34321865, "link": "https://stackoverflow.com/questions/34321865/python-2-how-do-i-search-for-a-string-in-a-text-file-before-returning-the-entir", "title": "Python 2: How do I search for a string in a text file before returning the entire line from the text file that contains this string?", "body": "<p>Use case:\nThe user enters an ID code. \nA stored file contains information about people, one line per person, including their ID codes.\nI need to find this user's line in the file and append that to another text file.</p>\n\n<pre><code>with open(\"file.txt\") as file:\nfor line in file:\n    if id_code in line:\n        yield line\n</code></pre>\n\n<p>Now  what? How do I go from yielding the line to getting it in another file? Also, if the id code isn't in the file at all, can I ask them to try again?</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 5683145, "user_type": "registered", "profile_image": "https://graph.facebook.com/859236417526394/picture?type=large", "display_name": "Vasya  Pravdin", "link": "https://stackoverflow.com/users/5683145/vasya-pravdin"}, "is_accepted": false, "score": -2, "last_activity_date": 1450299503, "creation_date": 1450299503, "answer_id": 34321982, "question_id": 34321808, "link": "https://stackoverflow.com/questions/34321808/matplotlib-axis-limits-and-text-positions-independent-of-dataset-units/34321982#34321982", "title": "Matplotlib axis limits and text positions independent of dataset units", "body": "<p>May be you should use <code>seaborn</code> where no any borders. I think it's very good way. \nIt will be look like this:\n<a href=\"https://i.stack.imgur.com/M1693.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M1693.png\" alt=\"ok\"></a></p>\n\n<p>you should write string <code>import seaborn</code> at the beginning of the script.</p>\n"}, {"comments": [{"owner": {"reputation": 2589, "user_id": 3776938, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1b19e04e44001cc1ddba3afc2212365?s=128&d=identicon&r=PG&f=1", "display_name": "AJG519", "link": "https://stackoverflow.com/users/3776938/ajg519"}, "edited": false, "score": 0, "creation_date": 1450301310, "post_id": 34322354, "comment_id": 56386589, "body": "Thanks, this is very helpful."}, {"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1450330497, "post_id": 34322354, "comment_id": 56396254, "body": "FYI <a href=\"https://github.com/matplotlib/matplotlib/pull/5588\" rel=\"nofollow noreferrer\">github.com/matplotlib/matplotlib/pull/5588</a> this was just merged to master which <i>should</i> help with the tick density issue (and will be in 2.0)"}], "tags": [], "owner": {"reputation": 237077, "user_id": 325565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG", "display_name": "Joe Kington", "link": "https://stackoverflow.com/users/325565/joe-kington"}, "is_accepted": true, "score": 2, "last_activity_date": 1450302761, "last_edit_date": 1450302761, "creation_date": 1450300978, "answer_id": 34322354, "question_id": 34321808, "link": "https://stackoverflow.com/questions/34321808/matplotlib-axis-limits-and-text-positions-independent-of-dataset-units/34322354#34322354", "title": "Matplotlib axis limits and text positions independent of dataset units", "body": "<p>First off, for placing text with an offset such as this, you almost never want to use <code>text</code>.  Instead, use <code>annotate</code>.  The advantage is that you can give an offset of the text in <em>points</em> instead of data units.</p>\n\n<p>Next, to reduce the density of tick locations, use <code>ax.locator_params</code> and change the <code>nbins</code> parameter.  <code>nbins</code> controls the tick density. Tick locations will still be automatically chosen, but reducing <code>nbins</code> will reduce the maximum number of tick locations.  If you do lower <code>nbins</code>, you may want to also change the numbers that matplotlib considers \"even\" when picking tick intervals.  That way, you have more options to get the expected number of ticks.</p>\n\n<p>Finally, to avoid manually setting limits with a set padding, consider using <code>margins(some_percentage)</code> to pad the extents by a percentage of the current limits.</p>\n\n<p>To show a complete example of all:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\ndistance=np.array([1000,3000,7000,15000,20000])\nelevation=np.array([100,200,350,800,400])\n\ndef plot(x, y):\n    fig, ax = plt.subplots(figsize=(8, 2))\n\n    # Plot your data and place a marker at the peak location\n    maxpoint=x[np.argmax(y)], max(y)\n    ax.scatter(maxpoint[0], maxpoint[1], s=10)\n    ax.plot(x, y)\n\n    # Reduce the maximum number of ticks and give matplotlib more flexibility\n    # in the tick intervals it can choose.\n    # Essentially, this will more or less always have two ticks on the y-axis\n    # and 4 on the x-axis\n    ax.locator_params(axis='y', nbins=3, steps=range(1, 11))\n    ax.locator_params(axis='x', nbins=5, steps=range(1, 11))\n\n    # Annotate the peak location. The text will always be 5 points from the\n    # data location.\n    ax.annotate('Maximum = {:0.0f}'.format(maxpoint[1]), size=8,\n                xy=maxpoint, xytext=(5, 5), textcoords='offset points')\n\n    # Give ourselves lots of padding on the y-axis, less on the x\n    ax.margins(x=0.01, y=0.3)\n    ax.set_ylim(bottom=y.min())\n\n    # Set the aspect of the plot to be equal and add some x/y labels\n    ax.set(xlabel='Distance', ylabel='Elevation', aspect=1)\n    plt.show()\n\nplot(distance,elevation)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oc8mi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oc8mi.png\" alt=\"enter image description here\"></a></p>\n\n<p>And if we change the data:</p>\n\n<pre><code>plot(distance * 4, elevation * 5)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6jivR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6jivR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Finally, you might consider placing the annotation just above the top of the axis, instead of offset from the point:</p>\n\n<pre><code>ax.annotate('Maximum = {:0.0f}'.format(maxpoint[1]), ha='center',\n            size=8, xy=(maxpoint[0], 1), xytext=(0, 5),\n            textcoords='offset points',\n            xycoords=('data', 'axes fraction'))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qmdAL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qmdAL.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2589, "user_id": 3776938, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1b19e04e44001cc1ddba3afc2212365?s=128&d=identicon&r=PG&f=1", "display_name": "AJG519", "link": "https://stackoverflow.com/users/3776938/ajg519"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1347, "favorite_count": 1, "accepted_answer_id": 34322354, "answer_count": 2, "score": 2, "last_activity_date": 1450302761, "creation_date": 1450298777, "question_id": 34321808, "link": "https://stackoverflow.com/questions/34321808/matplotlib-axis-limits-and-text-positions-independent-of-dataset-units", "title": "Matplotlib axis limits and text positions independent of dataset units", "body": "<p>I'm trying to make plots that are formatted the same way despite coming from different datasets and I'm running into issues with getting consistent text positions and appropriate axis limits because the datasets are not scaled exactly the same. For example - say I generate the following elevation profile:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nDistance=np.array([1000,3000,7000,15000,20000])\nElevation=np.array([100,200,350,800,400])\n\ndef MyPlot(X,Y):\n    fig = plt.figure()\n    ax = fig.add_subplot(111, aspect='equal')\n    ax.plot(X,Y)\n    fig.set_size_inches(fig.get_size_inches()*2)\n    ax.set_ylim(min(Y)-50, max(Y)+500)\n    ax.set_xlim(min(X)-50, max(X)+50)\n\n    MaxPoint=X[np.argmax(Y)], max(Y)\n    ax.scatter(MaxPoint[0], MaxPoint[1], s=10)\n    ax.text(MaxPoint[0], MaxPoint[1]+100, s='Maximum = '+str(MaxPoint[1]), fontsize=8)\n\nMyPlot(Distance,Elevation)  \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4Djft.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Djft.png\" alt=\"enter image description here\"></a></p>\n\n<p>And then I have another dataset that's scaled differently:</p>\n\n<pre><code>Distance2=Distance*4\nElevation2=Elevation*5\nMyPlot(Distance2,Elevation2)][2]][2]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/SnmVt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SnmVt.png\" alt=\"enter image description here\"></a></p>\n\n<p>Because of the fact that a unit change is relatively much larger in the first dataset than the second dataset, the text and axis labels do not get formatted as I'd like in the 2nd plot. Is there a way to adjust text position and axis limits that adjusts to the relative scale of the dataset?</p>\n"}, {"tags": ["python", "list", "datetime", "matplotlib"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1450300186, "post_id": 34321711, "comment_id": 56386057, "body": "The function you&#39;ve shown doesn&#39;t <code>return</code> anything, rather it <code>print</code>s the lists it creates. Did you leave out part of its code? While you&#39;re looking at it, can you please also fix the indentation?"}, {"owner": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1450304063, "post_id": 34321711, "comment_id": 56387976, "body": "hey @Blckknght! Thanks for that. I left a &quot;print list&quot; instead of &quot;return list&quot;. Already fixed it. Regarding the indentation, it is right :)"}], "answers": [{"comments": [{"owner": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "edited": false, "score": 0, "creation_date": 1450303659, "post_id": 34321960, "comment_id": 56387766, "body": "Not exactly that. I don&#39;t want to make a flat list. In your example I would like that for the first item in date_list (which is y) to create 3 different points in the scatter chart: [y=1 (the first date) and x=1 (the first item from the first list)], [y=1 (the first date) and x=4 (the first item of the second list] and [y=1 (the first date) and x=7 (the first item of the third list]. Got it?"}, {"owner": {"reputation": 2072, "user_id": 4456243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACLxDQfrvA/AAAAAAAAAAI/AAAAAAAAAAA/soJzmYcJ1FE/photo.jpg?sz=128", "display_name": "Zachary Cross", "link": "https://stackoverflow.com/users/4456243/zachary-cross"}, "reply_to_user": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "edited": false, "score": 0, "creation_date": 1450304208, "post_id": 34321960, "comment_id": 56388057, "body": "@abutremutante Got it (I think).  I&#39;ve updated the answer to hopefully address the problem with the new info you provided."}, {"owner": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "edited": false, "score": 0, "creation_date": 1450304477, "post_id": 34321960, "comment_id": 56388196, "body": "it is returning a blank chart and I&#39;m getting the following error: AttributeError: &#39;numpy.string_&#39; object has no attribute &#39;toordinal&#39;"}, {"owner": {"reputation": 2072, "user_id": 4456243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACLxDQfrvA/AAAAAAAAAAI/AAAAAAAAAAA/soJzmYcJ1FE/photo.jpg?sz=128", "display_name": "Zachary Cross", "link": "https://stackoverflow.com/users/4456243/zachary-cross"}, "reply_to_user": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "edited": false, "score": 0, "creation_date": 1450304676, "post_id": 34321960, "comment_id": 56388306, "body": "My guess is that one of the objects in your date list is not a datetime, so when matplotlib tries to convert it into a number (in order to place it on the y-axis), it fails because that non-datetime (which appears to be a numpy.string_), has no function <code>toordinal()</code>"}, {"owner": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "edited": false, "score": 0, "creation_date": 1450384956, "post_id": 34321960, "comment_id": 56429316, "body": "Found out. Inner lists were strings and not floats."}], "tags": [], "owner": {"reputation": 2072, "user_id": 4456243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACLxDQfrvA/AAAAAAAAAAI/AAAAAAAAAAA/soJzmYcJ1FE/photo.jpg?sz=128", "display_name": "Zachary Cross", "link": "https://stackoverflow.com/users/4456243/zachary-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1450304169, "last_edit_date": 1450304169, "creation_date": 1450299375, "answer_id": 34321960, "question_id": 34321711, "link": "https://stackoverflow.com/questions/34321711/creating-scatter-plot-out-of-function-that-returns-many-lists-python/34321960#34321960", "title": "Creating scatter plot out of function that returns many lists - Python", "body": "<p>So, as I understand it:</p>\n\n<ul>\n<li>You have a list of lists, each inner list contains some values (X-axis)</li>\n<li>You have a list of datetime values (Y-axis)</li>\n<li>There will be one date per inner-list in the x-axis list</li>\n</ul>\n\n<p>For each inner list, you want to grab the corresponding date, and then plot all values of the inner list against that one date.</p>\n\n<p>Take advantage of the fact that you can plot multiple times before showing the result and try something like:</p>\n\n<pre><code>from matplotlib import pyplot as plt\n\ndate_list = [1, 2, 3]  # Pretend this has datetimes\nnested_list = [[1,2,3], [4,4,4], [7,8,9]]\n\n# Plot multiple scatter data multiple times, then show\nfor index, inner_list in enumerate(nested_list):\n    num_items = len(inner_list)\n    inner_dates = [date_list[i]] * num_items\n    plt.scatter(inner_dates, inner_list)\n\nplt.show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "is_accepted": true, "score": 1, "last_activity_date": 1450385015, "creation_date": 1450385015, "answer_id": 34343871, "question_id": 34321711, "link": "https://stackoverflow.com/questions/34321711/creating-scatter-plot-out-of-function-that-returns-many-lists-python/34343871#34343871", "title": "Creating scatter plot out of function that returns many lists - Python", "body": "<p>I found an option for that function:</p>\n\n<pre><code>def scatter_lists(list_of_lists,datelist):\n\"\"\"\n:param list_of_lists: lists of lists with inner lists correctly sorted by date and with the right number of items\n:param datelist: a list of dates\n:return: a scattered chart with all the inputed data\n\"\"\"\n\nfor inner_list in list_of_lists:\n    newlist=map(lambda x:float(x),inner_list)\n    newlist=map(lambda x:float(x)/float(max(newlist)),newlist)\n    plt.scatter(datelist,newlist)\n\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 34343871, "answer_count": 2, "score": 0, "last_activity_date": 1450385015, "creation_date": 1450298390, "last_edit_date": 1450366639, "question_id": 34321711, "link": "https://stackoverflow.com/questions/34321711/creating-scatter-plot-out-of-function-that-returns-many-lists-python", "title": "Creating scatter plot out of function that returns many lists - Python", "body": "<p>I have a function that returns different lists (variable number of lists, could be 1, could be 10, could be 200 - in this case we have only one due to characters limit):</p>\n\n<pre><code>def dic2manylists(*dicts):\n\"\"\"\nReceives a dictionaries with tuples as values and turns it into different lists correctly sorted\n:param dic: dictionary with many different values grouped in touples\n:return: different lists correctly sorted\n\"\"\"\n\nfor i in dicts:\n    sorted_dict=sorted(i.items())\n    for item in range(len(sorted_dict[1][1])):\n        list=[]\n        for y in range(len(sorted_dict)):\n            list.append(sorted_dict[y][1][item])\n        return list\n</code></pre>\n\n<p>This function is returning the following:</p>\n\n<pre><code>['21', '28', '28', '18', '17', '17', '18', '16', '20', '21', '22', '22', '20', '17', '23', '21', '20', '21', '21', '22', '22', '22', '21', '22', '21', '20', '21', '20', '22', '21', '24', '24', '23', '23', '23', '22', '22', '22', '23', '24', '22', '23', '24', '20', '22', '23', '24', '23', '24', '22', '25', '26', '22', '21', '21', '21', '21', '20', '21', '23', '23', '23', '24', '21', '26', '26', '27', '26', '26', '29', '27', '26', '25', '27', '27', '26', '26', '24', '24', '23', '26', '24', '26', '29', '29', '28', '27', '27', '26', '26', '26', '28', '25', '26', '26', '24', '25', '25', '26', '25', '25', '25', '26', '31', '25', '24', '24', '24', '24', '24', '25', '24', '22', '26', '27', '26', '27', '28', '25', '28', '27', '28', '27', '29', '28', '28', '29', '28', '28', '25', '27', '27', '27', '27', '27', '29', '31', '30', '28', '28', '27', '28', '28', '27', '26', '28', '27', '25', '27', '25', '27', '26', '26', '27', '28', '32', '28', '26', '27', '26', '25', '25', '26', '25', '26', '25', '27', '26', '26', '25', '28', '28', '29', '29', '31', '34', '33', '31', '32', '32', '30', '32', '32', '31', '32', '33', '35', '36', '37', '35', '35', '34', '33', '32', '32', '34', '32', '32', '32', '31', '32', '31', '33', '31', '33', '33', '34', '37', '32', '32', '32', '32', '32', '30', '34', '35', '33', '35', '34', '32', '36', '38', '38', '38', '37', '37', '38', '39', '37', '38', '38', '39', '39', '39', '38', '39', '38', '41', '39', '43', '44', '44', '45', '44', '42', '42', '44', '43', '41', '43', '43', '43', '40', '41', '39', '41', '39', '40', '40', '45', '42', '41', '40', '40', '41', '40', '42', '42', '38', '42', '44', '45', '45', '45', '44', '46', '48', '47', '50', '51', '50', '51', '49', '50', '48', '49', '50', '51', '50', '52', '53', '56', '57', '55', '54', '53', '55', '53', '54', '51', '53', '52', '51', '49', '48', '48', '49', '50', '47', '48', '51', '53', '53', '50', '47', '47', '48', '47', '48', '47', '49', '48', '52', '60', '58', '55', '100', '61', '55', '55', '54', '54', '54', '55', '55', '54', '53', '54', '53', '55', '56', '54', '55', '56', '58', '56', '56', '56', '55', '54', '55', '56', '56', '56', '56', '53', '54', '54', '54', '54', '52', '52', '54', '57', '58', '55', '54', '52', '52', '52', '54', '55', '54', '53', '53', '56', '57', '56', '56', '58', '55', '61', '59', '60', '61', '60', '64', '61', '62', '61', '60', '62', '63', '63', '65', '67', '69', '71', '68', '69', '66', '68', '70', '69', '69', '70', '69', '67', '68', '66', '65', '66', '63', '63', '64', '66', '72', '68', '65', '62', '64', '61', '63', '60', '59', '62', '63', '64', '65', '63', '61', '64', '63', '61', '61', '63', '64', '64', '63', '62', '65', '64', '64', '64', '64', '68', '66', '68', '69', '72', '70', '68', '66', '68', '65', '71', '69', '62', '63', '64', '61', '63', '64', '64', '64', '62', '60', '62', '70', '66', '65', '62', '62', '62', '62', '60', '64', '64', '64', '66', '66', '63', '69', '68', '66', '67', '69', '68', '67', '67', '68', '66', '68', '67', '68', '70', '71', '69', '70', '70', '75', '75', '73', '69', '71', '69', '69', '69', '73', '71', '71', '69', '67', '67', '65', '68', '69', '64', '66', '65', '70', '66', '66', '64', '63', '65', '64', '65', '66', '65', '65', '66', '68', '65', '65', '69', '66', '68', '65', '70', '69', '71', '69', '71', '72', '69', '68', '67', '68', '71', '72', '74', '76', '72', '71', '72', '70', '69', '67', '70', '70', '66', '66', '68', '67', '66', '67', '65', '74', '68', '67', '69', '69', '68', '69', '67', '67', '66', '64', '63', '66', '66', '66', '66', '66', '64', '62', '66', '66', '65', '66', '68', '70', '69', '68', '67', '67', '67', '64', '67', '66', '68', '66', '69', '68', '69', '69', '65', '66', '69', '68', '69', '66', '65', '65', '66', '66', '65', '66']\n</code></pre>\n\n<p>I have another function that returns a list of dates, below:</p>\n\n<pre><code>datelist=[datetime.datetime(2004, 1, 11, 0, 0), datetime.datetime(2004, 1, 18, 0, 0), datetime.datetime(2004, 1, 25, 0, 0), datetime.datetime(2004, 2, 1, 0, 0), datetime.datetime(2004, 2, 8, 0, 0), datetime.datetime(2004, 2, 15, 0, 0), datetime.datetime(2004, 2, 22, 0, 0), datetime.datetime(2004, 2, 29, 0, 0), datetime.datetime(2004, 3, 7, 0, 0), datetime.datetime(2004, 3, 14, 0, 0), datetime.datetime(2004, 3, 21, 0, 0), datetime.datetime(2004, 3, 28, 0, 0), datetime.datetime(2004, 4, 4, 0, 0), datetime.datetime(2004, 4, 11, 0, 0), datetime.datetime(2004, 4, 18, 0, 0), datetime.datetime(2004, 4, 25, 0, 0), datetime.datetime(2004, 5, 2, 0, 0), datetime.datetime(2004, 5, 9, 0, 0), datetime.datetime(2004, 5, 16, 0, 0), datetime.datetime(2004, 5, 23, 0, 0), datetime.datetime(2004, 5, 30, 0, 0), datetime.datetime(2004, 6, 6, 0, 0), datetime.datetime(2004, 6, 13, 0, 0), datetime.datetime(2004, 6, 20, 0, 0), datetime.datetime(2004, 6, 27, 0, 0), datetime.datetime(2004, 7, 4, 0, 0), datetime.datetime(2004, 7, 11, 0, 0), datetime.datetime(2004, 7, 18, 0, 0), datetime.datetime(2004, 7, 25, 0, 0), datetime.datetime(2004, 8, 1, 0, 0), datetime.datetime(2004, 8, 8, 0, 0), datetime.datetime(2004, 8, 15, 0, 0), datetime.datetime(2004, 8, 22, 0, 0), datetime.datetime(2004, 8, 29, 0, 0), datetime.datetime(2004, 9, 5, 0, 0), datetime.datetime(2004, 9, 12, 0, 0), datetime.datetime(2004, 9, 19, 0, 0), datetime.datetime(2004, 9, 26, 0, 0), datetime.datetime(2004, 10, 3, 0, 0), datetime.datetime(2004, 10, 10, 0, 0), datetime.datetime(2004, 10, 17, 0, 0), datetime.datetime(2004, 10, 24, 0, 0), datetime.datetime(2004, 10, 31, 0, 0), datetime.datetime(2004, 11, 7, 0, 0), datetime.datetime(2004, 11, 14, 0, 0), datetime.datetime(2004, 11, 21, 0, 0), datetime.datetime(2004, 11, 28, 0, 0), datetime.datetime(2004, 12, 5, 0, 0), datetime.datetime(2004, 12, 12, 0, 0), datetime.datetime(2004, 12, 19, 0, 0), datetime.datetime(2004, 12, 26, 0, 0), datetime.datetime(2005, 1, 2, 0, 0), datetime.datetime(2005, 1, 9, 0, 0), datetime.datetime(2005, 1, 16, 0, 0), datetime.datetime(2005, 1, 23, 0, 0), datetime.datetime(2005, 1, 30, 0, 0), datetime.datetime(2005, 2, 6, 0, 0), datetime.datetime(2005, 2, 13, 0, 0), datetime.datetime(2005, 2, 20, 0, 0), datetime.datetime(2005, 2, 27, 0, 0), datetime.datetime(2005, 3, 6, 0, 0), datetime.datetime(2005, 3, 13, 0, 0), datetime.datetime(2005, 3, 20, 0, 0), datetime.datetime(2005, 3, 27, 0, 0), datetime.datetime(2005, 4, 3, 0, 0), datetime.datetime(2005, 4, 10, 0, 0), datetime.datetime(2005, 4, 17, 0, 0), datetime.datetime(2005, 4, 24, 0, 0), datetime.datetime(2005, 5, 1, 0, 0), datetime.datetime(2005, 5, 8, 0, 0), datetime.datetime(2005, 5, 15, 0, 0), datetime.datetime(2005, 5, 22, 0, 0), datetime.datetime(2005, 5, 29, 0, 0), datetime.datetime(2005, 6, 5, 0, 0), datetime.datetime(2005, 6, 12, 0, 0), datetime.datetime(2005, 6, 19, 0, 0), datetime.datetime(2005, 6, 26, 0, 0), datetime.datetime(2005, 7, 3, 0, 0), datetime.datetime(2005, 7, 10, 0, 0), datetime.datetime(2005, 7, 17, 0, 0), datetime.datetime(2005, 7, 24, 0, 0), datetime.datetime(2005, 7, 31, 0, 0), datetime.datetime(2005, 8, 7, 0, 0), datetime.datetime(2005, 8, 14, 0, 0), datetime.datetime(2005, 8, 21, 0, 0), datetime.datetime(2005, 8, 28, 0, 0), datetime.datetime(2005, 9, 4, 0, 0), datetime.datetime(2005, 9, 11, 0, 0), datetime.datetime(2005, 9, 18, 0, 0), datetime.datetime(2005, 9, 25, 0, 0), datetime.datetime(2005, 10, 2, 0, 0), datetime.datetime(2005, 10, 9, 0, 0), datetime.datetime(2005, 10, 16, 0, 0), datetime.datetime(2005, 10, 23, 0, 0), datetime.datetime(2005, 10, 30, 0, 0), datetime.datetime(2005, 11, 6, 0, 0), datetime.datetime(2005, 11, 13, 0, 0), datetime.datetime(2005, 11, 20, 0, 0), datetime.datetime(2005, 11, 27, 0, 0), datetime.datetime(2005, 12, 4, 0, 0), datetime.datetime(2005, 12, 11, 0, 0), datetime.datetime(2005, 12, 18, 0, 0), datetime.datetime(2005, 12, 25, 0, 0), datetime.datetime(2006, 1, 1, 0, 0), datetime.datetime(2006, 1, 8, 0, 0), datetime.datetime(2006, 1, 15, 0, 0), datetime.datetime(2006, 1, 22, 0, 0), datetime.datetime(2006, 1, 29, 0, 0), datetime.datetime(2006, 2, 5, 0, 0), datetime.datetime(2006, 2, 12, 0, 0), datetime.datetime(2006, 2, 19, 0, 0), datetime.datetime(2006, 2, 26, 0, 0), datetime.datetime(2006, 3, 5, 0, 0), datetime.datetime(2006, 3, 12, 0, 0), datetime.datetime(2006, 3, 19, 0, 0), datetime.datetime(2006, 3, 26, 0, 0), datetime.datetime(2006, 4, 2, 0, 0), datetime.datetime(2006, 4, 9, 0, 0), datetime.datetime(2006, 4, 16, 0, 0), datetime.datetime(2006, 4, 23, 0, 0), datetime.datetime(2006, 4, 30, 0, 0), datetime.datetime(2006, 5, 7, 0, 0), datetime.datetime(2006, 5, 14, 0, 0), datetime.datetime(2006, 5, 21, 0, 0), datetime.datetime(2006, 5, 28, 0, 0), datetime.datetime(2006, 6, 4, 0, 0), datetime.datetime(2006, 6, 11, 0, 0), datetime.datetime(2006, 6, 18, 0, 0), datetime.datetime(2006, 6, 25, 0, 0), datetime.datetime(2006, 7, 2, 0, 0), datetime.datetime(2006, 7, 9, 0, 0), datetime.datetime(2006, 7, 16, 0, 0), datetime.datetime(2006, 7, 23, 0, 0), datetime.datetime(2006, 7, 30, 0, 0), datetime.datetime(2006, 8, 6, 0, 0), datetime.datetime(2006, 8, 13, 0, 0), datetime.datetime(2006, 8, 20, 0, 0), datetime.datetime(2006, 8, 27, 0, 0), datetime.datetime(2006, 9, 3, 0, 0), datetime.datetime(2006, 9, 10, 0, 0), datetime.datetime(2006, 9, 17, 0, 0), datetime.datetime(2006, 9, 24, 0, 0), datetime.datetime(2006, 10, 1, 0, 0), datetime.datetime(2006, 10, 8, 0, 0), datetime.datetime(2006, 10, 15, 0, 0), datetime.datetime(2006, 10, 22, 0, 0), datetime.datetime(2006, 10, 29, 0, 0), datetime.datetime(2006, 11, 5, 0, 0), datetime.datetime(2006, 11, 12, 0, 0), datetime.datetime(2006, 11, 19, 0, 0), datetime.datetime(2006, 11, 26, 0, 0), datetime.datetime(2006, 12, 3, 0, 0), datetime.datetime(2006, 12, 10, 0, 0), datetime.datetime(2006, 12, 17, 0, 0), datetime.datetime(2006, 12, 24, 0, 0), datetime.datetime(2006, 12, 31, 0, 0), datetime.datetime(2007, 1, 7, 0, 0), datetime.datetime(2007, 1, 14, 0, 0), datetime.datetime(2007, 1, 21, 0, 0), datetime.datetime(2007, 1, 28, 0, 0), datetime.datetime(2007, 2, 4, 0, 0), datetime.datetime(2007, 2, 11, 0, 0), datetime.datetime(2007, 2, 18, 0, 0), datetime.datetime(2007, 2, 25, 0, 0), datetime.datetime(2007, 3, 4, 0, 0), datetime.datetime(2007, 3, 11, 0, 0), datetime.datetime(2007, 3, 18, 0, 0), datetime.datetime(2007, 3, 25, 0, 0), datetime.datetime(2007, 4, 1, 0, 0), datetime.datetime(2007, 4, 8, 0, 0), datetime.datetime(2007, 4, 15, 0, 0), datetime.datetime(2007, 4, 22, 0, 0), datetime.datetime(2007, 4, 29, 0, 0), datetime.datetime(2007, 5, 6, 0, 0), datetime.datetime(2007, 5, 13, 0, 0), datetime.datetime(2007, 5, 20, 0, 0), datetime.datetime(2007, 5, 27, 0, 0), datetime.datetime(2007, 6, 3, 0, 0), datetime.datetime(2007, 6, 10, 0, 0), datetime.datetime(2007, 6, 17, 0, 0), datetime.datetime(2007, 6, 24, 0, 0), datetime.datetime(2007, 7, 1, 0, 0), datetime.datetime(2007, 7, 8, 0, 0), datetime.datetime(2007, 7, 15, 0, 0), datetime.datetime(2007, 7, 22, 0, 0), datetime.datetime(2007, 7, 29, 0, 0), datetime.datetime(2007, 8, 5, 0, 0), datetime.datetime(2007, 8, 12, 0, 0), datetime.datetime(2007, 8, 19, 0, 0), datetime.datetime(2007, 8, 26, 0, 0), datetime.datetime(2007, 9, 2, 0, 0), datetime.datetime(2007, 9, 9, 0, 0), datetime.datetime(2007, 9, 16, 0, 0), datetime.datetime(2007, 9, 23, 0, 0), datetime.datetime(2007, 9, 30, 0, 0), datetime.datetime(2007, 10, 7, 0, 0), datetime.datetime(2007, 10, 14, 0, 0), datetime.datetime(2007, 10, 21, 0, 0), datetime.datetime(2007, 10, 28, 0, 0), datetime.datetime(2007, 11, 4, 0, 0), datetime.datetime(2007, 11, 11, 0, 0), datetime.datetime(2007, 11, 18, 0, 0), datetime.datetime(2007, 11, 25, 0, 0), datetime.datetime(2007, 12, 2, 0, 0), datetime.datetime(2007, 12, 9, 0, 0), datetime.datetime(2007, 12, 16, 0, 0), datetime.datetime(2007, 12, 23, 0, 0), datetime.datetime(2007, 12, 30, 0, 0), datetime.datetime(2008, 1, 6, 0, 0), datetime.datetime(2008, 1, 13, 0, 0), datetime.datetime(2008, 1, 20, 0, 0), datetime.datetime(2008, 1, 27, 0, 0), datetime.datetime(2008, 2, 3, 0, 0), datetime.datetime(2008, 2, 10, 0, 0), datetime.datetime(2008, 2, 17, 0, 0), datetime.datetime(2008, 2, 24, 0, 0), datetime.datetime(2008, 3, 2, 0, 0), datetime.datetime(2008, 3, 9, 0, 0), datetime.datetime(2008, 3, 16, 0, 0), datetime.datetime(2008, 3, 23, 0, 0), datetime.datetime(2008, 3, 30, 0, 0), datetime.datetime(2008, 4, 6, 0, 0), datetime.datetime(2008, 4, 13, 0, 0), datetime.datetime(2008, 4, 20, 0, 0), datetime.datetime(2008, 4, 27, 0, 0), datetime.datetime(2008, 5, 4, 0, 0), datetime.datetime(2008, 5, 11, 0, 0), datetime.datetime(2008, 5, 18, 0, 0), datetime.datetime(2008, 5, 25, 0, 0), datetime.datetime(2008, 6, 1, 0, 0), datetime.datetime(2008, 6, 8, 0, 0), datetime.datetime(2008, 6, 15, 0, 0), datetime.datetime(2008, 6, 22, 0, 0), datetime.datetime(2008, 6, 29, 0, 0), datetime.datetime(2008, 7, 6, 0, 0), datetime.datetime(2008, 7, 13, 0, 0), datetime.datetime(2008, 7, 20, 0, 0), datetime.datetime(2008, 7, 27, 0, 0), datetime.datetime(2008, 8, 3, 0, 0), datetime.datetime(2008, 8, 10, 0, 0), datetime.datetime(2008, 8, 17, 0, 0), datetime.datetime(2008, 8, 24, 0, 0), datetime.datetime(2008, 8, 31, 0, 0), datetime.datetime(2008, 9, 7, 0, 0), datetime.datetime(2008, 9, 14, 0, 0), datetime.datetime(2008, 9, 21, 0, 0), datetime.datetime(2008, 9, 28, 0, 0), datetime.datetime(2008, 10, 5, 0, 0), datetime.datetime(2008, 10, 12, 0, 0), datetime.datetime(2008, 10, 19, 0, 0), datetime.datetime(2008, 10, 26, 0, 0), datetime.datetime(2008, 11, 2, 0, 0), datetime.datetime(2008, 11, 9, 0, 0), datetime.datetime(2008, 11, 16, 0, 0), datetime.datetime(2008, 11, 23, 0, 0), datetime.datetime(2008, 11, 30, 0, 0), datetime.datetime(2008, 12, 7, 0, 0), datetime.datetime(2008, 12, 14, 0, 0), datetime.datetime(2008, 12, 21, 0, 0), datetime.datetime(2008, 12, 28, 0, 0), datetime.datetime(2009, 1, 4, 0, 0), datetime.datetime(2009, 1, 11, 0, 0), datetime.datetime(2009, 1, 18, 0, 0), datetime.datetime(2009, 1, 25, 0, 0), datetime.datetime(2009, 2, 1, 0, 0), datetime.datetime(2009, 2, 8, 0, 0), datetime.datetime(2009, 2, 15, 0, 0), datetime.datetime(2009, 2, 22, 0, 0), datetime.datetime(2009, 3, 1, 0, 0), datetime.datetime(2009, 3, 8, 0, 0), datetime.datetime(2009, 3, 15, 0, 0), datetime.datetime(2009, 3, 22, 0, 0), datetime.datetime(2009, 3, 29, 0, 0), datetime.datetime(2009, 4, 5, 0, 0), datetime.datetime(2009, 4, 12, 0, 0), datetime.datetime(2009, 4, 19, 0, 0), datetime.datetime(2009, 4, 26, 0, 0), datetime.datetime(2009, 5, 3, 0, 0), datetime.datetime(2009, 5, 10, 0, 0), datetime.datetime(2009, 5, 17, 0, 0), datetime.datetime(2009, 5, 24, 0, 0), datetime.datetime(2009, 5, 31, 0, 0), datetime.datetime(2009, 6, 7, 0, 0), datetime.datetime(2009, 6, 14, 0, 0), datetime.datetime(2009, 6, 21, 0, 0), datetime.datetime(2009, 6, 28, 0, 0), datetime.datetime(2009, 7, 5, 0, 0), datetime.datetime(2009, 7, 12, 0, 0), datetime.datetime(2009, 7, 19, 0, 0), datetime.datetime(2009, 7, 26, 0, 0), datetime.datetime(2009, 8, 2, 0, 0), datetime.datetime(2009, 8, 9, 0, 0), datetime.datetime(2009, 8, 16, 0, 0), datetime.datetime(2009, 8, 23, 0, 0), datetime.datetime(2009, 8, 30, 0, 0), datetime.datetime(2009, 9, 6, 0, 0), datetime.datetime(2009, 9, 13, 0, 0), datetime.datetime(2009, 9, 20, 0, 0), datetime.datetime(2009, 9, 27, 0, 0), datetime.datetime(2009, 10, 4, 0, 0), datetime.datetime(2009, 10, 11, 0, 0), datetime.datetime(2009, 10, 18, 0, 0), datetime.datetime(2009, 10, 25, 0, 0), datetime.datetime(2009, 11, 1, 0, 0), datetime.datetime(2009, 11, 8, 0, 0), datetime.datetime(2009, 11, 15, 0, 0), datetime.datetime(2009, 11, 22, 0, 0), datetime.datetime(2009, 11, 29, 0, 0), datetime.datetime(2009, 12, 6, 0, 0), datetime.datetime(2009, 12, 13, 0, 0), datetime.datetime(2009, 12, 20, 0, 0), datetime.datetime(2009, 12, 27, 0, 0), datetime.datetime(2010, 1, 3, 0, 0), datetime.datetime(2010, 1, 10, 0, 0), datetime.datetime(2010, 1, 17, 0, 0), datetime.datetime(2010, 1, 24, 0, 0), datetime.datetime(2010, 1, 31, 0, 0), datetime.datetime(2010, 2, 7, 0, 0), datetime.datetime(2010, 2, 14, 0, 0), datetime.datetime(2010, 2, 21, 0, 0), datetime.datetime(2010, 2, 28, 0, 0), datetime.datetime(2010, 3, 7, 0, 0), datetime.datetime(2010, 3, 14, 0, 0), datetime.datetime(2010, 3, 21, 0, 0), datetime.datetime(2010, 3, 28, 0, 0), datetime.datetime(2010, 4, 4, 0, 0), datetime.datetime(2010, 4, 11, 0, 0), datetime.datetime(2010, 4, 18, 0, 0), datetime.datetime(2010, 4, 25, 0, 0), datetime.datetime(2010, 5, 2, 0, 0), datetime.datetime(2010, 5, 9, 0, 0), datetime.datetime(2010, 5, 16, 0, 0), datetime.datetime(2010, 5, 23, 0, 0), datetime.datetime(2010, 5, 30, 0, 0), datetime.datetime(2010, 6, 6, 0, 0), datetime.datetime(2010, 6, 13, 0, 0), datetime.datetime(2010, 6, 20, 0, 0), datetime.datetime(2010, 6, 27, 0, 0), datetime.datetime(2010, 7, 4, 0, 0), datetime.datetime(2010, 7, 11, 0, 0), datetime.datetime(2010, 7, 18, 0, 0), datetime.datetime(2010, 7, 25, 0, 0), datetime.datetime(2010, 8, 1, 0, 0), datetime.datetime(2010, 8, 8, 0, 0), datetime.datetime(2010, 8, 15, 0, 0), datetime.datetime(2010, 8, 22, 0, 0), datetime.datetime(2010, 8, 29, 0, 0), datetime.datetime(2010, 9, 5, 0, 0), datetime.datetime(2010, 9, 12, 0, 0), datetime.datetime(2010, 9, 19, 0, 0), datetime.datetime(2010, 9, 26, 0, 0), datetime.datetime(2010, 10, 3, 0, 0), datetime.datetime(2010, 10, 10, 0, 0), datetime.datetime(2010, 10, 17, 0, 0), datetime.datetime(2010, 10, 24, 0, 0), datetime.datetime(2010, 10, 31, 0, 0), datetime.datetime(2010, 11, 7, 0, 0), datetime.datetime(2010, 11, 14, 0, 0), datetime.datetime(2010, 11, 21, 0, 0), datetime.datetime(2010, 11, 28, 0, 0), datetime.datetime(2010, 12, 5, 0, 0), datetime.datetime(2010, 12, 12, 0, 0), datetime.datetime(2010, 12, 19, 0, 0), datetime.datetime(2010, 12, 26, 0, 0), datetime.datetime(2011, 1, 2, 0, 0), datetime.datetime(2011, 1, 9, 0, 0), datetime.datetime(2011, 1, 16, 0, 0), datetime.datetime(2011, 1, 23, 0, 0), datetime.datetime(2011, 1, 30, 0, 0), datetime.datetime(2011, 2, 6, 0, 0), datetime.datetime(2011, 2, 13, 0, 0), datetime.datetime(2011, 2, 20, 0, 0), datetime.datetime(2011, 2, 27, 0, 0), datetime.datetime(2011, 3, 6, 0, 0), datetime.datetime(2011, 3, 13, 0, 0), datetime.datetime(2011, 3, 20, 0, 0), datetime.datetime(2011, 3, 27, 0, 0), datetime.datetime(2011, 4, 3, 0, 0), datetime.datetime(2011, 4, 10, 0, 0), datetime.datetime(2011, 4, 17, 0, 0), datetime.datetime(2011, 4, 24, 0, 0), datetime.datetime(2011, 5, 1, 0, 0), datetime.datetime(2011, 5, 8, 0, 0), datetime.datetime(2011, 5, 15, 0, 0), datetime.datetime(2011, 5, 22, 0, 0), datetime.datetime(2011, 5, 29, 0, 0), datetime.datetime(2011, 6, 5, 0, 0), datetime.datetime(2011, 6, 12, 0, 0), datetime.datetime(2011, 6, 19, 0, 0), datetime.datetime(2011, 6, 26, 0, 0), datetime.datetime(2011, 7, 3, 0, 0), datetime.datetime(2011, 7, 10, 0, 0), datetime.datetime(2011, 7, 17, 0, 0), datetime.datetime(2011, 7, 24, 0, 0), datetime.datetime(2011, 7, 31, 0, 0), datetime.datetime(2011, 8, 7, 0, 0), datetime.datetime(2011, 8, 14, 0, 0), datetime.datetime(2011, 8, 21, 0, 0), datetime.datetime(2011, 8, 28, 0, 0), datetime.datetime(2011, 9, 4, 0, 0), datetime.datetime(2011, 9, 11, 0, 0), datetime.datetime(2011, 9, 18, 0, 0), datetime.datetime(2011, 9, 25, 0, 0), datetime.datetime(2011, 10, 2, 0, 0), datetime.datetime(2011, 10, 9, 0, 0), datetime.datetime(2011, 10, 16, 0, 0), datetime.datetime(2011, 10, 23, 0, 0), datetime.datetime(2011, 10, 30, 0, 0), datetime.datetime(2011, 11, 6, 0, 0), datetime.datetime(2011, 11, 13, 0, 0), datetime.datetime(2011, 11, 20, 0, 0), datetime.datetime(2011, 11, 27, 0, 0), datetime.datetime(2011, 12, 4, 0, 0), datetime.datetime(2011, 12, 11, 0, 0), datetime.datetime(2011, 12, 18, 0, 0), datetime.datetime(2011, 12, 25, 0, 0), datetime.datetime(2012, 1, 1, 0, 0), datetime.datetime(2012, 1, 8, 0, 0), datetime.datetime(2012, 1, 15, 0, 0), datetime.datetime(2012, 1, 22, 0, 0), datetime.datetime(2012, 1, 29, 0, 0), datetime.datetime(2012, 2, 5, 0, 0), datetime.datetime(2012, 2, 12, 0, 0), datetime.datetime(2012, 2, 19, 0, 0), datetime.datetime(2012, 2, 26, 0, 0), datetime.datetime(2012, 3, 4, 0, 0), datetime.datetime(2012, 3, 11, 0, 0), datetime.datetime(2012, 3, 18, 0, 0), datetime.datetime(2012, 3, 25, 0, 0), datetime.datetime(2012, 4, 1, 0, 0), datetime.datetime(2012, 4, 8, 0, 0), datetime.datetime(2012, 4, 15, 0, 0), datetime.datetime(2012, 4, 22, 0, 0), datetime.datetime(2012, 4, 29, 0, 0), datetime.datetime(2012, 5, 6, 0, 0), datetime.datetime(2012, 5, 13, 0, 0), datetime.datetime(2012, 5, 20, 0, 0), datetime.datetime(2012, 5, 27, 0, 0), datetime.datetime(2012, 6, 3, 0, 0), datetime.datetime(2012, 6, 10, 0, 0), datetime.datetime(2012, 6, 17, 0, 0), datetime.datetime(2012, 6, 24, 0, 0), datetime.datetime(2012, 7, 1, 0, 0), datetime.datetime(2012, 7, 8, 0, 0), datetime.datetime(2012, 7, 15, 0, 0), datetime.datetime(2012, 7, 22, 0, 0), datetime.datetime(2012, 7, 29, 0, 0), datetime.datetime(2012, 8, 5, 0, 0), datetime.datetime(2012, 8, 12, 0, 0), datetime.datetime(2012, 8, 19, 0, 0), datetime.datetime(2012, 8, 26, 0, 0), datetime.datetime(2012, 9, 2, 0, 0), datetime.datetime(2012, 9, 9, 0, 0), datetime.datetime(2012, 9, 16, 0, 0), datetime.datetime(2012, 9, 23, 0, 0), datetime.datetime(2012, 9, 30, 0, 0), datetime.datetime(2012, 10, 7, 0, 0), datetime.datetime(2012, 10, 14, 0, 0), datetime.datetime(2012, 10, 21, 0, 0), datetime.datetime(2012, 10, 28, 0, 0), datetime.datetime(2012, 11, 4, 0, 0), datetime.datetime(2012, 11, 11, 0, 0), datetime.datetime(2012, 11, 18, 0, 0), datetime.datetime(2012, 11, 25, 0, 0), datetime.datetime(2012, 12, 2, 0, 0), datetime.datetime(2012, 12, 9, 0, 0), datetime.datetime(2012, 12, 16, 0, 0), datetime.datetime(2012, 12, 23, 0, 0), datetime.datetime(2012, 12, 30, 0, 0), datetime.datetime(2013, 1, 6, 0, 0), datetime.datetime(2013, 1, 13, 0, 0), datetime.datetime(2013, 1, 20, 0, 0), datetime.datetime(2013, 1, 27, 0, 0), datetime.datetime(2013, 2, 3, 0, 0), datetime.datetime(2013, 2, 10, 0, 0), datetime.datetime(2013, 2, 17, 0, 0), datetime.datetime(2013, 2, 24, 0, 0), datetime.datetime(2013, 3, 3, 0, 0), datetime.datetime(2013, 3, 10, 0, 0), datetime.datetime(2013, 3, 17, 0, 0), datetime.datetime(2013, 3, 24, 0, 0), datetime.datetime(2013, 3, 31, 0, 0), datetime.datetime(2013, 4, 7, 0, 0), datetime.datetime(2013, 4, 14, 0, 0), datetime.datetime(2013, 4, 21, 0, 0), datetime.datetime(2013, 4, 28, 0, 0), datetime.datetime(2013, 5, 5, 0, 0), datetime.datetime(2013, 5, 12, 0, 0), datetime.datetime(2013, 5, 19, 0, 0), datetime.datetime(2013, 5, 26, 0, 0), datetime.datetime(2013, 6, 2, 0, 0), datetime.datetime(2013, 6, 9, 0, 0), datetime.datetime(2013, 6, 16, 0, 0), datetime.datetime(2013, 6, 23, 0, 0), datetime.datetime(2013, 6, 30, 0, 0), datetime.datetime(2013, 7, 7, 0, 0), datetime.datetime(2013, 7, 14, 0, 0), datetime.datetime(2013, 7, 21, 0, 0), datetime.datetime(2013, 7, 28, 0, 0), datetime.datetime(2013, 8, 4, 0, 0), datetime.datetime(2013, 8, 11, 0, 0), datetime.datetime(2013, 8, 18, 0, 0), datetime.datetime(2013, 8, 25, 0, 0), datetime.datetime(2013, 9, 1, 0, 0), datetime.datetime(2013, 9, 8, 0, 0), datetime.datetime(2013, 9, 15, 0, 0), datetime.datetime(2013, 9, 22, 0, 0), datetime.datetime(2013, 9, 29, 0, 0), datetime.datetime(2013, 10, 6, 0, 0), datetime.datetime(2013, 10, 13, 0, 0), datetime.datetime(2013, 10, 20, 0, 0), datetime.datetime(2013, 10, 27, 0, 0), datetime.datetime(2013, 11, 3, 0, 0), datetime.datetime(2013, 11, 10, 0, 0), datetime.datetime(2013, 11, 17, 0, 0), datetime.datetime(2013, 11, 24, 0, 0), datetime.datetime(2013, 12, 1, 0, 0), datetime.datetime(2013, 12, 8, 0, 0), datetime.datetime(2013, 12, 15, 0, 0), datetime.datetime(2013, 12, 22, 0, 0), datetime.datetime(2013, 12, 29, 0, 0), datetime.datetime(2014, 1, 5, 0, 0), datetime.datetime(2014, 1, 12, 0, 0), datetime.datetime(2014, 1, 19, 0, 0), datetime.datetime(2014, 1, 26, 0, 0), datetime.datetime(2014, 2, 2, 0, 0), datetime.datetime(2014, 2, 9, 0, 0), datetime.datetime(2014, 2, 16, 0, 0), datetime.datetime(2014, 2, 23, 0, 0), datetime.datetime(2014, 3, 2, 0, 0), datetime.datetime(2014, 3, 9, 0, 0), datetime.datetime(2014, 3, 16, 0, 0), datetime.datetime(2014, 3, 23, 0, 0), datetime.datetime(2014, 3, 30, 0, 0), datetime.datetime(2014, 4, 6, 0, 0), datetime.datetime(2014, 4, 13, 0, 0), datetime.datetime(2014, 4, 20, 0, 0), datetime.datetime(2014, 4, 27, 0, 0), datetime.datetime(2014, 5, 4, 0, 0), datetime.datetime(2014, 5, 11, 0, 0), datetime.datetime(2014, 5, 18, 0, 0), datetime.datetime(2014, 5, 25, 0, 0), datetime.datetime(2014, 6, 1, 0, 0), datetime.datetime(2014, 6, 8, 0, 0), datetime.datetime(2014, 6, 15, 0, 0), datetime.datetime(2014, 6, 22, 0, 0), datetime.datetime(2014, 6, 29, 0, 0), datetime.datetime(2014, 7, 6, 0, 0), datetime.datetime(2014, 7, 13, 0, 0), datetime.datetime(2014, 7, 20, 0, 0), datetime.datetime(2014, 7, 27, 0, 0), datetime.datetime(2014, 8, 3, 0, 0), datetime.datetime(2014, 8, 10, 0, 0), datetime.datetime(2014, 8, 17, 0, 0), datetime.datetime(2014, 8, 24, 0, 0), datetime.datetime(2014, 8, 31, 0, 0), datetime.datetime(2014, 9, 7, 0, 0), datetime.datetime(2014, 9, 14, 0, 0), datetime.datetime(2014, 9, 21, 0, 0), datetime.datetime(2014, 9, 28, 0, 0), datetime.datetime(2014, 10, 5, 0, 0), datetime.datetime(2014, 10, 12, 0, 0), datetime.datetime(2014, 10, 19, 0, 0), datetime.datetime(2014, 10, 26, 0, 0), datetime.datetime(2014, 11, 2, 0, 0), datetime.datetime(2014, 11, 9, 0, 0), datetime.datetime(2014, 11, 16, 0, 0), datetime.datetime(2014, 11, 23, 0, 0), datetime.datetime(2014, 11, 30, 0, 0), datetime.datetime(2014, 12, 7, 0, 0), datetime.datetime(2014, 12, 14, 0, 0), datetime.datetime(2014, 12, 21, 0, 0), datetime.datetime(2014, 12, 28, 0, 0), datetime.datetime(2015, 1, 4, 0, 0), datetime.datetime(2015, 1, 11, 0, 0), datetime.datetime(2015, 1, 18, 0, 0), datetime.datetime(2015, 1, 25, 0, 0), datetime.datetime(2015, 2, 1, 0, 0), datetime.datetime(2015, 2, 8, 0, 0), datetime.datetime(2015, 2, 15, 0, 0), datetime.datetime(2015, 2, 22, 0, 0), datetime.datetime(2015, 3, 1, 0, 0), datetime.datetime(2015, 3, 8, 0, 0), datetime.datetime(2015, 3, 15, 0, 0), datetime.datetime(2015, 3, 22, 0, 0), datetime.datetime(2015, 3, 29, 0, 0), datetime.datetime(2015, 4, 5, 0, 0), datetime.datetime(2015, 4, 12, 0, 0), datetime.datetime(2015, 4, 19, 0, 0), datetime.datetime(2015, 4, 26, 0, 0), datetime.datetime(2015, 5, 3, 0, 0), datetime.datetime(2015, 5, 10, 0, 0), datetime.datetime(2015, 5, 17, 0, 0), datetime.datetime(2015, 5, 24, 0, 0), datetime.datetime(2015, 5, 31, 0, 0), datetime.datetime(2015, 6, 7, 0, 0), datetime.datetime(2015, 6, 14, 0, 0), datetime.datetime(2015, 6, 21, 0, 0), datetime.datetime(2015, 6, 28, 0, 0), datetime.datetime(2015, 7, 5, 0, 0), datetime.datetime(2015, 7, 12, 0, 0), datetime.datetime(2015, 7, 19, 0, 0), datetime.datetime(2015, 7, 26, 0, 0), datetime.datetime(2015, 8, 2, 0, 0), datetime.datetime(2015, 8, 9, 0, 0), datetime.datetime(2015, 8, 16, 0, 0), datetime.datetime(2015, 8, 23, 0, 0), datetime.datetime(2015, 8, 30, 0, 0), datetime.datetime(2015, 9, 6, 0, 0), datetime.datetime(2015, 9, 13, 0, 0), datetime.datetime(2015, 9, 20, 0, 0), datetime.datetime(2015, 9, 27, 0, 0), datetime.datetime(2015, 10, 4, 0, 0), datetime.datetime(2015, 10, 11, 0, 0), datetime.datetime(2015, 10, 18, 0, 0), datetime.datetime(2015, 10, 25, 0, 0), datetime.datetime(2015, 11, 1, 0, 0), datetime.datetime(2015, 11, 8, 0, 0), datetime.datetime(2015, 11, 15, 0, 0)]\n</code></pre>\n\n<p>All the lists (datelist and the other for lists) will have the same number of items and are correctly sorted in a way that the first items in the lists correspond to the first item in the datelist and so on.</p>\n\n<p>My question is, how do I combine the  datelist and the lists returned from the function (which could be many, indetermined number) into one single scatter plot that have datelist as y and the lists items as x's?</p>\n"}, {"tags": ["python", "regex", "python-2.7", "text-parsing", "string-parsing"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1450298713, "post_id": 34321618, "comment_id": 56385239, "body": "It&#39;s not a version problem. I tried your code in 3.X and it still didn&#39;t work. Also, try using a raw string for your <code>compile</code> argument so it doesn&#39;t inadvertently read your slashes as the beginning of an escape sequence."}, {"owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 0, "creation_date": 1450299780, "post_id": 34321618, "comment_id": 56385838, "body": "&quot;Now i have two problems:&quot; (<a href=\"http://blog.codinghorror.com/regular-expressions-now-you-have-two-problems/\" rel=\"nofollow noreferrer\">link</a>) :^)"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450300400, "post_id": 34321618, "comment_id": 56386158, "body": "Side-note: Even fixed to &quot;work&quot;, this pattern will see <code>4400</code> and return <code>400</code>, or <code>a123</code> and return <code>123</code>. This may be a problem because if <code>4400</code> should be ignored, then you shouldn&#39;t get a piece of it (just adding <code>\\b</code> to the front causes other issues, so it&#39;s harder than that), and because <a href=\"https://en.wikipedia.org/wiki/Decimal_mark#Exceptions_to_digit_grouping\" rel=\"nofollow noreferrer\">English digit grouping rules allow the omission of the comma when the value is four digits to the left of the decimal, between 1000 and 9999</a>, so <code>4400</code> should be accepted as an &quot;English formatted number&quot; and isn&#39;t."}], "answers": [{"tags": [], "owner": {"reputation": 33608, "user_id": 1651298, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/sy8Lv.jpg?s=128&g=1", "display_name": "Giorgi Nakeuri", "link": "https://stackoverflow.com/users/1651298/giorgi-nakeuri"}, "is_accepted": false, "score": 2, "last_activity_date": 1450298693, "creation_date": 1450298693, "answer_id": 34321788, "question_id": 34321618, "link": "https://stackoverflow.com/questions/34321618/python-2-7-7-not-working-with-regex/34321788#34321788", "title": "Python 2.7.7 not working with RegEx", "body": "<p>Can you try this regex?</p>\n\n<pre><code>((?:\\d+,?)+\\.?\\d+)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/qN0gV9/1\" rel=\"nofollow\">https://regex101.com/r/qN0gV9/1</a></p>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450299623, "post_id": 34321966, "comment_id": 56385753, "body": "You made one other fix that you didn&#39;t call out (escaping the <code>.</code>s to <code>\\.</code>s so they&#39;re literals, not &quot;any char&quot;). Otherwise perfect (and this is another example of why I harp on &quot;ALWAYS USE RAW STRINGS FOR REGULAR EXPRESSIONS IN PYTHON!!!&quot;). :-)"}, {"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 1, "creation_date": 1450299636, "post_id": 34321966, "comment_id": 56385762, "body": "I believe the last part of the original regex is there to match numbers like &quot;.23&quot;, without an explicit integral part."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450299758, "post_id": 34321966, "comment_id": 56385826, "body": "@ShadowRanger the escape was already in the original matching pattern that he used, if you look at the code that he posted, rather than the pattern he &quot;got his hands on&quot; (theyre not the same)"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450299810, "post_id": 34321966, "comment_id": 56385851, "body": "And the simplified regex could easily overmatch; if the goal is to recognize groups of 3 matching standard comma separation rules, matching <code>1,2,3</code> would be wrong."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1450299841, "post_id": 34321966, "comment_id": 56385875, "body": "@MarkDickinson aaaahhh I must have been being tripped up from the groupings and parentheses and such. will add it in again."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450300180, "post_id": 34321966, "comment_id": 56386052, "body": "@ShadowRanger yeah I know, I stated as such after the pattern. I was already debating whether I should put it in or not so I just edited it out after realizing what it can really match"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450300183, "post_id": 34321966, "comment_id": 56386056, "body": "Side-note: This pattern, as written, will see <code>4400</code> and return <code>400</code>, or <code>a123</code> and return <code>123</code>. This is a problem (not @RNar&#39;s, the original pattern had the same issue) because if <code>4400</code> should be ignored, then you shouldn&#39;t get pieces of it (just adding <code>\\b</code> to the front causes other issues, so it&#39;s harder than that), and because <a href=\"https://en.wikipedia.org/wiki/Decimal_mark#Exceptions_to_digit_grouping\" rel=\"nofollow noreferrer\">English digit grouping rules allow the omission of the comma when the value is four digits to the left of the decimal, between 1000 and 9999</a>, so <code>4400</code> should be accepted and isn&#39;t."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450300557, "post_id": 34321966, "comment_id": 56386216, "body": "@ShadowRanger Thank you for that, I have added in your comment as an edit to make it more visible to others"}, {"owner": {"reputation": 425, "user_id": 944900, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1d655522786f8a0e21701e57373ba28d?s=128&d=identicon&r=PG", "display_name": "sqwale", "link": "https://stackoverflow.com/users/944900/sqwale"}, "edited": false, "score": 0, "creation_date": 1450427627, "post_id": 34321966, "comment_id": 56444412, "body": "this doesn&#39;t work for 1912.04 its just returns 912.04, any ideas?"}, {"owner": {"reputation": 425, "user_id": 944900, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1d655522786f8a0e21701e57373ba28d?s=128&d=identicon&r=PG", "display_name": "sqwale", "link": "https://stackoverflow.com/users/944900/sqwale"}, "edited": false, "score": 0, "creation_date": 1450427950, "post_id": 34321966, "comment_id": 56444578, "body": "this doesn&#39;t work for 1912.04 its just returns 912.04 as you described but it is required as various information is formatted differently. How would you suggest i go about it?"}, {"owner": {"reputation": 425, "user_id": 944900, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1d655522786f8a0e21701e57373ba28d?s=128&d=identicon&r=PG", "display_name": "sqwale", "link": "https://stackoverflow.com/users/944900/sqwale"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450429107, "post_id": 34321966, "comment_id": 56445196, "body": "Made some changes this works pretty good but it captures very large numbers which is fine with me.    ([0-9]+([,.]+[0-9]+)*|[0-9]+(\\.+[0-9]+)*|(\\.+[01]+)*)\\b   Thank you all very much @R Nar and @ShadowRanger and everyone who responded. Would you guys recommend me to continue to using regex even for very large diverse short snippets of text like the above. Or should i start to look into semantic parsing or are there any other tools out there to handle such scenarios ?"}, {"owner": {"reputation": 425, "user_id": 944900, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1d655522786f8a0e21701e57373ba28d?s=128&d=identicon&r=PG", "display_name": "sqwale", "link": "https://stackoverflow.com/users/944900/sqwale"}, "edited": false, "score": 0, "creation_date": 1450429508, "post_id": 34321966, "comment_id": 56445414, "body": "sorry about that i meant ([0-9]+([,.]+[0-9]+)*|[0-9])\\b"}], "tags": [], "owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "is_accepted": true, "score": 4, "last_activity_date": 1450300532, "last_edit_date": 1592644375, "creation_date": 1450299420, "answer_id": 34321966, "question_id": 34321618, "link": "https://stackoverflow.com/questions/34321618/python-2-7-7-not-working-with-regex/34321966#34321966", "title": "Python 2.7.7 not working with RegEx", "body": "<p>Two main problems:</p>\n<ul>\n<li><p><code>re.findall</code> will return a list of tuples if your pattern has any capturing groups in it. Since your pattern is using groups in a very odd way, you will end up seeing some weird results from this. Make use of non capturing groups by using <code>(?:</code> instead of just plain <code>(</code> parentheses.</p>\n</li>\n<li><p>because if the use of <code>\\b</code>, you should specify your pattern string as a raw string with an <code>r'string'</code>. In reality, all of your regex's should use a raw string to ensure that nothing is being parsed weirdly.</p>\n</li>\n</ul>\n<p>With those in mind, this works perfectly fine:</p>\n<pre><code>&gt;&gt;&gt; regex = re.compile(r'[0-9]{1,3}(?:,[0-9]{3})*(?:\\.[0-9]+)?\\b|\\.[0-9]+\\b')\n&gt;&gt;&gt; mynumerics = re.findall(regex,'The final bill is USD1,010.53 and you will earn 300 points. What about .25 and 123,456.12?')\n&gt;&gt;&gt; mynumerics\n['1,010.53', '300', '.25', '123,456.12']\n</code></pre>\n<p>Note some of the particular differences between your pattern and mine.</p>\n<pre><code>r'[0-9]{1,3}(?:,[0-9]{3})*(?:\\.[0-9]+)?\\b|\\.[0-9]+\\b'\n1             2             2         \n '[0-9]{1,3}(,[0-9]{3})*(\\.[0-9]+)?\\b|\\.[0-9]+\\b'\n\n1 - raw string\n2 - non-capturing groups instead of capturing groups\n</code></pre>\n<p>I understand that some of this way go way over your head so please comment if you need clarification and I can edit as needed. I would suggest looking into some other regex references and tips, I personally love <a href=\"http://www.rexegg.com/regex-quickstart.html\" rel=\"nofollow noreferrer\">this site</a> and use it almost religiously for any regex needs.</p>\n<h1>EDIT - matching decimals:</h1>\n<p>As Mark Dickinson cleverly pointed out, the <code>|\\.[0-9]+</code> in the original regex is for matching things like <code>.24</code> (simple decimals). I added that part back in as well as added to the matching string to show the functionality.</p>\n<h1>Important Comment from ShadowRanger</h1>\n<p><strong>Side-note</strong>: This pattern, as written, will see 4400 and return 400, or a123 and return 123. This is a problem (not @RNar's, the original pattern had the same issue) because if 4400 should be ignored, then you shouldn't get pieces of it (just adding \\b to the front causes other issues, so it's harder than that), and because <a href=\"https://en.wikipedia.org/wiki/Decimal_mark#Exceptions_to_digit_grouping\" rel=\"nofollow noreferrer\">English digit grouping rules allow the omission of the comma when the value is four digits to the left of the decimal, between 1000 and 9999</a>, so you won't match those as written</p>\n"}], "owner": {"reputation": 425, "user_id": 944900, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1d655522786f8a0e21701e57373ba28d?s=128&d=identicon&r=PG", "display_name": "sqwale", "link": "https://stackoverflow.com/users/944900/sqwale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 34321966, "answer_count": 2, "score": 0, "last_activity_date": 1450300532, "creation_date": 1450298092, "last_edit_date": 1450298905, "question_id": 34321618, "link": "https://stackoverflow.com/questions/34321618/python-2-7-7-not-working-with-regex", "title": "Python 2.7.7 not working with RegEx", "body": "<p>First things first I am not a professional with Regular Expressions and have been depending on  <a href=\"https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9781449327453/ch06s11.html\" rel=\"nofollow\">this cookbook</a>, <a href=\"http://pythex.org/\" rel=\"nofollow\">this tool</a> and <a href=\"http://pythex.org/\" rel=\"nofollow\">this other tool</a></p>\n\n<p>Now when I try run it it python 2.7.7 64bit win 8 it simply does nothing for this sample text</p>\n\n<blockquote>\n  <p>Two weeks ago I went shooing at target and spent USD1,010.53 and earned 300 points. When I checked my balance after I only had USD 1912.04. </p>\n</blockquote>\n\n<p>Note that the USD is joined to the amount (USD1,010.53) and there is a comma for every thousand in the first case but second case it is not joined to the amount and there is no comma for the thousandth place (USD 1912.04) and in some case they are some values which are integers but not currencies and would still need to be parsed.(300 points).</p>\n\n<p>Now I managed to get my hands on this</p>\n\n<blockquote>\n  <p>[0-9]{1,3}(,[0-9]{3})*(.[0-9]+)?\\b|.[0-9]+\\b</p>\n</blockquote>\n\n<p>Now i have two problems:</p>\n\n<ol>\n<li>Python doesn't return any value for the above regex and sample string and yet the tools do.</li>\n<li>the regex will only return if every 1000th place has a comma i.e. the USD 1912.04 ends up returning 912.04 on the online tools not too sure how to have it take both cases of comma and non comma. </li>\n</ol>\n\n<p><code>regex = re.compile('[0-9]{1,3}(,[0-9]{3})*(\\.[0-9]+)?\\b|\\.[0-9]+\\b')\n mynumerics = re.findall(regex,'The final bill is USD1,010.53 and you will earn 300 points. Thank you for shopping at Target')</code></p>\n\n<p>What I would expect is three items:</p>\n\n<pre><code>=&gt;['1,010.53', '300', '1912.04']\n</code></pre>\n\n<p>or better yet</p>\n\n<pre><code>=&gt;[1010.53, 300, 1912.04]\n</code></pre>\n\n<p>Instead all i get is an empty list. I could probably try download a different version of python but i know most productions we deploy on use 2.7.X. So i hope its not a version problem. </p>\n"}, {"tags": ["python", "installation", "redhat", "tensorflow"], "comments": [{"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450297877, "post_id": 34321467, "comment_id": 56384690, "body": "Did you try running <code>pip</code> with super user privileges?"}, {"owner": {"reputation": 4929, "user_id": 1054435, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DYDWj.png?s=128&g=1", "display_name": "I Z", "link": "https://stackoverflow.com/users/1054435/i-z"}, "reply_to_user": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450298828, "post_id": 34321467, "comment_id": 56385309, "body": "@Quirk OK, reran it with <code>sudo</code> and now only have one error message: <code>tensorflow-0.5.0-cp27-none-linux_x86_64.whl is not a supported wheel on this platform.</code> I searched for a solution to this one but the only thing I found so far is a suggestion that I am trying to install a wheel for a 64-bit machine on a 32-bit one. But I am pretty sure I have a 64-bit system, so not sure what&#39;s going on. I am wondering if this is because I have RedHat 6 and not RedHat 7 or Ubuntu"}, {"owner": {"reputation": 2384, "user_id": 378469, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1a5257bd5010d244c746255a35e02c0d?s=128&d=identicon&r=PG", "display_name": "Ian Goodfellow", "link": "https://stackoverflow.com/users/378469/ian-goodfellow"}, "edited": false, "score": 0, "creation_date": 1450371192, "post_id": 34321467, "comment_id": 56421483, "body": "pip uses the filename to check for compatibility. Maybe check uname -a to see what your linux thinks it is?"}], "answers": [{"comments": [{"owner": {"reputation": 4929, "user_id": 1054435, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DYDWj.png?s=128&g=1", "display_name": "I Z", "link": "https://stackoverflow.com/users/1054435/i-z"}, "edited": false, "score": 0, "creation_date": 1450299586, "post_id": 34321839, "comment_id": 56385738, "body": "As Quirk suggested above, I reran with <code>sudo</code> but now get a different error. Not sure if installing blas would really help here."}, {"owner": {"reputation": 40934, "user_id": 121687, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/359b919642638c5b67555a1bc89dfd3e?s=128&d=identicon&r=PG", "display_name": "fabrizioM", "link": "https://stackoverflow.com/users/121687/fabriziom"}, "reply_to_user": {"reputation": 4929, "user_id": 1054435, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DYDWj.png?s=128&g=1", "display_name": "I Z", "link": "https://stackoverflow.com/users/1054435/i-z"}, "edited": false, "score": 0, "creation_date": 1450303103, "post_id": 34321839, "comment_id": 56387510, "body": "That previous error does not even start the compilation process because is a system level permission error. Follow my advice and install the blas library   ."}], "tags": [], "owner": {"reputation": 40934, "user_id": 121687, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/359b919642638c5b67555a1bc89dfd3e?s=128&d=identicon&r=PG", "display_name": "fabrizioM", "link": "https://stackoverflow.com/users/121687/fabriziom"}, "is_accepted": false, "score": 1, "last_activity_date": 1450298903, "creation_date": 1450298903, "answer_id": 34321839, "question_id": 34321467, "link": "https://stackoverflow.com/questions/34321467/tensorflow-failed-to-pip-install-on-redhat-6/34321839#34321839", "title": "TensorFlow failed to pip-install on RedHat 6", "body": "<p>Seems like You are missing the cblas libraries:</p>\n\n<pre><code>/usr/bin/ld: cannot find -lcblas\n...\n distutils.errors.LinkError: Command \"cc /tmp/tmp72IZmg/tmp/tmp72IZmg/source.o -L/usr/lib64 -lblas -o /tmp/tmp72IZmg/a.out\" failed with exit status 1\n</code></pre>\n\n<p>try running <code>yum install blas blas-devel</code></p>\n"}], "owner": {"reputation": 4929, "user_id": 1054435, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DYDWj.png?s=128&g=1", "display_name": "I Z", "link": "https://stackoverflow.com/users/1054435/i-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 752, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450298903, "creation_date": 1450297629, "question_id": 34321467, "link": "https://stackoverflow.com/questions/34321467/tensorflow-failed-to-pip-install-on-redhat-6", "title": "TensorFlow failed to pip-install on RedHat 6", "body": "<p>I have a RedHat 6 machine with python installed using <code>miniconda</code>, so</p>\n\n<pre><code>]]] which python\n/export/home/my-home-dir-etc-etc-etc/miniconda/bin/python\n]]] which pip\n/export/home/my-home-dir-etc-etc-etc/miniconda/bin/pip\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Python 2.7.10 |Continuum Analytics, Inc.| (default, May 28 2015, 17:02:03) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\nAnaconda is brought to you by Continuum Analytics.\nPlease check out: http://continuum.io/thanks and https://binstar.org\n&gt;&gt;&gt; import numpy\n&gt;&gt;&gt; numpy.__version__\n'1.10.1'\n</code></pre>\n\n<p>When I ran</p>\n\n<pre><code>pip install --upgrade https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.5.0-cp27-none-linux_x86_64.whl\n</code></pre>\n\n<p>I got lots of log messages including compile/build errors. I am not dumping the whole log here, just the pieces that I think are crucial, but can add more if needed:</p>\n\n<pre><code> blas_info:\n  C compiler: cc\n\n creating /tmp/tmp72IZmg/tmp\n creating /tmp/tmp72IZmg/tmp/tmp72IZmg\n compile options: '-I/usr/local/include -I/usr/include -I/export/home/my-home-dir-etc-etc-etc/miniconda/include -c'\n cc: /tmp/tmp72IZmg/source.c\n cc /tmp/tmp72IZmg/tmp/tmp72IZmg/source.o -L/usr/lib64 -lcblas -o /tmp/tmp72IZmg/a.out\n /usr/bin/ld: cannot find -lcblas\n collect2: ld returned 1 exit status\n /usr/bin/ld: cannot find -lcblas\n collect2: ld returned 1 exit status\n cc /tmp/tmp72IZmg/tmp/tmp72IZmg/source.o -L/usr/lib64 -lblas -o /tmp/tmp72IZmg/a.out\n /tmp/tmp72IZmg/tmp/tmp72IZmg/source.o: In function `main':\n source.c:(.text+0x9e): undefined reference to `cblas_ddot'\n collect2: ld returned 1 exit status\n /tmp/tmp72IZmg/tmp/tmp72IZmg/source.o: In function `main':\n source.c:(.text+0x9e): undefined reference to `cblas_ddot'\n collect2: ld returned 1 exit status\n Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n      File \"/tmp/pip-build-8ABmqU/numpy/setup.py\", line 263, in &lt;module&gt;\n        setup_package()\n      File \"/tmp/pip-build-8ABmqU/numpy/setup.py\", line 255, in setup_package\n        setup(**metadata)\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/core.py\", line 135, in setup\n        config = configuration()\n      File \"/tmp/pip-build-8ABmqU/numpy/setup.py\", line 156, in configuration\n        config.add_subpackage('numpy')\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/misc_util.py\", line 1002, in add_subpackage\n        caller_level = 2)\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/misc_util.py\", line 971, in get_subpackage\n        caller_level = caller_level + 1)\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/misc_util.py\", line 908, in _get_configuration_from_setup_py\n        config = setup_module.configuration(*args)\n      File \"numpy/setup.py\", line 17, in configuration\n          config.add_subpackage('linalg')\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/misc_util.py\", line 1002, in add_subpackage\n          caller_level = 2)\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/misc_util.py\", line 971, in get_subpackage\n          caller_level = caller_level + 1)\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/misc_util.py\", line 908, in _get_configuration_from_setup_py\n          config = setup_module.configuration(*args)\n      File \"numpy/linalg/setup.py\", line 26, in configuration\n          lapack_info = get_info('lapack_opt', 0) # and {}\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/system_info.py\", line 372, in get_info\n          return cl().get_info(notfound_action)\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/system_info.py\", line 562, in get_info\n          self.calc_info()\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/system_info.py\", line 1571, in calc_info\n          blas_info = get_info('blas')\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/system_info.py\", line 372, in get_info\n          return cl().get_info(notfound_action)\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/system_info.py\", line 562, in get_info\n          self.calc_info()\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/system_info.py\", line 1690, in calc_info\n          lib = self.has_cblas(info)\n      File \"/tmp/pip-build-8ABmqU/numpy/numpy/distutils/system_info.py\", line 1733, in has_cblas\n          extra_postargs=info.get('extra_link_args', []))\n      File \"/export/home/my-home-dir-etc-etc-etc/miniconda/lib/python2.7/distutils/ccompiler.py\", line 700, in link_executable\n          debug, extra_preargs, extra_postargs, None, target_lang)\n      File \"/export/home/my-home-dir-etc-etc-etc/miniconda/lib/python2.7/distutils/unixccompiler.py\", line 200, in link\n          raise LinkError, msg\n\n distutils.errors.LinkError: Command \"cc /tmp/tmp72IZmg/tmp/tmp72IZmg/source.o -L/usr/lib64 -lblas -o /tmp/tmp72IZmg/a.out\" failed with exit status 1\n</code></pre>\n\n<p>How do I fix this? Thx!</p>\n"}, {"tags": ["python", "mongodb", "flask", "pymongo"], "comments": [{"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450298826, "post_id": 34321430, "comment_id": 56385308, "body": "Shouldn&#39;t you be using <code>insert_one()</code>?"}, {"owner": {"reputation": 1615, "user_id": 1006610, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/105c06618d3f6d35e0370e091f9b98dd?s=128&d=identicon&r=PG&f=1", "display_name": "kaoscify", "link": "https://stackoverflow.com/users/1006610/kaoscify"}, "reply_to_user": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450299039, "post_id": 34321430, "comment_id": 56385449, "body": "<code>homeReportsCollection.insert_one({&#39;address&#39;:address, &#39;rgb&#39;:rgbImage})</code> still leads to a 500 Internal Server Error."}, {"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450299508, "post_id": 34321430, "comment_id": 56385698, "body": "Have you tried type casting <code>address</code> and <code>rgbImage</code> to <code>String</code> before inserting?"}, {"owner": {"reputation": 1615, "user_id": 1006610, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/105c06618d3f6d35e0370e091f9b98dd?s=128&d=identicon&r=PG&f=1", "display_name": "kaoscify", "link": "https://stackoverflow.com/users/1006610/kaoscify"}, "reply_to_user": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450300309, "post_id": 34321430, "comment_id": 56386114, "body": "I made a typo. Both <code>address</code> and <code>rgbImage</code> are sent as strings. Just edited my question. So no need to do it on the Python side."}, {"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 1, "creation_date": 1450301082, "post_id": 34321430, "comment_id": 56386493, "body": "I&#39;ll be honest, I&#39;m stumped. There used to be a bug in Mongo back in 2013. The data would be inserted into the collection. But Mongo would not return a correct status response. That led to servers going 500. Have you tried verifying if the data was indeed inserted into the collection? Additionally run your flask app in <code>debug=True</code> mode. That might give additional data."}, {"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450301294, "post_id": 34321430, "comment_id": 56386582, "body": "Do take a look into <a href=\"http://stackoverflow.com/questions/32993220/inserting-or-saving-into-mongodb-returns-500-server-error\" title=\"inserting or saving into mongodb returns 500 server error\">stackoverflow.com/questions/32993220/&hellip;</a> . However Py-Mongo should be able to handle this."}, {"owner": {"reputation": 1615, "user_id": 1006610, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/105c06618d3f6d35e0370e091f9b98dd?s=128&d=identicon&r=PG&f=1", "display_name": "kaoscify", "link": "https://stackoverflow.com/users/1006610/kaoscify"}, "reply_to_user": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450301954, "post_id": 34321430, "comment_id": 56386932, "body": "So this is weird, I turned on <code>debug=True</code> and I get the following error: <code>ValueError: View function did not return a response</code>. BUT the data did actually get sent to DB via <code>homeReportsCollection.insert({&#39;address&#39;:address, &#39;rgb&#39;:rgbImage})</code> line. I see it in my collection. How do I fix the error? Because the user is redirected to <code>&#47;recordReport</code>."}, {"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450357231, "post_id": 34321430, "comment_id": 56411611, "body": "Try returning something in your function <code>recordReport()</code>. Return anything you want. It could be an <code>OK</code> message. It could be the <code>_id</code> of the document you just inserted into the collection. Just don&#39;t return <code>None</code>. Try this."}, {"owner": {"reputation": 1615, "user_id": 1006610, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/105c06618d3f6d35e0370e091f9b98dd?s=128&d=identicon&r=PG&f=1", "display_name": "kaoscify", "link": "https://stackoverflow.com/users/1006610/kaoscify"}, "reply_to_user": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450458905, "post_id": 34321430, "comment_id": 56463260, "body": "Yeah, I returned an HTML template and no error now. Thanks for your help. I think it&#39;s ok for now. Do you want to post this as answer so I can reward you points?"}, {"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450619433, "post_id": 34321430, "comment_id": 56504596, "body": "Added an answer summarizing the steps and solution. ;-)"}], "answers": [{"tags": [], "owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "is_accepted": true, "score": 1, "last_activity_date": 1450619403, "last_edit_date": 1592644375, "creation_date": 1450619403, "answer_id": 34381672, "question_id": 34321430, "link": "https://stackoverflow.com/questions/34321430/send-form-data-to-mongodb-using-flask/34381672#34381672", "title": "Send form data to MongoDB using Flask", "body": "<p>This answer is a summary of the comments (where a solution was found).</p>\n<hr />\n<blockquote>\n<p>Have you tried typecasting <code>address</code> and <code>rgbImage</code> to <code>String</code> before inserting?</p>\n</blockquote>\n<p>Type invalidation is the root of many common bugs in DB operations.</p>\n<blockquote>\n<p>There used to be a bug in Mongo back in 2013. The data would be inserted into the collection. But Mongo would not return a correct status response. That led to servers going <code>500</code>. Have you tried verifying if the data was indeed inserted into the collection?</p>\n<p>Additionally run your flask app in <code>debug=True</code> mode. That might give additional data.</p>\n</blockquote>\n<p>Flask has very good debug traceback reporting support. This is generally a good idea. In fact this should be the first thing to do when encountering an error.</p>\n<blockquote>\n<p>So this is weird, I turned on <code>debug=True</code> and I get the following error: <code>ValueError: View function did not return a response.</code> BUT the data did actually get sent to DB via <code>homeReportsCollection.insert({'address':address, 'rgb':rgbImage})</code> line. I see it in my collection. How do I fix the error? Because the user is redirected to <code>/recordReport</code>.</p>\n</blockquote>\n<p>So the data was indeed inserted into the collection. It is possibly a Flask only issue. The traceback says it all. Flask requires that something is returned by a view method.</p>\n<blockquote>\n<p>Try returning something in your function <code>recordReport()</code>. Return anything you want. It could be an <code>OK</code> message. It could be the <code>_id</code> of the document you just inserted into the collection. <strong>Just don't return <code>None</code>.</strong> Try this.</p>\n</blockquote>\n<p>This behaviour is documented in this <a href=\"https://stackoverflow.com/questions/20807942/basic-flask-program-returning-500-server-error\">SO question</a>.</p>\n<blockquote>\n<p>Yeah, I returned an HTML template and no error now.</p>\n</blockquote>\n<p>This is indeed the solution. Return something other than <code>None</code> from your <a href=\"/questions/tagged/flask\" class=\"post-tag\" title=\"show questions tagged &#39;flask&#39;\" rel=\"tag\">flask</a> view methods. This also validates the behaviour observed by asker in the question:</p>\n<blockquote>\n<p>Because if I replace that with <code>return json.dumps({'status':'OK', 'address':'address', 'rgb':'rgbImage'})</code>, I can see the correct data in my browser.</p>\n</blockquote>\n"}], "owner": {"reputation": 1615, "user_id": 1006610, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/105c06618d3f6d35e0370e091f9b98dd?s=128&d=identicon&r=PG&f=1", "display_name": "kaoscify", "link": "https://stackoverflow.com/users/1006610/kaoscify"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2037, "favorite_count": 0, "accepted_answer_id": 34381672, "answer_count": 1, "score": 0, "last_activity_date": 1450619403, "creation_date": 1450297541, "last_edit_date": 1450300322, "question_id": 34321430, "link": "https://stackoverflow.com/questions/34321430/send-form-data-to-mongodb-using-flask", "title": "Send form data to MongoDB using Flask", "body": "<p>I'm having troubles sending my <code>form</code> data to MongoDB with a Flask setup. The form looks something like this: <strong><a href=\"https://jsfiddle.net/8gqLtv7e\" rel=\"nofollow\">https://jsfiddle.net/8gqLtv7e</a></strong></p>\n\n<p>On the client-side, I see no errors. But when I submit the form, I receive a 500 Internal Server Error and I'm having a hard time finding the solution. The problem is the last line below in my <code>views.py</code> file:</p>\n\n<pre><code>@app.route('/recordReport', methods=['POST'])\ndef recordReport():\n    homeReportsCollection = db[\"reports\"]\n    address=request.form.get['address']\n    rgbImage=request.form.get['rgb']\n    homeReportsCollection.insert({'address':address, 'rgb':rgbImage})\n</code></pre>\n\n<p>Because if I replace that with <code>return json.dumps({'status':'OK', 'address':'address', 'rgb':'rgbImage'})</code>, I can see the correct data in my browser. Am just not able to send it to a collection in MongoDB.</p>\n"}, {"tags": ["python", "dictionary", "hash", "set", "union"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 2, "creation_date": 1450297503, "post_id": 34321351, "comment_id": 56384466, "body": "keys need to be unique"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1450297655, "post_id": 34321351, "comment_id": 56384565, "body": "Dict_C is not happening unless you append to a container"}, {"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "reply_to_user": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1450297672, "post_id": 34321351, "comment_id": 56384573, "body": "In addition to what @depperm said, if the set of key-value mappings remains the same across both the dictionaries, then its better to represent them as lists. At which point, you could easily use list comprehension."}, {"owner": {"reputation": 125, "user_id": 5196064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-NmtvMIId0ck/AAAAAAAAAAI/AAAAAAAAAF8/JpFrSlEd7JM/photo.jpg?sz=128", "display_name": "AustinM", "link": "https://stackoverflow.com/users/5196064/austinm"}, "edited": false, "score": 0, "creation_date": 1450305955, "post_id": 34321351, "comment_id": 56388949, "body": "Ah yes.. I had to just make two dictionaries C1 and C2, with the exact same number of items, with identical keys, and different values."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 5196064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-NmtvMIId0ck/AAAAAAAAAAI/AAAAAAAAAF8/JpFrSlEd7JM/photo.jpg?sz=128", "display_name": "AustinM", "link": "https://stackoverflow.com/users/5196064/austinm"}, "edited": false, "score": 0, "creation_date": 1450306048, "post_id": 34321540, "comment_id": 56388990, "body": "This is an almost perfect answer.  I ended up making two dictionaries for Dict_C - dictC_a, and dictC_b, but it worked perfectly.  Thank you so much.  This will surely be used more and more as I use python more."}], "tags": [], "owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "is_accepted": true, "score": 1, "last_activity_date": 1450298284, "last_edit_date": 1450298284, "creation_date": 1450297856, "answer_id": 34321540, "question_id": 34321351, "link": "https://stackoverflow.com/questions/34321351/hashing-or-dictionaries-for-venn-diagram-of-dictionaries/34321540#34321540", "title": "Hashing or dictionaries for Venn diagram of dictionaries?", "body": "<p>Since dictionary lookup time are fast (O(1), you could use dictionary comprehension:</p>\n\n<pre><code>&gt;&gt;&gt; # use iteritems on Python2\n&gt;&gt;&gt; shared1 = {k: v for k, v in A.items() if i in B}\n</code></pre>\n\n<blockquote>\n  <p>Dict_A: items with keys unique to A</p>\n  \n  <p>Dict_B: items with keys unique to B</p>\n</blockquote>\n\n<pre><code>&gt;&gt;&gt; Dict_A = {k: v for k,v in A.items() if k not in B}\n&gt;&gt;&gt; Dict_B = {k: v for k,v in B.items() if k not in A}\n</code></pre>\n\n<p>For your later tasks, such as:</p>\n\n<blockquote>\n  <p>Dict_C: items with keys shared by A and B, but with values that are different</p>\n</blockquote>\n\n<p>You can use list comprehension:</p>\n\n<pre><code>&gt;&gt;&gt; # use iteritems for Python2\n&gt;&gt;&gt; # list comprehension\n&gt;&gt;&gt; shared1 = [k for k, v in A.items() if B.get(k) == v]\n&gt;&gt;&gt; # set comprehension\n&gt;&gt;&gt; shared1 = {k for k, v in A.items() if B.get(k) == v}\n</code></pre>\n\n<p>Remember, keys have to be unique and you only want the <strong>keys</strong> that differ: a list (or a set) is sufficient for this (use curly braces, or set comprehension, to generate a set).</p>\n\n<blockquote>\n  <p>Dict_D: items with keys AND values shared by A and B.</p>\n</blockquote>\n\n<p>Just use the same ideas as above</p>\n\n<pre><code>&gt;&gt;&gt; Dict_D = {k: v for k, v in A.items() if B.get(k) == v}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 5196064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-NmtvMIId0ck/AAAAAAAAAAI/AAAAAAAAAF8/JpFrSlEd7JM/photo.jpg?sz=128", "display_name": "AustinM", "link": "https://stackoverflow.com/users/5196064/austinm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 34321540, "answer_count": 1, "score": 1, "last_activity_date": 1450298284, "creation_date": 1450297290, "question_id": 34321351, "link": "https://stackoverflow.com/questions/34321351/hashing-or-dictionaries-for-venn-diagram-of-dictionaries", "title": "Hashing or dictionaries for Venn diagram of dictionaries?", "body": "<p>I have two dictionaries (80K entries each) both with the same format:</p>\n\n<pre><code>A= {'1':'a', '2':'b', '3':'c', '4':'d'}\n\nB= {'2':'b', '3':'a', '4':'d', '5':'e'}\n</code></pre>\n\n<p>Some of the key:value pairs from Dict_A overlap with Dict_B.  Think of these dictionaries as Venn diagram circles.  My goal is to find the overlap of those two dictionaries and generate new Dictionaries : Dict_A, Dict_B, Dict_C, and Dict_D.\nI'd like to end up with 6 total dictionaries:\nwhere </p>\n\n<p>Original dictionaries:</p>\n\n<pre><code>A= {'1':'a', '2':'b', '3':'c', '4':'d'}\nB= {'2':'b', '3':'a', '4':'d', '5':'e'}\n</code></pre>\n\n<p>Dict_A: items with keys unique to A</p>\n\n<pre><code>Dict_A = {'1':'a'}\n</code></pre>\n\n<p>Dict_B: items with keys unique to B</p>\n\n<pre><code>Dict_B = {'5':'e'}\n</code></pre>\n\n<p>Dict_C: items with keys shared by A and B, but with values that are different</p>\n\n<pre><code>Dict_C = {'3':'a', '3':'c'}\n</code></pre>\n\n<p>Dict_D: items with keys AND values shared by A and B.</p>\n\n<pre><code>Dict_D = {'2':'b', '4':'d'}\n</code></pre>\n\n<p>I know how to find the length of these things by making them sets:</p>\n\n<pre><code>shared1 = set(A.items()) &amp; set(B.items())\n\nshared2 = set(A.keys()) &amp; set(B.keys())\n</code></pre>\n\n<p>Then I can find out how many should be in Dict_C:\n    len(shared2) - len(shared1)</p>\n\n<p>But I can't figure out how to make them dictionaries.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 2035, "user_id": 4324871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c8debc6271934c521ec1262fa7d7277?s=128&d=identicon&r=PG", "display_name": "Lorenzo Pe&#241;a", "link": "https://stackoverflow.com/users/4324871/lorenzo-pe%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1450297653, "post_id": 34321332, "comment_id": 56384563, "body": "Are you using third party apps or creating your own db fields?"}, {"owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "reply_to_user": {"reputation": 2035, "user_id": 4324871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c8debc6271934c521ec1262fa7d7277?s=128&d=identicon&r=PG", "display_name": "Lorenzo Pe&#241;a", "link": "https://stackoverflow.com/users/4324871/lorenzo-pe%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1450298035, "post_id": 34321332, "comment_id": 56384791, "body": "Yeah, I am using model-utils. <a href=\"https://django-model-utils.readthedocs.org/en/latest/setup.html#installation\" rel=\"nofollow noreferrer\">django-model-utils.readthedocs.org/en/latest/&hellip;</a> I posted the problem there but the creator said it could be something on my project."}, {"owner": {"reputation": 5001, "user_id": 1971587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafdce836e1f30eaaa42b7238e5a7516?s=128&d=identicon&r=PG", "display_name": "Joey Wilhelm", "link": "https://stackoverflow.com/users/1971587/joey-wilhelm"}, "edited": false, "score": 0, "creation_date": 1450298527, "post_id": 34321332, "comment_id": 56385118, "body": "You don&#39;t have any other 3rd party apps? I know this is one that&#39;s currently showing up in django-timezone-field, for example."}, {"owner": {"reputation": 2035, "user_id": 4324871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c8debc6271934c521ec1262fa7d7277?s=128&d=identicon&r=PG", "display_name": "Lorenzo Pe&#241;a", "link": "https://stackoverflow.com/users/4324871/lorenzo-pe%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1450298749, "post_id": 34321332, "comment_id": 56385265, "body": "Many third party apps are not fully compatible with Django 1.9. I suggest using Django 1.8.7 while 3rd party apps catchup."}, {"owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1450302185, "post_id": 34321332, "comment_id": 56387047, "body": "I made a test and uninstalled the app (I had just started using it) and I still can see the problem. It must be somewhere else."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 1, "creation_date": 1450306091, "post_id": 34321332, "comment_id": 56389008, "body": "See <a href=\"http://stackoverflow.com/questions/12266765/django-track-down-causes-of-deprecationwarning\">this question</a> for tracking down the causes of warnings."}, {"owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1450309933, "post_id": 34321332, "comment_id": 56390414, "body": "I added but it doesn&#39;t seem to be triggering in the pages I am entering. I saw someone mentioning on <code>python-social-auth</code> he had the same problem. I believe it is coming from there."}], "answers": [{"comments": [{"owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1456064464, "post_id": 34537893, "comment_id": 58763069, "body": "How do I download this fix with pip? The change has not been reflected on pip&#39;s repository."}, {"owner": {"reputation": 395, "user_id": 4590741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8541ebae0bfacd7b1cdd3cd04c92ec7?s=128&d=identicon&r=PG&f=1", "display_name": "contracode", "link": "https://stackoverflow.com/users/4590741/contracode"}, "reply_to_user": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1456158915, "post_id": 34537893, "comment_id": 58806014, "body": "Unfortunately, you can&#39;t download it via pip until the maintainer merges the pull request and submits a new release to PyPI."}, {"owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 1, "creation_date": 1456161129, "post_id": 34537893, "comment_id": 58807630, "body": "I tried <code>pip install git+HTTP_MASTER_BRANCH</code> and it worked. The only problem is that it seems to be the same as in pip. Is this command the same as <code>pip install app_name</code>?"}, {"owner": {"reputation": 395, "user_id": 4590741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8541ebae0bfacd7b1cdd3cd04c92ec7?s=128&d=identicon&r=PG&f=1", "display_name": "contracode", "link": "https://stackoverflow.com/users/4590741/contracode"}, "reply_to_user": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 1, "creation_date": 1456256052, "post_id": 34537893, "comment_id": 58859485, "body": "Try to install from <a href=\"https://github.com/contracode/python-social-auth/tree/fix-django110-warnings-2\" rel=\"nofollow noreferrer\">github.com/contracode/python-social-auth/tree/&hellip;</a>"}], "tags": [], "owner": {"reputation": 395, "user_id": 4590741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8541ebae0bfacd7b1cdd3cd04c92ec7?s=128&d=identicon&r=PG&f=1", "display_name": "contracode", "link": "https://stackoverflow.com/users/4590741/contracode"}, "is_accepted": true, "score": 9, "last_activity_date": 1451512848, "creation_date": 1451512848, "answer_id": 34537893, "question_id": 34321332, "link": "https://stackoverflow.com/questions/34321332/subfieldbase-has-been-deprecated-use-field-from-db-value-instead/34537893#34537893", "title": "SubfieldBase has been deprecated. Use Field.from_db_value instead", "body": "<p>I experienced this error while using <code>python-social-auth 0.2.13</code>. If you are using <code>python-social-auth</code>, I submitted a fix for this on <a href=\"https://github.com/omab/python-social-auth/pull/813\" rel=\"noreferrer\">GitHub</a>, just now. This extends another fix submitted <a href=\"https://github.com/omab/python-social-auth/pull/806\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Subscribe to both of those pull requests and if/when both pull requests are merged into the <code>master</code> branch, you will no longer see the warning.</p>\n"}], "owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3849, "favorite_count": 0, "accepted_answer_id": 34537893, "answer_count": 1, "score": 3, "last_activity_date": 1451512848, "creation_date": 1450297221, "question_id": 34321332, "link": "https://stackoverflow.com/questions/34321332/subfieldbase-has-been-deprecated-use-field-from-db-value-instead", "title": "SubfieldBase has been deprecated. Use Field.from_db_value instead", "body": "<pre><code>/python3.4/site-packages/django/db/models/fields/subclassing.py:22: RemovedInDjango110Warning: SubfieldBase has been deprecated. Use Field.from_db_value instead.\n  RemovedInDjango110Warning)\n</code></pre>\n\n<p>Since I upgraded to Django 1.9 I started having this warning on <code>runserver</code> startup. The problem is that I have no idea where it comes from. I am guessing it must be from <code>forms.py</code>. Does anyone have a clue?</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 1, "creation_date": 1450298485, "post_id": 34321327, "comment_id": 56385091, "body": "The error occurs in a function named <code>Die</code> but you only show code for <code>die</code> so we can&#39;t help."}, {"owner": {"reputation": 11, "user_id": 5688335, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156268249455024/picture?type=large", "display_name": "jckm2000", "link": "https://stackoverflow.com/users/5688335/jckm2000"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1450298889, "post_id": 34321327, "comment_id": 56385347, "body": "Sorry I don&#39;t understand your reply... This is all his code. Is there a Function missing? The TypeError names die()  (not Die) my typo......"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1450299494, "post_id": 34321327, "comment_id": 56385689, "body": "That&#39;s why you should always copy and paste.  You&#39;re wasting the time of everyone looking at this post because its not formatted properly and you retyped the error."}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 1, "creation_date": 1450299953, "post_id": 34321327, "comment_id": 56385929, "body": "+1 for formatting.  Now please include the complete error with the stack traceback instead of just the last line."}, {"owner": {"reputation": 11, "user_id": 5688335, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156268249455024/picture?type=large", "display_name": "jckm2000", "link": "https://stackoverflow.com/users/5688335/jckm2000"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1450301971, "post_id": 34321327, "comment_id": 56386940, "body": "Apologies, I didn&#39;t know how to copy from command prompt..."}, {"owner": {"reputation": 11, "user_id": 5688335, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156268249455024/picture?type=large", "display_name": "jckm2000", "link": "https://stackoverflow.com/users/5688335/jckm2000"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1450301992, "post_id": 34321327, "comment_id": 56386951, "body": "C:\\Users\\user\\Desktop\\space_defence&gt;Space_Defence.py Traceback (most recent call last):   File &quot;C:\\Users\\user\\Desktop\\space_defence\\Space_Defence.py&quot;, line 274, in &lt;mod ule&gt;     main()   File &quot;C:\\Users\\user\\Desktop\\space_defence\\Space_Defence.py&quot;, line 271, in main      games.screen.mainloop()   File &quot;C:\\Python31\\lib\\site-packages\\livewires\\games.py&quot;, line 308, in mainloop"}, {"owner": {"reputation": 11, "user_id": 5688335, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156268249455024/picture?type=large", "display_name": "jckm2000", "link": "https://stackoverflow.com/users/5688335/jckm2000"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1450301997, "post_id": 34321327, "comment_id": 56386952, "body": "object._tick()   File &quot;C:\\Python31\\lib\\site-packages\\livewires\\games.py&quot;, line 506, in _tick     self.update()   File &quot;C:\\Users\\user\\Desktop\\space_defence\\Space_Defence.py&quot;, line 155, in upda te     self.check_hit()   File &quot;C:\\Users\\user\\Desktop\\space_defence\\Space_Defence.py&quot;, line 172, in chec k_hit     Bullet.handle_hit()   File &quot;C:\\Users\\user\\Desktop\\space_defence\\Space_Defence.py&quot;, line 211, in hand le_hit     Ship.die() TypeError: die() takes exactly 1 positional argument (0 given)  C:\\Users\\user\\Desktop\\space_defence&gt;pause Press any key to continue . . ."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1450302328, "post_id": 34321327, "comment_id": 56387114, "body": "put error message in question, not in comment."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1450302920, "post_id": 34321327, "comment_id": 56387427, "body": "you use <code>Ship.die()</code> but <code>die</code>  can be use only with instance <code>the_ship.die()</code>"}, {"owner": {"reputation": 11, "user_id": 5688335, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156268249455024/picture?type=large", "display_name": "jckm2000", "link": "https://stackoverflow.com/users/5688335/jckm2000"}, "edited": false, "score": 0, "creation_date": 1450303218, "post_id": 34321327, "comment_id": 56387566, "body": "Jesus, The reason I&#39;m asking for help on behalf of my son is that he was scared of being knocked back by pedantic responders. You&#39;re not helping with my efforts to persuade him to seek help using forums. How do I edit the original question to include the complete traceback?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1450303314, "post_id": 34321327, "comment_id": 56387619, "body": "as for me <code>handle_hit</code> should be part of <code>Ship</code>, not <code>Bullet</code>"}, {"owner": {"reputation": 6465, "user_id": 1459669, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WW5ah.jpg?s=128&g=1", "display_name": "no\u0265\u0287\u028e\u0500\u028ez\u0250\u0279\u0186", "link": "https://stackoverflow.com/users/1459669/no%c9%a5%ca%87%ca%8e%d4%80%ca%8ez%c9%90%c9%b9%c6%86"}, "edited": false, "score": 0, "creation_date": 1450306594, "post_id": 34321327, "comment_id": 56389225, "body": "@jckm2000 Click here: <a href=\"https://stackoverflow.com/posts/34321327/edit\">edit</a> Also see my answer"}, {"owner": {"reputation": 6465, "user_id": 1459669, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WW5ah.jpg?s=128&g=1", "display_name": "no\u0265\u0287\u028e\u0500\u028ez\u0250\u0279\u0186", "link": "https://stackoverflow.com/users/1459669/no%c9%a5%ca%87%ca%8e%d4%80%ca%8ez%c9%90%c9%b9%c6%86"}, "edited": false, "score": 0, "creation_date": 1450306681, "post_id": 34321327, "comment_id": 56389263, "body": "@jckm2000 You should read the <a href=\"https://stackoverflow.com/tour\">tour</a>."}], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "edited": false, "score": 0, "creation_date": 1450306910, "post_id": 34322918, "comment_id": 56389366, "body": "Don&#39;t post an answer if you&#39;re not answering"}, {"owner": {"reputation": 134, "user_id": 5131813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f1e848bb6b01f0f9f71763bcb1282e?s=128&d=identicon&r=PG&f=1", "display_name": "folkert kevelam", "link": "https://stackoverflow.com/users/5131813/folkert-kevelam"}, "reply_to_user": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "edited": false, "score": 0, "creation_date": 1450307242, "post_id": 34322918, "comment_id": 56389487, "body": "@DamianChrzanowski I&#39;ve answered his question in the last paragraph. The first two paragraphs were actually critique on the code and offers some improvement to make the code run."}, {"owner": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "edited": false, "score": 0, "creation_date": 1450307653, "post_id": 34322918, "comment_id": 56389668, "body": "Fair enough, but it still is more of a speculation. Anyway I won&#39;t argue"}, {"owner": {"reputation": 10570, "user_id": 2263683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/BlUVe.png?s=128&g=1", "display_name": "Alex Jolig", "link": "https://stackoverflow.com/users/2263683/alex-jolig"}, "edited": false, "score": 0, "creation_date": 1450324353, "post_id": 34322918, "comment_id": 56394576, "body": "This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - <a href=\"/review/low-quality-posts/10591043\">From Review</a>"}, {"owner": {"reputation": 134, "user_id": 5131813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f1e848bb6b01f0f9f71763bcb1282e?s=128&d=identicon&r=PG&f=1", "display_name": "folkert kevelam", "link": "https://stackoverflow.com/users/5131813/folkert-kevelam"}, "reply_to_user": {"reputation": 10570, "user_id": 2263683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/BlUVe.png?s=128&g=1", "display_name": "Alex Jolig", "link": "https://stackoverflow.com/users/2263683/alex-jolig"}, "edited": false, "score": 0, "creation_date": 1450338231, "post_id": 34322918, "comment_id": 56399707, "body": "@AlexJolig See my comment directed to DamianChrzanowski"}, {"owner": {"reputation": 11, "user_id": 5688335, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156268249455024/picture?type=large", "display_name": "jckm2000", "link": "https://stackoverflow.com/users/5688335/jckm2000"}, "edited": false, "score": 0, "creation_date": 1450363793, "post_id": 34322918, "comment_id": 56416143, "body": "My son tells me that the Livewires he&#39;s using came as part of the book Python Programming For Beginners 3rd Edition that he&#39;s been working through. I think the author edited Livewires to use the US spelling of colour and added a music module. I&#39;ll pass on what you say about screen size etc. &quot;the_ship&quot; worked out, Thanks :)"}], "tags": [], "owner": {"reputation": 134, "user_id": 5131813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f1e848bb6b01f0f9f71763bcb1282e?s=128&d=identicon&r=PG&f=1", "display_name": "folkert kevelam", "link": "https://stackoverflow.com/users/5131813/folkert-kevelam"}, "is_accepted": false, "score": -1, "last_activity_date": 1450303306, "creation_date": 1450303306, "answer_id": 34322918, "question_id": 34321327, "link": "https://stackoverflow.com/questions/34321327/enemy-ship-health-using-pygame/34322918#34322918", "title": "Enemy ship health - using Pygame", "body": "<p>this code is fundamentally wrong. Besides the fact that the module \"color\" doesn't exist within livewires (it's \"colour\"). According to the code OP tries to init the games library with a width, height and fps. A quick search for the source code shows that the correct call would be:</p>\n\n<pre><code>    screen = games.Screen(width=1280, height=1024)\n</code></pre>\n\n<p>This means that the code in the main function is wrong as it keeps calling on functions which don't exist. Furthermore I haven't the faintest clue where the OP found the music module since a second quick search on github shows that in the livewires library no reference of \"music\" appears. The pygame module, however, contains a music player but isn't called remotely in the same way as OP implies. I have no idea how OP ever got this code to run.</p>\n\n<p>If for some weird reason the code runs for OP:</p>\n\n<pre><code>def handle_hit(self):\n    \"\"\" Handles what happens when hit by Bullet. \"\"\"\n    Ship.health -= 1\n    if Ship.health == 0:    #ship loses health and eventually dies\n        Ship.die()\n\n    self.die()\n</code></pre>\n\n<p>Is also wrong, since in this code he references the class Ship instead of the instance he created. The best solution I can give OP in this case, is to chance all occurences of Ship inside the handle_hit() method to the \"the_ship\" instance variable</p>\n"}, {"comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1450312673, "post_id": 34323688, "comment_id": 56391234, "body": "it can be one problem - <code>the_ship</code> is local variable in <code>main()</code> ;)"}, {"owner": {"reputation": 6465, "user_id": 1459669, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WW5ah.jpg?s=128&g=1", "display_name": "no\u0265\u0287\u028e\u0500\u028ez\u0250\u0279\u0186", "link": "https://stackoverflow.com/users/1459669/no%c9%a5%ca%87%ca%8e%d4%80%ca%8ez%c9%90%c9%b9%c6%86"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1450312871, "post_id": 34323688, "comment_id": 56391282, "body": "@furas This isn&#39;t java, so we can access variables outside of scope. Ah, python. :)"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1450313631, "post_id": 34323688, "comment_id": 56391496, "body": "This will require a <code>global the_ship</code> in <code>main()</code>. OP may not know it. :)"}, {"owner": {"reputation": 6465, "user_id": 1459669, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WW5ah.jpg?s=128&g=1", "display_name": "no\u0265\u0287\u028e\u0500\u028ez\u0250\u0279\u0186", "link": "https://stackoverflow.com/users/1459669/no%c9%a5%ca%87%ca%8e%d4%80%ca%8ez%c9%90%c9%b9%c6%86"}, "reply_to_user": {"reputation": 11, "user_id": 5688335, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156268249455024/picture?type=large", "display_name": "jckm2000", "link": "https://stackoverflow.com/users/5688335/jckm2000"}, "edited": false, "score": 0, "creation_date": 1450389601, "post_id": 34323688, "comment_id": 56431693, "body": "@jckm2000 Please accept the answer if you think it was useful. (Checkmark below the up and down symbols)"}, {"owner": {"reputation": 6465, "user_id": 1459669, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WW5ah.jpg?s=128&g=1", "display_name": "no\u0265\u0287\u028e\u0500\u028ez\u0250\u0279\u0186", "link": "https://stackoverflow.com/users/1459669/no%c9%a5%ca%87%ca%8e%d4%80%ca%8ez%c9%90%c9%b9%c6%86"}, "reply_to_user": {"reputation": 11, "user_id": 5688335, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156268249455024/picture?type=large", "display_name": "jckm2000", "link": "https://stackoverflow.com/users/5688335/jckm2000"}, "edited": false, "score": 0, "creation_date": 1450469965, "post_id": 34323688, "comment_id": 56469021, "body": "@jckm2000 It gives me reputation on the site if you accept the answer, which is like a reward because you can use it to set bounties and stuff."}], "tags": [], "owner": {"reputation": 6465, "user_id": 1459669, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WW5ah.jpg?s=128&g=1", "display_name": "no\u0265\u0287\u028e\u0500\u028ez\u0250\u0279\u0186", "link": "https://stackoverflow.com/users/1459669/no%c9%a5%ca%87%ca%8e%d4%80%ca%8ez%c9%90%c9%b9%c6%86"}, "is_accepted": true, "score": 1, "last_activity_date": 1450313765, "last_edit_date": 1450313765, "creation_date": 1450306384, "answer_id": 34323688, "question_id": 34321327, "link": "https://stackoverflow.com/questions/34321327/enemy-ship-health-using-pygame/34323688#34323688", "title": "Enemy ship health - using Pygame", "body": "<p>I got it. Here:</p>\n\n<pre><code>def handle_hit(self):\n        \"\"\" Handles what happens when hit by Bullet. \"\"\"\n        Ship.health -= 1\n        if Ship.health == 0:    #ship loses health and eventually dies\n            Ship.die()\n\n        self.die()\n</code></pre>\n\n<p>Here, you are trying to call an instance method on the class. (kind of like trying to repair the plumbing on a blueprint of the house) <code>Ship</code> capital refers to the blueprint of the ship, python is simply telling you that it doesn't know which ship to kill (even if there is only one ship).</p>\n\n<p>Try replacing it with this:</p>\n\n<pre><code>def handle_hit(self):\n        \"\"\" Handles what happens when hit by Bullet. \"\"\"\n        the_ship.health -= 1\n        if the_ship.health == 0:    #ship loses health and eventually dies\n            the_ship.die()\n\n        self.die()\n</code></pre>\n\n<p>Also in <code>main()</code> add:</p>\n\n<pre><code>global the_ship\n</code></pre>\n\n<p>at the top of the function</p>\n"}], "owner": {"reputation": 11, "user_id": 5688335, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156268249455024/picture?type=large", "display_name": "jckm2000", "link": "https://stackoverflow.com/users/5688335/jckm2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 34323688, "answer_count": 2, "score": -2, "last_activity_date": 1450313765, "creation_date": 1450297206, "last_edit_date": 1450299685, "question_id": 34321327, "link": "https://stackoverflow.com/questions/34321327/enemy-ship-health-using-pygame", "title": "Enemy ship health - using Pygame", "body": "<p>I'm here asking a question for my son who has just started out with Python. \nHe's working on a simple game where and enemy ship drops missiles and the player moves a shield to block falling missiles from hitting earth. He's added the ability for the shield to fire bullets at the ship to destroy it (set to 3 hits at the moment) which all seems to work but the game crashes at that point with the error given: typeerror: Die() takes exactly 1 positional argument (0 given). \nHe's pretty stuck as to why and I'm not much use passed a bit of HTML :) </p>\n\n<p>Here's his code:</p>\n\n<pre><code>#Space Defence\n#Wes L-M\n\n#Players must defend the city from alien missiles and attack the mother ship \n\nfrom livewires import games, color\nimport random\nimport pygame\n\ngames.init(screen_width = 1280, screen_height = 1024, fps = 50)\npygame.display.set_mode((1280,1024),pygame.FULLSCREEN)\n\n\nclass Killer(games.Sprite):\n    \"\"\" Makes a simple die methord for all the class's. \"\"\"\n\n    def die(self):\n        \"\"\" Destroy self. \"\"\"\n        self.destroy()\n\n\nclass Collider(Killer):\n    \"\"\" A class that detects collisions. \"\"\"\n    def update(self):\n        \"\"\" Check for overlapping sprites. \"\"\"\n        super(Collider, self).update()\n\n        if self.overlapping_sprites:\n            for sprite in self.overlapping_sprites:\n                sprite.die()\n            self.die()\n\n    def die(self):\n        \"\"\" Destroy self and leave explosion behind. \"\"\"\n        new_explosion = Explosion(x = self.x, y = self.y)\n        games.screen.add(new_explosion)\n        self.destroy()\n\n\nclass Collider_B(Killer):\n    \"\"\" A class that detects collisions for Bullet and Ship. \"\"\"\n\n    def update(self):\n        \"\"\" Check for overlapping sprites and take way from health. \"\"\"\n        super(Collider_B, self).update()\n\n        if self.overlapping_sprites:\n            for sprite in self.overlapping_sprites:\n                sprite.die()\n            self.die()\n\n    def die(self):\n        \"\"\" destroy self and leave differant explostion behind. \"\"\"\n        new_explosion = Explosion(x = self.x, y = self.y)\n        games.screen.add(new_explosion)\n        self.destroy()\n\n\nclass  Explosion(games.Animation):\n    \"\"\" Explosion animation. \"\"\"\n    images = [\"explosion_1.bmp\",\n              \"explosion_2.bmp\",\n              \"explosion_3.bmp\",\n              \"explosion_4.bmp\",\n              \"explosion_5.bmp\",\n              \"explosion_6.bmp\",\n              \"explosion_7.bmp\",\n              \"explosion_8.bmp\",\n              \"explosion_9.bmp\"]\n\n    def __init__(self, x, y):\n        super(Explosion, self).__init__(images = Explosion.images,\n                                        x = x, y = y,\n                                        repeat_interval = 6, n_repeats = 1,\n                                        is_collideable = False)\n\n\nclass Shield(Killer):\n    \"\"\"\n    A Shield controlled by player to catch falling missiles.\n    \"\"\"\n    image = games.load_image(\"shield.bmp\")\n    BULLET_DELAY = 20\n\n    def __init__(self, y = 800):\n        \"\"\" Initialize Shield object and create Text object for score. \"\"\"\n        super(Shield, self).__init__(image = Shield.image,\n                                  x = games.screen.width/2,\n                                  y = y)\n        self.bullet_wait = 0\n\n        self.score = games.Text(value = 0, size = 25, color = color.black,\n                                top = 5, right = games.screen.width - 10,\n                                is_collideable = False)\n        games.screen.add(self.score)\n\n    def update(self):\n        \"\"\" Use A and D to controll, SPACE too fire. \"\"\"\n        if games.keyboard.is_pressed(games.K_o):\n            self.x -= 12\n        if games.keyboard.is_pressed(games.K_p):\n            self.x += 12\n\n        if self.left &lt; 0:\n            self. left = 0\n\n        if self.right &gt; games.screen.width:\n            self.right = games.screen.width\n\n        self.Check_catch()\n\n        #fire bullets if spacebar is pressed\n        if games.keyboard.is_pressed(games.K_SPACE) and self.bullet_wait == 0:\n            new_bullet = Bullet(self.x, self.y)\n            games.screen.add(new_bullet)\n            self.bullet_wait = Shield.BULLET_DELAY\n\n        #if waiting until the shield can fire next, decrease wait\n        if self.bullet_wait &gt; 0:\n            self.bullet_wait -= 1\n\n    def Check_catch(self):\n        \"\"\" Check if catch missiles. \"\"\"\n        for missile in self.overlapping_sprites:\n            self.score.value += 10\n            self.score.right = games.screen.width - 10\n            missile.handle_caught()\n\n\nclass Ship(Killer):\n    \"\"\"\n    A ship which moves left and right, dropping shield.\n    \"\"\"\n    image = games.load_image(\"ship.bmp\")\n    health = 3\n\n    def __init__(self, y = 55, speed = 3, odds_change = 200):\n        \"\"\" Initialize the Chef object. \"\"\"\n        super(Ship, self).__init__(image = Ship.image,\n                                   x = games.screen.width / 2,\n                                   y = y,\n                                   dx = speed)\n\n        self.odds_change = odds_change\n        self.time_til_drop = 0\n\n    def update(self):\n        \"\"\" Determine if direction needs to be reversed. \"\"\"\n        if self.left &lt; 0 or self.right &gt; games.screen.width:\n            self.dx = -self.dx\n        elif random.randrange(self.odds_change) == 0:\n            self.dx = -self.dx\n\n        self.check_drop()\n        self.check_hit()\n\n\n    def check_drop(self):\n        \"\"\" Decrease countdown or drop missile reset countdown. \"\"\"\n        if self.time_til_drop &gt; 0:\n            self.time_til_drop -= 1\n        else:\n            new_missile = Missile(x = self.x)\n            games.screen.add(new_missile)\n\n            #set buffer to approx 30% of missile height, regardless of missile speed\n            self.time_til_drop = int(new_missile.height * 1.3 / Missile.speed) + 1\n\n    def check_hit(self):\n        \"\"\" Check if Bullet has hit. \"\"\"\n        for Bullet in self.overlapping_sprites:\n            Bullet.handle_hit()\n\n\nclass Bullet(Collider_B):\n    \"\"\" A Bullet fired by the player's shield. \"\"\"\n    image = games.load_image(\"bullet.bmp\")\n    BUFFER = -30\n    LIFETIME = 100\n\n    def __init__(self, shield_x, shield_y):\n        \"\"\" Initialize bullet sprite. \"\"\"\n\n        #bullet starting position\n        buffer_y = Bullet.BUFFER\n        x = shield_x \n        y = shield_y + buffer_y\n\n        #bullet speed\n        dx = random.choice([1, 0.5, 0.3, 0.1, 0, -0.1, -0.3, -0.5, -1])\n        dy = -10\n\n        #create the bullet\n        super(Bullet, self).__init__(image = Bullet.image,\n                                     x = x, y = y,\n                                     dx = dx, dy = dy)\n        self.lifetime = Bullet.LIFETIME\n\n    def update(self):\n        \"\"\" Move the bullet. \"\"\"\n\n        #if lifetime is up, destroy missile\n        self.lifetime -= 1\n        if self.lifetime == 0:\n            self.destroy()\n\n    def handle_hit(self):\n        \"\"\" Handles what happens when hit by Bullet. \"\"\"\n        Ship.health -= 1\n        if Ship.health == 0:    #ship loses health and eventually dies\n            Ship.die()\n\n        self.die()\n\n\nclass Missile(Collider):\n    \"\"\"\n    A missile which falls to the ground.\n    \"\"\"\n    image = games.load_image(\"missile.bmp\")\n    speed = 1\n\n    def __init__(self, x, y = 90):\n        \"\"\" Initialize a Missile object. \"\"\"\n        super(Missile, self).__init__(image = Missile.image,\n                                    x = x, y = y,  \n                                    dy = random.randint(1, 4))  \n    def update(self):\n        \"\"\" Check if bottom edge has reached screen bottom. \"\"\"\n        if self.bottom &gt; games.screen.height:\n            self.end_game()\n            self.die()\n\n    def handle_caught(self):\n        \"\"\" Destroy self if caught. \"\"\"\n        self.die()\n\n    def handle_hit(self):\n        \"\"\" Handle if missile gets hit... nothing. \"\"\"\n\n    def end_game(self):\n        \"\"\" End the games. \"\"\"\n        end_message = games.Message(value = \"Game Over\",\n                                    size = 90,\n                                    color = color.red,\n                                    x = games.screen.width/2,\n                                    y = games.screen.height/2,\n                                    lifetime = 5 * games.screen.fps,\n                                    after_death = games.screen.quit)\n        games.screen.add(end_message)\n\n\ndef main():\n    \"\"\" Play the game. \"\"\"\n    city_image = games.load_image(\"Citybackground.jpg\", transparent = False)\n    games.screen.background = city_image\n\n    #load and play theme music\n    games.music.load(\"Star-Command.mp3\")\n    games.music.play(-1)\n\n    the_ship = Ship()\n    games.screen.add(the_ship)\n\n    the_shield = Shield()\n    games.screen.add(the_shield)\n\n    games.mouse.is_visible = False\n\n    games.screen.event_grab = True\n    games.screen.mainloop()\n\n#start it up!!!!\nmain()\n</code></pre>\n"}, {"tags": ["python", "operators"], "comments": [{"owner": {"reputation": 524, "user_id": 5414638, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e831e501c988b5811842cbb541794275?s=128&d=identicon&r=PG&f=1", "display_name": "Inkblot", "link": "https://stackoverflow.com/users/5414638/inkblot"}, "edited": false, "score": 0, "creation_date": 1450297578, "post_id": 34321277, "comment_id": 56384505, "body": "This same question was asked at around the same time yesterday"}, {"owner": {"reputation": 6185, "user_id": 4490559, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/985f62a656c7e5918ad6b415b6f9af02?s=128&d=identicon&r=PG&f=1", "display_name": "intboolstring", "link": "https://stackoverflow.com/users/4490559/intboolstring"}, "edited": false, "score": 0, "creation_date": 1450297625, "post_id": 34321277, "comment_id": 56384534, "body": "For any expr, <code>n += x</code> is equal to <code>n = n+x</code>"}, {"owner": {"reputation": 1101, "user_id": 5616687, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1264d3d4474326e63ee2ae32eca6a493?s=128&d=identicon&r=PG&f=1", "display_name": "MARyan87", "link": "https://stackoverflow.com/users/5616687/maryan87"}, "edited": false, "score": 0, "creation_date": 1450298032, "post_id": 34321277, "comment_id": 56384790, "body": "Since my question is really based on my misunderstanding its hard to post a sample script. If it clarifies anything this program reads a file and returns the number of appearances for each word. Using += the string &#39;we&#39; returned &#39;32&#39; and using the same code with word_count[word] = word_count[word] + 1 returned &#39;6&#39;"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1450298244, "post_id": 34321277, "comment_id": 56384935, "body": "That hardly seems possible. Perhaps when you reduce your script to the barest essentials, you&#39;ll discover the actual problem, unrelated to <code>+=</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1450298290, "post_id": 34321277, "comment_id": 56384961, "body": "There are some subtle differences between <code>a += b</code> and <code>a = a + b</code> relating to mutable objects, but none of those differences would trigger here."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 1, "creation_date": 1450313358, "post_id": 34321277, "comment_id": 56391416, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2347265/why-does-behave-unexpectedly-on-lists\">Why does += behave unexpectedly on lists?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 134, "user_id": 5131813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f1e848bb6b01f0f9f71763bcb1282e?s=128&d=identicon&r=PG&f=1", "display_name": "folkert kevelam", "link": "https://stackoverflow.com/users/5131813/folkert-kevelam"}, "is_accepted": false, "score": 2, "last_activity_date": 1450533137, "last_edit_date": 1450533137, "creation_date": 1450298734, "answer_id": 34321798, "question_id": 34321277, "link": "https://stackoverflow.com/questions/34321277/the-difference-between-using-n-1-and-n-n-1/34321798#34321798", "title": "The difference between using n += 1 and n = n + 1", "body": "<p>I tested:</p>\n\n<pre><code>    word_count[word] = word_count[word] + 1\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>    word_count[word] += 1\n</code></pre>\n\n<p>and found both return results to be the same. Have you uploaded the complete code because I've not been able to duplicate your problem, perhaps you forgot about some code that changes the ouput?</p>\n\n<p>Also, instead of open() and close() you should use the \"with\" statement as it is more secure to use. Example:</p>\n\n<pre><code>def word_count_dict(filename):\n     word_count = dict()\n     with open(filename, 'r') as file:\n         for lines in file:\n             words = lines.split()\n         for word in words:\n             word = word.lower()\n             if not word in word_count:\n                 word_count[word] = 1\n             else:\n                 word_count[word] += 1\n     return word_count\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>One can use the defaultdict in collections() to refactor the code</p>\n\n<pre><code>from collections import defaultdict\n\ndef word_count_dict(filename):\n     word_count = defaultdict(int)\n     with open(filename, 'r') as file:\n         for lines in file:\n             words = lines.split()\n         for word in words:\n             word_count[word.lower()] += 1\n     return word_count\n</code></pre>\n"}], "owner": {"reputation": 1101, "user_id": 5616687, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1264d3d4474326e63ee2ae32eca6a493?s=128&d=identicon&r=PG&f=1", "display_name": "MARyan87", "link": "https://stackoverflow.com/users/5616687/maryan87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4723, "favorite_count": 0, "closed_date": 1450314768, "answer_count": 1, "score": 0, "last_activity_date": 1450533137, "creation_date": 1450297023, "last_edit_date": 1450297483, "question_id": 34321277, "link": "https://stackoverflow.com/questions/34321277/the-difference-between-using-n-1-and-n-n-1", "closed_reason": "Not suitable for this site", "title": "The difference between using n += 1 and n = n + 1", "body": "<p>Up to this point I have thought using the += operator was the same as using something such as n = n + 1. \nIn the below code I return different results when replacing the word_count[word] = word_count[word] + 1 with a += expression.\nWhat is the difference?</p>\n\n<pre><code>def word_count_dict(filename):\n    word_count = {}\n    opened_file = open(filename, 'r')\n    for lines in opened_file:\n        words = lines.split()\n    for word in words:\n        word = word.lower()\n        if not word in word_count:\n            word_count[word] = 1\n        else:\n            word_count[word] = word_count[word] + 1\n\n    opened_file.close()\n    return word_count\n</code></pre>\n"}, {"tags": ["python", "ssh", "sftp", "paramiko"], "comments": [{"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1450297054, "post_id": 34321262, "comment_id": 56384230, "body": "I would take a look at <a href=\"http://www.fabfile.org/\" rel=\"nofollow noreferrer\">Fabric</a>"}, {"owner": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1450297254, "post_id": 34321262, "comment_id": 56384336, "body": "Is there something specific to Fabric that would help me here? @wilbur"}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1450297470, "post_id": 34321262, "comment_id": 56384449, "body": "Well I personally don&#39;t know a way that you can link Device 1 directly to Device 3 with python, so if you created a fabric task that copied the files over, you can run it on Device 1 with the destination as Device 2and subsequently on Device 2 with the destination as Device 3. Sorry I can&#39;t think of a more elegant way to do it right now"}, {"owner": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1450297569, "post_id": 34321262, "comment_id": 56384502, "body": "Thanks, I wasn&#39;t aware of fabric, but that same idea was essentially my backup. I think there is some method to setup a tunnel. Hopefully it integrates well with paramiko"}], "answers": [{"comments": [{"owner": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "edited": false, "score": 0, "creation_date": 1450297656, "post_id": 34321440, "comment_id": 56384566, "body": "Just what I was looking for. I didn&#39;t think of tunnelling until responding to wilbur. Thanks for the help"}, {"owner": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "edited": false, "score": 0, "creation_date": 1450298428, "post_id": 34321440, "comment_id": 56385053, "body": "Just do confirm, what is <code>server</code> in your example? Just <code>[hostname, port]</code>? And your example doesn&#39;t establish the tunnel does it? @Ali Nikneshan"}, {"owner": {"reputation": 3223, "user_id": 501979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e705bcc10f6b8b5e04104546ea523d7?s=128&d=identicon&r=PG", "display_name": "Ali Nikneshan", "link": "https://stackoverflow.com/users/501979/ali-nikneshan"}, "reply_to_user": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "edited": false, "score": 1, "creation_date": 1450300396, "post_id": 34321440, "comment_id": 56386155, "body": "server = (Device2,Port2). Check the link for full example, I just extract the interesting part."}], "tags": [], "owner": {"reputation": 3223, "user_id": 501979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e705bcc10f6b8b5e04104546ea523d7?s=128&d=identicon&r=PG", "display_name": "Ali Nikneshan", "link": "https://stackoverflow.com/users/501979/ali-nikneshan"}, "is_accepted": true, "score": 2, "last_activity_date": 1450297566, "creation_date": 1450297566, "answer_id": 34321440, "question_id": 34321262, "link": "https://stackoverflow.com/questions/34321262/python-ssh-and-sftp-through-a-middle-computer/34321440#34321440", "title": "Python - ssh and sftp through a middle computer", "body": "<p>You should use SSH Tunnel,\nThere are different options:</p>\n\n<ol>\n<li><a href=\"https://github.com/pahaz/sshtunnel\" rel=\"nofollow\">sshtunnel</a>: <code>pip install sshtunnel</code></li>\n<li>Use para as forwarder port: <a href=\"https://github.com/paramiko/paramiko/blob/master/demos/forward.py\" rel=\"nofollow\">https://github.com/paramiko/paramiko/blob/master/demos/forward.py</a></li>\n</ol>\n\n<p>Sample:</p>\n\n<pre><code>client = paramiko.SSHClient()\nclient.load_system_host_keys()\nclient.set_missing_host_key_policy(paramiko.WarningPolicy())\n\ntry:\n    client.connect(server[0], server[1], username=options.user, key_filename=options.keyfile,            look_for_keys=options.look_for_keys, password=password)\n</code></pre>\n"}], "owner": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "accepted_answer_id": 34321440, "answer_count": 1, "score": 0, "last_activity_date": 1450297566, "creation_date": 1450296958, "question_id": 34321262, "link": "https://stackoverflow.com/questions/34321262/python-ssh-and-sftp-through-a-middle-computer", "title": "Python - ssh and sftp through a middle computer", "body": "<p>Device 1 is connected to Device 2 over my network. Device 2 is also connect to Device 3, which is not directly connected to Device 1. From Device 1, I would like to be able to send files to either Device 2 or Device 3.</p>\n\n<p>Currently, I am using paramiko to establish an ssh connection and then using sftp to put the files on Device 2 from Device 1. This is not a problem.</p>\n\n<p>What is the best way to transfer files to Device 3, using Device 2 as a middle man? I know I could copy to Device 2 and then somehow copy again to Device 3, but this seems inefficient. How should I go about linking Device 1 to Device 3 so I can simply use <code>sftp.put()</code>?</p>\n\n<p>I cannot change the network configuration, so please do not suggest that.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 5683648, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MAEDb.jpg?s=128&g=1", "display_name": "Beastly Gerbil", "link": "https://stackoverflow.com/users/5683648/beastly-gerbil"}, "edited": false, "score": 0, "creation_date": 1450297599, "post_id": 34321276, "comment_id": 56384517, "body": "Thx, thought it might be something simple like that"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1450297656, "post_id": 34321276, "comment_id": 56384567, "body": "Err, you forgot the links to the doc. :D"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1450297730, "post_id": 34321276, "comment_id": 56384603, "body": "@BhargavRao,  I was only testing to see if you were online ;)"}, {"owner": {"reputation": 225, "user_id": 5683648, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MAEDb.jpg?s=128&g=1", "display_name": "Beastly Gerbil", "link": "https://stackoverflow.com/users/5683648/beastly-gerbil"}, "reply_to_user": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1450297746, "post_id": 34321276, "comment_id": 56384616, "body": "@BhargavRao, me or Padraic Cunningham"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 225, "user_id": 5683648, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MAEDb.jpg?s=128&g=1", "display_name": "Beastly Gerbil", "link": "https://stackoverflow.com/users/5683648/beastly-gerbil"}, "edited": false, "score": 0, "creation_date": 1450297813, "post_id": 34321276, "comment_id": 56384646, "body": "@JoeBeastlyGerbil, me, that fella is always on my case!"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 225, "user_id": 5683648, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MAEDb.jpg?s=128&g=1", "display_name": "Beastly Gerbil", "link": "https://stackoverflow.com/users/5683648/beastly-gerbil"}, "edited": false, "score": 0, "creation_date": 1450297829, "post_id": 34321276, "comment_id": 56384657, "body": "Not you @JoeBeastlyGerbil, Padraic has a &quot;history&quot; of not adding links to the docs. :P"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 1, "creation_date": 1450297946, "post_id": 34321276, "comment_id": 56384733, "body": "I thought today is the day to stop giving &quot;fish&quot; and start teaching &quot;how to fish&quot; .... :D"}, {"owner": {"reputation": 225, "user_id": 5683648, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MAEDb.jpg?s=128&g=1", "display_name": "Beastly Gerbil", "link": "https://stackoverflow.com/users/5683648/beastly-gerbil"}, "edited": false, "score": 0, "creation_date": 1450298059, "post_id": 34321276, "comment_id": 56384813, "body": "What are you guys talking about? :D"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 225, "user_id": 5683648, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MAEDb.jpg?s=128&g=1", "display_name": "Beastly Gerbil", "link": "https://stackoverflow.com/users/5683648/beastly-gerbil"}, "edited": false, "score": 0, "creation_date": 1450298195, "post_id": 34321276, "comment_id": 56384901, "body": "Lol, @JoeBeastlyGerbil follow Padraic for a few days and you&#39;ll get to know! All the best."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 7, "last_activity_date": 1450299389, "last_edit_date": 1450299389, "creation_date": 1450297021, "answer_id": 34321276, "question_id": 34321209, "link": "https://stackoverflow.com/questions/34321209/can-you-do-sums-with-a-datetime-in-python/34321276#34321276", "title": "Can you do sums with a datetime in Python?", "body": "<p>Just create another datetime object and subtract which will give you a <a href=\"https://docs.python.org/3.5/library/datetime.html#datetime.timedelta\" rel=\"nofollow\">timedelta</a> object.</p>\n\n<pre><code>from datetime import datetime\nnow = datetime.now()\nthen = datetime(2016,1,1,0,0,0)\ndiff = then - now\nprint(diff)\n\nprint(diff.total_seconds())\n\n15 days, 3:42:21.408581\n1309365.968044\n</code></pre>\n\n<p>If you want to take user input:</p>\n\n<pre><code>from datetime import datetime\n\n\nwhile True:\n    inp = input(\"Enter date in format yyyy/mm/dd hh:mm:ss\")\n    try:\n        then = datetime.strptime(inp, \"%Y/%m/%d %H:%M:%S\")\n        break\n    except ValueError:\n        print(\"Invalid input\")\n\nnow = datetime.now()\ndiff = then - now\nprint(diff)\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>$Enter date in format yyyy/mm/dd hh:mm:ss2016/01/01 00:00:00\n15 days, 3:04:51.960110\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1450299142, "post_id": 34321840, "comment_id": 56385511, "body": "You can do it with a single string, I will add it to my answer"}, {"owner": {"reputation": 225, "user_id": 5683648, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MAEDb.jpg?s=128&g=1", "display_name": "Beastly Gerbil", "link": "https://stackoverflow.com/users/5683648/beastly-gerbil"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1450300781, "post_id": 34321840, "comment_id": 56386320, "body": "from datetime import datetime   while True:     inp = input(&quot;Enter date in format yyyy/mm/dd hh:mm:ss&quot;)     try:         then = datetime.strptime(inp, &quot;%Y/%m/%d %H:%M:%S&quot;)         break     except ValueError:         print(&quot;Invalid input&quot;)  now = datetime.now() diff = then - now print(diff, &quot;until&quot;, inp) print(diff.total_seconds(),&quot;seconds&quot;)"}], "tags": [], "owner": {"reputation": 225, "user_id": 5683648, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MAEDb.jpg?s=128&g=1", "display_name": "Beastly Gerbil", "link": "https://stackoverflow.com/users/5683648/beastly-gerbil"}, "is_accepted": true, "score": 0, "last_activity_date": 1474291171, "last_edit_date": 1474291171, "creation_date": 1450298904, "answer_id": 34321840, "question_id": 34321209, "link": "https://stackoverflow.com/questions/34321209/can-you-do-sums-with-a-datetime-in-python/34321840#34321840", "title": "Can you do sums with a datetime in Python?", "body": "<p>I have taken your answer and developed it so that the user can enter the date that they want: Here it is</p>\n\n<pre><code>from datetime import datetime\nyear=int(input(\"What year?\"))\nmonth=int(input(\"What month?\"))\nday=int(input(\"What day?\"))\nhour=int(input(\"What hour?\"))\nminute=int(input(\"What minute?\"))\nsecond=int(input(\"What second?\"))\nthen = datetime(year,month,day,hour,minute,second)\nnow = datetime.now()\ndiff = then - now\nprint(diff)\n\nprint(diff.total_seconds())\n</code></pre>\n\n<p>Thanks you all for your answers :D</p>\n\n<p><strong>Now Variable</strong></p>\n\n<p>Here is even better code, you can just take out the now variable, and put it directly in the difference integer</p>\n\n<hr>\n\n<pre><code>from datetime import datetime\nwhile True:\n    inp = input(\"Enter date in format yyyy/mm/dd hh:mm:ss\")\n    try:\n        then = datetime.strptime(inp, \"%Y/%m/%d %H:%M:%S\")\n        break\n    except ValueError:\n        print(\"Invalid input\")\ndiff = then - datetime.now()\nprint(diff, \"until\", inp)\nprint(diff.total_seconds(),\"seconds\")\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 5683648, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MAEDb.jpg?s=128&g=1", "display_name": "Beastly Gerbil", "link": "https://stackoverflow.com/users/5683648/beastly-gerbil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 2, "accepted_answer_id": 34321840, "answer_count": 2, "score": 6, "last_activity_date": 1474291171, "creation_date": 1450296775, "last_edit_date": 1450302693, "question_id": 34321209, "link": "https://stackoverflow.com/questions/34321209/can-you-do-sums-with-a-datetime-in-python", "title": "Can you do sums with a datetime in Python?", "body": "<p>I know how to get the date:</p>\n\n<pre><code>from datetime import datetime\ntime = datetime.now()\nprint(time)\n</code></pre>\n\n<p>But is there a way where you can work out the days/hours until a certain date, maybe storing the date as an integer or something? Thx for all answers</p>\n"}, {"tags": ["python", "recursion", "beautifulsoup", "html-parsing"], "answers": [{"comments": [{"owner": {"reputation": 859, "user_id": 4518577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9bge.png?s=128&g=1", "display_name": "Nikola Jankovic", "link": "https://stackoverflow.com/users/4518577/nikola-jankovic"}, "edited": false, "score": 0, "creation_date": 1450297761, "post_id": 34321456, "comment_id": 56384622, "body": "You&#39;re absolutely right, I just installed the library and it read the site without a problem. Do you know what the problem was though? And, what was going on when the console was printing out the file paths in red?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 859, "user_id": 4518577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9bge.png?s=128&g=1", "display_name": "Nikola Jankovic", "link": "https://stackoverflow.com/users/4518577/nikola-jankovic"}, "edited": false, "score": 0, "creation_date": 1450298134, "post_id": 34321456, "comment_id": 56384866, "body": "@NikolaJankovic well, I haven&#39;t dived that deep, but in general, different parsers have different behaviors and parsing algorithms.."}, {"owner": {"reputation": 859, "user_id": 4518577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9bge.png?s=128&g=1", "display_name": "Nikola Jankovic", "link": "https://stackoverflow.com/users/4518577/nikola-jankovic"}, "edited": false, "score": 0, "creation_date": 1450298256, "post_id": 34321456, "comment_id": 56384942, "body": "Alright, thanks for the help Alec I really appreciate it!"}, {"owner": {"reputation": 412, "user_id": 1624676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MXuKL.jpg?s=128&g=1", "display_name": "zencodism", "link": "https://stackoverflow.com/users/1624676/zencodism"}, "reply_to_user": {"reputation": 859, "user_id": 4518577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9bge.png?s=128&g=1", "display_name": "Nikola Jankovic", "link": "https://stackoverflow.com/users/4518577/nikola-jankovic"}, "edited": false, "score": 1, "creation_date": 1450299337, "post_id": 34321456, "comment_id": 56385615, "body": "@NikolaJankovic, I dove deep enough, see below. It was quite amusing WTF."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 3, "last_activity_date": 1450297604, "creation_date": 1450297604, "answer_id": 34321456, "question_id": 34321208, "link": "https://stackoverflow.com/questions/34321208/why-does-this-specific-website-cause-a-recursion-error-when-parsing/34321456#34321456", "title": "Why does this specific website cause a recursion error when parsing?", "body": "<p><code>html5lib</code> and <code>lxml</code> both handle this particular case:</p>\n\n<pre><code>bsObj = BeautifulSoup(html.read(), \"html5lib\")\nbsObj = BeautifulSoup(html.read(), \"lxml\")\n</code></pre>\n\n<p>Note that this would require <code>html5lib</code> and/or <code>lxml</code> be installed:</p>\n\n<pre><code>pip install html5lib\npip install lxml\n</code></pre>\n\n<p>Also see <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#differences-between-parsers\" rel=\"nofollow\">Differences between parsers</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 859, "user_id": 4518577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9bge.png?s=128&g=1", "display_name": "Nikola Jankovic", "link": "https://stackoverflow.com/users/4518577/nikola-jankovic"}, "edited": false, "score": 0, "creation_date": 1450299641, "post_id": 34321931, "comment_id": 56385767, "body": "That&#39;s incredible, I noticed that too with the list tags on the /dealaz.shtml page but didn&#39;t realize that it was causing the problem. I almost want to give them the benefit of the doubt and say it was done intentionally to prevent data mining but I doubt thats the case. In any case thanks for taking the time to investigate and explain!"}], "tags": [], "owner": {"reputation": 412, "user_id": 1624676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MXuKL.jpg?s=128&g=1", "display_name": "zencodism", "link": "https://stackoverflow.com/users/1624676/zencodism"}, "is_accepted": false, "score": 2, "last_activity_date": 1450299263, "creation_date": 1450299263, "answer_id": 34321931, "question_id": 34321208, "link": "https://stackoverflow.com/questions/34321208/why-does-this-specific-website-cause-a-recursion-error-when-parsing/34321931#34321931", "title": "Why does this specific website cause a recursion error when parsing?", "body": "<p>I actually found the cause for this error. Downloaded said page and tinkered a bit until I narrowed the HTML causing the error to just the two selects. </p>\n\n<p>Now is the good part. </p>\n\n<p>First select has around 1200 options, second one about 500. <strong>Not a single closing 'option' tag</strong> present, all are left opened. Parser understands this (logically) as multiply <em>multiply</em> nested HTML structure and does its best to unravel it, until it runs out of recursion stack.</p>\n\n<p>End of story :)</p>\n"}], "owner": {"reputation": 859, "user_id": 4518577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9bge.png?s=128&g=1", "display_name": "Nikola Jankovic", "link": "https://stackoverflow.com/users/4518577/nikola-jankovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 2, "accepted_answer_id": 34321456, "answer_count": 2, "score": 3, "last_activity_date": 1482281207, "creation_date": 1450296773, "last_edit_date": 1482281207, "question_id": 34321208, "link": "https://stackoverflow.com/questions/34321208/why-does-this-specific-website-cause-a-recursion-error-when-parsing", "title": "Why does this specific website cause a recursion error when parsing?", "body": "<p>I've been trying to read in and parse a page on car-part.com all day and am having trouble. I'm using beautifulsoup and its consistently returning a recursion error. I initially assumed that it was due to the 4k list elements in the html so I increased the recursive limit but that didn't fix it. I realized that it occurs on every single page and I can't figure out why on earth its happening only on this specific website. </p>\n\n<p>This is the error I'm getting:</p>\n\n<blockquote>\n  <p>RecursionError: maximum recursion depth exceeded in comparison</p>\n</blockquote>\n\n<p>Before that though it constantly repeats </p>\n\n<blockquote>\n  <p>File\n  \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/bs4/element.py\",\n  line 1195, in decode_contents\n      formatter))   File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/bs4/element.py\",\n  line 1126, in decode\n      indent_contents, eventual_encoding, formatter)   File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/bs4/element.py\",\n  line 1195, in decode_contents\n      formatter))   File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/bs4/element.py\",\n  line 1126, in decode\n      indent_contents, eventual_encoding, formatter)   File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/bs4/element.py\",\n  line 1195, in decode_contents\n      formatter)) \n  ...</p>\n</blockquote>\n\n<p>The problem is that I don't understand what this console reading means. Is the site calling this file and that's the recursion error? </p>\n\n<p>I'm not concerned about parsing the site anymore, I've already gotten the information I need I just want to understand what exactly is going on here; can anyone explain it to me?</p>\n\n<p>There isn't much to post in terms of code, any call of the object returns the recursion error. </p>\n\n<pre><code>from urllib.request import urlopen\nfrom bs4 import BeautifulSoup\n\nhtml = urlopen(\"http://car-part.com\")\nbsObj = BeautifulSoup(html.read(), \"html.parser\")\n\nprint(bsObj)\n</code></pre>\n\n<p>printing bsObj returns the error and calling bsObj.li does as well but .title and other elements seem to work. </p>\n"}, {"tags": ["java", "python", "hadoop"], "answers": [{"tags": [], "owner": {"reputation": 1433, "user_id": 1289981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8454c7cc0eca710fe02bb12997cd7f2f?s=128&d=identicon&r=PG", "display_name": "maxteneff", "link": "https://stackoverflow.com/users/1289981/maxteneff"}, "is_accepted": false, "score": 0, "last_activity_date": 1506796096, "last_edit_date": 1506796096, "creation_date": 1450303749, "answer_id": 34323048, "question_id": 34321100, "link": "https://stackoverflow.com/questions/34321100/inverted-list-in-map-reduce-hadoop/34323048#34323048", "title": "Inverted list in Map Reduce Hadoop", "body": "<p>Just a few thoughts about your problem.</p>\n\n<p><strong>Input format:</strong></p>\n\n<p>TextInputFormat uses every row of input files as input records. So you should use input format which provides access to the whole file as one input record. You can use this <a href=\"https://stackoverflow.com/a/17881028/1289981\">WholeFileRecordReader</a>, for example.</p>\n\n<p><strong>Mapper:</strong></p>\n\n<p>Mapper should return info about every word in the input record. The return key is the word and the return value is any structure which contains input file and position of the current word in the file. You can write your own Writable class or merge this info to the string and return Text class as you do right now.</p>\n\n<p><strong>Reducer:</strong></p>\n\n<p>Reducer should merge info for every word. Just loop through all values which passed to reducer with one key and generate result strings in the format that you described.</p>\n"}], "owner": {"reputation": 85, "user_id": 5610460, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f60d266c5b50bf5a68f62341d2cd350?s=128&d=identicon&r=PG&f=1", "display_name": "g_hat", "link": "https://stackoverflow.com/users/5610460/g-hat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 402, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1506796096, "creation_date": 1450296354, "last_edit_date": 1450296864, "question_id": 34321100, "link": "https://stackoverflow.com/questions/34321100/inverted-list-in-map-reduce-hadoop", "title": "Inverted list in Map Reduce Hadoop", "body": "<p>I am trying to modify this code to produce a full inverted list. By that i mean, getting an index of each word in the file location. That is if we have two file containing the words</p>\n\n<pre><code>  abc.txt =    I am coming to the park to play, yes i am.\n\n  def.txt = Please come on over, i will be waiting for you\n</code></pre>\n\n<p>i should have something like this:</p>\n\n<pre><code>i /home/abc.txt: 1 10 /home/def.txt: 5\n</code></pre>\n\n<p>This means the letter i is the 1st and 10th word in file abc.txt and the 5th word in file def.txt</p>\n\n<p>I have modified the code to provide \"word location and word frequency\" as shown below:</p>\n\n<pre><code>import java.io.IOException;\nimport java.util.*;\n\nimport org.apache.hadoop.conf.*;\nimport org.apache.hadoop.fs.*;\nimport org.apache.hadoop.io.*;\nimport org.apache.hadoop.mapreduce.*;\nimport org.apache.hadoop.mapreduce.lib.input.*;\nimport org.apache.hadoop.mapreduce.lib.output.*;\nimport org.apache.hadoop.util.*;\n\npublic class WordCountByFile extends Configured implements Tool {\n\n    public static void main(String args[]) throws Exception {\n        String[] argsLocal = {\n            \"input#2\", \"output#2\"\n        };\n        int res = ToolRunner.run(new WordCountByFile(), argsLocal);\n        System.exit(res);\n    }\n\n    public int run(String[] args) throws Exception {\n        Path inputPath = new Path(args[0]);\n        Path outputPath = new Path(args[1]);\n\n        Configuration conf = getConf();\n        Job job = new Job(conf, this.getClass().toString());\n\n        FileInputFormat.setInputPaths(job, inputPath);\n        FileOutputFormat.setOutputPath(job, outputPath);\n\n        job.setJobName(\"WordCountByFile\");\n        job.setJarByClass(WordCountByFile.class);\n        job.setInputFormatClass(TextInputFormat.class);\n        job.setOutputFormatClass(TextOutputFormat.class);\n        job.setMapOutputKeyClass(Text.class);\n        job.setMapOutputValueClass(IntWritable.class);\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(IntWritable.class);\n\n        job.setMapperClass(Map.class);\n        job.setCombinerClass(Reduce.class);\n        job.setReducerClass(Reduce.class);\n\n        return job.waitForCompletion(true) ? 0 : 1;\n    }\n\n    public static class Map extends Mapper &lt; LongWritable, Text, Text, IntWritable &gt; {\n        private final static IntWritable one = new IntWritable(1);\n        private Text word = new Text();\n\n        public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\n            String line = value.toString();\n            StringTokenizer tokenizer = new StringTokenizer(line);\n            while (tokenizer.hasMoreTokens()) {\n\n                String filePathString = ((FileSplit) context.getInputSplit()).getPath().toString();\n\n                word.set(tokenizer.nextToken() + \" \" + filePathString + \" : \");\n                context.write(word, one);\n            }\n        }\n    }\n\n    public static class Reduce extends Reducer &lt; Text, IntWritable, Text, IntWritable &gt; {\n\n        @Override\n        public void reduce(Text key, Iterable &lt; IntWritable &gt; values, Context context) \n            throws IOException, InterruptedException {\n            int sum = 0;\n            for (IntWritable value: values) {\n                sum += value.get();\n            }\n            context.write(key, new IntWritable(sum));\n        }\n    }\n}\n</code></pre>\n\n<p>I know it has to go with some indexing like in Java, but i'm try to figure out how to do that in Hadoop Map Reduce. Any help guys?</p>\n"}, {"tags": ["python", "igraph", "vertices", "edges"], "answers": [{"comments": [{"owner": {"reputation": 671, "user_id": 894439, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/40dcf7b1d214c34f0b3a3a37430e4387?s=128&d=identicon&r=PG", "display_name": "MTA", "link": "https://stackoverflow.com/users/894439/mta"}, "edited": false, "score": 0, "creation_date": 1450357549, "post_id": 34321402, "comment_id": 56411817, "body": "I have made a solution hope thats what you meant. Thanks."}], "tags": [], "owner": {"reputation": 26541, "user_id": 1532460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc5b338bf194a9e117af20bd9b2e4edb?s=128&d=identicon&r=PG", "display_name": "awesoon", "link": "https://stackoverflow.com/users/1532460/awesoon"}, "is_accepted": false, "score": 2, "last_activity_date": 1450297459, "creation_date": 1450297459, "answer_id": 34321402, "question_id": 34321089, "link": "https://stackoverflow.com/questions/34321089/igraph-initialisation-with-weights/34321402#34321402", "title": "igraph initialisation with weights", "body": "<p>According to the documentation, you may use <a href=\"http://igraph.org/python/doc/igraph.Graph-class.html#TupleList\" rel=\"nofollow\"><code>TupleList</code></a> method:</p>\n\n<blockquote>\n  <p>If you have a weighted graph, you can\n  use items where the third item contains the weight of the edge by\n  setting <code>edge_attrs</code> to <code>\"weight\"</code> or <code>[\"weight\"]</code>.</p>\n</blockquote>\n\n<p>You may also set <code>weights</code> parameter to <code>True</code>:</p>\n\n<blockquote>\n  <p><code>weights</code> - alternative way to specify that the graph is weighted. If\n  you set weights to true and <code>edge_attrs</code> is not given, it will be\n  assumed that <code>edge_attrs</code> is <code>[\"weight\"]</code> and <code>igraph</code> will parse the third\n  element from each item into an edge weight. If you set <code>weights</code> to a\n  string, it will be assumed that <code>edge_attrs</code> contains that string only,\n  and <code>igraph</code> will store the edge weights in that attribute.</p>\n</blockquote>\n"}], "owner": {"reputation": 671, "user_id": 894439, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/40dcf7b1d214c34f0b3a3a37430e4387?s=128&d=identicon&r=PG", "display_name": "MTA", "link": "https://stackoverflow.com/users/894439/mta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1558547312, "creation_date": 1450296304, "last_edit_date": 1558547312, "question_id": 34321089, "link": "https://stackoverflow.com/questions/34321089/igraph-initialisation-with-weights", "title": "igraph initialisation with weights", "body": "<p>How can I initialise an igraph with weights?</p>\n\n<p>This is what I have</p>\n\n<pre><code>cr = csv.reader(open(\"atlas.csv\",\"rb\"))\n\nmapping = {}\nfor row in cr:\n    if int(row[2]) == 1:\n        continue\n\n    source = int(row[0])\n    target = int(row[1])\n\n    if source in mapping:\n        list = mapping[source]\n        list.append(target)\n    else:\n        mapping[source] = [target]\n\nprint mapping\n\nG = Graph(edges = [(v, a) for v in mapping.keys() for a in mapping[v]])\nprint G\n</code></pre>\n\n<p>I tried adding weight using <code>edges = (v, a, w)</code> but that doesn't work.</p>\n"}, {"tags": ["python", "flask", "flask-sqlalchemy", "flask-admin"], "answers": [{"tags": [], "owner": {"reputation": 2517, "user_id": 3654352, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40fc4503427ae3fcf5c37b89dfad207b?s=128&d=identicon&r=PG", "display_name": "mehdy", "link": "https://stackoverflow.com/users/3654352/mehdy"}, "is_accepted": false, "score": 0, "last_activity_date": 1450300927, "creation_date": 1450300927, "answer_id": 34322338, "question_id": 34321084, "link": "https://stackoverflow.com/questions/34321084/how-to-set-hash-of-a-column-in-another-column-in-flask-admin/34322338#34322338", "title": "How to set hash of a column in another column in flask-admin?", "body": "<p>I think you can use sqlalchemy's even listeners to manipulate your object before committing it to the database:</p>\n\n<pre><code>from sqlalchemy import event\n...\n@event.listens_for(User, \"before_commit\")\ndef gen_default(mapper, connection, instance):\n    instance.hash_name = hash_function(instance.name)\n</code></pre>\n\n<p>so before each commit it will be invoked and updates the <code>hash_name</code> attribute with the proper hash on <code>name</code></p>\n"}, {"tags": [], "owner": {"reputation": 28123, "user_id": 157176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e72ba9209373ae37e13ab75054aa0ee5?s=128&d=identicon&r=PG", "display_name": "plaes", "link": "https://stackoverflow.com/users/157176/plaes"}, "is_accepted": true, "score": 1, "last_activity_date": 1450301385, "creation_date": 1450301385, "answer_id": 34322475, "question_id": 34321084, "link": "https://stackoverflow.com/questions/34321084/how-to-set-hash-of-a-column-in-another-column-in-flask-admin/34322475#34322475", "title": "How to set hash of a column in another column in flask-admin?", "body": "<p>If you only use flask-admin's SQLAlchemy ModelViews for editing, then it's possible to do following:</p>\n\n<pre><code>class UserView(sqla.ModelView):\n    # Hide `hash_name` in list and form views\n    column_exclude_list = ('hash_name',)\n    form_excluded_columns = ('hash_name',)\n\n    # Generate new hash on `name` change\n    def on_model_change(self, form, model, is_created):\n        if len(model.name):\n            model.hash_name = generate_hash_name(model.name)\n</code></pre>\n\n<p>Otherwise use @mehdy's <code>event</code> approach.</p>\n"}], "owner": {"reputation": 5, "user_id": 1784183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48963cc516698df79a10d788d2dd9ce?s=128&d=identicon&r=PG", "display_name": "Ali Fazaeli", "link": "https://stackoverflow.com/users/1784183/ali-fazaeli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 1, "accepted_answer_id": 34322475, "answer_count": 2, "score": 0, "last_activity_date": 1450301385, "creation_date": 1450296299, "last_edit_date": 1450299903, "question_id": 34321084, "link": "https://stackoverflow.com/questions/34321084/how-to-set-hash-of-a-column-in-another-column-in-flask-admin", "title": "How to set hash of a column in another column in flask-admin?", "body": "<p>I want to save hash of name to hash_name column Also I use Flask-Admin to manage my data. </p>\n\n<pre><code>class User(db.Model):\n    __tablename__ = 'user'\n\n    id = db.Column(db.Integer, primary_key=True, autoincrement=True)\n    name = db.Column(db.Unicode, unique=True, nullable=False)\n    hash_name = db.Column(db.Unicode, unique=True)\n\nadmin.add_view(ModelView(User, db.session))\n</code></pre>\n\n<p>Also I set default with uuid package for hash_name but this page in result had a problem .my uuid never changed . I refreshed but not changed</p>\n"}, {"tags": ["python", "math", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 4524649, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/70136933c6a9592e4499a93018315698?s=128&d=identicon&r=PG&f=1", "display_name": "ca1ek", "link": "https://stackoverflow.com/users/4524649/ca1ek"}, "is_accepted": false, "score": 1, "last_activity_date": 1450296822, "creation_date": 1450296822, "answer_id": 34321224, "question_id": 34321053, "link": "https://stackoverflow.com/questions/34321053/how-can-i-make-bullets-go-towards-the-cursor-properly-in-pygame/34321224#34321224", "title": "How can I make bullets go towards the cursor properly in Pygame", "body": "<p>Okay. I found the solution myself. Bullets still kinda go not exactly to the cursor in quarters 2 and 3 but it makes a circle.</p>\n\n<p>As it turned out, the fact that I had the sin() and cos() functions there was the problem. I just removed them to make the code be </p>\n\n<pre><code>self.angle_x = (self.rel_x / self.d) * move_speed\nself.angle_y = (self.rel_y / self.d) * move_speed\n</code></pre>\n\n<p>and it works now. I also could remove this quarter detection thing, it works now without it. Final code looks like this:</p>\n\n<pre><code>class Projectile():\n    def __init__(self, surface, color, start_pos, end_pos, move_speed):\n        super().__init__()\n\n        # Shooter and target positions\n        self.start_pos = start_pos\n        self.end_pos = end_pos\n\n        # Trigonometry stuffs and like\n        # NOW REDUNDANT\n        # self.dx = self.end_pos[0] - self.start_pos[0]\n        # self.dy = self.end_pos[1] - self.start_pos[1]\n        # self.rads = atan2(-self.dy,self.dx)\n        # self.rads %= 2*pi\n        # self.degs = degrees(self.rads)\n\n        # More stuff I dont understand but it works nearly well.\n        # self.quarter = self.get_quarter(self.degs)\n        self.rel_x = self.end_pos[0] - self.start_pos[0]\n        self.rel_y = self.end_pos[1] - self.start_pos[1]\n\n        self.d = (self.rel_x**2 + self.rel_y**2)**0.5\n        self.angle_x = (self.rel_x / self.d) * move_speed\n        self.angle_y = (self.rel_y) / self.d) * move_speed\n</code></pre>\n\n<p>and the result looks like this:<br>\n<a href=\"https://i.stack.imgur.com/kHbiU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kHbiU.png\" alt=\"A nice circle that looks okay.\"></a></p>\n\n<p>Still, someone should post a better answer that also resolves the issue of bullets not going exactly to the mouse click position.</p>\n"}, {"comments": [{"owner": {"reputation": 1112, "user_id": 266371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lM3vo.png?s=128&g=1", "display_name": "TextGeek", "link": "https://stackoverflow.com/users/266371/textgeek"}, "reply_to_user": {"reputation": 317, "user_id": 4524649, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/70136933c6a9592e4499a93018315698?s=128&d=identicon&r=PG&f=1", "display_name": "ca1ek", "link": "https://stackoverflow.com/users/4524649/ca1ek"}, "edited": false, "score": 0, "creation_date": 1450370311, "post_id": 34321861, "comment_id": 56420929, "body": "right! Just that the variables called &quot;angle_x&quot; and &quot;angle_y&quot; (if I read the code right) are really distances, not angles. But you&#39;ve got the right idea."}, {"owner": {"reputation": 317, "user_id": 4524649, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/70136933c6a9592e4499a93018315698?s=128&d=identicon&r=PG&f=1", "display_name": "ca1ek", "link": "https://stackoverflow.com/users/4524649/ca1ek"}, "edited": false, "score": 0, "creation_date": 1450372521, "post_id": 34321861, "comment_id": 56422356, "body": "I called it angle_x and angle_y because initially I calculated these out of an angle, I will refactor it."}], "tags": [], "owner": {"reputation": 1112, "user_id": 266371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lM3vo.png?s=128&g=1", "display_name": "TextGeek", "link": "https://stackoverflow.com/users/266371/textgeek"}, "is_accepted": false, "score": 2, "last_activity_date": 1450298985, "creation_date": 1450298985, "answer_id": 34321861, "question_id": 34321053, "link": "https://stackoverflow.com/questions/34321053/how-can-i-make-bullets-go-towards-the-cursor-properly-in-pygame/34321861#34321861", "title": "How can I make bullets go towards the cursor properly in Pygame", "body": "<p>Congratulations! You've discovered sin() and cos() for yourself. </p>\n\n<p>Pull out a piece of paper and mark two points: one for the cursor position (=target), and one for the bullet's current (starting?) position. </p>\n\n<p>Now draw a line between them. The length of that line is your code's .d (for distance, I presume).</p>\n\n<p>Then draw a horizontal line from one of the points, far enough so it ends exactly over or under the other point. The length of that is your rel_x (in Calculus you'll call it \"dx\").</p>\n\n<p>Then draw the vertical line to finish a triangle -- that length is your rel_y (or \"dy\").</p>\n\n<p>I'm not sure why you need the variables you've called angle_x and angle_y. Once fired, the angle will always be the same, like a bullet (unless the target is moving and you're flying a pursuit course, like a homing missile; to do a \"pure pursuit\" you just re-calculate the course each turn, so it always points to where the target is at that time). </p>\n\n<p>What you need next is how far to move. That's going to be some part of d. If your speed is greater than d, you cover all of d and arrive; otherwise you only cover a fraction of d. So you want something like:</p>\n\n<p>if (speed > d): fraction_of_d = 1\n   else: fraction_of_d = speed/d</p>\n\n<p>Now all you need to do is notice that if you're going 1/n of the way to the target, you'll also be covering 1/n of the x and of the y distances (stare at the paper longer if you don't see that right off). </p>\n\n<p>But you already have the total x and y distances (rel_x and rel_y). So you just multiply each one by fraction_of_d, and that tells you how far to move along that direction. Then you update the bullet's location by those amounts.</p>\n\n<p>You'll learn in trig that sin() is just the length of the \"opposite\" (the vertical side of the triangle), divided by the length of the hypotenuse (d). cos() is just the length of the \"adjacent\" (the horizontal side) divided by the length of the hypotenuse. So you've effectively calculated the sine and cosine already.</p>\n\n<p>Hope that makes it clearer.</p>\n\n<p>-steve</p>\n"}], "owner": {"reputation": 317, "user_id": 4524649, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/70136933c6a9592e4499a93018315698?s=128&d=identicon&r=PG&f=1", "display_name": "ca1ek", "link": "https://stackoverflow.com/users/4524649/ca1ek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1450298985, "creation_date": 1450296201, "question_id": 34321053, "link": "https://stackoverflow.com/questions/34321053/how-can-i-make-bullets-go-towards-the-cursor-properly-in-pygame", "title": "How can I make bullets go towards the cursor properly in Pygame", "body": "<p>So hey, I'm new into making games and programming at all, I tried to make a small game thingy in Pygame that would include a dude shooting bullets and stuff. However, I can't really get the shooting mechanics right. I have code like this</p>\n\n<pre><code>class Projectile():\n    def __init__(self, surface, color, start_pos, end_pos, move_speed):\n        super().__init__()\n\n        # Shooter and target positions\n        self.start_pos = start_pos\n        self.end_pos = end_pos\n\n        # Trigonometry stuffs and like\n        self.dx = self.end_pos[0] - self.start_pos[0]\n        self.dy = self.end_pos[1] - self.start_pos[1]\n        self.rads = atan2(-self.dy,self.dx)\n        self.rads %= 2*pi\n        self.degs = degrees(self.rads)\n\n        # More stuff I dont understand but it works nearly well.\n        self.quarter = self.get_quarter(self.degs)\n        # Change the way rel_x and rel_y are calculated so stuff works fair enough\n        if self.quarter == 1:\n            self.rel_x = -self.end_pos[0] + self.start_pos[0]\n            self.rel_y = -self.end_pos[1] + self.start_pos[1]\n        elif self.quarter == 2:\n            self.rel_x = self.end_pos[0] - self.start_pos[0]\n            self.rel_y = -self.end_pos[1] + self.start_pos[1]\n        elif self.quarter == 3:\n            self.rel_x = -self.end_pos[0] + self.start_pos[0]\n            self.rel_y = self.end_pos[1] - self.start_pos[1]\n        elif self.quarter == 4:\n            self.rel_x = self.end_pos[0] - self.start_pos[0]\n            self.rel_y = self.end_pos[1] - self.start_pos[1]\n\n        self.d = (self.rel_x**2 + self.rel_y**2)**0.5\n        self.angle_x = ((self.rel_x * cos(self.rads)) / self.d) * move_speed\n        self.angle_y = ((self.rel_y * -sin(self.rads)) / self.d) * move_speed\n\n    def move(self):\n        self.leftover_x += self.angle_x\n        self.leftover_y += self.angle_y\n        self.rect.x += int(self.leftover_x)\n        self.rect.y += int(self.leftover_y)\n        self.leftover_x = (self.leftover_x % 1)\n        self.leftover_y = (self.leftover_y % 1)\n</code></pre>\n\n<p>Move is written that way because Pygame doesn't let you move something 1.337 of a pixel, so I move something by 1, then save .337, and when the saved endings of the number go over 1 they get added as well.</p>\n\n<p>In result, I get bullets going something like that<a href=\"https://i.stack.imgur.com/CPEiI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CPEiI.png\" alt=\"Image of the bug\"></a></p>\n\n<p>With the numbers I marked screen quarters that get used in the if statement within init.</p>\n\n<p>You can see, kinda doesn't work. I want the bullets to make a circle. What should I do.</p>\n\n<p>I will admit, I don't know trigonometry. I didn't learn it in school yet, will have it in a year. Thus, I would like someone to explain it to me as simply as possible. And tell me of a better way to get this going instead of using this quarters thing.</p>\n"}, {"tags": ["python", "performance", "numpy", "pandas", "vectorization"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1450297569, "post_id": 34321025, "comment_id": 56384499, "body": "Hmm, one method would be to construct a df from your array and then call <code>map</code> on each column: <code>a = pd.DataFrame(arr) a.apply(lambda x: x.map(df_A.set_index(&#39;country_codes&#39;)[&#39;continent_codes&#39;])</code> or something like this"}], "answers": [{"comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "edited": false, "score": 0, "creation_date": 1450362336, "post_id": 34321459, "comment_id": 56415178, "body": "@user308827 Glad to help, was interesting problem!"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 1, "last_activity_date": 1450302847, "last_edit_date": 1495541044, "creation_date": 1450297607, "answer_id": 34321459, "question_id": 34321025, "link": "https://stackoverflow.com/questions/34321025/replace-values-in-numpy-2d-array-based-on-pandas-dataframe/34321459#34321459", "title": "Replace values in numpy 2D array based on pandas dataframe", "body": "<p><strong>Approach #1 :</strong> One vectorized approach using <a href=\"http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.searchsorted.html\" rel=\"nofollow noreferrer\"><code>np.searchsorted</code></a> and <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.in1d.html\" rel=\"nofollow noreferrer\"><code>np.in1d</code></a> would be as listed below -</p>\n\n<pre><code># Store country_codes and continent_codes column data for further usage\noldval = np.array(df['country_codes'])\nnewval = np.array(df['continent_codes'])\n\n# Mask of elements to be changed\nmask = np.in1d(arr,oldval)\n\n# Indices for each match from oldval in arr\nidx = np.searchsorted(oldval,arr.ravel()[mask])\n\n# Using the mask put selective elements from continent_codes column into arr\narr.ravel()[mask] = newval[idx]\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>&gt;&gt;&gt; arr   # Original 2D array\narray([[23,  4, 23,  5,  8],\n       [ 3,  6,  8,  5, 11],\n       [16, 24, 15,  4, 10],\n       [ 4, 16, 10,  8,  1]])\n&gt;&gt;&gt; df\n   country_codes  continent_codes\n0              4                4\n1              8                3\n2             12                5\n3             16                6\n4             24                5\n\n&gt;&gt;&gt; oldval = np.array(df['country_codes'])\n&gt;&gt;&gt; newval = np.array(df['continent_codes'])\n&gt;&gt;&gt; mask = np.in1d(arr,oldval)\n&gt;&gt;&gt; idx = np.searchsorted(oldval,arr.ravel()[mask])\n&gt;&gt;&gt; arr.ravel()[mask] = newval[idx]\n\n&gt;&gt;&gt; mask.reshape(arr.shape)  # Mask array depiciting which elements were updated\narray([[False,  True, False, False,  True],\n       [False, False,  True, False, False],\n       [ True,  True, False,  True, False],\n       [ True,  True, False,  True, False]], dtype=bool)\n&gt;&gt;&gt; arr  # Updated 2D array\narray([[23,  4, 23,  5,  3],\n       [ 3,  6,  3,  5, 11],\n       [ 6,  5, 15,  4, 10],\n       [ 4,  6, 10,  3,  1]])\n</code></pre>\n\n<hr>\n\n<p><strong>Approach #2 :</strong> As a variant, you can also create the mask with a comparison between <code>np.searchsorted(oldval,arr,'left')</code> and <code>np.searchsorted(oldval,arr,'right')</code> as discussed in the solutions for <a href=\"https://stackoverflow.com/questions/31789187/find-indices-of-large-array-if-it-contains-values-in-smaller-array\"><code>this question</code></a> and re-use <code>np.searchsorted(oldval,arr,'left')</code>  again later on while putting values into <code>arr</code> for a more efficient solution, like so -</p>\n\n<pre><code># Store country_codes and continent_codes column data for further usage\noldval = np.array(df['country_codes'])\nnewval = np.array(df['continent_codes'])\n\n# Left and right indices for each match from oldval in arr\nleft_idx = np.searchsorted(oldval,arr,'left')\nright_idx = np.searchsorted(oldval,arr,'right')\n\n# Mask of elements to be changed\nmask = left_idx!=right_idx\n\n# Using the mask put selective elements from continent_codes column into arr\narr[mask] = newval[left_idx[mask]]\n</code></pre>\n\n<hr>\n\n<p><strong>Runtime tests and verify outputs</strong></p>\n\n<p>Function definitions -</p>\n\n<pre><code>def original_app(arr,df):\n    for index, row in df.iterrows():\n        arr[arr == row['country_codes']] = row['continent_codes']\n\ndef vectorized_app1(arr,df):\n    oldval = np.array(df['country_codes'])\n    newval = np.array(df['continent_codes'])\n    mask = np.in1d(arr,oldval)\n    idx = np.searchsorted(oldval,arr.ravel()[mask])\n    arr.ravel()[mask] = newval[idx]\n\ndef vectorized_app2(arr,df):\n    oldval = np.array(df['country_codes'])\n    newval = np.array(df['continent_codes'])\n    left_idx = np.searchsorted(oldval,arr,'left')\n    right_idx = np.searchsorted(oldval,arr,'right')\n    mask = left_idx!=right_idx\n    arr[mask] = newval[left_idx[mask]]\n</code></pre>\n\n<p>Verify outputs -</p>\n\n<pre><code>In [195]: # Input array\n     ...: arr = np.random.randint(0,100000,(1000,1000))\n     ...: \n     ...: # Setup input dataframe\n     ...: N = 1000\n     ...: oldvals = np.unique(np.random.randint(0,100000,N))\n     ...: newvals = np.random.randint(0,9,(oldvals.size))\n     ...: df=pd.DataFrame({'country_codes':oldvals,'continent_codes':newvals})\n     ...: df = df.reindex_axis(sorted(df.columns)[::-1], axis=1)\n     ...: \n     ...: # Make copies for input array for funcs to update them\n     ...: arrc1 = arr.copy()\n     ...: arrc2 = arr.copy()\n     ...: arrc3 = arr.copy()\n     ...: \n\nIn [196]: # Verify outputs\n     ...: original_app(arrc1,df)\n     ...: vectorized_app1(arrc2,df)\n     ...: vectorized_app2(arrc3,df)\n     ...: \n\nIn [197]: np.allclose(arrc1,arrc2)\nOut[197]: True\n\nIn [198]: np.allclose(arrc1,arrc3)\nOut[198]: True\n</code></pre>\n\n<p>Timings -       </p>\n\n<pre><code>In [199]: # Make copies for input array for funcs to update them\n     ...: arrc1 = arr.copy()\n     ...: arrc2 = arr.copy()\n     ...: arrc3 = arr.copy()\n     ...: \n\nIn [200]: %timeit original_app(arrc1,df)\n1 loops, best of 3: 2.79 s per loop\n\nIn [201]: %timeit vectorized_app1(arrc2,df)\n1 loops, best of 3: 360 ms per loop\n\nIn [202]: %timeit vectorized_app2(arrc3,df)\n1 loops, best of 3: 213 ms per loop\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1450371908, "last_edit_date": 1450371908, "creation_date": 1450337196, "answer_id": 34328891, "question_id": 34321025, "link": "https://stackoverflow.com/questions/34321025/replace-values-in-numpy-2d-array-based-on-pandas-dataframe/34328891#34328891", "title": "Replace values in numpy 2D array based on pandas dataframe", "body": "<p>with this data as exemple, with at most N countries, </p>\n\n<pre><code>N=10**5\nvalues=np.random.randint(0,N,(1000,1000))\nexemple={'country':np.arange(N//2),'continent':randint(1,5,N//2)}\ndf=pd.DataFrame.from_dict(exemple)\n</code></pre>\n\n<p>You can just do :</p>\n\n<pre><code>v=np.arange(N)\nv[df['country']]=df['continent']\nv.take(values,out=values)\n</code></pre>\n\n<p>probably not optimal, but efficient (20ms).</p>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1170, "favorite_count": 1, "accepted_answer_id": 34321459, "answer_count": 2, "score": 4, "last_activity_date": 1450371908, "creation_date": 1450296071, "last_edit_date": 1450299735, "question_id": 34321025, "link": "https://stackoverflow.com/questions/34321025/replace-values-in-numpy-2d-array-based-on-pandas-dataframe", "title": "Replace values in numpy 2D array based on pandas dataframe", "body": "<pre><code>&gt;&gt;&gt; arr\narray([[ 0., 10.,  0., ...,  0.,  0.,  0.],\n           [ 0.,  4.,  0., ...,  6.,  0.,  9.],\n           [ 0.,  0.,  0., ...,  0.,  0.,  0.],\n           ..., \n           [ 0.,  0.,  0., ...,  0.,  0.,  0.],\n           [ 0.,  0.,  0., ...,  2.,  0.,  0.],\n           [ 0.,  0.,  0., ...,  0.,  3.,  0.]])\n</code></pre>\n\n<p>In the numpy array above, I would like to replace every value that matches the column <code>country_codes</code> in the dataframe (df_A) with the value from the column <code>continent_codes</code> in df_A. df_A looks like:</p>\n\n<pre><code>  country_codes   continent_codes\n0              4      4\n1              8      3\n2             12      5\n3             16      6\n4             24      5\n</code></pre>\n\n<p>Right now, I loop through dataframe and replace using numpy indexing notation. Given that iterrows() tends to be slow, is there a more direct/vectorized way to do this?</p>\n\n<pre><code>for index, row in self.df_A.iterrows():\n    arr[arr == row['country_codes']] = row['continent_codes']\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "scikit-learn"], "answers": [{"tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1450322938, "creation_date": 1450322938, "answer_id": 34326122, "question_id": 34320998, "link": "https://stackoverflow.com/questions/34320998/difference-between-fbeta-score-and-precision-recall-fscore-support-when-used-wit/34326122#34326122", "title": "Difference between fbeta_score and precision_recall_fscore_support when used with GridSearchCV?", "body": "<p>It looks like <code>precision_recall_fscore_support</code> is a sort of \"summary\" function, which caluclates 4 different metrics. This is not intended to be used directly as a scorer function, since a scorer function needs to have only a scalar output value. Three of these components of <code>precision_recall_fscore_support</code> can be used with the <code>score</code> paramater in <code>GridSearchCV</code>, in the form: <code>precision_score</code>, <code>recall_score</code> and <code>fbeta_score</code>.</p>\n"}], "owner": {"reputation": 2682, "user_id": 3089523, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1f1d349d7dd96964734d628447c0e929?s=128&d=identicon&r=PG&f=1", "display_name": "Bin", "link": "https://stackoverflow.com/users/3089523/bin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450322938, "creation_date": 1450295991, "question_id": 34320998, "link": "https://stackoverflow.com/questions/34320998/difference-between-fbeta-score-and-precision-recall-fscore-support-when-used-wit", "title": "Difference between fbeta_score and precision_recall_fscore_support when used with GridSearchCV?", "body": "<p>I am trying to set the scoring function for GridSearchCV in scikit-learn for a multiclass classification problem. </p>\n\n<p>My question is that what is the difference between <code>fbeta_score</code> and <code>precision_recall_fscore_support</code>? </p>\n\n<p><a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.metrics.precision_recall_fscore_support.html#sklearn.metrics.precision_recall_fscore_support\" rel=\"nofollow\">According to the documentation,</a> <code>precision_recall_fscore_support</code> returns more than one value. GridSearchCV use which value/score? Does it designed to be used with GridSearchCV?</p>\n"}, {"tags": ["python", "matplotlib", "plot"], "answers": [{"comments": [{"owner": {"reputation": 126, "user_id": 5683145, "user_type": "registered", "profile_image": "https://graph.facebook.com/859236417526394/picture?type=large", "display_name": "Vasya  Pravdin", "link": "https://stackoverflow.com/users/5683145/vasya-pravdin"}, "edited": false, "score": 0, "creation_date": 1450296560, "post_id": 34321086, "comment_id": 56383979, "body": "for example you can use this position: <code>bbox=[0.1, -0.3, 0.9, 0.2]</code>"}, {"owner": {"reputation": 13026, "user_id": 2125837, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760b6ec2b6e1cba2b0218178425f4cde?s=128&d=identicon&r=PG", "display_name": "xpt", "link": "https://stackoverflow.com/users/2125837/xpt"}, "edited": false, "score": 0, "creation_date": 1450296849, "post_id": 34321086, "comment_id": 56384116, "body": "Excellent! Please give a reference where I can find <code>bbox</code> document as well (or explain what they are and why they work that way). thanks"}, {"owner": {"reputation": 126, "user_id": 5683145, "user_type": "registered", "profile_image": "https://graph.facebook.com/859236417526394/picture?type=large", "display_name": "Vasya  Pravdin", "link": "https://stackoverflow.com/users/5683145/vasya-pravdin"}, "reply_to_user": {"reputation": 13026, "user_id": 2125837, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760b6ec2b6e1cba2b0218178425f4cde?s=128&d=identicon&r=PG", "display_name": "xpt", "link": "https://stackoverflow.com/users/2125837/xpt"}, "edited": false, "score": 0, "creation_date": 1450297131, "post_id": 34321086, "comment_id": 56384279, "body": "@xpt There&#39;s a lot of information about it <a href=\"http://matplotlib.org/api/text_api.html?highlight=bbox#matplotlib.text.Text.set_bbox\" rel=\"nofollow noreferrer\">http://matplotlib.org/</a>"}, {"owner": {"reputation": 13026, "user_id": 2125837, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760b6ec2b6e1cba2b0218178425f4cde?s=128&d=identicon&r=PG", "display_name": "xpt", "link": "https://stackoverflow.com/users/2125837/xpt"}, "edited": false, "score": 0, "creation_date": 1450297439, "post_id": 34321086, "comment_id": 56384436, "body": "Thanks for the link. I&#39;m still at lost view them though. So what exactly are the 0.1, -0.3, 0.9, 0.2 four values are for? Why you choose these values (i.e., why they are better than 0.25, -0.5, 0.5, 0.3)? Which one control the gap between the graph and table? Thx."}, {"owner": {"reputation": 126, "user_id": 5683145, "user_type": "registered", "profile_image": "https://graph.facebook.com/859236417526394/picture?type=large", "display_name": "Vasya  Pravdin", "link": "https://stackoverflow.com/users/5683145/vasya-pravdin"}, "reply_to_user": {"reputation": 13026, "user_id": 2125837, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760b6ec2b6e1cba2b0218178425f4cde?s=128&d=identicon&r=PG", "display_name": "xpt", "link": "https://stackoverflow.com/users/2125837/xpt"}, "edited": false, "score": 6, "creation_date": 1450297738, "post_id": 34321086, "comment_id": 56384609, "body": "The first coordinate is a shift on the x-axis, second coordinate is a gap between plot and text box (table in your case), third coordinate is a width of the text box, fourth coordinate is a height of text box."}], "tags": [], "owner": {"reputation": 126, "user_id": 5683145, "user_type": "registered", "profile_image": "https://graph.facebook.com/859236417526394/picture?type=large", "display_name": "Vasya  Pravdin", "link": "https://stackoverflow.com/users/5683145/vasya-pravdin"}, "is_accepted": true, "score": 6, "last_activity_date": 1450296300, "creation_date": 1450296300, "answer_id": 34321086, "question_id": 34320946, "link": "https://stackoverflow.com/questions/34320946/matplotlib-table-plot-how-to-add-gap-between-the-graph-and-table/34321086#34321086", "title": "Matplotlib table plot, how to add gap between the graph and table", "body": "<p>You should use <code>bbox</code> argument:</p>\n\n<pre><code>plt.table(cellText=dcsummary.values,colWidths = [0.25]*len(dc.columns),\nrowLabels=dcsummary.index,\ncolLabels=dcsummary.columns,\ncellLoc = 'center', rowLoc = 'center',\nloc='bottom', bbox=[0.25, -0.5, 0.5, 0.3])\n</code></pre>\n"}], "owner": {"reputation": 13026, "user_id": 2125837, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760b6ec2b6e1cba2b0218178425f4cde?s=128&d=identicon&r=PG", "display_name": "xpt", "link": "https://stackoverflow.com/users/2125837/xpt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5421, "favorite_count": 0, "accepted_answer_id": 34321086, "answer_count": 1, "score": 6, "last_activity_date": 1450297186, "creation_date": 1450295802, "last_edit_date": 1450297186, "question_id": 34320946, "link": "https://stackoverflow.com/questions/34320946/matplotlib-table-plot-how-to-add-gap-between-the-graph-and-table", "title": "Matplotlib table plot, how to add gap between the graph and table", "body": "<p><strong>How to add gap between the graph and table when plotting table in Matplotlib?</strong></p>\n\n<p>This is <a href=\"https://gist.github.com/suntong/c12e195983ecf6d5a4d4/9ffbe2865705f35113634cf4a2e884de9b618770\" rel=\"noreferrer\">my code</a>:</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ndc = pd.DataFrame({'A' : [1, 2, 3, 4],'B' : [4, 3, 2, 1],'C' : [3, 4, 2, 2]})\n\nplt.plot(dc)\nplt.legend(dc.columns)\ndcsummary = pd.DataFrame([dc.mean(), dc.sum()],index=['Mean','Total'])\n\nplt.table(cellText=dcsummary.values,colWidths = [0.25]*len(dc.columns),\n        rowLabels=dcsummary.index,\n        colLabels=dcsummary.columns,\n        cellLoc = 'center', rowLoc = 'center',\n        loc='bottom')\n# loc='top'\nfig = plt.gcf()\n\nplt.show()\n</code></pre>\n\n<p>and the result looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EfzsF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EfzsF.png\" alt=\"plt.table\"></a></p>\n\n<p>I.e., the table header is in the way of x-labels.<br>\nHow to add gap between the graph and table? Thanks</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 3, "creation_date": 1450296443, "post_id": 34320938, "comment_id": 56383913, "body": "<code>a[:len(x)] = x[:len(a)]</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2249, "user_id": 5162426, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/87ad09f80bf6b32bbbbdbc4930475607?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/5162426/anonymous"}, "edited": false, "score": 0, "creation_date": 1450297059, "post_id": 34321152, "comment_id": 56384235, "body": "ah, I did not know this"}], "tags": [], "owner": {"reputation": 15361, "user_id": 10601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f9edf141570be78631565a8c8883bde5?s=128&d=identicon&r=PG", "display_name": "perimosocordiae", "link": "https://stackoverflow.com/users/10601/perimosocordiae"}, "is_accepted": true, "score": 4, "last_activity_date": 1450296564, "creation_date": 1450296564, "answer_id": 34321152, "question_id": 34320938, "link": "https://stackoverflow.com/questions/34320938/how-to-copy-contents-of-one-numpy-array-to-another-while-maintaining-indices/34321152#34321152", "title": "How to copy contents of one numpy array to another while maintaining indices?", "body": "<p>For your use-case:</p>\n\n<pre><code>a[:len(b)] = b[:3]\n</code></pre>\n\n<p>The trick is to remember that slicing \"past the end\" of a numpy array doesn't raise errors:</p>\n\n<pre><code>In [1]: foo = np.arange(3)\n\nIn [2]: foo\nOut[2]: array([0, 1, 2])\n\nIn [3]: foo[:64]\nOut[3]: array([0, 1, 2])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2249, "user_id": 5162426, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/87ad09f80bf6b32bbbbdbc4930475607?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/5162426/anonymous"}, "edited": false, "score": 0, "creation_date": 1450297342, "post_id": 34321177, "comment_id": 56384382, "body": "Thanks, this actually is for an arbitrily multidimensional situation, though I thought I would post the base case in my question. I ended up with  <code>imageData = numpy.zeros((width*height, 3))</code> \\n         <code>for n in range(data):</code> \\n               <code>imageData[n][:len(data[n])] = data[n][:3]</code>, where <code>data</code> is the pixel data of an image of arbitrary size, and an aribtary number of channels, and <code>imageData</code> is a conversion to a three-channel RGB image, even if the initial number of channels was less than 3."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1450296653, "creation_date": 1450296653, "answer_id": 34321177, "question_id": 34320938, "link": "https://stackoverflow.com/questions/34320938/how-to-copy-contents-of-one-numpy-array-to-another-while-maintaining-indices/34321177#34321177", "title": "How to copy contents of one numpy array to another while maintaining indices?", "body": "<p>For the 1D case, it's not too bad:</p>\n\n<pre><code>a[:len(b)] = b[:len(a)]\n</code></pre>\n\n<p>For n-dimensional <code>a</code> and <code>b</code>, things get messier, although still reasonable for a helper function:</p>\n\n<pre><code>def mismatched_copyto(from, to):\n    overlap_slices = tuple(slice(None, min(a, b)) for a, b in zip(from.shape, to.shape))\n    to[overlap_slices] = from[overlap_slices]\n</code></pre>\n\n<p>If you want to define some sort of broadcasting for mismatched <code>ndim</code>s, it gets even messier. I don't think I'd bother.</p>\n"}], "owner": {"reputation": 2249, "user_id": 5162426, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/87ad09f80bf6b32bbbbdbc4930475607?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/5162426/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 34321152, "answer_count": 2, "score": 1, "last_activity_date": 1450296653, "creation_date": 1450295764, "last_edit_date": 1450296150, "question_id": 34320938, "link": "https://stackoverflow.com/questions/34320938/how-to-copy-contents-of-one-numpy-array-to-another-while-maintaining-indices", "title": "How to copy contents of one numpy array to another while maintaining indices?", "body": "<p>Say I want to copy the contents of one array <em>over</em> another array, meaning the indices of the copying array are maintained and overwrite the first. In my case, the array being copied into will always be of length <code>3</code>, while the copied array will be any arbitrary length. </p>\n\n<p>If the copying array is <em>smaller</em> than three, I can do that easily like this:</p>\n\n<pre><code>&gt;&gt;&gt;a = numpy.zeros(3, int)\n&gt;&gt;&gt;a\na = array([0,0,0])\n&gt;&gt;&gt;b = numpy.array([2,3])\n&gt;&gt;&gt;a[:len(b)] = b\n&gt;&gt;&gt;a\na = array([2,3,0])\n</code></pre>\n\n<p>And if the copying array is <em>larger</em> than three, I can do that too like this:</p>\n\n<pre><code>&gt;&gt;&gt;c = numpy.array([5,6,7,8])\n&gt;&gt;&gt;a = c[:3]\n&gt;&gt;&gt;a\na = array([5,6,7])\n</code></pre>\n\n<p>But is there a more elegant numpy method that can do this without havign to write an <code>if</code> to catch both of these conditions? Something like <code>put()</code> that will allow to copy <em>up to</em> a certain index?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Came up with a one liner that works with an array <code>x</code> of any arbitrary size:</p>\n\n<pre><code>a[:numpy.min([3, len(x)])] = x[:numpy.min([3, len(x)])\n</code></pre>\n\n<p>But still would like something cleaner</p>\n"}, {"tags": ["python", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5688269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c00cddd5ec4634f7e56a5648dfa3ba?s=128&d=identicon&r=PG&f=1", "display_name": "Adeel Ali", "link": "https://stackoverflow.com/users/5688269/adeel-ali"}, "edited": false, "score": 0, "creation_date": 1450297662, "post_id": 34321063, "comment_id": 56384569, "body": "Thank You! It worked. However can I ask why an Indent is needed?"}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 1, "creation_date": 1450299119, "post_id": 34321063, "comment_id": 56385497, "body": "Because python uses indentation to denote <i>blocks</i> of code. In this case, indenting it means that the code is inside the <code>while</code> &#39;block&#39;. In your original code it was on the same level as the <code>while</code> block, and so not part of the loop. If you want you can think of more indented code as <i>belonging</i> to the code that is immediately before it at the next less level of indentation."}, {"owner": {"reputation": 2179, "user_id": 2403741, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5AH9S.jpg?s=128&g=1", "display_name": "rp.beltran", "link": "https://stackoverflow.com/users/2403741/rp-beltran"}, "reply_to_user": {"reputation": 5, "user_id": 5688269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c00cddd5ec4634f7e56a5648dfa3ba?s=128&d=identicon&r=PG&f=1", "display_name": "Adeel Ali", "link": "https://stackoverflow.com/users/5688269/adeel-ali"}, "edited": false, "score": 0, "creation_date": 1450302407, "post_id": 34321063, "comment_id": 56387163, "body": "@J.Doe, you should accept his answer (click the green checkmark) since it solved your problem. That shows people that this is indeed the solution, and that your problem is solved, while also providing people with incentive to answer more questions."}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 1, "last_activity_date": 1450296229, "creation_date": 1450296229, "answer_id": 34321063, "question_id": 34320937, "link": "https://stackoverflow.com/questions/34320937/pygame-help-newbie-in-trouble/34321063#34321063", "title": "Pygame Help- Newbie In Trouble", "body": "<p>You need indentation to put <code>fill</code> and <code>update</code> inside <code>while</code> loop.</p>\n\n<pre><code>while not gameExit:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            gameExit = True\n\n    gameDisplay.fill(white) # indentation\n    pygame.display.update() # indentation\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5688269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c00cddd5ec4634f7e56a5648dfa3ba?s=128&d=identicon&r=PG&f=1", "display_name": "Adeel Ali", "link": "https://stackoverflow.com/users/5688269/adeel-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 34321063, "answer_count": 1, "score": 0, "last_activity_date": 1450297343, "creation_date": 1450295762, "last_edit_date": 1450297343, "question_id": 34320937, "link": "https://stackoverflow.com/questions/34320937/pygame-help-newbie-in-trouble", "title": "Pygame Help- Newbie In Trouble", "body": "<p>very new to python/pygame and was watching some tutorials on YT. <a href=\"https://www.youtube.com/watch?v=P8bx4nits-o\" rel=\"nofollow\">https://www.youtube.com/watch?v=P8bx4nits-o</a> &lt;--- This one specifically, and I came across a problem. I was trying to make a white background as in the Video but I couldn't. I don't know where I went wrong.</p>\n\n<pre><code>import pygame\n\npygame.init()\n\ngameDisplay = pygame.display.set_mode((800, 600))\npygame.display.set_caption('slither')\n\nwhite = (255, 255, 255)\n\ngameExit = False\n\nwhile not gameExit:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            gameExit = True\n\ngameDisplay.fill(white)\npygame.display.update()\n\npygame.quit()\nquit()\n</code></pre>\n\n<p>[IMG]<a href=\"http://i66.tinypic.com/20swspu.png[/IMG]\" rel=\"nofollow\">http://i66.tinypic.com/20swspu.png[/IMG]</a></p>\n\n<p>If you could help me i'd really appreciate it! \nThank You!</p>\n"}, {"tags": ["python", "matlab", "matlab-engine"], "owner": {"reputation": 21, "user_id": 5688171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b06b8b68b60b5b23eb315ae56324150?s=128&d=identicon&r=PG&f=1", "display_name": "H.Baucke", "link": "https://stackoverflow.com/users/5688171/h-baucke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1450297288, "creation_date": 1450295716, "last_edit_date": 1450297288, "question_id": 34320925, "link": "https://stackoverflow.com/questions/34320925/infinite-busy-when-using-eng-workspace-in-python-via-matlab-engine", "title": "Infinite busy when using eng.workspace in Python via matlab-engine", "body": "<p>I have isolated a problem writing to Matlab workspace via matlab.engine in Python. Can anyone assist?</p>\n\n<p>Whenever I call eng.workspace, I 'time out', that is that Matlab goes in to an infinite busy and fails to continue with the script, either in Python or Matlab, in fact it never leaves the eng.workspace call.</p>\n\n<p>When I ctrl-c out the command is still executed and the variable stored in the matlab workspace, yet nothing after that line is executed.</p>\n\n<p>Code for context:</p>\n\n<pre><code>    %In Matlab\n    %Share the current Matlab Session\n    testShared = matlab.engine.isEngineShared;\n    if ~testShared\n        matlab.engine.shareEngine('MATLABShared001');\n    end\n    %Call the python script\n    disp('Starting call to Python Script')\n    cmdString = 'python test.py';\n    status = system(cmdString);\n    disp('Finished call to Python')\n\n    #In Python     \n    import matlab.engine\n    names = matlab.engine.find_matlab()\n    eng = matlab.engine.connect_matlab(names[0])\n    eng.workspace['abcd'] = 10\n    eng.workspace['test'] = 'it worked!'   \n    #No need to quit as python auto closes at end (and problem is before this)\n</code></pre>\n\n<p>If this python script is run manually (pyCharm or cmd\\python) then everything runs perfectly and the two variables are perfectly located in the matlab workspace. However, when run programmatically from matlab, it gets caught in the first eng.workspace and does not continue.</p>\n\n<p>Output (Matlab) :\n<a href=\"http://i.stack.imgur.com/d76P6.png\" rel=\"nofollow\">Matlab Command Window and Workspace Results of Ctrl-C Termination</a></p>\n\n<p>Any help is appreciated.</p>\n\n<p>edit: Turned it into a question, not a statement</p>\n"}, {"tags": ["python", "python-3.x", "python-imaging-library", "gdkpixbuf", "pixbuf"], "comments": [{"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450296521, "post_id": 34320903, "comment_id": 56383958, "body": "I was wondering if <code>Image.ANTIALIAS</code> was making the difference. That doesn&#39;t seem to be case. If I were to make a good guess, I would tell you that scaling the image 20x has probably given bigger scope for decision boundaries with minimal loss of pixel-accuracy. This means that when you scaled the image, it was easier for <b>Tesseract</b> to <i>tell</i> the edges of the characters."}, {"owner": {"reputation": 5555, "user_id": 2927205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/luWrX.jpg?s=128&g=1", "display_name": "Mailerdaimon", "link": "https://stackoverflow.com/users/2927205/mailerdaimon"}, "edited": false, "score": 0, "creation_date": 1450359774, "post_id": 34320903, "comment_id": 56413393, "body": "Looks like your image width is wrong, This is why your image looks skewed. Double check your image sizes!"}, {"owner": {"reputation": 195, "user_id": 5688230, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c606b5e712112f9da10aef910dbce3cb?s=128&d=identicon&r=PG&f=1", "display_name": "George J", "link": "https://stackoverflow.com/users/5688230/george-j"}, "reply_to_user": {"reputation": 5555, "user_id": 2927205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/luWrX.jpg?s=128&g=1", "display_name": "Mailerdaimon", "link": "https://stackoverflow.com/users/2927205/mailerdaimon"}, "edited": false, "score": 0, "creation_date": 1450366930, "post_id": 34320903, "comment_id": 56418336, "body": "@Mailerdaimon can you be more specific: how can it be wrong, where did I make it wrong ?"}, {"owner": {"reputation": 5555, "user_id": 2927205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/luWrX.jpg?s=128&g=1", "display_name": "Mailerdaimon", "link": "https://stackoverflow.com/users/2927205/mailerdaimon"}, "edited": false, "score": 0, "creation_date": 1450422022, "post_id": 34320903, "comment_id": 56441736, "body": "@GeorgeJ If your Width is, lets say, 2 Pixels too big, each row two pixels which belong to the next row are displayed in the current row. This makes an image look skewed. The black diagonal line on the left side looks like another hint to that problem. Where the problem comes from needs some debugging and printing out width and height of your image and constantly checking how the image displays."}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 5688230, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c606b5e712112f9da10aef910dbce3cb?s=128&d=identicon&r=PG&f=1", "display_name": "George J", "link": "https://stackoverflow.com/users/5688230/george-j"}, "edited": false, "score": 0, "creation_date": 1450296871, "post_id": 34321140, "comment_id": 56384132, "body": "load from where ? problem for recognition is that image is skewed."}, {"owner": {"reputation": 81, "user_id": 3366796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43eac62dd5c66e466b6e47466f2f3aeb?s=128&d=identicon&r=PG&f=1", "display_name": "whunterknight", "link": "https://stackoverflow.com/users/3366796/whunterknight"}, "reply_to_user": {"reputation": 195, "user_id": 5688230, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c606b5e712112f9da10aef910dbce3cb?s=128&d=identicon&r=PG&f=1", "display_name": "George J", "link": "https://stackoverflow.com/users/5688230/george-j"}, "edited": false, "score": 0, "creation_date": 1450297027, "post_id": 34321140, "comment_id": 56384216, "body": "grayscale prior to resize will help. Will create more cohesive edges, rather than warped ones where you can see the colors."}, {"owner": {"reputation": 195, "user_id": 5688230, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c606b5e712112f9da10aef910dbce3cb?s=128&d=identicon&r=PG&f=1", "display_name": "George J", "link": "https://stackoverflow.com/users/5688230/george-j"}, "edited": false, "score": 0, "creation_date": 1450297506, "post_id": 34321140, "comment_id": 56384470, "body": "thanks for advice (this is not solves the main problem)"}, {"owner": {"reputation": 81, "user_id": 3366796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43eac62dd5c66e466b6e47466f2f3aeb?s=128&d=identicon&r=PG&f=1", "display_name": "whunterknight", "link": "https://stackoverflow.com/users/3366796/whunterknight"}, "reply_to_user": {"reputation": 195, "user_id": 5688230, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c606b5e712112f9da10aef910dbce3cb?s=128&d=identicon&r=PG&f=1", "display_name": "George J", "link": "https://stackoverflow.com/users/5688230/george-j"}, "edited": false, "score": 0, "creation_date": 1450297551, "post_id": 34321140, "comment_id": 56384489, "body": "Is the amount of skew consistent? If so, check out the AFFINE transform of PIL: <a href=\"http://stackoverflow.com/questions/14177744/how-does-perspective-transformation-work-in-pil\" title=\"how does perspective transformation work in pil\">stackoverflow.com/questions/14177744/&hellip;</a>"}], "tags": [], "owner": {"reputation": 81, "user_id": 3366796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43eac62dd5c66e466b6e47466f2f3aeb?s=128&d=identicon&r=PG&f=1", "display_name": "whunterknight", "link": "https://stackoverflow.com/users/3366796/whunterknight"}, "is_accepted": false, "score": 2, "last_activity_date": 1450296501, "creation_date": 1450296501, "answer_id": 34321140, "question_id": 34320903, "link": "https://stackoverflow.com/questions/34320903/improve-ocr-of-image-without-scaling-using-pil-pixbuf/34321140#34321140", "title": "Improve OCR of image without scaling (using PIL, pixbuf)?", "body": "<p>Such extreme scaling is generally bad for OCR, particularly in full color and with special processing (antialiasing)</p>\n\n<p>I would:</p>\n\n<ul>\n<li>upscale less (none?), or use NEAREST</li>\n<li><p>convert to grayscale immediately after loading (to avoid the artifacts you're seeing):</p>\n\n<pre><code>image = image.convert('L')\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 420, "user_id": 5272038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a97d5be2e371978dc42bcacaea660b59?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Vasaikar", "link": "https://stackoverflow.com/users/5272038/shubham-vasaikar"}, "is_accepted": false, "score": 2, "last_activity_date": 1487571902, "last_edit_date": 1487571902, "creation_date": 1487571600, "answer_id": 42337718, "question_id": 34320903, "link": "https://stackoverflow.com/questions/34320903/improve-ocr-of-image-without-scaling-using-pil-pixbuf/42337718#42337718", "title": "Improve OCR of image without scaling (using PIL, pixbuf)?", "body": "<p>I don't know if you're still looking for a solution, but i ran into the same problem of the image being skewed. This is some kind of padding issue with <code>GdkPixBuf</code>. Basically, <code>height</code> and <code>width</code> of the image should always be <code>divisible by 8</code>. So this is what I do before taking the screenshot:</p>\n\n<pre><code>width = width + (8 - (width % 8))\nheight = height + (8 - (height % 8))\n</code></pre>\n\n<p>The screenshot should work after doing this.</p>\n\n<p>You can read more about the issue <a href=\"https://developer.gnome.org/gdk-pixbuf/stable/gdk-pixbuf-The-GdkPixbuf-Structure.html#image-data\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 195, "user_id": 5688230, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c606b5e712112f9da10aef910dbce3cb?s=128&d=identicon&r=PG&f=1", "display_name": "George J", "link": "https://stackoverflow.com/users/5688230/george-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 988, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1487571902, "creation_date": 1450295645, "last_edit_date": 1450354063, "question_id": 34320903, "link": "https://stackoverflow.com/questions/34320903/improve-ocr-of-image-without-scaling-using-pil-pixbuf", "title": "Improve OCR of image without scaling (using PIL, pixbuf)?", "body": "<p>I'm trying to make OCR-recognition on a screenshot, after screenshot taken (of desktop's region, on which you clicked) it goes to <strong>pibxbuffer</strong>, which content goes to <strong>pytesseract</strong>. \nBut after using pixbuffer image quality is bad: it's skew (I tried to save it in a directory, instead of pixbuffer, and looked at it).</p>\n\n<pre><code>def takeScreenshot(self, x, y, width = 150, height = 30): \n    self.width=width \n    self.height=height \n    window = Gdk.get_default_root_window() \n    #x, y, width, height = window.get_geometry() \n\n    #print(\"The size of the root window is {} x {}\".format(width, height)) \n\n    # get_from_drawable() was deprecated. See: \n    # https://developer.gnome.org/gtk3/stable/ch24s02.html#id-1.6.3.4.7 \n    pixbufObj = Gdk.pixbuf_get_from_window(window, x, y, width, height) \n    height = pixbufObj.get_height() \n    width = pixbufObj.get_width() \n    image = Image.frombuffer(\"RGB\", (width, height), \n                             pixbufObj.get_pixels(), 'raw', 'RGB', 0, 1) \n    image = image.resize((width*20,height*20), Image.ANTIALIAS) \n    #image.save(\"saved.png\") \n    print(pytesseract.image_to_string(image)) \n\n    print(\"takenScreenshot:\",x,y) \n</code></pre>\n\n<p>When I saved image to a directory it was ok (quality) and recognition was good.<br>\nTried without <code>Image.ANTIALIAS</code> - makes no difference.</p>\n\n<p>(Purpose of scaling by 20: I tried code which recognized image saved in a directory, without scaling quality of recognition was bad.)</p>\n\n<p><a href=\"http://i.stack.imgur.com/dqtql.png\" rel=\"nofollow\">The bad picture</a></p>\n\n<p>THE PROBLEM IS THAT IMAGE IS SKEWED.</p>\n"}, {"tags": ["python", "django", "apache", "email"], "answers": [{"comments": [{"owner": {"reputation": 1665, "user_id": 218732, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5857fdb092c4773021455bf24bf0f5b8?s=128&d=identicon&r=PG", "display_name": "lysdexia", "link": "https://stackoverflow.com/users/218732/lysdexia"}, "edited": false, "score": 0, "creation_date": 1450296126, "post_id": 34320936, "comment_id": 56383751, "body": "Turns out I was doing some very shallow stupid with os.environ.setdefault: It wants strings. :-) Thanks, though."}], "tags": [], "owner": {"reputation": 19827, "user_id": 342553, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/zjZ6d.jpg?s=128&g=1", "display_name": "James Lin", "link": "https://stackoverflow.com/users/342553/james-lin"}, "is_accepted": false, "score": 0, "last_activity_date": 1450295761, "creation_date": 1450295761, "answer_id": 34320936, "question_id": 34320795, "link": "https://stackoverflow.com/questions/34320795/django-wsgi-py-setting-email-environment-variables-causing-internal-server-error/34320936#34320936", "title": "Django wsgi.py Setting Email Environment Variables Causing Internal Server Error No Logging", "body": "<p>Here is what I would do to debug first:</p>\n\n<p>change settings like <code>os.environ.get(\"EMAIL_HOST\")</code> to <code>os.environ.get(\"EMAIL_HOST\", 'proper settings')</code> and see if the error is your django instance not able to get the env values.</p>\n\n<p>Secondly, depends on how you setup apache and wsgi, also assuming you haven't setup the <code>LOGGING</code> settings, your error log will most ending up inside <code>/var/log/apache/</code></p>\n"}, {"tags": [], "owner": {"reputation": 1665, "user_id": 218732, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5857fdb092c4773021455bf24bf0f5b8?s=128&d=identicon&r=PG", "display_name": "lysdexia", "link": "https://stackoverflow.com/users/218732/lysdexia"}, "is_accepted": false, "score": 0, "last_activity_date": 1450296063, "creation_date": 1450296063, "answer_id": 34321020, "question_id": 34320795, "link": "https://stackoverflow.com/questions/34320795/django-wsgi-py-setting-email-environment-variables-causing-internal-server-error/34321020#34321020", "title": "Django wsgi.py Setting Email Environment Variables Causing Internal Server Error No Logging", "body": "<p>I am, apparently, a bit of an idiot.</p>\n\n<p>I added the following to wsgi.py:</p>\n\n<pre><code>sys.stdout = sys.stderr\n</code></pre>\n\n<p>And set </p>\n\n<pre><code>LogLevel info\n</code></pre>\n\n<p>in /etc/apache2/apache2.conf, which put useful error messages into /var/log/apache2/error.log</p>\n\n<p>Which revealed:</p>\n\n<pre><code>TypeError: must be string, not int\n</code></pre>\n\n<p>Yes, I airheaded putting quotes around EMAIL_HOST_PORT's value!</p>\n\n<pre><code>os.environ.setdefault(\"EMAIL_HOST_PORT\", \"587\")\n</code></pre>\n\n<p>Is correct. I can now successfully send email.</p>\n"}], "owner": {"reputation": 1665, "user_id": 218732, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5857fdb092c4773021455bf24bf0f5b8?s=128&d=identicon&r=PG", "display_name": "lysdexia", "link": "https://stackoverflow.com/users/218732/lysdexia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 608, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1450296063, "creation_date": 1450295246, "question_id": 34320795, "link": "https://stackoverflow.com/questions/34320795/django-wsgi-py-setting-email-environment-variables-causing-internal-server-error", "title": "Django wsgi.py Setting Email Environment Variables Causing Internal Server Error No Logging", "body": "<p>I am setting up a test email account in my Django saleor app on a test system.</p>\n\n<p>The test system is running Django in a virtualenv using apache2/mod_wsgi</p>\n\n<pre><code>&gt;&gt;&gt; django.VERSION\n(1, 8, 7, 'final', 0)\n</code></pre>\n\n<p>The email section of my settings.py file contains the following:</p>\n\n<pre><code>EMAIL_USE_TLS = True\nEMAIL_HOST = os.environ.get(\"EMAIL_HOST\")\nEMAIL_HOST_USER = os.environ.get(\"EMAIL_HOST_USER\")\nEMAIL_HOST_PASSWORD = os.environ.get(\"EMAIL_HOST_PASSWORD\")\nEMAIL_HOST_PORT = os.environ.get(\"EMAIL_HOST_PORT\")\nDEFAULT_FROM_EMAIL = os.environ.get('DEFAULT_FROM_EMAIL')\n</code></pre>\n\n<p>On my local system I have the following environment variables set vis. email:</p>\n\n<pre><code>EMAIL_HOST=\"smtp.gmail.com\"\nEMAIL_HOST_USER=\"name@gmail.com\"\nEMAIL_HOST_PASSWORD=\"doublesecret\"\nEMAIL_HOST_PORT=587\nDEFAULT_FROM_EMAIL=\"name@gmail.com\"\n</code></pre>\n\n<p>I have tested this with gmail's smtp on my local system and it works fine.</p>\n\n<p>My wsgi.py on the remote host running apache is:</p>\n\n<pre><code>import os\nimport sys\nimport site\n\nos.environ.setdefault(\"EMAIL_HOST\", \"smtp.gmail.com\")\nos.environ.setdefault(\"EMAIL_HOST_USER\", \"name@gmail.com\")\nos.environ.setdefault(\"EMAIL_HOST_PASSWORD\", \"doublesecret\")\nos.environ.setdefault(\"EMAIL_HOST_PORT\", 587)\nos.environ.setdefault(\"DEFAULT_FROM_EMAIL\", \"name@gmail.com\")\n\nsite.addsitedir(\"/home/user/project/venv/lib/python2.7/site-packages\")\nos.environ.setdefault(\"SECRET_KEY\", \"aaaaaaaaaaaaaaaaaaaaaaaaaayyyyylmao\")\nos.environ.setdefault(\"MYSQL_DB_URL\", \"mysql://user:passwordo@myhost-dev.xxxxxxxxx.us-east-1.rds.amazonaws.com:3306/saleor\")\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"saleor.settings\")\nproject = \"/home/user/project/saleor\"\nworkspace = os.path.dirname(project)\nsys.path.append(workspace)\n\nfrom django.core.wsgi import get_wsgi_application\napplication = get_wsgi_application()\n</code></pre>\n\n<p>When attempting to send a request_email_confirmation I'm greeted with an internal server error message.</p>\n\n<p>I'm sure I'm missing some bit about the order the environment variables are declared, or where they are declared. For obvious reasons, I'd rather not hardcode the variables into my settings.py.</p>\n\n<p>Clues on why this is happening? More importantly, clues on how to properly troubleshoot on apache/mod_wsgi/django when I'm too noobed to log things correctly?</p>\n"}, {"tags": ["python", "beautifulsoup", "html-parsing"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 2, "creation_date": 1450295183, "post_id": 34320757, "comment_id": 56383261, "body": "have you tried anything?"}, {"owner": {"reputation": 120, "user_id": 4214485, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6d4990c000c3729d2f949ca3cfa0dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Slavi", "link": "https://stackoverflow.com/users/4214485/slavi"}, "reply_to_user": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1450295353, "post_id": 34320757, "comment_id": 56383346, "body": "getting all &#39;a&#39; tags and then extracting the text would give me most of the names, well all but those that are not enclosed with a n a tag. I tried various ideas with regular expressions as well but no luck because the dont seem to follow the same &quot;name pattern&quot; if split-ed on new line"}, {"owner": {"reputation": 4676, "user_id": 30105, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a1dc4bddf38de8351ae70e98845242e9?s=128&d=identicon&r=PG", "display_name": "PyNEwbie", "link": "https://stackoverflow.com/users/30105/pynewbie"}, "edited": false, "score": 1, "creation_date": 1450295785, "post_id": 34320757, "comment_id": 56383570, "body": "You will not be able to do this programatically unless you can explain how names are indicated.  The only way I see doing this right now is assuming that the text_content of the first element after successive br tags has the name, then it is easy and really this question has already been asked in multiple forms"}, {"owner": {"reputation": 4251, "user_id": 2997179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RPknn.png?s=128&g=1", "display_name": "Martin Valgur", "link": "https://stackoverflow.com/users/2997179/martin-valgur"}, "edited": false, "score": 0, "creation_date": 1450296261, "post_id": 34320757, "comment_id": 56383816, "body": "I can&#39;t read Danish, but isn&#39;t virk.dk (at least partially) about providing open access to public data? If so, perhaps there is a better way to access its content than scraping HTML?"}, {"owner": {"reputation": 120, "user_id": 4214485, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6d4990c000c3729d2f949ca3cfa0dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Slavi", "link": "https://stackoverflow.com/users/4214485/slavi"}, "reply_to_user": {"reputation": 4676, "user_id": 30105, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a1dc4bddf38de8351ae70e98845242e9?s=128&d=identicon&r=PG", "display_name": "PyNEwbie", "link": "https://stackoverflow.com/users/30105/pynewbie"}, "edited": false, "score": 0, "creation_date": 1450296417, "post_id": 34320757, "comment_id": 56383905, "body": "Hi Martin, unfortunately not with this data ..  @PyNEwbie, I thought that was well but for example in the example html, the first element does not start with successive br tags so it would be missed"}, {"owner": {"reputation": 4676, "user_id": 30105, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a1dc4bddf38de8351ae70e98845242e9?s=128&d=identicon&r=PG", "display_name": "PyNEwbie", "link": "https://stackoverflow.com/users/30105/pynewbie"}, "edited": false, "score": 0, "creation_date": 1450296550, "post_id": 34320757, "comment_id": 56383970, "body": "it can&#39;t be perfect, maybe scrape the first line and then follow on.  You should be able to do some analytics to quickly tell.  You have to have a rule and your rules will have to be heuristic it is what it is"}, {"owner": {"reputation": 120, "user_id": 4214485, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6d4990c000c3729d2f949ca3cfa0dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Slavi", "link": "https://stackoverflow.com/users/4214485/slavi"}, "edited": false, "score": 0, "creation_date": 1450296872, "post_id": 34320757, "comment_id": 56384134, "body": "The best I&#39;ve gotten around so far is split on &lt;br/&gt;&lt;br/&gt; then check if the item has a tag, get the text if not get the text up until the next &lt;br/&gt; tag. The issue out of that is when the first item encountered doesn&#39;t have an a tag because the html provided has the top class data"}, {"owner": {"reputation": 450, "user_id": 1490760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENtSd.jpg?s=128&g=1", "display_name": "mrDinkelman", "link": "https://stackoverflow.com/users/1490760/mrdinkelman"}, "edited": false, "score": 1, "creation_date": 1450297433, "post_id": 34320757, "comment_id": 56384432, "body": "this is not code writing resource, please provide your code first"}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 2, "creation_date": 1450313704, "post_id": 34320757, "comment_id": 56391514, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/717541/parsing-html-in-python\">Parsing HTML in Python</a>"}], "answers": [{"comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1450298474, "post_id": 34321438, "comment_id": 56385081, "body": "First of all, this is tagged with <code>beautifulsoup</code> and, also <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>."}, {"owner": {"reputation": 120, "user_id": 4214485, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6d4990c000c3729d2f949ca3cfa0dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Slavi", "link": "https://stackoverflow.com/users/4214485/slavi"}, "edited": false, "score": 0, "creation_date": 1450298540, "post_id": 34321438, "comment_id": 56385129, "body": "Hi folkert, Thank you for your answers. This is what we discussed with PyNEwbie. Although its perfect for the provided HTML, it won&#39;t work in the case where the the first item is not in an &quot;a&quot; tag. I came across a solution where I&#39;ll split by &lt;&quot;br/&quot;&gt;&lt;&quot;br/&quot;&gt; and then check if the resulting string has an &quot;a&quot; tag, if it does get the text if not the text is everything between &quot;&gt;&quot; and br tag. Thank you again :)"}], "tags": [], "owner": {"reputation": 134, "user_id": 5131813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f1e848bb6b01f0f9f71763bcb1282e?s=128&d=identicon&r=PG&f=1", "display_name": "folkert kevelam", "link": "https://stackoverflow.com/users/5131813/folkert-kevelam"}, "is_accepted": true, "score": 2, "last_activity_date": 1450299573, "last_edit_date": 1450299573, "creation_date": 1450297563, "answer_id": 34321438, "question_id": 34320757, "link": "https://stackoverflow.com/questions/34320757/html-parsing-python/34321438#34321438", "title": "html parsing Python", "body": "<p>Although it is not entirely clear what names should be parsed from the html dump, I've found this particular piece of code to perform well.</p>\n\n<pre><code>import re\n\nmatches_result_total = list()\n\nwith open(\"/path/to/dump.html\", \"r\") as file:\n    file = file.read()\n    matches_temp1 = re.findall(\"&lt;a.+&gt;(.+)&lt;/a&gt;\", file, re.U)\n    matches_temp2 = re.findall(\"&lt;br/&gt;&lt;br/&gt;[\\n]?([^&lt;]+)&lt;br/&gt;\", file, re.U)\n    matches_result_total = matches_temp1 + matches_temp2\n\nprint(matches_result_total)\n</code></pre>\n\n<p>For me, this yields the result:</p>\n\n<pre><code>['Tove Kjeldsen','Inge Lise Klastrup', 'Asta Johanne Kjeldsen', 'Jens Lykke Kjeldsen', 'Anne Birte Kjeldsen', 'ASTA OG HENRY KJELDSENS FAMILIEFOND', 'HENRY KJELDSEN. RINGK\u00d8BING T\u00d8MMERHANDEL A/S']\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>As alecxe states in most cases it is insane to use regex to parse HTML or any complex structured language, however,  if one knows how the html is structured one can limit the reach of regex to avoid dying a horrible death, as alecxe explained in the link he provided. :) </p>\n\n<p>Given the structure of this particular piece of html I think it should be safe to use given the little addition I made to my code below. </p>\n\n<pre><code>import re\n\nmatches_result_total = list()\n\nwith open(\"/path/to/dump.html\", \"r\") as file:\n    file = file.read()\n    matches_temp1 = re.findall(\"&lt;br/&gt;&lt;br/&gt;&lt;a.+&gt;(.+)&lt;/a&gt;&lt;br/&gt;\", file, re.U)\n    matches_temp2 = re.findall(\"&lt;br/&gt;&lt;br/&gt;[\\n]?([^&lt;]+)&lt;br/&gt;\", file, re.U)\n    matches_result_total = matches_temp1 + matches_temp2\n\nprint(matches_result_total)\n</code></pre>\n\n<p>this now only matches if the given html dump starts with 2 break lines and then continues with a link tag or text. </p>\n"}], "owner": {"reputation": 120, "user_id": 4214485, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6d4990c000c3729d2f949ca3cfa0dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Slavi", "link": "https://stackoverflow.com/users/4214485/slavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1450320753, "accepted_answer_id": 34321438, "answer_count": 1, "score": -2, "last_activity_date": 1450299573, "creation_date": 1450295104, "question_id": 34320757, "link": "https://stackoverflow.com/questions/34320757/html-parsing-python", "closed_reason": "Not suitable for this site", "title": "html parsing Python", "body": "<p>I have the following HTML:</p>\n\n<pre><code>&lt;div class=\"col-sm-8\"\n                data-pdf-class=\"column8\"&gt;\n                &lt;a target='_blank' href='https://datacvr.virk.dk/data/visenhed?enhedstype=person&amp;id=4003893917'&gt;Tove Kjeldsen&lt;/a&gt;&lt;br/&gt;Lundevangsvej 19&lt;br/&gt;2900 Hellerup&lt;br/&gt;Ejerandel: 5-9,99%&lt;br/&gt;Kapitalklasse: B&lt;br/&gt;Erhvervelsesdato: 30.06.1996        &lt;br/&gt;&lt;br/&gt;\n&lt;a target='_blank' href='https://datacvr.virk.dk/data/visenhed?enhedstype=person&amp;id=4004146416'&gt;Inge Lise Klastrup&lt;/a&gt;&lt;br/&gt;\u00c6r\u00f8gade 5&lt;br/&gt;8000 Aarhus C&lt;br/&gt;Ejerandel: 5-9,99%&lt;br/&gt;Kapitalklasse: B&lt;br/&gt;Erhvervelsesdato: 30.06.1996        &lt;br/&gt;&lt;br/&gt;\n&lt;a target='_blank' href='https://datacvr.virk.dk/data/visenhed?enhedstype=person&amp;id=4003886026'&gt;Asta Johanne Kjeldsen&lt;/a&gt;&lt;br/&gt;Meldskiftet 9&lt;br/&gt;6950 Ringk\u00f8bing&lt;br/&gt;Ejerandel: 5-9,99%&lt;br/&gt;Stemmeandel: 33,33-49,99%&lt;br/&gt;Kapitalklasse: A, B&lt;br/&gt;Erhvervelsesdato: 30.06.1996        &lt;br/&gt;&lt;br/&gt;\nASTA OG HENRY KJELDSENS FAMILIEFOND&lt;br/&gt;c/o Henry Kjeldsen&lt;br/&gt; Enghavevej 17&lt;br/&gt;6950 Ringk\u00f8bing&lt;br/&gt;Ejerandel: 25-33,32%&lt;br/&gt;Stemmeandel: 50-66,66%&lt;br/&gt;Kapitalklasse: A, B&lt;br/&gt;Erhvervelsesdato: 30.06.1996        &lt;br/&gt;&lt;br/&gt;\n&lt;a target='_blank' href='https://datacvr.virk.dk/data/visenhed?enhedstype=person&amp;id=4000019274'&gt;Jens Lykke Kjeldsen&lt;/a&gt;&lt;br/&gt;Tranmose 2&lt;br/&gt;6950 Ringk\u00f8bing&lt;br/&gt;Ejerandel: 5-9,99%&lt;br/&gt;Kapitalklasse: A, B&lt;br/&gt;Erhvervelsesdato: 30.06.1996        &lt;br/&gt;&lt;br/&gt;\n&lt;a target='_blank' href='https://datacvr.virk.dk/data/visenhed?enhedstype=person&amp;id=4000271454'&gt;Anne Birte Kjeldsen&lt;/a&gt;&lt;br/&gt;Enghavevej 13&lt;br/&gt;6950 Ringk\u00f8bing&lt;br/&gt;Ejerandel: 5-9,99%&lt;br/&gt;Kapitalklasse: B&lt;br/&gt;Erhvervelsesdato: 30.06.1996        &lt;br/&gt;&lt;br/&gt;\nHENRY KJELDSEN. RINGK\u00d8BING T\u00d8MMERHANDEL A/S&lt;br/&gt;Enghavevej 17&lt;br/&gt;6950 Ringk\u00f8bing&lt;br/&gt;Ejerandel: 33,33-49,99%&lt;br/&gt;Kapitalklasse: B&lt;br/&gt;Erhvervelsesdato: 30.06.1996        &lt;br/&gt;&lt;br/&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>and I am trying to extract the name but not all names have an 'a' tag. The output should be:</p>\n\n<ul>\n<li>Tove Kjeldsen </li>\n<li>Inge Lise Klastrup</li>\n<li>Asta Johanne Kjeldsen</li>\n<li>ASTA OG HENRY KJELDSENS FAMILIEFOND</li>\n</ul>\n\n<p>and so on ...</p>\n"}, {"tags": ["python", "python-3.x", "python-internals", "ordereddictionary"], "comments": [{"owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "edited": false, "score": 1, "creation_date": 1450295498, "post_id": 34320600, "comment_id": 56383422, "body": "If you&#39;re keen to work around this behaviour because you need to compare the orders too, you could squirt the keys out into lists and compare those: <code>list(xy) == list(yx)</code>."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "edited": false, "score": 1, "creation_date": 1450295582, "post_id": 34320600, "comment_id": 56383467, "body": "@BenjaminHodgson or <code>all(x == y for x, y in zip(xy, yx))</code> if you want slightly lazier evaluation on python3.x"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 3, "creation_date": 1450295921, "post_id": 34320600, "comment_id": 56383650, "body": "@mgilson: You&#39;d need to check <code>len</code> too, or use <code>itertools.zip_longest</code> with a sentinel, or that will return <code>True</code> if one set of keys is a truncated run of the other keys. You can also push more work to the C layer, running a titch faster for all but the smallest runs by importing at the top <code>from operator import eq</code> and then do <code>len(xy) == len(yx) and all(map(eq, xy, yx))</code> at the test site, validating the length first then performing C level key comparisons as efficiently as possible."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450295987, "post_id": 34320600, "comment_id": 56383680, "body": "@ShadowRanger -- good point.  I didn&#39;t think of that, but I should have."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1450297715, "post_id": 34320600, "comment_id": 56384596, "body": "Also note that other python implementations use ordered dictionaries by default (<a href=\"http://morepypy.blogspot.com/2015/01/faster-more-memory-efficient-and-more.html\" rel=\"nofollow noreferrer\"><code>pypy</code></a>).  Making <code>KeysView</code> behave differently for ordered dict than for regular dict might make their implementation more difficult (which is sometimes considered in language decisions as far as I can tell)."}, {"owner": {"reputation": 1509, "user_id": 2987526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jrCCo.jpg?s=128&g=1", "display_name": "Alexandre", "link": "https://stackoverflow.com/users/2987526/alexandre"}, "edited": false, "score": 1, "creation_date": 1450346146, "post_id": 34320600, "comment_id": 56404514, "body": "I posted on the Python-ideas mailing list to have more information: <a href=\"https://mail.python.org/pipermail/python-ideas/2015-December/037472.html\" rel=\"nofollow noreferrer\">mail.python.org/pipermail/python-ideas/2015-December/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1450297686, "post_id": 34321240, "comment_id": 56384583, "body": "&quot;And it would be even weirder when two OrderedDict keys views were order sensitive, but comparing OrderedDict views to dict views wasn&#39;t.&quot; - but comparing OrderedDicts and dicts already has this inconsistency, leading to horrible situations where <code>a == b == c</code> but <code>a != c</code> because a and c are ordered and b isn&#39;t. Anyway, +1."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1450297740, "post_id": 34321240, "comment_id": 56384611, "body": "@user2357112: Yeah, I didn&#39;t say the rationale was followed consistently everywhere, just for mapping views. :-)"}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 7, "last_activity_date": 1450297310, "last_edit_date": 1450297310, "creation_date": 1450296865, "answer_id": 34321240, "question_id": 34320600, "link": "https://stackoverflow.com/questions/34320600/why-does-the-ordereddict-keys-view-compare-order-insensitive/34321240#34321240", "title": "Why does the OrderedDict keys view compare order-insensitive?", "body": "<p>Looks like <code>OrderedDict</code> delegates the implementation of the various view objects to the common <code>dict</code> implementation; this remains the case even in Python 3.5 where <code>OrderedDict</code> gained a C accelerated implementation (<a href=\"https://hg.python.org/cpython/file/e81189f75d04/Objects/odictobject.c#l2119\" rel=\"noreferrer\">it delegates object construction to <code>_PyDictView_New</code></a> and <a href=\"https://hg.python.org/cpython/file/e81189f75d04/Objects/odictobject.c#l2176\" rel=\"noreferrer\">provides no override</a> for the generic view's <a href=\"https://hg.python.org/cpython/file/e81189f75d04/Objects/dictobject.c#l3332\" rel=\"noreferrer\">rich comparison function</a>.</p>\n\n<p>Basically, <code>OrderedDict</code> views iterate with the same order their backing <code>OrderedDict</code> would (because there is no cost to do so), but for <code>set</code>-like operations, they act like <code>set</code>, using content equality, subset/superset checks, etc.</p>\n\n<p>This makes the choice to ignore ordering make sense to some extent; for some <code>set</code> operations (e.g. <code>&amp;</code>, <code>|</code>, <code>^</code>), the return value is a <code>set</code> without order (because there is no <code>OrderedSet</code>, and even if there were, which ordering do you use for something like <code>&amp;</code> where the ordering may be different in each view?), you'd get inconsistent behaviors if some of the <code>set</code>-like operations were order sensitive and some weren't. And it would be even weirder when two <code>OrderedDict</code> keys views were order sensitive, but comparing <code>OrderedDict</code> views to <code>dict</code> views wasn't.</p>\n\n<p>As I noted in the comments, you can get order sensitive <code>keys</code> comparison pretty easily with:</p>\n\n<pre><code>from operator import eq\n\n# Verify that keys are the same length and same set of values first for speed\n# The `all` check then verifies that the known identical keys appear in the\n# same order.\nxy.keys() == yx.keys() and all(map(eq, xy, yx))\n\n# If you expect equality to occur more often than not, you can save a little\n# work in the \"are equal\" case in exchange for costing a little time in the\n# \"not even equal ignoring order case\" by only checking length, not keys equality:\nlen(xy) == len(yz) and all(map(eq, xy, yx))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1450297385, "post_id": 34321265, "comment_id": 56384408, "body": "Note, <code>d1.keys() != d2.keys()</code> does not imply <code>d1.keysview() != d2.keysview()</code> (on python2.x)."}, {"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1450297685, "post_id": 34321265, "comment_id": 56384580, "body": "@mgilson What is <code>d.keysview()</code>?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1450297794, "post_id": 34321265, "comment_id": 56384640, "body": "Argv -- I always get that backwards.  I meant that <code>d1.keys() != d2.keys()</code> does not imply <code>d1.viewkeys() != d2.viewkeys()</code>.  For a concrete example, consider <code>d1 = {1:1, 9:9}</code>  and <code>d2 = {9:9, 1:1}</code> -- Here the results of <code>.keys()</code> aren&#39;t equal, but the two unordered dicts have the same keys."}, {"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1450298508, "post_id": 34321265, "comment_id": 56385107, "body": "There is actually no diffrence between <code>{1:1, 9:9}</code> and <code>{9:9, 1:1}</code>. The problem with python 2 is that <code>dict.keys()</code> comparison is broken (i.e. you are not supposed to do <code>d1.keys() == d2.keys()</code> in python 2 at all, because you are shooting yourself in the foot if you do."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450313452, "post_id": 34321265, "comment_id": 56391444, "body": "@zvone: It&#39;s not broken, it&#39;s just returning a <code>list</code> that copies the <code>dict</code> keys; not broken, but bad for performance and not what you typically need."}, {"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450389355, "post_id": 34321265, "comment_id": 56431565, "body": "@ShadowRanger The <b>comparison</b> <i>is</i> broken, i.e. comparing them does not guarantee anything. In other words, if <code>a.keys() != b.keys()</code>, that does not tell you <i>anything</i>. It could in fact still be true that <code>a== b</code>."}], "tags": [], "owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "is_accepted": false, "score": 0, "last_activity_date": 1450296980, "creation_date": 1450296980, "answer_id": 34321265, "question_id": 34320600, "link": "https://stackoverflow.com/questions/34320600/why-does-the-ordereddict-keys-view-compare-order-insensitive/34321265#34321265", "title": "Why does the OrderedDict keys view compare order-insensitive?", "body": "<p>I can't find anything published, but I guess this logic could justify the behaviour:</p>\n\n<p>If you have two dictionaries, d1 and d2, you'd expect that comparing the keys checks whether they have the same keys, right?</p>\n\n<pre><code>def compare_dict_keys(d1, d2):\n    d1.keys() == d2.keys()\n</code></pre>\n\n<p>This function should behave the same way for any types of dictionary (and <code>OrderedDict</code> is a type of <code>dict</code>). It would seem wrong if such a function started returning <code>False</code> just because d1 and d2 are sorted.</p>\n\n<p>In other words, these should all evaluate the same (and they do):</p>\n\n<pre><code>&gt;&gt;&gt; {1:2, 3:4}.keys() == {3:4, 1:2}.keys()\nTrue\n&gt;&gt;&gt; {1:2, 3:4}.keys() == OrderedDict([(3,4),(1,2)]).keys()\nTrue\n&gt;&gt;&gt; OrderedDict([(1,2),(3,4)]).keys() == OrderedDict([(3,4),(1,2)]).keys()\nTrue\n</code></pre>\n\n<p><strong>But <code>OrderedDict</code> is specal, isn't it?</strong></p>\n\n<p>What <code>OrderedDict</code> does offer you is the guarantee of order when you iterate through it. The same guarantee exists for <code>OrderedDict.keys()</code>, but without breaking the compatibility with <code>dict</code>.</p>\n"}], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2083, "favorite_count": 5, "accepted_answer_id": 34321240, "answer_count": 2, "score": 13, "last_activity_date": 1450297310, "creation_date": 1450294533, "last_edit_date": 1450295261, "question_id": 34320600, "link": "https://stackoverflow.com/questions/34320600/why-does-the-ordereddict-keys-view-compare-order-insensitive", "title": "Why does the OrderedDict keys view compare order-insensitive?", "body": "<p>Why does the <code>OrderedDict</code> keys view compare order-insensitive?</p>\n\n<pre><code>&gt;&gt;&gt; from collections import OrderedDict\n&gt;&gt;&gt; xy = OrderedDict([('x', None), ('y', None)])\n&gt;&gt;&gt; yx = OrderedDict([('y', None), ('x', None)])\n&gt;&gt;&gt; xy == yx\nFalse\n&gt;&gt;&gt; xy.keys() == yx.keys()\nTrue\n</code></pre>\n\n<p>The OrderedDict keys view should arguably behave like an OrderedSet, but instead it behaves the same as <code>dict.keys</code> (i.e. like a usual <code>set</code>).  </p>\n\n<p>Same \"issue\" in python2:</p>\n\n<pre><code>&gt;&gt;&gt; xy.viewkeys() == yx.viewkeys()\nTrue\n</code></pre>\n\n<p>They are different types, (<code>odict_keys</code> is a subclass of <code>dict_keys</code>)</p>\n\n<pre><code>&gt;&gt;&gt; type(xy.keys())\nodict_keys\n&gt;&gt;&gt; type({}.keys())\ndict_keys\n</code></pre>\n\n<p>And there is already an <a href=\"https://github.com/python/cpython/blob/master/Objects/odictobject.c#L794\">order-sensitive keys comparison available</a> that they could have trivially used, but it's apparently only used as a <a href=\"https://github.com/python/cpython/blob/master/Objects/odictobject.c#L1604\">post-check</a> for the odict rich comparison.  </p>\n\n<p>Is this a design decision, or a bug?  If it's a design decision, where could I find a discussion of the justification?</p>\n"}, {"tags": ["python", "pandas", "sum", "pivot", "pivot-table"], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 1, "last_activity_date": 1450585333, "last_edit_date": 1450585333, "creation_date": 1450294236, "answer_id": 34320516, "question_id": 34320382, "link": "https://stackoverflow.com/questions/34320382/pivot-pandas-data-and-add-column/34320516#34320516", "title": "Pivot pandas data and add column", "body": "<p>You can just set margins to True.</p>\n\n<pre><code>df['close_date'] = pd.to_datetime([cd.to_period('Q') for cd in df.close_date])\npivot = pd.pivot_table(df,index='customer',columns='close_date', margins=True)\n\n&gt;&gt;&gt; pivot\n            amount                        \nclose_date     172   175   176   181   All\ncustomer                                  \nCustomer 1    3200   NaN   NaN   NaN  3200\nCustomer 2     NaN  1430   NaN   NaN  1430\nCustomer 3     NaN   NaN  4320   NaN  4320\nCustomer 4     NaN   NaN   NaN  2340  2340\nCustomer 5     NaN   NaN   NaN  4320  4320\nAll            NaN   NaN   NaN   NaN  3122\n</code></pre>\n\n<p>You can also sum the columns as follows:</p>\n\n<pre><code>pivot = pd.pivot_table(df,index='customer',columns='close_date')\npivot['sum'] = pivot.sum(axis=1)\n\n&gt;&gt;&gt; pivot\n            amount                     sum\nclose_date     172   175   176   181      \ncustomer                                  \nCustomer 1    3200   NaN   NaN   NaN  3200\nCustomer 2     NaN  1430   NaN   NaN  1430\nCustomer 3     NaN   NaN  4320   NaN  4320\nCustomer 4     NaN   NaN   NaN  2340  2340\nCustomer 5     NaN   NaN   NaN  4320  4320\n</code></pre>\n\n<p>And this is how you could sum the rows:</p>\n\n<pre><code>pivot.ix['Total'] = pivot.sum()\n\n&gt;&gt;&gt; pivot\n           amount                     \nclose_date 2013Q1 2013Q4 2014Q1 2015Q2\ncustomer                              \nCustomer 1   3200    NaN    NaN    NaN\nCustomer 2    NaN   1430    NaN    NaN\nCustomer 3    NaN    NaN   4320    NaN\nCustomer 4    NaN    NaN    NaN   2340\nCustomer 5    NaN    NaN    NaN   4320\nTotal        3200   1430   4320   6660\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 5686815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10100149347877703/picture?type=large", "display_name": "Phillip Cunningham", "link": "https://stackoverflow.com/users/5686815/phillip-cunningham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1355, "favorite_count": 2, "accepted_answer_id": 34320516, "answer_count": 1, "score": 2, "last_activity_date": 1450585333, "creation_date": 1450293799, "last_edit_date": 1450585259, "question_id": 34320382, "link": "https://stackoverflow.com/questions/34320382/pivot-pandas-data-and-add-column", "title": "Pivot pandas data and add column", "body": "<p>I'm trying to add a summed column to a pivoted dataframe but keep getting a data parse error.</p>\n\n<pre><code>mydata = [{'amount': 3200, 'close_date':'2013-03-31', 'customer': 'Customer 1',},\n          {'amount': 1430, 'close_date':'2013-11-30', 'customer': 'Customer 2',},\n          {'amount': 4320, 'close_date':'2014-03-31', 'customer': 'Customer 3',},\n          {'amount': 2340, 'close_date':'2015-05-18', 'customer': 'Customer 4',},\n          {'amount': 4320, 'close_date':'2015-06-29', 'customer': 'Customer 5',},]\ndf = pd.DataFrame(mydata)\n&gt;&gt;&gt; df.dtypes\namount         int64\nclose_date    object\ncustomer      object\ndtype: object\n</code></pre>\n\n<p>I convert to dates and then display as quarters</p>\n\n<pre><code>df.close_date = pd.to_datetime(df.close_date)\n&gt;&gt;&gt; df.dtypes\namount                 int64\nclose_date    datetime64[ns]\ncustomer              object\ndtype: object\n\ndf.close_date = df.close_date.dt.to_period('Q')\n</code></pre>\n\n<p>I then pivot:</p>\n\n<pre><code>pivot = pd.pivot_table(df,index='customer',columns='close_date')\n</code></pre>\n\n<p>Finally, I want to sum the rows and the columns but my this piece of code won't seem to add a column...</p>\n\n<pre><code>pivot['sum'] = pivot.sum(axis=1)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "numpy", "fft"], "owner": {"reputation": 492, "user_id": 1658072, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ce787614c49f65271b5c98ef8d054cb6?s=128&d=identicon&r=PG", "display_name": "user1991", "link": "https://stackoverflow.com/users/1658072/user1991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1450293712, "creation_date": 1450293712, "question_id": 34320352, "link": "https://stackoverflow.com/questions/34320352/numpys-real-fft-and-fftshift", "title": "Numpy&#39;s real-FFT and fftshift", "body": "<p>I have an image in Fourier space, that looks like (real part):<a href=\"https://i.stack.imgur.com/c6WdW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c6WdW.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to get the real space picture through numpy's irfft2: So what i show here is np.fft.irfft2 of the previous image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rKTap.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rKTap.png\" alt=\"enter image description here\"></a></p>\n\n<p>My intuition may be off, but through numpy's conventions for the output of the fft and inverse-fft, respectively, shouldn't the image in real space be concentric circles - centered in the middle? There seems to be a fftshift that shouldn't be there to my mind</p>\n"}, {"tags": ["python", "variables", "explorer", "spyder"], "answers": [{"tags": [], "owner": {"reputation": 474, "user_id": 5405297, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YSa3SKuF3Cc/AAAAAAAAAAI/AAAAAAAAABY/3RnBSZyJ9os/photo.jpg?sz=128", "display_name": "abe", "link": "https://stackoverflow.com/users/5405297/abe"}, "is_accepted": false, "score": 0, "last_activity_date": 1450293951, "creation_date": 1450293951, "answer_id": 34320430, "question_id": 34320328, "link": "https://stackoverflow.com/questions/34320328/variable-explorer-within-spyder-python-missing/34320430#34320430", "title": "variable explorer within spyder (python) missing", "body": "<p>Top bar try to navigate to the following:</p>\n\n<pre><code>View-&gt;\nPanes-&gt;\nVariable Explorer -&gt; Check it\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/LJKtb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJKtb.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1, "user_id": 5678978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613b533ffeba839dfc0b80635740f4e8?s=128&d=identicon&r=PG&f=1", "display_name": "ADC", "link": "https://stackoverflow.com/users/5678978/adc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1119, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450293951, "creation_date": 1450293609, "question_id": 34320328, "link": "https://stackoverflow.com/questions/34320328/variable-explorer-within-spyder-python-missing", "title": "variable explorer within spyder (python) missing", "body": "<p>I'm using Python 2.7.10 with Spyder 2.3.5.2 but I've seemed to have closed the window which shows all the variables (variable explorer) and their values. How can I re-open this again so that I can see all the values/arrays within my script etc.?</p>\n\n<p>thanks</p>\n"}, {"tags": ["python", "amazon-ec2", "flask"], "comments": [{"owner": {"reputation": 2393, "user_id": 5414907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5ecb558f7d1b64dae9bb2feae8e6dc?s=128&d=identicon&r=PG", "display_name": "Mark Ch", "link": "https://stackoverflow.com/users/5414907/mark-ch"}, "edited": false, "score": 0, "creation_date": 1450295842, "post_id": 34320280, "comment_id": 56383602, "body": "it can help to change the owner &amp; group of the upload destination folder to <b>www-data</b> (or whatever user/group the webserver is running as)"}], "answers": [{"tags": [], "owner": {"reputation": 359, "user_id": 3771575, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2772c4a460cb1027d449d460181ee091?s=128&d=identicon&r=PG&f=1", "display_name": "matt3o", "link": "https://stackoverflow.com/users/3771575/matt3o"}, "is_accepted": false, "score": 0, "last_activity_date": 1471505437, "last_edit_date": 1495535318, "creation_date": 1471505437, "answer_id": 39012309, "question_id": 34320280, "link": "https://stackoverflow.com/questions/34320280/permission-denied-aws-ec2-file-save-from-flask-app/39012309#39012309", "title": "permission denied AWS EC2 file.save from Flask App", "body": "<p>Probably related to this <a href=\"https://stackoverflow.com/questions/38998060/flask-permissions-for-file-writing/38998429?noredirect=1#comment65348759_38998429\">question</a>, solution to convert the relative path to an absolute path. I do not know how programs are started on EC2 but it appears that the working directory is within some Python / library directory where the executed program is not allowed to write. A fix to use absolute paths might look like so:</p>\n\n<pre><code>directory = os.path.join('/var/www/', 'loadedfiles/', current_date)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2162, "user_id": 2928168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjWFe.jpg?s=128&g=1", "display_name": "emi", "link": "https://stackoverflow.com/users/2928168/emi"}, "edited": false, "score": 0, "creation_date": 1606599375, "post_id": 65054003, "comment_id": 115011025, "body": "Don&#39;t use <i>Camel Case</i> on normal text and definitely DON&#39;T USE ALL CAPS. Edit your answer to allow me to un-vote it down."}], "tags": [], "owner": {"reputation": 19, "user_id": 13403452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhdFQeJzi8UzfGG8E1OZMf515zQgxZf4sdh6A41Bkc=k-s128", "display_name": "Dhananjay Arne", "link": "https://stackoverflow.com/users/13403452/dhananjay-arne"}, "is_accepted": false, "score": -1, "last_activity_date": 1606711600, "last_edit_date": 1606711600, "creation_date": 1606594218, "answer_id": 65054003, "question_id": 34320280, "link": "https://stackoverflow.com/questions/34320280/permission-denied-aws-ec2-file-save-from-flask-app/65054003#65054003", "title": "permission denied AWS EC2 file.save from Flask App", "body": "<p>Try to give absolute path like instead of this</p>\n<pre><code>path = ./static/upload_folder\n</code></pre>\n<p>Try this</p>\n<pre><code>path = /var/www/folder/folder/static/upload_folder\n</code></pre>\n<p>And then don't forget to give all permissions to that folder by this command</p>\n<pre><code>sudo chmod -R 777 /var/www/folder/folder/static/upload_folder\n</code></pre>\n<p>This works for me!</p>\n"}], "owner": {"reputation": 3, "user_id": 4413862, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/26ec453390318b0225312221d82b1734?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik Appadurai", "link": "https://stackoverflow.com/users/4413862/karthik-appadurai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 920, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1606711600, "creation_date": 1450293401, "question_id": 34320280, "link": "https://stackoverflow.com/questions/34320280/permission-denied-aws-ec2-file-save-from-flask-app", "title": "permission denied AWS EC2 file.save from Flask App", "body": "<p>I am writing an application in Flask and am deploying it in EC2. I am trying to make the user upload files in the local directory. But I get a permission denied error when The uploaded file is being saved. I am attaching the code below. pls do help me fix it. I have tried to change the folder permissions to sudo chmod -R 777 /var/www but that doesn't help. I do understand giving write permissions is bad but this for development mode and hoping to get it through \nthis is the code </p>\n\n<pre><code>@app.route('/upload', methods=['GET', 'POST'])\n         def upload_file():\n        # Get the name of the uploaded files\n        uploaded_files = request.files.getlist(\"file[]\")\n        filenames = []\n        for file in uploaded_files:\n        # Check if the file is one of the allowed types/extensions\n         if file and allowed_file(file.filename):\n        # Make the filename safe, remove unsupported chars\n        filename = secure_filename(file.filename)\n        # Move the file form the temporal folder to the upload\n        # folder we setup\n        current_date = time.strftime(\"%x\").split(\"/\")           [0]+time.strftime(\"%x\").split(\"/\")[1]+time.strftime(\"%x\").split(\"/\")[2]\n        directory = os.path.join('loadedfiles/')\n        uploadedfilesdir = directory + current_date\n        if not os.path.exists(uploadedfilesdir):\n            os.makedirs(uploadedfilesdir)\n        file.save(os.path.join(uploadedfilesdir, filename)) \n        # Save the filename into a list, we'll use it later\n        filenames.append(filename)\n        # Redirect the user to the uploaded_file route, which\n        # will basicaly show on the browser the uploaded file\n# Load an html page with a link to each uploaded file\nreturn render_template('upload.html', filenames=filenames)\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "types"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1450293703, "post_id": 34320268, "comment_id": 56382403, "body": "I haven&#39;t used Matlab, but <a href=\"http://www.mathworks.com/help/matlab/numeric-types.html\" rel=\"nofollow noreferrer\">judging by the documentation</a>, it looks like Matlab arrays have dtypes too. They just always default to double-precision floating point."}], "answers": [{"tags": [], "owner": {"reputation": 4251, "user_id": 2997179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RPknn.png?s=128&g=1", "display_name": "Martin Valgur", "link": "https://stackoverflow.com/users/2997179/martin-valgur"}, "is_accepted": true, "score": 7, "last_activity_date": 1450294544, "last_edit_date": 1450294544, "creation_date": 1450293671, "answer_id": 34320346, "question_id": 34320268, "link": "https://stackoverflow.com/questions/34320268/valid-parameters-for-astype-in-numpy/34320346#34320346", "title": "Valid parameters for astype in NumPy", "body": "<p>The other expressions work, you just need to import the types from numpy. You don't need to do this for <code>float</code> because it is a built-in type for Python.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>y5 = x.astype(np.float64)\ny6 = x.astype(np.float_)\n</code></pre>\n\n<p>Both the string-type and type-type inputs are converted to a <code>numpy.dtype</code> object internally, which is what you see when using the <code>ndarray.dtype</code> attribute.</p>\n"}, {"tags": [], "owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "is_accepted": false, "score": 1, "last_activity_date": 1450293742, "creation_date": 1450293742, "answer_id": 34320363, "question_id": 34320268, "link": "https://stackoverflow.com/questions/34320268/valid-parameters-for-astype-in-numpy/34320363#34320363", "title": "Valid parameters for astype in NumPy", "body": "<p>reading the documentation of <code>astype</code>: </p>\n\n<pre><code>dtype : str or dtype\n    Typecode or data-type to which the array is cast.\n</code></pre>\n\n<p>When you're using <code>float</code> without quotes, then you're using dtype.\nWhen you're using <code>\"float\"</code>, then you're using str.</p>\n\n<p><code>float64</code> and <code>float_</code>aren't dtypes in python.</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 3, "last_activity_date": 1450298137, "last_edit_date": 1450298137, "creation_date": 1450297783, "answer_id": 34321511, "question_id": 34320268, "link": "https://stackoverflow.com/questions/34320268/valid-parameters-for-astype-in-numpy/34321511#34321511", "title": "Valid parameters for astype in NumPy", "body": "<p>These 2 don't work because there isn't, in your workspace, variables with those names:</p>\n\n<pre><code>y5 = x.astype(float64)  # Doesn't work.\ny6 = x.astype(float_)   # Doesn't work.\n</code></pre>\n\n<p>I get a <code>NameError: name 'float64' is not defined</code>.  The error is produced by the Python interpreter, before anything is passed to the <code>x.astype</code> method.</p>\n\n<p>You'd get the same error if you just typed <code>float64</code> in the interactive interpreter.</p>\n\n<p><code>np.float64</code> does work because there is such a variable in the <code>np</code> namespace.  It is actually a numpy class.</p>\n\n<p><code>float</code> also works.  It too is a class, a base Python one (it can also be used as a function, converting a string or number to a float object).</p>\n\n<p>'float64' is a string, that <code>astype</code> understands, probably by looking up something in a table.  (I could look that up).</p>\n\n<p>On the other hand if I give <code>astype</code> something random string I get a different error</p>\n\n<pre><code>In [967]: A.astype('bar')\n...\nTypeError: data type \"bar\" not understood\n</code></pre>\n\n<p><code>np.dtype('bar')</code> gives the same error.  </p>\n\n<pre><code>np.dtype(float)\nnp.dtype('float64')\nnp.dtype('float')\n</code></pre>\n\n<p>all return the same <code>dtype('float64')</code> object.  </p>\n"}], "owner": {"reputation": 3353, "user_id": 735008, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ff8bc1d961191331430e5e93886b1826?s=128&d=identicon&r=PG", "display_name": "chanwcom", "link": "https://stackoverflow.com/users/735008/chanwcom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12347, "favorite_count": 3, "accepted_answer_id": 34320346, "answer_count": 3, "score": 9, "last_activity_date": 1450298137, "creation_date": 1450293371, "question_id": 34320268, "link": "https://stackoverflow.com/questions/34320268/valid-parameters-for-astype-in-numpy", "title": "Valid parameters for astype in NumPy", "body": "<p>I'm new to NumPy and SciPy.\nUnlike Matlab, it seems like there is a data type associated with each array in NumPy.</p>\n\n<p>Suppose that we have an integer array <code>x</code>:</p>\n\n<pre><code>import numpy as np\nx = np.array([1, 2, 3])\n</code></pre>\n\n<p>If I want to convert the array into float, then it seems like the following works:</p>\n\n<pre><code>y1 = x.astype('float64')  # Works!\ny2 = x.astype('float_')   # Works!\ny3 = x.astype('float')    # Works!\n</code></pre>\n\n<p>But I'm somewhat puzzled to see the following also works without the single quotation marks.</p>\n\n<pre><code>y4 = x.astype(float)      # Still works!!\n</code></pre>\n\n<p>But for other expressions used for y1 and y2, if I omit the single quotation mark, it doesn't work:</p>\n\n<pre><code>y5 = x.astype(float64)  # Doesn't work.\ny6 = x.astype(float_)   # Doesn't work.\n</code></pre>\n\n<p>So, I'm somewhat confused about why y4 works, but y5 and y6 cause an error. Could someone enlighten me on this?</p>\n"}, {"tags": ["python", "json", "mongodb", "pymongo", "bson"], "answers": [{"comments": [{"owner": {"reputation": 2510, "user_id": 3964339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6a880a6dc36aabf1244b0e7dc960bf?s=128&d=identicon&r=PG", "display_name": "Yash Mehrotra", "link": "https://stackoverflow.com/users/3964339/yash-mehrotra"}, "reply_to_user": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "edited": false, "score": 0, "creation_date": 1450293488, "post_id": 34320262, "comment_id": 56382276, "body": "This probably means that your BSON is incorrect, can you send me a sample BSON object that you are trying to decode ?"}, {"owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "edited": false, "score": 0, "creation_date": 1450293641, "post_id": 34320262, "comment_id": 56382361, "body": "The bson file is the dump I got with <code>mongodump</code>. The file is huge. Let me see if I can replicate the error with a small database."}, {"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450294170, "post_id": 34320262, "comment_id": 56382699, "body": "Did you try running <code>BSON.is_valid(coll_row)</code>?"}, {"owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "edited": false, "score": 0, "creation_date": 1450294317, "post_id": 34320262, "comment_id": 56382786, "body": "@YashMehrotra here&#39;s the file: <a href=\"https://www.dropbox.com/s/6yyssja0la0ctln/dump.zip?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/6yyssja0la0ctln/dump.zip?dl=0</a> Direct output of mongodump"}, {"owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "reply_to_user": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450294402, "post_id": 34320262, "comment_id": 56382830, "body": "@Quirk <code>object &#39;BSON&#39; has no attribute &#39;is_valid&#39;</code>"}, {"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "reply_to_user": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "edited": false, "score": 0, "creation_date": 1450294609, "post_id": 34320262, "comment_id": 56382928, "body": "@CentAu My Bad. Try <code>bson.is_valid(coll_raw)</code>. Ref: <a href=\"https://api.mongodb.org/python/current/api/bson/\" rel=\"nofollow noreferrer\">api.mongodb.org/python/current/api/bson</a>"}, {"owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "reply_to_user": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "edited": false, "score": 0, "creation_date": 1450294829, "post_id": 34320262, "comment_id": 56383050, "body": "@Quirk It returns false. But the file is the output of mongodb. It this doesn&#39;t return a valid bson, how can I get a json/bson dump from mongo that will work in python?"}, {"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "reply_to_user": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "edited": false, "score": 0, "creation_date": 1450294912, "post_id": 34320262, "comment_id": 56383102, "body": "@CentAu Looks like when you took the dump it got corrupted. Have you tried any other collection or redumping?"}, {"owner": {"reputation": 1117, "user_id": 2844164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53780b9dd55b52418843419dd2e31d7d?s=128&d=identicon&r=PG", "display_name": "Quirk", "link": "https://stackoverflow.com/users/2844164/quirk"}, "reply_to_user": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "edited": false, "score": 0, "creation_date": 1450295003, "post_id": 34320262, "comment_id": 56383156, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/98163/discussion-between-quirk-and-centau\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2510, "user_id": 3964339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6a880a6dc36aabf1244b0e7dc960bf?s=128&d=identicon&r=PG", "display_name": "Yash Mehrotra", "link": "https://stackoverflow.com/users/3964339/yash-mehrotra"}, "reply_to_user": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "edited": false, "score": 0, "creation_date": 1450295190, "post_id": 34320262, "comment_id": 56383266, "body": "Hi @CentAu , I decoded your bson. Please check the edited answer."}], "tags": [], "owner": {"reputation": 2510, "user_id": 3964339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6a880a6dc36aabf1244b0e7dc960bf?s=128&d=identicon&r=PG", "display_name": "Yash Mehrotra", "link": "https://stackoverflow.com/users/3964339/yash-mehrotra"}, "is_accepted": true, "score": 7, "last_activity_date": 1450295213, "last_edit_date": 1450295213, "creation_date": 1450293359, "answer_id": 34320262, "question_id": 34320177, "link": "https://stackoverflow.com/questions/34320177/python-convert-bson-output-of-mongodump-to-array-of-json-objects-dictionaries/34320262#34320262", "title": "Python, Convert bson output of mongodump to array of json objects (dictionaries)", "body": "<p>You should try:</p>\n\n<pre><code>from bson import BSON\nwith open('dump/coll.bson', 'rb') as f:\n    coll_raw = f.read()\n\ncoll = bson.decode_all(coll_raw) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1711, "user_id": 3093018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891cb1871d92c0260b98bd5c7ddd1cd4?s=128&d=identicon&r=PG&f=1", "display_name": "bauman.space", "link": "https://stackoverflow.com/users/3093018/bauman-space"}, "is_accepted": false, "score": 0, "last_activity_date": 1453307098, "creation_date": 1453307098, "answer_id": 34905284, "question_id": 34320177, "link": "https://stackoverflow.com/questions/34320177/python-convert-bson-output-of-mongodump-to-array-of-json-objects-dictionaries/34905284#34905284", "title": "Python, Convert bson output of mongodump to array of json objects (dictionaries)", "body": "<p>I know this was answered a long time ago, but you could try decoding each document separately and then you'd know which doc is causing the problem.</p>\n\n<p>I use this library:  <a href=\"https://github.com/bauman/python-bson-streaming\" rel=\"nofollow\">https://github.com/bauman/python-bson-streaming</a> </p>\n\n<pre><code>from bsonstream import KeyValueBSONInput\nf = open(\"restaurants.bson\", 'rb')\nstream = KeyValueBSONInput(fh=f)\nfor dict_data in stream:\n    print dict_data\nf.close()\n</code></pre>\n\n<p>I see 25359 records which all seem to decode to something like:</p>\n\n<pre><code>{u'_id': ObjectId('5671bb2e111bb7b9a7ce4d9a'),\n u'address': {u'building': u'351',\n              u'coord': [-73.98513559999999, 40.7676919],\n              u'street': u'West   57 Street',\n              u'zipcode': u'10019'},\n u'borough': u'Manhattan',\n u'cuisine': u'Irish',\n u'grades': [{u'date': datetime.datetime(2014, 9, 6, 0, 0),\n              u'grade': u'A',\n              u'score': 2},\n             {u'date': datetime.datetime(2013, 7, 22, 0, 0),\n              u'grade': u'A',\n              u'score': 11},\n             {u'date': datetime.datetime(2012, 7, 31, 0, 0),\n              u'grade': u'A',\n              u'score': 12},\n             {u'date': datetime.datetime(2011, 12, 29, 0, 0),\n              u'grade': u'A',\n              u'score': 12}],\n u'name': u'Dj Reynolds Pub And Restaurant',\n u'restaurant_id': u'30191841'}\n</code></pre>\n"}], "owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2738, "favorite_count": 0, "accepted_answer_id": 34320262, "answer_count": 2, "score": 5, "last_activity_date": 1453307098, "creation_date": 1450293049, "last_edit_date": 1450295511, "question_id": 34320177, "link": "https://stackoverflow.com/questions/34320177/python-convert-bson-output-of-mongodump-to-array-of-json-objects-dictionaries", "title": "Python, Convert bson output of mongodump to array of json objects (dictionaries)", "body": "<p>I have dumped a mongodb collection using the <code>mongodump</code> command. The output is a dump directory which has these files: </p>\n\n<pre><code>dump/\n    |___coll.bson\n    |___coll.metadata.json\n</code></pre>\n\n<p>How can I open the exported files to a array of dictionaries that work in python?\nI tried the following and none worked:</p>\n\n<pre><code>with open('dump/coll.bson', 'rb') as f:\n    coll_raw = f.read()\nimport json\ncoll = json.loads(coll_raw)\n\n# Using pymongo\nfrom bson.json_util import loads\ncoll = loads(coll_raw)\n\nValueError: No JSON object could be decoded\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 2, "creation_date": 1450293035, "post_id": 34320159, "comment_id": 56382021, "body": "You need to use <code>elif</code> instead of <code>if</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1450293421, "post_id": 34320159, "comment_id": 56382240, "body": "Why do you test for <code>score &gt;= 0.7</code> and <code>score &lt; 0.6</code> when the main <code>if</code> restricts the score to between <code>0.8</code> and <code>0.9</code>?"}, {"owner": {"reputation": 3, "user_id": 5688092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e07671e417c3a37664b1ee8e85e209e2?s=128&d=identicon&r=PG&f=1", "display_name": "oz_c", "link": "https://stackoverflow.com/users/5688092/oz-c"}, "edited": false, "score": 0, "creation_date": 1450299729, "post_id": 34320159, "comment_id": 56385811, "body": "Thank you for your insight on my first question, I still much to learn in using &#39;if&#39; and &#39;elif."}], "answers": [{"comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1450293391, "post_id": 34320258, "comment_id": 56382224, "body": "This way, the C, D, and F cases are not reachable, and A just in one very specific case."}, {"owner": {"reputation": 23600, "user_id": 1695172, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6319d7eafca7852cf04c88598ca31e75?s=128&d=identicon&r=PG", "display_name": "Netwave", "link": "https://stackoverflow.com/users/1695172/netwave"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1450293543, "post_id": 34320258, "comment_id": 56382303, "body": "@tobias_k, I was editting it with an explanation, just posted it without nothing by error, sorry about it."}, {"owner": {"reputation": 1868, "user_id": 1422477, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/9eqrB.jpg?s=128&g=1", "display_name": "Lewistrick", "link": "https://stackoverflow.com/users/1422477/lewistrick"}, "edited": false, "score": 0, "creation_date": 1450293634, "post_id": 34320258, "comment_id": 56382357, "body": "Also, it is unnecessary to check for both <code>0 &lt;= score &lt;= 1</code> and <code>0.8 &lt;= score &lt;= 0.9</code>. The first statement will always be <code>True</code> if the second is <code>True</code>."}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1450293690, "post_id": 34320258, "comment_id": 56382389, "body": "You could also use comparison chaining for the outer if (0 &lt; score &lt; 1) and the last elif could be an else, but apart from that, fine."}, {"owner": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "edited": false, "score": 0, "creation_date": 1450293691, "post_id": 34320258, "comment_id": 56382391, "body": "@DanielSanchez, may I suggest turning the final <code>elif</code> into an <code>else</code> statement? The previous statements guarantee that <code>score &lt; 0.6</code> is always upheld by that point, so no need for a check."}, {"owner": {"reputation": 23600, "user_id": 1695172, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6319d7eafca7852cf04c88598ca31e75?s=128&d=identicon&r=PG", "display_name": "Netwave", "link": "https://stackoverflow.com/users/1695172/netwave"}, "reply_to_user": {"reputation": 4630, "user_id": 4316405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fE1Rf.jpg?s=128&g=1", "display_name": "N. Wouda", "link": "https://stackoverflow.com/users/4316405/n-wouda"}, "edited": false, "score": 0, "creation_date": 1450293776, "post_id": 34320258, "comment_id": 56382440, "body": "@N.Wouda true about it, editing"}, {"owner": {"reputation": 3, "user_id": 5688092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e07671e417c3a37664b1ee8e85e209e2?s=128&d=identicon&r=PG&f=1", "display_name": "oz_c", "link": "https://stackoverflow.com/users/5688092/oz-c"}, "edited": false, "score": 0, "creation_date": 1450299935, "post_id": 34320258, "comment_id": 56385918, "body": "Thank your insight on my first question. I have much to learn."}], "tags": [], "owner": {"reputation": 23600, "user_id": 1695172, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6319d7eafca7852cf04c88598ca31e75?s=128&d=identicon&r=PG", "display_name": "Netwave", "link": "https://stackoverflow.com/users/1695172/netwave"}, "is_accepted": false, "score": 0, "last_activity_date": 1450293887, "last_edit_date": 1450293887, "creation_date": 1450293350, "answer_id": 34320258, "question_id": 34320159, "link": "https://stackoverflow.com/questions/34320159/how-to-get-the-desired-output-by-using-python-code-below/34320258#34320258", "title": "How to get the desired output by using python code below?", "body": "<p>One if after another will make your program to check all of them, they are inclusive clauses becouse one does not exclude the others, so you need the <code>elif</code> wich will exclusively scope the next executions, and an <code>else</code> statement for the default case wich will be <code>&lt; 6</code> in your code:</p>\n\n<pre><code>try :\n    score = raw_input(\"Enter Score:\")\n    score = float(score)\n\n    if score &gt;= 0.0 and score &lt;= 1.0:\n        if score &gt;= 0.9 :\n            print 'A'\n        elif score &gt;= 0.8 :\n            print 'B'\n        elif score &gt;= 0.7 :\n            print 'C'\n        elif score &gt;= 0.6 :\n            print 'D'\n        else: \n            print 'F'\nexcept :\n    print 'a suitable error message'\n</code></pre>\n\n<p>You should take a look over <a href=\"https://docs.python.org/2/tutorial/controlflow.html\" rel=\"nofollow\">python control flow</a></p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5688092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e07671e417c3a37664b1ee8e85e209e2?s=128&d=identicon&r=PG&f=1", "display_name": "oz_c", "link": "https://stackoverflow.com/users/5688092/oz-c"}, "edited": false, "score": 0, "creation_date": 1450299833, "post_id": 34320326, "comment_id": 56385869, "body": "Thank you for your help, I have much to learn in asking question and I will be sure to checkout control flows in python."}], "tags": [], "owner": {"reputation": 647, "user_id": 3917230, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1e2e63f2fae2d66c1b77bb3ae464648c?s=128&d=identicon&r=PG&f=1", "display_name": "Photon Light", "link": "https://stackoverflow.com/users/3917230/photon-light"}, "is_accepted": true, "score": -1, "last_activity_date": 1450293601, "creation_date": 1450293601, "answer_id": 34320326, "question_id": 34320159, "link": "https://stackoverflow.com/questions/34320159/how-to-get-the-desired-output-by-using-python-code-below/34320326#34320326", "title": "How to get the desired output by using python code below?", "body": "<p>You should be careful when putting code into your question. Use preview to check if it looks correct.<br>\nBack to you question, you should check <a href=\"https://docs.python.org/2/tutorial/controlflow.html\" rel=\"nofollow\">control flows in python</a>. Your code does not stop after first <code>if</code> - it goes further and check all conditions. If you want only one letter, you should do something like this:</p>\n\n<pre><code>try :\nscore = raw_input(\"Enter Score:\")\nscore = float(score)\n\nif score &gt;= 0.0 and score &lt;= 1.0:\n    if score &gt;= 0.9 :\n        print 'A'\n    elif score &gt;= 0.8 :\n        print 'B'\n    elif score &gt;= 0.7 :\n        print 'C'\n    elif score &gt;= 0.6 :\n        print 'D'\n    elif score &lt; 0.6 :\n        print 'F'\nexcept : print 'a suitable error message'\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5688092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e07671e417c3a37664b1ee8e85e209e2?s=128&d=identicon&r=PG&f=1", "display_name": "oz_c", "link": "https://stackoverflow.com/users/5688092/oz-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "closed_date": 1450296066, "accepted_answer_id": 34320326, "answer_count": 2, "score": -4, "last_activity_date": 1450293887, "creation_date": 1450292999, "last_edit_date": 1450293282, "question_id": 34320159, "link": "https://stackoverflow.com/questions/34320159/how-to-get-the-desired-output-by-using-python-code-below", "closed_reason": "Duplicate", "title": "How to get the desired output by using python code below?", "body": "<p>The desired output that I am trying to attain is \"B\" when inputting .85 for score. My current output is \"B\" \"C\" and \"D\" using the code below. I apologize in advance if my question is not well structured, I am new to the community and coding.</p>\n\n<pre><code>try :\n    score = raw_input(\"Enter Score:\")\n    score = float(score)\n\n    if score &gt;= 0.0 and score &lt;= 1.0 and score &gt;= 0.8 and score &lt;= 0.9:\n        if score &gt;= 0.9 :\n            print 'A'\n        if score &gt;= 0.8 :\n            print 'B'\n        if score &gt;= 0.7 :\n            print 'C'\n        if score &gt;= 0.6 :\n            print 'D'\n        if score &lt; 0.6 : \n            print 'F'\nexcept :\n    print 'a suitable error message'\n</code></pre>\n"}, {"tags": ["python", "pandas", "multi-index"], "comments": [{"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 1, "creation_date": 1450292763, "post_id": 34320067, "comment_id": 56381877, "body": "Didn&#39;t you get a SettingWithCopyWarning?"}, {"owner": {"reputation": 1191, "user_id": 4391249, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fae5514791204ff859cb7c04adcef4df?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Soare", "link": "https://stackoverflow.com/users/4391249/alexander-soare"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1450304678, "post_id": 34320067, "comment_id": 56388308, "body": "actually you&#39;re right. I should get that. Although I disabled the warning earlier because at the time it didn&#39;t pertain to me. But now it should be there rightfully."}], "answers": [{"tags": [], "owner": {"reputation": 10298, "user_id": 2484720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/A5sYr.jpg?s=128&g=1", "display_name": "Woody Pride", "link": "https://stackoverflow.com/users/2484720/woody-pride"}, "is_accepted": true, "score": 3, "last_activity_date": 1450292815, "last_edit_date": 1495540337, "creation_date": 1450292815, "answer_id": 34320113, "question_id": 34320067, "link": "https://stackoverflow.com/questions/34320067/pandas-dataframe-indexing-anomaly/34320113#34320113", "title": "Pandas dataframe indexing anomaly?", "body": "<p>You need to do the following:</p>\n\n<pre><code>df.loc['A', ('Apple', 'one')] = 15\n</code></pre>\n\n<p>It is not an anomaly, you are doing 'chained assignment' which basically only changes a copy of the underlying data. Someone will be able to tell you more accurately what is going on, but to index properly use .loc or .ix.</p>\n\n<p>See this answer:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/20625582/how-to-deal-with-this-pandas-warning\">How to deal with SettingWithCopyWarning in Pandas?</a></p>\n"}], "owner": {"reputation": 1191, "user_id": 4391249, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fae5514791204ff859cb7c04adcef4df?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Soare", "link": "https://stackoverflow.com/users/4391249/alexander-soare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 34320113, "answer_count": 1, "score": 1, "last_activity_date": 1450292815, "creation_date": 1450292637, "question_id": 34320067, "link": "https://stackoverflow.com/questions/34320067/pandas-dataframe-indexing-anomaly", "title": "Pandas dataframe indexing anomaly?", "body": "<p>The Python code below first creates a multi-indexed pandas dataframe then attempts to change one of its elements. The element in question is printed before and after the change to verify that the change worked. The problem is that it does not work. Please have a look at this code and let me know what the problem is.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\narrays = [['Apple','Apple','Banana','Banana','Cherry','Cherry'],\n         ['one', 'two', 'one', 'two', 'one', 'two', 'one', 'two']]\ntuples = list(zip(*arrays))\nindex = pd.MultiIndex.from_tuples(tuples, names=['first', 'second'])\ndf = pd.DataFrame(np.zeros([3, 6]), index=['A', 'B', 'C'], columns=index)\ndf.insert(0, 'Insert', [1,2,3]) # the absence of this line makes the problem disappear\nprint df['Apple']['one']['A'] # this line correctly prints 0\ndf['Apple']['one']['A'] = 15\nprint df['Apple']['one']['A'] # this line again prints 0 when we should get 15 now\n</code></pre>\n"}, {"tags": ["python", "numpy", "complex-numbers", "in-place"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1450293044, "post_id": 34320048, "comment_id": 56382026, "body": "Are you sure the <code>a5[1:5] += 1j</code> test came first? I don&#39;t remember the specifics, but unlike exceptions, a given warning will only be issued once."}, {"owner": {"reputation": 137021, "user_id": 567292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b55da07dea89fa675c7e2894c77f8024?s=128&d=identicon&r=PG", "display_name": "ecatmur", "link": "https://stackoverflow.com/users/567292/ecatmur"}, "edited": false, "score": 0, "creation_date": 1450293355, "post_id": 34320048, "comment_id": 56382208, "body": "Which version of numpy are you using?"}, {"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1450293644, "post_id": 34320048, "comment_id": 56382363, "body": "Can&#39;t reproduce here (NumPy 1.9): I get the expected <code>ComplexWarning</code> on the first in-place addition, and no warning on the second (which as @user2357112 points out is the default behaviour for warnings). Note that the scalar addition is a red-herring: unlike the array operations, it&#39;s not an in-place addition, but rather a rebinding."}, {"owner": {"reputation": 370, "user_id": 5341377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6edeabc39f3652e68da9874b7e0b840f?s=128&d=identicon&r=PG", "display_name": "lurix66", "link": "https://stackoverflow.com/users/5341377/lurix66"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1450340535, "post_id": 34320048, "comment_id": 56400900, "body": "@user2357112: No I&#39;m not sure, I rearranged my command history and might have exchanged things. Indeed I didn&#39;t know or expect this behaviour of warnings."}, {"owner": {"reputation": 370, "user_id": 5341377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6edeabc39f3652e68da9874b7e0b840f?s=128&d=identicon&r=PG", "display_name": "lurix66", "link": "https://stackoverflow.com/users/5341377/lurix66"}, "reply_to_user": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1450340893, "post_id": 34320048, "comment_id": 56401081, "body": "@Mark Dickinson: I did it once again and I confirm your thoughts."}], "answers": [{"comments": [{"owner": {"reputation": 370, "user_id": 5341377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6edeabc39f3652e68da9874b7e0b840f?s=128&d=identicon&r=PG", "display_name": "lurix66", "link": "https://stackoverflow.com/users/5341377/lurix66"}, "edited": false, "score": 0, "creation_date": 1450342991, "post_id": 34320519, "comment_id": 56402313, "body": "(my numpy&#39;s version is <code>1.8.2</code>) Thank you for pointing out that this &quot;is recognized as an issue&quot;, and appreciate your answer, although I can&#39;t follow its content (I have to to document myself on the casting rules and don&#39;t really get the meaning of changing it to <code>some_kind</code>). I bet you share that from the point of view of a user, knowing all those details should not be needed..."}], "tags": [], "owner": {"reputation": 137021, "user_id": 567292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b55da07dea89fa675c7e2894c77f8024?s=128&d=identicon&r=PG", "display_name": "ecatmur", "link": "https://stackoverflow.com/users/567292/ecatmur"}, "is_accepted": false, "score": 1, "last_activity_date": 1450294257, "creation_date": 1450294257, "answer_id": 34320519, "question_id": 34320048, "link": "https://stackoverflow.com/questions/34320048/python3-numpy-in-place-addition-inconsistency-when-adding-a-complex-number/34320519#34320519", "title": "python3/numpy: in place addition inconsistency when adding a complex number", "body": "<p>This is recognised as an issue, but it has taken time to change as fixing it breaks compatibility.</p>\n\n<p>Since numpy 1.10, the default casting rule for in-place operations and for ufuncs has been changed to \"same_kind\", so your code will issue a <code>TypeError</code>:</p>\n\n<pre><code>TypeError: Cannot cast ufunc add output from dtype('complex128') to dtype('int64') with casting rule 'same_kind'\n</code></pre>\n\n<p>From the <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/release.html#future-changes\" rel=\"nofollow\">release notes</a>:</p>\n\n<blockquote>\n  <p>Default casting for inplace operations will change to \u2018same_kind\u2019 in Numpy 1.10.0. This will certainly break some code that is currently ignoring the warning.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 370, "user_id": 5341377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6edeabc39f3652e68da9874b7e0b840f?s=128&d=identicon&r=PG", "display_name": "lurix66", "link": "https://stackoverflow.com/users/5341377/lurix66"}, "edited": false, "score": 0, "creation_date": 1450342356, "post_id": 34320587, "comment_id": 56401903, "body": "Thank you Mark, this definitely teaches me two things, that warnings have their own behaviour, and that <code>a+=b</code> statements <i>might or might not be really in-place</i>. As a user, I am somehow uncomfortable with the end result: it needs me to know too much Python&#39;s internals. A better behaviour would be, from my point of view, that any lhs variable is automatically cast to complex, in a consistent way, i.e. being it a scalar or not. I understand that it is a delicate decision, as it could open compatibility issues (as @ecatmur pointed out, see below)"}, {"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "reply_to_user": {"reputation": 370, "user_id": 5341377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6edeabc39f3652e68da9874b7e0b840f?s=128&d=identicon&r=PG", "display_name": "lurix66", "link": "https://stackoverflow.com/users/5341377/lurix66"}, "edited": false, "score": 0, "creation_date": 1450342556, "post_id": 34320587, "comment_id": 56402031, "body": "@lurix66: Yeah, the syntactic ambiguity of the <code>+=</code> notation in the Python language has bothered me for a long time. Put it down to &quot;Practicality beats Purity&quot;."}], "tags": [], "owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "is_accepted": true, "score": 1, "last_activity_date": 1450294493, "creation_date": 1450294493, "answer_id": 34320587, "question_id": 34320048, "link": "https://stackoverflow.com/questions/34320048/python3-numpy-in-place-addition-inconsistency-when-adding-a-complex-number/34320587#34320587", "title": "python3/numpy: in place addition inconsistency when adding a complex number", "body": "<p>The warning is issued <em>every</em> time by NumPy, but Python's general warnings machinery by default only prints the warning the first time it's issued.  You can change this behaviour using <code>warnings.filterwarnings</code> or <code>warnings.simplefilter</code>. See the <a href=\"https://docs.python.org/3.5/library/warnings.html#warnings.filterwarnings\" rel=\"nofollow\">warnings module documentation</a> for more information.</p>\n\n<p>Here's an example (with Python 2.7 and NumPy 1.9), showing that the warning is being issued for each one of the in-place operations.</p>\n\n<pre><code>Python 2.7.10 |Master 2.1.0.dev1829 (64-bit)| (default, Oct 21 2015, 09:09:19) \n[GCC 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.6)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from numpy import *\n&gt;&gt;&gt; import warnings\n&gt;&gt;&gt; warnings.simplefilter('always', ComplexWarning)\n&gt;&gt;&gt; a5 = arange(5)\n&gt;&gt;&gt; a5[1:5] += 1j\n__main__:1: ComplexWarning: Casting complex values to real discards the imaginary part\n&gt;&gt;&gt; a5\narray([0, 1, 2, 3, 4])\n&gt;&gt;&gt; a5 += 1j\n__main__:1: ComplexWarning: Casting complex values to real discards the imaginary part\n&gt;&gt;&gt; a5[3] += 1j\n__main__:1: ComplexWarning: Casting complex values to real discards the imaginary part\n</code></pre>\n\n<p>The scalar addition that you show is a different beast altogether.</p>\n\n<pre><code>&gt;&gt;&gt; a = 8\n&gt;&gt;&gt; a += 1j\n</code></pre>\n\n<p>In this case, the <code>+=</code> operation is not doing an in-place operation (it can't, since after the first line, <code>a</code> is a Python <code>int</code>, and unlike NumPy arrays, <code>int</code> objects are immutable). Instead, it's equivalent to doing <code>a = a + 1j</code>. That's constructing a <em>new</em> Python <code>complex</code> object, and rebinding <code>a</code> to refer to that new object.</p>\n\n<p>You say you \"barely can stand the fact that it doesn't make the addition\". But note that there's no way to efficiently do so: the contents of the original array are stored using 8-bytes per item. The contents of the sum are (double-precision) complex numbers, so would have to be stored using 16 bytes per item. That makes a true in-place operation impossible here.</p>\n\n<p>Note that in NumPy 1.10, these operations will produce a <code>TypeError</code> rather than a warning.</p>\n"}], "owner": {"reputation": 370, "user_id": 5341377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6edeabc39f3652e68da9874b7e0b840f?s=128&d=identicon&r=PG", "display_name": "lurix66", "link": "https://stackoverflow.com/users/5341377/lurix66"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 34320587, "answer_count": 2, "score": 0, "last_activity_date": 1450294493, "creation_date": 1450292570, "last_edit_date": 1495540749, "question_id": 34320048, "link": "https://stackoverflow.com/questions/34320048/python3-numpy-in-place-addition-inconsistency-when-adding-a-complex-number", "title": "python3/numpy: in place addition inconsistency when adding a complex number", "body": "<p>I was testing a piece of code and encountered the following behaviour. Although I have found an explanation and a solution myself (<a href=\"https://stackoverflow.com/questions/20078700/complex-number-troubles-with-numpy\">this</a> looks related although not same), I'd like to ask here if anybody of you has more to add. </p>\n\n<p>a) I cannot in-place-add a complex number to a numpy array that was\n    created as real, but I can do it with a scalar variable</p>\n\n<p>b) warning messages are issued only in a limited number of cases,\n    and not very consistently</p>\n\n<p>Take a look at these commands:</p>\n\n<pre><code>&gt;&gt;&gt; from numpy import *\n&gt;&gt;&gt; a5=arange(5)\n&gt;&gt;&gt; a5[1:5]+=1j\n&gt;&gt;&gt; a5\narray([0, 1, 2, 3, 4])\n&gt;&gt;&gt; a=8\n&gt;&gt;&gt; a+=1j\n&gt;&gt;&gt; a\n(8+1j)\n&gt;&gt;&gt; a5+=1j\n__main__:1: ComplexWarning: Casting complex values to real discards the imaginary part\n&gt;&gt;&gt; a5[3]+=1j\n&gt;&gt;&gt; a5[3]\n3\n&gt;&gt;&gt; \n</code></pre>\n\n<p>You see? A <code>ComplexWarning</code> was issued only when trying to add a complex to the whole vector, but not when attempting the same in place addition to a single element or a slice.</p>\n\n<p>Is there a reason for this? (I barely can stand the fact that it doesn't make the addition, but certainly not the fact that the warning is issued only in one case).\nIs this a bug or a feature? \nHow can it be best overcome?\nAt least, wouldn't it be better that the ComplexWarning appear in all cases when the imaginary part is discarded for incompatibility?</p>\n\n<p>PS. Meanwhile I provide a solution:\n<code>z5=arange(5)+0j</code> and <code>c5=arange(5,dtype=\"complex\")</code>, will both behave as intended. But the first is is only partial relief, as it shows that a numpy range of integers CAN be added and assigned to a variable, provided that it is a complex one, or a new one being created.  </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1450292658, "post_id": 34319971, "comment_id": 56381819, "body": "I think all is hidden <a href=\"https://github.com/pydata/pandas/blob/master/pandas/core/groupby.py\" rel=\"nofollow noreferrer\">here</a>. 4210 lines."}, {"owner": {"reputation": 9097, "user_id": 368311, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/5db52f950caf13b2702499daab09ddfe?s=128&d=identicon&r=PG&f=1", "display_name": "itzy", "link": "https://stackoverflow.com/users/368311/itzy"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1450299439, "post_id": 34319971, "comment_id": 56385662, "body": "Thanks. I&#39;m hoping perhaps someone who has a good understanding of this could summarize though. My python is not quite up to the level of being able to understand what the source is doing, but it&#39;s certainly a good learning opportunity."}], "answers": [{"tags": [], "owner": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "is_accepted": false, "score": 3, "last_activity_date": 1450360750, "last_edit_date": 1450360750, "creation_date": 1450305682, "answer_id": 34323537, "question_id": 34319971, "link": "https://stackoverflow.com/questions/34319971/how-do-aggregate-functions-in-pandas-work/34323537#34323537", "title": "How do aggregate functions in pandas work?", "body": "<p>My two cents:</p>\n\n<p><code>agg(F)</code> simply calls <code>aggregate(F)</code>. Firstly, <code>aggregate()</code> will be determined if <code>F</code> is <code>cython</code> function (or an equivalent <code>cython</code> function exists).  If so, <code>aggregate(F)</code> becomes a call to the <code>.F</code> method of the <code>groupby</code> object, which is an optimized <code>cython</code> method.  There are only a number of functions that will be treated this way, the full list is defined by <code>_cython_table</code> dictionary towards the very end of the source code. <code>sum</code> is one of them.</p>\n\n<p>Obviously, using <code>cython</code> function means things tends to run faster.  With <code>.agg(F)</code>, however, it will need to run a few more lines of codes, and therefore is going to be slightly slower than <code>.F()</code>, even <code>F</code> is in the <code>_cython_table</code> and a <code>.F</code> method exsits.</p>\n\n<p><code>apply(F)</code> calles <code>_python_apply_general</code>.  As the name implies, it is ageneral propose method.  Under the hood, it does not attempt checking if a faster <code>cython</code> version of aggerate function exists.  It applies <code>F</code> to each group and assembles the results together, which means it would run slower than the optimized <code>cython</code> version equivalent (such as <code>.sum</code>).</p>\n\n<p>Finally, <code>apply(lambda x: F(x))</code> will be slightly slower than <code>apply(F)</code> due to the additional <code>lambda</code> function.</p>\n"}], "owner": {"reputation": 9097, "user_id": 368311, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/5db52f950caf13b2702499daab09ddfe?s=128&d=identicon&r=PG&f=1", "display_name": "itzy", "link": "https://stackoverflow.com/users/368311/itzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1450360750, "creation_date": 1450292285, "question_id": 34319971, "link": "https://stackoverflow.com/questions/34319971/how-do-aggregate-functions-in-pandas-work", "title": "How do aggregate functions in pandas work?", "body": "<p>I'm trying to understand what is going on under the hood with <code>groupby</code> and aggregating functions in pandas. For example, here are timing results for 4 different ways to get sum by group:</p>\n\n<pre><code>df = pd.DataFrame({'a': np.random.randint(0,3,10),\n                   'b': np.random.rand(10)})\n\n%timeit df.groupby('a')['b'].sum()\n1000 loops, best of 3: 287 \u00b5s per loop\n\n%timeit df.groupby('a')['b'].agg(sum)\n1000 loops, best of 3: 296 \u00b5s per loop\n\n%timeit df.groupby('a')['b'].apply(sum)\n1000 loops, best of 3: 700 \u00b5s per loop\n\n%timeit df.groupby('a')['b'].apply(lambda x: x.sum())\n1000 loops, best of 3: 743 \u00b5s per loop\n</code></pre>\n\n<p>From time alone, it looks like <code>.sum()</code> and <code>.agg(sum)</code> are pretty similar, but <code>.apply(sum)</code> and <code>.apply(lambda x: x.sum())</code> take more than twice as long.</p>\n\n<p>Are these doing very different things in the background?</p>\n"}, {"tags": ["python", "ansible", "ansible-playbook"], "comments": [{"owner": {"reputation": 3223, "user_id": 501979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e705bcc10f6b8b5e04104546ea523d7?s=128&d=identicon&r=PG", "display_name": "Ali Nikneshan", "link": "https://stackoverflow.com/users/501979/ali-nikneshan"}, "edited": false, "score": 0, "creation_date": 1450293399, "post_id": 34319953, "comment_id": 56382229, "body": "can you use absolute path for logging? this may cause the issue"}], "answers": [{"tags": [], "owner": {"reputation": 39151, "user_id": 2291321, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24a41cddd8faf69e3fbd0a778ba6fedf?s=128&d=identicon&r=PG&f=1", "display_name": "ydaetskcoR", "link": "https://stackoverflow.com/users/2291321/ydaetskcor"}, "is_accepted": false, "score": 0, "last_activity_date": 1450295798, "creation_date": 1450295798, "answer_id": 34320944, "question_id": 34319953, "link": "https://stackoverflow.com/questions/34319953/ansible-remote-script-executions-log-in-local-machine/34320944#34320944", "title": "ansible remote script execution&#39;s log in local machine", "body": "<p>The <a href=\"http://docs.ansible.com/ansible/script_module.html\" rel=\"nofollow\">script module</a> copies a script that is local to the Ansible machine and copies it to the remote node and then executes it.</p>\n\n<p>If you want to execute a script that is already on the remote node then you could instead use either the <a href=\"http://docs.ansible.com/ansible/command_module.html\" rel=\"nofollow\">command</a> or <a href=\"http://docs.ansible.com/ansible/shell_module.html\" rel=\"nofollow\">shell</a> modules to trigger the script.</p>\n\n<p>Alternatively you could first use a <a href=\"http://docs.ansible.com/ansible/fetch_module.html\" rel=\"nofollow\">fetch</a> task to retrieve the file from the remote node and then use the script task to copy it back and then execute it. I'm struggling to think of a reason to do it this way rather than via a command/shell task though.</p>\n"}, {"tags": [], "owner": {"reputation": 3725, "user_id": 3276583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6rxO.png?s=128&g=1", "display_name": "nikobelia", "link": "https://stackoverflow.com/users/3276583/nikobelia"}, "is_accepted": false, "score": 0, "last_activity_date": 1450297263, "creation_date": 1450297263, "answer_id": 34321345, "question_id": 34319953, "link": "https://stackoverflow.com/questions/34319953/ansible-remote-script-executions-log-in-local-machine/34321345#34321345", "title": "ansible remote script execution&#39;s log in local machine", "body": "<p>There is no simple way of writing to a log file on a local machine from a script Ansible runs - Ansible copies the script over through its SSH connection, then executes it from the remote host.</p>\n\n<p>As @ydaetskcoR says in their answer, one solution is to write the log to a remote file and use the fetch module to retrieve it. </p>\n\n<p>Another option is to change the script to print log messages to stdout and stderr, then access the information that would have gone into a log from there - from the <code>output</code> variable you registered, you'd be able to access the contents with <code>debug: var=output.stdout_lines</code>, evaluate a conditional against the script's return code with <code>output.rc</code>, and more.</p>\n"}], "owner": {"reputation": 6140, "user_id": 488505, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/6b117484e3b1865d4c9ba1f88e4c73ec?s=128&d=identicon&r=PG", "display_name": "Chris_vr", "link": "https://stackoverflow.com/users/488505/chris-vr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1118, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1450342494, "creation_date": 1450292219, "last_edit_date": 1450342494, "question_id": 34319953, "link": "https://stackoverflow.com/questions/34319953/ansible-remote-script-executions-log-in-local-machine", "title": "ansible remote script execution&#39;s log in local machine", "body": "<p>I have python script which basically do verification of installed services in remote machine.This script will run in remote machine and I am using ansible to call this script.I having trouble in logging the script in to a file in local machine.    </p>\n\n<p><strong>test.yml (Ansible)</strong></p>\n\n<pre><code>      - name: Verifying route ,run script to analyse temp_route.txt file\n        script: /scripts/verify.py {{ prox1 }},{{ ip }} {{ ip }}\n        register: output\n</code></pre>\n\n<p><strong>verify.py</strong></p>\n\n<pre><code>#from pprint import pprint\nlogging.basicConfig(filename='script/logs/install.log',format='%(asctime)s | %(levelname)s | %(message)s', datefmt='%a %b %d %H:%M:%S %Z %Y', level=logging.INFO)\n\ndef func1():\n    ----do something\n    logging.info('%s %s',key, value)\n</code></pre>\n\n<p>All our script uses this way of logging ....other than this all script run locally.Only this one runs on remote machine.</p>\n\n<p>While running the script i get ansible error path not found.It seems it is searching path in remote machine which is not available     </p>\n\n<p><strong>UPDATED</strong>    </p>\n\n<p>I have machine A where all the script runs and I am launching a vm from that machine and configuring it using ansible. I have log file called install.log.\nAll the other script output the log in this file.I want my verify.py which will run on remote should also output log in install.log file</p>\n\n<p>Is this possible to do it through ansible ?</p>\n"}, {"tags": ["python", "regex", "python-3.x"], "comments": [{"owner": {"reputation": 3223, "user_id": 501979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e705bcc10f6b8b5e04104546ea523d7?s=128&d=identicon&r=PG", "display_name": "Ali Nikneshan", "link": "https://stackoverflow.com/users/501979/ali-nikneshan"}, "edited": false, "score": 0, "creation_date": 1450293729, "post_id": 34319948, "comment_id": 56382413, "body": "Please add test case for it."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1450294434, "post_id": 34319948, "comment_id": 56382839, "body": "What would a negative number of a&#39;s look like?"}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1450292529, "creation_date": 1450292529, "answer_id": 34320038, "question_id": 34319948, "link": "https://stackoverflow.com/questions/34319948/how-to-find-all-strings-of-non-negative-even-numbers-and-odd-number/34320038#34320038", "title": "How to find all strings of non-negative even numbers and odd number", "body": "<p>How about you search for all <code>a+b+</code> substrings and then filter them out checking how much <code>a</code>s and <code>b</code>s are there in the match:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; s = \"ab, aab, abb, aaaabbb, aabbb, test, ab, aabb\"\n&gt;&gt;&gt; [item for item, a, b in re.findall(r'((a+)(b+))', s) \n     if len(a) % 2 == 0 and len(b) % 2 != 0]\n['aab', 'aaaabbb', 'aabbb']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3223, "user_id": 501979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e705bcc10f6b8b5e04104546ea523d7?s=128&d=identicon&r=PG", "display_name": "Ali Nikneshan", "link": "https://stackoverflow.com/users/501979/ali-nikneshan"}, "is_accepted": false, "score": 2, "last_activity_date": 1450293991, "last_edit_date": 1450293991, "creation_date": 1450293691, "answer_id": 34320347, "question_id": 34319948, "link": "https://stackoverflow.com/questions/34319948/how-to-find-all-strings-of-non-negative-even-numbers-and-odd-number/34320347#34320347", "title": "How to find all strings of non-negative even numbers and odd number", "body": "<p>Even is <code>2n</code> and Odds <code>2n+1</code> so you can implement it like this:\n<code>\\b(aa)*b(bb)*\\b</code></p>\n\n<p><a href=\"https://regex101.com/r/wY3mE0/1\" rel=\"nofollow\">Check This</a></p>\n"}], "owner": {"reputation": 183, "user_id": 5586791, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/32d85e9d90002159e359b5af3ae6319d?s=128&d=identicon&r=PG&f=1", "display_name": "Miguel", "link": "https://stackoverflow.com/users/5586791/miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1450293991, "creation_date": 1450292209, "last_edit_date": 1450292554, "question_id": 34319948, "link": "https://stackoverflow.com/questions/34319948/how-to-find-all-strings-of-non-negative-even-numbers-and-odd-number", "title": "How to find all strings of non-negative even numbers and odd number", "body": "<p>I'm trying to find all strings of a non-negative even number of a's followed by an odd number of b's: aab, aaaabbb, aabbb...</p>\n\n<pre><code>[w for w in words.words() if re.search('(aa|bb)$',w)][:5]\n</code></pre>\n\n<p>really stuck any hints that I can use? </p>\n"}]